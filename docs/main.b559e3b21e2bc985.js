(self.webpackChunksct_implementation_demonstrator=self.webpackChunksct_implementation_demonstrator||[]).push([[792],{390:(Ms,rd,as)=>{"use strict";function uo(e,i,t,n,r,s,o){try{var p=e[s](o),C=p.value}catch(D){return void t(D)}p.done?i(C):Promise.resolve(C).then(n,r)}function de(e){return function(){var i=this,t=arguments;return new Promise(function(n,r){var s=e.apply(i,t);function o(C){uo(s,n,r,o,p,"next",C)}function p(C){uo(s,n,r,o,p,"throw",C)}o(void 0)})}}let k=null,a=!1,b=1;const T=Symbol("SIGNAL");function g(e){const i=k;return k=e,i}const d={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function m(e){if((!P(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==b)){if(!e.producerMustRecompute(e)&&!S(e))return e.dirty=!1,void(e.lastCleanEpoch=b);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=b}}function y(e){e.dirty=!0,function v(e){if(void 0===e.liveConsumerNode)return;const i=a;a=!0;try{for(const t of e.liveConsumerNode)t.dirty||y(t)}finally{a=i}}(e),e.consumerMarkedDirty?.(e)}function w(e){return e&&(e.nextProducerIndex=0),g(e)}function E(e,i){if(g(i),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(P(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)M(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function S(e){O(e);for(let i=0;i<e.producerNode.length;i++){const t=e.producerNode[i],n=e.producerLastReadVersion[i];if(n!==t.version||(m(t),n!==t.version))return!0}return!1}function A(e){if(O(e),P(e))for(let i=0;i<e.producerNode.length;i++)M(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function M(e,i){if(function N(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),O(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)M(e.producerNode[n],e.producerIndexOfThis[n]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[i],r=e.liveConsumerNode[i];O(r),r.producerIndexOfThis[n]=i}}function P(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function O(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let rt=null;const Yt=()=>{},$t={...d,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Yt};function ee(e){return"function"==typeof e}function le(e){const t=e(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const De=le(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function gi(e,i){if(e){const t=e.indexOf(i);0<=t&&e.splice(t,1)}}class Me{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(ee(n))try{n()}catch(s){i=s instanceof De?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ni(s)}catch(o){i=i??[],o instanceof De?i=[...i,...o.errors]:i.push(o)}}if(i)throw new De(i)}}add(i){var t;if(i&&i!==this)if(this.closed)ni(i);else{if(i instanceof Me){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(i)}}_hasParent(i){const{_parentage:t}=this;return t===i||Array.isArray(t)&&t.includes(i)}_addParent(i){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(i),t):t?[t,i]:i}_removeParent(i){const{_parentage:t}=this;t===i?this._parentage=null:Array.isArray(t)&&gi(t,i)}remove(i){const{_finalizers:t}=this;t&&gi(t,i),i instanceof Me&&i._removeParent(this)}}Me.EMPTY=(()=>{const e=new Me;return e.closed=!0,e})();const Ti=Me.EMPTY;function xe(e){return e instanceof Me||e&&"closed"in e&&ee(e.remove)&&ee(e.add)&&ee(e.unsubscribe)}function ni(e){ee(e)?e():e.unsubscribe()}const Qe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zi={setTimeout(e,i,...t){const{delegate:n}=zi;return n?.setTimeout?n.setTimeout(e,i,...t):setTimeout(e,i,...t)},clearTimeout(e){const{delegate:i}=zi;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function _n(e){zi.setTimeout(()=>{const{onUnhandledError:i}=Qe;if(!i)throw e;i(e)})}function er(){}const vn=ts("C",void 0,void 0);function ts(e,i,t){return{kind:e,value:i,error:t}}let An=null;function mr(e){if(Qe.useDeprecatedSynchronousErrorHandling){const i=!An;if(i&&(An={errorThrown:!1,error:null}),e(),i){const{errorThrown:t,error:n}=An;if(An=null,t)throw n}}else e()}class Rs extends Me{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,xe(i)&&i.add(this)):this.destination=EJ}static create(i,t,n){return new Eo(i,t,n)}next(i){this.isStopped?HE(function Rr(e){return ts("N",e,void 0)}(i),this):this._next(i)}error(i){this.isStopped?HE(function wn(e){return ts("E",void 0,e)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?HE(vn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sd=Function.prototype.bind;function zl(e,i){return sd.call(e,i)}class ad{constructor(i){this.partialObserver=i}next(i){const{partialObserver:t}=this;if(t.next)try{t.next(i)}catch(n){ml(n)}}error(i){const{partialObserver:t}=this;if(t.error)try{t.error(i)}catch(n){ml(n)}else ml(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(t){ml(t)}}}class Eo extends Rs{constructor(i,t,n){let r;if(super(),ee(i)||!i)r={next:i??void 0,error:t??void 0,complete:n??void 0};else{let s;this&&Qe.useDeprecatedNextContext?(s=Object.create(i),s.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&zl(i.next,s),error:i.error&&zl(i.error,s),complete:i.complete&&zl(i.complete,s)}):r=i}this.destination=new ad(r)}}function ml(e){Qe.useDeprecatedSynchronousErrorHandling?function jr(e){Qe.useDeprecatedSynchronousErrorHandling&&An&&(An.errorThrown=!0,An.error=e)}(e):_n(e)}function HE(e,i){const{onStoppedNotification:t}=Qe;t&&zi.setTimeout(()=>t(e,i))}const EJ={closed:!0,next:er,error:function _J(e){throw e},complete:er},WE="function"==typeof Symbol&&Symbol.observable||"@@observable";function pu(e){return e}function WO(e){return 0===e.length?pu:1===e.length?e[0]:function(t){return e.reduce((n,r)=>r(n),t)}}let lr=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(t,n,r){const s=function DJ(e){return e&&e instanceof Rs||function AJ(e){return e&&ee(e.next)&&ee(e.error)&&ee(e.complete)}(e)&&xe(e)}(t)?t:new Eo(t,n,r);return mr(()=>{const{operator:o,source:p}=this;s.add(o?o.call(s,p):p?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=XO(n))((r,s)=>{const o=new Eo({next:p=>{try{t(p)}catch(C){s(C),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[WE](){return this}pipe(...t){return WO(t)(this)}toPromise(t){return new(t=XO(t))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return e.create=i=>new e(i),e})();function XO(e){var i;return null!==(i=e??Qe.Promise)&&void 0!==i?i:Promise}const IJ=le(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ke=(()=>{class e extends lr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new jO(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new IJ}next(t){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(t)}})}error(t){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:r,observers:s}=this;return n||r?Ti:(this.currentObservers=null,s.push(t),new Me(()=>{this.currentObservers=null,gi(s,t)}))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:r,isStopped:s}=this;n?t.error(r):s&&t.complete()}asObservable(){const t=new lr;return t.source=this,t}}return e.create=(i,t)=>new jO(i,t),e})();class jO extends ke{constructor(i,t){super(),this.destination=i,this.source=t}next(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,i)}error(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,i)}complete(){var i,t;null===(t=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===t||t.call(i)}_subscribe(i){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(i))&&void 0!==n?n:Ti}}class Vr extends ke{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:n}=this;if(i)throw t;return this._throwIfClosed(),n}next(i){super.next(this._value=i)}}function YO(e){return ee(e?.lift)}function es(e){return i=>{if(YO(i))return i.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ur(e,i,t,n,r){return new MJ(e,i,t,n,r)}class MJ extends Rs{constructor(i,t,n,r,s,o){super(i),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(p){try{t(p)}catch(C){i.error(C)}}:super._next,this._error=r?function(p){try{r(p)}catch(C){i.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(p){i.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function Di(e,i){return es((t,n)=>{let r=0;t.subscribe(Ur(n,s=>{n.next(e.call(i,s,r++))}))})}const $O="https://g.co/ng/security#xss";class ue extends Error{constructor(i,t){super(function Sm(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}(i,t)),this.code=i}}function od(e){return{toString:e}.toString()}const Dm="__parameters__";function Mm(e,i,t){return od(()=>{const n=function XE(e){return function(...t){if(e){const n=e(...t);for(const r in n)this[r]=n[r]}}}(i);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return p.annotation=o,p;function p(C,D,R){const F=C.hasOwnProperty(Dm)?C[Dm]:Object.defineProperty(C,Dm,{value:[]})[Dm];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(o),C}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const cr=globalThis;function pr(e){for(let i in e)if(e[i]===pr)return i;throw Error("Could not find renamed property on target object.")}function RJ(e,i){for(const t in i)i.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function Gs(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Gs).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const t=i.indexOf("\n");return-1===t?i:i.substring(0,t)}function jE(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const kJ=pr({__forward_ref__:pr});function En(e){return e.__forward_ref__=En,e.toString=function(){return Gs(this())},e}function Hi(e){return Bb(e)?e():e}function Bb(e){return"function"==typeof e&&e.hasOwnProperty(kJ)&&e.__forward_ref__===En}function Ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Vb(e){return JO(e,zb)||JO(e,qO)}function JO(e,i){return e.hasOwnProperty(i)?e[i]:null}function Ub(e){return e&&(e.hasOwnProperty(YE)||e.hasOwnProperty(BJ))?e[YE]:null}const zb=pr({\u0275prov:pr}),YE=pr({\u0275inj:pr}),qO=pr({ngInjectableDef:pr}),BJ=pr({ngInjectorDef:pr});class qt{constructor(i,t){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function JE(e){return e&&!!e.\u0275providers}const Iv=pr({\u0275cmp:pr}),qE=pr({\u0275dir:pr}),tS=pr({\u0275pipe:pr}),eL=pr({\u0275mod:pr}),ld=pr({\u0275fac:pr}),Mv=pr({__NG_ELEMENT_ID__:pr}),iL=pr({__NG_ENV_ID__:pr});function tn(e){return"string"==typeof e?e:null==e?"":String(e)}function eS(e,i){throw new ue(-201,!1)}var Fn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Fn||{});let iS;function nL(){return iS}function So(e){const i=iS;return iS=e,i}function rL(e,i,t){const n=Vb(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&Fn.Optional?null:void 0!==i?i:void eS()}const Rv={},nS="__NG_DI_FLAG__",Gb="ngTempTokenPath",WJ=/\n/gm,sL="__source";let Rm;function vu(e){const i=Rm;return Rm=e,i}function YJ(e,i=Fn.Default){if(void 0===Rm)throw new ue(-203,!1);return null===Rm?rL(e,void 0,i):Rm.get(e,i&Fn.Optional?null:void 0,i)}function Kt(e,i=Fn.Default){return(nL()||YJ)(Hi(e),i)}function fe(e,i=Fn.Default){return Kt(e,Hb(i))}function Hb(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function rS(e){const i=[];for(let t=0;t<e.length;t++){const n=Hi(e[t]);if(Array.isArray(n)){if(0===n.length)throw new ue(900,!1);let r,s=Fn.Default;for(let o=0;o<n.length;o++){const p=n[o],C=$J(p);"number"==typeof C?-1===C?r=p.token:s|=C:r=p}i.push(Kt(r,s))}else i.push(Kt(n))}return i}function kv(e,i){return e[nS]=i,e.prototype[nS]=i,e}function $J(e){return e[nS]}const cd=kv(Mm("Optional"),8),Ph=kv(Mm("SkipSelf"),4);function Fh(e,i){return e.hasOwnProperty(ld)?e[ld]:null}function km(e,i){e.forEach(t=>Array.isArray(t)?km(t,i):i(t))}function oL(e,i,t){i>=e.length?e.push(t):e.splice(i,0,t)}function Wb(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function Wo(e,i,t){let n=Pm(e,i);return n>=0?e[1|n]=t:(n=~n,function lL(e,i,t,n){let r=e.length;if(r==i)e.push(t,n);else if(1===r)e.push(n,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>i;)e[r]=e[r-2],r--;e[i]=t,e[i+1]=n}}(e,n,i,t)),n}function aS(e,i){const t=Pm(e,i);if(t>=0)return e[1|t]}function Pm(e,i){return function cL(e,i,t){let n=0,r=e.length>>t;for(;r!==n;){const s=n+(r-n>>1),o=e[s<<t];if(i===o)return s<<t;o>i?r=s:n=s+1}return~(r<<t)}(e,i,1)}const fc={},$n=[],Oh=new qt(""),dL=new qt("",-1),oS=new qt("");class jb{get(i,t=Rv){if(t===Rv){const n=new Error(`NullInjectorError: No provider for ${Gs(i)}!`);throw n.name="NullInjectorError",n}return t}}var Yb=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Yb||{}),Gl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Gl||{}),Wt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Wt||{});function eq(e,i,t){let n=e.length;for(;;){const r=e.indexOf(i,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=i.length;if(r+s===n||e.charCodeAt(r+s)<=32)return r}t=r+1}}function lS(e,i,t){let n=0;for(;n<t.length;){const r=t[n];if("number"==typeof r){if(0!==r)break;n++;const s=t[n++],o=t[n++],p=t[n++];e.setAttribute(i,o,p,s)}else{const s=r,o=t[++n];hL(s)?e.setProperty(i,s,o):e.setAttribute(i,s,o),n++}}return n}function uL(e){return 3===e||4===e||6===e}function hL(e){return 64===e.charCodeAt(0)}function Pv(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let t=-1;for(let n=0;n<i.length;n++){const r=i[n];"number"==typeof r?t=r:0===t||fL(e,t,r,null,-1===t||2===t?i[++n]:null)}}return e}function fL(e,i,t,n,r){let s=0,o=e.length;if(-1===i)o=-1;else for(;s<e.length;){const p=e[s++];if("number"==typeof p){if(p===i){o=-1;break}if(p>i){o=s-1;break}}}for(;s<e.length;){const p=e[s];if("number"==typeof p)break;if(p===t){if(null===n)return void(null!==r&&(e[s+1]=r));if(n===e[s+1])return void(e[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,i),s=o+1),e.splice(s++,0,t),null!==n&&e.splice(s++,0,n),null!==r&&e.splice(s++,0,r)}const mL="ng-template";function iq(e,i,t,n){let r=0;if(n){for(;r<i.length&&"string"==typeof i[r];r+=2)if("class"===i[r]&&-1!==eq(i[r+1].toLowerCase(),t,0))return!0}else if(cS(e))return!1;if(r=i.indexOf(1,r),r>-1){let s;for(;++r<i.length&&"string"==typeof(s=i[r]);)if(s.toLowerCase()===t)return!0}return!1}function cS(e){return 4===e.type&&e.value!==mL}function nq(e,i,t){return i===(4!==e.type||t?e.value:mL)}function rq(e,i,t){let n=4;const r=e.attrs,s=null!==r?function oq(e){for(let i=0;i<e.length;i++)if(uL(e[i]))return i;return e.length}(r):0;let o=!1;for(let p=0;p<i.length;p++){const C=i[p];if("number"!=typeof C){if(!o)if(4&n){if(n=2|1&n,""!==C&&!nq(e,C,t)||""===C&&1===i.length){if(Hl(n))return!1;o=!0}}else if(8&n){if(null===r||!iq(e,r,C,t)){if(Hl(n))return!1;o=!0}}else{const D=i[++p],R=sq(C,r,cS(e),t);if(-1===R){if(Hl(n))return!1;o=!0;continue}if(""!==D){let F;if(F=R>s?"":r[R+1].toLowerCase(),2&n&&D!==F){if(Hl(n))return!1;o=!0}}}}else{if(!o&&!Hl(n)&&!Hl(C))return!1;if(o&&Hl(C))continue;o=!1,n=C|1&n}}return Hl(n)||o}function Hl(e){return!(1&e)}function sq(e,i,t,n){if(null===i)return-1;let r=0;if(n||!t){let s=!1;for(;r<i.length;){const o=i[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let p=i[++r];for(;"string"==typeof p;)p=i[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function lq(e,i){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const n=e[t];if("number"==typeof n)return-1;if(n===i)return t;t++}return-1}(i,e)}function pL(e,i,t=!1){for(let n=0;n<i.length;n++)if(rq(e,i[n],t))return!0;return!1}function cq(e,i){t:for(let t=0;t<i.length;t++){const n=i[t];if(e.length===n.length){for(let r=0;r<e.length;r++)if(e[r]!==n[r])continue t;return!0}}return!1}function gL(e,i){return e?":not("+i.trim()+")":i}function dq(e){let i=e[0],t=1,n=2,r="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&n){const p=e[++t];r+="["+o+(p.length>0?'="'+p+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!Hl(o)&&(i+=gL(s,r),r=""),n=o,s=s||!Hl(n);t++}return""!==r&&(i+=gL(s,r)),i}function He(e){return od(()=>{const i=xL(e),t={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Yb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gl.Emulated,styles:e.styles||$n,_:null,schemas:e.schemas||null,tView:null,id:""};yL(t);const n=e.dependencies;return t.directiveDefs=$b(n,!1),t.pipeDefs=$b(n,!0),t.id=function gq(e){let i=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)i=Math.imul(31,i)+r.charCodeAt(0)|0;return i+=2147483648,"c"+i}(t),t})}function fq(e){return Sn(e)||Hs(e)}function mq(e){return null!==e}function Li(e){return od(()=>({type:e.type,bootstrap:e.bootstrap||$n,declarations:e.declarations||$n,imports:e.imports||$n,exports:e.exports||$n,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function vL(e,i){if(null==e)return fc;const t={};for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];let s,o,p=Wt.None;Array.isArray(r)?(p=r[0],s=r[1],o=r[2]??s):(s=r,o=r),i?(t[s]=p!==Wt.None?[n,p]:n,i[s]=o):t[s]=n}return t}function ce(e){return od(()=>{const i=xL(e);return yL(i),i})}function Pa(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Sn(e){return e[Iv]||null}function Hs(e){return e[qE]||null}function ba(e){return e[tS]||null}function Fa(e,i){const t=e[eL]||null;if(!t&&!0===i)throw new Error(`Type ${Gs(e)} does not have '\u0275mod' property.`);return t}function xL(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||fc,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||$n,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vL(e.inputs,i),outputs:vL(e.outputs),debugInfo:null}}function yL(e){e.features?.forEach(i=>i(e))}function $b(e,i){if(!e)return null;const t=i?ba:fq;return()=>("function"==typeof e?e():e).map(n=>t(n)).filter(mq)}function vq(...e){return{\u0275providers:dS(0,e),\u0275fromNgModule:!0}}function dS(e,...i){const t=[],n=new Set;let r;const s=o=>{t.push(o)};return km(i,o=>{const p=o;Qb(p,s,[],n)&&(r||=[],r.push(p))}),void 0!==r&&bL(r,s),t}function bL(e,i){for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];uS(r,s=>{i(s,n)})}}function Qb(e,i,t,n){if(!(e=Hi(e)))return!1;let r=null,s=Ub(e);const o=!s&&Sn(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const C=e.ngModule;if(s=Ub(C),!s)return!1;r=C}const p=n.has(r);if(o){if(p)return!1;if(n.add(r),o.dependencies){const C="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const D of C)Qb(D,i,t,n)}}else{if(!s)return!1;{if(null!=s.imports&&!p){let D;n.add(r);try{km(s.imports,R=>{Qb(R,i,t,n)&&(D||=[],D.push(R))})}finally{}void 0!==D&&bL(D,i)}if(!p){const D=Fh(r)||(()=>new r);i({provide:r,useFactory:D,deps:$n},r),i({provide:oS,useValue:r,multi:!0},r),i({provide:Oh,useValue:()=>Kt(r),multi:!0},r)}const C=s.providers;if(null!=C&&!p){const D=e;uS(C,R=>{i(R,D)})}}}return r!==e&&void 0!==e.providers}function uS(e,i){for(let t of e)JE(t)&&(t=t.\u0275providers),Array.isArray(t)?uS(t,i):i(t)}const xq=pr({provide:String,useValue:pr});function hS(e){return null!==e&&"object"==typeof e&&xq in e}function Lh(e){return"function"==typeof e}const fS=new qt(""),Kb={},bq={};let mS;function Zb(){return void 0===mS&&(mS=new jb),mS}class Do{}class Fm extends Do{get destroyed(){return this._destroyed}constructor(i,t,n,r){super(),this.parent=t,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gS(i,o=>this.processProvider(o)),this.records.set(dL,Om(void 0,this)),r.has("environment")&&this.records.set(Do,Om(void 0,this));const s=this.records.get(fS);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(oS,$n,Fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=g(null);try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),g(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const t=vu(this),n=So(void 0);try{return i()}finally{vu(t),So(n)}}get(i,t=Rv,n=Fn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(iL))return i[iL](this);n=Hb(n);const s=vu(this),o=So(void 0);try{if(!(n&Fn.SkipSelf)){let C=this.records.get(i);if(void 0===C){const D=function Eq(e){return"function"==typeof e||"object"==typeof e&&e instanceof qt}(i)&&Vb(i);C=D&&this.injectableDefInScope(D)?Om(pS(i),Kb):null,this.records.set(i,C)}if(null!=C)return this.hydrate(i,C)}return(n&Fn.Self?Zb():this.parent).get(i,t=n&Fn.Optional&&t===Rv?null:t)}catch(p){if("NullInjectorError"===p.name){if((p[Gb]=p[Gb]||[]).unshift(Gs(i)),s)throw p;return function QJ(e,i,t,n){const r=e[Gb];throw i[sL]&&r.unshift(i[sL]),e.message=function KJ(e,i,t,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Gs(i);if(Array.isArray(i))r=i.map(Gs).join(" -> ");else if("object"==typeof i){let s=[];for(let o in i)if(i.hasOwnProperty(o)){let p=i[o];s.push(o+":"+("string"==typeof p?JSON.stringify(p):Gs(p)))}r=`{${s.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${e.replace(WJ,"\n  ")}`}("\n"+e.message,r,t,n),e.ngTokenPath=r,e[Gb]=null,e}(p,i,"R3InjectorError",this.source)}throw p}finally{So(o),vu(s)}}resolveInjectorInitializers(){const i=g(null),t=vu(this),n=So(void 0);try{const s=this.get(Oh,$n,Fn.Self);for(const o of s)o()}finally{vu(t),So(n),g(i)}}toString(){const i=[],t=this.records;for(const n of t.keys())i.push(Gs(n));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(i){let t=Lh(i=Hi(i))?i:Hi(i&&i.provide);const n=function Tq(e){return hS(e)?Om(void 0,e.useValue):Om(CL(e),Kb)}(i);if(!Lh(i)&&!0===i.multi){let r=this.records.get(t);r||(r=Om(void 0,Kb,!0),r.factory=()=>rS(r.multi),this.records.set(t,r)),t=i,r.multi.push(i)}this.records.set(t,n)}hydrate(i,t){const n=g(null);try{return t.value===Kb&&(t.value=bq,t.value=t.factory()),"object"==typeof t.value&&t.value&&function _q(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{g(n)}}injectableDefInScope(i){if(!i.providedIn)return!1;const t=Hi(i.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(i){const t=this._onDestroyHooks.indexOf(i);-1!==t&&this._onDestroyHooks.splice(t,1)}}function pS(e){const i=Vb(e),t=null!==i?i.factory:Fh(e);if(null!==t)return t;if(e instanceof qt)throw new ue(204,!1);if(e instanceof Function)return function wq(e){if(e.length>0)throw new ue(204,!1);const t=function NJ(e){return e&&(e[zb]||e[qO])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new ue(204,!1)}function CL(e,i,t){let n;if(Lh(e)){const r=Hi(e);return Fh(r)||pS(r)}if(hS(e))n=()=>Hi(e.useValue);else if(function TL(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...rS(e.deps||[]));else if(function wL(e){return!(!e||!e.useExisting)}(e))n=()=>Kt(Hi(e.useExisting));else{const r=Hi(e&&(e.useClass||e.provide));if(!function Cq(e){return!!e.deps}(e))return Fh(r)||pS(r);n=()=>new r(...rS(e.deps))}return n}function Om(e,i,t=!1){return{factory:e,value:i,multi:t?[]:void 0}}function gS(e,i){for(const t of e)Array.isArray(t)?gS(t,i):t&&JE(t)?gS(t.\u0275providers,i):i(t)}function mc(e,i){e instanceof Fm&&e.assertNotDestroyed();const n=vu(e),r=So(void 0);try{return i()}finally{vu(n),So(r)}}function _L(){return void 0!==nL()||null!=function jJ(){return Rm}()}function Jb(e){if(!_L())throw new ue(-203,!1)}const Yr=0,je=1,Fi=2,hs=3,Wl=4,Oa=5,Xo=6,Nm=7,kr=8,wa=9,Xl=10,ji=11,Lv=12,SL=13,Bm=14,is=15,Nv=16,Vm=17,dd=18,Bv=19,AL=20,yu=21,t1=22,Nh=23,en=25,xS=1,pc=7,Um=9,fs=10;var yS=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(yS||{});function La(e){return Array.isArray(e)&&"object"==typeof e[xS]}function Na(e){return Array.isArray(e)&&!0===e[xS]}function bS(e){return!!(4&e.flags)}function Bh(e){return e.componentOffset>-1}function n1(e){return!(1&~e.flags)}function jl(e){return!!e.template}function wS(e){return!!(512&e[Fi])}class Bq{constructor(i,t,n){this.previousValue=i,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function RL(e,i,t,n){null!==i?i.applyValueToInputSignal(i,n):e[t]=n}function nr(){return kL}function kL(e){return e.type.prototype.ngOnChanges&&(e.setInput=Uq),Vq}function Vq(){const e=FL(this),i=e?.current;if(i){const t=e.previous;if(t===fc)e.previous=i;else for(let n in i)t[n]=i[n];e.current=null,this.ngOnChanges(i)}}function Uq(e,i,t,n,r){const s=this.declaredInputs[n],o=FL(e)||function zq(e,i){return e[PL]=i}(e,{previous:fc,current:null}),p=o.current||(o.current={}),C=o.previous,D=C[s];p[s]=new Bq(D&&D.currentValue,t,C===fc),RL(e,i,r,t)}nr.ngInherit=!0;const PL="__ngSimpleChanges__";function FL(e){return e[PL]||null}const gc=function(e,i,t){},OL="svg";let NL=!1;function wr(e){for(;Array.isArray(e);)e=e[Yr];return e}function Uv(e,i){return wr(i[e])}function ho(e,i){return wr(i[e.index])}function zv(e,i){return e.data[i]}function zm(e,i){return e[i]}function jo(e,i){const t=i[e];return La(t)?t:t[Yr]}function SS(e){return!(128&~e[Fi])}function vc(e,i){return null==i?null:e[i]}function BL(e){e[Vm]=0}function Yq(e){1024&e[Fi]||(e[Fi]|=1024,SS(e)&&Gv(e))}function AS(e){return!!(9216&e[Fi]||e[Nh]?.dirty)}function DS(e){e[Xl].changeDetectionScheduler?.notify(1),AS(e)?Gv(e):64&e[Fi]&&(function Hq(){return NL}()?(e[Fi]|=1024,Gv(e)):e[Xl].changeDetectionScheduler?.notify())}function Gv(e){e[Xl].changeDetectionScheduler?.notify();let i=Vh(e);for(;null!==i&&!(8192&i[Fi])&&(i[Fi]|=8192,SS(i));)i=Vh(i)}function r1(e,i){if(!(256&~e[Fi]))throw new ue(911,!1);null===e[yu]&&(e[yu]=[]),e[yu].push(i)}function Vh(e){const i=e[hs];return Na(i)?i[hs]:i}const Yi={lFrame:$L(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zL(){return Yi.bindingsEnabled}function Gm(){return null!==Yi.skipHydrationRootTNode}function ve(){return Yi.lFrame.lView}function On(){return Yi.lFrame.tView}function Ut(e){return Yi.lFrame.contextLView=e,e[kr]}function zt(e){return Yi.lFrame.contextLView=null,e}function gr(){let e=GL();for(;null!==e&&64===e.type;)e=e.parent;return e}function GL(){return Yi.lFrame.currentTNode}function xc(e,i){const t=Yi.lFrame;t.currentTNode=e,t.isParent=i}function MS(){return Yi.lFrame.isParent}function RS(){Yi.lFrame.isParent=!1}function fo(){const e=Yi.lFrame;let i=e.bindingRootIndex;return-1===i&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function ud(){return Yi.lFrame.bindingIndex}function Yl(){return Yi.lFrame.bindingIndex++}function hd(e){const i=Yi.lFrame,t=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,t}function rtt(e,i){const t=Yi.lFrame;t.bindingIndex=t.bindingRootIndex=e,kS(i)}function kS(e){Yi.lFrame.currentDirectiveIndex=e}function PS(e){const i=Yi.lFrame.currentDirectiveIndex;return-1===i?null:e[i]}function FS(){return Yi.lFrame.currentQueryIndex}function s1(e){Yi.lFrame.currentQueryIndex=e}function att(e){const i=e[je];return 2===i.type?i.declTNode:1===i.type?e[Oa]:null}function jL(e,i,t){if(t&Fn.SkipSelf){let r=i,s=e;for(;!(r=r.parent,null!==r||t&Fn.Host||(r=att(s),null===r||(s=s[Bm],10&r.type))););if(null===r)return!1;i=r,e=s}const n=Yi.lFrame=YL();return n.currentTNode=i,n.lView=e,!0}function OS(e){const i=YL(),t=e[je];Yi.lFrame=i,i.currentTNode=t.firstChild,i.lView=e,i.tView=t,i.contextLView=e,i.bindingIndex=t.bindingStartIndex,i.inI18n=!1}function YL(){const e=Yi.lFrame,i=null===e?null:e.child;return null===i?$L(e):i}function $L(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function QL(){const e=Yi.lFrame;return Yi.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const KL=QL;function LS(){const e=QL();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ba(){return Yi.lFrame.selectedIndex}function Uh(e){Yi.lFrame.selectedIndex=e}function Pr(){const e=Yi.lFrame;return zv(e.tView,e.selectedIndex)}function Yo(){Yi.lFrame.currentNamespace=OL}function Wv(){!function ctt(){Yi.lFrame.currentNamespace=null}()}let JL=!0;function Xv(){return JL}function yc(e){JL=e}function a1(e,i){for(let t=i.directiveStart,n=i.directiveEnd;t<n;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:p,ngAfterViewInit:C,ngAfterViewChecked:D,ngOnDestroy:R}=s;o&&(e.contentHooks??=[]).push(-t,o),p&&((e.contentHooks??=[]).push(t,p),(e.contentCheckHooks??=[]).push(t,p)),C&&(e.viewHooks??=[]).push(-t,C),D&&((e.viewHooks??=[]).push(t,D),(e.viewCheckHooks??=[]).push(t,D)),null!=R&&(e.destroyHooks??=[]).push(t,R)}}function o1(e,i,t){qL(e,i,3,t)}function l1(e,i,t,n){(3&e[Fi])===t&&qL(e,i,t,n)}function NS(e,i){let t=e[Fi];(3&t)===i&&(t&=16383,t+=1,e[Fi]=t)}function qL(e,i,t,n){const s=n??-1,o=i.length-1;let p=0;for(let C=void 0!==n?65535&e[Vm]:0;C<o;C++)if("number"==typeof i[C+1]){if(p=i[C],null!=n&&p>=n)break}else i[C]<0&&(e[Vm]+=65536),(p<s||-1==s)&&(utt(e,t,i,C),e[Vm]=(4294901760&e[Vm])+C+2),C++}function tN(e,i){gc(4,e,i);const t=g(null);try{i.call(e)}finally{g(t),gc(5,e,i)}}function utt(e,i,t,n){const r=t[n]<0,s=t[n+1],p=e[r?-t[n]:t[n]];r?e[Fi]>>14<e[Vm]>>16&&(3&e[Fi])===i&&(e[Fi]+=16384,tN(p,s)):tN(p,s)}const Hm=-1;class jv{constructor(i,t,n){this.factory=i,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function VS(e){return e!==Hm}function Yv(e){return 32767&e}function $v(e,i){let t=function gtt(e){return e>>16}(e),n=i;for(;t>0;)n=n[Bm],t--;return n}let US=!0;function c1(e){const i=US;return US=e,i}const eN=255,iN=5;let vtt=0;const bc={};function d1(e,i){const t=nN(e,i);if(-1!==t)return t;const n=i[je];n.firstCreatePass&&(e.injectorIndex=i.length,zS(n.data,e),zS(i,null),zS(n.blueprint,null));const r=u1(e,i),s=e.injectorIndex;if(VS(r)){const o=Yv(r),p=$v(r,i),C=p[je].data;for(let D=0;D<8;D++)i[s+D]=p[o+D]|C[o+D]}return i[s+8]=r,s}function zS(e,i){e.push(0,0,0,0,0,0,0,0,i)}function nN(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function u1(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,n=null,r=i;for(;null!==r;){if(n=dN(r),null===n)return Hm;if(t++,r=r[Bm],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return Hm}function GS(e,i,t){!function xtt(e,i,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(Mv)&&(n=t[Mv]),null==n&&(n=t[Mv]=vtt++);const r=n&eN;i.data[e+(r>>iN)]|=1<<r}(e,i,t)}function rN(e,i,t){if(t&Fn.Optional||void 0!==e)return e;eS()}function sN(e,i,t,n){if(t&Fn.Optional&&void 0===n&&(n=null),!(t&(Fn.Self|Fn.Host))){const r=e[wa],s=So(void 0);try{return r?r.get(i,n,t&Fn.Optional):rL(i,n,t&Fn.Optional)}finally{So(s)}}return rN(n,0,t)}function aN(e,i,t,n=Fn.Default,r){if(null!==e){if(2048&i[Fi]&&!(n&Fn.Self)){const o=function Ctt(e,i,t,n,r){let s=e,o=i;for(;null!==s&&null!==o&&2048&o[Fi]&&!(512&o[Fi]);){const p=oN(s,o,t,n|Fn.Self,bc);if(p!==bc)return p;let C=s.parent;if(!C){const D=o[AL];if(D){const R=D.get(t,bc,n);if(R!==bc)return R}C=dN(o),o=o[Bm]}s=C}return r}(e,i,t,n,bc);if(o!==bc)return o}const s=oN(e,i,t,n,bc);if(s!==bc)return s}return sN(i,t,n,r)}function oN(e,i,t,n,r){const s=function wtt(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(Mv)?e[Mv]:void 0;return"number"==typeof i?i>=0?i&eN:Ttt:i}(t);if("function"==typeof s){if(!jL(i,e,n))return n&Fn.Host?rN(r,0,n):sN(i,t,n,r);try{let o;if(o=s(n),null!=o||n&Fn.Optional)return o;eS()}finally{KL()}}else if("number"==typeof s){let o=null,p=nN(e,i),C=Hm,D=n&Fn.Host?i[is][Oa]:null;for((-1===p||n&Fn.SkipSelf)&&(C=-1===p?u1(e,i):i[p+8],C!==Hm&&cN(n,!1)?(o=i[je],p=Yv(C),i=$v(C,i)):p=-1);-1!==p;){const R=i[je];if(lN(s,p,R.data)){const F=btt(p,i,t,o,n,D);if(F!==bc)return F}C=i[p+8],C!==Hm&&cN(n,i[je].data[p+8]===D)&&lN(s,p,i)?(o=R,p=Yv(C),i=$v(C,i)):p=-1}}return r}function btt(e,i,t,n,r,s){const o=i[je],p=o.data[e+8],R=h1(p,o,t,null==n?Bh(p)&&US:n!=o&&!!(3&p.type),r&Fn.Host&&s===p);return null!==R?zh(i,o,R,p):bc}function h1(e,i,t,n,r){const s=e.providerIndexes,o=i.data,p=1048575&s,C=e.directiveStart,R=s>>20,B=r?p+R:e.directiveEnd;for(let V=n?p:p+R;V<B;V++){const X=o[V];if(V<C&&t===X||V>=C&&X.type===t)return V}if(r){const V=o[C];if(V&&jl(V)&&V.type===t)return C}return null}function zh(e,i,t,n){let r=e[t];const s=i.data;if(function htt(e){return e instanceof jv}(r)){const o=r;o.resolving&&function zJ(e,i){throw i&&i.join(" > "),new ue(-200,e)}(function ir(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():tn(e)}(s[t]));const p=c1(o.canSeeViewProviders);o.resolving=!0;const D=o.injectImpl?So(o.injectImpl):null;jL(e,n,Fn.Default);try{r=e[t]=o.factory(void 0,s,e,n),i.firstCreatePass&&t>=n.directiveStart&&function dtt(e,i,t){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=i.type.prototype;if(n){const o=kL(i);(t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o)}r&&(t.preOrderHooks??=[]).push(0-e,r),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],i)}finally{null!==D&&So(D),c1(p),o.resolving=!1,KL()}}return r}function lN(e,i,t){return!!(t[i+(e>>iN)]&1<<e)}function cN(e,i){return!(e&Fn.Self||e&Fn.Host&&i)}class Xs{constructor(i,t){this._tNode=i,this._lView=t}get(i,t,n){return aN(this._tNode,this._lView,i,Hb(n),t)}}function Ttt(){return new Xs(gr(),ve())}function xn(e){return od(()=>{const i=e.prototype.constructor,t=i[ld]||HS(i),n=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){const s=r[ld]||HS(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function HS(e){return Bb(e)?()=>{const i=HS(Hi(e));return i&&i()}:Fh(e)}function dN(e){const i=e[je],t=i.type;return 2===t?i.declTNode:1===t?e[Oa]:null}function $o(e){return function ytt(e,i){if("class"===i)return e.classes;if("style"===i)return e.styles;const t=e.attrs;if(t){const n=t.length;let r=0;for(;r<n;){const s=t[r];if(uL(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof t[r];)r++;else{if(s===i)return t[r+1];r+=2}}}return null}(gr(),e)}function pN(e,i=null,t=null,n){const r=gN(e,i,t,n);return r.resolveInjectorInitializers(),r}function gN(e,i=null,t=null,n,r=new Set){const s=[t||$n,vq(e)];return n=n||("object"==typeof e?void 0:Gs(e)),new Fm(s,i||Zb(),n||null,r)}let $r=(()=>{class e{static#t=this.THROW_IF_NOT_FOUND=Rv;static#e=this.NULL=new jb;static create(t,n){if(Array.isArray(t))return pN({name:""},n,t,"");{const r=t.name??"";return pN({name:r},t.parent,t.providers,r)}}static#i=this.\u0275prov=Ce({token:e,providedIn:"any",factory:()=>Kt(dL)});static#n=this.__NG_ELEMENT_ID__=-1}return e})();function XS(e){return e.ngOriginalError}class Qo{constructor(){this._console=console}handleError(i){const t=this._findOriginalError(i);this._console.error("ERROR",i),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(i){let t=i&&XS(i);for(;t&&XS(t);)t=XS(t);return t||null}}const xN=new qt("",{providedIn:"root",factory:()=>fe(Qo).handleError.bind(void 0)});let jm=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=ktt;static#e=this.__NG_ENV_ID__=t=>t}return e})();class Rtt extends jm{constructor(i){super(),this._lView=i}onDestroy(i){return r1(this._lView,i),()=>function IS(e,i){if(null===e[yu])return;const t=e[yu].indexOf(i);-1!==t&&e[yu].splice(t,1)}(this._lView,i)}}function ktt(){return new Rtt(ve())}function Ptt(){return Ym(gr(),ve())}function Ym(e,i){return new ei(ho(e,i))}let ei=(()=>{class e{constructor(t){this.nativeElement=t}static#t=this.__NG_ELEMENT_ID__=Ptt}return e})();function bN(e){return e instanceof ei?e.nativeElement:e}function jS(e){return i=>{setTimeout(e,void 0,i)}}const Ae=class Ftt extends ke{constructor(i=!1){super(),this.destroyRef=void 0,this.__isAsync=i,_L()&&(this.destroyRef=fe(jm,{optional:!0})??void 0)}emit(i){const t=g(null);try{super.next(i)}finally{g(t)}}subscribe(i,t,n){let r=i,s=t||(()=>null),o=n;if(i&&"object"==typeof i){const C=i;r=C.next?.bind(C),s=C.error?.bind(C),o=C.complete?.bind(C)}this.__isAsync&&(s=jS(s),r&&(r=jS(r)),o&&(o=jS(o)));const p=super.subscribe({next:r,error:s,complete:o});return i instanceof Me&&i.add(p),p}};function Ott(){return this._results[Symbol.iterator]()}class bu{static#t=Symbol.iterator;get changes(){return this._changes??=new Ae}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=bu.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Ott)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,t){return this._results.reduce(i,t)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,t){this.dirty=!1;const n=function Ao(e){return e.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function tq(e,i,t){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=i[n];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function m1(e){return!(128&~e.flags)}const YS=new Map;let Ntt=0;const QS="__ngContext__";function Va(e,i){La(i)?(e[QS]=i[Bv],function Vtt(e){YS.set(e[Bv],e)}(i)):e[QS]=i}function MN(e){return kN(e[Lv])}function RN(e){return kN(e[Wl])}function kN(e){for(;null!==e&&!Na(e);)e=e[Wl];return e}let KS;function wu(){if(void 0!==KS)return KS;if(typeof document<"u")return document;throw new ue(210,!1)}const Zv=new qt("",{providedIn:"root",factory:()=>net}),net="ng",UN=new qt(""),fd=new qt("",{providedIn:"platform",factory:()=>"unknown"}),Sr=new qt(""),ZS=new qt("",{providedIn:"root",factory:()=>wu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zN=()=>null;function sA(e,i,t=!1){return zN(e,i,t)}const jN=new qt("",{providedIn:"root",factory:()=>!1});let C1,_1;function Km(e){return function cA(){if(void 0===C1&&(C1=null,cr.trustedTypes))try{C1=cr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return C1}()?.createHTML(e)||e}function $N(e){return function dA(){if(void 0===_1&&(_1=null,cr.trustedTypes))try{_1=cr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _1}()?.createHTML(e)||e}class Gh{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$O})`}}class xet extends Gh{getTypeName(){return"HTML"}}class yet extends Gh{getTypeName(){return"Style"}}class bet extends Gh{getTypeName(){return"Script"}}class wet extends Gh{getTypeName(){return"URL"}}class Tet extends Gh{getTypeName(){return"ResourceURL"}}function Ko(e){return e instanceof Gh?e.changingThisBreaksApplicationSecurity:e}function wc(e,i){const t=function Cet(e){return e instanceof Gh&&e.getTypeName()||null}(e);if(null!=t&&t!==i){if("ResourceURL"===t&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${t} (see ${$O})`)}return t===i}class Met{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const t=(new window.DOMParser).parseFromString(Km(i),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(i):(t.removeChild(t.firstChild),t)}catch{return null}}}class Ret{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const t=this.inertDocument.createElement("template");return t.innerHTML=Km(i),t}}const Pet=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function E1(e){return(e=String(e)).match(Pet)?e:"unsafe:"+e}function md(e){const i={};for(const t of e.split(","))i[t]=!0;return i}function n0(...e){const i={};for(const t of e)for(const n in t)t.hasOwnProperty(n)&&(i[n]=!0);return i}const JN=md("area,br,col,hr,img,wbr"),qN=md("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),t4=md("rp,rt"),uA=n0(JN,n0(qN,md("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),n0(t4,md("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),n0(t4,qN)),hA=md("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),e4=n0(hA,md("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),md("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fet=md("script,style,template");class Oet{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let t=i.firstChild,n=!0,r=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)r.push(t),t=Bet(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=Net(t);if(s){t=s;break}t=r.pop()}return this.buf.join("")}startElement(i){const t=n4(i).toLowerCase();if(!uA.hasOwnProperty(t))return this.sanitizedSomething=!0,!Fet.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=i.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,p=o.toLowerCase();if(!e4.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let C=s.value;hA[p]&&(C=E1(C)),this.buf.push(" ",o,'="',s4(C),'"')}return this.buf.push(">"),!0}endElement(i){const t=n4(i).toLowerCase();uA.hasOwnProperty(t)&&!JN.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(i){this.buf.push(s4(i))}}function Net(e){const i=e.nextSibling;if(i&&e!==i.previousSibling)throw r4(i);return i}function Bet(e){const i=e.firstChild;if(i&&function Let(e,i){return(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,i))throw r4(i);return i}function n4(e){const i=e.nodeName;return"string"==typeof i?i:"FORM"}function r4(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Vet=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uet=/([^\#-~ |!])/g;function s4(e){return e.replace(/&/g,"&amp;").replace(Vet,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Uet,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let S1;function a4(e,i){let t=null;try{S1=S1||function ZN(e){const i=new Ret(e);return function ket(){try{return!!(new window.DOMParser).parseFromString(Km(""),"text/html")}catch{return!1}}()?new Met(i):i}(e);let n=i?String(i):"";t=S1.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=t.innerHTML,t=S1.getInertBodyElement(n)}while(n!==s);return Km((new Oet).sanitizeChildren(fA(t)||t))}finally{if(t){const n=fA(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function fA(e){return"content"in e&&function zet(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ta=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ta||{});function Hh(e){const i=s0();return i?$N(i.sanitize(Ta.HTML,e)||""):wc(e,"HTML")?$N(Ko(e)):a4(wu(),tn(e))}function r0(e){const i=s0();return i?i.sanitize(Ta.URL,e)||"":wc(e,"URL")?Ko(e):E1(tn(e))}function s0(){const e=ve();return e&&e[Xl].sanitizer}const Yet=/^>|^->|<!--|-->|--!>|<!-$/g,$et=/(<|>)/g,Qet="\u200b$1\u200b";function Zo(e){return e instanceof Function?e():e}var Cu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Cu||{});let vA;function xA(e,i){return vA(e,i)}function Jm(e,i,t,n,r){if(null!=n){let s,o=!1;Na(n)?s=n:La(n)&&(o=!0,n=n[Yr]);const p=wr(n);0===e&&null!==t?null==r?b4(i,t,p):Wh(i,t,p,r||null,!0):1===e&&null!==t?Wh(i,t,p,r||null,!0):2===e?function l0(e,i,t){const n=R1(e,i);n&&function mit(e,i,t,n){e.removeChild(i,t,n)}(e,n,i,t)}(i,p,o):3===e&&i.destroyNode(p),null!=s&&function vit(e,i,t,n,r){const s=t[pc];s!==wr(t)&&Jm(i,e,n,s,r);for(let p=fs;p<t.length;p++){const C=t[p];P1(C[je],C,e,i,n,s)}}(i,e,s,t,r)}}function bA(e,i){return e.createComment(function c4(e){return e.replace(Yet,i=>i.replace($et,Qet))}(i))}function I1(e,i,t){return e.createElement(i,t)}function v4(e,i){i[Xl].changeDetectionScheduler?.notify(1),P1(e,i,i[ji],2,null,null)}function x4(e,i){const t=e[Um],n=t.indexOf(i);t.splice(n,1)}function a0(e,i){if(e.length<=fs)return;const t=fs+i,n=e[t];if(n){const r=n[Nv];null!==r&&r!==e&&x4(r,n),i>0&&(e[t-1][Wl]=n[Wl]);const s=Wb(e,fs+i);!function oit(e,i){v4(e,i),i[Yr]=null,i[Oa]=null}(n[je],n);const o=s[dd];null!==o&&o.detachView(s[je]),n[hs]=null,n[Wl]=null,n[Fi]&=-129}return n}function M1(e,i){if(!(256&i[Fi])){const t=i[ji];t.destroyNode&&P1(e,i,t,3,null,null),function cit(e){let i=e[Lv];if(!i)return wA(e[je],e);for(;i;){let t=null;if(La(i))t=i[Lv];else{const n=i[fs];n&&(t=n)}if(!t){for(;i&&!i[Wl]&&i!==e;)La(i)&&wA(i[je],i),i=i[hs];null===i&&(i=e),La(i)&&wA(i[je],i),t=i&&i[Wl]}i=t}}(i)}}function wA(e,i){if(256&i[Fi])return;const t=g(null);try{i[Fi]&=-129,i[Fi]|=256,i[Nh]&&A(i[Nh]),function fit(e,i){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let n=0;n<t.length;n+=2){const r=i[t[n]];if(!(r instanceof jv)){const s=t[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const p=r[s[o]],C=s[o+1];gc(4,p,C);try{C.call(p)}finally{gc(5,p,C)}}else{gc(4,r,s);try{s.call(r)}finally{gc(5,r,s)}}}}}(e,i),function hit(e,i){const t=e.cleanup,n=i[Nm];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else t[s].call(n[t[s+1]]);null!==n&&(i[Nm]=null);const r=i[yu];if(null!==r){i[yu]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,i),1===i[je].type&&i[ji].destroy();const n=i[Nv];if(null!==n&&Na(i[hs])){n!==i[hs]&&x4(n,i);const r=i[dd];null!==r&&r.detachView(e)}!function Utt(e){YS.delete(e[Bv])}(i)}finally{g(t)}}function TA(e,i,t){return function y4(e,i,t){let n=i;for(;null!==n&&40&n.type;)n=(i=n).parent;if(null===n)return t[Yr];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:s}=e.data[n.directiveStart+r];if(s===Gl.None||s===Gl.Emulated)return null}return ho(n,t)}}(e,i.parent,t)}function Wh(e,i,t,n,r){e.insertBefore(i,t,n,r)}function b4(e,i,t){e.appendChild(i,t)}function w4(e,i,t,n,r){null!==n?Wh(e,i,t,n,r):b4(e,i,t)}function R1(e,i){return e.parentNode(i)}function T4(e,i,t){return _4(e,i,t)}let CA,_4=function C4(e,i,t){return 40&e.type?ho(e,t):null};function k1(e,i,t,n){const r=TA(e,n,i),s=i[ji],p=T4(n.parent||i[Oa],n,i);if(null!=r)if(Array.isArray(t))for(let C=0;C<t.length;C++)w4(s,r,t[C],p,!1);else w4(s,r,t,p,!1);void 0!==CA&&CA(s,n,i,t,r)}function o0(e,i){if(null!==i){const t=i.type;if(3&t)return ho(i,e);if(4&t)return _A(-1,e[i.index]);if(8&t){const n=i.child;if(null!==n)return o0(e,n);{const r=e[i.index];return Na(r)?_A(-1,r):wr(r)}}if(32&t)return xA(i,e)()||wr(e[i.index]);{const n=S4(e,i);return null!==n?Array.isArray(n)?n[0]:o0(Vh(e[is]),n):o0(e,i.next)}}return null}function S4(e,i){return null!==i?e[is][Oa].projection[i.projection]:null}function _A(e,i){const t=fs+e+1;if(t<i.length){const n=i[t],r=n[je].firstChild;if(null!==r)return o0(n,r)}return i[pc]}function EA(e,i,t,n,r,s,o){for(;null!=t;){const p=n[t.index],C=t.type;if(o&&0===i&&(p&&Va(wr(p),n),t.flags|=2),32&~t.flags)if(8&C)EA(e,i,t.child,n,r,s,!1),Jm(i,e,r,p,s);else if(32&C){const D=xA(t,n);let R;for(;R=D();)Jm(i,e,r,R,s);Jm(i,e,r,p,s)}else 16&C?D4(e,i,n,t,r,s):Jm(i,e,r,p,s);t=o?t.projectionNext:t.next}}function P1(e,i,t,n,r,s){EA(t,n,e.firstChild,i,r,s,!1)}function D4(e,i,t,n,r,s){const o=t[is],C=o[Oa].projection[n.projection];if(Array.isArray(C))for(let D=0;D<C.length;D++)Jm(i,e,r,C[D],s);else{let D=C;const R=o[hs];m1(n)&&(D.flags|=128),EA(e,i,D,R,r,s,!0)}}function I4(e,i,t){""===t?e.removeAttribute(i,"class"):e.setAttribute(i,"class",t)}function M4(e,i,t){const{mergedAttrs:n,classes:r,styles:s}=t;null!==n&&lS(e,i,n),null!==r&&I4(e,i,r),null!==s&&function yit(e,i,t){e.setAttribute(i,"style",t)}(e,i,s)}const sn={};function ot(e=1){R4(On(),ve(),Ba()+e,!1)}function R4(e,i,t,n){if(!n)if(3&~i[Fi]){const s=e.preOrderHooks;null!==s&&l1(i,s,0,t)}else{const s=e.preOrderCheckHooks;null!==s&&o1(i,s,t)}Uh(t)}function ht(e,i=Fn.Default){const t=ve();return null===t?Kt(e,i):aN(gr(),t,Hi(e),i)}function F1(){throw new Error("invalid")}function k4(e,i,t,n,r,s){const o=g(null);try{let p=null;r&Wt.SignalBased&&(p=i[n][T]),null!==p&&void 0!==p.transformFn&&(s=p.transformFn(s)),r&Wt.HasDecoratorInputTransform&&(s=e.inputTransforms[n].call(i,s)),null!==e.setInput?e.setInput(i,p,s,t,n):RL(i,p,n,s)}finally{g(o)}}function O1(e,i,t,n,r,s,o,p,C,D,R){const F=i.blueprint.slice();return F[Yr]=r,F[Fi]=204|n,(null!==D||e&&2048&e[Fi])&&(F[Fi]|=2048),BL(F),F[hs]=F[Bm]=e,F[kr]=t,F[Xl]=o||e&&e[Xl],F[ji]=p||e&&e[ji],F[wa]=C||e&&e[wa]||null,F[Oa]=s,F[Bv]=function Btt(){return Ntt++}(),F[Xo]=R,F[AL]=D,F[is]=2==i.type?e[is]:F,F}function qm(e,i,t,n,r){let s=e.data[i];if(null===s)s=function SA(e,i,t,n,r){const s=GL(),o=MS(),C=e.data[i]=function Ait(e,i,t,n,r,s){let o=i?i.injectorIndex:-1,p=0;return Gm()&&(p|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,i,n,r);return null===e.firstChild&&(e.firstChild=C),null!==s&&(o?null==s.child&&null!==C.parent&&(s.child=C):null===s.next&&(s.next=C,C.prev=s)),C}(e,i,t,n,r),function ntt(){return Yi.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=n,s.attrs=r;const o=function Hv(){const e=Yi.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xc(s,!0),s}function c0(e,i,t,n){if(0===t)return-1;const r=i.length;for(let s=0;s<t;s++)i.push(n),e.blueprint.push(n),e.data.push(null);return r}function P4(e,i,t,n,r){const s=Ba(),o=2&n;try{Uh(-1),o&&i.length>en&&R4(e,i,en,!1),gc(o?2:0,r),t(n,r)}finally{Uh(s),gc(o?3:1,r)}}function AA(e,i,t){if(bS(i)){const n=g(null);try{const s=i.directiveEnd;for(let o=i.directiveStart;o<s;o++){const p=e.data[o];p.contentQueries&&p.contentQueries(1,t[o],o)}}finally{g(n)}}}function DA(e,i,t){zL()&&(function Fit(e,i,t,n){const r=t.directiveStart,s=t.directiveEnd;Bh(t)&&function zit(e,i,t){const n=ho(i,e),r=F4(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const p=L1(e,O1(e,r,null,o,n,i,null,e[Xl].rendererFactory.createRenderer(n,t),null,null,null));e[i.index]=p}(i,t,e.data[r+t.componentOffset]),e.firstCreatePass||d1(t,i),Va(n,i);const o=t.initialInputs;for(let p=r;p<s;p++){const C=e.data[p],D=zh(i,e,p,t);Va(D,i),null!==o&&Git(0,p-r,D,C,0,o),jl(C)&&(jo(t.index,i)[kr]=zh(i,e,p,t))}}(e,i,t,ho(t,i)),!(64&~t.flags)&&V4(e,i,t))}function IA(e,i,t=ho){const n=i.localNames;if(null!==n){let r=i.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],p=-1===o?t(i,e):e[o];e[r++]=p}}}function F4(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=MA(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function MA(e,i,t,n,r,s,o,p,C,D,R){const F=en+n,B=F+r,V=function wit(e,i){const t=[];for(let n=0;n<i;n++)t.push(n<e?null:sn);return t}(F,B),X="function"==typeof D?D():D;return V[je]={type:e,blueprint:V,template:t,queries:null,viewQuery:p,declTNode:i,data:V.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:C,consts:X,incompleteFirstPass:!1,ssrId:R}}let O4=()=>null;function L4(e,i,t,n,r){for(let s in i){if(!i.hasOwnProperty(s))continue;const o=i[s];if(void 0===o)continue;n??={};let p,C=Wt.None;Array.isArray(o)?(p=o[0],C=o[1]):p=o;let D=s;if(null!==r){if(!r.hasOwnProperty(s))continue;D=r[s]}0===e?N4(n,t,D,p,C):N4(n,t,D,p)}return n}function N4(e,i,t,n,r){let s;e.hasOwnProperty(t)?(s=e[t]).push(i,n):s=e[t]=[i,n],void 0!==r&&s.push(r)}function Mo(e,i,t,n,r,s,o,p){const C=ho(i,t);let R,D=i.inputs;!p&&null!=D&&(R=D[n])?(OA(e,t,R,n,r),Bh(i)&&function Mit(e,i){const t=jo(i,e);16&t[Fi]||(t[Fi]|=64)}(t,i.index)):3&i.type&&(n=function Iit(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=o?o(r,i.value||"",n):r,s.setProperty(C,n,r))}function RA(e,i,t,n){if(zL()){const r=null===n?null:{"":-1},s=function Lit(e,i){const t=e.directiveRegistry;let n=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(pL(i,o.selectors,!1))if(n||(n=[]),jl(o))if(null!==o.findHostDirectiveDefs){const p=[];r=r||new Map,o.findHostDirectiveDefs(o,p,r),n.unshift(...p,o),kA(e,i,p.length)}else n.unshift(o),kA(e,i,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(e,t);let o,p;null===s?o=p=null:[o,p]=s,null!==o&&B4(e,i,t,o,r,p),r&&function Nit(e,i,t){if(i){const n=e.localNames=[];for(let r=0;r<i.length;r+=2){const s=t[i[r+1]];if(null==s)throw new ue(-301,!1);n.push(i[r],s)}}}(t,n,r)}t.mergedAttrs=Pv(t.mergedAttrs,t.attrs)}function B4(e,i,t,n,r,s){for(let D=0;D<n.length;D++)GS(d1(t,i),e,n[D].type);!function Vit(e,i,t){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+t,e.providerIndexes=i}(t,e.data.length,n.length);for(let D=0;D<n.length;D++){const R=n[D];R.providersResolver&&R.providersResolver(R)}let o=!1,p=!1,C=c0(e,i,n.length,null);for(let D=0;D<n.length;D++){const R=n[D];t.mergedAttrs=Pv(t.mergedAttrs,R.hostAttrs),Uit(e,t,i,C,R),Bit(C,R,r),null!==R.contentQueries&&(t.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(t.flags|=64);const F=R.type.prototype;!o&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),o=!0),!p&&(F.ngOnChanges||F.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),p=!0),C++}!function Dit(e,i,t){const r=i.directiveEnd,s=e.data,o=i.attrs,p=[];let C=null,D=null;for(let R=i.directiveStart;R<r;R++){const F=s[R],B=t?t.get(F):null,X=B?B.outputs:null;C=L4(0,F.inputs,R,C,B?B.inputs:null),D=L4(1,F.outputs,R,D,X);const J=null===C||null===o||cS(i)?null:Hit(C,R,o);p.push(J)}null!==C&&(C.hasOwnProperty("class")&&(i.flags|=8),C.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=p,i.inputs=C,i.outputs=D}(e,t,s)}function V4(e,i,t){const n=t.directiveStart,r=t.directiveEnd,s=t.index,o=function stt(){return Yi.lFrame.currentDirectiveIndex}();try{Uh(s);for(let p=n;p<r;p++){const C=e.data[p],D=i[p];kS(p),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Oit(C,D)}}finally{Uh(-1),kS(o)}}function Oit(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function kA(e,i,t){i.componentOffset=t,(e.components??=[]).push(i.index)}function Bit(e,i,t){if(t){if(i.exportAs)for(let n=0;n<i.exportAs.length;n++)t[i.exportAs[n]]=e;jl(i)&&(t[""]=e)}}function Uit(e,i,t,n,r){e.data[n]=r;const s=r.factory||(r.factory=Fh(r.type)),o=new jv(s,jl(r),ht);e.blueprint[n]=o,t[n]=o,function kit(e,i,t,n,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const p=~i.index;(function Pit(e){let i=e.length;for(;i>0;){const t=e[--i];if("number"==typeof t&&t<0)return t}return 0})(o)!=p&&o.push(p),o.push(t,n,s)}}(e,i,n,c0(e,t,r.hostVars,sn),r)}function Tc(e,i,t,n,r,s){const o=ho(e,i);!function PA(e,i,t,n,r,s,o){if(null==s)e.removeAttribute(i,r,t);else{const p=null==o?tn(s):o(s,n||"",r);e.setAttribute(i,r,p,t)}}(i[ji],o,s,e.value,t,n,r)}function Git(e,i,t,n,r,s){const o=s[i];if(null!==o)for(let p=0;p<o.length;)k4(n,t,o[p++],o[p++],o[p++],o[p++])}function Hit(e,i,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);const o=e[s];for(let p=0;p<o.length;p+=3)if(o[p]===i){n.push(s,o[p+1],o[p+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function U4(e,i,t,n){return[e,!0,0,i,null,n,null,t,null,null]}function z4(e,i){const t=e.contentQueries;if(null!==t){const n=g(null);try{for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const p=e.data[o];s1(t[r]),p.contentQueries(2,i[o],o)}}}finally{g(n)}}}function L1(e,i){return e[Lv]?e[SL][Wl]=i:e[Lv]=i,e[SL]=i,i}function FA(e,i,t){s1(0);const n=g(null);try{i(e,t)}finally{g(n)}}function G4(e){return e[Nm]||(e[Nm]=[])}function H4(e){return e.cleanup||(e.cleanup=[])}function W4(e,i,t){return(null===e||jl(e))&&(t=function ES(e){for(;Array.isArray(e);){if("object"==typeof e[xS])return e;e=e[Yr]}return null}(t[i.index])),t[ji]}function N1(e,i){const t=e[wa],n=t?t.get(Qo,null):null;n&&n.handleError(i)}function OA(e,i,t,n,r){for(let s=0;s<t.length;){const o=t[s++],p=t[s++],C=t[s++];k4(e.data[o],i[o],n,p,C,r)}}function pd(e,i,t){const n=Uv(i,e);!function g4(e,i,t){e.setValue(i,t)}(e[ji],n,t)}function Wit(e,i){const t=jo(i,e),n=t[je];!function Xit(e,i){for(let t=i.length;t<e.blueprint.length;t++)i.push(e.blueprint[t])}(n,t);const r=t[Yr];null!==r&&null===t[Xo]&&(t[Xo]=sA(r,t[wa])),LA(n,t,t[kr])}function LA(e,i,t){OS(i);try{const n=e.viewQuery;null!==n&&FA(1,n,t);const r=e.template;null!==r&&P4(e,i,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),i[dd]?.finishViewCreation(e),e.staticContentQueries&&z4(e,i),e.staticViewQueries&&FA(2,e.viewQuery,t);const s=e.components;null!==s&&function jit(e,i){for(let t=0;t<i.length;t++)Wit(e,i[t])}(i,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{i[Fi]&=-5,LS()}}function d0(e,i,t,n){const r=g(null);try{const s=i.tView,C=O1(e,s,t,4096&e[Fi]?4096:16,null,i,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null);C[Nv]=e[i.index];const R=e[dd];return null!==R&&(C[dd]=R.createEmbeddedView(s)),LA(s,C,t),C}finally{g(r)}}function X4(e,i){const t=fs+i;if(t<e.length)return e[t]}function tp(e,i){return!i||null===i.firstChild||m1(e)}function u0(e,i,t,n=!0){const r=i[je];if(function dit(e,i,t,n){const r=fs+n,s=t.length;n>0&&(t[r-1][Wl]=i),n<s-fs?(i[Wl]=t[r],oL(t,fs+n,i)):(t.push(i),i[Wl]=null),i[hs]=t;const o=i[Nv];null!==o&&t!==o&&function uit(e,i){const t=e[Um];i[is]!==i[hs][hs][is]&&(e[Fi]|=yS.HasTransplantedViews),null===t?e[Um]=[i]:t.push(i)}(o,i);const p=i[dd];null!==p&&p.insertView(e),DS(i),i[Fi]|=128}(r,i,e,t),n){const o=_A(t,e),p=i[ji],C=R1(p,e[pc]);null!==C&&function lit(e,i,t,n,r,s){n[Yr]=r,n[Oa]=i,P1(e,n,t,1,r,s)}(r,e[Oa],p,i,C,o)}const s=i[Xo];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function NA(e,i){const t=a0(e,i);return void 0!==t&&M1(t[je],t),t}function h0(e,i,t,n,r=!1){for(;null!==t;){const s=i[t.index];null!==s&&n.push(wr(s)),Na(s)&&j4(s,n);const o=t.type;if(8&o)h0(e,i,t.child,n);else if(32&o){const p=xA(t,i);let C;for(;C=p();)n.push(C)}else if(16&o){const p=S4(i,t);if(Array.isArray(p))n.push(...p);else{const C=Vh(i[is]);h0(C[je],C,p,n,!0)}}t=r?t.projectionNext:t.next}return n}function j4(e,i){for(let t=fs;t<e.length;t++){const n=e[t],r=n[je].firstChild;null!==r&&h0(n[je],n,r,i)}e[pc]!==e[Yr]&&i.push(e[pc])}let Y4=[];const Kit={...d,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Gv(e.lView)},consumerOnSignalRead(){this.lView[Nh]=this}},$4=100;function B1(e,i=!0,t=0){const n=e[Xl],r=n.rendererFactory;r.begin?.();try{!function Zit(e,i){BA(e,i);let t=0;for(;AS(e);){if(t===$4)throw new ue(103,!1);t++,BA(e,1)}}(e,t)}catch(o){throw i&&N1(e,o),o}finally{r.end?.(),n.inlineEffectRunner?.flush()}}function Jit(e,i,t,n){const r=i[Fi];if(!(256&~r))return;i[Xl].inlineEffectRunner?.flush(),OS(i);let o=null,p=null;(function qit(e){return 2!==e.type})(e)&&(p=function Yit(e){return e[Nh]??function $it(e){const i=Y4.pop()??Object.create(Kit);return i.lView=e,i}(e)}(i),o=w(p));try{BL(i),function WL(e){return Yi.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&P4(e,i,t,2,n);const C=!(3&~r);if(C){const F=e.preOrderCheckHooks;null!==F&&o1(i,F,null)}else{const F=e.preOrderHooks;null!==F&&l1(i,F,0,null),NS(i,0)}if(function tnt(e){for(let i=MN(e);null!==i;i=RN(i)){if(!(i[Fi]&yS.HasTransplantedViews))continue;const t=i[Um];for(let n=0;n<t.length;n++){Yq(t[n])}}}(i),Q4(i,0),null!==e.contentQueries&&z4(e,i),C){const F=e.contentCheckHooks;null!==F&&o1(i,F)}else{const F=e.contentHooks;null!==F&&l1(i,F,1),NS(i,1)}!function bit(e,i){const t=e.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const r=t[n];if(r<0)Uh(~r);else{const s=r,o=t[++n],p=t[++n];rtt(o,s),p(2,i[s])}}}finally{Uh(-1)}}(e,i);const D=e.components;null!==D&&Z4(i,D,0);const R=e.viewQuery;if(null!==R&&FA(2,R,n),C){const F=e.viewCheckHooks;null!==F&&o1(i,F)}else{const F=e.viewHooks;null!==F&&l1(i,F,2),NS(i,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[t1]){for(const F of i[t1])F();i[t1]=null}i[Fi]&=-73}catch(C){throw Gv(i),C}finally{null!==p&&(E(p,o),function Qit(e){e.lView[Nh]!==e&&(e.lView=null,Y4.push(e))}(p)),LS()}}function Q4(e,i){for(let t=MN(e);null!==t;t=RN(t))for(let n=fs;n<t.length;n++)K4(t[n],i)}function ent(e,i,t){K4(jo(i,e),t)}function K4(e,i){SS(e)&&BA(e,i)}function BA(e,i){const n=e[je],r=e[Fi],s=e[Nh];let o=!!(0===i&&16&r);if(o||=!!(64&r&&0===i),o||=!!(1024&r),o||=!(!s?.dirty||!S(s)),s&&(s.dirty=!1),e[Fi]&=-9217,o)Jit(n,e,n.template,e[kr]);else if(8192&r){Q4(e,1);const p=n.components;null!==p&&Z4(e,p,1)}}function Z4(e,i,t){for(let n=0;n<i.length;n++)ent(e,i[n],t)}function f0(e){for(e[Xl].changeDetectionScheduler?.notify();e;){e[Fi]|=64;const i=Vh(e);if(wS(e)&&!i)return e;e=i}return null}class m0{get rootNodes(){const i=this._lView,t=i[je];return h0(t,i,t.firstChild,[])}constructor(i,t,n=!0){this._lView=i,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kr]}set context(i){this._lView[kr]=i}get destroyed(){return!(256&~this._lView[Fi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[hs];if(Na(i)){const t=i[8],n=t?t.indexOf(this):-1;n>-1&&(a0(i,n),Wb(t,n))}this._attachedToViewContainer=!1}M1(this._lView[je],this._lView)}onDestroy(i){r1(this._lView,i)}markForCheck(){f0(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fi]&=-129}reattach(){DS(this._lView),this._lView[Fi]|=128}detectChanges(){this._lView[Fi]|=1024,B1(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,v4(this._lView[je],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=i,DS(this._lView)}}let dr=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=rnt}return e})();const int=dr,nnt=class extends int{constructor(i,t,n){super(),this._declarationLView=i,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,t){return this.createEmbeddedViewImpl(i,t)}createEmbeddedViewImpl(i,t,n){const r=d0(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:t,dehydratedView:n});return new m0(r)}};function rnt(){return V1(gr(),ve())}function V1(e,i){return 4&e.type?new nnt(i,e,Ym(e,i)):null}let r3=()=>null;function ep(e,i){return r3(e,i)}class W1{}class Dnt{}class s3{}class Mnt{resolveComponentFactory(i){throw function Int(e){const i=Error(`No component factory found for ${Gs(e)}.`);return i.ngComponent=e,i}(i)}}let Xh=(()=>{class e{static#t=this.NULL=new Mnt}return e})();class WA{}let gd=(()=>{class e{constructor(){this.destroyNode=null}static#t=this.__NG_ELEMENT_ID__=()=>function Rnt(){const e=ve(),t=jo(gr().index,e);return(La(t)?t:e)[ji]}()}return e})(),knt=(()=>{class e{static#t=this.\u0275prov=Ce({token:e,providedIn:"root",factory:()=>null})}return e})();const XA={},o3=new Set;function Cc(e){o3.has(e)||(o3.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function l3(...e){}class Ze{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Pnt(){const e="function"==typeof cr.requestAnimationFrame;let i=cr[e?"requestAnimationFrame":"setTimeout"],t=cr[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&t){const n=i[Zone.__symbol__("OriginalDelegate")];n&&(i=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Lnt(e){const i=()=>{!function Ont(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(cr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,YA(e),e.isCheckStableRunning=!0,jA(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),YA(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,s,o,p)=>{if(function Nnt(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(p))return t.invokeTask(r,s,o,p);try{return c3(e),t.invokeTask(r,s,o,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&i(),d3(e)}},onInvoke:(t,n,r,s,o,p,C)=>{try{return c3(e),t.invoke(r,s,o,p,C)}finally{e.shouldCoalesceRunChangeDetection&&i(),d3(e)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,YA(e),jA(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new ue(909,!1)}run(i,t,n){return this._inner.run(i,t,n)}runTask(i,t,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,i,Fnt,l3,l3);try{return s.runTask(o,t,n)}finally{s.cancelTask(o)}}runGuarded(i,t,n){return this._inner.runGuarded(i,t,n)}runOutsideAngular(i){return this._outer.run(i)}}const Fnt={};function jA(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function YA(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function c3(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function d3(e){e._nesting--,jA(e)}class u3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(i,t,n){return i.apply(t,n)}runGuarded(i,t,n){return i.apply(t,n)}runOutsideAngular(i){return i()}runTask(i,t,n,r){return i.apply(t,n)}}var jh=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(jh||{});const h3={destroy(){}};function f3(e,i){!i&&Jb();const t=i?.injector??fe($r);if(!function Tu(e){return"browser"===(e??fe($r)).get(fd)}(t))return h3;Cc("NgAfterNextRender");const n=t.get(y0),r=n.handler??=new p3,s=i?.phase??jh.MixedReadWrite,o=()=>{r.unregister(C),p()},p=t.get(jm).onDestroy(o),C=mc(t,()=>new m3(s,()=>{o(),e()}));return r.register(C),{destroy:o}}class m3{constructor(i,t){this.phase=i,this.callbackFn=t,this.zone=fe(Ze),this.errorHandler=fe(Qo,{optional:!0}),fe(W1,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){this.errorHandler?.handleError(i)}}}class p3{constructor(){this.executingCallbacks=!1,this.buckets={[jh.EarlyRead]:new Set,[jh.Write]:new Set,[jh.MixedReadWrite]:new Set,[jh.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const t of i)t.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let y0=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const n of t)n()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#t=this.\u0275prov=Ce({token:e,providedIn:"root",factory:()=>new e})}return e})();function j1(e,i,t){let n=t?e.styles:null,r=t?e.classes:null,s=0;if(null!==i)for(let o=0;o<i.length;o++){const p=i[o];"number"==typeof p?s=p:1==s?r=jE(r,p):2==s&&(n=jE(n,p+": "+i[++o]+";"))}t?e.styles=n:e.stylesWithoutHost=n,t?e.classes=r:e.classesWithoutHost=r}class x3 extends Xh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const t=Sn(i);return new T0(t,this.ngModule)}}function y3(e){const i=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t];void 0!==n&&i.push({propName:Array.isArray(n)?n[0]:n,templateName:t})}return i}class Y1{constructor(i,t){this.injector=i,this.parentInjector=t}get(i,t,n){n=Hb(n);const r=this.injector.get(i,XA,n);return r!==XA||t===XA?r:this.parentInjector.get(i,t,n)}}class T0 extends s3{get inputs(){const i=this.componentDef,t=i.inputTransforms,n=y3(i.inputs);if(null!==t)for(const r of n)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return n}get outputs(){return y3(this.componentDef.outputs)}constructor(i,t){super(),this.componentDef=i,this.ngModule=t,this.componentType=i.type,this.selector=function uq(e){return e.map(dq).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!t}create(i,t,n,r){const s=g(null);try{let o=(r=r||this.ngModule)instanceof Do?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const p=o?new Y1(i,o):i,C=p.get(WA,null);if(null===C)throw new ue(407,!1);const D=p.get(knt,null),B={rendererFactory:C,sanitizer:D,inlineEffectRunner:null,afterRenderEventManager:p.get(y0,null),changeDetectionScheduler:p.get(W1,null)},V=C.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",J=n?function Tit(e,i,t,n){const s=n.get(jN,!1)||t===Gl.ShadowDom,o=e.selectRootElement(i,s);return function Cit(e){O4(e)}(o),o}(V,n,this.componentDef.encapsulation,p):I1(V,X,function Gnt(e){const i=e.toLowerCase();return"svg"===i?OL:"math"===i?"math":null}(X));let Q=512;this.componentDef.signals?Q|=4096:this.componentDef.onPush||(Q|=16);let nt=null;null!==J&&(nt=sA(J,p,!0));const ct=MA(0,null,null,1,0,null,null,null,null,null,null),lt=O1(null,ct,null,Q,null,null,B,V,p,null,nt);let wt,Mt;OS(lt);try{const Bt=this.componentDef;let pt,ft=null;Bt.findHostDirectiveDefs?(pt=[],ft=new Map,Bt.findHostDirectiveDefs(Bt,pt,ft),pt.push(Bt)):pt=[Bt];const yt=function Wnt(e,i){const t=e[je],n=en;return e[n]=i,qm(t,n,2,"#host",null)}(lt,J),bt=function Xnt(e,i,t,n,r,s,o){const p=r[je];!function jnt(e,i,t,n){for(const r of e)i.mergedAttrs=Pv(i.mergedAttrs,r.hostAttrs);null!==i.mergedAttrs&&(j1(i,i.mergedAttrs,!0),null!==t&&M4(n,t,i))}(n,e,i,o);let C=null;null!==i&&(C=sA(i,r[wa]));const D=s.rendererFactory.createRenderer(i,t);let R=16;t.signals?R=4096:t.onPush&&(R=64);const F=O1(r,F4(t),null,R,r[e.index],e,s,D,null,null,C);return p.firstCreatePass&&kA(p,e,n.length-1),L1(r,F),r[e.index]=F}(yt,J,Bt,pt,lt,B,V);Mt=zv(ct,en),J&&function $nt(e,i,t,n){if(n)lS(e,t,["ng-version","17.3.3"]);else{const{attrs:r,classes:s}=function hq(e){const i=[],t=[];let n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&i.push(s,e[++n]):8===r&&t.push(s);else{if(!Hl(r))break;r=s}n++}return{attrs:i,classes:t}}(i.selectors[0]);r&&lS(e,t,r),s&&s.length>0&&I4(e,t,s.join(" "))}}(V,Bt,J,n),void 0!==t&&function Qnt(e,i,t){const n=e.projection=[];for(let r=0;r<i.length;r++){const s=t[r];n.push(null!=s?Array.from(s):null)}}(Mt,this.ngContentSelectors,t),wt=function Ynt(e,i,t,n,r,s){const o=gr(),p=r[je],C=ho(o,r);B4(p,r,o,t,null,n);for(let R=0;R<t.length;R++)Va(zh(r,p,o.directiveStart+R,o),r);V4(p,r,o),C&&Va(C,r);const D=zh(r,p,o.directiveStart+o.componentOffset,o);if(e[kr]=r[kr]=D,null!==s)for(const R of s)R(D,i);return AA(p,o,r),D}(bt,Bt,pt,ft,lt,[Knt]),LA(ct,lt,null)}finally{LS()}return new Hnt(this.componentType,wt,Ym(Mt,lt),lt,Mt)}finally{g(s)}}}class Hnt extends Dnt{constructor(i,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new m0(r,void 0,!1),this.componentType=i}setInput(i,t){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),t))return;const s=this._rootLView;OA(s[je],s,r,i,t),this.previousInputValues.set(i,t),f0(jo(this._tNode.index,s))}}get injector(){return new Xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Knt(){const e=gr();a1(ve()[je],e)}let Ar=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=Znt}return e})();function Znt(){return T3(gr(),ve())}const Jnt=Ar,b3=class extends Jnt{constructor(i,t,n){super(),this._lContainer=i,this._hostTNode=t,this._hostLView=n}get element(){return Ym(this._hostTNode,this._hostLView)}get injector(){return new Xs(this._hostTNode,this._hostLView)}get parentInjector(){const i=u1(this._hostTNode,this._hostLView);if(VS(i)){const t=$v(i,this._hostLView),n=Yv(i);return new Xs(t[je].data[n+8],t)}return new Xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const t=w3(this._lContainer);return null!==t&&t[i]||null}get length(){return this._lContainer.length-fs}createEmbeddedView(i,t,n){let r,s;"number"==typeof n?r=n:null!=n&&(r=n.index,s=n.injector);const o=ep(this._lContainer,i.ssrId),p=i.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(p,r,tp(this._hostTNode,o)),p}createComponent(i,t,n,r,s){const o=i&&!function Ov(e){return"function"==typeof e}(i);let p;if(o)p=t;else{const X=t||{};p=X.index,n=X.injector,r=X.projectableNodes,s=X.environmentInjector||X.ngModuleRef}const C=o?i:new T0(Sn(i)),D=n||this.parentInjector;if(!s&&null==C.ngModule){const J=(o?D:this.parentInjector).get(Do,null);J&&(s=J)}const R=Sn(C.componentType??{}),F=ep(this._lContainer,R?.id??null),V=C.create(D,r,F?.firstChild??null,s);return this.insertImpl(V.hostView,p,tp(this._hostTNode,F)),V}insert(i,t){return this.insertImpl(i,t,!0)}insertImpl(i,t,n){const r=i._lView;if(function jq(e){return Na(e[hs])}(r)){const p=this.indexOf(i);if(-1!==p)this.detach(p);else{const C=r[hs],D=new b3(C,C[Oa],C[hs]);D.detach(D.indexOf(i))}}const s=this._adjustIndex(t),o=this._lContainer;return u0(o,r,s,n),i.attachToViewContainerRef(),oL(ZA(o),s,i),i}move(i,t){return this.insert(i,t)}indexOf(i){const t=w3(this._lContainer);return null!==t?t.indexOf(i):-1}remove(i){const t=this._adjustIndex(i,-1),n=a0(this._lContainer,t);n&&(Wb(ZA(this._lContainer),t),M1(n[je],n))}detach(i){const t=this._adjustIndex(i,-1),n=a0(this._lContainer,t);return n&&null!=Wb(ZA(this._lContainer),t)?new m0(n):null}_adjustIndex(i,t=0){return i??this.length+t}};function w3(e){return e[8]}function ZA(e){return e[8]||(e[8]=[])}function T3(e,i){let t;const n=i[e.index];return Na(n)?t=n:(t=U4(n,i,null,e),i[e.index]=t,L1(i,t)),C3(t,i,e,n),new b3(t,e,i)}let C3=function E3(e,i,t,n){if(e[pc])return;let r;r=8&t.type?wr(n):function qnt(e,i){const t=e[ji],n=t.createComment(""),r=ho(i,e);return Wh(t,R1(t,r),n,function pit(e,i){return e.nextSibling(i)}(t,r),!1),n}(i,t),e[pc]=r},JA=()=>!1;class qA{constructor(i){this.queryList=i,this.matches=null}clone(){return new qA(this.queryList)}setDirty(){this.queryList.setDirty()}}class tD{constructor(i=[]){this.queries=i}createEmbeddedView(i){const t=i.queries;if(null!==t){const n=null!==i.contentQueries?i.contentQueries[0]:t.length,r=[];for(let s=0;s<n;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new tD(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let t=0;t<this.queries.length;t++)null!==sD(i,t).matches&&this.queries[t].setDirty()}}class S3{constructor(i,t,n=null){this.flags=t,this.read=n,this.predicate="string"==typeof i?function ort(e){return e.split(",").map(i=>i.trim())}(i):i}}class eD{constructor(i=[]){this.queries=i}elementStart(i,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(i,t)}elementEnd(i){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(i)}embeddedTView(i){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(i,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new eD(t):null}template(i,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(i,t)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class iD{constructor(i,t=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(i,t){this.isApplyingToNode(t)&&this.matchTNode(i,t)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,t){this.elementStart(i,t)}embeddedTView(i,t){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,t),new iD(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let n=i.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(i,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(i,t,nrt(t,s)),this.matchTNodeWithReadOption(i,t,h1(t,i,s,!1,!1))}else n===dr?4&t.type&&this.matchTNodeWithReadOption(i,t,-1):this.matchTNodeWithReadOption(i,t,h1(t,i,n,!1,!1))}matchTNodeWithReadOption(i,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ei||r===Ar||r===dr&&4&t.type)this.addMatch(t.index,-2);else{const s=h1(t,i,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,n)}}addMatch(i,t){null===this.matches?this.matches=[i,t]:this.matches.push(i,t)}}function nrt(e,i){const t=e.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===i)return t[n+1];return null}function srt(e,i,t,n){return-1===t?function rrt(e,i){return 11&e.type?Ym(e,i):4&e.type?V1(e,i):null}(i,e):-2===t?function art(e,i,t){return t===ei?Ym(i,e):t===dr?V1(i,e):t===Ar?T3(i,e):void 0}(e,i,n):zh(e,e[je],t,i)}function A3(e,i,t,n){const r=i[dd].queries[n];if(null===r.matches){const s=e.data,o=t.matches,p=[];for(let C=0;null!==o&&C<o.length;C+=2){const D=o[C];p.push(D<0?null:srt(i,s[D],o[C+1],t.metadata.read))}r.matches=p}return r.matches}function nD(e,i,t,n){const r=e.queries.getByIndex(t),s=r.matches;if(null!==s){const o=A3(e,i,r,t);for(let p=0;p<s.length;p+=2){const C=s[p];if(C>0)n.push(o[p/2]);else{const D=s[p+1],R=i[-C];for(let F=fs;F<R.length;F++){const B=R[F];B[Nv]===B[hs]&&nD(B[je],B,D,n)}if(null!==R[Um]){const F=R[Um];for(let B=0;B<F.length;B++){const V=F[B];nD(V[je],V,D,n)}}}}}return n}function D3(e,i,t){const n=new bu(!(4&~t));return function Sit(e,i,t,n){const r=G4(i);r.push(t),e.firstCreatePass&&H4(e).push(n,r.length-1)}(e,i,n,n.destroy),(i[dd]??=new tD).queries.push(new qA(n))-1}function R3(e,i,t){null===e.queries&&(e.queries=new eD),e.queries.track(new iD(i,t))}function sD(e,i){return e.queries.getByIndex(i)}function k3(e,i){const t=e[je],n=sD(t,i);return n.crossesNgTemplate?nD(t,e,i,[]):A3(t,e,n,i)}function $1(e){return"function"==typeof e&&void 0!==e[T]}function F3(e){return $1(e)&&"function"==typeof e.set}function di(e){let i=function X3(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const n=[e];for(;i;){let r;if(jl(e))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ue(903,!1);r=i.\u0275dir}if(r){if(t){n.push(r);const o=e;o.inputs=K1(e.inputs),o.inputTransforms=K1(e.inputTransforms),o.declaredInputs=K1(e.declaredInputs),o.outputs=K1(e.outputs);const p=r.hostBindings;p&&Crt(e,p);const C=r.viewQuery,D=r.contentQueries;if(C&&wrt(e,C),D&&Trt(e,D),yrt(e,r),RJ(e.outputs,r.outputs),jl(r)&&r.data.animation){const R=e.data;R.animation=(R.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const p=s[o];p&&p.ngInherit&&p(e),p===di&&(t=!1)}}i=Object.getPrototypeOf(i)}!function brt(e){let i=0,t=null;for(let n=e.length-1;n>=0;n--){const r=e[n];r.hostVars=i+=r.hostVars,r.hostAttrs=Pv(r.hostAttrs,t=Pv(t,r.hostAttrs))}}(n)}function yrt(e,i){for(const t in i.inputs){if(!i.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const n=i.inputs[t];if(void 0!==n&&(e.inputs[t]=n,e.declaredInputs[t]=i.declaredInputs[t],null!==i.inputTransforms)){const r=Array.isArray(n)?n[0]:n;if(!i.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=i.inputTransforms[r]}}}function K1(e){return e===fc?{}:e===$n?[]:e}function wrt(e,i){const t=e.viewQuery;e.viewQuery=t?(n,r)=>{i(n,r),t(n,r)}:i}function Trt(e,i){const t=e.contentQueries;e.contentQueries=t?(n,r,s)=>{i(n,r,s),t(n,r,s)}:i}function Crt(e,i){const t=e.hostBindings;e.hostBindings=t?(n,r)=>{i(n,r),t(n,r)}:i}function an(e){const i=e.inputConfig,t={};for(const n in i)if(i.hasOwnProperty(n)){const r=i[n];Array.isArray(r)&&r[3]&&(t[n]=r[3])}e.inputTransforms=t}class Yh{}class Q3{}class oD extends Yh{constructor(i,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new x3(this);const r=Fa(i);this._bootstrapComponents=Zo(r.bootstrap),this._r3Injector=gN(i,t,[{provide:Yh,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver},...n],Gs(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class lD extends Q3{constructor(i){super(),this.moduleType=i}create(i){return new oD(this.moduleType,i,[])}}class K3 extends Yh{constructor(i){super(),this.componentFactoryResolver=new x3(this),this.instance=null;const t=new Fm([...i.providers,{provide:Yh,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver}],i.parent||Zb(),i.debugName,new Set(["environment"]));this.injector=t,i.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Z1(e,i,t=null){return new K3({providers:e,parent:i,debugName:t,runEnvironmentInitializers:!0}).injector}let Su=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function q1(e){return!!function cD(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function _c(e,i,t){return e[i]=t}function ms(e,i,t){return!Object.is(e[i],t)&&(e[i]=t,!0)}function $h(e,i,t,n){const r=ms(e,i,t);return ms(e,i+1,n)||r}function Ht(e,i,t,n,r,s,o,p){const C=ve(),D=On(),R=e+en,F=D.firstCreatePass?function Lrt(e,i,t,n,r,s,o,p,C){const D=i.consts,R=qm(i,e,4,o||null,vc(D,p));RA(i,t,R,vc(D,C)),a1(i,R);const F=R.tView=MA(2,R,n,r,s,i.directiveRegistry,i.pipeRegistry,null,i.schemas,D,null);return null!==i.queries&&(i.queries.template(i,R),F.queries=i.queries.embeddedTView(R)),R}(R,D,C,i,t,n,r,s,o):D.data[R];xc(F,!1);const B=Z3(D,C,F,e);Xv()&&k1(D,C,B,F),Va(B,C);const V=U4(B,C,B,F);return C[R]=V,L1(C,V),function _3(e,i,t){return JA(e,i,t)}(V,F,C),n1(F)&&DA(D,C,F),null!=o&&IA(C,F,p),Ht}let Z3=function J3(e,i,t,n){return yc(!0),i[ji].createComment("")};function _i(e,i,t,n){const r=ve();return ms(r,Yl(),i)&&(On(),Tc(Pr(),r,e,i,t,n)),_i}function dp(e,i,t,n){return ms(e,Yl(),t)?i+tn(t)+n:sn}function hp(e,i,t,n,r,s,o,p){const D=function tw(e,i,t,n,r){const s=$h(e,i,t,n);return ms(e,i+2,r)||s}(e,ud(),t,r,o);return hd(3),D?i+tn(t)+n+tn(r)+s+tn(o)+p:sn}function aw(e,i){return e<<17|i<<2}function Du(e){return e>>17&32767}function yD(e){return 2|e}function Kh(e){return(131068&e)>>2}function bD(e,i){return-131069&e|i<<2}function wD(e){return 1|e}function IB(e,i,t,n){const r=e[t+1],s=null===i;let o=n?Du(r):Kh(r),p=!1;for(;0!==o&&(!1===p||s);){const D=e[o+1];wst(e[o],i)&&(p=!0,e[o+1]=n?wD(D):yD(D)),o=n?Du(D):Kh(D)}p&&(e[t+1]=n?yD(r):wD(r))}function wst(e,i){return null===e||null==i||(Array.isArray(e)?e[1]:e)===i||!(!Array.isArray(e)||"string"!=typeof i)&&Pm(e,i)>=0}const js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MB(e){return e.substring(js.key,js.keyEnd)}function RB(e,i){const t=js.textEnd;return t===i?-1:(i=js.keyEnd=function Est(e,i,t){for(;i<t&&e.charCodeAt(i)>32;)i++;return i}(e,js.key=i,t),xp(e,i,t))}function xp(e,i,t){for(;i<t&&e.charCodeAt(i)<=32;)i++;return i}function xt(e,i,t){const n=ve();return ms(n,Yl(),i)&&Mo(On(),Pr(),n,e,i,n[ji],t,!1),xt}function TD(e,i,t,n,r){const o=r?"class":"style";OA(e,t,i.inputs[o],o,n)}function vs(e,i,t){return $l(e,i,t,!1),vs}function yi(e,i){return $l(e,i,null,!0),yi}function gl(e){Ql(Fst,Sc,e,!0)}function Sc(e,i){for(let t=function Cst(e){return function PB(e){js.key=0,js.keyEnd=0,js.value=0,js.valueEnd=0,js.textEnd=e.length}(e),RB(e,xp(e,0,js.textEnd))}(i);t>=0;t=RB(i,t))Wo(e,MB(i),!0)}function $l(e,i,t,n){const r=ve(),s=On(),o=hd(2);s.firstUpdatePass&&NB(s,e,o,n),i!==sn&&ms(r,o,i)&&VB(s,s.data[Ba()],r,r[ji],e,r[o+1]=function Lst(e,i){return null==e||""===e||("string"==typeof i?e+=i:"object"==typeof e&&(e=Gs(Ko(e)))),e}(i,t),n,o)}function Ql(e,i,t,n){const r=On(),s=hd(2);r.firstUpdatePass&&NB(r,null,s,n);const o=ve();if(t!==sn&&ms(o,s,t)){const p=r.data[Ba()];if(zB(p,n)&&!LB(r,s)){let C=n?p.classesWithoutHost:p.stylesWithoutHost;null!==C&&(t=jE(C,t||"")),TD(r,p,o,t,n)}else!function Ost(e,i,t,n,r,s,o,p){r===sn&&(r=$n);let C=0,D=0,R=0<r.length?r[0]:null,F=0<s.length?s[0]:null;for(;null!==R||null!==F;){const B=C<r.length?r[C+1]:void 0,V=D<s.length?s[D+1]:void 0;let J,X=null;R===F?(C+=2,D+=2,B!==V&&(X=F,J=V)):null===F||null!==R&&R<F?(C+=2,X=R):(D+=2,X=F,J=V),null!==X&&VB(e,i,t,n,X,J,o,p),R=C<r.length?r[C]:null,F=D<s.length?s[D]:null}}(r,p,o,o[ji],o[s+1],o[s+1]=function Pst(e,i,t){if(null==t||""===t)return $n;const n=[],r=Ko(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(n,s,r[s]);else"string"==typeof r&&i(n,r);return n}(e,i,t),n,s)}}function LB(e,i){return i>=e.expandoStartIndex}function NB(e,i,t,n){const r=e.data;if(null===r[t+1]){const s=r[Ba()],o=LB(e,t);zB(s,n)&&null===i&&!o&&(i=!1),i=function Ist(e,i,t,n){const r=PS(e);let s=n?i.residualClasses:i.residualStyles;if(null===r)0===(n?i.classBindings:i.styleBindings)&&(t=I0(t=CD(null,e,i,t,n),i.attrs,n),s=null);else{const o=i.directiveStylingLast;if(-1===o||e[o]!==r)if(t=CD(r,e,i,t,n),null===s){let C=function Mst(e,i,t){const n=t?i.classBindings:i.styleBindings;if(0!==Kh(n))return e[Du(n)]}(e,i,n);void 0!==C&&Array.isArray(C)&&(C=CD(null,e,i,C[1],n),C=I0(C,i.attrs,n),function Rst(e,i,t,n){e[Du(t?i.classBindings:i.styleBindings)]=n}(e,i,n,C))}else s=function kst(e,i,t){let n;const r=i.directiveEnd;for(let s=1+i.directiveStylingLast;s<r;s++)n=I0(n,e[s].hostAttrs,t);return I0(n,i.attrs,t)}(e,i,n)}return void 0!==s&&(n?i.residualClasses=s:i.residualStyles=s),t}(r,s,i,n),function yst(e,i,t,n,r,s){let o=s?i.classBindings:i.styleBindings,p=Du(o),C=Kh(o);e[n]=t;let R,D=!1;if(Array.isArray(t)?(R=t[1],(null===R||Pm(t,R)>0)&&(D=!0)):R=t,r)if(0!==C){const B=Du(e[p+1]);e[n+1]=aw(B,p),0!==B&&(e[B+1]=bD(e[B+1],n)),e[p+1]=function vst(e,i){return 131071&e|i<<17}(e[p+1],n)}else e[n+1]=aw(p,0),0!==p&&(e[p+1]=bD(e[p+1],n)),p=n;else e[n+1]=aw(C,0),0===p?p=n:e[C+1]=bD(e[C+1],n),C=n;D&&(e[n+1]=yD(e[n+1])),IB(e,R,n,!0),IB(e,R,n,!1),function bst(e,i,t,n,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof i&&Pm(s,i)>=0&&(t[n+1]=wD(t[n+1]))}(i,R,e,n,s),o=aw(p,C),s?i.classBindings=o:i.styleBindings=o}(r,s,i,t,o,n)}}function CD(e,i,t,n,r){let s=null;const o=t.directiveEnd;let p=t.directiveStylingLast;for(-1===p?p=t.directiveStart:p++;p<o&&(s=i[p],n=I0(n,s.hostAttrs,r),s!==e);)p++;return null!==e&&(t.directiveStylingLast=p),n}function I0(e,i,t){const n=t?1:2;let r=-1;if(null!==i)for(let s=0;s<i.length;s++){const o=i[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Wo(e,o,!!t||i[++s]))}return void 0===e?null:e}function Fst(e,i,t){const n=String(i);""!==n&&!n.includes(" ")&&Wo(e,n,t)}function VB(e,i,t,n,r,s,o,p){if(!(3&i.type))return;const C=e.data,D=C[p+1],R=function xst(e){return!(1&~e)}(D)?UB(C,i,t,r,Kh(D),o):void 0;ow(R)||(ow(s)||function gst(e){return!(2&~e)}(D)&&(s=UB(C,null,t,r,p,o)),function xit(e,i,t,n,r){if(i)r?e.addClass(t,n):e.removeClass(t,n);else{let s=-1===n.indexOf("-")?void 0:Cu.DashCase;null==r?e.removeStyle(t,n,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Cu.Important),e.setStyle(t,n,r,s))}}(n,o,Uv(Ba(),t),r,s))}function UB(e,i,t,n,r,s){const o=null===i;let p;for(;r>0;){const C=e[r],D=Array.isArray(C),R=D?C[1]:C,F=null===R;let B=t[r+1];B===sn&&(B=F?$n:void 0);let V=F?aS(B,n):R===n?B:void 0;if(D&&!ow(V)&&(V=aS(C,n)),ow(V)&&(p=V,o))return p;const X=e[r+1];r=o?Du(X):Kh(X)}if(null!==i){let C=s?i.residualClasses:i.residualStyles;null!=C&&(p=aS(C,n))}return p}function ow(e){return void 0!==e}function zB(e,i){return!!(e.flags&(i?8:16))}class jst{destroy(i){}updateValue(i,t){}swap(i,t){const n=Math.min(i,t),r=Math.max(i,t),s=this.detach(r);if(r-n>1){const o=this.detach(n);this.attach(n,s),this.attach(r,o)}else this.attach(n,s)}move(i,t){this.attach(t,this.detach(i))}}function _D(e,i,t,n,r){return e===t&&Object.is(i,n)?1:Object.is(r(e,i),r(t,n))?-1:0}function ED(e,i,t,n){return!(void 0===i||!i.has(n)||(e.attach(t,i.get(n)),i.delete(n),0))}function HB(e,i,t,n,r){if(ED(e,i,n,t(n,r)))e.updateValue(n,r);else{const s=e.create(n,r);e.attach(n,s)}}function WB(e,i,t,n){const r=new Set;for(let s=i;s<=t;s++)r.add(n(s,e.at(s)));return r}class XB{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const t=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(i,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,t){if(this.kvMap.has(i)){let n=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,t)}else this.kvMap.set(i,t)}forEach(i){for(let[t,n]of this.kvMap)if(i(n,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(n);)n=r.get(n),i(n,t)}}}function yn(e,i,t){Cc("NgControlFlow");const n=ve(),r=Yl(),s=SD(n,en+e);if(ms(n,r,i)){const p=g(null);try{if(NA(s,0),-1!==i){const C=AD(n[je],en+i),D=ep(s,C.tView.ssrId);u0(s,d0(n,C,t,{dehydratedView:D}),0,tp(C,D))}}finally{g(p)}}else{const p=X4(s,0);void 0!==p&&(p[kr]=t)}}class $st{constructor(i,t,n){this.lContainer=i,this.$implicit=t,this.$index=n}get $count(){return this.lContainer.length-fs}}function lw(e,i){return i}class Kst{constructor(i,t,n){this.hasEmptyBlock=i,this.trackByFn=t,this.liveCollection=n}}function cw(e,i,t,n,r,s,o,p,C,D,R,F,B){Cc("NgControlFlow");const V=void 0!==C,X=ve(),J=p?o.bind(X[is][kr]):o,Q=new Kst(V,J);X[en+e]=Q,Ht(e+1,i,t,n,r,s),V&&Ht(e+2,C,D,R,F,B)}class Zst extends jst{constructor(i,t,n){super(),this.lContainer=i,this.hostLView=t,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-fs}at(i){return this.getLView(i)[kr].$implicit}attach(i,t){const n=t[Xo];this.needsIndexUpdate||=i!==this.length,u0(this.lContainer,t,i,tp(this.templateTNode,n))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function Jst(e,i){return a0(e,i)}(this.lContainer,i)}create(i,t){const n=ep(this.lContainer,this.templateTNode.tView.ssrId);return d0(this.hostLView,this.templateTNode,new $st(this.lContainer,t,i),{dehydratedView:n})}destroy(i){M1(i[je],i)}updateValue(i,t){this.getLView(i)[kr].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[kr].$index=i}getLView(i){return function qst(e,i){return X4(e,i)}(this.lContainer,i)}}function dw(e){const i=g(null),t=Ba();try{const n=ve(),r=n[je],s=n[t];if(void 0===s.liveCollection){const p=t+1,C=SD(n,p),D=AD(r,p);s.liveCollection=new Zst(C,n,D)}else s.liveCollection.reset();const o=s.liveCollection;if(function Yst(e,i,t){let n,r,s=0,o=e.length-1;if(Array.isArray(i)){let p=i.length-1;for(;s<=o&&s<=p;){const C=e.at(s),D=i[s],R=_D(s,C,s,D,t);if(0!==R){R<0&&e.updateValue(s,D),s++;continue}const F=e.at(o),B=i[p],V=_D(o,F,p,B,t);if(0!==V){V<0&&e.updateValue(o,B),o--,p--;continue}const X=t(s,C),J=t(o,F),Q=t(s,D);if(Object.is(Q,J)){const nt=t(p,B);Object.is(nt,X)?(e.swap(s,o),e.updateValue(o,B),p--,o--):e.move(o,s),e.updateValue(s,D),s++}else if(n??=new XB,r??=WB(e,s,o,t),ED(e,n,s,Q))e.updateValue(s,D),s++,o++;else if(r.has(Q))n.set(X,e.detach(s)),o--;else{const nt=e.create(s,i[s]);e.attach(s,nt),s++,o++}}for(;s<=p;)HB(e,n,t,s,i[s]),s++}else if(null!=i){const p=i[Symbol.iterator]();let C=p.next();for(;!C.done&&s<=o;){const D=e.at(s),R=C.value,F=_D(s,D,s,R,t);if(0!==F)F<0&&e.updateValue(s,R),s++,C=p.next();else{n??=new XB,r??=WB(e,s,o,t);const B=t(s,R);if(ED(e,n,s,B))e.updateValue(s,R),s++,o++,C=p.next();else if(r.has(B)){const V=t(s,D);n.set(V,e.detach(s)),o--}else e.attach(s,e.create(s,R)),s++,o++,C=p.next()}}for(;!C.done;)HB(e,n,t,e.length,C.value),C=p.next()}for(;s<=o;)e.destroy(e.detach(o--));n?.forEach(p=>{e.destroy(p)})}(o,e,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){const p=Yl(),C=0===o.length;if(ms(n,p,C)){const D=t+2,R=SD(n,D);if(C){const F=AD(r,D),B=ep(R,F.tView.ssrId);u0(R,d0(n,F,void 0,{dehydratedView:B}),0,tp(F,B))}else NA(R,0)}}}finally{g(i)}}function SD(e,i){return e[i]}function AD(e,i){return zv(e,i)}function q(e,i,t,n){const r=ve(),s=On(),o=en+e,p=r[ji],C=s.firstCreatePass?function tat(e,i,t,n,r,s){const o=i.consts,C=qm(i,e,2,n,vc(o,r));return RA(i,t,C,vc(o,s)),null!==C.attrs&&j1(C,C.attrs,!1),null!==C.mergedAttrs&&j1(C,C.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,C),C}(o,s,r,i,t,n):s.data[o],D=jB(s,r,C,p,i,e);r[o]=D;const R=n1(C);return xc(C,!0),M4(p,D,C),!function E0(e){return!(32&~e.flags)}(C)&&Xv()&&k1(s,r,D,C),0===function $q(){return Yi.lFrame.elementDepthCount}()&&Va(D,r),function Qq(){Yi.lFrame.elementDepthCount++}(),R&&(DA(s,r,C),AA(s,C,r)),null!==n&&IA(r,C),q}function et(){let e=gr();MS()?RS():(e=e.parent,xc(e,!1));const i=e;(function Zq(e){return Yi.skipHydrationRootTNode===e})(i)&&function ett(){Yi.skipHydrationRootTNode=null}(),function Kq(){Yi.lFrame.elementDepthCount--}();const t=On();return t.firstCreatePass&&(a1(t,e),bS(e)&&t.queries.elementEnd(e)),null!=i.classesWithoutHost&&function mtt(e){return!!(8&e.flags)}(i)&&TD(t,i,ve(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ptt(e){return!!(16&e.flags)}(i)&&TD(t,i,ve(),i.stylesWithoutHost,!1),et}function be(e,i,t,n){return q(e,i,t,n),et(),be}let jB=(e,i,t,n,r,s)=>(yc(!0),I1(n,r,function ZL(){return Yi.lFrame.currentNamespace}()));function nn(e,i,t){const n=ve(),r=On(),s=e+en,o=r.firstCreatePass?function nat(e,i,t,n,r){const s=i.consts,o=vc(s,n),p=qm(i,e,8,"ng-container",o);return null!==o&&j1(p,o,!0),RA(i,t,p,vc(s,r)),null!==i.queries&&i.queries.elementStart(i,p),p}(s,r,n,i,t):r.data[s];xc(o,!0);const p=YB(r,n,o,e);return n[s]=p,Xv()&&k1(r,n,p,o),Va(p,n),n1(o)&&(DA(r,n,o),AA(r,o,n)),null!=t&&IA(n,o),nn}function rn(){let e=gr();const i=On();return MS()?RS():(e=e.parent,xc(e,!1)),i.firstCreatePass&&(a1(i,e),bS(e)&&i.queries.elementEnd(e)),rn}function Ys(e,i,t){return nn(e,i,t),rn(),Ys}let YB=(e,i,t,n)=>(yc(!0),bA(i[ji],""));function ge(){return ve()}function Ac(e,i,t){const n=ve();return ms(n,Yl(),i)&&Mo(On(),Pr(),n,e,i,n[ji],t,!0),Ac}function uw(e,i,t){const n=ve();if(ms(n,Yl(),i)){const s=On(),o=Pr();Mo(s,o,n,e,i,W4(PS(s.data),o,n),t,!0)}return uw}const Zh=void 0;var oat=["en",[["a","p"],["AM","PM"],Zh],[["AM","PM"],Zh,Zh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zh,"{1} 'at' {0}",Zh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aat(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let yp={};function mo(e){const i=function lat(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=QB(i);if(t)return t;const n=i.split("-")[0];if(t=QB(n),t)return t;if("en"===n)return oat;throw new ue(701,!1)}function QB(e){return e in yp||(yp[e]=cr.ng&&cr.ng.common&&cr.ng.common.locales&&cr.ng.common.locales[e]),yp[e]}var Fr=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Fr||{});const bp="en-US";let KB=bp;function Vt(e,i,t,n){const r=ve(),s=On(),o=gr();return MD(s,r,r[ji],o,e,i,n),Vt}function gw(e,i){const t=gr(),n=ve(),r=On();return MD(r,n,W4(PS(r.data),t,n),t,e,i),gw}function MD(e,i,t,n,r,s,o){const p=n1(n),D=e.firstCreatePass&&H4(e),R=i[kr],F=G4(i);let B=!0;if(3&n.type||o){const J=ho(n,i),Q=o?o(J):J,nt=F.length,ct=o?wt=>o(wr(wt[n.index])):n.index;let lt=null;if(!o&&p&&(lt=function rot(e,i,t,n){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===n){const p=i[Nm],C=r[s+2];return p.length>C?p[C]:null}"string"==typeof o&&(s+=2)}return null}(e,i,r,n.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=s,lt.__ngLastListenerFn__=s,B=!1;else{s=C5(n,i,R,s,!1);const wt=t.listen(Q,r,s);F.push(s,wt),D&&D.push(r,ct,nt,nt+1)}}else s=C5(n,i,R,s,!1);const V=n.outputs;let X;if(B&&null!==V&&(X=V[r])){const J=X.length;if(J)for(let Q=0;Q<J;Q+=2){const Mt=i[X[Q]][X[Q+1]].subscribe(s),Bt=F.length;F.push(s,Mt),D&&D.push(r,n.index,Bt,-(Bt+1))}}}function T5(e,i,t,n){const r=g(null);try{return gc(6,i,t),!1!==t(n)}catch(s){return N1(e,s),!1}finally{gc(7,i,t),g(r)}}function C5(e,i,t,n,r){return function s(o){if(o===Function)return n;f0(e.componentOffset>-1?jo(e.index,i):i);let C=T5(i,t,n,o),D=s.__ngNextListenerFn__;for(;D;)C=T5(i,t,D,o)&&C,D=D.__ngNextListenerFn__;return r&&!1===C&&o.preventDefault(),C}}function St(e=1){return function ott(e){return(Yi.lFrame.contextLView=function VL(e,i){for(;e>0;)i=i[Bm],e--;return i}(e,Yi.lFrame.contextLView))[kr]}(e)}function sot(e,i){let t=null;const n=function aq(e){const i=e.attrs;if(null!=i){const t=i.indexOf(5);if(!(1&t))return i[t+1]}return null}(e);for(let r=0;r<i.length;r++){const s=i[r];if("*"!==s){if(null===n?pL(e,s,!0):cq(n,s))return r}else t=r}return t}function Gn(e){const i=ve()[is][Oa];if(!i.projection){const n=i.projection=function Xb(e,i){const t=[];for(let n=0;n<e;n++)t.push(i);return t}(e?e.length:1,null),r=n.slice();let s=i.child;for(;null!==s;){const o=e?sot(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function hi(e,i=0,t){const n=ve(),r=On(),s=qm(r,en+e,16,null,t||null);null===s.projection&&(s.projection=i),RS(),(!n[Xo]||Gm())&&32&~s.flags&&function git(e,i,t){D4(i[ji],0,i,t,TA(e,t,i),T4(t.parent||i[Oa],t,i))}(r,n,s)}function Iu(e,i,t){return vw(e,"",i,"",t),Iu}function vw(e,i,t,n,r){const s=ve(),o=dp(s,i,t,n);return o!==sn&&Mo(On(),Pr(),s,e,o,s[ji],r,!1),vw}function hn(e,i,t,n){!function M3(e,i,t,n){const r=On();if(r.firstCreatePass){const s=gr();R3(r,new S3(i,t,n),s.index),function lrt(e,i){const t=e.contentQueries||(e.contentQueries=[]);i!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,i)}(r,e),!(2&~t)&&(r.staticContentQueries=!0)}return D3(r,ve(),t)}(e,i,t,n)}function Ai(e,i,t){!function I3(e,i,t){const n=On();return n.firstCreatePass&&(R3(n,new S3(e,i,t),-1),!(2&~i)&&(n.staticViewQueries=!0)),D3(n,ve(),i)}(e,i,t)}function Oe(e){const i=ve(),t=On(),n=FS();s1(n+1);const r=sD(t,n);if(e.dirty&&function Xq(e){return!(4&~e[Fi])}(i)===!(2&~r.metadata.flags)){if(null===r.matches)e.reset([]);else{const s=k3(i,n);e.reset(s,bN),e.notifyOnChanges()}return!0}return!1}function Le(){return function rD(e,i){return e[dd].queries[i].queryList}(ve(),FS())}function Zi(e){return zm(function itt(){return Yi.lFrame.contextLView}(),en+e)}function ut(e,i=""){const t=ve(),n=On(),r=e+en,s=n.firstCreatePass?qm(n,r,1,i,null):n.data[r],o=z5(n,t,s,i,e);t[r]=o,Xv()&&k1(n,t,o,s),xc(s,!1)}let z5=(e,i,t,n,r)=>(yc(!0),function yA(e,i){return e.createText(i)}(i[ji],n));function ze(e){return ri("",e,""),ze}function ri(e,i,t){const n=ve(),r=dp(n,e,i,t);return r!==sn&&pd(n,Ba(),r),ri}function vd(e,i,t,n,r){const s=ve(),o=function up(e,i,t,n,r,s){const p=$h(e,ud(),t,r);return hd(2),p?i+tn(t)+n+tn(r)+s:sn}(s,e,i,t,n,r);return o!==sn&&pd(s,Ba(),o),vd}function L0(e,i,t,n,r,s,o){const p=ve(),C=hp(p,e,i,t,n,r,s,o);return C!==sn&&pd(p,Ba(),C),L0}function aa(e,i,t){F3(i)&&(i=i());const n=ve();return ms(n,Yl(),i)&&Mo(On(),Pr(),n,e,i,n[ji],t,!1),aa}function Ca(e,i){const t=F3(e);return t&&e.set(i),t}function oa(e,i){const t=ve(),n=On(),r=gr();return MD(n,t,t[ji],r,e,i),oa}function RD(e,i,t,n,r){if(e=Hi(e),Array.isArray(e))for(let s=0;s<e.length;s++)RD(e[s],i,t,n,r);else{const s=On(),o=ve(),p=gr();let C=Lh(e)?e:Hi(e.provide);const D=CL(e),R=1048575&p.providerIndexes,F=p.directiveStart,B=p.providerIndexes>>20;if(Lh(e)||!e.multi){const V=new jv(D,r,ht),X=PD(C,i,r?R:R+B,F);-1===X?(GS(d1(p,o),s,C),kD(s,e,i.length),i.push(C),p.directiveStart++,p.directiveEnd++,r&&(p.providerIndexes+=1048576),t.push(V),o.push(V)):(t[X]=V,o[X]=V)}else{const V=PD(C,i,R+B,F),X=PD(C,i,R,R+B),Q=X>=0&&t[X];if(r&&!Q||!r&&!(V>=0&&t[V])){GS(d1(p,o),s,C);const nt=function _ot(e,i,t,n,r){const s=new jv(e,t,ht);return s.multi=[],s.index=i,s.componentProviders=0,$5(s,r,n&&!t),s}(r?Cot:Tot,t.length,r,n,D);!r&&Q&&(t[X].providerFactory=nt),kD(s,e,i.length,0),i.push(C),p.directiveStart++,p.directiveEnd++,r&&(p.providerIndexes+=1048576),t.push(nt),o.push(nt)}else kD(s,e,V>-1?V:X,$5(t[r?X:V],D,!r&&n));!r&&n&&Q&&t[X].componentProviders++}}}function kD(e,i,t,n){const r=Lh(i),s=function yq(e){return!!e.useClass}(i);if(r||s){const C=(s?Hi(i.useClass):i).prototype.ngOnDestroy;if(C){const D=e.destroyHooks||(e.destroyHooks=[]);if(!r&&i.multi){const R=D.indexOf(t);-1===R?D.push(t,[n,C]):D[R+1].push(n,C)}else D.push(t,C)}}}function $5(e,i,t){return t&&e.componentProviders++,e.multi.push(i)-1}function PD(e,i,t,n){for(let r=t;r<n;r++)if(i[r]===e)return r;return-1}function Tot(e,i,t,n){return FD(this.multi,[])}function Cot(e,i,t,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,p=zh(t,t[je],this.providerFactory.index,n);s=p.slice(0,o),FD(r,s);for(let C=o;C<p.length;C++)s.push(p[C])}else s=[],FD(r,s);return s}function FD(e,i){for(let t=0;t<e.length;t++)i.push((0,e[t])());return i}function fi(e,i=[]){return t=>{t.providersResolver=(n,r)=>function wot(e,i,t){const n=On();if(n.firstCreatePass){const r=jl(e);RD(t,n.data,n.blueprint,r,!0),RD(i,n.data,n.blueprint,r,!1)}}(n,r?r(e):e,i)}}let Eot=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const n=dS(0,t.type),r=n.length>0?Z1([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#t=this.\u0275prov=Ce({token:e,providedIn:"environment",factory:()=>new e(Kt(Do))})}return e})();function Bi(e){Cc("NgStandalone"),e.getStandaloneInjector=i=>i.get(Eot).getOrCreateStandaloneInjector(e)}function ko(e,i,t){const n=fo()+e,r=ve();return r[n]===sn?_c(r,n,t?i.call(t):i()):function _0(e,i){return e[i]}(r,n)}function Kl(e,i,t,n){return K5(ve(),fo(),e,i,t,n)}function OD(e,i,t,n,r){return Z5(ve(),fo(),e,i,t,n,r)}function N0(e,i){const t=e[i];return t===sn?void 0:t}function K5(e,i,t,n,r,s){const o=i+t;return ms(e,o,r)?_c(e,o+1,s?n.call(s,r):n(r)):N0(e,o+1)}function Z5(e,i,t,n,r,s,o){const p=i+t;return $h(e,p,r,s)?_c(e,p+2,o?n.call(o,r,s):n(r,s)):N0(e,p+2)}function Ua(e,i){const t=On();let n;const r=e+en;t.firstCreatePass?(n=function Oot(e,i){if(i)for(let t=i.length-1;t>=0;t--){const n=i[t];if(e===n.name)return n}}(i,t.pipeRegistry),t.data[r]=n,n.onDestroy&&(t.destroyHooks??=[]).push(r,n.onDestroy)):n=t.data[r];const s=n.factory||(n.factory=Fh(n.type)),p=So(ht);try{const C=c1(!1),D=s();return c1(C),function cot(e,i,t,n){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),i[t]=n}(t,ve(),r,D),D}finally{So(p)}}function xd(e,i,t){const n=e+en,r=ve(),s=zm(r,n);return B0(r,n)?K5(r,fo(),i,s.transform,t,s):s.transform(t)}function Mu(e,i,t,n){const r=e+en,s=ve(),o=zm(s,r);return B0(s,r)?Z5(s,fo(),i,o.transform,t,n,o):o.transform(t,n)}function B0(e,i){return e[je].data[i].pure}function wp(e,i){return V1(e,i)}let gV=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const wV=new qt(""),ww=new qt("");let HD,zD=(()=>{class e{constructor(t,n,r){this._ngZone=t,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,HD||(function Rlt(e){HD=e}(r),r.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},n)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,r){return[]}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ze),Kt(GD),Kt(ww))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),GD=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return HD?.findTestabilityInTree(this,t,n)??null}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function z0(e){return!!e&&"function"==typeof e.then}function TV(e){return!!e&&"function"==typeof e.subscribe}const WD=new qt("");let XD=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.appInits=fe(WD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(z0(s))t.push(s);else if(TV(s)){const o=new Promise((p,C)=>{s.subscribe({complete:p,error:C})});t.push(o)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(r=>{this.reject(r)}),0===t.length&&n(),this.initialized=!0}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const jD=new qt("");function EV(e,i){return Array.isArray(i)?i.reduce(EV,e):{...e,...i}}let yd=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fe(xN),this.afterRenderEffectManager=fe(y0),this.externalTestViews=new Set,this.beforeRender=new ke,this.afterTick=new ke,this.componentTypes=[],this.components=[],this.isStable=fe(Su).hasPendingTasks.pipe(Di(t=>!t)),this._injector=fe(Do)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,n){const r=t instanceof s3;if(!this._injector.get(XD).done)throw!r&&function xu(e){const i=Sn(e)||Hs(e)||ba(e);return null!==i&&i.standalone}(t),new ue(405,!1);let o;o=r?t:this._injector.get(Xh).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const p=function klt(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Yh),D=o.create($r.NULL,[],n||o.selector,p),R=D.location.nativeElement,F=D.injector.get(wV,null);return F?.registerApplication(R),D.onDestroy(()=>{this.detachView(D.hostView),Tw(this.components,D),F?.unregisterApplication(R)}),this._loadComponent(D),D}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new ue(101,!1);const n=g(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,g(n)}}detectChangesInAttachedViews(t){let n=0;const r=this.afterRenderEffectManager;for(;;){if(n===$4)throw new ue(103,!1);if(t){const s=0===n;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:p}of this._views)Flt(o,s,p)}if(n++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>YD(s))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>YD(s))))break}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;Tw(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const n=this._injector.get(jD,[]);[...this._bootstrapListeners,...n].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Tw(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ue(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tw(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function Flt(e,i,t){!i&&!YD(e)||function Olt(e,i,t){let n;t?(n=0,e[Fi]|=1024):n=64&e[Fi]?0:1,B1(e,i,n)}(e,t,i)}function YD(e){return AS(e)}class Llt{constructor(i,t){this.ngModuleFactory=i,this.componentFactories=t}}let SV=(()=>{class e{compileModuleSync(t){return new lD(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const n=this.compileModuleSync(t),s=Zo(Fa(t).declarations).reduce((o,p)=>{const C=Sn(p);return C&&o.push(new T0(C)),o},[]);return new Llt(n,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vlt=(()=>{class e{constructor(){this.zone=fe(Ze),this.applicationRef=fe(yd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ult(){const e=fe(Ze),i=fe(Qo);return t=>e.runOutsideAngular(()=>i.handleError(t))}let Glt=(()=>{class e{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=fe(Ze),this.pendingTasks=fe(Su)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Dc=new qt("",{providedIn:"root",factory:()=>fe(Dc,Fn.Optional|Fn.SkipSelf)||function Hlt(){return typeof $localize<"u"&&$localize.locale||bp}()}),$D=new qt("");let MV=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const r=function Bnt(e="zone.js",i){return"noop"===e?new u3:"zone.js"===e?new Ze(i):e}(n?.ngZone,function IV(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const s=function Mrt(e,i,t){return new oD(e,i,t)}(t.moduleType,this.injector,function DV(e){return[{provide:Ze,useFactory:e},{provide:Oh,multi:!0,useFactory:()=>{const i=fe(Vlt,{optional:!0});return()=>i.initialize()}},{provide:Oh,multi:!0,useFactory:()=>{const i=fe(Glt);return()=>{i.initialize()}}},{provide:xN,useFactory:Ult}]}(()=>r)),o=s.injector.get(Qo,null);return r.runOutsideAngular(()=>{const p=r.onError.subscribe({next:C=>{o.handleError(C)}});s.onDestroy(()=>{Tw(this._modules,s),p.unsubscribe()})}),function _V(e,i,t){try{const n=t();return z0(n)?n.catch(r=>{throw i.runOutsideAngular(()=>e.handleError(r)),r}):n}catch(n){throw i.runOutsideAngular(()=>e.handleError(n)),n}}(o,r,()=>{const p=s.injector.get(XD);return p.runInitializers(),p.donePromise.then(()=>(function ZB(e){"string"==typeof e&&(KB=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Dc,bp)||bp),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,n=[]){const r=EV({},n);return function Blt(e,i,t){const n=new lD(t);return Promise.resolve(n)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const n=t.injector.get(yd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new ue(-403,!1);t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const t=this._injector.get($D,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#t=this.\u0275fac=function(n){return new(n||e)(Kt($r))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ru=null;const RV=new qt("");function kV(e,i,t=[]){const n=`Platform: ${i}`,r=new qt(n);return(s=[])=>{let o=QD();if(!o||o.injector.get(RV,!1)){const p=[...t,...s,{provide:r,useValue:!0}];e?e(p):function jlt(e){if(Ru&&!Ru.get(RV,!1))throw new ue(400,!1);(function CV(){!function K(e){rt=e}(()=>{throw new ue(600,!1)})})(),Ru=e;const i=e.get(MV);(function FV(e){e.get(UN,null)?.forEach(t=>t())})(e)}(function PV(e=[],i){return $r.create({name:i,providers:[{provide:fS,useValue:"platform"},{provide:$D,useValue:new Set([()=>Ru=null])},...e]})}(p,n))}return function Ylt(e){const i=QD();if(!i)throw new ue(401,!1);return i}()}}function QD(){return Ru?.get(MV)??null}let Dn=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=Qlt}return e})();function Qlt(e){return function Klt(e,i,t){if(Bh(e)&&!t){const n=jo(e.index,i);return new m0(n,n)}return 47&e.type?new m0(i[is],i):null}(gr(),ve(),!(16&~e))}class VV{constructor(){}supports(i){return q1(i)}create(i){return new ect(i)}}const tct=(e,i)=>i;class ect{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||tct}forEachItem(i){let t;for(t=this._itHead;null!==t;t=t._next)i(t)}forEachOperation(i){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const o=!n||t&&t.currentIndex<zV(n,r,s)?t:n,p=zV(o,r,s),C=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const D=p-r,R=C-r;if(D!=R){for(let B=0;B<D;B++){const V=B<s.length?s[B]:s[B]=0,X=V+B;R<=X&&X<D&&(s[B]=V+1)}s[o.previousIndex]=R-D}}p!==C&&i(o,p,C)}}forEachPreviousItem(i){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachMovedItem(i){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}forEachIdentityChange(i){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)i(t)}diff(i){if(null==i&&(i=[]),!q1(i))throw new ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let r,s,o,t=this._itHead,n=!1;if(Array.isArray(i)){this.length=i.length;for(let p=0;p<this.length;p++)s=i[p],o=this._trackByFn(p,s),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,s,o,p)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,p),n=!0),t=t._next}else r=0,function Frt(e,i){if(Array.isArray(e))for(let t=0;t<e.length;t++)i(e[t]);else{const t=e[Symbol.iterator]();let n;for(;!(n=t.next()).done;)i(n.value)}}(i,p=>{o=this._trackByFn(r,p),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,p,o,r)),Object.is(t.item,p)||this._addIdentityChange(t,p)):(t=this._mismatch(t,p,o,r),n=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,t,n,r){let s;return null===i?s=this._itTail:(s=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._reinsertAfter(i,s,r)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._moveAfter(i,s,r)):i=this._addAfter(new ict(t,n),s,r),i}_verifyReinsertion(i,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?i=this._reinsertAfter(s,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;null!==i;){const t=i._next;this._addToRemovals(this._unlink(i)),i=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const r=i._prevRemoved,s=i._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(i,t,n),this._addToMoves(i,n),i}_moveAfter(i,t,n){return this._unlink(i),this._insertAfter(i,t,n),this._addToMoves(i,n),i}_addAfter(i,t,n){return this._insertAfter(i,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,t,n){const r=null===t?this._itHead:t._next;return i._next=r,i._prev=t,null===r?this._itTail=i:r._prev=i,null===t?this._itHead=i:t._next=i,null===this._linkedRecords&&(this._linkedRecords=new UV),this._linkedRecords.put(i),i.currentIndex=n,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const t=i._prev,n=i._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,i}_addToMoves(i,t){return i.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UV),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,t){return i.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class ict{constructor(i,t){this.item=i,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nct{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,i))return n;return null}remove(i){const t=i._prevDup,n=i._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class UV{constructor(){this.map=new Map}put(i){const t=i.trackById;let n=this.map.get(t);n||(n=new nct,this.map.set(t,n)),n.add(i)}get(i,t){const r=this.map.get(i);return r?r.get(i,t):null}remove(i){const t=i.trackById;return this.map.get(t).remove(i)&&this.map.delete(t),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zV(e,i,t){const n=e.previousIndex;if(null===n)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+i+r}function HV(){return new ku([new VV])}let ku=(()=>{class e{static#t=this.\u0275prov=Ce({token:e,providedIn:"root",factory:HV});constructor(t){this.factories=t}static create(t,n){if(null!=n){const r=n.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||HV()),deps:[[e,new Ph,new cd]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(null!=n)return n;throw new ue(901,!1)}}return e})();const lct=kV(null,"core",[]);let cct=(()=>{class e{constructor(t){}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(yd))};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();function Ke(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function zr(e,i=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?i:Number(e)}function h8(e){const i=g(null);try{return e()}finally{g(i)}}const Vct=new qt("",{providedIn:"root",factory:()=>fe(Uct)});let Uct=(()=>{class e{static#t=this.\u0275prov=Ce({token:e,providedIn:"root",factory:()=>new zct})}return e})();class zct{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=fe(Su),this.taskId=null}scheduleEffect(i){if(this.enqueue(i),null===this.taskId){const t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(i){const t=i.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const n=this.queues.get(t);n.has(i)||(this.queuedEffectCount++,n.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,t]of this.queues)null===i?this.flushQueue(t):i.run(()=>this.flushQueue(t))}flushQueue(i){for(const t of i)i.delete(t),this.queuedEffectCount--,t.run()}}class Gct{constructor(i,t,n,r,s,o){this.scheduler=i,this.effectFn=t,this.creationZone=n,this.injector=s,this.watcher=function Nt(e,i,t){const n=Object.create($t);t&&(n.consumerAllowSignalWrites=!0),n.fn=e,n.schedule=i;const r=C=>{n.cleanupFn=C};return n.ref={notify:()=>y(n),run:()=>{if(null===n.fn)return;if(function u(){return a}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!S(n))return;n.hasRun=!0;const C=w(n);try{n.cleanupFn(),n.cleanupFn=Yt,n.fn(r)}finally{E(n,C)}},cleanup:()=>n.cleanupFn(),destroy:()=>function o(C){(function s(C){return null===C.fn&&null===C.schedule})(C)||(A(C),C.cleanupFn(),C.fn=null,C.schedule=null,C.cleanupFn=Yt)}(n),[T]:n},n.ref}(p=>this.runEffect(p),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(t){this.injector.get(Qo,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let m8=null;function Pu(){return m8}class Xct{}const Ni=new qt("");let n2=(()=>{class e{historyGo(t){throw new Error("")}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:()=>fe(Yct),providedIn:"platform"})}return e})();const jct=new qt("");let Yct=(()=>{class e extends n2{constructor(){super(),this._doc=fe(Ni),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pu().getBaseHref(this._doc)}onPopState(t){const n=Pu().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=Pu().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,r){this._history.pushState(t,n,r)}replaceState(t,n,r){this._history.replaceState(t,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function r2(e,i){if(0==e.length)return i;if(0==i.length)return e;let t=0;return e.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?e+i.substring(1):1==t?e+i:e+"/"+i}function p8(e){const i=e.match(/#|\?|$/),t=i&&i.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function bd(e){return e&&"?"!==e[0]?"?"+e:e}let tf=(()=>{class e{historyGo(t){throw new Error("")}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:()=>fe(v8),providedIn:"root"})}return e})();const g8=new qt("");let v8=(()=>{class e extends tf{constructor(t,n){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??fe(Ni).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return r2(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+bd(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${n}${r}`:n}pushState(t,n,r,s){const o=this.prepareExternalUrl(r+bd(s));this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){const o=this.prepareExternalUrl(r+bd(s));this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(n2),Kt(g8,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$ct=(()=>{class e extends tf{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(t){const n=r2(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,r,s){let o=this.prepareExternalUrl(r+bd(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){let o=this.prepareExternalUrl(r+bd(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(n2),Kt(g8,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),ef=(()=>{class e{constructor(t){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const n=this._locationStrategy.getBaseHref();this._basePath=function Zct(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(p8(x8(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+bd(n))}normalize(t){return e.stripTrailingSlash(function Kct(e,i){if(!e||!i.startsWith(e))return i;const t=i.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,x8(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",r=null){this._locationStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bd(n)),r)}replaceState(t,n="",r=null){this._locationStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bd(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{const n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(r=>r(t,n))}subscribe(t,n,r){return this._subject.subscribe({next:t,error:n,complete:r})}static#t=this.normalizeQueryParams=bd;static#e=this.joinWithSlash=r2;static#i=this.stripTrailingSlash=p8;static#n=this.\u0275fac=function(n){return new(n||e)(Kt(tf))};static#r=this.\u0275prov=Ce({token:e,factory:()=>function Qct(){return new ef(Kt(tf))}(),providedIn:"root"})}return e})();function x8(e){return e.replace(/\/index.html$/,"")}var go=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(go||{}),Dr=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Dr||{}),qo=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(qo||{});const ks={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Pw(e,i){return xl(mo(e)[Fr.DateFormat],i)}function Fw(e,i){return xl(mo(e)[Fr.TimeFormat],i)}function Ow(e,i){return xl(mo(e)[Fr.DateTimeFormat],i)}function vl(e,i){const t=mo(e),n=t[Fr.NumberSymbols][i];if(typeof n>"u"){if(i===ks.CurrencyDecimal)return t[Fr.NumberSymbols][ks.Decimal];if(i===ks.CurrencyGroup)return t[Fr.NumberSymbols][ks.Group]}return n}function b8(e){if(!e[Fr.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Fr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xl(e,i){for(let t=i;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function a2(e){const[i,t]=e.split(":");return{hours:+i,minutes:+t}}const udt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Lw={},hdt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var wd=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(wd||{}),rr=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(rr||{}),sr=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(sr||{});function fdt(e,i,t,n){let r=function Tdt(e){if(C8(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,s=1,o=1]=e.split("-").map(p=>+p);return Nw(r,s-1,o)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(udt))return function Cdt(e){const i=new Date(0);let t=0,n=0;const r=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(t=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(i,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-t,p=Number(e[5]||0)-n,C=Number(e[6]||0),D=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,o,p,C,D),i}(n)}const i=new Date(e);if(!C8(i))throw new Error(`Unable to convert "${e}" into a date`);return i}(e);i=Td(t,i)||i;let p,o=[];for(;i;){if(p=hdt.exec(i),!p){o.push(i);break}{o=o.concat(p.slice(1));const R=o.pop();if(!R)break;i=R}}let C=r.getTimezoneOffset();n&&(C=T8(n,C),r=function wdt(e,i,t){const n=t?-1:1,r=e.getTimezoneOffset();return function bdt(e,i){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+i),e}(e,n*(T8(i,r)-r))}(r,n,!0));let D="";return o.forEach(R=>{const F=function ydt(e){if(l2[e])return l2[e];let i;switch(e){case"G":case"GG":case"GGG":i=Or(sr.Eras,Dr.Abbreviated);break;case"GGGG":i=Or(sr.Eras,Dr.Wide);break;case"GGGGG":i=Or(sr.Eras,Dr.Narrow);break;case"y":i=Ps(rr.FullYear,1,0,!1,!0);break;case"yy":i=Ps(rr.FullYear,2,0,!0,!0);break;case"yyy":i=Ps(rr.FullYear,3,0,!1,!0);break;case"yyyy":i=Ps(rr.FullYear,4,0,!1,!0);break;case"Y":i=zw(1);break;case"YY":i=zw(2,!0);break;case"YYY":i=zw(3);break;case"YYYY":i=zw(4);break;case"M":case"L":i=Ps(rr.Month,1,1);break;case"MM":case"LL":i=Ps(rr.Month,2,1);break;case"MMM":i=Or(sr.Months,Dr.Abbreviated);break;case"MMMM":i=Or(sr.Months,Dr.Wide);break;case"MMMMM":i=Or(sr.Months,Dr.Narrow);break;case"LLL":i=Or(sr.Months,Dr.Abbreviated,go.Standalone);break;case"LLLL":i=Or(sr.Months,Dr.Wide,go.Standalone);break;case"LLLLL":i=Or(sr.Months,Dr.Narrow,go.Standalone);break;case"w":i=o2(1);break;case"ww":i=o2(2);break;case"W":i=o2(1,!0);break;case"d":i=Ps(rr.Date,1);break;case"dd":i=Ps(rr.Date,2);break;case"c":case"cc":i=Ps(rr.Day,1);break;case"ccc":i=Or(sr.Days,Dr.Abbreviated,go.Standalone);break;case"cccc":i=Or(sr.Days,Dr.Wide,go.Standalone);break;case"ccccc":i=Or(sr.Days,Dr.Narrow,go.Standalone);break;case"cccccc":i=Or(sr.Days,Dr.Short,go.Standalone);break;case"E":case"EE":case"EEE":i=Or(sr.Days,Dr.Abbreviated);break;case"EEEE":i=Or(sr.Days,Dr.Wide);break;case"EEEEE":i=Or(sr.Days,Dr.Narrow);break;case"EEEEEE":i=Or(sr.Days,Dr.Short);break;case"a":case"aa":case"aaa":i=Or(sr.DayPeriods,Dr.Abbreviated);break;case"aaaa":i=Or(sr.DayPeriods,Dr.Wide);break;case"aaaaa":i=Or(sr.DayPeriods,Dr.Narrow);break;case"b":case"bb":case"bbb":i=Or(sr.DayPeriods,Dr.Abbreviated,go.Standalone,!0);break;case"bbbb":i=Or(sr.DayPeriods,Dr.Wide,go.Standalone,!0);break;case"bbbbb":i=Or(sr.DayPeriods,Dr.Narrow,go.Standalone,!0);break;case"B":case"BB":case"BBB":i=Or(sr.DayPeriods,Dr.Abbreviated,go.Format,!0);break;case"BBBB":i=Or(sr.DayPeriods,Dr.Wide,go.Format,!0);break;case"BBBBB":i=Or(sr.DayPeriods,Dr.Narrow,go.Format,!0);break;case"h":i=Ps(rr.Hours,1,-12);break;case"hh":i=Ps(rr.Hours,2,-12);break;case"H":i=Ps(rr.Hours,1);break;case"HH":i=Ps(rr.Hours,2);break;case"m":i=Ps(rr.Minutes,1);break;case"mm":i=Ps(rr.Minutes,2);break;case"s":i=Ps(rr.Seconds,1);break;case"ss":i=Ps(rr.Seconds,2);break;case"S":i=Ps(rr.FractionalSeconds,1);break;case"SS":i=Ps(rr.FractionalSeconds,2);break;case"SSS":i=Ps(rr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=Vw(wd.Short);break;case"ZZZZZ":i=Vw(wd.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=Vw(wd.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=Vw(wd.Long);break;default:return null}return l2[e]=i,i}(R);D+=F?F(r,t,C):"''"===R?"'":R.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function Nw(e,i,t){const n=new Date(0);return n.setFullYear(e,i,t),n.setHours(0,0,0),n}function Td(e,i){const t=function qct(e){return mo(e)[Fr.LocaleId]}(e);if(Lw[t]??={},Lw[t][i])return Lw[t][i];let n="";switch(i){case"shortDate":n=Pw(e,qo.Short);break;case"mediumDate":n=Pw(e,qo.Medium);break;case"longDate":n=Pw(e,qo.Long);break;case"fullDate":n=Pw(e,qo.Full);break;case"shortTime":n=Fw(e,qo.Short);break;case"mediumTime":n=Fw(e,qo.Medium);break;case"longTime":n=Fw(e,qo.Long);break;case"fullTime":n=Fw(e,qo.Full);break;case"short":const r=Td(e,"shortTime"),s=Td(e,"shortDate");n=Bw(Ow(e,qo.Short),[r,s]);break;case"medium":const o=Td(e,"mediumTime"),p=Td(e,"mediumDate");n=Bw(Ow(e,qo.Medium),[o,p]);break;case"long":const C=Td(e,"longTime"),D=Td(e,"longDate");n=Bw(Ow(e,qo.Long),[C,D]);break;case"full":const R=Td(e,"fullTime"),F=Td(e,"fullDate");n=Bw(Ow(e,qo.Full),[R,F])}return n&&(Lw[t][i]=n),n}function Bw(e,i){return i&&(e=e.replace(/\{([^}]+)}/g,function(t,n){return null!=i&&n in i?i[n]:t})),e}function Zl(e,i,t="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=t));let o=String(e);for(;o.length<i;)o="0"+o;return n&&(o=o.slice(o.length-i)),s+o}function Ps(e,i,t=0,n=!1,r=!1){return function(s,o){let p=function pdt(e,i){switch(e){case rr.FullYear:return i.getFullYear();case rr.Month:return i.getMonth();case rr.Date:return i.getDate();case rr.Hours:return i.getHours();case rr.Minutes:return i.getMinutes();case rr.Seconds:return i.getSeconds();case rr.FractionalSeconds:return i.getMilliseconds();case rr.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((t>0||p>-t)&&(p+=t),e===rr.Hours)0===p&&-12===t&&(p=12);else if(e===rr.FractionalSeconds)return function mdt(e,i){return Zl(e,3).substring(0,i)}(p,i);const C=vl(o,ks.MinusSign);return Zl(p,i,C,n,r)}}function Or(e,i,t=go.Format,n=!1){return function(r,s){return function gdt(e,i,t,n,r,s){switch(t){case sr.Months:return function idt(e,i,t){const n=mo(e),s=xl([n[Fr.MonthsFormat],n[Fr.MonthsStandalone]],i);return xl(s,t)}(i,r,n)[e.getMonth()];case sr.Days:return function edt(e,i,t){const n=mo(e),s=xl([n[Fr.DaysFormat],n[Fr.DaysStandalone]],i);return xl(s,t)}(i,r,n)[e.getDay()];case sr.DayPeriods:const o=e.getHours(),p=e.getMinutes();if(s){const D=function adt(e){const i=mo(e);return b8(i),(i[Fr.ExtraData][2]||[]).map(n=>"string"==typeof n?a2(n):[a2(n[0]),a2(n[1])])}(i),R=function odt(e,i,t){const n=mo(e);b8(n);const s=xl([n[Fr.ExtraData][0],n[Fr.ExtraData][1]],i)||[];return xl(s,t)||[]}(i,r,n),F=D.findIndex(B=>{if(Array.isArray(B)){const[V,X]=B,J=o>=V.hours&&p>=V.minutes,Q=o<X.hours||o===X.hours&&p<X.minutes;if(V.hours<X.hours){if(J&&Q)return!0}else if(J||Q)return!0}else if(B.hours===o&&B.minutes===p)return!0;return!1});if(-1!==F)return R[F]}return function tdt(e,i,t){const n=mo(e),s=xl([n[Fr.DayPeriodsFormat],n[Fr.DayPeriodsStandalone]],i);return xl(s,t)}(i,r,n)[o<12?0:1];case sr.Eras:return function ndt(e,i){return xl(mo(e)[Fr.Eras],i)}(i,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,e,i,t,n)}}function Vw(e){return function(i,t,n){const r=-1*n,s=vl(t,ks.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case wd.Short:return(r>=0?"+":"")+Zl(o,2,s)+Zl(Math.abs(r%60),2,s);case wd.ShortGMT:return"GMT"+(r>=0?"+":"")+Zl(o,1,s);case wd.Long:return"GMT"+(r>=0?"+":"")+Zl(o,2,s)+":"+Zl(Math.abs(r%60),2,s);case wd.Extended:return 0===n?"Z":(r>=0?"+":"")+Zl(o,2,s)+":"+Zl(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const vdt=0,Uw=4;function w8(e){const i=e.getDay(),t=0===i?-3:Uw-i;return Nw(e.getFullYear(),e.getMonth(),e.getDate()+t)}function o2(e,i=!1){return function(t,n){let r;if(i){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=w8(t),o=function xdt(e){const i=Nw(e,vdt,1).getDay();return Nw(e,0,1+(i<=Uw?Uw:Uw+7)-i)}(s.getFullYear()),p=s.getTime()-o.getTime();r=1+Math.round(p/6048e5)}return Zl(r,e,vl(n,ks.MinusSign))}}function zw(e,i=!1){return function(t,n){return Zl(w8(t).getFullYear(),e,vl(n,ks.MinusSign),i)}}const l2={};function T8(e,i){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?i:t}function C8(e){return e instanceof Date&&!isNaN(e.valueOf())}function A8(e,i){i=encodeURIComponent(i);for(const t of e.split(";")){const n=t.indexOf("="),[r,s]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===i)return decodeURIComponent(s)}return null}const m2=/\s+/,D8=[];let Jl=(()=>{class e{constructor(t,n){this._ngEl=t,this._renderer=n,this.initialClasses=D8,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(m2):D8}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(m2):t}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const n of t)this._updateState(n,!0);else if(null!=t)for(const n of Object.keys(t))this._updateState(n,!!t[n]);this._applyStateDiff()}_updateState(t,n){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(t,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const n=t[0],r=t[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(t,n){(t=t.trim()).length>0&&t.split(m2).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(gd))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Wt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class Ldt{constructor(i,t,n,r){this.$implicit=i,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xs=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,n,r){this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new Ldt(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const p=n.get(s);n.move(p,o),M8(p,r)}});for(let r=0,s=n.length;r<s;r++){const p=n.get(r).context;p.index=r,p.count=s,p.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{M8(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,n){return!0}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ar),ht(dr),ht(ku))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function M8(e,i){e.context.$implicit=i.item}let Qs=(()=>{class e{constructor(t,n){this._viewContainer=t,this._context=new Ndt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R8("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R8("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ar),ht(dr))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class Ndt{constructor(){this.$implicit=null,this.ngIf=null}}function R8(e,i){if(i&&!i.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Gs(i)}'.`)}let Hw=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,n,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,n,r),get:(t,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ar))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[nr]})}return e})();function ql(e,i){return new ue(2100,!1)}class Hdt{createSubscription(i,t){return h8(()=>i.subscribe({next:t,error:n=>{throw n}}))}dispose(i){h8(()=>i.unsubscribe())}}class Wdt{createSubscription(i,t){return i.then(t,n=>{throw n})}dispose(i){}}const Xdt=new Wdt,jdt=new Hdt;let v2=(()=>{class e{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(z0(t))return Xdt;if(TV(t))return jdt;throw ql()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Dn,16))};static#e=this.\u0275pipe=Pa({name:"async",type:e,pure:!1,standalone:!0})}return e})(),x2=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw ql();return t.toUpperCase()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=Pa({name:"uppercase",type:e,pure:!0,standalone:!0})}return e})();const Zdt=new qt(""),Jdt=new qt("");let Fu=(()=>{class e{constructor(t,n,r){this.locale=t,this.defaultTimezone=n,this.defaultOptions=r}transform(t,n,r,s){if(null==t||""===t||t!=t)return null;try{return fdt(t,n??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw ql()}}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Dc,16),ht(Zdt,24),ht(Jdt,24))};static#e=this.\u0275pipe=Pa({name:"date",type:e,pure:!0,standalone:!0})}return e})(),Ic=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();const F8="browser";function O8(e){return e===F8}function L8(e){return"server"===e}let uut=(()=>{class e{static#t=this.\u0275prov=Ce({token:e,providedIn:"root",factory:()=>O8(fe(fd))?new hut(fe(Ni),window):new mut})}return e})();class hut{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){const t=function fut(e,i){const t=e.getElementById(i)||e.getElementsByName(i)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(i)||s.querySelector(`[name="${i}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){const t=i.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}}class mut{setOffset(i){}getScrollPosition(){return[0,0]}scrollToPosition(i){}scrollToAnchor(i){}setHistoryScrollRestoration(i){}}class N8{}class Gut extends Xct{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class T2 extends Gut{static makeCurrent(){!function Wct(e){m8??=e}(new T2)}onAndCancel(i,t,n){return i.addEventListener(t,n),()=>{i.removeEventListener(t,n)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function Hut(){return Y0=Y0||document.querySelector("base"),Y0?Y0.getAttribute("href"):null}();return null==t?null:function Wut(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){Y0=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return A8(document.cookie,i)}}let Y0=null,jut=(()=>{class e{build(){return new XMLHttpRequest}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();const C2=new qt("");let j8=(()=>{class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,r){return this._findPluginFor(n).addEventListener(t,n,r)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(s=>s.supports(t)),!n)throw new ue(5101,!1);return this._eventNameToPlugin.set(t,n),n}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(C2),Kt(Ze))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();class Y8{constructor(i){this._doc=i}}const _2="ng-app-id";let $8=(()=>{class e{constructor(t,n,r,s={}){this.doc=t,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=L8(s),this.resetHostNodes()}addStyles(t){for(const n of t)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(t){for(const n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){const n=this.styleRef;n.get(t)?.elements?.forEach(r=>r.remove()),n.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${_2}="${this.appId}"]`);if(t?.length){const n=new Map;return t.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(t,n){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=n,s.usage}return r.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){const r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===t)return r.delete(n),s.removeAttribute(_2),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(_2,this.appId),t.appendChild(o),o}}addStyleToHost(t,n){const r=this.getStyleElement(t,n),s=this.styleRef,o=s.get(n)?.elements;o?o.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni),Kt(Zv),Kt(ZS,8),Kt(fd))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();const E2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},S2=/%COMP%/g,Kut=new qt("",{providedIn:"root",factory:()=>!0});function K8(e,i){return i.map(t=>t.replace(S2,e))}let A2=(()=>{class e{constructor(t,n,r,s,o,p,C,D=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=p,this.ngZone=C,this.nonce=D,this.rendererByCompId=new Map,this.platformIsServer=L8(p),this.defaultRenderer=new D2(t,o,C,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Gl.ShadowDom&&(n={...n,encapsulation:Gl.Emulated});const r=this.getOrCreateRenderer(t,n);return r instanceof J8?r.applyToHost(t):r instanceof I2&&r.applyStyles(),r}getOrCreateRenderer(t,n){const r=this.rendererByCompId;let s=r.get(n.id);if(!s){const o=this.doc,p=this.ngZone,C=this.eventManager,D=this.sharedStylesHost,R=this.removeStylesOnCompDestroy,F=this.platformIsServer;switch(n.encapsulation){case Gl.Emulated:s=new J8(C,D,n,this.appId,R,o,p,F);break;case Gl.ShadowDom:return new tht(C,D,t,n,o,p,this.nonce,F);default:s=new I2(C,D,n,R,o,p,F)}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(j8),Kt($8),Kt(Zv),Kt(Kut),Kt(Ni),Kt(fd),Kt(Ze),Kt(ZS))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();class D2{constructor(i,t,n,r){this.eventManager=i,this.doc=t,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(E2[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(Z8(i)?i.content:i).appendChild(t)}insertBefore(i,t,n){i&&(Z8(i)?i.content:i).insertBefore(t,n)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let n="string"==typeof i?this.doc.querySelector(i):i;if(!n)throw new ue(-5104,!1);return t||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,n,r){if(r){t=r+":"+t;const s=E2[r];s?i.setAttributeNS(s,t,n):i.setAttribute(t,n)}else i.setAttribute(t,n)}removeAttribute(i,t,n){if(n){const r=E2[n];r?i.removeAttributeNS(r,t):i.removeAttribute(`${n}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,n,r){r&(Cu.DashCase|Cu.Important)?i.style.setProperty(t,n,r&Cu.Important?"important":""):i.style[t]=n}removeStyle(i,t,n){n&Cu.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,n){null!=i&&(i[t]=n)}setValue(i,t){i.nodeValue=t}listen(i,t,n){if("string"==typeof i&&!(i=Pu().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(n))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function Z8(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class tht extends D2{constructor(i,t,n,r,s,o,p,C){super(i,s,o,C),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=K8(r.id,r.styles);for(const R of D){const F=document.createElement("style");p&&F.setAttribute("nonce",p),F.textContent=R,this.shadowRoot.appendChild(F)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,n){return super.insertBefore(this.nodeOrShadowRoot(i),t,n)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class I2 extends D2{constructor(i,t,n,r,s,o,p,C){super(i,s,o,p),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=C?K8(C,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J8 extends I2{constructor(i,t,n,r,s,o,p,C){const D=r+"-"+n.id;super(i,t,n,s,o,p,C,D),this.contentAttr=function Zut(e){return"_ngcontent-%COMP%".replace(S2,e)}(D),this.hostAttr=function Jut(e){return"_nghost-%COMP%".replace(S2,e)}(D)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const n=super.createElement(i,t);return super.setAttribute(n,this.contentAttr,""),n}}let eht=(()=>{class e extends Y8{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,r){return t.addEventListener(n,r,!1),()=>this.removeEventListener(t,n,r)}removeEventListener(t,n,r){return t.removeEventListener(n,r)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();const q8=["alt","control","meta","shift"],iht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nht={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let rht=(()=>{class e extends Y8{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pu().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(n.pop());let o="",p=n.indexOf("code");if(p>-1&&(n.splice(p,1),o="code."),q8.forEach(D=>{const R=n.indexOf(D);R>-1&&(n.splice(R,1),o+=D+".")}),o+=s,0!=n.length||0===s.length)return null;const C={};return C.domEventName=r,C.fullKey=o,C}static matchEventFullKeyCode(t,n){let r=iht[t.key]||t.key,s="";return n.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),q8.forEach(o=>{o!==r&&(0,nht[o])(t)&&(s+=o+".")}),s+=r,s===n)}static eventCallback(t,n,r){return s=>{e.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();const lht=kV(lct,"browser",[{provide:fd,useValue:F8},{provide:UN,useValue:function sht(){T2.makeCurrent()},multi:!0},{provide:Ni,useFactory:function oht(){return function iet(e){KS=e}(document),document},deps:[]}]),cht=new qt(""),i6=[{provide:ww,useClass:class Xut{addToWindow(i){cr.getAngularTestability=(n,r=!0)=>{const s=i.findTestabilityInTree(n,r);if(null==s)throw new ue(5103,!1);return s},cr.getAllAngularTestabilities=()=>i.getAllTestabilities(),cr.getAllAngularRootElements=()=>i.getAllRootElements(),cr.frameworkStabilizers||(cr.frameworkStabilizers=[]),cr.frameworkStabilizers.push(n=>{const r=cr.getAllAngularTestabilities();let s=r.length;const o=function(){s--,0==s&&n()};r.forEach(p=>{p.whenStable(o)})})}findTestabilityInTree(i,t,n){return null==t?null:i.getTestability(t)??(n?Pu().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:wV,useClass:zD,deps:[Ze,GD,ww]},{provide:zD,useClass:zD,deps:[Ze,GD,ww]}],n6=[{provide:fS,useValue:"root"},{provide:Qo,useFactory:function aht(){return new Qo},deps:[]},{provide:C2,useClass:eht,multi:!0,deps:[Ni,Ze,fd]},{provide:C2,useClass:rht,multi:!0,deps:[Ni]},A2,$8,j8,{provide:WA,useExisting:A2},{provide:N8,useClass:jut,deps:[]},[]];let r6=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Zv,useValue:t.appId}]}}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(cht,12))};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[...n6,...i6],imports:[Ic,cct]})}return e})(),dht=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),M2=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:function(n){let r=null;return r=n?new(n||e):Kt(mht),r},providedIn:"root"})}return e})(),mht=(()=>{class e extends M2{constructor(t){super(),this._doc=t}sanitize(t,n){if(null==n)return null;switch(t){case Ta.NONE:return n;case Ta.HTML:return wc(n,"HTML")?Ko(n):a4(this._doc,String(n)).toString();case Ta.STYLE:return wc(n,"Style")?Ko(n):n;case Ta.SCRIPT:if(wc(n,"Script"))return Ko(n);throw new ue(5200,!1);case Ta.URL:return wc(n,"URL")?Ko(n):E1(String(n));case Ta.RESOURCE_URL:if(wc(n,"ResourceURL"))return Ko(n);throw new ue(5201,!1);default:throw new ue(5202,!1)}}bypassSecurityTrustHtml(t){return function _et(e){return new xet(e)}(t)}bypassSecurityTrustStyle(t){return function Eet(e){return new yet(e)}(t)}bypassSecurityTrustScript(t){return function Aet(e){return new bet(e)}(t)}bypassSecurityTrustUrl(t){return function Det(e){return new wet(e)}(t)}bypassSecurityTrustResourceUrl(t){return function Iet(e){return new Tet(e)}(t)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function R2(e){return!!e&&(e instanceof lr||ee(e.lift)&&ee(e.subscribe))}function Ou(e){return this instanceof Ou?(this.v=e,this):new Ou(e)}function u6(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=function O2(e){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&e[i],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=e[s]&&function(o){return new Promise(function(p,C){!function r(s,o,p,C){Promise.resolve(C).then(function(D){s({value:D,done:p})},o)}(p,C,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const L2=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function h6(e){return ee(e?.then)}function f6(e){return ee(e[WE])}function m6(e){return Symbol.asyncIterator&&ee(e?.[Symbol.asyncIterator])}function p6(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const g6=function Lht(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function v6(e){return ee(e?.[g6])}function x6(e){return function d6(e,i,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=t.apply(e,i||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(B){n[B]&&(r[B]=function(V){return new Promise(function(X,J){s.push([B,V,X,J])>1||p(B,V)})})}function p(B,V){try{!function C(B){B.value instanceof Ou?Promise.resolve(B.value.v).then(D,R):F(s[0][2],B)}(n[B](V))}catch(X){F(s[0][3],X)}}function D(B){p("next",B)}function R(B){p("throw",B)}function F(B,V){B(V),s.shift(),s.length&&p(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:n,done:r}=yield Ou(t.read());if(r)return yield Ou(void 0);yield yield Ou(n)}}finally{t.releaseLock()}})}function y6(e){return ee(e?.getReader)}function za(e){if(e instanceof lr)return e;if(null!=e){if(f6(e))return function Nht(e){return new lr(i=>{const t=e[WE]();if(ee(t.subscribe))return t.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(L2(e))return function Bht(e){return new lr(i=>{for(let t=0;t<e.length&&!i.closed;t++)i.next(e[t]);i.complete()})}(e);if(h6(e))return function Vht(e){return new lr(i=>{e.then(t=>{i.closed||(i.next(t),i.complete())},t=>i.error(t)).then(null,_n)})}(e);if(m6(e))return b6(e);if(v6(e))return function Uht(e){return new lr(i=>{for(const t of e)if(i.next(t),i.closed)return;i.complete()})}(e);if(y6(e))return function zht(e){return b6(x6(e))}(e)}throw p6(e)}function b6(e){return new lr(i=>{(function Ght(e,i){var t,n,r,s;return function l6(e,i,t,n){return new(t||(t=Promise))(function(s,o){function p(R){try{D(n.next(R))}catch(F){o(F)}}function C(R){try{D(n.throw(R))}catch(F){o(F)}}function D(R){R.done?s(R.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(R.value).then(p,C)}D((n=n.apply(e,i||[])).next())})}(this,void 0,void 0,function*(){try{for(t=u6(e);!(n=yield t.next()).done;)if(i.next(n.value),i.closed)return}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}i.complete()})})(e,i).catch(t=>i.error(t))})}function Cd(e,i,t,n=0,r=!1){const s=i.schedule(function(){t(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!r)return s}function w6(e,i=0){return es((t,n)=>{t.subscribe(Ur(n,r=>Cd(n,e,()=>n.next(r),i),()=>Cd(n,e,()=>n.complete(),i),r=>Cd(n,e,()=>n.error(r),i)))})}function T6(e,i=0){return es((t,n)=>{n.add(e.schedule(()=>t.subscribe(n),i))})}function C6(e,i){if(!e)throw new Error("Iterable cannot be null");return new lr(t=>{Cd(t,i,()=>{const n=e[Symbol.asyncIterator]();Cd(t,i,()=>{n.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ys(e,i){return i?function $ht(e,i){if(null!=e){if(f6(e))return function Hht(e,i){return za(e).pipe(T6(i),w6(i))}(e,i);if(L2(e))return function Xht(e,i){return new lr(t=>{let n=0;return i.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}(e,i);if(h6(e))return function Wht(e,i){return za(e).pipe(T6(i),w6(i))}(e,i);if(m6(e))return C6(e,i);if(v6(e))return function jht(e,i){return new lr(t=>{let n;return Cd(t,i,()=>{n=e[g6](),Cd(t,i,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>ee(n?.return)&&n.return()})}(e,i);if(y6(e))return function Yht(e,i){return C6(x6(e),i)}(e,i)}throw p6(e)}(e,i):za(e)}function _6(e){return e&&ee(e.schedule)}function N2(e){return e[e.length-1]}function E6(e){return ee(N2(e))?e.pop():void 0}function Q0(e){return _6(N2(e))?e.pop():void 0}function xi(...e){return ys(e,Q0(e))}const{isArray:Kht}=Array,{getPrototypeOf:Zht,prototype:Jht,keys:qht}=Object;function S6(e){if(1===e.length){const i=e[0];if(Kht(i))return{args:i,keys:null};if(function tft(e){return e&&"object"==typeof e&&Zht(e)===Jht}(i)){const t=qht(i);return{args:t.map(n=>i[n]),keys:t}}}return{args:e,keys:null}}const{isArray:eft}=Array;function B2(e){return Di(i=>function ift(e,i){return eft(i)?e(...i):e(i)}(e,i))}function A6(e,i){return e.reduce((t,n,r)=>(t[n]=i[r],t),{})}function _d(...e){const i=Q0(e),t=E6(e),{args:n,keys:r}=S6(e);if(0===n.length)return ys([],i);const s=new lr(function nft(e,i,t=pu){return n=>{D6(i,()=>{const{length:r}=e,s=new Array(r);let o=r,p=r;for(let C=0;C<r;C++)D6(i,()=>{const D=ys(e[C],i);let R=!1;D.subscribe(Ur(n,F=>{s[C]=F,R||(R=!0,p--),p||n.next(t(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,i,r?o=>A6(r,o):pu));return t?s.pipe(B2(t)):s}function D6(e,i,t){e?Cd(t,e,i):i()}const Sp=le(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function la(e,i,t=1/0){return ee(i)?la((n,r)=>Di((s,o)=>i(n,s,r,o))(za(e(n,r))),t):("number"==typeof i&&(t=i),es((n,r)=>function rft(e,i,t,n,r,s,o,p){const C=[];let D=0,R=0,F=!1;const B=()=>{F&&!C.length&&!D&&i.complete()},V=J=>D<n?X(J):C.push(J),X=J=>{s&&i.next(J),D++;let Q=!1;za(t(J,R++)).subscribe(Ur(i,nt=>{r?.(nt),s?V(nt):i.next(nt)},()=>{Q=!0},void 0,()=>{if(Q)try{for(D--;C.length&&D<n;){const nt=C.shift();o?Cd(i,o,()=>X(nt)):X(nt)}B()}catch(nt){i.error(nt)}}))};return e.subscribe(Ur(i,V,()=>{F=!0,B()})),()=>{p?.()}}(n,r,e,t)))}function Ap(e=1/0){return la(pu,e)}function K0(...e){return function sft(){return Ap(1)}()(ys(e,Q0(e)))}function Dp(e){return new lr(i=>{za(e()).subscribe(i)})}function Ip(e,i){const t=ee(e)?e:()=>e,n=r=>r.error(t());return new lr(i?r=>i.schedule(n,0,r):n)}const Po=new lr(e=>e.complete());function V2(){return es((e,i)=>{let t=null;e._refCount++;const n=Ur(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),i.unsubscribe()});e.subscribe(n),n.closed||(t=e.connect())})}class U2 extends lr{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,YO(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Me;const t=this.getSubject();i.add(this.source.subscribe(Ur(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Me.EMPTY)}return i}refCount(){return V2()(this)}}function bs(e,i){return es((t,n)=>{let r=null,s=0,o=!1;const p=()=>o&&!r&&n.complete();t.subscribe(Ur(n,C=>{r?.unsubscribe();let D=0;const R=s++;za(e(C,R)).subscribe(r=Ur(n,F=>n.next(i?i(C,F,R,D++):F),()=>{r=null,p()}))},()=>{o=!0,p()}))})}function Jn(e){return e<=0?()=>Po:es((i,t)=>{let n=0;i.subscribe(Ur(t,r=>{++n<=e&&(t.next(r),e<=n&&t.complete())}))})}function ca(...e){const i=Q0(e);return es((t,n)=>{(i?K0(e,t,i):K0(e,t)).subscribe(n)})}function In(e,i){return es((t,n)=>{let r=0;t.subscribe(Ur(n,s=>e.call(i,s,r++)&&n.next(s)))})}function Yw(e){return es((i,t)=>{let n=!1;i.subscribe(Ur(t,r=>{n=!0,t.next(r)},()=>{n||t.next(e),t.complete()}))})}function I6(e=oft){return es((i,t)=>{let n=!1;i.subscribe(Ur(t,r=>{n=!0,t.next(r)},()=>n?t.complete():t.error(e())))})}function oft(){return new Sp}function yl(e,i){const t=arguments.length>=2;return n=>n.pipe(e?In((r,s)=>e(r,s,n)):pu,Jn(1),t?Yw(i):I6(()=>new Sp))}function Mp(e,i){return ee(i)?la(e,i,1):la(e,1)}function ns(e,i,t){const n=ee(e)||i||t?{next:e,error:i,complete:t}:e;return n?es((r,s)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let p=!0;r.subscribe(Ur(s,C=>{var D;null===(D=n.next)||void 0===D||D.call(n,C),s.next(C)},()=>{var C;p=!1,null===(C=n.complete)||void 0===C||C.call(n),s.complete()},C=>{var D;p=!1,null===(D=n.error)||void 0===D||D.call(n,C),s.error(C)},()=>{var C,D;p&&(null===(C=n.unsubscribe)||void 0===C||C.call(n)),null===(D=n.finalize)||void 0===D||D.call(n)}))}):pu}function Ks(e){return es((i,t)=>{let s,n=null,r=!1;n=i.subscribe(Ur(t,void 0,void 0,o=>{s=za(e(o,Ks(e)(i))),n?(n.unsubscribe(),n=null,s.subscribe(t)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(t))})}function z2(e){return e<=0?()=>Po:es((i,t)=>{let n=[];i.subscribe(Ur(t,r=>{n.push(r),e<n.length&&n.shift()},()=>{for(const r of n)t.next(r);t.complete()},void 0,()=>{n=null}))})}function $w(e){return Di(()=>e)}function Rp(e){return es((i,t)=>{try{i.subscribe(t)}finally{t.add(e)}})}function Ui(e){return es((i,t)=>{za(e).subscribe(Ur(t,()=>t.complete(),er)),!t.closed&&i.subscribe(t)})}const bn="primary",Z0=Symbol("RouteTitle");class uft{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function kp(e){return new uft(e)}function hft(e,i,t){const n=t.path.split("/");if(n.length>e.length||"full"===t.pathMatch&&(i.hasChildren()||n.length<e.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],p=e[s];if(o.startsWith(":"))r[o.substring(1)]=p;else if(o!==p.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function Mc(e,i){const t=e?G2(e):void 0,n=i?G2(i):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!M6(e[r],i[r]))return!1;return!0}function G2(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function M6(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;const t=[...e].sort(),n=[...i].sort();return t.every((r,s)=>n[s]===r)}return e===i}function R6(e){return e.length>0?e[e.length-1]:null}function Lu(e){return R2(e)?e:z0(e)?ys(Promise.resolve(e)):xi(e)}const mft={exact:function F6(e,i,t){if(!nf(e.segments,i.segments)||!Qw(e.segments,i.segments,t)||e.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!e.children[n]||!F6(e.children[n],i.children[n],t))return!1;return!0},subset:O6},k6={exact:function pft(e,i){return Mc(e,i)},subset:function gft(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(t=>M6(e[t],i[t]))},ignored:()=>!0};function P6(e,i,t){return mft[t.paths](e.root,i.root,t.matrixParams)&&k6[t.queryParams](e.queryParams,i.queryParams)&&!("exact"===t.fragment&&e.fragment!==i.fragment)}function O6(e,i,t){return L6(e,i,i.segments,t)}function L6(e,i,t,n){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!nf(r,t)||i.hasChildren()||!Qw(r,t,n))}if(e.segments.length===t.length){if(!nf(e.segments,t)||!Qw(e.segments,t,n))return!1;for(const r in i.children)if(!e.children[r]||!O6(e.children[r],i.children[r],n))return!1;return!0}{const r=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(nf(e.segments,r)&&Qw(e.segments,r,n)&&e.children[bn])&&L6(e.children[bn],i,s,n)}}function Qw(e,i,t){return i.every((n,r)=>k6[t](e[r].parameters,n.parameters))}class Pp{constructor(i=new Tr([],{}),t={},n=null){this.root=i,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=kp(this.queryParams),this._queryParamMap}toString(){return yft.serialize(this)}}class Tr{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kw(this)}}class J0{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap??=kp(this.parameters),this._parameterMap}toString(){return V6(this)}}function nf(e,i){return e.length===i.length&&e.every((t,n)=>t.path===i[n].path)}let Fp=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:()=>new H2,providedIn:"root"})}return e})();class H2{parse(i){const t=new Mft(i);return new Pp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${q0(i.root,!0)}`,n=function Tft(e){const i=Object.entries(e).map(([t,n])=>Array.isArray(n)?n.map(r=>`${Zw(t)}=${Zw(r)}`).join("&"):`${Zw(t)}=${Zw(n)}`).filter(t=>t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${n}${"string"==typeof i.fragment?`#${function bft(e){return encodeURI(e)}(i.fragment)}`:""}`}}const yft=new H2;function Kw(e){return e.segments.map(i=>V6(i)).join("/")}function q0(e,i){if(!e.hasChildren())return Kw(e);if(i){const t=e.children[bn]?q0(e.children[bn],!1):"",n=[];return Object.entries(e.children).forEach(([r,s])=>{r!==bn&&n.push(`${r}:${q0(s,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function xft(e,i){let t=[];return Object.entries(e.children).forEach(([n,r])=>{n===bn&&(t=t.concat(i(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==bn&&(t=t.concat(i(r,n)))}),t}(e,(n,r)=>r===bn?[q0(e.children[bn],!1)]:[`${r}:${q0(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[bn]?`${Kw(e)}/${t[0]}`:`${Kw(e)}/(${t.join("//")})`}}function N6(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zw(e){return N6(e).replace(/%3B/gi,";")}function W2(e){return N6(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jw(e){return decodeURIComponent(e)}function B6(e){return Jw(e.replace(/\+/g,"%20"))}function V6(e){return`${W2(e.path)}${function wft(e){return Object.entries(e).map(([i,t])=>`;${W2(i)}=${W2(t)}`).join("")}(e.parameters)}`}const Cft=/^[^\/()?;#]+/;function X2(e){const i=e.match(Cft);return i?i[0]:""}const _ft=/^[^\/()?;=#]+/,Sft=/^[^=?&#]+/,Dft=/^[^&#]+/;class Mft{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tr([],{}):new Tr([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(n[bn]=new Tr(i,t)),n}parseSegment(){const i=X2(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(i),new J0(Jw(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function Eft(e){const i=e.match(_ft);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const r=X2(this.remaining);r&&(n=r,this.capture(n))}i[Jw(t)]=Jw(n)}parseQueryParam(i){const t=function Aft(e){const i=e.match(Sft);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function Ift(e){const i=e.match(Dft);return i?i[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=B6(t),s=B6(n);if(i.hasOwnProperty(r)){let o=i[r];Array.isArray(o)||(o=[o],i[r]=o),o.push(s)}else i[r]=s}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=X2(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new ue(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):i&&(s=bn);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[bn]:new Tr([],o),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new ue(4011,!1)}}function U6(e){return e.segments.length>0?new Tr([],{[bn]:e}):e}function z6(e){const i={};for(const[n,r]of Object.entries(e.children)){const s=z6(r);if(n===bn&&0===s.segments.length&&s.hasChildren())for(const[o,p]of Object.entries(s.children))i[o]=p;else(s.segments.length>0||s.hasChildren())&&(i[n]=s)}return function Rft(e){if(1===e.numberOfChildren&&e.children[bn]){const i=e.children[bn];return new Tr(e.segments.concat(i.segments),i.children)}return e}(new Tr(e.segments,i))}function Op(e){return e instanceof Pp}function G6(e){let i;const r=U6(function t(s){const o={};for(const C of s.children){const D=t(C);o[C.outlet]=D}const p=new Tr(s.url,o);return s===e&&(i=p),p}(e.root));return i??r}function H6(e,i,t,n){let r=e;for(;r.parent;)r=r.parent;if(0===i.length)return j2(r,r,r,t,n);const s=function Pft(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new X6(!0,0,e);let i=0,t=!1;const n=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const p={};return Object.entries(s.outlets).forEach(([C,D])=>{p[C]="string"==typeof D?D.split("/"):D}),[...r,{outlets:p}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((p,C)=>{0==C&&"."===p||(0==C&&""===p?t=!0:".."===p?i++:""!=p&&r.push(p))}),r):[...r,s]},[]);return new X6(t,i,n)}(i);if(s.toRoot())return j2(r,r,new Tr([],{}),t,n);const o=function Fft(e,i,t){if(e.isAbsolute)return new tT(i,!0,0);if(!t)return new tT(i,!1,NaN);if(null===t.parent)return new tT(t,!0,0);const n=qw(e.commands[0])?0:1;return function Oft(e,i,t){let n=e,r=i,s=t;for(;s>r;){if(s-=r,n=n.parent,!n)throw new ue(4005,!1);r=n.segments.length}return new tT(n,!1,r-s)}(t,t.segments.length-1+n,e.numberOfDoubleDots)}(s,r,e),p=o.processChildren?ex(o.segmentGroup,o.index,s.commands):j6(o.segmentGroup,o.index,s.commands);return j2(r,o.segmentGroup,p,t,n)}function qw(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function tx(e){return"object"==typeof e&&null!=e&&e.outlets}function j2(e,i,t,n,r){let o,s={};n&&Object.entries(n).forEach(([C,D])=>{s[C]=Array.isArray(D)?D.map(R=>`${R}`):`${D}`}),o=e===i?t:W6(e,i,t);const p=U6(z6(o));return new Pp(p,s,r)}function W6(e,i,t){const n={};return Object.entries(e.children).forEach(([r,s])=>{n[r]=s===i?t:W6(s,i,t)}),new Tr(e.segments,n)}class X6{constructor(i,t,n){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=n,i&&n.length>0&&qw(n[0]))throw new ue(4003,!1);const r=n.find(tx);if(r&&r!==R6(n))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tT{constructor(i,t,n){this.segmentGroup=i,this.processChildren=t,this.index=n}}function j6(e,i,t){if(e??=new Tr([],{}),0===e.segments.length&&e.hasChildren())return ex(e,i,t);const n=function Nft(e,i,t){let n=0,r=i;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=t.length)return s;const o=e.segments[r],p=t[n];if(tx(p))break;const C=`${p}`,D=n<t.length-1?t[n+1]:null;if(r>0&&void 0===C)break;if(C&&D&&"object"==typeof D&&void 0===D.outlets){if(!$6(C,D,o))return s;n+=2}else{if(!$6(C,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(e,i,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const s=new Tr(e.segments.slice(0,n.pathIndex),{});return s.children[bn]=new Tr(e.segments.slice(n.pathIndex),e.children),ex(s,0,r)}return n.match&&0===r.length?new Tr(e.segments,{}):n.match&&!e.hasChildren()?Y2(e,i,t):n.match?ex(e,0,r):Y2(e,i,t)}function ex(e,i,t){if(0===t.length)return new Tr(e.segments,{});{const n=function Lft(e){return tx(e[0])?e[0].outlets:{[bn]:e}}(t),r={};if(Object.keys(n).some(s=>s!==bn)&&e.children[bn]&&1===e.numberOfChildren&&0===e.children[bn].segments.length){const s=ex(e.children[bn],i,t);return new Tr(e.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=j6(e.children[s],i,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===n[s]&&(r[s]=o)}),new Tr(e.segments,r)}}function Y2(e,i,t){const n=e.segments.slice(0,i);let r=0;for(;r<t.length;){const s=t[r];if(tx(s)){const C=Bft(s.outlets);return new Tr(n,C)}if(0===r&&qw(t[0])){n.push(new J0(e.segments[i].path,Y6(t[0]))),r++;continue}const o=tx(s)?s.outlets[bn]:`${s}`,p=r<t.length-1?t[r+1]:null;o&&p&&qw(p)?(n.push(new J0(o,Y6(p))),r+=2):(n.push(new J0(o,{})),r++)}return new Tr(n,{})}function Bft(e){const i={};return Object.entries(e).forEach(([t,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(i[t]=Y2(new Tr([],{}),0,n))}),i}function Y6(e){const i={};return Object.entries(e).forEach(([t,n])=>i[t]=`${n}`),i}function $6(e,i,t){return e==t.path&&Mc(i,t.parameters)}const ix="imperative";var Hn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Hn||{});class Rc{constructor(i,t){this.id=i,this.url=t}}class eT extends Rc{constructor(i,t,n="imperative",r=null){super(i,t),this.type=Hn.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kc extends Rc{constructor(i,t,n){super(i,t),this.urlAfterRedirects=n,this.type=Hn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var tl=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(tl||{}),iT=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(iT||{});class Lp extends Rc{constructor(i,t,n,r){super(i,t),this.reason=n,this.code=r,this.type=Hn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Np extends Rc{constructor(i,t,n,r){super(i,t),this.reason=n,this.code=r,this.type=Hn.NavigationSkipped}}class nT extends Rc{constructor(i,t,n,r){super(i,t),this.error=n,this.target=r,this.type=Hn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Q6 extends Rc{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Hn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vft extends Rc{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Hn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uft extends Rc{constructor(i,t,n,r,s){super(i,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=Hn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zft extends Rc{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Hn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gft extends Rc{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Hn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hft{constructor(i){this.route=i,this.type=Hn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wft{constructor(i){this.route=i,this.type=Hn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xft{constructor(i){this.snapshot=i,this.type=Hn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jft{constructor(i){this.snapshot=i,this.type=Hn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yft{constructor(i){this.snapshot=i,this.type=Hn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $ft{constructor(i){this.snapshot=i,this.type=Hn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K6{constructor(i,t,n){this.routerEvent=i,this.position=t,this.anchor=n,this.type=Hn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $2{}class Q2{constructor(i){this.url=i}}class Qft{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new nx,this.attachRef=null}}let nx=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new Qft,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Z6{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=K2(i,this._root);return t?t.children.map(n=>n.value):[]}firstChild(i){const t=K2(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=Z2(i,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return Z2(i,this._root).map(t=>t.value)}}function K2(e,i){if(e===i.value)return i;for(const t of i.children){const n=K2(e,t);if(n)return n}return null}function Z2(e,i){if(e===i.value)return[i];for(const t of i.children){const n=Z2(e,t);if(n.length)return n.unshift(i),n}return[]}class tc{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bp(e){const i={};return e&&e.children.forEach(t=>i[t.value.outlet]=t),i}class J6 extends Z6{constructor(i,t){super(i),this.snapshot=t,tI(this,i)}toString(){return this.snapshot.toString()}}function q6(e){const i=function Kft(e){const s=new q2([],{},{},"",{},bn,e,null,{});return new t9("",new tc(s,[]))}(e),t=new Vr([new J0("",{})]),n=new Vr({}),r=new Vr({}),s=new Vr({}),o=new Vr(""),p=new ec(t,n,s,o,r,bn,e,i.root);return p.snapshot=i.root,new J6(new tc(p,[]),i)}class ec{constructor(i,t,n,r,s,o,p,C){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=p,this._futureSnapshot=C,this.title=this.dataSubject?.pipe(Di(D=>D[Z0]))??xi(void 0),this.url=i,this.params=t,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Di(i=>kp(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Di(i=>kp(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function J2(e,i,t="emptyOnly"){let n;const{routeConfig:r}=e;return n=null===i||"always"!==t&&""!==r?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...i.params,...e.params},data:{...i.data,...e.data},resolve:{...e.data,...i.data,...r?.data,...e._resolvedData}},r&&i9(r)&&(n.resolve[Z0]=r.title),n}class q2{get title(){return this.data?.[Z0]}constructor(i,t,n,r,s,o,p,C,D){this.url=i,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=p,this.routeConfig=C,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kp(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class t9 extends Z6{constructor(i,t){super(t),this.url=i,tI(this,t)}toString(){return e9(this._root)}}function tI(e,i){i.value._routerState=e,i.children.forEach(t=>tI(e,t))}function e9(e){const i=e.children.length>0?` { ${e.children.map(e9).join(", ")} } `:"";return`${e.value}${i}`}function eI(e){if(e.snapshot){const i=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Mc(i.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Mc(i.params,t.params)||e.paramsSubject.next(t.params),function fft(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;++t)if(!Mc(e[t],i[t]))return!1;return!0}(i.url,t.url)||e.urlSubject.next(t.url),Mc(i.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function iI(e,i){const t=Mc(e.params,i.params)&&function vft(e,i){return nf(e,i)&&e.every((t,n)=>Mc(t.parameters,i[n].parameters))}(e.url,i.url);return t&&!(!e.parent!=!i.parent)&&(!e.parent||iI(e.parent,i.parent))}function i9(e){return"string"==typeof e.title||null===e.title}let nI=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=bn,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=fe(nx),this.location=fe(Ar),this.changeDetector=fe(Dn),this.environmentInjector=fe(Do),this.inputBinder=fe(rT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:n,previousValue:r}=t.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,C=new Zft(t,p,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:C,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]})}return e})();class Zft{constructor(i,t,n){this.route=i,this.childContexts=t,this.parent=n,this.__ngOutletInjector=!0}get(i,t){return i===ec?this.route:i===nx?this.childContexts:this.parent.get(i,t)}}const rT=new qt("");let n9=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:n}=t,r=_d([n.queryParams,n.params,n.data]).pipe(bs(([s,o,p],C)=>(p={...s,...o,...p},0===C?xi(p):Promise.resolve(p)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(t);const o=function Hct(e){const i=Sn(e);if(!i)return null;const t=new T0(i);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(n.component);if(o)for(const{templateName:p}of o.inputs)t.activatedComponentRef.setInput(p,s[p]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function rx(e,i,t){if(t&&e.shouldReuseRoute(i.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=i.value;const r=function qft(e,i,t){return i.children.map(n=>{for(const r of t.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return rx(e,n,r);return rx(e,n)})}(e,i,t);return new tc(n,r)}{if(e.shouldAttach(i.value)){const s=e.retrieve(i.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=i.value,o.children=i.children.map(p=>rx(e,p)),o}}const n=function tmt(e){return new ec(new Vr(e.url),new Vr(e.params),new Vr(e.queryParams),new Vr(e.fragment),new Vr(e.data),e.outlet,e.component,e)}(i.value),r=i.children.map(s=>rx(e,s));return new tc(n,r)}}const r9="ngNavigationCancelingError";function s9(e,i){const{redirectTo:t,navigationBehaviorOptions:n}=Op(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=a9(!1,tl.Redirect);return r.url=t,r.navigationBehaviorOptions=n,r}function a9(e,i){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[r9]=!0,t.cancellationCode=i,t}function o9(e){return!!e&&e[r9]}let l9=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=He({type:e,selectors:[["ng-component"]],standalone:!0,features:[Bi],decls:1,vars:0,template:function(n,r){1&n&&be(0,"router-outlet")},dependencies:[nI],encapsulation:2})}return e})();function rI(e){const i=e.children&&e.children.map(rI),t=i?{...e,children:i}:{...e};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==bn&&(t.component=l9),t}function Pc(e){return e.outlet||bn}function sx(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lmt{constructor(i,t,n,r,s){this.routeReuseStrategy=i,this.futureState=t,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(i){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,i),eI(this.futureState.root),this.activateChildRoutes(t,n,i)}deactivateChildRoutes(i,t,n){const r=Bp(t);i.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(i,t,n){const r=i.value,s=t?t.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(i,t,o.children)}else this.deactivateChildRoutes(i,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const n=t.getContext(i.value.outlet),r=n&&i.value.component?n.children:t,s=Bp(i);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){const o=n.outlet.detach(),p=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:p})}}deactivateRouteAndOutlet(i,t){const n=t.getContext(i.value.outlet),r=n&&i.value.component?n.children:t,s=Bp(i);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,t,n){const r=Bp(t);i.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new $ft(s.value.snapshot))}),i.children.length&&this.forwardEvent(new jft(i.value.snapshot))}activateRoutes(i,t,n){const r=i.value,s=t?t.value:null;if(eI(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(i,t,o.children)}else this.activateChildRoutes(i,t,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const p=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(p.contexts),o.attachRef=p.componentRef,o.route=p.route.value,o.outlet&&o.outlet.attach(p.componentRef,p.route.value),eI(p.route.value),this.activateChildRoutes(i,null,o.children)}else{const p=sx(r.snapshot);o.attachRef=null,o.route=r,o.injector=p,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(i,null,o.children)}}else this.activateChildRoutes(i,null,n)}}class c9{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class sT{constructor(i,t){this.component=i,this.route=t}}function cmt(e,i,t){const n=e._root;return ax(n,i?i._root:null,t,[n.value])}function Vp(e,i){const t=Symbol(),n=i.get(e,t);return n===t?"function"!=typeof e||function LJ(e){return null!==Vb(e)}(e)?i.get(e):e:n}function ax(e,i,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bp(i);return e.children.forEach(o=>{(function umt(e,i,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=i?i.value:null,p=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const C=function hmt(e,i,t){if("function"==typeof t)return t(e,i);switch(t){case"pathParamsChange":return!nf(e.url,i.url);case"pathParamsOrQueryParamsChange":return!nf(e.url,i.url)||!Mc(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iI(e,i)||!Mc(e.queryParams,i.queryParams);default:return!iI(e,i)}}(o,s,s.routeConfig.runGuardsAndResolvers);C?r.canActivateChecks.push(new c9(n)):(s.data=o.data,s._resolvedData=o._resolvedData),ax(e,i,s.component?p?p.children:null:t,n,r),C&&p&&p.outlet&&p.outlet.isActivated&&r.canDeactivateChecks.push(new sT(p.outlet.component,o))}else o&&ox(i,p,r),r.canActivateChecks.push(new c9(n)),ax(e,null,s.component?p?p.children:null:t,n,r)})(o,s[o.value.outlet],t,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,p])=>ox(p,t.getContext(o),r)),r}function ox(e,i,t){const n=Bp(e),r=e.value;Object.entries(n).forEach(([s,o])=>{ox(o,r.component?i?i.children.getContext(s):null:i,t)}),t.canDeactivateChecks.push(new sT(r.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,r))}function lx(e){return"function"==typeof e}function d9(e){return e instanceof Sp||"EmptyError"===e?.name}const aT=Symbol("INITIAL_VALUE");function Up(){return bs(e=>_d(e.map(i=>i.pipe(Jn(1),ca(aT)))).pipe(Di(i=>{for(const t of i)if(!0!==t){if(t===aT)return aT;if(!1===t||t instanceof Pp)return t}return!0}),In(i=>i!==aT),Jn(1)))}function u9(e){return function SJ(...e){return WO(e)}(ns(i=>{if(Op(i))throw s9(0,i)}),Di(i=>!0===i))}class sI{constructor(i){this.segmentGroup=i||null}}class aI extends Error{constructor(i){super(),this.urlTree=i}}function zp(e){return Ip(new sI(e))}class Rmt{constructor(i,t){this.urlSerializer=i,this.urlTree=t}lineralizeSegments(i,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return xi(n);if(r.numberOfChildren>1||!r.children[bn])return Ip(new ue(4e3,!1));r=r.children[bn]}}applyRedirectCommands(i,t,n){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,n);if(t.startsWith("/"))throw new aI(r);return r}applyRedirectCreateUrlTree(i,t,n,r){const s=this.createSegmentGroup(i,t.root,n,r);return new Pp(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const n={};return Object.entries(i).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);n[r]=t[p]}else n[r]=s}),n}createSegmentGroup(i,t,n,r){const s=this.createSegments(i,t.segments,n,r);let o={};return Object.entries(t.children).forEach(([p,C])=>{o[p]=this.createSegmentGroup(i,C,n,r)}),new Tr(s,o)}createSegments(i,t,n,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(i,s,r):this.findOrReturn(s,n))}findPosParam(i,t,n){const r=n[t.path.substring(1)];if(!r)throw new ue(4001,!1);return r}findOrReturn(i,t){let n=0;for(const r of t){if(r.path===i.path)return t.splice(n),r;n++}return i}}const oI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kmt(e,i,t,n,r){const s=lI(e,i,t);return s.matched?(n=function imt(e,i){return e.providers&&!e._injector&&(e._injector=Z1(e.providers,i,`Route: ${e.path}`)),e._injector??i}(i,n),function Dmt(e,i,t,n){const r=i.canMatch;return r&&0!==r.length?xi(r.map(o=>{const p=Vp(o,e);return Lu(function xmt(e){return e&&lx(e.canMatch)}(p)?p.canMatch(i,t):mc(e,()=>p(i,t)))})).pipe(Up(),u9()):xi(!0)}(n,i,t).pipe(Di(o=>!0===o?s:{...oI}))):xi(s)}function lI(e,i,t){if("**"===i.path)return function Pmt(e){return{matched:!0,parameters:e.length>0?R6(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===i.path)return"full"===i.pathMatch&&(e.hasChildren()||t.length>0)?{...oI}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(i.matcher||hft)(t,e,i);if(!r)return{...oI};const s={};Object.entries(r.posParams??{}).forEach(([p,C])=>{s[p]=C.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function h9(e,i,t,n){return t.length>0&&function Lmt(e,i,t){return t.some(n=>oT(e,i,n)&&Pc(n)!==bn)}(e,t,n)?{segmentGroup:new Tr(i,Omt(n,new Tr(t,e.children))),slicedSegments:[]}:0===t.length&&function Nmt(e,i,t){return t.some(n=>oT(e,i,n))}(e,t,n)?{segmentGroup:new Tr(e.segments,Fmt(e,t,n,e.children)),slicedSegments:t}:{segmentGroup:new Tr(e.segments,e.children),slicedSegments:t}}function Fmt(e,i,t,n){const r={};for(const s of t)if(oT(e,i,s)&&!n[Pc(s)]){const o=new Tr([],{});r[Pc(s)]=o}return{...n,...r}}function Omt(e,i){const t={};t[bn]=i;for(const n of e)if(""===n.path&&Pc(n)!==bn){const r=new Tr([],{});t[Pc(n)]=r}return t}function oT(e,i,t){return(!(e.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class Umt{}class Hmt{constructor(i,t,n,r,s,o,p){this.injector=i,this.configLoader=t,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=p,this.applyRedirects=new Rmt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new ue(4002,`'${i.segmentGroup}'`)}recognize(){const i=h9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(Di(t=>{const n=new q2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bn,this.rootComponentType,null,{}),r=new tc(n,t),s=new t9("",r),o=function kft(e,i,t=null,n=null){return H6(G6(e),i,t,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i,bn).pipe(Ks(n=>{if(n instanceof aI)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof sI?this.noMatchError(n):n}))}inheritParamsAndData(i,t){const n=i.value,r=J2(n,t,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),i.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(i,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,t,n):this.processSegment(i,t,n,n.segments,r,!0).pipe(Di(s=>s instanceof tc?[s]:[]))}processChildren(i,t,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return ys(r).pipe(Mp(s=>{const o=n.children[s],p=function amt(e,i){const t=e.filter(n=>Pc(n)===i);return t.push(...e.filter(n=>Pc(n)!==i)),t}(t,s);return this.processSegmentGroup(i,p,o,s)}),function cft(e,i){return es(function lft(e,i,t,n,r){return(s,o)=>{let p=t,C=i,D=0;s.subscribe(Ur(o,R=>{const F=D++;C=p?e(C,R,F):(p=!0,R),n&&o.next(C)},r&&(()=>{p&&o.next(C),o.complete()})))}}(e,i,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Yw(null),function dft(e,i){const t=arguments.length>=2;return n=>n.pipe(e?In((r,s)=>e(r,s,n)):pu,z2(1),t?Yw(i):I6(()=>new Sp))}(),la(s=>{if(null===s)return zp(n);const o=f9(s);return function Wmt(e){e.sort((i,t)=>i.value.outlet===bn?-1:t.value.outlet===bn?1:i.value.outlet.localeCompare(t.value.outlet))}(o),xi(o)}))}processSegment(i,t,n,r,s,o){return ys(t).pipe(Mp(p=>this.processSegmentAgainstRoute(p._injector??i,t,p,n,r,s,o).pipe(Ks(C=>{if(C instanceof sI)return xi(null);throw C}))),yl(p=>!!p),Ks(p=>{if(d9(p))return function Vmt(e,i,t){return 0===i.length&&!e.children[t]}(n,r,s)?xi(new Umt):zp(n);throw p}))}processSegmentAgainstRoute(i,t,n,r,s,o,p){return function Bmt(e,i,t,n){return!!(Pc(e)===n||n!==bn&&oT(i,t,e))&&lI(i,e,t).matched}(n,r,s,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(i,r,n,s,o):this.allowRedirects&&p?this.expandSegmentAgainstRouteUsingRedirect(i,r,t,n,s,o):zp(r):zp(r)}expandSegmentAgainstRouteUsingRedirect(i,t,n,r,s,o){const{matched:p,consumedSegments:C,positionalParamSegments:D,remainingSegments:R}=lI(t,r,s);if(!p)return zp(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const F=this.applyRedirects.applyRedirectCommands(C,r.redirectTo,D);return this.applyRedirects.lineralizeSegments(r,F).pipe(la(B=>this.processSegment(i,n,t,B.concat(R),o,!1)))}matchSegmentAgainstRoute(i,t,n,r,s){const o=kmt(t,n,r,i);return"**"===n.path&&(t.children={}),o.pipe(bs(p=>p.matched?this.getChildConfig(i=n._injector??i,n,r).pipe(bs(({routes:C})=>{const D=n._loadedInjector??i,{consumedSegments:R,remainingSegments:F,parameters:B}=p,V=new q2(R,B,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function jmt(e){return e.data||{}}(n),Pc(n),n.component??n._loadedComponent??null,n,function Ymt(e){return e.resolve||{}}(n)),{segmentGroup:X,slicedSegments:J}=h9(t,R,F,C);if(0===J.length&&X.hasChildren())return this.processChildren(D,C,X).pipe(Di(nt=>null===nt?null:new tc(V,nt)));if(0===C.length&&0===J.length)return xi(new tc(V,[]));const Q=Pc(n)===s;return this.processSegment(D,C,X,J,Q?bn:s,!0).pipe(Di(nt=>new tc(V,nt instanceof tc?[nt]:[])))})):zp(t)))}getChildConfig(i,t,n){return t.children?xi({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?xi({routes:t._loadedRoutes,injector:t._loadedInjector}):function Amt(e,i,t,n){const r=i.canLoad;return void 0===r||0===r.length?xi(!0):xi(r.map(o=>{const p=Vp(o,e);return Lu(function mmt(e){return e&&lx(e.canLoad)}(p)?p.canLoad(i,t):mc(e,()=>p(i,t)))})).pipe(Up(),u9())}(i,t,n).pipe(la(r=>r?this.configLoader.loadChildren(i,t).pipe(ns(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Mmt(e){return Ip(a9(!1,tl.GuardRejected))}())):xi({routes:[],injector:i})}}function Xmt(e){const i=e.value.routeConfig;return i&&""===i.path}function f9(e){const i=[],t=new Set;for(const n of e){if(!Xmt(n)){i.push(n);continue}const r=i.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),t.add(r)):i.push(n)}for(const n of t){const r=f9(n.children);i.push(new tc(n.value,r))}return i.filter(n=>!t.has(n))}function m9(e){const i=e.children.map(t=>m9(t)).flat();return[e,...i]}function cI(e){return bs(i=>{const t=e(i);return t?ys(t).pipe(Di(()=>i)):xi(i)})}let p9=(()=>{class e{buildTitle(t){let n,r=t.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===bn);return n}getResolvedTitleForRoute(t){return t.data[Z0]}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:()=>fe(qmt),providedIn:"root"})}return e})(),qmt=(()=>{class e extends p9{constructor(t){super(),this.title=t}updateTitle(t){const n=this.buildTitle(t);void 0!==n&&this.title.setTitle(n)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(dht))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Gp=new qt("",{providedIn:"root",factory:()=>({})}),Hp=new qt("");let dI=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fe(SV)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xi(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const n=Lu(t.loadComponent()).pipe(Di(g9),ns(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Rp(()=>{this.componentLoaders.delete(t)})),r=new U2(n,()=>new ke).pipe(V2());return this.componentLoaders.set(t,r),r}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return xi({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=function tpt(e,i,t,n){return Lu(e.loadChildren()).pipe(Di(g9),la(r=>r instanceof Q3||Array.isArray(r)?xi(r):ys(i.compileModuleAsync(r))),Di(r=>{n&&n(e);let s,o,p=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(Hp,[],{optional:!0,self:!0}).flat()),{routes:o.map(rI),injector:s}}))}(n,this.compiler,t,this.onLoadEndListener).pipe(Rp(()=>{this.childrenLoaders.delete(n)})),o=new U2(s,()=>new ke).pipe(V2());return this.childrenLoaders.set(n,o),o}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function g9(e){return function ept(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let uI=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:()=>fe(ipt),providedIn:"root"})}return e})(),ipt=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const v9=new qt(""),x9=new qt("");function npt(e,i,t){const n=e.get(x9),r=e.get(Ni);return e.get(Ze).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(D=>{s=D}),p=r.startViewTransition(()=>(s(),function rpt(e){return new Promise(i=>{f3(i,{injector:e})})}(e))),{onViewTransitionCreated:C}=n;return C&&mc(e,()=>C({transition:p,from:i,to:t})),o})}let lT=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ke,this.transitionAbortSubject=new ke,this.configLoader=fe(dI),this.environmentInjector=fe(Do),this.urlSerializer=fe(Fp),this.rootContexts=fe(nx),this.location=fe(ef),this.inputBindingEnabled=null!==fe(rT,{optional:!0}),this.titleStrategy=fe(p9),this.options=fe(Gp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=fe(uI),this.createViewTransition=fe(v9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>xi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Wft(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Hft(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:n})}setupNavigations(t,n,r){return this.transitions=new Vr({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ix,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(In(s=>0!==s.id),Di(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),bs(s=>{let o=!1,p=!1;return xi(s).pipe(bs(C=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",tl.SupersededByNewNavigation),Po;this.currentTransition=s,this.currentNavigation={id:C.id,initialUrl:C.rawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const D=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!D&&"reload"!==(C.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const F="";return this.events.next(new Np(C.id,this.urlSerializer.serialize(C.rawUrl),F,iT.IgnoredSameUrlNavigation)),C.resolve(null),Po}if(this.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return xi(C).pipe(bs(F=>{const B=this.transitions?.getValue();return this.events.next(new eT(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),B!==this.transitions?.getValue()?Po:Promise.resolve(F)}),function $mt(e,i,t,n,r,s){return la(o=>function zmt(e,i,t,n,r,s,o="emptyOnly"){return new Hmt(e,i,t,n,r,o,s).recognize()}(e,i,t,n,o.extractedUrl,r,s).pipe(Di(({state:p,tree:C})=>({...o,targetSnapshot:p,urlAfterRedirects:C}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ns(F=>{s.targetSnapshot=F.targetSnapshot,s.urlAfterRedirects=F.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects};const B=new Q6(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(B)}));if(D&&this.urlHandlingStrategy.shouldProcessUrl(C.currentRawUrl)){const{id:F,extractedUrl:B,source:V,restoredState:X,extras:J}=C,Q=new eT(F,this.urlSerializer.serialize(B),V,X);this.events.next(Q);const nt=q6(this.rootComponentType).snapshot;return this.currentTransition=s={...C,targetSnapshot:nt,urlAfterRedirects:B,extras:{...J,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=B,xi(s)}{const F="";return this.events.next(new Np(C.id,this.urlSerializer.serialize(C.extractedUrl),F,iT.IgnoredByUrlHandlingStrategy)),C.resolve(null),Po}}),ns(C=>{const D=new Vft(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(D)}),Di(C=>(this.currentTransition=s={...C,guards:cmt(C.targetSnapshot,C.currentSnapshot,this.rootContexts)},s)),function ymt(e,i){return la(t=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?xi({...t,guardsResult:!0}):function bmt(e,i,t,n){return ys(e).pipe(la(r=>function Smt(e,i,t,n,r){const s=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return s&&0!==s.length?xi(s.map(p=>{const C=sx(i)??r,D=Vp(p,C);return Lu(function vmt(e){return e&&lx(e.canDeactivate)}(D)?D.canDeactivate(e,i,t,n):mc(C,()=>D(e,i,t,n))).pipe(yl())})).pipe(Up()):xi(!0)}(r.component,r.route,t,i,n)),yl(r=>!0!==r,!0))}(o,n,r,e).pipe(la(p=>p&&function fmt(e){return"boolean"==typeof e}(p)?function wmt(e,i,t,n){return ys(i).pipe(Mp(r=>K0(function Cmt(e,i){return null!==e&&i&&i(new Xft(e)),xi(!0)}(r.route.parent,n),function Tmt(e,i){return null!==e&&i&&i(new Yft(e)),xi(!0)}(r.route,n),function Emt(e,i,t){const n=i[i.length-1],s=i.slice(0,i.length-1).reverse().map(o=>function dmt(e){const i=e.routeConfig?e.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:e,guards:i}:null}(o)).filter(o=>null!==o).map(o=>Dp(()=>xi(o.guards.map(C=>{const D=sx(o.node)??t,R=Vp(C,D);return Lu(function gmt(e){return e&&lx(e.canActivateChild)}(R)?R.canActivateChild(n,e):mc(D,()=>R(n,e))).pipe(yl())})).pipe(Up())));return xi(s).pipe(Up())}(e,r.path,t),function _mt(e,i,t){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return xi(!0);const r=n.map(s=>Dp(()=>{const o=sx(i)??t,p=Vp(s,o);return Lu(function pmt(e){return e&&lx(e.canActivate)}(p)?p.canActivate(i,e):mc(o,()=>p(i,e))).pipe(yl())}));return xi(r).pipe(Up())}(e,r.route,t))),yl(r=>!0!==r,!0))}(n,s,e,i):xi(p)),Di(p=>({...t,guardsResult:p})))})}(this.environmentInjector,C=>this.events.next(C)),ns(C=>{if(s.guardsResult=C.guardsResult,Op(C.guardsResult))throw s9(0,C.guardsResult);const D=new Uft(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.events.next(D)}),In(C=>!!C.guardsResult||(this.cancelNavigationTransition(C,"",tl.GuardRejected),!1)),cI(C=>{if(C.guards.canActivateChecks.length)return xi(C).pipe(ns(D=>{const R=new zft(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(R)}),bs(D=>{let R=!1;return xi(D).pipe(function Qmt(e,i){return la(t=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return xi(t);const s=new Set(r.map(C=>C.route)),o=new Set;for(const C of s)if(!o.has(C))for(const D of m9(C))o.add(D);let p=0;return ys(o).pipe(Mp(C=>s.has(C)?function Kmt(e,i,t,n){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!i9(r)&&(s[Z0]=r.title),function Zmt(e,i,t,n){const r=G2(e);if(0===r.length)return xi({});const s={};return ys(r).pipe(la(o=>function Jmt(e,i,t,n){const r=sx(i)??n,s=Vp(e,r);return Lu(s.resolve?s.resolve(i,t):mc(r,()=>s(i,t)))}(e[o],i,t,n).pipe(yl(),ns(p=>{s[o]=p}))),z2(1),$w(s),Ks(o=>d9(o)?Po:Ip(o)))}(s,e,i,n).pipe(Di(o=>(e._resolvedData=o,e.data=J2(e,e.parent,t).resolve,null)))}(C,n,e,i):(C.data=J2(C,C.parent,e).resolve,xi(void 0))),ns(()=>p++),z2(1),la(C=>p===o.size?xi(t):Po))})}(this.paramsInheritanceStrategy,this.environmentInjector),ns({next:()=>R=!0,complete:()=>{R||this.cancelNavigationTransition(D,"",tl.NoDataFromResolver)}}))}),ns(D=>{const R=new Gft(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(R)}))}),cI(C=>{const D=R=>{const F=[];R.routeConfig?.loadComponent&&!R.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(R.routeConfig).pipe(ns(B=>{R.component=B}),Di(()=>{})));for(const B of R.children)F.push(...D(B));return F};return _d(D(C.targetSnapshot.root)).pipe(Yw(null),Jn(1))}),cI(()=>this.afterPreactivation()),bs(()=>{const{currentSnapshot:C,targetSnapshot:D}=s,R=this.createViewTransition?.(this.environmentInjector,C.root,D.root);return R?ys(R).pipe(Di(()=>s)):xi(s)}),Di(C=>{const D=function Jft(e,i,t){const n=rx(e,i._root,t?t._root:void 0);return new J6(n,i)}(t.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return this.currentTransition=s={...C,targetRouterState:D},this.currentNavigation.targetRouterState=D,s}),ns(()=>{this.events.next(new $2)}),((e,i,t,n)=>Di(r=>(new lmt(i,r.targetRouterState,r.currentRouterState,t,n).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,C=>this.events.next(C),this.inputBindingEnabled),Jn(1),ns({next:C=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kc(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects))),this.titleStrategy?.updateTitle(C.targetRouterState.snapshot),C.resolve(!0)},complete:()=>{o=!0}}),Ui(this.transitionAbortSubject.pipe(ns(C=>{throw C}))),Rp(()=>{!o&&!p&&this.cancelNavigationTransition(s,"",tl.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ks(C=>{if(p=!0,o9(C))this.events.next(new Lp(s.id,this.urlSerializer.serialize(s.extractedUrl),C.message,C.cancellationCode)),function emt(e){return o9(e)&&Op(e.url)}(C)?this.events.next(new Q2(C.url)):s.resolve(!1);else{this.events.next(new nT(s.id,this.urlSerializer.serialize(s.extractedUrl),C,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(C))}catch(D){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(D)}}return Po}))}))}cancelNavigationTransition(t,n,r){const s=new Lp(t.id,this.urlSerializer.serialize(t.extractedUrl),n,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function spt(e){return e!==ix}let apt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:()=>fe(lpt),providedIn:"root"})}return e})();class opt{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let lpt=(()=>{class e extends opt{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),y9=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:()=>fe(cpt),providedIn:"root"})}return e})(),cpt=(()=>{class e extends y9{constructor(){super(...arguments),this.location=fe(ef),this.urlSerializer=fe(Fp),this.options=fe(Gp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=fe(uI),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pp,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=q6(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{"popstate"===n.type&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof eT)this.stateMemento=this.createStateMemento();else if(t instanceof Np)this.rawUrlTree=n.initialUrl;else if(t instanceof Q6){if("eager"===this.urlUpdateStrategy&&!n.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(r,n)}}else t instanceof $2?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):t instanceof Lp&&(t.code===tl.GuardRejected||t.code===tl.NoDataFromResolver)?this.restoreHistory(n):t instanceof nT?this.restoreHistory(n,!0):t instanceof kc&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cx=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(cx||{});function b9(e,i){e.events.pipe(In(t=>t instanceof kc||t instanceof Lp||t instanceof nT||t instanceof Np),Di(t=>t instanceof kc||t instanceof Np?cx.COMPLETE:t instanceof Lp&&(t.code===tl.Redirect||t.code===tl.SupersededByNewNavigation)?cx.REDIRECTING:cx.FAILED),In(t=>t!==cx.REDIRECTING),Jn(1)).subscribe(()=>{i()})}function dpt(e){throw e}const upt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hpt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vo=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=fe(gV),this.stateManager=fe(y9),this.options=fe(Gp,{optional:!0})||{},this.pendingTasks=fe(Su),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=fe(lT),this.urlSerializer=fe(Fp),this.location=fe(ef),this.urlHandlingStrategy=fe(uI),this._events=new ke,this.errorHandler=this.options.errorHandler||dpt,this.navigated=!1,this.routeReuseStrategy=fe(apt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=fe(Hp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!fe(rT,{optional:!0}),this.eventsSubscription=new Me,this.isNgZoneEnabled=fe(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(n=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(n,s),n instanceof Lp&&n.code!==tl.Redirect&&n.code!==tl.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof kc)this.navigated=!0;else if(n instanceof Q2){const o=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),p={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||spt(r.source)};this.scheduleNavigation(o,ix,null,p,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function mpt(e){return!(e instanceof $2||e instanceof Q2)})(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ix,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const C={...r};delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(s.state=C)}const p=this.parseUrl(t);this.scheduleNavigation(p,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(rI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:p,preserveFragment:C}=n,D=C?this.currentUrlTree.fragment:o;let F,R=null;switch(p){case"merge":R={...this.currentUrlTree.queryParams,...s};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=s||null}null!==R&&(R=this.removeEmptyProps(R));try{F=G6(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),F=this.currentUrlTree.root}return H6(F,t,R,D??null)}navigateByUrl(t,n={skipLocationChange:!1}){const r=Op(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,ix,null,n)}navigate(t,n={skipLocationChange:!1}){return function fpt(e){for(let i=0;i<e.length;i++)if(null==e[i])throw new ue(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let r;if(r=!0===n?{...upt}:!1===n?{...hpt}:n,Op(t))return P6(this.currentUrlTree,t,r);const s=this.parseUrl(t);return P6(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((n,[r,s])=>(null!=s&&(n[r]=s),n),{})}scheduleNavigation(t,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let p,C,D;o?(p=o.resolve,C=o.reject,D=o.promise):D=new Promise((F,B)=>{p=F,C=B});const R=this.pendingTasks.add();return b9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(R))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:p,reject:C,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(F=>Promise.reject(F))}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class w9{}let vpt=(()=>{class e{constructor(t,n,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(In(t=>t instanceof kc),Mp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=Z1(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,p=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(p,s.children??s._loadedRoutes))}return ys(r).pipe(Ap())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(t,n):xi(null);const s=r.pipe(la(o=>null===o?xi(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return n.loadComponent&&!n._loadedComponent?ys([s,this.loader.loadComponent(n)]).pipe(Ap()):s})}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(vo),Kt(SV),Kt(Do),Kt(w9),Kt(dI))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const fI=new qt("");let T9=(()=>{class e{constructor(t,n,r,s,o={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof eT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Np&&t.code===iT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof K6&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new K6(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){F1()};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function Fc(e,i){return{\u0275kind:e,\u0275providers:i}}function _9(){const e=fe($r);return i=>{const t=e.get(yd);if(i!==t.components[0])return;const n=e.get(vo),r=e.get(E9);1===e.get(mI)&&n.initialNavigation(),e.get(S9,null,Fn.Optional)?.setUpPreloading(),e.get(fI,null,Fn.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const E9=new qt("",{factory:()=>new ke}),mI=new qt("",{providedIn:"root",factory:()=>1}),S9=new qt("");function wpt(e){return Fc(0,[{provide:S9,useExisting:vpt},{provide:w9,useExisting:e}])}function Cpt(e){return Fc(9,[{provide:v9,useValue:npt},{provide:x9,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const A9=new qt("ROUTER_FORROOT_GUARD"),_pt=[ef,{provide:Fp,useClass:H2},vo,nx,{provide:ec,useFactory:function C9(e){return e.routerState.root},deps:[vo]},dI,[]];let D9=(()=>{class e{constructor(t){}static forRoot(t,n){return{ngModule:e,providers:[_pt,[],{provide:Hp,multi:!0,useValue:t},{provide:A9,useFactory:Dpt,deps:[[vo,new cd,new Ph]]},{provide:Gp,useValue:n||{}},n?.useHash?{provide:tf,useClass:$ct}:{provide:tf,useClass:v8},{provide:fI,useFactory:()=>{const e=fe(uut),i=fe(Ze),t=fe(Gp),n=fe(lT),r=fe(Fp);return t.scrollOffset&&e.setOffset(t.scrollOffset),new T9(r,n,e,i,t)}},n?.preloadingStrategy?wpt(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Ipt(n):[],n?.bindToComponentInputs?Fc(8,[n9,{provide:rT,useExisting:n9}]).\u0275providers:[],n?.enableViewTransitions?Cpt().\u0275providers:[],[{provide:I9,useFactory:_9},{provide:jD,multi:!0,useExisting:I9}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Hp,multi:!0,useValue:t}]}}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(A9,8))};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();function Dpt(e){return"guarded"}function Ipt(e){return["disabled"===e.initialNavigation?Fc(3,[{provide:WD,multi:!0,useFactory:()=>{const i=fe(vo);return()=>{i.setUpLocationChangeListener()}}},{provide:mI,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Fc(2,[{provide:mI,useValue:0},{provide:WD,multi:!0,deps:[$r],useFactory:i=>{const t=i.get(jct,Promise.resolve());return()=>t.then(()=>new Promise(n=>{const r=i.get(vo),s=i.get(E9);b9(r,()=>{n(!0)}),i.get(lT).afterPreactivation=()=>(n(!0),s.closed?xi(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const I9=new qt("");class cT{}function pI(e){return e&&"function"==typeof e.connect&&!(e instanceof U2)}var Ed=function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e}(Ed||{});const dx=new qt("_ViewRepeater");class M9{applyChanges(i,t,n,r,s){i.forEachOperation((o,p,C)=>{let D,R;if(null==o.previousIndex){const F=n(o,p,C);D=t.createEmbeddedView(F.templateRef,F.context,F.index),R=Ed.INSERTED}else null==C?(t.remove(p),R=Ed.REMOVED):(D=t.get(p),t.move(D,C),R=Ed.MOVED);s&&s({context:D?.context,operation:R,record:o})})}detach(){}}class gI{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(i=!1,t,n=!0,r){this._multiple=i,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ke,t&&t.length&&(i?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(n=>this._markSelected(n));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...i){this._verifyValueAssignment(i),i.forEach(n=>this._unmarkSelected(n));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...i){this._verifyValueAssignment(i);const t=this.selected,n=new Set(i);i.forEach(s=>this._markSelected(s)),t.filter(s=>!n.has(this._getConcreteValue(s,n))).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();const t=this._hasQueuedChanges();return i&&this._emitChangeEvent(),t}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(i,t){if(this.compareWith){t=t??this._selection;for(let n of t)if(this.compareWith(i,n))return n;return i}return i}}let vI=(()=>{class e{constructor(){this._listeners=[]}notify(t,n){for(let r of this._listeners)r(t,n)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(n=>t!==n)}}ngOnDestroy(){this._listeners=[]}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function da(e,i){const t="object"==typeof i;return new Promise((n,r)=>{let o,s=!1;e.subscribe({next:p=>{o=p,s=!0},error:r,complete:()=>{s?n(o):t?n(i.defaultValue):r(new Sp)}})})}const xI={now:()=>(xI.delegate||Date).now(),delegate:void 0};class ux extends ke{constructor(i=1/0,t=1/0,n=xI){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(n.push(i),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!i.closed;o+=n?1:2)i.next(s[o]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*i;if(i<1/0&&s<n.length&&n.splice(0,n.length-s),!r){const o=t.now();let p=0;for(let C=1;C<n.length&&n[C]<=o;C+=2)p=C;p&&n.splice(0,p+1)}}}class dT{}class uT{}class Fo{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),s=r.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const t=this.headers.get(i.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,t){return this.clone({name:i,value:t,op:"a"})}set(i,t){return this.clone({name:i,value:t,op:"s"})}delete(i,t){return this.clone({name:i,value:t,op:"d"})}maybeSetNormalizedName(i,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,i)}init(){this.lazyInit&&(this.lazyInit instanceof Fo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(t=>{this.headers.set(t,i.headers.get(t)),this.normalizedNames.set(t,i.normalizedNames.get(t))})}clone(i){const t=new Fo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Fo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([i]),t}applyUpdate(i){const t=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,t);const r=("a"===i.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const s=i.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(p=>-1===s.indexOf(p)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(i,t){const n=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=i.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>i(this.normalizedNames.get(t),this.headers.get(t)))}}class Rpt{encodeKey(i){return k9(i)}encodeValue(i){return k9(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const Ppt=/%(\d[a-f0-9])/gi,Fpt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function k9(e){return encodeURIComponent(e).replace(Ppt,(i,t)=>Fpt[t]??i)}function hT(e){return`${e}`}class Nu{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Rpt,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kpt(e,i){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,p]=-1==s?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,s)),i.decodeValue(r.slice(s+1))],C=t.get(o)||[];C.push(p),t.set(o,C)}),t}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(t=>{const n=i.fromObject[t],r=Array.isArray(n)?n.map(hT):[hT(n)];this.map.set(t,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const t=this.map.get(i);return t?t[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,t){return this.clone({param:i,value:t,op:"a"})}appendAll(i){const t=[];return Object.keys(i).forEach(n=>{const r=i[n];Array.isArray(r)?r.forEach(s=>{t.push({param:n,value:s,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(i,t){return this.clone({param:i,value:t,op:"s"})}delete(i,t){return this.clone({param:i,value:t,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const t=this.encoder.encodeKey(i);return this.map.get(i).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const t=new Nu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(i),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const t=("a"===i.op?this.map.get(i.param):void 0)||[];t.push(hT(i.value)),this.map.set(i.param,t);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const r=n.indexOf(hT(i.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class Opt{constructor(){this.map=new Map}set(i,t){return this.map.set(i,t),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function P9(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function F9(e){return typeof Blob<"u"&&e instanceof Blob}function O9(e){return typeof FormData<"u"&&e instanceof FormData}class hx{constructor(i,t,n,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function Lpt(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Fo,this.context??=new Opt,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+o}}else this.params=new Nu,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||P9(this.body)||F9(this.body)||O9(this.body)||function Npt(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Nu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||O9(this.body)?null:F9(this.body)?this.body.type||null:P9(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const t=i.method||this.method,n=i.url||this.url,r=i.responseType||this.responseType,s=i.transferCache??this.transferCache,o=void 0!==i.body?i.body:this.body,p=i.withCredentials??this.withCredentials,C=i.reportProgress??this.reportProgress;let D=i.headers||this.headers,R=i.params||this.params;const F=i.context??this.context;return void 0!==i.setHeaders&&(D=Object.keys(i.setHeaders).reduce((B,V)=>B.set(V,i.setHeaders[V]),D)),i.setParams&&(R=Object.keys(i.setParams).reduce((B,V)=>B.set(V,i.setParams[V]),R)),new hx(t,n,o,{params:R,headers:D,context:F,reportProgress:C,responseType:r,withCredentials:p,transferCache:s})}}var Bu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Bu||{});class yI{constructor(i,t=fx.Ok,n="OK"){this.headers=i.headers||new Fo,this.status=void 0!==i.status?i.status:t,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class fT extends yI{constructor(i={}){super(i),this.type=Bu.ResponseHeader}clone(i={}){return new fT({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class rf extends yI{constructor(i={}){super(i),this.type=Bu.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new rf({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Wp extends yI{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}var fx=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(fx||{});function bI(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let Oc=(()=>{class e{constructor(t){this.handler=t}request(t,n,r={}){let s;if(t instanceof hx)s=t;else{let C,D;C=r.headers instanceof Fo?r.headers:new Fo(r.headers),r.params&&(D=r.params instanceof Nu?r.params:new Nu({fromObject:r.params})),s=new hx(t,n,void 0!==r.body?r.body:null,{headers:C,context:r.context,params:D,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=xi(s).pipe(Mp(C=>this.handler.handle(C)));if(t instanceof hx||"events"===r.observe)return o;const p=o.pipe(In(C=>C instanceof rf));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return p.pipe(Di(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return p.pipe(Di(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return p.pipe(Di(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return p.pipe(Di(C=>C.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new Nu).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,r={}){return this.request("PATCH",t,bI(r,n))}post(t,n,r={}){return this.request("POST",t,bI(r,n))}put(t,n,r={}){return this.request("PUT",t,bI(r,n))}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(dT))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function N9(e,i){return i(e)}function Gpt(e,i){return(t,n)=>i.intercept(t,{handle:r=>e(r,n)})}const Wpt=new qt(""),mx=new qt(""),B9=new qt(""),V9=new qt("");function Xpt(){let e=null;return(i,t)=>{null===e&&(e=(fe(Wpt,{optional:!0})??[]).reduceRight(Gpt,N9));const n=fe(Su),r=n.add();return e(i,t).pipe(Rp(()=>n.remove(r)))}}let U9=(()=>{class e extends dT{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=fe(Su);const r=fe(V9,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(mx),...this.injector.get(B9,[])]));this.chain=r.reduceRight((s,o)=>function Hpt(e,i,t){return(n,r)=>mc(t,()=>i(n,s=>e(s,r)))}(s,o,this.injector),N9)}const n=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Rp(()=>this.pendingTasks.remove(n)))}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(uT),Kt(Do))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();const Kpt=/^\)\]\}',?\n/;let G9=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new ue(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?ys(n.\u0275loadImpl()):xi(null)).pipe(bs(()=>new lr(s=>{const o=n.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((J,Q)=>o.setRequestHeader(J,Q.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const J=t.detectContentTypeHeader();null!==J&&o.setRequestHeader("Content-Type",J)}if(t.responseType){const J=t.responseType.toLowerCase();o.responseType="json"!==J?J:"text"}const p=t.serializeBody();let C=null;const D=()=>{if(null!==C)return C;const J=o.statusText||"OK",Q=new Fo(o.getAllResponseHeaders()),nt=function Zpt(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||t.url;return C=new fT({headers:Q,status:o.status,statusText:J,url:nt}),C},R=()=>{let{headers:J,status:Q,statusText:nt,url:ct}=D(),lt=null;Q!==fx.NoContent&&(lt=typeof o.response>"u"?o.responseText:o.response),0===Q&&(Q=lt?fx.Ok:0);let wt=Q>=200&&Q<300;if("json"===t.responseType&&"string"==typeof lt){const Mt=lt;lt=lt.replace(Kpt,"");try{lt=""!==lt?JSON.parse(lt):null}catch(Bt){lt=Mt,wt&&(wt=!1,lt={error:Bt,text:lt})}}wt?(s.next(new rf({body:lt,headers:J,status:Q,statusText:nt,url:ct||void 0})),s.complete()):s.error(new Wp({error:lt,headers:J,status:Q,statusText:nt,url:ct||void 0}))},F=J=>{const{url:Q}=D(),nt=new Wp({error:J,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Q||void 0});s.error(nt)};let B=!1;const V=J=>{B||(s.next(D()),B=!0);let Q={type:Bu.DownloadProgress,loaded:J.loaded};J.lengthComputable&&(Q.total=J.total),"text"===t.responseType&&o.responseText&&(Q.partialText=o.responseText),s.next(Q)},X=J=>{let Q={type:Bu.UploadProgress,loaded:J.loaded};J.lengthComputable&&(Q.total=J.total),s.next(Q)};return o.addEventListener("load",R),o.addEventListener("error",F),o.addEventListener("timeout",F),o.addEventListener("abort",F),t.reportProgress&&(o.addEventListener("progress",V),null!==p&&o.upload&&o.upload.addEventListener("progress",X)),o.send(p),s.next({type:Bu.Sent}),()=>{o.removeEventListener("error",F),o.removeEventListener("abort",F),o.removeEventListener("load",R),o.removeEventListener("timeout",F),t.reportProgress&&(o.removeEventListener("progress",V),null!==p&&o.upload&&o.upload.removeEventListener("progress",X)),o.readyState!==o.DONE&&o.abort()}})))}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(N8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();const CI=new qt(""),H9=new qt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),W9=new qt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class X9{}let tgt=(()=>{class e{constructor(t,n,r){this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A8(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni),Kt(fd),Kt(H9))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function egt(e,i){const t=e.url.toLowerCase();if(!fe(CI)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return i(e);const n=fe(X9).getToken(),r=fe(W9);return null!=n&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),i(e)}var Vu=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Vu||{});function igt(...e){const i=[Oc,G9,U9,{provide:dT,useExisting:U9},{provide:uT,useExisting:G9},{provide:mx,useValue:egt,multi:!0},{provide:CI,useValue:!0},{provide:X9,useClass:tgt}];for(const t of e)i.push(...t.\u0275providers);return function Fv(e){return{\u0275providers:e}}(i)}const j9=new qt("");function ngt(){return function sf(e,i){return{\u0275kind:e,\u0275providers:i}}(Vu.LegacyInterceptors,[{provide:j9,useFactory:Xpt},{provide:mx,useExisting:j9,multi:!0}])}let _I,rgt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[igt(ngt())]})}return e})();try{_I=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_I=!1}let Xp,Qn=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?O8(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_I)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(fd))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const tU=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function eU(){if(Xp)return Xp;if("object"!=typeof document||!document)return Xp=new Set(tU),Xp;let e=document.createElement("input");return Xp=new Set(tU.filter(i=>(e.setAttribute("type",i),e.type===i))),Xp}let px;function ic(e){return function dgt(){if(null==px&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>px=!0}))}finally{px=px||!1}return px}()?e:!!e.capture}var Lc=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(Lc||{});let pT,af,EI;function iU(){if(null==af){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return af=!1,af;if("scrollBehavior"in document.documentElement.style)af=!0;else{const e=Element.prototype.scrollTo;af=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return af}function gx(){if("object"!=typeof document||!document)return Lc.NORMAL;if(null==pT){const e=document.createElement("div"),i=e.style;e.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",e.appendChild(t),document.body.appendChild(e),pT=Lc.NORMAL,0===e.scrollLeft&&(e.scrollLeft=1,pT=0===e.scrollLeft?Lc.NEGATED:Lc.INVERTED),e.remove()}return pT}function SI(e){if(function ugt(){if(null==EI){const e=typeof document<"u"?document.head:null;EI=!(!e||!e.createShadowRoot&&!e.attachShadow)}return EI}()){const i=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function gT(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const i=e.shadowRoot.activeElement;if(i===e)break;e=i}return e}function el(e){return e.composedPath?e.composedPath()[0]:e.target}function AI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ga(e,...i){return i.length?i.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}class _gt extends Me{constructor(i,t){super()}schedule(i,t=0){return this}}const yT={setInterval(e,i,...t){const{delegate:n}=yT;return n?.setInterval?n.setInterval(e,i,...t):setInterval(e,i,...t)},clearInterval(e){const{delegate:i}=yT;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};class II extends _gt{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var n;if(this.closed)return this;this.state=i;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this}requestAsyncId(i,t,n=0){return yT.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&yT.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let r,n=!1;try{this.work(i)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,gi(n,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}class xx{constructor(i,t=xx.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,n){return new this.schedulerActionCtor(this,i).schedule(n,t)}}xx.now=xI.now;class MI extends xx{constructor(i,t=xx.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,n){for(;i=t.shift();)i.unsubscribe();throw n}}}const yx=new MI(II),Egt=yx;function Ad(e,i=yx){return es((t,n)=>{let r=null,s=null,o=null;const p=()=>{if(r){r.unsubscribe(),r=null;const D=s;s=null,n.next(D)}};function C(){const D=o+e,R=i.now();if(R<D)return r=this.schedule(void 0,D-R),void n.add(r);p()}t.subscribe(Ur(n,D=>{s=D,o=i.now(),r||(r=i.schedule(C,e),n.add(r))},()=>{p(),n.complete()},void 0,()=>{s=r=null}))})}function RI(e){return In((i,t)=>e<=t)}function Dd(e,i=pu){return e=e??Sgt,es((t,n)=>{let r,s=!0;t.subscribe(Ur(n,o=>{const p=i(o);(s||!e(r,p))&&(s=!1,r=p,n.next(o))}))})}function Sgt(e,i){return e===i}function Fs(e){return null!=e&&"false"!=`${e}`}function Gu(e,i=0){return rU(e)?Number(e):i}function rU(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function bx(e){return Array.isArray(e)?e:[e]}function Os(e){return null==e?"":"string"==typeof e?e:`${e}px`}function os(e){return e instanceof ei?e.nativeElement:e}let sU=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dgt=(()=>{class e{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,n)=>this._cleanupObserver(n))}observe(t){const n=os(t);return new lr(r=>{const o=this._observeElement(n).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const n=new ke,r=this._mutationObserverFactory.create(s=>n.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:n,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:n,stream:r}=this._observedElements.get(t);n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(sU))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kI=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Gu(t),this._subscribe()}constructor(t,n,r){this._contentObserver=t,this._elementRef=n,this._ngZone=r,this.event=new Ae,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Ad(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Dgt),ht(ei),ht(Ze))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[Wt.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",Ke],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[an]})}return e})(),PI=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[sU]})}return e})();const aU=new Set;let lf,Igt=(()=>{class e{constructor(t,n){this._platform=t,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Rgt}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Mgt(e,i){if(!aU.has(e))try{lf||(lf=document.createElement("style"),i&&lf.setAttribute("nonce",i),lf.setAttribute("type","text/css"),document.head.appendChild(lf)),lf.sheet&&(lf.sheet.insertRule(`@media ${e} {body{ }}`,0),aU.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Qn),Kt(ZS,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Rgt(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let oU=(()=>{class e{constructor(t,n){this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new ke}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return lU(bx(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=_d(lU(bx(t)).map(o=>this._registerQuery(o).observable));return s=K0(s.pipe(Jn(1)),s.pipe(RI(1),Ad(0))),s.pipe(Di(o=>{const p={matches:!1,breakpoints:{}};return o.forEach(({matches:C,query:D})=>{p.matches=p.matches||C,p.breakpoints[D]=C}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const n=this._mediaMatcher.matchMedia(t),s={observable:new lr(o=>{const p=C=>this._zone.run(()=>o.next(C));return n.addListener(p),()=>{n.removeListener(p)}}).pipe(ca(n),Di(({matches:o})=>({query:t,matches:o})),Ui(this._destroySubject)),mql:n};return this._queries.set(t,s),s}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Igt),Kt(Ze))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lU(e){return e.map(i=>i.split(",")).reduce((i,t)=>i.concat(t)).map(i=>i.trim())}function bT(e,i,t){const n=wT(e,i);t=t.trim(),!n.some(r=>r.trim()===t)&&(n.push(t),e.setAttribute(i,n.join(" ")))}function Yp(e,i,t){const n=wT(e,i);t=t.trim();const r=n.filter(s=>s!==t);r.length?e.setAttribute(i,r.join(" ")):e.removeAttribute(i)}function wT(e,i){return e.getAttribute(i)?.match(/\S+/g)??[]}const dU="cdk-describedby-message",TT="cdk-describedby-host";let FI=0,uU=(()=>{class e{constructor(t,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+FI++,this._document=t,this._id=fe(Zv)+"-"+FI++}describe(t,n,r){if(!this._canBeDescribed(t,n))return;const s=OI(n,r);"string"!=typeof n?(hU(n,this._id),this._messageRegistry.set(s,{messageElement:n,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(n,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,n,r){if(!n||!this._isElementNode(t))return;const s=OI(n,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof n){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${TT}="${this._id}"]`);for(let n=0;n<t.length;n++)this._removeCdkDescribedByReferenceIds(t[n]),t[n].removeAttribute(TT);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,n){const r=this._document.createElement("div");hU(r,this._id),r.textContent=t,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(OI(t,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<n.length;s++)n[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const n=wT(t,"aria-describedby").filter(r=>0!=r.indexOf(dU));t.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(t,n){const r=this._messageRegistry.get(n);bT(t,"aria-describedby",r.messageElement.id),t.setAttribute(TT,this._id),r.referenceCount++}_removeMessageReference(t,n){const r=this._messageRegistry.get(n);r.referenceCount--,Yp(t,"aria-describedby",r.messageElement.id),t.removeAttribute(TT)}_isElementDescribedByMessage(t,n){const r=wT(t,"aria-describedby"),s=this._messageRegistry.get(n),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(t,n){if(!this._isElementNode(t))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni),Kt(Qn))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function OI(e,i){return"string"==typeof e?`${i||""}/${e}`:e}function hU(e,i){e.id||(e.id=`${dU}-${i}-${FI++}`)}class fU{constructor(i,t){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ke,this._typeaheadSubscription=Me.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new ke,this.change=new ke,i instanceof bu?this._itemChangesSubscription=i.changes.subscribe(n=>this._itemsChanged(n.toArray())):$1(i)&&(this._effectRef=function f8(e,i){Cc("NgSignals"),!i?.injector&&Jb();const t=i?.injector??fe($r),n=!0!==i?.manualCleanup?t.get(jm):null,r=new Gct(t.get(Vct),e,typeof Zone>"u"?null:Zone.current,n,t,i?.allowSignalWrites??!1),s=t.get(Dn,null,{optional:!0});return s&&8&s._lView[Fi]?(s._lView[t1]??=[]).push(r.watcher.notify):r.watcher.notify(),r}(()=>this._itemsChanged(i()),{injector:t}))}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ns(t=>this._pressedLetters.push(t)),Ad(i),In(()=>this._pressedLetters.length>0),Di(()=>this._pressedLetters.join(""))).subscribe(t=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,o=n[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,t=10){return this._pageUpAndDown={enabled:i,delta:t},this}setActiveItem(i){const t=this._activeItem;this.updateActiveItem(i),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(i){const t=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!i[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||Ga(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const t=this._getItemsArray(),n="number"==typeof i?i:t.indexOf(i);this._activeItem=t[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+i*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,t){const n=this._getItemsArray();if(n[i]){for(;this._skipPredicateFn(n[i]);)if(!n[i+=t])return;this.setActiveItem(i)}}_getItemsArray(){return $1(this._items)?this._items():this._items instanceof bu?this._items.toArray():this._items}_itemsChanged(i){if(this._activeItem){const t=i.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}}}class mU extends fU{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}}class LI extends fU{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let CT=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Fgt(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const n=function Pgt(e){try{return e.frameElement}catch{return null}}(function Ggt(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(n&&(-1===gU(n)||!this.isVisible(n)))return!1;let r=t.nodeName.toLowerCase(),s=gU(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Ugt(e){let i=e.nodeName.toLowerCase(),t="input"===i&&e.type;return"text"===t||"password"===t||"select"===i||"textarea"===i}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,n){return function zgt(e){return!function Lgt(e){return function Bgt(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function Ogt(e){let i=e.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(e)||function Ngt(e){return function Vgt(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||pU(e))}(t)&&!this.isDisabled(t)&&(n?.ignoreVisibility||this.isVisible(t))}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Qn))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pU(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let i=e.getAttribute("tabindex");return!(!i||isNaN(parseInt(i,10)))}function gU(e){if(!pU(e))return null;const i=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class vU{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,t,n,r,s=!1){this._element=i,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const i=this._startAnchor,t=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){const t=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return"start"==i?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return n?.focus(i),!!n}return t.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const t=this._getRegionBoundary("start");return t&&t.focus(i),!!t}focusLastTabbableElement(i){const t=this._getRegionBoundary("end");return t&&t.focus(i),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let n=0;n<t.length;n++){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let n=t.length-1;n>=0;n--){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,t){i?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(Jn(1)).subscribe(i)}}let NI=(()=>{class e{constructor(t,n,r){this._checker=t,this._ngZone=n,this._document=r}create(t,n=!1){return new vU(t,this._checker,this._ngZone,this._document,n)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(CT),Kt(Ze),Kt(Ni))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _T(e){return 0===e.buttons||0===e.detail}function ET(e){const i=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const Hgt=new qt("cdk-input-modality-detector-options"),Wgt={ignoreKeys:[18,17,224,91,16]},$p=ic({passive:!0,capture:!0});let Xgt=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,n,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Vr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(p=>p===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=el(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_T(o)?"keyboard":"mouse"),this._mostRecentTarget=el(o))},this._onTouchstart=o=>{ET(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=el(o))},this._options={...Wgt,...s},this.modalityDetected=this._modality.pipe(RI(1)),this.modalityChanged=this.modalityDetected.pipe(Dd()),t.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,$p),r.addEventListener("mousedown",this._onMousedown,$p),r.addEventListener("touchstart",this._onTouchstart,$p)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$p),document.removeEventListener("mousedown",this._onMousedown,$p),document.removeEventListener("touchstart",this._onTouchstart,$p))}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Qn),Kt(Ze),Kt(Ni),Kt(Hgt,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const jgt=new qt("liveAnnouncerElement",{providedIn:"root",factory:function Ygt(){return null}}),$gt=new qt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Qgt=0,yU=(()=>{class e{constructor(t,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(p=>this._currentResolve=p)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",n=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Qgt++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(jgt,8),Kt(Ze),Kt(Ni),Kt($gt,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ST=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(ST||{});const Kgt=new qt("cdk-focus-monitor-default-options"),AT=ic({passive:!0,capture:!0});let bl=(()=>{class e{constructor(t,n,r,s,o){this._ngZone=t,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke,this._rootNodeFocusAndBlurListener=p=>{for(let D=el(p);D;D=D.parentElement)"focus"===p.type?this._onFocus(p,D):this._onBlur(p,D)},this._document=s,this._detectionMode=o?.detectionMode||ST.IMMEDIATE}monitor(t,n=!1){const r=os(t);if(!this._platform.isBrowser||1!==r.nodeType)return xi();const s=SI(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const p={checkChildren:n,subject:new ke,rootNode:s};return this._elementInfo.set(r,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const n=os(t),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(t,n,r){const s=os(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([p,C])=>this._originChanged(p,n,C)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===ST.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,this._detectionMode===ST.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const r=this._elementInfo.get(n),s=el(t);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(t,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(t,n){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,AT),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,AT)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ui(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,AT),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,AT),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,r){this._setClasses(t,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(n))return!0;return!1}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ze),Kt(Qn),Kt(Xgt),Kt(Ni,8),Kt(Kgt,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zgt=(()=>{class e{constructor(t,n){this._elementRef=t,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new Ae}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(bl))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return e})();var cf=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(cf||{});const bU="cdk-high-contrast-black-on-white",wU="cdk-high-contrast-white-on-black",BI="cdk-high-contrast-active";let TU=(()=>{class e{constructor(t,n){this._platform=t,this._document=n,this._breakpointSubscription=fe(oU).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return cf.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return cf.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return cf.BLACK_ON_WHITE}return cf.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(BI,bU,wU),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();n===cf.BLACK_ON_WHITE?t.add(BI,bU):n===cf.WHITE_ON_BLACK&&t.add(BI,wU)}}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Qn),Kt(Ni))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),CU=(()=>{class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(TU))};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[PI]})}return e})();const Jgt=new qt("cdk-dir-doc",{providedIn:"root",factory:function qgt(){return fe(Ni)}}),tvt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _a=(()=>{class e{constructor(t){this.value="ltr",this.change=new Ae,t&&(this.value=function evt(e){const i=e?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?tvt.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Jgt,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wx=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();const ivt=["text"],nvt=[[["mat-icon"]],"*"],rvt=["mat-icon","*"];function svt(e,i){if(1&e&&be(0,"mat-pseudo-checkbox",1),2&e){const t=St();xt("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function avt(e,i){1&e&&be(0,"mat-pseudo-checkbox",3),2&e&&xt("disabled",St().disabled)}function ovt(e,i){if(1&e&&(q(0,"span",4),ut(1),et()),2&e){const t=St();ot(),ri("(",t.group.label,")")}}const lvt=["mat-internal-form-field",""],cvt=["*"];let dvt=(()=>{class e{static#t=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#e=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#i=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#n=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return e})(),uvt=(()=>{class e{static#t=this.COMPLEX="375ms";static#e=this.ENTERING="225ms";static#i=this.EXITING="195ms"}return e})();const fvt=new qt("mat-sanity-checks",{providedIn:"root",factory:function hvt(){return!0}});let $i=(()=>{class e{constructor(t,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!AI()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(TU),Kt(fvt,8),Kt(Ni))};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[wx,wx]})}return e})();class VI{constructor(i,t,n,r,s){this._defaultMatcher=i,this.ngControl=t,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){const i=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=n?.isErrorState(r,t)??!1;s!==i&&(this.errorState=s,this._stateChanges.next())}}let SU=(()=>{class e{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var wl=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(wl||{});class yvt{constructor(i,t,n,r=!1){this._renderer=i,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=wl.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const AU=ic({passive:!0,capture:!0});class bvt{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const t=el(i);t&&this._events.get(i.type)?.forEach((n,r)=>{(r===t||r.contains(t))&&n.forEach(s=>s.handleEvent(i))})}}addHandler(i,t,n,r){const s=this._events.get(t);if(s){const o=s.get(n);o?o.add(r):s.set(n,new Set([r]))}else this._events.set(t,new Map([[n,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,AU)})}removeHandler(i,t,n){const r=this._events.get(i);if(!r)return;const s=r.get(t);s&&(s.delete(n),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,AU)))}}const DU={enterDuration:225,exitDuration:150},IU=ic({passive:!0,capture:!0}),MU=["mousedown","touchstart"],RU=["mouseup","mouseleave","touchend","touchcancel"];class Cx{static#t=this._eventManager=new bvt;constructor(i,t,n,r){this._target=i,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=os(n))}fadeInRipple(i,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...DU,...n.animation};n.centered&&(i=r.left+r.width/2,t=r.top+r.height/2);const o=n.radius||function Tvt(e,i,t){const n=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),r=Math.max(Math.abs(i-t.top),Math.abs(i-t.bottom));return Math.sqrt(n*n+r*r)}(i,t,r),p=i-r.left,C=t-r.top,D=s.enterDuration,R=document.createElement("div");R.classList.add("mat-ripple-element"),R.style.left=p-o+"px",R.style.top=C-o+"px",R.style.height=2*o+"px",R.style.width=2*o+"px",null!=n.color&&(R.style.backgroundColor=n.color),R.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(R);const F=window.getComputedStyle(R),V=F.transitionDuration,X="none"===F.transitionProperty||"0s"===V||"0s, 0s"===V||0===r.width&&0===r.height,J=new yvt(this,R,n,X);R.style.transform="scale3d(1, 1, 1)",J.state=wl.FADING_IN,n.persistent||(this._mostRecentTransientRipple=J);let Q=null;return!X&&(D||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const nt=()=>this._finishRippleTransition(J),ct=()=>this._destroyRipple(J);R.addEventListener("transitionend",nt),R.addEventListener("transitioncancel",ct),Q={onTransitionEnd:nt,onTransitionCancel:ct}}),this._activeRipples.set(J,Q),(X||!D)&&this._finishRippleTransition(J),J}fadeOutRipple(i){if(i.state===wl.FADING_OUT||i.state===wl.HIDDEN)return;const t=i.element,n={...DU,...i.config.animation};t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",i.state=wl.FADING_OUT,(i._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const t=os(i);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,MU.forEach(n=>{Cx._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{RU.forEach(t=>{this._triggerElement.addEventListener(t,this,IU)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===wl.FADING_IN?this._startFadeOutTransition(i):i.state===wl.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){const t=i===this._mostRecentTransientRipple,{persistent:n}=i.config;i.state=wl.VISIBLE,!n&&(!t||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){const t=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=wl.HIDDEN,null!==t&&(i.element.removeEventListener("transitionend",t.onTransitionEnd),i.element.removeEventListener("transitioncancel",t.onTransitionCancel)),i.element.remove()}_onMousedown(i){const t=_T(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!ET(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=i.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(i.state===wl.VISIBLE||i.config.terminateOnPointerUp&&i.state===wl.FADING_IN)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(MU.forEach(t=>Cx._eventManager.removeHandler(t,i,this)),this._pointerUpEventsRegistered&&RU.forEach(t=>i.removeEventListener(t,this,IU)))}}const _x=new qt("mat-ripple-global-options");let Id=(()=>{class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,n,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Cx(this,n,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Ze),ht(Qn),ht(_x,8),ht(Sr,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&yi("mat-ripple-unbounded",r.unbounded)},inputs:{color:[Wt.None,"matRippleColor","color"],unbounded:[Wt.None,"matRippleUnbounded","unbounded"],centered:[Wt.None,"matRippleCentered","centered"],radius:[Wt.None,"matRippleRadius","radius"],animation:[Wt.None,"matRippleAnimation","animation"],disabled:[Wt.None,"matRippleDisabled","disabled"],trigger:[Wt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return e})(),Qp=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,$i]})}return e})(),Cvt=(()=>{class e{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Sr,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&yi("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Bi],decls:0,vars:0,template:function(n,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return e})(),kU=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i]})}return e})();const UI=new qt("MAT_OPTION_PARENT_COMPONENT"),zI=new qt("MatOptgroup");let _vt=0;class PU{constructor(i,t=!1){this.source=i,this.isUserInput=t}}let Md=(()=>{class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,n,r,s){this._element=t,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+_vt++,this.onSelectionChange=new Ae,this._stateChanges=new ke}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Ga(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new PU(this,t))}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Dn),ht(UI,8),ht(zI,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-option"]],viewQuery:function(n,r){if(1&n&&Ai(ivt,7),2&n){let s;Oe(s=Le())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){1&n&&Vt("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&n&&(Ac("id",r.id),_i("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),yi("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[an,Bi],ngContentSelectors:rvt,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){1&n&&(Gn(nvt),Ht(0,svt,1,2,"mat-pseudo-checkbox",1),hi(1),q(2,"span",2,0),hi(4,1),et(),Ht(5,avt,1,1,"mat-pseudo-checkbox",3)(6,ovt,2,1,"span",4),be(7,"div",5)),2&n&&(yn(0,r.multiple?0:-1),ot(5),yn(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),ot(),yn(6,r.group&&r.group._inert?6:-1),ot(),xt("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Cvt,Id],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})();function FU(e,i,t){if(t.length){let n=i.toArray(),r=t.toArray(),s=0;for(let o=0;o<e+1;o++)n[o].group&&n[o].group===r[s]&&s++;return s}return 0}function OU(e,i,t,n){return e<t?e:e+i>t+n?Math.max(0,e-n+i):t}let DT=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Qp,$i,kU]})}return e})();const LU={capture:!0},NU=["focus","click","mouseenter","touchstart"],GI="mat-ripple-loader-uninitialized",HI="mat-ripple-loader-class-name",BU="mat-ripple-loader-centered",IT="mat-ripple-loader-disabled";let Evt=(()=>{class e{constructor(){this._document=fe(Ni,{optional:!0}),this._animationMode=fe(Sr,{optional:!0}),this._globalRippleOptions=fe(_x,{optional:!0}),this._platform=fe(Qn),this._ngZone=fe(Ze),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${GI}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of NU)this._document?.addEventListener(t,this._onInteraction,LU)})}ngOnDestroy(){const t=this._hosts.keys();for(const n of t)this.destroyRipple(n);for(const n of NU)this._document?.removeEventListener(n,this._onInteraction,LU)}configureRipple(t,n){t.setAttribute(GI,""),(n.className||!t.hasAttribute(HI))&&t.setAttribute(HI,n.className||""),n.centered&&t.setAttribute(BU,""),n.disabled&&t.setAttribute(IT,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,n){const r=this._hosts.get(t);r?r.disabled=n:n?t.setAttribute(IT,""):t.removeAttribute(IT)}_createRipple(t){if(!this._document)return;const n=this._hosts.get(t);if(n)return n;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(HI)),t.append(r);const s=new Id(new ei(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=t,s.centered=t.hasAttribute(BU),s.disabled=t.hasAttribute(IT),this.attachRipple(t,s),s}attachRipple(t,n){t.removeAttribute(GI),this._hosts.set(t,n)}destroyRipple(t){const n=this._hosts.get(t);n&&(n.ngOnDestroy(),this._hosts.delete(t))}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),WI=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=He({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,r){2&n&&yi("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Bi],attrs:lvt,ngContentSelectors:cvt,decls:1,vars:0,template:function(n,r){1&n&&(Gn(),hi(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}return e})();const VU=["mat-button",""],UU=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],zU=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],GU=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Avt=["mat-icon-button",""],Dvt=["*"],Ivt=new qt("MAT_BUTTON_CONFIG"),Mvt=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let XI=(()=>{class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,n,r,s){this._elementRef=t,this._platform=n,this._ngZone=r,this._animationMode=s,this._focusMonitor=fe(bl),this._rippleLoader=fe(Evt),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const o=fe(Ivt,{optional:!0}),p=t.nativeElement,C=p.classList;this.disabledInteractive=o?.disabledInteractive??!1,this._rippleLoader?.configureRipple(p,{className:"mat-mdc-button-ripple"});for(const{attribute:D,mdcClasses:R}of Mvt)p.hasAttribute(D)&&C.add(...R)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#t=this.\u0275fac=function(n){F1()};static#e=this.\u0275dir=ce({type:e,inputs:{color:"color",disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ke],disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke],ariaDisabled:[Wt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",Ke],disabledInteractive:[Wt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",Ke]},features:[an]})}return e})(),Rvt=(()=>{class e extends XI{constructor(t,n,r,s){super(t,n,r,s),this._haltDisabledEvents=o=>{this.disabled&&(o.preventDefault(),o.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#t=this.\u0275fac=function(n){F1()};static#e=this.\u0275dir=ce({type:e,inputs:{tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:zr(t)]},features:[an,di]})}return e})(),ua=(()=>{class e extends XI{constructor(t,n,r,s){super(t,n,r,s)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Qn),ht(Ze),ht(Sr,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){2&n&&(_i("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),gl(r.color?"mat-"+r.color:""),yi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[di,Bi],attrs:VU,ngContentSelectors:zU,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(Gn(UU),be(0,"span",0),hi(1),q(2,"span",1),hi(3,1),et(),hi(4,2),be(5,"span",2)(6,"span",3)),2&n&&yi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),kvt=(()=>{class e extends Rvt{constructor(t,n,r,s){super(t,n,r,s)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Qn),ht(Ze),ht(Sr,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,r){2&n&&(_i("disabled",r._getDisabledAttribute())("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-disabled",r._getDisabledAttribute()),gl(r.color?"mat-"+r.color:""),yi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[di,Bi],attrs:VU,ngContentSelectors:zU,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(Gn(UU),be(0,"span",0),hi(1),q(2,"span",1),hi(3,1),et(),hi(4,2),be(5,"span",2)(6,"span",3)),2&n&&yi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',GU],encapsulation:2,changeDetection:0})}return e})(),xo=(()=>{class e extends XI{constructor(t,n,r,s){super(t,n,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Qn),ht(Ze),ht(Sr,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,r){2&n&&(_i("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),gl(r.color?"mat-"+r.color:""),yi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[di,Bi],attrs:Avt,ngContentSelectors:Dvt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(Gn(),be(0,"span",0),hi(1),be(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',GU],encapsulation:2,changeDetection:0})}return e})(),jI=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,Qp,$i]})}return e})();var Qi=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(Qi||{});const Rd="*";function vr(e,i){return{type:Qi.Trigger,name:e,definitions:i,options:{}}}function on(e,i=null){return{type:Qi.Animate,styles:i,timings:e}}function YI(e,i=null){return{type:Qi.Group,steps:e,options:i}}function si(e){return{type:Qi.Style,styles:e,offset:null}}function Ln(e,i,t){return{type:Qi.State,name:e,styles:i,options:t}}function Kp(e){return{type:Qi.Keyframes,steps:e}}function fn(e,i,t=null){return{type:Qi.Transition,expr:e,animation:i,options:t}}function MT(e=null){return{type:Qi.AnimateChild,options:e}}function RT(e,i,t=null){return{type:Qi.Query,selector:e,animation:i,options:t}}class Ex{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class HU{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,n=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,p)=>Math.max(o,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){const i=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class QI{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Zp extends QI{constructor(i,t,n,r,s){super(),this.component=i,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=s}}class kd extends QI{constructor(i,t,n,r){super(),this.templateRef=i,this.viewContainerRef=t,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,t=this.context){return this.context=t,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class Vvt extends QI{constructor(i){super(),this.element=i instanceof ei?i.nativeElement:i}}class kT{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Zp?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof kd?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof Vvt?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Uvt extends kT{constructor(i,t,n,r,s){super(),this.outletElement=i,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const p=o.element,C=this._document.createComment("dom-portal");p.parentNode.insertBefore(C,p),this.outletElement.appendChild(p),this._attachedPortal=o,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(p,C)})},this._document=s}attachComponentPortal(i){const n=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let r;return i.viewContainerRef?(r=i.viewContainerRef.createComponent(n,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(i.injector||this._defaultInjector||$r.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=i,r}attachTemplatePortal(i){let t=i.viewContainerRef,n=t.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(n);-1!==r&&t.remove(r)}),this._attachedPortal=i,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let zvt=(()=>{class e extends kd{constructor(t,n){super(t,n)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr),ht(Ar))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[di]})}return e})(),Pd=(()=>{class e extends kT{constructor(t,n,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new Ae,this.attachDomPortal=s=>{const o=s.element,p=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(p,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(o,p)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=n.createComponent(s,n.length,t.injector||n.injector,t.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Xh),ht(Ar),ht(Ni))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Wt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[di]})}return e})(),Jp=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();const Gvt=["addListener","removeListener"],Hvt=["addEventListener","removeEventListener"],Wvt=["on","off"];function nc(e,i,t,n){if(ee(t)&&(n=t,t=void 0),n)return nc(e,i,t).pipe(B2(n));const[r,s]=function Yvt(e){return ee(e.addEventListener)&&ee(e.removeEventListener)}(e)?Hvt.map(o=>p=>e[o](i,p,t)):function Xvt(e){return ee(e.addListener)&&ee(e.removeListener)}(e)?Gvt.map(WU(e,i)):function jvt(e){return ee(e.on)&&ee(e.off)}(e)?Wvt.map(WU(e,i)):[];if(!r&&L2(e))return la(o=>nc(o,i,t))(za(e));if(!r)throw new TypeError("Invalid event target");return new lr(o=>{const p=(...C)=>o.next(1<C.length?C:C[0]);return r(p),()=>s(p)})}function WU(e,i){return t=>n=>e[t](i,n)}const Sx={schedule(e){let i=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:n}=Sx;n&&(i=n.requestAnimationFrame,t=n.cancelAnimationFrame);const r=i(s=>{t=void 0,e(s)});return new Me(()=>t?.(r))},requestAnimationFrame(...e){const{delegate:i}=Sx;return(i?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:i}=Sx;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},XU=new class Qvt extends MI{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw r}}}(class $vt extends II{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=Sx.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:s}=i;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Sx.cancelAnimationFrame(t),i._scheduled=void 0)}});let KI,Kvt=1;const PT={};function jU(e){return e in PT&&(delete PT[e],!0)}const Zvt={setImmediate(e){const i=Kvt++;return PT[i]=!0,KI||(KI=Promise.resolve()),KI.then(()=>jU(i)&&e()),i},clearImmediate(e){jU(e)}},{setImmediate:Jvt,clearImmediate:qvt}=Zvt,FT={setImmediate(...e){const{delegate:i}=FT;return(i?.setImmediate||Jvt)(...e)},clearImmediate(e){const{delegate:i}=FT;return(i?.clearImmediate||qvt)(e)},delegate:void 0},ZI=new class e0t extends MI{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw r}}}(class t0t extends II{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=FT.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:s}=i;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(FT.clearImmediate(t),i._scheduled===t&&(i._scheduled=void 0))}});function Ax(e=0,i,t=Egt){let n=-1;return null!=i&&(_6(i)?t=i:n=i),new lr(r=>{let s=function n0t(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function YU(e,i=yx){return function i0t(e){return es((i,t)=>{let n=!1,r=null,s=null,o=!1;const p=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const D=r;r=null,t.next(D)}o&&t.complete()},C=()=>{s=null,o&&t.complete()};i.subscribe(Ur(t,D=>{n=!0,r=D,s||za(e(D)).subscribe(s=Ur(t,p,C))},()=>{o=!0,(!n||!s||s.closed)&&t.complete()}))})}(()=>Ax(e,i))}let Dx=(()=>{class e{constructor(t,n,r){this._ngZone=t,this._platform=n,this._scrolled=new ke,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new lr(n=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(YU(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):xi()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(In(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=os(n),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>nc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ze),Kt(Qn),Kt(Ni,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),OT=(()=>{class e{constructor(t,n,r,s){this.elementRef=t,this.scrollDispatcher=n,this.ngZone=r,this.dir=s,this._destroyed=new ke,this._elementScrolled=new lr(o=>this.ngZone.runOutsideAngular(()=>nc(this.elementRef.nativeElement,"scroll").pipe(Ui(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),r&&gx()!=Lc.NORMAL?(null!=t.left&&(t.right=n.scrollWidth-n.clientWidth-t.left),gx()==Lc.INVERTED?t.left=t.right:gx()==Lc.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const n=this.elementRef.nativeElement;iU()?n.scrollTo(t):(null!=t.top&&(n.scrollTop=t.top),null!=t.left&&(n.scrollLeft=t.left))}measureScrollOffset(t){const n="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:n:"end"==t&&(t=o?n:r),o&&gx()==Lc.INVERTED?t==n?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&gx()==Lc.NEGATED?t==n?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==n?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Dx),ht(Ze),ht(_a,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return e})(),Fd=(()=>{class e{constructor(t,n,r){this._platform=t,this._change=new ke,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(YU(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Qn),Kt(Ze),Kt(Ni,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Od=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})(),JI=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[wx,Od,wx,Od]})}return e})();function $U(e,i=!1){return es((t,n)=>{let r=0;t.subscribe(Ur(n,s=>{const o=e(s,r++);(o||i)&&n.next(s),!o&&n.complete()}))})}function Gr(...e){const i=Q0(e),t=function Qht(e,i){return"number"==typeof N2(e)?e.pop():i}(e,1/0),n=e;return n.length?1===n.length?za(n[0]):Ap(t)(ys(n,i)):Po}const QU=iU();class a0t{constructor(i,t){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Os(-this._previousScrollPosition.left),i.style.top=Os(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,n=i.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),QU&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),QU&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}}class o0t{constructor(i,t,n,r){this._scrollDispatcher=i,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0).pipe(In(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class KU{enable(){}disable(){}attach(){}}function qI(e,i){return i.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function ZU(e,i){return i.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class l0t{constructor(i,t,n,r){this._scrollDispatcher=i,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();qI(t,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let c0t=(()=>{class e{constructor(t,n,r,s){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new KU,this.close=o=>new o0t(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new a0t(this._viewportRuler,this._document),this.reposition=o=>new l0t(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Dx),Kt(Fd),Kt(Ze),Kt(Ni))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class qp{constructor(i){if(this.scrollStrategy=new KU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const t=Object.keys(i);for(const n of t)void 0!==i[n]&&(this[n]=i[n])}}}class d0t{constructor(i,t){this.connectionPair=i,this.scrollableViewProperties=t}}let JU=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),u0t=(()=>{class e extends JU{constructor(t,n){super(t),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const p=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(r)):p.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni),Kt(Ze,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),h0t=(()=>{class e extends JU{constructor(t,n,r){super(t),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=el(s)},this._clickListener=s=>{const o=el(s),p="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const C=this._attachedOverlays.slice();for(let D=C.length-1;D>-1;D--){const R=C[D];if(R._outsidePointerEvents.observers.length<1||!R.hasAttached())continue;if(R.overlayElement.contains(o)||R.overlayElement.contains(p))break;const F=R._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>F.next(s)):F.next(s)}}}add(t){if(super.add(t),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni),Kt(Qn),Kt(Ze,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),LT=(()=>{class e{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||AI()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(t),AI()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni),Kt(Qn))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class NT{constructor(i,t,n,r,s,o,p,C,D,R=!1){this._portalOutlet=i,this._host=t,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=p,this._location=C,this._outsideClickDispatcher=D,this._animationsDisabled=R,this._backdropElement=null,this._backdropClick=new ke,this._attachments=new ke,this._detachments=new ke,this._locationChanges=Me.EMPTY,this._backdropClickHandler=F=>this._backdropClick.next(F),this._backdropTransitionendHandler=F=>{this._disposeBackdrop(F.target)},this._keydownEvents=new ke,this._outsidePointerEvents=new ke,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Jn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config={...this._config,...i},this._updateElementSize()}setDirection(i){this._config={...this._config,direction:i},this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=Os(this._config.width),i.height=Os(this._config.height),i.minWidth=Os(this._config.minWidth),i.minHeight=Os(this._config.minHeight),i.maxWidth=Os(this._config.maxWidth),i.maxHeight=Os(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const i=this._backdropElement;if(i){if(this._animationsDisabled)return void this._disposeBackdrop(i);i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,t,n){const r=bx(t||[]).filter(s=>!!s);r.length&&(n?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Ui(Gr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const qU="cdk-overlay-connected-position-bounding-box",f0t=/([A-Za-z%]+)$/;class m0t{get positions(){return this._preferredPositions}constructor(i,t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke,this._resizeSubscription=Me.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._validatePositions(),i.hostElement.classList.add(qU),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._originRect,t=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let o;for(let p of this._preferredPositions){let C=this._getOriginPoint(i,r,p),D=this._getOverlayPoint(C,t,p),R=this._getOverlayFit(D,t,n,p);if(R.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,C);this._canFitWithFlexibleDimensions(R,D,n)?s.push({position:p,origin:C,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(C,p)}):(!o||o.overlayFit.visibleArea<R.visibleArea)&&(o={overlayFit:R,overlayPoint:D,originPoint:C,position:p,overlayRect:t})}if(s.length){let p=null,C=-1;for(const D of s){const R=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);R>C&&(C=R,p=D)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&df(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,t)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,t,n){let r,s;if("center"==n.originX)r=i.left+i.width/2;else{const o=this._isRtl()?i.right:i.left,p=this._isRtl()?i.left:i.right;r="start"==n.originX?o:p}return t.left<0&&(r-=t.left),s="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(i,t,n){let r,s;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:i.x+r,y:i.y+s}}_getOverlayFit(i,t,n,r){const s=ez(t);let{x:o,y:p}=i,C=this._getOffset(r,"x"),D=this._getOffset(r,"y");C&&(o+=C),D&&(p+=D);let B=0-p,V=p+s.height-n.height,X=this._subtractOverflows(s.width,0-o,o+s.width-n.width),J=this._subtractOverflows(s.height,B,V),Q=X*J;return{visibleArea:Q,isCompletelyWithinViewport:s.width*s.height===Q,fitsInViewportVertically:J===s.height,fitsInViewportHorizontally:X==s.width}}_canFitWithFlexibleDimensions(i,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,s=n.right-t.x,o=tz(this._overlayRef.getConfig().minHeight),p=tz(this._overlayRef.getConfig().minWidth);return(i.fitsInViewportVertically||null!=o&&o<=r)&&(i.fitsInViewportHorizontally||null!=p&&p<=s)}return!1}_pushOverlayOnScreen(i,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const r=ez(t),s=this._viewportRect,o=Math.max(i.x+r.width-s.width,0),p=Math.max(i.y+r.height-s.height,0),C=Math.max(s.top-n.top-i.y,0),D=Math.max(s.left-n.left-i.x,0);let R=0,F=0;return R=r.width<=s.width?D||-o:i.x<this._viewportMargin?s.left-n.left-i.x:0,F=r.height<=s.height?C||-p:i.y<this._viewportMargin?s.top-n.top-i.y:0,this._previousPushAmount={x:R,y:F},{x:i.x+R,y:i.y+F}}_applyPosition(i,t){if(this._setTransformOrigin(i),this._setOverlayElementStyles(t,i),this._setBoundingBoxStyles(t,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){const n=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!function p0t(e,i){return e===i||e.isOriginClipped===i.isOriginClipped&&e.isOriginOutsideView===i.isOriginOutsideView&&e.isOverlayClipped===i.isOverlayClipped&&e.isOverlayOutsideView===i.isOverlayOutsideView}(this._lastScrollVisibility,n)){const r=new d0t(i,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=i.overlayY;n="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(i,t){const n=this._viewportRect,r=this._isRtl();let s,o,p,R,F,B;if("top"===t.overlayY)o=i.y,s=n.height-o+this._viewportMargin;else if("bottom"===t.overlayY)p=n.height-i.y+2*this._viewportMargin,s=n.height-p+this._viewportMargin;else{const V=Math.min(n.bottom-i.y+n.top,i.y),X=this._lastBoundingBoxSize.height;s=2*V,o=i.y-V,s>X&&!this._isInitialRender&&!this._growAfterOpen&&(o=i.y-X/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)B=n.width-i.x+2*this._viewportMargin,R=i.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)F=i.x,R=n.right-i.x;else{const V=Math.min(n.right-i.x+n.left,i.x),X=this._lastBoundingBoxSize.width;R=2*V,F=i.x-V,R>X&&!this._isInitialRender&&!this._growAfterOpen&&(F=i.x-X/2)}return{top:o,left:F,bottom:p,right:B,width:R,height:s}}_setBoundingBoxStyles(i,t){const n=this._calculateBoundingBoxRect(i,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Os(n.height),r.top=Os(n.top),r.bottom=Os(n.bottom),r.width=Os(n.width),r.left=Os(n.left),r.right=Os(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Os(s)),o&&(r.maxWidth=Os(o))}this._lastBoundingBoxSize=n,df(this._boundingBox.style,r)}_resetBoundingBoxStyles(){df(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){df(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,t){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const R=this._viewportRuler.getViewportScrollPosition();df(n,this._getExactOverlayY(t,i,R)),df(n,this._getExactOverlayX(t,i,R))}else n.position="static";let p="",C=this._getOffset(t,"x"),D=this._getOffset(t,"y");C&&(p+=`translateX(${C}px) `),D&&(p+=`translateY(${D}px)`),n.transform=p.trim(),o.maxHeight&&(r?n.maxHeight=Os(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Os(o.maxWidth):s&&(n.maxWidth="")),df(this._pane.style,n)}_getExactOverlayY(i,t,n){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===i.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Os(s.y),r}_getExactOverlayX(i,t,n){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Os(s.x),r}_getScrollVisibility(){const i=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ZU(i,n),isOriginOutsideView:qI(i,n),isOverlayClipped:ZU(t,n),isOverlayOutsideView:qI(t,n)}}_subtractOverflows(i,...t){return t.reduce((n,r)=>n-Math.max(r,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+i-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:i-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,t){return"x"===t?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&bx(i).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof ei)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const t=i.width||0,n=i.height||0;return{top:i.y,bottom:i.y+n,left:i.x,right:i.x+t,height:n,width:t}}}function df(e,i){for(let t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}function tz(e){if("number"!=typeof e&&null!=e){const[i,t]=e.split(f0t);return t&&"px"!==t?null:parseFloat(i)}return e||null}function ez(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const iz="cdk-global-overlay-wrapper";class g0t{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){const t=i.getConfig();this._overlayRef=i,this._width&&!t.width&&i.updateSize({width:this._width}),this._height&&!t.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(iz),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:p}=n,C=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),D=!("100%"!==s&&"100vh"!==s||p&&"100%"!==p&&"100vh"!==p),R=this._xPosition,F=this._xOffset,B="rtl"===this._overlayRef.getConfig().direction;let V="",X="",J="";C?J="flex-start":"center"===R?(J="center",B?X=F:V=F):B?"left"===R||"end"===R?(J="flex-end",V=F):("right"===R||"start"===R)&&(J="flex-start",X=F):"left"===R||"start"===R?(J="flex-start",V=F):("right"===R||"end"===R)&&(J="flex-end",X=F),i.position=this._cssPosition,i.marginLeft=C?"0":V,i.marginTop=D?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=C?"0":X,t.justifyContent=J,t.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(iz),n.justifyContent=n.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let v0t=(()=>{class e{constructor(t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new g0t}flexibleConnectedTo(t){return new m0t(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Fd),Kt(Ni),Kt(Qn),Kt(LT))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),x0t=0,ls=(()=>{class e{constructor(t,n,r,s,o,p,C,D,R,F,B,V){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=p,this._ngZone=C,this._document=D,this._directionality=R,this._location=F,this._outsideClickDispatcher=B,this._animationsModuleType=V}create(t){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new qp(t);return o.direction=o.direction||this._directionality.value,new NT(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const n=this._document.createElement("div");return n.id="cdk-overlay-"+x0t++,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(yd)),new Uvt(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(c0t),Kt(LT),Kt(Xh),Kt(v0t),Kt(u0t),Kt($r),Kt(Ze),Kt(Ni),Kt(_a),Kt(ef),Kt(h0t),Kt(Sr,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const y0t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],nz=new qt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const e=fe(ls);return()=>e.scrollStrategies.reposition()}});let tM=(()=>{class e{constructor(t){this.elementRef=t}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return e})(),rz=(()=>{class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,n,r,s,o){this._overlay=t,this._dir=o,this._backdropSubscription=Me.EMPTY,this._attachSubscription=Me.EMPTY,this._detachSubscription=Me.EMPTY,this._positionSubscription=Me.EMPTY,this._disposeOnNavigation=!1,this._ngZone=fe(Ze),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Ae,this.positionChange=new Ae,this.attach=new Ae,this.detach=new Ae,this.overlayKeydown=new Ae,this.overlayOutsideClick=new Ae,this._templatePortal=new kd(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=y0t);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!Ga(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new qp({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof tM?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe($U(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ls),ht(dr),ht(Ar),ht(nz),ht(_a,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[Wt.None,"cdkConnectedOverlayOrigin","origin"],positions:[Wt.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[Wt.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[Wt.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[Wt.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[Wt.None,"cdkConnectedOverlayWidth","width"],height:[Wt.None,"cdkConnectedOverlayHeight","height"],minWidth:[Wt.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[Wt.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[Wt.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[Wt.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[Wt.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[Wt.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[Wt.None,"cdkConnectedOverlayOpen","open"],disableClose:[Wt.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[Wt.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Ke],lockPosition:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",Ke],flexibleDimensions:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Ke],growAfterOpen:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Ke],push:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",Ke],disposeOnNavigation:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Ke]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[an,nr]})}return e})();const w0t={provide:nz,deps:[ls],useFactory:function b0t(e){return()=>e.scrollStrategies.reposition()}};let uf=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[ls,w0t],imports:[wx,Jp,JI,JI]})}return e})();function T0t(e,i){if(1&e){const t=ge();q(0,"div",1)(1,"button",2),Vt("click",function(){return Ut(t),zt(St().action())}),ut(2),et()()}if(2&e){const t=St();ot(2),ri(" ",t.data.action," ")}}const C0t=["label"];function _0t(e,i){}const E0t=Math.pow(2,31)-1;class BT{constructor(i,t){this._overlayRef=t,this._afterDismissed=new ke,this._afterOpened=new ke,this._onAction=new ke,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,E0t))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const eM=new qt("MatSnackBarData");class VT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let sz=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return e})(),az=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return e})(),oz=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return e})(),lz=(()=>{class e{constructor(t,n){this.snackBarRef=t,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#t=this.\u0275fac=function(n){return new(n||e)(ht(BT),ht(eM))};static#e=this.\u0275cmp=He({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Bi],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){1&n&&(q(0,"div",0),ut(1),et(),Ht(2,T0t,3,1,"div",1)),2&n&&(ot(),ri(" ",r.data.message,"\n"),ot(),yn(2,r.hasAction?2:-1))},dependencies:[ua,sz,az,oz],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return e})();const S0t={snackBarState:vr("state",[Ln("void, hidden",si({transform:"scale(0.8)",opacity:0})),Ln("visible",si({transform:"scale(1)",opacity:1})),fn("* => visible",on("150ms cubic-bezier(0, 0, 0.2, 1)")),fn("* => void, * => hidden",on("75ms cubic-bezier(0.4, 0.0, 1, 1)",si({opacity:0})))])};let A0t=0,cz=(()=>{class e extends kT{constructor(t,n,r,s,o){super(),this._ngZone=t,this._elementRef=n,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=fe(Ni),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ke,this._onExit=new ke,this._onEnter=new ke,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+A0t++,this.attachDomPortal=p=>{this._assertNotAttached();const C=this._portalOutlet.attachDomPortal(p);return this._afterPortalAttached(),C},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const n=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),n}attachTemplatePortal(t){this._assertNotAttached();const n=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),n}onAnimationEnd(t){const{fromState:n,toState:r}=t;if(("void"===r&&"void"!==n||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const t=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(o=>t.classList.add(o)):t.classList.add(n)),this._exposeToModals();const r=this._label.nativeElement,s="mdc-snackbar__label";r.classList.toggle(s,!r.querySelector(`.${s}`))}_exposeToModals(){const t=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const n=t.getAttribute("aria-owns");if(n){const r=n.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),n.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ze),ht(ei),ht(Dn),ht(Qn),ht(VT))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(1&n&&(Ai(Pd,7),Ai(C0t,7)),2&n){let s;Oe(s=Le())&&(r._portalOutlet=s.first),Oe(s=Le())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(n,r){1&n&&gw("@state.done",function(o){return r.onAnimationEnd(o)}),2&n&&uw("@state",r._animationState)},standalone:!0,features:[di,Bi],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(q(0,"div",1)(1,"div",2,0)(3,"div",3),Ht(4,_0t,0,0,"ng-template",4),et(),be(5,"div"),et()()),2&n&&(ot(5),_i("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Pd],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[S0t.snackBarState]}})}return e})();const I0t=new qt("mat-snack-bar-default-options",{providedIn:"root",factory:function D0t(){return new VT}});let Hu=(()=>{class e{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,n,r,s,o,p){this._overlay=t,this._live=n,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=p,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=lz,this.snackBarContainerComponent=cz,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,n){return this._attach(t,n)}openFromTemplate(t,n){return this._attach(t,n)}open(t,n="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:n},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,n){const s=$r.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:VT,useValue:n}]}),o=new Zp(this.snackBarContainerComponent,n.viewContainerRef,s),p=t.attach(o);return p.instance.snackBarConfig=n,p.instance}_attach(t,n){const r={...new VT,...this._defaultConfig,...n},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),p=new BT(o,s);if(t instanceof dr){const C=new kd(t,null,{$implicit:r.data,snackBarRef:p});p.instance=o.attachTemplatePortal(C)}else{const C=this._createInjector(r,p),D=new Zp(t,void 0,C),R=o.attachComponentPortal(D);p.instance=R.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ui(s.detachments())).subscribe(C=>{s.overlayElement.classList.toggle(this.handsetCssClass,C.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(p,r),this._openedSnackBarRef=p,this._openedSnackBarRef}_animateSnackBar(t,n){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),n.duration&&n.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(n.duration))}_createOverlay(t){const n=new qp;n.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,p=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):p?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(t,n){return $r.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:BT,useValue:n},{provide:eM,useValue:t.data}]})}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(ls),Kt(yU),Kt($r),Kt(oU),Kt(e,12),Kt(I0t))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),M0t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[Hu],imports:[uf,Jp,jI,$i,lz,$i]})}return e})(),Cr=(()=>{class e{constructor(t,n){this.sbRef=t,this.data=n}static#t=this.\u0275fac=function(n){return new(n||e)(ht(BT),ht(eM))};static#e=this.\u0275cmp=He({type:e,selectors:[["snack-alert"]],decls:2,vars:1,consts:[[1,"example-alert"]],template:function(n,r){1&n&&(q(0,"span",0),ut(1),et()),2&n&&(ot(),ze(r.data))},styles:[".example-alert[_ngcontent-%COMP%]{color:#fff}"]})}return e})(),Zs=(()=>{class e{constructor(t,n){this.http=t,this._snackBar=n,this.snowstormFhirBase="https://snowstorm.ihtsdotools.org/fhir",this.defaultFhirUrlParam="http://snomed.info/sct",this.fhirUrlParam=this.defaultFhirUrlParam,this.lang="en",this.snowstormFhirBaseSubject=new Vr(this.snowstormFhirBase),this.fhirUrlParamSubject=new Vr(this.fhirUrlParam),this.langSubject=new Vr(this.lang),this.snowstormFhirBase$=this.snowstormFhirBaseSubject.asObservable(),this.fhirUrlParam$=this.fhirUrlParamSubject.asObservable(),this.lang$=this.langSubject.asObservable(),this.conceptCache=new Map}setSnowstormFhirBase(t){this.snowstormFhirBase=t,this.snowstormFhirBaseSubject.next(t)}setFhirUrlParam(t){this.fhirUrlParam=t,this.fhirUrlParamSubject.next(t)}setLang(t){this.lang=t,this.langSubject.next(t)}getSnowstormFhirBase(){return this.snowstormFhirBase}getFhirUrlParam(){return this.fhirUrlParam}getLang(){return this.lang}getCodeSystems(){return this.http.get(`${this.snowstormFhirBase}/CodeSystem`).pipe(Ks(this.handleError("getCodeSystems",{})))}getCodeSystem(t){return this.http.get(`${this.snowstormFhirBase}/CodeSystem?version=${t}`).pipe(Ks(this.handleError("getCodeSystem",{})))}getValueSetExpansionUrl(t,n,r,s){return r||(r=0),s||(s=20),"string"!=typeof n&&(n=""),`${this.snowstormFhirBase}/ValueSet/$expand?url=${this.fhirUrlParam}?fhir_vs=ecl/${encodeURIComponent(t)}&count=${s}&offset=${r}&filter=${n}&language=${this.lang}&displayLanguage=${this.lang}`}expandValueSet(t,n,r,s){let o=this.getValueSetExpansionUrl(t,n,r,s);return this.http.get(o).pipe(Ks(this.handleError("expandValueSet",{})))}translate(t,n,r){return r||(r=this.defaultFhirUrlParam),this.http.get(`${this.snowstormFhirBase}/ConceptMap/$translate?url=http://snomed.info/sct?fhir_cm=${t}&code=${n}&system=${r}`).pipe(Ks(this.handleError("translate",{})))}expandValueSetFromServer(t,n,r,s,o,p){o||(o=0),p||(p=20),t||(t=this.snowstormFhirBase),n||(n=this.fhirUrlParam),"string"!=typeof s&&(s="");let C=`${t}/ValueSet/$expand?url=${n}?fhir_vs=ecl/${encodeURIComponent(r)}&count=${p}&offset=${o}&filter=${s}&language=${this.lang}&displayLanguage=${this.lang}`;return this.http.get(C).pipe(Ks(this.handleError("expandValueSet",{})))}handleError(t="operation",n){return r=>(console.error("There was an error!"),console.error(r),this._snackBar.openFromComponent(Cr,{duration:5e3,data:r.message,panelClass:["red-snackbar"]}),xi(n))}lookupConcept(t,n){n||(n=this.fhirUrlParam);const r=`${n}:${t}`,s=this.conceptCache.get(r);if(s)return xi(s);let o=`${this.snowstormFhirBase}/CodeSystem/$lookup?system=http://snomed.info/sct&code=${t}&property=normalForm`;"http://snomed.info/sct"!=n&&(o+=`&version=${n}`);const p={headers:new Fo({"Accept-Language":"en"})};return this.http.get(o,p).pipe(ns(C=>{this.conceptCache.set(r,C)}),Ks(this.handleError("lookupConcept",{})))}getMRCMAttributes(t){let n=`${this.snowstormFhirBase.replace("fhir","snowstorm/snomed-ct")}mrcm/MAIN/domain-attributes?parentIds=${t}&proximalPrimitiveModeling=false&contentType=POSTCOORDINATED`;return this.http.get(n).pipe(Ks(this.handleError("getMRCMAttributes",{})))}addPostcoordinatedExpression(t){let n=`${this.snowstormFhirBase}/CodeSystem/sct_11000003104_EXP`;const r={headers:new Fo({"Content-Type":"application/fhir+json"})};return this.http.patch(n,{resourceType:"CodeSystem",concept:[{code:t}]},r).pipe(Ks(this.handleError("addPostcoordinatedExpression",{})))}runEclLegacy(t){let n=`https://browser.ihtsdotools.org/snowstorm/snomed-ct/MAIN/SNOMEDCT-ES/2022-10-31/concepts?offset=0&limit=100&termActive=true&ecl=${encodeURIComponent(t)}`;return this.http.get(n).pipe(Ks(this.handleError("expandValueSet",{})))}getIcd10MapTargets(t){return this.http.get(`${this.snowstormFhirBase}/ConceptMap/$translate?code=${t}&system=http://snomed.info/sct&source=http://snomed.info/sct?fhir_vs&target=http://hl7.org/fhir/sid/icd-10&url=http://snomed.info/sct/900000000000207008/version/20200131?fhir_cm=447562003`).pipe(Ks(this.handleError("translate",{})))}lookupOtherCodeSystems(t,n){return this.http.get(`${this.snowstormFhirBase}/CodeSystem/$lookup?system=${t}&code=${n}`).pipe(Ks(this.handleError("lookup",{})))}getNormalForm(t){if(t.parameter)for(let n of t.parameter){let r=!1;if("property"==n.name){for(let s of n.part)"code"==s.name&&"normalForm"==s.valueString&&(r=!0);if(r)for(let s of n.part)if("valueString"==s.name)return s.valueString}}return""}parseNormmalForm(t){const n=[];return t.split("} {").forEach(s=>{const o=s.match(/\d+\|[^\|]+\|\s*=\s*\d+\|[^\|]+\|/g);if(!o)return;const p=o.map(C=>{const[D,R]=C.split("=").map(J=>J.trim()),[F,B]=D.split("|").map(J=>J.trim()),[V,X]=R.split("|").map(J=>J.trim());return{type:{code:F,display:B.replace(/\(.*\)/,"").trim()},target:{code:V,display:X}}});n.push(p)}),{groups:n}}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Oc),Kt(Hu))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dz(...e){const i=E6(e),{args:t,keys:n}=S6(e),r=new lr(s=>{const{length:o}=t;if(!o)return void s.complete();const p=new Array(o);let C=o,D=o;for(let R=0;R<o;R++){let F=!1;za(t[R]).subscribe(Ur(s,B=>{F||(F=!0,D--),p[R]=B},()=>C--,void 0,()=>{(!C||!F)&&(D||s.next(n?A6(n,p):p),s.complete())}))}});return i?r.pipe(B2(i)):r}function uz(e={}){const{connector:i=(()=>new ke),resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,p,C,D=0,R=!1,F=!1;const B=()=>{p?.unsubscribe(),p=void 0},V=()=>{B(),o=C=void 0,R=F=!1},X=()=>{const J=o;V(),J?.unsubscribe()};return es((J,Q)=>{D++,!F&&!R&&B();const nt=C=C??i();Q.add(()=>{D--,0===D&&!F&&!R&&(p=iM(X,r))}),nt.subscribe(Q),!o&&D>0&&(o=new Eo({next:ct=>nt.next(ct),error:ct=>{F=!0,B(),p=iM(V,t,ct),nt.error(ct)},complete:()=>{R=!0,B(),p=iM(V,n),nt.complete()}}),za(J).subscribe(o))})(s)}}function iM(e,i,...t){if(!0===i)return void e();if(!1===i)return;const n=new Eo({next:()=>{n.unsubscribe(),e()}});return za(i(...t)).subscribe(n)}const R0t=["*"];let UT;function Ix(e){return function k0t(){if(void 0===UT&&(UT=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(UT=e.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return UT}()?.createHTML(e)||e}function hz(e){return Error(`Unable to find icon with the name "${e}"`)}function fz(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function mz(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class hf{constructor(i,t,n){this.url=i,this.svgText=t,this.options=n}}let zT=(()=>{class e{constructor(t,n,r,s){this._httpClient=t,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,n,r){return this.addSvgIconInNamespace("",t,n,r)}addSvgIconLiteral(t,n,r){return this.addSvgIconLiteralInNamespace("",t,n,r)}addSvgIconInNamespace(t,n,r,s){return this._addSvgIconConfig(t,n,new hf(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,r,s){const o=this._sanitizer.sanitize(Ta.HTML,r);if(!o)throw mz(r);const p=Ix(o);return this._addSvgIconConfig(t,n,new hf("",p,s))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,r){return this._addSvgIconSetConfig(t,new hf(n,null,r))}addSvgIconSetLiteralInNamespace(t,n,r){const s=this._sanitizer.sanitize(Ta.HTML,n);if(!s)throw mz(n);const o=Ix(s);return this._addSvgIconSetConfig(t,new hf("",o,r))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const n=this._sanitizer.sanitize(Ta.RESOURCE_URL,t);if(!n)throw fz(t);const r=this._cachedIconsByUrl.get(n);return r?xi(GT(r)):this._loadSvgIconFromConfig(new hf(t,null)).pipe(ns(s=>this._cachedIconsByUrl.set(n,s)),Di(s=>GT(s)))}getNamedSvgIcon(t,n=""){const r=pz(n,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(t,o):Ip(hz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?xi(GT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Di(n=>GT(n)))}_getSvgFromIconSetConfigs(t,n){const r=this._extractIconWithNameFromAnySet(t,n);return r?xi(r):dz(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ks(p=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(Ta.RESOURCE_URL,o.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(D)),xi(null)})))).pipe(Di(()=>{const o=this._extractIconWithNameFromAnySet(t,n);if(!o)throw hz(t);return o}))}_extractIconWithNameFromAnySet(t,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),p=this._extractSvgIconFromSet(o,t,s.options);if(p)return p}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ns(n=>t.svgText=n),Di(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?xi(null):this._fetchIcon(t).pipe(ns(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,r){const s=t.querySelector(`[id="${n}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const p=this._svgElementFromString(Ix("<svg></svg>"));return p.appendChild(o),this._setSvgAttributes(p,r)}_svgElementFromString(t){const n=this._document.createElement("DIV");n.innerHTML=t;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const n=this._svgElementFromString(Ix("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:p}=r[s];"id"!==o&&n.setAttribute(o,p)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){const{url:n,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function P0t(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(Ta.RESOURCE_URL,n);if(!o)throw fz(n);const p=this._inProgressUrlFetches.get(o);if(p)return p;const C=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Di(D=>Ix(D)),Rp(()=>this._inProgressUrlFetches.delete(o)),uz());return this._inProgressUrlFetches.set(o,C),C}_addSvgIconConfig(t,n,r){return this._svgIconConfigs.set(pz(t,n),r),this}_addSvgIconSetConfig(t,n){const r=this._iconSetConfigs.get(t);return r?r.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){const n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,t);if(s)return O0t(s)?new hf(s.url,null,s.options):new hf(s,null)}}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Oc,8),Kt(M2),Kt(Ni,8),Kt(Qo))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function GT(e){return e.cloneNode(!0)}function pz(e,i){return e+":"+i}function O0t(e){return!(!e.url||!e.options)}const L0t=new qt("MAT_ICON_DEFAULT_OPTIONS"),N0t=new qt("mat-icon-location",{providedIn:"root",factory:function B0t(){const e=fe(Ni),i=e?e.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),gz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],V0t=gz.map(e=>`[${e}]`).join(", "),U0t=/^url\(['"]?#(.*?)['"]?\)$/;let ha=(()=>{class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(t,n,r,s,o,p){this._elementRef=t,this._iconRegistry=n,this._location=s,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Me.EMPTY,p&&(p.color&&(this.color=this._defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=t.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),n.forEach(r=>t.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const n=t.querySelectorAll(V0t),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)gz.forEach(o=>{const p=n[s],C=p.getAttribute(o),D=C?C.match(U0t):null;if(D){let R=r.get(p);R||(R=[],r.set(p,R)),R.push({name:o,value:D[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[n,r]=this._splitIconName(t);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(Jn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(zT),$o("aria-hidden"),ht(N0t),ht(Qo),ht(L0t,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){2&n&&(_i("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),gl(r.color?"mat-"+r.color:""),yi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[Wt.HasDecoratorInputTransform,"inline","inline",Ke],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[an,Bi],ngContentSelectors:R0t,decls:1,vars:0,template:function(n,r){1&n&&(Gn(),hi(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),z0t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,$i]})}return e})();function vz(e,i){return i?t=>K0(i.pipe(Jn(1),function G0t(){return es((e,i)=>{e.subscribe(Ur(i,er))})}()),t.pipe(vz(e))):la((t,n)=>za(e(t,n)).pipe(Jn(1),$w(t)))}function nM(e,i=yx){const t=Ax(e,i);return vz(()=>t)}const H0t=["mat-menu-item",""],W0t=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],X0t=["mat-icon, [matMenuItemIcon]","*"];function j0t(e,i){1&e&&(Yo(),q(0,"svg",2),be(1,"polygon",3),et())}const Y0t=["*"];function $0t(e,i){if(1&e){const t=ge();q(0,"div",0),Vt("keydown",function(r){return Ut(t),zt(St()._handleKeydown(r))})("click",function(){return Ut(t),zt(St().closed.emit("click"))})("@transformMenu.start",function(r){return Ut(t),zt(St()._onAnimationStart(r))})("@transformMenu.done",function(r){return Ut(t),zt(St()._onAnimationDone(r))}),q(1,"div",1),hi(2),et()()}if(2&e){const t=St();xt("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),_i("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const rM=new qt("MAT_MENU_PANEL");let Tl=(()=>{class e{constructor(t,n,r,s,o){this._elementRef=t,this._document=n,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new ke,this._focused=new ke,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),n=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Ni),ht(bl),ht(rM,8),ht(Dn))};static#e=this.\u0275cmp=He({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,r){1&n&&Vt("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&n&&(_i("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),yi("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke],disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ke]},exportAs:["matMenuItem"],standalone:!0,features:[an,Bi],attrs:H0t,ngContentSelectors:X0t,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){1&n&&(Gn(W0t),hi(0),q(1,"span",0),hi(2,1),et(),be(3,"div",1),Ht(4,j0t,2,0,":svg:svg",2)),2&n&&(ot(3),xt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),ot(),yn(4,r._triggersSubmenu?4:-1))},dependencies:[Id],encapsulation:2,changeDetection:0})}return e})();const Q0t=new qt("MatMenuContent"),HT={transformMenu:vr("transformMenu",[Ln("void",si({opacity:0,transform:"scale(0.8)"})),fn("void => enter",on("120ms cubic-bezier(0, 0, 0.2, 1)",si({opacity:1,transform:"scale(1)"}))),fn("* => void",on("100ms 25ms linear",si({opacity:0})))]),fadeInItems:vr("fadeInItems",[Ln("showing",si({opacity:1})),fn("void => *",[si({opacity:0}),on("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let K0t=0;const Z0t=new qt("mat-menu-default-options",{providedIn:"root",factory:function J0t(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let il=(()=>{class e{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}set panelClass(t){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,n,r,s){this._elementRef=t,this._ngZone=n,this._changeDetectorRef=s,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new bu,this._classList={},this._panelAnimationState="void",this._animationDone=new ke,this.closed=new Ae,this.close=this.closed,this.panelId="mat-menu-panel-"+K0t++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new LI(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ca(this._directDescendantItems),bs(t=>Gr(...t.map(n=>n._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[s]&&!r[s].disabled?n.setActiveItem(s):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(ca(this._directDescendantItems),bs(n=>Gr(...n.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const n=t.keyCode,r=this._keyManager;switch(n){case 27:Ga(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Jn(1)).subscribe(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&n&&n.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const n=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${n}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ca(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Ze),ht(Z0t),ht(Dn))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-menu"]],contentQueries:function(n,r,s){if(1&n&&(hn(s,Q0t,5),hn(s,Tl,5),hn(s,Tl,4)),2&n){let o;Oe(o=Le())&&(r.lazyContent=o.first),Oe(o=Le())&&(r._allItems=o),Oe(o=Le())&&(r.items=o)}},viewQuery:function(n,r){if(1&n&&Ai(dr,5),2&n){let s;Oe(s=Le())&&(r.templateRef=s.first)}},hostVars:3,hostBindings:function(n,r){2&n&&_i("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[Wt.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[Wt.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",Ke],hasBackdrop:[Wt.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",t=>null==t?null:Ke(t)],panelClass:[Wt.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[fi([{provide:rM,useExisting:e}]),an,Bi],ngContentSelectors:Y0t,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id","ngClass"],[1,"mat-mdc-menu-content"]],template:function(n,r){1&n&&(Gn(),Ht(0,$0t,3,6,"ng-template"))},dependencies:[Jl],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;padding-right:var(--mat-menu-item-spacing);padding-left:0}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[HT.transformMenu,HT.fadeInItems]},changeDetection:0})}return e})();const xz=new qt("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const e=fe(ls);return()=>e.scrollStrategies.reposition()}}),txt={provide:xz,deps:[ls],useFactory:function q0t(e){return()=>e.scrollStrategies.reposition()}},yz=ic({passive:!0});let Ld=(()=>{class e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,n,r,s,o,p,C,D,R){this._overlay=t,this._element=n,this._viewContainerRef=r,this._menuItemInstance=p,this._dir=C,this._focusMonitor=D,this._ngZone=R,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Me.EMPTY,this._hoverSubscription=Me.EMPTY,this._menuCloseSubscription=Me.EMPTY,this._changeDetectorRef=fe(Dn),this._handleTouchStart=F=>{ET(F)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Ae,this.onMenuOpen=this.menuOpened,this.menuClosed=new Ae,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof il?o:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,yz)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,yz),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const n=this._createOverlay(t),r=n.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,n.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof il&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Ui(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof il?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(In(r=>"void"===r.toState),Jn(1),Ui(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let n=0,r=t.parentMenu;for(;r;)n++,r=r.parentMenu;t.setElevation(n)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const n=this._getOverlayConfig(t);this._subscribeToPositions(t,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new qp({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,n){t.setPositionClasses&&n.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",o="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,o)):t.setPositionClasses(s,o)})}_setPosition(t,n){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[o,p]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[C,D]=[o,p],[R,F]=[r,s],B=0;if(this.triggersSubmenu()){if(F=r="before"===t.xPosition?"start":"end",s=R="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const V=this._parentMaterialMenu.items.first;this._parentInnerPadding=V?V._getHostElement().offsetTop:0}B="bottom"===o?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(C="top"===o?"bottom":"top",D="top"===p?"bottom":"top");n.withPositions([{originX:r,originY:C,overlayX:R,overlayY:o,offsetY:B},{originX:s,originY:C,overlayX:F,overlayY:o,offsetY:B},{originX:r,originY:D,overlayX:R,overlayY:p,offsetY:-B},{originX:s,originY:D,overlayX:F,overlayY:p,offsetY:-B}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return Gr(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:xi(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(In(o=>o!==this._menuItemInstance),In(()=>this._menuOpen)):xi(),n)}_handleMousedown(t){_T(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const n=t.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(In(t=>t===this._menuItemInstance&&!t.disabled),nM(0,ZI)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof il&&this.menu._isAnimating?this.menu._animationDone.pipe(Jn(1),nM(0,ZI),Ui(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new kd(t.templateRef,this._viewContainerRef)),this._portal}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ls),ht(ei),ht(Ar),ht(xz),ht(rM,8),ht(Tl,10),ht(_a,8),ht(bl),ht(Ze))};static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,r){1&n&&Vt("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&n&&_i("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[Wt.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[Wt.None,"matMenuTriggerFor","menu"],menuData:[Wt.None,"matMenuTriggerData","menuData"],restoreFocus:[Wt.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return e})(),ext=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[txt],imports:[Ic,Qp,$i,uf,Od,$i]})}return e})();const ixt=["determinateSpinner"];function nxt(e,i){if(1&e&&(Yo(),q(0,"svg",11),be(1,"circle",12),et()),2&e){const t=St();_i("viewBox",t._viewBox()),ot(),vs("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),_i("r",t._circleRadius())}}const rxt=new qt("mat-progress-spinner-default-options",{providedIn:"root",factory:function sxt(){return{diameter:bz}}}),bz=100;let Wu=(()=>{class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}constructor(t,n,r){this._elementRef=t,this._defaultColor="primary",this._value=0,this._diameter=bz,this._noopAnimations="NoopAnimations"===n&&!!r&&!r._forceAnimations,this.mode="mat-spinner"===t.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Sr,8),ht(rxt))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(1&n&&Ai(ixt,5),2&n){let s;Oe(s=Le())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){2&n&&(_i("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),gl("mat-"+r.color),vs("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),yi("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:[Wt.HasDecoratorInputTransform,"value","value",zr],diameter:[Wt.HasDecoratorInputTransform,"diameter","diameter",zr],strokeWidth:[Wt.HasDecoratorInputTransform,"strokeWidth","strokeWidth",zr]},exportAs:["matProgressSpinner"],standalone:!0,features:[an,Bi],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(1&n&&(Ht(0,nxt,2,8,"ng-template",null,0,wp),q(2,"div",2,1),Yo(),q(4,"svg",3),be(5,"circle",4),et()(),Wv(),q(6,"div",5)(7,"div",6)(8,"div",7),Ys(9,8),et(),q(10,"div",9),Ys(11,8),et(),q(12,"div",10),Ys(13,8),et()()()),2&n){const s=Zi(1);ot(4),_i("viewBox",r._viewBox()),ot(),vs("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),_i("r",r._circleRadius()),ot(4),xt("ngTemplateOutlet",s),ot(2),xt("ngTemplateOutlet",s),ot(2),xt("ngTemplateOutlet",s)}},dependencies:[Hw],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return e})(),oxt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Ic,$i]})}return e})();const lxt=["*"],uxt=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],hxt=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],fxt=new qt("MAT_CARD_CONFIG");let WT=(()=>{class e{constructor(t){this.appearance=t?.appearance||"raised"}static#t=this.\u0275fac=function(n){return new(n||e)(ht(fxt,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){2&n&&yi("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Bi],ngContentSelectors:lxt,decls:1,vars:0,template:function(n,r){1&n&&(Gn(),hi(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),wz=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return e})(),Tz=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return e})(),Cz=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return e})(),_z=(()=>{class e{constructor(){this.align="start"}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(n,r){2&n&&yi("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return e})(),Ez=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Bi],ngContentSelectors:hxt,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){1&n&&(Gn(uxt),hi(0),q(1,"div",0),hi(2,1),et(),hi(3,2))},encapsulation:2,changeDetection:0})}return e})(),pxt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,Ic,$i]})}return e})();const gxt=[[["caption"]],[["colgroup"],["col"]],"*"],vxt=["caption","colgroup, col","*"];function xxt(e,i){1&e&&hi(0,2)}function yxt(e,i){1&e&&(q(0,"thead",0),Ys(1,1),et(),q(2,"tbody",0),Ys(3,2)(4,3),et(),q(5,"tfoot",0),Ys(6,4),et())}function bxt(e,i){1&e&&Ys(0,1)(1,2)(2,3)(3,4)}const Nc=new qt("CDK_TABLE");let tg=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkCellDef",""]],standalone:!0})}return e})(),eg=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return e})(),XT=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return e})(),Nd=(()=>{class e{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Nc,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,s){if(1&n&&(hn(s,tg,5),hn(s,eg,5),hn(s,XT,5)),2&n){let o;Oe(o=Le())&&(r.cell=o.first),Oe(o=Le())&&(r.headerCell=o.first),Oe(o=Le())&&(r.footerCell=o.first)}},inputs:{name:[Wt.None,"cdkColumnDef","name"],sticky:[Wt.HasDecoratorInputTransform,"sticky","sticky",Ke],stickyEnd:[Wt.HasDecoratorInputTransform,"stickyEnd","stickyEnd",Ke]},standalone:!0,features:[fi([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),an]})}return e})();class sM{constructor(i,t){t.nativeElement.classList.add(...i._columnCssClassName)}}let aM=(()=>{class e extends sM{constructor(t,n){super(t,n)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Nd),ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[di]})}return e})(),oM=(()=>{class e extends sM{constructor(t,n){super(t,n);const r=t._table?._getCellRole();r&&n.nativeElement.setAttribute("role",r)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Nd),ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[di]})}return e})();class Az{constructor(){this.tasks=[],this.endTasks=[]}}const lM=new qt("_COALESCED_STYLE_SCHEDULER");let Dz=(()=>{class e{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new ke}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Az,this._getScheduleObservable().pipe(Ui(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new Az;for(const n of t.tasks)n();for(const n of t.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?ys(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Jn(1))}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ze))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),cM=(()=>{class e{constructor(t,n){this.template=t,this._differs=n}ngOnChanges(t){if(!this._columnsDiffer){const n=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Mx?t.headerCell.template:this instanceof Rx?t.footerCell.template:t.cell.template}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr),ht(ku))};static#e=this.\u0275dir=ce({type:e,features:[nr]})}return e})(),Mx=(()=>{class e extends cM{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,n,r){super(t,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr),ht(ku),ht(Nc,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[Wt.None,"cdkHeaderRowDef","columns"],sticky:[Wt.HasDecoratorInputTransform,"cdkHeaderRowDefSticky","sticky",Ke]},standalone:!0,features:[an,di,nr]})}return e})(),Rx=(()=>{class e extends cM{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,n,r){super(t,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr),ht(ku),ht(Nc,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[Wt.None,"cdkFooterRowDef","columns"],sticky:[Wt.HasDecoratorInputTransform,"cdkFooterRowDefSticky","sticky",Ke]},standalone:!0,features:[an,di,nr]})}return e})(),jT=(()=>{class e extends cM{constructor(t,n,r){super(t,n),this._table=r}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr),ht(ku),ht(Nc,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:[Wt.None,"cdkRowDefColumns","columns"],when:[Wt.None,"cdkRowDefWhen","when"]},standalone:!0,features:[di]})}return e})(),Bd=(()=>{class e{static#t=this.mostRecentCellOutlet=null;constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}static#e=this.\u0275fac=function(n){return new(n||e)(ht(Ar))};static#i=this.\u0275dir=ce({type:e,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return e})(),dM=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=He({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[Bi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&Ys(0,0)},dependencies:[Bd],encapsulation:2})}return e})(),hM=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=He({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[Bi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&Ys(0,0)},dependencies:[Bd],encapsulation:2})}return e})(),YT=(()=>{class e{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr))};static#e=this.\u0275dir=ce({type:e,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return e})();const Iz=["top","bottom","left","right"];class _xt{constructor(i,t,n,r,s=!0,o=!0,p){this._isNativeHtmlTable=i,this._stickCellCss=t,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=p,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(i,t){const n=[];for(const r of i)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let s=0;s<r.children.length;s++)n.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of n)this._removeStickyStyle(r,t)})}updateStickyColumns(i,t,n,r=!0){i.length&&this._isBrowser&&(t.some(s=>s)||n.some(s=>s))?this._coalescedStyleScheduler.schedule(()=>{const s=i[0],o=s.children.length,p=this._getCellWidths(s,r),C=this._getStickyStartColumnPositions(p,t),D=this._getStickyEndColumnPositions(p,n),R=t.lastIndexOf(!0),F=n.indexOf(!0),B="rtl"===this.direction,V=B?"right":"left",X=B?"left":"right";for(const J of i)for(let Q=0;Q<o;Q++){const nt=J.children[Q];t[Q]&&this._addStickyStyle(nt,V,C[Q],Q===R),n[Q]&&this._addStickyStyle(nt,X,D[Q],Q===F)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===R?[]:p.slice(0,R+1).map((J,Q)=>t[Q]?J:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===F?[]:p.slice(F).map((J,Q)=>n[Q+F]?J:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(i,t,n){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const r="bottom"===n?i.slice().reverse():i,s="bottom"===n?t.slice().reverse():t,o=[],p=[],C=[];for(let R=0,F=0;R<r.length;R++){if(!s[R])continue;o[R]=F;const B=r[R];C[R]=this._isNativeHtmlTable?Array.from(B.children):[B];const V=B.getBoundingClientRect().height;F+=V,p[R]=V}const D=s.lastIndexOf(!0);for(let R=0;R<r.length;R++){if(!s[R])continue;const F=o[R],B=R===D;for(const V of C[R])this._addStickyStyle(V,n,F,B)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:p,offsets:o,elements:C}):this._positionListener?.stickyFooterRowsUpdated({sizes:p,offsets:o,elements:C})})}updateStickyFooterContainer(i,t){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const n=i.querySelector("tfoot");n&&(t.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))})}_removeStickyStyle(i,t){for(const r of t)i.style[r]="",i.classList.remove(this._borderCellCss[r]);Iz.some(r=>-1===t.indexOf(r)&&i.style[r])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,t,n,r){i.classList.add(this._stickCellCss),r&&i.classList.add(this._borderCellCss[t]),i.style[t]=`${n}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const t={top:100,bottom:10,left:1,right:1};let n=0;for(const r of Iz)i.style[r]&&(n+=t[r]);return n?`${n}`:""}_getCellWidths(i,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=i.children;for(let s=0;s<r.length;s++)n.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(i,t){const n=[];let r=0;for(let s=0;s<i.length;s++)t[s]&&(n[s]=r,r+=i[s]);return n}_getStickyEndColumnPositions(i,t){const n=[];let r=0;for(let s=i.length;s>0;s--)t[s]&&(n[s]=r,r+=i[s]);return n}}const fM=new qt("CDK_SPL");let mM=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=fe(Nc);r._rowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ar),ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["","rowOutlet",""]],standalone:!0})}return e})(),pM=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=fe(Nc);r._headerRowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ar),ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["","headerRowOutlet",""]],standalone:!0})}return e})(),gM=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=fe(Nc);r._footerRowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ar),ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["","footerRowOutlet",""]],standalone:!0})}return e})(),vM=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=fe(Nc);r._noDataRowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ar),ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return e})(),$T=(()=>{class e{_getCellRole(){if(void 0===this._cellRoleInternal){const t=this._elementRef.nativeElement.getAttribute("role"),n="grid"===t||"treegrid"===t?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===n?null:n}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,n,r,s,o,p,C,D,R,F,B,V){this._differs=t,this._changeDetectorRef=n,this._elementRef=r,this._dir=o,this._platform=C,this._viewRepeater=D,this._coalescedStyleScheduler=R,this._viewportRuler=F,this._stickyPositioningListener=B,this._ngZone=V,this._onDestroy=new ke,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Ae,this.viewChange=new Vr({start:0,end:Number.MAX_VALUE}),s||r.nativeElement.setAttribute("role","table"),this._document=p,this._isServer=!C.isBrowser,this._isNativeHtmlTable="TABLE"===r.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(Ui(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),pI(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,n,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===Ed.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{n.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&Ze.isInAngularZone()?this._ngZone.onStable.pipe(Jn(1),Ui(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const r=Mz(this._headerRowOutlet,"thead");r&&(r.style.display=t.length?"":"none")}const n=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const r=Mz(this._footerRowOutlet,"tfoot");r&&(r.style.display=t.length?"":"none")}const n=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let p=0;p<n.length;p++)this._renderRows[p].rowDef===s&&o.push(n[p]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const t=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,n.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let p=0;p<o.length;p++){let C=o[p];const D=this._cachedRenderRowsMap.get(C.data);D.has(C.rowDef)?D.get(C.rowDef).push(C):D.set(C.rowDef,[C]),t.push(C)}}return t}_getRenderRowsForData(t,n,r){return this._getRowDefs(t,n).map(o=>{const p=r&&r.has(o)?r.get(o):[];if(p.length){const C=p.shift();return C.dataIndex=n,C}return{data:t,rowDef:o,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),QT(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=QT(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=QT(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=QT(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,p)=>o||!!p.getColumnsDiff(),n=this._rowDefs.reduce(t,!1);n&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),n||r||s}_switchDataSource(t){this._data=[],pI(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;pI(this.dataSource)?t=this.dataSource.connect(this):R2(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=xi(this.dataSource)),this._renderChangeSubscription=t.pipe(Ui(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,n)=>this._renderRow(this._headerRowOutlet,t,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,n)=>this._renderRow(this._footerRowOutlet,t,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,n){const r=Array.from(n.columns||[]).map(p=>this._columnDefsByName.get(p)),s=r.map(p=>p.sticky),o=r.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const n=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);n.push(s.rootNodes[0])}return n}_getRowDefs(t,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(n,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(n,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,n){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:n}}_renderRow(t,n,r,s={}){const o=t.viewContainer.createEmbeddedView(n.template,s,r);return this._renderCellTemplateForItem(n,s),o}_renderCellTemplateForItem(t,n){for(let r of this._getCellTemplates(t))Bd.mostRecentCellOutlet&&Bd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let n=0,r=t.length;n<r;n++){const o=t.get(n).context;o.count=r,o.first=0===n,o.last=n===r-1,o.even=n%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[n].dataIndex,o.renderIndex=n):o.index=this._renderRows[n].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,n=>{const r=this._columnDefsByName.get(n);return t.extractCellTemplate(r)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new _xt(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:xi()).pipe(Ui(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(n){const s=r.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ku),ht(Dn),ht(ei),$o("role"),ht(_a,8),ht(Ni),ht(Qn),ht(dx),ht(lM),ht(Fd),ht(fM,12),ht(Ze,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,s){if(1&n&&(hn(s,YT,5),hn(s,Nd,5),hn(s,jT,5),hn(s,Mx,5),hn(s,Rx,5)),2&n){let o;Oe(o=Le())&&(r._noDataRow=o.first),Oe(o=Le())&&(r._contentColumnDefs=o),Oe(o=Le())&&(r._contentRowDefs=o),Oe(o=Le())&&(r._contentHeaderRowDefs=o),Oe(o=Le())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,r){2&n&&yi("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[Wt.HasDecoratorInputTransform,"multiTemplateDataRows","multiTemplateDataRows",Ke],fixedLayout:[Wt.HasDecoratorInputTransform,"fixedLayout","fixedLayout",Ke]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[fi([{provide:Nc,useExisting:e},{provide:dx,useClass:M9},{provide:lM,useClass:Dz},{provide:fM,useValue:null}]),an,Bi],ngContentSelectors:vxt,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(Gn(gxt),hi(0),hi(1,1),Ht(2,xxt,1,0)(3,yxt,7,0)(4,bxt,4,0)),2&n&&(ot(2),yn(2,r._isServer?2:-1),ot(),yn(3,r._isNativeHtmlTable?3:4))},dependencies:[pM,mM,vM,gM],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return e})();function QT(e,i){return e.concat(Array.from(i))}function Mz(e,i){const t=i.toUpperCase();let n=e.viewContainer.element.nativeElement;for(;n;){const r=1===n.nodeType?n.nodeName:null;if(r===t)return n;if("TABLE"===r)break;n=n.parentNode}return null}let Sxt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[JI]})}return e})();const Axt=[[["caption"]],[["colgroup"],["col"]],"*"],Dxt=["caption","colgroup, col","*"];function Ixt(e,i){1&e&&hi(0,2)}function Mxt(e,i){1&e&&(q(0,"thead",0),Ys(1,1),et(),q(2,"tbody",2),Ys(3,3)(4,4),et(),q(5,"tfoot",0),Ys(6,5),et())}function Rxt(e,i){1&e&&Ys(0,1)(1,3)(2,4)(3,5)}let Xu=(()=>{class e extends $T{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275cmp=He({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){2&n&&yi("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[fi([{provide:$T,useExisting:e},{provide:Nc,useExisting:e},{provide:lM,useClass:Dz},{provide:dx,useClass:M9},{provide:fM,useValue:null}]),di,Bi],ngContentSelectors:Dxt,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(Gn(Axt),hi(0),hi(1,1),Ht(2,Ixt,1,0)(3,Mxt,7,0)(4,Rxt,4,0)),2&n&&(ot(2),yn(2,r._isServer?2:-1),ot(),yn(3,r._isNativeHtmlTable?3:4))},dependencies:[pM,mM,vM,gM],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return e})(),Vd=(()=>{class e extends tg{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matCellDef",""]],standalone:!0,features:[fi([{provide:tg,useExisting:e}]),di]})}return e})(),Ud=(()=>{class e extends eg{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[fi([{provide:eg,useExisting:e}]),di]})}return e})(),zd=(()=>{class e extends Nd{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matColumnDef",""]],inputs:{name:[Wt.None,"matColumnDef","name"]},standalone:!0,features:[fi([{provide:Nd,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),di]})}return e})(),Gd=(()=>{class e extends aM{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[di]})}return e})(),Hd=(()=>{class e extends oM{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[di]})}return e})(),ju=(()=>{class e extends Mx{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[Wt.None,"matHeaderRowDef","columns"],sticky:[Wt.HasDecoratorInputTransform,"matHeaderRowDefSticky","sticky",Ke]},standalone:!0,features:[fi([{provide:Mx,useExisting:e}]),an,di]})}return e})(),Yu=(()=>{class e extends jT{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matRowDef",""]],inputs:{columns:[Wt.None,"matRowDefColumns","columns"],when:[Wt.None,"matRowDefWhen","when"]},standalone:!0,features:[fi([{provide:jT,useExisting:e}]),di]})}return e})(),$u=(()=>{class e extends dM{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275cmp=He({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[fi([{provide:dM,useExisting:e}]),di,Bi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&Ys(0,0)},dependencies:[Bd],encapsulation:2})}return e})(),Qu=(()=>{class e extends hM{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275cmp=He({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[fi([{provide:hM,useExisting:e}]),di,Bi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&Ys(0,0)},dependencies:[Bd],encapsulation:2})}return e})(),Vxt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,Sxt,$i]})}return e})();class ff extends cT{get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}constructor(i=[]){super(),this._renderData=new Vr([]),this._filter=new Vr(""),this._internalPageChanges=new ke,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,n)=>{const r=t[n];if(rU(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(t,n)=>{const r=n.active,s=n.direction;return r&&""!=s?t.sort((o,p)=>{let C=this.sortingDataAccessor(o,r),D=this.sortingDataAccessor(p,r);const R=typeof C,F=typeof D;R!==F&&("number"===R&&(C+=""),"number"===F&&(D+=""));let B=0;return null!=C&&null!=D?C>D?B=1:C<D&&(B=-1):null!=C?B=1:null!=D&&(B=-1),B*("asc"==s?1:-1)}):t},this.filterPredicate=(t,n)=>{const r=Object.keys(t).reduce((o,p)=>o+t[p]+"\u25ec","").toLowerCase(),s=n.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Vr(i),this._updateChangeSubscription()}_updateChangeSubscription(){const i=this._sort?Gr(this._sort.sortChange,this._sort.initialized):xi(null),t=this._paginator?Gr(this._paginator.page,this._internalPageChanges,this._paginator.initialized):xi(null),r=_d([this._data,this._filter]).pipe(Di(([p])=>this._filterData(p))),s=_d([r,i]).pipe(Di(([p])=>this._orderData(p))),o=_d([s,t]).pipe(Di(([p])=>this._pageData(p)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(p=>this._renderData.next(p))}_filterData(i){return this.filteredData=null==this.filter||""===this.filter?i:i.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;const t=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(t,t+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=i,t.pageIndex>0)){const n=Math.ceil(t.length/t.pageSize)-1||0,r=Math.min(t.pageIndex,n);r!==t.pageIndex&&(t.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}let kz=(()=>{class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(gd),ht(ei))};static#e=this.\u0275dir=ce({type:e})}return e})(),mf=(()=>{class e extends kz{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,features:[di]})}return e})();const Js=new qt(""),Gxt={provide:Js,useExisting:En(()=>Cl),multi:!0},Wxt=new qt("");let Cl=(()=>{class e extends kz{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Hxt(){const e=Pu()?Pu().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(gd),ht(ei),ht(Wxt,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Vt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[fi([Gxt]),di]})}return e})();function Ku(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Fz(e){return null!=e&&"number"==typeof e.length}const Ls=new qt(""),Zu=new qt(""),Xxt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ig{static min(i){return function Oz(e){return i=>{if(Ku(i.value)||Ku(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t<e?{min:{min:e,actual:i.value}}:null}}(i)}static max(i){return function Lz(e){return i=>{if(Ku(i.value)||Ku(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t>e?{max:{max:e,actual:i.value}}:null}}(i)}static required(i){return Nz(i)}static requiredTrue(i){return function Bz(e){return!0===e.value?null:{required:!0}}(i)}static email(i){return function Vz(e){return Ku(e.value)||Xxt.test(e.value)?null:{email:!0}}(i)}static minLength(i){return Uz(i)}static maxLength(i){return function zz(e){return i=>Fz(i.value)&&i.value.length>e?{maxlength:{requiredLength:e,actualLength:i.value.length}}:null}(i)}static pattern(i){return Gz(i)}static nullValidator(i){return null}static compose(i){return $z(i)}static composeAsync(i){return Qz(i)}}function Nz(e){return Ku(e.value)?{required:!0}:null}function Uz(e){return i=>Ku(i.value)||!Fz(i.value)?null:i.value.length<e?{minlength:{requiredLength:e,actualLength:i.value.length}}:null}function Gz(e){if(!e)return KT;let i,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),i=new RegExp(t)):(t=e.toString(),i=e),n=>{if(Ku(n.value))return null;const r=n.value;return i.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function KT(e){return null}function Hz(e){return null!=e}function Wz(e){return z0(e)?ys(e):e}function Xz(e){let i={};return e.forEach(t=>{i=null!=t?{...i,...t}:i}),0===Object.keys(i).length?null:i}function jz(e,i){return i.map(t=>t(e))}function Yz(e){return e.map(i=>function jxt(e){return!e.validate}(i)?i:t=>i.validate(t))}function $z(e){if(!e)return null;const i=e.filter(Hz);return 0==i.length?null:function(t){return Xz(jz(t,i))}}function xM(e){return null!=e?$z(Yz(e)):null}function Qz(e){if(!e)return null;const i=e.filter(Hz);return 0==i.length?null:function(t){return dz(jz(t,i).map(Wz)).pipe(Di(Xz))}}function yM(e){return null!=e?Qz(Yz(e)):null}function Kz(e,i){return null===e?[i]:Array.isArray(e)?[...e,i]:[e,i]}function Zz(e){return e._rawValidators}function Jz(e){return e._rawAsyncValidators}function bM(e){return e?Array.isArray(e)?e:[e]:[]}function ZT(e,i){return Array.isArray(e)?e.includes(i):e===i}function qz(e,i){const t=bM(i);return bM(e).forEach(r=>{ZT(t,r)||t.push(r)}),t}function tG(e,i){return bM(i).filter(t=>!ZT(e,t))}class eG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=xM(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=yM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class yo extends eG{get formDirective(){return null}get path(){return null}}class Bc extends eG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class iG{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Oo=(()=>{class e extends iG{constructor(t){super(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Bc,2))};static#e=this.\u0275dir=ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&yi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[di]})}return e})(),ng=(()=>{class e extends iG{constructor(t){super(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(yo,10))};static#e=this.\u0275dir=ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&yi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[di]})}return e})();const kx="VALID",qT="INVALID",rg="PENDING",Px="DISABLED";function CM(e){return(tC(e)?e.validators:e)||null}function _M(e,i){return(tC(i)?i.asyncValidators:e)||null}function tC(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function rG(e,i,t){const n=e.controls;if(!(i?Object.keys(n):n).length)throw new ue(1e3,"");if(!n[t])throw new ue(1001,"")}function sG(e,i,t){e._forEachChild((n,r)=>{if(void 0===t[r])throw new ue(1002,"")})}class eC{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===kx}get invalid(){return this.status===qT}get pending(){return this.status==rg}get disabled(){return this.status===Px}get enabled(){return this.status!==Px}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(qz(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(qz(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(tG(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(tG(i,this._rawAsyncValidators))}hasValidator(i){return ZT(this._rawValidators,i)}hasAsyncValidator(i){return ZT(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=rg,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=Px,this.errors=null,this._forEachChild(n=>{n.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=kx,this._forEachChild(n=>{n.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kx||this.status===rg)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Px:kx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=rg,this._hasOwnPendingAsyncValidator=!0;const t=Wz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent)}get(i){let t=i;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((n,r)=>n&&n._find(r),this)}getError(i,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?Px:this.errors?qT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rg)?rg:this._anyControlsHaveStatus(qT)?qT:kx}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){tC(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function Kxt(e){return Array.isArray(e)?xM(e):e||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function Zxt(e){return Array.isArray(e)?yM(e):e||null}(this._rawAsyncValidators)}}class sg extends eC{constructor(i,t,n){super(CM(t),_M(n,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,n={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){sG(this,0,i),Object.keys(i).forEach(n=>{rG(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(n=>{const r=this.controls[n];r&&r.patchValue(i[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((n,r)=>{n.reset(i?i[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,n)=>(i[n]=t.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&i(n,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const[t,n]of Object.entries(this.controls))if(this.contains(t)&&i(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(i,t){let n=i;return this._forEachChild((r,s)=>{n=t(n,r,s)}),n}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}}class aG extends sg{}const pf=new qt("CallSetDisabledState",{providedIn:"root",factory:()=>Fx}),Fx="always";function iC(e,i){return[...i.path,e]}function Ox(e,i,t=Fx){EM(e,i),i.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&i.valueAccessor.setDisabledState?.(e.disabled),function qxt(e,i){i.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&oG(e,i)})}(e,i),function eyt(e,i){const t=(n,r)=>{i.valueAccessor.writeValue(n),r&&i.viewToModelUpdate(n)};e.registerOnChange(t),i._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,i),function tyt(e,i){i.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&oG(e,i),"submit"!==e.updateOn&&e.markAsTouched()})}(e,i),function Jxt(e,i){if(i.valueAccessor.setDisabledState){const t=n=>{i.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(t),i._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,i)}function nC(e,i,t=!0){const n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),sC(e,i),e&&(i._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function rC(e,i){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function EM(e,i){const t=Zz(e);null!==i.validator?e.setValidators(Kz(t,i.validator)):"function"==typeof t&&e.setValidators([t]);const n=Jz(e);null!==i.asyncValidator?e.setAsyncValidators(Kz(n,i.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const r=()=>e.updateValueAndValidity();rC(i._rawValidators,r),rC(i._rawAsyncValidators,r)}function sC(e,i){let t=!1;if(null!==e){if(null!==i.validator){const r=Zz(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==i.validator);s.length!==r.length&&(t=!0,e.setValidators(s))}}if(null!==i.asyncValidator){const r=Jz(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==i.asyncValidator);s.length!==r.length&&(t=!0,e.setAsyncValidators(s))}}}const n=()=>{};return rC(i._rawValidators,n),rC(i._rawAsyncValidators,n),t}function oG(e,i){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function lG(e,i){EM(e,i)}function AM(e,i){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}function cG(e,i){e._syncPendingControls(),i.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function DM(e,i){if(!i)return null;let t,n,r;return Array.isArray(i),i.forEach(s=>{s.constructor===Cl?t=s:function ryt(e){return Object.getPrototypeOf(e.constructor)===mf}(s)?n=s:r=s}),r||n||t||null}const ayt={provide:yo,useExisting:En(()=>gf)},Lx=Promise.resolve();let gf=(()=>{class e extends yo{constructor(t,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ae,this.form=new sg({},xM(t),yM(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Lx.then(()=>{const n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Ox(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Lx.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Lx.then(()=>{const n=this._findContainer(t.path),r=new sg({});lG(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Lx.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){Lx.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,cG(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ls,10),ht(Zu,10),ht(pf,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Vt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[Wt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fi([ayt]),di]})}return e})();function dG(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function uG(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Lo=class extends eC{constructor(i=null,t,n){super(CM(t),_M(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=uG(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){dG(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){dG(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){uG(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},oyt=Lo,dyt={provide:Bc,useExisting:En(()=>_l)},mG=Promise.resolve();let _l=(()=>{class e extends Bc{constructor(t,n,r,s,o,p){super(),this._changeDetectorRef=o,this.callSetDisabledState=p,this.control=new Lo,this._registered=!1,this.name="",this.update=new Ae,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=DM(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),AM(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ox(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){mG.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const n=t.isDisabled.currentValue,r=0!==n&&Ke(n);mG.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?iC(t,this._parent):[t]}static#t=this.\u0275fac=function(n){return new(n||e)(ht(yo,9),ht(Ls,10),ht(Zu,10),ht(Js,10),ht(Dn,8),ht(pf,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Wt.None,"disabled","isDisabled"],model:[Wt.None,"ngModel","model"],options:[Wt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fi([dyt]),di,nr]})}return e})(),ag=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const uyt={provide:Js,useExisting:En(()=>aC),multi:!0};let aC=(()=>{class e extends mf{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=n=>{t(""==n?null:parseFloat(n))}}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&Vt("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[fi([uyt]),di]})}return e})();const IM=new qt(""),pyt={provide:Bc,useExisting:En(()=>oC)};let oC=(()=>{class e extends Bc{set isDisabled(t){}static#t=this._ngModelWarningSentOnce=!1;constructor(t,n,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new Ae,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=DM(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const n=t.form.previousValue;n&&nC(n,this,!1),Ox(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}AM(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&nC(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#e=this.\u0275fac=function(n){return new(n||e)(ht(Ls,10),ht(Zu,10),ht(Js,10),ht(IM,8),ht(pf,8))};static#i=this.\u0275dir=ce({type:e,selectors:[["","formControl",""]],inputs:{form:[Wt.None,"formControl","form"],isDisabled:[Wt.None,"disabled","isDisabled"],model:[Wt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[fi([pyt]),di,nr]})}return e})();const gyt={provide:yo,useExisting:En(()=>Wd)};let Wd=(()=>{class e extends yo{constructor(t,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ae,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const n=this.form.get(t.path);return Ox(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){nC(t.control||null,t,!1),function syt(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this.submitted=!0,cG(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const n=t.control,r=this.form.get(t.path);n!==r&&(nC(n||null,t),(e=>e instanceof Lo)(r)&&(Ox(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const n=this.form.get(t.path);lG(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const n=this.form.get(t.path);n&&function iyt(e,i){return sC(e,i)}(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){EM(this.form,this),this._oldForm&&sC(this._oldForm,this)}_checkFormPresent(){}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ls,10),ht(Zu,10),ht(pf,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Vt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[Wt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fi([gyt]),di,nr]})}return e})();const yyt={provide:Bc,useExisting:En(()=>og)};let og=(()=>{class e extends Bc{set isDisabled(t){}static#t=this._ngModelWarningSentOnce=!1;constructor(t,n,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Ae,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=DM(0,s)}ngOnChanges(t){this._added||this._setUpControl(),AM(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return iC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#e=this.\u0275fac=function(n){return new(n||e)(ht(yo,13),ht(Ls,10),ht(Zu,10),ht(Js,10),ht(IM,8))};static#i=this.\u0275dir=ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[Wt.None,"formControlName","name"],isDisabled:[Wt.None,"disabled","isDisabled"],model:[Wt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[fi([yyt]),di,nr]})}return e})();let vf=(()=>{class e{constructor(){this._validator=KT}ngOnChanges(t){if(this.inputName in t){const n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):KT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,features:[nr]})}return e})();const Dyt={provide:Ls,useExisting:En(()=>lC),multi:!0};let lC=(()=>{class e extends vf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ke,this.createValidator=t=>Nz}enabled(t){return t}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&_i("required",r._enabled?"":null)},inputs:{required:"required"},features:[fi([Dyt]),di]})}return e})();const Ryt={provide:Ls,useExisting:En(()=>FM),multi:!0};let FM=(()=>{class e extends vf{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function bG(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>Uz(t)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&_i("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[fi([Ryt]),di]})}return e})();const Pyt={provide:Ls,useExisting:En(()=>dC),multi:!0};let dC=(()=>{class e extends vf{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>Gz(t)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&_i("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[fi([Pyt]),di]})}return e})(),SG=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();class AG extends eC{constructor(i,t,n){super(CM(t),_M(n,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,n={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(i,t={}){let n=this._adjustIndex(i);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,n={}){let r=this._adjustIndex(i);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){sG(this,0,i),i.forEach((n,r)=>{rG(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((n,r)=>{n.reset(i[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,n)=>{i(t,n)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}}function DG(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let OM=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,n=null){const r=this._reduceControls(t);let s={};return DG(n)?s=n:null!==n&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new sg(r,s)}record(t,n=null){const r=this._reduceControls(t);return new aG(r,n)}control(t,n,r){let s={};return this.useNonNullable?(DG(n)?s=n:(s.validators=n,s.asyncValidators=r),new Lo(t,{...s,nonNullable:!0})):new Lo(t,n,r)}array(t,n,r){const s=t.map(o=>this._createControl(o));return new AG(s,n,r)}_reduceControls(t){const n={};return Object.keys(t).forEach(r=>{n[r]=this._createControl(t[r])}),n}_createControl(t){return t instanceof Lo||t instanceof eC?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),LM=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:pf,useValue:t.callSetDisabledState??Fx}]}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[SG]})}return e})(),Fyt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:IM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:pf,useValue:t.callSetDisabledState??Fx}]}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[SG]})}return e})();class Lyt{constructor(i){this._box=i,this._destroyed=new ke,this._resizeSubject=new ke,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new lr(t=>{const n=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),n.unsubscribe(),this._elementObservables.delete(i)}}).pipe(In(t=>t.some(n=>n.target===i)),function Oyt(e,i,t){let n,r=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:i=1/0,refCount:r=!1,scheduler:t}=e):n=e??1/0,uz({connector:()=>new ux(n,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),Ui(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Nyt=(()=>{class e{constructor(){this._observers=new Map,this._ngZone=fe(Ze)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Lyt(r)),this._observers.get(r).observe(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Byt=["notch"],Vyt=["matFormFieldNotchedOutline",""],Uyt=["*"],zyt=["textField"],Gyt=["iconPrefixContainer"],Hyt=["textPrefixContainer"],Wyt=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Xyt=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function jyt(e,i){1&e&&be(0,"span",17)}function Yyt(e,i){if(1&e&&(q(0,"label",16),hi(1,1),Ht(2,jyt,1,0,"span",17),et()),2&e){const t=St(2);xt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),_i("for",t._control.id),ot(2),yn(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function $yt(e,i){1&e&&Ht(0,Yyt,3,5,"label",16),2&e&&yn(0,St()._hasFloatingLabel()?0:-1)}function Qyt(e,i){1&e&&be(0,"div",5)}function Kyt(e,i){}function Zyt(e,i){1&e&&Ht(0,Kyt,0,0,"ng-template",11),2&e&&(St(2),xt("ngTemplateOutlet",Zi(1)))}function Jyt(e,i){if(1&e&&(q(0,"div",7),Ht(1,Zyt,1,1,null,11),et()),2&e){const t=St();xt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),ot(),yn(1,t._forceDisplayInfixLabel()?-1:1)}}function qyt(e,i){1&e&&(q(0,"div",8,2),hi(2,2),et())}function tbt(e,i){1&e&&(q(0,"div",9,3),hi(2,3),et())}function ebt(e,i){}function ibt(e,i){1&e&&Ht(0,ebt,0,0,"ng-template",11),2&e&&(St(),xt("ngTemplateOutlet",Zi(1)))}function nbt(e,i){1&e&&(q(0,"div",12),hi(1,4),et())}function rbt(e,i){1&e&&(q(0,"div",13),hi(1,5),et())}function sbt(e,i){1&e&&be(0,"div",14)}function abt(e,i){1&e&&(q(0,"div",18),hi(1,6),et()),2&e&&xt("@transitionMessages",St()._subscriptAnimationState)}function obt(e,i){if(1&e&&(q(0,"mat-hint",20),ut(1),et()),2&e){const t=St(2);xt("id",t._hintLabelId),ot(),ze(t.hintLabel)}}function lbt(e,i){if(1&e&&(q(0,"div",19),Ht(1,obt,2,2,"mat-hint",20),hi(2,7),be(3,"div",21),hi(4,8),et()),2&e){const t=St();xt("@transitionMessages",t._subscriptAnimationState),ot(),yn(1,t.hintLabel?1:-1)}}let nl=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-label"]],standalone:!0})}return e})(),cbt=0;const IG=new qt("MatError");let MG=(()=>{class e{constructor(t,n){this.id="mat-mdc-error-"+cbt++,t||n.nativeElement.setAttribute("aria-live","polite")}static#t=this.\u0275fac=function(n){return new(n||e)($o("aria-live"),ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,r){2&n&&Ac("id",r.id)},inputs:{id:"id"},standalone:!0,features:[fi([{provide:IG,useExisting:e}])]})}return e})(),dbt=0,xf=(()=>{class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+dbt++}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&(Ac("id",r.id),_i("align",null),yi("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}return e})();const ubt=new qt("MatPrefix"),RG=new qt("MatSuffix");let kG=(()=>{class e{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[Wt.None,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[fi([{provide:RG,useExisting:e}])]})}return e})();const PG=new qt("FloatingLabelParent");let FG=(()=>{class e{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=fe(Nyt),this._ngZone=fe(Ze),this._parent=fe(PG),this._resizeSubscription=new Me}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function hbt(e){if(null!==e.offsetParent)return e.scrollWidth;const t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const n=t.scrollWidth;return t.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&yi("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return e})();const OG="mdc-line-ripple--active",uC="mdc-line-ripple--deactivating";let LG=(()=>{class e{constructor(t,n){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(uC);"opacity"===r.propertyName&&o&&s.remove(OG,uC)},n.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(uC),t.add(OG)}deactivate(){this._elementRef.nativeElement.classList.add(uC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Ze))};static#e=this.\u0275dir=ce({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return e})(),NG=(()=>{class e{constructor(t,n){this._elementRef=t,this._ngZone=n,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Ze))};static#e=this.\u0275cmp=He({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&Ai(Byt,5),2&n){let s;Oe(s=Le())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&yi("mdc-notched-outline--notched",r.open)},inputs:{open:[Wt.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Bi],attrs:Vyt,ngContentSelectors:Uyt,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(Gn(),be(0,"div",1),q(1,"div",2,0),hi(3),et(),be(4,"div",3))},encapsulation:2,changeDetection:0})}return e})();const fbt={transitionMessages:vr("transitionMessages",[Ln("enter",si({opacity:1,transform:"translateY(0%)"})),fn("void => enter",[si({opacity:0,transform:"translateY(-5px)"}),on("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hC=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e})}return e})();const fC=new qt("MatFormField"),mbt=new qt("MAT_FORM_FIELD_DEFAULT_OPTIONS");let BG=0,El=(()=>{class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Fs(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const n=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,n,r,s,o,p,C,D){this._elementRef=t,this._changeDetectorRef=n,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=p,this._animationMode=C,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+BG++,this._hintLabelId="mat-mdc-hint-"+BG++,this._subscriptAnimationState="",this._destroyed=new ke,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,p&&(p.appearance&&(this.appearance=p.appearance),this._hideRequiredMarker=!!p?.hideRequiredMarker,p.color&&(this.color=p.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ui(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Gr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ui(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ui(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const n=this._control?this._control.ngControl:null;return n&&n[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Dn),ht(Ze),ht(_a),ht(Qn),ht(mbt,8),ht(Sr,8),ht(Ni))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,r,s){if(1&n&&(hn(s,nl,5),hn(s,nl,7),hn(s,hC,5),hn(s,ubt,5),hn(s,RG,5),hn(s,IG,5),hn(s,xf,5)),2&n){let o;Oe(o=Le())&&(r._labelChildNonStatic=o.first),Oe(o=Le())&&(r._labelChildStatic=o.first),Oe(o=Le())&&(r._formFieldControl=o.first),Oe(o=Le())&&(r._prefixChildren=o),Oe(o=Le())&&(r._suffixChildren=o),Oe(o=Le())&&(r._errorChildren=o),Oe(o=Le())&&(r._hintChildren=o)}},viewQuery:function(n,r){if(1&n&&(Ai(zyt,5),Ai(Gyt,5),Ai(Hyt,5),Ai(FG,5),Ai(NG,5),Ai(LG,5)),2&n){let s;Oe(s=Le())&&(r._textField=s.first),Oe(s=Le())&&(r._iconPrefixContainer=s.first),Oe(s=Le())&&(r._textPrefixContainer=s.first),Oe(s=Le())&&(r._floatingLabel=s.first),Oe(s=Le())&&(r._notchedOutline=s.first),Oe(s=Le())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&yi("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[fi([{provide:fC,useExisting:e},{provide:PG,useExisting:e}]),Bi],ngContentSelectors:Xyt,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(1&n){const s=ge();Gn(Wyt),Ht(0,$yt,1,1,"ng-template",null,0,wp),q(2,"div",4,1),Vt("click",function(p){return Ut(s),zt(r._control.onContainerClick(p))}),Ht(4,Qyt,1,0,"div",5),q(5,"div",6),Ht(6,Jyt,2,2,"div",7)(7,qyt,3,0,"div",8)(8,tbt,3,0,"div",9),q(9,"div",10),Ht(10,ibt,1,1,null,11),hi(11),et(),Ht(12,nbt,2,0,"div",12)(13,rbt,2,0,"div",13),et(),Ht(14,sbt,1,0,"div",14),et(),q(15,"div",15),Ht(16,abt,2,1)(17,lbt,5,2),et()}if(2&n){let s;ot(2),yi("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ot(2),yn(4,r._hasOutline()||r._control.disabled?-1:4),ot(2),yn(6,r._hasOutline()?6:-1),ot(),yn(7,r._hasIconPrefix?7:-1),ot(),yn(8,r._hasTextPrefix?8:-1),ot(2),yn(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),ot(2),yn(12,r._hasTextSuffix?12:-1),ot(),yn(13,r._hasIconSuffix?13:-1),ot(),yn(14,r._hasOutline()?-1:14),ot(),yi("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),ot(),yn(16,"error"===(s=r._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[FG,NG,Hw,LG,xf],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[fbt.transitionMessages]},changeDetection:0})}return e})(),mC=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,Ic,PI,$i]})}return e})();const vbt=["panel"],xbt=["*"];function ybt(e,i){if(1&e){const t=ge();q(0,"div",1,0),Vt("@panelAnimation.done",function(r){return Ut(t),zt(St()._animationDone.next(r))}),hi(2),et()}if(2&e){const t=i.id,n=St();xt("id",n.id)("ngClass",n._classList)("@panelAnimation",n.isOpen?"visible":"hidden"),_i("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}const bbt=vr("panelAnimation",[Ln("void, hidden",si({opacity:0,transform:"scaleY(0.8)"})),fn(":enter, hidden => visible",[YI([on("0.03s linear",si({opacity:1})),on("0.12s cubic-bezier(0, 0, 0.2, 1)",si({transform:"scaleY(1)"}))])]),fn(":leave, visible => hidden",[on("0.075s linear",si({opacity:0}))])]);let wbt=0;class Tbt{constructor(i,t){this.source=i,this.option=t}}const zG=new qt("mat-autocomplete-default-options",{providedIn:"root",factory:function Cbt(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let _bt=(()=>{class e{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._setThemeClasses(this._classList)}set classList(t){this._classList=t&&t.length?function Agt(e,i=/\s+/){const t=[];if(null!=e){const n=Array.isArray(e)?e:`${e}`.split(i);for(const r of n){const s=`${r}`.trim();s&&t.push(s)}}return t}(t).reduce((n,r)=>(n[r]=!0,n),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,n,r,s){this._changeDetectorRef=t,this._elementRef=n,this._defaults=r,this._activeOptionChanges=Me.EMPTY,this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new Ae,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Ae,this.opened=new Ae,this.closed=new Ae,this.optionActivated=new Ae,this._classList={},this.id="mat-autocomplete-"+wbt++,this.inertGroups=s?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new mU(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const n=new Tbt(this,t);this.optionSelected.emit(n)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}_setThemeClasses(t){t["mat-primary"]="primary"===this._color,t["mat-warn"]="warn"===this._color,t["mat-accent"]="accent"===this._color}_skipPredicate(){return!1}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Dn),ht(ei),ht(zG),ht(Qn))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(n,r,s){if(1&n&&(hn(s,Md,5),hn(s,zI,5)),2&n){let o;Oe(o=Le())&&(r.options=o),Oe(o=Le())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(1&n&&(Ai(dr,7),Ai(vbt,5)),2&n){let s;Oe(s=Le())&&(r.template=s.first),Oe(s=Le())&&(r.panel=s.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[Wt.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",Ke],autoSelectActiveOption:[Wt.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",Ke],requireSelection:[Wt.HasDecoratorInputTransform,"requireSelection","requireSelection",Ke],panelWidth:"panelWidth",disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ke],classList:[Wt.None,"class","classList"],hideSingleSelectionIndicator:[Wt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ke]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[fi([{provide:UI,useExisting:e}]),an,Bi],ngContentSelectors:xbt,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"]],template:function(n,r){1&n&&(Gn(),Ht(0,ybt,3,5,"ng-template"))},dependencies:[Jl],styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[bbt]},changeDetection:0})}return e})();const Ebt={provide:Js,useExisting:En(()=>HG),multi:!0},GG=new qt("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const e=fe(ls);return()=>e.scrollStrategies.reposition()}}),Abt={provide:GG,deps:[ls],useFactory:function Sbt(e){return()=>e.scrollStrategies.reposition()}};let HG=(()=>{class e{constructor(t,n,r,s,o,p,C,D,R,F,B){this._element=t,this._overlay=n,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=o,this._dir=C,this._formField=D,this._document=R,this._viewportRuler=F,this._defaults=B,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Me.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ke,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Dp(()=>{const V=this.autocomplete?this.autocomplete.options:null;return V?V.changes.pipe(ca(V),bs(()=>Gr(...V.map(X=>X.onSelectionChange)))):this._zone.onStable.pipe(Jn(1),bs(()=>this.optionSelections))}),this._handlePanelKeydown=V=>{(27===V.keyCode&&!Ga(V)||38===V.keyCode&&Ga(V,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),V.stopPropagation(),V.preventDefault())},this._trackedModal=null,this._scrollStrategy=p}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&Yp(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Gr(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(In(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(In(()=>this._overlayAttached)):xi()).pipe(Di(t=>t instanceof PU?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Gr(nc(this._document,"click"),nc(this._document,"auxclick"),nc(this._document,"touchend")).pipe(In(t=>{const n=el(t),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(n))&&(!s||!s.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const n=t.keyCode,r=Ga(t);if(27===n&&!r&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&13===n&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,o=38===n||40===n;9===n||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):o&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(o||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let n=t.target,r=n.value;if("number"===n.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),r){if(this.panelOpen&&!this.autocomplete.requireSelection){const s=this.autocomplete.options?.find(o=>o.selected);s&&r!==this._getDisplayValue(s.value)&&s.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===t.target){const s=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(s)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return Gr(this._zone.onStable.pipe(Jn(1)),this.autocomplete.options.changes.pipe(ns(()=>this._positionStrategy.reapplyLastPosition()),nM(0))).pipe(bs(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),Jn(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){const n=this.autocomplete;return n&&n.displayWith?n.displayWith(t):t}_assignOptionValue(t){const n=this._getDisplayValue(t);null==t&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(n??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const n=this.autocomplete,r=t?t.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),n._emitSelectEvent(r),this._element.nativeElement.focus()):n.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),n._animationDone?n._animationDone.pipe(Jn(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,n){this.autocomplete?.options?.forEach(r=>{r!==t&&r.selected&&r.deselect(n)})}_openPanelInternal(t=this._element.nativeElement.value){this._attachOverlay(t),this._floatLabel(),this._trackedModal&&bT(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(t){let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new kd(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})})),n&&!n.hasAttached()&&(n.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new qp({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let o;o="above"===this.position?s:"below"===this.position?n:[...n,...s],t.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;if(t.autoActiveFirstOption){let n=-1;for(let r=0;r<t.options.length;r++)if(!t.options.get(r).disabled){n=r;break}t._keyManager.setActiveItem(n)}else t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const n=this.autocomplete,r=FU(t,n.options,n.optionGroups);if(0===t&&1===r)n._setScrollTop(0);else if(n.panel){const s=n.options.toArray()[t];if(s){const o=s._getHostElement(),p=OU(o.offsetTop,o.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(p)}}}_applyModalPanelOwnership(){const t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const n=this.autocomplete.id;this._trackedModal&&Yp(this._trackedModal,"aria-owns",n),bT(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(Yp(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(ls),ht(Ar),ht(Ze),ht(Dn),ht(GG),ht(_a,8),ht(fC,9),ht(Ni,8),ht(Fd),ht(zG,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,r){1&n&&Vt("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(o){return r._handleInput(o)})("keydown",function(o){return r._handleKeydown(o)})("click",function(){return r._handleClick()}),2&n&&_i("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||null==r.autocomplete?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[Wt.None,"matAutocomplete","autocomplete"],position:[Wt.None,"matAutocompletePosition","position"],connectedTo:[Wt.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[Wt.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[Wt.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",Ke]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[fi([Ebt]),an,nr]})}return e})(),Dbt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[Abt],imports:[uf,DT,$i,Ic,Od,DT,$i]})}return e})();const WG=ic({passive:!0});let Ibt=(()=>{class e{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Po;const n=os(t),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new ke,o="cdk-text-field-autofilled",p=C=>{"cdk-text-field-autofill-start"!==C.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===C.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>s.next({target:C.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>s.next({target:C.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",p,WG),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",p,WG)}}),s}stopMonitoring(t){const n=os(t),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Qn),Kt(Ze))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mbt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();const Rbt=new qt("MAT_INPUT_VALUE_ACCESSOR"),kbt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Pbt=0,Ju=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=Fs(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ig.required)??!1}set required(t){this._required=Fs(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&eU().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Fs(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,r,s,o,p,C,D,R,F){this._elementRef=t,this._platform=n,this.ngControl=r,this._autofillMonitor=D,this._formField=F,this._uid="mat-input-"+Pbt++,this.focused=!1,this.stateChanges=new ke,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(X=>eU().has(X)),this._iOSKeyupListener=X=>{const J=X.target;!J.value&&0===J.selectionStart&&0===J.selectionEnd&&(J.setSelectionRange(1,1),J.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,V=B.nodeName.toLowerCase();this._inputValueAccessor=C||B,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&R.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new VI(p,r,o,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!F,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=t,t?n.setAttribute("placeholder",t):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){kbt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Qn),ht(Bc,10),ht(gf,8),ht(Wd,8),ht(SU),ht(Rbt,10),ht(Ibt),ht(Ze),ht(fC,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&Vt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&(Ac("id",r.id)("disabled",r.disabled)("required",r.required),_i("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),yi("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[Wt.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[fi([{provide:hC,useExisting:e}]),nr]})}return e})(),Fbt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,mC,mC,Mbt,$i]})}return e})();function Obt(e,i){if(1&e&&(q(0,"mat-label"),ut(1),et()),2&e){const t=St();ot(),ze(t.binding.title)}}function Lbt(e,i){if(1&e){const t=ge();q(0,"button",7),Vt("click",function(){return Ut(t),zt(St().clearInput())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function Nbt(e,i){1&e&&(q(0,"mat-option",8),be(1,"mat-spinner",9),et())}function Bbt(e,i){if(1&e&&(q(0,"mat-option",10)(1,"span",11),ut(2),et(),ut(3),et()),2&e){const t=i.$implicit;xt("value",t),ot(2),ze(t.code),ot(),ri("",t.display," ")}}let lg=(()=>{class e{static#t=this.nextId=0;constructor(t){this.terminologyService=t,this.term="",this.selectionChange=new Ae,this.formControl=new oyt,this.loading=!1,this.selectedConcept={},this.stateChanges=new ke,this.focused=!1,this.ngControl=null,this.errorState=!1,this.controlType="app-autocomplete-binding",this.id="app-autocomplete-binding-"+e.nextId++,this.describedBy="",this.onChange=()=>{},this.onTouched=()=>{}}get empty(){return!this.formControl.value}setDescribedByIds(t){this.describedBy=t.join(" ")}onContainerClick(t){}writeValue(t){this.formControl.setValue(t&&"object"==typeof t&&t.display?t.display:t,{emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnChanges(t){t.term&&(this.term=t.term.currentValue,this.formControl.setValue(this.term&&"object"==typeof this.term&&this.term.display?this.term.display:this.term))}ngOnInit(){this.autoFilter=this.formControl.valueChanges.pipe(Ad(300),Dd(),bs(t=>t?.length>=3?(this.loading=!0,this.terminologyService.expandValueSet(this.binding.ecl,t,0,50)):xi([])),ns(t=>{this.loading=!1}))}onTermChange(){this.formControl.setValue(this.term)}optionSelected(t){this.selectedConcept=t,this.selectionChange.emit(t),this.onChange(t)}clearInput(){this.formControl.reset(),this.selectedConcept={code:"",display:""},this.selectionChange.emit(this.selectedConcept)}change(t){const n=t?.option?.value;n&&(this.optionSelected({code:n.code,display:n.display}),this.formControl.setValue(n.display))}static#e=this.\u0275fac=function(n){return new(n||e)(ht(Zs))};static#i=this.\u0275cmp=He({type:e,selectors:[["app-autocomplete-binding"]],inputs:{binding:"binding",term:"term"},outputs:{selectionChange:"selectionChange"},features:[fi([{provide:Js,useExisting:En(()=>e),multi:!0},{provide:hC,useExisting:e}]),nr],decls:11,vars:10,consts:[["auto","matAutocomplete"],[4,"ngIf"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["autoActiveFirstOption","",3,"optionSelected"],["disabled","","class","loading",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["disabled","",1,"loading"],["diameter","35"],[3,"value"],[1,"code"]],template:function(n,r){if(1&n){const s=ge();q(0,"mat-form-field"),Ht(1,Obt,2,1,"mat-label",1),be(2,"input",2),q(3,"mat-hint"),ut(4),et(),Ht(5,Lbt,3,0,"button",3),q(6,"mat-autocomplete",4,0),Vt("optionSelected",function(p){return Ut(s),zt(r.change(p))}),Ht(8,Nbt,2,0,"mat-option",5)(9,Bbt,4,3,"mat-option",6),Ua(10,"async"),et()()}if(2&n){let s;const o=Zi(7);ot(),xt("ngIf",r.binding.title),ot(),Iu("placeholder",(null==r.formControl.value?null:r.formControl.value.display)||r.binding.title||"Search..."),xt("formControl",r.formControl)("matAutocomplete",o),ot(2),ze(r.binding.note),ot(),xt("ngIf",r.formControl.value),ot(3),xt("ngIf",r.loading),ot(),xt("ngForOf",null==(s=xd(10,8,r.autoFilter))||null==s.expansion?null:s.expansion.contains)}},dependencies:[xs,Qs,xo,ha,El,nl,xf,kG,_bt,Md,HG,Wu,Ju,Cl,Oo,oC,v2],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}.id-icon[_ngcontent-%COMP%]{margin-left:10px;color:#2e8b57}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();function Vbt(e,i){1&e&&be(0,"mat-spinner",20)}function Ubt(e,i){1&e&&(q(0,"th",21),ut(1," Date "),et())}function zbt(e,i){if(1&e&&(q(0,"td",22),ut(1),Ua(2,"date"),et()),2&e){const t=i.$implicit;ot(),ri(" ",Mu(2,1,t.date,"yyyy-MM-dd")," ")}}function Gbt(e,i){1&e&&(q(0,"th",21),ut(1," ConceptId "),et())}function Hbt(e,i){if(1&e&&(q(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.code," ")}}function Wbt(e,i){1&e&&(q(0,"th",21),ut(1," Term "),et())}function Xbt(e,i){1&e&&(q(0,"span",24),ut(1,"Allergy / Intolerance condition"),et())}function jbt(e,i){if(1&e&&(q(0,"td",22),Ht(1,Xbt,2,0,"span",23),ut(2),et()),2&e){const t=i.$implicit;ot(),xt("ngIf",t.allergy),ot(),ri(" ",t.display," ")}}function Ybt(e,i){1&e&&be(0,"tr",25)}function $bt(e,i){1&e&&be(0,"tr",26)}function Qbt(e,i){1&e&&(q(0,"th",21),ut(1," ConceptId "),et())}function Kbt(e,i){if(1&e&&(q(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.code," ")}}function Zbt(e,i){1&e&&(q(0,"th",21),ut(1," Term "),et())}function Jbt(e,i){if(1&e&&(q(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.display," ")}}function qbt(e,i){1&e&&be(0,"tr",25)}function t1t(e,i){1&e&&be(0,"tr",26)}const e1t=[],i1t=[];let XG=(()=>{class e{constructor(t){this.terminologyService=t,this.problemBinding={ecl:"< 404684003 |Clinical finding|",title:"Search..."},this.eclProblem="< 404684003 |Clinical finding|",this.term="",this.displayedColumns=["date","code","display"],this.dataToDisplay=[...e1t],this.dataSource=new n1t(this.dataToDisplay),this.loading=!1,this.displayedColumns2=["code","display"],this.dataToDisplay2=[...i1t],this.dataSource2=new r1t(this.dataToDisplay2)}updateProblem(t){var n=this;return de(function*(){n.selectedProblemSct=t})()}addProblem(t){var n=this;return de(function*(){if(n.selectedProblemSct||t){let r=t||n.selectedProblemSct;if(n.loading=!0,n.term=r.display,r.date=new Date,r.code.indexOf(":")>-1){r.allergy=!0;let s=r.substance;n.dataToDisplay2.find(o=>o.code===s.code)||(n.dataToDisplay2=[...n.dataToDisplay2,s],n.dataSource2.setData(n.dataToDisplay2))}else(yield n.getAllergyData(r))?.expansion?.contains?.length>0&&(r.allergy=!0,n.addAllergySubstanceToList(r));n.dataToDisplay.find(s=>s.code===r.code)||(n.dataToDisplay=[...n.dataToDisplay,r],n.dataSource.setData(n.dataToDisplay)),n.loading=!1,n.term=""}})()}addAllergySubstanceToList(t){var n=this;return de(function*(){(yield n.getAllergySubstance(t))?.expansion?.contains?.forEach(s=>{n.dataToDisplay2.find(o=>o.code===s.code)||(n.dataToDisplay2=[...n.dataToDisplay2,s],n.dataSource2.setData(n.dataToDisplay2))})})()}getAllergyData(t){var n=this;return de(function*(){return da((yield n.terminologyService.expandValueSet("<<418038007 |Propensity to adverse reactions to substance| OR <<420134006 |Propensity to adverse reaction (finding)|",t.code,0,1)).pipe(Di(s=>s)))})()}getAllergySubstance(t){var n=this;return de(function*(){return da((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . (246075003 |Causative agent (attribute)| OR 47429007 |Associated with (attribute)|)`,"")).pipe(Di(s=>s)))})()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-allergies-problem-list"]],decls:60,vars:11,consts:[["substancePopoverMenu","matMenu"],["id","main-card"],[1,"container-space"],[1,"problem-list"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],[1,"container"],[1,"item"],[3,"selectionChange","binding","term"],["mat-flat-button","","color","primary",3,"click"],["diameter","35",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","display"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","35"],["mat-header-cell",""],["mat-cell",""],["class","tag pill",4,"ngIf"],[1,"tag","pill"],["mat-header-row",""],["mat-row",""]],template:function(n,r){if(1&n){const s=ge();q(0,"mat-card",1)(1,"div",2)(2,"div",3)(3,"h4"),ut(4,"Problem List "),q(5,"button",4)(6,"mat-icon"),ut(7,"info"),et()(),q(8,"mat-menu",null,0)(10,"span",5),Vt("click",function(p){return Ut(s),zt(p.stopPropagation())}),q(11,"h4"),ut(12,"Problem list"),et(),q(13,"p"),ut(14,"Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies \u2013 Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource."),et(),q(15,"p"),ut(16,"For practical guidance using SNOMED CT to document hypersensitivity to specific substances in a problem list, it is suggested to map to the appropriate concepts under the 473011001 |Allergic condition (finding)|hierarchies. This is due to the lack of sufficient content under 609433001 |Hypersensitivity disposition (finding)|and 421961002 |Hypersensitivity reaction (disorder)| and that many of the concepts under 609328004 |Allergic disposition (finding)|and 419076005 |Allergic reaction (disorder)| have unclear mechanisms which may actually represent non-allergic hypersensitivity. Please note that SNOMED international does not plan to create new children concepts of hypersensitivity disposition to specific substances unless more than one Member country would submit a request for them to answer to an active use-case."),et(),q(17,"p"),ut(18,"Almost all allergy concepts are modeled by substances in SNOMED CT. A very small number of allergy concepts are modeled by products but with explicit description for the specific intended meaning. Records of allergy to multiple substances or to multi-ingredient products should be recoded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix)."),et(),q(19,"p"),ut(20,"Vaccine allergy is an example where allergy concepts are modeled using a product concept. For example, \u2018Allergy to component of vaccine product (finding)\u2019 with a synonym \u2018vaccine allergy\u2019 has been modeled by vaccine product. The concept represents that allergy is caused by any substance in a vaccine product."),et(),q(21,"p"),ut(22,"To record the level of certainty or verification status, it is recommended to use additional data elements in the EHR information model. Even though it is possible to utilize the SNOMED CT model for \u2018situation with explicit context\u2019 to express certainty, this is not recommended due to potential ambiguity. For example, \u201csuspected penicillin allergy\u201d can mean uncertainty with the condition (is it real allergy?) or with the causative agent (is it penicillin?). Even though SNOMED CT editorial guideline is clear that the first interpretation is correct, it is better to use other methods to represent the uncertainty to avoid confusion."),et(),q(23,"p"),ut(24,"For more information check the "),q(25,"a",6),ut(26,"Implementation Guide"),et(),ut(27," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),q(28,"div",7)(29,"div",8)(30,"app-autocomplete-binding",9),Vt("selectionChange",function(p){return Ut(s),zt(r.updateProblem(p))}),et()(),q(31,"div",8)(32,"button",10),Vt("click",function(){return Ut(s),zt(r.addProblem())}),ut(33,"Add problem"),et()(),q(34,"div",8),Ht(35,Vbt,1,0,"mat-spinner",11),et()(),q(36,"table",12),nn(37,13),Ht(38,Ubt,2,0,"th",14)(39,zbt,3,4,"td",15),rn(),nn(40,16),Ht(41,Gbt,2,0,"th",14)(42,Hbt,2,1,"td",15),rn(),nn(43,17),Ht(44,Wbt,2,0,"th",14)(45,jbt,3,2,"td",15),rn(),Ht(46,Ybt,1,0,"tr",18)(47,$bt,1,0,"tr",19),et()(),q(48,"div",3)(49,"h4"),ut(50,"Substances the patient is allergic to:"),et(),q(51,"table",12),nn(52,16),Ht(53,Qbt,2,0,"th",14)(54,Kbt,2,1,"td",15),rn(),nn(55,17),Ht(56,Zbt,2,0,"th",14)(57,Jbt,2,1,"td",15),rn(),Ht(58,qbt,1,0,"tr",18)(59,t1t,1,0,"tr",19),et()()()()}if(2&n){const s=Zi(9);ot(5),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(20),xt("binding",r.problemBinding)("term",r.term),ot(5),xt("ngIf",r.loading),ot(),xt("dataSource",r.dataSource),ot(10),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(4),xt("dataSource",r.dataSource2),ot(7),xt("matHeaderRowDef",r.displayedColumns2),ot(),xt("matRowDefColumns",r.displayedColumns2)}},dependencies:[Qs,ua,xo,ha,il,Tl,Ld,Wu,WT,Xu,Ud,ju,zd,Vd,Yu,Gd,Hd,$u,Qu,lg,Fu],styles:["#main-card[_ngcontent-%COMP%]{padding:10px}app-autocomplete-binding[_ngcontent-%COMP%]{display:block;min-width:500px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin:10px 0;gap:10px}.container-space[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin:10px 0;gap:10px}.problem-list[_ngcontent-%COMP%]{width:60%}.tag[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding-left:10px;padding-right:10px;margin-top:5px}td[_ngcontent-%COMP%]{position:relative}.pill[_ngcontent-%COMP%]{display:inline-block;font-size:10px;background-color:orange;color:#fff;padding:4px 8px;border-radius:20px;position:absolute;top:0;right:0;margin-top:1rem}.mat-column-display[_ngcontent-%COMP%]{min-width:350px}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}return e})();class n1t extends cT{constructor(i){super(),this._dataStream=new ux,this.setData(i)}connect(){return this._dataStream}disconnect(){}setData(i){this._dataStream.next(i)}}class r1t extends cT{constructor(i){super(),this._dataStream=new ux,this.setData(i)}connect(){return this._dataStream}disconnect(){}setData(i){this._dataStream.next(i)}}const NM=["*"];function s1t(e,i){1&e&&hi(0)}const a1t=["tabListContainer"],o1t=["tabList"],l1t=["tabListInner"],c1t=["nextPaginator"],d1t=["previousPaginator"],u1t=e=>({animationDuration:e}),h1t=(e,i)=>({value:e,params:i});function f1t(e,i){}const m1t=["tabBodyWrapper"],p1t=["tabHeader"];function g1t(e,i){}function v1t(e,i){1&e&&Ht(0,g1t,0,0,"ng-template",12),2&e&&xt("cdkPortalOutlet",St().$implicit.templateLabel)}function x1t(e,i){1&e&&ut(0),2&e&&ze(St().$implicit.textLabel)}function y1t(e,i){if(1&e){const t=ge();q(0,"div",7,2),Vt("click",function(){const r=Ut(t),s=r.$implicit,o=r.$index,p=St(),C=Zi(1);return zt(p._handleClick(s,C,o))})("cdkFocusChange",function(r){const s=Ut(t).$index;return zt(St()._tabFocusChanged(r,s))}),be(2,"span",8)(3,"div",9),q(4,"span",10)(5,"span",11),Ht(6,v1t,1,1,null,12)(7,x1t,1,1),et()()()}if(2&e){const t=i.$implicit,n=i.$index,r=Zi(1),s=St();yi("mdc-tab--active",s.selectedIndex===n),xt("id",s._getTabLabelId(n))("ngClass",t.labelClass)("disabled",t.disabled)("fitInkBarToContent",s.fitInkBarToContent),_i("tabIndex",s._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(n))("aria-selected",s.selectedIndex===n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),ot(3),xt("matRippleTrigger",r)("matRippleDisabled",t.disabled||s.disableRipple),ot(3),yn(6,t.templateLabel?6:7)}}function b1t(e,i){1&e&&hi(0)}function w1t(e,i){if(1&e){const t=ge();q(0,"mat-tab-body",13),Vt("_onCentered",function(){return Ut(t),zt(St()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return Ut(t),zt(St()._setTabBodyWrapperHeight(r))}),et()}if(2&e){const t=i.$implicit,n=i.$index,r=St();yi("mat-mdc-tab-body-active",r.selectedIndex===n),xt("id",r._getTabContentId(n))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),_i("tabindex",null!=r.contentTabIndex&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))("aria-hidden",r.selectedIndex!==n)}}const T1t=new qt("MatTabContent");let C1t=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matTabContent",""]],standalone:!0,features:[fi([{provide:T1t,useExisting:e}])]})}return e})();const _1t=new qt("MatTabLabel"),jG=new qt("MAT_TAB");let E1t=(()=>{class e extends zvt{constructor(t,n,r){super(t,n),this._closestTab=r}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr),ht(Ar),ht(jG,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[fi([{provide:_1t,useExisting:e}]),di]})}return e})();const YG=new qt("MAT_TAB_GROUP");let cg=(()=>{class e{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}constructor(t,n){this._viewContainerRef=t,this._closestTabGroup=n,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new ke,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new kd(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Ar),ht(YG,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-tab"]],contentQueries:function(n,r,s){if(1&n&&(hn(s,E1t,5),hn(s,C1t,7,dr)),2&n){let o;Oe(o=Le())&&(r.templateLabel=o.first),Oe(o=Le())&&(r._explicitContent=o.first)}},viewQuery:function(n,r){if(1&n&&Ai(dr,7),2&n){let s;Oe(s=Le())&&(r._implicitContent=s.first)}},hostAttrs:["hidden",""],inputs:{disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke],textLabel:[Wt.None,"label","textLabel"],ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[fi([{provide:jG,useExisting:e}]),an,nr,Bi],ngContentSelectors:NM,decls:1,vars:0,template:function(n,r){1&n&&(Gn(),Ht(0,s1t,1,0,"ng-template"))},encapsulation:2})}return e})();const BM="mdc-tab-indicator--active",$G="mdc-tab-indicator--no-transition";class S1t{constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar())}alignToElement(i){const t=this._items.find(r=>r.elementRef.nativeElement===i),n=this._currentItem;if(t!==n&&(n?.deactivateInkBar(),t)){const r=n?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(r),this._currentItem=t}}}let A1t=(()=>{class e{constructor(){this._elementRef=fe(ei),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const n=this._elementRef.nativeElement;if(!t||!n.getBoundingClientRect||!this._inkBarContentElement)return void n.classList.add(BM);const r=n.getBoundingClientRect(),s=t.width/r.width,o=t.left-r.left;n.classList.add($G),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${s})`),n.getBoundingClientRect(),n.classList.remove($G),n.classList.add(BM),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(BM)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=t.createElement("span"),r=this._inkBarContentElement=t.createElement("span");n.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,inputs:{fitInkBarToContent:[Wt.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",Ke]},features:[an]})}return e})(),QG=(()=>{class e extends A1t{constructor(t){super(),this.elementRef=t,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,r){2&n&&(_i("aria-disabled",!!r.disabled),yi("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke]},standalone:!0,features:[an,di]})}return e})();const KG=ic({passive:!0});let R1t=(()=>{class e{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const n=isNaN(t)?0:t;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}constructor(t,n,r,s,o,p,C){this._elementRef=t,this._changeDetectorRef=n,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=p,this._animationMode=C,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ke,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ke,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Ae,this.indexFocused=new Ae,o.runOutsideAngular(()=>{nc(t.nativeElement,"mouseleave").pipe(Ui(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){nc(this._previousPaginator.nativeElement,"touchstart",KG).pipe(Ui(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),nc(this._nextPaginator.nativeElement,"touchstart",KG).pipe(Ui(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:xi("ltr"),n=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new LI(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Jn(1)).subscribe(r),Gr(t,n,this._items.changes,this._itemsResized()).pipe(Ui(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?Po:this._items.changes.pipe(ca(this._items),bs(t=>new lr(n=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>n.next(s));return t.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),RI(1),In(t=>t.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Ga(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const n=this._items?this._items.toArray()[t]:null;if(!n)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=n.elementRef.nativeElement;let p,C;"ltr"==this._getLayoutDirection()?(p=s,C=p+o):(C=this._tabListInner.nativeElement.offsetWidth-s,p=C-o);const D=this.scrollDistance,R=this.scrollDistance+r;p<D?this.scrollDistance-=D-p:C>R&&(this.scrollDistance+=Math.min(C-R,p-D))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=t?t.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),Ax(650,100).pipe(Ui(Gr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(t);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Dn),ht(Fd),ht(_a,8),ht(Ze),ht(Qn),ht(Sr,8))};static#e=this.\u0275dir=ce({type:e,inputs:{disablePagination:[Wt.HasDecoratorInputTransform,"disablePagination","disablePagination",Ke],selectedIndex:[Wt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",zr]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[an]})}return e})(),k1t=(()=>{class e extends R1t{constructor(t,n,r,s,o,p,C){super(t,n,r,s,o,p,C),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new S1t(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Dn),ht(Fd),ht(_a,8),ht(Ze),ht(Qn),ht(Sr,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-tab-header"]],contentQueries:function(n,r,s){if(1&n&&hn(s,QG,4),2&n){let o;Oe(o=Le())&&(r._items=o)}},viewQuery:function(n,r){if(1&n&&(Ai(a1t,7),Ai(o1t,7),Ai(l1t,7),Ai(c1t,5),Ai(d1t,5)),2&n){let s;Oe(s=Le())&&(r._tabListContainer=s.first),Oe(s=Le())&&(r._tabList=s.first),Oe(s=Le())&&(r._tabListInner=s.first),Oe(s=Le())&&(r._nextPaginator=s.first),Oe(s=Le())&&(r._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,r){2&n&&yi("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ke]},standalone:!0,features:[an,di,Bi],ngContentSelectors:NM,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(n,r){if(1&n){const s=ge();Gn(),q(0,"button",5,0),Vt("click",function(){return Ut(s),zt(r._handlePaginatorClick("before"))})("mousedown",function(p){return Ut(s),zt(r._handlePaginatorPress("before",p))})("touchend",function(){return Ut(s),zt(r._stopInterval())}),be(2,"div",6),et(),q(3,"div",7,1),Vt("keydown",function(p){return Ut(s),zt(r._handleKeydown(p))}),q(5,"div",8,2),Vt("cdkObserveContent",function(){return Ut(s),zt(r._onContentChanges())}),q(7,"div",9,3),hi(9),et()()(),q(10,"button",10,4),Vt("mousedown",function(p){return Ut(s),zt(r._handlePaginatorPress("after",p))})("click",function(){return Ut(s),zt(r._handlePaginatorClick("after"))})("touchend",function(){return Ut(s),zt(r._stopInterval())}),be(12,"div",6),et()}2&n&&(yi("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),xt("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),ot(3),yi("_mat-animation-noopable","NoopAnimations"===r._animationMode),ot(7),yi("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),xt("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[Id,kI],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return e})();const P1t=new qt("MAT_TABS_CONFIG"),F1t={translateTab:vr("translateTab",[Ln("center, void, left-origin-center, right-origin-center",si({transform:"none"})),Ln("left",si({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ln("right",si({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),fn("* => left, * => right, left => center, right => center",on("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),fn("void => left-origin-center",[si({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),on("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),fn("void => right-origin-center",[si({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),on("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let O1t=(()=>{class e extends Pd{constructor(t,n,r,s){super(t,n,s),this._host=r,this._centeringSub=Me.EMPTY,this._leavingSub=Me.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(ca(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Xh),ht(Ar),ht(En(()=>ZG)),ht(Ni))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[di]})}return e})(),ZG=(()=>{class e{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,n,r){this._elementRef=t,this._dir=n,this._dirChangeSubscription=Me.EMPTY,this._translateTabComplete=new ke,this._onCentering=new Ae,this._beforeCentering=new Ae,this._afterLeavingCenter=new Ae,this._onCentered=new Ae(!0),this.animationDuration="500ms",this.preserveContent=!1,n&&(this._dirChangeSubscription=n.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(Dd((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const n=this._isCenterPosition(t.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const n=this._getLayoutDirection();return"ltr"==n&&t<=0||"rtl"==n&&t>0?"left-origin-center":"right-origin-center"}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(_a,8),ht(Dn))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-tab-body"]],viewQuery:function(n,r){if(1&n&&Ai(Pd,5),2&n){let s;Oe(s=Le())&&(r._portalHost=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[Wt.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Bi],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,r){if(1&n){const s=ge();q(0,"div",1,0),Vt("@translateTab.start",function(p){return Ut(s),zt(r._onTranslateTabStarted(p))})("@translateTab.done",function(p){return Ut(s),zt(r._translateTabComplete.next(p))}),Ht(2,f1t,0,0,"ng-template",2),et()}2&n&&xt("@translateTab",OD(3,h1t,r._position,Kl(1,u1t,r.animationDuration)))},dependencies:[O1t,OT],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[F1t.translateTab]}})}return e})(),L1t=0,yf=(()=>{class e{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}get animationDuration(){return this._animationDuration}set animationDuration(t){const n=t+"";this._animationDuration=/^\d+$/.test(n)?t+"ms":n}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&n.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,n,r,s){this._elementRef=t,this._changeDetectorRef=n,this._animationMode=s,this._tabs=new bu,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Me.EMPTY,this._tabLabelSubscription=Me.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Ae,this.focusChange=new Ae,this.animationDone=new Ae,this.selectedTabChange=new Ae(!0),this._isServer=!fe(Qn).isBrowser,this._groupId=L1t++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,null!=r?.contentTabIndex&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===t),n||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-t,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const n=this._tabs.toArray();let r;for(let s=0;s<n.length;s++)if(n[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=n[s];break}!r&&n[t]&&Promise.resolve().then(()=>{n[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(ca(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const n=this._tabHeader;n&&(n.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const n=new B1t;return n.index=t,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[t]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Gr(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,n,r){n.focusIndex=r,t.disabled||(this.selectedIndex=r)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,n){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=n)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Dn),ht(P1t,8),ht(Sr,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-tab-group"]],contentQueries:function(n,r,s){if(1&n&&hn(s,cg,5),2&n){let o;Oe(o=Le())&&(r._allTabs=o)}},viewQuery:function(n,r){if(1&n&&(Ai(m1t,5),Ai(p1t,5)),2&n){let s;Oe(s=Le())&&(r._tabBodyWrapper=s.first),Oe(s=Le())&&(r._tabHeader=s.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(n,r){2&n&&(gl("mat-"+(r.color||"primary")),vs("--mat-tab-animation-duration",r.animationDuration),yi("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[Wt.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",Ke],stretchTabs:[Wt.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",Ke],dynamicHeight:[Wt.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",Ke],selectedIndex:[Wt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",zr],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[Wt.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",zr],disablePagination:[Wt.HasDecoratorInputTransform,"disablePagination","disablePagination",Ke],disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ke],preserveContent:[Wt.HasDecoratorInputTransform,"preserveContent","preserveContent",Ke],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[fi([{provide:YG,useExisting:e}]),an,Bi],ngContentSelectors:NM,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","ngClass","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(n,r){if(1&n){const s=ge();Gn(),q(0,"mat-tab-header",3,0),Vt("indexFocused",function(p){return Ut(s),zt(r._focusChanged(p))})("selectFocusedIndex",function(p){return Ut(s),zt(r.selectedIndex=p)}),cw(2,y1t,8,16,"div",4,lw),et(),Ht(4,b1t,1,0),q(5,"div",5,1),cw(7,w1t,1,12,"mat-tab-body",6,lw),et()}2&n&&(xt("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),ot(2),dw(r._tabs),ot(2),yn(4,r._isServer?4:-1),ot(),yi("_mat-animation-noopable","NoopAnimations"===r._animationMode),ot(2),dw(r._tabs))},dependencies:[k1t,QG,Zgt,Jl,Id,Pd,ZG],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return e})();class B1t{}let V1t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,$i]})}return e})();var Vc=as(578);class U1t{constructor(i,t){this._document=t;const n=this._textarea=this._document.createElement("textarea"),r=n.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",n.setAttribute("aria-hidden","true"),n.value=i,n.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(n)}copy(){const i=this._textarea;let t=!1;try{if(i){const n=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),t=this._document.execCommand("copy"),n&&n.focus()}}catch{}return t}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let VM=(()=>{class e{constructor(t){this._document=t}copy(t){const n=this.beginCopy(t),r=n.copy();return n.destroy(),r}beginCopy(t){return new U1t(t,this._document)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const z1t=new qt("HighlightJs-Config");let pC=(()=>{class e{constructor(t,n,r,s,o){this.el=t,this.ngModel=n,this.doc=r,this.ngZone=o,this.lang="html",this.mode="simple",Object.assign(this,s)}escapeHTML(t){return(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}init(){this.ngZone.runOutsideAngular(()=>{this.destroy();const t=this.el.nativeElement,n=this.code||""+t.innerHTML.trim();if(this.codeEl=this.doc.createElement("default"===this.mode?"div":"pre"),null==this.codeEl)return;const r="simple"===this.mode;r?(this.lang&&(this.codeEl.className=this.lang),this.parentEl=t.parentNode,this.parentEl.insertBefore(this.codeEl,t.nextSibling)):(this.parentEl=t,this.parentEl.innerHTML="",this.parentEl.appendChild(this.codeEl)),this.codeEl.innerHTML=n,hljs.configure({...this.options}),r?hljs.highlightElement(this.codeEl):this.codeEl.querySelectorAll("pre code").forEach(s=>{hljs.highlightElement(s)})})}destroy(){this.codeEl&&this.parentEl&&(this.parentEl.removeChild(this.codeEl),this.codeEl=void 0)}ngAfterViewInit(){this.init(),this.ngModel?this.modelValue$=this.ngModel.valueChanges?.subscribe(t=>{this.code=this.escapeHTML(t),this.init()}):this.initMutation()}ngOnDestroy(){this.destroy(),this.destroyMutation(),this.modelValue$&&this.modelValue$.unsubscribe()}initMutation(){typeof MutationObserver>"u"||this.ngZone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.init.bind(this)),this.observer.observe(this.el.nativeElement,{characterData:!0,childList:!0,subtree:!0})})}destroyMutation(){this.observer&&this.observer.disconnect()}}return e.\u0275fac=function(t){return new(t||e)(ht(ei),ht(_l,8),ht(Ni),ht(z1t,8),ht(Ze))},e.\u0275dir=ce({type:e,selectors:[["","highlight-js",""]],hostVars:2,hostBindings:function(t,n){2&t&&vs("display","simple"===n.mode?"none":null)},inputs:{options:"options",lang:"lang",code:"code",mode:"mode"},exportAs:["highlightJs"],standalone:!0}),e})(),G1t=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Li({type:e}),e.\u0275inj=Pi({imports:[LM]}),e})();const H1t=["trigger"],W1t=["panel"],X1t=[[["mat-select-trigger"]],"*"],j1t=["mat-select-trigger","*"];function Y1t(e,i){if(1&e&&(q(0,"span",4),ut(1),et()),2&e){const t=St();ot(),ze(t.placeholder)}}function $1t(e,i){1&e&&hi(0)}function Q1t(e,i){if(1&e&&(q(0,"span",11),ut(1),et()),2&e){const t=St(2);ot(),ze(t.triggerValue)}}function K1t(e,i){if(1&e&&(q(0,"span",10),Ht(1,$1t,1,0)(2,Q1t,2,1),et()),2&e){const t=St();ot(),yn(1,t.customTrigger?1:2)}}function Z1t(e,i){if(1&e){const t=ge();q(0,"div",12,1),Vt("@transformPanel.done",function(r){return Ut(t),zt(St()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Ut(t),zt(St()._handleKeydown(r))}),hi(2,1),et()}if(2&e){const t=St();(function GB(e,i,t){Ql(Wo,Sc,dp(ve(),e,i,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),xt("ngClass",t.panelClass)("@transformPanel","showing"),_i("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const J1t={transformPanelWrap:vr("transformPanelWrap",[fn("* => void",RT("@transformPanel",[MT()],{optional:!0}))]),transformPanel:vr("transformPanel",[Ln("void",si({opacity:0,transform:"scale(1, 0.8)"})),fn("void => showing",on("120ms cubic-bezier(0, 0, 0.2, 1)",si({opacity:1,transform:"scale(1, 1)"}))),fn("* => void",on("100ms linear",si({opacity:0})))])};let JG=0;const qG=new qt("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const e=fe(ls);return()=>e.scrollStrategies.reposition()}}),twt=new qt("MAT_SELECT_CONFIG"),ewt={provide:qG,deps:[ls],useFactory:function q1t(e){return()=>e.scrollStrategies.reposition()}},iwt=new qt("MatSelectTrigger");class nwt{constructor(i,t){this.source=i,this.value=t}}let dg=(()=>{class e{_scrollOptionIntoView(t){const n=this.options.toArray()[t];if(n){const r=this.panel.nativeElement,s=FU(t,this.options,this.optionGroups),o=n._getHostElement();r.scrollTop=0===t&&1===s?0:OU(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new nwt(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ig.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,r,s,o,p,C,D,R,F,B,V,X,J){this._viewportRuler=t,this._changeDetectorRef=n,this._elementRef=o,this._dir=p,this._parentFormField=R,this.ngControl=F,this._liveAnnouncer=X,this._defaultOptions=J,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(Q,nt)=>Q===nt,this._uid="mat-select-"+JG++,this._triggerAriaLabelledBy=null,this._destroy=new ke,this.stateChanges=new ke,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+JG++,this._panelDoneAnimatingStream=new ke,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new ke,this.optionSelectionChanges=Dp(()=>{const Q=this.options;return Q?Q.changes.pipe(ca(Q),bs(()=>Gr(...Q.map(nt=>nt.onSelectionChange)))):this._initialized.pipe(bs(()=>this.optionSelectionChanges))}),this.openedChange=new Ae,this._openedStream=this.openedChange.pipe(In(Q=>Q),Di(()=>{})),this._closedStream=this.openedChange.pipe(In(Q=>!Q),Di(()=>{})),this.selectionChange=new Ae,this.valueChange=new Ae,this._trackedModal=null,this._skipPredicate=Q=>!this.panelOpen&&Q.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=J?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=J.typeaheadDebounceInterval),this._errorStateTracker=new VI(s,F,D,C,this.stateChanges),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(B)||0,this.id=this.id}ngOnInit(){this._selectionModel=new gI(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Dd(),Ui(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ui(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ui(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(ca(null),Ui(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),n=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const n=`${this.id}-panel`;this._trackedModal&&Yp(this._trackedModal,"aria-owns",n),bT(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(Yp(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const n=t.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&s&&!Ga(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const p=this.selected;o.onKeydown(t);const C=this.selected;C&&p!==C&&this._liveAnnouncer.announce(C.viewValue,1e4)}}_handleOpenKeydown(t){const n=this._keyManager,r=t.keyCode,s=40===r||38===r,o=n.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==r&&32!==r||!n.activeItem||Ga(t))if(!o&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const p=this.options.some(C=>!C.disabled&&!C.selected);this.options.forEach(C=>{C.disabled||(p?C.select():C.deselect())})}else{const p=n.activeItemIndex;n.onKeydown(t),this._multiple&&s&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==p&&n.activeItem._selectViaInteraction()}else t.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Jn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof tM?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new mU(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Gr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ui(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Gr(...this.options.map(n=>n._stateChanges)).pipe(Ui(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,n){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,t):t.indexOf(n)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let n;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){t=n;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Fd),ht(Dn),ht(Ze),ht(SU),ht(ei),ht(_a,8),ht(gf,8),ht(Wd,8),ht(fC,8),ht(Bc,10),$o("tabindex"),ht(qG),ht(yU),ht(twt,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-select"]],contentQueries:function(n,r,s){if(1&n&&(hn(s,iwt,5),hn(s,Md,5),hn(s,zI,5)),2&n){let o;Oe(o=Le())&&(r.customTrigger=o.first),Oe(o=Le())&&(r.options=o),Oe(o=Le())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(1&n&&(Ai(H1t,5),Ai(W1t,5),Ai(rz,5)),2&n){let s;Oe(s=Le())&&(r.trigger=s.first),Oe(s=Le())&&(r.panel=s.first),Oe(s=Le())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){1&n&&Vt("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&n&&(_i("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),yi("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[Wt.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke],disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ke],tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:zr(t)],hideSingleSelectionIndicator:[Wt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ke],placeholder:"placeholder",required:[Wt.HasDecoratorInputTransform,"required","required",Ke],multiple:[Wt.HasDecoratorInputTransform,"multiple","multiple",Ke],disableOptionCentering:[Wt.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",Ke],compareWith:"compareWith",value:"value",ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[Wt.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",zr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[fi([{provide:hC,useExisting:e},{provide:UI,useExisting:e}]),an,nr,Bi],ngContentSelectors:j1t,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(1&n){const s=ge();Gn(X1t),q(0,"div",2,0),Vt("click",function(){return Ut(s),zt(r.open())}),q(3,"div",3),Ht(4,Y1t,2,1,"span",4)(5,K1t,3,1),et(),q(6,"div",5)(7,"div",6),Yo(),q(8,"svg",7),be(9,"path",8),et()()()(),Ht(10,Z1t,3,9,"ng-template",9),Vt("backdropClick",function(){return Ut(s),zt(r.close())})("attach",function(){return Ut(s),zt(r._onAttached())})("detach",function(){return Ut(s),zt(r.close())})}if(2&n){const s=Zi(1);ot(3),_i("id",r._valueId),ot(),yn(4,r.empty?4:5),ot(6),xt("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[tM,rz,Jl],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[J1t.transformPanel]},changeDetection:0})}return e})(),tH=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[ewt],imports:[Ic,uf,DT,$i,Od,mC,DT,$i]})}return e})();const rwt=["tooltip"],iH=new qt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const e=fe(ls);return()=>e.scrollStrategies.reposition({scrollThrottle:20})}}),awt={provide:iH,deps:[ls],useFactory:function swt(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}},lwt=new qt("mat-tooltip-default-options",{providedIn:"root",factory:function owt(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),nH="tooltip-panel",rH=ic({passive:!0});let qu=(()=>{class e{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=Fs(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Fs(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Gu(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Gu(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,n,r,s,o,p,C,D,R,F,B,V){this._overlay=t,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=p,this._ariaDescriber=C,this._focusMonitor=D,this._dir=F,this._defaultOptions=B,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=fwt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ke,this._scrollStrategy=R,this._document=V,B&&(this._showDelay=B.showDelay,this._hideDelay=B.hideDelay,B.position&&(this.position=B.position),B.positionAtOrigin&&(this.positionAtOrigin=B.positionAtOrigin),B.touchGestures&&(this.touchGestures=B.touchGestures)),F.change.pipe(Ui(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ui(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{t.removeEventListener(n,r,rH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new Zp(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Ui(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(t):(n._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof ei)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(Ui(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${nH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ui(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ui(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ui(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Ga(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const n=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Jn(1),Ui(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:n}}_updateCurrentPositionClass(t){const{overlayY:n,originX:r,originY:s}=t;let o;if(o="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===s?"above":"below",o!==this._currentPosition){const p=this._overlayRef;if(p){const C=`${this._cssClassPrefix}-${nH}-`;p.removePanelClass(C+this._currentPosition),p.addPanelClass(C+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(n=t),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const n=t.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",n],["touchcancel",n])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,rH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const n=this._elementRef.nativeElement,r=n.style;("on"===t||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ls),ht(ei),ht(Dx),ht(Ar),ht(Ze),ht(Qn),ht(uU),ht(bl),ht(iH),ht(_a),ht(lwt,8),ht(Ni))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){2&n&&yi("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[Wt.None,"matTooltipPosition","position"],positionAtOrigin:[Wt.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[Wt.None,"matTooltipDisabled","disabled"],showDelay:[Wt.None,"matTooltipShowDelay","showDelay"],hideDelay:[Wt.None,"matTooltipHideDelay","hideDelay"],touchGestures:[Wt.None,"matTooltipTouchGestures","touchGestures"],message:[Wt.None,"matTooltip","message"],tooltipClass:[Wt.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return e})(),fwt=(()=>{class e{constructor(t,n,r){this._changeDetectorRef=t,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ke,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const n=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(t?s:r),n.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(n);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Dn),ht(ei),ht(Sr,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(1&n&&Ai(rwt,7),2&n){let s;Oe(s=Le())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,r){1&n&&Vt("mouseleave",function(o){return r._handleMouseLeave(o)}),2&n&&vs("zoom",r.isVisible()?1:null)},standalone:!0,features:[Bi],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,r){if(1&n){const s=ge();q(0,"div",1,0),Vt("animationend",function(p){return Ut(s),zt(r._handleAnimationEnd(p))}),q(2,"div",2),ut(3),et()()}2&n&&(yi("mdc-tooltip--multiline",r._isMultiline),xt("ngClass",r.tooltipClass),ot(3),ze(r.message))},dependencies:[Jl],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return e})(),sH=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[awt],imports:[CU,Ic,uf,$i,$i,Od]})}return e})();const mwt=["switch"],pwt=["*"];function gwt(e,i){1&e&&(q(0,"div",10),Yo(),q(1,"svg",12),be(2,"path",13),et(),q(3,"svg",14),be(4,"path",15),et()())}const vwt=new qt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),xwt={provide:Js,useExisting:En(()=>UM),multi:!0};class aH{constructor(i,t){this.source=i,this.checked=t}}let ywt=0,UM=(()=>{class e{_createChangeEvent(t){return new aH(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,p){this._elementRef=t,this._focusMonitor=n,this._changeDetectorRef=r,this.defaults=o,this._onChange=C=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new Ae,this.toggleChange=new Ae,this.tabIndex=parseInt(s)||0,this.color=o.color||"accent",this._noopAnimations="NoopAnimations"===p,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++ywt,this.hideIcon=o.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new aH(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(bl),ht(Dn),$o("tabindex"),ht(vwt),ht(Sr,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(n,r){if(1&n&&Ai(mwt,5),2&n){let s;Oe(s=Le())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(n,r){2&n&&(Ac("id",r.id),_i("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),gl(r.color?"mat-"+r.color:""),yi("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[Wt.None,"aria-describedby","ariaDescribedby"],required:[Wt.HasDecoratorInputTransform,"required","required",Ke],color:"color",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke],disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ke],tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:zr(t)],checked:[Wt.HasDecoratorInputTransform,"checked","checked",Ke],hideIcon:[Wt.HasDecoratorInputTransform,"hideIcon","hideIcon",Ke]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[fi([xwt,{provide:Ls,useExisting:e,multi:!0}]),an,nr,Bi],ngContentSelectors:pwt,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(n,r){if(1&n){const s=ge();Gn(),q(0,"div",1)(1,"button",2,0),Vt("click",function(){return Ut(s),zt(r._handleClick())}),be(3,"div",3),q(4,"div",4)(5,"div",5)(6,"div",6),be(7,"div",7),et(),q(8,"div",8),be(9,"div",9),et(),Ht(10,gwt,5,0,"div",10),et()()(),q(11,"label",11),Vt("click",function(p){return Ut(s),zt(p.stopPropagation())}),hi(12),et()()}if(2&n){const s=Zi(2);xt("labelPosition",r.labelPosition),ot(),yi("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),xt("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),_i("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),ot(8),xt("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(),yn(10,r.hideIcon?-1:10),ot(),xt("for",r.buttonId),_i("id",r._labelId)}},dependencies:[Id,WI],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0})}return e})(),Twt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[UM,$i,$i]})}return e})();function Cwt(e,i){if(1&e){const t=ge();q(0,"button",14),Vt("click",function(){Ut(t);const r=St().index;return zt(St().removeReaction(r))}),q(1,"mat-icon"),ut(2,"close"),et()()}}function _wt(e,i){if(1&e){const t=ge();q(0,"mat-option",15),Vt("click",function(){const r=Ut(t).$implicit,s=St().$implicit;return zt(St().reactionSeveritySelected(s,r))}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),ze(t.display)}}function Ewt(e,i){if(1&e){const t=ge();q(0,"div",4)(1,"div",5),Ht(2,Cwt,3,0,"button",6),et(),q(3,"div",7)(4,"div",8)(5,"app-autocomplete-binding",9),Vt("selectionChange",function(r){const s=Ut(t).$implicit;return zt(St().reactionManifestationSelected(s,r))}),et()(),q(6,"button",10)(7,"mat-icon"),ut(8,"info"),et()(),q(9,"mat-menu",null,0)(11,"span",11),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(12,"p"),ut(13,"Terminology binding:"),et(),q(14,"pre"),ut(15),et()()()(),q(16,"mat-form-field",12)(17,"mat-label"),ut(18,"Reaction Severity"),et(),q(19,"mat-select"),Ht(20,_wt,2,2,"mat-option",13),et()(),q(21,"div",7)(22,"div",8)(23,"app-autocomplete-binding",9),Vt("selectionChange",function(r){const s=Ut(t).$implicit;return zt(St().reactionRouteSelected(s,r))}),et()(),q(24,"button",10)(25,"mat-icon"),ut(26,"info"),et()(),q(27,"mat-menu",null,1)(29,"span",11),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(30,"p"),ut(31,"Terminology binding:"),et(),q(32,"pre"),ut(33),et()()()()()}if(2&e){const t=i.index,n=Zi(10),r=Zi(28),s=St();ot(2),xt("ngIf",t>0),ot(3),xt("binding",s.reactionManifestationBinding),ot(),xt("matMenuTriggerFor",n),ot(5),xt("disableRipple",!0),ot(4),ze(s.reactionManifestationBinding.ecl),ot(5),xt("ngForOf",s.severityOptions),ot(3),xt("binding",s.routeBinding),ot(),xt("matMenuTriggerFor",r),ot(5),xt("disableRipple",!0),ot(4),ze(s.routeBinding.ecl)}}let Swt=(()=>{class e{constructor(){this.reactions=[],this.newManifestation=new Ae,this.severityOptions=[{code:"mild",display:"Mild",sctCode:"255604002",sctDisplay:"Mild (qualifier value)"},{code:"moderate",display:"Moderate",sctCode:"6736007",sctDisplay:"Moderate (qualifier value)"},{code:"severe",display:"Severe",sctCode:"24484000",sctDisplay:"Severe (qualifier value)"}],this.selectedSeverity={},this.reactionManifestationBinding={ecl:"<<404684003 |Clinical finding|",title:"Reaction Manifestation"},this.routeBinding={ecl:"<<284009009 |Route of administration value|",title:"Exposure Route"},this.reaction={},this.onChangeCallback=()=>{},this.onTouchedCallback=()=>{}}writeValue(t){void 0!==t&&(this.reactions=t)}setDisabledState(t){}addNewReaction(){this.reactions.push(this.reaction),this.reaction={},this.onChangeCallback(this.reactions)}removeReaction(t){this.reactions.splice(t,1),this.onChangeCallback(this.reactions)}reactionManifestationSelected(t,n){t.manifestation=n,this.newManifestation.emit(n),this.onChangeCallback(this.reactions)}reactionSeveritySelected(t,n){t.severity=n,this.onChangeCallback(this.reactions)}reactionRouteSelected(t,n){t.route=n,this.onChangeCallback(this.reactions)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=He({type:e,selectors:[["app-allergies-allergy-list-reaction"]],inputs:{reactions:"reactions"},outputs:{newManifestation:"newManifestation"},features:[fi([{provide:Js,useExisting:En(()=>e),multi:!0}])],decls:5,vars:1,consts:[["reactionPopoverMenu","matMenu"],["routePopoverMenu","matMenu"],["class","reaction",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","matTooltip","Add reaction",3,"click"],[1,"reaction"],[1,"button-container"],["mat-icon-button","","color","primary","class","remove","matTooltip","Remove reaction",3,"click",4,"ngIf"],[1,"row-centered"],[1,"small-form-field"],[3,"selectionChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disableRipple"],[1,"form-field"],[3,"value","click",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","matTooltip","Remove reaction",1,"remove",3,"click"],[3,"click","value"]],template:function(n,r){1&n&&(Ht(0,Ewt,34,10,"div",2),q(1,"div")(2,"button",3),Vt("click",function(){return r.addNewReaction()}),q(3,"mat-icon"),ut(4,"add"),et()()()),2&n&&xt("ngForOf",r.reactions)},dependencies:[xs,Qs,xo,ha,il,Tl,Ld,El,nl,Md,dg,qu,lg],styles:["#main-card[_ngcontent-%COMP%]{padding:10px;width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:flex-start}.row-centered[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center}.column[_ngcontent-%COMP%]{flex:1;margin:5px;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{width:100%}.smallest-form-field[_ngcontent-%COMP%]{width:60%;margin:5px}.small-form-field[_ngcontent-%COMP%]{width:90%;margin:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px;height:36px}.mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:0}.reaction[_ngcontent-%COMP%]{border-radius:10px;background-color:#a9bee9;padding:10px;margin-bottom:10px}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}"]})}return e})();const Awt=()=>({});function Dwt(e,i){if(1&e){const t=ge();q(0,"mat-option",31),Vt("click",function(){return Ut(t),zt(St().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),ze(t.display)}}function Iwt(e,i){if(1&e){const t=ge();q(0,"mat-option",31),Vt("click",function(){return Ut(t),zt(St().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),ze(t.display)}}function Mwt(e,i){if(1&e){const t=ge();q(0,"mat-option",31),Vt("click",function(){return Ut(t),zt(St().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),ze(t.display)}}function Rwt(e,i){if(1&e){const t=ge();q(0,"app-autocomplete-binding",11),Vt("selectionChange",function(r){return Ut(t),zt(St().substanceSelected(r,!0))}),et()}if(2&e){const t=St();xt("binding",t.substanceBinding)("term",t.selectedSubstanceTerm)}}function kwt(e,i){if(1&e){const t=ge();q(0,"app-autocomplete-binding",11),Vt("selectionChange",function(r){return Ut(t),zt(St().substanceSelected(r))}),et()}if(2&e){const t=St();xt("binding",t.refinedSubstanceBinding)("term",t.selectedSubstanceTerm)}}function Pwt(e,i){if(1&e&&(q(0,"pre"),ut(1),et()),2&e){const t=St();ot(),ze(t.substanceBinding.ecl)}}function Fwt(e,i){if(1&e&&(q(0,"pre"),ut(1),et()),2&e){const t=St();ot(),ze(t.refinedSubstanceBinding.ecl)}}function Owt(e,i){if(1&e){const t=ge();q(0,"mat-option",31),Vt("click",function(){return Ut(t),zt(St().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),ze(t.display)}}function Lwt(e,i){if(1&e){const t=ge();q(0,"mat-option",31),Vt("click",function(){return Ut(t),zt(St().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),ze(t.display)}}let Nwt=(()=>{class e{constructor(t,n,r){this.terminologyService=t,this.clipboard=n,this._snackBar=r,this.newProblem=new Ae,this.clinicalStatusOptions=[{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"active",display:"Active"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"inactive",display:"Inactive"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"resolved",display:"Resolved"}],this.selectedClinicalStatus=this.clinicalStatusOptions[0],this.verificationStatusOptions=[{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"unconfirmed",display:"Unconfirmed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"presumed",display:"Presumed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"confirmed",display:"Confirmed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"refuted",display:"Refuted"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"entered-in-error",display:"Entered in Error"}],this.selectedVerificationStatus=this.verificationStatusOptions[0],this.intoleranceTypeOptions=[{system:"http://hl7.org/fhir/allergy-intolerance-type",code:"609433001",display:"Hypersensitivity disposition (finding)",fhirCode:"allergy",fhirDisplay:"Allergy"},{system:"http://hl7.org/fhir/allergy-intolerance-type",code:"782197009",display:"Intolerance to substance (finding)",fhirCode:"intolerance",fhirDisplay:"Intolerance"}],this.selectedIntoleranceType=null,this.intoleranceCategoryOptions=[{code:"food",display:"Food"},{code:"medication",display:"Medication"},{code:"environment",display:"Environment"},{code:"biologic",display:"Biologic"}],this.selectedIntoleranceCategories=[],this.selectedIntoleranceCategoriesControl=new Lo(this.selectedIntoleranceCategories),this.criticalityOptions=[{code:"low",display:"Low Risk"},{code:"high",display:"High Risk"},{code:"unable-to-assess",display:"Unable to Assess Risk"}],this.selectedCriticality=null,this.severityOptions=[{code:"mild",display:"Mild",sctCode:"255604002",sctDisplay:"Mild (qualifier value)"},{code:"moderate",display:"Moderate",sctCode:"6736007",sctDisplay:"Moderate (qualifier value)"},{code:"severe",display:"Severe",sctCode:"24484000",sctDisplay:"Severe (qualifier value)"}],this.selectedSeverity={},this.codeBinding={ecl:"<<418038007 |Propensity to adverse reactions to substance| OR <<420134006 |Propensity to adverse reaction (finding)|",title:"Allergy/Intolerance by propensity"},this.selectedCode=null,this.selectedCodeTerm="",this.recordPropensity=!1,this.substanceBinding={ecl:"<<105590001 | Substance (substance) | OR <<373873005 | Pharmaceutical / biologic product (product) |",title:"Allergy/Intolerance substance or product"},this.refinedSubstanceBinding={ecl:"<<105590001 | Substance (substance) |",title:"Allergy/Intolerance substance based on propensity"},this.selectedSubstanceTerm="",this.selectedSubstance=null,this.selectedReactions=[{suibstance:{},manifestation:{},severity:{},route:{}}],this.reactionManifestationBinding={ecl:"<<404684003 |Clinical finding|",title:"Reaction Manifestation"},this.selectedReactionManifestation=null,this.selectedReactionManifestationTerm="",this.routeBinding={ecl:"<<284009009 |Route of administration value|",title:"Exposure Route"},this.selectedRoute=null,this.selectedRouteTerm="",this.outputAllergyBase={resourceType:"AllergyIntolerance",id:"medication",text:{},clinicalStatus:{coding:[]},verificationStatus:{coding:[]},type:"",category:[],criticality:"high",code:{coding:[]},reaction:[{substance:[{coding:[]}],manifestation:[{coding:[]}],exposureRoute:{coding:[]},severity:""}],patient:{reference:"Patient/example"},recordedDate:"2010-03-01",participant:[{function:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"author",display:"Author"}]},actor:{reference:"Practitioner/example"}}]},this.outputAllergy=JSON.parse(JSON.stringify(this.outputAllergyBase)),this.outputAllergyStr=""}ngOnInit(){this.updateAllergyStr()}onReactionsChange(t){this.updateAllergyStr()}clear(){this.selectedClinicalStatus=this.clinicalStatusOptions[0],this.selectedVerificationStatus=this.verificationStatusOptions[0],this.selectedIntoleranceType=null,this.selectedIntoleranceCategories=[],this.selectedIntoleranceCategoriesControl=new Lo(this.selectedIntoleranceCategories),this.selectedCriticality=null,this.selectedSeverity={},this.selectedCode=null,this.selectedCodeTerm="",this.recordPropensity=!1,this.selectedSubstanceTerm="",this.selectedReactionManifestation=null,this.selectedReactionManifestationTerm=" ",this.selectedRoute=null,this.selectedRouteTerm=" ",this.selectedReactions=[{suibstance:{},manifestation:{},severity:{},route:{}}],this.outputAllergy=JSON.parse(JSON.stringify(this.outputAllergyBase)),this.updateAllergyStr(),setTimeout(()=>{this.selectedReactionManifestationTerm="",this.selectedRouteTerm=""},100)}updateAllergyStr(){this.outputAllergy.clinicalStatus.coding=[this.selectedClinicalStatus],this.outputAllergy.verificationStatus.coding=[this.selectedVerificationStatus],this.outputAllergy.type=this.selectedIntoleranceType?this.selectedIntoleranceType.fhirCode:"",this.outputAllergy.category=this.selectedIntoleranceCategories.length?this.selectedIntoleranceCategories.map(t=>t.display):[],this.outputAllergy.criticality=this.selectedCriticality?.code?[this.selectedCriticality.code]:{},this.outputAllergy.reaction=[],this.selectedReactions.forEach(t=>{t.manifestation.code&&(t.manifestation.system="http://snomed.info/sct"),t.route.code&&(t.route.system="http://snomed.info/sct"),this.outputAllergy.reaction.push({substance:[{coding:[this.selectedSubstance]}],manifestation:[{coding:t.manifestation?[t.manifestation]:[{}]}],exposureRoute:{coding:t.route?[t.route]:[{}]},severity:t.severity?t.severity.code:""})}),setTimeout(()=>{this.outputAllergyStr=JSON.stringify(this.outputAllergy,null,2)},100)}substanceSelected(t,n){var r=this;return de(function*(){n&&(r.selectedCodeTerm=""),r.selectedSubstance=t,r.selectedIntoleranceCategories=[],t=Object.assign({system:"http://snomed.info/sct"},t),r.recordPropensity||(r.outputAllergy.code.coding=[t]),r.outputAllergy.reaction[0].substance[0].coding=[t],(yield r.getSubstanceCategories(t))?.expansion?.contains?.forEach(o=>{"762766007"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[0]):"115668003"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[3]):"410942007"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[1]):"57795002"==o.code&&r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[2])}),r.selectedIntoleranceCategoriesControl.setValue(r.selectedIntoleranceCategories),r.updateAllergyStr()})()}propensityRecordChanged(){this.outputAllergy.code.coding=[],this.selectedCode&&this.codeSelected(this.selectedCode)}codeSelected(t){var n=this;return de(function*(){if(t=Object.assign({system:"http://snomed.info/sct"},t)){n.selectedCodeTerm=t.display,n.selectedCode=t,n.recordPropensity&&(n.outputAllergy.code.coding=[t]);let r=yield n.getTypes(t);if(r.expansion?.contains){const o=r.expansion?.contains[0];n.selectedIntoleranceType=n.intoleranceTypeOptions.find(p=>p.code===o.code)}let s=yield n.getAllergySubstance(t);if(s.expansion.contains||(s=yield n.getIntoleranceSubstance(t)),s.expansion?.contains){const o=s.expansion?.contains[0];n.refinedSubstanceBinding.ecl=`<<${o.code} | ${o.display} |`,n.substanceSelected(o),n.selectedSubstanceTerm=o.display}else n.refinedSubstanceBinding.ecl="<<105590001 | Substance (substance) |"}})()}getIntoleranceSubstance(t){var n=this;return de(function*(){return da((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . 47429007 |Associated with (attribute)|`,"")).pipe(Di(s=>s)))})()}getAllergySubstance(t){var n=this;return de(function*(){return da((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . 246075003 |Causative agent (attribute)|`,"")).pipe(Di(s=>s)))})()}getSubstanceCategories(t){var n=this;return de(function*(){return da((yield n.terminologyService.expandValueSet(`> ${t.code} |${t.display}| AND (762766007 |Edible substance| OR 115668003 |Biological substance (substance)| OR 410942007 |Drug or medicament (substance)| OR 57795002 |Chemical element|)`,"")).pipe(Di(s=>s)))})()}getTypes(t){var n=this;return de(function*(){return da((yield n.terminologyService.expandValueSet(`> ${t.code} |${t.display}| AND (609433001 |Hypersensitivity disposition| OR 782197009 |Intolerance to substance|)`,"")).pipe(Di(s=>s)))})()}saveFhirResource(){var t=new Blob([this.outputAllergyStr],{type:"text/plain;charset=utf-8"});(0,Vc.saveAs)(t,"AllergyIntolerance.json")}copyToClipboard(t){this.clipboard.copy(t)}addToProblemsList(){if(this.selectedCode)this.newProblem.emit(this.selectedCode);else if(this.selectedSubstance&&this.selectedIntoleranceType){let t="";"609433001"===this.selectedIntoleranceType.code?t="Allergy to ":"782197009"===this.selectedIntoleranceType.code&&(t="Intolerance to "),t+=this.selectedSubstance.display,this.newProblem.emit({code:`${this.selectedIntoleranceType.code}:246075003=${this.selectedSubstance.code}`,display:t,substance:this.selectedSubstance})}else this._snackBar.openFromComponent(Cr,{duration:1e3,data:"Nothing to add to problem list",panelClass:["yellow-snackbar"]});this.clear()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs),ht(VM),ht(Hu))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-allergies-allergy-list"]],outputs:{newProblem:"newProblem"},decls:105,vars:30,consts:[["substancePopoverMenu","matMenu"],["codePopoverMenu","matMenu"],["id","main-card"],[1,"row"],[1,"column"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],["mat-flat-button","","color","accent","id","clear",3,"click"],[1,"row-centered"],[1,"smallest-form-field"],[3,"selectionChange","binding","term"],["mat-menu-item","",3,"click","disableRipple"],["matTooltip","Defines wether to use a propensity based model or a substance based model. Defines which one is recorded in the code element of the AllergyIntolerance resource.",3,"ngModelChange","click","ngModel"],[1,"form-field"],[3,"ngModelChange","ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[1,"small-form-field"],[3,"binding","term","selectionChange",4,"ngIf"],[4,"ngIf"],[3,"formControl","multiple"],[3,"ngModelChange","newManifestation","ngModel"],["mat-flat-button","","color","accent",3,"click"],["href","https://hl7.org/FHIR/allergyintolerance.html","target","_blank"],["id","output"],["id","save"],["mat-icon-button","","matTooltip","Download FHIR Resource",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy FHIR Resource",3,"click"],["fontIcon","content_copy"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],[3,"click","value"]],template:function(n,r){if(1&n){const s=ge();q(0,"mat-card",2)(1,"div",3)(2,"div",4)(3,"h4"),ut(4,"Allergy Intolerance Form "),q(5,"button",5)(6,"mat-icon"),ut(7,"info"),et()(),q(8,"mat-menu",null,0)(10,"span",6),Vt("click",function(p){return Ut(s),zt(p.stopPropagation())}),q(11,"h4"),ut(12,"Allergy list"),et(),q(13,"p"),ut(14,"Allergy or intolerance can be recorded in a specific section (e.g., \u201cDrug Allergy and Intolerance\u201d) of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model."),et(),q(15,"p"),ut(16,"In terms of documenting sensitivity type in the allergy list there is the option to map to 609433001 |Hypersensitivity disposition which in SNOMED CT represents both immune-mediated and non-immune mediated hypersensitivity or to map to 609328004 |Allergic disposition (finding)|which is common clinical parlance for what many clinicians would mean by allergic or non-allergic hypersensitivity. In addition, as recommended in the FHIR documentation if one is unclear as to whether a condition represents hypersensitivity or intolerance, one can just omit the type element from the resource."),et(),q(17,"p"),ut(18,"If SNOMED CT concepts are used to document the causative agent, it is preferable to use concepts from the Substance rather than Pharmaceutical/biologic product hierarchy since this will facilitate the downstream use of data, e.g., clinical decision support, data exchange."),et(),q(19,"p"),ut(20,"Almost all allergy and intolerance finding concepts are modeled using substance concepts in SNOMED CT. The SNOMED CT substance hierarchy has grouper concepts that are based on structure (e.g., Macrolide) or disposition (e.g., substance with histamine receptor antagonist mechanism of action). Clinical decision support systems can utilize these grouper concepts to access information at the desired level of granularity. Clinicians can also record a class of substance instead of a specific drug or substance (e.g., angiotensin II receptor antagonist). Note that substance grouper concepts based on therapeutic role (e.g., anticonvulsant) is not recommended for use because they are currently under review and may be retired in future."),et(),q(21,"p"),ut(22,"There are situations in which it is difficult to determine the specific substance as a true cause or most likely cause of a condition. This is the case for allergy/intolerance to a product containing multiple substances."),et(),q(23,"p"),ut(24,"Records of allergy to multiple substances or to multi-ingredient products should be recorded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix)."),et(),q(25,"p"),ut(26,"For more information check the "),q(27,"a",7),ut(28,"Implementation Guide"),et(),ut(29," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),q(30,"button",8),Vt("click",function(){return Ut(s),zt(r.clear())}),ut(31,"Clear"),et(),q(32,"div",9)(33,"div",10)(34,"app-autocomplete-binding",11),Vt("selectionChange",function(p){return Ut(s),zt(r.codeSelected(p))}),et()(),q(35,"button",5)(36,"mat-icon"),ut(37,"info"),et()(),q(38,"mat-menu",null,1)(40,"span",12),Vt("click",function(p){return Ut(s),zt(p.stopPropagation())}),q(41,"p"),ut(42,"Terminology binding:"),et(),q(43,"pre"),ut(44),et()()(),q(45,"mat-slide-toggle",13),oa("ngModelChange",function(p){return Ut(s),Ca(r.recordPropensity,p)||(r.recordPropensity=p),zt(p)}),Vt("click",function(){return Ut(s),zt(r.propensityRecordChanged())}),ut(46," Propensity based model "),et()(),q(47,"mat-form-field",14)(48,"mat-label"),ut(49,"Allergy Intolerance Type"),et(),q(50,"mat-select",15),oa("ngModelChange",function(p){return Ut(s),Ca(r.selectedIntoleranceType,p)||(r.selectedIntoleranceType=p),zt(p)}),Ht(51,Dwt,2,2,"mat-option",16),et()(),q(52,"div",9)(53,"mat-form-field",4)(54,"mat-label"),ut(55,"Clinical Status"),et(),q(56,"mat-select",15),oa("ngModelChange",function(p){return Ut(s),Ca(r.selectedClinicalStatus,p)||(r.selectedClinicalStatus=p),zt(p)}),Ht(57,Iwt,2,2,"mat-option",16),et()(),q(58,"mat-form-field",4)(59,"mat-label"),ut(60,"Verification Status"),et(),q(61,"mat-select",15),oa("ngModelChange",function(p){return Ut(s),Ca(r.selectedVerificationStatus,p)||(r.selectedVerificationStatus=p),zt(p)}),Ht(62,Mwt,2,2,"mat-option",16),et()()(),q(63,"div",9)(64,"div",17),Ht(65,Rwt,1,2,"app-autocomplete-binding",18)(66,kwt,1,2,"app-autocomplete-binding",18),et(),q(67,"button",5)(68,"mat-icon"),ut(69,"info"),et()(),q(70,"mat-menu",null,0)(72,"span",12),Vt("click",function(p){return Ut(s),zt(p.stopPropagation())}),q(73,"p"),ut(74,"Terminology binding:"),et(),Ht(75,Pwt,2,1,"pre",19)(76,Fwt,2,1,"pre",19),et()()(),q(77,"div",9)(78,"mat-form-field",4)(79,"mat-label"),ut(80,"Substance Category"),et(),q(81,"mat-select",20),Ht(82,Owt,2,2,"mat-option",16),et()(),q(83,"mat-form-field",4)(84,"mat-label"),ut(85,"Allergy Criticality"),et(),q(86,"mat-select",15),oa("ngModelChange",function(p){return Ut(s),Ca(r.selectedCriticality,p)||(r.selectedCriticality=p),zt(p)}),Ht(87,Lwt,2,2,"mat-option",16),et()()(),q(88,"app-allergies-allergy-list-reaction",21),oa("ngModelChange",function(p){return Ut(s),Ca(r.selectedReactions,p)||(r.selectedReactions=p),zt(p)}),Vt("ngModelChange",function(p){return Ut(s),zt(r.onReactionsChange(p))})("newManifestation",function(p){return Ut(s),zt(r.newProblem.emit(p))}),et(),q(89,"button",22),Vt("click",function(){return Ut(s),zt(r.addToProblemsList())}),ut(90,"Save"),et()(),q(91,"div",4)(92,"h4"),ut(93,"AllergyIntolerance HL7 FHIR Resource ("),q(94,"a",23),ut(95,"link"),et(),ut(96,")"),et(),q(97,"div",24)(98,"div",25)(99,"button",26),Vt("click",function(){return Ut(s),zt(r.saveFhirResource())}),be(100,"mat-icon",27),et(),q(101,"button",28),Vt("click",function(){return Ut(s),zt(r.copyToClipboard(r.outputAllergyStr))}),be(102,"mat-icon",29),et()(),q(103,"textarea",30),ut(104,"                "),et()()()()()}if(2&n){const s=Zi(9),o=Zi(39);ot(5),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(24),xt("binding",r.codeBinding)("term",r.selectedCodeTerm),ot(),xt("matMenuTriggerFor",o),ot(5),xt("disableRipple",!0),ot(4),ze(r.codeBinding.ecl),ot(),aa("ngModel",r.recordPropensity),ot(5),aa("ngModel",r.selectedIntoleranceType),ot(),xt("ngForOf",r.intoleranceTypeOptions),ot(5),aa("ngModel",r.selectedClinicalStatus),ot(),xt("ngForOf",r.clinicalStatusOptions),ot(4),aa("ngModel",r.selectedVerificationStatus),ot(),xt("ngForOf",r.verificationStatusOptions),ot(3),xt("ngIf",!r.recordPropensity),ot(),xt("ngIf",r.recordPropensity),ot(),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(3),xt("ngIf",!r.recordPropensity),ot(),xt("ngIf",r.recordPropensity),ot(5),xt("formControl",r.selectedIntoleranceCategoriesControl)("multiple",!0),ot(),xt("ngForOf",r.intoleranceCategoryOptions),ot(4),aa("ngModel",r.selectedCriticality),ot(),xt("ngForOf",r.criticalityOptions),ot(),aa("ngModel",r.selectedReactions),ot(15),xt("options",ko(29,Awt))("lang","json")("innerHTML",r.outputAllergyStr,Hh)}},dependencies:[xs,Qs,pC,ua,xo,ha,il,Tl,Ld,El,nl,Md,Oo,oC,WT,dg,_l,qu,UM,lg,Swt],styles:["#main-card[_ngcontent-%COMP%]{padding:10px;width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:flex-start}.row-centered[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center}.column[_ngcontent-%COMP%]{position:relative;flex:1;margin:5px;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{width:100%}.smallest-form-field[_ngcontent-%COMP%]{width:60%;margin:5px}.small-form-field[_ngcontent-%COMP%]{width:90%;margin:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px;height:36px}.mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:0}.reaction[_ngcontent-%COMP%]{border-radius:10px;background-color:#a9bee9;padding:10px}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}#clear[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}return e})(),Bwt=(()=>{class e{constructor(t){this._snackBar=t}addProblem(t){var n=this;return de(function*(){n.allergiesProblemListComponent.addProblem(t),n._snackBar.openFromComponent(Cr,{duration:1e3,data:"Problem list updated",panelClass:["green-snackbar"]})})()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Hu))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-allergies"]],viewQuery:function(n,r){if(1&n&&Ai(XG,5),2&n){let s;Oe(s=Le())&&(r.allergiesProblemListComponent=s.first)}},decls:31,vars:2,consts:[["substancePopoverMenu","matMenu"],["id","main-panel"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Allergy List Approach (AllergyIntolerance FHIR resource)"],[3,"newProblem"],["label","Problem List Approach (Condition FHIR resource)"]],template:function(n,r){if(1&n){const s=ge();q(0,"div",1)(1,"h3"),ut(2,"Allergy, Hypersensitivity and Intolerance "),q(3,"button",2)(4,"mat-icon"),ut(5,"info"),et()(),q(6,"mat-menu",null,0)(8,"span",3),Vt("click",function(p){return Ut(s),zt(p.stopPropagation())}),q(9,"h4"),ut(10,"Allergy, Hypersensitivity and Intolerance Implementation Demo"),et(),q(11,"p"),ut(12,"This is a demonstration of different implementation approaches for recording Allergies, Hypersensitivity and Intolerance."),et(),q(13,"p")(14,"b"),ut(15,"Allergy list:"),et(),ut(16," allergy or intolerance can be recorded in a specific section of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model."),et(),q(17,"p")(18,"b"),ut(19,"Problem list:"),et(),ut(20," Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies \u2013 Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource."),et(),q(21,"p"),ut(22,"For more information check the "),q(23,"a",4),ut(24,"Implementation Guide"),et(),ut(25," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),q(26,"mat-tab-group",5)(27,"mat-tab",6)(28,"app-allergies-allergy-list",7),Vt("newProblem",function(p){return Ut(s),zt(r.addProblem(p))}),et()(),q(29,"mat-tab",8),be(30,"app-allergies-problem-list"),et()()()}if(2&n){const s=Zi(7);ot(3),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0)}},dependencies:[xo,ha,il,Tl,Ld,cg,yf,XG,Nwt],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}#guideLink[_ngcontent-%COMP%]{font-size:smaller}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}return e})();function zM(e,i,t){for(let n in i)if(i.hasOwnProperty(n)){const r=i[n];r?e.setProperty(n,r,t?.has(n)?"important":""):e.removeProperty(n)}return e}function ug(e,i){const t=i?"":"none";zM(e.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function oH(e,i,t){zM(e.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},t)}function gC(e,i){return i&&"none"!=i?e+" "+i:e}function lH(e){const i=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*i}function GM(e,i){return e.getPropertyValue(i).split(",").map(n=>n.trim())}function HM(e){const i=e.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function WM(e,i,t){const{top:n,bottom:r,left:s,right:o}=e;return t>=n&&t<=r&&i>=s&&i<=o}function Nx(e,i,t){e.top+=i,e.bottom=e.top+e.height,e.left+=t,e.right=e.left+e.width}function cH(e,i,t,n){const{top:r,right:s,bottom:o,left:p,width:C,height:D}=e,R=C*i,F=D*i;return n>r-F&&n<o+F&&t>p-R&&t<s+R}class dH{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:HM(t)})})}handleScroll(i){const t=el(i),n=this.positions.get(t);if(!n)return null;const r=n.scrollPosition;let s,o;if(t===this._document){const D=this.getViewportScrollPosition();s=D.top,o=D.left}else s=t.scrollTop,o=t.scrollLeft;const p=r.top-s,C=r.left-o;return this.positions.forEach((D,R)=>{D.clientRect&&t!==R&&t.contains(R)&&Nx(D.clientRect,p,C)}),r.top=s,r.left=o,{top:p,left:C}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function uH(e){const i=e.cloneNode(!0),t=i.querySelectorAll("[id]"),n=e.nodeName.toLowerCase();i.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===n?mH(e,i):("input"===n||"select"===n||"textarea"===n)&&fH(e,i),hH("canvas",e,i,mH),hH("input, textarea, select",e,i,fH),i}function hH(e,i,t,n){const r=i.querySelectorAll(e);if(r.length){const s=t.querySelectorAll(e);for(let o=0;o<r.length;o++)n(r[o],s[o])}}let zwt=0;function fH(e,i){"file"!==i.type&&(i.value=e.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${zwt++}`)}function mH(e,i){const t=i.getContext("2d");if(t)try{t.drawImage(e,0,0)}catch{}}const pH=ic({passive:!0}),vC=ic({passive:!1}),XM=new Set(["position"]);class Hwt{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(t=>ug(t,i)))}constructor(i,t,n,r,s,o){this._config=t,this._document=n,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ke,this._pointerMoveSubscription=Me.EMPTY,this._pointerUpSubscription=Me.EMPTY,this._scrollSubscription=Me.EMPTY,this._resizeSubscription=Me.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ke,this.started=new ke,this.released=new ke,this.ended=new ke,this.entered=new ke,this.exited=new ke,this.dropped=new ke,this.moved=this._moveEvents,this._pointerDown=p=>{if(this.beforeStarted.next(),this._handles.length){const C=this._getTargetHandle(p);C&&!this._disabledHandles.has(C)&&!this.disabled&&this._initializeDragSequence(C,p)}else this.disabled||this._initializeDragSequence(this._rootElement,p)},this._pointerMove=p=>{const C=this._getPointerPositionOnPage(p);if(!this._hasStartedDragging){if(Math.abs(C.x-this._pickupPositionOnPage.x)+Math.abs(C.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const V=Date.now()>=this._dragStartTime+this._getDragStartDelay(p),X=this._dropContainer;if(!V)return void this._endDragSequence(p);(!X||!X.isDragging()&&!X.isReceiving())&&(p.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(p)))}return}p.preventDefault();const D=this._getConstrainedPointerPosition(C);if(this._hasMoved=!0,this._lastKnownPointerPosition=C,this._updatePointerDirectionDelta(D),this._dropContainer)this._updateActiveDropContainer(D,C);else{const R=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,F=this._activeTransform;F.x=D.x-R.x+this._passiveTransform.x,F.y=D.y-R.y+this._passiveTransform.y,this._applyRootElementTransform(F.x,F.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:D,event:p,distance:this._getDragDistance(D),delta:this._pointerDirectionDelta})})},this._pointerUp=p=>{this._endDragSequence(p)},this._nativeDragStart=p=>{if(this._handles.length){const C=this._getTargetHandle(p);C&&!this._disabledHandles.has(C)&&!this.disabled&&p.preventDefault()}else this.disabled||p.preventDefault()},this.withRootElement(i).withParent(t.parentDragRef||null),this._parentPositions=new dH(n),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(n=>os(n)),this._handles.forEach(n=>ug(n,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const t=os(i);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,vC),t.addEventListener("touchstart",this._pointerDown,pH),t.addEventListener("dragstart",this._nativeDragStart,vC)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?os(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),ug(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),ug(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Bx(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const n=this._rootElement,r=n.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),p=this._getShadowRoot();r.insertBefore(o,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),oH(n,!1,XM),this._document.body.appendChild(r.replaceChild(s,n)),this._getPreviewInsertionPoint(r,p).appendChild(this._preview),this.started.next({source:this,event:i}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(i,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),r=Bx(t),s=!r&&0!==t.button,o=this._rootElement,p=el(t),C=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),D=r?ET(t):_T(t);if(p&&p.draggable&&"mousedown"===t.type&&t.preventDefault(),n||s||C||D)return;if(this._handles.length){const B=o.style;this._rootElementTapHighlight=B.webkitTapHighlightColor||"",B.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(B=>this._updateOnScroll(B)),this._boundaryElement&&(this._boundaryRect=HM(this._boundaryElement));const R=this._previewTemplate;this._pickupPositionInElement=R&&R.template&&!R.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,t);const F=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:F.x,y:F.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(i){oH(this._rootElement,!0,XM),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),r=this._getPointerPositionOnPage(i),s=this._getDragDistance(r),o=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:i}),t.drop(this,n,this._initialIndex,this._initialContainer,o,s,r,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:t},{x:n,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,i,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,i,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,i,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,t):this._applyPreviewTransform(i-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,t=this.previewClass,n=i?i.template:null;let r;if(n&&i){const s=i.matchSize?this._initialDomRect:null,o=i.viewContainer.createEmbeddedView(n,i.context);o.detectChanges(),r=vH(o,this._document),this._previewRef=o,i.matchSize?xH(r,s):r.style.transform=xC(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=uH(this._rootElement),xH(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return zM(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},XM),ug(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const t=function Uwt(e){const i=getComputedStyle(e),t=GM(i,"transition-property"),n=t.find(p=>"transform"===p||"all"===p);if(!n)return 0;const r=t.indexOf(n),s=GM(i,"transition-duration"),o=GM(i,"transition-delay");return lH(s[r])+lH(o[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const r=o=>{(!o||el(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,t=i?i.template:null;let n;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),n=vH(this._placeholderRef,this._document)):n=uH(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(i,t,n){const r=t===this._rootElement?null:t,s=r?r.getBoundingClientRect():i,o=Bx(n)?n.targetTouches[0]:n,p=this._getViewportScrollPosition();return{x:s.left-i.left+(o.pageX-s.left-p.left),y:s.top-i.top+(o.pageY-s.top-p.top)}}_getPointerPositionOnPage(i){const t=this._getViewportScrollPosition(),n=Bx(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,r=n.pageX-t.left,s=n.pageY-t.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const p=this._ownerSVGElement.createSVGPoint();return p.x=r,p.y=s,p.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(i){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,p=this._boundaryRect,{width:C,height:D}=this._getPreviewRect(),R=p.top+o,F=p.bottom-(D-o);n=gH(n,p.left+s,p.right-(C-s)),r=gH(r,R,F)}return{x:n,y:r}}_updatePointerDirectionDelta(i){const{x:t,y:n}=i,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),p=Math.abs(n-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),p>this._config.pointerDirectionChangeThreshold&&(r.y=n>s.y?1:-1,s.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,ug(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,vC),i.removeEventListener("touchstart",this._pointerDown,pH),i.removeEventListener("dragstart",this._nativeDragStart,vC)}_applyRootElementTransform(i,t){const n=xC(i,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=gC(n,this._initialTransform)}_applyPreviewTransform(i,t){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=xC(i,t);this._preview.style.transform=gC(r,n)}_getDragDistance(i){const t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:t}=this._passiveTransform;if(0===i&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const s=r.left-n.left,o=n.right-r.right,p=r.top-n.top,C=n.bottom-r.bottom;r.width>n.width?(s>0&&(i+=s),o>0&&(i-=o)):i=0,r.height>n.height?(p>0&&(t+=p),C>0&&(t-=C)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}_getDragStartDelay(i){const t=this.dragStartDelay;return"number"==typeof t?t:Bx(i)?t.touch:t?t.mouse:0}_updateOnScroll(i){const t=this._parentPositions.handleScroll(i);if(t){const n=el(i);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Nx(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=SI(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,t){const n=this._previewContainer||"global";if("parent"===n)return i;if("global"===n){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return os(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(i){return this._handles.find(t=>i.target&&(i.target===t||t.contains(i.target)))}}function xC(e,i){return`translate3d(${Math.round(e)}px, ${Math.round(i)}px, 0)`}function gH(e,i,t){return Math.max(i,Math.min(t,e))}function Bx(e){return"t"===e.type[0]}function vH(e,i){const t=e.rootNodes;if(1===t.length&&t[0].nodeType===i.ELEMENT_NODE)return t[0];const n=i.createElement("div");return t.forEach(r=>n.appendChild(r)),n}function xH(e,i){e.style.width=`${i.width}px`,e.style.height=`${i.height}px`,e.style.transform=xC(i.left,i.top)}function jM(e,i,t){const n=Vx(i,e.length-1),r=Vx(t,e.length-1);if(n===r)return;const s=e[n],o=r<n?-1:1;for(let p=n;p!==r;p+=o)e[p]=e[p+o];e[r]=s}function Vx(e,i){return Math.max(0,Math.min(i,e))}class Wwt{constructor(i,t){this._element=i,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,t,n,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(i,t,n,r);if(-1===o&&s.length>0)return null;const p="horizontal"===this.orientation,C=s.findIndex(Q=>Q.drag===i),D=s[o],F=D.clientRect,B=C>o?1:-1,V=this._getItemOffsetPx(s[C].clientRect,F,B),X=this._getSiblingOffsetPx(C,s,B),J=s.slice();return jM(s,C,o),s.forEach((Q,nt)=>{if(J[nt]===Q)return;const ct=Q.drag===i,lt=ct?V:X,wt=ct?i.getPlaceholderElement():Q.drag.getRootElement();Q.offset+=lt,p?(wt.style.transform=gC(`translate3d(${Math.round(Q.offset)}px, 0, 0)`,Q.initialTransform),Nx(Q.clientRect,0,lt)):(wt.style.transform=gC(`translate3d(0, ${Math.round(Q.offset)}px, 0)`,Q.initialTransform),Nx(Q.clientRect,lt,0))}),this._previousSwap.overlaps=WM(F,t,n),this._previousSwap.drag=D.drag,this._previousSwap.delta=p?r.x:r.y,{previousIndex:C,currentIndex:o}}enter(i,t,n,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(i,t,n):r,o=this._activeDraggables,p=o.indexOf(i),C=i.getPlaceholderElement();let D=o[s];if(D===i&&(D=o[s+1]),!D&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(D=o[0]),p>-1&&o.splice(p,1),D&&!this._dragDropRegistry.isDragging(D)){const R=D.getRootElement();R.parentElement.insertBefore(C,R),o.splice(s,0,i)}else os(this._element).appendChild(C),o.push(i);C.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{const t=i.getRootElement();if(t){const n=this._itemPositions.find(r=>r.drag===i)?.initialTransform;t.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===i)}updateOnScroll(i,t){this._itemPositions.forEach(({clientRect:n})=>{Nx(n,i,t)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:HM(n)}}).sort((t,n)=>i?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_getItemOffsetPx(i,t,n){const r="horizontal"===this.orientation;let s=r?t.left-i.left:t.top-i.top;return-1===n&&(s+=r?t.width-i.width:t.height-i.height),s}_getSiblingOffsetPx(i,t,n){const r="horizontal"===this.orientation,s=t[i].clientRect,o=t[i+-1*n];let p=s[r?"width":"height"]*n;if(o){const C=r?"left":"top",D=r?"right":"bottom";-1===n?p-=o.clientRect[C]-s[D]:p+=s[C]-o.clientRect[D]}return p}_shouldEnterAsFirstChild(i,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const o=n[n.length-1].clientRect;return r?i>=o.right:t>=o.bottom}{const o=n[0].clientRect;return r?i<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(i,t,n,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:p,clientRect:C})=>p!==i&&((!r||p!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(C.left)&&t<Math.floor(C.right):n>=Math.floor(C.top)&&n<Math.floor(C.bottom))));return-1!==o&&this._sortPredicate(o,i)?o:-1}}var Sl=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(Sl||{}),bo=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(bo||{});class Xwt{constructor(i,t,n,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ke,this.entered=new ke,this.exited=new ke,this.dropped=new ke,this.sorted=new ke,this.receivingStarted=new ke,this.receivingStopped=new ke,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Me.EMPTY,this._verticalScrollDirection=Sl.NONE,this._horizontalScrollDirection=bo.NONE,this._stopScrollTimers=new ke,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Vwt(e=0,i=yx){return e<0&&(e=0),Ax(e,e,i)}(0,XU).pipe(Ui(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,p=this.autoScrollStep;this._verticalScrollDirection===Sl.UP?o.scrollBy(0,-p):this._verticalScrollDirection===Sl.DOWN&&o.scrollBy(0,p),this._horizontalScrollDirection===bo.LEFT?o.scrollBy(-p,0):this._horizontalScrollDirection===bo.RIGHT&&o.scrollBy(p,0)})},this.element=os(i),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new dH(n),this._sortStrategy=new Wwt(this.element,t),this._sortStrategy.withSortPredicate((o,p)=>this.sortPredicate(o,p,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,t,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(i)),this._sortStrategy.enter(i,t,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,t,n,r,s,o,p,C={}){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:p,event:C})}withItems(i){const t=this._draggables;return this._draggables=i,i.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===i.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){const t=os(this.element);return this._scrollableElements=-1===i.indexOf(t)?[t,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,t,n,r){if(this.sortingDisabled||!this._domRect||!cH(this._domRect,.05,t,n))return;const s=this._sortStrategy.sort(i,t,n,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,t){if(this.autoScrollDisabled)return;let n,r=Sl.NONE,s=bo.NONE;if(this._parentPositions.positions.forEach((o,p)=>{p===this._document||!o.clientRect||n||cH(o.clientRect,.05,i,t)&&([r,s]=function jwt(e,i,t,n,r){const s=wH(i,r),o=TH(i,n);let p=Sl.NONE,C=bo.NONE;if(s){const D=e.scrollTop;s===Sl.UP?D>0&&(p=Sl.UP):e.scrollHeight-D>e.clientHeight&&(p=Sl.DOWN)}if(o){const D=e.scrollLeft;"rtl"===t?o===bo.RIGHT?D<0&&(C=bo.RIGHT):e.scrollWidth+D>e.clientWidth&&(C=bo.LEFT):o===bo.LEFT?D>0&&(C=bo.LEFT):e.scrollWidth-D>e.clientWidth&&(C=bo.RIGHT)}return[p,C]}(p,o.clientRect,this._sortStrategy.direction,i,t),(r||s)&&(n=p))}),!r&&!s){const{width:o,height:p}=this._viewportRuler.getViewportSize(),C={width:o,height:p,top:0,right:o,bottom:p,left:0};r=wH(C,t),s=TH(C,i),n=window}n&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=n,(r||s)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=os(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=os(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;const i=os(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,t){return null!=this._domRect&&WM(this._domRect,i,t)}_getSiblingContainerFromPosition(i,t,n){return this._siblings.find(r=>r._canReceive(i,t,n))}_canReceive(i,t,n){if(!this._domRect||!WM(this._domRect,t,n)||!this.enterPredicate(i,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,n);if(!r)return!1;const s=os(this.element);return r===s||s.contains(r)}_startReceiving(i,t){const n=this._activeSiblings;!n.has(i)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:t}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(i);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=SI(os(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,i))}}function wH(e,i){const{top:t,bottom:n,height:r}=e,s=.05*r;return i>=t-s&&i<=t+s?Sl.UP:i>=n-s&&i<=n+s?Sl.DOWN:Sl.NONE}function TH(e,i){const{left:t,right:n,width:r}=e,s=.05*r;return i>=t-s&&i<=t+s?bo.LEFT:i>=n-s&&i<=n+s?bo.RIGHT:bo.NONE}const yC=ic({passive:!1,capture:!0});let Ywt=(()=>{class e{constructor(t,n){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new ke,this.pointerUp=new ke,this.scroll=new ke,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=n}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,yC)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,yC)}startDragging(t,n){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:yC}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:yC}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(t){const n=this._activeDragInstances.indexOf(t);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const n=[this.scroll];return t&&t!==this._document&&n.push(new lr(r=>this._ngZone.runOutsideAngular(()=>{const o=p=>{this._activeDragInstances.length&&r.next(p)};return t.addEventListener("scroll",o,!0),()=>{t.removeEventListener("scroll",o,!0)}}))),Gr(...n)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,n)=>{this._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ze),Kt(Ni))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $wt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let YM=(()=>{class e{constructor(t,n,r,s){this._document=t,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,n=$wt){return new Hwt(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Xwt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni),Kt(Ze),Kt(Fd),Kt(Ywt))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ux=new qt("CDK_DRAG_PARENT"),CH=new qt("CdkDragHandle");let _H=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}constructor(t,n){this.element=t,this._parentDrag=n,this._stateChanges=new ke,this._disabled=!1,n?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Ux,12))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[Wt.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",Ke]},standalone:!0,features:[fi([{provide:CH,useExisting:e}]),an]})}return e})();const EH=new qt("CDK_DRAG_CONFIG"),SH=new qt("CdkDropList");let $M=(()=>{class e{static#t=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,n,r,s,o,p,C,D,R,F,B){this.element=t,this.dropContainer=n,this._ngZone=s,this._viewContainerRef=o,this._dir=C,this._changeDetectorRef=R,this._selfHandle=F,this._parentDrag=B,this._destroyed=new ke,this._handles=new Vr([]),this.started=new Ae,this.released=new Ae,this.ended=new Ae,this.entered=new Ae,this.exited=new Ae,this.dropped=new Ae,this.moved=new lr(V=>{const X=this._dragRef.moved.pipe(Di(J=>({source:this,pointerPosition:J.pointerPosition,event:J.event,delta:J.delta,distance:J.distance}))).subscribe(V);return()=>{X.unsubscribe()}}),this._dragRef=D.createDrag(t,{dragStartThreshold:p&&null!=p.dragStartThreshold?p.dragStartThreshold:5,pointerDirectionChangeThreshold:p&&null!=p.pointerDirectionChangeThreshold?p.pointerDirectionChangeThreshold:5,zIndex:p?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),p&&this._assignDefaults(p),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Jn(1),Ui(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const n=t.rootElementSelector,r=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const n=this._handles.getValue();n.push(t),this._handles.next(n)}_removeHandle(t){const n=this._handles.getValue(),r=n.indexOf(t);r>-1&&(n.splice(r,1),this._handles.next(n))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let n=t;this.rootElementSelector&&(n=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):os(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const n=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:Gu(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe(Jn(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){t.withParent(e._dragInstances.find(r=>r.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(t){t.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),t.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(t){const{lockAxis:n,dragStartDelay:r,constrainPosition:s,previewClass:o,boundaryElement:p,draggingDisabled:C,rootElementSelector:D,previewContainer:R}=t;this.disabled=C??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),s&&(this.constrainPosition=s),o&&(this.previewClass=o),p&&(this.boundaryElement=p),D&&(this.rootElementSelector=D),R&&(this.previewContainer=R)}_setupHandlesListener(){this._handles.pipe(ns(t=>{const n=t.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),bs(t=>Gr(...t.map(n=>n._stateChanges.pipe(ca(n))))),Ui(this._destroyed)).subscribe(t=>{const n=this._dragRef,r=t.element.nativeElement;t.disabled?n.disableHandle(r):n.enableHandle(r)})}static#e=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(SH,12),ht(Ni),ht(Ze),ht(Ar),ht(EH,8),ht(_a,8),ht(YM),ht(Dn),ht(CH,10),ht(Ux,12))};static#i=this.\u0275dir=ce({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){2&n&&yi("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[Wt.None,"cdkDragData","data"],lockAxis:[Wt.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[Wt.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[Wt.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[Wt.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[Wt.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[Wt.HasDecoratorInputTransform,"cdkDragDisabled","disabled",Ke],constrainPosition:[Wt.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[Wt.None,"cdkDragPreviewClass","previewClass"],previewContainer:[Wt.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[fi([{provide:Ux,useExisting:e}]),an,nr]})}return e})();const QM=new qt("CdkDropListGroup");let Zwt=0,KM=(()=>{class e{static#t=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}constructor(t,n,r,s,o,p,C){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=o,this._group=p,this._destroyed=new ke,this.connectedTo=[],this.id="cdk-drop-list-"+Zwt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new Ae,this.entered=new Ae,this.exited=new Ae,this.sorted=new Ae,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,C&&this._assignDefaults(C),this._dropListRef.enterPredicate=(D,R)=>this.enterPredicate(D.data,R.data),this._dropListRef.sortPredicate=(D,R,F)=>this.sortPredicate(D,R.data,F.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),p&&p._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,n)=>t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(ca(this._dir.value),Ui(this._destroyed)).subscribe(n=>t.withDirection(n)),t.beforeStarted.subscribe(()=>{const n=bx(this.connectedTo).map(r=>"string"==typeof r?e._dropLists.find(o=>o.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===n.indexOf(r)&&n.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=Gu(this.autoScrollStep,2),t.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),Gr(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:n,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:o,listOrientation:p}=t;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=p||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static#e=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(YM),ht(Dn),ht(Dx),ht(_a,8),ht(QM,12),ht(EH,8))};static#i=this.\u0275dir=ce({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){2&n&&(_i("id",r.id),yi("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[Wt.None,"cdkDropListConnectedTo","connectedTo"],data:[Wt.None,"cdkDropListData","data"],orientation:[Wt.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[Wt.None,"cdkDropListLockAxis","lockAxis"],disabled:[Wt.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",Ke],sortingDisabled:[Wt.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",Ke],enterPredicate:[Wt.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[Wt.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[Wt.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Ke],autoScrollStep:[Wt.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[fi([{provide:QM,useValue:void 0},{provide:SH,useExisting:e}]),an]})}return e})(),eTt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[YM],imports:[Od]})}return e})();function iTt(e,i){}class bC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let AH=(()=>{class e extends kT{constructor(t,n,r,s,o,p,C,D){super(),this._elementRef=t,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=o,this._ngZone=p,this._overlayRef=C,this._focusMonitor=D,this._platform=fe(Qn),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=fe(Dn),this.attachDomPortal=R=>{this._portalOutlet.hasAttached();const F=this._portalOutlet.attachDomPortal(R);return this._contentAttached(),F},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const n=this._ariaLabelledByQueue.indexOf(t);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),n}attachTemplatePortal(t){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let n=null;if("string"==typeof t?n=this._document.querySelector(t):"boolean"==typeof t?n=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(n=t),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=gT(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,n=gT();return t===n||t.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=gT()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(NI),ht(Ni,8),ht(bC),ht(CT),ht(Ze),ht(NT),ht(bl))};static#e=this.\u0275cmp=He({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&Ai(Pd,7),2&n){let s;Oe(s=Le())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&_i("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[di,Bi],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&Ht(0,iTt,0,0,"ng-template",0)},dependencies:[Pd],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})();class ZM{constructor(i,t){this.overlayRef=i,this.config=t,this.closed=new ke,this.disableClose=t.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!Ga(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(i,t){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(i),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",t=""){return this.overlayRef.updateSize({width:i,height:t}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}}const DH=new qt("DialogScrollStrategy",{providedIn:"root",factory:()=>{const e=fe(ls);return()=>e.scrollStrategies.block()}}),nTt=new qt("DialogData"),rTt=new qt("DefaultDialogConfig");let aTt=0,IH=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,n,r,s,o,p){this._overlay=t,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ke,this._afterOpenedAtThisLevel=new ke,this._ariaHiddenElements=new Map,this.afterAllClosed=Dp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ca(void 0))),this._scrollStrategy=p}open(t,n){(n={...this._defaultOptions||new bC,...n}).id=n.id||"cdk-dialog-"+aTt++,n.id&&this.getDialogById(n.id);const s=this._getOverlayConfig(n),o=this._overlay.create(s),p=new ZM(o,n),C=this._attachContainer(o,p,n);return p.containerInstance=C,this._attachDialogContent(t,p,C,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(p),p.closed.subscribe(()=>this._removeOpenDialog(p,!0)),this.afterOpened.next(p),p}closeAll(){JM(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){JM(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),JM(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const n=new qp({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(n.backdropClass=t.backdropClass),n}_attachContainer(t,n,r){const s=r.injector||r.viewContainerRef?.injector,o=[{provide:bC,useValue:r},{provide:ZM,useValue:n},{provide:NT,useValue:t}];let p;r.container?"function"==typeof r.container?p=r.container:(p=r.container.type,o.push(...r.container.providers(r))):p=AH;const C=new Zp(p,r.viewContainerRef,$r.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return t.attach(C).instance}_attachDialogContent(t,n,r,s){if(t instanceof dr){const o=this._createInjector(s,n,r,void 0);let p={$implicit:s.data,dialogRef:n};s.templateContext&&(p={...p,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new kd(t,null,p,o))}else{const o=this._createInjector(s,n,r,this._injector),p=r.attachComponentPortal(new Zp(t,s.viewContainerRef,o,s.componentFactoryResolver));n.componentRef=p,n.componentInstance=p.instance}}_createInjector(t,n,r,s){const o=t.injector||t.viewContainerRef?.injector,p=[{provide:nTt,useValue:t.data},{provide:ZM,useValue:n}];return t.providers&&("function"==typeof t.providers?p.push(...t.providers(n,t,r)):p.push(...t.providers)),t.direction&&(!o||!o.get(_a,null,{optional:!0}))&&p.push({provide:_a,useValue:{value:t.direction,change:xi()}}),$r.create({parent:o||s,providers:p})}_removeOpenDialog(t,n){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const n=t.parentElement.children;for(let r=n.length-1;r>-1;r--){const s=n[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(ls),Kt($r),Kt(rTt,8),Kt(e,12),Kt(LT),Kt(DH))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function JM(e,i){let t=e.length;for(;t--;)i(e[t])}let oTt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[IH],imports:[uf,Jp,CU,Jp]})}return e})();function lTt(e,i){}class qM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const tR="mdc-dialog--open",MH="mdc-dialog--opening",RH="mdc-dialog--closing";let kH=(()=>{class e extends AH{constructor(t,n,r,s,o,p,C,D,R){super(t,n,r,s,o,p,C,R),this._animationMode=D,this._animationStateChanged=new Ae,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?FH(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?FH(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(PH,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(MH,tR)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(tR),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(tR),this._animationsEnabled?(this._hostElement.style.setProperty(PH,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(RH)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(MH,RH)}_waitForAnimationToComplete(t,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const n=super.attachComponentPortal(t);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(NI),ht(Ni,8),ht(qM),ht(CT),ht(Ze),ht(NT),ht(Sr,8),ht(bl))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){2&n&&(Ac("id",r._config.id),_i("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),yi("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[di,Bi],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(q(0,"div",0)(1,"div",1),Ht(2,lTt,0,0,"ng-template",2),et()())},dependencies:[Pd],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return e})();const PH="--mat-dialog-transition-duration";function FH(e){return null==e?null:"number"==typeof e?e:e.endsWith("ms")?Gu(e.substring(0,e.length-2)):e.endsWith("s")?1e3*Gu(e.substring(0,e.length-1)):"0"===e?0:null}var wC=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(wC||{});class th{constructor(i,t,n){this._ref=i,this._containerInstance=n,this._afterOpened=new ke,this._beforeClosed=new ke,this._state=wC.OPEN,this.disableClose=t.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(In(r=>"opened"===r.state),Jn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(In(r=>"closed"===r.state),Jn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Gr(this.backdropClick(),this.keydownEvents().pipe(In(r=>27===r.keyCode&&!this.disableClose&&!Ga(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),OH(this,"keydown"===r.type?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(In(t=>"closing"===t.state),Jn(1)).subscribe(t=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=wC.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let t=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?t.left(i.left):t.right(i.right):t.centerHorizontally(),i&&(i.top||i.bottom)?i.top?t.top(i.top):t.bottom(i.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",t=""){return this._ref.updateSize(i,t),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=wC.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function OH(e,i,t){return e._closeInteractionType=i,e.close(t)}const TC=new qt("MatMdcDialogData"),uTt=new qt("mat-mdc-dialog-default-options"),LH=new qt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const e=fe(ls);return()=>e.scrollStrategies.block()}});let fTt=0,hg=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,n,r,s,o,p,C,D){this._overlay=t,this._defaultOptions=s,this._scrollStrategy=o,this._parentDialog=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ke,this._afterOpenedAtThisLevel=new ke,this.dialogConfigClass=qM,this.afterAllClosed=Dp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ca(void 0))),this._dialog=n.get(IH),this._dialogRefConstructor=th,this._dialogContainerType=kH,this._dialogDataToken=TC}open(t,n){let r;(n={...this._defaultOptions||new qM,...n}).id=n.id||"mat-mdc-dialog-"+fTt++,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:bC,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(o,p,C)=>(r=new this._dialogRefConstructor(o,n,C),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:C},{provide:this._dialogDataToken,useValue:p.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let n=t.length;for(;n--;)t[n].close()}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(ls),Kt($r),Kt(ef,8),Kt(uTt,8),Kt(LH),Kt(e,12),Kt(LT),Kt(Sr,8))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mTt=0,fg=(()=>{class e{constructor(t,n,r){this.dialogRef=t,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=BH(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const n=t._matDialogClose||t._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(t){OH(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(th,8),ht(ei),ht(hg))};static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,r){1&n&&Vt("click",function(o){return r._onButtonClick(o)}),2&n&&_i("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[Wt.None,"aria-label","ariaLabel"],type:"type",dialogResult:[Wt.None,"mat-dialog-close","dialogResult"],_matDialogClose:[Wt.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[nr]})}return e})(),NH=(()=>{class e{constructor(t,n,r){this._dialogRef=t,this._elementRef=n,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=BH(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(th,8),ht(ei),ht(hg))};static#e=this.\u0275dir=ce({type:e,standalone:!0})}return e})(),eR=(()=>{class e extends NH{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+mTt++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,r){2&n&&Ac("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[di]})}return e})(),zx=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return e})(),Gx=(()=>{class e extends NH{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,r){2&n&&yi("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},standalone:!0,features:[di]})}return e})();function BH(e,i){let t=e.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?i.find(n=>n.id===t.id):null}let pTt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[hg],imports:[oTt,uf,Jp,$i,$i]})}return e})(),gTt=(()=>{class e{constructor(t,n){this.dialogRef=t,this.data=n,this.localEcl="",this.localEcl=n.ecl}onNoClick(){this.dialogRef.close()}eclChanged(t){this.data.ecl=t?.detail[0]}static#t=this.\u0275fac=function(n){return new(n||e)(ht(th),ht(TC))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-ecl-builder-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"full-height"],["apiurl","https://snowstorm.ihtsdotools.org/snowstorm/snomed-ct","branch","MAIN/2023-01-31","v-on:eclOutput","eclChange",3,"eclOutput","eclstring"],["mat-dialog-actions","",1,"actions"],["mat-flat-button","","color","accent","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(n,r){1&n&&(q(0,"h1",0),ut(1,"ECL Builder"),et(),q(2,"div",1)(3,"snomed-ecl-builder",2),Vt("eclOutput",function(o){return r.eclChanged(o)}),et()(),q(4,"div",3)(5,"button",4),ut(6,"Ok"),et()()),2&n&&(ot(3),Iu("eclstring",r.localEcl),ot(2),xt("mat-dialog-close",r.data))},dependencies:[ua,fg,eR,Gx,zx],styles:[".full-height[_ngcontent-%COMP%]{height:78%}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})}return e})();const UH=new qt("CdkAccordion");let vTt=0,xTt=(()=>{class e{get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(t,n,r){this.accordion=t,this._changeDetectorRef=n,this._expansionDispatcher=r,this._openCloseAllSubscription=Me.EMPTY,this.closed=new Ae,this.opened=new Ae,this.destroyed=new Ae,this.expandedChange=new Ae,this.id="cdk-accordion-child-"+vTt++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(UH,12),ht(Dn),ht(vI))};static#e=this.\u0275dir=ce({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[Wt.HasDecoratorInputTransform,"expanded","expanded",Ke],disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[fi([{provide:UH,useValue:void 0}]),an]})}return e})(),yTt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();const bTt=["body"],wTt=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],TTt=["mat-expansion-panel-header","*","mat-action-row"];function CTt(e,i){}const _Tt=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],ETt=["mat-panel-title","mat-panel-description","*"];function STt(e,i){1&e&&(q(0,"span",1),Yo(),q(1,"svg",2),be(2,"path",3),et()()),2&e&&xt("@indicatorRotate",St()._getExpandedState())}const zH=new qt("MAT_ACCORDION"),GH="225ms cubic-bezier(0.4,0.0,0.2,1)",HH={indicatorRotate:vr("indicatorRotate",[Ln("collapsed, void",si({transform:"rotate(0deg)"})),Ln("expanded",si({transform:"rotate(180deg)"})),fn("expanded <=> collapsed, void => collapsed",on(GH))]),bodyExpansion:vr("bodyExpansion",[Ln("collapsed, void",si({height:"0px",visibility:"hidden"})),Ln("expanded",si({height:"*",visibility:""})),fn("expanded <=> collapsed, void => collapsed",on(GH))])},WH=new qt("MAT_EXPANSION_PANEL");let ATt=(()=>{class e{constructor(t,n){this._template=t,this._expansionPanel=n}static#t=this.\u0275fac=function(n){return new(n||e)(ht(dr),ht(WH,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}return e})(),DTt=0;const XH=new qt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let jH=(()=>{class e extends xTt{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,n,r,s,o,p,C){super(t,n,r),this._viewContainerRef=s,this._animationMode=p,this._hideToggle=!1,this.afterExpand=new Ae,this.afterCollapse=new Ae,this._inputChanges=new ke,this._headerId="mat-expansion-panel-header-"+DTt++,this.accordion=t,this._document=o,this._animationsDisabled="NoopAnimations"===p,C&&(this.hideToggle=C.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ca(null),In(()=>this.expanded&&!this._portal),Jn(1)).subscribe(()=>{this._portal=new kd(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,n=this._body.nativeElement;return t===n||n.contains(t)}return!1}_animationStarted(t){!YH(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){YH(t)||("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static#t=this.\u0275fac=function(n){return new(n||e)(ht(zH,12),ht(Dn),ht(vI),ht(Ar),ht(Ni),ht(Sr,8),ht(XH,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,s){if(1&n&&hn(s,ATt,5),2&n){let o;Oe(o=Le())&&(r._lazyContent=o.first)}},viewQuery:function(n,r){if(1&n&&Ai(bTt,5),2&n){let s;Oe(s=Le())&&(r._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(n,r){2&n&&yi("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[Wt.HasDecoratorInputTransform,"hideToggle","hideToggle",Ke],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[fi([{provide:zH,useValue:void 0},{provide:WH,useExisting:e}]),an,di,nr,Bi],ngContentSelectors:TTt,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){if(1&n){const s=ge();Gn(wTt),hi(0),q(1,"div",1,0),Vt("@bodyExpansion.start",function(p){return Ut(s),zt(r._animationStarted(p))})("@bodyExpansion.done",function(p){return Ut(s),zt(r._animationDone(p))}),q(3,"div",2),hi(4,1),Ht(5,CTt,0,0,"ng-template",3),et(),hi(6,2),et()}2&n&&(ot(),xt("@bodyExpansion",r._getExpandedState())("id",r.id),_i("aria-labelledby",r._headerId),ot(4),xt("cdkPortalOutlet",r._portal))},dependencies:[Pd],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[HH.bodyExpansion]},changeDetection:0})}return e})();function YH(e){return"void"===e.fromState}let ITt=(()=>{class e{constructor(t,n,r,s,o,p,C){this.panel=t,this._element=n,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=p,this._parentChangeSubscription=Me.EMPTY,this.tabIndex=0;const D=t.accordion?t.accordion._stateChanges.pipe(In(R=>!(!R.hideToggle&&!R.togglePosition))):Po;this.tabIndex=parseInt(C||"")||0,this._parentChangeSubscription=Gr(t.opened,t.closed,D,t._inputChanges.pipe(In(R=>!!(R.hideToggle||R.disabled||R.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(In(()=>t._containsFocus())).subscribe(()=>r.focusVia(n,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Ga(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,n){t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(jH,1),ht(ei),ht(bl),ht(Dn),ht(XH,8),ht(Sr,8),$o("tabindex"))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(n,r){1&n&&Vt("click",function(){return r._toggle()})("keydown",function(o){return r._keydown(o)}),2&n&&(_i("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),vs("height",r._getHeaderHeight()),yi("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:zr(t)]},standalone:!0,features:[an,Bi],ngContentSelectors:ETt,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,r){1&n&&(Gn(_Tt),q(0,"span",0),hi(1),hi(2,1),hi(3,2),et(),Ht(4,STt,3,1,"span",1)),2&n&&(yi("mat-content-hide-toggle",!r._showToggle()),ot(4),yn(4,r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[HH.indicatorRotate]},changeDetection:0})}return e})(),MTt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"],standalone:!0})}return e})(),RTt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}return e})(),kTt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,yTt,Jp]})}return e})();function PTt(e,i){if(1&e){const t=ge();q(0,"mat-option",2),Vt("click",function(){return Ut(t),zt(St().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),ri(" ",t.display," ")}}let $H=(()=>{class e{constructor(t){this.terminologyService=t,this.selectionChange=new Ae}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>this.options=t.expansion.contains)}optionClicked(){this.selectionChange.emit(this.selectedOptions)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-dropdown-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:7,vars:5,consts:[[3,"ngModelChange","multiple","ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]],template:function(n,r){1&n&&(q(0,"mat-form-field")(1,"mat-label"),ut(2),et(),q(3,"mat-select",0),oa("ngModelChange",function(o){return Ca(r.selectedOptions,o)||(r.selectedOptions=o),o}),Ht(4,PTt,2,2,"mat-option",1),et(),q(5,"mat-hint"),ut(6),et()()),2&n&&(ot(2),ze(r.binding.title),ot(),xt("multiple","Select (Multiple)"==r.binding.type),aa("ngModel",r.selectedOptions),ot(),xt("ngForOf",r.options),ot(2),ze(r.binding.note))},dependencies:[xs,El,nl,xf,Md,Oo,dg,_l],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();const FTt=["input"],OTt=["formField"],LTt=["*"];let QH=0;class KH{constructor(i,t){this.source=i,this.value=t}}const NTt={provide:Js,useExisting:En(()=>JH),multi:!0},ZH=new qt("MatRadioGroup"),BTt=new qt("mat-radio-default-options",{providedIn:"root",factory:function VTt(){return{color:"accent"}}});let JH=(()=>{class e{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+QH++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Ae}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new KH(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Dn))};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-radio-group"]],contentQueries:function(n,r,s){if(1&n&&hn(s,iR,5),2&n){let o;Oe(o=Le())&&(r._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke],required:[Wt.HasDecoratorInputTransform,"required","required",Ke]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[fi([NTt,{provide:ZH,useExisting:e}]),an]})}return e})(),iR=(()=>{class e{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,p,C,D){this._elementRef=n,this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=o,this._providerOverride=C,this._uniqueId="mat-radio-"+ ++QH,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new Ae,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===p,D&&(this.tabIndex=zr(D,0))}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,n)=>{t!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new KH(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let n;if(n=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n)}}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ZH,8),ht(ei),ht(Dn),ht(bl),ht(vI),ht(Sr,8),ht(BTt,8),$o("tabindex"))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-radio-button"]],viewQuery:function(n,r){if(1&n&&(Ai(FTt,5),Ai(OTt,7,ei)),2&n){let s;Oe(s=Le())&&(r._inputElement=s.first),Oe(s=Le())&&(r._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(n,r){1&n&&Vt("focus",function(){return r._inputElement.nativeElement.focus()}),2&n&&(_i("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),yi("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[Wt.None,"aria-describedby","ariaDescribedby"],disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ke],tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:zr(t)],checked:[Wt.HasDecoratorInputTransform,"checked","checked",Ke],value:"value",labelPosition:"labelPosition",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke],required:[Wt.HasDecoratorInputTransform,"required","required",Ke],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[an,Bi],ngContentSelectors:LTt,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n){const s=ge();Gn(),q(0,"div",2,0)(2,"div",3)(3,"div",4),Vt("click",function(p){return Ut(s),zt(r._onTouchTargetClick(p))}),et(),q(4,"input",5,1),Vt("change",function(p){return Ut(s),zt(r._onInputInteraction(p))}),et(),q(6,"div",6),be(7,"div",7)(8,"div",8),et(),q(9,"div",9),be(10,"div",10),et()(),q(11,"label",11),hi(12),et()()}2&n&&(xt("labelPosition",r.labelPosition),ot(2),yi("mdc-radio--disabled",r.disabled),ot(2),xt("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),_i("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),ot(5),xt("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),ot(2),xt("for",r.inputId))},dependencies:[Id,WI],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return e})(),UTt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,Ic,Qp,iR,$i]})}return e})();function zTt(e,i){if(1&e){const t=ge();q(0,"mat-radio-button",3),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().optionSelected(r))}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t.code),ot(),ri(" ",t.display," ")}}let qH=(()=>{class e{constructor(t){this.terminologyService=t,this.selectionChange=new Ae}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>this.options=t.expansion.contains)}optionSelected(t){this.selectionChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-radios-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:6,vars:3,consts:[["aria-label","Select an option",1,"radio-group"],["class","radio-button",3,"value","click",4,"ngFor","ngForOf"],["id","hint"],[1,"radio-button",3,"click","value"]],template:function(n,r){1&n&&(q(0,"div"),ut(1),et(),q(2,"mat-radio-group",0),Ht(3,zTt,2,2,"mat-radio-button",1),et(),q(4,"div",2),ut(5),et()),2&n&&(ot(),ze(r.binding.title),ot(2),xt("ngForOf",r.options),ot(2),ze(r.binding.note))},dependencies:[xs,JH,iR],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.radio-button[_ngcontent-%COMP%]{margin:0}"]})}return e})(),t7=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new Ae,this.text=""}ngOnInit(){}onTextChange(t){this.text=t,this.textChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-textbox-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","placeholder","Enter text...",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(q(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),q(3,"textarea",1),oa("ngModelChange",function(o){return Ca(r.text,o)||(r.text=o),o}),Vt("ngModelChange",function(o){return r.onTextChange(o)}),et(),q(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),ze(r.binding.title),ot(),aa("ngModel",r.text),ot(2),ze(r.binding.note))},dependencies:[El,nl,xf,Ju,Cl,Oo,_l],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();const GTt=["input"],HTt=["label"],WTt=["*"],XTt=new qt("mat-checkbox-default-options",{providedIn:"root",factory:e7});function e7(){return{color:"accent",clickAction:"check-indeterminate"}}var Ha=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}(Ha||{});const jTt={provide:Js,useExisting:En(()=>CC),multi:!0};class YTt{}let $Tt=0;const i7=e7();let CC=(()=>{class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const n=new YTt;return n.source=this,n.checked=t,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,p){this._elementRef=t,this._changeDetectorRef=n,this._ngZone=r,this._animationMode=o,this._options=p,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Ae,this.indeterminateChange=new Ae,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Ha.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||i7,this.color=this._options.color||i7.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++$Tt}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const n=t!=this._indeterminate;this._indeterminate=t,n&&(this._transitionCheckState(this._indeterminate?Ha.Indeterminate:this.checked?Ha.Checked:Ha.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(n!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Ha.Checked:Ha.Unchecked),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,n){if("NoopAnimations"===this._animationMode)return"";switch(t){case Ha.Init:if(n===Ha.Checked)return this._animationClasses.uncheckedToChecked;if(n==Ha.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Ha.Unchecked:return n===Ha.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Ha.Checked:return n===Ha.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Ha.Indeterminate:return n===Ha.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const n=this._inputElement;n&&(n.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Dn),ht(Ze),$o("tabindex"),ht(Sr,8),ht(XTt,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-checkbox"]],viewQuery:function(n,r){if(1&n&&(Ai(GTt,5),Ai(HTt,5),Ai(Id,5)),2&n){let s;Oe(s=Le())&&(r._inputElement=s.first),Oe(s=Le())&&(r._labelElement=s.first),Oe(s=Le())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(n,r){2&n&&(Ac("id",r.id),_i("tabindex",null)("aria-label",null)("aria-labelledby",null),gl(r.color?"mat-"+r.color:"mat-accent"),yi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[Wt.None,"aria-describedby","ariaDescribedby"],id:"id",required:[Wt.HasDecoratorInputTransform,"required","required",Ke],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Ke],tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:zr(t)],color:"color",checked:[Wt.HasDecoratorInputTransform,"checked","checked",Ke],disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke],indeterminate:[Wt.HasDecoratorInputTransform,"indeterminate","indeterminate",Ke]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[fi([jTt,{provide:Ls,useExisting:e,multi:!0}]),an,nr,Bi],ngContentSelectors:WTt,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n){const s=ge();Gn(),q(0,"div",3),Vt("click",function(p){return Ut(s),zt(r._preventBubblingFromLabel(p))}),q(1,"div",4,0)(3,"div",5),Vt("click",function(){return Ut(s),zt(r._onTouchTargetClick())}),et(),q(4,"input",6,1),Vt("blur",function(){return Ut(s),zt(r._onBlur())})("click",function(){return Ut(s),zt(r._onInputClick())})("change",function(p){return Ut(s),zt(r._onInteractionEvent(p))}),et(),be(6,"div",7),q(7,"div",8),Yo(),q(8,"svg",9),be(9,"path",10),et(),Wv(),be(10,"div",11),et(),be(11,"div",12),et(),q(12,"label",13,2),hi(14),et()()}if(2&n){const s=Zi(2);xt("labelPosition",r.labelPosition),ot(4),yi("mdc-checkbox--selected",r.checked),xt("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),_i("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),ot(7),xt("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(),xt("for",r.inputId)}},dependencies:[Id,WI],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})(),ZTt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[CC,$i,$i]})}return e})();function JTt(e,i){if(1&e){const t=ge();q(0,"mat-checkbox",3),Vt("click",function(){return Ut(t),zt(St().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;Iu("formControlName",t.display),ot(),ri(" ",t.display," ")}}let n7=(()=>{class e{constructor(t,n){this.terminologyService=t,this._formBuilder=n,this.selectionChange=new Ae,this.checkboxes=this._formBuilder.group([]),this.present={display:"Known present (qualifier value)",system:"http://snomed.info/sct",code:"410515003"},this.absent={display:"Known absent (qualifier value)",system:"http://snomed.info/sct",code:"410516002"}}ngOnInit(){this.options=[{display:this.binding.title}],this.options?.forEach(t=>{this.checkboxes.addControl(t.display,this._formBuilder.control(!1))})}optionClicked(){let t=[];t.push({title:this.binding.title,code:this.binding.ecl,value:this.checkboxes.value[this.binding.title]?this.present:this.absent}),this.selectionChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs),ht(OM))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-checkbox-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:4,vars:3,consts:[[1,"check-group",3,"formGroup"],["class","check","labelPosition","before",3,"formControlName","click",4,"ngFor","ngForOf"],[1,"hint"],["labelPosition","before",1,"check",3,"click","formControlName"]],template:function(n,r){1&n&&(q(0,"form",0),Ht(1,JTt,2,2,"mat-checkbox",1),q(2,"span",2),ut(3),et()()),2&n&&(xt("formGroup",r.checkboxes),ot(),xt("ngForOf",r.options),ot(2),ze(r.binding.note))},dependencies:[xs,ag,Oo,ng,Wd,og,CC],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.check-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.check[_ngcontent-%COMP%]{margin:0}.hint[_ngcontent-%COMP%]{font-size:.8rem;color:#999;padding:0;margin:0 0 0 5px}"]})}return e})(),r7=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new Ae,this.value=0}ngOnInit(){}onValueChange(t){this.value=t,this.textChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-integer-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","type","number","placeholder","Enter integer value...","pattern","^-?[0-9]\\d*$","title","Only integer values are allowed",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(q(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),q(3,"input",1),oa("ngModelChange",function(o){return Ca(r.value,o)||(r.value=o),o}),Vt("ngModelChange",function(o){return r.onValueChange(o)}),et(),q(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),ze(r.binding.title),ot(),aa("ngModel",r.value),ot(2),ze(r.binding.note))},dependencies:[El,nl,xf,Ju,Cl,aC,Oo,dC,_l],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})(),s7=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new Ae,this.value=0}ngOnInit(){}onValueChange(t){this.value=t,this.textChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-decimal-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","type","number","placeholder","Enter decimal value...","pattern","^-?[0-9]*\\.?[0-9]+$","title","Only decimal values are allowed","step","any",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(q(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),q(3,"input",1),oa("ngModelChange",function(o){return Ca(r.value,o)||(r.value=o),o}),Vt("ngModelChange",function(o){return r.onValueChange(o)}),et(),q(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),ze(r.binding.title),ot(),aa("ngModel",r.value),ot(2),ze(r.binding.note))},dependencies:[El,nl,xf,Ju,Cl,aC,Oo,dC,_l],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();function qTt(e,i){if(1&e){const t=ge();q(0,"mat-checkbox",3),Vt("click",function(){return Ut(t),zt(St().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;Iu("formControlName",t.display),ot(),ri(" ",t.display," ")}}let a7=(()=>{class e{constructor(t,n){this.terminologyService=t,this._formBuilder=n,this.selectionChange=new Ae,this.checkboxes=this._formBuilder.group([]),this.present={display:"Known present (qualifier value)",system:"http://snomed.info/sct",code:"410515003"},this.absent={display:"Known absent (qualifier value)",system:"http://snomed.info/sct",code:"410516002"}}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>{this.options=t.expansion.contains,this.options?.forEach(n=>{this.checkboxes.addControl(n.display,this._formBuilder.control(!1))})})}optionClicked(){let t=[];this.options?.forEach(n=>{t.push({code:n,value:this.checkboxes.value[n.display]?this.present:this.absent})}),this.selectionChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs),ht(OM))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-checkbox-multiple-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:6,vars:4,consts:[[1,"check-group",3,"formGroup"],["class","check","labelPosition","after",3,"formControlName","click",4,"ngFor","ngForOf"],[1,"hint"],["labelPosition","after",1,"check",3,"click","formControlName"]],template:function(n,r){1&n&&(q(0,"div"),ut(1),et(),q(2,"form",0),Ht(3,qTt,2,2,"mat-checkbox",1),q(4,"span",2),ut(5),et()()),2&n&&(ot(),ze(r.binding.title),ot(),xt("formGroup",r.checkboxes),ot(),xt("ngForOf",r.options),ot(2),ze(r.binding.note))},dependencies:[xs,ag,Oo,ng,Wd,og,CC],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.check-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.check[_ngcontent-%COMP%]{margin:0}.hint[_ngcontent-%COMP%]{font-size:.8rem;color:#999;padding:0;margin:0 0 0 5px}"]})}return e})();const tCt=["newPanel"],eCt=()=>({standalone:!0}),nR=()=>({});function iCt(e,i){1&e&&(q(0,"mat-panel-description"),ut(1," Click to add new binding "),et())}function nCt(e,i){if(1&e){const t=ge();q(0,"button",46),Vt("click",function(){let r;return Ut(t),zt(null==(r=St().newBindingForm.get("title"))?null:r.reset())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function rCt(e,i){1&e&&(q(0,"span"),ut(1,"Restrict to Observables"),et())}function sCt(e,i){1&e&&(q(0,"span"),ut(1,"Open to Observables + Findings + Procedures + Situations"),et())}function aCt(e,i){if(1&e&&(q(0,"mat-option",47),ut(1),et()),2&e){const t=i.$implicit;xt("value",t),ot(),ri(" ",t," ")}}function oCt(e,i){if(1&e){const t=ge();q(0,"button",46),Vt("click",function(){let r;return Ut(t),zt(null==(r=St(2).newBindingForm.get("ecl"))?null:r.reset())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function lCt(e,i){if(1&e){const t=ge();q(0,"mat-form-field",14)(1,"mat-label"),ut(2,"Answer options: ECL Expression"),et(),be(3,"input",48),q(4,"a",49),Vt("click",function(){let r;Ut(t);const s=St();return zt(s.openEclBuilder(null==(r=s.newBindingForm.get("ecl"))?null:r.value,"ecl"))}),ut(5,"ECL Builder"),et(),Ht(6,oCt,3,0,"button",16),q(7,"mat-error"),ut(8),et()()}if(2&e){let t;const n=St();ot(6),xt("ngIf",null==(t=n.newBindingForm.get("ecl"))?null:t.value),ot(2),ze(n.getErrorMessage("ecl"))}}function cCt(e,i){1&e&&(q(0,"span"),ut(1,"Restrict to Observables"),et())}function dCt(e,i){1&e&&(q(0,"span"),ut(1,"Open to Observables + Findings + Procedures"),et())}function uCt(e,i){if(1&e){const t=ge();q(0,"mat-form-field",14),be(1,"app-autocomplete-binding",50),q(2,"a",19),Vt("click",function(){return Ut(t),zt(St().toggleCheckboxBinding())}),Ht(3,cCt,2,0,"span",10)(4,dCt,2,0,"span",10),et(),q(5,"mat-error"),ut(6),et()()}if(2&e){const t=St();ot(),xt("binding",t.checkboxBinding),ot(2),xt("ngIf",t.checkboxBinding.ecl===t.codeBindingAll.ecl),ot(),xt("ngIf",t.checkboxBinding.ecl!=t.codeBindingAll.ecl),ot(2),ze(t.getErrorMessage("ecl"))}}function hCt(e,i){if(1&e){const t=ge();q(0,"button",46),Vt("click",function(){let r;return Ut(t),zt(null==(r=St(2).newBindingForm.get("note"))?null:r.reset())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function fCt(e,i){if(1&e&&(q(0,"mat-form-field",51)(1,"mat-label"),ut(2,"Note"),et(),be(3,"input",52),Ht(4,hCt,3,0,"button",16),q(5,"mat-error"),ut(6),et()()),2&e){let t;const n=St();ot(4),xt("ngIf",null==(t=n.newBindingForm.get("note"))?null:t.value),ot(2),ze(n.getErrorMessage("note"))}}function mCt(e,i){if(1&e){const t=ge();q(0,"button",27),Vt("click",function(){return Ut(t),zt(St().addBinding())}),ut(1,"Add binding"),et()}}function pCt(e,i){if(1&e){const t=ge();q(0,"button",27),Vt("click",function(){Ut(t);const r=St();return r.addBinding(),zt(r.clearOutput())}),ut(1,"Update binding"),et()}}function gCt(e,i){if(1&e){const t=ge();q(0,"button",35),Vt("click",function(){Ut(t);const r=St();return zt(r.showRightContainer=!r.showRightContainer)}),ut(1),et()}if(2&e){const t=St();ot(),ri(" ",t.showRightContainer?"Close data panel":"Open data panel"," ")}}function vCt(e,i){1&e&&(q(0,"button",53),ut(1," Download form "),et()),2&e&&(St(),xt("matMenuTriggerFor",Zi(69)))}function xCt(e,i){if(1&e){const t=ge();q(0,"div",54)(1,"p",55),ut(2),et(),q(3,"button",56),Vt("click",function(){return Ut(t),zt(St().titleEditMode=!0)}),q(4,"mat-icon"),ut(5,"edit"),et()()()}if(2&e){const t=St();ot(2),ze(t.formTitle)}}function yCt(e,i){if(1&e){const t=ge();q(0,"div",54)(1,"form",57)(2,"mat-form-field")(3,"mat-label"),ut(4,"Title"),et(),q(5,"input",58),oa("ngModelChange",function(r){Ut(t);const s=St();return Ca(s.formTitle,r)||(s.formTitle=r),zt(r)}),Vt("ngModelChange",function(){return Ut(t),zt(St().refreshFhirQuestionnaire())}),et(),q(6,"button",46),Vt("click",function(){return Ut(t),zt(St().formTitle="")}),q(7,"mat-icon"),ut(8,"close"),et()()()(),q(9,"button",56),Vt("click",function(){return Ut(t),zt(St().titleEditMode=!1)}),q(10,"mat-icon"),ut(11,"save"),et()()()}if(2&e){const t=St();ot(5),aa("ngModel",t.formTitle),xt("ngModelOptions",ko(2,eCt))}}function bCt(e,i){if(1&e){const t=ge();q(0,"app-autocomplete-binding",67),Vt("selectionChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function wCt(e,i){if(1&e){const t=ge();q(0,"app-dropdown-binding",67),Vt("selectionChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function TCt(e,i){if(1&e){const t=ge();q(0,"app-radios-binding",67),Vt("selectionChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function CCt(e,i){if(1&e&&(q(0,"span",68),ut(1),et()),2&e){const t=St().$implicit;ot(),ze(t.title)}}function _Ct(e,i){if(1&e){const t=ge();q(0,"app-textbox-binding",69),Vt("textChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function ECt(e,i){if(1&e){const t=ge();q(0,"app-integer-binding",69),Vt("textChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function SCt(e,i){if(1&e){const t=ge();q(0,"app-decimal-binding",69),Vt("textChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function ACt(e,i){if(1&e){const t=ge();q(0,"app-checkbox-binding",67),Vt("selectionChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function DCt(e,i){if(1&e){const t=ge();q(0,"app-checkbox-multiple-binding",67),Vt("selectionChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function ICt(e,i){if(1&e&&(q(0,"button",70)(1,"mat-icon"),ut(2,"info"),et()()),2&e){const t=St().$implicit;xt("matMenuTriggerFor",Zi(15))("disabled",!t.code&&!t.ecl)}}function MCt(e,i){if(1&e){const t=ge();q(0,"span",6),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(1,"h4"),ut(2,"Question terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=St().$implicit;xt("disableRipple",!0),ot(4),vd("",null==t.code?null:t.code.code," |",null==t.code?null:t.code.display,"|")}}function RCt(e,i){if(1&e){const t=ge();q(0,"span",6),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(1,"h4"),ut(2,"Answer terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=St().$implicit;xt("disableRipple",!0),ot(4),ze(t.ecl)}}function kCt(e,i){if(1&e){const t=ge();q(0,"div",59)(1,"div",60)(2,"mat-icon",61),ut(3,"drag_indicator"),et(),Ht(4,bCt,1,1,"app-autocomplete-binding",62)(5,wCt,1,1,"app-dropdown-binding",62)(6,TCt,1,1,"app-radios-binding",62)(7,CCt,2,1,"span",63)(8,_Ct,1,1,"app-textbox-binding",64)(9,ECt,1,1,"app-integer-binding",64)(10,SCt,1,1,"app-decimal-binding",64)(11,ACt,1,1,"app-checkbox-binding",62)(12,DCt,1,1,"app-checkbox-multiple-binding",62)(13,ICt,3,2,"button",65),q(14,"mat-menu",null,0),Ht(16,MCt,5,3,"span",66)(17,RCt,5,2,"span",66),et(),q(18,"button",56),Vt("click",function(){const r=Ut(t).index;return zt(St().bindings.splice(r,1))}),q(19,"mat-icon"),ut(20,"delete"),et()(),q(21,"button",56),Vt("click",function(){const r=Ut(t).index;return zt(St().edit(r))}),q(22,"mat-icon"),ut(23,"edit"),et()()()()}if(2&e){const t=i.$implicit;ot(4),xt("ngIf","Autocomplete"==t.type),ot(),xt("ngIf","Select (Single)"==t.type||"Select (Multiple)"==t.type),ot(),xt("ngIf","Options"==t.type),ot(),xt("ngIf","Section header"==t.type),ot(),xt("ngIf","Text box"==t.type),ot(),xt("ngIf","Integer"==t.type),ot(),xt("ngIf","Decimal"==t.type),ot(),xt("ngIf","Checkbox"==t.type),ot(),xt("ngIf","Checkbox multiple"==t.type),ot(),xt("ngIf","Section header"!=t.type),ot(3),xt("ngIf",t.code),ot(),xt("ngIf",t.ecl)}}function PCt(e,i){if(1&e){const t=ge();q(0,"div",74)(1,"button",75),Vt("click",function(){Ut(t);const r=St(2);return zt(r.saveOutput(r.outputStr))}),be(2,"mat-icon",76),et(),q(3,"button",77),Vt("click",function(){Ut(t);const r=St(2);return zt(r.copyOutputToClipboard(r.outputStr))}),be(4,"mat-icon",78),et()()}}function FCt(e,i){if(1&e&&(q(0,"div",71),Ht(1,PCt,5,0,"div",72),q(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=St();ot(),xt("ngIf",t.showRightContainer),ot(),xt("options",ko(4,nR))("lang","json")("innerHTML",t.responseStr,Hh)}}function OCt(e,i){if(1&e){const t=ge();q(0,"div",74)(1,"button",75),Vt("click",function(){Ut(t);const r=St(2);return zt(r.saveBundleOutput(r.responseBundleStr))}),be(2,"mat-icon",76),et(),q(3,"button",77),Vt("click",function(){Ut(t);const r=St(2);return zt(r.copyOutputToClipboard(r.responseBundleStr))}),be(4,"mat-icon",78),et()()}}function LCt(e,i){if(1&e&&(q(0,"div",71),Ht(1,OCt,5,0,"div",72),q(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=St();ot(),xt("ngIf",t.showRightContainer),ot(),xt("options",ko(4,nR))("lang","json")("innerHTML",t.responseBundleStr,Hh)}}function NCt(e,i){if(1&e){const t=ge();q(0,"div",74)(1,"button",75),Vt("click",function(){Ut(t);const r=St(2);return zt(r.saveOutput(r.fhirQuestionnaireStr))}),be(2,"mat-icon",76),et(),q(3,"button",77),Vt("click",function(){Ut(t);const r=St(2);return zt(r.copyOutputToClipboard(r.fhirQuestionnaireStr))}),be(4,"mat-icon",78),et()()}}function BCt(e,i){if(1&e&&(q(0,"div",71),Ht(1,NCt,5,0,"div",72),q(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=St();ot(),xt("ngIf",t.showRightContainer),ot(),xt("options",ko(4,nR))("lang","json")("innerHTML",t.fhirQuestionnaireStr,Hh)}}let VCt=(()=>{class e{constructor(t,n,r){this.terminologyService=t,this.clipboard=n,this.dialog=r,this.formTitle="My new form",this.titleEditMode=!1,this.bindings=[],this.output={},this.outputStr="{}",this.response={},this.responseStr="{}",this.responseBundle={},this.responseBundleStr="{}",this.fhirQuestionnaire={},this.fhirQuestionnaireStr="{}",this.observableBinding={title:"Question code",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)|",value:""},this.codeBindingObservables={title:"Question code (Observables)",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)|",value:""},this.codeBindingAll={title:"Question code",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)| OR << 404684003 |Clinical finding (finding)| OR << 71388002 |Procedure (procedure)| OR << 243796009 |Situation with explicit context (situation)|",value:""},this.codeBinding=this.codeBindingAll,this.checkboxBinding=JSON.parse(JSON.stringify(this.codeBindingAll)),this.example1={title:"Appendicitis data entry form (example)",bindings:[{title:"Diagnosis (type of appendicitis)",type:"Autocomplete",ecl:"<< 74400008 |Appendicitis|",value:"",note:"An autocomplete field to select between all descendants of appendicitis."},{title:"Clinical note",type:"Text box",ecl:"74400008 |Appendicitis|",value:"",note:"A text box for entering free text clinical information."},{title:"Appendicitis type",type:"Select (Single)",ecl:"<< 196781001 |Acute appendicitis with peritonitis (disorder)|",value:"",note:"A single selection dropdown field for a shorter selection of the type of appendicitis."},{title:"Appendicitis type (M)",type:"Select (Multiple)",ecl:"<< 196781001 |Acute appendicitis with peritonitis (disorder)|",value:"",note:"A multiple selection dropdown field for a shorter selection of the type of appendicitis."},{title:"Appendicectomy type",type:"Options",ecl:"<< 174036004 |Emergency appendectomy (procedure)|",value:"",note:"A radio buttons selector for the type of appendicectomy procedure."}]},this.newBindingForm=new sg({title:new Lo("",[ig.required,ig.maxLength(50)]),code:new Lo("",[]),type:new Lo("",[ig.required]),ecl:new Lo("",[]),value:new Lo("",[]),note:new Lo("",[ig.maxLength(500)])}),this.indexInEdit=-1,this.panelOpenState=!1,this.maxSelectCount=50,this.maxOptionsCount=10,this.controlTypes=["Autocomplete","Select (Single)","Select (Multiple)","Options","Section header","Text box","Integer","Decimal","Checkbox","Checkbox multiple"].sort((s,o)=>s.localeCompare(o)),this.showRightContainer=!1}ngOnInit(){this.checkboxBinding.title=this.checkboxBinding.title.replace("Question","Checkbox")}get stateName(){return this.showRightContainer?"open":"closed"}addBinding(){var t=this;return de(function*(){if(t.newBindingForm.markAllAsTouched(),t.newBindingForm.invalid)return;const{title:n,code:r,type:s,ecl:o,value:p,note:C}=t.newBindingForm.controls;let D={title:n.value,code:r.value,type:s.value,ecl:o.value,value:p.value,note:C.value},R=!1;o.value?typeof D.type?.indexOf("Select")<"u"&&D.type?.indexOf("Select")>-1?(yield t.getEclPreview(o.value)).expansion.contains.length>t.maxSelectCount&&(R=!0,o.setErrors({selectTooManyResults:!0})):(typeof D.type?.indexOf("Options")<"u"&&D.type?.indexOf("Options")>-1||typeof D.type?.indexOf("Checkbox multiple")<"u"&&D.type?.indexOf("Checkbox multiple")>-1)&&(yield t.getEclPreview(o.value)).expansion.contains.length>t.maxOptionsCount&&(R=!0,o.setErrors({optionsTooManyResults:!0})):"Section header"!=D.type&&"Text box"!=D.type&&"Integer"!=D.type&&"Decimal"!=D.type&&(R=!0,o.setErrors({required:!0})),!R&&(t.indexInEdit>-1?t.bindings[t.indexInEdit]=D:t.bindings.push(D),t.newBindingForm.reset(),t.newPanel.close(),t.indexInEdit=-1,setTimeout(()=>{t.refreshFhirQuestionnaire(),t.refreshResponse()},100))})()}refreshFhirQuestionnaire(){this.fhirQuestionnaire={resourceType:"Questionnaire",title:this.formTitle,status:"draft",item:[]},this.bindings.forEach((t,n)=>{const r=this.createItemForBinding(t,n);r&&this.fhirQuestionnaire.item.push(r)}),this.fhirQuestionnaireStr=JSON.stringify(this.fhirQuestionnaire,null,2)}createItemForBinding(t,n){const r=this.initializeBaseItem(t,n);return["Select (Single)","Select (Multiple)","Options","Autocomplete"].includes(t.type)&&(r.extension=this.getExtensionForSelectableTypes(),r.answerValueSet=this.getAnswerValueSet(t)),"Autocomplete"===t.type&&r.extension.push(this.getAutocompleteExtension()),"Select (Multiple)"===t.type&&(r.repeats=!0),r}initializeBaseItem(t,n){const r={linkId:n+1,text:t.title,type:this.getQuestionnaireItemType(t.type)};return t.code&&(r.code=[{system:"http://snomed.info/sct",code:t.code.code,display:t.code.display}]),r}getQuestionnaireItemType(t){switch(t){case"Section header":return"display";case"Select (Single)":case"Select (Multiple)":case"Options":case"Checkbox multiple":case"Autocomplete":return"choice";case"Text box":return"text";case"Integer":return"integer";case"Decimal":return"decimal";default:return console.warn(`Unhandled binding type: ${t}`),null}}getExtensionForSelectableTypes(){return[{url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-preferredTerminologyServer",valueUrl:"https://snowstorm.ihtsdotools.org/fhir"}]}getAutocompleteExtension(){return{url:"http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/questionnaire-item-control",code:"autocomplete",display:"Auto-complete"}]}}}getAnswerValueSet(t){return`http://snomed.info/sct/900000000000207008?fhir_vs=ecl%2F${encodeURIComponent(t.ecl)}`}getEclPreview(t){var n=this;return de(function*(){return da((yield n.terminologyService.expandValueSet(t,"")).pipe(Di(s=>s)))})()}edit(t){this.indexInEdit=t;const n=this.bindings[t];this.newBindingForm.setValue({title:n.title,code:n.code?n.code:"",type:n.type,ecl:n.ecl,value:n.value,note:n.note}),this.newPanel.open()}onDrop(t){jM(this.bindings,t.previousIndex,t.currentIndex)}getErrors(t){const n=this.newBindingForm.get(t);return n?n.errors:null}getErrorMessage(t){const n=this.getErrors(t);if(n){if(n.required)return"This field is required";if(n.maxlength)return`This field must be less than ${n.maxlength.requiredLength} characters`;if(n.selectTooManyResults)return`Too many results (Max = ${this.maxSelectCount})`;if(n.optionsTooManyResults)return`Too many results (Max = ${this.maxOptionsCount})`}return null}refreshResponse(){this.response={};for(let t of this.bindings)this.response[t.title]={},t.code&&(this.response[t.title].code=t.code);for(let[t,n]of Object.entries(this.output))this.output[t].code&&(this.response[t].code=this.output[t].code),this.output[t].value&&(this.response[t].value=this.output[t].value);this.responseStr=JSON.stringify(this.response,null,2),this.refreshResponseBundle()}refreshResponseBundle(){this.responseBundle={resourceType:"Bundle",type:"collection",entry:[]};for(let[t,n]of Object.entries(this.response)){let r=n;const s=r.code?{coding:[{system:"http://snomed.info/sct",code:r.code.code,display:r.code.display}]}:void 0,o=r.value?.code?{coding:[{system:"http://snomed.info/sct",code:r.value.code,display:r.value.display}]}:void 0;let p={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],subject:{reference:"Patient/123"}};p.code=s||{coding:[{system:"http://snomed.info/sct",code:"363788007",display:"Clinical history/examination observable (observable entity)"}]},o&&(p.valueCodeableConcept=o),r.value&&"string"==typeof r.value&&(p.valueString=r.value),(p.valueCodeableConcept||p.valueString)&&this.responseBundle.entry.push(p)}this.responseBundleStr=JSON.stringify(this.responseBundle,null,2)}optionSelected(t,n,r){this.output[t]={code:n,value:r},n||delete this.output[t].code,this.outputStr=JSON.stringify(this.output,null,2),this.refreshResponse()}loadExample1(){this.formTitle=this.example1.title,this.bindings=this.example1.bindings,this.refreshFhirQuestionnaire(),this.clearOutput(),this.refreshResponse()}cancelEdit(){this.newBindingForm.reset(),this.newPanel.close(),this.indexInEdit=-1}clear(){this.bindings=[],this.clearOutput(),this.newBindingForm.reset(),this.formTitle="My new form",this.showRightContainer=!1}clearOutput(){this.output={},this.outputStr="{}";const t=JSON.parse(JSON.stringify(this.bindings));this.bindings=[],this.bindings=t}saveForm(){var t=new Blob([JSON.stringify({title:this.formTitle,bindings:this.bindings},null,2)],{type:"text/plain;charset=utf-8"});(0,Vc.saveAs)(t,`${this.formTitle}.json`)}saveOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,Vc.saveAs)(n,`${this.formTitle}-data.json`)}saveBundleOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,Vc.saveAs)(n,`${this.formTitle}-fhir-bundle.json`)}copyOutputToClipboard(t){this.clipboard.copy(t)}uploadFile(t){if(1!==t.target.files.length)console.error("No file selected");else{const n=new FileReader;n.onloadend=r=>{if(n.result){const s=JSON.parse(n.result?.toString());Array.isArray(s)?(this.bindings=s,this.formTitle="My new form"):(this.bindings=[],this.bindings=s.bindings,this.formTitle=s.title),this.clearOutput(),this.refreshResponse(),this.refreshFhirQuestionnaire()}},n.readAsText(t.target.files[0])}}openEclBuilder(t,n){this.dialog.open(gTt,{data:{ecl:t},width:"80%",height:"80%"}).afterClosed().subscribe(s=>{if(s){const o=this.newBindingForm.get(n);o&&o.setValue(s.ecl)}})}toggleCodeBinding(){this.codeBinding=this.codeBinding===this.codeBindingAll?this.codeBindingObservables:this.codeBindingAll}toggleCheckboxBinding(){this.checkboxBinding=this.checkboxBinding.ecl===this.codeBindingAll.ecl?JSON.parse(JSON.stringify(this.codeBindingObservables)):JSON.parse(JSON.stringify(this.codeBindingAll)),this.checkboxBinding.title=this.checkboxBinding.title.replace("Question","Checkbox")}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs),ht(VM),ht(hg))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-bindings-sandbox"]],viewQuery:function(n,r){if(1&n&&Ai(tCt,5),2&n){let s;Oe(s=Le())&&(r.newPanel=s.first)}},decls:94,vars:27,consts:[["substancePopoverMenu","matMenu"],["newPanel",""],["fileInput",""],["demosMenu","matMenu"],["id","main-panel"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disableRipple"],[1,"flex","flex-row","mb-8"],[1,"w-2/3"],[1,"editPanel","w-full","pt-4","pb-4",3,"opened","closed"],[4,"ngIf"],[1,"row",3,"formGroup"],[1,"form-row"],[1,"form-column"],[1,"input-field"],["matInput","","type","text","formControlName","title","placeholder","Enter title..."],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"input-field","autocomplete-field"],["formControlName","code",1,"grow",3,"binding"],["href","javascript:void(0)",1,"bottom-right-link",3,"click"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["class","input-field",4,"ngIf"],["class","input-field full-width",4,"ngIf"],[1,"row"],[1,"grow"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"w-1/3"],[1,"flex","flex-row","gap-4","justify-end","flex-wrap"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["hidden","","type","file","id","file",3,"change"],["mat-flat-button","","color","accent",3,"matMenuTriggerFor",4,"ngIf"],[1,"wide-menu"],["mat-menu-item","",3,"click"],["mat-flat-button","","color","accent",3,"click"],["class","compact-row-container",4,"ngIf"],[1,"row-container"],[1,"row-container-item"],["cdkDropList","",3,"cdkDropListDropped"],["class","output-panel","cdkDrag","",4,"ngFor","ngForOf"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Data collected from form"],["class","output",4,"ngIf"],["label","Data collected (FHIR Bundle)"],["label","FHIR Questionnaire"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],["matInput","","type","text","formControlName","ecl","placeholder","Enter ECL..."],["href","javascript:void(0)",1,"top-right-link",3,"click"],["formControlName","ecl",1,"grow",3,"binding"],[1,"input-field","full-width"],["matInput","","type","text","formControlName","note","placeholder","Enter a description..."],["mat-flat-button","","color","accent",3,"matMenuTriggerFor"],[1,"compact-row-container"],[1,"title"],["mat-icon-button","","color","primary",1,"tool",3,"click"],[1,"row","form-title"],["matInput","","type","text","placeholder","Enter title...",3,"ngModelChange","ngModel","ngModelOptions"],["cdkDrag","",1,"output-panel"],[1,"row","control"],["cdkDragHandle","",1,"tool","drag-handle"],["class","grow",3,"binding","selectionChange",4,"ngIf"],["class","title grow",4,"ngIf"],["class","grow",3,"binding","textChange",4,"ngIf"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled",4,"ngIf"],["mat-menu-item","",3,"disableRipple","click",4,"ngIf"],[1,"grow",3,"selectionChange","binding"],[1,"title","grow"],[1,"grow",3,"textChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled"],[1,"output"],["id","save",4,"ngIf"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["id","save"],["mat-icon-button","","matTooltip","Download",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy",3,"click"],["fontIcon","content_copy"]],template:function(n,r){if(1&n){const s=ge();q(0,"div",4)(1,"h3"),ut(2,"Terminology Bindings Sandbox "),q(3,"button",5)(4,"mat-icon"),ut(5,"info"),et()(),q(6,"mat-menu",null,0)(8,"span",6),Vt("click",function(p){return Ut(s),zt(p.stopPropagation())}),q(9,"h4"),ut(10,"Terminology Bindings Sandbox"),et(),q(11,"p"),ut(12,"This is a sandbox for creating terminology bindings, designed to support education activities."),et()()()(),q(13,"div",7)(14,"div",8)(15,"mat-expansion-panel",9,1),Vt("opened",function(){return Ut(s),zt(r.panelOpenState=!0)})("closed",function(){return Ut(s),zt(r.panelOpenState=!1)}),q(17,"mat-expansion-panel-header")(18,"mat-panel-title")(19,"h4"),ut(20,"New binding:"),et()(),Ht(21,iCt,2,0,"mat-panel-description",10),et(),q(22,"div")(23,"form",11)(24,"div",12)(25,"div",13)(26,"h5"),ut(27,"Question"),et(),q(28,"mat-form-field",14)(29,"mat-label"),ut(30,"Question text"),et(),be(31,"input",15),Ht(32,nCt,3,0,"button",16),q(33,"mat-error"),ut(34),et()(),q(35,"mat-form-field",17),be(36,"app-autocomplete-binding",18),q(37,"a",19),Vt("click",function(){return Ut(s),zt(r.toggleCodeBinding())}),Ht(38,rCt,2,0,"span",10)(39,sCt,2,0,"span",10),et(),q(40,"mat-error"),ut(41),et()()(),q(42,"div",13)(43,"h5"),ut(44,"Answer"),et(),q(45,"mat-form-field",14)(46,"mat-label"),ut(47,"Answer Type"),et(),q(48,"mat-select",20),Ht(49,aCt,2,2,"mat-option",21),et(),q(50,"mat-error"),ut(51),et()(),Ht(52,lCt,9,2,"mat-form-field",22)(53,uCt,7,4,"mat-form-field",22),et()(),Ht(54,fCt,7,2,"mat-form-field",23),et(),be(55,"br"),q(56,"div",24),be(57,"span",25),Ht(58,mCt,2,0,"button",26)(59,pCt,2,0,"button",26),q(60,"button",27),Vt("click",function(){return Ut(s),zt(r.cancelEdit())}),ut(61,"Cancel"),et()()()()(),q(62,"div",28)(63,"div",29),Ht(64,gCt,2,1,"button",30),q(65,"input",31,2),Vt("change",function(p){return Ut(s),zt(r.uploadFile(p))}),et(),Ht(67,vCt,2,1,"button",32),q(68,"mat-menu",33,3)(70,"button",34),Vt("click",function(){return Ut(s),zt(r.saveForm())}),ut(71,"Download"),et(),q(72,"button",34),Vt("click",function(){return Ut(s),zt(r.saveOutput(r.fhirQuestionnaireStr))}),ut(73,"Download as FHIR Questionnaire"),et()(),q(74,"button",35),Vt("click",function(){return Ut(s),zt(Zi(66).click())}),ut(75,"Upload form"),et(),q(76,"button",35),Vt("click",function(){return Ut(s),zt(r.loadExample1())}),ut(77,"Example"),et(),q(78,"button",35),Vt("click",function(){return Ut(s),zt(r.clear())}),ut(79,"Clear"),et()()()(),Ht(80,xCt,6,1,"div",36)(81,yCt,12,3,"div",36),q(82,"div",37)(83,"div",38)(84,"div",39),Vt("cdkDropListDropped",function(p){return Ut(s),zt(r.onDrop(p))}),Ht(85,kCt,24,12,"div",40),et()(),q(86,"div",38)(87,"mat-tab-group",41)(88,"mat-tab",42),Ht(89,FCt,4,5,"div",43),et(),q(90,"mat-tab",44),Ht(91,LCt,4,5,"div",43),et(),q(92,"mat-tab",45),Ht(93,BCt,4,5,"div",43),et()()()()()}if(2&n){let s;const o=Zi(7);ot(3),xt("matMenuTriggerFor",o),ot(5),xt("disableRipple",!0),ot(13),xt("ngIf",!r.panelOpenState),ot(2),xt("formGroup",r.newBindingForm),ot(9),xt("ngIf",null==(s=r.newBindingForm.get("title"))?null:s.value),ot(2),ze(r.getErrorMessage("title")),ot(2),xt("binding",r.codeBinding),ot(2),xt("ngIf",r.codeBinding===r.codeBindingAll),ot(),xt("ngIf",r.codeBinding!=r.codeBindingAll),ot(2),ze(r.getErrorMessage("code")),ot(8),xt("ngForOf",r.controlTypes),ot(2),ze(r.getErrorMessage("type")),ot(),xt("ngIf","Section header"!=r.newBindingForm.controls.type.value&&"Text box"!=r.newBindingForm.controls.type.value&&"Checkbox"!=r.newBindingForm.controls.type.value&&"Integer"!=r.newBindingForm.controls.type.value&&"Decimal"!=r.newBindingForm.controls.type.value),ot(),xt("ngIf","Checkbox"==r.newBindingForm.controls.type.value),ot(),xt("ngIf","Section header"!=r.newBindingForm.controls.type.value),ot(4),xt("ngIf",-1==r.indexInEdit),ot(),xt("ngIf",r.indexInEdit>-1),ot(5),xt("ngIf",r.bindings.length),ot(3),xt("ngIf",r.bindings.length),ot(13),xt("ngIf",!r.titleEditMode),ot(),xt("ngIf",r.titleEditMode),ot(2),xt("@growShrink",r.stateName),ot(2),xt("ngForOf",r.bindings),ot(),xt("@openClose",r.stateName),ot(3),xt("ngIf",r.bindings.length>0),ot(2),xt("ngIf",r.bindings.length>0),ot(2),xt("ngIf",r.bindings.length>0)}},dependencies:[xs,Qs,pC,KM,$M,_H,ua,xo,ha,il,Tl,Ld,El,nl,MG,kG,Md,Ju,ag,Cl,Oo,ng,Wd,og,cg,yf,dg,_l,gf,qu,jH,ITt,RTt,MTt,lg,$H,qH,t7,n7,r7,s7,a7],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center;gap:10px}.grow[_ngcontent-%COMP%]{flex-grow:4}mat-hint[_ngcontent-%COMP%], mat-error[_ngcontent-%COMP%]{font-size:12px}.editPanel[_ngcontent-%COMP%]{border:1px solid #cccccc00;border-radius:5px;background-color:#a0c8e5}.control[_ngcontent-%COMP%]{margin-bottom:30px}.output-panel[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s}.row[_ngcontent-%COMP%]:hover   .tool[_ngcontent-%COMP%]{opacity:1}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#616161}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;margin-left:2rem}.action-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.compact-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.row-container-item[_ngcontent-%COMP%]{width:100%;padding:10px}.output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.top-right-link[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;font-size:smaller}.form-title[_ngcontent-%COMP%]{margin-left:1rem}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:0!important}.bottom-right-link[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:0;font-size:smaller}.form-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px;width:100%}.form-column[_ngcontent-%COMP%]{flex:1 1 0px;padding-right:10px;padding-left:10px;display:flex;flex-direction:column;width:100%}.input-field.full-width[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-bottom:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"],data:{animation:[vr("openClose",[Ln("open",si({opacity:1,width:"50%"})),Ln("closed",si({opacity:0,width:"0"})),fn("open <=> closed",[on("0.5s")])]),vr("growShrink",[Ln("open",si({width:"50%"})),Ln("closed",si({width:"100%"})),fn("open <=> closed",[on("0.5s")])])]}})}return e})(),UCt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=He({type:e,selectors:[["app-prescription-main"]],decls:2,vars:0,template:function(n,r){1&n&&(q(0,"p"),ut(1,"prescription-main works!, no?"),et())}})}return e})();const zCt=["mat-sort-header",""],GCt=["*"];function HCt(e,i){if(1&e){const t=ge();q(0,"div",2),Vt("@arrowPosition.start",function(){return Ut(t),zt(St()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return Ut(t),zt(St()._disableViewStateAnimation=!1)}),be(1,"div",3),q(2,"div",4),be(3,"div",5)(4,"div",6)(5,"div",7),et()()}if(2&e){const t=St();xt("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),ot(2),xt("@indicator",t._getArrowDirectionState()),ot(),xt("@leftPointer",t._getArrowDirectionState()),ot(),xt("@rightPointer",t._getArrowDirectionState())}}const o7=new qt("MAT_SORT_DEFAULT_OPTIONS");let eh=(()=>{class e{get direction(){return this._direction}set direction(t){this._direction=t}constructor(t){this._defaultOptions=t,this._initializedStream=new ux(1),this.sortables=new Map,this._stateChanges=new ke,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new Ae,this.initialized=this._initializedStream}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let r=function WCt(e,i){let t=["asc","desc"];return"desc"==e&&t.reverse(),i||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(o7,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[Wt.None,"matSortActive","active"],start:[Wt.None,"matSortStart","start"],direction:[Wt.None,"matSortDirection","direction"],disableClear:[Wt.HasDecoratorInputTransform,"matSortDisableClear","disableClear",Ke],disabled:[Wt.HasDecoratorInputTransform,"matSortDisabled","disabled",Ke]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[an,nr]})}return e})();const ih=uvt.ENTERING+" "+dvt.STANDARD_CURVE,mg={indicator:vr("indicator",[Ln("active-asc, asc",si({transform:"translateY(0px)"})),Ln("active-desc, desc",si({transform:"translateY(10px)"})),fn("active-asc <=> active-desc",on(ih))]),leftPointer:vr("leftPointer",[Ln("active-asc, asc",si({transform:"rotate(-45deg)"})),Ln("active-desc, desc",si({transform:"rotate(45deg)"})),fn("active-asc <=> active-desc",on(ih))]),rightPointer:vr("rightPointer",[Ln("active-asc, asc",si({transform:"rotate(45deg)"})),Ln("active-desc, desc",si({transform:"rotate(-45deg)"})),fn("active-asc <=> active-desc",on(ih))]),arrowOpacity:vr("arrowOpacity",[Ln("desc-to-active, asc-to-active, active",si({opacity:1})),Ln("desc-to-hint, asc-to-hint, hint",si({opacity:.54})),Ln("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",si({opacity:0})),fn("* => asc, * => desc, * => active, * => hint, * => void",on("0ms")),fn("* <=> *",on(ih))]),arrowPosition:vr("arrowPosition",[fn("* => desc-to-hint, * => desc-to-active",on(ih,Kp([si({transform:"translateY(-25%)"}),si({transform:"translateY(0)"})]))),fn("* => hint-to-desc, * => active-to-desc",on(ih,Kp([si({transform:"translateY(0)"}),si({transform:"translateY(25%)"})]))),fn("* => asc-to-hint, * => asc-to-active",on(ih,Kp([si({transform:"translateY(25%)"}),si({transform:"translateY(0)"})]))),fn("* => hint-to-asc, * => active-to-asc",on(ih,Kp([si({transform:"translateY(0)"}),si({transform:"translateY(-25%)"})]))),Ln("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",si({transform:"translateY(0)"})),Ln("hint-to-desc, active-to-desc, desc",si({transform:"translateY(-25%)"})),Ln("hint-to-asc, active-to-asc, asc",si({transform:"translateY(25%)"}))]),allowChildren:vr("allowChildren",[fn("* <=> *",[RT("@*",MT(),{optional:!0})])])};let _C=(()=>{class e{constructor(){this.changes=new ke}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const jCt={provide:_C,deps:[[new cd,new Ph,_C]],useFactory:function XCt(e){return e||new _C}};let rR=(()=>{class e{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}constructor(t,n,r,s,o,p,C,D){this._intl=t,this._changeDetectorRef=n,this._sort=r,this._columnDef=s,this._focusMonitor=o,this._elementRef=p,this._ariaDescriber=C,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",D?.arrowPosition&&(this.arrowPosition=D?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const n=!!t;n!==this._showIndicatorHint&&(this._setIndicatorHintVisible(n),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=Gr(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(_C),ht(Dn),ht(eh,8),ht("MAT_SORT_HEADER_COLUMN_DEF",8),ht(bl),ht(ei),ht(uU,8),ht(o7,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(n,r){1&n&&Vt("click",function(){return r._handleClick()})("keydown",function(o){return r._handleKeydown(o)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&n&&(_i("aria-sort",r._getAriaSortAttribute()),yi("mat-sort-header-disabled",r._isDisabled()))},inputs:{id:[Wt.None,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke],sortActionDescription:"sortActionDescription",disableClear:[Wt.HasDecoratorInputTransform,"disableClear","disableClear",Ke]},exportAs:["matSortHeader"],standalone:!0,features:[an,Bi],attrs:zCt,ngContentSelectors:GCt,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(n,r){1&n&&(Gn(),q(0,"div",0)(1,"div",1),hi(2),et(),Ht(3,HCt,6,6,"div",2),et()),2&n&&(yi("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),_i("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),ot(3),yn(3,r._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color);opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[mg.indicator,mg.leftPointer,mg.rightPointer,mg.arrowOpacity,mg.arrowPosition,mg.allowChildren]},changeDetection:0})}return e})(),YCt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[jCt],imports:[$i]})}return e})(),$Ct=(()=>{class e{saveItem(t,n){localStorage.setItem(t,n)}getItem(t){return localStorage.getItem(t)}removeItem(t){localStorage.removeItem(t)}isLocalStorageSupported(){try{const t="__test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pg=(()=>{class e{constructor(t,n){this.http=t,this.storageService=n,this.baseUrlSubject=new Vr("https://hapi.fhir.org/baseR4"),this.baseUrl$=this.baseUrlSubject.asObservable(),this.userTagSubject=new Vr(""),this.userTag$=this.userTagSubject.asObservable(),this.initialize()}initialize(){if(this.storageService.isLocalStorageSupported()){const t=this.storageService.getItem("baseUrl");t&&this.baseUrlSubject.next(t);const n=this.storageService.getItem("userTag");n&&this.userTagSubject.next(n)}}setBaseUrl(t){this.baseUrlSubject.next(t),this.storageService.saveItem("baseUrl",t)}getBaseUrl(){return this.baseUrlSubject.getValue()}setUserTag(t){this.userTagSubject.next(t),this.storageService.saveItem("userTag",t)}getUserTag(){return this.userTagSubject.getValue()}postQuestionnaire(t){return this.http.post(`${this.baseUrlSubject.value}/Questionnaire`,t)}getQuestionnairesByTag(t,n){return n||(n=100),this.http.get(`${this.baseUrlSubject.value}/Questionnaire?_tag=${t}&_count=${n}`)}tagQuestionnaire(t,n){return this.http.post(`${this.baseUrlSubject.value}/Questionnaire/${t}/$meta-add`,{resourceType:"Parameters",parameter:[{name:"meta",valueMeta:{tag:[{system:"http://snomed.org/tags",code:n}]}}]})}deleteQuestionnaire(t){return this.http.delete(`${this.baseUrlSubject.value}/Questionnaire/${t}`)}updateOrCreateQuestionnaire(t,n){return t.id?this.http.put(`${this.baseUrlSubject.value}/Questionnaire?_id=${t.id}&_tag=${n}`,t).pipe(Ks(s=>404===s.status?this.postQuestionnaire(t):Ip(s))):this.postQuestionnaire(t)}getQuestionnaireHistory(t){return this.http.get(`${this.getBaseUrl()}/Questionnaire/${t}/_history`)}getSpecificQuestionnaireVersion(t,n){return this.http.get(`${this.getBaseUrl()}/Questionnaire/${t}/_history/${n}`)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Oc),Kt($Ct))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function QCt(e,i){if(1&e&&(q(0,"mat-option",15),ut(1),et()),2&e){const t=i.$implicit;xt("value",t),ot(),ri(" ",t.title," ")}}function KCt(e,i){1&e&&be(0,"mat-spinner",16)}function ZCt(e,i){if(1&e){const t=ge();q(0,"div",17)(1,"span",18),ut(2,"\u2261"),et(),ut(3),q(4,"button",19),Vt("click",function(){const r=Ut(t).index;return zt(St().deleteQuestionnaire(r))}),q(5,"mat-icon"),ut(6,"delete"),et()()()}if(2&e){const t=i.$implicit;ot(3),ri(" ",t.title," ")}}let l7=(()=>{class e{constructor(t,n,r,s){this.fb=t,this.fhirService=n,this.data=r,this.dialogRef=s,this.allQuestionnaires=[],this.availableQuestionnaires=[],this.addedQuestionnaires=[],this.userTag="",this.loading=!1}ngOnInit(){this.questionnaireForm=this.fb.group({selectedQuestionnaire:[{value:"",disabled:!0}],assignedName:[{value:"",disabled:!0}]}),this.data&&(this.addedQuestionnaires=this.data.questionnaires,this.questionnaireForm.get("assignedName")?.setValue(this.data.title)),this.questionnaireForm.get("selectedQuestionnaire"),this.userTag=this.fhirService.getUserTag(),this.loadAvailableQuestionnaires()}updateAvailableQuestionnaires(){this.availableQuestionnaires=this.addedQuestionnaires?this.allQuestionnaires.filter(t=>!this.addedQuestionnaires.some(n=>n.id===t.id)):this.allQuestionnaires,this.availableQuestionnaires=this.availableQuestionnaires.filter(t=>!t.extension||!t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode))}loadAvailableQuestionnaires(){this.loading=!0,this.fhirService.getQuestionnairesByTag(this.userTag).subscribe(t=>{this.allQuestionnaires=t.entry.map(n=>n.resource),this.allQuestionnaires.sort((n,r)=>n.title.localeCompare(r.title)),this.updateAvailableQuestionnaires(),this.loading=!1,this.questionnaireForm?.get("selectedQuestionnaire")?.enable(),this.questionnaireForm?.get("assignedName")?.enable()})}addQuestionnaire(){const t=this.questionnaireForm.value;t.selectedQuestionnaire&&(this.addedQuestionnaires.push({...t.selectedQuestionnaire,assignedName:t.assignedName}),this.questionnaireForm.get("selectedQuestionnaire")?.reset(),this.updateAvailableQuestionnaires())}drop(t){jM(this.addedQuestionnaires,t.previousIndex,t.currentIndex)}deleteQuestionnaire(t){t>-1&&(this.addedQuestionnaires.splice(t,1),this.updateAvailableQuestionnaires())}isSaveDisabled(){return!this.questionnaireForm.get("assignedName")?.value||!this.addedQuestionnaires.length}closeModal(){this.dialogRef.close({title:this.questionnaireForm.get("assignedName")?.value,questionnaires:this.addedQuestionnaires})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(OM),ht(pg),ht(TC),ht(th))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-create-root-module"]],decls:26,vars:6,consts:[[1,"form-layout",3,"formGroup"],[1,"form-row"],[1,"full-width"],["matInput","","formControlName","assignedName"],[1,"half-width"],["formControlName","selectedQuestionnaire"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"add-button",3,"click","disabled"],["diameter","35","class","loading-spinner",4,"ngIf"],[1,"questionnaire-list"],[1,"list",3,"cdkDropListDropped"],["cdkDrag","","class","cdk-drag",4,"ngFor","ngForOf"],[1,"button-container"],["mat-flat-button","","color","primary","mat-dialog-close",""],["mat-flat-button","","color","accent",3,"click","disabled"],[3,"value"],["diameter","35",1,"loading-spinner"],["cdkDrag","",1,"cdk-drag"],[1,"drag-handle"],["mat-icon-button","","aria-label","Delete questionnaire",3,"click"]],template:function(n,r){1&n&&(q(0,"mat-dialog-content")(1,"h2"),ut(2,"Create a modular Questionnaire"),et(),q(3,"form",0)(4,"div",1)(5,"mat-form-field",2)(6,"mat-label"),ut(7,"Assign Name"),et(),be(8,"input",3),et()(),q(9,"div",1)(10,"mat-form-field",4)(11,"mat-label"),ut(12,"Select Child Questionnaire"),et(),q(13,"mat-select",5),Ht(14,QCt,2,2,"mat-option",6),et()(),q(15,"button",7),Vt("click",function(){return r.addQuestionnaire()}),ut(16,"Add questionnaire"),et(),Ht(17,KCt,1,0,"mat-spinner",8),et()(),q(18,"div",9)(19,"cdk-drop-list",10),Vt("cdkDropListDropped",function(o){return r.drop(o)}),Ht(20,ZCt,7,1,"div",11),et()()(),q(21,"mat-dialog-actions",12)(22,"button",13),ut(23,"Cancel"),et(),q(24,"button",14),Vt("click",function(){return r.closeModal()}),ut(25,"Save"),et()()),2&n&&(ot(3),xt("formGroup",r.questionnaireForm),ot(11),xt("ngForOf",r.availableQuestionnaires),ot(),xt("disabled",r.loading),ot(2),xt("ngIf",r.loading),ot(3),xt("ngForOf",r.addedQuestionnaires),ot(4),xt("disabled",r.isSaveDisabled()||r.loading))},dependencies:[xs,Qs,KM,$M,ua,xo,ha,El,nl,Md,Wu,Ju,ag,Cl,Oo,ng,Wd,og,dg,fg,Gx,zx],styles:[".questionnaire-list[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto;border:1px solid #ccc;border-radius:4px;background-color:#f9f9f9;padding:10px}.list[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;background-color:#fff;margin-bottom:10px;padding:10px;display:flex;align-items:center;justify-content:left;box-shadow:0 2px 4px #0000001a}.drag-handle[_ngcontent-%COMP%]{cursor:move;margin-right:15px;font-size:20px;color:#666}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#e0e0e0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.form-layout[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.form-layout[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.form-layout[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{width:50%;margin-right:15px}"]})}return e})();function JCt(e,i){if(1&e&&(q(0,"mat-option",16),ut(1),et()),2&e){const t=i.$implicit;xt("value",t),ot(),ri(" ",t," ")}}function qCt(e,i){if(1&e){const t=ge();q(0,"mat-form-field",13)(1,"mat-select",15),Vt("selectionChange",function(r){return Ut(t),zt(St(2)._changePageSize(r.value))}),cw(2,JCt,2,2,"mat-option",16,lw),et()()}if(2&e){const t=St(2);xt("appearance",t._formFieldAppearance)("color",t.color),ot(),xt("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),ot(),dw(t._displayedPageSizeOptions)}}function t_t(e,i){if(1&e&&(q(0,"div",14),ut(1),et()),2&e){const t=St(2);ot(),ze(t.pageSize)}}function e_t(e,i){if(1&e&&(q(0,"div",2)(1,"div",12),ut(2),et(),Ht(3,qCt,4,7,"mat-form-field",13)(4,t_t,2,1,"div",14),et()),2&e){const t=St();ot(),_i("id",t._pageSizeLabelId),ot(),ri(" ",t._intl.itemsPerPageLabel," "),ot(),yn(3,t._displayedPageSizeOptions.length>1?3:-1),ot(),yn(4,t._displayedPageSizeOptions.length<=1?4:-1)}}function i_t(e,i){if(1&e){const t=ge();q(0,"button",17),Vt("click",function(){return Ut(t),zt(St().firstPage())}),Yo(),q(1,"svg",7),be(2,"path",18),et()()}if(2&e){const t=St();xt("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),_i("aria-label",t._intl.firstPageLabel)}}function n_t(e,i){if(1&e){const t=ge();q(0,"button",19),Vt("click",function(){return Ut(t),zt(St().lastPage())}),Yo(),q(1,"svg",7),be(2,"path",20),et()()}if(2&e){const t=St();xt("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),_i("aria-label",t._intl.lastPageLabel)}}let EC=(()=>{class e{constructor(){this.changes=new ke,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const s=t*n;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+n,r):s+n} of ${r}`}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const s_t={provide:EC,deps:[[new cd,new Ph,EC]],useFactory:function r_t(e){return e||new EC}},o_t=new qt("MAT_PAGINATOR_DEFAULT_OPTIONS");let l_t=0,sR=(()=>{class e{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(n=>zr(n,0)),this._updateDisplayedPageSizeOptions()}constructor(t,n,r){if(this._intl=t,this._changeDetectorRef=n,this._pageSizeLabelId="mat-paginator-page-size-label-"+l_t++,this._isInitialized=!1,this._initializedStream=new ux(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Ae,this.initialized=this._initializedStream,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:o,hidePageSize:p,showFirstLastButtons:C}=r;null!=s&&(this._pageSize=s),null!=o&&(this._pageSizeOptions=o),null!=p&&(this.hidePageSize=p),null!=C&&(this.showFirstLastButtons=C)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,n)=>t-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(EC),ht(Dn),ht(o_t,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[Wt.HasDecoratorInputTransform,"pageIndex","pageIndex",zr],length:[Wt.HasDecoratorInputTransform,"length","length",zr],pageSize:[Wt.HasDecoratorInputTransform,"pageSize","pageSize",zr],pageSizeOptions:"pageSizeOptions",hidePageSize:[Wt.HasDecoratorInputTransform,"hidePageSize","hidePageSize",Ke],showFirstLastButtons:[Wt.HasDecoratorInputTransform,"showFirstLastButtons","showFirstLastButtons",Ke],selectConfig:"selectConfig",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Ke]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[an,Bi],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"div",1),Ht(2,e_t,5,4,"div",2),q(3,"div",3)(4,"div",4),ut(5),et(),Ht(6,i_t,3,5,"button",5),q(7,"button",6),Vt("click",function(){return r.previousPage()}),Yo(),q(8,"svg",7),be(9,"path",8),et()(),Wv(),q(10,"button",9),Vt("click",function(){return r.nextPage()}),Yo(),q(11,"svg",7),be(12,"path",10),et()(),Ht(13,n_t,3,5,"button",11),et()()()),2&n&&(ot(2),yn(2,r.hidePageSize?-1:2),ot(3),ri(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),ot(),yn(6,r.showFirstLastButtons?6:-1),ot(),xt("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),_i("aria-label",r._intl.previousPageLabel),ot(3),xt("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),_i("aria-label",r._intl.nextPageLabel),ot(3),yn(13,r.showFirstLastButtons?13:-1))},dependencies:[El,dg,Md,xo,qu],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking);--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),c_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[s_t],imports:[jI,tH,sH,sR]})}return e})(),c7=(()=>{class e{constructor(t,n){this.http=t,this.fhirService=n}generateRootQuestionnaire(t,n){var r=this;return de(function*(){try{let o=yield da(r.http.get("assets/questionnaires/root-questionnaire-template.json"));o.title=t;let p=0,C=r.fhirService.getBaseUrl();return r.fhirService.getUserTag(),n.forEach(R=>{p++,R.url=C+"/Questionnaire/"+R.id,o.item.push({linkId:p.toString(),text:R.title,type:"group",required:!1,item:[{extension:[{url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire",valueCanonical:R.url}],linkId:p.toString()+".1",text:"Unable to resolve sub-questionnaire",type:"display"}]})}),o}catch(s){throw console.error("Error generating root questionnaire:",s),s}})()}getRootQuestionnaireData(t){var n=this;return de(function*(){if(!t||!Array.isArray(t.item))throw new Error("Invalid root questionnaire");const r=t.title,s=t.item.filter(p=>"group"===p.type&&p.item&&Array.isArray(p.item)).flatMap(p=>p.item).map(function(){var p=de(function*(C){const D=C.extension?.find(R=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===R.url);return D?n.getQuestionnaireFromUrl(D.valueCanonical):null});return function(C){return p.apply(this,arguments)}}());return{title:r,questionnaires:(yield Promise.all(s)).filter(p=>null!==p)}})()}checkForAssembleRoot(t){return!!(t&&t.extension&&Array.isArray(t.extension))&&t.extension.some(n=>"assemble-root"===n.valueCode)}assembleQuestionnaire(t){var n=this;return de(function*(){if(t=JSON.parse(JSON.stringify(t)),!n.checkForAssembleRoot(t))return null;for(let r of t.item)if("group"==r.type){r.extension=[];for(let s of r.item)if(s.extension&&Array.isArray(s.extension))for(let o of s.extension)if("http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===o.url){let p=yield n.getQuestionnaireFromUrl(o.valueCanonical);p&&(r.item=p.item),r.extension||(r.extension=[]),r.extension.push({url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom",valueCanonical:o.valueCanonical})}}return t.extension=t.extension.filter(r=>"assemble-root"!==r.valueCode),t})()}disassembleQuestionnaire(t){var n=this;return de(function*(){if(!t||!t.item||!Array.isArray(t.item))throw new Error("Invalid root questionnaire");const r=t.title,s=[];for(const o of t.item)if("group"===o.type&&o.extension&&Array.isArray(o.extension)){const p=o.extension.find(C=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom"===C.url);if(p){const C=p.valueCanonical,D=yield n.getQuestionnaireFromUrl(C);D&&s.push(D)}}return{title:r,questionnaires:s}})()}getQuestionnaireFromUrl(t){var n=this;return de(function*(){try{return yield da(n.http.get(t))}catch(r){return console.error("Error fetching questionnaire:",r),null}})()}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Oc),Kt(pg))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const d_t=()=>[5,10,20],u_t=e=>["status-pill",e],h_t=()=>["status-pill","active"],f_t=()=>["status-pill","draft"];function m_t(e,i){1&e&&(q(0,"th",19),ut(1," Title "),et())}function p_t(e,i){if(1&e&&(q(0,"td",20),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.title," ")}}function g_t(e,i){1&e&&(q(0,"th",19),ut(1," Status "),et())}function v_t(e,i){if(1&e&&(q(0,"td",20)(1,"span",21),ut(2),Ua(3,"uppercase"),et()()),2&e){const t=i.$implicit;ot(),xt("ngClass",Kl(4,u_t,t.status)),ot(),ze(xd(3,2,t.status))}}function x_t(e,i){1&e&&(q(0,"th",22),ut(1," Version "),et())}function y_t(e,i){if(1&e&&(q(0,"td",20),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.meta.versionId," ")}}function b_t(e,i){1&e&&(q(0,"th",19),ut(1," Last updated "),et())}function w_t(e,i){if(1&e&&(q(0,"td",20),ut(1),Ua(2,"date"),et()),2&e){const t=i.$implicit;ot(),ri(" ",Mu(2,1,t.meta.lastUpdated,"MMMM d, y, h:mm:ss a")," ")}}function T_t(e,i){1&e&&(q(0,"th",19),ut(1," Type "),et())}function C_t(e,i){1&e&&(q(0,"span",21),ut(1,"QUESTIONNAIRE"),et()),2&e&&xt("ngClass",ko(1,h_t))}function __t(e,i){1&e&&(q(0,"span",21),ut(1,"MODULAR ROOT"),et()),2&e&&xt("ngClass",ko(1,f_t))}function E_t(e,i){if(1&e&&(q(0,"td",20),Ht(1,C_t,2,2,"span",23)(2,__t,2,2,"span",23),et()),2&e){const t=i.$implicit,n=St();ot(),xt("ngIf",!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.isRootQuestionnaire(t))}}function S_t(e,i){1&e&&(q(0,"th",22),ut(1," Actions "),et())}function A_t(e,i){if(1&e){const t=ge();q(0,"button",34),Vt("click",function(){Ut(t);const r=St().$implicit;return zt(St().validate(r))}),q(1,"mat-icon"),ut(2,"done"),et()()}if(2&e){const t=St().$implicit;xt("disabled",St().isRootQuestionnaire(t))}}function D_t(e,i){if(1&e){const t=ge();q(0,"button",35),Vt("click",function(){Ut(t);const r=St().$implicit;return zt(St().assemble(r))}),q(1,"mat-icon"),ut(2,"build"),et()()}}function I_t(e,i){if(1&e){const t=ge();q(0,"button",36),Vt("click",function(){Ut(t);const r=St().$implicit;return zt(St().preview(r))}),q(1,"mat-icon"),ut(2,"visibility"),et()()}}function M_t(e,i){if(1&e){const t=ge();q(0,"button",37),Vt("click",function(){Ut(t);const r=St().$implicit;return zt(St().openInNewTab(r))}),q(1,"mat-icon"),ut(2,"open_in_new"),et()()}}function R_t(e,i){if(1&e){const t=ge();q(0,"button",38),Vt("click",function(){Ut(t);const r=St().$implicit;return zt(St().editQuestionnaire(r))}),q(1,"mat-icon"),ut(2,"edit"),et()()}}function k_t(e,i){if(1&e){const t=ge();q(0,"button",39),Vt("click",function(){Ut(t);const r=St().$implicit;return zt(St().openModularQuestionnaireModal(r))}),q(1,"mat-icon"),ut(2,"edit"),et()()}}function P_t(e,i){if(1&e){const t=ge();q(0,"td",20),Ht(1,A_t,3,1,"button",24)(2,D_t,3,0,"button",25)(3,I_t,3,0,"button",26)(4,M_t,3,0,"button",27),q(5,"button",28),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().saveQuestionnaire(r))}),q(6,"mat-icon"),ut(7,"cloud_download"),et()(),Ht(8,R_t,3,0,"button",29)(9,k_t,3,0,"button",30),q(10,"button",31),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().viewHistory(r))}),q(11,"mat-icon"),ut(12,"history"),et()(),q(13,"span",32)(14,"button",33),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().deleteQuestionnaire(r))}),q(15,"mat-icon"),ut(16,"delete"),et()()()()}if(2&e){const t=i.$implicit,n=St();ot(),xt("ngIf",n.config.validate),ot(),xt("ngIf",n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.config.preview&&!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.config.preview),ot(4),xt("ngIf",!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.isRootQuestionnaire(t)),ot(),xt("disabled",1==t.meta.versionId),ot(3),Iu("matTooltip",n.getDeleteTooltip(t)),ot(),xt("disabled",n.getReferencingQuestionnaires(t).length>0)}}function F_t(e,i){1&e&&be(0,"tr",40)}function O_t(e,i){1&e&&be(0,"tr",41)}function L_t(e,i){1&e&&(q(0,"p",42)(1,"i"),ut(2," No questionnaires found. Upload your questionnaires to start. "),et()())}function N_t(e,i){1&e&&be(0,"mat-spinner",43)}function B_t(e,i){if(1&e){const t=ge();q(0,"button",44),Vt("click",function(){return Ut(t),zt(St().downloadAllQuestionnaires())}),ut(1," Download bundle "),et()}}let d7=(()=>{class e{constructor(t,n,r,s){this.fhirService=t,this.questionnaireService=n,this.dialog=r,this._snackBar=s,this.questionnaireSelected=new Ae,this.validateQuestionnaire=new Ae,this.previewQuestionnaire=new Ae,this.viewQuestionaireHistory=new Ae,this.config={},this.displayedColumns=["title","status","version","lastUpdated","type","actions"],this.dataSource=new ff,this.questionnaires=[],this.loading=!1,this.selectedFhirServer="",this.selectedUserTag="",this.notFound=!1,this.baseUrlChanged=new ke,this.userTagChanged=new ke,this.fbUrl="https://formbuilder.nlm.nih.gov",this.blankQuestionnaire={resourceType:"Questionnaire",title:"New Form",status:"draft",item:[{type:"string",linkId:"4009522077787",text:"Item 0"}]}}ngOnInit(){}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.sortingDataAccessor=(t,n)=>{switch(n){case"type":return this.isRootQuestionnaire(t)?"Modular root":"Questionnaire";case"version":return t.meta&&t.meta.versionId?t.meta.versionId:"";case"lastUpdated":return t.meta&&t.meta.lastUpdated?new Date(t.meta.lastUpdated):"";default:return t[n]}},this.selectedUserTag&&this.selectedFhirServer&&this.loadQuestionnaires(),_d([this.fhirService.baseUrl$.pipe(Ad(1e3),Dd()),this.fhirService.userTag$.pipe(Ad(1e3),Dd())]).subscribe(([t,n])=>{(this.selectedFhirServer!==t||this.selectedUserTag!==n)&&(this.selectedFhirServer=t,this.selectedUserTag=n,this.selectedUserTag&&this.selectedFhirServer&&this.loadQuestionnaires())})}ngOnChanges(t){}loadQuestionnaires(){this.loading=!0,this.notFound=!1,this.questionnaires=[],this.fhirService.getQuestionnairesByTag(this.selectedUserTag).subscribe(t=>{t.entry?(this.questionnaires=t.entry.map(n=>n.resource),this.dataSource.data=this.questionnaires,this.dataSource.sort=this.sort,this.loading=!1,this.sort.active="title",this.sort.direction="asc",this.sort.sortChange.emit()):(this.questionnaires=[],this.dataSource.data=this.questionnaires,this.loading=!1,this.notFound=!0)})}updateQuestionnairesList(t){const n=this.questionnaires.findIndex(r=>r.id===t.id);-1!==n?(this.questionnaires[n]=t,this.dataSource.data=this.questionnaires):(this.questionnaires.push(t),this.dataSource.data=this.questionnaires)}addQuestionnaire(t){this.updateQuestionnairesList(t)}deleteQuestionnaire(t){this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Deleting Questionnaire...",panelClass:["green-snackbar"]}),this.fhirService.deleteQuestionnaire(t.id).subscribe(()=>{this.questionnaires=this.questionnaires.filter(n=>n.id!==t.id),this.dataSource.data=this.questionnaires,this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Questionnaire deleted successfully",panelClass:["green-snackbar"]})})}selectQuestionnaire(t){this.questionnaireSelected.emit(t)}validate(t){this.validateQuestionnaire.emit(t)}viewHistory(t){this.viewQuestionaireHistory.emit(t)}preview(t){this.previewQuestionnaire.emit(t)}openInNewTab(t){window.open(this.selectedFhirServer+"/Questionnaire/"+t.id,"_blank")}saveQuestionnaire(t){var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});Vc(n,`${t.title}-v${t.meta.versionId}.json`)}isRootQuestionnaire(t){return!(!t.extension||!Array.isArray(t.extension))&&t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode)}assemble(t){this._snackBar.openFromComponent(Cr,{duration:2e3,data:"Assembling Questionnaire...",panelClass:["green-snackbar"]}),this.questionnaireService.assembleQuestionnaire(t).then(n=>{n.title=t.title+" (assembled)",this.previewQuestionnaire.emit(n),this._snackBar.openFromComponent(Cr,{duration:2e3,data:"Questionnaire ready",panelClass:["green-snackbar"]})}).catch(n=>{console.error("Error assembling questionnaire:",n)})}createQuestionnaire(){let t=this.blankQuestionnaire;t.meta||(t.meta={}),t.meta.tag=[{system:"http://snomed.org/tags",code:this.selectedUserTag,display:this.selectedUserTag},{system:"http://snomed.org/tags",code:"questionnaireManagerTool",display:"questionnaireManagerTool"}],this.editQuestionnaire(t)}editQuestionnaire(t){const n=window.open(this.fbUrl+"/window-open?referrer="+encodeURIComponent(window.location.href));window.addEventListener("message",function s(o){if(o.origin===r.fbUrl){const C=o.data.questionnaire;switch(o.data.type){case"initialized":n?.postMessage({type:"initialQuestionnaire",questionnaire:t},r.fbUrl);break;case"updateQuestionnaire":break;case"closed":r.fhirService.updateOrCreateQuestionnaire(C,r.selectedUserTag).pipe(yl()).subscribe(D=>{r._snackBar.openFromComponent(Cr,{duration:5e3,data:"Questionnaire updated successfully",panelClass:["green-snackbar"]}),r.updateQuestionnairesList(D)},D=>{r._snackBar.openFromComponent(Cr,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]})})}}},!0);let r=this}openModularQuestionnaireModal(t){var n=this;return de(function*(){let r=yield n.questionnaireService.getRootQuestionnaireData(t);n.dialog.open(l7,{data:r,width:"75%"}).afterClosed().subscribe(o=>{o&&n.handleDialogResult(o,t)})})()}handleDialogResult(t,n){var r=this;return de(function*(){r._snackBar.openFromComponent(Cr,{duration:5e3,data:"Updating questionnaire...",panelClass:["green-snackbar"]});try{let s=yield r.questionnaireService.generateRootQuestionnaire(t.title,t.questionnaires);s&&(n.title=t.title,n.item=s.item,r.addQuestionnaire(n),r.fhirService.updateOrCreateQuestionnaire(n,r.selectedUserTag).pipe(yl()).subscribe(o=>{r._snackBar.openFromComponent(Cr,{duration:5e3,data:"Questionnaire updated successfully",panelClass:["green-snackbar"]}),r.updateQuestionnairesList(o)},o=>{r._snackBar.openFromComponent(Cr,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]})}))}catch(s){console.error("Error handling dialog result:",s)}})()}downloadAllQuestionnaires(){this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Downloading Questionnaires...",panelClass:["green-snackbar"]}),this.fhirService.getQuestionnairesByTag(this.selectedUserTag).subscribe(t=>{var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});Vc(n,"questionnaires-bundle.json"),this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Questionnaires downloaded successfully",panelClass:["green-snackbar"]})})}getReferencingQuestionnaires(t){let r=`${this.fhirService.getBaseUrl()}/Questionnaire/${t.id}`;return this.dataSource.data.filter(o=>o.item&&Array.isArray(o.item)&&o.item.some(p=>p.item&&Array.isArray(p.item)&&p.item.some(C=>C.extension&&Array.isArray(C.extension)&&C.extension.some(D=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===D.url&&D.valueCanonical===r))))}getDeleteTooltip(t){const n=this.getReferencingQuestionnaires(t);return 0===n.length?"Delete Questionnaire":`Cannot delete: Referenced by ${n.map(s=>`"${s.title}"`).join(", ")}`}static#t=this.\u0275fac=function(n){return new(n||e)(ht(pg),ht(c7),ht(hg),ht(Hu))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-list-questionnaires"]],viewQuery:function(n,r){if(1&n&&(Ai(sR,5),Ai(eh,5)),2&n){let s;Oe(s=Le())&&(r.paginator=s.first),Oe(s=Le())&&(r.sort=s.first)}},inputs:{config:"config"},outputs:{questionnaireSelected:"questionnaireSelected",validateQuestionnaire:"validateQuestionnaire",previewQuestionnaire:"previewQuestionnaire",viewQuestionaireHistory:"viewQuestionaireHistory"},features:[nr],decls:28,vars:9,consts:[["id","table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","version"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","lastUpdated"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"mat-elevation-z8",3,"pageSizeOptions","pageSize"],["class","not-found",4,"ngIf"],["diameter","35","class","loading-spinner",4,"ngIf"],["id","outer-container"],[1,"download-button-container"],["mat-flat-button","","color","accent","matTooltip","Download all Questionnaires",3,"click",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],["mat-header-cell",""],[3,"ngClass",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Validate Questionnaire",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Assemble Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Preview Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Open resource in new tab",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","Download Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Edit Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Edit Modular Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","View Questionnaire History",1,"action-button",3,"click","disabled"],[3,"matTooltip"],["mat-icon-button","","color","accent",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Validate Questionnaire",1,"action-button",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Assemble Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Preview Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Open resource in new tab",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Edit Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Edit Modular Questionnaire",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"],["diameter","35",1,"loading-spinner"],["mat-flat-button","","color","accent","matTooltip","Download all Questionnaires",3,"click"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"table",1),nn(2,2),Ht(3,m_t,2,0,"th",3)(4,p_t,2,1,"td",4),rn(),nn(5,5),Ht(6,g_t,2,0,"th",3)(7,v_t,4,6,"td",4),rn(),nn(8,6),Ht(9,x_t,2,0,"th",7)(10,y_t,2,1,"td",4),rn(),nn(11,8),Ht(12,b_t,2,0,"th",3)(13,w_t,3,4,"td",4),rn(),nn(14,9),Ht(15,T_t,2,0,"th",3)(16,E_t,3,2,"td",4),rn(),nn(17,10),Ht(18,S_t,2,0,"th",7)(19,P_t,17,9,"td",4),rn(),Ht(20,F_t,1,0,"tr",11)(21,O_t,1,0,"tr",12),et(),be(22,"mat-paginator",13),Ht(23,L_t,3,0,"p",14)(24,N_t,1,0,"mat-spinner",15),et(),q(25,"div",16)(26,"div",17),Ht(27,B_t,2,0,"button",18),et()()),2&n&&(ot(),xt("dataSource",r.dataSource),ot(19),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(),xt("pageSizeOptions",ko(8,d_t))("pageSize",10),ot(),xt("ngIf",r.notFound&&!r.questionnaires.length),ot(),xt("ngIf",r.loading),ot(3),xt("ngIf",!r.loading&&r.questionnaires.length>0))},dependencies:[Jl,Qs,ua,xo,ha,Wu,Xu,Ud,ju,zd,Vd,Yu,Gd,Hd,$u,Qu,qu,eh,rR,sR,x2,Fu],styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-text[_ngcontent-%COMP%]{flex-grow:1}.list-subtext[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-left:1rem}.action-button[_ngcontent-%COMP%]{margin-left:8px}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:15px;font-size:10px;color:#fff;text-align:center;margin-left:1rem}.status-pill.draft[_ngcontent-%COMP%]{background-color:#007bff}.status-pill.unknown[_ngcontent-%COMP%]{background-color:#ffc107}.status-pill.active[_ngcontent-%COMP%]{background-color:#28a745}.status-pill.retired[_ngcontent-%COMP%]{background-color:#dc3545}#table-container[_ngcontent-%COMP%]{padding-bottom:2rem}.not-found[_ngcontent-%COMP%]{margin-top:2rem}#outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.download-button-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2rem}"]})}return e})(),V_t=(()=>{class e{constructor(t){this.dialogRef=t,this.listConfig={select:!0}}selectAndDownload(t){this.dialogRef.close(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(th))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-load-questionnaire-modal"]],decls:7,vars:1,consts:[[3,"questionnaireSelected","config"],["align","end"],["mat-flat-button","","color","accent","mat-dialog-close",""]],template:function(n,r){1&n&&(q(0,"mat-dialog-content")(1,"h2"),ut(2,"Available Questionnaires"),et(),q(3,"app-list-questionnaires",0),Vt("questionnaireSelected",function(o){return r.selectAndDownload(o)}),et()(),q(4,"mat-dialog-actions",1)(5,"button",2),ut(6,"Close"),et()()),2&n&&(ot(3),xt("config",r.listConfig))},dependencies:[ua,fg,Gx,zx,d7]})}return e})();const U_t=["settingsForm"];function z_t(e,i){1&e&&(q(0,"mat-error"),ut(1,"Base URL is required"),et())}function G_t(e,i){1&e&&(q(0,"mat-error"),ut(1,"User Tag is required and must be at least 3 characters"),et())}let aR=(()=>{class e{constructor(t,n){this.fhirService=t,this.dialogRef=n,this.baseUrl="",this.userTag=""}ngAfterViewInit(){this.triggerValidation()}triggerValidation(){Object.keys(this.settingsForm.controls).forEach(t=>{const n=this.settingsForm.control.get(t);n?.markAsTouched({onlySelf:!0}),n?.markAsDirty({onlySelf:!0})})}ngOnInit(){this.baseUrl=this.fhirService.getBaseUrl(),this.userTag=this.fhirService.getUserTag()}updateSettings(){this.settingsForm.valid&&(this.fhirService.setBaseUrl(this.baseUrl),this.fhirService.setUserTag(this.userTag),this.dialogRef.close("save"))}static#t=this.\u0275fac=function(n){return new(n||e)(ht(pg),ht(th))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-fhir-server-settings-modal"]],viewQuery:function(n,r){if(1&n&&Ai(U_t,5),2&n){let s;Oe(s=Le())&&(r.settingsForm=s.first)}},decls:29,vars:5,consts:[["settingsForm","ngForm"],["baseUrlField","ngModel"],["userTagField","ngModel"],[1,"form-container"],[1,"warning"],[3,"ngSubmit"],["matInput","","name","baseUrl","required","",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","name","userTag","required","","minlength","3",3,"ngModelChange","ngModel"],[1,"button-container"],["mat-flat-button","","color","accent","type","submit",3,"disabled"],["mat-flat-button","","color","primary","mat-dialog-close",""]],template:function(n,r){if(1&n){const s=ge();q(0,"div",3)(1,"h2"),ut(2,"FHIR Server Connection"),et(),q(3,"p"),ut(4,"Manager mode allows you to store questionnares in a FHIR Server. Enter the FHIR server URL and your "),q(5,"b"),ut(6,"User Tag"),et(),ut(7,", this value will be used to identify your questionnaires."),et(),q(8,"p",4),ut(9,"Warning: using the default public FHIR server will not ensure the persistence of your information, always save your questionnaires to your computer as a backup."),et(),q(10,"form",5,0),Vt("ngSubmit",function(){return Ut(s),zt(r.updateSettings())}),q(12,"mat-form-field")(13,"mat-label"),ut(14,"Base URL of the FHIR Server"),et(),q(15,"input",6,1),oa("ngModelChange",function(p){return Ut(s),Ca(r.baseUrl,p)||(r.baseUrl=p),zt(p)}),et(),Ht(17,z_t,2,0,"mat-error",7),et(),q(18,"mat-form-field")(19,"mat-label"),ut(20,"User Tag"),et(),q(21,"input",8,2),oa("ngModelChange",function(p){return Ut(s),Ca(r.userTag,p)||(r.userTag=p),zt(p)}),et(),Ht(23,G_t,2,0,"mat-error",7),et(),q(24,"div",9)(25,"button",10),ut(26,"Open FHIR Repository"),et(),q(27,"button",11),ut(28,"Close"),et()()()()}if(2&n){const s=Zi(11),o=Zi(16),p=Zi(22);ot(15),aa("ngModel",r.baseUrl),ot(2),xt("ngIf",o.invalid&&o.touched),ot(4),aa("ngModel",r.userTag),ot(2),xt("ngIf",p.invalid&&p.touched),ot(2),xt("disabled",!s.valid)}},dependencies:[Qs,ua,El,nl,MG,Ju,ag,Cl,Oo,ng,lC,FM,_l,gf,fg],styles:[".form-container[_ngcontent-%COMP%]{margin:auto;padding:20px}mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.warning[_ngcontent-%COMP%]{color:#ff9500;font-weight:lighter;font-style:italic}"]})}return e})(),oR=(()=>{class e{constructor(t,n){this.data=t,this.dialogRef=n}static#t=this.\u0275fac=function(n){return new(n||e)(ht(TC),ht(th))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-confirmation-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"button-container"],["mat-button","",3,"mat-dialog-close"]],template:function(n,r){1&n&&(q(0,"h1",0),ut(1),et(),q(2,"div",1)(3,"p"),ut(4),et()(),q(5,"div",2)(6,"button",3),ut(7,"Yes"),et(),q(8,"button",3),ut(9,"No"),et()()),2&n&&(ot(),ze(r.data.title),ot(3),ze(r.data.message),ot(2),xt("mat-dialog-close",!0),ot(2),xt("mat-dialog-close",!1))},dependencies:[ua,fg,eR,Gx,zx],encapsulation:2})}return e})();const H_t=new qt("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let u7=(()=>{class e{constructor(t,n,r,s,o){this._elementRef=t,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=s,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new Ae,this._mode="determinate",this._transitionendHandler=p=>{0===this.animationEnd.observers.length||!p.target||!p.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===s,o&&(o.color&&(this.color=this._defaultColor=o.color),this.mode=o.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=h7(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=h7(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Ze),ht(Dn),ht(Sr,8),ht(H_t,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,r){2&n&&(_i("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),gl("mat-"+r.color),yi("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[Wt.HasDecoratorInputTransform,"value","value",zr],bufferValue:[Wt.HasDecoratorInputTransform,"bufferValue","bufferValue",zr],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[an,Bi],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,r){1&n&&(q(0,"div",0),be(1,"div",1)(2,"div",2),et(),q(3,"div",3),be(4,"span",4),et(),q(5,"div",5),be(6,"span",4),et()),2&n&&(ot(),vs("flex-basis",r._getBufferBarFlexBasis()),ot(2),vs("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E\")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}return e})();function h7(e,i=0,t=100){return Math.max(i,Math.min(t,e))}let X_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i]})}return e})();const j_t=["questionnairesList"];function Y_t(e,i){if(1&e&&(q(0,"div",19),be(1,"mat-progress-bar",20),q(2,"div",21),ut(3),et()()),2&e){const t=St();ot(),xt("value",t.validatingProgress),ot(2),ri("",t.validatingProgress,"%")}}function $_t(e,i){if(1&e){const t=ge();q(0,"button",22),Vt("click",function(){return Ut(t),zt(St().saveQuestionnaire())}),ut(1," Save changes "),et()}if(2&e){const t=St();xt("disabled",t.validating||!t.questionnaire)}}function Q_t(e,i){1&e&&(q(0,"span"),ut(1,"Run validation"),et())}function K_t(e,i){1&e&&be(0,"mat-spinner",26)}function Z_t(e,i){if(1&e){const t=ge();q(0,"button",23),Vt("click",function(){return Ut(t),zt(St().validate())}),Ht(1,Q_t,2,0,"span",24)(2,K_t,1,0,"mat-spinner",25),et()}if(2&e){const t=St();ot(),xt("ngIf",!t.validating),ot(),xt("ngIf",t.validating)}}function J_t(e,i){if(1&e&&(q(0,"span",32),ut(1),et()),2&e){const t=St(2);ot(),ri("Error: ",t.loadResults.error,"")}}function q_t(e,i){if(1&e&&(q(0,"span",33),ut(1),et()),2&e){const t=St(2);ot(),ri("Inactive: ",t.loadResults.inactive,"")}}function tEt(e,i){if(1&e&&(q(0,"span",34),ut(1),et()),2&e){const t=St(2);ot(),ri("Active: ",t.loadResults.active,"")}}function eEt(e,i){if(1&e&&(q(0,"p",27)(1,"b"),ut(2,"Questionnaire:"),et(),ut(3),q(4,"i"),ut(5),et(),ut(6,") - "),q(7,"span",28),ut(8),et(),ut(9),Ua(10,"date"),Ht(11,J_t,2,1,"span",29)(12,q_t,2,1,"span",30)(13,tEt,2,1,"span",31),et()),2&e){const t=St();ot(3),ri(" ",t.questionnaire.title," ("),ot(2),ze(t.questionnaire.url),ot(3),ri("",t.dataSource.data.length," bindings"),ot(),vd(" - - Version: ",t.questionnaire.meta.versionId," (",Mu(10,8,t.questionnaire.meta.lastUpdated,"fullDate"),") "),ot(2),xt("ngIf",t.loadResults.total>0),ot(),xt("ngIf",t.loadResults.total>0),ot(),xt("ngIf",t.loadResults.total>0)}}function iEt(e,i){1&e&&(q(0,"th",35),ut(1," # "),et())}function nEt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.order," ")}}function rEt(e,i){1&e&&(q(0,"th",35),ut(1," FHIRPath "),et())}function sEt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.path," ")}}function aEt(e,i){1&e&&(q(0,"th",35),ut(1," Path "),et())}function oEt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.readablePath," ")}}function lEt(e,i){1&e&&(q(0,"th",35),ut(1,"Code "),et())}function cEt(e,i){if(1&e&&(q(0,"td",36)(1,"a",37),ut(2),et()()),2&e){const t=i.$implicit;ot(),vw("href","http://snomed.info/id/",t.code,"",r0),ot(),ze(t.code)}}function dEt(e,i){1&e&&(q(0,"th",35),ut(1," Display "),et())}function uEt(e,i){if(1&e&&(q(0,"p",41),ut(1),et()),2&e){const t=St().$implicit;ot(),ri("Concept FSN: ",t.serverDisplay,"")}}function hEt(e,i){1&e&&(q(0,"p",42),ut(1,"Concept is inactive"),et())}function fEt(e,i){if(1&e){const t=ge();q(0,"p",43),ut(1),q(2,"button",44),Vt("click",function(){const r=Ut(t).$implicit,s=St().$implicit;return zt(St().replaceInactiveConcept(s,r.replacement))}),q(3,"mat-icon"),ut(4,"arrow_forward"),et()()()}if(2&e){const t=i.$implicit,n=St(2);ot(),L0(" Replacement: ",t.equivalence," to ",t.replacement.code," |",t.replacement.display,"| "),ot(),xt("disabled",n.validating)}}function mEt(e,i){if(1&e&&(q(0,"td",36),ut(1),Ht(2,uEt,2,1,"p",38)(3,hEt,2,0,"p",39)(4,fEt,5,4,"p",40),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.display," "),ot(),xt("ngIf",t.serverDisplay),ot(),xt("ngIf","Inactive"==t.status),ot(),xt("ngForOf",t.replacements)}}function pEt(e,i){1&e&&(q(0,"th",35),ut(1," System "),et())}function gEt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.system," ")}}function vEt(e,i){1&e&&(q(0,"th",35),ut(1," Status "),et())}function xEt(e,i){1&e&&(q(0,"span"),be(1,"mat-progress-bar",45),et())}function yEt(e,i){if(1&e&&(q(0,"span")(1,"span",46),ut(2),et()()),2&e){const t=St().$implicit;ot(),xt("ngClass",t.status),ot(),ze(t.status)}}function bEt(e,i){if(1&e&&(q(0,"td",36),Ht(1,xEt,2,0,"span",24)(2,yEt,3,2,"span",24),et()),2&e){const t=i.$implicit;ot(),xt("ngIf","Validating"==t.status),ot(),xt("ngIf","Validating"!=t.status)}}function wEt(e,i){1&e&&be(0,"tr",47)}function TEt(e,i){1&e&&be(0,"tr",48)}function CEt(e,i){1&e&&be(0,"mat-spinner",49)}let _Et=(()=>{class e{constructor(t,n){this.terminologyService=t,this._snackBar=n,this.questionnaireUpdated=new Ae,this.validatingQuestionnaire=new Ae,this.loading=!1,this.validating=!1,this.displayedColumns=["order","readablePath","code","display","system","status"],this.dataSource=new ff,this.validatingProgress=0,this.orderCounter=0,this.loadResults={total:0,active:0,inactive:0,error:0},this.requiresSave=!1}ngOnChanges(t){t.questionnaire&&(this.questionnaire?this.loadQuestionnaire(this.questionnaire):this.clearQuestionnaire())}clearQuestionnaire(){this.questionnaire=null,this.dataSource.data=[],this.orderCounter=0,this.validatingProgress=0,this.loadResults={total:0,active:0,inactive:0,error:0}}loadQuestionnaire(t){this.loading=!0,this.clearQuestionnaire(),setTimeout(()=>{this.loading=!1,this.questionnaire=t;let n=this.extractObjects(t);this.dataSource.data=n,this.dataSource.sort=this.sort},700)}validate(){var t=this;this.loadResults={total:0,active:0,inactive:0,error:0},this.dataSource.data.forEach(s=>{s.status="Not checked"}),this.validating=!0,this.validatingQuestionnaire.emit(!0);let n=this.dataSource.data.length,r=0;this.asyncForEach(this.dataSource.data,function(){var s=de(function*(o){t.loadResults.total++,o.status="Validating",r++,t.validatingProgress=Math.round(r/n*100);try{const p=yield t.terminologyService.lookupConcept(o.code,o.system).pipe(yl()).toPromise();let C=[],D="";for(const R of p.parameter){if("designation"===R.name){let F="",B="";for(const V of R.part)"value"===V.name&&(F=V.valueString),"use"===V.name&&(B=V.valueCoding?.code);C.push(F),"900000000000003001"===B&&(D=F)}"inactive"===R.name&&(R.valueBoolean?(o.status="Inactive",t.loadResults.inactive++):(o.status="Active",t.loadResults.active++))}if((!o.display||!C.includes(o.display))&&(o.serverDisplay=D),"Inactive"==o.status){const R=yield t.getHistoricalAssociationsTarget("900000000000527005",o.code),F=yield t.getHistoricalAssociationsTarget("900000000000530003",o.code),B=yield t.getHistoricalAssociationsTarget("900000000000523009",o.code),V=yield t.getHistoricalAssociationsTarget("900000000000526001",o.code),X=R.concat(F,B,V);o.replacements=X}}catch{o.status="Error",t.loadResults.error++}});return function(o){return s.apply(this,arguments)}}()).then(()=>{this.validating=!1,this.validatingQuestionnaire.emit(!1)})}getHistoricalAssociationsTarget(t,n){var r=this;return de(function*(){let s=[];const o=r.terminologyService.translate(t,n);let p=yield da(o.pipe(Di(C=>C)));if(p.parameter)for(const C of p.parameter)if("match"===C.name){let D={replacement:{},equivalence:""};for(const R of C.part)"concept"===R.name&&R.valueCoding&&(D.replacement={code:R.valueCoding.code,display:R.valueCoding.display,system:R.valueCoding.system}),"equivalence"===R.name&&R.valueCode&&(D.equivalence=R.valueCode);s.push(D)}return s})()}removeSemanticTag(t){return t.replace(/\s*\([^)]+\)\s*$/,"").trim().toLowerCase()}asyncForEach(t,n){return de(function*(){for(let r=0;r<t.length;r++)yield n(t[r],r,t)})()}extractObjects(t,n="",r=""){let s=[];if("object"!=typeof t||null===t)return s;if(t.text&&(r=r?`${r} -> ${t.text}`:t.text),t.system&&t.system.startsWith("http://snomed.info/sct")&&t.code&&t.display){this.orderCounter++;const o={order:this.orderCounter,system:t.system,code:t.code,display:t.display,path:n,readablePath:r,status:"Not checked"};s.some(p=>p.system===o.system&&p.code===o.code&&p.display===o.display)||s.push(o)}if(Array.isArray(t))for(let o in t)s=s.concat(this.extractObjects(t[o],`${n}[${o}]`,r));else for(let o in t)t.hasOwnProperty(o)&&(s=s.concat(this.extractObjects(t[o],n?`${n}.${o}`:o,r)));if(t.answerValueSet&&t.answerValueSet.startsWith("http")){const p=new URL(t.answerValueSet).searchParams.get("fhir_vs");if(p){const C=decodeURIComponent(p),D=/(\d{5,})(?:\s*\|\s*([^|]*)\s*\|)?/g;let R;for(;null!==(R=D.exec(C));)this.orderCounter++,s.push({order:this.orderCounter,code:R[1],display:R[2]?R[2].trim():void 0,system:"http://snomed.info/sct",path:n+".answerValueSet",readablePath:r+" -> answerValueSet [ECL]",status:"Not checked"})}}return s}replaceInactiveConcept(t,n){this.searchAndReplace(this.questionnaire,t,n,!1)&&(this.requiresSave=!0,this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Inactive reference replaced successfully. Save the questionnaire to persist the changes.",panelClass:["green-snackbar"]}))}saveQuestionnaire(){this.questionnaireUpdated.emit(this.questionnaire)}searchAndReplace(t,n,r,s){if("object"!=typeof t||null===t)return s;if(t.system==n.system&&t.code==n.code&&t.display==n.display&&(t.system=r.system,t.code=r.code,t.display=r.display,s=!0),t.answerValueSet){const o=new URL(t.answerValueSet),p=o.searchParams.get("fhir_vs");if(p){const C=decodeURIComponent(p),D=new RegExp(`(\\s|^)${n.code}(\\s|$|\\|)`,"g");if(D.test(C)){const R=C.replace(D,`$1${r.code}$2`);s=!0;const F=new RegExp(`\\|\\s*${n.display}\\s*\\|`,"g");if(F.test(R)){const B=R.replace(F,`| ${r.display} |`);o.searchParams.set("fhir_vs",encodeURIComponent(B)),t.answerValueSet=o.toString()}o.searchParams.set("fhir_vs",encodeURIComponent(R)),t.answerValueSet=o.toString()}}}if(Array.isArray(t))for(let o in t)s=this.searchAndReplace(t[o],n,r,s);else for(let o in t)t.hasOwnProperty(o)&&(s=this.searchAndReplace(t[o],n,r,s));if(s&&this.dataSource.data)for(let o in this.dataSource.data)this.dataSource.data[o].system==n.system&&this.dataSource.data[o].code==n.code&&this.dataSource.data[o].display==n.display&&(this.dataSource.data[o].system=r.system,this.dataSource.data[o].code=r.code,this.dataSource.data[o].display=r.display,this.dataSource.data[o].status="Active",this.dataSource.data[o].replacements=[]);return s}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs),ht(Hu))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-validate-questionnaire"]],viewQuery:function(n,r){if(1&n&&(Ai(eh,5),Ai(yf,5),Ai(j_t,5)),2&n){let s;Oe(s=Le())&&(r.sort=s.first),Oe(s=Le())&&(r.tabGroup=s.first),Oe(s=Le())&&(r.questionnairesList=s.first)}},inputs:{questionnaire:"questionnaire"},outputs:{questionnaireUpdated:"questionnaireUpdated",validatingQuestionnaire:"validatingQuestionnaire"},features:[nr],decls:31,vars:8,consts:[[1,"button-container","bottom-spacer"],["class","progress-container",4,"ngIf"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["class","header","id","tab-header",4,"ngIf"],[1,"table-container","mt-4"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","order"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","path"],["matColumnDef","readablePath"],["matColumnDef","code"],["matColumnDef","display"],["matColumnDef","system"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","35","class","loading-spinner",4,"ngIf"],[1,"progress-container"],["mode","determinate",3,"value"],[1,"progress-label"],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-flat-button","","color","accent",3,"click"],[4,"ngIf"],["diameter","20",4,"ngIf"],["diameter","20"],["id","tab-header",1,"header"],[1,"bindingsCount"],["class","mini-pill Error",4,"ngIf"],["class","mini-pill Inactive",4,"ngIf"],["class","mini-pill Active",4,"ngIf"],[1,"mini-pill","Error"],[1,"mini-pill","Inactive"],[1,"mini-pill","Active"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["target","_blank",1,"code-link",3,"href"],["class","server-name",4,"ngIf"],["class","concept-is-inactive",4,"ngIf"],["class","replacement",4,"ngFor","ngForOf"],[1,"server-name"],[1,"concept-is-inactive"],[1,"replacement"],["mat-icon-button","","color","primary","matTooltip","Replace using this concept",3,"click","disabled"],["mode","indeterminate"],[1,"pill",3,"ngClass"],["mat-header-row",""],["mat-row",""],["diameter","35",1,"loading-spinner"]],template:function(n,r){1&n&&(q(0,"div",0),Ht(1,Y_t,4,2,"div",1)(2,$_t,2,1,"button",2)(3,Z_t,3,2,"button",3),et(),Ht(4,eEt,14,11,"p",4),q(5,"div",5)(6,"table",6),nn(7,7),Ht(8,iEt,2,0,"th",8)(9,nEt,2,1,"td",9),rn(),nn(10,10),Ht(11,rEt,2,0,"th",8)(12,sEt,2,1,"td",9),rn(),nn(13,11),Ht(14,aEt,2,0,"th",8)(15,oEt,2,1,"td",9),rn(),nn(16,12),Ht(17,lEt,2,0,"th",8)(18,cEt,3,3,"td",9),rn(),nn(19,13),Ht(20,dEt,2,0,"th",8)(21,mEt,5,4,"td",9),rn(),nn(22,14),Ht(23,pEt,2,0,"th",8)(24,gEt,2,1,"td",9),rn(),nn(25,15),Ht(26,vEt,2,0,"th",8)(27,bEt,3,2,"td",9),rn(),Ht(28,wEt,1,0,"tr",16)(29,TEt,1,0,"tr",17),et(),Ht(30,CEt,1,0,"mat-spinner",18),et()),2&n&&(ot(),xt("ngIf",r.validating),ot(),xt("ngIf",r.requiresSave),ot(),xt("ngIf",!r.validating&&r.questionnaire),ot(),xt("ngIf",r.questionnaire),ot(2),xt("dataSource",r.dataSource),ot(22),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(),xt("ngIf",r.loading))},dependencies:[Jl,xs,Qs,ua,xo,ha,u7,Wu,Xu,Ud,ju,zd,Vd,Yu,Gd,Hd,$u,Qu,qu,eh,rR,Fu],styles:[".header[_ngcontent-%COMP%]{margin-left:2rem;margin-top:1rem}.table-container[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem;padding-bottom:2rem}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.bottom-spacer[_ngcontent-%COMP%]{margin-bottom:1rem}.pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;font-size:.8rem}.pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mini-pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;text-align:center;font-weight:700;font-size:.9rem;margin-right:2rem;float:right}.mini-pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mini-pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.mini-pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.progress-container[_ngcontent-%COMP%]{margin-top:1rem;position:relative;width:30%}.progress-label[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:60%;transform:translateY(-50%);font-size:.9rem;font-weight:700}.bindingsCount[_ngcontent-%COMP%]{font-size:1rem;font-weight:lighter}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.code-link[_ngcontent-%COMP%]{font-size:.8rem}.server-name[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:maroon}.replacement[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:#00800b;display:flex;align-items:center;font-size:.9rem;margin-left:2rem}.concept-is-inactive[_ngcontent-%COMP%]{color:maroon;font-size:.9rem;margin-bottom:0rem}#myFormContainer[_ngcontent-%COMP%], #tab-header[_ngcontent-%COMP%]{margin-top:1rem}.tab-container[_ngcontent-%COMP%]{padding:2rem}.outgoing-link[_ngcontent-%COMP%]{font-size:.8rem;float:right;margin-right:2rem}"]})}return e})();const EEt=e=>["status-pill",e],SEt=()=>["status-pill","active"],AEt=()=>["status-pill","draft"];function DEt(e,i){1&e&&(q(0,"th",15),ut(1," Title "),et())}function IEt(e,i){if(1&e&&(q(0,"td",16),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.title," ")}}function MEt(e,i){1&e&&(q(0,"th",15),ut(1," Status "),et())}function REt(e,i){if(1&e&&(q(0,"td",16)(1,"span",17),ut(2),Ua(3,"uppercase"),et()()),2&e){const t=i.$implicit;ot(),xt("ngClass",Kl(4,EEt,t.status)),ot(),ze(xd(3,2,t.status))}}function kEt(e,i){1&e&&(q(0,"th",15),ut(1," Version "),et())}function PEt(e,i){if(1&e&&(q(0,"td",16),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.meta.versionId," ")}}function FEt(e,i){1&e&&(q(0,"th",15),ut(1," Date "),et())}function OEt(e,i){if(1&e&&(q(0,"td",16)(1,"i"),ut(2),Ua(3,"date"),et()()),2&e){const t=i.$implicit;ot(2),ze(Mu(3,1,t.meta.lastUpdated,"MMMM d, y, h:mm:ss a"))}}function LEt(e,i){1&e&&(q(0,"th",15),ut(1," Type "),et())}function NEt(e,i){1&e&&(q(0,"span",17),ut(1,"QUESTIONNAIRE"),et()),2&e&&xt("ngClass",ko(1,SEt))}function BEt(e,i){1&e&&(q(0,"span",17),ut(1,"MODULAR ROOT"),et()),2&e&&xt("ngClass",ko(1,AEt))}function VEt(e,i){if(1&e&&(q(0,"td",16),Ht(1,NEt,2,2,"span",18)(2,BEt,2,2,"span",18),et()),2&e){const t=i.$implicit,n=St();ot(),xt("ngIf",!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.isRootQuestionnaire(t))}}function UEt(e,i){1&e&&(q(0,"th",19),ut(1," Actions "),et())}function zEt(e,i){if(1&e){const t=ge();q(0,"button",24),Vt("click",function(){Ut(t);const r=St().$implicit;return zt(St().restore(r))}),q(1,"mat-icon"),ut(2,"restore_page"),et()()}}function GEt(e,i){if(1&e){const t=ge();q(0,"td",16)(1,"button",20),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().preview(r))}),q(2,"mat-icon"),ut(3,"visibility"),et()(),q(4,"button",21),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().openInNewTab(r))}),q(5,"mat-icon"),ut(6,"open_in_new"),et()(),q(7,"button",22),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().saveQuestionnaire(r))}),q(8,"mat-icon"),ut(9,"cloud_download"),et()(),Ht(10,zEt,3,0,"button",23),et()}if(2&e){const t=i.$implicit,n=St();ot(10),xt("ngIf",(null==t||null==t.meta?null:t.meta.versionId)!=(null==n.versions[0]||null==n.versions[0].meta?null:n.versions[0].meta.versionId))}}function HEt(e,i){1&e&&be(0,"tr",25)}function WEt(e,i){1&e&&be(0,"tr",26)}function XEt(e,i){1&e&&(q(0,"p",27)(1,"i"),ut(2," No questionnaire selected. "),et()())}function jEt(e,i){1&e&&be(0,"mat-spinner",28)}let YEt=(()=>{class e{constructor(t){this.fhirService=t,this.previewQuestionnaire=new Ae,this.restoreQuestionnaireVersion=new Ae,this.versions=[],this.loading=!1,this.selectedFhirServer="",this.selectedUserTag="",this.displayedColumns=["title","status","version","lastUpdated","type","actions"],this.dataSource=new ff}ngOnChanges(t){t.questionnaire&&t.questionnaire.currentValue&&t.questionnaire.currentValue.id&&this.loadVersions()}ngOnInit(){_d([this.fhirService.baseUrl$.pipe(Ad(1e3),Dd()),this.fhirService.userTag$.pipe(Ad(1e3),Dd())]).subscribe(([t,n])=>{(this.selectedFhirServer!==t||this.selectedUserTag!==n)&&(this.selectedFhirServer=t,this.selectedUserTag=n,this.selectedUserTag&&this.selectedFhirServer&&this.loadVersions())})}loadVersions(t){this.versions=[],this.dataSource.data=this.versions,t&&(this.questionnaire=t),this.questionnaire&&(this.loading=!0,this.fhirService.getQuestionnaireHistory(this.questionnaire.id).subscribe(n=>{this.versions=n.entry.map(r=>r.resource),this.dataSource.data=this.versions,this.loading=!1},n=>{this.loading=!1}))}preview(t){this.previewQuestionnaire.emit(t),this.loadVersions()}openInNewTab(t){window.open(this.selectedFhirServer+"/Questionnaire/"+t.id+"/_history/"+t.meta.versionId,"_blank")}saveQuestionnaire(t){var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});Vc(n,`${t.title}-v${t.meta.versionId}.json`)}restore(t){this.restoreQuestionnaireVersion.emit(t)}isRootQuestionnaire(t){return!(!t.extension||!Array.isArray(t.extension))&&t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(pg))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-questionnaire-history"]],inputs:{questionnaire:"questionnaire"},outputs:{previewQuestionnaire:"previewQuestionnaire",restoreQuestionnaireVersion:"restoreQuestionnaireVersion"},features:[nr],decls:24,vars:5,consts:[[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","version"],["matColumnDef","lastUpdated"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","not-found",4,"ngIf"],["diameter","35","class","loading-spinner",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],[3,"ngClass",4,"ngIf"],["mat-header-cell",""],["mat-icon-button","","color","accent","matTooltip","Preview Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Open resource in new tab",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Download Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Restore Version",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","Restore Version",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"],["diameter","35",1,"loading-spinner"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"table",1),nn(2,2),Ht(3,DEt,2,0,"th",3)(4,IEt,2,1,"td",4),rn(),nn(5,5),Ht(6,MEt,2,0,"th",3)(7,REt,4,6,"td",4),rn(),nn(8,6),Ht(9,kEt,2,0,"th",3)(10,PEt,2,1,"td",4),rn(),nn(11,7),Ht(12,FEt,2,0,"th",3)(13,OEt,4,4,"td",4),rn(),nn(14,8),Ht(15,LEt,2,0,"th",3)(16,VEt,3,2,"td",4),rn(),nn(17,9),Ht(18,UEt,2,0,"th",10)(19,GEt,11,1,"td",4),rn(),Ht(20,HEt,1,0,"tr",11)(21,WEt,1,0,"tr",12),et(),Ht(22,XEt,3,0,"p",13)(23,jEt,1,0,"mat-spinner",14),et()),2&n&&(ot(),xt("dataSource",r.dataSource),ot(19),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(),xt("ngIf",!r.questionnaire),ot(),xt("ngIf",r.loading))},dependencies:[Jl,Qs,xo,ha,Wu,Xu,Ud,ju,zd,Vd,Yu,Gd,Hd,$u,Qu,qu,eh,rR,x2,Fu],styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-text[_ngcontent-%COMP%]{flex-grow:1}.list-subtext[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-left:1rem}.action-button[_ngcontent-%COMP%]{margin-left:8px}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:15px;font-size:10px;color:#fff;text-align:center;margin-left:1rem}.status-pill.draft[_ngcontent-%COMP%]{background-color:#007bff}.status-pill.unknown[_ngcontent-%COMP%]{background-color:#ffc107}.status-pill.active[_ngcontent-%COMP%]{background-color:#28a745}.status-pill.retired[_ngcontent-%COMP%]{background-color:#dc3545}.not-found[_ngcontent-%COMP%]{margin-top:2rem}#outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.download-button-container[_ngcontent-%COMP%]{margin-top:10px}.table-container[_ngcontent-%COMP%]{margin:2rem;padding-bottom:2rem}"]})}return e})();const $Et=["questionnairesList"],QEt=["fileInput"],KEt=["questionnaireHistory"];function ZEt(e,i){1&e&&(q(0,"span"),ut(1," / Validator"),et())}function JEt(e,i){1&e&&(q(0,"span"),ut(1," / Questionnaires repository"),et())}function qEt(e,i){if(1&e){const t=ge();q(0,"span",19)(1,"a",20),Vt("click",function(){return Ut(t),zt(St(3).mode="Manager")}),q(2,"mat-icon"),ut(3,"play_arrow"),et(),q(4,"span"),ut(5,"Reconnect to last FHIR Server"),et()()()}}function tSt(e,i){if(1&e&&(q(0,"span",19)(1,"span",21),ut(2),q(3,"i"),ut(4),et(),ut(5,'" )'),et()()),2&e){const t=St(3);ot(2),ri(" ( ",t.selectedFhirServer,' as "'),ot(2),ze(t.selectedUserTag)}}function eSt(e,i){if(1&e){const t=ge();q(0,"div",14)(1,"h3",15),ut(2,"Work with the Questionnaire Manager"),et(),q(3,"p",15),ut(4,"Connect to a FHIR server to store and version your questionnaire resources. Use the integrated questionnaire manager, editor and validator."),et(),q(5,"div",16)(6,"button",17),Vt("click",function(){Ut(t);const r=St(2);return r.step1Response="repository",zt(r.advanceFromStep1())}),ut(7,"Connect to a FHIR Server and Open Repository Manager"),et(),Ht(8,qEt,6,0,"span",18)(9,tSt,6,2,"span",18),et()()}if(2&e){const t=St(2);ot(8),xt("ngIf",t.selectedFhirServer&&t.selectedUserTag),ot(),xt("ngIf",t.selectedFhirServer&&t.selectedUserTag)}}function iSt(e,i){if(1&e){const t=ge();q(0,"div",22)(1,"h3",15),ut(2,"Work with a single questionnaire"),et(),q(3,"p",15),ut(4,"Create, preview or validate a questionnaire you upload from your computer."),et(),q(5,"div",23)(6,"button",17),Vt("click",function(){Ut(t);const r=St(2);return r.step1Response="edit",zt(r.advanceFromStep1())}),ut(7,"Open NLM Form Builder"),et(),q(8,"button",17),Vt("click",function(){Ut(t);const r=St(2);return r.step1Response="example",zt(r.advanceFromStep1())}),ut(9,"Load an example questionnaire"),et(),q(10,"button",17),Vt("click",function(){Ut(t);const r=St(2);return r.step1Response="validate",zt(r.advanceFromStep1())}),ut(11,"Upload and validate a questionnaire"),et()()()}}function nSt(e,i){if(1&e&&(q(0,"div",10)(1,"div",11),Ht(2,eSt,10,2,"div",12)(3,iSt,12,0,"div",13),et()()),2&e){const t=St();ot(2),xt("ngIf","step1"==t.mode),ot(),xt("ngIf","utility"==t.mode)}}function rSt(e,i){if(1&e&&(q(0,"span"),ut(1," Connected to "),q(2,"a",37),ut(3),et(),ut(4,' as "'),q(5,"i"),ut(6),et(),ut(7,'" '),et()),2&e){const t=St(2);ot(2),xt("href",t.selectedFhirServer,r0),ot(),ze(t.selectedFhirServer),ot(3),ze(t.selectedUserTag)}}function sSt(e,i){if(1&e){const t=ge();q(0,"button",26),Vt("click",function(){return Ut(t),zt(St(2).createQuestionnaire())}),ut(1," Create Questionnaire "),et()}2&e&&xt("disabled",St(2).validating)}function aSt(e,i){if(1&e){const t=ge();q(0,"button",26),Vt("click",function(){return Ut(t),zt(St(2).openModularQuestionnaireModal())}),ut(1," Create Modular Questionnaire "),et()}2&e&&xt("disabled",St(2).validating)}function oSt(e,i){if(1&e){const t=ge();q(0,"mat-tab",38)(1,"div",31)(2,"app-list-questionnaires",39,3),Vt("validateQuestionnaire",function(r){return Ut(t),zt(St(2).switchToValidateTab(r))})("previewQuestionnaire",function(r){return Ut(t),zt(St(2).switchToPreviewTab(r))})("viewQuestionaireHistory",function(r){return Ut(t),zt(St(2).switchToHistoryTab(r))}),et()()()}if(2&e){const t=St(2);ot(2),xt("config",t.listConfig)}}function lSt(e,i){if(1&e&&(q(0,"h4"),ut(1),Ua(2,"date"),et()),2&e){const t=St(2);ot(),L0("",t.questionnaire.title," - Version: ",t.questionnaire.meta.versionId," (",Mu(2,3,t.questionnaire.meta.lastUpdated,"fullDate"),")")}}function cSt(e,i){if(1&e){const t=ge();q(0,"div")(1,"div",24),Ht(2,rSt,8,3,"span",8),q(3,"input",25,0),Vt("change",function(r){return Ut(t),zt(St().onFileSelected(r))}),et(),q(5,"button",26),Vt("click",function(){return Ut(t),zt(Zi(4).click())}),ut(6," Upload "),et(),q(7,"button",26),Vt("click",function(){return Ut(t),zt(St().saveQuestionnaireToDisk())}),ut(8,"Download"),et(),Ht(9,sSt,2,1,"button",27)(10,aSt,2,1,"button",27),et(),q(11,"mat-tab-group",28),Vt("selectedIndexChange",function(r){return Ut(t),zt(St().onTabChange(r))}),Ht(12,oSt,4,1,"mat-tab",29),q(13,"mat-tab",30)(14,"div",31),Ht(15,lSt,3,6,"h4",8),be(16,"div",32),et()(),q(17,"mat-tab",33)(18,"app-validate-questionnaire",34,1),Vt("questionnaireUpdated",function(r){return Ut(t),zt(St().saveQuestionnaire(r))})("validatingQuestionnaire",function(r){return Ut(t),zt(St().validating=r)}),et()(),q(20,"mat-tab",35)(21,"app-questionnaire-history",36,2),Vt("previewQuestionnaire",function(r){return Ut(t),zt(St().switchToPreviewTab(r))})("restoreQuestionnaireVersion",function(r){return Ut(t),zt(St().saveQuestionnaire(r))}),et()()()()}if(2&e){const t=St();ot(2),xt("ngIf","Manager"==t.mode),ot(3),xt("disabled",t.validating),ot(2),xt("disabled",t.validating||!t.questionnaire),ot(2),xt("ngIf","Manager"==t.mode),ot(),xt("ngIf","Manager"==t.mode),ot(2),xt("ngIf","Manager"===t.mode),ot(3),xt("ngIf",t.questionnaire),ot(),yi("hidden",!t.questionnaire),ot(2),xt("questionnaire",t.questionnaire),ot(3),xt("questionnaire",t.questionnaire)}}let dSt=(()=>{class e{constructor(t,n,r,s,o,p,C){this.http=t,this.terminologyService=n,this.fhirService=r,this.questionnaireService=s,this.activatedRoute=o,this.dialog=p,this._snackBar=C,this.loading=!1,this.validating=!1,this.orderCounter=0,this.savingQuestionnaire=!1,this.selectedFhirServer="",this.selectedUserTag="",this.showFhirSetupModal=!1,this.listConfig={validate:!0,preview:!0},this.mode="step1"}ngOnInit(){this.fhirService.baseUrl$.subscribe(t=>{this.selectedFhirServer=t}),this.fhirService.userTag$.subscribe(t=>{this.selectedUserTag=t}),this.activatedRoute.queryParams.subscribe(t=>{this.mode="true"===t.utility?"utility":"step1"}),this.loadScript()}loadScript(){const t=document.createElement("script");t.src="https://clinicaltables.nlm.nih.gov/lforms-versions/36.3.2/webcomponent/lhc-forms.js",t.onload=()=>{const n=document.createElement("script");n.src="https://clinicaltables.nlm.nih.gov/lforms-versions/36.3.2/fhir/R4/lformsFHIR.min.js",n.onload=()=>{},document.head.appendChild(n)},document.head.appendChild(t)}toggleMode(){"Validator"===this.mode?this.dialog.open(aR,{width:"60%",disableClose:!0}).afterClosed().subscribe(n=>{"save"===n&&(this.mode="Manager",setTimeout(()=>{this.tabGroup.selectedIndex=0},500))}):this.mode="Validator"}previewForm(){"Preview"==this.getCurrentTabName()&&(this.questionnaire?LForms.Util.addFormToPage(this.questionnaire,"myFormContainer"):LForms.Util.addFormToPage({},"myFormContainer"))}getFormData(){this.questionnaire&&LForms.Util.getFormData("myFormContainer",!0,!0,!0)}displayHistory(t){t&&this.questionnaireHistory.loadVersions(t)}loadExampleQuestionnaire(){da(this.http.get("assets/questionnaires/Carcinoma-of-the-Exocrine-Pancreas-Histopathology-Reporting-Form.R4 (11).json")).then(t=>{this.loadQuestionnaire(t),"Manager"===this.mode&&(this.tabGroup.selectedIndex=1)})}clearQuestionnaire(){this.questionnaire=null,this.orderCounter=0,this.previewForm()}createQuestionnaire(){this.questionnairesList.createQuestionnaire()}loadQuestionnaire(t){this.loading=!0,this.clearQuestionnaire(),setTimeout(()=>{this.loading=!1,this.questionnaire=t,this.previewForm()},700)}saveQuestionnaireToDisk(){var t=new Blob([JSON.stringify(this.questionnaire,null,2)],{type:"text/plain;charset=utf-8"});Vc(t,`${this.questionnaire.title}.json`)}onFileSelected(t){const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const o=JSON.parse(s.target?.result);"Questionnaire"===o.resourceType?(this.loadQuestionnaire(o),setTimeout(()=>{"Manager"===this.mode?this.postCurrentQuestionnaire():this.tabGroup.selectedIndex=1},1e3)):this._snackBar.openFromComponent(Cr,{duration:5e3,data:"The file is not a FHIR Questionnaire Resource",panelClass:["red-snackbar"]})}catch(o){console.error(o),this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Invalid JSON file",panelClass:["red-snackbar"]})}},r.readAsText(n),t.target.value=""}}postCurrentQuestionnaire(){this.postQuestionnaire(this.questionnaire)}postQuestionnaire(t){if(-1!==this.questionnairesList.questionnaires.findIndex(r=>r.title===t.title&&r.id!==t.id))this.dialog.open(oR,{width:"400px",data:{title:"Confirm Action",message:"A questionnaire with the same title and different ID already exists. Do you want to proceed?"}}).afterClosed().subscribe(s=>{s?this.saveQuestionnaire(t):this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Questionnaire save action cancelled",panelClass:["red-snackbar"]})});else{-1!==this.questionnairesList.questionnaires.findIndex(o=>o.title===t.title&&o.id===t.id&&o.meta?.versionId>=t.meta?.versionId)?this.dialog.open(oR,{width:"400px",data:{title:"Confirm Action",message:"A newer version or identical of this questionnaire already exists. Do you want to proceed?"}}).afterClosed().subscribe(p=>{p?this.saveQuestionnaire(t):this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Questionnaire save action cancelled",panelClass:["red-snackbar"]})}):this.saveQuestionnaire(t)}}saveQuestionnaire(t){t?(this.savingQuestionnaire=!0,this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Saving Questionnaire...",panelClass:["green-snackbar"]}),t.meta||(t.meta={}),t.meta.tag=[{system:"http://snomed.org/tags",code:this.selectedUserTag,display:this.selectedUserTag},{system:"http://snomed.org/tags",code:"questionnaireManagerTool",display:"questionnaireManagerTool"}],this.fhirService.updateOrCreateQuestionnaire(t,this.selectedUserTag).pipe(yl()).subscribe(n=>{setTimeout(()=>{this.tabGroup.selectedIndex=0,setTimeout(()=>{this.savingQuestionnaire=!1,this.questionnairesList.addQuestionnaire(n)},300)},300),this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Questionnaire saved successfully",panelClass:["green-snackbar"]})},n=>{this.savingQuestionnaire=!1,this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]}),this.dialog.open(oR,{width:"400px",data:{title:"Save error",message:"This could be an ID conflict. Post again as a new questionnaire?"}}).afterClosed().subscribe(s=>{s?(delete t.id,this.saveQuestionnaire(t)):this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Questionnaire not saved",panelClass:["red-snackbar"]})})})):this._snackBar.openFromComponent(Cr,{duration:5e3,data:"No questionnaire to save",panelClass:["red-snackbar"]})}listQuestionnaires(){this.fhirService.getQuestionnairesByTag(this.selectedUserTag).pipe(yl()).subscribe(t=>{},t=>{console.error(t)})}openLoadQuestionnairesDialog(){this.dialog.open(V_t,{width:"70%"}).afterClosed().subscribe(n=>{this.loadQuestionnaire(n)})}setFhirServer(){this.fhirService.setBaseUrl(this.selectedFhirServer),this.fhirService.setUserTag(this.selectedUserTag)}setupFhirServer(){this.dialog.open(aR,{width:"60%"})}switchToValidateTab(t){this.loadQuestionnaire(t),this.tabGroup.selectedIndex=2}switchToPreviewTab(t){this.loadQuestionnaire(t),this.tabGroup.selectedIndex=1}switchToHistoryTab(t){this.displayHistory(t),this.tabGroup.selectedIndex=3}advanceFromStep1(){"edit"==this.step1Response?window.open("https://lhcformbuilder.nlm.nih.gov/","_blank"):"validate"==this.step1Response?(this.mode="Validator",setTimeout(()=>{this.uploadInput.nativeElement.click()},200)):"repository"==this.step1Response?this.dialog.open(aR,{width:"60%"}).afterClosed().subscribe(n=>{n&&(this.mode="Manager")}):"example"==this.step1Response?(this.mode="Validator",setTimeout(()=>{this.loadExampleQuestionnaire()},300)):"reconnect"==this.step1Response&&(this.mode="Manager"),this.step1Response=""}getCurrentTabName(){const t=this.tabGroup.selectedIndex;return null!=t?this.tabGroup._tabs.toArray()[t].textLabel:""}onTabChange(t){"Preview"===this.tabGroup._tabs.toArray()[t].textLabel&&setTimeout(()=>{this.previewForm()},300)}openModularQuestionnaireModal(){this.dialog.open(l7,{width:"75%"}).afterClosed().subscribe(n=>{n&&this.questionnaireService.generateRootQuestionnaire(n.title,n.questionnaires).then(r=>{this.postQuestionnaire(r)}).catch(r=>{console.error("Error:",r)})})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Oc),ht(Zs),ht(pg),ht(c7),ht(ec),ht(hg),ht(Hu))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-questionnaires-main"]],viewQuery:function(n,r){if(1&n&&(Ai(eh,5),Ai(yf,5),Ai($Et,5),Ai(QEt,5),Ai(KEt,5)),2&n){let s;Oe(s=Le())&&(r.sort=s.first),Oe(s=Le())&&(r.tabGroup=s.first),Oe(s=Le())&&(r.questionnairesList=s.first),Oe(s=Le())&&(r.uploadInput=s.first),Oe(s=Le())&&(r.questionnaireHistory=s.first)}},decls:11,vars:4,consts:[["fileInput",""],["validateQuestionnaire",""],["questionnaireHistory",""],["questionnairesList",""],[1,"header-container"],[1,"header"],[1,"breadcrumb"],["href","javascript:void(0)",3,"click"],[4,"ngIf"],["id","step1",4,"ngIf"],["id","step1"],[1,"flex","justify-between","pr-4"],["class","w-full border-2 border-blue-200 bg-transparent rounded-lg p-4 m-2 min-h-[500px]",4,"ngIf"],["class","w-full border-2 border-blue-200 bg-transparent rounded-lg p-4 m-2 min-h-[500px] justify-center",4,"ngIf"],[1,"w-full","border-2","border-blue-200","bg-transparent","rounded-lg","p-4","m-2","min-h-[500px]"],[1,"text-center"],[1,"flex","justify-center","flex-col","gap-1","mt-10"],["mat-flat-button","","color","accent",1,"mx-auto","w-auto","flex-none",3,"click"],["class","mx-auto w-auto flex-none",4,"ngIf"],[1,"mx-auto","w-auto","flex-none"],["href","javascript:void(0)","id","reconnect-link",3,"click"],[1,"muted"],[1,"w-full","border-2","border-blue-200","bg-transparent","rounded-lg","p-4","m-2","min-h-[500px]","justify-center"],[1,"flex","justify-center","flex-col","gap-5","mt-10"],[1,"button-container","bottom-spacer"],["type","file","hidden","",3,"change"],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-stretch-tabs","false","mat-align-tabs","start",3,"selectedIndexChange"],["label","My Questionnaires",4,"ngIf"],["label","Preview"],[1,"tab-container"],["id","myFormContainer"],["label","Validate SNOMED Bindings"],[3,"questionnaireUpdated","validatingQuestionnaire","questionnaire"],["label","History"],[3,"previewQuestionnaire","restoreQuestionnaireVersion","questionnaire"],["target","_blank",3,"href"],["label","My Questionnaires"],[3,"validateQuestionnaire","previewQuestionnaire","viewQuestionaireHistory","config"]],template:function(n,r){1&n&&(q(0,"div",4)(1,"h2",5),ut(2," SNOMED CT Terminology Bindings Validator - FHIR Questionnaire Manager "),et(),q(3,"div",6)(4,"span")(5,"a",7),Vt("click",function(){return r.mode="step1"}),ut(6,"Home"),et(),Ht(7,ZEt,2,0,"span",8)(8,JEt,2,0,"span",8),et()()(),Ht(9,nSt,4,2,"div",9)(10,cSt,23,11,"div",8)),2&n&&(ot(7),xt("ngIf","Validator"==r.mode),ot(),xt("ngIf","Manager"==r.mode),ot(),xt("ngIf","step1"==r.mode||"utility"==r.mode),ot(),xt("ngIf","Manager"==r.mode||"Validator"==r.mode))},dependencies:[Qs,ua,ha,cg,yf,d7,_Et,YEt,Fu],styles:[".header[_ngcontent-%COMP%]{margin-left:2rem;margin-top:1rem}.table-container[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.bottom-spacer[_ngcontent-%COMP%]{margin-bottom:1rem}.pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;font-size:.8rem}.pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mini-pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;text-align:center;font-weight:700;font-size:.9rem;margin-right:2rem;float:right}.mini-pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mini-pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.mini-pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.progress-container[_ngcontent-%COMP%]{margin-top:1rem;position:relative;width:30%}.progress-label[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:60%;transform:translateY(-50%);font-size:.9rem;font-weight:700}.bindingsCount[_ngcontent-%COMP%]{font-size:1rem;font-weight:lighter}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.code-link[_ngcontent-%COMP%]{font-size:.8rem}.server-name[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:maroon}.replacement[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:#00800b;display:flex;align-items:center;font-size:.9rem;margin-left:2rem}.concept-is-inactive[_ngcontent-%COMP%]{color:maroon;font-size:.9rem;margin-bottom:0rem}#myFormContainer[_ngcontent-%COMP%], #tab-header[_ngcontent-%COMP%]{margin-top:1rem}.tab-container[_ngcontent-%COMP%]{padding-top:1rem;padding-left:2rem;padding-right:2rem}.outgoing-link[_ngcontent-%COMP%]{font-size:.8rem;float:right;margin-right:2rem}#step1[_ngcontent-%COMP%]{margin-top:2rem;margin-left:2rem;font-size:large}#step1[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{margin-left:2rem;display:flex;flex-direction:column;align-items:flex-start}.step-button-container[_ngcontent-%COMP%]{margin-left:30rem;margin-top:2rem}.breadcrumb[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:2rem}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hidden[_ngcontent-%COMP%]{visibility:hidden}.muted[_ngcontent-%COMP%]{color:#8f9397}#reconnect[_ngcontent-%COMP%]{margin-left:5rem}#reconnect-link[_ngcontent-%COMP%]{display:flex;vertical-align:middle;flex-direction:row}"]})}return e})();const uSt=e=>({"bg-pink":e});function hSt(e,i){if(1&e&&(q(0,"p",18),ut(1),et()),2&e){const t=St();ot(),ze(t.studentSubsetDefinition)}}function fSt(e,i){1&e&&be(0,"mat-spinner",19)}function mSt(e,i){if(1&e&&(q(0,"p",23),ut(1),et()),2&e){const t=St(2);ot(),ze(t.definitionVsMembersValidationResult)}}function pSt(e,i){if(1&e&&(q(0,"p",23),ut(1),et()),2&e){const t=St(2);ot(),ze(t.keyConceptValidationResult)}}function gSt(e,i){if(1&e&&(q(0,"div",20)(1,"h3",21),ut(2,"Validation Results"),et(),Ht(3,mSt,2,1,"p",22)(4,pSt,2,1,"p",22),q(5,"p",23),ut(6),et(),q(7,"p",23),ut(8),et()()),2&e){const t=St();ot(3),xt("ngIf",t.selectedAssignment.referenceDefinition),ot(),xt("ngIf",t.selectedAssignment.referenceDefinition),ot(2),ze(t.membersNotInRefrenceListResult),ot(2),ze(t.refrenceListVsStudentListResult)}}function vSt(e,i){1&e&&(q(0,"th",33),ut(1,"ID"),et())}function xSt(e,i){if(1&e&&(q(0,"td",34),ut(1),et()),2&e){const t=i.$implicit;ot(),ze(t.referencedComponentId)}}function ySt(e,i){1&e&&(q(0,"th",33),ut(1,"Name"),et())}function bSt(e,i){if(1&e&&(q(0,"td",34),ut(1),et()),2&e){const t=i.$implicit;ot(),ze(t.name)}}function wSt(e,i){1&e&&(q(0,"th",33),ut(1,"Result"),et())}function TSt(e,i){1&e&&(q(0,"span"),ut(1,"OK"),et())}function CSt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=St(2).$implicit;ot(),ri(" ",t.customMessage.note," ")}}function _St(e,i){1&e&&(q(0,"span"),ut(1," Error "),et())}function ESt(e,i){if(1&e&&(q(0,"span"),Ht(1,TSt,2,0,"span",16)(2,CSt,2,1,"span",16)(3,_St,2,0,"span",16),et()),2&e){const t=St().$implicit;ot(),xt("ngIf",null==t||null==t.inReferenceList?null:t.inReferenceList.value),ot(),xt("ngIf",!(null!=t&&null!=t.inReferenceList&&t.inReferenceList.value)&&(null==t||null==t.customMessage?null:t.customMessage.value)),ot(),xt("ngIf",!(null!=t&&null!=t.inReferenceList&&t.inReferenceList.value||null!=t&&null!=t.customMessage&&t.customMessage.value))}}function SSt(e,i){if(1&e&&(q(0,"td",34),Ht(1,ESt,4,3,"span",16),et()),2&e){const t=St(2);ot(),xt("ngIf",t.membersValidationResult)}}function ASt(e,i){1&e&&be(0,"tr",35)}function DSt(e,i){if(1&e&&be(0,"tr",36),2&e){const t=i.$implicit,n=St(2);xt("ngClass",Kl(1,uSt,!(null!=t.inReferenceList&&t.inReferenceList.value)&&n.membersValidationResult))}}function ISt(e,i){if(1&e&&(q(0,"div",24)(1,"table",25),nn(2,26),Ht(3,vSt,2,0,"th",27)(4,xSt,2,1,"td",28),rn(),nn(5,29),Ht(6,ySt,2,0,"th",27)(7,bSt,2,1,"td",28),rn(),nn(8,30),Ht(9,wSt,2,0,"th",27)(10,SSt,2,1,"td",28),rn(),Ht(11,ASt,1,0,"tr",31)(12,DSt,1,3,"tr",32),et()()),2&e){const t=St();ot(),xt("dataSource",t.studentSubsetMembersDataSource),ot(10),xt("matHeaderRowDef",t.studentSubsetMembersDisplayedColumns),ot(),xt("matRowDefColumns",t.studentSubsetMembersDisplayedColumns)}}function MSt(e,i){if(1&e){const t=ge();q(0,"button",40),Vt("click",function(){const r=Ut(t).$implicit;return zt(St(2).setAssignment(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),ze(t.name)}}function RSt(e,i){if(1&e&&(q(0,"div")(1,"h3"),ut(2,"Assignment"),et(),q(3,"button",37),ut(4),et(),q(5,"mat-menu",38,2),Ht(7,MSt,2,1,"button",39),et()()),2&e){const t=Zi(6),n=St();ot(3),xt("matMenuTriggerFor",t),ot(),ri("Selected assignment: ",null==n.selectedAssignment?null:n.selectedAssignment.name,""),ot(3),xt("ngForOf",n.assignments)}}function kSt(e,i){if(1&e&&(q(0,"h3"),ut(1),et()),2&e){const t=St();ot(),ri(" Assignment: ",null==t.selectedAssignment?null:t.selectedAssignment.name," ")}}function PSt(e,i){1&e&&(q(0,"ol")(1,"li"),ut(2,"1- Upload definition file"),et(),q(3,"li"),ut(4,"2- Upload members file"),et(),q(5,"li"),ut(6,"3- Click validate"),et()())}function FSt(e,i){1&e&&(q(0,"ol")(1,"li"),ut(2,"1- Upload members file"),et(),q(3,"li"),ut(4,"2- Click validate"),et()())}function OSt(e,i){if(1&e){const t=ge();q(0,"div")(1,"div")(2,"h3"),ut(3,"Reference Data"),et(),q(4,"mat-form-field",41)(5,"mat-label"),ut(6,"Textarea"),et(),q(7,"textarea",42),oa("ngModelChange",function(r){Ut(t);const s=St();return Ca(s.assignmentsString,r)||(s.assignmentsString=r),zt(r)}),et()(),q(8,"button",11),Vt("click",function(){return Ut(t),zt(St().updateAssignments())}),ut(9,"Update Assignments"),et()()()}if(2&e){const t=St();ot(7),aa("ngModel",t.assignmentsString)}}let LSt=(()=>{class e{constructor(t,n,r,s){this.http=t,this.terminologyService=n,this._snackBar=r,this.activatedRoute=s,this.studentSubsetMembersDisplayedColumns=["referencedComponentId","name","result"],this.studentSubsetMembersDataSource=new ff,this.studentSubsetmembers=[],this.studentSubsetDefinition="",this.keyConceptValidationResult="",this.definitionVsMembersValidationResult="",this.membersNotInRefrenceListResult="",this.membersValidationResult=!1,this.refrenceListVsStudentListResult="",this.embeddedMode=!1,this.loading=!1,this.ok="\u2705",this.error="\u{1f7e5}",this.assignments=[{name:"Assignment X",referenceData:[{referencedComponentId:"403197009",name:"Sun-induced wrinkles"},{referencedComponentId:"279002006",name:"Lichenification of skin"},{referencedComponentId:"274672009",name:"Changes in skin texture"},{referencedComponentId:"271767006",name:"Peeling of skin"},{referencedComponentId:"271761007",name:"Scaly skin"},{referencedComponentId:"247434009",name:"Wrinkled skin"}],referenceDefinition:"< 185823004 |Finding of skin texture (finding)|",keyConceptsInECL:[{code:"185823004",display:"Finding of skin texture (finding)"}],customMessages:[{conceptId:"85345005",note:"wrong hierarchy",principle:"wrong hierarchy"},{conceptId:"403197009",note:"wrong hierarchy",principle:"wrong hierarchy"}]}],this.assignmentsString=JSON.stringify(this.assignments),this.selectedAssignment=this.assignments[0],this.referenceDataDisplayedColumns=["referencedComponentId","name"],this.referenceDataDataSource=new ff(this.selectedAssignment.referenceData)}ngOnInit(){var t=this;return de(function*(){const n=yield da(t.http.get("assets/definitions/assignments.json"));t.assignments=n,t.assignmentsString=JSON.stringify(t.assignments),t.setAssignment(t.assignments[0]),t.activatedRoute.queryParams.subscribe(r=>{r.assignment&&t.setAssignment(t.assignments.find(s=>s.name===r.assignment)),t.embeddedMode="true"===r.embedded})})()}setAssignment(t){t&&(this.selectedAssignment=t,this.referenceDataDataSource=new ff(this.selectedAssignment.referenceData))}checkStudentECLvsStudentList(){var t=this;return de(function*(){if(!t.studentSubsetDefinition){let r=yield t.terminologyService.expandValueSet(t.studentSubsetDefinition,"").toPromise(),o=0;t.studentSubsetmembers.forEach(p=>{r.expansion.contains.find(D=>D.code===p.referencedComponentId)?p.inStudentECL={value:!0,message:""}:(p.inStudentECL={value:!1,message:""},o++)})}return 0})()}checkStudentECLvsKeyConcept(){if(this.studentSubsetDefinition){console.log("Student ECL not defined");let t=this.studentSubsetDefinition,r=!0;return this.selectedAssignment.keyConceptsInECL.forEach(s=>{t.includes(s.code)||(r=!1)}),r}return!0}checkStudentListVsReferenceList(){let n=this.selectedAssignment.referenceData;this.studentSubsetmembers.forEach(s=>{s.inReferenceList=n.find(p=>p.referencedComponentId===s.referencedComponentId)?{value:!0,message:""}:{value:!1,message:""}})}checkReferenceListVsStudentList(){let t=this.studentSubsetmembers,r=0;return this.selectedAssignment.referenceData.forEach(s=>{t.find(p=>p.referencedComponentId===s.referencedComponentId)?s.inStudentList={value:!0,message:""}:(s.inStudentList={value:!1,message:""},r++)}),r}checkStudentListVsCustomMessages(){let n=this.selectedAssignment.customMessages;this.studentSubsetmembers.forEach(r=>{const s=n.find(o=>o.conceptId===r.referencedComponentId);r.customMessage=s?{value:!0,principle:s.principle,note:s.note}:{value:!1,principle:"",note:""}})}updateAssignments(){this.assignments=JSON.parse(this.assignmentsString),this.setAssignment(this.assignments[0])}validateAssignment(){var t=this;return de(function*(){t.loading=!0,t.keyConceptValidationResult="",t.definitionVsMembersValidationResult="",t.membersValidationResult=!1,t.loading=!0,t.studentSubsetDefinition&&(t.definitionVsMembersValidationResult=(yield t.checkStudentECLvsStudentList())>0?t.error+" The uploaded definition and members files are not in alignment":t.ok+" The uploaded definition and members files are in alignment",t.keyConceptValidationResult=t.checkStudentECLvsKeyConcept()?t.ok+" The definition of your subset includes the key subhierarchy":t.error+" The definition of your subset does not include the key subhierarchy"),t.checkStudentListVsReferenceList();let n=t.studentSubsetmembers.filter(s=>!s.inReferenceList.value).length;t.membersNotInRefrenceListResult=n>0?t.error+" There are "+n+" members in your subset that are not recommended to be included":t.ok+" All members match the recommended list of concepts for the subset",t.checkStudentListVsCustomMessages();let r=t.checkReferenceListVsStudentList();t.refrenceListVsStudentListResult=r>0?t.error+" "+r+" "+(r>1?"concepts are":"concept is")+" missing in the uploaded member list that would be recommended to be included in this subset":t.ok+" All recommended concepts are included in this subset",t.loading=!1,t.membersValidationResult=!0})()}onSubsetmembersFileSelected(t){this.studentSubsetmembers=[],this.studentSubsetMembersDataSource=new ff,this.studentSubsetMembersDataSource.sort=this.sort,this.loading=!0;const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const p=r.result.split("\n"),C=p[0].split("\t");if(C.length<2)throw new Error("Invalid file format");const D=C.indexOf("referencedComponentId"),R=C.indexOf("name");if(D<0||R<0)throw new Error("Invalid file format");const F=[];for(let B=1;B<p.length;B++){const V=p[B].split("\t");if(V.length<2)continue;const X={};X.referencedComponentId=V[D],X.name=V[R],X.result={value:"Not validated",message:""},X.scope={value:"Not validated",message:""},F.push(X)}F.sort((B,V)=>B.name.localeCompare(V.name)),this.studentSubsetmembers=F,this.studentSubsetMembersDataSource.data=F,this.loading=!1}catch(o){this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Error reading file: "+o.message,panelClass:["red-snackbar"]}),this.loading=!1}},r.onerror=s=>{this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Error reading file: "+s,panelClass:["red-snackbar"]}),this.loading=!1},r.readAsText(n)}else this.loading=!1}onDefinitionFileSelected(t){this.studentSubsetDefinition="",this.loading=!0;const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const C=r.result.replace(/\r/g,"").split("\n"),D=C[0].split("\t");if(D.length<2)throw new Error("Invalid file format");const R=D.indexOf("referencedComponentId"),F=D.indexOf("definition");if(R<0||F<0)throw new Error("Invalid file format");this.studentSubsetDefinition=C[1].split("\t")[F],this.loading=!1}catch(o){this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Error reading file: "+o.message,panelClass:["red-snackbar"]}),this.loading=!1}},r.onerror=s=>{this._snackBar.openFromComponent(Cr,{duration:5e3,data:"Error reading file: "+s,panelClass:["red-snackbar"]}),this.loading=!1},r.readAsText(n)}else this.loading=!1}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Oc),ht(Zs),ht(Hu),ht(ec))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-subset-validator"]],viewQuery:function(n,r){if(1&n&&Ai(eh,5),2&n){let s;Oe(s=Le())&&(r.sort=s.first)}},decls:31,vars:12,consts:[["fileInput",""],["fileInputDefinition",""],["demosMenu","matMenu"],[1,"layout-container"],[1,"left-column"],[1,"upload-controls"],[1,"mb-4"],["class","terminal-style",4,"ngIf"],["type","file",2,"display","none",3,"change"],[1,"buttons-panel"],["mat-flat-button","","color","primary",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click"],["class","spinner","diameter","30",4,"ngIf"],["class","blue-rounded-div",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"right-column"],[4,"ngIf"],[1,"instructions"],[1,"terminal-style"],["diameter","30",1,"spinner"],[1,"blue-rounded-div"],[1,"text-white","mb-1"],["class","validation-result",4,"ngIf"],[1,"validation-result"],[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","referencedComponentId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","result"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass"],["mat-flat-button","","color","accent",3,"matMenuTriggerFor"],[1,"wide-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["appearance","fill"],["matInput","",3,"ngModelChange","ngModel"]],template:function(n,r){if(1&n){const s=ge();q(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3"),ut(4,"Subset Members Validator"),et(),q(5,"p",6),ut(6),et(),Ht(7,hSt,2,1,"p",7),q(8,"input",8,0),Vt("change",function(p){return Ut(s),zt(r.onSubsetmembersFileSelected(p))}),et(),q(10,"input",8,1),Vt("change",function(p){return Ut(s),zt(r.onDefinitionFileSelected(p))}),et(),q(12,"div",9)(13,"button",10),Vt("click",function(){return Ut(s),zt(Zi(11).click())}),ut(14," Upload Definition File "),et(),q(15,"button",11),Vt("click",function(){return Ut(s),zt(Zi(9).click())}),ut(16,"Upload Members File"),et(),q(17,"button",10),Vt("click",function(){return Ut(s),zt(r.validateAssignment())}),ut(18,"Validate"),et(),Ht(19,fSt,1,0,"mat-spinner",12),et(),Ht(20,gSt,9,4,"div",13),et(),Ht(21,ISt,13,3,"div",14),et(),q(22,"div",15),Ht(23,RSt,8,3,"div",16)(24,kSt,2,1,"h3",16),q(25,"h3"),ut(26,"Instructions"),et(),q(27,"div",17),Ht(28,PSt,7,0,"ol",16)(29,FSt,5,0,"ol",16),et(),Ht(30,OSt,10,1,"div",16),et()()}2&n&&(ot(6),ri("Validating against ",r.terminologyService.getFhirUrlParam(),""),ot(),xt("ngIf",r.studentSubsetDefinition),ot(6),xt("disabled",!r.selectedAssignment.referenceDefinition),ot(4),xt("disabled",!r.studentSubsetMembersDataSource.data.length),ot(2),xt("ngIf",r.loading),ot(),xt("ngIf",!r.loading&&r.membersNotInRefrenceListResult),ot(),xt("ngIf",!r.loading&&r.studentSubsetMembersDataSource.data.length),ot(2),xt("ngIf",!r.embeddedMode),ot(),xt("ngIf",r.embeddedMode),ot(4),xt("ngIf",r.selectedAssignment.referenceDefinition),ot(),xt("ngIf",!r.selectedAssignment.referenceDefinition),ot(),xt("ngIf",!r.embeddedMode))},dependencies:[Jl,xs,Qs,ua,il,Tl,Ld,El,nl,Wu,Ju,Cl,Oo,Xu,Ud,ju,zd,Vd,Yu,Gd,Hd,$u,Qu,_l],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 65px)}.layout-container[_ngcontent-%COMP%]{display:flex;height:100%}.left-column[_ngcontent-%COMP%]{flex:0 0 68%;display:flex;flex-direction:column;height:100%}.right-column[_ngcontent-%COMP%]{flex:0 0 28%}.buttons-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;margin-top:2rem}.upload-controls[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.table-container[_ngcontent-%COMP%]{overflow-y:auto}.upload-controls[_ngcontent-%COMP%]{margin-left:20px}table[_ngcontent-%COMP%]{width:100%}.validation-result[_ngcontent-%COMP%]{font-weight:400;font-size:larger}.blue-rounded-div[_ngcontent-%COMP%]{border-radius:10px;background-color:#4d7fb4;padding:.5rem 3rem 1rem;width:80%;color:#f5f5f5;margin-top:20px}.terminal-style[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;background-color:#000;color:#fff;padding:10px;border-radius:10px;margin-top:20px;width:80%}h4[_ngcontent-%COMP%]{margin-top:10px}.instructions[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;font-weight:lighter;font-size:larger}h3[_ngcontent-%COMP%]{margin-top:10px}.bg-pink[_ngcontent-%COMP%]{background-color:pink}tr.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#aba9a9!important}"]})}return e})();const f7=function(e){const i=[];let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?i[t++]=r:r<2048?(i[t++]=r>>6|192,i[t++]=63&r|128):55296==(64512&r)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),i[t++]=r>>18|240,i[t++]=r>>12&63|128,i[t++]=r>>6&63|128,i[t++]=63&r|128):(i[t++]=r>>12|224,i[t++]=r>>6&63|128,i[t++]=63&r|128)}return i},m7={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,i){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,p=o?e[r+1]:0,C=r+2<e.length,D=C?e[r+2]:0;let B=(15&p)<<2|D>>6,V=63&D;C||(V=64,o||(B=64)),n.push(t[s>>2],t[(3&s)<<4|p>>4],t[B],t[V])}return n.join("")},encodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(e):this.encodeByteArray(f7(e),i)},decodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(e):function(e){const i=[];let t=0,n=0;for(;t<e.length;){const r=e[t++];if(r<128)i[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[t++];i[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const C=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536;i[n++]=String.fromCharCode(55296+(C>>10)),i[n++]=String.fromCharCode(56320+(1023&C))}else{const s=e[t++],o=e[t++];i[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return i.join("")}(this.decodeStringToByteArray(e,i))},decodeStringToByteArray(e,i){this.init_();const t=i?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<e.length;){const s=t[e.charAt(r++)],p=r<e.length?t[e.charAt(r)]:0;++r;const D=r<e.length?t[e.charAt(r)]:64;++r;const F=r<e.length?t[e.charAt(r)]:64;if(++r,null==s||null==p||null==D||null==F)throw new zSt;n.push(s<<2|p>>4),64!==D&&(n.push(p<<4&240|D>>2),64!==F&&n.push(D<<6&192|F))}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zSt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SC=function(e){return function(e){const i=f7(e);return m7.encodeByteArray(i,!0)}(e).replace(/\./g,"")},AC=()=>{try{return function WSt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=e&&function(e){try{return m7.decodeString(e,!0)}catch(i){console.error("base64Decode failed: ",i)}return null}(e[1]);return i&&JSON.parse(i)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},g7=()=>{var e;return null===(e=AC())||void 0===e?void 0:e.config};class v7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,t)=>{this.resolve=i,this.reject=t})}wrapCallback(i){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof i&&(this.promise.catch(()=>{}),1===i.length?i(t):i(t,n))}}}class gg extends Error{constructor(i,t,n){super(t),this.code=i,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,gg.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b7.prototype.create)}}class b7{constructor(i,t,n){this.service=i,this.serviceName=t,this.errors=n}create(i,...t){const n=t[0]||{},r=`${this.service}/${i}`,s=this.errors[i],o=s?function eAt(e,i){return e.replace(iAt,(t,n)=>{const r=i[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error";return new gg(r,`${this.serviceName}: ${o} (${r}).`,n)}}const iAt=/\{\$([^}]+)}/g;function Hx(e,i){if(e===i)return!0;const t=Object.keys(e),n=Object.keys(i);for(const r of t){if(!n.includes(r))return!1;const s=e[r],o=i[r];if(T7(s)&&T7(o)){if(!Hx(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function T7(e){return null!==e&&"object"==typeof e}function rc(e){return e&&e._delegate?e._delegate:e}class Wx{constructor(i,t,n){this.name=i,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}const bf="[DEFAULT]";class dAt{constructor(i,t){this.name=i,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const t=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(t)){const n=new v7;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(i){var t;const n=this.normalizeInstanceIdentifier(i?.identifier),r=null!==(t=i?.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,this.shouldAutoInitialize()){if(function hAt(e){return"EAGER"===e.instantiationMode}(i))try{this.getOrInitializeService({instanceIdentifier:bf})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(i=bf){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}delete(){var i=this;return de(function*(){const t=Array.from(i.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(i=bf){return this.instances.has(i)}getOptions(i=bf){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:t={}}=i,n=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(i,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(i),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&i(o,r),()=>{s.delete(i)}}invokeOnInitCallbacks(i,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(i,t)}catch{}}getOrInitializeService({instanceIdentifier:i,options:t={}}){let n=this.instances.get(i);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(e=i,e===bf?void 0:e),options:t}),this.instances.set(i,n),this.instancesOptions.set(i,t),this.invokeOnInitCallbacks(n,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,n)}catch{}var e;return n||null}normalizeInstanceIdentifier(i=bf){return this.component?this.component.multipleInstances?i:bf:i}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fAt{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const t=this.getProvider(i.name);if(t.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);t.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const t=new dAt(i,this);return this.providers.set(i,t),t}getProviders(){return Array.from(this.providers.values())}}const hR=[];var Xn=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Xn||{});const C7={debug:Xn.DEBUG,verbose:Xn.VERBOSE,info:Xn.INFO,warn:Xn.WARN,error:Xn.ERROR,silent:Xn.SILENT},mAt=Xn.INFO,pAt={[Xn.DEBUG]:"log",[Xn.VERBOSE]:"log",[Xn.INFO]:"info",[Xn.WARN]:"warn",[Xn.ERROR]:"error"},gAt=(e,i,...t)=>{if(i<e.logLevel)return;const n=(new Date).toISOString(),r=pAt[i];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`);console[r](`[${n}]  ${e.name}:`,...t)};class _7{constructor(i){this.name=i,this._logLevel=mAt,this._logHandler=gAt,this._userLogHandler=null,hR.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in Xn))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel="string"==typeof i?C7[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if("function"!=typeof i)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,Xn.DEBUG,...i),this._logHandler(this,Xn.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,Xn.VERBOSE,...i),this._logHandler(this,Xn.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,Xn.INFO,...i),this._logHandler(this,Xn.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,Xn.WARN,...i),this._logHandler(this,Xn.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,Xn.ERROR,...i),this._logHandler(this,Xn.ERROR,...i)}}const vAt=(e,i)=>i.some(t=>e instanceof t);let E7,S7;const A7=new WeakMap,fR=new WeakMap,D7=new WeakMap,mR=new WeakMap,pR=new WeakMap;let gR={get(e,i,t){if(e instanceof IDBTransaction){if("done"===i)return fR.get(e);if("objectStoreNames"===i)return e.objectStoreNames||D7.get(e);if("store"===i)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rh(e[i])},set:(e,i,t)=>(e[i]=t,!0),has:(e,i)=>e instanceof IDBTransaction&&("done"===i||"store"===i)||i in e};function _At(e){return"function"==typeof e?function CAt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yAt(){return S7||(S7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...i){return e.apply(vR(this),i),rh(A7.get(this))}:function(...i){return rh(e.apply(vR(this),i))}:function(i,...t){const n=e.call(vR(this),i,...t);return D7.set(n,i.sort?i.sort():[i]),rh(n)}}(e):(e instanceof IDBTransaction&&function wAt(e){if(fR.has(e))return;const i=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});fR.set(e,i)}(e),vAt(e,function xAt(){return E7||(E7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,gR):e)}function rh(e){if(e instanceof IDBRequest)return function bAt(e){const i=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{t(rh(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return i.then(t=>{t instanceof IDBCursor&&A7.set(t,e)}).catch(()=>{}),pR.set(i,e),i}(e);if(mR.has(e))return mR.get(e);const i=_At(e);return i!==e&&(mR.set(e,i),pR.set(i,e)),i}const vR=e=>pR.get(e),SAt=["get","getKey","getAll","getAllKeys","count"],AAt=["put","add","delete","clear"],xR=new Map;function I7(e,i){if(!(e instanceof IDBDatabase)||i in e||"string"!=typeof i)return;if(xR.get(i))return xR.get(i);const t=i.replace(/FromIndex$/,""),n=i!==t,r=AAt.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!SAt.includes(t))return;const s=function(){var o=de(function*(p,...C){const D=this.transaction(p,r?"readwrite":"readonly");let R=D.store;return n&&(R=R.index(C.shift())),(yield Promise.all([R[t](...C),r&&D.done]))[0]});return function(C){return o.apply(this,arguments)}}();return xR.set(i,s),s}!function TAt(e){gR=e(gR)}(e=>({...e,get:(i,t,n)=>I7(i,t)||e.get(i,t,n),has:(i,t)=>!!I7(i,t)||e.has(i,t)}));class DAt{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function IAt(e){const i=e.getComponent();return"VERSION"===i?.type}(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}return null}).filter(t=>t).join(" ")}}const IC="@firebase/app",wf=new _7("@firebase/app"),MC="[DEFAULT]",iDt={[IC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Tf=new Map,Xx=new Map,jx=new Map;function M7(e,i){try{e.container.addComponent(i)}catch(t){wf.debug(`Component ${i.name} failed to register with FirebaseApp ${e.name}`,t)}}function RC(e){const i=e.name;if(jx.has(i))return wf.debug(`There were multiple attempts to register component ${i}.`),!1;jx.set(i,e);for(const t of Tf.values())M7(t,e);for(const t of Xx.values())M7(t,e);return!0}const Al=new b7("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class k7{constructor(i,t,n){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wx("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw Al.create("app-deleted",{appName:this._name})}}function P7(e,i={}){let t=e;"object"!=typeof i&&(i={name:i});const n=Object.assign({name:MC,automaticDataCollectionEnabled:!1},i),r=n.name;if("string"!=typeof r||!r)throw Al.create("bad-app-name",{appName:String(r)});if(t||(t=g7()),!t)throw Al.create("no-options");const s=Tf.get(r);if(s){if(Hx(t,s.options)&&Hx(n,s.config))return s;throw Al.create("duplicate-app",{appName:r})}const o=new fAt(r);for(const C of jx.values())o.addComponent(C);const p=new k7(t,n,o);return Tf.set(r,p),p}function Cf(e,i,t){var n;let r=null!==(n=iDt[e])&&void 0!==n?n:e;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=i.match(/\s|\//);if(s||o){const p=[`Unable to register library "${r}" with version "${i}":`];return s&&p.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&p.push("and"),o&&p.push(`version name "${i}" contains illegal characters (whitespace or "/")`),void wf.warn(p.join(" "))}RC(new Wx(`${r}-version`,()=>({library:r,version:i}),"VERSION"))}const cDt="firebase-heartbeat-database",dDt=1,Yx="firebase-heartbeat-store";let wR=null;function F7(){return wR||(wR=function EAt(e,i,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(e,i),p=rh(o);return n&&o.addEventListener("upgradeneeded",C=>{n(rh(o.result),C.oldVersion,C.newVersion,rh(o.transaction),C)}),t&&o.addEventListener("blocked",C=>t(C.oldVersion,C.newVersion,C)),p.then(C=>{s&&C.addEventListener("close",()=>s()),r&&C.addEventListener("versionchange",D=>r(D.oldVersion,D.newVersion,D))}).catch(()=>{}),p}(cDt,dDt,{upgrade:(e,i)=>{if(0===i)try{e.createObjectStore(Yx)}catch(t){console.warn(t)}}}).catch(e=>{throw Al.create("idb-open",{originalErrorMessage:e.message})})),wR}function TR(){return(TR=de(function*(e){try{const t=(yield F7()).transaction(Yx),n=yield t.objectStore(Yx).get(L7(e));return yield t.done,n}catch(i){if(i instanceof gg)wf.warn(i.message);else{const t=Al.create("idb-get",{originalErrorMessage:i?.message});wf.warn(t.message)}}})).apply(this,arguments)}function O7(e,i){return CR.apply(this,arguments)}function CR(){return(CR=de(function*(e,i){try{const n=(yield F7()).transaction(Yx,"readwrite");yield n.objectStore(Yx).put(i,L7(e)),yield n.done}catch(t){if(t instanceof gg)wf.warn(t.message);else{const n=Al.create("idb-set",{originalErrorMessage:t?.message});wf.warn(n.message)}}})).apply(this,arguments)}function L7(e){return`${e.name}!${e.options.appId}`}class mDt{constructor(i){this.container=i,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gDt(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){var i=this;return de(function*(){var t,n;const s=i.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=N7();if((null!=(null===(t=i._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(i._heartbeatsCache=yield i._heartbeatsCachePromise,null!=(null===(n=i._heartbeatsCache)||void 0===n?void 0:n.heartbeats)))&&i._heartbeatsCache.lastSentHeartbeatDate!==o&&!i._heartbeatsCache.heartbeats.some(p=>p.date===o))return i._heartbeatsCache.heartbeats.push({date:o,agent:s}),i._heartbeatsCache.heartbeats=i._heartbeatsCache.heartbeats.filter(p=>{const C=new Date(p.date).valueOf();return Date.now()-C<=2592e6}),i._storage.overwrite(i._heartbeatsCache)})()}getHeartbeatsHeader(){var i=this;return de(function*(){var t;if(null===i._heartbeatsCache&&(yield i._heartbeatsCachePromise),null==(null===(t=i._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===i._heartbeatsCache.heartbeats.length)return"";const n=N7(),{heartbeatsToSend:r,unsentEntries:s}=function pDt(e,i=1024){const t=[];let n=e.slice();for(const r of e){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),B7(t)>i){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),B7(t)>i){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}(i._heartbeatsCache.heartbeats),o=SC(JSON.stringify({version:2,heartbeats:r}));return i._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(i._heartbeatsCache.heartbeats=s,yield i._storage.overwrite(i._heartbeatsCache)):(i._heartbeatsCache.heartbeats=[],i._storage.overwrite(i._heartbeatsCache)),o})()}}function N7(){return(new Date).toISOString().substring(0,10)}class gDt{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return de(function*(){return!!function y7(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function qSt(){return new Promise((e,i)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;i((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){i(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var i=this;return de(function*(){if(yield i._canUseIndexedDBPromise){const n=yield function uDt(e){return TR.apply(this,arguments)}(i.app);return n?.heartbeats?n:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(i){var t=this;return de(function*(){var n;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return O7(t.app,{lastSentHeartbeatDate:null!==(n=i.lastSentHeartbeatDate)&&void 0!==n?n:s.lastSentHeartbeatDate,heartbeats:i.heartbeats})}})()}add(i){var t=this;return de(function*(){var n;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return O7(t.app,{lastSentHeartbeatDate:null!==(n=i.lastSentHeartbeatDate)&&void 0!==n?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...i.heartbeats]})}})()}}function B7(e){return SC(JSON.stringify({version:2,heartbeats:e})).length}!function vDt(e){RC(new Wx("platform-logger",i=>new DAt(i),"PRIVATE")),RC(new Wx("heartbeat",i=>new mDt(i),"PRIVATE")),Cf(IC,"0.10.6",e),Cf(IC,"0.10.6","esm2017"),Cf("fire-js","")}("");var _f,z7,V7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U7={};(function(){var e;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(pt,ft,yt){yt||(yt=0);var bt=Array(16);if("string"==typeof ft)for(var _t=0;16>_t;++_t)bt[_t]=ft.charCodeAt(yt++)|ft.charCodeAt(yt++)<<8|ft.charCodeAt(yt++)<<16|ft.charCodeAt(yt++)<<24;else for(_t=0;16>_t;++_t)bt[_t]=ft[yt++]|ft[yt++]<<8|ft[yt++]<<16|ft[yt++]<<24;var At=pt.g[3],Et=(ft=pt.g[0])+(At^(yt=pt.g[1])&((_t=pt.g[2])^At))+bt[0]+3614090360&4294967295;Et=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=(yt=(_t=(At=(ft=yt+(Et<<7&4294967295|Et>>>25))+((Et=At+(_t^ft&(yt^_t))+bt[1]+3905402710&4294967295)<<12&4294967295|Et>>>20))+((Et=_t+(yt^At&(ft^yt))+bt[2]+606105819&4294967295)<<17&4294967295|Et>>>15))+((Et=yt+(ft^_t&(At^ft))+bt[3]+3250441966&4294967295)<<22&4294967295|Et>>>10))+((Et=ft+(At^yt&(_t^At))+bt[4]+4118548399&4294967295)<<7&4294967295|Et>>>25))+((Et=At+(_t^ft&(yt^_t))+bt[5]+1200080426&4294967295)<<12&4294967295|Et>>>20))+((Et=_t+(yt^At&(ft^yt))+bt[6]+2821735955&4294967295)<<17&4294967295|Et>>>15))+((Et=yt+(ft^_t&(At^ft))+bt[7]+4249261313&4294967295)<<22&4294967295|Et>>>10))+((Et=ft+(At^yt&(_t^At))+bt[8]+1770035416&4294967295)<<7&4294967295|Et>>>25))+((Et=At+(_t^ft&(yt^_t))+bt[9]+2336552879&4294967295)<<12&4294967295|Et>>>20))+((Et=_t+(yt^At&(ft^yt))+bt[10]+4294925233&4294967295)<<17&4294967295|Et>>>15))+((Et=yt+(ft^_t&(At^ft))+bt[11]+2304563134&4294967295)<<22&4294967295|Et>>>10))+((Et=ft+(At^yt&(_t^At))+bt[12]+1804603682&4294967295)<<7&4294967295|Et>>>25))+((Et=At+(_t^ft&(yt^_t))+bt[13]+4254626195&4294967295)<<12&4294967295|Et>>>20))+((Et=_t+(yt^At&(ft^yt))+bt[14]+2792965006&4294967295)<<17&4294967295|Et>>>15))+((Et=yt+(ft^_t&(At^ft))+bt[15]+1236535329&4294967295)<<22&4294967295|Et>>>10))+((Et=ft+(_t^At&(yt^_t))+bt[1]+4129170786&4294967295)<<5&4294967295|Et>>>27))+((Et=At+(yt^_t&(ft^yt))+bt[6]+3225465664&4294967295)<<9&4294967295|Et>>>23))+((Et=_t+(ft^yt&(At^ft))+bt[11]+643717713&4294967295)<<14&4294967295|Et>>>18))+((Et=yt+(At^ft&(_t^At))+bt[0]+3921069994&4294967295)<<20&4294967295|Et>>>12))+((Et=ft+(_t^At&(yt^_t))+bt[5]+3593408605&4294967295)<<5&4294967295|Et>>>27))+((Et=At+(yt^_t&(ft^yt))+bt[10]+38016083&4294967295)<<9&4294967295|Et>>>23))+((Et=_t+(ft^yt&(At^ft))+bt[15]+3634488961&4294967295)<<14&4294967295|Et>>>18))+((Et=yt+(At^ft&(_t^At))+bt[4]+3889429448&4294967295)<<20&4294967295|Et>>>12))+((Et=ft+(_t^At&(yt^_t))+bt[9]+568446438&4294967295)<<5&4294967295|Et>>>27))+((Et=At+(yt^_t&(ft^yt))+bt[14]+3275163606&4294967295)<<9&4294967295|Et>>>23))+((Et=_t+(ft^yt&(At^ft))+bt[3]+4107603335&4294967295)<<14&4294967295|Et>>>18))+((Et=yt+(At^ft&(_t^At))+bt[8]+1163531501&4294967295)<<20&4294967295|Et>>>12))+((Et=ft+(_t^At&(yt^_t))+bt[13]+2850285829&4294967295)<<5&4294967295|Et>>>27))+((Et=At+(yt^_t&(ft^yt))+bt[2]+4243563512&4294967295)<<9&4294967295|Et>>>23))+((Et=_t+(ft^yt&(At^ft))+bt[7]+1735328473&4294967295)<<14&4294967295|Et>>>18))+((Et=yt+(At^ft&(_t^At))+bt[12]+2368359562&4294967295)<<20&4294967295|Et>>>12))+((Et=ft+(yt^_t^At)+bt[5]+4294588738&4294967295)<<4&4294967295|Et>>>28))+((Et=At+(ft^yt^_t)+bt[8]+2272392833&4294967295)<<11&4294967295|Et>>>21))+((Et=_t+(At^ft^yt)+bt[11]+1839030562&4294967295)<<16&4294967295|Et>>>16))+((Et=yt+(_t^At^ft)+bt[14]+4259657740&4294967295)<<23&4294967295|Et>>>9))+((Et=ft+(yt^_t^At)+bt[1]+2763975236&4294967295)<<4&4294967295|Et>>>28))+((Et=At+(ft^yt^_t)+bt[4]+1272893353&4294967295)<<11&4294967295|Et>>>21))+((Et=_t+(At^ft^yt)+bt[7]+4139469664&4294967295)<<16&4294967295|Et>>>16))+((Et=yt+(_t^At^ft)+bt[10]+3200236656&4294967295)<<23&4294967295|Et>>>9))+((Et=ft+(yt^_t^At)+bt[13]+681279174&4294967295)<<4&4294967295|Et>>>28))+((Et=At+(ft^yt^_t)+bt[0]+3936430074&4294967295)<<11&4294967295|Et>>>21))+((Et=_t+(At^ft^yt)+bt[3]+3572445317&4294967295)<<16&4294967295|Et>>>16))+((Et=yt+(_t^At^ft)+bt[6]+76029189&4294967295)<<23&4294967295|Et>>>9))+((Et=ft+(yt^_t^At)+bt[9]+3654602809&4294967295)<<4&4294967295|Et>>>28))+((Et=At+(ft^yt^_t)+bt[12]+3873151461&4294967295)<<11&4294967295|Et>>>21))+((Et=_t+(At^ft^yt)+bt[15]+530742520&4294967295)<<16&4294967295|Et>>>16))+((Et=yt+(_t^At^ft)+bt[2]+3299628645&4294967295)<<23&4294967295|Et>>>9))+((Et=ft+(_t^(yt|~At))+bt[0]+4096336452&4294967295)<<6&4294967295|Et>>>26))+((Et=At+(yt^(ft|~_t))+bt[7]+1126891415&4294967295)<<10&4294967295|Et>>>22))+((Et=_t+(ft^(At|~yt))+bt[14]+2878612391&4294967295)<<15&4294967295|Et>>>17))+((Et=yt+(At^(_t|~ft))+bt[5]+4237533241&4294967295)<<21&4294967295|Et>>>11))+((Et=ft+(_t^(yt|~At))+bt[12]+1700485571&4294967295)<<6&4294967295|Et>>>26))+((Et=At+(yt^(ft|~_t))+bt[3]+2399980690&4294967295)<<10&4294967295|Et>>>22))+((Et=_t+(ft^(At|~yt))+bt[10]+4293915773&4294967295)<<15&4294967295|Et>>>17))+((Et=yt+(At^(_t|~ft))+bt[1]+2240044497&4294967295)<<21&4294967295|Et>>>11))+((Et=ft+(_t^(yt|~At))+bt[8]+1873313359&4294967295)<<6&4294967295|Et>>>26))+((Et=At+(yt^(ft|~_t))+bt[15]+4264355552&4294967295)<<10&4294967295|Et>>>22))+((Et=_t+(ft^(At|~yt))+bt[6]+2734768916&4294967295)<<15&4294967295|Et>>>17))+((Et=yt+(At^(_t|~ft))+bt[13]+1309151649&4294967295)<<21&4294967295|Et>>>11))+((At=(ft=yt+((Et=ft+(_t^(yt|~At))+bt[4]+4149444226&4294967295)<<6&4294967295|Et>>>26))+((Et=At+(yt^(ft|~_t))+bt[11]+3174756917&4294967295)<<10&4294967295|Et>>>22))^((_t=At+((Et=_t+(ft^(At|~yt))+bt[2]+718787259&4294967295)<<15&4294967295|Et>>>17))|~ft))+bt[9]+3951481745&4294967295,pt.g[0]=pt.g[0]+ft&4294967295,pt.g[1]=pt.g[1]+(_t+(Et<<21&4294967295|Et>>>11))&4294967295,pt.g[2]=pt.g[2]+_t&4294967295,pt.g[3]=pt.g[3]+At&4294967295}function o(pt,ft){this.h=ft;for(var yt=[],bt=!0,_t=pt.length-1;0<=_t;_t--){var At=0|pt[_t];bt&&At==ft||(yt[_t]=At,bt=!1)}this.g=yt}(function i(pt,ft){function yt(){}yt.prototype=ft.prototype,pt.D=ft.prototype,pt.prototype=new yt,pt.prototype.constructor=pt,pt.C=function(bt,_t,At){for(var Et=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)Et[Ye-2]=arguments[Ye];return ft.prototype[_t].apply(bt,Et)}})(n,function t(){this.blockSize=-1}),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.u=function(pt,ft){void 0===ft&&(ft=pt.length);for(var yt=ft-this.blockSize,bt=this.B,_t=this.h,At=0;At<ft;){if(0==_t)for(;At<=yt;)r(this,pt,At),At+=this.blockSize;if("string"==typeof pt){for(;At<ft;)if(bt[_t++]=pt.charCodeAt(At++),_t==this.blockSize){r(this,bt),_t=0;break}}else for(;At<ft;)if(bt[_t++]=pt[At++],_t==this.blockSize){r(this,bt),_t=0;break}}this.h=_t,this.o+=ft},n.prototype.v=function(){var pt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);pt[0]=128;for(var ft=1;ft<pt.length-8;++ft)pt[ft]=0;var yt=8*this.o;for(ft=pt.length-8;ft<pt.length;++ft)pt[ft]=255&yt,yt/=256;for(this.u(pt),pt=Array(16),ft=yt=0;4>ft;++ft)for(var bt=0;32>bt;bt+=8)pt[yt++]=this.g[ft]>>>bt&255;return pt};var p={};function C(pt){return-128<=pt&&128>pt?function s(pt,ft){var yt=p;return Object.prototype.hasOwnProperty.call(yt,pt)?yt[pt]:yt[pt]=ft(pt)}(pt,function(ft){return new o([0|ft],0>ft?-1:0)}):new o([0|pt],0>pt?-1:0)}function D(pt){if(isNaN(pt)||!isFinite(pt))return F;if(0>pt)return Q(D(-pt));for(var ft=[],yt=1,bt=0;pt>=yt;bt++)ft[bt]=pt/yt|0,yt*=4294967296;return new o(ft,0)}var F=C(0),B=C(1),V=C(16777216);function X(pt){if(0!=pt.h)return!1;for(var ft=0;ft<pt.g.length;ft++)if(0!=pt.g[ft])return!1;return!0}function J(pt){return-1==pt.h}function Q(pt){for(var ft=pt.g.length,yt=[],bt=0;bt<ft;bt++)yt[bt]=~pt.g[bt];return new o(yt,~pt.h).add(B)}function nt(pt,ft){return pt.add(Q(ft))}function ct(pt,ft){for(;(65535&pt[ft])!=pt[ft];)pt[ft+1]+=pt[ft]>>>16,pt[ft]&=65535,ft++}function lt(pt,ft){this.g=pt,this.h=ft}function wt(pt,ft){if(X(ft))throw Error("division by zero");if(X(pt))return new lt(F,F);if(J(pt))return ft=wt(Q(pt),ft),new lt(Q(ft.g),Q(ft.h));if(J(ft))return ft=wt(pt,Q(ft)),new lt(Q(ft.g),ft.h);if(30<pt.g.length){if(J(pt)||J(ft))throw Error("slowDivide_ only works with positive integers.");for(var yt=B,bt=ft;0>=bt.l(pt);)yt=Mt(yt),bt=Mt(bt);var _t=Bt(yt,1),At=Bt(bt,1);for(bt=Bt(bt,2),yt=Bt(yt,2);!X(bt);){var Et=At.add(bt);0>=Et.l(pt)&&(_t=_t.add(yt),At=Et),bt=Bt(bt,1),yt=Bt(yt,1)}return ft=nt(pt,_t.j(ft)),new lt(_t,ft)}for(_t=F;0<=pt.l(ft);){for(yt=Math.max(1,Math.floor(pt.m()/ft.m())),bt=48>=(bt=Math.ceil(Math.log(yt)/Math.LN2))?1:Math.pow(2,bt-48),Et=(At=D(yt)).j(ft);J(Et)||0<Et.l(pt);)Et=(At=D(yt-=bt)).j(ft);X(At)&&(At=B),_t=_t.add(At),pt=nt(pt,Et)}return new lt(_t,pt)}function Mt(pt){for(var ft=pt.g.length+1,yt=[],bt=0;bt<ft;bt++)yt[bt]=pt.i(bt)<<1|pt.i(bt-1)>>>31;return new o(yt,pt.h)}function Bt(pt,ft){var yt=ft>>5;ft%=32;for(var bt=pt.g.length-yt,_t=[],At=0;At<bt;At++)_t[At]=0<ft?pt.i(At+yt)>>>ft|pt.i(At+yt+1)<<32-ft:pt.i(At+yt);return new o(_t,pt.h)}(e=o.prototype).m=function(){if(J(this))return-Q(this).m();for(var pt=0,ft=1,yt=0;yt<this.g.length;yt++){var bt=this.i(yt);pt+=(0<=bt?bt:4294967296+bt)*ft,ft*=4294967296}return pt},e.toString=function(pt){if(2>(pt=pt||10)||36<pt)throw Error("radix out of range: "+pt);if(X(this))return"0";if(J(this))return"-"+Q(this).toString(pt);for(var ft=D(Math.pow(pt,6)),yt=this,bt="";;){var _t=wt(yt,ft).g,At=((0<(yt=nt(yt,_t.j(ft))).g.length?yt.g[0]:yt.h)>>>0).toString(pt);if(X(yt=_t))return At+bt;for(;6>At.length;)At="0"+At;bt=At+bt}},e.i=function(pt){return 0>pt?0:pt<this.g.length?this.g[pt]:this.h},e.l=function(pt){return J(pt=nt(this,pt))?-1:X(pt)?0:1},e.abs=function(){return J(this)?Q(this):this},e.add=function(pt){for(var ft=Math.max(this.g.length,pt.g.length),yt=[],bt=0,_t=0;_t<=ft;_t++){var At=bt+(65535&this.i(_t))+(65535&pt.i(_t)),Et=(At>>>16)+(this.i(_t)>>>16)+(pt.i(_t)>>>16);bt=Et>>>16,yt[_t]=(Et&=65535)<<16|(At&=65535)}return new o(yt,-2147483648&yt[yt.length-1]?-1:0)},e.j=function(pt){if(X(this)||X(pt))return F;if(J(this))return J(pt)?Q(this).j(Q(pt)):Q(Q(this).j(pt));if(J(pt))return Q(this.j(Q(pt)));if(0>this.l(V)&&0>pt.l(V))return D(this.m()*pt.m());for(var ft=this.g.length+pt.g.length,yt=[],bt=0;bt<2*ft;bt++)yt[bt]=0;for(bt=0;bt<this.g.length;bt++)for(var _t=0;_t<pt.g.length;_t++){var At=this.i(bt)>>>16,Et=65535&this.i(bt),Ye=pt.i(_t)>>>16,Ie=65535&pt.i(_t);yt[2*bt+2*_t]+=Et*Ie,ct(yt,2*bt+2*_t),yt[2*bt+2*_t+1]+=At*Ie,ct(yt,2*bt+2*_t+1),yt[2*bt+2*_t+1]+=Et*Ye,ct(yt,2*bt+2*_t+1),yt[2*bt+2*_t+2]+=At*Ye,ct(yt,2*bt+2*_t+2)}for(bt=0;bt<ft;bt++)yt[bt]=yt[2*bt+1]<<16|yt[2*bt];for(bt=ft;bt<2*ft;bt++)yt[bt]=0;return new o(yt,0)},e.A=function(pt){return wt(this,pt).h},e.and=function(pt){for(var ft=Math.max(this.g.length,pt.g.length),yt=[],bt=0;bt<ft;bt++)yt[bt]=this.i(bt)&pt.i(bt);return new o(yt,this.h&pt.h)},e.or=function(pt){for(var ft=Math.max(this.g.length,pt.g.length),yt=[],bt=0;bt<ft;bt++)yt[bt]=this.i(bt)|pt.i(bt);return new o(yt,this.h|pt.h)},e.xor=function(pt){for(var ft=Math.max(this.g.length,pt.g.length),yt=[],bt=0;bt<ft;bt++)yt[bt]=this.i(bt)^pt.i(bt);return new o(yt,this.h^pt.h)},n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,z7=U7.Md5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=D,o.fromString=function R(pt,ft){if(0==pt.length)throw Error("number format error: empty string");if(2>(ft=ft||10)||36<ft)throw Error("radix out of range: "+ft);if("-"==pt.charAt(0))return Q(R(pt.substring(1),ft));if(0<=pt.indexOf("-"))throw Error('number format error: interior "-" character');for(var yt=D(Math.pow(ft,8)),bt=F,_t=0;_t<pt.length;_t+=8){var At=Math.min(8,pt.length-_t),Et=parseInt(pt.substring(_t,_t+At),ft);8>At?(At=D(Math.pow(ft,At)),bt=bt.j(At).add(D(Et))):bt=(bt=bt.j(yt)).add(D(Et))}return bt},_f=U7.Integer=o}).apply(typeof V7<"u"?V7:typeof self<"u"?self:typeof window<"u"?window:{});var G7,H7,$x,W7,PC,_R,X7,j7,Y7,kC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xd={};(function(){var e,i="function"==typeof Object.defineProperties?Object.defineProperty:function(U,at,gt){return U==Array.prototype||U==Object.prototype||(U[at]=gt.value),U},n=function t(U){U=["object"==typeof globalThis&&globalThis,U,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof kC&&kC];for(var at=0;at<U.length;++at){var gt=U[at];if(gt&&gt.Math==Math)return gt}throw Error("Cannot find global object")}(this);!function r(U,at){if(at)t:{var gt=n;U=U.split(".");for(var Dt=0;Dt<U.length-1;Dt++){var Qt=U[Dt];if(!(Qt in gt))break t;gt=gt[Qt]}(at=at(Dt=gt[U=U[U.length-1]]))!=Dt&&null!=at&&i(gt,U,{configurable:!0,writable:!0,value:at})}}("Array.prototype.values",function(U){return U||function(){return function s(U,at){U instanceof String&&(U+="");var gt=0,Dt=!1,Qt={next:function(){if(!Dt&&gt<U.length){var me=gt++;return{value:at(me,U[me]),done:!1}}return Dt=!0,{done:!0,value:void 0}}};return Qt[Symbol.iterator]=function(){return Qt},Qt}(this,function(at,gt){return gt})}});var o=o||{},p=this||self;function C(U){var at=typeof U;return"array"==(at="object"!=at?at:U?Array.isArray(U)?"array":at:"null")||"object"==at&&"number"==typeof U.length}function D(U){var at=typeof U;return"object"==at&&null!=U||"function"==at}function R(U,at,gt){return U.call.apply(U.bind,arguments)}function F(U,at,gt){if(!U)throw Error();if(2<arguments.length){var Dt=Array.prototype.slice.call(arguments,2);return function(){var Qt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Qt,Dt),U.apply(at,Qt)}}return function(){return U.apply(at,arguments)}}function B(U,at,gt){return(B=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R:F).apply(null,arguments)}function V(U,at){var gt=Array.prototype.slice.call(arguments,1);return function(){var Dt=gt.slice();return Dt.push.apply(Dt,arguments),U.apply(this,Dt)}}function X(U,at){function gt(){}gt.prototype=at.prototype,U.aa=at.prototype,U.prototype=new gt,U.prototype.constructor=U,U.Qb=function(Dt,Qt,me){for(var oi=Array(arguments.length-2),Mr=2;Mr<arguments.length;Mr++)oi[Mr-2]=arguments[Mr];return at.prototype[Qt].apply(Dt,oi)}}function J(U){const at=U.length;if(0<at){const gt=Array(at);for(let Dt=0;Dt<at;Dt++)gt[Dt]=U[Dt];return gt}return[]}function Q(U,at){for(let gt=1;gt<arguments.length;gt++){const Dt=arguments[gt];if(C(Dt)){const Qt=U.length||0,me=Dt.length||0;U.length=Qt+me;for(let oi=0;oi<me;oi++)U[Qt+oi]=Dt[oi]}else U.push(Dt)}}function ct(U){return/^[\s\xa0]*$/.test(U)}function lt(){var U=p.navigator;return U&&(U=U.userAgent)?U:""}function wt(U){return wt[" "](U),U}wt[" "]=function(){};var Mt=!(-1==lt().indexOf("Gecko")||-1!=lt().toLowerCase().indexOf("webkit")&&-1==lt().indexOf("Edge")||-1!=lt().indexOf("Trident")||-1!=lt().indexOf("MSIE")||-1!=lt().indexOf("Edge"));function Bt(U,at,gt){for(const Dt in U)at.call(gt,U[Dt],Dt,U)}function ft(U){const at={};for(const gt in U)at[gt]=U[gt];return at}const yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(U,at){let gt,Dt;for(let Qt=1;Qt<arguments.length;Qt++){for(gt in Dt=arguments[Qt],Dt)U[gt]=Dt[gt];for(let me=0;me<yt.length;me++)gt=yt[me],Object.prototype.hasOwnProperty.call(Dt,gt)&&(U[gt]=Dt[gt])}}function _t(U){var at=1;U=U.split(":");const gt=[];for(;0<at&&U.length;)gt.push(U.shift()),at--;return U.length&&gt.push(U.join(":")),gt}function At(U){p.setTimeout(()=>{throw U},0)}function Et(){var U=Je;let at=null;return U.g&&(at=U.g,U.g=U.g.next,U.g||(U.h=null),at.next=null),at}var Ie=new class nt{constructor(at,gt){this.i=at,this.j=gt,this.h=0,this.g=null}get(){let at;return 0<this.h?(this.h--,at=this.g,this.g=at.next,at.next=null):at=this.i(),at}}(()=>new we,U=>U.reset());class we{constructor(){this.next=this.g=this.h=null}set(at,gt){this.h=at,this.g=gt,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,_e=!1,Je=new class Ye{constructor(){this.h=this.g=null}add(at,gt){const Dt=Ie.get();Dt.set(at,gt),this.h?this.h.next=Dt:this.g=Dt,this.h=Dt}},Ee=()=>{const U=p.Promise.resolve(void 0);ae=()=>{U.then(ki)}};var ki=()=>{for(var U;U=Et();){try{U.h.call(U.g)}catch(gt){At(gt)}var at=Ie;at.j(U),100>at.h&&(at.h++,U.next=at.g,at.g=U)}_e=!1};function ie(){this.s=this.s,this.C=this.C}function Ne(U,at){this.type=U,this.g=this.target=at,this.defaultPrevented=!1}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ne.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var U=!1,at=Object.defineProperty({},"passive",{get:function(){U=!0}});try{const gt=()=>{};p.addEventListener("test",gt,at),p.removeEventListener("test",gt,at)}catch{}return U}();function ui(U,at){if(Ne.call(this,U?U.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,U){var gt=this.type=U.type,Dt=U.changedTouches&&U.changedTouches.length?U.changedTouches[0]:null;if(this.target=U.target||U.srcElement,this.g=at,at=U.relatedTarget){if(Mt){t:{try{wt(at.nodeName);var Qt=!0;break t}catch{}Qt=!1}Qt||(at=null)}}else"mouseover"==gt?at=U.fromElement:"mouseout"==gt&&(at=U.toElement);this.relatedTarget=at,Dt?(this.clientX=void 0!==Dt.clientX?Dt.clientX:Dt.pageX,this.clientY=void 0!==Dt.clientY?Dt.clientY:Dt.pageY,this.screenX=Dt.screenX||0,this.screenY=Dt.screenY||0):(this.clientX=void 0!==U.clientX?U.clientX:U.pageX,this.clientY=void 0!==U.clientY?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0),this.button=U.button,this.key=U.key||"",this.ctrlKey=U.ctrlKey,this.altKey=U.altKey,this.shiftKey=U.shiftKey,this.metaKey=U.metaKey,this.pointerId=U.pointerId||0,this.pointerType="string"==typeof U.pointerType?U.pointerType:pi[U.pointerType]||"",this.state=U.state,this.i=U,U.defaultPrevented&&ui.aa.h.call(this)}}X(ui,Ne);var pi={2:"touch",3:"pen",4:"mouse"};ui.prototype.h=function(){ui.aa.h.call(this);var U=this.i;U.preventDefault?U.preventDefault():U.returnValue=!1};var ii="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function jt(U,at,gt,Dt,Qt){this.listener=U,this.proxy=null,this.src=at,this.type=gt,this.capture=!!Dt,this.ha=Qt,this.key=++Pt,this.da=this.fa=!1}function Xt(U){U.da=!0,U.listener=null,U.proxy=null,U.src=null,U.ha=null}function Gt(U){this.src=U,this.g={},this.h=0}function ye(U,at){var gt=at.type;if(gt in U.g){var me,Dt=U.g[gt],Qt=Array.prototype.indexOf.call(Dt,at,void 0);(me=0<=Qt)&&Array.prototype.splice.call(Dt,Qt,1),me&&(Xt(at),0==U.g[gt].length&&(delete U.g[gt],U.h--))}}function kt(U,at,gt,Dt){for(var Qt=0;Qt<U.length;++Qt){var me=U[Qt];if(!me.da&&me.listener==at&&me.capture==!!gt&&me.ha==Dt)return Qt}return-1}Gt.prototype.add=function(U,at,gt,Dt,Qt){var me=U.toString();(U=this.g[me])||(U=this.g[me]=[],this.h++);var oi=kt(U,at,Dt,Qt);return-1<oi?(at=U[oi],gt||(at.fa=!1)):((at=new jt(at,this.src,me,!!Dt,Qt)).fa=gt,U.push(at)),at};var Ci="closure_lm_"+(1e6*Math.random()|0),Xe={};function Be(U,at,gt,Dt,Qt){if(Dt&&Dt.once)return mi(U,at,gt,Dt,Qt);if(Array.isArray(at)){for(var me=0;me<at.length;me++)Be(U,at[me],gt,Dt,Qt);return null}return gt=ao(gt),U&&U[ii]?U.K(at,gt,D(Dt)?!!Dt.capture:!!Dt,Qt):Vi(U,at,gt,!1,Dt,Qt)}function Vi(U,at,gt,Dt,Qt,me){if(!at)throw Error("Invalid event type");var oi=D(Qt)?!!Qt.capture:!!Qt,Mr=$e(U);if(Mr||(U[Ci]=Mr=new Gt(U)),(gt=Mr.add(at,gt,Dt,oi,me)).proxy)return gt;if(Dt=function qi(){const at=Ma;return function U(gt){return at.call(U.src,U.listener,gt)}}(),gt.proxy=Dt,Dt.src=U,Dt.listener=gt,U.addEventListener)Se||(Qt=oi),void 0===Qt&&(Qt=!1),U.addEventListener(at.toString(),Dt,Qt);else if(U.attachEvent)U.attachEvent(qr(at.toString()),Dt);else{if(!U.addListener||!U.removeListener)throw Error("addEventListener and attachEvent are unavailable.");U.addListener(Dt)}return gt}function mi(U,at,gt,Dt,Qt){if(Array.isArray(at)){for(var me=0;me<at.length;me++)mi(U,at[me],gt,Dt,Qt);return null}return gt=ao(gt),U&&U[ii]?U.L(at,gt,D(Dt)?!!Dt.capture:!!Dt,Qt):Vi(U,at,gt,!0,Dt,Qt)}function qn(U,at,gt,Dt,Qt){if(Array.isArray(at))for(var me=0;me<at.length;me++)qn(U,at[me],gt,Dt,Qt);else Dt=D(Dt)?!!Dt.capture:!!Dt,gt=ao(gt),U&&U[ii]?(U=U.i,(at=String(at).toString())in U.g&&-1<(gt=kt(me=U.g[at],gt,Dt,Qt))&&(Xt(me[gt]),Array.prototype.splice.call(me,gt,1),0==me.length&&(delete U.g[at],U.h--))):U&&(U=$e(U))&&(at=U.g[at.toString()],U=-1,at&&(U=kt(at,gt,Dt,Qt)),(gt=-1<U?at[U]:null)&&Kn(gt))}function Kn(U){if("number"!=typeof U&&U&&!U.da){var at=U.src;if(at&&at[ii])ye(at.i,U);else{var gt=U.type,Dt=U.proxy;at.removeEventListener?at.removeEventListener(gt,Dt,U.capture):at.detachEvent?at.detachEvent(qr(gt),Dt):at.addListener&&at.removeListener&&at.removeListener(Dt),(gt=$e(at))?(ye(gt,U),0==gt.h&&(gt.src=null,at[Ci]=null)):Xt(U)}}}function qr(U){return U in Xe?Xe[U]:Xe[U]="on"+U}function Ma(U,at){if(U.da)U=!0;else{at=new ui(at,this);var gt=U.listener,Dt=U.ha||U.src;U.fa&&Kn(U),U=gt.call(Dt,at)}return U}function $e(U){return(U=U[Ci])instanceof Gt?U:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ao(U){return"function"==typeof U?U:(U[qe]||(U[qe]=function(at){return U.handleEvent(at)}),U[qe])}function Zn(){ie.call(this),this.i=new Gt(this),this.M=this,this.F=null}function zn(U,at){var gt,Dt=U.F;if(Dt)for(gt=[];Dt;Dt=Dt.F)gt.push(Dt);if(U=U.M,Dt=at.type||at,"string"==typeof at)at=new Ne(at,U);else if(at instanceof Ne)at.target=at.target||U;else{var Qt=at;bt(at=new Ne(Dt,U),Qt)}if(Qt=!0,gt)for(var me=gt.length-1;0<=me;me--){var oi=at.g=gt[me];Qt=zs(oi,Dt,!0,at)&&Qt}if(Qt=zs(oi=at.g=U,Dt,!0,at)&&Qt,Qt=zs(oi,Dt,!1,at)&&Qt,gt)for(me=0;me<gt.length;me++)Qt=zs(oi=at.g=gt[me],Dt,!1,at)&&Qt}function zs(U,at,gt,Dt){if(!(at=U.i.g[String(at)]))return!0;at=at.concat();for(var Qt=!0,me=0;me<at.length;++me){var oi=at[me];if(oi&&!oi.da&&oi.capture==gt){var Mr=oi.listener,ka=oi.ha||oi.src;oi.fa&&ye(U.i,oi),Qt=!1!==Mr.call(ka,Dt)&&Qt}}return Qt&&!Dt.defaultPrevented}function oo(U,at,gt){if("function"==typeof U)gt&&(U=B(U,gt));else{if(!U||"function"!=typeof U.handleEvent)throw Error("Invalid listener argument");U=B(U.handleEvent,U)}return 2147483647<Number(at)?-1:p.setTimeout(U,at||0)}function Ki(U){U.g=oo(()=>{U.g=null,U.i&&(U.i=!1,Ki(U))},U.l);const at=U.h;U.h=null,U.m.apply(null,at)}X(Zn,ie),Zn.prototype[ii]=!0,Zn.prototype.removeEventListener=function(U,at,gt,Dt){qn(this,U,at,gt,Dt)},Zn.prototype.N=function(){if(Zn.aa.N.call(this),this.i){var at,U=this.i;for(at in U.g){for(var gt=U.g[at],Dt=0;Dt<gt.length;Dt++)Xt(gt[Dt]);delete U.g[at],U.h--}}this.F=null},Zn.prototype.K=function(U,at,gt,Dt){return this.i.add(String(U),at,!1,gt,Dt)},Zn.prototype.L=function(U,at,gt,Dt){return this.i.add(String(U),at,!0,gt,Dt)};class Wi extends ie{constructor(at,gt){super(),this.m=at,this.l=gt,this.h=null,this.i=!1,this.g=null}j(at){this.h=arguments,this.g?this.i=!0:Ki(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(U){ie.call(this),this.h=U,this.g={}}X(Yn,ie);var Ir=[];function vm(U){Bt(U.g,function(at,gt){this.g.hasOwnProperty(gt)&&Kn(at)},U),U.g={}}Yn.prototype.N=function(){Yn.aa.N.call(this),vm(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vl=p.JSON.stringify,du=p.JSON.parse,xm=class{stringify(U){return p.JSON.stringify(U,void 0)}parse(U){return p.JSON.parse(U,void 0)}};function Tv(){}function IE(){}Tv.prototype.h=null;var ym={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mh(){Ne.call(this,"d")}function Db(){Ne.call(this,"c")}X(Mh,Ne),X(Db,Ne);var uu={},ME=null;function Cv(){return ME=ME||new Zn}function RE(U){Ne.call(this,uu.La,U)}function bm(U){const at=Cv();zn(at,new RE(at))}function kE(U,at){Ne.call(this,uu.STAT_EVENT,U),this.stat=at}function Ra(U){const at=Cv();zn(at,new kE(at,U))}function _v(U,at){Ne.call(this,uu.Ma,U),this.size=at}function wm(U,at){if("function"!=typeof U)throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){U()},at)}function Tm(){this.g=!0}function Ft(U,at,gt,Dt){U.info(function(){return"XMLHTTP TEXT ("+at+"): "+function Rt(U,at){if(!U.g)return at;if(!at)return null;try{var gt=JSON.parse(at);if(gt)for(U=0;U<gt.length;U++)if(Array.isArray(gt[U])){var Dt=gt[U];if(!(2>Dt.length)){var Qt=Dt[1];if(Array.isArray(Qt)&&!(1>Qt.length)){var me=Qt[0];if("noop"!=me&&"stop"!=me&&"close"!=me)for(var oi=1;oi<Qt.length;oi++)Qt[oi]=""}}}return Vl(gt)}catch{return at}}(U,gt)+(Dt?" "+Dt:"")})}uu.La="serverreachability",X(RE,Ne),uu.STAT_EVENT="statevent",X(kE,Ne),uu.Ma="timingevent",X(_v,Ne),Tm.prototype.xa=function(){this.g=!1},Tm.prototype.info=function(){};var re,Ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function pe(){}function te(U,at,gt,Dt){this.j=U,this.i=at,this.l=gt,this.R=Dt||1,this.U=new Yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}X(pe,Tv),pe.prototype.g=function(){return new XMLHttpRequest},pe.prototype.i=function(){return{}},re=new pe;var oe={},Ve={};function Ge(U,at,gt){U.L=1,U.v=OE(fu(at)),U.m=gt,U.P=!0,bi(U,null)}function bi(U,at){U.F=Date.now(),Xi(U),U.A=fu(U.v);var gt=U.A,Dt=U.R;Array.isArray(Dt)||(Dt=[String(Dt)]),iJ(gt.i,"t",Dt),U.C=0,gt=U.j.J,U.h=new se,U.g=bJ(U.j,gt?at:null,!U.m),0<U.O&&(U.M=new Wi(B(U.Y,U,U.g),U.O)),at=U.U,gt=U.g,Dt=U.ca;var Qt="readystatechange";Array.isArray(Qt)||(Qt&&(Ir[0]=Qt.toString()),Qt=Ir);for(var me=0;me<Qt.length;me++){var oi=Be(gt,Qt[me],Dt||at.handleEvent,!1,at.h||at);if(!oi)break;at.g[oi.key]=oi}at=U.H?ft(U.H):{},U.m?(U.u||(U.u="POST"),at["Content-Type"]="application/x-www-form-urlencoded",U.g.ea(U.A,U.u,U.m,at)):(U.u="GET",U.g.ea(U.A,U.u,null,at)),bm(),function LO(U,at,gt,Dt,Qt,me){U.info(function(){if(U.g)if(me)for(var oi="",Mr=me.split("&"),ka=0;ka<Mr.length;ka++){var tr=Mr[ka].split("=");if(1<tr.length){var lo=tr[0];tr=tr[1];var co=lo.split("_");oi=2<=co.length&&"type"==co[1]?oi+(lo+"=")+tr+"&":oi+(lo+"=redacted&")}}else oi=null;else oi=me;return"XMLHTTP REQ ("+Dt+") [attempt "+Qt+"]: "+at+"\n"+gt+"\n"+oi})}(U.i,U.u,U.A,U.l,U.R,U.m)}function ti(U){return!!U.g&&"GET"==U.u&&2!=U.L&&U.j.Ca}function Ue(U,at){var gt=U.C,Dt=at.indexOf("\n",gt);return-1==Dt?Ve:(gt=Number(at.substring(gt,Dt)),isNaN(gt)?oe:(Dt+=1)+gt>at.length?Ve:(at=at.slice(Dt,Dt+gt),U.C=Dt+gt,at))}function Xi(U){U.S=Date.now()+U.I,br(U,U.I)}function br(U,at){if(null!=U.B)throw Error("WatchDog timer not null");U.B=wm(B(U.ba,U),at)}function ya(U){U.B&&(p.clearTimeout(U.B),U.B=null)}function Br(U){0==U.j.G||U.J||gJ(U.j,U)}function Is(U){ya(U);var at=U.M;at&&"function"==typeof at.ma&&at.ma(),U.M=null,vm(U.U),U.g&&(at=U.g,U.g=null,at.abort(),at.ma())}function hu(U,at){try{var gt=U.j;if(0!=gt.G&&(gt.g==U||NO(gt.h,U)))if(!U.K&&NO(gt.h,U)&&3==gt.G){try{var Dt=gt.Da.g.parse(at)}catch{Dt=null}if(Array.isArray(Dt)&&3==Dt.length){var Qt=Dt;if(0==Qt[0]){t:if(!gt.u){if(gt.g){if(!(gt.g.F+3e3<U.F))break t;UE(gt),BE(gt)}zO(gt),Ra(18)}}else gt.za=Qt[1],0<gt.za-gt.T&&37500>Qt[2]&&gt.F&&0==gt.v&&!gt.C&&(gt.C=wm(B(gt.Za,gt),6e3));if(1>=Ul(gt.h)&&gt.ca){try{gt.ca()}catch{}gt.ca=void 0}}else Em(gt,11)}else if((U.K||gt.g==U)&&UE(gt),!ct(at))for(Qt=gt.Da.g.parse(at),at=0;at<Qt.length;at++){let tr=Qt[at];if(gt.T=tr[0],tr=tr[1],2==gt.G)if("c"==tr[0]){gt.K=tr[1],gt.ia=tr[2];const lo=tr[3];null!=lo&&(gt.la=lo,gt.j.info("VER="+gt.la));const co=tr[4];null!=co&&(gt.Aa=co,gt.j.info("SVER="+gt.Aa));const Dv=tr[5];null!=Dv&&"number"==typeof Dv&&0<Dv&&(gt.L=Dt=1.5*Dv,gt.j.info("backChannelRequestTimeoutMs_="+Dt)),Dt=gt;const hc=U.g;if(hc){const GE=hc.g?hc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(GE){var me=Dt.h;me.g||-1==GE.indexOf("spdy")&&-1==GE.indexOf("quic")&&-1==GE.indexOf("h2")||(me.j=me.l,me.g=new Set,me.h&&(BO(me,me.h),me.h=null))}if(Dt.D){const HO=hc.g?hc.g.getResponseHeader("X-HTTP-Session-Id"):null;HO&&(Dt.ya=HO,Xr(Dt.I,Dt.D,HO))}}gt.G=3,gt.l&&gt.l.ua(),gt.ba&&(gt.R=Date.now()-U.F,gt.j.info("Handshake RTT: "+gt.R+"ms"));var oi=U;if((Dt=gt).qa=yJ(Dt,Dt.J?Dt.ia:null,Dt.W),oi.K){$Z(Dt.h,oi);var Mr=oi,ka=Dt.L;ka&&(Mr.I=ka),Mr.B&&(ya(Mr),Xi(Mr)),Dt.g=oi}else mJ(Dt);0<gt.i.length&&VE(gt)}else"stop"!=tr[0]&&"close"!=tr[0]||Em(gt,7);else 3==gt.G&&("stop"==tr[0]||"close"==tr[0]?"stop"==tr[0]?Em(gt,7):UO(gt):"noop"!=tr[0]&&gt.l&&gt.l.ta(tr),gt.v=0)}bm()}catch{}}te.prototype.ca=function(U){U=U.target;const at=this.M;at&&3==mu(U)?at.j():this.Y(U)},te.prototype.Y=function(U){try{if(U==this.g)t:{const co=mu(this.g);var at=this.g.Ba();if(this.g.Z(),!(3>co)&&(3!=co||this.g&&(this.h.h||this.g.oa()||cJ(this.g)))){this.J||4!=co||7==at||bm(),ya(this);var gt=this.g.Z();this.X=gt;e:if(ti(this)){var Dt=cJ(this.g);U="";var Qt=Dt.length,me=4==mu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Is(this),Br(this);var oi="";break e}this.h.i=new p.TextDecoder}for(at=0;at<Qt;at++)this.h.h=!0,U+=this.h.i.decode(Dt[at],{stream:!(me&&at==Qt-1)});Dt.length=0,this.h.g+=U,this.C=0,oi=this.h.g}else oi=this.g.oa();if(this.o=200==gt,function Ct(U,at,gt,Dt,Qt,me,oi){U.info(function(){return"XMLHTTP RESP ("+Dt+") [ attempt "+Qt+"]: "+at+"\n"+gt+"\n"+me+" "+oi})}(this.i,this.u,this.A,this.l,this.R,co,gt),this.o){if(this.T&&!this.K){e:{if(this.g){var Mr,ka=this.g;if((Mr=ka.g?ka.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(Mr)){var tr=Mr;break e}}tr=null}if(!(gt=tr)){this.o=!1,this.s=3,Ra(12),Is(this),Br(this);break t}Ft(this.i,this.l,gt,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hu(this,gt)}if(this.P){let hc;for(gt=!0;!this.J&&this.C<oi.length;){if(hc=Ue(this,oi),hc==Ve){4==co&&(this.s=4,Ra(14),gt=!1),Ft(this.i,this.l,null,"[Incomplete Response]");break}if(hc==oe){this.s=4,Ra(15),Ft(this.i,this.l,oi,"[Invalid Chunk]"),gt=!1;break}Ft(this.i,this.l,hc,null),hu(this,hc)}if(ti(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=co||0!=oi.length||this.h.h||(this.s=1,Ra(16),gt=!1),this.o=this.o&&gt,gt){if(0<oi.length&&!this.W){this.W=!0;var lo=this.j;lo.g==this&&lo.ba&&!lo.M&&(lo.j.info("Great, no buffering proxy detected. Bytes received: "+oi.length),GO(lo),lo.M=!0,Ra(11))}}else Ft(this.i,this.l,oi,"[Invalid Chunked Response]"),Is(this),Br(this)}else Ft(this.i,this.l,oi,null),hu(this,oi);4==co&&Is(this),this.o&&!this.J&&(4==co?gJ(this.j,this):(this.o=!1,Xi(this)))}else(function oHt(U){const at={};U=(U.g&&2<=mu(U)&&U.g.getAllResponseHeaders()||"").split("\r\n");for(let Dt=0;Dt<U.length;Dt++){if(ct(U[Dt]))continue;var gt=_t(U[Dt]);const Qt=gt[0];if("string"!=typeof(gt=gt[1]))continue;gt=gt.trim();const me=at[Qt]||[];at[Qt]=me,me.push(gt)}!function pt(U,at){for(const gt in U)at.call(void 0,U[gt],gt,U)}(at,function(Dt){return Dt.join(", ")})})(this.g),400==gt&&0<oi.indexOf("Unknown SID")?(this.s=3,Ra(12)):(this.s=0,Ra(13)),Is(this),Br(this)}}}catch{}},te.prototype.cancel=function(){this.J=!0,Is(this)},te.prototype.ba=function(){this.B=null;const U=Date.now();0<=U-this.S?(function It(U,at){U.info(function(){return"TIMEOUT: "+at})}(this.i,this.A),2!=this.L&&(bm(),Ra(17)),Is(this),this.s=2,Br(this)):br(this,this.S-U)};var Cm=class{constructor(U,at){this.g=U,this.map=at}};function nd(U){this.l=U||10,U=p.PerformanceNavigationTiming?0<(U=p.performance.getEntriesByType("navigation")).length&&("hq"==U[0].nextHopProtocol||"h2"==U[0].nextHopProtocol):!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=U?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ev(U){return!!U.h||!!U.g&&U.g.size>=U.j}function Ul(U){return U.h?1:U.g?U.g.size:0}function NO(U,at){return U.h?U.h==at:!!U.g&&U.g.has(at)}function BO(U,at){U.g?U.g.add(at):U.h=at}function $Z(U,at){U.h&&U.h==at?U.h=null:U.g&&U.g.has(at)&&U.g.delete(at)}function QZ(U){if(null!=U.h)return U.i.concat(U.h.D);if(null!=U.g&&0!==U.g.size){let at=U.i;for(const gt of U.g.values())at=at.concat(gt.D);return at}return J(U.i)}function KZ(U,at){if(U.forEach&&"function"==typeof U.forEach)U.forEach(at,void 0);else if(C(U)||"string"==typeof U)Array.prototype.forEach.call(U,at,void 0);else for(var gt=function YGt(U){if(U.na&&"function"==typeof U.na)return U.na();if(!U.V||"function"!=typeof U.V){if(typeof Map<"u"&&U instanceof Map)return Array.from(U.keys());if(!(typeof Set<"u"&&U instanceof Set)){if(C(U)||"string"==typeof U){var at=[];U=U.length;for(var gt=0;gt<U;gt++)at.push(gt);return at}at=[],gt=0;for(const Dt in U)at[gt++]=Dt;return at}}}(U),Dt=function jGt(U){if(U.V&&"function"==typeof U.V)return U.V();if(typeof Map<"u"&&U instanceof Map||typeof Set<"u"&&U instanceof Set)return Array.from(U.values());if("string"==typeof U)return U.split("");if(C(U)){for(var at=[],gt=U.length,Dt=0;Dt<gt;Dt++)at.push(U[Dt]);return at}for(Dt in at=[],gt=0,U)at[gt++]=U[Dt];return at}(U),Qt=Dt.length,me=0;me<Qt;me++)at.call(void 0,Dt[me],gt&&gt[me],U)}nd.prototype.cancel=function(){if(this.i=QZ(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const U of this.g.values())U.cancel();this.g.clear()}};var ZZ=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _m(U){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,U instanceof _m){this.h=U.h,PE(this,U.j),this.o=U.o,this.g=U.g,FE(this,U.s),this.l=U.l;var at=U.i,gt=new Rb;gt.i=at.i,at.g&&(gt.g=new Map(at.g),gt.h=at.h),JZ(this,gt),this.m=U.m}else U&&(at=String(U).match(ZZ))?(this.h=!1,PE(this,at[1]||"",!0),this.o=Ib(at[2]||""),this.g=Ib(at[3]||"",!0),FE(this,at[4]),this.l=Ib(at[5]||"",!0),JZ(this,at[6]||"",!0),this.m=Ib(at[7]||"")):(this.h=!1,this.i=new Rb(null,this.h))}function fu(U){return new _m(U)}function PE(U,at,gt){U.j=gt?Ib(at,!0):at,U.j&&(U.j=U.j.replace(/:$/,""))}function FE(U,at){if(at){if(at=Number(at),isNaN(at)||0>at)throw Error("Bad port number "+at);U.s=at}else U.s=null}function JZ(U,at,gt){at instanceof Rb?(U.i=at,function tHt(U,at){at&&!U.j&&(Rh(U),U.i=null,U.g.forEach(function(gt,Dt){var Qt=Dt.toLowerCase();Dt!=Qt&&(tJ(this,Dt),iJ(this,Qt,gt))},U)),U.j=at}(U.i,U.h)):(gt||(at=Mb(at,JGt)),U.i=new Rb(at,U.h))}function Xr(U,at,gt){U.i.set(at,gt)}function OE(U){return Xr(U,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),U}function Ib(U,at){return U?at?decodeURI(U.replace(/%25/g,"%2525")):decodeURIComponent(U):""}function Mb(U,at,gt){return"string"==typeof U?(U=encodeURI(U).replace(at,QGt),gt&&(U=U.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U):null}function QGt(U){return"%"+((U=U.charCodeAt(0))>>4&15).toString(16)+(15&U).toString(16)}_m.prototype.toString=function(){var U=[],at=this.j;at&&U.push(Mb(at,qZ,!0),":");var gt=this.g;return(gt||"file"==at)&&(U.push("//"),(at=this.o)&&U.push(Mb(at,qZ,!0),"@"),U.push(encodeURIComponent(String(gt)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(gt=this.s)&&U.push(":",String(gt))),(gt=this.l)&&(this.g&&"/"!=gt.charAt(0)&&U.push("/"),U.push(Mb(gt,"/"==gt.charAt(0)?ZGt:KGt,!0))),(gt=this.i.toString())&&U.push("?",gt),(gt=this.m)&&U.push("#",Mb(gt,qGt)),U.join("")};var qZ=/[#\/\?@]/g,KGt=/[#\?:]/g,ZGt=/[#\?]/g,JGt=/[#\?@]/g,qGt=/#/g;function Rb(U,at){this.h=this.g=null,this.i=U||null,this.j=!!at}function Rh(U){U.g||(U.g=new Map,U.h=0,U.i&&function $Gt(U,at){if(U){U=U.split("&");for(var gt=0;gt<U.length;gt++){var Dt=U[gt].indexOf("="),Qt=null;if(0<=Dt){var me=U[gt].substring(0,Dt);Qt=U[gt].substring(Dt+1)}else me=U[gt];at(me,Qt?decodeURIComponent(Qt.replace(/\+/g," ")):"")}}}(U.i,function(at,gt){U.add(decodeURIComponent(at.replace(/\+/g," ")),gt)}))}function tJ(U,at){Rh(U),at=Sv(U,at),U.g.has(at)&&(U.i=null,U.h-=U.g.get(at).length,U.g.delete(at))}function eJ(U,at){return Rh(U),at=Sv(U,at),U.g.has(at)}function iJ(U,at,gt){tJ(U,at),0<gt.length&&(U.i=null,U.g.set(Sv(U,at),J(gt)),U.h+=gt.length)}function Sv(U,at){return at=String(at),U.j&&(at=at.toLowerCase()),at}function kh(U,at,gt,Dt,Qt){try{Qt&&(Qt.onload=null,Qt.onerror=null,Qt.onabort=null,Qt.ontimeout=null),Dt(gt)}catch{}}function nHt(){this.g=new xm}function rHt(U,at,gt){const Dt=gt||"";try{KZ(U,function(Qt,me){let oi=Qt;D(Qt)&&(oi=Vl(Qt)),at.push(Dt+me+"="+encodeURIComponent(oi))})}catch(Qt){throw at.push(Dt+"type="+encodeURIComponent("_badmap")),Qt}}function kb(U){this.l=U.Ub||null,this.j=U.eb||!1}function LE(U,at){Zn.call(this),this.D=U,this.o=at,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function nJ(U){U.j.read().then(U.Pa.bind(U)).catch(U.ga.bind(U))}function Pb(U){U.readyState=4,U.l=null,U.j=null,U.v=null,Fb(U)}function Fb(U){U.onreadystatechange&&U.onreadystatechange.call(U)}function rJ(U){let at="";return Bt(U,function(gt,Dt){at+=Dt,at+=":",at+=gt,at+="\r\n"}),at}function VO(U,at,gt){t:{for(Dt in gt){var Dt=!1;break t}Dt=!0}Dt||(gt=rJ(gt),"string"==typeof U?null!=gt&&encodeURIComponent(String(gt)):Xr(U,at,gt))}function us(U){Zn.call(this),this.headers=new Map,this.o=U||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Rb.prototype).add=function(U,at){Rh(this),this.i=null,U=Sv(this,U);var gt=this.g.get(U);return gt||this.g.set(U,gt=[]),gt.push(at),this.h+=1,this},e.forEach=function(U,at){Rh(this),this.g.forEach(function(gt,Dt){gt.forEach(function(Qt){U.call(at,Qt,Dt,this)},this)},this)},e.na=function(){Rh(this);const U=Array.from(this.g.values()),at=Array.from(this.g.keys()),gt=[];for(let Dt=0;Dt<at.length;Dt++){const Qt=U[Dt];for(let me=0;me<Qt.length;me++)gt.push(at[Dt])}return gt},e.V=function(U){Rh(this);let at=[];if("string"==typeof U)eJ(this,U)&&(at=at.concat(this.g.get(Sv(this,U))));else{U=Array.from(this.g.values());for(let gt=0;gt<U.length;gt++)at=at.concat(U[gt])}return at},e.set=function(U,at){return Rh(this),this.i=null,eJ(this,U=Sv(this,U))&&(this.h-=this.g.get(U).length),this.g.set(U,[at]),this.h+=1,this},e.get=function(U,at){return U&&0<(U=this.V(U)).length?String(U[0]):at},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const U=[],at=Array.from(this.g.keys());for(var gt=0;gt<at.length;gt++){var Dt=at[gt];const me=encodeURIComponent(String(Dt)),oi=this.V(Dt);for(Dt=0;Dt<oi.length;Dt++){var Qt=me;""!==oi[Dt]&&(Qt+="="+encodeURIComponent(String(oi[Dt]))),U.push(Qt)}}return this.i=U.join("&")},X(kb,Tv),kb.prototype.g=function(){return new LE(this.l,this.j)},kb.prototype.i=function(U){return function(){return U}}({}),X(LE,Zn),(e=LE.prototype).open=function(U,at){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=U,this.A=at,this.readyState=1,Fb(this)},e.send=function(U){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const at={headers:this.u,method:this.B,credentials:this.m,cache:void 0};U&&(at.body=U),(this.D||p).fetch(new Request(this.A,at)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pb(this)),this.readyState=0},e.Sa=function(U){if(this.g&&(this.l=U,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=U.headers,this.readyState=2,Fb(this)),this.g&&(this.readyState=3,Fb(this),this.g)))if("arraybuffer"===this.responseType)U.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in U){if(this.j=U.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nJ(this)}else U.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(U){if(this.g){if(this.o&&U.value)this.response.push(U.value);else if(!this.o){var at=U.value?U.value:new Uint8Array(0);(at=this.v.decode(at,{stream:!U.done}))&&(this.response=this.responseText+=at)}U.done?Pb(this):Fb(this),3==this.readyState&&nJ(this)}},e.Ra=function(U){this.g&&(this.response=this.responseText=U,Pb(this))},e.Qa=function(U){this.g&&(this.response=U,Pb(this))},e.ga=function(){this.g&&Pb(this)},e.setRequestHeader=function(U,at){this.u.append(U,at)},e.getResponseHeader=function(U){return this.h&&this.h.get(U.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const U=[],at=this.h.entries();for(var gt=at.next();!gt.done;)U.push((gt=gt.value)[0]+": "+gt[1]),gt=at.next();return U.join("\r\n")},Object.defineProperty(LE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(U){this.m=U?"include":"same-origin"}}),X(us,Zn);var sHt=/^https?$/i,aHt=["POST","PUT"];function sJ(U,at){U.h=!1,U.g&&(U.j=!0,U.g.abort(),U.j=!1),U.l=at,U.m=5,aJ(U),NE(U)}function aJ(U){U.A||(U.A=!0,zn(U,"complete"),zn(U,"error"))}function oJ(U){if(U.h&&typeof o<"u"&&(!U.v[1]||4!=mu(U)||2!=U.Z()))if(U.u&&4==mu(U))oo(U.Ea,0,U);else if(zn(U,"readystatechange"),4==mu(U)){U.h=!1;try{const oi=U.Z();t:switch(oi){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var at=!0;break t;default:at=!1}var gt;if(!(gt=at)){var Dt;if(Dt=0===oi){var Qt=String(U.D).match(ZZ)[1]||null;!Qt&&p.self&&p.self.location&&(Qt=p.self.location.protocol.slice(0,-1)),Dt=!sHt.test(Qt?Qt.toLowerCase():"")}gt=Dt}if(gt)zn(U,"complete"),zn(U,"success");else{U.m=6;try{var me=2<mu(U)?U.g.statusText:""}catch{me=""}U.l=me+" ["+U.Z()+"]",aJ(U)}}finally{NE(U)}}}function NE(U,at){if(U.g){lJ(U);const gt=U.g,Dt=U.v[0]?()=>{}:null;U.g=null,U.v=null,at||zn(U,"ready");try{gt.onreadystatechange=Dt}catch{}}}function lJ(U){U.I&&(p.clearTimeout(U.I),U.I=null)}function mu(U){return U.g?U.g.readyState:0}function cJ(U){try{if(!U.g)return null;if("response"in U.g)return U.g.response;switch(U.H){case"":case"text":return U.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in U.g)return U.g.mozResponseArrayBuffer}return null}catch{return null}}function Ob(U,at,gt){return gt&&gt.internalChannelParams&&gt.internalChannelParams[U]||at}function dJ(U){this.Aa=0,this.i=[],this.j=new Tm,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ob("failFast",!1,U),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ob("baseRetryDelayMs",5e3,U),this.cb=Ob("retryDelaySeedMs",1e4,U),this.Wa=Ob("forwardChannelMaxRetries",2,U),this.wa=Ob("forwardChannelRequestTimeoutMs",2e4,U),this.pa=U&&U.xmlHttpFactory||void 0,this.Xa=U&&U.Tb||void 0,this.Ca=U&&U.useFetchStreams||!1,this.L=void 0,this.J=U&&U.supportsCrossDomainXhr||!1,this.K="",this.h=new nd(U&&U.concurrentRequestLimit),this.Da=new nHt,this.P=U&&U.fastHandshake||!1,this.O=U&&U.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=U&&U.Rb||!1,U&&U.xa&&this.j.xa(),U&&U.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&U&&U.detectBufferingProxy||!1,this.ja=void 0,U&&U.longPollingTimeout&&0<U.longPollingTimeout&&(this.ja=U.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function UO(U){if(uJ(U),3==U.G){var at=U.U++,gt=fu(U.I);if(Xr(gt,"SID",U.K),Xr(gt,"RID",at),Xr(gt,"TYPE","terminate"),Lb(U,gt),(at=new te(U,U.j,at)).L=2,at.v=OE(fu(gt)),gt=!1,p.navigator&&p.navigator.sendBeacon)try{gt=p.navigator.sendBeacon(at.v.toString(),"")}catch{}!gt&&p.Image&&((new Image).src=at.v,gt=!0),gt||(at.g=bJ(at.j,null),at.g.ea(at.v)),at.F=Date.now(),Xi(at)}xJ(U)}function BE(U){U.g&&(GO(U),U.g.cancel(),U.g=null)}function uJ(U){BE(U),U.u&&(p.clearTimeout(U.u),U.u=null),UE(U),U.h.cancel(),U.s&&("number"==typeof U.s&&p.clearTimeout(U.s),U.s=null)}function VE(U){if(!Ev(U.h)&&!U.s){U.s=!0;var at=U.Ga;ae||Ee(),_e||(ae(),_e=!0),Je.add(at,U),U.B=0}}function hJ(U,at){var gt;gt=at?at.l:U.U++;const Dt=fu(U.I);Xr(Dt,"SID",U.K),Xr(Dt,"RID",gt),Xr(Dt,"AID",U.T),Lb(U,Dt),U.m&&U.o&&VO(Dt,U.m,U.o),gt=new te(U,U.j,gt,U.B+1),null===U.m&&(gt.H=U.o),at&&(U.i=at.D.concat(U.i)),at=fJ(U,gt,1e3),gt.I=Math.round(.5*U.wa)+Math.round(.5*U.wa*Math.random()),BO(U.h,gt),Ge(gt,Dt,at)}function Lb(U,at){U.H&&Bt(U.H,function(gt,Dt){Xr(at,Dt,gt)}),U.l&&KZ({},function(gt,Dt){Xr(at,Dt,gt)})}function fJ(U,at,gt){gt=Math.min(U.i.length,gt);var Dt=U.l?B(U.l.Na,U.l,U):null;t:{var Qt=U.i;let me=-1;for(;;){const oi=["count="+gt];-1==me?0<gt?(me=Qt[0].g,oi.push("ofs="+me)):me=0:oi.push("ofs="+me);let Mr=!0;for(let ka=0;ka<gt;ka++){let tr=Qt[ka].g;const lo=Qt[ka].map;if(tr-=me,0>tr)me=Math.max(0,Qt[ka].g-100),Mr=!1;else try{rHt(lo,oi,"req"+tr+"_")}catch{Dt&&Dt(lo)}}if(Mr){Dt=oi.join("&");break t}}}return U=U.i.splice(0,gt),at.D=U,Dt}function mJ(U){if(!U.g&&!U.u){U.Y=1;var at=U.Fa;ae||Ee(),_e||(ae(),_e=!0),Je.add(at,U),U.v=0}}function zO(U){return!(U.g||U.u||3<=U.v||(U.Y++,U.u=wm(B(U.Fa,U),vJ(U,U.v)),U.v++,0))}function GO(U){null!=U.A&&(p.clearTimeout(U.A),U.A=null)}function pJ(U){U.g=new te(U,U.j,"rpc",U.Y),null===U.m&&(U.g.H=U.o),U.g.O=0;var at=fu(U.qa);Xr(at,"RID","rpc"),Xr(at,"SID",U.K),Xr(at,"AID",U.T),Xr(at,"CI",U.F?"0":"1"),!U.F&&U.ja&&Xr(at,"TO",U.ja),Xr(at,"TYPE","xmlhttp"),Lb(U,at),U.m&&U.o&&VO(at,U.m,U.o),U.L&&(U.g.I=U.L);var gt=U.g;U=U.ia,gt.L=1,gt.v=OE(fu(at)),gt.m=null,gt.P=!0,bi(gt,U)}function UE(U){null!=U.C&&(p.clearTimeout(U.C),U.C=null)}function gJ(U,at){var gt=null;if(U.g==at){UE(U),GO(U),U.g=null;var Dt=2}else{if(!NO(U.h,at))return;gt=at.D,$Z(U.h,at),Dt=1}if(0!=U.G)if(at.o)if(1==Dt){gt=at.m?at.m.length:0,at=Date.now()-at.F;var Qt=U.B;zn(Dt=Cv(),new _v(Dt,gt)),VE(U)}else mJ(U);else if(3==(Qt=at.s)||0==Qt&&0<at.X||!(1==Dt&&function lHt(U,at){return!(Ul(U.h)>=U.h.j-(U.s?1:0)||(U.s?(U.i=at.D.concat(U.i),0):1==U.G||2==U.G||U.B>=(U.Va?0:U.Wa)||(U.s=wm(B(U.Ga,U,at),vJ(U,U.B)),U.B++,0)))}(U,at)||2==Dt&&zO(U)))switch(gt&&0<gt.length&&(at=U.h,at.i=at.i.concat(gt)),Qt){case 1:Em(U,5);break;case 4:Em(U,10);break;case 3:Em(U,6);break;default:Em(U,2)}}function vJ(U,at){let gt=U.Ta+Math.floor(Math.random()*U.cb);return U.isActive()||(gt*=2),gt*at}function Em(U,at){if(U.j.info("Error code "+at),2==at){var gt=B(U.fb,U),Dt=U.Xa;const Qt=!Dt;Dt=new _m(Dt||"//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||PE(Dt,"https"),OE(Dt),Qt?function eHt(U,at){const gt=new Tm;if(p.Image){const Dt=new Image;Dt.onload=V(kh,gt,"TestLoadImage: loaded",!0,at,Dt),Dt.onerror=V(kh,gt,"TestLoadImage: error",!1,at,Dt),Dt.onabort=V(kh,gt,"TestLoadImage: abort",!1,at,Dt),Dt.ontimeout=V(kh,gt,"TestLoadImage: timeout",!1,at,Dt),p.setTimeout(function(){Dt.ontimeout&&Dt.ontimeout()},1e4),Dt.src=U}else at(!1)}(Dt.toString(),gt):function iHt(U,at){new Tm;const Dt=new AbortController,Qt=setTimeout(()=>{Dt.abort(),kh(0,0,!1,at)},1e4);fetch(U,{signal:Dt.signal}).then(me=>{clearTimeout(Qt),kh(0,0,!!me.ok,at)}).catch(()=>{clearTimeout(Qt),kh(0,0,!1,at)})}(Dt.toString(),gt)}else Ra(2);U.G=0,U.l&&U.l.sa(at),xJ(U),uJ(U)}function xJ(U){if(U.G=0,U.ka=[],U.l){const at=QZ(U.h);(0!=at.length||0!=U.i.length)&&(Q(U.ka,at),Q(U.ka,U.i),U.h.i.length=0,J(U.i),U.i.length=0),U.l.ra()}}function yJ(U,at,gt){var Dt=gt instanceof _m?fu(gt):new _m(gt);if(""!=Dt.g)at&&(Dt.g=at+"."+Dt.g),FE(Dt,Dt.s);else{var Qt=p.location;Dt=Qt.protocol,at=at?at+"."+Qt.hostname:Qt.hostname,Qt=+Qt.port;var me=new _m(null);Dt&&PE(me,Dt),at&&(me.g=at),Qt&&FE(me,Qt),gt&&(me.l=gt),Dt=me}return at=U.ya,(gt=U.D)&&at&&Xr(Dt,gt,at),Xr(Dt,"VER",U.la),Lb(U,Dt),Dt}function bJ(U,at,gt){if(at&&!U.J)throw Error("Can't create secondary domain capable XhrIo object.");return(at=new us(U.Ca&&!U.pa?new kb({eb:gt}):U.pa)).Ha(U.J),at}function wJ(){}function zE(){}function fl(U,at){Zn.call(this),this.g=new dJ(at),this.l=U,this.h=at&&at.messageUrlParams||null,U=at&&at.messageHeaders||null,at&&at.clientProtocolHeaderRequired&&(U?U["X-Client-Protocol"]="webchannel":U={"X-Client-Protocol":"webchannel"}),this.g.o=U,U=at&&at.initMessageHeaders||null,at&&at.messageContentType&&(U?U["X-WebChannel-Content-Type"]=at.messageContentType:U={"X-WebChannel-Content-Type":at.messageContentType}),at&&at.va&&(U?U["X-WebChannel-Client-Profile"]=at.va:U={"X-WebChannel-Client-Profile":at.va}),this.g.S=U,(U=at&&at.Sb)&&!ct(U)&&(this.g.m=U),this.v=at&&at.supportsCrossDomainXhr||!1,this.u=at&&at.sendRawJson||!1,(at=at&&at.httpSessionIdParam)&&!ct(at)&&(this.g.D=at,null!==(U=this.h)&&at in U&&at in(U=this.h)&&delete U[at]),this.j=new Av(this)}function TJ(U){Mh.call(this),U.__headers__&&(this.headers=U.__headers__,this.statusCode=U.__status__,delete U.__headers__,delete U.__status__);var at=U.__sm__;if(at){t:{for(const gt in at){U=gt;break t}U=void 0}(this.i=U)&&(U=this.i,at=null!==at&&U in at?at[U]:void 0),this.data=at}else this.data=U}function CJ(){Db.call(this),this.status=1}function Av(U){this.g=U}(e=us.prototype).Ha=function(U){this.J=U},e.ea=function(U,at,gt,Dt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+U);at=at?at.toUpperCase():"GET",this.D=U,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():re.g(),this.v=function Ab(U){return U.h||(U.h=U.i())}(this.o?this.o:re),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(at,String(U),!0),this.B=!1}catch(me){return void sJ(this,me)}if(U=gt||"",gt=new Map(this.headers),Dt)if(Object.getPrototypeOf(Dt)===Object.prototype)for(var Qt in Dt)gt.set(Qt,Dt[Qt]);else{if("function"!=typeof Dt.keys||"function"!=typeof Dt.get)throw Error("Unknown input type for opt_headers: "+String(Dt));for(const me of Dt.keys())gt.set(me,Dt.get(me))}Dt=Array.from(gt.keys()).find(me=>"content-type"==me.toLowerCase()),Qt=p.FormData&&U instanceof p.FormData,!(0<=Array.prototype.indexOf.call(aHt,at,void 0))||Dt||Qt||gt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,oi]of gt)this.g.setRequestHeader(me,oi);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lJ(this),this.u=!0,this.g.send(U),this.u=!1}catch(me){sJ(this,me)}},e.abort=function(U){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=U||7,zn(this,"complete"),zn(this,"abort"),NE(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),NE(this,!0)),us.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?oJ(this):this.bb())},e.bb=function(){oJ(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<mu(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(U){if(this.g){var at=this.g.responseText;return U&&0==at.indexOf(U)&&(at=at.substring(U.length)),du(at)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=dJ.prototype).la=8,e.G=1,e.connect=function(U,at,gt,Dt){Ra(0),this.W=U,this.H=at||{},gt&&void 0!==Dt&&(this.H.OSID=gt,this.H.OAID=Dt),this.F=this.X,this.I=yJ(this,null,this.W),VE(this)},e.Ga=function(U){if(this.s)if(this.s=null,1==this.G){if(!U){this.U=Math.floor(1e5*Math.random()),U=this.U++;const Qt=new te(this,this.j,U);let me=this.o;if(this.S&&(me?(me=ft(me),bt(me,this.S)):me=this.S),null!==this.m||this.O||(Qt.H=me,me=null),this.P)t:{for(var at=0,gt=0;gt<this.i.length;gt++){var Dt=this.i[gt];if(void 0===(Dt="__data__"in Dt.map&&"string"==typeof(Dt=Dt.map.__data__)?Dt.length:void 0))break;if(4096<(at+=Dt)){at=gt;break t}if(4096===at||gt===this.i.length-1){at=gt+1;break t}}at=1e3}else at=1e3;at=fJ(this,Qt,at),Xr(gt=fu(this.I),"RID",U),Xr(gt,"CVER",22),this.D&&Xr(gt,"X-HTTP-Session-Id",this.D),Lb(this,gt),me&&(this.O?at="headers="+encodeURIComponent(String(rJ(me)))+"&"+at:this.m&&VO(gt,this.m,me)),BO(this.h,Qt),this.Ua&&Xr(gt,"TYPE","init"),this.P?(Xr(gt,"$req",at),Xr(gt,"SID","null"),Qt.T=!0,Ge(Qt,gt,null)):Ge(Qt,gt,at),this.G=2}}else 3==this.G&&(U?hJ(this,U):0==this.i.length||Ev(this.h)||hJ(this))},e.Fa=function(){if(this.u=null,pJ(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var U=2*this.R;this.j.info("BP detection timer enabled: "+U),this.A=wm(B(this.ab,this),U)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ra(10),BE(this),pJ(this))},e.Za=function(){null!=this.C&&(this.C=null,BE(this),zO(this),Ra(19))},e.fb=function(U){U?(this.j.info("Successfully pinged google.com"),Ra(2)):(this.j.info("Failed to ping google.com"),Ra(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=wJ.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},zE.prototype.g=function(U,at){return new fl(U,at)},X(fl,Zn),fl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fl.prototype.close=function(){UO(this.g)},fl.prototype.o=function(U){var at=this.g;if("string"==typeof U){var gt={};gt.__data__=U,U=gt}else this.u&&((gt={}).__data__=Vl(U),U=gt);at.i.push(new Cm(at.Ya++,U)),3==at.G&&VE(at)},fl.prototype.N=function(){this.g.l=null,delete this.j,UO(this.g),delete this.g,fl.aa.N.call(this)},X(TJ,Mh),X(CJ,Db),X(Av,wJ),Av.prototype.ua=function(){zn(this.g,"a")},Av.prototype.ta=function(U){zn(this.g,new TJ(U))},Av.prototype.sa=function(U){zn(this.g,new CJ)},Av.prototype.ra=function(){zn(this.g,"b")},zE.prototype.createWebChannel=zE.prototype.g,fl.prototype.send=fl.prototype.o,fl.prototype.open=fl.prototype.m,fl.prototype.close=fl.prototype.close,Y7=Xd.createWebChannelTransport=function(){return new zE},j7=Xd.getStatEventTarget=function(){return Cv()},X7=Xd.Event=uu,_R=Xd.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ot.NO_ERROR=0,Ot.TIMEOUT=8,Ot.HTTP_ERROR=6,PC=Xd.ErrorCode=Ot,Lt.COMPLETE="complete",W7=Xd.EventType=Lt,IE.EventType=ym,ym.OPEN="a",ym.CLOSE="b",ym.ERROR="c",ym.MESSAGE="d",Zn.prototype.listen=Zn.prototype.K,$x=Xd.WebChannel=IE,H7=Xd.FetchXmlHttpFactory=kb,us.prototype.listenOnce=us.prototype.L,us.prototype.getLastError=us.prototype.Ka,us.prototype.getLastErrorCode=us.prototype.Ba,us.prototype.getStatus=us.prototype.Z,us.prototype.getResponseJson=us.prototype.Oa,us.prototype.getResponseText=us.prototype.oa,us.prototype.send=us.prototype.ea,us.prototype.setWithCredentials=us.prototype.Ha,G7=Xd.XhrIo=us}).apply(typeof kC<"u"?kC:typeof self<"u"?self:typeof window<"u"?window:{});const $7="@firebase/firestore";class fa{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}fa.UNAUTHENTICATED=new fa(null),fa.GOOGLE_CREDENTIALS=new fa("google-credentials-uid"),fa.FIRST_PARTY=new fa("first-party-uid"),fa.MOCK_USER=new fa("mock-user");let vg="10.12.3";const sh=new _7("@firebase/firestore");function xg(){return sh.logLevel}function Pe(e,...i){if(sh.logLevel<=Xn.DEBUG){const t=i.map(ER);sh.debug(`Firestore (${vg}): ${e}`,...t)}}function ws(e,...i){if(sh.logLevel<=Xn.ERROR){const t=i.map(ER);sh.error(`Firestore (${vg}): ${e}`,...t)}}function rl(e,...i){if(sh.logLevel<=Xn.WARN){const t=i.map(ER);sh.warn(`Firestore (${vg}): ${e}`,...t)}}function ER(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return e}}function vi(e="Unexpected state"){const i=`FIRESTORE (${vg}) INTERNAL ASSERTION FAILED: `+e;throw ws(i),new Error(i)}function Si(e,i){e||vi()}function ai(e,i){return e}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends gg{constructor(i,t){super(i,t),this.code=i,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qs{constructor(){this.promise=new Promise((i,t)=>{this.resolve=i,this.reject=t})}}class Q7{constructor(i,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class xDt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,t){i.enqueueRetryable(()=>t(fa.UNAUTHENTICATED))}shutdown(){}}class yDt{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,t){this.changeListener=t,i.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bDt{constructor(i){this.t=i,this.currentUser=fa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,t){var n=this;let r=this.i;const s=D=>this.i!==r?(r=this.i,t(D)):Promise.resolve();let o=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qs,i.enqueueRetryable(()=>s(this.currentUser))};const p=()=>{const D=o;i.enqueueRetryable(de(function*(){yield D.promise,yield s(n.currentUser)}))},C=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(D=>C(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?C(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qs)}},0),p()}getToken(){const i=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==i?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Si("string"==typeof n.accessToken),new Q7(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Si(null===i||"string"==typeof i),new fa(i)}}class wDt{constructor(i,t,n){this.l=i,this.h=t,this.P=n,this.type="FirstParty",this.user=fa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const i=this.T();return i&&this.I.set("Authorization",i),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class TDt{constructor(i,t,n){this.l=i,this.h=t,this.P=n}getToken(){return Promise.resolve(new wDt(this.l,this.h,this.P))}start(i,t){i.enqueueRetryable(()=>t(fa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K7{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CDt{constructor(i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(i,t){const n=s=>{null!=s.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{i.enqueueRetryable(()=>n(s))};const r=s=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(t=>t?(Si("string"==typeof t.token),this.R=t.token,new K7(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _Dt(e){const i=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(e);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(t);else for(let n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}class Z7{static newId(){const t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=_Dt(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return n}}function Ji(e,i){return e<i?-1:e>i?1:0}function yg(e,i,t){return e.length===i.length&&e.every((n,r)=>t(n,i[r]))}class Qr{constructor(i,t){if(this.seconds=i,this.nanoseconds=t,t<0)throw new Fe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(i<-62135596800)throw new Fe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Fe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Qr.fromMillis(Date.now())}static fromDate(i){return Qr.fromMillis(i.getTime())}static fromMillis(i){const t=Math.floor(i/1e3),n=Math.floor(1e6*(i-1e3*t));return new Qr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?Ji(this.nanoseconds,i.nanoseconds):Ji(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ii{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Ii(i)}static min(){return new Ii(new Qr(0,0))}static max(){return new Ii(new Qr(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qx{constructor(i,t,n){void 0===t?t=0:t>i.length&&vi(),void 0===n?n=i.length-t:n>i.length-t&&vi(),this.segments=i,this.offset=t,this.len=n}get length(){return this.len}isEqual(i){return 0===Qx.comparator(this,i)}child(i){const t=this.segments.slice(this.offset,this.limit());return i instanceof Qx?i.forEach(n=>{t.push(n)}):t.push(i),this.construct(t)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==i.get(t))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==i.get(t))return!1;return!0}forEach(i){for(let t=this.offset,n=this.limit();t<n;t++)i(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,t){const n=Math.min(i.length,t.length);for(let r=0;r<n;r++){const s=i.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return i.length<t.length?-1:i.length>t.length?1:0}}class Nn extends Qx{construct(i,t,n){return new Nn(i,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...i){const t=[];for(const n of i){if(n.indexOf("//")>=0)throw new Fe(he.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(r=>r.length>0))}return new Nn(t)}static emptyPath(){return new Nn([])}}const EDt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends Qx{construct(i,t,n){return new Kr(i,t,n)}static isValidIdentifier(i){return EDt.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kr(["__name__"])}static fromServerFormat(i){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Fe(he.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<i.length;){const p=i[r];if("\\"===p){if(r+1===i.length)throw new Fe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const C=i[r+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Fe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);n+=C,r+=2}else"`"===p?(o=!o,r++):"."!==p||o?(n+=p,r++):(s(),r++)}if(s(),o)throw new Fe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Kr(t)}static emptyPath(){return new Kr([])}}class ci{constructor(i){this.path=i}static fromPath(i){return new ci(Nn.fromString(i))}static fromName(i){return new ci(Nn.fromString(i).popFirst(5))}static empty(){return new ci(Nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Nn.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,t){return Nn.comparator(i.path,t.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new ci(new Nn(i.slice()))}}class sl{constructor(i,t,n){this.readTime=i,this.documentKey=t,this.largestBatchId=n}static min(){return new sl(Ii.min(),ci.empty(),-1)}static max(){return new sl(Ii.max(),ci.empty(),-1)}}function AR(e,i){let t=e.readTime.compareTo(i.readTime);return 0!==t?t:(t=ci.comparator(e.documentKey,i.documentKey),0!==t?t:Ji(e.largestBatchId,i.largestBatchId))}const eW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}function ah(e){return DR.apply(this,arguments)}function DR(){return(DR=de(function*(e){if(e.code!==he.FAILED_PRECONDITION||e.message!==eW)throw e;Pe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Jt{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(i){return this.next(void 0,i)}next(i,t){return this.callbackAttached&&vi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(i,this.result):new Jt((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(i,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,r)}})}toPromise(){return new Promise((i,t)=>{this.next(i,t)})}wrapUserFunction(i){try{const t=i();return t instanceof Jt?t:Jt.resolve(t)}catch(t){return Jt.reject(t)}}wrapSuccess(i,t){return i?this.wrapUserFunction(()=>i(t)):Jt.resolve(t)}wrapFailure(i,t){return i?this.wrapUserFunction(()=>i(t)):Jt.reject(t)}static resolve(i){return new Jt((t,n)=>{t(i)})}static reject(i){return new Jt((t,n)=>{n(i)})}static waitFor(i){return new Jt((t,n)=>{let r=0,s=0,o=!1;i.forEach(p=>{++r,p.next(()=>{++s,o&&s===r&&t()},C=>n(C))}),o=!0,s===r&&t()})}static or(i){let t=Jt.resolve(!1);for(const n of i)t=t.next(r=>r?Jt.resolve(r):n());return t}static forEach(i,t){const n=[];return i.forEach((r,s)=>{n.push(t.call(this,r,s))}),this.waitFor(n)}static mapArray(i,t){return new Jt((n,r)=>{const s=i.length,o=new Array(s);let p=0;for(let C=0;C<s;C++){const D=C;t(i[D]).next(R=>{o[D]=R,++p,p===s&&n(o)},R=>r(R))}})}static doWhile(i,t){return new Jt((n,r)=>{const s=()=>{!0===i()?t().next(()=>{s()},r):n()};s()})}}function oh(e){return"IndexedDbTransactionError"===e.name}let al=(()=>{class e{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return e.oe=-1,e})();function Zx(e){return null==e}function Jx(e){return 0===e&&1/e==-1/0}function fW(e){let i=0;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&i++;return i}function lh(e,i){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&i(t,e[t])}function pW(e){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}class Nr{constructor(i,t){this.comparator=i,this.root=t||Ea.EMPTY}insert(i,t){return new Nr(this.comparator,this.root.insert(i,t,this.comparator).copy(null,null,Ea.BLACK,null,null))}remove(i){return new Nr(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Ea.BLACK,null,null))}get(i){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(i,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(i){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(i,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((t,n)=>(i(t,n),!1))}toString(){const i=[];return this.inorderTraversal((t,n)=>(i.push(`${t}:${n}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new LC(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new LC(this.root,i,this.comparator,!1)}getReverseIterator(){return new LC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new LC(this.root,i,this.comparator,!0)}}class LC{constructor(i,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!i.isEmpty();)if(s=t?n(i.key,t):1,t&&r&&(s*=-1),s<0)i=this.isReverse?i.left:i.right;else{if(0===s){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const t={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Ea{constructor(i,t,n,r,s){this.key=i,this.value=t,this.color=n??Ea.RED,this.left=r??Ea.EMPTY,this.right=s??Ea.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,t,n,r,s){return new Ea(i??this.key,t??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,t,n){let r=this;const s=n(i,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(i,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(i,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ea.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,t){let n,r=this;if(t(i,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(i,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(i,r.key)){if(r.right.isEmpty())return Ea.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(i,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Ea.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Ea.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,t)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vi();const i=this.left.check();if(i!==this.right.check())throw vi();return i+(this.isRed()?0:1)}}Ea.EMPTY=null,Ea.RED=!0,Ea.BLACK=!1,Ea.EMPTY=new class{constructor(){this.size=0}get key(){throw vi()}get value(){throw vi()}get color(){throw vi()}get left(){throw vi()}get right(){throw vi()}copy(i,t,n,r,s){return this}insert(i,t,n){return new Ea(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _r{constructor(i){this.comparator=i,this.data=new Nr(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((t,n)=>(i(t),!1))}forEachInRange(i,t){const n=this.data.getIteratorFrom(i[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,i[1])>=0)return;t(r.key)}}forEachWhile(i,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!i(n.getNext().key))return}firstAfterOrEqual(i){const t=this.data.getIteratorFrom(i);return t.hasNext()?t.getNext().key:null}getIterator(){return new gW(this.data.getIterator())}getIteratorFrom(i){return new gW(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let t=this;return t.size<i.size&&(t=i,i=this),i.forEach(n=>{t=t.add(n)}),t}isEqual(i){if(!(i instanceof _r)||this.size!==i.size)return!1;const t=this.data.getIterator(),n=i.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const i=[];return this.forEach(t=>{i.push(t)}),i}toString(){const i=[];return this.forEach(t=>i.push(t)),"SortedSet("+i.toString()+")"}copy(i){const t=new _r(this.comparator);return t.data=i,t}}class gW{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class No{constructor(i){this.fields=i,i.sort(Kr.comparator)}static empty(){return new No([])}unionWith(i){let t=new _r(Kr.comparator);for(const n of this.fields)t=t.add(n);for(const n of i)t=t.add(n);return new No(t.toArray())}covers(i){for(const t of this.fields)if(t.isPrefixOf(i))return!0;return!1}isEqual(i){return yg(this.fields,i.fields,(t,n)=>t.isEqual(n))}}class vW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ta{constructor(i){this.binaryString=i}static fromBase64String(i){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vW("Invalid base64 string: "+s):s}}(i);return new ta(t)}static fromUint8Array(i){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(i);return new ta(t)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return Ji(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}ta.EMPTY_BYTE_STRING=new ta("");const KDt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jd(e){if(Si(!!e),"string"==typeof e){let i=0;const t=KDt.exec(e);if(Si(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),i=Number(r)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:i}}return{seconds:cs(e.seconds),nanos:cs(e.nanos)}}function cs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Yd(e){return"string"==typeof e?ta.fromBase64String(e):ta.fromUint8Array(e)}function NC(e){var i,t;return"server_timestamp"===(null===(t=((null===(i=e?.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function BC(e){const i=e.mapValue.fields.__previous_value__;return NC(i)?BC(i):i}function qx(e){const i=jd(e.mapValue.fields.__local_write_time__.timestampValue);return new Qr(i.seconds,i.nanos)}class ZDt{constructor(i,t,n,r,s,o,p,C,D){this.databaseId=i,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=p,this.longPollingOptions=C,this.useFetchStreams=D}}class Df{constructor(i,t){this.projectId=i,this.database=t||"(default)"}static empty(){return new Df("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof Df&&i.projectId===this.projectId&&i.database===this.database}}const ch={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?NC(e)?4:wW(e)?9007199254740991:10:vi()}function Gc(e,i){if(e===i)return!0;const t=dh(e);if(t!==dh(i))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===i.booleanValue;case 4:return qx(e).isEqual(qx(i));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=jd(r.timestampValue),p=jd(s.timestampValue);return o.seconds===p.seconds&&o.nanos===p.nanos}(e,i);case 5:return e.stringValue===i.stringValue;case 6:return s=i,Yd(e.bytesValue).isEqual(Yd(s.bytesValue));case 7:return e.referenceValue===i.referenceValue;case 8:return function(r,s){return cs(r.geoPointValue.latitude)===cs(s.geoPointValue.latitude)&&cs(r.geoPointValue.longitude)===cs(s.geoPointValue.longitude)}(e,i);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return cs(r.integerValue)===cs(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=cs(r.doubleValue),p=cs(s.doubleValue);return o===p?Jx(o)===Jx(p):isNaN(o)&&isNaN(p)}return!1}(e,i);case 9:return yg(e.arrayValue.values||[],i.arrayValue.values||[],Gc);case 10:return function(r,s){const o=r.mapValue.fields||{},p=s.mapValue.fields||{};if(fW(o)!==fW(p))return!1;for(const C in o)if(o.hasOwnProperty(C)&&(void 0===p[C]||!Gc(o[C],p[C])))return!1;return!0}(e,i);default:return vi()}var s}function ty(e,i){return void 0!==(e.values||[]).find(t=>Gc(t,i))}function uh(e,i){if(e===i)return 0;const t=dh(e),n=dh(i);if(t!==n)return Ji(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ji(e.booleanValue,i.booleanValue);case 2:return function(s,o){const p=cs(s.integerValue||s.doubleValue),C=cs(o.integerValue||o.doubleValue);return p<C?-1:p>C?1:p===C?0:isNaN(p)?isNaN(C)?0:-1:1}(e,i);case 3:return xW(e.timestampValue,i.timestampValue);case 4:return xW(qx(e),qx(i));case 5:return Ji(e.stringValue,i.stringValue);case 6:return function(s,o){const p=Yd(s),C=Yd(o);return p.compareTo(C)}(e.bytesValue,i.bytesValue);case 7:return function(s,o){const p=s.split("/"),C=o.split("/");for(let D=0;D<p.length&&D<C.length;D++){const R=Ji(p[D],C[D]);if(0!==R)return R}return Ji(p.length,C.length)}(e.referenceValue,i.referenceValue);case 8:return function(s,o){const p=Ji(cs(s.latitude),cs(o.latitude));return 0!==p?p:Ji(cs(s.longitude),cs(o.longitude))}(e.geoPointValue,i.geoPointValue);case 9:return function(s,o){const p=s.values||[],C=o.values||[];for(let D=0;D<p.length&&D<C.length;++D){const R=uh(p[D],C[D]);if(R)return R}return Ji(p.length,C.length)}(e.arrayValue,i.arrayValue);case 10:return function(s,o){if(s===ch.mapValue&&o===ch.mapValue)return 0;if(s===ch.mapValue)return 1;if(o===ch.mapValue)return-1;const p=s.fields||{},C=Object.keys(p),D=o.fields||{},R=Object.keys(D);C.sort(),R.sort();for(let F=0;F<C.length&&F<R.length;++F){const B=Ji(C[F],R[F]);if(0!==B)return B;const V=uh(p[C[F]],D[R[F]]);if(0!==V)return V}return Ji(C.length,R.length)}(e.mapValue,i.mapValue);default:throw vi()}}function xW(e,i){if("string"==typeof e&&"string"==typeof i&&e.length===i.length)return Ji(e,i);const t=jd(e),n=jd(i),r=Ji(t.seconds,n.seconds);return 0!==r?r:Ji(t.nanos,n.nanos)}function Cg(e){return RR(e)}function RR(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){const n=jd(t);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Yd(e.bytesValue).toBase64():"referenceValue"in e?ci.fromName(e.referenceValue).toString():"geoPointValue"in e?function(t){return`geo(${t.latitude},${t.longitude})`}(e.geoPointValue):"arrayValue"in e?function(t){let n="[",r=!0;for(const s of t.values||[])r?r=!1:n+=",",n+=RR(s);return n+"]"}(e.arrayValue):"mapValue"in e?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${RR(t.fields[o])}`;return r+"}"}(e.mapValue):vi()}function If(e,i){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${i.path.canonicalString()}`}}function kR(e){return!!e&&"integerValue"in e}function ey(e){return!!e&&"arrayValue"in e}function yW(e){return!!e&&"nullValue"in e}function bW(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zC(e){return!!e&&"mapValue"in e}function iy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const i={mapValue:{fields:{}}};return lh(e.mapValue.fields,(t,n)=>i.mapValue.fields[t]=iy(n)),i}if(e.arrayValue){const i={arrayValue:{values:[]}};for(let t=0;t<(e.arrayValue.values||[]).length;++t)i.arrayValue.values[t]=iy(e.arrayValue.values[t]);return i}return Object.assign({},e)}function wW(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Sa{constructor(i){this.value=i}static empty(){return new Sa({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let t=this.value;for(let n=0;n<i.length-1;++n)if(t=(t.mapValue.fields||{})[i.get(n)],!zC(t))return null;return t=(t.mapValue.fields||{})[i.lastSegment()],t||null}}set(i,t){this.getFieldsMap(i.popLast())[i.lastSegment()]=iy(t)}setAll(i){let t=Kr.emptyPath(),n={},r=[];i.forEach((o,p)=>{if(!t.isImmediateParentOf(p)){const C=this.getFieldsMap(t);this.applyChanges(C,n,r),n={},r=[],t=p.popLast()}o?n[p.lastSegment()]=iy(o):r.push(p.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(i){const t=this.field(i.popLast());zC(t)&&t.mapValue.fields&&delete t.mapValue.fields[i.lastSegment()]}isEqual(i){return Gc(this.value,i.value)}getFieldsMap(i){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<i.length;++n){let r=t.mapValue.fields[i.get(n)];zC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[i.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(i,t,n){lh(t,(r,s)=>i[r]=s);for(const r of n)delete i[r]}clone(){return new Sa(iy(this.value))}}function _W(e){const i=[];return lh(e.fields,(t,n)=>{const r=new Kr([t]);if(zC(n)){const s=_W(n.mapValue).fields;if(0===s.length)i.push(r);else for(const o of s)i.push(r.child(o))}else i.push(r)}),new No(i)}class Hr{constructor(i,t,n,r,s,o,p){this.key=i,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=p}static newInvalidDocument(i){return new Hr(i,0,Ii.min(),Ii.min(),Ii.min(),Sa.empty(),0)}static newFoundDocument(i,t,n,r){return new Hr(i,1,t,Ii.min(),n,r,0)}static newNoDocument(i,t){return new Hr(i,2,t,Ii.min(),Ii.min(),Sa.empty(),0)}static newUnknownDocument(i,t){return new Hr(i,3,t,Ii.min(),Ii.min(),Sa.empty(),2)}convertToFoundDocument(i,t){return!this.createTime.isEqual(Ii.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=i),this.version=i,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=Sa.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=Sa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ii.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof Hr&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new Hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(i,t){this.position=i,this.inclusive=t}}function EW(e,i,t){let n=0;for(let r=0;r<e.position.length;r++){const s=i[r],o=e.position[r];if(n=s.field.isKeyField()?ci.comparator(ci.fromName(o.referenceValue),t.key):uh(o,t.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function SW(e,i){if(null===e)return null===i;if(null===i||e.inclusive!==i.inclusive||e.position.length!==i.position.length)return!1;for(let t=0;t<e.position.length;t++)if(!Gc(e.position[t],i.position[t]))return!1;return!0}class ny{constructor(i,t="asc"){this.field=i,this.dir=t}}function t2t(e,i){return e.dir===i.dir&&e.field.isEqual(i.field)}class AW{}class Bn extends AW{constructor(i,t,n){super(),this.field=i,this.op=t,this.value=n}static create(i,t,n){return i.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(i,t,n):new e2t(i,t,n):"array-contains"===t?new r2t(i,n):"in"===t?new PW(i,n):"not-in"===t?new s2t(i,n):"array-contains-any"===t?new a2t(i,n):new Bn(i,t,n)}static createKeyFieldInFilter(i,t,n){return"in"===t?new i2t(i,n):new n2t(i,n)}matches(i){const t=i.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(uh(t,this.value)):null!==t&&dh(this.value)===dh(t)&&this.matchesComparison(uh(t,this.value))}matchesComparison(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return vi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends AW{constructor(i,t){super(),this.filters=i,this.op=t,this.ae=null}static create(i,t){return new xr(i,t)}matches(i){return _g(this)?void 0===this.filters.find(t=>!t.matches(i)):void 0!==this.filters.find(t=>t.matches(i))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((i,t)=>i.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _g(e){return"and"===e.op}function FR(e){return function DW(e){for(const i of e.filters)if(i instanceof xr)return!1;return!0}(e)&&_g(e)}function OR(e){if(e instanceof Bn)return e.field.canonicalString()+e.op.toString()+Cg(e.value);if(FR(e))return e.filters.map(i=>OR(i)).join(",");{const i=e.filters.map(t=>OR(t)).join(",");return`${e.op}(${i})`}}function IW(e,i){return e instanceof Bn?(n=e,(r=i)instanceof Bn&&n.op===r.op&&n.field.isEqual(r.field)&&Gc(n.value,r.value)):e instanceof xr?function(n,r){return r instanceof xr&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((s,o,p)=>s&&IW(o,r.filters[p]),!0)}(e,i):void vi();var n,r}function RW(e){return e instanceof Bn?`${(t=e).field.canonicalString()} ${t.op} ${Cg(t.value)}`:e instanceof xr?function(t){return t.op.toString()+" {"+t.getFilters().map(RW).join(" ,")+"}"}(e):"Filter";var t}class e2t extends Bn{constructor(i,t,n){super(i,t,n),this.key=ci.fromName(n.referenceValue)}matches(i){const t=ci.comparator(i.key,this.key);return this.matchesComparison(t)}}class i2t extends Bn{constructor(i,t){super(i,"in",t),this.keys=kW(0,t)}matches(i){return this.keys.some(t=>t.isEqual(i.key))}}class n2t extends Bn{constructor(i,t){super(i,"not-in",t),this.keys=kW(0,t)}matches(i){return!this.keys.some(t=>t.isEqual(i.key))}}function kW(e,i){var t;return((null===(t=i.arrayValue)||void 0===t?void 0:t.values)||[]).map(n=>ci.fromName(n.referenceValue))}class r2t extends Bn{constructor(i,t){super(i,"array-contains",t)}matches(i){const t=i.data.field(this.field);return ey(t)&&ty(t.arrayValue,this.value)}}class PW extends Bn{constructor(i,t){super(i,"in",t)}matches(i){const t=i.data.field(this.field);return null!==t&&ty(this.value.arrayValue,t)}}class s2t extends Bn{constructor(i,t){super(i,"not-in",t)}matches(i){if(ty(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=i.data.field(this.field);return null!==t&&!ty(this.value.arrayValue,t)}}class a2t extends Bn{constructor(i,t){super(i,"array-contains-any",t)}matches(i){const t=i.data.field(this.field);return!(!ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>ty(this.value.arrayValue,n))}}class o2t{constructor(i,t=null,n=[],r=[],s=null,o=null,p=null){this.path=i,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=p,this.ue=null}}function LR(e,i=null,t=[],n=[],r=null,s=null,o=null){return new o2t(e,i,t,n,r,s,o)}function Mf(e){const i=ai(e);if(null===i.ue){let t=i.path.canonicalString();null!==i.collectionGroup&&(t+="|cg:"+i.collectionGroup),t+="|f:",t+=i.filters.map(n=>OR(n)).join(","),t+="|ob:",t+=i.orderBy.map(n=>{return(s=n).field.canonicalString()+s.dir;var s}).join(","),Zx(i.limit)||(t+="|l:",t+=i.limit),i.startAt&&(t+="|lb:",t+=i.startAt.inclusive?"b:":"a:",t+=i.startAt.position.map(n=>Cg(n)).join(",")),i.endAt&&(t+="|ub:",t+=i.endAt.inclusive?"a:":"b:",t+=i.endAt.position.map(n=>Cg(n)).join(",")),i.ue=t}return i.ue}function ry(e,i){if(e.limit!==i.limit||e.orderBy.length!==i.orderBy.length)return!1;for(let t=0;t<e.orderBy.length;t++)if(!t2t(e.orderBy[t],i.orderBy[t]))return!1;if(e.filters.length!==i.filters.length)return!1;for(let t=0;t<e.filters.length;t++)if(!IW(e.filters[t],i.filters[t]))return!1;return e.collectionGroup===i.collectionGroup&&!!e.path.isEqual(i.path)&&!!SW(e.startAt,i.startAt)&&SW(e.endAt,i.endAt)}function GC(e){return ci.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class $d{constructor(i,t=null,n=[],r=[],s=null,o="F",p=null,C=null){this.path=i,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=p,this.endAt=C,this.ce=null,this.le=null,this.he=null}}function Eg(e){return new $d(e)}function NW(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function NR(e){return null!==e.collectionGroup}function Sg(e){const i=ai(e);if(null===i.ce){i.ce=[];const t=new Set;for(const s of i.explicitOrderBy)i.ce.push(s),t.add(s.field.canonicalString());const n=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";(function(o){let p=new _r(Kr.comparator);return o.filters.forEach(C=>{C.getFlattenedFilters().forEach(D=>{D.isInequality()&&(p=p.add(D.field))})}),p})(i).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||i.ce.push(new ny(s,n))}),t.has(Kr.keyField().canonicalString())||i.ce.push(new ny(Kr.keyField(),n))}return i.ce}function Xa(e){const i=ai(e);return i.le||(i.le=function VW(e,i){if("F"===e.limitType)return LR(e.path,e.collectionGroup,i,e.filters,e.limit,e.startAt,e.endAt);{i=i.map(r=>new ny(r.field,"desc"===r.dir?"asc":"desc"));const t=e.endAt?new hh(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new hh(e.startAt.position,e.startAt.inclusive):null;return LR(e.path,e.collectionGroup,i,e.filters,e.limit,t,n)}}(i,Sg(e))),i.le}function BR(e,i){const t=e.filters.concat([i]);return new $d(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)}function WC(e,i,t){return new $d(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),i,t,e.startAt,e.endAt)}function sy(e,i){return ry(Xa(e),Xa(i))&&e.limitType===i.limitType}function UW(e){return`${Mf(Xa(e))}|lt:${e.limitType}`}function Ag(e){return`Query(target=${function(t){let n=t.path.canonicalString();return null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>RW(r)).join(", ")}]`),Zx(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Cg(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Cg(r)).join(",")),`Target(${n})`}(Xa(e))}; limitType=${e.limitType})`}function ay(e,i){return i.isFoundDocument()&&function(n,r){const s=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ci.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,i)&&function(n,r){for(const s of Sg(n))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(e,i)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(e,i)&&(r=i,!((n=e).startAt&&!function(o,p,C){const D=EW(o,p,C);return o.inclusive?D<=0:D<0}(n.startAt,Sg(n),r)||n.endAt&&!function(o,p,C){const D=EW(o,p,C);return o.inclusive?D>=0:D>0}(n.endAt,Sg(n),r)));var n,r}function GW(e){return(i,t)=>{let n=!1;for(const r of Sg(e)){const s=l2t(r,i,t);if(0!==s)return s;n=n||r.field.isKeyField()}return 0}}function l2t(e,i,t){const n=e.field.isKeyField()?ci.comparator(i.key,t.key):function(s,o,p){const C=o.data.field(s),D=p.data.field(s);return null!==C&&null!==D?uh(C,D):vi()}(e.field,i,t);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return vi()}}class Qd{constructor(i,t){this.mapKeyFn=i,this.equalsFn=t,this.inner={},this.innerSize=0}get(i){const t=this.mapKeyFn(i),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,i))return s}has(i){return void 0!==this.get(i)}set(i,t){const n=this.mapKeyFn(i),r=this.inner[n];if(void 0===r)return this.inner[n]=[[i,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],i))return void(r[s]=[i,t]);r.push([i,t]),this.innerSize++}delete(i){const t=this.mapKeyFn(i),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],i))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(i){lh(this.inner,(t,n)=>{for(const[r,s]of n)i(r,s)})}isEmpty(){return pW(this.inner)}size(){return this.innerSize}}const c2t=new Nr(ci.comparator);function Bo(){return c2t}const HW=new Nr(ci.comparator);function oy(...e){let i=HW;for(const t of e)i=i.insert(t.key,t);return i}function WW(e){let i=HW;return e.forEach((t,n)=>i=i.insert(t,n.overlayedDocument)),i}function Hc(){return ly()}function XW(){return ly()}function ly(){return new Qd(e=>e.toString(),(e,i)=>e.isEqual(i))}const d2t=new Nr(ci.comparator),u2t=new _r(ci.comparator);function mn(...e){let i=u2t;for(const t of e)i=i.add(t);return i}const h2t=new _r(Ji);function jW(e,i){if(e.useProto3Json){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jx(i)?"-0":i}}function YW(e){return{integerValue:""+e}}function $W(e,i){return function sW(e){return"number"==typeof e&&Number.isInteger(e)&&!Jx(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(i)?YW(i):jW(e,i)}class XC{constructor(){this._=void 0}}function f2t(e,i,t){return e instanceof Dg?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&NC(s)&&(s=BC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,i):e instanceof Rf?KW(e,i):e instanceof kf?ZW(e,i):function(r,s){const o=QW(r,s),p=JW(o)+JW(r.Pe);return kR(o)&&kR(r.Pe)?YW(p):jW(r.serializer,p)}(e,i)}function m2t(e,i,t){return e instanceof Rf?KW(e,i):e instanceof kf?ZW(e,i):t}function QW(e,i){return e instanceof Ig?kR(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var n,s}class Dg extends XC{}class Rf extends XC{constructor(i){super(),this.elements=i}}function KW(e,i){const t=qW(i);for(const n of e.elements)t.some(r=>Gc(r,n))||t.push(n);return{arrayValue:{values:t}}}class kf extends XC{constructor(i){super(),this.elements=i}}function ZW(e,i){let t=qW(i);for(const n of e.elements)t=t.filter(r=>!Gc(r,n));return{arrayValue:{values:t}}}class Ig extends XC{constructor(i,t){super(),this.serializer=i,this.Pe=t}}function JW(e){return cs(e.integerValue||e.doubleValue)}function qW(e){return ey(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class g2t{constructor(i,t){this.version=i,this.transformResults=t}}class Zr{constructor(i,t){this.updateTime=i,this.exists=t}static none(){return new Zr}static exists(i){return new Zr(void 0,i)}static updateTime(i){return new Zr(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function jC(e,i){return void 0!==e.updateTime?i.isFoundDocument()&&i.version.isEqual(e.updateTime):void 0===e.exists||e.exists===i.isFoundDocument()}class YC{}function tX(e,i){if(!e.hasLocalMutations||i&&0===i.fields.length)return null;if(null===i)return e.isNoDocument()?new Rg(e.key,Zr.none()):new Mg(e.key,e.data,Zr.none());{const t=e.data,n=Sa.empty();let r=new _r(Kr.comparator);for(let s of i.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?n.delete(s):n.set(s,o),r=r.add(s)}return new Kd(e.key,n,new No(r.toArray()),Zr.none())}}function v2t(e,i,t){e instanceof Mg?function(r,s,o){const p=r.value.clone(),C=nX(r.fieldTransforms,s,o.transformResults);p.setAll(C),s.convertToFoundDocument(o.version,p).setHasCommittedMutations()}(e,i,t):e instanceof Kd?function(r,s,o){if(!jC(r.precondition,s))return void s.convertToUnknownDocument(o.version);const p=nX(r.fieldTransforms,s,o.transformResults),C=s.data;C.setAll(iX(r)),C.setAll(p),s.convertToFoundDocument(o.version,C).setHasCommittedMutations()}(e,i,t):i.convertToNoDocument(t.version).setHasCommittedMutations()}function dy(e,i,t,n){return e instanceof Mg?function(s,o,p,C){if(!jC(s.precondition,o))return p;const D=s.value.clone(),R=rX(s.fieldTransforms,C,o);return D.setAll(R),o.convertToFoundDocument(o.version,D).setHasLocalMutations(),null}(e,i,t,n):e instanceof Kd?function(s,o,p,C){if(!jC(s.precondition,o))return p;const D=rX(s.fieldTransforms,C,o),R=o.data;return R.setAll(iX(s)),R.setAll(D),o.convertToFoundDocument(o.version,R).setHasLocalMutations(),null===p?null:p.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(F=>F.field))}(e,i,t,n):(p=t,jC(e.precondition,o=i)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):p);var o,p}function x2t(e,i){let t=null;for(const n of e.fieldTransforms){const r=i.data.field(n.field),s=QW(n.transform,r||null);null!=s&&(null===t&&(t=Sa.empty()),t.set(n.field,s))}return t||null}function eX(e,i){return e.type===i.type&&!!e.key.isEqual(i.key)&&!!e.precondition.isEqual(i.precondition)&&(r=i.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&yg(n,r,(s,o)=>function p2t(e,i){return e.field.isEqual(i.field)&&(r=i.transform,(n=e.transform)instanceof Rf&&r instanceof Rf||n instanceof kf&&r instanceof kf?yg(n.elements,r.elements,Gc):n instanceof Ig&&r instanceof Ig?Gc(n.Pe,r.Pe):n instanceof Dg&&r instanceof Dg);var n,r}(s,o))))&&(0===e.type?e.value.isEqual(i.value):1!==e.type||e.data.isEqual(i.data)&&e.fieldMask.isEqual(i.fieldMask));var n,r}class Mg extends YC{constructor(i,t,n,r=[]){super(),this.key=i,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Kd extends YC{constructor(i,t,n,r,s=[]){super(),this.key=i,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iX(e){const i=new Map;return e.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=e.data.field(t);i.set(t,n)}}),i}function nX(e,i,t){const n=new Map;Si(e.length===t.length);for(let r=0;r<t.length;r++){const s=e[r],o=s.transform,p=i.data.field(s.field);n.set(s.field,m2t(o,p,t[r]))}return n}function rX(e,i,t){const n=new Map;for(const r of e){const s=r.transform,o=t.data.field(r.field);n.set(r.field,f2t(s,o,i))}return n}class Rg extends YC{constructor(i,t){super(),this.key=i,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UR extends YC{constructor(i,t){super(),this.key=i,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zR{constructor(i,t,n,r){this.batchId=i,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(i,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(i.key)&&v2t(s,i,n[r])}}applyToLocalView(i,t){for(const n of this.baseMutations)n.key.isEqual(i.key)&&(t=dy(n,i,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(i.key)&&(t=dy(n,i,t,this.localWriteTime));return t}applyToLocalDocumentSet(i,t){const n=XW();return this.mutations.forEach(r=>{const s=i.get(r.key),o=s.overlayedDocument;let p=this.applyToLocalView(o,s.mutatedFields);p=t.has(r.key)?null:p;const C=tX(o,p);null!==C&&n.set(r.key,C),o.isValidDocument()||o.convertToNoDocument(Ii.min())}),n}keys(){return this.mutations.reduce((i,t)=>i.add(t.key),mn())}isEqual(i){return this.batchId===i.batchId&&yg(this.mutations,i.mutations,(t,n)=>eX(t,n))&&yg(this.baseMutations,i.baseMutations,(t,n)=>eX(t,n))}}class GR{constructor(i,t,n,r){this.batch=i,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(i,t,n){Si(i.mutations.length===n.length);let r=function(){return d2t}();const s=i.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new GR(i,t,n,r)}}class HR{constructor(i,t){this.largestBatchId=i,this.mutation=t}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class y2t{constructor(i,t){this.count=i,this.unchangedNames=t}}var Ns,jn;function oX(e){if(void 0===e)return ws("GRPC error has no .code"),he.UNKNOWN;switch(e){case Ns.OK:return he.OK;case Ns.CANCELLED:return he.CANCELLED;case Ns.UNKNOWN:return he.UNKNOWN;case Ns.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Ns.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Ns.INTERNAL:return he.INTERNAL;case Ns.UNAVAILABLE:return he.UNAVAILABLE;case Ns.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Ns.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Ns.NOT_FOUND:return he.NOT_FOUND;case Ns.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Ns.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Ns.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Ns.ABORTED:return he.ABORTED;case Ns.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Ns.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Ns.DATA_LOSS:return he.DATA_LOSS;default:return vi()}}(jn=Ns||(Ns={}))[jn.OK=0]="OK",jn[jn.CANCELLED=1]="CANCELLED",jn[jn.UNKNOWN=2]="UNKNOWN",jn[jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jn[jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jn[jn.NOT_FOUND=5]="NOT_FOUND",jn[jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",jn[jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",jn[jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",jn[jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jn[jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jn[jn.ABORTED=10]="ABORTED",jn[jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",jn[jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",jn[jn.INTERNAL=13]="INTERNAL",jn[jn.UNAVAILABLE=14]="UNAVAILABLE",jn[jn.DATA_LOSS=15]="DATA_LOSS";const b2t=new _f([4294967295,4294967295],0);function cX(e){const i=function lX(){return new TextEncoder}().encode(e),t=new z7;return t.update(i),new Uint8Array(t.digest())}function dX(e){const i=new DataView(e.buffer),t=i.getUint32(0,!0),n=i.getUint32(4,!0),r=i.getUint32(8,!0),s=i.getUint32(12,!0);return[new _f([t,n],0),new _f([r,s],0)]}class WR{constructor(i,t,n){if(this.bitmap=i,this.padding=t,this.hashCount=n,t<0||t>=8)throw new uy(`Invalid padding: ${t}`);if(n<0)throw new uy(`Invalid hash count: ${n}`);if(i.length>0&&0===this.hashCount)throw new uy(`Invalid hash count: ${n}`);if(0===i.length&&0!==t)throw new uy(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*i.length-t,this.Te=_f.fromNumber(this.Ie)}Ee(i,t,n){let r=i.add(t.multiply(_f.fromNumber(n)));return 1===r.compare(b2t)&&(r=new _f([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(i){return!!(this.bitmap[Math.floor(i/8)]&1<<i%8)}mightContain(i){if(0===this.Ie)return!1;const t=cX(i),[n,r]=dX(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);if(!this.de(o))return!1}return!0}static create(i,t,n){const r=i%8==0?0:8-i%8,s=new Uint8Array(Math.ceil(i/8)),o=new WR(s,r,t);return n.forEach(p=>o.insert(p)),o}insert(i){if(0===this.Ie)return;const t=cX(i),[n,r]=dX(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);this.Ae(o)}}Ae(i){const t=Math.floor(i/8);this.bitmap[t]|=1<<i%8}}class uy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hy{constructor(i,t,n,r,s){this.snapshotVersion=i,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(i,t,n){const r=new Map;return r.set(i,fy.createSynthesizedTargetChangeForCurrentChange(i,t,n)),new hy(Ii.min(),r,new Nr(Ji),Bo(),mn())}}class fy{constructor(i,t,n,r,s){this.resumeToken=i,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(i,t,n){return new fy(n,t,mn(),mn(),mn())}}class QC{constructor(i,t,n,r){this.Re=i,this.removedTargetIds=t,this.key=n,this.Ve=r}}class uX{constructor(i,t){this.targetId=i,this.me=t}}class hX{constructor(i,t,n=ta.EMPTY_BYTE_STRING,r=null){this.state=i,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fX{constructor(){this.fe=0,this.ge=pX(),this.pe=ta.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(i){i.approximateByteSize()>0&&(this.we=!0,this.pe=i)}Ce(){let i=mn(),t=mn(),n=mn();return this.ge.forEach((r,s)=>{switch(s){case 0:i=i.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vi()}}),new fy(this.pe,this.ye,i,t,n)}ve(){this.we=!1,this.ge=pX()}Fe(i,t){this.we=!0,this.ge=this.ge.insert(i,t)}Me(i){this.we=!0,this.ge=this.ge.remove(i)}xe(){this.fe+=1}Oe(){this.fe-=1,Si(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class w2t{constructor(i){this.Le=i,this.Be=new Map,this.ke=Bo(),this.qe=mX(),this.Qe=new Nr(Ji)}Ke(i){for(const t of i.Re)i.Ve&&i.Ve.isFoundDocument()?this.$e(t,i.Ve):this.Ue(t,i.key,i.Ve);for(const t of i.removedTargetIds)this.Ue(t,i.key,i.Ve)}We(i){this.forEachTarget(i,t=>{const n=this.Ge(t);switch(i.state){case 0:this.ze(t)&&n.De(i.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(i.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(i.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(i.resumeToken));break;default:vi()}})}forEachTarget(i,t){i.targetIds.length>0?i.targetIds.forEach(t):this.Be.forEach((n,r)=>{this.ze(r)&&t(r)})}He(i){const t=i.targetId,n=i.me.count,r=this.Je(t);if(r){const s=r.target;if(GC(s))if(0===n){const o=new ci(s.path);this.Ue(t,o,Hr.newNoDocument(o,Ii.min()))}else Si(1===n);else{const o=this.Ye(t);if(o!==n){const p=this.Ze(i),C=p?this.Xe(p,i,o):1;0!==C&&(this.je(t),this.Qe=this.Qe.insert(t,2===C?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(i){const t=i.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let o,p;try{o=Yd(n).toUint8Array()}catch(C){if(C instanceof vW)return rl("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw C}try{p=new WR(o,r,s)}catch(C){return rl(C instanceof uy?"BloomFilter error: ":"Applying bloom filter failed: ",C),null}return 0===p.Ie?null:p}Xe(i,t,n){return t.me.count===n-this.nt(i,t.targetId)?0:2}nt(i,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(s=>{const o=this.Le.tt(),p=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;i.mightContain(p)||(this.Ue(t,s,null),r++)}),r}rt(i){const t=new Map;this.Be.forEach((s,o)=>{const p=this.Je(o);if(p){if(s.current&&GC(p.target)){const C=new ci(p.target.path);null!==this.ke.get(C)||this.it(o,C)||this.Ue(o,C,Hr.newNoDocument(C,i))}s.be&&(t.set(o,s.Ce()),s.ve())}});let n=mn();this.qe.forEach((s,o)=>{let p=!0;o.forEachWhile(C=>{const D=this.Je(C);return!D||"TargetPurposeLimboResolution"===D.purpose||(p=!1,!1)}),p&&(n=n.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(i));const r=new hy(i,t,this.Qe,this.ke,n);return this.ke=Bo(),this.qe=mX(),this.Qe=new Nr(Ji),r}$e(i,t){if(!this.ze(i))return;const n=this.it(i,t.key)?2:0;this.Ge(i).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(i))}Ue(i,t,n){if(!this.ze(i))return;const r=this.Ge(i);this.it(i,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(i)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(i){this.Be.delete(i)}Ye(i){const t=this.Ge(i).Ce();return this.Le.getRemoteKeysForTarget(i).size+t.addedDocuments.size-t.removedDocuments.size}xe(i){this.Ge(i).xe()}Ge(i){let t=this.Be.get(i);return t||(t=new fX,this.Be.set(i,t)),t}st(i){let t=this.qe.get(i);return t||(t=new _r(Ji),this.qe=this.qe.insert(i,t)),t}ze(i){const t=null!==this.Je(i);return t||Pe("WatchChangeAggregator","Detected inactive target",i),t}Je(i){const t=this.Be.get(i);return t&&t.Se?null:this.Le.ot(i)}je(i){this.Be.set(i,new fX),this.Le.getRemoteKeysForTarget(i).forEach(t=>{this.Ue(i,t,null)})}it(i,t){return this.Le.getRemoteKeysForTarget(i).has(t)}}function mX(){return new Nr(ci.comparator)}function pX(){return new Nr(ci.comparator)}const T2t={asc:"ASCENDING",desc:"DESCENDING"},C2t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_2t={and:"AND",or:"OR"};class E2t{constructor(i,t){this.databaseId=i,this.useProto3Json=t}}function XR(e,i){return e.useProto3Json||Zx(i)?i:{value:i}}function kg(e,i){return e.useProto3Json?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function gX(e,i){return e.useProto3Json?i.toBase64():i.toUint8Array()}function S2t(e,i){return kg(e,i.toTimestamp())}function Ts(e){return Si(!!e),Ii.fromTimestamp(function(t){const n=jd(t);return new Qr(n.seconds,n.nanos)}(e))}function jR(e,i){return YR(e,i).canonicalString()}function YR(e,i){const t=(r=e,new Nn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===i?t:t.child(i)}function vX(e){const i=Nn.fromString(e);return Si(DX(i)),i}function my(e,i){return jR(e.databaseId,i.path)}function Wc(e,i){const t=vX(i);if(t.get(1)!==e.databaseId.projectId)throw new Fe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new Fe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new ci(bX(t))}function xX(e,i){return jR(e.databaseId,i)}function $R(e){return new Nn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bX(e){return Si(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wX(e,i,t){return{name:my(e,i),fields:t.value.mapValue.fields}}function CX(e,i){return{documents:[xX(e,i.path)]}}function KC(e,i){const t={structuredQuery:{}},n=i.path;let r;null!==i.collectionGroup?(r=n,t.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=xX(e,r);const s=function(D){if(0!==D.length)return AX(xr.create(D,"and"))}(i.filters);s&&(t.structuredQuery.where=s);const o=function(D){if(0!==D.length)return D.map(R=>{return{field:fh((B=R).field),direction:R2t(B.dir)};var B})}(i.orderBy);o&&(t.structuredQuery.orderBy=o);const p=XR(e,i.limit);return null!==p&&(t.structuredQuery.limit=p),i.startAt&&(t.structuredQuery.startAt={before:(D=i.startAt).inclusive,values:D.position}),i.endAt&&(t.structuredQuery.endAt=function(D){return{before:!D.inclusive,values:D.position}}(i.endAt)),{_t:t,parent:r};var D}function EX(e){let i=function yX(e){const i=vX(e);return 4===i.length?Nn.emptyPath():bX(i)}(e.parent);const t=e.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){Si(1===n);const R=t.from[0];R.allDescendants?r=R.collectionId:i=i.child(R.collectionId)}let s=[];t.where&&(s=function(F){const B=SX(F);return B instanceof xr&&FR(B)?B.getFilters():[B]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(B=>{return new ny(Pg((X=B).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction));var X}));let p=null;t.limit&&(p=function(F){let B;return B="object"==typeof F?F.value:F,Zx(B)?null:B}(t.limit));let C=null;var F;t.startAt&&(C=new hh((F=t.startAt).values||[],!!F.before));let D=null;return t.endAt&&(D=function(F){return new hh(F.values||[],!F.before)}(t.endAt)),function LW(e,i,t,n,r,s,o,p){return new $d(e,i,t,n,r,s,o,p)}(i,r,o,s,p,"F",C,D)}function SX(e){return void 0!==e.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Pg(t.unaryFilter.field);return Bn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Pg(t.unaryFilter.field);return Bn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pg(t.unaryFilter.field);return Bn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pg(t.unaryFilter.field);return Bn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return vi()}}(e):void 0!==e.fieldFilter?Bn.create(Pg((t=e).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vi()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==e.compositeFilter?function(t){return xr.create(t.compositeFilter.filters.map(n=>SX(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return vi()}}(t.compositeFilter.op))}(e):vi();var t}function R2t(e){return T2t[e]}function k2t(e){return C2t[e]}function P2t(e){return _2t[e]}function fh(e){return{fieldPath:e.canonicalString()}}function Pg(e){return Kr.fromServerFormat(e.fieldPath)}function AX(e){return e instanceof Bn?function(t){if("=="===t.op){if(bW(t.value))return{unaryFilter:{field:fh(t.field),op:"IS_NAN"}};if(yW(t.value))return{unaryFilter:{field:fh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(bW(t.value))return{unaryFilter:{field:fh(t.field),op:"IS_NOT_NAN"}};if(yW(t.value))return{unaryFilter:{field:fh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fh(t.field),op:k2t(t.op),value:t.value}}}(e):e instanceof xr?function(t){const n=t.getFilters().map(r=>AX(r));return 1===n.length?n[0]:{compositeFilter:{op:P2t(t.op),filters:n}}}(e):vi()}function F2t(e){const i=[];return e.fields.forEach(t=>i.push(t.canonicalString())),{fieldPaths:i}}function DX(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Zd{constructor(i,t,n,r,s=Ii.min(),o=Ii.min(),p=ta.EMPTY_BYTE_STRING,C=null){this.target=i,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=p,this.expectedCount=C}withSequenceNumber(i){return new Zd(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(i,t){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,i,null)}withExpectedCount(i){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,i)}withLastLimboFreeSnapshotVersion(i){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken,this.expectedCount)}}class IX{constructor(i){this.ct=i}}function KR(e){const i=EX({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?WC(i,i.limit,"L"):i}class Lf{constructor(){}Pt(i,t){this.It(i,t),t.Tt()}It(i,t){if("nullValue"in i)this.Et(t,5);else if("booleanValue"in i)this.Et(t,10),t.dt(i.booleanValue?1:0);else if("integerValue"in i)this.Et(t,15),t.dt(cs(i.integerValue));else if("doubleValue"in i){const n=cs(i.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Jx(n)?t.dt(0):t.dt(n))}else if("timestampValue"in i){let n=i.timestampValue;this.Et(t,20),"string"==typeof n&&(n=jd(n)),t.At(`${n.seconds||""}`),t.dt(n.nanos||0)}else if("stringValue"in i)this.Rt(i.stringValue,t),this.Vt(t);else if("bytesValue"in i)this.Et(t,30),t.ft(Yd(i.bytesValue)),this.Vt(t);else if("referenceValue"in i)this.gt(i.referenceValue,t);else if("geoPointValue"in i){const n=i.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in i?wW(i)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(i.mapValue,t),this.Vt(t)):"arrayValue"in i?(this.wt(i.arrayValue,t),this.Vt(t)):vi()}Rt(i,t){this.Et(t,25),this.St(i,t)}St(i,t){t.At(i)}yt(i,t){const n=i.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(i,t){const n=i.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(i,t){this.Et(t,37),ci.fromName(i).path.forEach(n=>{this.Et(t,60),this.St(n,t)})}Et(i,t){i.dt(t)}Vt(i){i.dt(2)}}Lf.bt=new Lf;class G2t{constructor(){this._n=new ik}addToCollectionParentIndex(i,t){return this._n.add(t),Jt.resolve()}getCollectionParents(i,t){return Jt.resolve(this._n.getEntries(t))}addFieldIndex(i,t){return Jt.resolve()}deleteFieldIndex(i,t){return Jt.resolve()}deleteAllFieldIndexes(i){return Jt.resolve()}createTargetIndexes(i,t){return Jt.resolve()}getDocumentsMatchingTarget(i,t){return Jt.resolve(null)}getIndexType(i,t){return Jt.resolve(0)}getFieldIndexes(i,t){return Jt.resolve([])}getNextCollectionGroupToUpdate(i){return Jt.resolve(null)}getMinOffset(i,t){return Jt.resolve(sl.min())}getMinOffsetFromCollectionGroup(i,t){return Jt.resolve(sl.min())}updateCollectionGroup(i,t,n){return Jt.resolve()}updateIndexEntries(i,t){return Jt.resolve()}}class ik{constructor(){this.index={}}add(i){const t=i.lastSegment(),n=i.popLast(),r=this.index[t]||new _r(Nn.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(i){const t=i.lastSegment(),n=i.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(i){return(this.index[i]||new _r(Nn.comparator)).toArray()}}new Uint8Array(0);class ja{constructor(i,t,n){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(i){return new ja(i,ja.DEFAULT_COLLECTION_PERCENTILE,ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ja.DEFAULT_COLLECTION_PERCENTILE=10,ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ja.DEFAULT=new ja(41943040,ja.DEFAULT_COLLECTION_PERCENTILE,ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ja.DISABLED=new ja(-1,0,0);class Bf{constructor(i){this.On=i}next(){return this.On+=2,this.On}static Nn(){return new Bf(0)}static Ln(){return new Bf(-1)}}class JX{constructor(){this.changes=new Qd(i=>i.toString(),(i,t)=>i.isEqual(t)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,t){this.assertNotApplied(),this.changes.set(i,Hr.newInvalidDocument(i).setReadTime(t))}getEntry(i,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Jt.resolve(n):this.getFromCache(i,t)}getEntries(i,t){return this.getAllFromCache(i,t)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class K2t{constructor(i,t){this.overlayedDocument=i,this.mutatedFields=t}}class nj{constructor(i,t,n,r){this.remoteDocumentCache=i,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(i,t){let n=null;return this.documentOverlayCache.getOverlay(i,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(i,t))).next(r=>(null!==n&&dy(n.mutation,r,No.empty(),Qr.now()),r))}getDocuments(i,t){return this.remoteDocumentCache.getEntries(i,t).next(n=>this.getLocalViewOfDocuments(i,n,mn()).next(()=>n))}getLocalViewOfDocuments(i,t,n=mn()){const r=Hc();return this.populateOverlays(i,r,t).next(()=>this.computeViews(i,t,r,n).next(s=>{let o=oy();return s.forEach((p,C)=>{o=o.insert(p,C.overlayedDocument)}),o}))}getOverlayedDocuments(i,t){const n=Hc();return this.populateOverlays(i,n,t).next(()=>this.computeViews(i,t,n,mn()))}populateOverlays(i,t,n){const r=[];return n.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(i,r).next(s=>{s.forEach((o,p)=>{t.set(o,p)})})}computeViews(i,t,n,r){let s=Bo();const o=ly(),p=ly();return t.forEach((C,D)=>{const R=n.get(D.key);r.has(D.key)&&(void 0===R||R.mutation instanceof Kd)?s=s.insert(D.key,D):void 0!==R?(o.set(D.key,R.mutation.getFieldMask()),dy(R.mutation,D,R.mutation.getFieldMask(),Qr.now())):o.set(D.key,No.empty())}),this.recalculateAndSaveOverlays(i,s).next(C=>(C.forEach((D,R)=>o.set(D,R)),t.forEach((D,R)=>{var F;return p.set(D,new K2t(R,null!==(F=o.get(D))&&void 0!==F?F:null))}),p))}recalculateAndSaveOverlays(i,t){const n=ly();let r=new Nr((o,p)=>o-p),s=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,t).next(o=>{for(const p of o)p.keys().forEach(C=>{const D=t.get(C);if(null===D)return;let R=n.get(C)||No.empty();R=p.applyToLocalView(D,R),n.set(C,R);const F=(r.get(p.batchId)||mn()).add(C);r=r.insert(p.batchId,F)})}).next(()=>{const o=[],p=r.getReverseIterator();for(;p.hasNext();){const C=p.getNext(),D=C.key,R=C.value,F=XW();R.forEach(B=>{if(!s.has(B)){const V=tX(t.get(B),n.get(B));null!==V&&F.set(B,V),s=s.add(B)}}),o.push(this.documentOverlayCache.saveOverlays(i,D,F))}return Jt.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(i,t){return this.remoteDocumentCache.getEntries(i,t).next(n=>this.recalculateAndSaveOverlays(i,n))}getDocumentsMatchingQuery(i,t,n,r){return ci.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(i,t.path):NR(t)?this.getDocumentsMatchingCollectionGroupQuery(i,t,n,r):this.getDocumentsMatchingCollectionQuery(i,t,n,r);var o}getNextDocuments(i,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(i,t,n,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,t,n.largestBatchId,r-s.size):Jt.resolve(Hc());let p=-1,C=s;return o.next(D=>Jt.forEach(D,(R,F)=>(p<F.largestBatchId&&(p=F.largestBatchId),s.get(R)?Jt.resolve():this.remoteDocumentCache.getEntry(i,R).next(B=>{C=C.insert(R,B)}))).next(()=>this.populateOverlays(i,D,s)).next(()=>this.computeViews(i,C,D,mn())).next(R=>({batchId:p,changes:WW(R)})))})}getDocumentsMatchingDocumentQuery(i,t){return this.getDocument(i,new ci(t)).next(n=>{let r=oy();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(i,t,n,r){const s=t.collectionGroup;let o=oy();return this.indexManager.getCollectionParents(i,s).next(p=>Jt.forEach(p,C=>{const D=(F=t,B=C.child(s),new $d(B,null,F.explicitOrderBy.slice(),F.filters.slice(),F.limit,F.limitType,F.startAt,F.endAt));var F,B;return this.getDocumentsMatchingCollectionQuery(i,D,n,r).next(R=>{R.forEach((F,B)=>{o=o.insert(F,B)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(i,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(i,t.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(i,t,n,s,r))).next(o=>{s.forEach((C,D)=>{const R=D.getKey();null===o.get(R)&&(o=o.insert(R,Hr.newInvalidDocument(R)))});let p=oy();return o.forEach((C,D)=>{const R=s.get(C);void 0!==R&&dy(R.mutation,D,No.empty(),Qr.now()),ay(t,D)&&(p=p.insert(C,D))}),p})}}class Z2t{constructor(i){this.serializer=i,this.cr=new Map,this.lr=new Map}getBundleMetadata(i,t){return Jt.resolve(this.cr.get(t))}saveBundleMetadata(i,t){return this.cr.set(t.id,{id:(r=t).id,version:r.version,createTime:Ts(r.createTime)}),Jt.resolve();var r}getNamedQuery(i,t){return Jt.resolve(this.lr.get(t))}saveNamedQuery(i,t){return this.lr.set(t.name,{name:(r=t).name,query:KR(r.bundledQuery),readTime:Ts(r.readTime)}),Jt.resolve();var r}}class J2t{constructor(){this.overlays=new Nr(ci.comparator),this.hr=new Map}getOverlay(i,t){return Jt.resolve(this.overlays.get(t))}getOverlays(i,t){const n=Hc();return Jt.forEach(t,r=>this.getOverlay(i,r).next(s=>{null!==s&&n.set(r,s)})).next(()=>n)}saveOverlays(i,t,n){return n.forEach((r,s)=>{this.ht(i,t,s)}),Jt.resolve()}removeOverlaysForBatchId(i,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(n)),Jt.resolve()}getOverlaysForCollection(i,t,n){const r=Hc(),s=t.length+1,o=new ci(t.child("")),p=this.overlays.getIteratorFrom(o);for(;p.hasNext();){const C=p.getNext().value,D=C.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===s&&C.largestBatchId>n&&r.set(C.getKey(),C)}return Jt.resolve(r)}getOverlaysForCollectionGroup(i,t,n,r){let s=new Nr((D,R)=>D-R);const o=this.overlays.getIterator();for(;o.hasNext();){const D=o.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>n){let R=s.get(D.largestBatchId);null===R&&(R=Hc(),s=s.insert(D.largestBatchId,R)),R.set(D.getKey(),D)}}const p=Hc(),C=s.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((D,R)=>p.set(D,R)),!(p.size()>=r)););return Jt.resolve(p)}ht(i,t,n){const r=this.overlays.get(n.key);if(null!==r){const o=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new HR(t,n));let s=this.hr.get(t);void 0===s&&(s=mn(),this.hr.set(t,s)),this.hr.set(t,s.add(n.key))}}class nk{constructor(){this.Pr=new _r(pa.Ir),this.Tr=new _r(pa.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(i,t){const n=new pa(i,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(i,t){i.forEach(n=>this.addReference(n,t))}removeReference(i,t){this.Ar(new pa(i,t))}Rr(i,t){i.forEach(n=>this.removeReference(n,t))}Vr(i){const t=new ci(new Nn([])),n=new pa(t,i),r=new pa(t,i+1),s=[];return this.Tr.forEachInRange([n,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(i=>this.Ar(i))}Ar(i){this.Pr=this.Pr.delete(i),this.Tr=this.Tr.delete(i)}gr(i){const t=new ci(new Nn([])),n=new pa(t,i),r=new pa(t,i+1);let s=mn();return this.Tr.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(i){const t=new pa(i,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&i.isEqual(n.key)}}class pa{constructor(i,t){this.key=i,this.pr=t}static Ir(i,t){return ci.comparator(i.key,t.key)||Ji(i.pr,t.pr)}static Er(i,t){return Ji(i.pr,t.pr)||ci.comparator(i.key,t.key)}}class q2t{constructor(i,t){this.indexManager=i,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new _r(pa.Ir)}checkEmpty(i){return Jt.resolve(0===this.mutationQueue.length)}addMutationBatch(i,t,n,r){const s=this.yr;this.yr++;const o=new zR(s,t,n,r);this.mutationQueue.push(o);for(const p of r)this.wr=this.wr.add(new pa(p.key,s)),this.indexManager.addToCollectionParentIndex(i,p.key.path.popLast());return Jt.resolve(o)}lookupMutationBatch(i,t){return Jt.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(i,t){const r=this.br(t+1),s=r<0?0:r;return Jt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Jt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(i){return Jt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,t){const n=new pa(t,0),r=new pa(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([n,r],o=>{const p=this.Sr(o.pr);s.push(p)}),Jt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(i,t){let n=new _r(Ji);return t.forEach(r=>{const s=new pa(r,0),o=new pa(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],p=>{n=n.add(p.pr)})}),Jt.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(i,t){const n=t.path,r=n.length+1;let s=n;ci.isDocumentKey(s)||(s=s.child(""));const o=new pa(new ci(s),0);let p=new _r(Ji);return this.wr.forEachWhile(C=>{const D=C.key.path;return!!n.isPrefixOf(D)&&(D.length===r&&(p=p.add(C.pr)),!0)},o),Jt.resolve(this.Dr(p))}Dr(i){const t=[];return i.forEach(n=>{const r=this.Sr(n);null!==r&&t.push(r)}),t}removeMutationBatch(i,t){Si(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Jt.forEach(t.mutations,r=>{const s=new pa(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(i,r.key)}).next(()=>{this.wr=n})}Mn(i){}containsKey(i,t){const n=new pa(t,0),r=this.wr.firstAfterOrEqual(n);return Jt.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(i){return Jt.resolve()}Cr(i,t){return this.br(i)}br(i){return 0===this.mutationQueue.length?0:i-this.mutationQueue[0].batchId}Sr(i){const t=this.br(i);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tIt{constructor(i){this.vr=i,this.docs=new Nr(ci.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(i,n.path.popLast())}removeEntry(i){const t=this.docs.get(i);t&&(this.docs=this.docs.remove(i),this.size-=t.size)}getEntry(i,t){const n=this.docs.get(t);return Jt.resolve(n?n.document.mutableCopy():Hr.newInvalidDocument(t))}getEntries(i,t){let n=Bo();return t.forEach(r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():Hr.newInvalidDocument(r))}),Jt.resolve(n)}getDocumentsMatchingQuery(i,t,n,r){let s=Bo();const o=t.path,p=new ci(o.child("")),C=this.docs.getIteratorFrom(p);for(;C.hasNext();){const{key:D,value:{document:R}}=C.getNext();if(!o.isPrefixOf(D.path))break;D.path.length>o.length+1||AR(new sl((e=R).readTime,e.key,-1),n)<=0||(r.has(R.key)||ay(t,R))&&(s=s.insert(R.key,R.mutableCopy()))}var e;return Jt.resolve(s)}getAllFromCollectionGroup(i,t,n,r){vi()}Fr(i,t){return Jt.forEach(this.docs,n=>t(n))}newChangeBuffer(i){return new eIt(this)}getSize(i){return Jt.resolve(this.size)}}class eIt extends JX{constructor(i){super(),this.ar=i}applyChanges(i){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(i,r)):this.ar.removeEntry(n)}),Jt.waitFor(t)}getFromCache(i,t){return this.ar.getEntry(i,t)}getAllFromCache(i,t){return this.ar.getEntries(i,t)}}class iIt{constructor(i){this.persistence=i,this.Mr=new Qd(t=>Mf(t),ry),this.lastRemoteSnapshotVersion=Ii.min(),this.highestTargetId=0,this.Or=0,this.Nr=new nk,this.targetCount=0,this.Lr=Bf.Nn()}forEachTarget(i,t){return this.Mr.forEach((n,r)=>t(r)),Jt.resolve()}getLastRemoteSnapshotVersion(i){return Jt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Jt.resolve(this.Or)}allocateTargetId(i){return this.highestTargetId=this.Lr.next(),Jt.resolve(this.highestTargetId)}setTargetsMetadata(i,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Jt.resolve()}qn(i){this.Mr.set(i.target,i);const t=i.targetId;t>this.highestTargetId&&(this.Lr=new Bf(t),this.highestTargetId=t),i.sequenceNumber>this.Or&&(this.Or=i.sequenceNumber)}addTargetData(i,t){return this.qn(t),this.targetCount+=1,Jt.resolve()}updateTargetData(i,t){return this.qn(t),Jt.resolve()}removeTargetData(i,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Jt.resolve()}removeTargets(i,t,n){let r=0;const s=[];return this.Mr.forEach((o,p)=>{p.sequenceNumber<=t&&null===n.get(p.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(i,p.targetId)),r++)}),Jt.waitFor(s).next(()=>r)}getTargetCount(i){return Jt.resolve(this.targetCount)}getTargetData(i,t){const n=this.Mr.get(t)||null;return Jt.resolve(n)}addMatchingKeys(i,t,n){return this.Nr.dr(t,n),Jt.resolve()}removeMatchingKeys(i,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(i,o))}),Jt.waitFor(s)}removeMatchingKeysForTargetId(i,t){return this.Nr.Vr(t),Jt.resolve()}getMatchingKeysForTargetId(i,t){const n=this.Nr.gr(t);return Jt.resolve(n)}containsKey(i,t){return Jt.resolve(this.Nr.containsKey(t))}}class rk{constructor(i,t){this.Br={},this.overlays={},this.kr=new al(0),this.qr=!1,this.qr=!0,this.referenceDelegate=i(this),this.Qr=new iIt(this),this.indexManager=new G2t,this.remoteDocumentCache=new tIt(n=>this.referenceDelegate.Kr(n)),this.serializer=new IX(t),this.$r=new Z2t(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let t=this.overlays[i.toKey()];return t||(t=new J2t,this.overlays[i.toKey()]=t),t}getMutationQueue(i,t){let n=this.Br[i.toKey()];return n||(n=new q2t(t,this.referenceDelegate),this.Br[i.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(i,t,n){Pe("MemoryPersistence","Starting transaction:",i);const r=new nIt(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(i,t){return Jt.or(Object.values(this.Br).map(n=>()=>n.containsKey(i,t)))}}class nIt extends iW{constructor(i){super(),this.currentSequenceNumber=i}}class r_{constructor(i){this.persistence=i,this.zr=new nk,this.jr=null}static Hr(i){return new r_(i)}get Jr(){if(this.jr)return this.jr;throw vi()}addReference(i,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Jt.resolve()}removeReference(i,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Jt.resolve()}markPotentiallyOrphaned(i,t){return this.Jr.add(t.toString()),Jt.resolve()}removeTarget(i,t){this.zr.Vr(t.targetId).forEach(r=>this.Jr.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(i,t.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>n.removeTargetData(i,t))}Ur(){this.jr=new Set}Wr(i){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jt.forEach(this.Jr,n=>{const r=ci.fromPath(n);return this.Yr(i,r).next(s=>{s||t.removeEntry(r,Ii.min())})}).next(()=>(this.jr=null,t.apply(i)))}updateLimboDocument(i,t){return this.Yr(i,t).next(n=>{n?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(i){return 0}Yr(i,t){return Jt.or([()=>Jt.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(i,t),()=>this.persistence.Gr(i,t)])}}class lk{constructor(i,t,n,r){this.targetId=i,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(i,t){let n=mn(),r=mn();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new lk(i,t.fromCache,n,r)}}class sIt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(i){this._documentReadCount+=i}}class sj{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function x7(){return!function ZSt(){var e;const i=null===(e=AC())||void 0===e?void 0:e.forceEnvironment;if("node"===i)return!0;if("browser"===i)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function nW(e){const i=e.match(/Android ([\d.]+)/i),t=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(function nh(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())>0?6:4}initialize(i,t){this.zi=i,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(i,t,n,r){const s={result:null};return this.ji(i,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(i,t,r,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new sIt;return this.Ji(i,t,o).next(p=>{if(s.result=p,this.Ui)return this.Yi(i,t,o,p.size)})}).next(()=>s.result)}Yi(i,t,n,r){return n.documentReadCount<this.Wi?(xg()<=Xn.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Ag(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Jt.resolve()):(xg()<=Xn.DEBUG&&Pe("QueryEngine","Query:",Ag(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(xg()<=Xn.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Ag(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(i,Xa(t))):Jt.resolve())}ji(i,t){if(NW(t))return Jt.resolve(null);let n=Xa(t);return this.indexManager.getIndexType(i,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=WC(t,null,"F"),n=Xa(t)),this.indexManager.getDocumentsMatchingTarget(i,n).next(s=>{const o=mn(...s);return this.zi.getDocuments(i,o).next(p=>this.indexManager.getMinOffset(i,n).next(C=>{const D=this.Zi(t,p);return this.Xi(t,D,o,C.readTime)?this.ji(i,WC(t,null,"F")):this.es(i,D,t,C)}))})))}Hi(i,t,n,r){return NW(t)||r.isEqual(Ii.min())?Jt.resolve(null):this.zi.getDocuments(i,n).next(s=>{const o=this.Zi(t,s);return this.Xi(t,o,n,r)?Jt.resolve(null):(xg()<=Xn.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ag(t)),this.es(i,o,t,function q7(e,i){const t=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=Ii.fromTimestamp(1e9===n?new Qr(t+1,0):new Qr(t,n));return new sl(r,ci.empty(),i)}(r,-1)).next(p=>p))})}Zi(i,t){let n=new _r(GW(i));return t.forEach((r,s)=>{ay(i,s)&&(n=n.add(s))}),n}Xi(i,t,n,r){if(null===i.limit)return!1;if(n.size!==t.size)return!0;const s="F"===i.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(i,t,n){return xg()<=Xn.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Ag(t)),this.zi.getDocumentsMatchingQuery(i,t,sl.min(),n)}es(i,t,n,r){return this.zi.getDocumentsMatchingQuery(i,n,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class aIt{constructor(i,t,n,r){this.persistence=i,this.ts=t,this.serializer=r,this.ns=new Nr(Ji),this.rs=new Qd(s=>Mf(s),ry),this.ss=new Map,this.os=i.getRemoteDocumentCache(),this.Qr=i.getTargetCache(),this.$r=i.getBundleCache(),this._s(n)}_s(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new nj(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>i.collect(t,this.ns))}}function oj(e,i){return ck.apply(this,arguments)}function ck(){return(ck=de(function*(e,i){const t=ai(e);return yield t.persistence.runTransaction("Handle user change","readonly",n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,t._s(i),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],p=[];let C=mn();for(const D of r){o.push(D.batchId);for(const R of D.mutations)C=C.add(R.key)}for(const D of s){p.push(D.batchId);for(const R of D.mutations)C=C.add(R.key)}return t.localDocuments.getDocuments(n,C).next(D=>({us:D,removedBatchIds:o,addedBatchIds:p}))})})})).apply(this,arguments)}function lj(e){const i=ai(e);return i.persistence.runTransaction("Get last remote snapshot version","readonly",t=>i.Qr.getLastRemoteSnapshotVersion(t))}function cIt(e,i){const t=ai(e);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===i&&(i=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,i)))}function Vg(e,i,t){return dk.apply(this,arguments)}function dk(){return(dk=de(function*(e,i,t){const n=ai(e),r=n.ns.get(i),s=t?"readwrite":"readwrite-primary";try{t||(yield n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!oh(o))throw o;Pe("LocalStore",`Failed to update sequence numbers for target ${i}: ${o}`)}n.ns=n.ns.remove(i),n.rs.delete(r.target)})).apply(this,arguments)}function o_(e,i,t){const n=ai(e);let r=Ii.min(),s=mn();return n.persistence.runTransaction("Execute query","readwrite",o=>function(C,D,R){const F=ai(C),B=F.rs.get(R);return void 0!==B?Jt.resolve(F.ns.get(B)):F.Qr.getTargetData(D,R)}(n,o,Xa(i)).next(p=>{if(p)return r=p.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(o,p.targetId).next(C=>{s=C})}).next(()=>n.ts.getDocumentsMatchingQuery(o,i,t?r:Ii.min(),t?s:mn())).next(p=>(function hj(e,i,t){let n=e.ss.get(i)||Ii.min();t.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),e.ss.set(i,n)}(n,function zW(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(i),p),{documents:p,hs:s})))}class pk{constructor(){this.activeTargetIds=function VR(){return h2t}()}As(i){this.activeTargetIds=this.activeTargetIds.add(i)}Rs(i){this.activeTargetIds=this.activeTargetIds.delete(i)}ds(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class pj{constructor(){this.no=new pk,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,t,n){}addLocalQueryTarget(i){return this.no.As(i),this.ro[i]||"not-current"}updateQueryState(i,t,n){this.ro[i]=t}removeLocalQueryTarget(i){this.no.Rs(i)}isLocalQueryTarget(i){return this.no.activeTargetIds.has(i)}clearQueryState(i){delete this.ro[i]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(i){return this.no.activeTargetIds.has(i)}start(){return this.no=new pk,Promise.resolve()}handleUserChange(i,t,n){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}class hIt{io(i){}shutdown(){}}class gj{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(i){this.uo.push(i)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.uo)i(0)}ao(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.uo)i(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let d_=null;function vk(){return null===d_?d_=268435456+Math.round(2147483648*Math.random()):d_++,"0x"+d_.toString(16)}const fIt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mIt{constructor(i){this.lo=i.lo,this.ho=i.ho}Po(i){this.Io=i}To(i){this.Eo=i}Ao(i){this.Ro=i}onMessage(i){this.Vo=i}close(){this.ho()}send(i){this.lo(i)}mo(){this.Io()}fo(){this.Eo()}po(i){this.Ro(i)}yo(i){this.Vo(i)}}const Ya="WebChannelConnection";class pIt extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+t.host,this.So=`projects/${r}/databases/${s}`,this.bo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(t,n,r,s,o){const p=vk(),C=this.vo(t,n.toUriEncodedString());Pe("RestConnection",`Sending RPC '${t}' ${p}:`,C,r);const D={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(D,s,o),this.Mo(t,C,D,r).then(R=>(Pe("RestConnection",`Received RPC '${t}' ${p}: `,R),R),R=>{throw rl("RestConnection",`RPC '${t}' ${p} failed with error: `,R,"url: ",C,"request:",r),R})}xo(t,n,r,s,o,p){return this.Co(t,n,r,s,o)}Fo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+vg,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}vo(t,n){return`${this.wo}/v1/${n}:${fIt[t]}`}terminate(){}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams,this.longPollingOptions=i.longPollingOptions}Mo(i,t,n,r){const s=vk();return new Promise((o,p)=>{const C=new G7;C.setWithCredentials(!0),C.listenOnce(W7.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case PC.NO_ERROR:const R=C.getResponseJson();Pe(Ya,`XHR for RPC '${i}' ${s} received:`,JSON.stringify(R)),o(R);break;case PC.TIMEOUT:Pe(Ya,`RPC '${i}' ${s} timed out`),p(new Fe(he.DEADLINE_EXCEEDED,"Request time out"));break;case PC.HTTP_ERROR:const F=C.getStatus();if(Pe(Ya,`RPC '${i}' ${s} failed with status:`,F,"response text:",C.getResponseText()),F>0){let B=C.getResponseJson();Array.isArray(B)&&(B=B[0]);const V=B?.error;if(V&&V.status&&V.message){const X=function(Q){const nt=Q.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(nt)>=0?nt:he.UNKNOWN}(V.status);p(new Fe(X,V.message))}else p(new Fe(he.UNKNOWN,"Server responded with status "+C.getStatus()))}else p(new Fe(he.UNAVAILABLE,"Connection failed."));break;default:vi()}}finally{Pe(Ya,`RPC '${i}' ${s} completed.`)}});const D=JSON.stringify(r);Pe(Ya,`RPC '${i}' ${s} sending request:`,r),C.send(t,"POST",D,n,15)})}Oo(i,t,n){const r=vk(),s=[this.wo,"/","google.firestore.v1.Firestore","/",i,"/channel"],o=Y7(),p=j7(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(C.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(C.xmlHttpFactory=new H7({})),this.Fo(C.initMessageHeaders,t,n),C.encodeInitMessageHeaders=!0;const R=s.join("");Pe(Ya,`Creating RPC '${i}' stream ${r}: ${R}`,C);const F=o.createWebChannel(R,C);let B=!1,V=!1;const X=new mIt({lo:Q=>{V?Pe(Ya,`Not sending because RPC '${i}' stream ${r} is closed:`,Q):(B||(Pe(Ya,`Opening RPC '${i}' stream ${r} transport.`),F.open(),B=!0),Pe(Ya,`RPC '${i}' stream ${r} sending:`,Q),F.send(Q))},ho:()=>F.close()}),J=(Q,nt,ct)=>{Q.listen(nt,lt=>{try{ct(lt)}catch(wt){setTimeout(()=>{throw wt},0)}})};return J(F,$x.EventType.OPEN,()=>{V||(Pe(Ya,`RPC '${i}' stream ${r} transport opened.`),X.mo())}),J(F,$x.EventType.CLOSE,()=>{V||(V=!0,Pe(Ya,`RPC '${i}' stream ${r} transport closed`),X.po())}),J(F,$x.EventType.ERROR,Q=>{V||(V=!0,rl(Ya,`RPC '${i}' stream ${r} transport errored:`,Q),X.po(new Fe(he.UNAVAILABLE,"The operation could not be completed")))}),J(F,$x.EventType.MESSAGE,Q=>{var nt;if(!V){const ct=Q.data[0];Si(!!ct);const wt=ct.error||(null===(nt=ct[0])||void 0===nt?void 0:nt.error);if(wt){Pe(Ya,`RPC '${i}' stream ${r} received error:`,wt);const Mt=wt.status;let Bt=function(yt){const bt=Ns[yt];if(void 0!==bt)return oX(bt)}(Mt),pt=wt.message;void 0===Bt&&(Bt=he.INTERNAL,pt="Unknown error status: "+Mt+" with message "+wt.message),V=!0,X.po(new Fe(Bt,pt)),F.close()}else Pe(Ya,`RPC '${i}' stream ${r} received:`,ct),X.yo(ct)}}),J(p,X7.STAT_EVENT,Q=>{Q.stat===_R.PROXY?Pe(Ya,`RPC '${i}' stream ${r} detected buffering proxy`):Q.stat===_R.NOPROXY&&Pe(Ya,`RPC '${i}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{X.fo()},0),X}}function u_(){return typeof document<"u"?document:null}function Cy(e){return new E2t(e,!0)}class xk{constructor(i,t,n=1e3,r=1.5,s=6e4){this.oi=i,this.timerId=t,this.No=n,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(i){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&Pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),i())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class xj{constructor(i,t,n,r,s,o,p,C){this.oi=i,this.Go=n,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=p,this.listener=C,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new xk(i,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var i=this;return de(function*(){i.Zo()&&(yield i.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(i){this.s_(),this.stream.send(i)}r_(){var i=this;return de(function*(){if(i.Xo())return i.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(i,t){var n=this;return de(function*(){n.s_(),n.o_(),n.Yo.cancel(),n.jo++,4!==i?n.Yo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(ws(t.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),n.Yo.Ko()):t&&t.code===he.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.__(),n.stream.close(),n.stream=null),n.state=i,yield n.listener.Ao(t)})()}__(){}auth(){this.state=1;const i=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.jo===t&&this.u_(n,r)},n=>{i(()=>{const r=new Fe(he.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(r)})})}u_(i,t){const n=this.a_(this.jo);this.stream=this.l_(i,t),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{n(()=>this.c_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}e_(){var i=this;this.state=5,this.Yo.$o(de(function*(){i.state=0,i.start()}))}c_(i){return Pe("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}a_(i){return t=>{this.oi.enqueueAndForget(()=>this.jo===i?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gIt extends xj{constructor(i,t,n,r,s,o){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}l_(i,t){return this.connection.Oo("Listen",i,t)}onMessage(i){this.Yo.reset();const t=function D2t(e,i){let t;if("targetChange"in i){const n="NO_CHANGE"===(D=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:vi(),r=i.targetChange.targetIds||[],s=function(D,R){return D.useProto3Json?(Si(void 0===R||"string"==typeof R),ta.fromBase64String(R||"")):(Si(void 0===R||R instanceof Buffer||R instanceof Uint8Array),ta.fromUint8Array(R||new Uint8Array))}(e,i.targetChange.resumeToken),o=i.targetChange.cause,p=o&&function(D){const R=void 0===D.code?he.UNKNOWN:oX(D.code);return new Fe(R,D.message||"")}(o);t=new hX(n,r,s,p||null)}else if("documentChange"in i){const n=i.documentChange,r=Wc(e,n.document.name),s=Ts(n.document.updateTime),o=n.document.createTime?Ts(n.document.createTime):Ii.min(),p=new Sa({mapValue:{fields:n.document.fields}}),C=Hr.newFoundDocument(r,s,o,p);t=new QC(n.targetIds||[],n.removedTargetIds||[],C.key,C)}else if("documentDelete"in i){const n=i.documentDelete,r=Wc(e,n.document),s=n.readTime?Ts(n.readTime):Ii.min(),o=Hr.newNoDocument(r,s);t=new QC([],n.removedTargetIds||[],o.key,o)}else if("documentRemove"in i){const n=i.documentRemove,r=Wc(e,n.document);t=new QC([],n.removedTargetIds||[],r,null)}else{if(!("filter"in i))return vi();{const n=i.filter,{count:r=0,unchangedNames:s}=n,o=new y2t(r,s);t=new uX(n.targetId,o)}}var D;return t}(this.serializer,i),n=function(s){if(!("targetChange"in s))return Ii.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ii.min():o.readTime?Ts(o.readTime):Ii.min()}(i);return this.listener.h_(t,n)}P_(i){const t={};t.database=$R(this.serializer),t.addTarget=function(s,o){let p;const C=o.target;if(p=GC(C)?{documents:CX(s,C)}:{query:KC(s,C)._t},p.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){p.resumeToken=gX(s,o.resumeToken);const D=XR(s,o.expectedCount);null!==D&&(p.expectedCount=D)}else if(o.snapshotVersion.compareTo(Ii.min())>0){p.readTime=kg(s,o.snapshotVersion.toTimestamp());const D=XR(s,o.expectedCount);null!==D&&(p.expectedCount=D)}return p}(this.serializer,i);const n=function M2t(e,i){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vi()}}(i.purpose);return null==t?null:{"goog-listen-tags":t}}(0,i);n&&(t.labels=n),this.i_(t)}I_(i){const t={};t.database=$R(this.serializer),t.removeTarget=i,this.i_(t)}}class vIt extends xj{constructor(i,t,n,r,s,o){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(i,t){return this.connection.Oo("Write",i,t)}onMessage(i){if(Si(!!i.streamToken),this.lastStreamToken=i.streamToken,this.T_){this.Yo.reset();const t=function I2t(e,i){return e&&e.length>0?(Si(void 0!==i),e.map(t=>function(r,s){let o=Ts(r.updateTime?r.updateTime:s);return o.isEqual(Ii.min())&&(o=Ts(s)),new g2t(o,r.transformResults||[])}(t,i))):[]}(i.writeResults,i.commitTime),n=Ts(i.commitTime);return this.listener.A_(n,t)}return Si(!i.writeResults||0===i.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const i={};i.database=$R(this.serializer),this.i_(i)}d_(i){const t={streamToken:this.lastStreamToken,writes:i.map(n=>function py(e,i){let t;if(i instanceof Mg)t={update:wX(e,i.key,i.value)};else if(i instanceof Rg)t={delete:my(e,i.key)};else if(i instanceof Kd)t={update:wX(e,i.key,i.data),updateMask:F2t(i.fieldMask)};else{if(!(i instanceof UR))return vi();t={verify:my(e,i.key)}}return i.fieldTransforms.length>0&&(t.updateTransforms=i.fieldTransforms.map(n=>function(s,o){const p=o.transform;if(p instanceof Dg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Rf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof kf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ig)return{fieldPath:o.field.canonicalString(),increment:p.Pe};throw vi()}(0,n))),i.precondition.isNone||(t.currentDocument=void 0!==(s=i.precondition).updateTime?{updateTime:S2t(e,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:vi()),t;var s}(this.serializer,n))};this.i_(t)}}class xIt extends class{}{constructor(i,t,n,r){super(),this.authCredentials=i,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Fe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Co(i,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(i,YR(t,n),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(he.UNKNOWN,s.toString())})}xo(i,t,n,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,p])=>this.connection.xo(i,YR(t,n),r,o,p,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(he.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class yIt{constructor(i,t){this.asyncQueue=i,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(i){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.S_("Offline")))}set(i){this.C_(),this.g_=0,"Online"===i&&(this.y_=!1),this.S_(i)}S_(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}b_(i){const t=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ws(t),this.y_=!1):Pe("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class bIt{constructor(i,t,n,r,s){var o=this;this.localStore=i,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(p=>{n.enqueueAndForget(de(function*(){var C;vh(o)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(C=de(function*(R){const F=ai(R);F.M_.add(4),yield Ug(F),F.N_.set("Unknown"),F.M_.delete(4),yield _y(F)}),function D(R){return C.apply(this,arguments)})(o))}))}),this.N_=new yIt(n,r)}}function _y(e){return yk.apply(this,arguments)}function yk(){return(yk=de(function*(e){if(vh(e))for(const i of e.x_)yield i(!0)})).apply(this,arguments)}function Ug(e){return bk.apply(this,arguments)}function bk(){return(bk=de(function*(e){for(const i of e.x_)yield i(!1)})).apply(this,arguments)}function h_(e,i){const t=ai(e);t.F_.has(i.targetId)||(t.F_.set(i.targetId,i),Ck(t)?Tk(t):Hg(t).Xo()&&wk(t,i))}function zg(e,i){const t=ai(e),n=Hg(t);t.F_.delete(i),n.Xo()&&yj(t,i),0===t.F_.size&&(n.Xo()?n.n_():vh(t)&&t.N_.set("Unknown"))}function wk(e,i){if(e.L_.xe(i.targetId),i.resumeToken.approximateByteSize()>0||i.snapshotVersion.compareTo(Ii.min())>0){const t=e.remoteSyncer.getRemoteKeysForTarget(i.targetId).size;i=i.withExpectedCount(t)}Hg(e).P_(i)}function yj(e,i){e.L_.xe(i),Hg(e).I_(i)}function Tk(e){e.L_=new w2t({getRemoteKeysForTarget:i=>e.remoteSyncer.getRemoteKeysForTarget(i),ot:i=>e.F_.get(i)||null,tt:()=>e.datastore.serializer.databaseId}),Hg(e).start(),e.N_.w_()}function Ck(e){return vh(e)&&!Hg(e).Zo()&&e.F_.size>0}function vh(e){return 0===ai(e).M_.size}function bj(e){e.L_=void 0}function wIt(e){return _k.apply(this,arguments)}function _k(){return(_k=de(function*(e){e.N_.set("Online")})).apply(this,arguments)}function TIt(e){return Ek.apply(this,arguments)}function Ek(){return(Ek=de(function*(e){e.F_.forEach((i,t)=>{wk(e,i)})})).apply(this,arguments)}function CIt(e,i){return Sk.apply(this,arguments)}function Sk(){return(Sk=de(function*(e,i){bj(e),Ck(e)?(e.N_.D_(i),Tk(e)):e.N_.set("Unknown")})).apply(this,arguments)}function _It(e,i,t){return Ak.apply(this,arguments)}function Ak(){return Ak=de(function*(e,i,t){if(e.N_.set("Online"),i instanceof hX&&2===i.state&&i.cause)try{yield(n=de(function*(s,o){const p=o.cause;for(const C of o.targetIds)s.F_.has(C)&&(yield s.remoteSyncer.rejectListen(C,p),s.F_.delete(C),s.L_.removeTarget(C))}),function r(s,o){return n.apply(this,arguments)})(e,i)}catch(n){Pe("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),n),yield f_(e,n)}else if(i instanceof QC?e.L_.Ke(i):i instanceof uX?e.L_.He(i):e.L_.We(i),!t.isEqual(Ii.min()))try{const n=yield lj(e.localStore);t.compareTo(n)>=0&&(yield function(s,o){const p=s.L_.rt(o);return p.targetChanges.forEach((C,D)=>{if(C.resumeToken.approximateByteSize()>0){const R=s.F_.get(D);R&&s.F_.set(D,R.withResumeToken(C.resumeToken,o))}}),p.targetMismatches.forEach((C,D)=>{const R=s.F_.get(C);if(!R)return;s.F_.set(C,R.withResumeToken(ta.EMPTY_BYTE_STRING,R.snapshotVersion)),yj(s,C);const F=new Zd(R.target,C,D,R.sequenceNumber);wk(s,F)}),s.remoteSyncer.applyRemoteEvent(p)}(e,t))}catch(n){Pe("RemoteStore","Failed to raise snapshot:",n),yield f_(e,n)}var n}),Ak.apply(this,arguments)}function f_(e,i,t){return Dk.apply(this,arguments)}function Dk(){return(Dk=de(function*(e,i,t){if(!oh(i))throw i;e.M_.add(1),yield Ug(e),e.N_.set("Offline"),t||(t=()=>lj(e.localStore)),e.asyncQueue.enqueueRetryable(de(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),e.M_.delete(1),yield _y(e)}))})).apply(this,arguments)}function wj(e,i){return i().catch(t=>f_(e,t,i))}function Gg(e){return Ik.apply(this,arguments)}function Ik(){return(Ik=de(function*(e){const i=ai(e),t=xh(i);let n=i.v_.length>0?i.v_[i.v_.length-1].batchId:-1;for(;EIt(i);)try{const r=yield cIt(i.localStore,n);if(null===r){0===i.v_.length&&t.n_();break}n=r.batchId,SIt(i,r)}catch(r){yield f_(i,r)}Tj(i)&&Cj(i)})).apply(this,arguments)}function EIt(e){return vh(e)&&e.v_.length<10}function SIt(e,i){e.v_.push(i);const t=xh(e);t.Xo()&&t.E_&&t.d_(i.mutations)}function Tj(e){return vh(e)&&!xh(e).Zo()&&e.v_.length>0}function Cj(e){xh(e).start()}function AIt(e){return Mk.apply(this,arguments)}function Mk(){return(Mk=de(function*(e){xh(e).V_()})).apply(this,arguments)}function DIt(e){return Rk.apply(this,arguments)}function Rk(){return(Rk=de(function*(e){const i=xh(e);for(const t of e.v_)i.d_(t.mutations)})).apply(this,arguments)}function IIt(e,i,t){return kk.apply(this,arguments)}function kk(){return(kk=de(function*(e,i,t){const n=e.v_.shift(),r=GR.from(n,i,t);yield wj(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield Gg(e)})).apply(this,arguments)}function MIt(e,i){return Pk.apply(this,arguments)}function Pk(){return Pk=de(function*(e,i){var t;i&&xh(e).E_&&(yield(t=de(function*(r,s){if(function aX(e){switch(e){default:return vi();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}(p=s.code)&&p!==he.ABORTED){const o=r.v_.shift();xh(r).t_(),yield wj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Gg(r)}var p}),function n(r,s){return t.apply(this,arguments)})(e,i)),Tj(e)&&Cj(e)}),Pk.apply(this,arguments)}function _j(e,i){return Fk.apply(this,arguments)}function Fk(){return(Fk=de(function*(e,i){const t=ai(e);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const n=vh(t);t.M_.add(3),yield Ug(t),n&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(i),t.M_.delete(3),yield _y(t)})).apply(this,arguments)}function Ok(e,i){return Lk.apply(this,arguments)}function Lk(){return(Lk=de(function*(e,i){const t=ai(e);i?(t.M_.delete(2),yield _y(t)):i||(t.M_.add(2),yield Ug(t),t.N_.set("Unknown"))})).apply(this,arguments)}function Hg(e){return e.B_||(e.B_=function(t,n,r){const s=ai(t);return s.f_(),new gIt(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:wIt.bind(null,e),To:TIt.bind(null,e),Ao:CIt.bind(null,e),h_:_It.bind(null,e)}),e.x_.push(function(){var i=de(function*(t){t?(e.B_.t_(),Ck(e)?Tk(e):e.N_.set("Unknown")):(yield e.B_.stop(),bj(e))});return function(t){return i.apply(this,arguments)}}())),e.B_}function xh(e){return e.k_||(e.k_=function(t,n,r){const s=ai(t);return s.f_(),new vIt(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:AIt.bind(null,e),Ao:MIt.bind(null,e),R_:DIt.bind(null,e),A_:IIt.bind(null,e)}),e.x_.push(function(){var i=de(function*(t){t?(e.k_.t_(),yield Gg(e)):(yield e.k_.stop(),e.v_.length>0&&(Pe("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))});return function(t){return i.apply(this,arguments)}}())),e.k_}class Nk{constructor(i,t,n,r,s){this.asyncQueue=i,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,t,n,r,s){const o=Date.now()+n,p=new Nk(i,t,o,r,s);return p.start(n),p}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(he.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(e,i){if(ws("AsyncQueue",`${i}: ${e}`),oh(e))return new Fe(he.UNAVAILABLE,`${i}: ${e}`);throw e}class Xg{constructor(i){this.comparator=i?(t,n)=>i(t,n)||ci.comparator(t.key,n.key):(t,n)=>ci.comparator(t.key,n.key),this.keyedMap=oy(),this.sortedSet=new Nr(this.comparator)}static emptySet(i){return new Xg(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const t=this.keyedMap.get(i);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((t,n)=>(i(t),!1))}add(i){const t=this.delete(i.key);return t.copy(t.keyedMap.insert(i.key,i),t.sortedSet.insert(i,null))}delete(i){const t=this.get(i);return t?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(t)):this}isEqual(i){if(!(i instanceof Xg)||this.size!==i.size)return!1;const t=this.sortedSet.getIterator(),n=i.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const i=[];return this.forEach(t=>{i.push(t.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,t){const n=new Xg;return n.comparator=this.comparator,n.keyedMap=i,n.sortedSet=t,n}}class Ej{constructor(){this.q_=new Nr(ci.comparator)}track(i){const t=i.doc.key,n=this.q_.get(t);n?0!==i.type&&3===n.type?this.q_=this.q_.insert(t,i):3===i.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:i.doc}):2===i.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:i.doc}):2===i.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:i.doc}):1===i.type&&0===n.type?this.q_=this.q_.remove(t):1===i.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===i.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:i.doc}):vi():this.q_=this.q_.insert(t,i)}Q_(){const i=[];return this.q_.inorderTraversal((t,n)=>{i.push(n)}),i}}class jg{constructor(i,t,n,r,s,o,p,C,D){this.query=i,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=p,this.excludesMetadataChanges=C,this.hasCachedResults=D}static fromInitialDocuments(i,t,n,r,s){const o=[];return t.forEach(p=>{o.push({type:0,doc:p})}),new jg(i,t,Xg.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&sy(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const t=this.docChanges,n=i.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class RIt{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(i=>i.G_())}}class kIt{constructor(){this.queries=new Qd(i=>UW(i),sy),this.onlineState="Unknown",this.z_=new Set}}function Vk(){return(Vk=de(function*(e,i){const t=ai(e);let n=3;const r=i.query;let s=t.queries.get(r);s?!s.W_()&&i.G_()&&(n=2):(s=new RIt,n=i.G_()?0:1);try{switch(n){case 0:s.K_=yield t.onListen(r,!0);break;case 1:s.K_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){const p=Wg(o,`Initialization of query '${Ag(i.query)}' failed`);return void i.onError(p)}t.queries.set(r,s),s.U_.push(i),i.j_(t.onlineState),s.K_&&i.H_(s.K_)&&Gk(t)})).apply(this,arguments)}function zk(){return(zk=de(function*(e,i){const t=ai(e),n=i.query;let r=3;const s=t.queries.get(n);if(s){const o=s.U_.indexOf(i);o>=0&&(s.U_.splice(o,1),0===s.U_.length?r=i.G_()?0:1:!s.W_()&&i.G_()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}})).apply(this,arguments)}function PIt(e,i){const t=ai(e);let n=!1;for(const r of i){const o=t.queries.get(r.query);if(o){for(const p of o.U_)p.H_(r)&&(n=!0);o.K_=r}}n&&Gk(t)}function FIt(e,i,t){const n=ai(e),r=n.queries.get(i);if(r)for(const s of r.U_)s.onError(t);n.queries.delete(i)}function Gk(e){e.z_.forEach(i=>{i.next()})}var Hk,Sj;(Sj=Hk||(Hk={})).J_="default",Sj.Cache="cache";class Wk{constructor(i,t,n){this.query=i,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(i){if(!this.options.includeMetadataChanges){const n=[];for(const r of i.docChanges)3!==r.type&&n.push(r);i=new jg(i.query,i.docs,i.oldDocs,n,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let t=!1;return this.Z_?this.ea(i)&&(this.Y_.next(i),t=!0):this.ta(i,this.onlineState)&&(this.na(i),t=!0),this.X_=i,t}onError(i){this.Y_.error(i)}j_(i){this.onlineState=i;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,i)&&(this.na(this.X_),t=!0),t}ta(i,t){return!i.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!i.docs.isEmpty()||i.hasCachedResults||"Offline"===t)}ea(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(i){i=jg.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.Z_=!0,this.Y_.next(i)}G_(){return this.options.source!==Hk.Cache}}class Ij{constructor(i){this.key=i}}class Mj{constructor(i){this.key=i}}class Rj{constructor(i,t){this.query=i,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=mn(),this.mutatedKeys=mn(),this.Ia=GW(i),this.Ta=new Xg(this.Ia)}get Ea(){return this.la}da(i,t){const n=t?t.Aa:new Ej,r=t?t.Ta:this.Ta;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,p=!1;const C="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,D="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(i.inorderTraversal((R,F)=>{const B=r.get(R),V=ay(this.query,F)?F:null,X=!!B&&this.mutatedKeys.has(B.key),J=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Q=!1;B&&V?B.data.isEqual(V.data)?X!==J&&(n.track({type:3,doc:V}),Q=!0):this.Ra(B,V)||(n.track({type:2,doc:V}),Q=!0,(C&&this.Ia(V,C)>0||D&&this.Ia(V,D)<0)&&(p=!0)):!B&&V?(n.track({type:0,doc:V}),Q=!0):B&&!V&&(n.track({type:1,doc:B}),Q=!0,(C||D)&&(p=!0)),Q&&(V?(o=o.add(V),s=J?s.add(R):s.delete(R)):(o=o.delete(R),s=s.delete(R)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const R="F"===this.query.limitType?o.last():o.first();o=o.delete(R.key),s=s.delete(R.key),n.track({type:1,doc:R})}return{Ta:o,Aa:n,Xi:p,mutatedKeys:s}}Ra(i,t){return i.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(i,t,n,r){const s=this.Ta;this.Ta=i.Ta,this.mutatedKeys=i.mutatedKeys;const o=i.Aa.Q_();o.sort((R,F)=>function(V,X){const J=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vi()}};return J(V)-J(X)}(R.type,F.type)||this.Ia(R.doc,F.doc)),this.Va(n),r=null!=r&&r;const p=t&&!r?this.ma():[],C=0===this.Pa.size&&this.current&&!r?1:0,D=C!==this.ha;return this.ha=C,0!==o.length||D?{snapshot:new jg(this.query,i.Ta,s,o,i.mutatedKeys,0===C,D,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:p}:{fa:p}}j_(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Ej,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(i){return!this.la.has(i)&&!!this.Ta.has(i)&&!this.Ta.get(i).hasLocalMutations}Va(i){i&&(i.addedDocuments.forEach(t=>this.la=this.la.add(t)),i.modifiedDocuments.forEach(t=>{}),i.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=i.current)}ma(){if(!this.current)return[];const i=this.Pa;this.Pa=mn(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});const t=[];return i.forEach(n=>{this.Pa.has(n)||t.push(new Mj(n))}),this.Pa.forEach(n=>{i.has(n)||t.push(new Ij(n))}),t}pa(i){this.la=i.hs,this.Pa=mn();const t=this.da(i.documents);return this.applyChanges(t,!0)}ya(){return jg.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class NIt{constructor(i,t,n){this.query=i,this.targetId=t,this.view=n}}class BIt{constructor(i){this.key=i,this.wa=!1}}class VIt{constructor(i,t,n,r,s,o){this.localStore=i,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Qd(p=>UW(p),sy),this.Da=new Map,this.Ca=new Set,this.va=new Nr(ci.comparator),this.Fa=new Map,this.Ma=new nk,this.xa={},this.Oa=new Map,this.Na=Bf.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function UIt(e,i){return Xk.apply(this,arguments)}function Xk(){return(Xk=de(function*(e,i,t=!0){const n=m_(e);let r;const s=n.ba.get(i);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield kj(n,i,t,!0),r})).apply(this,arguments)}function zIt(e,i){return jk.apply(this,arguments)}function jk(){return(jk=de(function*(e,i){const t=m_(e);yield kj(t,i,!0,!1)})).apply(this,arguments)}function kj(e,i,t,n){return Yk.apply(this,arguments)}function Yk(){return(Yk=de(function*(e,i,t,n){const r=yield function Bg(e,i){const t=ai(e);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return t.Qr.getTargetData(n,i).next(s=>s?(r=s,Jt.resolve(r)):t.Qr.allocateTargetId(n).next(o=>(r=new Zd(i,o,"TargetPurposeListen",n.currentSequenceNumber),t.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=t.ns.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ns=t.ns.insert(n.targetId,n),t.rs.set(i,n.targetId)),n})}(e.localStore,Xa(i)),s=r.targetId,o=t?e.sharedClientState.addLocalQueryTarget(s):"not-current";let p;return n&&(p=yield function $k(e,i,t,n,r){return Qk.apply(this,arguments)}(e,i,s,"current"===o,r.resumeToken)),e.isPrimaryClient&&t&&h_(e.remoteStore,r),p})).apply(this,arguments)}function Qk(){return Qk=de(function*(e,i,t,n,r){e.Ba=(F,B,V)=>{return(X=de(function*(Q,nt,ct,lt){let wt=nt.view.da(ct);wt.Xi&&(wt=yield o_(Q.localStore,nt.query,!1).then(({documents:ft})=>nt.view.da(ft,wt)));const Mt=lt&&lt.targetChanges.get(nt.targetId),Bt=lt&&null!=lt.targetMismatches.get(nt.targetId),pt=nt.view.applyChanges(wt,Q.isPrimaryClient,Mt,Bt);return aP(Q,nt.targetId,pt.fa),pt.snapshot}),function J(Q,nt,ct,lt){return X.apply(this,arguments)})(e,F,B,V);var X};const s=yield o_(e.localStore,i,!0),o=new Rj(i,s.hs),p=o.da(s.documents),C=fy.createSynthesizedTargetChangeForCurrentChange(t,n&&"Offline"!==e.onlineState,r),D=o.applyChanges(p,e.isPrimaryClient,C);aP(e,t,D.fa);const R=new NIt(i,t,o);return e.ba.set(i,R),e.Da.has(t)?e.Da.get(t).push(i):e.Da.set(t,[i]),D.snapshot}),Qk.apply(this,arguments)}function GIt(e,i,t){return Kk.apply(this,arguments)}function Kk(){return(Kk=de(function*(e,i,t){const n=ai(e),r=n.ba.get(i),s=n.Da.get(r.targetId);if(s.length>1)return n.Da.set(r.targetId,s.filter(o=>!sy(o,i))),void n.ba.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Vg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),t&&zg(n.remoteStore,r.targetId),Yg(n,r.targetId)}).catch(ah))):(Yg(n,r.targetId),yield Vg(n.localStore,r.targetId,!0))})).apply(this,arguments)}function HIt(e,i){return Zk.apply(this,arguments)}function Zk(){return(Zk=de(function*(e,i){const t=ai(e),n=t.ba.get(i),r=t.Da.get(n.targetId);t.isPrimaryClient&&1===r.length&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),zg(t.remoteStore,n.targetId))})).apply(this,arguments)}function Jk(){return(Jk=de(function*(e,i,t){const n=function vP(e){const i=ai(e);return i.remoteStore.remoteSyncer.applySuccessfulWrite=jIt.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=YIt.bind(null,i),i}(e);try{const r=yield function(o,p){const C=ai(o),D=Qr.now(),R=p.reduce((V,X)=>V.add(X.key),mn());let F,B;return C.persistence.runTransaction("Locally write mutations","readwrite",V=>{let X=Bo(),J=mn();return C.os.getEntries(V,R).next(Q=>{X=Q,X.forEach((nt,ct)=>{ct.isValidDocument()||(J=J.add(nt))})}).next(()=>C.localDocuments.getOverlayedDocuments(V,X)).next(Q=>{F=Q;const nt=[];for(const ct of p){const lt=x2t(ct,F.get(ct.key).overlayedDocument);null!=lt&&nt.push(new Kd(ct.key,lt,_W(lt.value.mapValue),Zr.exists(!0)))}return C.mutationQueue.addMutationBatch(V,D,nt,p)}).next(Q=>{B=Q;const nt=Q.applyToLocalDocumentSet(F,J);return C.documentOverlayCache.saveOverlays(V,Q.batchId,nt)})}).then(()=>({batchId:B.batchId,changes:WW(F)}))}(n.localStore,i);n.sharedClientState.addPendingMutation(r.batchId),function(o,p,C){let D=o.xa[o.currentUser.toKey()];D||(D=new Nr(Ji)),D=D.insert(p,C),o.xa[o.currentUser.toKey()]=D}(n,r.batchId,t),yield Jd(n,r.changes),yield Gg(n.remoteStore)}catch(r){const s=Wg(r,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function Pj(e,i){return qk.apply(this,arguments)}function qk(){return(qk=de(function*(e,i){const t=ai(e);try{const n=yield function lIt(e,i){const t=ai(e),n=i.snapshotVersion;let r=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.os.newChangeBuffer({trackRemovals:!0});r=t.ns;const p=[];i.targetChanges.forEach((R,F)=>{const B=r.get(F);if(!B)return;p.push(t.Qr.removeMatchingKeys(s,R.removedDocuments,F).next(()=>t.Qr.addMatchingKeys(s,R.addedDocuments,F)));let V=B.withSequenceNumber(s.currentSequenceNumber);var J,Q,nt;null!==i.targetMismatches.get(F)?V=V.withResumeToken(ta.EMPTY_BYTE_STRING,Ii.min()).withLastLimboFreeSnapshotVersion(Ii.min()):R.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(R.resumeToken,n)),r=r.insert(F,V),Q=V,nt=R,(0===(J=B).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0)&&p.push(t.Qr.updateTargetData(s,V))});let C=Bo(),D=mn();if(i.documentUpdates.forEach(R=>{i.resolvedLimboDocuments.has(R)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(s,R))}),p.push(function cj(e,i,t){let n=mn(),r=mn();return t.forEach(s=>n=n.add(s)),i.getEntries(e,n).next(s=>{let o=Bo();return t.forEach((p,C)=>{const D=s.get(p);C.isFoundDocument()!==D.isFoundDocument()&&(r=r.add(p)),C.isNoDocument()&&C.version.isEqual(Ii.min())?(i.removeEntry(p,C.readTime),o=o.insert(p,C)):!D.isValidDocument()||C.version.compareTo(D.version)>0||0===C.version.compareTo(D.version)&&D.hasPendingWrites?(i.addEntry(C),o=o.insert(p,C)):Pe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",D.version," Watch version:",C.version)}),{cs:o,ls:r}})}(s,o,i.documentUpdates).next(R=>{C=R.cs,D=R.ls})),!n.isEqual(Ii.min())){const R=t.Qr.getLastRemoteSnapshotVersion(s).next(F=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,n));p.push(R)}return Jt.waitFor(p).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,C,D)).next(()=>C)}).then(s=>(t.ns=r,s))}(t.localStore,i);i.targetChanges.forEach((r,s)=>{const o=t.Fa.get(s);o&&(Si(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Si(o.wa):r.removedDocuments.size>0&&(Si(o.wa),o.wa=!1))}),yield Jd(t,n,i)}catch(n){yield ah(n)}})).apply(this,arguments)}function Fj(e,i,t){const n=ai(e);if(n.isPrimaryClient&&0===t||!n.isPrimaryClient&&1===t){const r=[];n.ba.forEach((s,o)=>{const p=o.view.j_(i);p.snapshot&&r.push(p.snapshot)}),function(o,p){const C=ai(o);C.onlineState=p;let D=!1;C.queries.forEach((R,F)=>{for(const B of F.U_)B.j_(p)&&(D=!0)}),D&&Gk(C)}(n.eventManager,i),r.length&&n.Sa.h_(r),n.onlineState=i,n.isPrimaryClient&&n.sharedClientState.setOnlineState(i)}}function XIt(e,i,t){return tP.apply(this,arguments)}function tP(){return(tP=de(function*(e,i,t){const n=ai(e);n.sharedClientState.updateQueryState(i,"rejected",t);const r=n.Fa.get(i),s=r&&r.key;if(s){let o=new Nr(ci.comparator);o=o.insert(s,Hr.newNoDocument(s,Ii.min()));const p=mn().add(s),C=new hy(Ii.min(),new Map,new Nr(Ji),o,p);yield Pj(n,C),n.va=n.va.remove(s),n.Fa.delete(i),oP(n)}else yield Vg(n.localStore,i,!1).then(()=>Yg(n,i,t)).catch(ah)})).apply(this,arguments)}function jIt(e,i){return eP.apply(this,arguments)}function eP(){return(eP=de(function*(e,i){const t=ai(e),n=i.batch.batchId;try{const r=yield function oIt(e,i){const t=ai(e);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=i.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(p,C,D,R){const F=D.batch,B=F.keys();let V=Jt.resolve();return B.forEach(X=>{V=V.next(()=>R.getEntry(C,X)).next(J=>{const Q=D.docVersions.get(X);Si(null!==Q),J.version.compareTo(Q)<0&&(F.applyToRemoteDocument(J,D),J.isValidDocument()&&(J.setReadTime(D.commitVersion),R.addEntry(J)))})}),V.next(()=>p.mutationQueue.removeMutationBatch(C,F))}(t,n,i,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,i.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(p){let C=mn();for(let D=0;D<p.mutationResults.length;++D)p.mutationResults[D].transformResults.length>0&&(C=C.add(p.batch.mutations[D].key));return C}(i))).next(()=>t.localDocuments.getDocuments(n,r))})}(t.localStore,i);sP(t,n,null),rP(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),yield Jd(t,r)}catch(r){yield ah(r)}})).apply(this,arguments)}function YIt(e,i,t){return iP.apply(this,arguments)}function iP(){return(iP=de(function*(e,i,t){const n=ai(e);try{const r=yield function(o,p){const C=ai(o);return C.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let R;return C.mutationQueue.lookupMutationBatch(D,p).next(F=>(Si(null!==F),R=F.keys(),C.mutationQueue.removeMutationBatch(D,F))).next(()=>C.mutationQueue.performConsistencyCheck(D)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(D,R,p)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(D,R)).next(()=>C.localDocuments.getDocuments(D,R))})}(n.localStore,i);sP(n,i,t),rP(n,i),n.sharedClientState.updateMutationState(i,"rejected",t),yield Jd(n,r)}catch(r){yield ah(r)}})).apply(this,arguments)}function rP(e,i){(e.Oa.get(i)||[]).forEach(t=>{t.resolve()}),e.Oa.delete(i)}function sP(e,i,t){const n=ai(e);let r=n.xa[n.currentUser.toKey()];if(r){const s=r.get(i);s&&(t?s.reject(t):s.resolve(),r=r.remove(i)),n.xa[n.currentUser.toKey()]=r}}function Yg(e,i,t=null){e.sharedClientState.removeLocalQueryTarget(i);for(const n of e.Da.get(i))e.ba.delete(n),t&&e.Sa.ka(n,t);e.Da.delete(i),e.isPrimaryClient&&e.Ma.Vr(i).forEach(n=>{e.Ma.containsKey(n)||Oj(e,n)})}function Oj(e,i){e.Ca.delete(i.path.canonicalString());const t=e.va.get(i);null!==t&&(zg(e.remoteStore,t),e.va=e.va.remove(i),e.Fa.delete(t),oP(e))}function aP(e,i,t){for(const n of t)n instanceof Ij?(e.Ma.addReference(n.key,i),QIt(e,n)):n instanceof Mj?(Pe("SyncEngine","Document no longer in limbo: "+n.key),e.Ma.removeReference(n.key,i),e.Ma.containsKey(n.key)||Oj(e,n.key)):vi()}function QIt(e,i){const t=i.key,n=t.path.canonicalString();e.va.get(t)||e.Ca.has(n)||(Pe("SyncEngine","New document in limbo: "+t),e.Ca.add(n),oP(e))}function oP(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const i=e.Ca.values().next().value;e.Ca.delete(i);const t=new ci(Nn.fromString(i)),n=e.Na.next();e.Fa.set(n,new BIt(t)),e.va=e.va.insert(t,n),h_(e.remoteStore,new Zd(Xa(Eg(t.path)),n,"TargetPurposeLimboResolution",al.oe))}}function Jd(e,i,t){return lP.apply(this,arguments)}function lP(){return lP=de(function*(e,i,t){const n=ai(e),r=[],s=[],o=[];var p;n.ba.isEmpty()||(n.ba.forEach((p,C)=>{o.push(n.Ba(C,i,t).then(D=>{var R;if((D||t)&&n.isPrimaryClient){const F=D?!D.fromCache:null===(R=t?.targetChanges.get(C.targetId))||void 0===R?void 0:R.current;n.sharedClientState.updateQueryState(C.targetId,F?"current":"not-current")}if(D){r.push(D);const F=lk.Ki(C.targetId,D);s.push(F)}}))}),yield Promise.all(o),n.Sa.h_(r),yield(p=de(function*(D,R){const F=ai(D);try{yield F.persistence.runTransaction("notifyLocalViewChanges","readwrite",B=>Jt.forEach(R,V=>Jt.forEach(V.qi,X=>F.persistence.referenceDelegate.addReference(B,V.targetId,X)).next(()=>Jt.forEach(V.Qi,X=>F.persistence.referenceDelegate.removeReference(B,V.targetId,X)))))}catch(B){if(!oh(B))throw B;Pe("LocalStore","Failed to update sequence numbers: "+B)}for(const B of R){const V=B.targetId;if(!B.fromCache){const X=F.ns.get(V),Q=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);F.ns=F.ns.insert(V,Q)}}}),function C(D,R){return p.apply(this,arguments)})(n.localStore,s))}),lP.apply(this,arguments)}function KIt(e,i){return cP.apply(this,arguments)}function cP(){return(cP=de(function*(e,i){const t=ai(e);if(!t.currentUser.isEqual(i)){Pe("SyncEngine","User change. New user:",i.toKey());const n=yield oj(t.localStore,i);t.currentUser=i,(s=t).Oa.forEach(p=>{p.forEach(C=>{C.reject(new Fe(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Oa.clear(),t.sharedClientState.handleUserChange(i,n.removedBatchIds,n.addedBatchIds),yield Jd(t,n.us)}var s})).apply(this,arguments)}function ZIt(e,i){const t=ai(e),n=t.Fa.get(i);if(n&&n.wa)return mn().add(n.key);{let r=mn();const s=t.Da.get(i);if(!s)return r;for(const o of s){const p=t.ba.get(o);r=r.unionWith(p.view.Ea)}return r}}function m_(e){const i=ai(e);return i.remoteStore.remoteSyncer.applyRemoteEvent=Pj.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZIt.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=XIt.bind(null,i),i.Sa.h_=PIt.bind(null,i.eventManager),i.Sa.ka=FIt.bind(null,i.eventManager),i}class $g{constructor(){this.synchronizeTabs=!1}initialize(i){var t=this;return de(function*(){t.serializer=Cy(i.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(i),t.persistence=t.createPersistence(i),yield t.persistence.start(),t.localStore=t.createLocalStore(i),t.gcScheduler=t.createGarbageCollectionScheduler(i,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(i,t.localStore)})()}createGarbageCollectionScheduler(i,t){return null}createIndexBackfillerScheduler(i,t){return null}createLocalStore(i){return function aj(e,i,t,n){return new aIt(e,i,t,n)}(this.persistence,new sj,i.initialUser,this.serializer)}createPersistence(i){return new rk(r_.Hr,this.serializer)}createSharedClientState(i){return new pj}terminate(){var i=this;return de(function*(){var t,n;null===(t=i.gcScheduler)||void 0===t||t.stop(),null===(n=i.indexBackfillerScheduler)||void 0===n||n.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class Qg{initialize(i,t){var n=this;return de(function*(){n.localStore||(n.localStore=i.localStore,n.sharedClientState=i.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!i.synchronizeTabs),n.sharedClientState.onlineStateHandler=r=>Fj(n.syncEngine,r,1),n.remoteStore.remoteSyncer.handleCredentialChange=KIt.bind(null,n.syncEngine),yield Ok(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(i){return new kIt}createDatastore(i){const t=Cy(i.databaseInfo.databaseId),n=new pIt(i.databaseInfo);return new xIt(i.authCredentials,i.appCheckCredentials,n,t)}createRemoteStore(i){return n=this.localStore,r=this.datastore,s=i.asyncQueue,o=t=>Fj(this.syncEngine,t,0),p=gj.D()?new gj:new hIt,new bIt(n,r,s,o,p);var n,r,s,o,p}createSyncEngine(i,t){return function(r,s,o,p,C,D,R){const F=new VIt(r,s,o,p,C,D);return R&&(F.La=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,t)}terminate(){var i=this;return de(function*(){var t,n;yield(n=de(function*(s){const o=ai(s);Pe("RemoteStore","RemoteStore shutting down."),o.M_.add(5),yield Ug(o),o.O_.shutdown(),o.N_.set("Unknown")}),function r(s){return n.apply(this,arguments)})(i.remoteStore),null===(t=i.datastore)||void 0===t||t.terminate()})()}}class p_{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Ka(this.observer.next,i)}error(i){this.observer.error?this.Ka(this.observer.error,i):ws("Uncaught Error in snapshot listener:",i.toString())}$a(){this.muted=!0}Ka(i,t){this.muted||setTimeout(()=>{this.muted||i(t)},0)}}class dMt{constructor(i,t,n,r){var s=this;this.authCredentials=i,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=fa.UNAUTHENTICATED,this.clientId=Z7.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var o=de(function*(p){Pe("FirestoreClient","Received user=",p.uid),yield s.authCredentialListener(p),s.user=p});return function(p){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(n,o=>(Pe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const t=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(de(function*(){try{i._onlineComponents&&(yield i._onlineComponents.terminate()),i._offlineComponents&&(yield i._offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Wg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function g_(e,i){return yP.apply(this,arguments)}function yP(){return yP=de(function*(e,i){e.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=e.configuration;yield i.initialize(t);let n=t.initialUser;e.setCredentialChangeListener(function(){var r=de(function*(s){n.isEqual(s)||(yield oj(i.localStore,s),n=s)});return function(s){return r.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=i}),yP.apply(this,arguments)}function bP(e,i){return wP.apply(this,arguments)}function wP(){return(wP=de(function*(e,i){e.asyncQueue.verifyOperationInProgress();const t=yield function TP(e){return CP.apply(this,arguments)}(e);Pe("FirestoreClient","Initializing OnlineComponentProvider"),yield i.initialize(t,e.configuration),e.setCredentialChangeListener(n=>_j(i.remoteStore,n)),e.setAppCheckTokenChangeListener((n,r)=>_j(i.remoteStore,r)),e._onlineComponents=i})).apply(this,arguments)}function CP(){return(CP=de(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield g_(e,e._uninitializedComponentsProvider._offline)}catch(i){const t=i;if(!function Uj(e){return"FirebaseError"===e.name?e.code===he.FAILED_PRECONDITION||e.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(t))throw t;rl("Error using user provided cache. Falling back to memory cache: "+t),yield g_(e,new $g)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),yield g_(e,new $g);return e._offlineComponents})).apply(this,arguments)}function v_(e){return _P.apply(this,arguments)}function _P(){return(_P=de(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield bP(e,e._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield bP(e,new Qg))),e._onlineComponents})).apply(this,arguments)}function SP(){return(SP=de(function*(e){const i=yield v_(e),t=i.eventManager;return t.onListen=UIt.bind(null,i.syncEngine),t.onUnlisten=GIt.bind(null,i.syncEngine),t.onFirstRemoteStoreListen=zIt.bind(null,i.syncEngine),t.onLastRemoteStoreUnlisten=HIt.bind(null,i.syncEngine),t})).apply(this,arguments)}function Xj(e,i,t={}){const n=new qs;return e.asyncQueue.enqueueAndForget(de(function*(){return function(s,o,p,C,D){const R=new p_({next:B=>{o.enqueueAndForget(()=>function Uk(e,i){return zk.apply(this,arguments)}(s,F)),B.fromCache&&"server"===C.source?D.reject(new Fe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(B)},error:B=>D.reject(B)}),F=new Wk(p,R,{includeMetadataChanges:!0,ra:!0});return function Bk(e,i){return Vk.apply(this,arguments)}(s,F)}(yield function Zg(e){return SP.apply(this,arguments)}(e),e.asyncQueue,i,t,n)})),n.promise}function jj(e){const i={};return void 0!==e.timeoutSeconds&&(i.timeoutSeconds=e.timeoutSeconds),i}const Yj=new Map;function AP(e,i,t){if(!t)throw new Fe(he.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${i}.`)}function $j(e){if(!ci.isDocumentKey(e))throw new Fe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Qj(e){if(ci.isDocumentKey(e))throw new Fe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function x_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const i=(n=e).constructor?n.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var n;return"function"==typeof e?"a function":vi()}function Mn(e,i){if("_delegate"in e&&(e=e._delegate),!(e instanceof i)){if(i.name===e.constructor.name)throw new Fe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=x_(e);throw new Fe(he.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${t}`)}}return e}class Zj{constructor(i){var t,n;if(void 0===i.host){if(void 0!==i.ssl)throw new Fe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(t=i.ssl)||void 0===t||t;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Fe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}(function TMt(e,i,t,n){if(!0===i&&!0===n)throw new Fe(he.INVALID_ARGUMENT,`${e} and ${t} cannot be used together.`)})("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==i.experimentalAutoDetectLongPolling&&!i.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jj(null!==(n=i.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Fe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Fe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Fe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===i.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Ey{constructor(i,t,n,r){this._authCredentials=i,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Fe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zj(i),void 0!==i.credentials&&(this._authCredentials=function(n){if(!n)return new xDt;switch(n.type){case"firstParty":return new TDt(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Fe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Yj.get(t);n&&(Pe("ComponentProvider","Removing Datastore"),Yj.delete(t),n.terminate())}(this),Promise.resolve()}}class Aa{constructor(i,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=i}withConverter(i){return new Aa(this.firestore,i,this._query)}}class Cs{constructor(i,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Cs(this.firestore,i,this._key)}}class Xc extends Aa{constructor(i,t,n){super(i,t,Eg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Cs(this.firestore,null,new ci(i))}withConverter(i){return new Xc(this.firestore,i,this._path)}}function Jj(e,i,...t){if(e=rc(e),AP("collection","path",i),e instanceof Ey){const n=Nn.fromString(i,...t);return Qj(n),new Xc(e,null,n)}{if(!(e instanceof Cs||e instanceof Xc))throw new Fe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Nn.fromString(i,...t));return Qj(n),new Xc(e.firestore,null,n)}}class EMt{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new xk(this,"async_queue_retry"),this.hu=()=>{const t=u_();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const i=u_();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Pu(),this.Iu(i)}enterRestrictedMode(i){if(!this.ou){this.ou=!0,this.cu=i||!1;const t=u_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(i){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new qs;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(i().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.su.push(i),this.Tu()))}Tu(){var i=this;return de(function*(){if(0!==i.su.length){try{yield i.su[0](),i.su.shift(),i.Yo.reset()}catch(t){if(!oh(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}i.su.length>0&&i.Yo.$o(()=>i.Tu())}})()}Iu(i){const t=this.iu.then(()=>(this.uu=!0,i().catch(n=>{throw this.au=n,this.uu=!1,ws("INTERNAL UNHANDLED ERROR: ",function(o){let p=o.message||"";return o.stack&&(p=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),p}(n)),n}).then(n=>(this.uu=!1,n))));return this.iu=t,t}enqueueAfterDelay(i,t,n){this.Pu(),this.lu.indexOf(i)>-1&&(t=0);const r=Nk.createAndSchedule(this,i,t,n,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&vi()}verifyOperationInProgress(){}du(){var i=this;return de(function*(){let t;do{t=i.iu,yield t}while(t!==i.iu)})()}Au(i){for(const t of this._u)if(t.timerId===i)return!0;return!1}Ru(i){return this.du().then(()=>{this._u.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==i&&t.timerId===i)break;return this.du()})}Vu(i){this.lu.push(i)}Eu(i){const t=this._u.indexOf(i);this._u.splice(t,1)}}class Er extends Ey{constructor(i,t,n,r){super(i,t,n,r),this.type="firestore",this._queue=new EMt,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tY(this),this._firestoreClient.terminate()}}function AMt(e,i){const t="object"==typeof e?e:function oDt(e=MC){const i=Tf.get(e);if(!i&&e===MC&&g7())return P7();if(!i)throw Al.create("no-app",{appName:e});return i}(),n="string"==typeof e?e:i||"(default)",r=function R7(e,i){const t=e.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),e.container.getProvider(i)}(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const s=(e=>{const i=(e=>{var i,t;return null===(t=null===(i=AC())||void 0===i?void 0:i.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!i)return;const t=i.lastIndexOf(":");if(t<=0||t+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);const n=parseInt(i.substring(t+1),10);return"["===i[0]?[i.substring(1,t-1),n]:[i.substring(0,t),n]})("firestore");s&&function CMt(e,i,t,n={}){var r;const s=(e=Mn(e,Ey))._getSettings(),o=`${i}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let p,C;if("string"==typeof n.mockUserToken)p=n.mockUserToken,C=fa.MOCK_USER;else{p=function KSt(e,i){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=i||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[SC(JSON.stringify({alg:"none",type:"JWT"})),SC(JSON.stringify(o)),""].join(".")}(n.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const D=n.mockUserToken.sub||n.mockUserToken.user_id;if(!D)throw new Fe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new fa(D)}e._authCredentials=new yDt(new Q7(p,C))}}(r,...s)}return r}function rs(e){return e._firestoreClient||tY(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tY(e){var i,t,n;const r=e._freezeSettings(),s=(C=(null===(i=e._app)||void 0===i?void 0:i.options.appId)||"",new ZDt(e._databaseId,C,e._persistenceKey,(R=r).host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,jj(R.experimentalLongPollingOptions),R.useFetchStreams));var C,R;e._firestoreClient=new dMt(e._authCredentials,e._appCheckCredentials,e._queue,s),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(n=r.localCache)&&void 0!==n&&n._onlineComponentProvider&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Uf{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Uf(ta.fromBase64String(i))}catch(t){throw new Fe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(i){return new Uf(ta.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class zf{constructor(...i){for(let t=0;t<i.length;++t)if(0===i[t].length)throw new Fe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Jg{constructor(i){this._methodName=i}}class IP{constructor(i,t){if(!isFinite(i)||i<-90||i>90)throw new Fe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(t)||t<-180||t>180)throw new Fe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=i,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return Ji(this._lat,i._lat)||Ji(this._long,i._long)}}const IMt=/^__.*__$/;class MMt{constructor(i,t,n){this.data=i,this.fieldMask=t,this.fieldTransforms=n}toMutation(i,t){return null!==this.fieldMask?new Kd(i,this.data,this.fieldMask,t,this.fieldTransforms):new Mg(i,this.data,t,this.fieldTransforms)}}function rY(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vi()}}class y_{constructor(i,t,n,r,s,o){this.settings=i,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(i){return new y_(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(i){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(i),r=this.gu({path:n,yu:!1});return r.wu(i),r}Su(i){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(i),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(i){return this.gu({path:void 0,yu:!0})}Du(i){return T_(i,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(i){return void 0!==this.fieldMask.find(t=>i.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>i.isPrefixOf(t.field))}mu(){if(this.path)for(let i=0;i<this.path.length;i++)this.wu(this.path.get(i))}wu(i){if(0===i.length)throw this.Du("Document fields must not be empty");if(rY(this.fu)&&IMt.test(i))throw this.Du('Document fields cannot begin and end with "__"')}}class RMt{constructor(i,t,n){this.databaseId=i,this.ignoreUndefinedProperties=t,this.serializer=n||Cy(i)}Fu(i,t,n,r=!1){return new y_({fu:i,methodName:t,vu:n,path:Kr.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(e){const i=e._freezeSettings(),t=Cy(e._databaseId);return new RMt(e._databaseId,!!i.ignoreUndefinedProperties,t)}function b_(e,i,t,n,r,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,i,t,r);LP("Data must be an object, but it was:",o,n);const p=oY(n,o);let C,D;if(s.merge)C=new No(o.fieldMask),D=o.fieldTransforms;else if(s.mergeFields){const R=[];for(const F of s.mergeFields){const B=Dy(i,F,t);if(!o.contains(B))throw new Fe(he.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);cY(R,B)||R.push(B)}C=new No(R),D=o.fieldTransforms.filter(F=>C.covers(F.field))}else C=null,D=o.fieldTransforms;return new MMt(new Sa(p),C,D)}function Hf(e,i){if(lY(e=rc(e)))return LP("Unsupported field value:",i,e),oY(e,i);if(e instanceof Jg)return function(n,r){if(!rY(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,i),null;if(void 0===e&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),e instanceof Array){if(i.settings.yu&&4!==i.fu)throw i.Du("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const p of n){let C=Hf(p,r.bu(o));null==C&&(C={nullValue:"NULL_VALUE"}),s.push(C),o++}return{arrayValue:{values:s}}}(e,i)}return function(n,r){if(null===(n=rc(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return $W(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const s=Qr.fromDate(n);return{timestampValue:kg(r.serializer,s)}}if(n instanceof Qr){const s=new Qr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kg(r.serializer,s)}}if(n instanceof IP)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Uf)return{bytesValue:gX(r.serializer,n._byteString)};if(n instanceof Cs){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jR(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${x_(n)}`)}(e,i)}function oY(e,i){const t={};return pW(e)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):lh(e,(n,r)=>{const s=Hf(r,i.pu(n));null!=s&&(t[n]=s)}),{mapValue:{fields:t}}}function lY(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qr||e instanceof IP||e instanceof Uf||e instanceof Cs||e instanceof Jg)}function LP(e,i,t){if(!lY(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const n=x_(t);throw i.Du("an object"===n?e+" a custom object":e+" "+n)}var r}function Dy(e,i,t){if((i=rc(i))instanceof zf)return i._internalPath;if("string"==typeof i)return w_(e,i);throw T_("Field path arguments must be of type string or ",e,!1,void 0,t)}const kMt=new RegExp("[~\\*/\\[\\]]");function w_(e,i,t){if(i.search(kMt)>=0)throw T_(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,t);try{return new zf(...i.split("."))._internalPath}catch{throw T_(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,t)}}function T_(e,i,t,n,r){const s=n&&!n.isEmpty(),o=void 0!==r;let p=`Function ${i}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let C="";return(s||o)&&(C+=" (found",s&&(C+=` in field ${n}`),o&&(C+=` in document ${r}`),C+=")"),new Fe(he.INVALID_ARGUMENT,p+e+C)}function cY(e,i){return e.some(t=>t.isEqual(i))}class Iy{constructor(i,t,n,r,s){this._firestore=i,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new PMt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const t=this._document.data.field(C_("DocumentSnapshot.get",i));if(null!==t)return this._userDataWriter.convertValue(t)}}}class PMt extends Iy{data(){return super.data()}}function C_(e,i){return"string"==typeof i?w_(e,i):i instanceof zf?i._internalPath:i._delegate._internalPath}class NP{}class My extends NP{}class Ry extends My{constructor(i,t,n){super(),this._field=i,this._op=t,this._value=n,this.type="where"}static _create(i,t,n){return new Ry(i,t,n)}_apply(i){const t=this._parse(i);return mY(i._query,t),new Aa(i.firestore,i.converter,BR(i._query,t))}_parse(i){const t=Gf(i.firestore);return function(s,o,p,C,D,R,F){let B;if(D.isKeyField()){if("array-contains"===R||"array-contains-any"===R)throw new Fe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${R}' queries on documentId().`);if("in"===R||"not-in"===R){fY(F,R);const V=[];for(const X of F)V.push(hY(C,s,X));B={arrayValue:{values:V}}}else B=hY(C,s,F)}else"in"!==R&&"not-in"!==R&&"array-contains-any"!==R||fY(F,R),B=function aY(e,i,t,n=!1){return Hf(t,e.Fu(n?4:3,i))}(p,"where",F,"in"===R||"not-in"===R);return Bn.create(D,R,B)}(i._query,0,t,i.firestore._databaseId,this._field,this._op,this._value)}}class qg extends NP{constructor(i,t){super(),this.type=i,this._queryConstraints=t}static _create(i,t){return new qg(i,t)}_parse(i){const t=this._queryConstraints.map(n=>n._parse(i)).filter(n=>n.getFilters().length>0);return 1===t.length?t[0]:xr.create(t,this._getOperator())}_apply(i){const t=this._parse(i);return 0===t.getFilters().length?i:(function(r,s){let o=r;const p=s.getFlattenedFilters();for(const C of p)mY(o,C),o=BR(o,C)}(i._query,t),new Aa(i.firestore,i.converter,BR(i._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class BP extends My{constructor(i,t){super(),this._field=i,this._direction=t,this.type="orderBy"}static _create(i,t){return new BP(i,t)}_apply(i){const t=function(r,s,o){if(null!==r.startAt)throw new Fe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ny(s,o)}(i._query,this._field,this._direction);return new Aa(i.firestore,i.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new $d(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(i._query,t))}}class __ extends My{constructor(i,t,n){super(),this.type=i,this._limit=t,this._limitType=n}static _create(i,t,n){return new __(i,t,n)}_apply(i){return new Aa(i.firestore,i.converter,WC(i._query,this._limit,this._limitType))}}function hY(e,i,t){if("string"==typeof(t=rc(t))){if(""===t)throw new Fe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NR(i)&&-1!==t.indexOf("/"))throw new Fe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=i.path.child(Nn.fromString(t));if(!ci.isDocumentKey(n))throw new Fe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return If(e,new ci(n))}if(t instanceof Cs)return If(e,t._key);throw new Fe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x_(t)}.`)}function fY(e,i){if(!Array.isArray(e)||0===e.length)throw new Fe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`)}function mY(e,i){const t=function(r,s){for(const o of r)for(const p of o.getFlattenedFilters())if(s.indexOf(p.op)>=0)return p.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(i.op));if(null!==t)throw new Fe(he.INVALID_ARGUMENT,t===i.op?`Invalid query. You cannot use more than one '${i.op.toString()}' filter.`:`Invalid query. You cannot use '${i.op.toString()}' filters with '${t.toString()}' filters.`)}class gY{convertValue(i,t="none"){switch(dh(i)){case 0:return null;case 1:return i.booleanValue;case 2:return cs(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,t);case 5:return i.stringValue;case 6:return this.convertBytes(Yd(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,t);case 10:return this.convertObject(i.mapValue,t);default:throw vi()}}convertObject(i,t){return this.convertObjectMap(i.fields,t)}convertObjectMap(i,t="none"){const n={};return lh(i,(r,s)=>{n[r]=this.convertValue(s,t)}),n}convertGeoPoint(i){return new IP(cs(i.latitude),cs(i.longitude))}convertArray(i,t){return(i.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(i,t){switch(t){case"previous":const n=BC(i);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qx(i));default:return null}}convertTimestamp(i){const t=jd(i);return new Qr(t.seconds,t.nanos)}convertDocumentKey(i,t){const n=Nn.fromString(i);Si(DX(n));const r=new Df(n.get(1),n.get(3)),s=new ci(n.popFirst(5));return r.isEqual(t)||ws(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Wf{constructor(i,t){this.hasPendingWrites=i,this.fromCache=t}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class tv extends Iy{constructor(i,t,n,r,s,o){super(i,t,n,r,o),this._firestore=i,this._firestoreImpl=i,this.metadata=s}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const t=new D_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,t={}){if(this._document){const n=this._document.data.field(C_("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class D_ extends tv{data(i={}){return super.data(i)}}class ev{constructor(i,t,n,r){this._firestore=i,this._userDataWriter=t,this._snapshot=r,this.metadata=new Wf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const i=[];return this.forEach(t=>i.push(t)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,t){this._snapshot.docs.forEach(n=>{i.call(t,new D_(this._firestore,this._userDataWriter,n.key,n,new Wf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const t=!!i.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(p=>({type:"added",doc:new D_(r._firestore,r._userDataWriter,p.doc.key,p.doc,new Wf(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(p=>s||3!==p.type).map(p=>{const C=new D_(r._firestore,r._userDataWriter,p.doc.key,p.doc,new Wf(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter);let D=-1,R=-1;return 0!==p.type&&(D=o.indexOf(p.doc.key),o=o.delete(p.doc.key)),1!==p.type&&(o=o.add(p.doc),R=o.indexOf(p.doc.key)),{type:VMt(p.type),doc:C,oldIndex:D,newIndex:R}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VMt(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vi()}}class yh extends gY{constructor(i){super(),this.firestore=i}convertBytes(i){return new Uf(i)}convertReference(i){const t=this.convertDocumentKey(i,this.firestore._databaseId);return new Cs(this.firestore,null,t)}}function zMt(e,i){const t=Mn(e.firestore,Er),n=function _Mt(e,i,...t){if(e=rc(e),1===arguments.length&&(i=Z7.newId()),AP("doc","path",i),e instanceof Ey){const n=Nn.fromString(i,...t);return $j(n),new Cs(e,null,new ci(n))}{if(!(e instanceof Cs||e instanceof Xc))throw new Fe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Nn.fromString(i,...t));return $j(n),new Cs(e.firestore,e instanceof Xc?e.converter:null,new ci(n))}}(e),r=function A_(e,i,t){let n;return n=e?t&&(t.merge||t.mergeFields)?e.toFirestore(i,t):e.toFirestore(i):i,n}(e.converter,i);return function ky(e,i){return function(n,r){const s=new qs;return n.asyncQueue.enqueueAndForget(de(function*(){return function WIt(e,i,t){return Jk.apply(this,arguments)}(yield function EP(e){return v_(e).then(i=>i.syncEngine)}(n),r,s)})),s.promise}(rs(e),i)}(t,[b_(Gf(e.firestore),"addDoc",n._key,r,null!==e.converter,{}).toMutation(n._key,Zr.exists(!1))]).then(()=>n)}!function(i,t=!0){vg="10.12.3",RC(new Wx("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),p=new Er(new bDt(n.getProvider("auth-internal")),new CDt(n.getProvider("app-check-internal")),function(D,R){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new Fe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(D.options.projectId,R)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),p._setSettings(s),p},"PUBLIC").setMultipleInstances(!0)),Cf($7,"4.6.4",i),Cf($7,"4.6.4","esm2017")}();let bY=(()=>{class e{constructor(t){this.terminologyService=t,this.goals=[{name:"Bronze",score:100},{name:"Silver",score:200},{name:"Gold",score:300},{name:"Platinum",score:400},{name:"Diamond",score:500}],this.difficultyLevels=[{name:"Easy",rules:{maxHitPoints:5,hitpointsAwardedForGuessingfullTerm:1,freeHints:2,pointsPerGuessedLetter:1,goals:this.goals,difficultyBonus:0,endless:!1,maxRoundTime:60}},{name:"Medium",rules:{maxHitPoints:4,hitpointsAwardedForGuessingfullTerm:1,freeHints:1,pointsPerGuessedLetter:2,goals:this.goals,difficultyBonus:50,endless:!1,maxRoundTime:50}},{name:"Hard",rules:{maxHitPoints:3,hitpointsAwardedForGuessingfullTerm:1,freeHints:0,pointsPerGuessedLetter:3,goals:this.goals,difficultyBonus:100,endless:!1,maxRoundTime:40}},{name:"Endless",rules:{maxHitPoints:3,hitpointsAwardedForGuessingfullTerm:1,freeHints:0,pointsPerGuessedLetter:3,goals:this.goals,difficultyBonus:100,endless:!0,maxRoundTime:30}}],this.rules=this.difficultyLevels[0].rules,this.fsn="",this.scg="",this.focusConcepts=[],this.attributePairs=[],this.usedHints=new Set,this.randomLimit=4e3,this.guessResult=new Ae,this.termResult=new Ae,this.game=new Vr(this.initialize())}loadMenu(){this.clearRoundTimer(),this.game.next({...this.game.value,state:"menu"})}getDifficultyLevels(){return this.difficultyLevels}newRound(t){var n=this;return de(function*(){n.clearRoundTimer(),n.game.next({...n.game.value,state:"choosingTerm",score:t?0:n.game.value.score,hitPoints:t?n.rules.maxHitPoints:n.game.value.hitPoints,round:t?1:n.game.value.round+1,remainingTime:n.rules.maxRoundTime});const r=Math.floor(Math.random()*n.randomLimit)+1,s=yield da(n.terminologyService.expandValueSet("^ 816080008 |International Patient Summary| {{ C definitionStatus = defined }}","",r,1));n.randomLimit=s.expansion.total-1;const o=yield da(n.terminologyService.lookupConcept(s.expansion.contains[0].code));let p=n.extractFSN(o);n.fsn=p||"";let C=n.extractScg(o);n.scg=C||"";let D=n.extractFocusConcepts(C||"");n.focusConcepts=D||[];let R=n.extractAttributePairs(C||"");n.attributePairs=R||[],p?n.initializeRound(p,t):n.initializeRound("No term found"),n.usedHints.clear()})()}extractFSN(t){let n=this.extractTerm(t,"900000000000003001",this.terminologyService.getLang());return n||(n=this.extractTerm(t,"900000000000013009",this.terminologyService.getLang())),n||(n=this.extractTerm(t,"900000000000003001","en")),n}extractTerm(t,n,r){let s="";return t.parameter.forEach(o=>{if("designation"===o.name){let p=o.part.some(D=>"use"===D.name&&D.valueCoding.code===n),C=o.part.some(D=>"language"===D.name&&D.valueCode===r);p&&C&&(s=o.part.find(D=>"value"===D.name)?.valueString)}}),s}extractScg(t){let n;return t.parameter.forEach(r=>{"property"===r.name&&r.part.some(s=>"code"===s.name&&"normalForm"===s.valueString)&&(n=r.part.find(s=>"valueString"===s.name)?.valueString)}),n}extractFocusConcepts(t){const[n]=t.split(":").map(p=>p.trim()),s=n.match(/\d+\|.*?\|/g);return s?s.map(p=>this.transformSnomedConcept(p.trim())||{code:"",display:""}).filter(p=>""!==p.code):[]}extractAttributePairs(t){const n=t.split(":").slice(1).join(":").trim(),r=/(\d+\|.*?\|)\s*=\s*(\d+\|.*?\|)/g;let s;const o=[];for(;null!==(s=r.exec(n));){const p=this.transformSnomedConcept(s[1].trim()),C=this.transformSnomedConcept(s[2].trim());p&&C&&o.push({type:p,target:C})}return o}transformSnomedConcept(t){const r=t.match(/^(\d+)\|(.+?)\|$/);return r?{code:r[1],display:r[2]}:null}initialize(){return{term:"",displayTerm:[],hitPoints:this.rules.maxHitPoints,hintsAvailable:!0,hints:[],state:"menu",score:0,round:0,rules:this.rules,difficultyLevel:"",startTimestamp:0,endTimestamp:0,difficultyBonus:0,livesBonus:0,timeBonus:0,maxRoundTime:0,remainingTime:0}}startGame(t){this.clearRoundTimer(),this.rules=this.difficultyLevels.find(n=>n.name.toLowerCase()===t.toLowerCase())?.rules,this.game.next({term:"",displayTerm:[],hitPoints:this.rules.maxHitPoints,hintsAvailable:!0,hints:[],state:"playing",score:0,round:0,rules:this.rules,difficultyLevel:t,startTimestamp:Date.now(),endTimestamp:0,difficultyBonus:0,livesBonus:0,timeBonus:0,maxRoundTime:this.rules.maxRoundTime,remainingTime:this.rules.maxRoundTime}),this.newRound(!0)}initializeRound(t,n){const r=t.match(/\(([^)]+)\)$/),s=r?r[0]:"",o=s?t.lastIndexOf(s):t.length,p=t.split("").map((C,D)=>D>=o?C:/[a-zA-Z0-9\xe1-\xfa\xf1]/.test(C)?"_":C);this.game.next({...this.game.value,term:t,displayTerm:p,hitPoints:n?this.rules.maxHitPoints:this.game.value.hitPoints,hints:[],state:"playing",score:n?0:this.game.value.score,remainingTime:this.rules.maxRoundTime}),this.startRoundTimer();for(let C=0;C<this.rules.freeHints;C++)this.revealHint(!0)}removeAccents(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}guessLetter(t){let n={...this.game.value},r=!1;const s=n.term.lastIndexOf("("),o=-1!==s?s:n.term.length;if(n.term.split("").forEach((p,C)=>{C<o&&"_"===n.displayTerm[C]&&this.removeAccents(p.toLowerCase())===this.removeAccents(t.toLowerCase())&&(n.displayTerm[C]=p,r=!0,n.score+=this.rules.pointsPerGuessedLetter)}),r){if(this.guessResult.emit({letter:t,result:!0}),-1===n.displayTerm.slice(0,o).indexOf("_")&&"playing"===n.state)if(this.termResult.emit(n.term),this.clearRoundTimer(),n.score>this.goals[this.goals.length-1].score&&!1===this.rules.endless){n.state="won",n.endTimestamp=Date.now(),n.difficultyBonus=this.rules.difficultyBonus,n.livesBonus=10*n.hitPoints;const C=Math.round((n.endTimestamp-n.startTimestamp)/1e3);n.timeBonus=Math.max(0,180-C),n.score+=n.difficultyBonus+n.livesBonus+n.timeBonus}else n.hitPoints=n.hitPoints+this.rules.hitpointsAwardedForGuessingfullTerm,n.hitPoints>this.rules.maxHitPoints&&(n.hitPoints=this.rules.maxHitPoints),setTimeout(()=>{this.newRound()},1500)}else this.guessResult.emit({letter:t,result:!1}),n.hitPoints-=1,n.hitPoints<=0&&(n.hitPoints=0,n.state="gameOver",n.endTimestamp=Date.now(),n.difficultyBonus=this.rules.difficultyBonus,n.score+=n.difficultyBonus,this.clearRoundTimer());this.game.next(n)}revealHint(t){let n={...this.game.value},r="";if(0===this.focusConcepts.length&&0===this.attributePairs.length)return n.hints.push("No more hints available."),void this.game.next(n);let s=this.focusConcepts.length>0,o=this.attributePairs.length>0;if(s&&o&&(s=Math.random()<.5),s){let p=Math.floor(Math.random()*this.focusConcepts.length);r=`One of the parents of this concept is: <i>${this.focusConcepts[p].display}</i>`,this.focusConcepts.splice(p,1)}else if(o){let p=Math.floor(Math.random()*this.attributePairs.length),C=this.attributePairs[p];r=`This concept has a <i>${C.type.display}</i> of <i>${C.target.display}</i>`,this.attributePairs.splice(p,1)}this.usedHints.add(r),n.hints.push(r),t||(n.hitPoints-=1),n.hintsAvailable=this.focusConcepts.length>0||this.attributePairs.length>0,this.game.next(n),n.hitPoints<=0&&(n.hitPoints=0,n.state="gameOver",n.endTimestamp=Date.now(),this.clearRoundTimer(),this.game.next(n))}getGameState(){return this.game.asObservable()}startRoundTimer(){this.roundTimer=setInterval(()=>{const t=this.game.value,n=t.remainingTime-1,r={...t,remainingTime:n};n<=0?(r.remainingTime=0,r.state="gameOver",r.endTimestamp=Date.now(),this.clearRoundTimer(),this.game.next(r)):this.game.next(r)},1e3)}clearRoundTimer(){this.roundTimer&&(clearInterval(this.roundTimer),this.roundTimer=null)}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Zs))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tRt=(()=>{class e{constructor(){this.loadingProgress=new Vr(0)}preloadImages(t){const n=t.map((r,s)=>this.preloadImage(r,t.length,s));return Promise.all(n).then(()=>{this.loadingProgress.next(100)})}preloadImage(t,n,r){return new Promise((s,o)=>{const p=new Image;p.src=t,p.onload=()=>{this.loadingProgress.next((r+1)/n*100),s()},p.onerror=o})}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wY=(()=>{class e{constructor(){this.db=AMt(),this.scoreLimit=20}addScore(t,n){var r=this;return de(function*(){try{yield zMt(Jj(r.db,t),n)}catch(s){console.error("Error adding document: ",s)}})()}getScores(t){var n=this;return de(function*(){const s=function FMt(e,i,...t){let n=[];i instanceof NP&&n.push(i),n=n.concat(t),function(s){const o=s.filter(C=>C instanceof qg).length,p=s.filter(C=>C instanceof Ry).length;if(o>1||o>0&&p>0)throw new Fe(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)e=r._apply(e);return e}(Jj(n.db,t),function OMt(e,i="asc"){const t=i,n=C_("orderBy",e);return BP._create(n,t)}("score","desc"),function LMt(e){return function Kj(e,i){if(i<=0)throw new Fe(he.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${i}.`)}("limit",e),__._create("limit",e,"F")}(n.scoreLimit));return(yield function UMt(e){e=Mn(e,Aa);const i=Mn(e.firestore,Er),t=rs(i),n=new yh(i);return function dY(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),Xj(t,e._query).then(r=>new ev(i,n,e,r))}(s)).docs.map(p=>({id:p.id,...p.data()}))})()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eRt(e,i){if(1&e){const t=ge();q(0,"button",4),Vt("click",function(){const r=Ut(t).$implicit;return zt(St(2).guessLetter(r))}),ut(1),et()}if(2&e){const t=i.$implicit,n=St(2);yi("guessed-correct","correct"===n.guessedLetters[t])("guessed-wrong","wrong"===n.guessedLetters[t]),xt("disabled",n.isLetterGuessed(t)),ot(),ri(" ",t," ")}}function iRt(e,i){if(1&e&&(q(0,"div",2),Ht(1,eRt,2,6,"button",3),et()),2&e){const t=i.$implicit;ot(),xt("ngForOf",t)}}let nRt=(()=>{class e{constructor(){this.keyboardLayout=[["1","2","3","4","5","6","7","8","9","0"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],this.guessedLetters={},this.letterGuessed=new Ae}addGuessedLetter(t,n){this.guessedLetters[t]=n?"correct":"wrong"}guessLetter(t){this.letterGuessed.emit(t)}isLetterGuessed(t){return t in this.guessedLetters}markLetterAsGuessed(t,n){this.guessedLetters[t]=n}reset(){this.guessedLetters={}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=He({type:e,selectors:[["app-keyboard"]],outputs:{letterGuessed:"letterGuessed"},decls:2,vars:1,consts:[[1,"keyboard-container"],["class","keyboard-row",4,"ngFor","ngForOf"],[1,"keyboard-row"],["mat-button","",3,"guessed-correct","guessed-wrong","disabled","click",4,"ngFor","ngForOf"],["mat-button","",3,"click","disabled"]],template:function(n,r){1&n&&(q(0,"div",0),Ht(1,iRt,2,1,"div",1),et()),2&n&&(ot(),xt("ngForOf",r.keyboardLayout))},dependencies:[xs,ua],styles:[".keyboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.keyboard-row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:5px;flex-wrap:wrap}button[_ngcontent-%COMP%]{margin:2px;padding:8px 6px;border-radius:8px;border:1px solid #000;transition:background-color .3s ease;min-width:40px;flex:1}button.guessed-correct[_ngcontent-%COMP%]{background-color:green;color:#fff}button.guessed-wrong[_ngcontent-%COMP%]{background-color:red;color:#fff}@media (max-width: 768px){.keyboard-row[_ngcontent-%COMP%]{margin:1px 0}.keyboard-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1px;padding:8px;min-width:0;width:9%;flex:1 1 auto;font-size:14px}}"]})}return e})(),rRt=(()=>{class e{constructor(){this.tooltipDismissedKey="iosSafariTooltipDismissed"}isIosSafari(){return/iP(ad|od|hone)/i.test(window.navigator.userAgent)&&/Safari/i.test(window.navigator.userAgent)&&!/CriOS/i.test(window.navigator.userAgent)&&!/FxiOS/i.test(window.navigator.userAgent)}tooltipDismissed(){return"true"===localStorage.getItem(this.tooltipDismissedKey)}dismissTooltip(){localStorage.setItem(this.tooltipDismissedKey,"true")}isRunningStandalone(){return"standalone"in window.navigator&&window.navigator.standalone}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sRt(e,i){if(1&e){const t=ge();q(0,"div",1)(1,"div",2),ut(2," Install this webapp on your iPhone: tap "),q(3,"mat-icon"),ut(4,"ios_share"),et(),ut(5," and then 'Add to Home Screen' "),et(),q(6,"button",3),Vt("click",function(){return Ut(t),zt(St().dismiss())}),q(7,"mat-icon"),ut(8,"close"),et()()()}}let aRt=(()=>{class e{constructor(t){this.platformDetectionService=t,this.isIosSafari=!1,this.tooltipDismissed=!1}ngOnInit(){this.isIosSafari=this.platformDetectionService.isIosSafari(),this.tooltipDismissed=this.platformDetectionService.tooltipDismissed()||this.platformDetectionService.isRunningStandalone()}dismiss(){this.tooltipDismissed=!0,this.platformDetectionService.dismissTooltip()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(rRt))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-add-to-home"]],decls:1,vars:1,consts:[["class","custom-tooltip",4,"ngIf"],[1,"custom-tooltip"],[1,"tooltip-text"],[1,"tooltip-dismiss-button",3,"click"]],template:function(n,r){1&n&&Ht(0,sRt,9,0,"div",0),2&n&&xt("ngIf",r.isIosSafari&&!r.tooltipDismissed)},dependencies:[Qs,ha],styles:['.custom-tooltip[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background:#fff;border-radius:8px;padding:16px;box-shadow:0 4px 8px #0003;display:flex;flex-direction:row;align-items:center;max-width:320px;box-sizing:border-box;z-index:1000}.custom-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-20px;left:50%;transform:translate(-50%);width:0;height:0;border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid white}.tooltip-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-radius:50%;padding:10px;margin-right:16px}.tooltip-text[_ngcontent-%COMP%]{color:#333;font-size:16px}.tooltip-dismiss-button[_ngcontent-%COMP%]{margin-left:auto;background:transparent;border:none;cursor:pointer}.tooltip-dismiss-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;vertical-align:bottom}']})}return e})(),TY=(()=>{class e{transform(t,...n){if(!t)return t;const r=Math.floor(t/1e3%60),s=Math.floor(t/6e4%60),o=Math.floor(t/36e5%24),p=0===o&&s<10?s.toString():s<10?"0"+s:s;let R="";return o>0&&(R+=`${o<10?"0"+o:o}h `),(s>0||o>0)&&(R+=`${p}m `),R+=`${0===o&&0===s&&r<10?r.toString():r<10?"0"+r:r}s`,R}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=Pa({name:"elapsedTime",type:e,pure:!0})}return e})();const oRt=["keyboard"],CY=()=>[],lRt=(e,i)=>[e,i],zP=e=>[e],_Y=e=>[e,"shadow-local"],cRt=e=>[e,"trophy-large","shadow-local"];function dRt(e,i){if(1&e&&(q(0,"div",8)(1,"div",9)(2,"div",10),ut(3," Loading... "),et(),be(4,"mat-progress-bar",11),et()()),2&e){const t=St(2);ot(4),xt("value",t.loadingAssetsProgress)}}function uRt(e,i){1&e&&(q(0,"span")(1,"mat-icon"),ut(2,"favorite"),et()())}function hRt(e,i){1&e&&(q(0,"span")(1,"mat-icon"),ut(2,"favorite_border"),et()())}function fRt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=i.$implicit;ot(),ze(t)}}function mRt(e,i){if(1&e&&(q(0,"span",33),Ht(1,fRt,2,1,"span",18),et()),2&e){const t=i.$implicit;ot(),xt("ngForOf",t.split(""))}}function pRt(e,i){if(1&e&&(q(0,"div",31),Ht(1,mRt,2,1,"span",32),et()),2&e){const t=St(2).ngIf;ot(),xt("ngForOf",t.displayTerm.join("").split(" "))}}function gRt(e,i){1&e&&(q(0,"div",34)(1,"div",35),ut(2," Choosing a random SNOMED CT concept using the FHIR API "),et(),be(3,"mat-progress-bar",36),et())}function vRt(e,i){if(1&e){const t=ge();q(0,"div",37),Vt("click",function(){return Ut(t),zt(St(3).revealHint())}),ut(1," Reveal Hint "),et()}}function xRt(e,i){if(1&e){const t=ge();q(0,"div",37),Vt("click",function(){return Ut(t),zt(St(3).loadMenu())}),ut(1," Abandon game "),et()}}function yRt(e,i){1&e&&be(0,"li",41),2&e&&xt("innerHTML",i.$implicit,Hh)}function bRt(e,i){if(1&e&&(q(0,"div",38)(1,"div",39)(2,"h2"),ut(3,"Hints:"),et(),q(4,"ul"),Ht(5,yRt,1,1,"li",40),et()()()),2&e){const t=St(2).ngIf;ot(5),xt("ngForOf",t.hints)}}function wRt(e,i){if(1&e&&(q(0,"mat-icon",47),ut(1,"grade"),et()),2&e){const t=St().$implicit;vs("left",St(3).calculateGoalPosition(t.score-5),"%"),xt("ngClass",Kl(3,zP,t.name.toLowerCase()))}}function TRt(e,i){if(1&e&&(q(0,"mat-icon",48),ut(1,"grade"),et()),2&e){const t=St().$implicit;vs("left",St(3).calculateGoalPosition(t.score-1),"%"),xt("ngClass",Kl(3,zP,t.name.toLowerCase()))}}function CRt(e,i){if(1&e&&(q(0,"div",49),ut(1),et()),2&e){const t=St().$implicit;vs("left",St(3).calculateGoalPosition(t.score),"%"),xt("ngClass",Kl(4,zP,t.name.toLowerCase())),ot(),ri("",t.name," trophy!")}}function _Rt(e,i){if(1&e&&(nn(0),be(1,"div",42),Ht(2,wRt,2,5,"mat-icon",43),q(3,"mat-icon",44),ut(4,"emoji_events"),et(),Ht(5,TRt,2,5,"mat-icon",45)(6,CRt,2,6,"div",46),rn()),2&e){const t=i.$implicit,n=St(2).ngIf,r=St();ot(),gl(t.name.toLowerCase()),vs("left",r.calculateGoalPosition(t.score),"%"),ot(),xt("ngIf",n.score>=t.score),ot(),vs("left",r.calculateGoalPosition(t.score-3),"%"),xt("ngClass",OD(10,lRt,t.name.toLowerCase(),n.score>=t.score?"trophy-large":"")),ot(2),xt("ngIf",n.score>=t.score),ot(),xt("ngIf",n.score>=t.score)}}function ERt(e,i){if(1&e){const t=ge();q(0,"div")(1,"div",12)(2,"div",13),be(3,"img",14),q(4,"div",15),ut(5),et()()(),q(6,"div",16)(7,"span",17),ut(8),et(),Ht(9,uRt,3,0,"span",18)(10,hRt,3,0,"span",18),q(11,"span",17),ut(12),et()(),Ht(13,pRt,2,1,"div",19)(14,gRt,4,0,"div",20),q(15,"p",21),ut(16,"Click the keys to guess the letters of the term!"),et(),q(17,"div")(18,"app-keyboard",22,0),Vt("letterGuessed",function(r){return Ut(t),zt(St(2).guessLetter(r))}),et()(),q(20,"div",23),Ht(21,vRt,2,0,"div",24)(22,xRt,2,0,"div",25),et(),Ht(23,bRt,6,1,"div",26),q(24,"div",27),ut(25," * Hints are generated from the definition of the SNOMED CT concept, retrieved from the FHIR API as an SCG grammar expression "),et(),q(26,"div",28)(27,"h3"),ut(28,"Score Progression"),et(),q(29,"div",29),be(30,"mat-progress-bar",30),Ht(31,_Rt,7,13,"ng-container",18),et()()()}if(2&e){const t=St().ngIf,n=St();ot(3),xt("@popIn",void 0),ot(2),vd(" ",t.difficultyLevel," - ",n.getLanguageName(n.selectedLanguage)," "),ot(3),vd(" Round: ",t.round," \xa0\xa0\xa0\xa0 Score: ",t.score," \xa0\xa0\xa0\xa0 Life: "),ot(),xt("ngForOf",ko(16,CY).constructor(t.hitPoints)),ot(),xt("ngForOf",ko(17,CY).constructor(t.rules.maxHitPoints-t.hitPoints)),ot(2),ri(" \xa0\xa0\xa0\xa0 Time to guess: ",t.remainingTime,""),ot(),xt("ngIf","playing"==t.state),ot(),xt("ngIf","choosingTerm"===t.state),ot(3),xt("@shake",n.shakeState),ot(4),xt("ngIf","playing"==t.state&&t.hintsAvailable&&t.hitPoints>1),ot(),xt("ngIf","playing"==t.state),ot(),xt("ngIf",t.hints.length>0&&"playing"==t.state),ot(7),xt("value",n.calculateProgress(t.score)),ot(),xt("ngForOf",n.goals)}}function SRt(e,i){if(1&e){const t=ge();q(0,"div",50),be(1,"img",51)(2,"img",52),q(3,"p",53)(4,"b"),ut(5,"Welcome to SnoGuess!"),et()(),q(6,"p",53),ut(7," A fun way to learn about SNOMED CT concepts and their definitions. "),et(),q(8,"div",54),Vt("click",function(){return Ut(t),zt(St(2).chooseDifficultyLevel())}),ut(9," New game "),et(),q(10,"div",54),Vt("click",function(){return Ut(t),zt(St(2).showInstructionsPanel())}),ut(11," Instructions "),et(),q(12,"div",55),Vt("click",function(){return Ut(t),zt(St(2).openScoreboard())}),ut(13," High Scores "),et(),q(14,"p",56),ut(15," Playing with terms in the IPS Reference Set in "),q(16,"b"),ut(17),et(),ut(18,", change language: "),et(),q(19,"div",57)(20,"button",58),Vt("click",function(){return Ut(t),zt(St(2).setLanguage("da"))}),ut(21,"DA"),et(),q(22,"button",58),Vt("click",function(){return Ut(t),zt(St(2).setLanguage("de"))}),ut(23,"DE"),et(),q(24,"button",58),Vt("click",function(){return Ut(t),zt(St(2).setLanguage("en"))}),ut(25,"EN"),et(),q(26,"button",58),Vt("click",function(){return Ut(t),zt(St(2).setLanguage("es"))}),ut(27,"ES"),et(),q(28,"button",58),Vt("click",function(){return Ut(t),zt(St(2).setLanguage("et"))}),ut(29,"ET"),et(),q(30,"button",58),Vt("click",function(){return Ut(t),zt(St(2).setLanguage("fi"))}),ut(31,"FI"),et(),q(32,"button",58),Vt("click",function(){return Ut(t),zt(St(2).setLanguage("fr"))}),ut(33,"FR"),et(),q(34,"button",58),Vt("click",function(){return Ut(t),zt(St(2).setLanguage("nl"))}),ut(35,"NL"),et(),q(36,"button",58),Vt("click",function(){return Ut(t),zt(St(2).setLanguage("no"))}),ut(37,"NO"),et(),q(38,"button",58),Vt("click",function(){return Ut(t),zt(St(2).setLanguage("sv"))}),ut(39,"SV"),et()()()}if(2&e){const t=St(2);ot(2),xt("@popIn",void 0),ot(6),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(5),ze(t.getLanguageName(t.selectedLanguage))}}function ARt(e,i){1&e&&(q(0,"span"),ut(1,", Endless"),et())}function DRt(e,i){if(1&e){const t=ge();q(0,"div",62)(1,"div",63),Vt("click",function(){const r=Ut(t).$implicit;return zt(St(3).startGame(r.name))}),ut(2),et(),q(3,"p",64),ut(4),q(5,"mat-icon",65),ut(6,"favorite"),et(),ut(7),q(8,"mat-icon",66),ut(9,"contact_support"),et(),ut(10),q(11,"mat-icon",67),ut(12,"timer"),et(),Ht(13,ARt,2,0,"span",5),et()()}if(2&e){const t=i.$implicit;ot(),xt("@scrollUp",void 0),ot(),ri(" ",t.name," "),ot(),xt("@fadeInDelayed",void 0),ot(),ri(" Life: ",t.rules.maxHitPoints," "),ot(3),ri(", Free hints: ",t.rules.freeHints," "),ot(3),vd(", Points per letter: ",t.rules.pointsPerGuessedLetter,", Time to guess: ",t.rules.maxRoundTime," "),ot(3),xt("ngIf",t.rules.endless)}}function IRt(e,i){if(1&e){const t=ge();q(0,"div",50),be(1,"img",51)(2,"img",59),q(3,"p",53)(4,"b"),ut(5,"Choose the game difficulty"),et()(),Ht(6,DRt,14,8,"div",60),q(7,"div",61),Vt("click",function(){return Ut(t),zt(St(2).backToMenu())}),ut(8," Back "),et()()}if(2&e){const t=St(2);ot(2),xt("@popIn",void 0),ot(4),xt("ngForOf",t.difficultyLevels),ot(),xt("@scrollUp",void 0)}}function MRt(e,i){if(1&e){const t=ge();q(0,"div",50),be(1,"img",51)(2,"img",68),q(3,"ul",69)(4,"li",70)(5,"mat-icon"),ut(6,"check"),et(),ut(7,"Click the keys on the screen to guess the letters of the term "),q(8,"mat-icon",71),ut(9,"keyboard"),et()(),q(10,"li",70)(11,"mat-icon"),ut(12,"check"),et(),ut(13,"You have three to five lives, depending on your difficulty level "),q(14,"span",72)(15,"mat-icon"),ut(16,"favorite"),et(),q(17,"mat-icon"),ut(18,"favorite"),et(),q(19,"mat-icon"),ut(20,"favorite"),et()()(),q(21,"li",70)(22,"mat-icon"),ut(23,"check"),et(),ut(24,"There is also a maxmimum time to guess each term "),q(25,"mat-icon",73),ut(26,"timer"),et()(),q(27,"li",70)(28,"mat-icon"),ut(29,"check"),et(),ut(30,"You will loose one life with each wrong guess "),q(31,"mat-icon",72),ut(32,"favorite_border"),et()(),q(33,"li",70)(34,"mat-icon"),ut(35,"check"),et(),ut(36,"The game ends when you run out of lives or time"),q(37,"mat-icon",72),ut(38,"close"),et()(),q(39,"li",70)(40,"mat-icon"),ut(41,"check"),et(),ut(42,"You earn points for each correct guess "),q(43,"mat-icon",71),ut(44,"plus_one"),et()(),q(45,"li",70)(46,"mat-icon"),ut(47,"check"),et(),ut(48,"In Easy mode you get 2 hints for free, and in Medium mode you get one \u{1f4a1} "),et(),q(49,"li",70)(50,"mat-icon"),ut(51,"check"),et(),ut(52,"You can reveal more hints, but each hint it will cost one life "),q(53,"mat-icon",72),ut(54,"favorite_border"),et()(),q(55,"li",70)(56,"mat-icon"),ut(57,"check"),et(),ut(58,"If you guess the whole term you can recover one life"),q(59,"mat-icon",72),ut(60,"favorite"),et()(),q(61,"li",70)(62,"mat-icon"),ut(63,"check"),et(),ut(64,"Keep guessing terms to increase your score and earn trophies "),q(65,"mat-icon",74),ut(66,"emoji_events"),et()(),q(67,"li",70)(68,"mat-icon"),ut(69,"check"),et(),ut(70,"Endless mode will not finish when you reach the Diamond Trophy "),q(71,"mat-icon",75),ut(72,"emoji_events"),et()()(),q(73,"div",76),Vt("click",function(){return Ut(t),zt(St(2).hideInstructionsPanel())}),ut(74," Back "),et()()}2&e&&(ot(2),xt("@popIn",void 0),ot(71),xt("@scrollUp",void 0))}function RRt(e,i){1&e&&(q(0,"div",77),be(1,"img",78),et()),2&e&&(ot(),xt("@popIn",void 0))}function kRt(e,i){if(1&e&&(q(0,"div"),ut(1),et()),2&e){const t=St(2).ngIf,n=St();ot(),ri(" Trophy: ",n.getMaxTrophyObtained(t.score)," ")}}function PRt(e,i){if(1&e&&(q(0,"div")(1,"mat-icon",88),ut(2,"grade"),et(),ut(3," \xa0\xa0 "),q(4,"mat-icon",88),ut(5,"emoji_events"),et(),ut(6," \xa0 "),q(7,"mat-icon",88),ut(8,"grade"),et()()),2&e){const t=St(2).ngIf,n=St();ot(),xt("ngClass",Kl(3,_Y,n.getMaxTrophyObtained(t.score).toLocaleLowerCase())),ot(3),xt("ngClass",Kl(5,cRt,n.getMaxTrophyObtained(t.score).toLocaleLowerCase())),ot(3),xt("ngClass",Kl(7,_Y,n.getMaxTrophyObtained(t.score).toLocaleLowerCase()))}}function FRt(e,i){1&e&&(q(0,"p",89),ut(1,"Checking high scores..."),et())}function ORt(e,i){if(1&e){const t=ge();q(0,"div",90)(1,"p",91),ut(2," This is a High Score! Save a message to the public leaderboard! "),et(),q(3,"input",92),oa("ngModelChange",function(r){Ut(t);const s=St(3);return Ca(s.messageForLeaderboard,r)||(s.messageForLeaderboard=r),zt(r)}),et(),q(4,"div",93),Vt("click",function(){Ut(t);const r=St(2).ngIf;return zt(St().saveScore(r))}),ut(5," Save "),et(),q(6,"p",94),ut(7,"No personal information is recorded"),et()()}if(2&e){const t=St(3);ot(3),aa("ngModel",t.messageForLeaderboard)}}function LRt(e,i){if(1&e){const t=ge();q(0,"div",50),be(1,"img",51)(2,"img",79),q(3,"div",80)(4,"div"),ut(5," The term was: "),et(),q(6,"div",81),ut(7),et(),q(8,"div",82),ut(9),et(),q(10,"div",83),ut(11),Ua(12,"elapsedTime"),et(),Ht(13,kRt,2,1,"div",5),et(),Ht(14,PRt,9,9,"div",5)(15,FRt,2,0,"p",84)(16,ORt,8,1,"div",85),q(17,"div",86),Vt("click",function(){Ut(t);const r=St(2);return r.loadMenu(),zt(r.chooseDifficultyLevel())}),ut(18," New game "),et(),q(19,"div",86),Vt("click",function(){return Ut(t),zt(St(2).openScoreboard())}),ut(20," High Scores "),et(),q(21,"div",87),Vt("click",function(){return Ut(t),zt(St(2).loadMenu())}),ut(22," Main menu "),et()()}if(2&e){const t=St().ngIf,n=St();ot(2),xt("@popIn",void 0),ot(5),ri(" ",t.term,""),ot(2),vd("",t.round," ",1==t.round?"round":"rounds",""),ot(2),L0(" Final Score: ",t.score," points - Difficulty: ",t.difficultyLevel," - Total time: ",xd(12,14,t.endTimestamp-t.startTimestamp)," "),ot(2),xt("ngIf",n.getMaxTrophyObtained(t.score)),ot(),xt("ngIf",n.getMaxTrophyObtained(t.score)),ot(),xt("ngIf",n.highScoresLoading),ot(),xt("ngIf",n.highScore),ot(),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0)}}function NRt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=St(2).ngIf;ot(),ri("\u2192 Bonus: ",t.livesBonus,"")}}function BRt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=St(2).ngIf;ot(),ri("\u2192 Bonus: ",t.difficultyBonus,"")}}function VRt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=St(2).ngIf;ot(),ri("\u2192 Bonus: ",t.timeBonus,"")}}function URt(e,i){if(1&e){const t=ge();q(0,"div",90)(1,"p",91),ut(2," This is a High Score! Save a message to the public leaderboard! "),et(),q(3,"input",100),oa("ngModelChange",function(r){Ut(t);const s=St(3);return Ca(s.messageForLeaderboard,r)||(s.messageForLeaderboard=r),zt(r)}),et(),q(4,"div",101),Vt("click",function(){Ut(t);const r=St(2).ngIf;return zt(St().saveScore(r))}),ut(5," Save "),et(),q(6,"p",94),ut(7,"No personal information is recorded"),et()()}if(2&e){const t=St(3);ot(3),aa("ngModel",t.messageForLeaderboard)}}function zRt(e,i){if(1&e){const t=ge();q(0,"div",50),be(1,"img",51)(2,"img",95),q(3,"div",96)(4,"mat-icon",97),ut(5,"grade"),et(),q(6,"mat-icon",97),ut(7,"emoji_events"),et(),q(8,"mat-icon",97),ut(9,"grade"),et()(),q(10,"div",98),ut(11),Ht(12,NRt,2,1,"span",5),et(),q(13,"div",98),ut(14),Ht(15,BRt,2,1,"span",5),et(),q(16,"div",98),ut(17),Ua(18,"elapsedTime"),Ht(19,VRt,2,1,"span",5),et(),q(20,"div",99),ut(21),et(),Ht(22,URt,8,1,"div",85),q(23,"div",86),Vt("click",function(){Ut(t);const r=St(2);return r.loadMenu(),zt(r.chooseDifficultyLevel())}),ut(24," New game "),et(),q(25,"div",86),Vt("click",function(){return Ut(t),zt(St(2).openScoreboard())}),ut(26," High Scores "),et(),q(27,"div",87),Vt("click",function(){return Ut(t),zt(St(2).loadMenu())}),ut(28," Main menu "),et()()}if(2&e){const t=St().ngIf,n=St();ot(2),xt("@popIn",void 0),ot(9),ri("Lives left: ",t.hitPoints," "),ot(),xt("ngIf",t.livesBonus>0),ot(2),ri("Difficulty: ",t.difficultyLevel," "),ot(),xt("ngIf",t.difficultyBonus>0),ot(2),ri("Time: ",xd(18,12,t.endTimestamp-t.startTimestamp)," "),ot(2),xt("ngIf",t.timeBonus>0),ot(2),ri("Final score: ",t.score,""),ot(),xt("ngIf",n.highScore),ot(),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0)}}function GRt(e,i){if(1&e&&(q(0,"div",3),Ht(1,dRt,5,1,"div",4)(2,ERt,32,18,"div",5)(3,SRt,40,5,"div",6)(4,IRt,9,3,"div",6)(5,MRt,75,2,"div",6)(6,RRt,2,1,"div",7)(7,LRt,23,16,"div",6)(8,zRt,29,14,"div",6),et()),2&e){const t=i.ngIf,n=St();ot(),xt("ngIf",n.loadingAssets),ot(),xt("ngIf",("playing"==t.state||"choosingTerm"==t.state)&&!n.loadingAssets),ot(),xt("ngIf","menu"===t.state&&!n.chooseDifficulty&&!n.showInstructions&&!n.loadingAssets),ot(),xt("ngIf","menu"===t.state&&n.chooseDifficulty&&!n.showInstructions&&!n.loadingAssets),ot(),xt("ngIf",n.showInstructions),ot(),xt("ngIf",n.termGuessed),ot(),xt("ngIf","gameOver"===t.state),ot(),xt("ngIf","won"==t.state)}}let HRt=(()=>{class e{constructor(t,n,r,s,o){this.snoguessMainService=t,this.preloadService=n,this.terminologyService=r,this.firebaseService=s,this.router=o,this.shakeState="normal",this.termGuessed="",this.goals=[],this.loadingAssetsProgress=0,this.loadingAssets=!0,this.highScoresLoading=!1,this.showInstructions=!1,this.chooseDifficulty=!1,this.currentYear=new Date,this.difficultyLevels=[],this.elapsedTime=0,this.gameInProgress=!1,this.messageForLeaderboard="",this.highScore=!1}ngOnInit(){this.game=this.snoguessMainService.getGameState(),this.difficultyLevels=this.snoguessMainService.getDifficultyLevels(),this.game.subscribe(n=>{"playing"===n.state&&(this.goals=n.rules.goals),("gameOver"===n.state||"won"===n.state)&&(this.stopTimer(),this.highScoresLoading=!0,this.firebaseService.getScores(n.difficultyLevel).then(r=>{this.highScoresLoading=!1,(!r||r.length<20||n.score>r[r.length-1].score)&&(this.highScore=!0)}))}),this.snoguessMainService.guessResult.subscribe(n=>{!1===n.result?(this.keyboard?.addGuessedLetter(n.letter,!1),this.shakeState="shake",setTimeout(()=>this.shakeState="normal",200)):this.keyboard?.addGuessedLetter(n.letter,!0)}),this.snoguessMainService.termResult.subscribe(n=>{n&&(this.keyboard?.reset(),this.termGuessed=n,setTimeout(()=>{this.termGuessed=""},2e3))}),this.preloadService.preloadImages(["assets/img/SI_CT_w_tagline.png","assets/img/snoguess-logo.png","assets/img/congratulations.png","assets/img/correct.png","assets/img/game-over.png","assets/img/instructions.png","assets/img/difficulty.png","assets/img/scoreboard.png"]).then(()=>{setTimeout(()=>{this.loadingAssets=!1,this.loadMenu()},500)}),this.preloadService.loadingProgress.subscribe(n=>{this.loadingAssetsProgress=n}),this.terminologyService.fhirUrlParam$.subscribe(n=>{n&&this.terminologyService.getCodeSystem(n).subscribe(r=>{this.selectedEdition=r?.entry[0]?.resource?.title})}),this.terminologyService.lang$.subscribe(n=>{this.selectedLanguage=n})}loadMenu(){this.snoguessMainService.loadMenu()}backToMenu(){this.chooseDifficulty=!1}showInstructionsPanel(){this.showInstructions=!0}hideInstructionsPanel(){this.showInstructions=!1}chooseDifficultyLevel(){this.chooseDifficulty=!0}startGame(t){this.chooseDifficulty=!1,this.keyboard&&this.keyboard.reset(),this.stopTimer(),this.snoguessMainService.startGame(t),this.startTimer(),this.highScore=!1}guessLetter(t){var n=this;return de(function*(){"playing"===(yield function NSt(e,i){const t="object"==typeof i;return new Promise((n,r)=>{const s=new Eo({next:o=>{n(o),s.unsubscribe()},error:r,complete:()=>{t?n(i.defaultValue):r(new Sp)}});e.subscribe(s)})}(n.game))?.state&&n.snoguessMainService.guessLetter(t)})()}revealHint(){this.snoguessMainService.revealHint()}calculateProgress(t){return Math.min(t/this.goals[this.goals.length-1].score*100,100)}calculateGoalPosition(t){return t/this.goals[this.goals.length-1].score*100}findCurrentGoal(t){if(!t||t<this.goals[0].score)return{...this.goals[0],previousGoalScore:0};for(let n=0;n<this.goals.length;n++)if(n===this.goals.length-1||t<this.goals[n+1].score)return{...this.goals[n],previousGoalScore:0===n?0:this.goals[n-1].score};return{...this.goals[this.goals.length-1],previousGoalScore:this.goals[this.goals.length-2].score}}getMaxTrophyObtained(t){let n="";return this.goals.forEach(r=>{t>=r.score&&(n=r.name)}),n}startTimer(){this.elapsedTime=0,this.gameInProgress=!0;const t=Ax(0,1e3).pipe(Di(n=>this.elapsedTime=n),$U(()=>this.gameInProgress));this.gameTimerSubscription=t.subscribe()}stopTimer(){this.gameInProgress=!1,this.gameTimerSubscription&&this.gameTimerSubscription.unsubscribe()}openScoreboard(t){t||(t=this.difficultyLevels[0].name),this.router.navigate(["/snoguess/scoreboard"],{queryParams:{level:t}})}saveScore(t){let n={score:t.score,numberOfRounds:t.round,difficulty:t.difficultyLevel,elapsed:t.endTimestamp-t.startTimestamp,date:Qr.now(),message:this.messageForLeaderboard};this.firebaseService.addScore(t.difficultyLevel,n).then(()=>{this.messageForLeaderboard="",this.openScoreboard(t.difficultyLevel)}).catch(r=>{this.messageForLeaderboard="",console.error("Error saving score: ",r),this.loadMenu()})}getLanguageName(t){return{en:"English",es:"Spanish",fr:"French",de:"German",da:"Danish",nl:"Dutch",et:"Estonian",fi:"Finnish",no:"Norwegian",sv:"Swedish"}[t]||t}setLanguage(t){this.terminologyService.setLang(t),this.terminologyService.setFhirUrlParam({en:{lang:"en",fhirUrl:"http://snomed.info/sct/900000000000207008"},es:{lang:"es",fhirUrl:"http://snomed.info/sct/449081005"},fr:{lang:"fr",fhirUrl:"http://snomed.info/sct/11000241103"},de:{lang:"de",fhirUrl:"http://snomed.info/sct/11000274103"},da:{lang:"da",fhirUrl:"http://snomed.info/sct/554471000005108"},nl:{lang:"nl",fhirUrl:"http://snomed.info/sct/11000146104"},et:{lang:"et",fhirUrl:"http://snomed.info/sct/11000181102"},fi:{lang:"fi",fhirUrl:"http://snomed.info/sct/11000229106"},no:{lang:"no",fhirUrl:"http://snomed.info/sct/51000202101"},sv:{lang:"sv",fhirUrl:"http://snomed.info/sct/45991000052106"}}[t].fhirUrl)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(bY),ht(tRt),ht(Zs),ht(wY),ht(vo))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-snoguess-main"]],viewQuery:function(n,r){if(1&n&&Ai(oRt,5),2&n){let s;Oe(s=Le())&&(r.keyboard=s.first)}},decls:6,vars:7,consts:[["keyboard",""],["class","snoguess-game",4,"ngIf"],[1,"text-center","mt-8","mb-4"],[1,"snoguess-game"],["class","assets-loading-container",4,"ngIf"],[4,"ngIf"],["class","flex flex-col items-center gap-4",4,"ngIf"],["class","overlay overlay-transparent",4,"ngIf"],[1,"assets-loading-container"],[1,"mt-48","mb-48"],[1,"progress-bar-message","text-center"],["mode","determinate",1,"game-progress-bar",3,"value"],[1,"flex","justify-center","mt-8","mb-8"],[1,"relative","w-1/4"],["src","assets/img/snoguess-logo.png","alt","Game Logo"],[1,"diff-label","absolute","-bottom-3","right-5","italic","text-gray-500"],[1,"hit-points"],[1,"score"],[4,"ngFor","ngForOf"],["class","term-display flex flex-row flex-wrap justify-center gap-8",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"guess-message"],[3,"letterGuessed"],[1,"game-buttons","mt-4"],["class","bg-gradient-to-b from-blue-500 to-gray-500 hover:from-black hover:to-blue-500 border-solid border-2 border-black \n      rounded-3xl pt-1 pb-1 pl-6 pr-6 w-fit text-center cursor-pointer font-bold text-white",3,"click",4,"ngIf"],["class","bg-gradient-to-b from-blue-500 to-gray-500 hover:from-black hover:to-blue-500 border-solid border-2 border-black \n        rounded-3xl pt-1 pb-1 pl-6 pr-6 w-fit text-center cursor-pointer font-bold text-white",3,"click",4,"ngIf"],["class","hints-container",4,"ngIf"],[1,"note"],[1,"score-progression-panel"],[1,"progress-bar-container"],["mode","determinate",3,"value"],[1,"term-display","flex","flex-row","flex-wrap","justify-center","gap-8"],["class","whitespace-nowrap",4,"ngFor","ngForOf"],[1,"whitespace-nowrap"],[1,"loading-container"],[1,"progress-bar-message"],["mode","indeterminate"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pt-1","pb-1","pl-6","pr-6","w-fit","text-center","cursor-pointer","font-bold","text-white",3,"click"],[1,"hints-container"],[1,"hints-callout","text-center"],["class","hint-item",3,"innerHTML",4,"ngFor","ngForOf"],[1,"hint-item",3,"innerHTML"],[1,"goal-indicator"],["class","star-icon left-star",3,"ngClass","left",4,"ngIf"],[1,"trophy-icon",3,"ngClass"],["class","star-icon right-star",3,"ngClass","left",4,"ngIf"],["class","goal-name",3,"left","ngClass",4,"ngIf"],[1,"star-icon","left-star",3,"ngClass"],[1,"star-icon","right-star",3,"ngClass"],[1,"goal-name",3,"ngClass"],[1,"flex","flex-col","items-center","gap-4"],["src","assets/img/SI_CT_w_tagline.png","alt","SNOMED CT Logo",1,"w-1/6"],["src","assets/img/snoguess-logo.png","alt","Game Logo",1,"w-1/3","mt-8"],[1,"text-center","font-light","text-lg"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","text-3xl",3,"click"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-12","text-3xl",3,"click"],[1,"text-center","font-light","italic","text-lg"],[1,"text-center","font-light","italic","text-sm"],["mat-button","",3,"click"],["src","assets/img/difficulty.png","alt","Game Logo",1,"w-1/4","mt-8"],["class","level-container w-full flex flex-col justify-center items-center",4,"ngFor","ngForOf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-12","pr-12","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-2","mb-8","text-3xl",3,"click"],[1,"level-container","w-full","flex","flex-col","justify-center","items-center"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-2","text-3xl",3,"click"],[1,"level-details","text-center","mt-3","flex","flex-row","items-center"],[1,"text-red-500","text-sm"],[1,"text-yellow-500","text-sm"],[1,"text-green-500","text-sm"],["src","assets/img/instructions.png","alt","Game Logo",1,"w-1/4","mt-8","mb-12"],[1,"text-left","instructions-text"],[1,"flex","flex-row","items-center","gap-2"],[1,"text-blue-900"],[1,"text-red-500"],[1,"text-green-500"],[1,"text-yellow-500"],[1,"text-blue-500"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-12","pr-12","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-3xl",3,"click"],[1,"overlay","overlay-transparent"],["src","assets/img/correct.png","alt","Correct",1,"w-1/5","mt-8"],["src","assets/img/game-over.png","alt","Game Logo",1,"w-1/4","mt-8"],[1,"text-xl","text-pretty","text-center"],[1,"font-bold"],[1,"mt-12"],[1,"mt-4"],["class","text-center italic text-gray-500",4,"ngIf"],["class","flex flex-col items-center gap-4 w-full",4,"ngIf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","text-2xl",3,"click"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-2xl",3,"click"],[3,"ngClass"],[1,"text-center","italic","text-gray-500"],[1,"flex","flex-col","items-center","gap-4","w-full"],[1,"font-bold","text-lg","md:text-xl","text-blue-900"],["type","text","placeholder","Type your message here",1,"w-full","md:w-1/2","text-base","md:text-2xl","text-center","bg-blue-50","border-solid","border-2",3,"ngModelChange","ngModel"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pl-4","pr-4","pt-1","pb-1","w-fit","text-center","cursor-pointer","font-bold","text-white","ml-4","md:text-2xl",3,"click"],[1,"text-sm","text-gray-400"],["src","assets/img/congratulations.png","alt","Game Logo",1,"w-1/3","mt-8"],[1,""],[1,"large-icon","diamond","shadow-local"],[1,"text-lg"],[1,"reveal","won"],["type","text","placeholder","Your message here",1,"w-full","md:w-1/2","text-base","md:text-lg",3,"ngModelChange","ngModel"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pl-4","pr-4","pt-1","pb-1","w-fit","text-center","cursor-pointer","font-bold","text-white","ml-4",3,"click"]],template:function(n,r){1&n&&(Ht(0,GRt,9,8,"div",1),Ua(1,"async"),q(2,"div",2),ut(3),Ua(4,"date"),et(),be(5,"app-add-to-home")),2&n&&(xt("ngIf",xd(1,2,r.game)),ot(3),ri(" Copyright \xa9 ",Mu(4,4,r.currentYear,"yyyy")," SNOMED International\n"))},dependencies:[Jl,xs,Qs,ua,ha,u7,Cl,Oo,_l,nRt,aRt,v2,Fu,TY],styles:[".snoguess-game[_ngcontent-%COMP%]{padding:20px;border-radius:8px;max-width:80%;margin:auto;box-shadow:0 4px 8px #0000001a;min-height:85vh!important}.term-display[_ngcontent-%COMP%]{font-size:24px;letter-spacing:4px;word-break:break-all;margin-bottom:20px;text-align:center;font-family:monospace}.term-display[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0}.hit-points[_ngcontent-%COMP%]{font-weight:700;color:#d9534f;text-align:center;margin-bottom:2rem}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}button[_ngcontent-%COMP%]{margin-right:8px}.guess-field[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;justify-content:center;gap:10px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000}.overlay-dark[_ngcontent-%COMP%]{background-color:#00000080}.overlay-transparent[_ngcontent-%COMP%]{background-color:#0000}.message[_ngcontent-%COMP%]{font-size:4rem;text-align:center;margin-bottom:20px;font-weight:bolder}.reveal[_ngcontent-%COMP%]{font-size:2rem;text-align:center;margin-bottom:20px;font-weight:bolder}.won[_ngcontent-%COMP%]{color:#4caf50;text-shadow:black 2px 2px 2px}.lost[_ngcontent-%COMP%]{color:#f44336;text-shadow:rgb(0,0,0) 2px 2px 2px}.overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem;padding:10px 20px}.loading-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}.progress-bar-message[_ngcontent-%COMP%]{color:#000;font-size:larger;margin-bottom:10px;font-style:italic;font-weight:lighter}.score[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700}.score-progression-panel[_ngcontent-%COMP%]{margin-top:2rem}.progress-bar-container[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem;position:relative;background-color:#e0e0e0;border-radius:5px}.goal-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;width:2px;height:10px;background-color:#000}.goal-indicator.bronze[_ngcontent-%COMP%]{background-color:#cd7f32}.goal-indicator.silver[_ngcontent-%COMP%]{background-color:silver}.goal-indicator.gold[_ngcontent-%COMP%]{background-color:gold}.goal-indicator.platinum[_ngcontent-%COMP%]{background-color:#e5e4e2}.goal-indicator.diamond[_ngcontent-%COMP%]{background-color:#3b49c4}.trophy-icon[_ngcontent-%COMP%]{position:absolute;bottom:-35px;font-size:24px;width:24px;transition:transform .3s ease}.trophy-large[_ngcontent-%COMP%]{transform:scale(2.5) translate(-2px,3px)}.bronze[_ngcontent-%COMP%]{color:#cd7f32}.silver[_ngcontent-%COMP%]{color:silver}.gold[_ngcontent-%COMP%]{color:gold}.platinum[_ngcontent-%COMP%]{color:#e5e4e2}.diamond[_ngcontent-%COMP%]{color:#3b49c4}.shadow-local[_ngcontent-%COMP%]{text-shadow:black 2px 2px 2px}.star-icon[_ngcontent-%COMP%]{position:absolute;bottom:-40px;font-size:30px;width:30px;transition:transform .3s ease}.left-star[_ngcontent-%COMP%]{transform:translate(-50px)}.right-star[_ngcontent-%COMP%]{transform:translate(30px)}.goal-name[_ngcontent-%COMP%]{position:absolute;bottom:-75px;width:100px;margin-left:-50px;text-align:center;font-size:12px;font-weight:700;color:#000}.large-icon[_ngcontent-%COMP%]{font-size:5rem;width:5rem;height:5rem}.note[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter;margin-top:1rem;text-align:center}.hints-container[_ngcontent-%COMP%]{margin-top:1rem}.hints-callout[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem}.hint-item[_ngcontent-%COMP%]{color:#555;font-size:1em;list-style-type:none;position:relative;padding:5px 0 5px 30px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}li[_ngcontent-%COMP%]{margin-bottom:10px;color:#666;font-size:1.2rem}.guess-message[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-size:1.2rem}.assests-loading-container[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:#fff}.game-progress-bar[_ngcontent-%COMP%]{border-radius:22px;overflow:hidden;background-color:#e0e0e0;box-shadow:0 4px 8px #0003}.game-progress-bar[_ngcontent-%COMP%]   .mat-progress-bar-fill[_ngcontent-%COMP%]:after{background-color:#4caf50;border-radius:22px}.game-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;justify-content:center;gap:10px}.level-details[_ngcontent-%COMP%]{visibility:hidden}.level-container[_ngcontent-%COMP%]:hover   .level-details[_ngcontent-%COMP%]{visibility:visible}@media (max-width: 1300px){.menu-buttons[_ngcontent-%COMP%]{font-size:large}}@media (max-width: 876px){.snoguess-game[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .bg-gradient-to-b[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .hints-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .score-progression-panel[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .guess-field[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:0 auto;box-sizing:border-box;box-shadow:none}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin-bottom:1rem}.snoguess-game[_ngcontent-%COMP%]   .goal-indicator[_ngcontent-%COMP%]{display:none}.snoguess-game[_ngcontent-%COMP%]   .hit-points[_ngcontent-%COMP%]{margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .term-display[_ngcontent-%COMP%]{font-size:20px;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .guess-message[_ngcontent-%COMP%]{font-size:12px}.snoguess-game[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important}.snoguess-game[_ngcontent-%COMP%]   .pt-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pt-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-12[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-12[_ngcontent-%COMP%]{padding:10px}.snoguess-game[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-size:16px}.snoguess-game[_ngcontent-%COMP%]   .diff-label[_ngcontent-%COMP%]{text-align:right}}"],data:{animation:[vr("shake",[fn("normal => shake",on(200,Kp([si({transform:"translateX(0)"}),si({transform:"translateX(-10px)"}),si({transform:"translateX(10px)"}),si({transform:"translateX(0)"})])))]),vr("popIn",[fn(":enter",[si({transform:"scale(0.8)",opacity:0}),on("0.5s cubic-bezier(.8, -0.6, 0.2, 1.5)",si({transform:"scale(1.3)",opacity:1})),on("0.2s cubic-bezier(.8, -0.6, 0.2, 1.5)",si({transform:"scale(1)",opacity:1}))])]),vr("scrollUp",[fn(":enter",[si({transform:"translateY(100%)",opacity:0}),on("0.5s ease-out",si({transform:"translateY(0)",opacity:1}))])]),vr("fadeInDelayed",[fn(":enter",[si({opacity:0}),on("1s 0.5s ease-out",si({opacity:1}))])])]}})}return e})();const WRt=()=>({});function XRt(e,i){if(1&e){const t=ge();q(0,"li")(1,"a",11),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().findingWithExplicitContextSelected(r))}),ut(2),et()()}if(2&e){const t=i.$implicit;ot(2),ze(t.display)}}function jRt(e,i){1&e&&(q(0,"th",20),ut(1," Type "),et())}function YRt(e,i){if(1&e&&(q(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.type.display," ")}}function $Rt(e,i){1&e&&(q(0,"th",20),ut(1," Target "),et())}function QRt(e,i){if(1&e&&(q(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.target.code," ")}}function KRt(e,i){1&e&&(q(0,"th",20),ut(1," Target "),et())}function ZRt(e,i){if(1&e&&(q(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.target.display," ")}}function JRt(e,i){1&e&&be(0,"tr",22)}function qRt(e,i){1&e&&be(0,"tr",23)}function tkt(e,i){if(1&e&&(q(0,"div",4)(1,"h3"),ut(2),et(),q(3,"table",12),nn(4,13),Ht(5,jRt,2,0,"th",14)(6,YRt,2,1,"td",15),rn(),nn(7,16),Ht(8,$Rt,2,0,"th",14)(9,QRt,2,1,"td",15),rn(),nn(10,17),Ht(11,KRt,2,0,"th",14)(12,ZRt,2,1,"td",15),rn(),Ht(13,JRt,1,0,"tr",18)(14,qRt,1,0,"tr",19),et()()),2&e){const t=St();ot(2),ri("Relevant attributes (",t.selectedSituation.display,")"),ot(),xt("dataSource",t.dataSource),ot(10),xt("matHeaderRowDef",t.displayedColumns),ot(),xt("matRowDefColumns",t.displayedColumns)}}function ekt(e,i){if(1&e&&(q(0,"div",4)(1,"h3"),ut(2,"Resource Type"),et(),q(3,"a",24)(4,"span"),ut(5),et(),q(6,"mat-icon"),ut(7,"open_in_new"),et()()()),2&e){const t=St();ot(3),xt("href","https://hl7.org/fhir/R4/"+t.resourceType+".html",r0),ot(2),ri("FHIR R4 ",t.resourceType,"")}}function ikt(e,i){if(1&e){const t=ge();q(0,"div",25)(1,"button",26),Vt("click",function(){Ut(t);const r=St();return zt(r.saveOutput(r.fhirRepresentationString))}),be(2,"mat-icon",27),et(),q(3,"button",28),Vt("click",function(){Ut(t);const r=St();return zt(r.copyOutputToClipboard(r.fhirRepresentationString))}),be(4,"mat-icon",29),et()()}}let nkt=(()=>{class e{constructor(t,n){this.terminologyService=t,this.clipboard=n,this.fhirRepresentationString="{}",this.situationsBinding={title:"Finding with explicit context",type:"Autocomplete",ecl:"<< 413350009 |Finding with explicit context (situation)|",value:"",note:"Select a finding with explicit context"},this.SituationConstants={KnownPresent:{code:"410515003",display:"Known present",selfAndDescendants:[]},KnownAbsent:{code:"410516002",display:"Known absent",selfAndDescendants:[]},SubjectOfRecord:{code:"410604004",display:"Subject of record",selfAndDescendants:[]},PersonInTheFamily:{code:"303071001",display:"Person in the family",selfAndDescendants:[]},InThePast:{code:"410513005",display:"In the past",selfAndDescendants:[]},CurrentOrSpecifiedTime:{code:"410512000",display:"Current or specified time",selfAndDescendants:[]},KnownPossible:{code:"410590009",display:"Known possible",selfAndDescendants:[]}},this.examples=[{code:"160377001",display:"Family history of asthma"},{code:"12147341000119108",display:"History of burn"},{code:"428942009",display:"History of fall"},{code:"300890009",display:"Swelling absent"},{code:"162057007",display:"Nausea present"},{code:"401204006",display:"Suspected autism"}],this.displayedColumns=["type","targetCode","targetDisplay"],this.dataSource=[]}ngOnInit(){this.loadOrUpdateConstants()}loadOrUpdateConstants(){var t=this;return de(function*(){let n=localStorage.getItem("SituationConstants");n?(t.SituationConstants=JSON.parse(n),console.log("Loaded constants from cache.")):(yield t.updateConstantDescendants(),localStorage.setItem("SituationConstants",JSON.stringify(t.SituationConstants)),console.log("Updated constants and cached them."))})()}updateConstantDescendants(){var t=this;return de(function*(){for(const n in t.SituationConstants)if(Object.prototype.hasOwnProperty.call(t.SituationConstants,n)){const r=t.SituationConstants[n];let s=yield da(t.terminologyService.expandValueSet("<< "+r.code,"",0,1e3));r.selfAndDescendants=s.expansion.contains.map(o=>o.code)}})()}convertSituationToFhir(t){var n=this;return de(function*(){n.selectedSituation=t,n.fhirRepresentation=null,n.fhirRepresentationString="Loading...",n.dataSource=[],n.resourceType=void 0;let p,C,D,R,r=yield da(n.terminologyService.lookupConcept(t.code)),s=n.terminologyService.getNormalForm(r);if(n.terminologyService.parseNormmalForm(s).groups.forEach(F=>{const B=F.find(Q=>"408732007"===Q.type.code);B&&(n.dataSource=[...n.dataSource,B],C=B.target);const V=F.find(Q=>"408729009"===Q.type.code);V&&(n.dataSource=[...n.dataSource,V],p=V.target);const X=F.find(Q=>"408731000"===Q.type.code);X&&(n.dataSource=[...n.dataSource,X],D=X.target);const J=F.find(Q=>"246090004"===Q.type.code);J&&(n.dataSource=[...n.dataSource,J],R=J.target)}),R){const F=n.SituationConstants.KnownPresent.selfAndDescendants.includes(p?.code),B=n.SituationConstants.SubjectOfRecord.selfAndDescendants.includes(C?.code),V=n.SituationConstants.InThePast.selfAndDescendants.includes(D?.code),X=n.SituationConstants.KnownAbsent.selfAndDescendants.includes(p?.code),J=n.SituationConstants.KnownPossible.selfAndDescendants.includes(p?.code),Q=n.SituationConstants.CurrentOrSpecifiedTime.selfAndDescendants.includes(D?.code),nt=n.SituationConstants.PersonInTheFamily.selfAndDescendants.includes(C?.code);F&&B&&V?n.updateFhirRepresentation(n.createFhirCondition(R,"inactive")):F&&B&&Q?n.updateFhirRepresentation(n.createFhirCondition(R,"active")):J&&B&&Q?n.updateFhirRepresentation(n.createFhirCondition(R,"unconfirmed")):F&&nt?n.updateFhirRepresentation(n.createFamilyMemberHistoryForFinding(R,C)):X&&B&&Q?n.updateFhirRepresentation(n.createFhirObservationForAbsentFinding(R)):n.fhirRepresentationString="No FHIR representation for this situation"}else n.fhirRepresentationString="No FHIR representation for this situation"})()}updateFhirRepresentation(t){this.fhirRepresentation=t,this.fhirRepresentationString=JSON.stringify(t,null,2)}findingWithExplicitContextSelected(t){t&&t.code&&this.convertSituationToFhir(t)}createFhirCondition(t,n){return this.resourceType="Condition",{resourceType:"Condition",subject:{reference:"Patient/1234"},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:n}]},code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]}}}createFhirObservationForAbsentFinding(t){return this.resourceType="Observation",{resourceType:"Observation",subject:{reference:"Patient/1234"},status:"registered",code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]},valueCodeableConcept:{coding:[{system:"http://snomed.info/sct",code:"410516002",display:"Known absent"}]}}}createFamilyMemberHistoryForFinding(t,n){return this.resourceType="FamilyMemberHistory",{resourceType:"FamilyMemberHistory",status:"completed",patient:{reference:"Patient/1234"},relationship:{coding:[{system:"http://snomed.info/sct",code:n.code,display:n.display}]},condition:[{code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]}}]}}saveOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,Vc.saveAs)(n,`${this.selectedSituation.display}-fhir.json`)}copyOutputToClipboard(t){this.clipboard.copy(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs),ht(VM))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-situation-map"]],decls:17,vars:9,consts:[[1,"p-8"],[1,"flex","flex-wrap","gap-4"],[1,"w-1/3"],[1,"w-auto",3,"selectionChange","binding"],[1,"mt-8"],[4,"ngFor","ngForOf"],["class","mt-8",4,"ngIf"],[1,"flex-grow"],[1,"output"],["id","save",4,"ngIf"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["href","javascript:void(0);",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","targetCode"],["matColumnDef","targetDisplay"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["target","_blank",1,"flex","flex-row","items-center","gap-2",3,"href"],["id","save"],["mat-icon-button","","matTooltip","Download",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy",3,"click"],["fontIcon","content_copy"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"h2"),ut(2,"Consistent Context Representation for Situations with Explicit Context"),et(),q(3,"div",1)(4,"div",2)(5,"app-autocomplete-binding",3),Vt("selectionChange",function(o){return r.findingWithExplicitContextSelected(o)}),et(),q(6,"h3",4),ut(7,"Examples"),et(),q(8,"ul"),Ht(9,XRt,3,1,"li",5),et(),Ht(10,tkt,15,4,"div",6)(11,ekt,8,2,"div",6),et(),q(12,"div",7)(13,"div",8),Ht(14,ikt,5,0,"div",9),q(15,"textarea",10),ut(16,"                "),et()()()()()),2&n&&(ot(5),xt("binding",r.situationsBinding),ot(4),xt("ngForOf",r.examples),ot(),xt("ngIf",null==r.selectedSituation?null:r.selectedSituation.display),ot(),xt("ngIf",r.resourceType),ot(3),xt("ngIf",r.fhirRepresentationString.length>15),ot(),xt("options",ko(8,WRt))("lang","json")("innerHTML",r.fhirRepresentationString,Hh))},dependencies:[xs,Qs,pC,xo,ha,Xu,Ud,ju,zd,Vd,Yu,Gd,Hd,$u,Qu,qu,lg],styles:[".output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem;min-height:45rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}"]})}return e})(),rkt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=He({type:e,selectors:[["app-context-main"]],decls:1,vars:0,template:function(n,r){1&n&&be(0,"app-situation-map")},dependencies:[nkt]})}return e})();var skt=as(867),akt=as.n(skt);let okt=(()=>{class e{constructor(){this.filter=new(akt())}transform(t){return t&&this.filter.clean(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=Pa({name:"safeText",type:e,pure:!0})}return e})();function lkt(e,i){if(1&e){const t=ge();q(0,"a",13),Vt("click",function(){Ut(t);const r=St().$implicit;return zt(St().setLevel(r.name))}),ut(1),et()}if(2&e){const t=St().$implicit;ot(),ri(" ",t.name," ")}}function ckt(e,i){if(1&e&&(q(0,"span",14),ut(1),et()),2&e){const t=St().$implicit;ot(),ze(t.name)}}function dkt(e,i){if(1&e&&(q(0,"span"),Ht(1,lkt,2,1,"a",7)(2,ckt,2,1,"span",8),et()),2&e){const t=i.$implicit,n=St();ot(),xt("ngIf",n.selectedLevel!=t.name),ot(),xt("ngIf",n.selectedLevel==t.name)}}function ukt(e,i){if(1&e){const t=ge();q(0,"a",13),Vt("click",function(){return Ut(t),zt(St().setLevel("scoreboard"))}),ut(1," Legacy "),et()}}function hkt(e,i){1&e&&(q(0,"span",14),ut(1,"Legacy"),et())}function fkt(e,i){1&e&&be(0,"mat-spinner",15)}function mkt(e,i){1&e&&(q(0,"th",28),ut(1," Position "),et())}function pkt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.index;ot(),ri(" ",t+1," ")}}function gkt(e,i){1&e&&(q(0,"th",28),ut(1," Message "),et())}function vkt(e,i){if(1&e&&(q(0,"span"),ut(1),Ua(2,"safeText"),et()),2&e){const t=St().$implicit;ot(),ze(xd(2,1,t.message))}}function xkt(e,i){1&e&&(q(0,"span",31)(1,"i"),ut(2,"No information available (qualifier value)"),et()())}function ykt(e,i){if(1&e&&(q(0,"td",29),Ht(1,vkt,3,3,"span",11)(2,xkt,3,0,"span",30),et()),2&e){const t=i.$implicit;ot(),xt("ngIf",t.message),ot(),xt("ngIf",!t.message)}}function bkt(e,i){1&e&&(q(0,"th",28),ut(1," Score "),et())}function wkt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.score," ")}}function Tkt(e,i){1&e&&(q(0,"th",28),ut(1," Rounds "),et())}function Ckt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.numberOfRounds," ")}}function _kt(e,i){1&e&&(q(0,"th",28),ut(1," Difficulty "),et())}function Ekt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),ri(" ",t.difficulty," ")}}function Skt(e,i){1&e&&(q(0,"th",28),ut(1," Time Played "),et())}function Akt(e,i){if(1&e&&(q(0,"td",29),ut(1),Ua(2,"elapsedTime"),et()),2&e){const t=i.$implicit;ot(),ri(" ",xd(2,1,t.elapsed)," ")}}function Dkt(e,i){1&e&&(q(0,"th",28),ut(1," Date "),et())}function Ikt(e,i){if(1&e&&(q(0,"td",29),ut(1),Ua(2,"date"),et()),2&e){const t=i.$implicit;ot(),ri(" ",Mu(2,1,t.date,"short")," ")}}function Mkt(e,i){1&e&&be(0,"tr",32)}function Rkt(e,i){1&e&&be(0,"tr",33)}function kkt(e,i){if(1&e&&(q(0,"div")(1,"table",16),nn(2,17),Ht(3,mkt,2,0,"th",18)(4,pkt,2,1,"td",19),rn(),nn(5,20),Ht(6,gkt,2,0,"th",18)(7,ykt,3,2,"td",19),rn(),nn(8,21),Ht(9,bkt,2,0,"th",18)(10,wkt,2,1,"td",19),rn(),nn(11,22),Ht(12,Tkt,2,0,"th",18)(13,Ckt,2,1,"td",19),rn(),nn(14,23),Ht(15,_kt,2,0,"th",18)(16,Ekt,2,1,"td",19),rn(),nn(17,24),Ht(18,Skt,2,0,"th",18)(19,Akt,3,3,"td",19),rn(),nn(20,25),Ht(21,Dkt,2,0,"th",18)(22,Ikt,3,4,"td",19),rn(),Ht(23,Mkt,1,0,"tr",26)(24,Rkt,1,0,"tr",27),et()()),2&e){const t=St();ot(),xt("dataSource",t.dataSource),ot(22),xt("matHeaderRowDef",t.displayedColumns),ot(),xt("matRowDefColumns",t.displayedColumns)}}let Pkt=(()=>{class e{constructor(t,n,r,s){this.firebaseService=t,this.router=n,this.snoguessMainService=r,this.route=s,this.displayedColumns=["position","message","difficulty","score","numberOfRounds","secondsPlayed","date"],this.dataSource=[],this.loadingScores=!1,this.difficultyLevels=[],this.selectedLevel=""}ngOnInit(){this.difficultyLevels=this.snoguessMainService.getDifficultyLevels(),this.route.queryParams.subscribe(t=>{const n=t.level;this.selectedLevel=n&&this.difficultyLevels.some(s=>s.name===n)?n:this.difficultyLevels[0].name,this.loadScores(this.selectedLevel),t.refresh&&this.startAutoRefresh()})}ngOnDestroy(){this.stopAutoRefresh()}startAutoRefresh(){this.stopAutoRefresh(),this.intervalId=setInterval(()=>{this.loadScores(this.selectedLevel)},6e4)}stopAutoRefresh(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}setLevel(t){this.selectedLevel=t,this.loadScores(t)}loadScores(t){this.loadingScores=!0,this.firebaseService.getScores(t).then(n=>{this.dataSource=n.map(r=>({...r,date:r.date?r.date.toDate():new Date})),this.loadingScores=!1})}backToGame(){this.router.navigate(["/snoguess"])}static#t=this.\u0275fac=function(n){return new(n||e)(ht(wY),ht(vo),ht(bY),ht(ec))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-scoreboard"]],decls:19,vars:8,consts:[[1,"flex","flex-col","items-center","gap-4","pt-6","snoguess-game"],["src","assets/img/SI_CT_w_tagline.png","alt","SNOMED CT Logo",1,"w-1/6"],["src","assets/img/scoreboard.png","alt","High Scores",1,"w-1/4","mt-8"],[1,"mb-2","flex","flex-row","items-center","gap-1"],[1,"diamond"],[1,"mb-3","flex","flex-row","items-center","gap-3"],[4,"ngFor","ngForOf"],["href","javascript:void(0)","class","text-blue-500 underline",3,"click",4,"ngIf"],["class","selected-level",4,"ngIf"],[1,"flex","flex-row","items-center","gap-3"],["diameter","50",4,"ngIf"],[4,"ngIf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-2xl",3,"click"],["href","javascript:void(0)",1,"text-blue-500","underline",3,"click"],[1,"selected-level"],["diameter","50"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","message"],["matColumnDef","score"],["matColumnDef","numberOfRounds"],["matColumnDef","difficulty"],["matColumnDef","secondsPlayed"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["class","text-gray-400",4,"ngIf"],[1,"text-gray-400"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(q(0,"div",0),be(1,"img",1)(2,"img",2),q(3,"div",3)(4,"span"),ut(5,"Messages posted by players!\xa0"),et(),q(6,"mat-icon",4),ut(7,"emoji_events"),et()(),q(8,"div",5),Ht(9,dkt,3,2,"span",6)(10,ukt,2,0,"a",7)(11,hkt,2,0,"span",8),et(),q(12,"div",9)(13,"h3"),ut(14),et()(),Ht(15,fkt,1,0,"mat-spinner",10)(16,kkt,25,3,"div",11),q(17,"div",12),Vt("click",function(){return r.backToGame()}),ut(18," Back to game "),et()()),2&n&&(ot(2),xt("@popIn",void 0),ot(7),xt("ngForOf",r.difficultyLevels),ot(),xt("ngIf","scoreboard"!=r.selectedLevel),ot(),xt("ngIf","scoreboard"==r.selectedLevel),ot(3),ri("Top 20 ",r.selectedLevel," level scores"),ot(),xt("ngIf",r.loadingScores),ot(),xt("ngIf",!r.loadingScores),ot(),xt("@scrollUp",void 0))},dependencies:[xs,Qs,ha,Wu,Xu,Ud,ju,zd,Vd,Yu,Gd,Hd,$u,Qu,Fu,TY,okt],styles:[".diamond[_ngcontent-%COMP%]{color:#3b49c4}.snoguess-game[_ngcontent-%COMP%]{padding:20px;border-radius:8px;max-width:80%;margin:auto;box-shadow:0 4px 8px #0000001a}@media (max-width: 1300px){.menu-buttons[_ngcontent-%COMP%]{font-size:large}}@media (max-width: 876px){.snoguess-game[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .bg-gradient-to-b[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .hints-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .score-progression-panel[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .guess-field[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:0 auto;box-sizing:border-box;box-shadow:none}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin-bottom:1rem}.snoguess-game[_ngcontent-%COMP%]   .goal-indicator[_ngcontent-%COMP%]{display:none}.snoguess-game[_ngcontent-%COMP%]   .hit-points[_ngcontent-%COMP%]{margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .term-display[_ngcontent-%COMP%]{font-size:20px;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .guess-message[_ngcontent-%COMP%]{font-size:12px}.snoguess-game[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important}.snoguess-game[_ngcontent-%COMP%]   .pt-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pt-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-12[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-12[_ngcontent-%COMP%]{padding:10px}.snoguess-game[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-size:16px}.snoguess-game[_ngcontent-%COMP%]   .diff-label[_ngcontent-%COMP%]{text-align:right}}.selected-level[_ngcontent-%COMP%]{font-weight:700}"],data:{animation:[vr("shake",[fn("normal => shake",on(200,Kp([si({transform:"translateX(0)"}),si({transform:"translateX(-10px)"}),si({transform:"translateX(10px)"}),si({transform:"translateX(0)"})])))]),vr("popIn",[fn(":enter",[si({transform:"scale(0.8)",opacity:0}),on("0.5s cubic-bezier(.8, -0.6, 0.2, 1.5)",si({transform:"scale(1.3)",opacity:1})),on("0.2s cubic-bezier(.8, -0.6, 0.2, 1.5)",si({transform:"scale(1)",opacity:1}))])]),vr("scrollUp",[fn(":enter",[si({transform:"translateY(100%)",opacity:0}),on("0.5s ease-out",si({transform:"translateY(0)",opacity:1}))])]),vr("fadeInDelayed",[fn(":enter",[si({opacity:0}),on("1s 0.5s ease-out",si({opacity:1}))])])]}})}return e})(),Fkt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,$i]})}return e})();const EY=["*"],AY=["unscopedContent"],Okt=["text"],Lkt=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Nkt=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],DY=new qt("ListOption");let IY=(()=>{class e{constructor(t){this._elementRef=t}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return e})(),MY=(()=>{class e{constructor(t){this._elementRef=t}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return e})(),ePt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return e})(),RY=(()=>{class e{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#t=this.\u0275fac=function(n){return new(n||e)(ht(DY,8))};static#e=this.\u0275dir=ce({type:e,hostVars:4,hostBindings:function(n,r){2&n&&yi("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())},standalone:!0})}return e})(),iPt=(()=>{class e extends RY{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[di]})}return e})(),nPt=(()=>{class e extends RY{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[di]})}return e})();const rPt=new qt("MAT_LIST_CONFIG");let iv=(()=>{class e{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=fe(rPt,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Fs(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Fs(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,hostVars:1,hostBindings:function(n,r){2&n&&_i("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return e})(),GP=(()=>{class e{set lines(t){this._explicitLines=Gu(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=Fs(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=Fs(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,n,r,s,o,p){this._elementRef=t,this._ngZone=n,this._listBase=r,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Me,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=o||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===p,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Cx(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Gr(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const n=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===n),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===n),this._hasUnscopedTextContent){const s=0===this._titles.length&&1===n;r.classList.toggle("mdc-list-item__primary-text",s),r.classList.toggle("mdc-list-item__secondary-text",!s)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Ze),ht(iv,8),ht(Qn),ht(_x,8),ht(Sr,8))};static#e=this.\u0275dir=ce({type:e,contentQueries:function(n,r,s){if(1&n&&(hn(s,iPt,4),hn(s,nPt,4)),2&n){let o;Oe(o=Le())&&(r._avatars=o),Oe(o=Le())&&(r._icons=o)}},hostVars:4,hostBindings:function(n,r){2&n&&(_i("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),yi("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return e})(),sPt=(()=>{class e extends iv{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=xn(e)))(r||e)}})();static#e=this.\u0275cmp=He({type:e,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[fi([{provide:iv,useExisting:e}]),di,Bi],ngContentSelectors:EY,decls:1,vars:0,template:function(n,r){1&n&&(Gn(),hi(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}a.mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}a.mdc-list-item.mdc-list-item--activated.mdc-list-item{border-radius:var(--mat-list-active-indicator-shape)}'],encapsulation:2,changeDetection:0})}return e})(),aPt=(()=>{class e extends GP{get activated(){return this._activated}set activated(t){this._activated=Fs(t)}constructor(t,n,r,s,o,p){super(t,n,r,s,o,p),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Ze),ht(iv,8),ht(Qn),ht(_x,8),ht(Sr,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(n,r,s){if(1&n&&(hn(s,MY,5),hn(s,IY,5),hn(s,ePt,5)),2&n){let o;Oe(o=Le())&&(r._lines=o),Oe(o=Le())&&(r._titles=o),Oe(o=Le())&&(r._meta=o)}},viewQuery:function(n,r){if(1&n&&(Ai(AY,5),Ai(Okt,5)),2&n){let s;Oe(s=Le())&&(r._unscopedContent=s.first),Oe(s=Le())&&(r._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(n,r){2&n&&(_i("aria-current",r._getAriaCurrent()),yi("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[di,Bi],ngContentSelectors:Nkt,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(n,r){if(1&n){const s=ge();Gn(Lkt),hi(0),q(1,"span",1),hi(2,1),hi(3,2),q(4,"span",2,0),Vt("cdkObserveContent",function(){return Ut(s),zt(r._updateItemLines(!0))}),hi(6,3),et()(),hi(7,4),hi(8,5),be(9,"div",3)}},dependencies:[kI],encapsulation:2,changeDetection:0})}return e})(),uPt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[PI,Ic,$i,Qp,kU,Fkt]})}return e})();function hPt(e,i){if(1&e&&(q(0,"mat-list-item"),ut(1),et()),2&e){const t=i.$implicit;ot(),ze(t)}}function fPt(e,i){if(1&e&&(q(0,"div")(1,"h4"),ut(2),et(),q(3,"p"),ut(4),et(),q(5,"mat-list"),Ht(6,hPt,2,1,"mat-list-item",7),et()()),2&e){const t=i.$implicit;ot(2),ze(t.name),ot(2),ze(t.description),ot(2),xt("ngForOf",t.questions)}}function mPt(e,i){if(1&e&&(q(0,"div")(1,"h3"),ut(2),et(),q(3,"p"),ut(4),et(),Ht(5,fPt,7,3,"div",7),et()),2&e){const t=i.$implicit;ot(2),ze(t.name),ot(2),ze(t.description),ot(),xt("ngForOf",t.levels)}}function pPt(e,i){if(1&e&&(q(0,"mat-tab",6)(1,"h2"),ut(2,"Stakeholder"),et(),q(3,"p"),ut(4),et(),q(5,"h2"),ut(6,"Key Process Areas"),et(),Ht(7,mPt,6,3,"div",7),et()),2&e){const t=i.$implicit;xt("label",t.name),ot(4),ze(t.description),ot(3),xt("ngForOf",t.kpas)}}let gPt=(()=>{class e{constructor(t){this.http=t,this.maturityQuestions={}}ngOnInit(){var t=this;return de(function*(){console.log("Fetching maturity questions..."),t.maturityQuestions=yield da(t.http.get("assets/maturity/maturityLevels.json")),console.log("Fetched maturity questions:",t.maturityQuestions)})()}uploadFile(t){if(1!==t.target.files.length)console.error("No file selected");else{const n=new FileReader;n.onloadend=r=>{if(n.result){const s=JSON.parse(n.result?.toString());console.log("Uploaded version:",s),this.maturityQuestions=s}},n.readAsText(t.target.files[0])}}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Oc))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-maturity-main"]],decls:8,vars:1,consts:[["fileInput",""],[1,"main"],[1,"flex","flex-row","gap-4","justify-end","flex-wrap"],["hidden","","type","file","id","file",3,"change"],["mat-flat-button","","color","accent",3,"click"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[4,"ngFor","ngForOf"]],template:function(n,r){if(1&n){const s=ge();q(0,"div",1)(1,"div",2)(2,"input",3,0),Vt("change",function(p){return Ut(s),zt(r.uploadFile(p))}),et(),q(4,"button",4),Vt("click",function(){return Ut(s),zt(Zi(3).click())}),ut(5,"Load Maturity Spec"),et()(),q(6,"mat-tab-group"),Ht(7,pPt,8,3,"mat-tab",5),et()()}2&n&&(ot(7),xt("ngForOf",r.maturityQuestions.stakeHolders))},dependencies:[xs,ua,cg,yf,sPt,aPt],styles:[".main[_ngcontent-%COMP%]{padding:1rem}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-bottom:.5rem;margin-top:1.5rem}.goal-section[_ngcontent-%COMP%]{padding:10px}.component-section[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:24px}.metric-section[_ngcontent-%COMP%]{margin-left:40px;margin-bottom:16px}"]})}return e})(),PY=(()=>{class e{constructor(){this.demos=[{name:"Clinical User Interface Demo",subtitle:"Clinical demo",type:"external",url:"http://snomed.org/ui",description:"A simulation of clinical data entry on an EHR using SNOMED FHIR Terminology services"},{name:"Allergies",subtitle:"Clinical demo",type:"internal",url:"/allergies",description:"A SNOMED / FHIR implementation demo of recording Allergy / Intollerance details, from Allergies Clinical Reference Group"},{name:"Terminology Bindings Sandbox",subtitle:"Learning demo",type:"internal",url:"/sandbox",description:"A sandbox for learning and testing terminology bindings"},{name:"SNOMED Maps Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-icd-maps",description:"A SNOMED / ICD-10 maps demonstration, including complex map rules execution"},{name:"Post-coordination Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-postcoordination",description:"A SNOMED post-coordination demonstration, with new prototype Postcoordination Terminology server SNOWSTORM X"},{name:"IPS Terminology Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-ips/",description:"A demonstration of the International Patient Summary (IPS) terminology, including the IPS SNOMED CT refset"},{name:"SNOMED & FHIR Questionnaires Manager Application",subtitle:"Application",type:"internal",url:"/questionnaires",description:"An application to manage a FHIR Questionnaires repository, with SNOMED CT bindings"},{name:"SNOMED & FHIR Questionnaires Utilities",subtitle:"Utilities",type:"internal",url:"/questionnaires",queryParams:{utility:!0},description:"Utilities for working with FHIR Questionnaires, including SNOMED CT bindings"},{name:"Context Representation Transformations",subtitle:"Learning demo",type:"internal",url:"/context",description:"A demonstration of the transformation of context representations from SNOMED to FHIR Resources"},{name:"SNOMED and LLMs (AI Demo)",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/openai-demo/",description:"This demo uses OpenAI ChatGPT API to demonstrate the use of SNOMED CT with Language Model Models (LLMs). A developer key for the OpenAI API is required."},{name:"Snoguess (A SNOMED game)",subtitle:"Game",type:"internal",url:"/snoguess",description:"A SNOMED term guessing game, learn about SNOMED content while having fun and competing to achieve the highest score"},{name:"SNOMED Implementation Roadmap Generator",subtitle:"Tool",type:"external",url:"https://ihtsdo.github.io/roadmap-generator",description:"A tool designed to promote and support the creation of implementation roadmaps for the adoption of SNOMED CT in countries, regions or organizations."}]}getDemos(){return this.demos}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vPt(e,i){if(1&e){const t=ge();q(0,"div",8)(1,"mat-card",9)(2,"mat-card-header")(3,"mat-card-subtitle"),ut(4),et(),q(5,"mat-card-title"),ut(6),et()(),q(7,"mat-card-content")(8,"p"),ut(9),et()(),q(10,"mat-card-actions")(11,"button",10),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().navigate(r))}),ut(12,"OPEN"),et()()()()}if(2&e){const t=i.$implicit;ot(4),ze(t.subtitle),ot(2),ze(t.name),ot(3),ze(t.description)}}let FY=(()=>{class e{constructor(t,n,r){this.router=t,this.route=n,this.menuService=r,this.demos=[]}ngOnInit(){this.demos=this.menuService.getDemos()}navigate(t){if("internal"===t.type){let n=t.queryParams,r=this.route.snapshot.queryParams;n=n?{...r,...n}:r,this.router.navigate([t.url],{queryParams:n})}else this.openInNewTab(t.url)}openInNewTab(t){window.open(t,"_blank")}static#t=this.\u0275fac=function(n){return new(n||e)(ht(vo),ht(ec),ht(PY))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-home"]],decls:17,vars:1,consts:[[1,"main-panel"],[1,"intro"],["href","https://github.com/IHTSDO/sct-implementation-demonstrator","target","_blank"],["href","https://confluence.ihtsdotools.org/display/CP/Clinical+Engagement","target","_blank"],[1,"demos-panel"],["class","demo-card-wrapper",4,"ngFor","ngForOf"],[1,"center-image"],["src","assets/img/SI_CT_Logo_Delivered_By.png","alt","SNOMED Logo",1,"transparent-image"],[1,"demo-card-wrapper"],[1,"demo-card"],["mat-button","","color","accent",3,"click"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"h1"),ut(2,"SNOMED CT Implementation Demonstrators"),et(),q(3,"p",1),ut(4,"Welcome to our collection of SNOMED CT Implementation Demonstrators! This curated selection of demos showcases the diverse ways SNOMED CT can be implemented across different use cases. Each demonstration is "),q(5,"a",2),ut(6,"open source"),et(),ut(7,", free to explore, and easy to replicate, providing a hands-on learning experience for developers, implementers, and healthcare professionals."),et(),q(8,"p",1),ut(9,"These implementation demos have been created through the collaboration and expertise of the "),q(10,"a",3),ut(11,"global SNOMED CT community of clinical experts"),et(),ut(12,", reflecting best practices and innovative use cases. Whether you\u2019re just getting started with SNOMED CT or looking to deepen your understanding, you\u2019ll find valuable insights here. Explore, learn, and join us in advancing healthcare interoperability."),et(),q(13,"div",4),Ht(14,vPt,13,3,"div",5),et(),q(15,"div",6),be(16,"img",7),et()()),2&n&&(ot(14),xt("ngForOf",r.demos))},dependencies:[xs,ua,WT,_z,Tz,Ez,Cz,wz],styles:[".main-panel[_ngcontent-%COMP%]{padding:2rem;height:calc(100vh - 70px)}.intro[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.demos-panel[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;margin-top:3rem}.demo-card-wrapper[_ngcontent-%COMP%]{width:300px}.demo-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}mat-card-title[_ngcontent-%COMP%]{word-wrap:break-word;font-size:large;font-weight:700}mat-card-content[_ngcontent-%COMP%]{padding:1rem;margin-bottom:2rem}mat-card-actions[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding-top:10px;margin-top:auto}.center-image[_ngcontent-%COMP%]{text-align:center;margin-top:4rem;margin-left:20%;margin-right:20%}.transparent-image[_ngcontent-%COMP%]{opacity:.5}"]})}return e})();function xPt(e,i){if(1&e){const t=ge();q(0,"app-autocomplete-binding",9),Vt("selectionChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function yPt(e,i){if(1&e){const t=ge();q(0,"app-dropdown-binding",9),Vt("selectionChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function bPt(e,i){if(1&e){const t=ge();q(0,"app-radios-binding",9),Vt("selectionChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function wPt(e,i){if(1&e&&(q(0,"span",10),ut(1),et()),2&e){const t=St().$implicit;ot(),ze(t.title)}}function TPt(e,i){if(1&e){const t=ge();q(0,"app-textbox-binding",11),Vt("textChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function CPt(e,i){if(1&e){const t=ge();q(0,"app-integer-binding",11),Vt("textChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function _Pt(e,i){if(1&e){const t=ge();q(0,"app-decimal-binding",11),Vt("textChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function EPt(e,i){if(1&e){const t=ge();q(0,"app-checkbox-binding",9),Vt("selectionChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function SPt(e,i){if(1&e){const t=ge();q(0,"app-checkbox-multiple-binding",9),Vt("selectionChange",function(r){Ut(t);const s=St().$implicit;return zt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",St().$implicit)}function APt(e,i){if(1&e&&(q(0,"button",12)(1,"mat-icon"),ut(2,"info"),et()()),2&e){const t=St().$implicit;xt("matMenuTriggerFor",Zi(13))("disabled",!t.code&&!t.ecl)}}function DPt(e,i){if(1&e){const t=ge();q(0,"span",13),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(1,"h4"),ut(2,"Question terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=St().$implicit;xt("disableRipple",!0),ot(4),vd("",null==t.code?null:t.code.code," |",null==t.code?null:t.code.display,"|")}}function IPt(e,i){if(1&e){const t=ge();q(0,"span",13),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(1,"h4"),ut(2,"Answer terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=St().$implicit;xt("disableRipple",!0),ot(4),ze(t.ecl)}}function MPt(e,i){if(1&e&&(q(0,"div",2)(1,"div",3),Ht(2,xPt,1,1,"app-autocomplete-binding",4)(3,yPt,1,1,"app-dropdown-binding",4)(4,bPt,1,1,"app-radios-binding",4)(5,wPt,2,1,"span",5)(6,TPt,1,1,"app-textbox-binding",6)(7,CPt,1,1,"app-integer-binding",6)(8,_Pt,1,1,"app-decimal-binding",6)(9,EPt,1,1,"app-checkbox-binding",4)(10,SPt,1,1,"app-checkbox-multiple-binding",4)(11,APt,3,2,"button",7),q(12,"mat-menu",null,0),Ht(14,DPt,5,3,"span",8)(15,IPt,5,2,"span",8),et()()()),2&e){const t=i.$implicit;ot(2),xt("ngIf","Autocomplete"==t.type),ot(),xt("ngIf","Select (Single)"==t.type||"Select (Multiple)"==t.type),ot(),xt("ngIf","Options"==t.type),ot(),xt("ngIf","Section header"==t.type),ot(),xt("ngIf","Text box"==t.type),ot(),xt("ngIf","Integer"==t.type),ot(),xt("ngIf","Decimal"==t.type),ot(),xt("ngIf","Checkbox"==t.type),ot(),xt("ngIf","Checkbox multiple"==t.type),ot(),xt("ngIf","Section header"!=t.type),ot(3),xt("ngIf",t.code),ot(),xt("ngIf",t.ecl)}}let RPt=(()=>{class e{constructor(){this.output={},this.outputStr="{}",this.response={},this.responseStr="{}",this.responseBundle={},this.responseBundleStr="{}"}optionSelected(t,n,r){this.output[t]={code:n,value:r},n||delete this.output[t].code,this.outputStr=JSON.stringify(this.output,null,2),this.refreshResponse()}refreshResponse(){this.response={};for(let t of this.spec.bindings)this.response[t.title]={},t.code&&(this.response[t.title].code=t.code);for(let[t,n]of Object.entries(this.output))this.output[t].code&&(this.response[t].code=this.output[t].code),this.output[t].value&&(this.response[t].value=this.output[t].value);this.responseStr=JSON.stringify(this.response,null,2),this.refreshResponseBundle()}refreshResponseBundle(){this.responseBundle={resourceType:"Bundle",type:"collection",entry:[]};for(let[t,n]of Object.entries(this.response)){let r=n;const s=r.code?{coding:[{system:"http://snomed.info/sct",code:r.code.code,display:r.code.display}]}:void 0,o=r.value?.code?{coding:[{system:"http://snomed.info/sct",code:r.value.code,display:r.value.display}]}:void 0;let p={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],subject:{reference:"Patient/123"}};p.code=s||{coding:[{system:"http://snomed.info/sct",code:"363788007",display:"Clinical history/examination observable (observable entity)"}]},o&&(p.valueCodeableConcept=o),r.value&&"string"==typeof r.value&&(p.valueString=r.value),(p.valueCodeableConcept||p.valueString)&&this.responseBundle.entry.push(p)}this.responseBundleStr=JSON.stringify(this.responseBundle,null,2)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=He({type:e,selectors:[["app-bindings-viewer"]],inputs:{spec:"spec"},decls:3,vars:2,consts:[["substancePopoverMenu","matMenu"],["class","output-panel",4,"ngFor","ngForOf"],[1,"output-panel"],[1,"row","control"],["class","grow",3,"binding","selectionChange",4,"ngIf"],["class","title grow",4,"ngIf"],["class","grow",3,"binding","textChange",4,"ngIf"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled",4,"ngIf"],["mat-menu-item","",3,"disableRipple","click",4,"ngIf"],[1,"grow",3,"selectionChange","binding"],[1,"title","grow"],[1,"grow",3,"textChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled"],["mat-menu-item","",3,"click","disableRipple"]],template:function(n,r){1&n&&(q(0,"h2"),ut(1),et(),Ht(2,MPt,16,12,"div",1)),2&n&&(ot(),ze(r.spec.title),ot(),xt("ngForOf",r.spec.bindings))},dependencies:[xs,Qs,xo,ha,il,Tl,Ld,lg,$H,qH,t7,n7,r7,s7,a7],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center;gap:10px}.grow[_ngcontent-%COMP%]{flex-grow:4}mat-hint[_ngcontent-%COMP%], mat-error[_ngcontent-%COMP%]{font-size:12px}.editPanel[_ngcontent-%COMP%]{border:1px solid #cccccc00;border-radius:5px;background-color:#a0c8e5}.control[_ngcontent-%COMP%]{margin-bottom:30px}.output-panel[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s}.row[_ngcontent-%COMP%]:hover   .tool[_ngcontent-%COMP%]{opacity:1}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#616161}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;margin-left:2rem}.action-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.compact-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.row-container-item[_ngcontent-%COMP%]{width:100%;padding:10px}.output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.top-right-link[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;font-size:smaller}.form-title[_ngcontent-%COMP%]{margin-left:1rem}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:0!important}.bottom-right-link[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:0;font-size:smaller}.form-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px;width:100%}.form-column[_ngcontent-%COMP%]{flex:1 1 0px;padding-right:10px;padding-left:10px;display:flex;flex-direction:column;width:100%}.input-field.full-width[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-bottom:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"]})}return e})();function kPt(e,i){if(1&e&&(q(0,"mat-tab",7)(1,"div",8),be(2,"app-bindings-viewer",9),et()()),2&e){const t=i.$implicit;Iu("label",t.spec.title),ot(2),xt("spec",t.spec)}}let PPt=(()=>{class e{constructor(t){this.http=t,this.emptySpec={},this.specs=[{specFile:"Example-spec.json",spec:this.emptySpec},{specFile:"Example-spec-2.json",spec:this.emptySpec}]}ngOnInit(){var t=this;this.specs.forEach(function(){var n=de(function*(r){const s=yield da(t.http.get("assets/specs/ncpt/"+r.specFile));console.log(s),r.spec=s});return function(r){return n.apply(this,arguments)}}())}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Oc))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-ncpt"]],decls:20,vars:3,consts:[["substancePopoverMenu","matMenu"],[1,"outer-container"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/display/WIPnutsig/SNOMED+CT+Implementation+Guide+for+the+Nutrition+Care+Process+Terminology","target","_blank"],["mat-stretch-tabs","false","mat-align-tabs","start"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"container"],[3,"spec"]],template:function(n,r){if(1&n){const s=ge();q(0,"div",1)(1,"h3"),ut(2,"SNOMED CT - NCPT Implementation Demonstrator "),q(3,"button",2)(4,"mat-icon"),ut(5,"info"),et()(),q(6,"mat-menu",null,0)(8,"span",3),Vt("click",function(p){return Ut(s),zt(p.stopPropagation())}),q(9,"h4"),ut(10,"SNOMED CT - NCPT Implementation Demonstrator"),et(),q(11,"p"),ut(12,"This is a demonstration of the use of SNOMED CT for coding clinical information related to the Nutrition Care Process."),et(),q(13,"p"),ut(14,"For more information check the "),q(15,"a",4),ut(16," Implementation Guide"),et(),ut(17,"."),et()()()(),q(18,"mat-tab-group",5),Ht(19,kPt,3,2,"mat-tab",6),et()()}if(2&n){const s=Zi(7);ot(3),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(11),xt("ngForOf",r.specs)}},dependencies:[xs,xo,ha,il,Tl,Ld,cg,yf,RPt],styles:[".outer-container[_ngcontent-%COMP%]{margin:1rem;width:calc(100% - 2rem)}.container[_ngcontent-%COMP%]{margin:2rem;width:calc(100% - 4rem)}"]})}return e})();var FPt=as(945),Dl=as.n(FPt);const OPt=["gameContainer"];let LPt=(()=>{class e{constructor(t){this.terminologyService=t}ngOnInit(){const t=new NPt,n=new BPt(this.terminologyService),r={type:Dl().AUTO,width:800,height:600,parent:this.gameContainer.nativeElement,scene:[n,t],physics:{default:"arcade",arcade:{debug:!1}}};this.game=new(Dl().Game)(r)}ngOnDestroy(){this.game&&this.game.destroy(!0)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Zs))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-phaser-game"]],viewQuery:function(n,r){if(1&n&&Ai(OPt,7),2&n){let s;Oe(s=Le())&&(r.gameContainer=s.first)}},decls:2,vars:0,consts:[["gameContainer",""]],template:function(n,r){1&n&&be(0,"div",null,0)}})}return e})();class NPt extends Dl().Scene{constructor(){super({key:"UIScene",active:!0}),this.gamePaused=!1,this.speedButtons=[],this.speedLevels=[1,2,4,16],this.activeSpeedIndex=0}preload(){this.load.image("pauseButton","assets/cdstd/Objects/Buttons/button_pause.png"),this.load.image("unpauseButton","assets/cdstd/Objects/Buttons/button_unpause.png")}create(){this.pauseButton=this.add.image(75,50,"pauseButton").setInteractive(),this.pauseButton.on("pointerdown",()=>{const i=this.scene.get("CdstdScene");this.gamePaused?i&&(i.scene.resume(),this.gamePaused=!1,this.pauseButton.setTexture("pauseButton")):i&&(i.scene.pause(),this.gamePaused=!0,this.pauseButton.setTexture("unpauseButton"))}),this.speedLevels.forEach((i,t)=>{const n=this.add.text(150+60*t,35,`${i}x`,{fontSize:"18px",color:t===this.activeSpeedIndex?"#ff0":"#fff",backgroundColor:"#000",padding:{x:10,y:5}}).setInteractive().on("pointerdown",()=>{this.setSpeed(t)});this.speedButtons.push(n)})}setSpeed(i){this.activeSpeedIndex=i,this.speedButtons.forEach((n,r)=>{n.setStyle({color:r===this.activeSpeedIndex?"#ff0":"#fff"})});const t=this.scene.get("CdstdScene");t&&(t.time.timeScale=this.speedLevels[this.activeSpeedIndex],t.setSpeedMultiplier(this.speedLevels[this.activeSpeedIndex]))}}class BPt extends Dl().Scene{constructor(i){super({key:"CdstdScene"}),this.terminologyService=i,this.maxPatients=10,this.spawnedPatients=0,this.patientsInQueue=0,this.outsideQueue=[],this.insideQueue=[],this.goodTriage=0,this.badTriage=0,this.diagnosisData=[],this.admitting=!1,this.lastTriageTime=0,this.speedMultiplier=1,this.admissionEcl="( << 386661006 |Fever| OR << 22253000 |Pain (finding)| )",this.internalTriageRules=[{ecl:"<< 386661006",doctorIndex:1},{ecl:"<< 22253000",doctorIndex:0}],this.attendingDoctors=[{x:130,y:207,title:"Cardiologist",ecl:"(<< 106063007 |Cardiovascular finding (finding)| OR << 29857009 |Chest pain (finding)|)"},{x:130,y:140,title:"Infectologist",ecl:"<< 386661006 |Fever (finding)|"}],this.characterAnimations=[{name:"patient",variants:[{id:1,animations:{idle:{start:0,end:5,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:10,repeat:-1},dead:{start:0,end:3,frameRate:4,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}},{id:2,animations:{idle:{start:0,end:5,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:10,repeat:-1},dead:{start:0,end:3,frameRate:4,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}},{id:3,animations:{idle:{start:0,end:4,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:9,repeat:-1},dead:{start:0,end:4,frameRate:5,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}}]},{name:"gatekeeper",variants:[{id:2,animations:{idle:{start:0,end:5,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:10,repeat:-1},dead:{start:0,end:4,frameRate:5,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}}]}],this.terminologyService.setSnowstormFhirBase("https://snowstorm-lite.nw.r.appspot.com/fhir")}setSpeedMultiplier(i){this.speedMultiplier=i}getSelectedSpeed(){return this.speedMultiplier}preload(){this.load.json("diagnosisData","assets/cdstd/Data/dx_1.json"),this.load.image("hospitalFloor","assets/cdstd/Backgrounds/hospital-floor-day.png");const i=["idle","walk","dead","hurt"];for(let t=1;t<=3;t++)i.forEach(n=>{this.load.spritesheet(`patient_${n}_${t}`,`assets/cdstd/Characters/City_men_${t}/${n.charAt(0).toUpperCase()+n.slice(1)}.png`,{frameWidth:128,frameHeight:128})});for(let t=2;t<=2;t++)i.forEach(n=>{this.load.spritesheet(`gatekeeper_${n}_${t}`,`assets/cdstd/Characters/Gangsters_${t}/${n.charAt(0).toUpperCase()+n.slice(1)}.png`,{frameWidth:128,frameHeight:128})})}create(){this.diagnosisData=this.cache.json.get("diagnosisData"),this.defineAnimations(),this.background=this.add.image(400,300,"hospitalFloor"),this.background.setScale(1),this.scoreText=this.add.text(750,10,`Patients: ${this.spawnedPatients}`,{fontSize:"20px",color:"#ffffff",fontStyle:"bold"}).setOrigin(1,0),this.input.enabled=!0,this.outsideQueue=[],this.goodTriage=0,this.spawnedPatients=0,this.patients=this.physics.add.group(),this.spawnPatient(),this.scheduleRandomPatientSpawn(),this.addDoctors()}update(){this.patients.getChildren().forEach(t=>{const n=t;if(!n.active)return;const r=n.x,s=n.previousX;r<s?n.flipX=!0:r>s&&(n.flipX=!1),n.previousX=r}),this.scoreText.setText(`Patients: ${this.spawnedPatients} Effectiveness: ${(this.spawnedPatients-this.badTriage)/this.spawnedPatients*100}%`),this.admitting&&this.testNextPatientForAdmission();const i=Date.now();this.insideQueue.length>0&&this.attendingDoctors.every(t=>!t.character.info.busy)&&i-this.lastTriageTime>=2e3&&(this.lastTriageTime=Date.now(),this.time.delayedCall(1e3,()=>{this.internalTriage()}))}defineAnimations(){this.characterAnimations.forEach(({name:i,variants:t})=>{t.forEach(({id:n,animations:r})=>{Object.entries(r).forEach(([s,{start:o,end:p,frameRate:C,repeat:D}])=>{const R=`${i}_${s}_${n}`;this.anims.exists(R)||this.anims.create({key:R,frames:this.anims.generateFrameNumbers(`${i}_${s}_${n}`,{start:o,end:p}),frameRate:C,repeat:D})})})})}scheduleRandomPatientSpawn(){if(this.spawnedPatients<this.maxPatients){const i=Dl().Math.Between(2,5);this.time.addEvent({delay:i,callback:()=>{this.spawnPatient(),this.scheduleRandomPatientSpawn()},callbackScope:this})}}addDoctors(){this.internalTriageDoctor=new M_(this,270,350,"gatekeeper",2),this.internalTriageDoctor.flipX=!1,this.internalTriageDoctor.idle(),this.attendingDoctors.forEach(i=>{const t=new M_(this,i.x,i.y,"gatekeeper",2);t.info.ecl=i.ecl,t.info.title=i.title,t.info.busy=!1,t.idle(),i.character=t})}spawnPatient(){const i=new M_(this,80,10,"patient",Dl().Math.Between(1,3));this.outsideQueue.push(i),i.queuePosition=this.outsideQueue.length,i.setScale(.5),this.walkTo(i,[{x:80,y:533,duration:500},{x:330+20*i.queuePosition,y:533,duration:500}],()=>{this.patientsInQueue++,this.time.delayedCall(100,()=>{i.flipX=!0}),this.patientsInQueue===this.maxPatients&&this.queueComplete()}),i.setActive(!0).setVisible(!0),this.patients.add(i),this.spawnedPatients++}queueComplete(){this.gatekeeper=new M_(this,315,190,"gatekeeper",2),this.gatekeeper.setScale(.5),this.walkTo(this.gatekeeper,[{x:315,y:350,duration:200},{x:240,y:350,duration:200},{x:240,y:533,duration:200},{x:310,y:533,duration:200}],()=>{this.gatekeeper.say("We will start soon",1e3),this.time.delayedCall(1e3,()=>{this.admitting=!0})})}patientDied(i){}testNextPatientForAdmission(){if(0===this.outsideQueue.length)return;const i=this.outsideQueue.shift();i&&(this.admitting=!1,this.gatekeeper.say("How do you feel?",1500),this.time.delayedCall(1500,()=>{let t="I have been feeling with:\n";t+=i.clinicalData.diagnosis.map(n=>n.display).join("\n"),i.say(t,1800),this.time.delayedCall(2e3,()=>{this.checkPatientDiagnosisVsEcl(i,this.admissionEcl).then(n=>{n.length>0?(this.gatekeeper.say("Go in...",1500),i.clinicalData.diagnosis.forEach(r=>{n.find(s=>s.code===r.code)&&(r.status="admitted")}),this.time.delayedCall(1500,()=>{this.enterHospital(i),this.advanceQueue(this.outsideQueue),this.time.delayedCall(1e3,()=>{this.admitting=!0})})):(this.gatekeeper.say("Go home...",1500),this.time.delayedCall(500,()=>{this.walkAway(i),this.advanceQueue(this.outsideQueue),this.time.delayedCall(1e3,()=>{this.admitting=!0})}))})})}))}enterHospital(i){this.insideQueue.push(i),i.queuePosition=this.insideQueue.length,i.walk(),this.walkTo(i,[{x:240,y:i.y,duration:500},{x:240,y:350,duration:500},{x:280+20*i.queuePosition,y:350,duration:500}],()=>{this.time.delayedCall(100,()=>{i.flipX=!0})})}walkAway(i){i.flipX=!1,i.walk();let t=[];i.y<500&&(t.push({x:240,y:i.y,duration:500}),t.push({x:240,y:533,duration:500}));let n=Dl().Math.Between(0,1);t.push({x:800*n,y:533,duration:1e3}),this.walkTo(i,t,()=>{this.time.delayedCall(100,()=>{i.destroy()})})}advanceQueue(i){if(0===i.length)return;console.log(i);const t=i[0].x-40;i.forEach((n,r)=>{n.walk(),n.queuePosition=r+1,this.walkTo(n,[{x:t+20*n.queuePosition,y:n.y,duration:500}],()=>{})})}internalTriage(){var i=this;return de(function*(){if(0===i.insideQueue.length)return;const t=i.insideQueue.shift();if(t){for(let n of i.internalTriageRules){const r=i.attendingDoctors[n.doctorIndex].character;if(!r.info.busy&&(yield i.checkPatientDiagnosisVsEcl(t,n.ecl)).length>0){console.log(`${r.info.title} is available and will attend to the patient.`),i.internalTriageDoctor.say(`Go to the ${r?.info?.title}`,1e3),i.time.delayedCall(1e3,()=>{t.flipX=!0;const o=[{x:240,y:t.y,duration:200},{x:240,y:r.y,duration:300},{x:r.x+30,y:r.y,duration:300}];r.info.busy=!0,i.walkTo(t,o,()=>{t.idle(),i.attendPatient(t,r)})});break}}t.active||i.addToInsideQueue(t)}})()}addToInsideQueue(i){this.insideQueue.push(i),i.queuePosition=this.insideQueue.length,this.walkTo(i,[{x:280+20*i.queuePosition,y:350,duration:500/this.speedMultiplier}],()=>{i.idle()}),console.log(`Patient re-added to insideQueue at position ${i.queuePosition}`)}attendPatient(i,t){t.info.busy=!0,this.time.delayedCall(1e3,()=>{this.checkPatientDiagnosisVsEcl(i,t.info.ecl).then(n=>{n.length>0?(i.clinicalData.diagnosis.forEach(r=>{n.find(s=>s.code===r.code)&&(r.status="treated")}),i.clinicalData.diagnosis.find(r=>"admitted"===r.status)?(t.say(`${t.info.title}\nGo to the next doctor`,1e3),this.time.delayedCall(1e3,()=>{this.enterHospital(i),t.info.busy=!1})):(t.say(`${t.info.title}\nHave a nice day`,1e3),this.time.delayedCall(1e3,()=>{this.goodTriage++,this.walkAway(i),t.info.busy=!1}))):i.clinicalData.diagnosis.find(r=>"admitted"===r.status)?(t.say(`${t.info.title}\nI can't help with this, but go to the next doctor`,1e3),this.time.delayedCall(1e3,()=>{this.enterHospital(i),t.info.busy=!1})):(t.say(`${t.info.title}\nI can't help you...`,1e3),this.time.delayedCall(1e3,()=>{this.badTriage++,this.walkAway(i),t.info.busy=!1}))})})}gameOver(){this.add.text(400,350,"Game Over",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,400,"Press R to Restart",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5),this.physics.pause();const i=this.input?.keyboard?.addKey("R");i?i.once("down",()=>{this.time.removeAllEvents(),this.tweens.killAll(),this.scene.restart()}):console.error("Keyboard input is not available.")}walkTo(i,t,n){if(0===t.length)return void n();i.walk();const r=s=>{if(s>=t.length)return i.idle(),void n();const o=t[s];this.tweens.add({targets:i,x:o.x,y:o.y,duration:o.duration/this.speedMultiplier,ease:"Linear",onComplete:()=>{r(s+1)}})};r(0)}checkPatientDiagnosisVsEcl(i,t){return new Promise((n,r)=>{let s=0,o="";i?.clinicalData.diagnosis.forEach((p,C)=>{"treated"!==p.status&&(s++,o+=s>1?` OR ${p.code}`:` ${p.code}`)}),0!==s?this.terminologyService.expandValueSet(t=t+" AND ("+o+" )","").subscribe(p=>{n(p.expansion?.total>0?p.expansion.contains:[])},p=>{r(p)}):n([])})}}class M_ extends Dl().Physics.Arcade.Sprite{constructor(i,t,n,r,s=1,o=[]){if(super(i,t,n,`${r}_idle_${s}`),this.inQueue=!1,this.queuePosition=0,this.queueStartTime=0,this.hitPoints=5,this.previousX=0,this.clinicalData={},this.info={},i.add.existing(this),i.physics.add.existing(this),this.setCollideWorldBounds(!0),this.sceneRef=i,this.spriteType=s,this.role=r,i.add.existing(this),this.setScale(.5),"patient"===r)if(this.walk(),this.clinicalData.age=Dl().Math.Between(18,100),this.clinicalData.diagnosis=[],o&&o.length>0)this.clinicalData.diagnosis=o;else{const p=Dl().Math.Between(1,5);for(let C=0;C<p;C++){const D=Dl().Utils.Array.GetRandom(i.diagnosisData);D.status="none",this.clinicalData.diagnosis.includes(D)||this.clinicalData.diagnosis.push(D)}}else this.idle()}walk(){this.anims.play(`${this.role}_walk_${this.spriteType}`)}idle(){this.anims.play(`${this.role}_idle_${this.spriteType}`)}dead(){this.anims.play(`patient_dead_${this.spriteType}`),this.sceneRef.patientDied(this)}hurt(){this.anims.play(`patient_hurt_${this.spriteType}`),this.hitPoints--;const i=this.scene.add.text(this.x,this.y-10,"-1",{fontSize:"20px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5);this.scene.tweens.add({targets:i,y:this.y-100,alpha:0,duration:3500/this.sceneRef.getSelectedSpeed(),ease:"Power2",onComplete:()=>i.destroy()}),this.once(Dl().Animations.Events.ANIMATION_COMPLETE,()=>{this.hitPoints>0?this.idle():this.dead()})}startWaiting(){"patient"===this.role&&(this.inQueue=!0,this.queueStartTime=this.scene.time.now)}say(i,t=2e3){this.calloutText&&this.calloutText.destroy(),this.calloutLine&&this.calloutLine.destroy(),this.calloutText=this.sceneRef.add.text(this.x,this.y-50,i,{fontSize:"16px",color:"#ffffff",backgroundColor:"#000000",padding:{x:5,y:2},align:"center"}).setOrigin(.5).setDepth(10),this.calloutLine=this.sceneRef.add.line(this.x+5,this.y+10,0,0,10,-35,0).setLineWidth(1.5).setDepth(9),this.sceneRef.tweens.add({targets:[this.calloutText,this.calloutLine],alpha:0,duration:500/this.sceneRef.getSelectedSpeed(),delay:t,onComplete:()=>{this.calloutText?.destroy(),this.calloutText=void 0,this.calloutLine?.destroy()}})}}const VPt=[{path:"",component:FY},{path:"home",component:FY},{path:"allergies",component:Bwt},{path:"sandbox",component:VCt},{path:"prescription",component:UCt},{path:"questionnaires",component:dSt},{path:"implementation-course/subset-validator",component:LSt},{path:"snoguess",component:HRt},{path:"snoguess/scoreboard",component:Pkt},{path:"context",component:rkt},{path:"maturity",component:gPt},{path:"ncpt",component:PPt},{path:"phaser",component:LPt},{path:"**",redirectTo:""}];let UPt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[D9.forRoot(VPt,{useHash:!0}),D9]})}return e})();const zPt=[{title:"GROUP 1",description:"The first group of bindings in the coding demonstration",bindings:[{title:"Medicinal product + groupers",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                        [0..0] 1142139005 |Count of base of active ingredient| = *,\n                        [0..0] 411116001 |Has manufactured dose form| = *,\n                        [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, contain at least provided ingredientes (open world assuption), no information on form."},{title:"Gender",type:"dropdown",ecl:"< 365873007 |Gender finding (finding)|",value:"",note:"Patient gender."},{title:"Medicinal product form + groupers",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    [0..0] 1142139005 |Count of base of active ingredient| = *,\n                    411116001 |Has manufactured dose form| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, with form details."}]},{title:"GROUP 2",description:"The second group of bindings in the coding demonstration",bindings:[{title:"Medicinal product only",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    1142139005 |Count of base of active ingredient| = *,\n                    [0..0] 411116001 |Has manufactured dose form| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, containing only the provided ingredientes (close world assuption), with no information on form."},{title:"Medicinal product form only",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    1142139005 |Count of base of active ingredient| = *,\n                    411116001 |Has manufactured dose form| = *,\n                    [0..0] 732943007 |Has basis of strength substance (attribute)| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, with form details, containing only the provided ingredientes (close world assuption)."}]}];let GPt=(()=>{class e{constructor(){}getCodingSpec(){return zPt}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var pn,Py={version:"0.20.2"},ea=1200,Xf=1252,HPt=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],HP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},R_=function(e){-1!=HPt.indexOf(e)&&(Xf=HP[0]=e)},Il=function(e){ea=e,R_(e)};var Fy=function(i){return String.fromCharCode(i)},WP=function(i){return String.fromCharCode(i)},_s=null,$a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function F_(e){for(var i="",t=0,n=0,r=0,s=0,o=0,p=0,C=0,D=0;D<e.length;)s=(t=e.charCodeAt(D++))>>2,o=(3&t)<<4|(n=e.charCodeAt(D++))>>4,p=(15&n)<<2|(r=e.charCodeAt(D++))>>6,C=63&r,isNaN(n)?p=C=64:isNaN(r)&&(C=64),i+=$a.charAt(s)+$a.charAt(o)+$a.charAt(p)+$a.charAt(C);return i}function ol(e){var i="",s=0,o=0,p=0,C=0;"data:"==e.slice(0,5)&&(D=e.slice(0,1024).indexOf(";base64,"))>-1&&(e=e.slice(D+8)),e=e.replace(/[^\w\+\/\=]/g,"");for(var D=0;D<e.length;)s=$a.indexOf(e.charAt(D++)),o=$a.indexOf(e.charAt(D++)),i+=String.fromCharCode(s<<2|o>>4),64!==(p=$a.indexOf(e.charAt(D++)))&&(i+=String.fromCharCode((15&o)<<4|p>>2)),64!==(C=$a.indexOf(e.charAt(D++)))&&(i+=String.fromCharCode((3&p)<<6|C));return i}var Tn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),jc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(i,t){return t?new Buffer(i,t):new Buffer(i)}:Buffer.from.bind(Buffer)}return function(){}}(),Oy=function(){if(typeof Buffer>"u")return!1;var e=jc([65,0]);return!!e&&1==e.toString("utf16le").length}();function wh(e){return Tn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function BY(e){return Tn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var wo=function(i){return Tn?jc(i,"binary"):i.split("").map(function(t){return 255&t.charCodeAt(0)})};function Ly(e){if(typeof ArrayBuffer>"u")return wo(e);for(var i=new ArrayBuffer(e.length),t=new Uint8Array(i),n=0;n!=e.length;++n)t[n]=255&e.charCodeAt(n);return i}function Yc(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var i=[],t=0;t<e.length;++t)i[t]=String.fromCharCode(e[t]);return i.join("")}var Es=Tn?function(e){return Buffer.concat(e.map(function(i){return Buffer.isBuffer(i)?i:jc(i)}))}:function(e){if(typeof Uint8Array<"u"){var i=0,t=0;for(i=0;i<e.length;++i)t+=e[i].length;var n=new Uint8Array(t),r=0;for(i=0,t=0;i<e.length;t+=r,++i)r=e[i].length,e[i]instanceof Uint8Array?n.set(e[i],t):n.set("string"==typeof e[i]?new Uint8Array(wo(e[i])):new Uint8Array(e[i]),t);return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},Qa=/\u0000/g,Ny=/[\u0001-\u0006]/g;function rv(e){for(var i="",t=e.length-1;t>=0;)i+=e.charAt(t--);return i}function sc(e,i){var t=""+e;return t.length>=i?t:Wn("0",i-t.length)+t}function jP(e,i){var t=""+e;return t.length>=i?t:Wn(" ",i-t.length)+t}function O_(e,i){var t=""+e;return t.length>=i?t:t+Wn(" ",i-t.length)}var VY=Math.pow(2,32);function sv(e,i){return e>VY||e<-VY?function ZPt(e,i){var t=""+Math.round(e);return t.length>=i?t:Wn("0",i-t.length)+t}(e,i):function JPt(e,i){var t=""+e;return t.length>=i?t:Wn("0",i-t.length)+t}(Math.round(e),i)}function L_(e,i){return e.length>=7+(i=i||0)&&103==(32|e.charCodeAt(i))&&101==(32|e.charCodeAt(i+1))&&110==(32|e.charCodeAt(i+2))&&101==(32|e.charCodeAt(i+3))&&114==(32|e.charCodeAt(i+4))&&97==(32|e.charCodeAt(i+5))&&108==(32|e.charCodeAt(i+6))}var UY=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],YP=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Ri={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},zY={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},tFt={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function N_(e,i,t){for(var n=e<0?-1:1,r=e*n,s=0,o=1,p=0,C=1,D=0,R=0,F=Math.floor(r);D<i&&(p=(F=Math.floor(r))*o+s,R=F*D+C,!(r-F<5e-8));)r=1/(r-F),s=o,o=p,C=D,D=R;if(R>i&&(D>i?(R=C,p=s):(R=D,p=o)),!t)return[0,n*p,R];var B=Math.floor(n*p/R);return[B,n*p-B*R,R]}function $c(e,i,t){if(e>2958465||e<0)return null;e=function eFt(e){var i=e.toPrecision(16);if(i.indexOf("e")>-1){var t=i.slice(0,i.indexOf("e"));return(t=t.indexOf(".")>-1?t.slice(0,"0."==t.slice(0,2)?17:16):t.slice(0,15)+Wn("0",t.length-15))+i.slice(i.indexOf("e"))}var n=i.indexOf(".")>-1?i.slice(0,"0."==i.slice(0,2)?17:16):i.slice(0,15)+Wn("0",i.length-15);return Number(n)}(e);var n=0|e,r=Math.floor(86400*(e-n)),s=0,o=[],p={D:n,T:r,u:86400*(e-n)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(p.u)<1e-6&&(p.u=0),i&&i.date1904&&(n+=1462),p.u>.9999&&(p.u=0,86400==++r&&(p.T=r=0,++n,++p.D)),60===n)o=t?[1317,10,29]:[1900,2,29],s=3;else if(0===n)o=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var C=new Date(1900,0,1);C.setDate(C.getDate()+n-1),o=[C.getFullYear(),C.getMonth()+1,C.getDate()],s=C.getDay(),n<60&&(s=(s+6)%7),t&&(s=function sFt(e,i){i[0]-=581;var t=e.getDay();return e<60&&(t=(t+6)%7),t}(C,o))}return p.y=o[0],p.m=o[1],p.d=o[2],p.S=r%60,r=Math.floor(r/60),p.M=r%60,r=Math.floor(r/60),p.H=r,p.q=s,p}function $P(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function jf(e,i){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):function By(e){var t,i=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=i>=-4&&i<=-1?e.toPrecision(10+i):Math.abs(i)<=9?function nFt(e){var i=e<0?12:11,t=$P(e.toFixed(12));return t.length<=i||(t=e.toPrecision(10)).length<=i?t:e.toExponential(5)}(e):10===i?e.toFixed(10).substr(0,12):function rFt(e){var i=$P(e.toFixed(11));return i.length>(e<0?12:11)||"0"===i||"-0"===i?e.toPrecision(6):i}(e),$P(function iFt(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return Vo(14,ss(e,i&&i.date1904),i)}throw new Error("unsupported value in General format: "+e)}function aFt(e,i,t,n){var C,r="",s=0,o=0,p=t.y,D=0;switch(e){case 98:p=t.y+543;case 121:switch(i.length){case 1:case 2:C=p%100,D=2;break;default:C=p%1e4,D=4}break;case 109:switch(i.length){case 1:case 2:C=t.m,D=i.length;break;case 3:return YP[t.m-1][1];case 5:return YP[t.m-1][0];default:return YP[t.m-1][2]}break;case 100:switch(i.length){case 1:case 2:C=t.d,D=i.length;break;case 3:return UY[t.q][0];default:return UY[t.q][1]}break;case 104:switch(i.length){case 1:case 2:C=1+(t.H+11)%12,D=i.length;break;default:throw"bad hour format: "+i}break;case 72:switch(i.length){case 1:case 2:C=t.H,D=i.length;break;default:throw"bad hour format: "+i}break;case 77:switch(i.length){case 1:case 2:C=t.M,D=i.length;break;default:throw"bad minute format: "+i}break;case 115:if("s"!=i&&"ss"!=i&&".0"!=i&&".00"!=i&&".000"!=i)throw"bad second format: "+i;return 0!==t.u||"s"!=i&&"ss"!=i?(o=n>=2?3===n?1e3:100:1===n?10:1,(s=Math.round(o*(t.S+t.u)))>=60*o&&(s=0),"s"===i?0===s?"0":""+s/o:(r=sc(s,2+n),"ss"===i?r.substr(0,2):"."+r.substr(2,i.length-1))):sc(t.S,i.length);case 90:switch(i){case"[h]":case"[hh]":C=24*t.D+t.H;break;case"[m]":case"[mm]":C=60*(24*t.D+t.H)+t.M;break;case"[s]":case"[ss]":C=60*(60*(24*t.D+t.H)+t.M)+(0==n?Math.round(t.S+t.u):t.S);break;default:throw"bad abstime format: "+i}D=3===i.length?1:2;break;case 101:C=p,D=1}return D>0?sc(C,D):""}function qd(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var GY=/%/g;function HY(e,i){var t,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==i)return"0.0E+0";if(i<0)return"-"+HY(e,-i);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(i)*Math.LOG10E)%r;if(s<0&&(s+=r),-1===(t=(i/Math.pow(10,s)).toPrecision(n+1+(r+s)%r)).indexOf("e")){var o=Math.floor(Math.log(i)*Math.LOG10E);for(-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);"0."===t.substr(0,2);)t=(t=t.charAt(0)+t.substr(2,r)+"."+t.substr(2+r)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(p,C,D,R){return C+D+R.substr(0,(r+s)%r)+"."+R.substr(s)+"E"})}else t=i.toExponential(n);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var WY=/# (\?+)( ?)\/( ?)(\d+)/,XY=/^#*0*\.([0#]+)/,jY=/\)[^)]*[0#]/,YY=/\(###\) ###\\?-####/;function To(e){for(var t,i="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:i+=" ";break;case 48:i+="0";break;default:i+=String.fromCharCode(t)}return i}function $Y(e,i){var t=Math.pow(10,i);return""+Math.round(e*t)/t}function QY(e,i){var t=e-Math.floor(e),n=Math.pow(10,i);return i<(""+Math.round(t*n)).length?0:Math.round(t*n)}function Ml(e,i,t){if(40===e.charCodeAt(0)&&!i.match(jY)){var n=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ml("n",n,t):"("+Ml("n",n,-t)+")"}if(44===i.charCodeAt(i.length-1))return function lFt(e,i,t){for(var n=i.length-1;44===i.charCodeAt(n-1);)--n;return tu(e,i.substr(0,n),t/Math.pow(10,3*(i.length-n)))}(e,i,t);if(-1!==i.indexOf("%"))return function oFt(e,i,t){var n=i.replace(GY,""),r=i.length-n.length;return tu(e,n,t*Math.pow(10,2*r))+Wn("%",r)}(e,i,t);if(-1!==i.indexOf("E"))return HY(i,t);if(36===i.charCodeAt(0))return"$"+Ml(e,i.substr(" "==i.charAt(1)?2:1),t);var r,s,o,p,C=Math.abs(t),D=t<0?"-":"";if(i.match(/^00+$/))return D+sv(C,i.length);if(i.match(/^[#?]+$/))return"0"===(r=sv(t,0))&&(r=""),r.length>i.length?r:To(i.substr(0,i.length-r.length))+r;if(s=i.match(WY))return function cFt(e,i,t){var n=parseInt(e[4],10),r=Math.round(i*n),s=Math.floor(r/n),o=r-s*n,p=n;return t+(0===s?"":""+s)+" "+(0===o?Wn(" ",e[1].length+1+e[4].length):jP(o,e[1].length)+e[2]+"/"+e[3]+sc(p,e[4].length))}(s,C,D);if(i.match(/^#+0+$/))return D+sv(C,i.length-i.indexOf("0"));if(s=i.match(XY))return r=$Y(t,s[1].length).replace(/^([^\.]+)$/,"$1."+To(s[1])).replace(/\.$/,"."+To(s[1])).replace(/\.(\d*)$/,function(X,J){return"."+J+Wn("0",To(s[1]).length-J.length)}),-1!==i.indexOf("0.")?r:r.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),s=i.match(/^(0*)\.(#*)$/))return D+$Y(C,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=i.match(/^#{1,3},##0(\.?)$/))return D+qd(sv(C,0));if(s=i.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ml(e,i,-t):qd(""+(Math.floor(t)+function uFt(e,i){return i<(""+Math.round((e-Math.floor(e))*Math.pow(10,i))).length?1:0}(t,s[1].length)))+"."+sc(QY(t,s[1].length),s[1].length);if(s=i.match(/^#,#*,#0/))return Ml(e,i.replace(/^#,#*,/,""),t);if(s=i.match(/^([0#]+)(\\?-([0#]+))+$/))return r=rv(Ml(e,i.replace(/[\\-]/g,""),t)),o=0,rv(rv(i.replace(/\\/g,"")).replace(/[0#]/g,function(X){return o<r.length?r.charAt(o++):"0"===X?"0":""}));if(i.match(YY))return"("+(r=Ml(e,"##########",t)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var R="";if(s=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),p=N_(C,Math.pow(10,o)-1,!1),r=""+D," "==(R=tu("n",s[1],p[1])).charAt(R.length-1)&&(R=R.substr(0,R.length-1)+"0"),r+=R+s[2]+"/"+s[3],(R=O_(p[2],o)).length<s[4].length&&(R=To(s[4].substr(s[4].length-R.length))+R),r+=R;if(s=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),D+((p=N_(C,Math.pow(10,o)-1,!0))[0]||(p[1]?"":"0"))+" "+(p[1]?jP(p[1],o)+s[2]+"/"+s[3]+O_(p[2],o):Wn(" ",2*o+1+s[2].length+s[3].length));if(s=i.match(/^[#0?]+$/))return r=sv(t,0),i.length<=r.length?r:To(i.substr(0,i.length-r.length))+r;if(s=i.match(/^([#0?]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var F=i.indexOf(".")-o,B=i.length-r.length-F;return To(i.substr(0,F)+r+i.substr(i.length-B))}if(s=i.match(/^00,000\.([#0]*0)$/))return o=QY(t,s[1].length),t<0?"-"+Ml(e,i,-t):qd(function hFt(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(X){return"00,"+(X.length<3?sc(0,3-X.length):"")+X})+"."+sc(o,s[1].length);switch(i){case"###,##0.00":return Ml(e,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var V=qd(sv(C,0));return"0"!==V?D+V:"";case"###,###.00":return Ml(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ml(e,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+i+"|")}function KY(e,i){var t,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==i)return"0.0E+0";if(i<0)return"-"+KY(e,-i);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(i)*Math.LOG10E)%r;if(s<0&&(s+=r),!(t=(i/Math.pow(10,s)).toPrecision(n+1+(r+s)%r)).match(/[Ee]/)){var o=Math.floor(Math.log(i)*Math.LOG10E);-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(p,C,D,R){return C+D+R.substr(0,(r+s)%r)+"."+R.substr(s)+"E"})}else t=i.toExponential(n);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Qc(e,i,t){if(40===e.charCodeAt(0)&&!i.match(jY)){var n=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Qc("n",n,t):"("+Qc("n",n,-t)+")"}if(44===i.charCodeAt(i.length-1))return function fFt(e,i,t){for(var n=i.length-1;44===i.charCodeAt(n-1);)--n;return tu(e,i.substr(0,n),t/Math.pow(10,3*(i.length-n)))}(e,i,t);if(-1!==i.indexOf("%"))return function mFt(e,i,t){var n=i.replace(GY,""),r=i.length-n.length;return tu(e,n,t*Math.pow(10,2*r))+Wn("%",r)}(e,i,t);if(-1!==i.indexOf("E"))return KY(i,t);if(36===i.charCodeAt(0))return"$"+Qc(e,i.substr(" "==i.charAt(1)?2:1),t);var r,s,o,p,C=Math.abs(t),D=t<0?"-":"";if(i.match(/^00+$/))return D+sc(C,i.length);if(i.match(/^[#?]+$/))return r=""+t,0===t&&(r=""),r.length>i.length?r:To(i.substr(0,i.length-r.length))+r;if(s=i.match(WY))return function dFt(e,i,t){return t+(0===i?"":""+i)+Wn(" ",e[1].length+2+e[4].length)}(s,C,D);if(i.match(/^#+0+$/))return D+sc(C,i.length-i.indexOf("0"));if(s=i.match(XY))return r=(r=(""+t).replace(/^([^\.]+)$/,"$1."+To(s[1])).replace(/\.$/,"."+To(s[1]))).replace(/\.(\d*)$/,function(X,J){return"."+J+Wn("0",To(s[1]).length-J.length)}),-1!==i.indexOf("0.")?r:r.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),s=i.match(/^(0*)\.(#*)$/))return D+(""+C).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=i.match(/^#{1,3},##0(\.?)$/))return D+qd(""+C);if(s=i.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Qc(e,i,-t):qd(""+t)+"."+Wn("0",s[1].length);if(s=i.match(/^#,#*,#0/))return Qc(e,i.replace(/^#,#*,/,""),t);if(s=i.match(/^([0#]+)(\\?-([0#]+))+$/))return r=rv(Qc(e,i.replace(/[\\-]/g,""),t)),o=0,rv(rv(i.replace(/\\/g,"")).replace(/[0#]/g,function(X){return o<r.length?r.charAt(o++):"0"===X?"0":""}));if(i.match(YY))return"("+(r=Qc(e,"##########",t)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var R="";if(s=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),p=N_(C,Math.pow(10,o)-1,!1),r=""+D," "==(R=tu("n",s[1],p[1])).charAt(R.length-1)&&(R=R.substr(0,R.length-1)+"0"),r+=R+s[2]+"/"+s[3],(R=O_(p[2],o)).length<s[4].length&&(R=To(s[4].substr(s[4].length-R.length))+R),r+=R;if(s=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),D+((p=N_(C,Math.pow(10,o)-1,!0))[0]||(p[1]?"":"0"))+" "+(p[1]?jP(p[1],o)+s[2]+"/"+s[3]+O_(p[2],o):Wn(" ",2*o+1+s[2].length+s[3].length));if(s=i.match(/^[#0?]+$/))return i.length<=(r=""+t).length?r:To(i.substr(0,i.length-r.length))+r;if(s=i.match(/^([#0]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var F=i.indexOf(".")-o,B=i.length-r.length-F;return To(i.substr(0,F)+r+i.substr(i.length-B))}if(s=i.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Qc(e,i,-t):qd(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(X){return"00,"+(X.length<3?sc(0,3-X.length):"")+X})+"."+sc(0,s[1].length);switch(i){case"###,###":case"##,###":case"#,###":var V=qd(""+C);return"0"!==V?D+V:"";default:if(i.match(/\.[0#?]*$/))return Qc(e,i.slice(0,i.lastIndexOf(".")),t)+To(i.slice(i.lastIndexOf(".")))}throw new Error("unsupported format |"+i+"|")}function tu(e,i,t){return(0|t)===t?Qc(e,i,t):Ml(e,i,t)}var ZY=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ll(e){for(var i=0,t="",n="";i<e.length;)switch(t=e.charAt(i)){case"G":L_(e,i)&&(i+=6),i++;break;case'"':for(;34!==e.charCodeAt(++i)&&i<e.length;);++i;break;case"\\":case"_":i+=2;break;case"@":++i;break;case"B":case"b":if("1"===e.charAt(i+1)||"2"===e.charAt(i+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(i,3).toUpperCase()||"AM/PM"===e.substr(i,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===e.substr(i,5).toUpperCase())return!0;++i;break;case"[":for(n=t;"]"!==e.charAt(i++)&&i<e.length;)n+=e.charAt(i);if(n.match(ZY))return!0;break;case".":case"0":case"#":for(;i<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++i))>-1||"\\"==t&&"-"==e.charAt(i+1)&&"0#".indexOf(e.charAt(i+2))>-1););break;case"?":for(;e.charAt(++i)===t;);break;case"*":++i,(" "==e.charAt(i)||"*"==e.charAt(i))&&++i;break;case"(":case")":++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;);break;default:++i}return!1}var JY=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function qY(e,i){if(null==i)return!1;var t=parseFloat(i[2]);switch(i[1]){case"=":if(e==t)return!0;break;case">":if(e>t)return!0;break;case"<":if(e<t)return!0;break;case"<>":if(e!=t)return!0;break;case">=":if(e>=t)return!0;break;case"<=":if(e<=t)return!0}return!1}function Vo(e,i,t){null==t&&(t={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&t.dateNF?t.dateNF:e;break;case"number":null==(n=14==e&&t.dateNF?t.dateNF:(null!=t.table?t.table:Ri)[e])&&(n=t.table&&t.table[zY[e]]||Ri[zY[e]]),null==n&&(n=tFt[e]||"General")}if(L_(n,0))return jf(i,t);i instanceof Date&&(i=ss(i,t.date1904));var r=function vFt(e,i){var t=function pFt(e){for(var i=[],t=!1,n=0,r=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:i[i.length]=e.substr(r,n-r),r=n+1}if(i[i.length]=e.substr(r),!0===t)throw new Error("Format |"+e+"| unterminated string ");return i}(e),n=t.length,r=t[n-1].indexOf("@");if(n<4&&r>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if("number"!=typeof i)return[4,4===t.length||r>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=r>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=r>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=r>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"]}var s=i>0?t[0]:i<0?t[1]:t[2];if(-1===t[0].indexOf("[")&&-1===t[1].indexOf("["))return[n,s];if(null!=t[0].match(/\[[=<>]/)||null!=t[1].match(/\[[=<>]/)){var o=t[0].match(JY),p=t[1].match(JY);return qY(i,o)?[n,t[0]]:qY(i,p)?[n,t[1]]:[n,t[null!=o&&null!=p?2:1]]}return[n,s]}(n,i);if(L_(r[1]))return jf(i,t);if(!0===i)i="TRUE";else if(!1===i)i="FALSE";else if(""===i||null==i)return"";return function gFt(e,i,t,n){for(var D,R,F,r=[],s="",o=0,p="",C="t",B="H";o<e.length;)switch(p=e.charAt(o)){case"G":if(!L_(e,o))throw new Error("unrecognized character "+p+" in "+e);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";34!==(F=e.charCodeAt(++o))&&o<e.length;)s+=String.fromCharCode(F);r[r.length]={t:"t",v:s},++o;break;case"\\":var V=e.charAt(++o);r[r.length]={t:"("===V||")"===V?V:"t",v:V},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:i},++o;break;case"B":case"b":if("1"===e.charAt(o+1)||"2"===e.charAt(o+1)){if(null==D&&null==(D=$c(i,t,"2"===e.charAt(o+1))))return"";r[r.length]={t:"X",v:e.substr(o,2)},C=p,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":p=p.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(i<0||null==D&&null==(D=$c(i,t)))return"";for(s=p;++o<e.length&&e.charAt(o).toLowerCase()===p;)s+=p;"m"===p&&"h"===C.toLowerCase()&&(p="M"),"h"===p&&(p=B),r[r.length]={t:p,v:s},C=p;break;case"A":case"a":case"\u4e0a":var J={t:p,v:p};if(null==D&&(D=$c(i,t)),"A/P"===e.substr(o,3).toUpperCase()?(null!=D&&(J.v=D.H>=12?e.charAt(o+2):p),J.t="T",B="h",o+=3):"AM/PM"===e.substr(o,5).toUpperCase()?(null!=D&&(J.v=D.H>=12?"PM":"AM"),J.t="T",o+=5,B="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(o,5).toUpperCase()?(null!=D&&(J.v=D.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),J.t="T",o+=5,B="h"):(J.t="t",++o),null==D&&"T"===J.t)return"";r[r.length]=J,C=p;break;case"[":for(s=p;"]"!==e.charAt(o++)&&o<e.length;)s+=e.charAt(o);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(ZY)){if(null==D&&null==(D=$c(i,t)))return"";r[r.length]={t:"Z",v:s.toLowerCase()},C=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",ll(e)||(r[r.length]={t:"t",v:s}));break;case".":if(null!=D){for(s=p;++o<e.length&&"0"===(p=e.charAt(o));)s+=p;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=p;++o<e.length&&"0#?.,E+-%".indexOf(p=e.charAt(o))>-1;)s+=p;r[r.length]={t:"n",v:s};break;case"?":for(s=p;e.charAt(++o)===p;)s+=p;r[r.length]={t:p,v:s},C=p;break;case"*":++o,(" "==e.charAt(o)||"*"==e.charAt(o))&&++o;break;case"(":case")":r[r.length]={t:1===n?"t":p,v:p},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=p;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:p,v:p},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(p))throw new Error("unrecognized character "+p+" in "+e);r[r.length]={t:"t",v:p},++o}var ct,lt,Q=0,nt=0;for(o=r.length-1,C="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=B,C="h",Q<1&&(Q=1);break;case"s":(ct=r[o].v.match(/\.0+$/))&&(nt=Math.max(nt,ct[0].length-1),Q=4),Q<3&&(Q=3);case"d":case"y":case"e":C=r[o].t;break;case"M":C=r[o].t,Q<2&&(Q=2);break;case"m":"s"===C&&(r[o].t="M",Q<2&&(Q=2));break;case"X":break;case"Z":Q<1&&r[o].v.match(/[Hh]/)&&(Q=1),Q<2&&r[o].v.match(/[Mm]/)&&(Q=2),Q<3&&r[o].v.match(/[Ss]/)&&(Q=3)}switch(Q){case 0:break;case 1:case 2:case 3:D.u>=.5&&(D.u=0,++D.S),D.S>=60&&(D.S=0,++D.M),D.M>=60&&(D.M=0,++D.H),D.H>=24&&(D.H=0,++D.D,(lt=$c(D.D)).u=D.u,lt.S=D.S,lt.M=D.M,lt.H=D.H,D=lt);break;case 4:switch(nt){case 1:D.u=Math.round(10*D.u)/10;break;case 2:D.u=Math.round(100*D.u)/100;break;case 3:D.u=Math.round(1e3*D.u)/1e3}D.u>=1&&(D.u=0,++D.S),D.S>=60&&(D.S=0,++D.M),D.M>=60&&(D.M=0,++D.H),D.H>=24&&(D.H=0,++D.D,(lt=$c(D.D)).u=D.u,lt.S=D.S,lt.M=D.M,lt.H=D.H,D=lt)}var Mt,wt="";for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=aFt(r[o].t.charCodeAt(0),r[o].v,D,nt),r[o].t="t";break;case"n":case"?":for(Mt=o+1;null!=r[Mt]&&("?"===(p=r[Mt].t)||"D"===p||(" "===p||"t"===p)&&null!=r[Mt+1]&&("?"===r[Mt+1].t||"t"===r[Mt+1].t&&"/"===r[Mt+1].v)||"("===r[o].t&&(" "===p||"n"===p||")"===p)||"t"===p&&("/"===r[Mt].v||" "===r[Mt].v&&null!=r[Mt+1]&&"?"==r[Mt+1].t));)r[o].v+=r[Mt].v,r[Mt]={v:"",t:";"},++Mt;wt+=r[o].v,o=Mt-1;break;case"G":r[o].t="t",r[o].v=jf(i,t)}var pt,ft,Bt="";if(wt.length>0){40==wt.charCodeAt(0)?(pt=i<0&&45===wt.charCodeAt(0)?-i:i,ft=tu("n",wt,pt)):(ft=tu("n",wt,pt=i<0&&n>1?-i:i),pt<0&&r[0]&&"t"==r[0].t&&(ft=ft.substr(1),r[0].v="-"+r[0].v)),Mt=ft.length-1;var yt=r.length;for(o=0;o<r.length;++o)if(null!=r[o]&&"t"!=r[o].t&&r[o].v.indexOf(".")>-1){yt=o;break}var bt=r.length;if(yt===r.length&&-1===ft.indexOf("E")){for(o=r.length-1;o>=0;--o)null==r[o]||-1==="n?".indexOf(r[o].t)||(Mt>=r[o].v.length-1?r[o].v=ft.substr(1+(Mt-=r[o].v.length),r[o].v.length):Mt<0?r[o].v="":(r[o].v=ft.substr(0,Mt+1),Mt=-1),r[o].t="t",bt=o);Mt>=0&&bt<r.length&&(r[bt].v=ft.substr(0,Mt+1)+r[bt].v)}else if(yt!==r.length&&-1===ft.indexOf("E")){for(Mt=ft.indexOf(".")-1,o=yt;o>=0;--o)if(null!=r[o]&&-1!=="n?".indexOf(r[o].t)){for(R=r[o].v.indexOf(".")>-1&&o===yt?r[o].v.indexOf(".")-1:r[o].v.length-1,Bt=r[o].v.substr(R+1);R>=0;--R)Mt>=0&&("0"===r[o].v.charAt(R)||"#"===r[o].v.charAt(R))&&(Bt=ft.charAt(Mt--)+Bt);r[o].v=Bt,r[o].t="t",bt=o}for(Mt>=0&&bt<r.length&&(r[bt].v=ft.substr(0,Mt+1)+r[bt].v),Mt=ft.indexOf(".")+1,o=yt;o<r.length;++o)if(null!=r[o]&&(-1!=="n?(".indexOf(r[o].t)||o===yt)){for(R=r[o].v.indexOf(".")>-1&&o===yt?r[o].v.indexOf(".")+1:0,Bt=r[o].v.substr(0,R);R<r[o].v.length;++R)Mt<ft.length&&(Bt+=ft.charAt(Mt++));r[o].v=Bt,r[o].t="t",bt=o}}}for(o=0;o<r.length;++o)null!=r[o]&&"n?".indexOf(r[o].t)>-1&&(r[o].v=tu(r[o].t,r[o].v,pt=n>1&&i<0&&o>0&&"-"===r[o-1].v?-i:i),r[o].t="t");var _t="";for(o=0;o!==r.length;++o)null!=r[o]&&(_t+=r[o].v);return _t}(r[1],i,t,r[0])}function QP(e,i){if("number"!=typeof i){i=+i||-1;for(var t=0;t<392;++t)if(null!=Ri[t]){if(Ri[t]==e){i=t;break}}else i<0&&(i=t);i<0&&(i=391)}return Ri[i]=e,i}function Vy(e){for(var i=0;392!=i;++i)void 0!==e[i]&&QP(e[i],i)}function av(){Ri=function qPt(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var B_=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,wFt={"d.m":"d\\.m"};function Th(e,i){return QP(wFt[e]||e,i)}var eu,e$=function(){var e={version:"1.2.0"},t=function i(){for(var pt=0,ft=new Array(256),yt=0;256!=yt;++yt)ft[yt]=pt=1&(pt=1&(pt=1&(pt=1&(pt=1&(pt=1&(pt=1&(pt=1&(pt=yt)?-306674912^pt>>>1:pt>>>1)?-306674912^pt>>>1:pt>>>1)?-306674912^pt>>>1:pt>>>1)?-306674912^pt>>>1:pt>>>1)?-306674912^pt>>>1:pt>>>1)?-306674912^pt>>>1:pt>>>1)?-306674912^pt>>>1:pt>>>1)?-306674912^pt>>>1:pt>>>1;return typeof Int32Array<"u"?new Int32Array(ft):ft}(),r=function n(pt){var ft=0,yt=0,bt=0,_t=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(bt=0;256!=bt;++bt)_t[bt]=pt[bt];for(bt=0;256!=bt;++bt)for(yt=pt[bt],ft=256+bt;ft<4096;ft+=256)yt=_t[ft]=yt>>>8^pt[255&yt];var At=[];for(bt=1;16!=bt;++bt)At[bt-1]=typeof Int32Array<"u"&&"function"==typeof _t.subarray?_t.subarray(256*bt,256*bt+256):_t.slice(256*bt,256*bt+256);return At}(t),s=r[0],o=r[1],p=r[2],C=r[3],D=r[4],R=r[5],F=r[6],B=r[7],V=r[8],X=r[9],J=r[10],Q=r[11],nt=r[12],ct=r[13],lt=r[14];return e.table=t,e.bstr=function wt(pt,ft){for(var yt=~ft,bt=0,_t=pt.length;bt<_t;)yt=yt>>>8^t[255&(yt^pt.charCodeAt(bt++))];return~yt},e.buf=function Mt(pt,ft){for(var yt=~ft,bt=pt.length-15,_t=0;_t<bt;)yt=lt[pt[_t++]^255&yt]^ct[pt[_t++]^yt>>8&255]^nt[pt[_t++]^yt>>16&255]^Q[pt[_t++]^yt>>>24]^J[pt[_t++]]^X[pt[_t++]]^V[pt[_t++]]^B[pt[_t++]]^F[pt[_t++]]^R[pt[_t++]]^D[pt[_t++]]^C[pt[_t++]]^p[pt[_t++]]^o[pt[_t++]]^s[pt[_t++]]^t[pt[_t++]];for(bt+=15;_t<bt;)yt=yt>>>8^t[255&(yt^pt[_t++])];return~yt},e.str=function Bt(pt,ft){for(var yt=~ft,bt=0,_t=pt.length,At=0,Et=0;bt<_t;)(At=pt.charCodeAt(bt++))<128?yt=yt>>>8^t[255&(yt^At)]:At<2048?yt=(yt=yt>>>8^t[255&(yt^(192|At>>6&31))])>>>8^t[255&(yt^(128|63&At))]:At>=55296&&At<57344?(At=64+(1023&At),Et=1023&pt.charCodeAt(bt++),yt=(yt=(yt=(yt=yt>>>8^t[255&(yt^(240|At>>8&7))])>>>8^t[255&(yt^(128|At>>2&63))])>>>8^t[255&(yt^(128|Et>>6&15|(3&At)<<4))])>>>8^t[255&(yt^(128|63&Et))]):yt=(yt=(yt=yt>>>8^t[255&(yt^(224|At>>12&15))])>>>8^t[255&(yt^(128|At>>6&63))])>>>8^t[255&(yt^(128|63&At))];return~yt},e}(),Oi=function(){var C,i={};function n(Ct){if("/"==Ct.charAt(Ct.length-1))return-1===Ct.slice(0,-1).indexOf("/")?Ct:n(Ct.slice(0,-1));var Ft=Ct.lastIndexOf("/");return-1===Ft?Ct:Ct.slice(0,Ft+1)}function r(Ct){if("/"==Ct.charAt(Ct.length-1))return r(Ct.slice(0,-1));var Ft=Ct.lastIndexOf("/");return-1===Ft?Ct:Ct.slice(Ft+1)}function s(Ct,Ft){"string"==typeof Ft&&(Ft=new Date(Ft));var It=Ft.getHours();It=(It=It<<6|Ft.getMinutes())<<5|Ft.getSeconds()>>>1,Ct.write_shift(2,It);var Rt=Ft.getFullYear()-1980;Rt=(Rt=Rt<<4|Ft.getMonth()+1)<<5|Ft.getDate(),Ct.write_shift(2,Rt)}function p(Ct){na(Ct,0);for(var Ft={},It=0;Ct.l<=Ct.length-4;){var Rt=Ct.read_shift(2),Ot=Ct.read_shift(2),Lt=Ct.l+Ot,re={};switch(Rt){case 21589:1&(It=Ct.read_shift(1))&&(re.mtime=Ct.read_shift(4)),Ot>5&&(2&It&&(re.atime=Ct.read_shift(4)),4&It&&(re.ctime=Ct.read_shift(4))),re.mtime&&(re.mt=new Date(1e3*re.mtime));break;case 1:var pe=Ct.read_shift(4),te=Ct.read_shift(4);re.usz=te*Math.pow(2,32)+pe,pe=Ct.read_shift(4),te=Ct.read_shift(4),re.csz=te*Math.pow(2,32)+pe}Ct.l=Lt,Ft[Rt]=re}return Ft}function D(){return C||(C=eu)}function R(Ct,Ft){if(80==Ct[0]&&75==Ct[1])return Ab(Ct,Ft);if(109==(32|Ct[0])&&105==(32|Ct[1]))return function bm(Ct,Ft){if("mime-version:"!=Je(Ct.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var It=Ft&&Ft.root||"",Rt=(Tn&&Buffer.isBuffer(Ct)?Ct.toString("binary"):Je(Ct)).split("\r\n"),Ot=0,Lt="";for(Ot=0;Ot<Rt.length;++Ot)if(/^Content-Location:/i.test(Lt=Rt[Ot])&&(Lt=Lt.slice(Lt.indexOf("file")),It||(It=Lt.slice(0,Lt.lastIndexOf("/")+1)),Lt.slice(0,It.length)!=It))for(;It.length>0&&(It=(It=It.slice(0,It.length-1)).slice(0,It.lastIndexOf("/")+1),Lt.slice(0,It.length)!=It););var re=(Rt[1]||"").match(/boundary="(.*?)"/);if(!re)throw new Error("MAD cannot find boundary");var pe="--"+(re[1]||""),oe={FileIndex:[],FullPaths:[]};pt(oe);var Ve,Ge=0;for(Ot=0;Ot<Rt.length;++Ot){var bi=Rt[Ot];bi!==pe&&bi!==pe+"--"||(Ge++&&RE(oe,Rt.slice(Ve,Ot),It),Ve=Ot)}return oe}(Ct,Ft);if(Ct.length<512)throw new Error("CFB file size "+Ct.length+" < 512");var It,Ot,Lt,re,pe,te,Rt=512,se=[],oe=Ct.slice(0,512);na(oe,0);var Ve=function F(Ct){if(80==Ct[Ct.l]&&75==Ct[Ct.l+1])return[0,0];Ct.chk(Ye,"Header Signature: "),Ct.l+=16;var Ft=Ct.read_shift(2,"u");return[Ct.read_shift(2,"u"),Ft]}(oe);switch(It=Ve[0]){case 3:Rt=512;break;case 4:Rt=4096;break;case 0:if(0==Ve[1])return Ab(Ct,Ft);default:throw new Error("Major Version: Expected 3 or 4 saw "+It)}512!==Rt&&na(oe=Ct.slice(0,Rt),28);var Ge=Ct.slice(0,Rt);!function B(Ct,Ft){var It;switch(Ct.l+=2,It=Ct.read_shift(2)){case 9:if(3!=Ft)throw new Error("Sector Shift: Expected 9 saw "+It);break;case 12:if(4!=Ft)throw new Error("Sector Shift: Expected 12 saw "+It);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+It)}Ct.chk("0600","Mini Sector Shift: "),Ct.chk("000000000000","Reserved: ")}(oe,It);var bi=oe.read_shift(4,"i");if(3===It&&0!==bi)throw new Error("# Directory Sectors: Expected 0 saw "+bi);oe.l+=4,re=oe.read_shift(4,"i"),oe.l+=4,oe.chk("00100000","Mini Stream Cutoff Size: "),pe=oe.read_shift(4,"i"),Ot=oe.read_shift(4,"i"),te=oe.read_shift(4,"i"),Lt=oe.read_shift(4,"i");for(var ti=-1,Ue=0;Ue<109&&!((ti=oe.read_shift(4,"i"))<0);++Ue)se[Ue]=ti;var Xi=function V(Ct,Ft){for(var It=Math.ceil(Ct.length/Ft)-1,Rt=[],Ot=1;Ot<It;++Ot)Rt[Ot-1]=Ct.slice(Ot*Ft,(Ot+1)*Ft);return Rt[It-1]=Ct.slice(It*Ft),Rt}(Ct,Rt);Q(te,Lt,Xi,Rt,se);var br=function ct(Ct,Ft,It,Rt){var Ot=Ct.length,Lt=[],re=[],pe=[],te=[],se=Rt-1,oe=0,Ve=0,Ge=0,bi=0;for(oe=0;oe<Ot;++oe)if(pe=[],(Ge=oe+Ft)>=Ot&&(Ge-=Ot),!re[Ge]){te=[];var ti=[];for(Ve=Ge;Ve>=0;){ti[Ve]=!0,re[Ve]=!0,pe[pe.length]=Ve,te.push(Ct[Ve]);var Ue=It[Math.floor(4*Ve/Rt)];if(Rt<4+(bi=4*Ve&se))throw new Error("FAT boundary crossed: "+Ve+" 4 "+Rt);if(!Ct[Ue]||ti[Ve=Zf(Ct[Ue],bi)])break}Lt[Ge]={nodes:pe,data:C$([te])}}return Lt}(Xi,re,se,Rt);re<br.length&&(br[re].name="!Directory"),Ot>0&&pe!==Et&&(br[pe].name="!MiniFAT"),br[se[0]].name="!FAT",br.fat_addrs=se,br.ssz=Rt;var Br=[],Is=[],hu=[];(function lt(Ct,Ft,It,Rt,Ot,Lt,re,pe){for(var bi,te=0,se=Rt.length?2:0,oe=Ft[Ct].data,Ve=0,Ge=0;Ve<oe.length;Ve+=128){var ti=oe.slice(Ve,Ve+128);na(ti,64),Ge=ti.read_shift(2),bi=W_(ti,0,Ge-se),Rt.push(bi);var Ue={name:bi,type:ti.read_shift(1),color:ti.read_shift(1),L:ti.read_shift(4,"i"),R:ti.read_shift(4,"i"),C:ti.read_shift(4,"i"),clsid:ti.read_shift(16),state:ti.read_shift(4,"i"),start:0,size:0};0!==ti.read_shift(2)+ti.read_shift(2)+ti.read_shift(2)+ti.read_shift(2)&&(Ue.ct=wt(ti,ti.l-8)),0!==ti.read_shift(2)+ti.read_shift(2)+ti.read_shift(2)+ti.read_shift(2)&&(Ue.mt=wt(ti,ti.l-8)),Ue.start=ti.read_shift(4,"i"),Ue.size=ti.read_shift(4,"i"),Ue.size<0&&Ue.start<0&&(Ue.size=Ue.type=0,Ue.start=Et,Ue.name=""),5===Ue.type?(te=Ue.start,Ot>0&&te!==Et&&(Ft[te].name="!StreamData")):Ue.size>=4096?(Ue.storage="fat",void 0===Ft[Ue.start]&&(Ft[Ue.start]=nt(It,Ue.start,Ft.fat_addrs,Ft.ssz)),Ft[Ue.start].name=Ue.name,Ue.content=Ft[Ue.start].data.slice(0,Ue.size)):(Ue.storage="minifat",Ue.size<0?Ue.size=0:te!==Et&&Ue.start!==Et&&Ft[te]&&(Ue.content=J(Ue,Ft[te].data,(Ft[pe]||{}).data))),Ue.content&&na(Ue.content,0),Lt[bi]=Ue,re.push(Ue)}})(re,br,Xi,Br,Ot,{},Is,pe),function X(Ct,Ft,It){for(var Rt=0,Ot=0,Lt=0,re=0,pe=0,te=It.length,se=[],oe=[];Rt<te;++Rt)se[Rt]=oe[Rt]=Rt,Ft[Rt]=It[Rt];for(;pe<oe.length;++pe)Ot=Ct[Rt=oe[pe]].L,Lt=Ct[Rt].R,re=Ct[Rt].C,se[Rt]===Rt&&(-1!==Ot&&se[Ot]!==Ot&&(se[Rt]=se[Ot]),-1!==Lt&&se[Lt]!==Lt&&(se[Rt]=se[Lt])),-1!==re&&(se[re]=Rt),-1!==Ot&&Rt!=se[Rt]&&(se[Ot]=se[Rt],oe.lastIndexOf(Ot)<pe&&oe.push(Ot)),-1!==Lt&&Rt!=se[Rt]&&(se[Lt]=se[Rt],oe.lastIndexOf(Lt)<pe&&oe.push(Lt));for(Rt=1;Rt<te;++Rt)se[Rt]===Rt&&(-1!==Lt&&se[Lt]!==Lt?se[Rt]=se[Lt]:-1!==Ot&&se[Ot]!==Ot&&(se[Rt]=se[Ot]));for(Rt=1;Rt<te;++Rt)if(0!==Ct[Rt].type){if((pe=Rt)!=se[pe])do{Ft[Rt]=Ft[pe=se[pe]]+"/"+Ft[Rt]}while(0!==pe&&-1!==se[pe]&&pe!=se[pe]);se[Rt]=-1}for(Ft[0]+="/",Rt=1;Rt<te;++Rt)2!==Ct[Rt].type&&(Ft[Rt]+="/")}(Is,hu,Br),Br.shift();var Cm={FileIndex:Is,FullPaths:hu};return Ft&&Ft.raw&&(Cm.raw={header:Ge,sectors:Xi}),Cm}function J(Ct,Ft,It){for(var Ot=Ct.size,Lt=[],re=Ct.start;It&&Ot>0&&re>=0;)Lt.push(Ft.slice(re*At,re*At+At)),Ot-=At,re=Zf(It,4*re);return 0===Lt.length?ne(0):Es(Lt).slice(0,Ct.size)}function Q(Ct,Ft,It,Rt,Ot){var Lt=Et;if(Ct===Et){if(0!==Ft)throw new Error("DIFAT chain shorter than expected")}else if(-1!==Ct){var re=It[Ct],pe=(Rt>>>2)-1;if(!re)return;for(var te=0;te<pe&&(Lt=Zf(re,4*te))!==Et;++te)Ot.push(Lt);Ft>=1&&Q(Zf(re,Rt-4),Ft-1,It,Rt,Ot)}}function nt(Ct,Ft,It,Rt,Ot){var Lt=[],re=[];Ot||(Ot=[]);var pe=Rt-1,te=0,se=0;for(te=Ft;te>=0;){Ot[te]=!0,Lt[Lt.length]=te,re.push(Ct[te]);var oe=It[Math.floor(4*te/Rt)];if(Rt<4+(se=4*te&pe))throw new Error("FAT boundary crossed: "+te+" 4 "+Rt);if(!Ct[oe])break;te=Zf(Ct[oe],se)}return{nodes:Lt,data:C$([re])}}function wt(Ct,Ft){return new Date(1e3*(va(Ct,Ft+4)/1e7*Math.pow(2,32)+va(Ct,Ft)/1e7-11644473600))}function pt(Ct,Ft){var It=Ft||{},Rt=It.root||"Root Entry";if(Ct.FullPaths||(Ct.FullPaths=[]),Ct.FileIndex||(Ct.FileIndex=[]),Ct.FullPaths.length!==Ct.FileIndex.length)throw new Error("inconsistent CFB structure");0===Ct.FullPaths.length&&(Ct.FullPaths[0]=Rt+"/",Ct.FileIndex[0]={name:Rt,type:5}),It.CLSID&&(Ct.FileIndex[0].clsid=It.CLSID),function ft(Ct){var Ft="\x01Sh33tJ5";if(!Oi.find(Ct,"/"+Ft)){var It=ne(4);It[0]=55,It[1]=It[3]=50,It[2]=54,Ct.FileIndex.push({name:Ft,type:2,content:It,size:4,L:69,R:69,C:69}),Ct.FullPaths.push(Ct.FullPaths[0]+Ft),yt(Ct)}}(Ct)}function yt(Ct,Ft){pt(Ct);for(var It=!1,Rt=!1,Ot=Ct.FullPaths.length-1;Ot>=0;--Ot){var Lt=Ct.FileIndex[Ot];switch(Lt.type){case 0:Rt?It=!0:(Ct.FileIndex.pop(),Ct.FullPaths.pop());break;case 1:case 2:case 5:Rt=!0,isNaN(Lt.R*Lt.L*Lt.C)&&(It=!0),Lt.R>-1&&Lt.L>-1&&Lt.R==Lt.L&&(It=!0);break;default:It=!0}}if(It||Ft){var re=new Date(1987,1,19),pe=0,te=Object.create?Object.create(null):{},se=[];for(Ot=0;Ot<Ct.FullPaths.length;++Ot)te[Ct.FullPaths[Ot]]=!0,0!==Ct.FileIndex[Ot].type&&se.push([Ct.FullPaths[Ot],Ct.FileIndex[Ot]]);for(Ot=0;Ot<se.length;++Ot){var oe=n(se[Ot][0]);for(Rt=te[oe];!Rt;){for(;n(oe)&&!te[n(oe)];)oe=n(oe);se.push([oe,{name:r(oe).replace("/",""),type:1,clsid:we,ct:re,mt:re,content:null}]),te[oe]=!0,Rt=te[oe=n(se[Ot][0])]}}for(se.sort(function(bi,ti){return function t(Ct,Ft){for(var It=Ct.split("/"),Rt=Ft.split("/"),Ot=0,Lt=0,re=Math.min(It.length,Rt.length);Ot<re;++Ot){if(Lt=It[Ot].length-Rt[Ot].length)return Lt;if(It[Ot]!=Rt[Ot])return It[Ot]<Rt[Ot]?-1:1}return It.length-Rt.length}(bi[0],ti[0])}),Ct.FullPaths=[],Ct.FileIndex=[],Ot=0;Ot<se.length;++Ot)Ct.FullPaths[Ot]=se[Ot][0],Ct.FileIndex[Ot]=se[Ot][1];for(Ot=0;Ot<se.length;++Ot){var Ve=Ct.FileIndex[Ot],Ge=Ct.FullPaths[Ot];if(Ve.name=r(Ge).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||we,0===Ot)Ve.C=se.length>1?1:-1,Ve.size=0,Ve.type=5;else if("/"==Ge.slice(-1)){for(pe=Ot+1;pe<se.length&&n(Ct.FullPaths[pe])!=Ge;++pe);for(Ve.C=pe>=se.length?-1:pe,pe=Ot+1;pe<se.length&&n(Ct.FullPaths[pe])!=n(Ge);++pe);Ve.R=pe>=se.length?-1:pe,Ve.type=1}else n(Ct.FullPaths[Ot+1]||"")==n(Ge)&&(Ve.R=Ot+1),Ve.type=2}}}function bt(Ct,Ft){var It=Ft||{};if("mad"==It.fileType)return function kE(Ct,Ft){for(var It=Ft||{},Rt=It.boundary||"SheetJS",Ot=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(Rt="------="+Rt).slice(2)+'"',"","",""],Lt=Ct.FullPaths[0],re=Lt,pe=Ct.FileIndex[0],te=1;te<Ct.FullPaths.length;++te)if(re=Ct.FullPaths[te].slice(Lt.length),(pe=Ct.FileIndex[te]).size&&pe.content&&"\x01Sh33tJ5"!=re){re=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xi){return"_x"+Xi.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xi){return"_u"+Xi.charCodeAt(0).toString(16)+"_"});for(var se=pe.content,oe=Tn&&Buffer.isBuffer(se)?se.toString("binary"):Je(se),Ve=0,Ge=Math.min(1024,oe.length),bi=0,ti=0;ti<=Ge;++ti)(bi=oe.charCodeAt(ti))>=32&&bi<128&&++Ve;var Ue=Ve>=4*Ge/5;Ot.push(Rt),Ot.push("Content-Location: "+(It.root||"file:///C:/SheetJS/")+re),Ot.push("Content-Transfer-Encoding: "+(Ue?"quoted-printable":"base64")),Ot.push("Content-Type: "+Db(pe,re)),Ot.push(""),Ot.push(Ue?ME(oe):uu(oe))}return Ot.push(Rt+"--\r\n"),Ot.join("\r\n")}(Ct,It);if("zip"===(yt(Ct),It.fileType))return function ym(Ct,Ft){var It=Ft||{},Rt=[],Ot=[],Lt=ne(1),re=It.compression?8:0,pe=0,se=0,oe=0,Ve=0,Ge=0,bi=Ct.FullPaths[0],ti=bi,Ue=Ct.FileIndex[0],Xi=[],br=0;for(se=1;se<Ct.FullPaths.length;++se)if(ti=Ct.FullPaths[se].slice(bi.length),(Ue=Ct.FileIndex[se]).size&&Ue.content&&"\x01Sh33tJ5"!=ti){var ya=Ve,Br=ne(ti.length);for(oe=0;oe<ti.length;++oe)Br.write_shift(1,127&ti.charCodeAt(oe));Br=Br.slice(0,Br.l),Xi[Ge]="string"==typeof Ue.content?e$.bstr(Ue.content,0):e$.buf(Ue.content,0);var Is="string"==typeof Ue.content?wo(Ue.content):Ue.content;8==re&&(Is=Se(Is)),(Lt=ne(30)).write_shift(4,67324752),Lt.write_shift(2,20),Lt.write_shift(2,pe),Lt.write_shift(2,re),Ue.mt?s(Lt,Ue.mt):Lt.write_shift(4,0),Lt.write_shift(-4,8&pe?0:Xi[Ge]),Lt.write_shift(4,8&pe?0:Is.length),Lt.write_shift(4,8&pe?0:Ue.content.length),Lt.write_shift(2,Br.length),Lt.write_shift(2,0),Ve+=Lt.length,Rt.push(Lt),Ve+=Br.length,Rt.push(Br),Ve+=Is.length,Rt.push(Is),8&pe&&((Lt=ne(12)).write_shift(-4,Xi[Ge]),Lt.write_shift(4,Is.length),Lt.write_shift(4,Ue.content.length),Ve+=Lt.l,Rt.push(Lt)),(Lt=ne(46)).write_shift(4,33639248),Lt.write_shift(2,0),Lt.write_shift(2,20),Lt.write_shift(2,pe),Lt.write_shift(2,re),Lt.write_shift(4,0),Lt.write_shift(-4,Xi[Ge]),Lt.write_shift(4,Is.length),Lt.write_shift(4,Ue.content.length),Lt.write_shift(2,Br.length),Lt.write_shift(2,0),Lt.write_shift(2,0),Lt.write_shift(2,0),Lt.write_shift(2,0),Lt.write_shift(4,0),Lt.write_shift(4,ya),br+=Lt.l,Ot.push(Lt),br+=Br.length,Ot.push(Br),++Ge}return(Lt=ne(22)).write_shift(4,101010256),Lt.write_shift(2,0),Lt.write_shift(2,0),Lt.write_shift(2,Ge),Lt.write_shift(2,Ge),Lt.write_shift(4,br),Lt.write_shift(4,Ve),Lt.write_shift(2,0),Es([Es(Rt),Es(Ot),Lt])}(Ct,It);var Rt=function(bi){for(var ti=0,Ue=0,Xi=0;Xi<bi.FileIndex.length;++Xi){var br=bi.FileIndex[Xi];if(br.content){var ya=br.content.length;ya>0&&(ya<4096?ti+=ya+63>>6:Ue+=ya+511>>9)}}for(var Br=bi.FullPaths.length+3>>2,hu=ti+127>>7,Cm=(ti+7>>3)+Ue+Br+hu,nd=Cm+127>>7,Ev=nd<=109?0:Math.ceil((nd-109)/127);Cm+nd+Ev+127>>7>nd;)Ev=++nd<=109?0:Math.ceil((nd-109)/127);var Ul=[1,Ev,nd,hu,Br,Ue,ti,0];return bi.FileIndex[0].size=ti<<6,Ul[7]=(bi.FileIndex[0].start=Ul[0]+Ul[1]+Ul[2]+Ul[3]+Ul[4]+Ul[5])+(Ul[6]+7>>3),Ul}(Ct),Ot=ne(Rt[7]<<9),Lt=0,re=0;for(Lt=0;Lt<8;++Lt)Ot.write_shift(1,Ie[Lt]);for(Lt=0;Lt<8;++Lt)Ot.write_shift(2,0);for(Ot.write_shift(2,62),Ot.write_shift(2,3),Ot.write_shift(2,65534),Ot.write_shift(2,9),Ot.write_shift(2,6),Lt=0;Lt<3;++Lt)Ot.write_shift(2,0);for(Ot.write_shift(4,0),Ot.write_shift(4,Rt[2]),Ot.write_shift(4,Rt[0]+Rt[1]+Rt[2]+Rt[3]-1),Ot.write_shift(4,0),Ot.write_shift(4,4096),Ot.write_shift(4,Rt[3]?Rt[0]+Rt[1]+Rt[2]-1:Et),Ot.write_shift(4,Rt[3]),Ot.write_shift(-4,Rt[1]?Rt[0]-1:Et),Ot.write_shift(4,Rt[1]),Lt=0;Lt<109;++Lt)Ot.write_shift(-4,Lt<Rt[2]?Rt[1]+Lt:-1);if(Rt[1])for(re=0;re<Rt[1];++re){for(;Lt<236+127*re;++Lt)Ot.write_shift(-4,Lt<Rt[2]?Rt[1]+Lt:-1);Ot.write_shift(-4,re===Rt[1]-1?Et:re+1)}var pe=function(bi){for(re+=bi;Lt<re-1;++Lt)Ot.write_shift(-4,Lt+1);bi&&(++Lt,Ot.write_shift(-4,Et))};for(re=Lt=0,re+=Rt[1];Lt<re;++Lt)Ot.write_shift(-4,ae.DIFSECT);for(re+=Rt[2];Lt<re;++Lt)Ot.write_shift(-4,ae.FATSECT);pe(Rt[3]),pe(Rt[4]);for(var te=0,se=0,oe=Ct.FileIndex[0];te<Ct.FileIndex.length;++te)(oe=Ct.FileIndex[te]).content&&!((se=oe.content.length)<4096)&&(oe.start=re,pe(se+511>>9));for(pe(Rt[6]+7>>3);511&Ot.l;)Ot.write_shift(-4,ae.ENDOFCHAIN);for(re=Lt=0,te=0;te<Ct.FileIndex.length;++te)(oe=Ct.FileIndex[te]).content&&(se=oe.content.length)&&!(se>=4096)&&(oe.start=re,pe(se+63>>6));for(;511&Ot.l;)Ot.write_shift(-4,ae.ENDOFCHAIN);for(Lt=0;Lt<Rt[4]<<2;++Lt){var Ve=Ct.FullPaths[Lt];if(Ve&&0!==Ve.length){oe=Ct.FileIndex[Lt],0===Lt&&(oe.start=oe.size?oe.start-1:Et);var Ge=0===Lt&&It.root||oe.name;if(Ge.length>31&&(console.error("Name "+Ge+" will be truncated to "+Ge.slice(0,31)),Ge=Ge.slice(0,31)),se=2*(Ge.length+1),Ot.write_shift(64,Ge,"utf16le"),Ot.write_shift(2,se),Ot.write_shift(1,oe.type),Ot.write_shift(1,oe.color),Ot.write_shift(-4,oe.L),Ot.write_shift(-4,oe.R),Ot.write_shift(-4,oe.C),oe.clsid)Ot.write_shift(16,oe.clsid,"hex");else for(te=0;te<4;++te)Ot.write_shift(4,0);Ot.write_shift(4,oe.state||0),Ot.write_shift(4,0),Ot.write_shift(4,0),Ot.write_shift(4,0),Ot.write_shift(4,0),Ot.write_shift(4,oe.start),Ot.write_shift(4,oe.size),Ot.write_shift(4,0)}else{for(te=0;te<17;++te)Ot.write_shift(4,0);for(te=0;te<3;++te)Ot.write_shift(4,-1);for(te=0;te<12;++te)Ot.write_shift(4,0)}}for(Lt=1;Lt<Ct.FileIndex.length;++Lt)if((oe=Ct.FileIndex[Lt]).size>=4096)if(Ot.l=oe.start+1<<9,Tn&&Buffer.isBuffer(oe.content))oe.content.copy(Ot,Ot.l,0,oe.size),Ot.l+=oe.size+511&-512;else{for(te=0;te<oe.size;++te)Ot.write_shift(1,oe.content[te]);for(;511&te;++te)Ot.write_shift(1,0)}for(Lt=1;Lt<Ct.FileIndex.length;++Lt)if((oe=Ct.FileIndex[Lt]).size>0&&oe.size<4096)if(Tn&&Buffer.isBuffer(oe.content))oe.content.copy(Ot,Ot.l,0,oe.size),Ot.l+=oe.size+63&-64;else{for(te=0;te<oe.size;++te)Ot.write_shift(1,oe.content[te]);for(;63&te;++te)Ot.write_shift(1,0)}if(Tn)Ot.l=Ot.length;else for(;Ot.l<Ot.length;)Ot.write_shift(1,0);return Ot}i.version="1.2.2";var ki,At=64,Et=-2,Ye="d0cf11e0a1b11ae1",Ie=[208,207,17,224,161,177,26,225],we="00000000000000000000000000000000",ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Et,FREESECT:-1,HEADER_SIGNATURE:Ye,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:we,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Je(Ct){for(var Ft=new Array(Ct.length),It=0;It<Ct.length;++It)Ft[It]=String.fromCharCode(Ct[It]);return Ft.join("")}function Se(Ct){return ki?ki.deflateRawSync(Ct):oo(Ct)}for(var Ct,Ft,ui=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pi=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ii=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],jt=typeof Uint8Array<"u",Xt=jt?new Uint8Array(256):[],Gt=0;Gt<256;++Gt)Xt[Gt]=(void 0,255&((Ft=139536&((Ct=Gt)<<1|Ct<<11)|558144&(Ct<<5|Ct<<15))>>16|Ft>>8|Ft));function ye(Ct,Ft){var It=Xt[255&Ct];return Ft<=8?It>>>8-Ft:(It=It<<8|Xt[Ct>>8&255],Ft<=16?It>>>16-Ft:(It=It<<8|Xt[Ct>>16&255])>>>24-Ft)}function kt(Ct,Ft){var It=7&Ft,Rt=Ft>>>3;return(Ct[Rt]|(It<=6?0:Ct[Rt+1]<<8))>>>It&3}function Ci(Ct,Ft){var It=7&Ft,Rt=Ft>>>3;return(Ct[Rt]|(It<=5?0:Ct[Rt+1]<<8))>>>It&7}function Be(Ct,Ft){var It=7&Ft,Rt=Ft>>>3;return(Ct[Rt]|(It<=3?0:Ct[Rt+1]<<8))>>>It&31}function Vi(Ct,Ft){var It=7&Ft,Rt=Ft>>>3;return(Ct[Rt]|(It<=1?0:Ct[Rt+1]<<8))>>>It&127}function qi(Ct,Ft,It){var Rt=7&Ft,Ot=Ft>>>3,re=Ct[Ot]>>>Rt;return It<8-Rt||(re|=Ct[Ot+1]<<8-Rt,It<16-Rt)||(re|=Ct[Ot+2]<<16-Rt,It<24-Rt)||(re|=Ct[Ot+3]<<24-Rt),re&(1<<It)-1}function mi(Ct,Ft,It){var Rt=7&Ft,Ot=Ft>>>3;return Rt<=5?Ct[Ot]|=(7&It)<<Rt:(Ct[Ot]|=It<<Rt&255,Ct[Ot+1]=(7&It)>>8-Rt),Ft+3}function qn(Ct,Ft,It){return Ct[Ft>>>3]|=It=(1&It)<<(7&Ft),Ft+1}function Kn(Ct,Ft,It){var Ot=Ft>>>3;return Ct[Ot]|=255&(It<<=7&Ft),Ct[Ot+1]=It>>>=8,Ft+8}function qr(Ct,Ft,It){var Ot=Ft>>>3;return Ct[Ot]|=255&(It<<=7&Ft),Ct[Ot+1]=255&(It>>>=8),Ct[Ot+2]=It>>>8,Ft+16}function Ma(Ct,Ft){var It=Ct.length,Rt=2*It>Ft?2*It:Ft+5,Ot=0;if(It>=Ft)return Ct;if(Tn){var Lt=BY(Rt);if(Ct.copy)Ct.copy(Lt);else for(;Ot<Ct.length;++Ot)Lt[Ot]=Ct[Ot];return Lt}if(jt){var re=new Uint8Array(Rt);if(re.set)re.set(Ct);else for(;Ot<It;++Ot)re[Ot]=Ct[Ot];return re}return Ct.length=Rt,Ct}function $e(Ct){for(var Ft=new Array(Ct),It=0;It<Ct;++It)Ft[It]=0;return Ft}function qe(Ct,Ft,It){var Rt=1,Ot=0,Lt=0,re=0,pe=0,te=Ct.length,se=jt?new Uint16Array(32):$e(32);for(Lt=0;Lt<32;++Lt)se[Lt]=0;for(Lt=te;Lt<It;++Lt)Ct[Lt]=0;te=Ct.length;var oe=jt?new Uint16Array(te):$e(te);for(Lt=0;Lt<te;++Lt)se[Ot=Ct[Lt]]++,Rt<Ot&&(Rt=Ot),oe[Lt]=0;for(se[0]=0,Lt=1;Lt<=Rt;++Lt)se[Lt+16]=pe=pe+se[Lt-1]<<1;for(Lt=0;Lt<te;++Lt)0!=(pe=Ct[Lt])&&(oe[Lt]=se[pe+16]++);var Ve=0;for(Lt=0;Lt<te;++Lt)if(0!=(Ve=Ct[Lt]))for(pe=ye(oe[Lt],Rt)>>Rt-Ve,re=(1<<Rt+4-Ve)-1;re>=0;--re)Ft[pe|re<<Ve]=15&Ve|Lt<<4;return Rt}var ao=jt?new Uint16Array(512):$e(512),Zn=jt?new Uint16Array(32):$e(32);if(!jt){for(var zn=0;zn<512;++zn)ao[zn]=0;for(zn=0;zn<32;++zn)Zn[zn]=0}!function(){for(var Ct=[],Ft=0;Ft<32;Ft++)Ct.push(5);qe(Ct,Zn,32);var It=[];for(Ft=0;Ft<=143;Ft++)It.push(8);for(;Ft<=255;Ft++)It.push(9);for(;Ft<=279;Ft++)It.push(7);for(;Ft<=287;Ft++)It.push(8);qe(It,ao,288)}();var zs=function(){for(var Ft=jt?new Uint8Array(32768):[],It=0,Rt=0;It<ii.length-1;++It)for(;Rt<ii[It+1];++Rt)Ft[Rt]=It;for(;Rt<32768;++Rt)Ft[Rt]=29;var Ot=jt?new Uint8Array(259):[];for(It=0,Rt=0;It<pi.length-1;++It)for(;Rt<pi[It+1];++Rt)Ot[Rt]=It;return function(te,se){return te.length<8?function Lt(pe,te){for(var se=0;se<pe.length;){var oe=Math.min(65535,pe.length-se);for(te.write_shift(1,+(se+oe==pe.length)),te.write_shift(2,oe),te.write_shift(2,65535&~oe);oe-- >0;)te[te.l++]=pe[se++]}return te.l}(te,se):function re(pe,te){for(var se=0,oe=0,Ve=jt?new Uint16Array(32768):[];oe<pe.length;){var Ge=Math.min(65535,pe.length-oe);if(Ge<10){for(7&(se=mi(te,se,+(oe+Ge==pe.length)))&&(se+=8-(7&se)),te.l=se/8|0,te.write_shift(2,Ge),te.write_shift(2,65535&~Ge);Ge-- >0;)te[te.l++]=pe[oe++];se=8*te.l}else{se=mi(te,se,+(oe+Ge==pe.length)+2);for(var bi=0;Ge-- >0;){var ti=pe[oe],Ue=-1,Xi=0;if((Ue=Ve[bi=32767&(bi<<5^ti)])&&((Ue|=-32768&oe)>oe&&(Ue-=32768),Ue<oe))for(;pe[Ue+Xi]==pe[oe+Xi]&&Xi<250;)++Xi;if(Xi>2){(ti=Ot[Xi])<=22?se=Kn(te,se,Xt[ti+1]>>1)-1:(Kn(te,se,3),Kn(te,se+=5,Xt[ti-23]>>5),se+=3);var br=ti<8?0:ti-4>>2;br>0&&(qr(te,se,Xi-pi[ti]),se+=br),se=Kn(te,se,Xt[ti=Ft[oe-Ue]]>>3),se-=3;var ya=ti<4?0:ti-2>>1;ya>0&&(qr(te,se,oe-Ue-ii[ti]),se+=ya);for(var Br=0;Br<Xi;++Br)Ve[bi]=32767&oe,bi=32767&(bi<<5^pe[oe]),++oe;Ge-=Xi-1}else ti<=143?ti+=48:se=qn(te,se,1),se=Kn(te,se,Xt[ti]),Ve[bi]=32767&oe,++oe}se=Kn(te,se,0)-1}}return te.l=(se+7)/8|0,te.l}(te,se)}}();function oo(Ct){var Ft=ne(50+Math.floor(1.1*Ct.length)),It=zs(Ct,Ft);return Ft.slice(0,It)}var Ki=jt?new Uint16Array(32768):$e(32768),Wi=jt?new Uint16Array(32768):$e(32768),Yn=jt?new Uint16Array(128):$e(128),Ir=1,vm=1;function Vl(Ct,Ft){var It=Be(Ct,Ft)+257,Rt=Be(Ct,Ft+=5)+1,Ot=function Xe(Ct,Ft){var It=7&Ft,Rt=Ft>>>3;return(Ct[Rt]|(It<=4?0:Ct[Rt+1]<<8))>>>It&15}(Ct,Ft+=5)+4;Ft+=4;for(var Lt=0,re=jt?new Uint8Array(19):$e(19),pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],te=1,se=jt?new Uint8Array(8):$e(8),oe=jt?new Uint8Array(8):$e(8),Ve=re.length,Ge=0;Ge<Ot;++Ge)re[ui[Ge]]=Lt=Ci(Ct,Ft),te<Lt&&(te=Lt),se[Lt]++,Ft+=3;var bi=0;for(se[0]=0,Ge=1;Ge<=te;++Ge)oe[Ge]=bi=bi+se[Ge-1]<<1;for(Ge=0;Ge<Ve;++Ge)0!=(bi=re[Ge])&&(pe[Ge]=oe[bi]++);var ti=0;for(Ge=0;Ge<Ve;++Ge)if(0!=(ti=re[Ge])){bi=Xt[pe[Ge]]>>8-ti;for(var Ue=(1<<7-ti)-1;Ue>=0;--Ue)Yn[bi|Ue<<ti]=7&ti|Ge<<3}var Xi=[];for(te=1;Xi.length<It+Rt;)switch(bi=Yn[Vi(Ct,Ft)],Ft+=7&bi,bi>>>=3){case 16:for(Lt=3+kt(Ct,Ft),Ft+=2,bi=Xi[Xi.length-1];Lt-- >0;)Xi.push(bi);break;case 17:for(Lt=3+Ci(Ct,Ft),Ft+=3;Lt-- >0;)Xi.push(0);break;case 18:for(Lt=11+Vi(Ct,Ft),Ft+=7;Lt-- >0;)Xi.push(0);break;default:Xi.push(bi),te<bi&&(te=bi)}var br=Xi.slice(0,It),ya=Xi.slice(It);for(Ge=It;Ge<286;++Ge)br[Ge]=0;for(Ge=Rt;Ge<30;++Ge)ya[Ge]=0;return Ir=qe(br,Ki,286),vm=qe(ya,Wi,30),Ft}function xm(Ct,Ft){var Rt=function du(Ct,Ft){if(3==Ct[0]&&!(3&Ct[1]))return[wh(Ft),2];for(var It=0,Rt=0,Ot=BY(Ft||1<<18),Lt=0,re=Ot.length>>>0,pe=0,te=0;!(1&Rt);)if(Rt=Ci(Ct,It),It+=3,Rt>>>1)for(Rt>>1==1?(pe=9,te=5):(It=Vl(Ct,It),pe=Ir,te=vm);;){!Ft&&re<Lt+32767&&(re=(Ot=Ma(Ot,Lt+32767)).length);var oe=qi(Ct,It,pe),Ve=Rt>>>1==1?ao[oe]:Ki[oe];if(It+=15&Ve,(Ve>>>=4)>>>8&255){if(256==Ve)break;var Ge=(Ve-=257)<8?0:Ve-4>>2;Ge>5&&(Ge=0);var bi=Lt+pi[Ve];Ge>0&&(bi+=qi(Ct,It,Ge),It+=Ge),oe=qi(Ct,It,te),It+=15&(Ve=Rt>>>1==1?Zn[oe]:Wi[oe]);var ti=(Ve>>>=4)<4?0:Ve-2>>1,Ue=ii[Ve];for(ti>0&&(Ue+=qi(Ct,It,ti),It+=ti),!Ft&&re<bi&&(re=(Ot=Ma(Ot,bi+100)).length);Lt<bi;)Ot[Lt]=Ot[Lt-Ue],++Lt}else Ot[Lt++]=Ve}else{7&It&&(It+=8-(7&It));var se=Ct[It>>>3]|Ct[1+(It>>>3)]<<8;if(It+=32,se>0)for(!Ft&&re<Lt+se&&(re=(Ot=Ma(Ot,Lt+se)).length);se-- >0;)Ot[Lt++]=Ct[It>>>3],It+=8}return Ft?[Ot,It+7>>>3]:[Ot.slice(0,Lt),It+7>>>3]}(Ct.slice(Ct.l||0),Ft);return Ct.l+=Rt[1],Rt[0]}function Tv(Ct,Ft){if(!Ct)throw new Error(Ft);typeof console<"u"&&console.error(Ft)}function Ab(Ct,Ft){var It=Ct;na(It,0);var Lt={FileIndex:[],FullPaths:[]};pt(Lt,{root:Ft.root});for(var re=It.length-4;(80!=It[re]||75!=It[re+1]||5!=It[re+2]||6!=It[re+3])&&re>=0;)--re;It.l=re+4,It.l+=4;var pe=It.read_shift(2);It.l+=6;var te=It.read_shift(4);for(It.l=te,re=0;re<pe;++re){It.l+=20;var se=It.read_shift(4),oe=It.read_shift(4),Ve=It.read_shift(2),Ge=It.read_shift(2),bi=It.read_shift(2);It.l+=8;var ti=It.read_shift(4),Ue=p(It.slice(It.l+Ve,It.l+Ve+Ge));It.l+=Ve+Ge+bi;var Xi=It.l;It.l=ti+4,Ue&&Ue[1]&&((Ue[1]||{}).usz&&(oe=Ue[1].usz),(Ue[1]||{}).csz&&(se=Ue[1].csz)),IE(It,se,oe,Lt,Ue),It.l=Xi}return Lt}function IE(Ct,Ft,It,Rt,Ot){Ct.l+=2;var Lt=Ct.read_shift(2),re=Ct.read_shift(2),pe=function o(Ct){var Ft=65535&Ct.read_shift(2),It=65535&Ct.read_shift(2),Rt=new Date,Ot=31&It,Lt=15&(It>>>=5);It>>>=4,Rt.setMilliseconds(0),Rt.setFullYear(It+1980),Rt.setMonth(Lt-1),Rt.setDate(Ot);var re=31&Ft,pe=63&(Ft>>>=5);return Rt.setHours(Ft>>>=6),Rt.setMinutes(pe),Rt.setSeconds(re<<1),Rt}(Ct);if(8257&Lt)throw new Error("Unsupported ZIP encryption");Ct.read_shift(4);for(var se=Ct.read_shift(4),oe=Ct.read_shift(4),Ve=Ct.read_shift(2),Ge=Ct.read_shift(2),bi="",ti=0;ti<Ve;++ti)bi+=String.fromCharCode(Ct[Ct.l++]);if(Ge){var Ue=p(Ct.slice(Ct.l,Ct.l+Ge));(Ue[21589]||{}).mt&&(pe=Ue[21589].mt),(Ue[1]||{}).usz&&(oe=Ue[1].usz),(Ue[1]||{}).csz&&(se=Ue[1].csz),Ot&&((Ot[21589]||{}).mt&&(pe=Ot[21589].mt),(Ot[1]||{}).usz&&(oe=Ue[1].usz),(Ot[1]||{}).csz&&(se=Ue[1].csz))}Ct.l+=Ge;var Xi=Ct.slice(Ct.l,Ct.l+se);switch(re){case 8:Xi=function Ne(Ct,Ft){if(!ki)return xm(Ct,Ft);var Rt=new(0,ki.InflateRaw),Ot=Rt._processChunk(Ct.slice(Ct.l),Rt._finishFlushFlag);return Ct.l+=Rt.bytesRead,Ot}(Ct,oe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+re)}var br=!1;8&Lt&&(134695760==Ct.read_shift(4)&&(Ct.read_shift(4),br=!0),se=Ct.read_shift(4),oe=Ct.read_shift(4)),se!=Ft&&Tv(br,"Bad compressed size: "+Ft+" != "+se),oe!=It&&Tv(br,"Bad uncompressed size: "+It+" != "+oe),_v(Rt,bi,Xi,{unsafe:!0,mt:pe})}var Mh={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Db(Ct,Ft){if(Ct.ctype)return Ct.ctype;var It=Ct.name||"",Rt=It.match(/\.([^\.]+)$/);return Rt&&Mh[Rt[1]]||Ft&&(Rt=(It=Ft).match(/[\.\\]([^\.\\])+$/))&&Mh[Rt[1]]?Mh[Rt[1]]:"application/octet-stream"}function uu(Ct){for(var Ft=F_(Ct),It=[],Rt=0;Rt<Ft.length;Rt+=76)It.push(Ft.slice(Rt,Rt+76));return It.join("\r\n")+"\r\n"}function ME(Ct){var Ft=Ct.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(se){var oe=se.charCodeAt(0).toString(16).toUpperCase();return"="+(1==oe.length?"0"+oe:oe)});"\n"==(Ft=Ft.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(Ft="=0D"+Ft.slice(1));for(var It=[],Rt=(Ft=Ft.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),Ot=0;Ot<Rt.length;++Ot){var Lt=Rt[Ot];if(0!=Lt.length)for(var re=0;re<Lt.length;){var pe=76,te=Lt.slice(re,re+pe);"="==te.charAt(pe-1)?pe--:"="==te.charAt(pe-2)?pe-=2:"="==te.charAt(pe-3)&&(pe-=3),te=Lt.slice(re,re+pe),(re+=pe)<Lt.length&&(te+="="),It.push(te)}else It.push("")}return It.join("\r\n")}function RE(Ct,Ft,It){for(var re,Rt="",Ot="",Lt="",pe=0;pe<10;++pe){var te=Ft[pe];if(!te||te.match(/^\s*$/))break;var se=te.match(/^([^:]*?):\s*([^\s].*)$/);if(se)switch(se[1].toLowerCase()){case"content-location":Rt=se[2].trim();break;case"content-type":Lt=se[2].trim();break;case"content-transfer-encoding":Ot=se[2].trim()}}switch(++pe,Ot.toLowerCase()){case"base64":re=wo(ol(Ft.slice(pe).join("")));break;case"quoted-printable":re=function Cv(Ct){for(var Ft=[],It=0;It<Ct.length;++It){for(var Rt=Ct[It];It<=Ct.length&&"="==Rt.charAt(Rt.length-1);)Rt=Rt.slice(0,Rt.length-1)+Ct[++It];Ft.push(Rt)}for(var Ot=0;Ot<Ft.length;++Ot)Ft[Ot]=Ft[Ot].replace(/[=][0-9A-Fa-f]{2}/g,function(Lt){return String.fromCharCode(parseInt(Lt.slice(1),16))});return wo(Ft.join("\r\n"))}(Ft.slice(pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ot)}var oe=_v(Ct,Rt.slice(It.length),re,{unsafe:!0});Lt&&(oe.ctype=Lt)}function _v(Ct,Ft,It,Rt){var Ot=Rt&&Rt.unsafe;Ot||pt(Ct);var Lt=!Ot&&Oi.find(Ct,Ft);if(!Lt){var re=Ct.FullPaths[0];Ft.slice(0,re.length)==re?re=Ft:("/"!=re.slice(-1)&&(re+="/"),re=(re+Ft).replace("//","/")),Lt={name:r(Ft),type:2},Ct.FileIndex.push(Lt),Ct.FullPaths.push(re),Ot||Oi.utils.cfb_gc(Ct)}return Lt.content=It,Lt.size=It?It.length:0,Rt&&(Rt.CLSID&&(Lt.clsid=Rt.CLSID),Rt.mt&&(Lt.mt=Rt.mt),Rt.ct&&(Lt.ct=Rt.ct)),Lt}return i.find=function _t(Ct,Ft){var It=Ct.FullPaths.map(function(te){return te.toUpperCase()}),Rt=It.map(function(te){var se=te.split("/");return se[se.length-("/"==te.slice(-1)?2:1)]}),Ot=!1;47===Ft.charCodeAt(0)?(Ot=!0,Ft=It[0].slice(0,-1)+Ft):Ot=-1!==Ft.indexOf("/");var Lt=Ft.toUpperCase(),re=!0===Ot?It.indexOf(Lt):Rt.indexOf(Lt);if(-1!==re)return Ct.FileIndex[re];var pe=!Lt.match(Ny);for(Lt=Lt.replace(Qa,""),pe&&(Lt=Lt.replace(Ny,"!")),re=0;re<It.length;++re)if((pe?It[re].replace(Ny,"!"):It[re]).replace(Qa,"")==Lt||(pe?Rt[re].replace(Ny,"!"):Rt[re]).replace(Qa,"")==Lt)return Ct.FileIndex[re];return null},i.read=function Bt(Ct,Ft){var It=Ft&&Ft.type;switch(It||Tn&&Buffer.isBuffer(Ct)&&(It="buffer"),It||"base64"){case"file":return function Mt(Ct,Ft){return D(),R(C.readFileSync(Ct),Ft)}(Ct,Ft);case"base64":return R(wo(ol(Ct)),Ft);case"binary":return R(wo(Ct),Ft)}return R(Ct,Ft)},i.parse=R,i.write=function Ee(Ct,Ft){var It=bt(Ct,Ft);switch(Ft&&Ft.type||"buffer"){case"file":return D(),C.writeFileSync(Ft.filename,It),It;case"binary":return"string"==typeof It?It:Je(It);case"base64":return F_("string"==typeof It?It:Je(It));case"buffer":if(Tn)return Buffer.isBuffer(It)?It:jc(It);case"array":return"string"==typeof It?wo(It):It}return It},i.writeFile=function _e(Ct,Ft,It){D();var Rt=bt(Ct,It);C.writeFileSync(Ft,Rt)},i.utils={cfb_new:function Ra(Ct){var Ft={};return pt(Ft,Ct),Ft},cfb_add:_v,cfb_del:function wm(Ct,Ft){pt(Ct);var It=Oi.find(Ct,Ft);if(It)for(var Rt=0;Rt<Ct.FileIndex.length;++Rt)if(Ct.FileIndex[Rt]==It)return Ct.FileIndex.splice(Rt,1),Ct.FullPaths.splice(Rt,1),!0;return!1},cfb_mov:function Tm(Ct,Ft,It){pt(Ct);var Rt=Oi.find(Ct,Ft);if(Rt)for(var Ot=0;Ot<Ct.FileIndex.length;++Ot)if(Ct.FileIndex[Ot]==Rt)return Ct.FileIndex[Ot].name=r(It),Ct.FullPaths[Ot]=It,!0;return!1},cfb_gc:function LO(Ct){yt(Ct,!0)},ReadShift:Xy,CheckField:O$,prep_blob:na,bconcat:Es,use_zlib:function ie(Ct){try{var It=new(0,Ct.InflateRaw);if(It._processChunk(new Uint8Array([3,0]),It._finishFlushFlag),!It.bytesRead)throw new Error("zlib does not expose bytesRead");ki=Ct}catch(Rt){console.error("cannot use native zlib: "+(Rt.message||Rt))}},_deflateRaw:oo,_inflateRaw:xm,consts:ae},i}();function i$(e){return"string"==typeof e?Ly(e):Array.isArray(e)?function QPt(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function Uy(e,i,t){if(typeof eu<"u"&&eu.writeFileSync)return t?eu.writeFileSync(e,i,t):eu.writeFileSync(e,i);if(typeof Deno<"u"){if(t&&"string"==typeof i)switch(t){case"utf8":i=new TextEncoder(t).encode(i);break;case"binary":i=Ly(i);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(e,i)}var n="utf8"==t?Kc(i):i;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var r=new Blob([i$(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}else if(typeof URL<"u"&&!URL.createObjectURL&&"object"==typeof chrome){var p="data:application/octet-stream;base64,"+function $Pt(e){for(var i="",t=0,n=0,r=0,s=0,o=0,p=0,C=0,D=0;D<e.length;)s=(t=e[D++])>>2,o=(3&t)<<4|(n=e[D++])>>4,p=(15&n)<<2|(r=e[D++])>>6,C=63&r,isNaN(n)?p=C=64:isNaN(r)&&(C=64),i+=$a.charAt(s)+$a.charAt(o)+$a.charAt(p)+$a.charAt(C);return i}(new Uint8Array(i$(n)));return chrome.downloads.download({url:p,filename:e,saveAs:!0})}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var C=File(e);return C.open("w"),C.encoding="binary",Array.isArray(i)&&(i=Yc(i)),C.write(i),C.close(),i}catch(D){if(!D.message||-1==D.message.indexOf("onstruct"))throw D}throw new Error("cannot save file "+e)}function Wr(e){for(var i=Object.keys(e),t=[],n=0;n<i.length;++n)Object.prototype.hasOwnProperty.call(e,i[n])&&t.push(i[n]);return t}function n$(e,i){for(var t=[],n=Wr(e),r=0;r!==n.length;++r)null==t[e[n[r]][i]]&&(t[e[n[r]][i]]=n[r]);return t}function V_(e){for(var i=[],t=Wr(e),n=0;n!==t.length;++n)i[e[t[n]]]=t[n];return i}function U_(e){for(var i=[],t=Wr(e),n=0;n!==t.length;++n)i[e[t[n]]]=parseInt(t[n],10);return i}var r$=Date.UTC(1899,11,30,0,0,0),EFt=Date.UTC(1899,11,31,0,0,0),SFt=Date.UTC(1904,0,1,0,0,0);function ss(e,i){var n=(e.getTime()-r$)/864e5;return i?(n-=1462)<-1402?n-1:n:n<60?n-1:n}function iu(e){if(e>=60&&e<61)return e;var i=new Date;return i.setTime(24*(e>60?e:e+1)*60*60*1e3+r$),i}var DFt=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,IFt=/^(\d+)-(\d+)-(\d+)$/,s$=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function Jr(e,i){if(e instanceof Date)return e;var t=e.match(DFt);return t?new Date((i?SFt:EFt)+1e3*(60*(60*parseInt(t[1],10)+parseInt(t[2],10))+(t[3]?parseInt(t[3].slice(1),10):0))+(t[4]?parseInt((t[4]+"000").slice(1,4),10):0)):(t=e.match(IFt))?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],0,0,0,0)):(t=e.match(s$))?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4],+t[5],t[6]&&parseInt(t[6].slice(1),10)||0,t[7]&&parseInt((t[7]+"0000").slice(1,4),10)||0)):new Date(e)}function Yf(e,i){if(Tn&&Buffer.isBuffer(e)){if(i&&Oy){if(255==e[0]&&254==e[1])return Kc(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Kc(function LY(e){for(var i=[],t=0;t<e.length>>1;++t)i[t]=String.fromCharCode(e.charCodeAt(2*t+1)+(e.charCodeAt(2*t)<<8));return i.join("")}(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(i){if(255==e[0]&&254==e[1])return Kc(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Kc(new TextDecoder("utf-16be").decode(e.slice(2)))}var t={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return t[s]||s})}catch{}var n=[],r=0;try{for(r=0;r<e.length-65536;r+=65536)n.push(String.fromCharCode.apply(0,e.slice(r,r+65536)));n.push(String.fromCharCode.apply(0,e.slice(r)))}catch{try{for(;r<e.length-16384;r+=16384)n.push(String.fromCharCode.apply(0,e.slice(r,r+16384)));n.push(String.fromCharCode.apply(0,e.slice(r)))}catch{for(;r!=e.length;++r)n.push(String.fromCharCode(e[r]))}}return n.join("")}function ur(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=ur(e[t]));return i}function Wn(e,i){for(var t="";t.length<i;)t+=e;return t}function cl(e){var i=Number(e);if(!isNaN(i))return isFinite(i)?i:NaN;if(!/\d/.test(e))return i;var t=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return isNaN(i=Number(n))&&(n=n.replace(/[(]([^()]*)[)]/,function(r,s){return t=-t,s}),isNaN(i=Number(n)))?i:i/t}var MFt=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,RFt=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,kFt=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,PFt=-177984e5==new Date("6/9/69 00:00 UTC").valueOf(),LFt=["january","february","march","april","may","june","july","august","september","october","november","december"];function zy(e){if(kFt.test(e))return-1==e.indexOf("Z")?z_(new Date(e)):new Date(e);var i=e.toLowerCase(),t=i.replace(/\s+/g," ").trim(),n=t.match(MFt);if(n)return function FFt(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],+e[4],1e3*parseFloat(e[3]))):new Date(Date.UTC(1899,11,31,"p"==e[7]?12:0,+e[1],+e[2],1e3*parseFloat(e[3]))):e[5]?new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],+e[5],e[6]?1e3*parseFloat(e[6]):0)):new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),0,0,0))}(n);if(n=t.match(RFt))return function OFt(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[4],1e3*parseFloat(e[3]))):new Date(Date.UTC(1899,11,31,0,+e[1],+e[2],1e3*parseFloat(e[3]))):e[5]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[5],e[6]?1e3*parseFloat(e[6]):0)):new Date(Date.UTC(1899,11,31,+e[1],+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1],0,0,0))}(n);if(n=t.match(s$))return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var r=new Date(PFt&&-1==e.indexOf("UTC")?e+" UTC":e),s=new Date(NaN),o=r.getYear(),C=(r.getMonth(),r.getDate());if(isNaN(C))return s;if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==LFt.indexOf(i))return s}else if(i.replace(/[ap]m?/,"").match(/[a-z]/))return s;return o<0||o>8099||e.match(/[^-0-9:,\/\\\ ]/)?s:r}function $f(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function z_(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function ln(e,i,t){if(e.FullPaths){var n;if("string"==typeof t)return n=Tn?jc(t):function KPt(e){for(var i=[],t=0,n=e.length+250,r=wh(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)r[t++]=o;else if(o<2048)r[t++]=192|o>>6&31,r[t++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var p=1023&e.charCodeAt(++s);r[t++]=240|o>>8&7,r[t++]=128|o>>2&63,r[t++]=128|p>>6&15|(3&o)<<4,r[t++]=128|63&p}else r[t++]=224|o>>12&15,r[t++]=128|o>>6&63,r[t++]=128|63&o;t>n&&(i.push(r.slice(0,t)),t=0,r=wh(65535),n=65530)}return i.push(r.slice(0,t)),Es(i)}(t),Oi.utils.cfb_add(e,i,n);Oi.utils.cfb_add(e,i,t)}else e.file(i,t)}function qP(){return Oi.utils.cfb_new()}var Ss='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',tF=V_({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),eF=/[&<>'"]/g,jFt=/[\u0000-\u0008\u000b-\u001f\uFFFE-\uFFFF]/g;function gn(e){return(e+"").replace(eF,function(t){return tF[t]}).replace(jFt,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function m$(e){return gn(e).replace(/ /g,"_x0020_")}var p$=/[\u0000-\u001f]/g;function Hy(e){return(e+"").replace(eF,function(t){return tF[t]}).replace(/\n/g,"<br/>").replace(p$,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function iF(e){for(var i="",t=0,n=0,r=0,s=0,o=0,p=0;t<e.length;)(n=e.charCodeAt(t++))<128?i+=String.fromCharCode(n):(r=e.charCodeAt(t++),n>191&&n<224?(o=(31&n)<<6,o|=63&r,i+=String.fromCharCode(o)):(s=e.charCodeAt(t++),n<240?i+=String.fromCharCode((15&n)<<12|(63&r)<<6|63&s):(p=((7&n)<<18|(63&r)<<12|(63&s)<<6|63&(o=e.charCodeAt(t++)))-65536,i+=String.fromCharCode(55296+(p>>>10&1023)),i+=String.fromCharCode(56320+(1023&p)))));return i}function v$(e){var t,n,p,i=wh(2*e.length),r=1,s=0,o=0;for(n=0;n<e.length;n+=r)r=1,(p=e.charCodeAt(n))<128?t=p:p<224?(t=64*(31&p)+(63&e.charCodeAt(n+1)),r=2):p<240?(t=4096*(15&p)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),r=3):(r=4,t=262144*(7&p)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(i[s++]=255&o,i[s++]=o>>>8,o=0),i[s++]=t%256,i[s++]=t>>>8;return i.slice(0,s).toString("ucs2")}function x$(e){return jc(e,"binary").toString("utf8")}var G_="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",hr=Tn&&(x$(G_)==iF(G_)&&x$||v$(G_)==iF(G_)&&v$)||iF,Kc=Tn?function(e){return jc(e,"utf8").toString("binary")}:function(e){for(var i=[],t=0,n=0,r=0;t<e.length;)switch(n=e.charCodeAt(t++),!0){case n<128:i.push(String.fromCharCode(n));break;case n<2048:i.push(String.fromCharCode(192+(n>>6))),i.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,r=e.charCodeAt(t++)-56320+(n<<10),i.push(String.fromCharCode(240+(r>>18&7))),i.push(String.fromCharCode(144+(r>>12&63))),i.push(String.fromCharCode(128+(r>>6&63))),i.push(String.fromCharCode(128+(63&r)));break;default:i.push(String.fromCharCode(224+(n>>12))),i.push(String.fromCharCode(128+(n>>6&63))),i.push(String.fromCharCode(128+(63&n)))}return i.join("")},w$=/(^\s|\s$|\n)/;function Ia(e,i){return"<"+e+(i.match(w$)?' xml:space="preserve"':"")+">"+i+"</"+e+">"}function Wy(e){return Wr(e).map(function(i){return" "+i+'="'+e[i]+'"'}).join("")}function We(e,i,t){return"<"+e+(null!=t?Wy(t):"")+(null!=i?(i.match(w$)?' xml:space="preserve"':"")+">"+i+"</"+e:"/")+">"}function nF(e,i){try{return e.toISOString().replace(/\.\d*/,"")}catch(t){if(i)throw t}return""}var ia={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Kf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],dl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"},T$=function(e){for(var i=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,s=e[0][n].length;r<s;r+=10240)i.push.apply(i,e[0][n].slice(r,r+10240));return i},C$=Tn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(i){return Buffer.isBuffer(i)?i:jc(i)})):T$(e)}:T$,_$=function(e,i,t){for(var n=[],r=i;r<t;r+=2)n.push(String.fromCharCode(nu(e,r)));return n.join("").replace(Qa,"")},W_=Tn?function(e,i,t){return Buffer.isBuffer(e)&&Oy?e.toString("utf16le",i,t).replace(Qa,""):_$(e,i,t)}:_$,E$=function(e,i,t){for(var n=[],r=i;r<i+t;++r)n.push(("0"+e[r].toString(16)).slice(-2));return n.join("")},S$=Tn?function(e,i,t){return Buffer.isBuffer(e)?e.toString("hex",i,i+t):E$(e,i,t)}:E$,A$=function(e,i,t){for(var n=[],r=i;r<t;r++)n.push(String.fromCharCode(cv(e,r)));return n.join("")},lv=Tn?function(i,t,n){return Buffer.isBuffer(i)?i.toString("utf8",t,n):A$(i,t,n)}:A$,D$=function(e,i){var t=va(e,i);return t>0?lv(e,i+4,i+4+t-1):""},rF=D$,I$=function(e,i){var t=va(e,i);return t>0?lv(e,i+4,i+4+t-1):""},sF=I$,M$=function(e,i){var t=2*va(e,i);return t>0?lv(e,i+4,i+4+t-1):""},aF=M$,R$=function(i,t){var n=va(i,t);return n>0?W_(i,t+4,t+4+n):""},oF=R$,k$=function(e,i){var t=va(e,i);return t>0?lv(e,i+4,i+4+t):""},lF=k$,P$=function(e,i){return function JFt(e,i){for(var t=1-2*(e[i+7]>>>7),n=((127&e[i+7])<<4)+(e[i+6]>>>4&15),r=15&e[i+6],s=5;s>=0;--s)r=256*r+e[i+s];return 2047==n?0==r?t*(1/0):NaN:(0==n?n=-1022:(n-=1023,r+=Math.pow(2,52)),t*Math.pow(2,n-52)*r)}(e,i)},X_=P$,cF=function(i){return Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array};Tn&&(rF=function(i,t){if(!Buffer.isBuffer(i))return D$(i,t);var n=i.readUInt32LE(t);return n>0?i.toString("utf8",t+4,t+4+n-1):""},sF=function(i,t){if(!Buffer.isBuffer(i))return I$(i,t);var n=i.readUInt32LE(t);return n>0?i.toString("utf8",t+4,t+4+n-1):""},aF=function(i,t){if(!Buffer.isBuffer(i)||!Oy)return M$(i,t);var n=2*i.readUInt32LE(t);return i.toString("utf16le",t+4,t+4+n-1)},oF=function(i,t){if(!Buffer.isBuffer(i)||!Oy)return R$(i,t);var n=i.readUInt32LE(t);return i.toString("utf16le",t+4,t+4+n)},lF=function(i,t){if(!Buffer.isBuffer(i))return k$(i,t);var n=i.readUInt32LE(t);return i.toString("utf8",t+4,t+4+n)},X_=function(i,t){return Buffer.isBuffer(i)?i.readDoubleLE(t):P$(i,t)},cF=function(i){return Buffer.isBuffer(i)||Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array}),typeof pn<"u"&&function F$(){W_=function(e,i,t){return pn.utils.decode(1200,e.slice(i,t)).replace(Qa,"")},lv=function(e,i,t){return pn.utils.decode(65001,e.slice(i,t))},rF=function(e,i){var t=va(e,i);return t>0?pn.utils.decode(Xf,e.slice(i+4,i+4+t-1)):""},sF=function(e,i){var t=va(e,i);return t>0?pn.utils.decode(ea,e.slice(i+4,i+4+t-1)):""},aF=function(e,i){var t=2*va(e,i);return t>0?pn.utils.decode(1200,e.slice(i+4,i+4+t-1)):""},oF=function(e,i){var t=va(e,i);return t>0?pn.utils.decode(1200,e.slice(i+4,i+4+t)):""},lF=function(e,i){var t=va(e,i);return t>0?pn.utils.decode(65001,e.slice(i+4,i+4+t)):""}}();var cv=function(e,i){return e[i]},nu=function(e,i){return 256*e[i+1]+e[i]},tOt=function(e,i){var t=256*e[i+1]+e[i];return t<32768?t:-1*(65535-t+1)},va=function(e,i){return e[i+3]*(1<<24)+(e[i+2]<<16)+(e[i+1]<<8)+e[i]},Zf=function(e,i){return e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]},eOt=function(e,i){return e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]};function Xy(e,i){var n,r,o,p,C,D,t="",s=[];switch(i){case"dbcs":if(D=this.l,Tn&&Buffer.isBuffer(this)&&Oy)t=this.slice(this.l,this.l+2*e).toString("utf16le");else for(C=0;C<e;++C)t+=String.fromCharCode(nu(this,D)),D+=2;e*=2;break;case"utf8":t=lv(this,this.l,this.l+e);break;case"utf16le":t=W_(this,this.l,this.l+(e*=2));break;case"wstr":if(!(typeof pn<"u"))return Xy.call(this,e,"dbcs");t=pn.utils.decode(ea,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":t=rF(this,this.l),e=4+va(this,this.l);break;case"lpstr-cp":t=sF(this,this.l),e=4+va(this,this.l);break;case"lpwstr":t=aF(this,this.l),e=4+2*va(this,this.l);break;case"lpp4":e=4+va(this,this.l),t=oF(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+va(this,this.l),t=lF(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,t="";0!==(o=cv(this,this.l+e++));)s.push(Fy(o));t=s.join("");break;case"_wstr":for(e=0,t="";0!==(o=nu(this,this.l+e));)s.push(Fy(o)),e+=2;e+=2,t=s.join("");break;case"dbcs-cont":for(t="",D=this.l,C=0;C<e;++C){if(this.lens&&-1!==this.lens.indexOf(D))return o=cv(this,D),this.l=D+1,p=Xy.call(this,e-C,o?"dbcs-cont":"sbcs-cont"),s.join("")+p;s.push(Fy(nu(this,D))),D+=2}t=s.join(""),e*=2;break;case"cpstr":if(typeof pn<"u"){t=pn.utils.decode(ea,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(t="",D=this.l,C=0;C!=e;++C){if(this.lens&&-1!==this.lens.indexOf(D))return o=cv(this,D),this.l=D+1,p=Xy.call(this,e-C,o?"dbcs-cont":"sbcs-cont"),s.join("")+p;s.push(Fy(cv(this,D))),D+=1}t=s.join("");break;default:switch(e){case 1:return n=cv(this,this.l),this.l++,n;case 2:return n=("i"===i?tOt:nu)(this,this.l),this.l+=2,n;case 4:case-4:return"i"!==i&&128&this[this.l+3]?(r=va(this,this.l),this.l+=4,r):(n=(e>0?Zf:eOt)(this,this.l),this.l+=4,n);case 8:case-8:if("f"===i)return r=8==e?X_(this,this.l):X_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:t=S$(this,this.l,e)}}return this.l+=e,t}var iOt=function(e,i,t){e[t]=255&i,e[t+1]=i>>>8&255,e[t+2]=i>>>16&255,e[t+3]=i>>>24&255},nOt=function(e,i,t){e[t]=255&i,e[t+1]=i>>8&255,e[t+2]=i>>16&255,e[t+3]=i>>24&255},rOt=function(e,i,t){e[t]=255&i,e[t+1]=i>>>8&255};function sOt(e,i,t){var n=0,r=0;if("dbcs"===t){for(r=0;r!=i.length;++r)rOt(this,i.charCodeAt(r),this.l+2*r);n=2*i.length}else if("sbcs"===t||"cpstr"==t)if(typeof pn<"u"&&874==Xf){for(r=0;r!=i.length;++r){var s=pn.utils.encode(Xf,i.charAt(r));this[this.l+r]=s[0]}n=i.length}else if(typeof pn<"u"&&"cpstr"==t){if((s=pn.utils.encode(ea,i)).length==i.length)for(r=0;r<i.length;++r)0==s[r]&&0!=i.charCodeAt(r)&&(s[r]=95);if(s.length==2*i.length)for(r=0;r<i.length;++r)0==s[2*r]&&0==s[2*r+1]&&0!=i.charCodeAt(r)&&(s[2*r]=95);for(r=0;r<s.length;++r)this[this.l+r]=s[r];n=s.length}else{for(i=i.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=i.length;++r)this[this.l+r]=255&i.charCodeAt(r);n=i.length}else{if("hex"===t){for(;r<e;++r)this[this.l++]=parseInt(i.slice(2*r,2*r+2),16)||0;return this}if("utf16le"===t){var o=Math.min(this.l+e,this.length);for(r=0;r<Math.min(i.length,e);++r){var p=i.charCodeAt(r);this[this.l++]=255&p,this[this.l++]=p>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&i;break;case 2:n=2,this[this.l]=255&i,this[this.l+1]=255&(i>>>=8);break;case 3:n=3,this[this.l]=255&i,this[this.l+1]=255&(i>>>=8),this[this.l+2]=255&(i>>>=8);break;case 4:n=4,iOt(this,i,this.l);break;case 8:if(n=8,"f"===t){!function qFt(e,i,t){var n=(i<0||1/i==-1/0?1:0)<<7,r=0,s=0,o=n?-i:i;isFinite(o)?0==o?r=s=0:(r=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(i)?26985:0);for(var p=0;p<=5;++p,s/=256)e[t+p]=255&s;e[t+6]=(15&r)<<4|15&s,e[t+7]=r>>4|n}(this,i,this.l);break}case 16:break;case-4:n=4,nOt(this,i,this.l)}}return this.l+=n,this}function O$(e,i){var t=S$(this,this.l,e.length>>1);if(t!==e)throw new Error(i+"Expected "+e+" saw "+t);this.l+=e.length>>1}function na(e,i){e.l=i,e.read_shift=Xy,e.chk=O$,e.write_shift=sOt}function Ka(e,i){e.l+=i}function ne(e){var i=wh(e);return na(i,0),i}function Za(){var e=[],i=Tn?256:2048,t=function(D){var R=ne(D);return na(R,0),R},n=t(i),r=function(){n&&(n.l&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n)),n=null)},s=function(D){return n&&D<n.length-n.l?n:(r(),n=t(Math.max(D+1,i)))};return{next:s,push:function(D){r(),null==(n=D).l&&(n.l=n.length),s(i)},end:function(){return r(),Es(e)},_bufs:e}}function Te(e,i,t,n){var s,r=+i;if(!isNaN(r)){n||(n=mb[r].p||(t||[]).length||0),s=1+(r>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);r<=127?o.write_shift(1,r):(o.write_shift(1,128+(127&r)),o.write_shift(1,r>>7));for(var p=0;4!=p;++p){if(!(n>=128)){o.write_shift(1,n);break}o.write_shift(1,128+(127&n)),n>>=7}n>0&&cF(t)&&e.push(t)}}function jy(e,i,t){var n=ur(e);if(i.s?(n.cRel&&(n.c+=i.s.c),n.rRel&&(n.r+=i.s.r)):(n.cRel&&(n.c+=i.c),n.rRel&&(n.r+=i.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function L$(e,i,t){var n=ur(e);return n.s=jy(n.s,i.s,t),n.e=jy(n.e,i.s,t),n}function Yy(e,i){if(e.cRel&&e.c<0)for(e=ur(e);e.c<0;)e.c+=i>8?16384:256;if(e.rRel&&e.r<0)for(e=ur(e);e.r<0;)e.r+=i>8?1048576:i>5?65536:16384;var t=Cn(e);return!e.cRel&&null!=e.cRel&&(t=function lOt(e){return e.replace(/^([A-Z])/,"$$$1")}(t)),!e.rRel&&null!=e.rRel&&(t=function aOt(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(t)),t}function dF(e,i){return 0!=e.s.r||e.s.rRel||e.e.r!=(i.biff>=12?1048575:i.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(i.biff>=12?16383:255)||e.e.cRel?Yy(e.s,i.biff)+":"+Yy(e.e,i.biff):(e.s.rRel?"":"$")+Rn(e.s.r)+":"+(e.e.rRel?"":"$")+Rn(e.e.r):(e.s.cRel?"":"$")+cn(e.s.c)+":"+(e.e.cRel?"":"$")+cn(e.e.c)}function uF(e){return parseInt(function oOt(e){return e.replace(/\$(\d+)$/,"$1")}(e),10)-1}function Rn(e){return""+(e+1)}function hF(e){for(var i=function cOt(e){return e.replace(/^\$([A-Z])/,"$1")}(e),t=0,n=0;n!==i.length;++n)t=26*t+i.charCodeAt(n)-64;return t-1}function cn(e){if(e<0)throw new Error("invalid column "+e);var i="";for(++e;e;e=Math.floor((e-1)/26))i=String.fromCharCode((e-1)%26+65)+i;return i}function fr(e){for(var i=0,t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=48&&r<=57?i=10*i+(r-48):r>=65&&r<=90&&(t=26*t+(r-64))}return{c:t-1,r:i-1}}function Cn(e){for(var i=e.c+1,t="";i;i=(i-1)/26|0)t=String.fromCharCode((i-1)%26+65)+t;return t+(e.r+1)}function ra(e){var i=e.indexOf(":");return-1==i?{s:fr(e),e:fr(e)}:{s:fr(e.slice(0,i)),e:fr(e.slice(i+1))}}function dn(e,i){return typeof i>"u"||"number"==typeof i?dn(e.s,e.e):("string"!=typeof e&&(e=Cn(e)),"string"!=typeof i&&(i=Cn(i)),e==i?e:e+":"+i)}function $y(e){var i=ra(e);return"$"+cn(i.s.c)+"$"+Rn(i.s.r)+":$"+cn(i.e.c)+"$"+Rn(i.e.r)}function Qy(e,i){if(!(e||i&&i.biff<=5&&i.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e.replace(/'/g,"''")+"'":e}function Un(e){var i={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,r=0,s=e.length;for(t=0;n<s&&!((r=e.charCodeAt(n)-64)<1||r>26);++n)t=26*t+r;for(i.s.c=--t,t=0;n<s&&!((r=e.charCodeAt(n)-48)<0||r>9);++n)t=10*t+r;if(i.s.r=--t,n===s||10!=r)return i.e.c=i.s.c,i.e.r=i.s.r,i;for(++n,t=0;n!=s&&!((r=e.charCodeAt(n)-64)<1||r>26);++n)t=26*t+r;for(i.e.c=--t,t=0;n!=s&&!((r=e.charCodeAt(n)-48)<0||r>9);++n)t=10*t+r;return i.e.r=--t,i}function Zc(e,i,t){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&t&&t.dateNF&&(e.z=t.dateNF),"e"==e.t?Fl[e.v]||e.v:function N$(e,i){var t="d"==e.t&&i instanceof Date;if(null!=e.z)try{return e.w=Vo(e.z,t?ss(i):i)}catch{}try{return e.w=Vo((e.XF||{}).numFmtId||(t?14:0),t?ss(i):i)}catch{return""+i}}(e,null==i?e.v:i))}function Ch(e,i){var t=i&&i.sheet?i.sheet:"Sheet1",n={};return n[t]=e,{SheetNames:[t],Sheets:n}}function B$(e,i,t){var n=t||{},r=e?null!=e["!data"]:n.dense;null!=_s&&null==r&&(r=_s);var s=e||{};r&&!s["!data"]&&(s["!data"]=[]);var o=0,p=0;if(s&&null!=n.origin)if("number"==typeof n.origin)o=n.origin;else{var C="string"==typeof n.origin?fr(n.origin):n.origin;o=C.r,p=C.c}var D={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var R=Un(s["!ref"]);D.s.c=R.s.c,D.s.r=R.s.r,D.e.c=Math.max(D.e.c,R.e.c),D.e.r=Math.max(D.e.r,R.e.r),-1==o&&(D.e.r=o=s["!ref"]?R.e.r+1:0)}else D.s.c=D.e.c=D.s.r=D.e.r=0;for(var F=[],B=!1,V=0;V!=i.length;++V)if(i[V]){if(!Array.isArray(i[V]))throw new Error("aoa_to_sheet expects an array of arrays");var X=o+V,J=""+(X+1);r&&(s["!data"][X]||(s["!data"][X]=[]),F=s["!data"][X]);for(var Q=0;Q!=i[V].length;++Q)if(!(typeof i[V][Q]>"u")){var nt={v:i[V][Q]},ct=p+Q;if(D.s.r>X&&(D.s.r=X),D.s.c>ct&&(D.s.c=ct),D.e.r<X&&(D.e.r=X),D.e.c<ct&&(D.e.c=ct),B=!0,!i[V][Q]||"object"!=typeof i[V][Q]||Array.isArray(i[V][Q])||i[V][Q]instanceof Date)if(Array.isArray(nt.v)&&(nt.f=i[V][Q][1],nt.v=nt.v[0]),null===nt.v)if(nt.f)nt.t="n";else if(n.nullError)nt.t="e",nt.v=0;else{if(!n.sheetStubs)continue;nt.t="z"}else"number"==typeof nt.v?nt.t="n":"boolean"==typeof nt.v?nt.t="b":nt.v instanceof Date?(nt.z=n.dateNF||Ri[14],n.UTC||(nt.v=z_(nt.v)),n.cellDates?(nt.t="d",nt.w=Vo(nt.z,ss(nt.v,n.date1904))):(nt.t="n",nt.v=ss(nt.v,n.date1904),nt.w=Vo(nt.z,nt.v))):nt.t="s";else nt=i[V][Q];if(r)F[ct]&&F[ct].z&&(nt.z=F[ct].z),F[ct]=nt;else{var lt=cn(ct)+J;s[lt]&&s[lt].z&&(nt.z=s[lt].z),s[lt]=nt}}}return B&&D.s.c<104e5&&(s["!ref"]=dn(D)),s}function dv(e,i){return B$(null,e,i)}function ac(e,i){return i||(i=ne(4)),i.write_shift(4,e),i}function Ja(e){var i=e.read_shift(4);return 0===i?"":e.read_shift(i,"dbcs")}function sa(e,i){var t=!1;return null==i&&(t=!0,i=ne(4+2*e.length)),i.write_shift(4,e.length),e.length>0&&i.write_shift(0,e,"dbcs"),t?i.slice(0,i.l):i}function fOt(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function fF(e,i){var t=e.l,n=e.read_shift(1),r=Ja(e),s=[],o={t:r,h:r};if(1&n){for(var p=e.read_shift(4),C=0;C!=p;++C)s.push(fOt(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=t+i,o}var gOt=fF;function Pl(e){var i=e.read_shift(4),t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:i,iStyleRef:t}}function Jf(e,i){return null==i&&(i=ne(8)),i.write_shift(-4,e.c),i.write_shift(3,e.iStyleRef||e.s),i.write_shift(1,0),i}function qf(e){var i=e.read_shift(2);return i+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:i}}function tm(e,i){return null==i&&(i=ne(4)),i.write_shift(3,e.iStyleRef||e.s),i.write_shift(1,0),i}var xOt=Ja,V$=sa;function j_(e){var i=e.read_shift(4);return 0===i||4294967295===i?"":e.read_shift(i,"dbcs")}function Ky(e,i){var t=!1;return null==i&&(t=!0,i=ne(127)),i.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&i.write_shift(0,e,"dbcs"),t?i.slice(0,i.l):i}var yOt=Ja,mF=j_,pF=Ky;function Y_(e){var i=e.slice(e.l,e.l+4),t=1&i[0],n=2&i[0];e.l+=4;var r=0===n?X_([0,0,0,0,252&i[0],i[1],i[2],i[3]],0):Zf(i,0)>>2;return t?r/100:r}function U$(e,i){null==i&&(i=ne(4));var t=0,n=0,r=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:r==(0|r)&&r>=-(1<<29)&&r<1<<29&&(n=1,t=1),!n)throw new Error("unsupported RkNumber "+e);i.write_shift(-4,((t?r:e)<<2)+(t+2))}function z$(e){var i={s:{},e:{}};return i.s.r=e.read_shift(4),i.e.r=e.read_shift(4),i.s.c=e.read_shift(4),i.e.c=e.read_shift(4),i}var em=z$,uv=function bOt(e,i){return i||(i=ne(16)),i.write_shift(4,e.s.r),i.write_shift(4,e.e.r),i.write_shift(4,e.s.c),i.write_shift(4,e.e.c),i};function qa(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function im(e,i){return(i||ne(8)).write_shift(8,e,"f")}function $_(e,i){if(i||(i=ne(8)),!e||e.auto)return i.write_shift(4,0),i.write_shift(4,0),i;null!=e.index?(i.write_shift(1,2),i.write_shift(1,e.index)):null!=e.theme?(i.write_shift(1,6),i.write_shift(1,e.theme)):(i.write_shift(1,5),i.write_shift(1,0));var t=e.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),i.write_shift(2,t),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),i.write_shift(1,parseInt(n.slice(0,2),16)),i.write_shift(1,parseInt(n.slice(2,4),16)),i.write_shift(1,parseInt(n.slice(4,6),16)),i.write_shift(1,255)}else i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0);return i}var vF={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},xF={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function kOt(e){return e.map(function(i){return[i>>16&255,i>>8&255,255&i]})}var nm=ur(kOt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Fl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Zy={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},yF=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],bF={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},J_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function j$(e,i,t){var s,n=function _Ft(e){for(var i=[],t=Wr(e),n=0;n!==t.length;++n)null==i[e[t[n]]]&&(i[e[t[n]]]=[]),i[e[t[n]]].push(t[n]);return i}(bF),r=[];t||(r[r.length]=Ss,r[r.length]=We("Types",null,{xmlns:ia.CT,"xmlns:xsd":ia.xsd,"xmlns:xsi":ia.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(D){return We("Default",null,{Extension:D[0],ContentType:D[1]})})));var o=function(D){e[D]&&e[D].length>0&&(r[r.length]=We("Override",null,{PartName:("/"==(s=e[D][0])[0]?"":"/")+s,ContentType:J_[D][i.bookType]||J_[D].xlsx}))},p=function(D){(e[D]||[]).forEach(function(R){r[r.length]=We("Override",null,{PartName:("/"==R[0]?"":"/")+R,ContentType:J_[D][i.bookType]||J_[D].xlsx})})},C=function(D){(e[D]||[]).forEach(function(R){r[r.length]=We("Override",null,{PartName:("/"==R[0]?"":"/")+R,ContentType:n[D][0]})})};return o("workbooks"),p("sheets"),p("charts"),C("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(C),C("vba"),C("comments"),C("threadedcomments"),C("drawings"),p("metadata"),C("people"),!t&&r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var un={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",CONN:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Jy(e){var i=e.lastIndexOf("/");return e.slice(0,i+1)+"_rels/"+e.slice(i+1)+".rels"}function hv(e){var i=[Ss,We("Relationships",null,{xmlns:ia.RELS})];return Wr(e["!id"]).forEach(function(t){i[i.length]=We("Relationship",null,e["!id"][t])}),i.length>2&&(i[i.length]="</Relationships>",i[1]=i[1].replace("/>",">")),i.join("")}function or(e,i,t,n,r,s){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),i<0)for(i=e["!idx"];e["!id"]["rId"+i];++i);if(e["!idx"]=i+1,r.Id="rId"+i,r.Type=n,r.Target=t,s?r.TargetMode=s:[un.HLINK,un.XPATH,un.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+i);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,i}function Y$(e,i,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+i+'"/>\n',"  </rdf:Description>\n"].join("")}function BOt(e,i){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+i+'"/>\n',"  </rdf:Description>\n"].join("")}function $$(e,i){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Py.version+"</meta:generator></office:meta></office:document-meta>"}var su=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function TF(e,i,t,n,r){null!=r[e]||null==i||""===i||(r[e]=i,i=gn(i),n[n.length]=t?We(e,i,t):Ia(e,i))}function K$(e,i){var t=i||{},n=[Ss,We("cp:coreProperties",null,{"xmlns:cp":ia.CORE_PROPS,"xmlns:dc":ia.dc,"xmlns:dcterms":ia.dcterms,"xmlns:dcmitype":ia.dcmitype,"xmlns:xsi":ia.xsi})],r={};if(!e&&!t.Props)return n.join("");e&&(null!=e.CreatedDate&&TF("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:nF(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r),null!=e.ModifiedDate&&TF("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:nF(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r));for(var s=0;s!=su.length;++s){var o=su[s],p=t.Props&&null!=t.Props[o[1]]?t.Props[o[1]]:e?e[o[1]]:null;!0===p?p="1":!1===p?p="0":"number"==typeof p&&(p=String(p)),null!=p&&TF(o[0],p,null,n,r)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var rm=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Z$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function q$(e){var i=[],t=We;return e||(e={}),e.Application="SheetJS",i[i.length]=Ss,i[i.length]=We("Properties",null,{xmlns:ia.EXT_PROPS,"xmlns:vt":ia.vt}),rm.forEach(function(n){if(void 0!==e[n[1]]){var r;switch(n[2]){case"string":r=gn(String(e[n[1]]));break;case"bool":r=e[n[1]]?"true":"false"}void 0!==r&&(i[i.length]=t(n[0],r))}}),i[i.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),i[i.length]=t("TitlesOfParts",t("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+gn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}function tQ(e){var i=[Ss,We("Properties",null,{xmlns:ia.CUST_PROPS,"xmlns:vt":ia.vt})];if(!e)return i.join("");var t=1;return Wr(e).forEach(function(r){++t,i[i.length]=We("property",function ZFt(e,i){switch(typeof e){case"string":var t=We("vt:lpwstr",gn(e));return i&&(t=t.replace(/&quot;/g,"_x0022_")),t;case"number":return We((0|e)==e?"vt:i4":"vt:r8",gn(String(e)));case"boolean":return We("vt:bool",e?"true":"false")}if(e instanceof Date)return We("vt:filetime",nF(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:gn(r)})}),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}var CF={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function aQ(e,i){var t=ne(4),n=ne(4);switch(t.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,i);break;case 5:(n=ne(8)).write_shift(8,i,"f");break;case 11:n.write_shift(4,i?1:0);break;case 64:n=function jOt(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var s=(n*=1e7)/Math.pow(2,32)|0;s>0&&(n%=Math.pow(2,32),r+=s);var o=ne(8);return o.write_shift(4,n),o.write_shift(4,r),o}(i);break;case 31:case 80:for((n=ne(4+2*(i.length+1)+(i.length%2?0:2))).write_shift(4,i.length+1),n.write_shift(0,i,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+i)}return Es([t,n])}var lQ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function qOt(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function cQ(e,i,t){var n=ne(8),r=[],s=[],o=8,p=0,C=ne(8),D=ne(8);if(C.write_shift(4,2),C.write_shift(4,1200),D.write_shift(4,1),s.push(C),r.push(D),o+=8+C.length,!i){(D=ne(8)).write_shift(4,0),r.unshift(D);var R=[ne(4)];for(R[0].write_shift(4,e.length),p=0;p<e.length;++p){var F=e[p][0];for((C=ne(8+2*(F.length+1)+(F.length%2?0:2))).write_shift(4,p+2),C.write_shift(4,F.length+1),C.write_shift(0,F,"dbcs");C.l!=C.length;)C.write_shift(1,0);R.push(C)}C=Es(R),s.unshift(C),o+=8+C.length}for(p=0;p<e.length;++p)if((!i||i[e[p][0]])&&!(lQ.indexOf(e[p][0])>-1||Z$.indexOf(e[p][0])>-1)&&null!=e[p][1]){var B=e[p][1],V=0;if(i){var X=t[V=+i[e[p][0]]];if("version"==X.p&&"string"==typeof B){var J=B.split(".");B=(+J[0]<<16)+(+J[1]||0)}C=aQ(X.t,B)}else{var Q=qOt(B);-1==Q&&(Q=31,B=String(B)),C=aQ(Q,B)}s.push(C),(D=ne(8)).write_shift(4,i?V:2+p),r.push(D),o+=8+C.length}var nt=8*(s.length+1);for(p=0;p<s.length;++p)r[p].write_shift(4,nt),nt+=s[p].length;return n.write_shift(4,o),n.write_shift(4,s.length),Es([n].concat(r).concat(s))}function uQ(e,i,t,n,r,s){var o=ne(r?68:48),p=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Oi.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,i,"hex"),o.write_shift(4,r?68:48);var C=cQ(e,t,n);if(p.push(C),r){var D=cQ(r,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+C.length),p.push(D)}return Es(p)}function to(e,i){return i||(i=ne(2)),i.write_shift(2,+!!e),i}function ds(e){return e.read_shift(2,"u")}function Ol(e,i){return i||(i=ne(2)),i.write_shift(2,e),i}function mQ(e,i,t){return t||(t=ne(2)),t.write_shift(1,"e"==i?+e:+!!e),t.write_shift(1,"e"==i?1:0),t}function fv(e,i,t){var n=e.read_shift(t&&t.biff>=12?2:1),r="sbcs-cont",s=ea;t&&t.biff>=8&&(ea=1200),t&&8!=t.biff?12==t.biff&&(r="wstr"):e.read_shift(1)&&(r="dbcs-cont"),t.biff>=2&&t.biff<=5&&(r="cpstr");var p=n?e.read_shift(n,r):"";return ea=s,p}function nLt(e){var i=e.t||"",n=ne(3);n.write_shift(2,i.length),n.write_shift(1,1);var r=ne(2*i.length);return r.write_shift(2*i.length,i,"utf16le"),Es([n,r])}function pQ(e,i,t){return t||(t=ne(3+2*e.length)),t.write_shift(2,e.length),t.write_shift(1,1),t.write_shift(31,e,"utf16le"),t}function gQ(e,i){i||(i=ne(6+2*e.length)),i.write_shift(4,1+e.length);for(var t=0;t<e.length;++t)i.write_shift(2,e.charCodeAt(t));return i.write_shift(2,0),i}function cLt(e){var i=ne(512),t=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var r=n.indexOf("#"),s=r>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3}i.write_shift(4,2),i.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)i.write_shift(4,o[t]);if(28==s)gQ(n=n.slice(1),i);else if(2&s){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)i.write_shift(1,parseInt(o[t],16));var p=r>-1?n.slice(0,r):n;for(i.write_shift(4,2*(p.length+1)),t=0;t<p.length;++t)i.write_shift(2,p.charCodeAt(t));i.write_shift(2,0),8&s&&gQ(r>-1?n.slice(r+1):"",i)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)i.write_shift(1,parseInt(o[t],16));for(var C=0;"../"==n.slice(3*C,3*C+3)||"..\\"==n.slice(3*C,3*C+3);)++C;for(i.write_shift(2,C),i.write_shift(4,n.length-3*C+1),t=0;t<n.length-3*C;++t)i.write_shift(1,255&n.charCodeAt(t+3*C));for(i.write_shift(1,0),i.write_shift(2,65535),i.write_shift(2,57005),t=0;t<6;++t)i.write_shift(4,0)}return i.slice(0,i.l)}function om(e,i,t,n){return n||(n=ne(6)),n.write_shift(2,e),n.write_shift(2,i),n.write_shift(2,t||0),n}function hLt(e,i,t){var n=t.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function eE(e){var i=e.read_shift(2),t=e.read_shift(2);return{s:{c:e.read_shift(2),r:i},e:{c:e.read_shift(2),r:t}}}function bQ(e,i){return i||(i=ne(8)),i.write_shift(2,e.s.r),i.write_shift(2,e.e.r),i.write_shift(2,e.s.c),i.write_shift(2,e.e.c),i}function AF(e,i,t){var n=1536,r=16;switch(t.bookType){case"biff8":case"xla":break;case"biff5":n=1280,r=8;break;case"biff4":n=4,r=6;break;case"biff3":n=3,r=6;break;case"biff2":n=2,r=4;break;default:throw new Error("unsupported BIFF version")}var s=ne(r);return s.write_shift(2,n),s.write_shift(2,i),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function _Lt(e,i){var t=!i||i.biff>=8?2:1,n=ne(8+t*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),i.biff>=8&&n.write_shift(1,1),n.write_shift(t*e.name.length,e.name,i.biff<8?"sbcs":"utf16le");var r=n.slice(0,n.l);return r.l=n.l,r}function HLt(e,i,t,n){var r=t&&5==t.biff;n||(n=ne(r?3+i.length:5+2*i.length)),n.write_shift(2,e),n.write_shift(r?1:2,i.length),r||n.write_shift(1,1),n.write_shift((r?1:2)*i.length,i,r?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return null==s.l&&(s.l=s.length),s}function EQ(e,i,t,n){var r=t&&5==t.biff;n||(n=ne(r?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,i<<4));var s=0;return e.numFmtId>0&&r&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),r||n.write_shift(4,0),n.write_shift(2,0),n}function SQ(e){var i=ne(12);return i.l++,i.write_shift(1,e.numFmtId),i.l+=10,i}var eNt=SQ;function DF(e,i,t,n,r,s){var o=ne(8);return om(e,i,n,o),mQ(t,s,o),o}function IF(e,i,t,n){var r=ne(6+(n||e.length));return r.write_shift(2,i),r.write_shift(2,t),r.write_shift(2,n||e.length),r.write_shift(e.length,e,"sbcs"),r}function TNt(e){var i=ne(24),t=fr(e[0]);i.write_shift(2,t.r),i.write_shift(2,t.r),i.write_shift(2,t.c),i.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)i.write_shift(1,parseInt(n[r],16));return Es([i,cLt(e[1])])}function _Nt(e){var i=e[1].Tooltip,t=ne(10+2*(i.length+1));t.write_shift(2,2048);var n=fr(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r=0;r<i.length;++r)t.write_shift(2,i.charCodeAt(r));return t.write_shift(2,0),t}function eb(e,i,t,n,r){return e||(e=ne(7)),e.write_shift(2,i),e.write_shift(2,t),e.write_shift(1,n||0),e.write_shift(1,r||0),e.write_shift(1,0),e}var MF=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},i=V_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(p,C){var D=C||{};D.dateNF||(D.dateNF="yyyymmdd");var R=dv(function t(p,C){var D=[],R=wh(1);switch(C.type){case"base64":R=wo(ol(p));break;case"binary":R=wo(p);break;case"buffer":case"array":R=p}na(R,0);var F=R.read_shift(1),B=!!(136&F),V=!1,X=!1;switch(F){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:V=!0,B=!0;break;case 140:X=!0;break;default:throw new Error("DBF Unsupported Version: "+F.toString(16))}var J=0,Q=521;2==F&&(J=R.read_shift(2)),R.l+=3,2!=F&&(J=R.read_shift(4)),J>1048576&&(J=1e6),2!=F&&(Q=R.read_shift(2));var nt=R.read_shift(2),ct=C.codepage||1252;2!=F&&(R.l+=16,R.read_shift(1),0!==R[R.l]&&(ct=e[R[R.l]]),R.l+=1,R.l+=2),X&&(R.l+=36);for(var lt=[],wt={},Mt=Math.min(R.length,2==F?521:Q-10-(V?264:0)),Bt=X?32:11;R.l<Mt&&13!=R[R.l];)switch(wt={},wt.name=(typeof pn<"u"?pn.utils.decode(ct,R.slice(R.l,R.l+Bt)):Yc(R.slice(R.l,R.l+Bt))).replace(/[\u0000\r\n][\S\s]*$/g,""),R.l+=Bt,wt.type=String.fromCharCode(R.read_shift(1)),2!=F&&!X&&(wt.offset=R.read_shift(4)),wt.len=R.read_shift(1),2==F&&(wt.offset=R.read_shift(2)),wt.dec=R.read_shift(1),wt.name.length&&lt.push(wt),2!=F&&(R.l+=X?13:14),wt.type){case"B":(!V||8!=wt.len)&&C.WTF&&console.log("Skipping "+wt.name+":"+wt.type);break;case"G":case"P":C.WTF&&console.log("Skipping "+wt.name+":"+wt.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+wt.type)}if(13!==R[R.l]&&(R.l=Q-1),13!==R.read_shift(1))throw new Error("DBF Terminator not found "+R.l+" "+R[R.l]);R.l=Q;var pt=0,ft=0;for(D[0]=[],ft=0;ft!=lt.length;++ft)D[0][ft]=lt[ft].name;for(;J-- >0;)if(42!==R[R.l])for(++R.l,D[++pt]=[],ft=0,ft=0;ft!=lt.length;++ft){var yt=R.slice(R.l,R.l+lt[ft].len);R.l+=lt[ft].len,na(yt,0);var bt=typeof pn<"u"?pn.utils.decode(ct,yt):Yc(yt);switch(lt[ft].type){case"C":bt.trim().length&&(D[pt][ft]=bt.replace(/([^\s])\s+$/,"$1"));break;case"D":8===bt.length?(D[pt][ft]=new Date(Date.UTC(+bt.slice(0,4),+bt.slice(4,6)-1,+bt.slice(6,8),0,0,0,0)),C&&C.UTC||(D[pt][ft]=$f(D[pt][ft]))):D[pt][ft]=bt;break;case"F":D[pt][ft]=parseFloat(bt.trim());break;case"+":case"I":D[pt][ft]=X?2147483648^yt.read_shift(-4,"i"):yt.read_shift(4,"i");break;case"L":switch(bt.trim().toUpperCase()){case"Y":case"T":D[pt][ft]=!0;break;case"N":case"F":D[pt][ft]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+bt+"|")}break;case"M":if(!B)throw new Error("DBF Unexpected MEMO for type "+F.toString(16));D[pt][ft]="##MEMO##"+(X?parseInt(bt.trim(),10):yt.read_shift(4));break;case"N":(bt=bt.replace(/\u0000/g,"").trim())&&"."!=bt&&(D[pt][ft]=+bt||0);break;case"@":D[pt][ft]=new Date(yt.read_shift(-8,"f")-621356832e5);break;case"T":var _t=yt.read_shift(4),At=yt.read_shift(4);if(0==_t&&0==At)break;D[pt][ft]=new Date(864e5*(_t-2440588)+At),C&&C.UTC||(D[pt][ft]=$f(D[pt][ft]));break;case"Y":D[pt][ft]=yt.read_shift(4,"i")/1e4+yt.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":D[pt][ft]=-yt.read_shift(-8,"f");break;case"B":if(V&&8==lt[ft].len){D[pt][ft]=yt.read_shift(8,"f");break}case"G":case"P":yt.l+=lt[ft].len;break;case"0":if("_NullFlags"===lt[ft].name)break;default:throw new Error("DBF Unsupported data type "+lt[ft].type)}}else R.l+=nt;if(2!=F&&R.l<R.length&&26!=R[R.l++])throw new Error("DBF EOF Marker missing "+(R.l-1)+" of "+R.length+" "+R[R.l-1].toString(16));return C&&C.sheetRows&&(D=D.slice(0,C.sheetRows)),C.DBF=lt,D}(p,D),D);return R["!cols"]=D.DBF.map(function(F){return{wch:F.len,DBF:F}}),delete D.DBF,R}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function r(p,C){try{var D=Ch(n(p,C),C);return D.bookType="dbf",D}catch(R){if(C&&C.WTF)throw R}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function o(p,C){if(!p["!ref"])throw new Error("Cannot export empty sheet to DBF");var D=C||{},R=ea;if(+D.codepage>=0&&Il(+D.codepage),"string"==D.type)throw new Error("Cannot write DBF to JS string");var F=Za(),B=oO(p,{header:1,raw:!0,cellDates:!0}),V=B[0],X=B.slice(1),J=p["!cols"]||[],Q=0,nt=0,ct=0,lt=1;for(Q=0;Q<V.length;++Q)if(((J[Q]||{}).DBF||{}).name)V[Q]=J[Q].DBF.name,++ct;else if(null!=V[Q]){if(++ct,"number"==typeof V[Q]&&(V[Q]=V[Q].toString(10)),"string"!=typeof V[Q])throw new Error("DBF Invalid column name "+V[Q]+" |"+typeof V[Q]+"|");if(V.indexOf(V[Q])!==Q)for(nt=0;nt<1024;++nt)if(-1==V.indexOf(V[Q]+"_"+nt)){V[Q]+="_"+nt;break}}var wt=Un(p["!ref"]),Mt=[],Bt=[],pt=[];for(Q=0;Q<=wt.e.c-wt.s.c;++Q){var ft="",yt="",bt=0,_t=[];for(nt=0;nt<X.length;++nt)null!=X[nt][Q]&&_t.push(X[nt][Q]);if(0!=_t.length&&null!=V[Q]){for(nt=0;nt<_t.length;++nt){switch(typeof _t[nt]){case"number":yt="B";break;case"string":default:yt="C";break;case"boolean":yt="L";break;case"object":yt=_t[nt]instanceof Date?"D":"C"}bt=Math.max(bt,(typeof pn<"u"&&"string"==typeof _t[nt]?pn.utils.encode(Xf,_t[nt]):String(_t[nt])).length),ft=ft&&ft!=yt?"C":yt}bt>250&&(bt=250),"C"==(yt=((J[Q]||{}).DBF||{}).type)&&J[Q].DBF.len>bt&&(bt=J[Q].DBF.len),"B"==ft&&"N"==yt&&(ft="N",pt[Q]=J[Q].DBF.dec,bt=J[Q].DBF.len),Bt[Q]="C"==ft||"N"==yt?bt:s[ft]||0,lt+=Bt[Q],Mt[Q]=ft}else Mt[Q]="?"}var At=F.next(32);for(At.write_shift(4,318902576),At.write_shift(4,X.length),At.write_shift(2,296+32*ct),At.write_shift(2,lt),Q=0;Q<4;++Q)At.write_shift(4,0);var Et=+i[ea]||3;for(At.write_shift(4,Et<<8),e[Et]!=+D.codepage&&(D.codepage&&console.error("DBF Unsupported codepage "+ea+", using 1252"),ea=1252),Q=0,nt=0;Q<V.length;++Q)if(null!=V[Q]){var Ye=F.next(32),Ie=(V[Q].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Ye.write_shift(1,Ie,"sbcs"),Ye.write_shift(1,"?"==Mt[Q]?"C":Mt[Q],"sbcs"),Ye.write_shift(4,nt),Ye.write_shift(1,Bt[Q]||s[Mt[Q]]||0),Ye.write_shift(1,pt[Q]||0),Ye.write_shift(1,2),Ye.write_shift(4,0),Ye.write_shift(1,0),Ye.write_shift(4,0),Ye.write_shift(4,0),nt+=Bt[Q]||s[Mt[Q]]||0}var we=F.next(264);for(we.write_shift(4,13),Q=0;Q<65;++Q)we.write_shift(4,0);for(Q=0;Q<X.length;++Q){var ae=F.next(lt);for(ae.write_shift(1,0),nt=0;nt<V.length;++nt)if(null!=V[nt])switch(Mt[nt]){case"L":ae.write_shift(1,null==X[Q][nt]?63:X[Q][nt]?84:70);break;case"B":ae.write_shift(8,X[Q][nt]||0,"f");break;case"N":var _e="0";for("number"==typeof X[Q][nt]&&(_e=X[Q][nt].toFixed(pt[nt]||0)),_e.length>Bt[nt]&&(_e=_e.slice(0,Bt[nt])),ct=0;ct<Bt[nt]-_e.length;++ct)ae.write_shift(1,32);ae.write_shift(1,_e,"sbcs");break;case"D":X[Q][nt]?(ae.write_shift(4,("0000"+X[Q][nt].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(X[Q][nt].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+X[Q][nt].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var Je=ae.l,Ee=String(null!=X[Q][nt]?X[Q][nt]:"").slice(0,Bt[nt]);for(ae.write_shift(1,Ee,"cpstr"),Je+=Bt[nt]-ae.l,ct=0;ct<Je;++ct)ae.write_shift(1,32)}}return ea=R,F.next(1).write_shift(1,26),F.end()}}}(),FQ=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},i=new RegExp("\x1bN("+Wr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{i=new RegExp("\x1bN("+Wr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var t=function(V,X){var J=e[X];return"number"==typeof J?WP(J):J},n=function(V,X,J){var Q=X.charCodeAt(0)-32<<4|J.charCodeAt(0)-48;return 59==Q?V:WP(Q)};e["|"]=254;function o(V,X){var At,J=V.split(/[\n\r]+/),Q=-1,nt=-1,ct=0,lt=0,wt=[],Mt=[],Bt=null,pt={},ft=[],yt=[],bt=[],_t=0,Et={Workbook:{WBProps:{},Names:[]}};for(+X.codepage>=0&&Il(+X.codepage);ct!==J.length;++ct){_t=0;var ae,Ye=J[ct].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(i,t),Ie=Ye.replace(/;;/g,"\0").split(";").map(function(Gt){return Gt.replace(/\u0000/g,";")});if(Ye.length>0)switch(Ie[0]){case"ID":case"E":case"B":case"W":break;case"O":for(lt=1;lt<Ie.length;++lt)if("V"===Ie[lt].charAt(0)){var _e=parseInt(Ie[lt].slice(1),10);_e>=1&&_e<=4&&(Et.Workbook.WBProps.date1904=!0)}break;case"P":"P"===Ie[1].charAt(0)&&Mt.push(Ye.slice(3).replace(/;;/g,";"));break;case"NN":var Je={Sheet:0};for(lt=1;lt<Ie.length;++lt)switch(Ie[lt].charAt(0)){case"N":Je.Name=Ie[lt].slice(1);break;case"E":Je.Ref=(X&&X.sheet||"Sheet1")+"!"+cm(Ie[lt].slice(1))}Et.Workbook.Names.push(Je);break;case"C":var Ee=!1,ki=!1,ie=!1,Ne=!1,Se=-1,ui=-1,pi="",ii="z",Pt="";for(lt=1;lt<Ie.length;++lt)switch(Ie[lt].charAt(0)){case"A":Pt=Ie[lt].slice(1);break;case"X":nt=parseInt(Ie[lt].slice(1),10)-1,ki=!0;break;case"Y":for(Q=parseInt(Ie[lt].slice(1),10)-1,ki||(nt=0),At=wt.length;At<=Q;++At)wt[At]=[];break;case"K":'"'===(ae=Ie[lt].slice(1)).charAt(0)?(ae=ae.slice(1,ae.length-1),ii="s"):"TRUE"===ae||"FALSE"===ae?(ae="TRUE"===ae,ii="b"):"#"==ae.charAt(0)&&null!=Zy[ae]?(ii="e",ae=Zy[ae]):isNaN(cl(ae))||(ae=cl(ae),ii="n",null!==Bt&&ll(Bt)&&X.cellDates&&(ii="number"==typeof(ae=iu(Et.Workbook.WBProps.date1904?ae+1462:ae))?"n":"d")),typeof pn<"u"&&"string"==typeof ae&&"string"!=(X||{}).type&&(X||{}).codepage&&(ae=pn.utils.decode(X.codepage,ae)),Ee=!0;break;case"E":Ne=!0,pi=cm(Ie[lt].slice(1),{r:Q,c:nt});break;case"S":ie=!0;break;case"G":break;case"R":Se=parseInt(Ie[lt].slice(1),10)-1;break;case"C":ui=parseInt(Ie[lt].slice(1),10)-1;break;default:if(X&&X.WTF)throw new Error("SYLK bad record "+Ye)}if(Ee&&(wt[Q][nt]?(wt[Q][nt].t=ii,wt[Q][nt].v=ae):wt[Q][nt]={t:ii,v:ae},Bt&&(wt[Q][nt].z=Bt),!1!==X.cellText&&Bt&&(wt[Q][nt].w=Vo(wt[Q][nt].z,wt[Q][nt].v,{date1904:Et.Workbook.WBProps.date1904})),Bt=null),ie){if(Ne)throw new Error("SYLK shared formula cannot have own formula");var jt=Se>-1&&wt[Se][ui];if(!jt||!jt[1])throw new Error("SYLK shared formula cannot find base");pi=ZQ(jt[1],{r:Q-Se,c:nt-ui})}pi&&(wt[Q][nt]?wt[Q][nt].f=pi:wt[Q][nt]={t:"n",f:pi}),Pt&&(wt[Q][nt]||(wt[Q][nt]={t:"z"}),wt[Q][nt].c=[{a:"SheetJSYLK",t:Pt}]);break;case"F":var Xt=0;for(lt=1;lt<Ie.length;++lt)switch(Ie[lt].charAt(0)){case"X":nt=parseInt(Ie[lt].slice(1),10)-1,++Xt;break;case"Y":for(Q=parseInt(Ie[lt].slice(1),10)-1,At=wt.length;At<=Q;++At)wt[At]=[];break;case"M":_t=parseInt(Ie[lt].slice(1),10)/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":Bt=Mt[parseInt(Ie[lt].slice(1),10)];break;case"W":for(bt=Ie[lt].slice(1).split(" "),At=parseInt(bt[0],10);At<=parseInt(bt[1],10);++At)_t=parseInt(bt[2],10),yt[At-1]=0===_t?{hidden:!0}:{wch:_t};break;case"C":yt[nt=parseInt(Ie[lt].slice(1),10)-1]||(yt[nt]={});break;case"R":ft[Q=parseInt(Ie[lt].slice(1),10)-1]||(ft[Q]={}),_t>0?(ft[Q].hpt=_t,ft[Q].hpx=pv(_t)):0===_t&&(ft[Q].hidden=!0);break;default:if(X&&X.WTF)throw new Error("SYLK bad record "+Ye)}Xt<1&&(Bt=null);break;default:if(X&&X.WTF)throw new Error("SYLK bad record "+Ye)}}return ft.length>0&&(pt["!rows"]=ft),yt.length>0&&(pt["!cols"]=yt),yt.forEach(function(Gt){Eh(Gt)}),X&&X.sheetRows&&(wt=wt.slice(0,X.sheetRows)),[wt,pt,Et]}function C(V,X,J,Q,nt,ct){var lt="C;Y"+(J+1)+";X"+(Q+1)+";K";switch(V.t){case"n":lt+=V.v||0,V.f&&!V.F&&(lt+=";E"+cE(V.f,{r:J,c:Q}));break;case"b":lt+=V.v?"TRUE":"FALSE";break;case"e":lt+=V.w||Fl[V.v]||V.v;break;case"d":lt+=ss(Jr(V.v,ct),ct);break;case"s":lt+='"'+(null==V.v?"":String(V.v)).replace(/"/g,"").replace(/;/g,";;")+'"'}return lt}function D(V,X,J){return"C;Y"+(X+1)+";X"+(J+1)+";A"+function(V){return V.replace(/\n/g,"\x1b :").replace(/\r/g,"\x1b =")}(V.map(function(nt){return nt.t}).join(""))}return{to_workbook:function p(V,X){var J=function s(V,X){switch(X.type){case"base64":return o(ol(V),X);case"binary":return o(V,X);case"buffer":return o(Tn&&Buffer.isBuffer(V)?V.toString("binary"):Yc(V),X);case"array":return o(Yf(V),X)}throw new Error("Unrecognized type "+X.type)}(V,X),Q=J[0],nt=J[1],ct=J[2],lt=ur(X);lt.date1904=(((ct||{}).Workbook||{}).WBProps||{}).date1904;var wt=dv(Q,lt);Wr(nt).forEach(function(Bt){wt[Bt]=nt[Bt]});var Mt=Ch(wt,X);return Wr(ct).forEach(function(Bt){Mt[Bt]=ct[Bt]}),Mt.bookType="sylk",Mt},from_sheet:function B(V,X,J){X||(X={}),X._formats=["General"];var lt,Q=["ID;PSheetJS;N;E"],nt=[],ct=Un(V["!ref"]||"A1"),wt=null!=V["!data"],Mt="\r\n",Bt=(((J||{}).Workbook||{}).WBProps||{}).date1904;Q.push("P;PGeneral");var ft=ct.s.r,yt=ct.s.c,bt=[];if(V["!ref"])for(ft=ct.s.r;ft<=ct.e.r;++ft)if(!wt||V["!data"][ft]){for(bt=[],yt=ct.s.c;yt<=ct.e.c;++yt)(lt=wt?V["!data"][ft][yt]:V[cn(yt)+Rn(ft)])&&lt.c&&bt.push(D(lt.c,ft,yt));bt.length&&nt.push(bt.join(Mt))}if(V["!ref"])for(ft=ct.s.r;ft<=ct.e.r;++ft)if(!wt||V["!data"][ft]){for(bt=[],yt=ct.s.c;yt<=ct.e.c;++yt)if((lt=wt?V["!data"][ft][yt]:V[cn(yt)+Rn(ft)])&&(null!=lt.v||lt.f&&!lt.F)){if("General"!=(lt.z||("d"==lt.t?Ri[14]:"General"))){var _t=X._formats.indexOf(lt.z);-1==_t&&(X._formats.push(lt.z),_t=X._formats.length-1,Q.push("P;P"+lt.z.replace(/;/g,";;"))),bt.push("F;P"+_t+";Y"+(ft+1)+";X"+(yt+1))}bt.push(C(lt,0,ft,yt,0,Bt))}nt.push(bt.join(Mt))}return Q.push("F;P0;DG0G8;M255"),V["!cols"]&&function R(V,X){X.forEach(function(J,Q){var nt="F;W"+(Q+1)+" "+(Q+1)+" ";J.hidden?nt+="0":("number"==typeof J.width&&!J.wpx&&(J.wpx=nb(J.width)),"number"==typeof J.wpx&&!J.wch&&(J.wch=rb(J.wpx)),"number"==typeof J.wch&&(nt+=Math.round(J.wch)))," "!=nt.charAt(nt.length-1)&&V.push(nt)})}(Q,V["!cols"]),V["!rows"]&&function F(V,X){X.forEach(function(J,Q){var nt="F;";J.hidden?nt+="M0;":J.hpt?nt+="M"+20*J.hpt+";":J.hpx&&(nt+="M"+20*sb(J.hpx)+";"),nt.length>2&&V.push(nt+"R"+(Q+1))})}(Q,V["!rows"]),V["!ref"]&&Q.push("B;Y"+(ct.e.r-ct.s.r+1)+";X"+(ct.e.c-ct.s.c+1)+";D"+[ct.s.c,ct.s.r,ct.e.c,ct.e.r].join(" ")),Q.push("O;L;D;B"+(Bt?";V4":"")+";K47;G100 0.001"),delete X._formats,Q.join(Mt)+Mt+nt.join(Mt)+Mt+"E"+Mt}}}(),OQ=function(){function i(p,C){for(var D=p.split("\n"),R=-1,F=-1,B=0,V=[];B!==D.length;++B)if("BOT"!==D[B].trim()){if(!(R<0)){for(var X=D[B].trim().split(","),J=X[0],Q=X[1],nt=D[++B]||"";1&(nt.match(/["]/g)||[]).length&&B<D.length-1;)nt+="\n"+D[++B];switch(nt=nt.trim(),+J){case-1:if("BOT"===nt){V[++R]=[],F=0;continue}if("EOD"!==nt)throw new Error("Unrecognized DIF special command "+nt);break;case 0:"TRUE"===nt?V[R][F]=!0:"FALSE"===nt?V[R][F]=!1:isNaN(cl(Q))?isNaN(zy(Q).getDate())?V[R][F]=Q:(V[R][F]=Jr(Q),C&&C.UTC||(V[R][F]=$f(V[R][F]))):V[R][F]=cl(Q),++F;break;case 1:(nt=(nt=nt.slice(1,nt.length-1)).replace(/""/g,'"'))&&nt.match(/^=".*"$/)&&(nt=nt.slice(2,-1)),V[R][F++]=""!==nt?nt:null}if("EOD"===nt)break}}else V[++R]=[],F=0;return C&&C.sheetRows&&(V=V.slice(0,C.sheetRows)),V}function t(p,C){return dv(function e(p,C){switch(C.type){case"base64":return i(ol(p),C);case"binary":return i(p,C);case"buffer":return i(Tn&&Buffer.isBuffer(p)?p.toString("binary"):Yc(p),C);case"array":return i(Yf(p),C)}throw new Error("Unrecognized type "+C.type)}(p,C),C)}function r(p,C){return"0,"+String(p)+"\r\n"+C}function s(p){return'1,0\r\n"'+p.replace(/"/g,'""')+'"'}return{to_workbook:function n(p,C){var D=Ch(t(p,C),C);return D.bookType="dif",D},to_sheet:t,from_sheet:function o(p){if(!p["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var D=Un(p["!ref"]),R=null!=p["!data"],F=['TABLE\r\n0,1\r\n"sheetjs"\r\n',"VECTORS\r\n0,"+(D.e.r-D.s.r+1)+'\r\n""\r\n',"TUPLES\r\n0,"+(D.e.c-D.s.c+1)+'\r\n""\r\n','DATA\r\n0,0\r\n""\r\n'],B=D.s.r;B<=D.e.r;++B){for(var V=R?p["!data"][B]:[],X="-1,0\r\nBOT\r\n",J=D.s.c;J<=D.e.c;++J){var Q=R?V&&V[J]:p[Cn({r:B,c:J})];if(null!=Q){switch(Q.t){case"n":X+=null!=Q.w?"0,"+Q.w+"\r\nV":null!=Q.v?r(Q.v,"V"):null==Q.f||Q.F?'1,0\r\n""':s("="+Q.f);break;case"b":X+=Q.v?r(1,"TRUE"):r(0,"FALSE");break;case"s":X+=s(isNaN(+Q.v)?Q.v:'="'+Q.v+'"');break;case"d":Q.w||(Q.w=Vo(Q.z||Ri[14],ss(Jr(Q.v)))),X+=r(Q.w,"V");break;default:X+='1,0\r\n""'}X+="\r\n"}else X+='1,0\r\n""\r\n'}F.push(X)}return F.join("")+"-1,0\r\nEOD"}}}(),LQ=function(){function e(F){return F.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function i(F){return F.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(F,B){return dv(function t(F,B){for(var V=F.split("\n"),X=-1,J=-1,Q=0,nt=[];Q!==V.length;++Q){var ct=V[Q].trim().split(":");if("cell"===ct[0]){var lt=fr(ct[1]);if(nt.length<=lt.r)for(X=nt.length;X<=lt.r;++X)nt[X]||(nt[X]=[]);switch(X=lt.r,J=lt.c,ct[2]){case"t":nt[X][J]=e(ct[3]);break;case"v":nt[X][J]=+ct[3];break;case"vtf":var wt=ct[ct.length-1];case"vtc":nt[X][J]="nl"===ct[3]?!!+ct[4]:+ct[4],"vtf"==ct[2]&&(nt[X][J]=[nt[X][J],wt])}}}return B&&B.sheetRows&&(nt=nt.slice(0,B.sheetRows)),nt}(F,B),B)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",p=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),C="--SocialCalcSpreadsheetControlSave--";function D(F){if(!F||!F["!ref"])return"";for(var X,B=[],V=[],J="",Q=ra(F["!ref"]),nt=null!=F["!data"],ct=Q.s.r;ct<=Q.e.r;++ct)for(var lt=Q.s.c;lt<=Q.e.c;++lt)if(J=Cn({r:ct,c:lt}),(X=nt?(F["!data"][ct]||[])[lt]:F[J])&&null!=X.v&&"z"!==X.t){switch(V=["cell",J,"t"],X.t){case"s":case"str":V.push(i(X.v));break;case"n":X.f?(V[2]="vtf",V[3]="n",V[4]=X.v,V[5]=i(X.f)):(V[2]="v",V[3]=X.v);break;case"b":V[2]="vt"+(X.f?"f":"c"),V[3]="nl",V[4]=X.v?"1":"0",V[5]=i(X.f||(X.v?"TRUE":"FALSE"));break;case"d":var wt=ss(Jr(X.v));V[2]="vtc",V[3]="nd",V[4]=""+wt,V[5]=X.w||Vo(X.z||Ri[14],wt);break;case"e":continue}B.push(V.join(":"))}return B.push("sheet:c:"+(Q.e.c-Q.s.c+1)+":r:"+(Q.e.r-Q.s.r+1)+":tvf:1"),B.push("valueformat:1:text-wiki"),B.join("\n")}return{to_workbook:function r(F,B){return Ch(n(F,B),B)},to_sheet:n,from_sheet:function R(F){return[s,o,p,o,D(F),C].join("\n")}}}(),mv=function(){function e(R,F,B,V,X){X.raw?F[B][V]=R:""===R||(F[B][V]="TRUE"===R||"FALSE"!==R&&(isNaN(cl(R))?isNaN(zy(R).getDate())?R:Jr(R):cl(R)))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(R){for(var F={},B=!1,V=0,X=0;V<R.length;++V)34==(X=R.charCodeAt(V))?B=!B:!B&&X in t&&(F[X]=(F[X]||0)+1);for(V in X=[],F)Object.prototype.hasOwnProperty.call(F,V)&&X.push([F[V],V]);if(!X.length)for(V in F=n)Object.prototype.hasOwnProperty.call(F,V)&&X.push([F[V],V]);return X.sort(function(J,Q){return J[0]-Q[0]||n[J[1]]-n[Q[1]]}),t[X.pop()[1]]||44}function o(R,F){return!F||!F.PRN||F.FS||"sep="==R.slice(0,4)||R.indexOf("\t")>=0||R.indexOf(",")>=0||R.indexOf(";")>=0?function s(R,F){var B=F||{},V="";null!=_s&&null==B.dense&&(B.dense=_s);var X={};B.dense&&(X["!data"]=[]);var J={s:{c:0,r:0},e:{c:0,r:0}};"sep="==R.slice(0,4)?13==R.charCodeAt(5)&&10==R.charCodeAt(6)?(V=R.charAt(4),R=R.slice(7)):13==R.charCodeAt(5)||10==R.charCodeAt(5)?(V=R.charAt(4),R=R.slice(6)):V=r(R.slice(0,1024)):V=B&&B.FS?B.FS:r(R.slice(0,1024));var Q=0,nt=0,ct=0,lt=0,wt=0,Mt=V.charCodeAt(0),Bt=!1,pt=0,ft=R.charCodeAt(0),yt=null!=B.dateNF?function yFt(e){var i="number"==typeof e?Ri[e]:e;return i=i.replace(B_,"(\\d+)"),B_.lastIndex=0,new RegExp("^"+i+"$")}(B.dateNF):null;function bt(){var _t=R.slice(lt,wt);"\r"==_t.slice(-1)&&(_t=_t.slice(0,-1));var At={};if('"'==_t.charAt(0)&&'"'==_t.charAt(_t.length-1)&&(_t=_t.slice(1,-1).replace(/""/g,'"')),!1!==B.cellText&&(At.w=_t),0===_t.length)At.t="z";else if(B.raw)At.t="s",At.v=_t;else if(0===_t.trim().length)At.t="s",At.v=_t;else if(61==_t.charCodeAt(0))34==_t.charCodeAt(1)&&34==_t.charCodeAt(_t.length-1)?(At.t="s",At.v=_t.slice(2,-1).replace(/""/g,'"')):function oBt(e){return 1!=e.length}(_t)?(At.t="s",At.f=_t.slice(1),At.v=_t):(At.t="s",At.v=_t);else if("TRUE"==_t)At.t="b",At.v=!0;else if("FALSE"==_t)At.t="b",At.v=!1;else if(isNaN(ct=cl(_t)))if(!isNaN((ct=zy(_t)).getDate())||yt&&_t.match(yt)){if(At.z=B.dateNF||Ri[14],yt&&_t.match(yt)){var Et=function bFt(e,i,t){var n=-1,r=-1,s=-1,o=-1,p=-1,C=-1;(i.match(B_)||[]).forEach(function(F,B){var V=parseInt(t[B+1],10);switch(F.toLowerCase().charAt(0)){case"y":n=V;break;case"d":s=V;break;case"h":o=V;break;case"s":C=V;break;case"m":o>=0?p=V:r=V}}),B_.lastIndex=0,C>=0&&-1==p&&r>=0&&(p=r,r=-1);var D=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==D.length&&(D="0"+D),8==D.length&&(D="20"+D);var R=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(p>=0?p:0)).slice(-2)+":"+("00"+(C>=0?C:0)).slice(-2);return-1==o&&-1==p&&-1==C?D:-1==n&&-1==r&&-1==s?R:D+"T"+R}(0,B.dateNF,_t.match(yt)||[]);ct=Jr(Et),B&&!1===B.UTC&&(ct=$f(ct))}else B&&!1===B.UTC?ct=$f(ct):!1!==B.cellText&&B.dateNF&&(At.w=Vo(At.z,ct));B.cellDates?(At.t="d",At.v=ct):(At.t="n",At.v=ss(ct)),B.cellNF||delete At.z}else At.t="s",At.v=_t;else At.t="n",At.v=ct;if("z"==At.t||(B.dense?(X["!data"][Q]||(X["!data"][Q]=[]),X["!data"][Q][nt]=At):X[Cn({c:nt,r:Q})]=At),ft=R.charCodeAt(lt=wt+1),J.e.c<nt&&(J.e.c=nt),J.e.r<Q&&(J.e.r=Q),pt==Mt)++nt;else if(nt=0,++Q,B.sheetRows&&B.sheetRows<=Q)return!0}t:for(;wt<R.length;++wt)switch(pt=R.charCodeAt(wt)){case 34:34===ft&&(Bt=!Bt);break;case 13:if(Bt)break;10==R.charCodeAt(wt+1)&&++wt;case Mt:case 10:if(!Bt&&bt())break t}return wt-lt>0&&bt(),X["!ref"]=dn(J),X}(R,F):dv(function i(R,F){var B=F||{},V=[];if(!R||0===R.length)return V;for(var X=R.split(/[\r\n]/),J=X.length-1;J>=0&&0===X[J].length;)--J;for(var Q=10,nt=0,ct=0;ct<=J;++ct)-1==(nt=X[ct].indexOf(" "))?nt=X[ct].length:nt++,Q=Math.max(Q,nt);for(ct=0;ct<=J;++ct){V[ct]=[];var lt=0;for(e(X[ct].slice(0,Q).trim(),V,ct,lt,B),lt=1;lt<=(X[ct].length-Q)/10+1;++lt)e(X[ct].slice(Q+10*(lt-1),Q+10*lt).trim(),V,ct,lt,B)}return B.sheetRows&&(V=V.slice(0,B.sheetRows)),V}(R,F),F)}function p(R,F){var B="",V="string"==F.type?[0,0,0,0]:function nO(e,i){var t="";switch((i||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=ol(e.slice(0,12));break;case"binary":t=e;break;default:throw new Error("Unrecognized type "+(i&&i.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}(R,F);switch(F.type){case"base64":B=ol(R);break;case"binary":case"string":B=R;break;case"buffer":B=65001==F.codepage?R.toString("utf8"):F.codepage&&typeof pn<"u"?pn.utils.decode(F.codepage,R):Tn&&Buffer.isBuffer(R)?R.toString("binary"):Yc(R);break;case"array":B=Yf(R);break;default:throw new Error("Unrecognized type "+F.type)}return 239==V[0]&&187==V[1]&&191==V[2]?B=hr(B.slice(3)):"string"!=F.type&&"buffer"!=F.type&&65001==F.codepage?B=hr(B):"binary"==F.type&&typeof pn<"u"&&F.codepage&&(B=pn.utils.decode(F.codepage,pn.utils.encode(28591,B))),"socialcalc:version:"==B.slice(0,19)?LQ.to_sheet("string"==F.type?B:hr(B),F):o(B,F)}return{to_workbook:function C(R,F){return Ch(p(R,F),F)},to_sheet:p,from_sheet:function D(R){var F=[];if(!R["!ref"])return"";for(var V,B=Un(R["!ref"]),X=null!=R["!data"],J=B.s.r;J<=B.e.r;++J){for(var Q=[],nt=B.s.c;nt<=B.e.c;++nt){var ct=Cn({r:J,c:nt});if((V=X?(R["!data"][J]||[])[nt]:R[ct])&&null!=V.v){for(var lt=(V.w||(Zc(V),V.w)||"").slice(0,10);lt.length<10;)lt+=" ";Q.push(lt+(0===nt?" ":""))}else Q.push("          ")}F.push(Q.join(""))}return F.join("\n")}}}(),lm=function(){function e(Pt,jt,Xt){if(Pt){na(Pt,Pt.l||0);for(var Gt=Xt.Enum||Ne;Pt.l<Pt.length;){var ye=Pt.read_shift(2),kt=Gt[ye]||Gt[65535],Ci=Pt.read_shift(2),Xe=Pt.l+Ci,Be=kt.f&&kt.f(Pt,Ci,Xt);if(Pt.l=Xe,jt(Be,kt,ye))return}}}var t=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function n(Pt,jt){if(!Pt)return Pt;var Xt=jt||{};null!=_s&&null==Xt.dense&&(Xt.dense=_s);var Gt={},ye="Sheet1",kt="",Ci=0,Xe={},Be=[],Vi=[],qi=[];Xt.dense&&(qi=Gt["!data"]=[]);var mi={s:{r:0,c:0},e:{r:0,c:0}},qn=Xt.sheetRows||0,Kn={};if(81==Pt[4]&&80==Pt[5]&&87==Pt[6])return function ii(Pt,jt){na(Pt,0);var Xt=jt||{};null!=_s&&null==Xt.dense&&(Xt.dense=_s);var Gt={};Xt.dense&&(Gt["!data"]=[]);var ye=[],kt="",Xe={s:{r:-1,c:-1},e:{r:-1,c:-1}},Be=0,Vi=0,qi=0,mi=0,qn={SheetNames:[],Sheets:{}},Kn=[];t:for(;Pt.l<Pt.length;){var qr=Pt.read_shift(2),Ma=Pt.read_shift(2),$e=Pt.slice(Pt.l,Pt.l+Ma);switch(na($e,0),qr){case 1:if(962023505!=$e.read_shift(4))throw"Bad QPW9 BOF!";break;case 2:break t;case 8:case 1025:case 1026:case 1032:default:break;case 10:for(var qe=$e.read_shift(4),ao=($e.length-$e.l)/qe|0,Zn=0;Zn<qe;++Zn){var zn=$e.l+ao,zs={};$e.l+=2,zs.numFmtId=$e.read_shift(2),ui[zs.numFmtId]&&(zs.z=ui[zs.numFmtId]),$e.l=zn,Kn.push(zs)}break;case 1031:for($e.l+=12;$e.l<$e.length;)Be=$e.read_shift(2),Vi=$e.read_shift(1),ye.push($e.read_shift(Be,"cstr"));break;case 1537:var oo=$e.read_shift(2);Gt={},Xt.dense&&(Gt["!data"]=[]),Xe.s.c=$e.read_shift(2),Xe.e.c=$e.read_shift(2),Xe.s.r=$e.read_shift(4),Xe.e.r=$e.read_shift(4),$e.l+=4,$e.l+2<$e.length&&(Be=$e.read_shift(2),Vi=$e.read_shift(1),kt=0==Be?"":$e.read_shift(Be,"cstr")),kt||(kt=cn(oo));break;case 1538:if(Xe.s.c>255||Xe.s.r>999999)break;Xe.e.c<Xe.s.c&&(Xe.e.c=Xe.s.c),Xe.e.r<Xe.s.r&&(Xe.e.r=Xe.s.r),Gt["!ref"]=dn(Xe),wb(qn,Gt,kt);break;case 2561:qi=$e.read_shift(2),Xe.e.c<qi&&(Xe.e.c=qi),Xe.s.c>qi&&(Xe.s.c=qi),mi=$e.read_shift(4),Xe.s.r>mi&&(Xe.s.r=mi),mi=$e.read_shift(4),Xe.e.r<mi&&(Xe.e.r=mi);break;case 3073:mi=$e.read_shift(4),Be=$e.read_shift(4),Xe.s.r>mi&&(Xe.s.r=mi),Xe.e.r<mi+Be-1&&(Xe.e.r=mi+Be-1);for(var Ki=cn(qi);$e.l<$e.length;){var Wi={t:"z"},Yn=$e.read_shift(1),Ir=-1;128&Yn&&(Ir=$e.read_shift(2));var vm=64&Yn?$e.read_shift(2)-1:0;switch(31&Yn){case 0:case 1:break;case 2:Wi={t:"n",v:$e.read_shift(2)};break;case 3:Wi={t:"n",v:$e.read_shift(2,"i")};break;case 4:Wi={t:"n",v:Y_($e)};break;case 5:Wi={t:"n",v:$e.read_shift(8,"f")};break;case 7:Wi={t:"s",v:ye[Vi=$e.read_shift(4)-1]};break;case 8:Wi={t:"n",v:$e.read_shift(8,"f")},$e.l+=2,$e.l+=4,isNaN(Wi.v)&&(Wi={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(31&Yn)}-1!=Ir&&(Kn[Ir-1]||{}).z&&(Wi.z=Kn[Ir-1].z);var Vl=0;if(32&Yn)switch(31&Yn){case 2:case 7:Vl=$e.read_shift(2);break;case 3:Vl=$e.read_shift(2,"i");break;default:throw"Unsupported delta for QPW cell type "+(31&Yn)}if(Xt.sheetStubs||"z"!=Wi.t){var du=ur(Wi);"n"==Wi.t&&Wi.z&&ll(Wi.z)&&Xt.cellDates&&(du.v=iu(Wi.v),du.t="number"==typeof du.v?"n":"d"),null!=Gt["!data"]?(Gt["!data"][mi]||(Gt["!data"][mi]=[]),Gt["!data"][mi][qi]=du):Gt[Ki+Rn(mi)]=du}for(++mi,--Be;vm-- >0&&Be>=0;){if(32&Yn)switch(31&Yn){case 2:Wi={t:"n",v:Wi.v+Vl&65535};break;case 3:(Wi={t:"n",v:Wi.v+Vl&65535}).v>32767&&(Wi.v-=65536);break;case 7:Wi={t:"s",v:ye[Vi=Vi+Vl>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(31&Yn)}else switch(31&Yn){case 1:Wi={t:"z"};break;case 2:Wi={t:"n",v:$e.read_shift(2)};break;case 7:Wi={t:"s",v:ye[Vi=$e.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(31&Yn)}!Xt.sheetStubs&&"z"==Wi.t||(null!=Gt["!data"]?(Gt["!data"][mi]||(Gt["!data"][mi]=[]),Gt["!data"][mi][qi]=Wi):Gt[Ki+Rn(mi)]=Wi),++mi,--Be}}break;case 3074:qi=$e.read_shift(2),mi=$e.read_shift(4);var xm=pi($e);null!=Gt["!data"]?(Gt["!data"][mi]||(Gt["!data"][mi]=[]),Gt["!data"][mi][qi]={t:"s",v:xm}):Gt[cn(qi)+Rn(mi)]={t:"s",v:xm}}Pt.l+=Ma}return qn}(Pt,jt);if(0==Pt[2]&&(8==Pt[3]||9==Pt[3])&&Pt.length>=16&&5==Pt[14]&&108===Pt[15])throw new Error("Unsupported Works 3 for Mac file");if(2==Pt[2])Xt.Enum=Ne,e(Pt,function(qe,ao,Zn){switch(Zn){case 0:Xt.vers=qe,qe>=4096&&(Xt.qpro=!0);break;case 255:Xt.vers=qe,Xt.works=!0;break;case 6:mi=qe;break;case 204:qe&&(kt=qe);break;case 222:kt=qe;break;case 15:case 51:(!Xt.qpro&&!Xt.works||51==Zn)&&qe[1].v.charCodeAt(0)<48&&(qe[1].v=qe[1].v.slice(1)),(Xt.works||Xt.works2)&&(qe[1].v=qe[1].v.replace(/\r\n/g,"\n"));case 13:case 14:case 16:!(112&~qe[2])&&(15&qe[2])>1&&(15&qe[2])<15&&(qe[1].z=Xt.dateNF||t[(15&qe[2])-1]||Ri[14],Xt.cellDates&&(qe[1].v=iu(qe[1].v),qe[1].t="number"==typeof qe[1].v?"n":"d")),Xt.qpro&&qe[3]>Ci&&(Gt["!ref"]=dn(mi),Xe[ye]=Gt,Be.push(ye),Gt={},Xt.dense&&(qi=Gt["!data"]=[]),mi={s:{r:0,c:0},e:{r:0,c:0}},Ci=qe[3],ye=kt||"Sheet"+(Ci+1),kt="");var zn=Xt.dense?(qi[qe[0].r]||[])[qe[0].c]:Gt[Cn(qe[0])];if(zn){zn.t=qe[1].t,zn.v=qe[1].v,null!=qe[1].z&&(zn.z=qe[1].z),null!=qe[1].f&&(zn.f=qe[1].f),Kn=zn;break}Xt.dense?(qi[qe[0].r]||(qi[qe[0].r]=[]),qi[qe[0].r][qe[0].c]=qe[1]):Gt[Cn(qe[0])]=qe[1],Kn=qe[1];break;case 21509:Xt.works2=!0;break;case 21506:5281==qe&&(Kn.z="hh:mm:ss",Xt.cellDates&&"n"==Kn.t&&(Kn.v=iu(Kn.v),Kn.t="number"==typeof Kn.v?"n":"d"))}},Xt);else{if(26!=Pt[2]&&14!=Pt[2])throw new Error("Unrecognized LOTUS BOF "+Pt[2]);Xt.Enum=Se,14==Pt[2]&&(Xt.qpro=!0,Pt.l=0),e(Pt,function(qe,ao,Zn){switch(Zn){case 204:ye=qe;break;case 22:qe[1].v.charCodeAt(0)<48&&(qe[1].v=qe[1].v.slice(1)),qe[1].v=qe[1].v.replace(/\x0F./g,function(zn){return String.fromCharCode(zn.charCodeAt(1)-32)}).replace(/\r\n/g,"\n");case 23:case 24:case 25:case 37:case 39:case 40:if(qe[3]>Ci&&(Gt["!ref"]=dn(mi),Xe[ye]=Gt,Be.push(ye),Gt={},Xt.dense&&(qi=Gt["!data"]=[]),mi={s:{r:0,c:0},e:{r:0,c:0}},ye="Sheet"+((Ci=qe[3])+1)),qn>0&&qe[0].r>=qn)break;Xt.dense?(qi[qe[0].r]||(qi[qe[0].r]=[]),qi[qe[0].r][qe[0].c]=qe[1]):Gt[Cn(qe[0])]=qe[1],mi.e.c<qe[0].c&&(mi.e.c=qe[0].c),mi.e.r<qe[0].r&&(mi.e.r=qe[0].r);break;case 27:qe[14e3]&&(Vi[qe[14e3][0]]=qe[14e3][1]);break;case 1537:Vi[qe[0]]=qe[1],qe[0]==Ci&&(ye=qe[1])}},Xt)}if(Gt["!ref"]=dn(mi),Xe[kt||ye]=Gt,Be.push(kt||ye),!Vi.length)return{SheetNames:Be,Sheets:Xe};for(var qr={},Ma=[],$e=0;$e<Vi.length;++$e)Xe[Be[$e]]?(Ma.push(Vi[$e]||Be[$e]),qr[Vi[$e]]=Xe[Vi[$e]]||Xe[Be[$e]]):(Ma.push(Vi[$e]),qr[Vi[$e]]={"!ref":"A1"});return{SheetNames:Ma,Sheets:qr}}function R(Pt,jt,Xt){var Gt=[{c:0,r:0},{t:"n",v:0},0,0];return Xt.qpro&&20768!=Xt.vers?(Gt[0].c=Pt.read_shift(1),Gt[3]=Pt.read_shift(1),Gt[0].r=Pt.read_shift(2),Pt.l+=2):Xt.works?(Gt[0].c=Pt.read_shift(2),Gt[0].r=Pt.read_shift(2),Gt[2]=Pt.read_shift(2)):(Gt[2]=Pt.read_shift(1),Gt[0].c=Pt.read_shift(2),Gt[0].r=Pt.read_shift(2)),Gt}function F(Pt){return Pt.z&&ll(Pt.z)?240|(t.indexOf(Pt.z)+1||2):255}function V(Pt,jt,Xt){var Gt=ne(7+Xt.length);Gt.write_shift(1,255),Gt.write_shift(2,jt),Gt.write_shift(2,Pt),Gt.write_shift(1,39);for(var ye=0;ye<Gt.length;++ye){var kt=Xt.charCodeAt(ye);Gt.write_shift(1,kt>=128?95:kt)}return Gt.write_shift(1,0),Gt}function Q(Pt,jt,Xt){var Gt=ne(7);return Gt.write_shift(1,F(Xt)),Gt.write_shift(2,jt),Gt.write_shift(2,Pt),Gt.write_shift(2,Xt.v,"i"),Gt}function ct(Pt,jt,Xt){var Gt=ne(13);return Gt.write_shift(1,F(Xt)),Gt.write_shift(2,jt),Gt.write_shift(2,Pt),Gt.write_shift(8,Xt.v,"f"),Gt}function wt(Pt,jt,Xt){var Gt=32768&jt;return jt=(Gt?Pt:0)+((jt&=-32769)>=8192?jt-16384:jt),(Gt?"":"$")+(Xt?cn(jt):Rn(jt))}var Mt={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},Bt=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function ft(Pt){var jt=[{c:0,r:0},{t:"n",v:0},0];return jt[0].r=Pt.read_shift(2),jt[3]=Pt[Pt.l++],jt[0].c=Pt[Pt.l++],jt}function bt(Pt,jt,Xt,Gt){var ye=ne(6+Gt.length);ye.write_shift(2,Pt),ye.write_shift(1,Xt),ye.write_shift(1,jt),ye.write_shift(1,39);for(var kt=0;kt<Gt.length;++kt){var Ci=Gt.charCodeAt(kt);ye.write_shift(1,Ci>=128?95:Ci)}return ye.write_shift(1,0),ye}function At(Pt,jt){var Xt=ft(Pt),Gt=Pt.read_shift(4),ye=Pt.read_shift(4),kt=Pt.read_shift(2);if(65535==kt)return 0===Gt&&3221225472===ye?(Xt[1].t="e",Xt[1].v=15):0===Gt&&3489660928===ye?(Xt[1].t="e",Xt[1].v=42):Xt[1].v=0,Xt;var Ci=32768&kt;return kt=(32767&kt)-16446,Xt[1].v=(1-2*Ci)*(ye*Math.pow(2,kt+32)+Gt*Math.pow(2,kt)),Xt}function Et(Pt,jt,Xt,Gt){var ye=ne(14);if(ye.write_shift(2,Pt),ye.write_shift(1,Xt),ye.write_shift(1,jt),0==Gt)return ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(2,65535),ye;var kt=0,Ci=0,Be=0;return Gt<0&&(kt=1,Gt=-Gt),Ci=0|Math.log2(Gt),2147483648&(Be=(Gt/=Math.pow(2,Ci-31))>>>0)||(++Ci,Be=(Gt/=2)>>>0),Gt-=Be,Be|=2147483648,Be>>>=0,Gt*=Math.pow(2,32),ye.write_shift(4,Gt>>>0),ye.write_shift(4,Be),ye.write_shift(2,Ci+=16383+(kt?32768:0)),ye}function we(Pt,jt){var Xt=ft(Pt),Gt=Pt.read_shift(8,"f");return Xt[1].v=Gt,Xt}function _e(Pt,jt){return 0==Pt[Pt.l+jt-1]?Pt.read_shift(jt,"cstr"):""}function ie(Pt,jt){var Xt=ne(5+Pt.length);Xt.write_shift(2,14e3),Xt.write_shift(2,jt);for(var Gt=0;Gt<Pt.length;++Gt){var ye=Pt.charCodeAt(Gt);Xt[Xt.l++]=ye>127?95:ye}return Xt[Xt.l++]=0,Xt}var Ne={0:{n:"BOF",f:ds},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function C(Pt,jt,Xt){var Gt={s:{c:0,r:0},e:{c:0,r:0}};return 8==jt&&Xt.qpro?(Gt.s.c=Pt.read_shift(1),Pt.l++,Gt.s.r=Pt.read_shift(2),Gt.e.c=Pt.read_shift(1),Pt.l++,Gt.e.r=Pt.read_shift(2),Gt):(Gt.s.c=Pt.read_shift(2),Gt.s.r=Pt.read_shift(2),12==jt&&Xt.qpro&&(Pt.l+=2),Gt.e.c=Pt.read_shift(2),Gt.e.r=Pt.read_shift(2),12==jt&&Xt.qpro&&(Pt.l+=2),65535==Gt.s.c&&(Gt.s.c=Gt.e.c=Gt.s.r=Gt.e.r=0),Gt)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function J(Pt,jt,Xt){var Gt=R(Pt,0,Xt);return Gt[1].v=Pt.read_shift(2,"i"),Gt}},14:{n:"NUMBER",f:function nt(Pt,jt,Xt){var Gt=R(Pt,0,Xt);return Gt[1].v=Pt.read_shift(8,"f"),Gt}},15:{n:"LABEL",f:function B(Pt,jt,Xt){var Gt=Pt.l+jt,ye=R(Pt,0,Xt);if(ye[1].t="s",20768==(65534&Xt.vers)){Pt.l++;var kt=Pt.read_shift(1);return ye[1].v=Pt.read_shift(kt,"utf8"),ye}return Xt.qpro&&Pt.l++,ye[1].v=Pt.read_shift(Gt-Pt.l,"cstr"),ye}},16:{n:"FORMULA",f:function lt(Pt,jt,Xt){var Gt=Pt.l+jt,ye=R(Pt,0,Xt);if(ye[1].v=Pt.read_shift(8,"f"),Xt.qpro)Pt.l=Gt;else{var kt=Pt.read_shift(2);(function pt(Pt,jt){na(Pt,0);for(var Xt=[],Gt=0,ye="",kt="",Ci="",Xe="";Pt.l<Pt.length;){var Be=Pt[Pt.l++];switch(Be){case 0:Xt.push(Pt.read_shift(8,"f"));break;case 1:kt=wt(jt[0].c,Pt.read_shift(2),!0),ye=wt(jt[0].r,Pt.read_shift(2),!1),Xt.push(kt+ye);break;case 2:var Vi=wt(jt[0].c,Pt.read_shift(2),!0),qi=wt(jt[0].r,Pt.read_shift(2),!1);kt=wt(jt[0].c,Pt.read_shift(2),!0),ye=wt(jt[0].r,Pt.read_shift(2),!1),Xt.push(Vi+qi+":"+kt+ye);break;case 3:if(Pt.l<Pt.length)return void console.error("WK1 premature formula end");break;case 4:Xt.push("("+Xt.pop()+")");break;case 5:Xt.push(Pt.read_shift(2));break;case 6:for(var mi="";Be=Pt[Pt.l++];)mi+=String.fromCharCode(Be);Xt.push('"'+mi.replace(/"/g,'""')+'"');break;case 8:Xt.push("-"+Xt.pop());break;case 23:Xt.push("+"+Xt.pop());break;case 22:Xt.push("NOT("+Xt.pop()+")");break;case 20:case 21:Xe=Xt.pop(),Ci=Xt.pop(),Xt.push(["AND","OR"][Be-20]+"("+Ci+","+Xe+")");break;default:if(Be<32&&Bt[Be])Xe=Xt.pop(),Ci=Xt.pop(),Xt.push(Ci+Bt[Be]+Xe);else{if(!Mt[Be])return Be<=7?console.error("WK1 invalid opcode "+Be.toString(16)):Be<=24?console.error("WK1 unsupported op "+Be.toString(16)):Be<=30?console.error("WK1 invalid opcode "+Be.toString(16)):Be<=115?console.error("WK1 unsupported function opcode "+Be.toString(16)):console.error("WK1 unrecognized opcode "+Be.toString(16));if(69==(Gt=Mt[Be][1])&&(Gt=Pt[Pt.l++]),Gt>Xt.length)return void console.error("WK1 bad formula parse 0x"+Be.toString(16)+":|"+Xt.join("|")+"|");var qn=Xt.slice(-Gt);Xt.length-=Gt,Xt.push(Mt[Be][0]+"("+qn.join(",")+")")}}}1==Xt.length?jt[1].f=""+Xt[0]:console.error("WK1 bad formula parse |"+Xt.join("|")+"|")})(Pt.slice(Pt.l,Pt.l+kt),ye),Pt.l+=kt}return ye}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:function X(Pt,jt,Xt){var Gt=Pt.l+jt,ye=R(Pt,0,Xt);if(ye[1].t="s",20768==Xt.vers){var kt=Pt.read_shift(1);return ye[1].v=Pt.read_shift(kt,"utf8"),ye}return ye[1].v=Pt.read_shift(Gt-Pt.l,"cstr"),ye}},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:_e},222:{n:"SHEETNAMELP",f:function Je(Pt,jt){var Xt=Pt[Pt.l++];Xt>jt-1&&(Xt=jt-1);for(var Gt="";Gt.length<Xt;)Gt+=String.fromCharCode(Pt[Pt.l++]);return Gt}},255:{n:"BOF",f:ds},21506:{n:"WKSNF",f:ds},65535:{n:""}},Se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function yt(Pt,jt){var Xt=ft(Pt);return Xt[1].t="s",Xt[1].v=Pt.read_shift(jt-4,"cstr"),Xt}},23:{n:"NUMBER17",f:At},24:{n:"NUMBER18",f:function _t(Pt,jt){var Xt=ft(Pt);Xt[1].v=Pt.read_shift(2);var Gt=Xt[1].v>>1;if(1&Xt[1].v)switch(7&Gt){case 0:Gt=5e3*(Gt>>3);break;case 1:Gt=500*(Gt>>3);break;case 2:Gt=(Gt>>3)/20;break;case 3:Gt=(Gt>>3)/200;break;case 4:Gt=(Gt>>3)/2e3;break;case 5:Gt=(Gt>>3)/2e4;break;case 6:Gt=(Gt>>3)/16;break;case 7:Gt=(Gt>>3)/64}return Xt[1].v=Gt,Xt}},25:{n:"FORMULA19",f:function Ye(Pt,jt){var Xt=At(Pt);return Pt.l+=jt-14,Xt}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function ki(Pt,jt){for(var Xt={},Gt=Pt.l+jt;Pt.l<Gt;){var ye=Pt.read_shift(2);if(14e3==ye){for(Xt[ye]=[0,""],Xt[ye][0]=Pt.read_shift(2);Pt[Pt.l];)Xt[ye][1]+=String.fromCharCode(Pt[Pt.l]),Pt.l++;Pt.l++}}return Xt}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function Ie(Pt,jt){var Xt=ft(Pt),Gt=Pt.read_shift(4);return Xt[1].v=Gt>>6,Xt}},38:{n:"??"},39:{n:"NUMBER27",f:we},40:{n:"FORMULA28",f:function ae(Pt,jt){var Xt=we(Pt);return Pt.l+=jt-12,Xt}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:_e},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function Ee(Pt,jt,Xt){if(Xt.qpro&&!(jt<21)){var Gt=Pt.read_shift(1);return Pt.l+=17,Pt.l+=1,Pt.l+=2,[Gt,Pt.read_shift(jt-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},ui={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function pi(Pt){var jt=Pt.read_shift(2),Xt=Pt.read_shift(1);if(0!=Xt)throw"unsupported QPW string type "+Xt.toString(16);return Pt.read_shift(jt,"sbcs-cont")}return{sheet_to_wk1:function r(Pt,jt){var Xt=jt||{};if(+Xt.codepage>=0&&Il(+Xt.codepage),"string"==Xt.type)throw new Error("Cannot write WK1 to JS string");var Gt=Za();if(!Pt["!ref"])throw new Error("Cannot export empty sheet to WK1");var ye=Un(Pt["!ref"]),kt=null!=Pt["!data"],Ci=[];Re(Gt,0,function o(Pt){var jt=ne(2);return jt.write_shift(2,Pt),jt}(1030)),Re(Gt,6,function D(Pt){var jt=ne(8);return jt.write_shift(2,Pt.s.c),jt.write_shift(2,Pt.s.r),jt.write_shift(2,Pt.e.c),jt.write_shift(2,Pt.e.r),jt}(ye));for(var Xe=Math.min(ye.e.r,8191),Be=ye.s.c;Be<=ye.e.c;++Be)Ci[Be]=cn(Be);for(var Vi=ye.s.r;Vi<=Xe;++Vi){var qi=Rn(Vi);for(Be=ye.s.c;Be<=ye.e.c;++Be){var mi=kt?(Pt["!data"][Vi]||[])[Be]:Pt[Ci[Be]+qi];if(mi&&"z"!=mi.t)switch(mi.t){case"n":(0|mi.v)==mi.v&&mi.v>=-32768&&mi.v<=32767?Re(Gt,13,Q(Vi,Be,mi)):Re(Gt,14,ct(Vi,Be,mi));break;case"d":var qn=ss(mi.v);(0|qn)==qn&&qn>=-32768&&qn<=32767?Re(Gt,13,Q(Vi,Be,{t:"n",v:qn,z:mi.z||Ri[14]})):Re(Gt,14,ct(Vi,Be,{t:"n",v:qn,z:mi.z||Ri[14]}));break;default:Re(Gt,15,V(Vi,Be,Zc(mi).slice(0,239)))}}}return Re(Gt,1),Gt.end()},book_to_wk3:function s(Pt,jt){var Xt=jt||{};if(+Xt.codepage>=0&&Il(+Xt.codepage),"string"==Xt.type)throw new Error("Cannot write WK3 to JS string");var Gt=Za();Re(Gt,0,function p(Pt){var jt=ne(26);jt.write_shift(2,4096),jt.write_shift(2,4),jt.write_shift(4,0);for(var Xt=0,Gt=0,ye=0,kt=0;kt<Pt.SheetNames.length;++kt){var Xe=Pt.Sheets[Pt.SheetNames[kt]];if(Xe&&Xe["!ref"]){++ye;var Be=ra(Xe["!ref"]);Xt<Be.e.r&&(Xt=Be.e.r),Gt<Be.e.c&&(Gt=Be.e.c)}}return Xt>8191&&(Xt=8191),jt.write_shift(2,Xt),jt.write_shift(1,ye),jt.write_shift(1,Gt),jt.write_shift(2,0),jt.write_shift(2,0),jt.write_shift(1,1),jt.write_shift(1,2),jt.write_shift(4,0),jt.write_shift(4,0),jt}(Pt));for(var ye=0,kt=0;ye<Pt.SheetNames.length;++ye)(Pt.Sheets[Pt.SheetNames[ye]]||{})["!ref"]&&Re(Gt,27,ie(Pt.SheetNames[ye],kt++));var Ci=0;for(ye=0;ye<Pt.SheetNames.length;++ye){var Xe=Pt.Sheets[Pt.SheetNames[ye]];if(Xe&&Xe["!ref"]){for(var Be=Un(Xe["!ref"]),Vi=null!=Xe["!data"],qi=[],mi=Math.min(Be.e.r,8191),qn=Be.s.r;qn<=mi;++qn)for(var Kn=Rn(qn),qr=Be.s.c;qr<=Be.e.c;++qr){qn===Be.s.r&&(qi[qr]=cn(qr));var $e=Vi?(Xe["!data"][qn]||[])[qr]:Xe[qi[qr]+Kn];$e&&"z"!=$e.t&&("n"==$e.t?Re(Gt,23,Et(qn,qr,Ci,$e.v)):Re(Gt,22,bt(qn,qr,Ci,Zc($e).slice(0,239))))}++Ci}}return Re(Gt,1),Gt.end()},to_workbook:function i(Pt,jt){switch(jt.type){case"base64":return n(wo(ol(Pt)),jt);case"binary":return n(wo(Pt),jt);case"buffer":case"array":return n(Pt,jt)}throw"Unsupported type "+jt.type}}}(),r4t=/^\s|\s$|[\t\n\r]/,c4t=function pOt(e,i){var t=!1;return null==i&&(t=!0,i=ne(15+4*e.t.length)),i.write_shift(1,0),sa(e.t,i),t?i.slice(0,i.l):i};function kF(e){var t,s,i=0,n=function NQ(e){if(typeof pn<"u")return pn.utils.encode(Xf,e);for(var i=[],t=e.split(""),n=0;n<t.length;++n)i[n]=t[n].charCodeAt(0);return i}(e),r=n.length+1;for((t=wh(r))[0]=n.length,s=1;s!=r;++s)t[s]=n[s-1];for(s=r-1;s>=0;--s)i=((16384&i?1:0)|i<<1&32767)^t[s];return 52811^i}function ib(e){for(var i=0,t=1;3!=i;++i)t=256*t+(e[i]>255?255:e[i]<0?0:e[i]);return t.toString(16).toUpperCase().slice(1)}var io=6;function nb(e){return Math.floor((e+Math.round(128/io)/256)*io)}function rb(e){return Math.floor((e-5)/io*100+.5)/100}function sE(e){return Math.round((e*io+5)/io*256)/256}function Eh(e){e.width?(e.wpx=nb(e.width),e.wch=rb(e.wpx),e.MDW=io):e.wpx?(e.wch=rb(e.wpx),e.width=sE(e.wch),e.MDW=io):"number"==typeof e.wch&&(e.width=sE(e.wch),e.wpx=nb(e.width),e.MDW=io),e.customWidth&&delete e.customWidth}var GQ=96;function sb(e){return 96*e/GQ}function pv(e){return e*GQ/96}function $4t(e,i,t){t||(t=ne(6+4*i.length)),t.write_shift(2,e),sa(i,t);var n=t.length>t.l?t.slice(0,t.l):t;return null==t.l&&(t.l=t.length),n}var OF,Z4t=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],J4t=Ka;function HQ(e,i){i||(i=ne(84)),OF||(OF=V_(Z4t));var t=OF[e.patternType];null==t&&(t=40),i.write_shift(4,t);var n=0;if(40!=t)for($_({auto:1},i),$_({auto:1},i);n<12;++n)i.write_shift(4,0);else{for(;n<4;++n)i.write_shift(4,0);for(;n<12;++n)i.write_shift(4,0)}return i.length>i.l?i.slice(0,i.l):i}function WQ(e,i,t){return t||(t=ne(16)),t.write_shift(2,i||0),t.write_shift(2,e.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function ab(e,i){return i||(i=ne(10)),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(4,0),i}var t3t=Ka;function m3t(e,i){var t=Za();return Te(t,278),function s3t(e,i){if(i){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&++t}),0!=t&&(Te(e,615,ac(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&Te(e,44,$4t(r,i[r]))}),Te(e,616))}}(t,e.SSF),function a3t(e){Te(e,611,ac(1)),Te(e,43,function K4t(e,i){i||(i=ne(153)),i.write_shift(2,20*e.sz),function COt(e,i){i||(i=ne(2)),i.write_shift(1,(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0)),i.write_shift(1,0)}(e,i),i.write_shift(2,e.bold?700:400);var t=0;"superscript"==e.vertAlign?t=1:"subscript"==e.vertAlign&&(t=2),i.write_shift(2,t),i.write_shift(1,e.underline||0),i.write_shift(1,e.family||0),i.write_shift(1,e.charset||0),i.write_shift(1,0),$_(e.color,i);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),i.write_shift(1,n),sa(e.name,i),i.length>i.l?i.slice(0,i.l):i}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Te(e,612)}(t),function o3t(e){Te(e,603,ac(2)),Te(e,45,HQ({patternType:"none"})),Te(e,45,HQ({patternType:"gray125"})),Te(e,604)}(t),function l3t(e){Te(e,613,ac(1)),Te(e,46,function e3t(e,i){return i||(i=ne(51)),i.write_shift(1,0),ab(0,i),ab(0,i),ab(0,i),ab(0,i),ab(0,i),i.length>i.l?i.slice(0,i.l):i}()),Te(e,614)}(t),function c3t(e){Te(e,626,ac(1)),Te(e,47,WQ({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Te(e,627)}(t),function d3t(e,i){Te(e,617,ac(i.length)),i.forEach(function(t){Te(e,47,WQ(t,0))}),Te(e,618)}(t,i.cellXfs),function u3t(e){Te(e,619,ac(1)),Te(e,48,function i3t(e,i){return i||(i=ne(52)),i.write_shift(4,e.xfId),i.write_shift(2,1),i.write_shift(1,+e.builtinId),i.write_shift(1,0),Ky(e.name||"",i),i.length>i.l?i.slice(0,i.l):i}({xfId:0,builtinId:0,name:"Normal"})),Te(e,620)}(t),function h3t(e){Te(e,505,ac(0)),Te(e,506)}(t),function f3t(e){Te(e,508,function n3t(e,i,t){var n=ne(2052);return n.write_shift(4,e),Ky(i,n),Ky(t,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),Te(e,509)}(t),Te(t,279),t.end()}function LF(e,i){if(i&&i.themeXLSX)return i.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var t=[Ss];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function jQ(e,i,t){var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[We("xml",null,{"xmlns:v":dl.v,"xmlns:o":dl.o,"xmlns:x":dl.x,"xmlns:mv":dl.mv}).replace(/\/>/,">"),We("o:shapelayout",We("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"})],o=65536*e,p=i||[];return p.length>0&&s.push(We("v:shapetype",[We("v:stroke",null,{joinstyle:"miter"}),We("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202",coordsize:n.join(","),"o:spt":202,path:r})),p.forEach(function(C){++o,s.push(function H3t(e,i,t){var n=fr(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var s="gradient"==r.type?We("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,o=We("v:fill",s,r);return["<v:shape"+Wy({id:"_x0000_s"+i,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",o,We("v:shadow",null,{on:"t",obscured:"t"}),We("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ia("x:Anchor",[n.c+1,0,n.r+1,0,n.c+3,20,n.r+5,20].join(",")),Ia("x:AutoFill","False"),Ia("x:Row",String(n.r)),Ia("x:Column",String(n.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"].join("")}(C,o))}),s.push("</xml>"),s.join("")}function X3t(e){var i=[Ss,We("comments",null,{xmlns:Kf[0]})],t=[];return i.push("<authors>"),e.forEach(function(n){n[1].forEach(function(r){var s=gn(r.a);-1==t.indexOf(s)&&(t.push(s),i.push("<author>"+s+"</author>")),r.T&&r.ID&&-1==t.indexOf("tc="+r.ID)&&(t.push("tc="+r.ID),i.push("<author>tc="+r.ID+"</author>"))})}),0==t.length&&(t.push("SheetJ5"),i.push("<author>SheetJ5</author>")),i.push("</authors>"),i.push("<commentList>"),e.forEach(function(n){var r=0,s=[],o=0;if(n[1][0]&&n[1][0].T&&n[1][0].ID&&(r=t.indexOf("tc="+n[1][0].ID)),n[1].forEach(function(D){D.a&&(r=t.indexOf(gn(D.a))),D.T&&++o,s.push(null==D.t?"":gn(D.t))}),0===o)n[1].forEach(function(D){i.push('<comment ref="'+n[0]+'" authorId="'+t.indexOf(gn(D.a))+'"><text>'),i.push(Ia("t",null==D.t?"":gn(D.t))),i.push("</text></comment>")});else{n[1][0]&&n[1][0].T&&n[1][0].ID&&(r=t.indexOf("tc="+n[1][0].ID)),i.push('<comment ref="'+n[0]+'" authorId="'+r+'"><text>');for(var p="Comment:\n    "+s[0]+"\n",C=1;C<s.length;++C)p+="Reply:\n    "+s[C]+"\n";i.push(Ia("t",gn(p))),i.push("</text></comment>")}}),i.push("</commentList>"),i.length>2&&(i[i.length]="</comments>",i[1]=i[1].replace("/>",">")),i.join("")}function $Q(e,i,t){var n=[Ss,We("ThreadedComments",null,{xmlns:ia.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var s="";(r[1]||[]).forEach(function(o,p){if(o.T){o.a&&-1==i.indexOf(o.a)&&i.push(o.a);var C={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};0==p?s=C.id:C.parentId=s,o.ID=C.id,o.a&&(C.personId="{54EE7950-7262-4200-6969-"+("000000000000"+i.indexOf(o.a)).slice(-12)+"}"),n.push(We("threadedComment",Ia("text",o.t||""),C))}else delete o.ID})}),n.push("</ThreadedComments>"),n.join("")}function QQ(e){var i=[Ss,We("personList",null,{xmlns:ia.TCMNT,"xmlns:x":Kf[0]}).replace(/[\/]>/,">")];return e.forEach(function(t,n){i.push(We("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),i.push("</personList>"),i.join("")}var K3t=Ja;function KQ(e){return sa(e.slice(0,54))}function J3t(e){var i=Za(),t=[];return Te(i,628),Te(i,630),e.forEach(function(n){n[1].forEach(function(r){t.indexOf(r.a)>-1||(t.push(r.a.slice(0,54)),Te(i,632,KQ(r.a)),r.T&&r.ID&&-1==t.indexOf("tc="+r.ID)&&(t.push("tc="+r.ID),Te(i,632,KQ("tc="+r.ID))))})}),Te(i,631),Te(i,633),e.forEach(function(n){n[1].forEach(function(r){var s=-1;r.ID&&(s=t.indexOf("tc="+r.ID)),-1==s&&n[1][0].T&&n[1][0].ID&&(s=t.indexOf("tc="+n[1][0].ID)),-1==s&&(s=t.indexOf(r.a)),r.iauthor=s;var o={s:fr(n[0]),e:fr(n[0])};Te(i,635,function Q3t(e,i){return null==i&&(i=ne(36)),i.write_shift(4,e[1].iauthor),uv(e[0],i),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i}([o,r])),r.t&&r.t.length>0&&Te(i,637,function vOt(e,i){var t=!1;return null==i&&(t=!0,i=ne(23+4*e.t.length)),i.write_shift(1,1),sa(e.t,i),i.write_shift(4,1),function mOt(e,i){i||(i=ne(4)),i.write_shift(2,e.ich||0),i.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},i),t?i.slice(0,i.l):i}(r)),Te(i,636),delete r.iauthor})}),Te(i,634),Te(i,629),i.end()}var iBt=["xlsb","xlsm","xlam","biff8","xla"],cm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,i={r:0,c:0};function t(n,r,s,o){var p=!1,C=!1;0==s.length?C=!0:"["==s.charAt(0)&&(C=!0,s=s.slice(1,-1)),0==o.length?p=!0:"["==o.charAt(0)&&(p=!0,o=o.slice(1,-1));var D=s.length>0?0|parseInt(s,10):0,R=o.length>0?0|parseInt(o,10):0;return p?R+=i.c:--R,C?D+=i.r:--D,r+(p?"":"$")+cn(R)+(C?"":"$")+Rn(D)}return function(r,s){return i=s,r.replace(e,t)}}(),lE=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{lE=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var cE=function(){return function(i,t){return i.replace(lE,function(n,r,s,o,p,C){var D=hF(o)-(s?0:t.c),R=uF(C)-(p?0:t.r);return r+"R"+("$"==p?R+1:0==R?"":"["+R+"]")+"C"+("$"==s?D+1:0==D?"":"["+D+"]")})}}();function ZQ(e,i){return e.replace(lE,function(t,n,r,s,o,p){return n+("$"==r?r+s:cn(hF(s)+i.c))+("$"==o?o+p:Rn(uF(p)+i.r))})}function Us(e){e.l+=1}function Sh(e,i){var t=e.read_shift(1==i?1:2);return[16383&t,t>>14&1,t>>15&1]}function tK(e,i,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return eK(e);12==t.biff&&(n=4)}var r=e.read_shift(n),s=e.read_shift(n),o=Sh(e,2),p=Sh(e,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:p[0],cRel:p[1],rRel:p[2]}}}function eK(e){var i=Sh(e,2),t=Sh(e,2),n=e.read_shift(1),r=e.read_shift(1);return{s:{r:i[0],c:n,cRel:i[1],rRel:i[2]},e:{r:t[0],c:r,cRel:t[1],rRel:t[2]}}}function iK(e,i,t){if(t&&t.biff>=2&&t.biff<=5)return function cBt(e){var i=Sh(e,2),t=e.read_shift(1);return{r:i[0],c:t,cRel:i[1],rRel:i[2]}}(e);var n=e.read_shift(t&&12==t.biff?4:2),r=Sh(e,2);return{r:n,c:r[0],cRel:r[1],rRel:r[2]}}function dBt(e){var i=e.read_shift(2),t=e.read_shift(2);return{r:i,c:255&t,fQuoted:!!(16384&t),cRel:t>>15,rRel:t>>15}}function nK(e){var i=1&e[e.l+1];return e.l+=4,[i,1]}function rK(e){return[e.read_shift(1),e.read_shift(1)]}function VBt(e,i){var t=[e.read_shift(1)];if(12==i)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2}switch(t[0]){case 4:t[1]=function As(e,i){return 1===e.read_shift(i)}(e,1)?"TRUE":"FALSE",12!=i&&(e.l+=7);break;case 37:case 16:t[1]=Fl[e[e.l]],e.l+=12==i?4:8;break;case 0:e.l+=8;break;case 1:t[1]=qa(e);break;case 2:t[1]=function am(e,i,t){if(t.biff>5)return function tb(e,i,t){var n=e.read_shift(t&&2==t.biff?1:2);return 0===n?(e.l++,""):function sm(e,i,t){if(t){if(t.biff>=2&&t.biff<=5)return e.read_shift(i,"cpstr");if(t.biff>=12)return e.read_shift(i,"dbcs-cont")}var r=e.read_shift(1);return e.read_shift(i,0===r?"sbcs-cont":"dbcs-cont")}(e,n,t)}(e,0,t);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:i>0&&i<8?2:i});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function UBt(e,i,t){for(var n=e.read_shift(12==t.biff?4:2),r=[],s=0;s!=n;++s)r.push((12==t.biff?em:eE)(e,8));return r}function zBt(e,i,t){var n=0,r=0;12==t.biff?(n=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),n=1+e.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,0==--r&&(r=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var p=0;p!=r;++p)o[s][p]=VBt(e,t.biff);return o}function ob(e,i,t){return e.l+=2,[dBt(e)]}function NF(e){return e.l+=6,[]}function sK(e){return e.l+=2,[ds(e),1&e.read_shift(2)]}var o5t=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],aK={1:{n:"PtgExp",f:function PBt(e,i,t){return e.l++,t&&12==t.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(t&&2==t.biff?1:2)]}},2:{n:"PtgTbl",f:Ka},3:{n:"PtgAdd",f:Us},4:{n:"PtgSub",f:Us},5:{n:"PtgMul",f:Us},6:{n:"PtgDiv",f:Us},7:{n:"PtgPower",f:Us},8:{n:"PtgConcat",f:Us},9:{n:"PtgLt",f:Us},10:{n:"PtgLe",f:Us},11:{n:"PtgEq",f:Us},12:{n:"PtgGe",f:Us},13:{n:"PtgGt",f:Us},14:{n:"PtgNe",f:Us},15:{n:"PtgIsect",f:Us},16:{n:"PtgUnion",f:Us},17:{n:"PtgRange",f:Us},18:{n:"PtgUplus",f:Us},19:{n:"PtgUminus",f:Us},20:{n:"PtgPercent",f:Us},21:{n:"PtgParen",f:Us},22:{n:"PtgMissArg",f:Us},23:{n:"PtgStr",f:function BBt(e,i,t){return e.l++,fv(e,0,t)}},26:{n:"PtgSheet",f:function d5t(e,i,t){return e.l+=5,e.l+=2,e.l+=2==t.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function u5t(e,i,t){return e.l+=2==t.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function FBt(e){return e.l++,Fl[e.read_shift(1)]}},29:{n:"PtgBool",f:function LBt(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function OBt(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function NBt(e){return e.l++,qa(e)}},32:{n:"PtgArray",f:function xBt(e,i,t){var n=(96&e[e.l++])>>5;return e.l+=2==t.biff?6:12==t.biff?14:7,[n]}},33:{n:"PtgFunc",f:function IBt(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(t&&t.biff<=3?1:2);return[H5t[r],dK[r],n]}},34:{n:"PtgFuncVar",f:function MBt(e,i,t){var n=e[e.l++],r=e.read_shift(1),s=t&&t.biff<=3?[88==n?-1:0,e.read_shift(1)]:function RBt(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[r,(0===s[0]?dK:G5t)[s[1]]]}},35:{n:"PtgName",f:function GBt(e,i,t){var n=e.read_shift(1)>>>5&3,s=e.read_shift(!t||t.biff>=8?4:2);switch(t.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,s]}},36:{n:"PtgRef",f:function SBt(e,i,t){var n=(96&e[e.l])>>5;return e.l+=1,[n,iK(e,0,t)]}},37:{n:"PtgArea",f:function fBt(e,i,t){return[(96&e[e.l++])>>5,tK(e,0,t)]}},38:{n:"PtgMemArea",f:function XBt(e,i,t){var n=e.read_shift(1)>>>5&3;return e.l+=t&&2==t.biff?3:4,[n,e.read_shift(t&&2==t.biff?1:2)]}},39:{n:"PtgMemErr",f:Ka},40:{n:"PtgMemNoMem",f:Ka},41:{n:"PtgMemFunc",f:function jBt(e,i,t){return[e.read_shift(1)>>>5&3,e.read_shift(t&&2==t.biff?1:2)]}},42:{n:"PtgRefErr",f:function YBt(e,i,t){var n=e.read_shift(1)>>>5&3;return e.l+=4,t.biff<8&&e.l--,12==t.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function pBt(e,i,t){var n=(96&e[e.l++])>>5;return e.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function ABt(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=function uBt(e,i,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return function hBt(e){var i=e.read_shift(2),t=e.read_shift(1),n=(32768&i)>>15,r=(16384&i)>>14;return i&=16383,1==n&&i>=8192&&(i-=16384),1==r&&t>=128&&(t-=256),{r:i,c:t,cRel:r,rRel:n}}(e);var r=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(16384&s)>>14,p=(32768&s)>>15;if(s&=16383,1==p)for(;r>524287;)r-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r,c:s,cRel:o,rRel:p}}(e,0,t);return[n,r]}},45:{n:"PtgAreaN",f:function vBt(e,i,t){var n=(96&e[e.l++])>>5,r=function lBt(e,i,t){if(t.biff<8)return eK(e);var n=e.read_shift(12==t.biff?4:2),r=e.read_shift(12==t.biff?4:2),s=Sh(e,2),o=Sh(e,2);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,t);return[n,r]}},46:{n:"PtgMemAreaN",f:function h5t(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function f5t(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function HBt(e,i,t){return 5==t.biff?function WBt(e){var i=e.read_shift(1)>>>5&3,t=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[i,t,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function DBt(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(2);return t&&5==t.biff&&(e.l+=12),[n,r,iK(e,0,t)]}},59:{n:"PtgArea3d",f:function mBt(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2,"i");if(t&&5===t.biff)e.l+=12;return[n,r,tK(e,0,t)]}},60:{n:"PtgRefErr3d",f:function $Bt(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[n,r]}},61:{n:"PtgAreaErr3d",f:function gBt(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2),s=8;if(t)switch(t.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[n,r]}},255:{}},p5t={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},g5t={1:{n:"PtgElfLel",f:sK},2:{n:"PtgElfRw",f:ob},3:{n:"PtgElfCol",f:ob},6:{n:"PtgElfRwV",f:ob},7:{n:"PtgElfColV",f:ob},10:{n:"PtgElfRadical",f:ob},11:{n:"PtgElfRadicalS",f:NF},13:{n:"PtgElfColS",f:NF},15:{n:"PtgElfColSV",f:NF},16:{n:"PtgElfRadicalLel",f:sK},25:{n:"PtgList",f:function l5t(e){e.l+=2;var i=e.read_shift(2),t=e.read_shift(2),n=e.read_shift(4),r=e.read_shift(2),s=e.read_shift(2);return{ixti:i,coltype:3&t,rt:o5t[t>>2&31],idx:n,c:r,C:s}}},29:{n:"PtgSxName",f:function c5t(e){return e.l+=2,[e.read_shift(4)]}},255:{}},v5t={0:{n:"PtgAttrNoop",f:function m5t(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function CBt(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=t&&2==t.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function wBt(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(t&&2==t.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function yBt(e,i,t){e.l+=2;for(var n=e.read_shift(t&&2==t.biff?1:2),r=[],s=0;s<=n;++s)r.push(e.read_shift(t&&2==t.biff?1:2));return r}},8:{n:"PtgAttrGoto",f:function bBt(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(t&&2==t.biff?1:2)]}},16:{n:"PtgAttrSum",f:function kBt(e,i,t){e.l+=t&&2==t.biff?3:4}},32:{n:"PtgAttrBaxcel",f:nK},33:{n:"PtgAttrBaxcel",f:nK},64:{n:"PtgAttrSpace",f:function _Bt(e){return e.read_shift(2),rK(e)}},65:{n:"PtgAttrSpaceSemi",f:function EBt(e){return e.read_shift(2),rK(e)}},128:{n:"PtgAttrIfError",f:function TBt(e){var i=255&e[e.l+1]?1:0;return e.l+=2,[i,e.read_shift(2)]}},255:{}};function lb(e,i,t,n){if(n.biff<8)return Ka(e,i);for(var r=e.l+i,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=zBt(e,0,n),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=UBt(e,0,n),s.push(t[o][2]);break;case"PtgExp":n&&12==n.biff&&(t[o][1][1]=e.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return 0!=(i=r-e.l)&&s.push(Ka(e,i)),s}function x5t(e){for(var i=[],t=0;t<e.length;++t){for(var n=e[t],r=[],s=0;s<n.length;++s){var o=n[s];r.push(o?2===o[0]?'"'+o[1].replace(/"/g,'""')+'"':o[1]:"")}i.push(r.join(","))}return i.join(";")}var y5t={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function b5t(e,i){var t=e.lastIndexOf("!"),n=i.lastIndexOf("!");return-1==t&&-1==n?e+":"+i:t>0&&n>0&&e.slice(0,t).toLowerCase()==i.slice(0,n).toLowerCase()?e+":"+i.slice(n+1):(console.error("Cannot hydrate range",e,i),e+":"+i)}function oK(e,i,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[i]))return e.SheetNames[i];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[i];if(t.biff<8)return i>1e4&&(i-=65536),i<0&&(i=-i),0==i?"":e.XTI[i-1];if(!n)return"SH33TJSERR1";var r="";if(t.biff>8)switch(e[n[0]][0]){case 357:return r=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?r:r+":"+e.SheetNames[n[2]];case 358:return null!=t.SID?e.SheetNames[t.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return r=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?r:r+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(r=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?r:r+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function lK(e,i,t){var n=oK(e,i,t);return"#REF"==n?n:Qy(n,t)}function no(e,i,t,n,r){var C,D,R,V,s=r&&r.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},p=[],F=0,B=0,X="";if(!e[0]||!e[0][0])return"";for(var J=-1,Q="",nt=0,ct=e[0].length;nt<ct;++nt){var lt=e[0][nt];switch(lt[0]){case"PtgUminus":p.push("-"+p.pop());break;case"PtgUplus":p.push("+"+p.pop());break;case"PtgPercent":p.push(p.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(C=p.pop(),D=p.pop(),J>=0){switch(e[0][J][1][0]){case 0:Q=Wn(" ",e[0][J][1][1]);break;case 1:Q=Wn("\r",e[0][J][1][1]);break;default:if(Q="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][J][1][0])}D+=Q,J=-1}p.push(D+y5t[lt[0]]+C);break;case"PtgIsect":C=p.pop(),D=p.pop(),p.push(D+" "+C);break;case"PtgUnion":C=p.pop(),D=p.pop(),p.push(D+","+C);break;case"PtgRange":C=p.pop(),D=p.pop(),p.push(b5t(D,C));break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":R=jy(lt[1][1],o,r),p.push(Yy(R,s));break;case"PtgRefN":R=t?jy(lt[1][1],t,r):lt[1][1],p.push(Yy(R,s));break;case"PtgRef3d":F=lt[1][1],R=jy(lt[1][2],o,r),X=lK(n,F,r),p.push(X+"!"+Yy(R,s));break;case"PtgFunc":case"PtgFuncVar":var Mt=lt[1][0],Bt=lt[1][1];Mt||(Mt=0);var pt=0==(Mt&=127)?[]:p.slice(-Mt);p.length-=Mt,"User"===Bt&&(Bt=pt.shift()),p.push(Bt+"("+pt.join(",")+")");break;case"PtgBool":p.push(lt[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":p.push(lt[1]);break;case"PtgNum":p.push(String(lt[1]));break;case"PtgStr":p.push('"'+lt[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":V=L$(lt[1][1],t?{s:t}:o,r),p.push(dF(V,r));break;case"PtgArea":V=L$(lt[1][1],o,r),p.push(dF(V,r));break;case"PtgArea3d":V=lt[1][2],X=lK(n,F=lt[1][1],r),p.push(X+"!"+dF(V,r));break;case"PtgAttrSum":p.push("SUM("+p.pop()+")");break;case"PtgName":var ft=(n.names||[])[(B=lt[1][2])-1]||(n[0]||[])[B],yt=ft?ft.Name:"SH33TJSNAME"+String(B);yt&&"_xlfn."==yt.slice(0,6)&&!r.xlfn&&(yt=yt.slice(6)),p.push(yt);break;case"PtgNameX":var _t,bt=lt[1][1];if(B=lt[1][2],!(r.biff<=5)){var At="";if(14849==((n[bt]||[])[0]||[])[0]||(1025==((n[bt]||[])[0]||[])[0]?n[bt][B]&&n[bt][B].itab>0&&(At=n.SheetNames[n[bt][B].itab-1]+"!"):At=n.SheetNames[B-1]+"!"),n[bt]&&n[bt][B])At+=n[bt][B].Name;else if(n[0]&&n[0][B])At+=n[0][B].Name;else{var Et=(oK(n,bt,r)||"").split(";;");Et[B-1]?At=Et[B-1]:At+="SH33TJSERRX"}p.push(At);break}bt<0&&(bt=-bt),n[bt]&&(_t=n[bt][B]),_t||(_t={Name:"SH33TJSERRY"}),p.push(_t.Name);break;case"PtgParen":var Ye="(",Ie=")";if(J>=0){switch(Q="",e[0][J][1][0]){case 2:Ye=Wn(" ",e[0][J][1][1])+Ye;break;case 3:Ye=Wn("\r",e[0][J][1][1])+Ye;break;case 4:Ie=Wn(" ",e[0][J][1][1])+Ie;break;case 5:Ie=Wn("\r",e[0][J][1][1])+Ie;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][J][1][0])}J=-1}p.push(Ye+p.pop()+Ie);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":p.push("#REF!");break;case"PtgExp":var we={c:t.c,r:t.r};if(n.sharedf[Cn(R={c:lt[1][1],r:lt[1][0]})]){var ae=n.sharedf[Cn(R)];p.push(no(ae,0,we,n,r))}else{var _e=!1;for(C=0;C!=n.arrayf.length;++C)if(!(R.c<(D=n.arrayf[C])[0].s.c||R.c>D[0].e.c||R.r<D[0].s.r||R.r>D[0].e.r)){p.push(no(D[1],0,we,n,r)),_e=!0;break}_e||p.push(lt[1])}break;case"PtgArray":p.push("{"+x5t(lt[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":J=nt;break;case"PtgMissArg":p.push("");break;case"PtgList":p.push("Table"+lt[1].idx+"[#"+lt[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(lt))}if(3!=r.biff&&J>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][nt][0])){var Ee=!0;switch((lt=e[0][J])[1][0]){case 4:Ee=!1;case 0:Q=Wn(" ",lt[1][1]);break;case 5:Ee=!1;case 1:Q=Wn("\r",lt[1][1]);break;default:if(Q="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+lt[1][0])}p.push((Ee?Q:"")+p.pop()+(Ee?"":Q)),J=-1}}if(p.length>1&&r.WTF)throw new Error("bad formula stack");return"TRUE"==p[0]||"FALSE"!=p[0]&&p[0]}function dE(e,i,t){var n=e.read_shift(4),r=function cb(e,i,t){for(var r,s,n=e.l+i,o=[];n!=e.l;)i=n-e.l,r=aK[s=e[e.l]]||aK[p5t[s]],(24===s||25===s)&&(r=(24===s?g5t:v5t)[e[e.l+1]]),r&&r.f?o.push([r.n,r.f(e,i,t)]):Ka(e,i);return o}(e,n,t),s=e.read_shift(4);return[r,s>0?lb(e,s,r,t):null]}var D5t=dE,uE=dE,I5t=dE,M5t=dE;function cK(e){if((0|e)==e&&e<Math.pow(2,16)&&e>=0){var i=ne(11);return i.write_shift(4,3),i.write_shift(1,30),i.write_shift(2,e),i.write_shift(4,0),i}var t=ne(17);return t.write_shift(4,11),t.write_shift(1,31),t.write_shift(8,e),t.write_shift(4,0),t}var z5t=function U5t(e,i){if("number"==typeof e)return cK(e);if("boolean"==typeof e)return function k5t(e){var i=ne(10);return i.write_shift(4,2),i.write_shift(1,29),i.write_shift(1,e?1:0),i.write_shift(4,0),i}(e);if(/^#(DIV\/0!|GETTING_DATA|N\/A|NAME\?|NULL!|NUM!|REF!|VALUE!)$/.test(e))return function R5t(e){var i=ne(10);return i.write_shift(4,2),i.write_shift(1,28),i.write_shift(1,e),i.write_shift(4,0),i}(+Zy[e]);if(e.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function F5t(e){var i=fr(e),t=ne(15);return t.write_shift(4,7),t.write_shift(1,36),t.write_shift(4,i.r),t.write_shift(2,i.c|("$"==e.charAt(0)?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),t.write_shift(4,0),t}(e);if(e.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function N5t(e){var i=e.split(":"),t=i[0],n=ne(23);n.write_shift(4,15);var r=fr(t=i[0]);return n.write_shift(1,36),n.write_shift(4,r.r),n.write_shift(2,r.c|("$"==t.charAt(0)?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),r=fr(t=i[1]),n.write_shift(1,36),n.write_shift(4,r.r),n.write_shift(2,r.c|("$"==t.charAt(0)?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),n.write_shift(1,17),n.write_shift(4,0),n}(e);if(e.match(/^#REF!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function V5t(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=ra(e),s=ne(23);return s.write_shift(4,15),s.write_shift(1,59),s.write_shift(2,2+i.SheetNames.map(function(o){return o.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,r.s.r),s.write_shift(4,r.e.r),s.write_shift(2,r.s.c),s.write_shift(2,r.e.c),s.write_shift(4,0),s}(e,i);if(e.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function O5t(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t),r=fr(e=e.slice(t+1));"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var s=ne(17);return s.write_shift(4,9),s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(o){return o.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,r.r),s.write_shift(2,r.c|("$"==e.charAt(0)?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),s.write_shift(4,0),s}(e,i);if(e.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function B5t(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=e.split(":"),s=ne(27);s.write_shift(4,19);var o=r[0],p=fr(o);return s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(C){return C.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,p.r),s.write_shift(2,p.c|("$"==o.charAt(0)?0:1)<<14|(o.match(/\$\d/)?0:1)<<15),p=fr(o=r[1]),s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(C){return C.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,p.r),s.write_shift(2,p.c|("$"==o.charAt(0)?0:1)<<14|(o.match(/\$\d/)?0:1)<<15),s.write_shift(1,17),s.write_shift(4,0),s}(e,i);if(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!#REF!$/.test(e))return function L5t(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=ne(17);return r.write_shift(4,9),r.write_shift(1,60),r.write_shift(2,2+i.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(n.toLowerCase())),r.write_shift(4,0),r.write_shift(2,0),r.write_shift(4,0),r}(e,i);if(/^".*"$/.test(e))return function P5t(e){var i=ne(7);i.write_shift(4,3+2*e.length),i.write_shift(1,23),i.write_shift(2,e.length);var t=ne(2*e.length);t.write_shift(2*e.length,e,"utf16le");var n=ne(4);return n.write_shift(4,0),Es([i,t,n])}(e);if(/^[+-]\d+$/.test(e))return cK(parseInt(e,10));throw"Formula |"+e+"| not supported for XLSB"},G5t={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},dK={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},H5t={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function W5t(e){return("of:="+e.replace(lE,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function hK(e){return e.replace(/!/,".").replace(/:/,":.")}var ub=typeof Map<"u";function UF(e,i,t){var n=0,r=e.length;if(t){if(ub?t.has(i):Object.prototype.hasOwnProperty.call(t,i))for(var s=ub?t.get(i):t[i];n<s.length;++n)if(e[s[n]].t===i)return e.Count++,s[n]}else for(;n<r;++n)if(e[n].t===i)return e.Count++,n;return e[r]={t:i},e.Count++,e.Unique++,t&&(ub?(t.has(i)||t.set(i,[]),t.get(i).push(r)):(Object.prototype.hasOwnProperty.call(t,i)||(t[i]=[]),t[i].push(r))),r}function hE(e,i){var t={min:e+1,max:e+1},n=-1;return i.MDW&&(io=i.MDW),null!=i.width?t.customWidth=1:null!=i.wpx?n=rb(i.wpx):null!=i.wch&&(n=i.wch),n>-1?(t.width=sE(n),t.customWidth=1):null!=i.width&&(t.width=i.width),i.hidden&&(t.hidden=!0),null!=i.level&&(t.outlineLevel=t.level=i.level),t}function dm(e,i){if(e){var t=[.7,.7,.75,.75,.3,.3];"xlml"==i&&(t=[1,1,1,1,.5,.5]),null==e.left&&(e.left=t[0]),null==e.right&&(e.right=t[1]),null==e.top&&(e.top=t[2]),null==e.bottom&&(e.bottom=t[3]),null==e.header&&(e.header=t[4]),null==e.footer&&(e.footer=t[5])}}function Ah(e,i,t){var n=t.revssf[null!=i.z?i.z:"General"],r=60,s=e.length;if(null==n&&t.ssf)for(;r<392;++r)if(null==t.ssf[r]){Th(i.z,r),t.ssf[r]=i.z,t.revssf[i.z]=n=r;break}for(r=0;r!=s;++r)if(e[r].numFmtId===n)return r;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function X5t(e,i,t){if(e&&e["!ref"]){var n=Un(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+e["!ref"])}}var nVt=["objects","scenarios","selectLockedCells","selectUnlockedCells"],rVt=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function gVt(e,i,t,n,r,s,o){if(e.c&&t["!comments"].push([i,e.c]),(void 0===e.v||"z"===e.t&&!(n||{}).sheetStubs)&&"string"!=typeof e.f&&typeof e.z>"u")return"";var p="",C=e.t,D=e.v;if("z"!==e.t)switch(e.t){case"b":p=e.v?"1":"0";break;case"n":isNaN(e.v)?(e.t="e",p=Fl[e.v=36]):isFinite(e.v)?p=""+e.v:(e.t="e",p=Fl[e.v=7]);break;case"e":p=Fl[e.v];break;case"d":if(n&&n.cellDates){var R=Jr(e.v,o);p=R.toISOString(),R.getUTCFullYear()<1900&&(p=p.slice(p.indexOf("T")+1).replace("Z",""))}else(e=ur(e)).t="n",p=""+(e.v=ss(Jr(e.v,o),o));typeof e.z>"u"&&(e.z=Ri[14]);break;default:p=e.v}var F="z"==e.t||null==e.v?"":Ia("v",gn(p)),B={r:i},V=Ah(n.cellXfs,e,n);switch(0!==V&&(B.s=V),e.t){case"n":case"z":break;case"d":B.t="d";break;case"b":B.t="b";break;case"e":B.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){F=Ia("v",""+UF(n.Strings,e.v,n.revStrings)),B.t="s";break}B.t="str"}if(e.t!=C&&(e.t=C,e.v=D),"string"==typeof e.f&&e.f){var X=e.F&&e.F.slice(0,i.length)==i?{t:"array",ref:e.F}:null;F=We("f",gn(e.f),X)+(null!=e.v?F:"")}return e.l&&(e.l.display=gn(p),t["!links"].push([i,e.l])),e.D&&(B.cm=1),We("c",F,B)}function yVt(e,i,t,n){var o,r=[Ss,We("worksheet",null,{xmlns:Kf[0],"xmlns:r":ia.r})],p="",C=t.Sheets[t.SheetNames[e]];null==C&&(C={});var D=C["!ref"]||"A1",R=Un(D);if(R.e.c>16383||R.e.r>1048575){if(i.WTF)throw new Error("Range "+D+" exceeds format limit A1:XFD1048576");R.e.c=Math.min(R.e.c,16383),R.e.r=Math.min(R.e.c,1048575),D=dn(R)}n||(n={}),C["!comments"]=[];var F=[];(function iVt(e,i,t,n,r){var s=!1,o={},p=null;if("xlsx"!==n.bookType&&i.vbaraw){var C=i.SheetNames[t];try{i.Workbook&&(C=i.Workbook.Sheets[t].CodeName||C)}catch{}s=!0,o.codeName=Kc(gn(C))}if(e&&e["!outline"]){var D={summaryBelow:1,summaryRight:1};e["!outline"].above&&(D.summaryBelow=0),e["!outline"].left&&(D.summaryRight=0),p=(p||"")+We("outlinePr",null,D)}!s&&!p||(r[r.length]=We("sheetPr",p,o))})(C,t,e,i,r),r[r.length]=We("dimension",null,{ref:D}),r[r.length]=function pVt(e,i,t,n){var r={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),We("sheetViews",We("sheetView",null,r),{})}(0,0,0,t),i.sheetFormat&&(r[r.length]=We("sheetFormatPr",null,{defaultRowHeight:i.sheetFormat.defaultRowHeight||"16",baseColWidth:i.sheetFormat.baseColWidth||"10",outlineLevelRow:i.sheetFormat.outlineLevelRow||"7"})),null!=C["!cols"]&&C["!cols"].length>0&&(r[r.length]=function dVt(e,i){for(var n,t=["<cols>"],r=0;r!=i.length;++r)(n=i[r])&&(t[t.length]=We("col",null,hE(r,n)));return t[t.length]="</cols>",t.join("")}(0,C["!cols"])),r[o=r.length]="<sheetData/>",C["!links"]=[],null!=C["!ref"]&&(p=function xVt(e,i,t,n){var C,Q,r=[],s=[],o=Un(e["!ref"]),p="",D="",R=[],F=0,B=0,V=e["!rows"],X=null!=e["!data"],J={r:D},nt=-1,ct=(((n||{}).Workbook||{}).WBProps||{}).date1904;for(B=o.s.c;B<=o.e.c;++B)R[B]=cn(B);for(F=o.s.r;F<=o.e.r;++F){for(s=[],D=Rn(F),B=o.s.c;B<=o.e.c;++B){C=R[B]+D;var lt=X?(e["!data"][F]||[])[B]:e[C];void 0!==lt&&null!=(p=gVt(lt,C,e,i,0,0,ct))&&s.push(p)}(s.length>0||V&&V[F])&&(J={r:D},V&&V[F]&&((Q=V[F]).hidden&&(J.hidden=1),nt=-1,Q.hpx?nt=sb(Q.hpx):Q.hpt&&(nt=Q.hpt),nt>-1&&(J.ht=nt,J.customHeight=1),Q.level&&(J.outlineLevel=Q.level)),r[r.length]=We("row",s.join(""),J))}if(V)for(;F<V.length;++F)V&&V[F]&&(J={r:F+1},(Q=V[F]).hidden&&(J.hidden=1),nt=-1,Q.hpx?nt=sb(Q.hpx):Q.hpt&&(nt=Q.hpt),nt>-1&&(J.ht=nt,J.customHeight=1),Q.level&&(J.outlineLevel=Q.level),r[r.length]=We("row","",J));return r.join("")}(C,i,0,t),p.length>0&&(r[r.length]=p)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),C["!protect"]&&(r[r.length]=function sVt(e){var i={sheet:1};return nVt.forEach(function(t){null!=e[t]&&e[t]&&(i[t]="1")}),rVt.forEach(function(t){null!=e[t]&&!e[t]&&(i[t]="0")}),e.password&&(i.password=kF(e.password).toString(16).toUpperCase()),We("sheetProtection",null,i)}(C["!protect"])),null!=C["!autofilter"]&&(r[r.length]=function hVt(e,i,t,n){var r="string"==typeof e.ref?e.ref:dn(e.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=ra(r);o.s.r==o.e.r&&(o.e.r=ra(i["!ref"]).e.r,r=dn(o));for(var p=0;p<s.length;++p){var C=s[p];if("_xlnm._FilterDatabase"==C.Name&&C.Sheet==n){C.Ref=Qy(t.SheetNames[n])+"!"+$y(r);break}}return p==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+r}),We("autoFilter",null,{ref:r})}(C["!autofilter"],C,t,e)),null!=C["!merges"]&&C["!merges"].length>0&&(r[r.length]=function tVt(e){if(0===e.length)return"";for(var i='<mergeCells count="'+e.length+'">',t=0;t!=e.length;++t)i+='<mergeCell ref="'+dn(e[t])+'"/>';return i+"</mergeCells>"}(C["!merges"]));var V,B=-1,X=-1;return C["!links"].length>0&&(r[r.length]="<hyperlinks>",C["!links"].forEach(function(J){J[1].Target&&(V={ref:J[0]},"#"!=J[1].Target.charAt(0)&&(X=or(n,-1,gn(J[1].Target).replace(/#[\s\S]*$/,""),un.HLINK),V["r:id"]="rId"+X),(B=J[1].Target.indexOf("#"))>-1&&(V.location=gn(J[1].Target.slice(B+1))),J[1].Tooltip&&(V.tooltip=gn(J[1].Tooltip)),V.display=J[1].display,r[r.length]=We("hyperlink",null,V))}),r[r.length]="</hyperlinks>"),delete C["!links"],null!=C["!margins"]&&(r[r.length]=function lVt(e){return dm(e),We("pageMargins",null,e)}(C["!margins"])),(!i||i.ignoreEC||null==i.ignoreEC)&&(r[r.length]=Ia("ignoredErrors",We("ignoredError",null,{numberStoredAsText:1,sqref:D}))),F.length>0&&(X=or(n,-1,"../drawings/drawing"+(e+1)+".xml",un.DRAW),r[r.length]=We("drawing",null,{"r:id":"rId"+X}),C["!drawing"]=F),C["!comments"].length>0&&(X=or(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",un.VML),r[r.length]=We("legacyDrawing",null,{"r:id":"rId"+X}),C["!legacy"]=X),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function TVt(e,i,t,n){var r=function wVt(e,i,t){var n=ne(145),r=(t["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;r.hpx?s=20*sb(r.hpx):r.hpt&&(s=20*r.hpt),n.write_shift(2,s),n.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var p=0,C=n.l;n.l+=4;for(var D={r:e,c:0},R=null!=t["!data"],F=0;F<16;++F)if(!(i.s.c>F+1<<10||i.e.c<F<<10)){for(var B=-1,V=-1,X=F<<10;X<F+1<<10;++X)D.c=X,(R?(t["!data"][D.r]||[])[D.c]:t[Cn(D)])&&(B<0&&(B=X),V=X);B<0||(++p,n.write_shift(4,B),n.write_shift(4,V))}var Q=n.l;return n.l=C,n.write_shift(4,p),n.l=Q,n.length>n.l?n.slice(0,n.l):n}(n,t,i);(r.length>17||(i["!rows"]||[])[n])&&Te(e,0,r)}var CVt=em,_Vt=uv;function GF(e,i,t){return null==t&&(t=ne(9)),Jf(i,t),t.write_shift(1,e.v),t}function HF(e,i,t){return null==t&&(t=ne(8)),tm(i,t),t.write_shift(1,e.v),t.write_shift(2,0),t.write_shift(1,0),t}var r8t=em,s8t=uv,gK=["left","right","top","bottom","header","footer"];function T8t(e,i,t,n,r,s,o,p){var C={r:t,c:n};if(i.c&&s["!comments"].push([Cn(C),i.c]),void 0===i.v)return!1;var D="";switch(i.t){case"b":D=i.v?"1":"0";break;case"d":(i=ur(i)).z=i.z||Ri[14],i.v=ss(Jr(i.v,p),p),i.t="n";break;case"n":case"e":D=""+i.v;break;default:D=i.v}switch(C.s=Ah(r.cellXfs,i,r),i.l&&s["!links"].push([Cn(C),i.l]),i.t){case"s":case"str":return r.bookSST?(D=UF(r.Strings,null==i.v?"":String(i.v),r.revStrings),C.t="s",C.v=D,o?Te(e,18,function zVt(e,i,t){return null==t&&(t=ne(8)),tm(i,t),t.write_shift(4,i.v),t}(0,C)):Te(e,7,function VVt(e,i,t){return null==t&&(t=ne(12)),Jf(i,t),t.write_shift(4,i.v),t}(0,C))):(C.t="str",o?Te(e,17,function qVt(e,i,t){var n=null==e.v?"":String(e.v);return null==t&&(t=ne(8+4*n.length)),tm(i,t),sa(n,t),t.length>t.l?t.slice(0,t.l):t}(i,C)):Te(e,6,function ZVt(e,i,t){var n=null==e.v?"":String(e.v);return null==t&&(t=ne(12+4*e.v.length)),Jf(i,t),sa(n,t),t.length>t.l?t.slice(0,t.l):t}(i,C))),!0;case"n":return i.v==(0|i.v)&&i.v>-1e3&&i.v<1e3?o?Te(e,13,function $Vt(e,i,t){return null==t&&(t=ne(8)),tm(i,t),U$(e.v,t),t}(i,C)):Te(e,2,function jVt(e,i,t){return null==t&&(t=ne(12)),Jf(i,t),U$(e.v,t),t}(i,C)):isNaN(i.v)?o?Te(e,14,HF({t:"e",v:36},C)):Te(e,3,GF({t:"e",v:36},C)):isFinite(i.v)?o?Te(e,16,function WVt(e,i,t){return null==t&&(t=ne(12)),tm(i,t),im(e.v,t),t}(i,C)):Te(e,5,function HVt(e,i,t){return null==t&&(t=ne(16)),Jf(i,t),im(e.v,t),t}(i,C)):o?Te(e,14,HF({t:"e",v:7},C)):Te(e,3,GF({t:"e",v:7},C)),!0;case"b":return C.t="b",o?Te(e,15,function OVt(e,i,t){return null==t&&(t=ne(5)),tm(i,t),t.write_shift(1,e.v?1:0),t}(i,C)):Te(e,4,function PVt(e,i,t){return null==t&&(t=ne(9)),Jf(i,t),t.write_shift(1,e.v?1:0),t}(i,C)),!0;case"e":return C.t="e",o?Te(e,14,HF(i,C)):Te(e,3,GF(i,C)),!0}return o?Te(e,12,function RVt(e,i,t){return null==t&&(t=ne(4)),tm(i,t)}(0,C)):Te(e,1,function IVt(e,i,t){return null==t&&(t=ne(8)),Jf(i,t)}(0,C)),!0}function k8t(e,i,t,n){var r=Za(),s=t.SheetNames[e],o=t.Sheets[s]||{},p=s;try{t&&t.Workbook&&(p=t.Workbook.Sheets[e].CodeName||p)}catch{}var C=Un(o["!ref"]||"A1");if(C.e.c>16383||C.e.r>1048575){if(i.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");C.e.c=Math.min(C.e.c,16383),C.e.r=Math.min(C.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Te(r,129),(t.vbaraw||o["!outline"])&&Te(r,147,function AVt(e,i,t){null==t&&(t=ne(84+4*e.length));var n=192;i&&(i.above&&(n&=-65),i.left&&(n&=-129)),t.write_shift(1,n);for(var r=1;r<3;++r)t.write_shift(1,0);return $_({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),V$(e,t),t.slice(0,t.l)}(p,o["!outline"])),Te(r,148,_Vt(C)),function M8t(e,i,t){Te(e,133),Te(e,137,function g8t(e,i,t){null==t&&(t=ne(30));var n=924;return(((i||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}(0,t)),Te(e,138),Te(e,134)}(r,0,t.Workbook),function E8t(e,i){!i||!i["!cols"]||(Te(e,390),i["!cols"].forEach(function(t,n){t&&Te(e,60,function h8t(e,i,t){null==t&&(t=ne(18));var n=hE(e,i);t.write_shift(-4,e),t.write_shift(-4,e),t.write_shift(4,256*(n.width||10)),t.write_shift(4,0);var r=0;return i.hidden&&(r|=1),"number"==typeof n.width&&(r|=2),i.level&&(r|=i.level<<8),t.write_shift(2,r),t}(n,t))}),Te(e,391))}(r,o),function C8t(e,i,t,n,r){var s=Un(i["!ref"]||"A1"),p="",C=[],D=(((r||{}).Workbook||{}).WBProps||{}).date1904;Te(e,145);var R=null!=i["!data"],F=s.e.r;i["!rows"]&&(F=Math.max(s.e.r,i["!rows"].length-1));for(var B=s.s.r;B<=F;++B){p=Rn(B),TVt(e,i,s,B);var V=!1;if(B<=s.e.r)for(var X=s.s.c;X<=s.e.c;++X){B===s.s.r&&(C[X]=cn(X));var J=R?(i["!data"][B]||[])[X]:i[C[X]+p];V=!!J&&T8t(e,J,B,X,n,i,V,D)}}Te(e,146)}(r,o,0,i,t),function R8t(e,i){i["!protect"]&&Te(e,535,function x8t(e,i){return null==i&&(i=ne(66)),i.write_shift(2,e.password?kF(e.password):0),i.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){i.write_shift(4,t[1]?null==e[t[0]]||e[t[0]]?0:1:null!=e[t[0]]&&e[t[0]]?0:1)}),i}(i["!protect"]))}(r,o),function I8t(e,i,t,n){if(i["!autofilter"]){var r=i["!autofilter"],s="string"==typeof r.ref?r.ref:dn(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,p=ra(s);p.s.r==p.e.r&&(p.e.r=ra(i["!ref"]).e.r,s=dn(p));for(var C=0;C<o.length;++C){var D=o[C];if("_xlnm._FilterDatabase"==D.Name&&D.Sheet==n){D.Ref=Qy(t.SheetNames[n])+"!"+$y(s);break}}C==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:Qy(t.SheetNames[n])+"!"+$y(s)}),Te(e,161,uv(Un(s))),Te(e,162)}}(r,o,t,e),function _8t(e,i){!i||!i["!merges"]||(Te(e,177,function a8t(e,i){return null==i&&(i=ne(4)),i.write_shift(4,e),i}(i["!merges"].length)),i["!merges"].forEach(function(t){Te(e,176,s8t(t))}),Te(e,178))}(r,o),function A8t(e,i,t){i["!links"].forEach(function(n){if(n[1].Target){var r=or(t,-1,n[1].Target.replace(/#[\s\S]*$/,""),un.HLINK);Te(e,494,function l8t(e,i){var t=ne(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));uv({s:fr(e[0]),e:fr(e[0])},t),pF("rId"+i,t);var n=e[1].Target.indexOf("#");return sa((-1==n?"":e[1].Target.slice(n+1))||"",t),sa(e[1].Tooltip||"",t),sa("",t),t.slice(0,t.l)}(n,r))}}),delete i["!links"]}(r,o,n),o["!margins"]&&Te(r,476,function m8t(e,i){return null==i&&(i=ne(48)),dm(e),gK.forEach(function(t){im(e[t],i)}),i}(o["!margins"])),(!i||i.ignoreEC||null==i.ignoreEC)&&function S8t(e,i){!i||!i["!ref"]||(Te(e,648),Te(e,649,function v8t(e){var i=ne(24);return i.write_shift(4,4),i.write_shift(4,1),uv(e,i),i}(Un(i["!ref"]))),Te(e,650))}(r,o),function D8t(e,i,t,n){if(i["!comments"].length>0){var r=or(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",un.VML);Te(e,551,pF("rId"+r)),i["!legacy"]=r}}(r,o,e,n),Te(r,130),r.end()}var WF=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],G8t=":][*?/\\".split("");function bK(e,i){try{if(""==e)throw new Error("Sheet name cannot be blank");if(e.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(39==e.charCodeAt(0)||39==e.charCodeAt(e.length-1))throw new Error("Sheet name cannot start or end with apostrophe (')");if("history"==e.toLowerCase())throw new Error("Sheet name cannot be 'History'");G8t.forEach(function(t){if(-1!=e.indexOf(t))throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(t){if(i)return!1;throw t}return!0}function $8t(e,i){return i||(i=ne(127)),i.write_shift(4,e.Hidden),i.write_shift(4,e.iTabID),pF(e.strRelID,i),sa(e.name.slice(0,31),i),i.length>i.l?i.slice(0,i.l):i}function l6t(e,i){var t=Za();return Te(t,131),Te(t,128,function i6t(e,i){i||(i=ne(127));for(var t=0;4!=t;++t)i.write_shift(4,0);return sa("SheetJS",i),sa(Py.version,i),sa(Py.version,i),sa("7262",i),i.length>i.l?i.slice(0,i.l):i}()),Te(t,153,function K8t(e,i){i||(i=ne(72));var t=0;return e&&(e.date1904&&(t|=1),e.filterPrivacy&&(t|=8)),i.write_shift(4,t),i.write_shift(4,0),V$(e&&e.CodeName||"ThisWorkbook",i),i.slice(0,i.l)}(e.Workbook&&e.Workbook.WBProps||null)),function r6t(e,i){if(i.Workbook&&i.Workbook.Sheets){for(var t=i.Workbook.Sheets,n=0,r=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&-1==r?r=n:1==t[n].Hidden&&-1==s&&(s=n);s>r||(Te(e,135),Te(e,158,function n6t(e,i){return i||(i=ne(29)),i.write_shift(-4,0),i.write_shift(-4,460),i.write_shift(4,28800),i.write_shift(4,17600),i.write_shift(4,500),i.write_shift(4,e),i.write_shift(4,e),i.write_shift(1,120),i.length>i.l?i.slice(0,i.l):i}(r)),Te(e,136))}}(t,e),function e6t(e,i){Te(e,143);for(var t=0;t!=i.SheetNames.length;++t)Te(e,156,$8t({Hidden:i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[t]&&i.Workbook.Sheets[t].Hidden||0,iTabID:t+1,strRelID:"rId"+(t+1),name:i.SheetNames[t]}));Te(e,144)}(t,e),function o6t(e,i){Te(e,353),Te(e,357),Te(e,362,function a6t(e){var i=e.SheetNames.length,t=ne(12*i+28);t.write_shift(4,i+2),t.write_shift(4,0),t.write_shift(4,-2),t.write_shift(4,-2),t.write_shift(4,0),t.write_shift(4,-1),t.write_shift(4,-1);for(var n=0;n<i;++n)t.write_shift(4,0),t.write_shift(4,n),t.write_shift(4,n);return t}(i)),Te(e,354)}(t,e),(e.Workbook||{}).Names&&function s6t(e,i){!i.Workbook||!i.Workbook.Names||i.Workbook.Names.forEach(function(t){try{if(14&t.Flags)return;Te(e,39,function q8t(e,i){var t=ne(9),n=0,r=e.Name;yF.indexOf(r)>-1&&(n|=32,r=r.slice(6)),t.write_shift(4,n),t.write_shift(1,0),t.write_shift(4,null==e.Sheet?4294967295:e.Sheet);var s=[t,sa(r),z5t(e.Ref,i)];if(e.Comment)s.push(Ky(e.Comment));else{var o=ne(4);o.write_shift(4,4294967295),s.push(o)}return Es(s)}(t,i))}catch{console.error("Could not serialize defined name "+JSON.stringify(t))}})}(t,e),Te(t,132),t.end()}function _K(e){return We("NamedRange",null,{"ss:Name":"_xlnm."==e.Name.slice(0,6)?e.Name.slice(6):e.Name,"ss:RefersTo":"="+cE(e.Ref,{r:0,c:0})})}function O6t(e,i,t,n,r,s,o){if(!e||null==e.v&&null==e.f)return"";var p={};if(e.f&&(p["ss:Formula"]="="+gn(cE(e.f,o))),e.F&&e.F.slice(0,i.length)==i){var C=fr(e.F.slice(i.length+1));p["ss:ArrayRange"]="RC:R"+(C.r==o.r?"":"["+(C.r-o.r)+"]")+"C"+(C.c==o.c?"":"["+(C.c-o.c)+"]")}if(e.l&&e.l.Target&&(p["ss:HRef"]=gn(e.l.Target),e.l.Tooltip&&(p["x:HRefScreenTip"]=gn(e.l.Tooltip))),t["!merges"])for(var D=t["!merges"],R=0;R!=D.length;++R)D[R].s.c!=o.c||D[R].s.r!=o.r||(D[R].e.c>D[R].s.c&&(p["ss:MergeAcross"]=D[R].e.c-D[R].s.c),D[R].e.r>D[R].s.r&&(p["ss:MergeDown"]=D[R].e.r-D[R].s.r));var F="",B="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":F="Number",B=String(e.v);break;case"b":F="Boolean",B=e.v?"1":"0";break;case"e":F="Error",B=Fl[e.v];break;case"d":F="DateTime",B=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||Ri[14]);break;case"s":F="String",B=function YFt(e){return(e+"").replace(eF,function(t){return tF[t]}).replace(p$,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}(e.v||"")}var V=Ah(n.cellXfs,e,n);p["ss:StyleID"]="s"+(21+V),p["ss:Index"]=o.c+1;var J="z"==e.t?"":'<Data ss:Type="'+F+'">'+(null!=e.v?B:"")+"</Data>";return(e.c||[]).length>0&&(J+=function F6t(e){return e.map(function(i){var t=function $Ft(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}(i.t||""),n=We("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"}),r={};return i.a&&(r["ss:Author"]=i.a),e.hidden||(r["ss:ShowAlways"]="1"),We("Comment",n,r)}).join("")}(e.c)),We("Cell",J,p)}function L6t(e,i){var t='<Row ss:Index="'+(e+1)+'"';return i&&(i.hpt&&!i.hpx&&(i.hpx=pv(i.hpt)),i.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+i.hpx+'"'),i.hidden&&(t+=' ss:Hidden="1"')),t+">"}function B6t(e,i,t){var n=[],s=t.Sheets[t.SheetNames[e]],o=s?function k6t(e,i,t,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var r=n.Workbook.Names,s=[],o=0;o<r.length;++o){var p=r[o];p.Sheet==t&&(p.Name.match(/^_xlfn\./)||s.push(_K(p)))}return s.join("")}(s,0,e,t):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?function N6t(e,i,t,n){if(!e["!ref"])return"";var r=Un(e["!ref"]),s=e["!merges"]||[],o=0,p=[];e["!cols"]&&e["!cols"].forEach(function(Q,nt){Eh(Q);var ct=!!Q.width,lt=hE(nt,Q),wt={"ss:Index":nt+1};ct&&(wt["ss:Width"]=nb(lt.width)),Q.hidden&&(wt["ss:Hidden"]="1"),p.push(We("Column",null,wt))});for(var C=null!=e["!data"],D=r.s.r;D<=r.e.r;++D){for(var R=[L6t(D,(e["!rows"]||[])[D])],F=r.s.c;F<=r.e.c;++F){var B=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>F||s[o].s.r>D||s[o].e.c<F||s[o].e.r<D)){(s[o].s.c!=F||s[o].s.r!=D)&&(B=!0);break}if(!B){var V={r:D,c:F},X=cn(F)+Rn(D);R.push(O6t(C?(e["!data"][D]||[])[F]:e[X],X,e,i,0,0,V))}}R.push("</Row>"),R.length>2&&p.push(R.join(""))}return p.join("")}(s,i):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(function P6t(e,i,t,n){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(We("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(We("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(We("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)r.push(We("Visible",1==n.Workbook.Sheets[t].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&(!n.Workbook.Sheets[s]||n.Workbook.Sheets[s].Hidden);++s);s==t&&r.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push(Ia("ProtectContents","True")),e["!protect"].objects&&r.push(Ia("ProtectObjects","True")),e["!protect"].scenarios&&r.push(Ia("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null!=e["!protect"].selectUnlockedCells&&!e["!protect"].selectUnlockedCells&&r.push(Ia("EnableSelection","UnlockedCells")):r.push(Ia("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),0==r.length?"":We("WorksheetOptions",r.join(""),{xmlns:dl.x})}(s,0,e,t)),s["!autofilter"]&&n.push('<AutoFilter x:Range="'+cE($y(s["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),n.join("")}function V6t(e,i){i||(i={}),e.SSF||(e.SSF=ur(Ri)),e.SSF&&(av(),Vy(e.SSF),i.revssf=U_(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF,i.cellXfs=[],Ah(i.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(function D6t(e,i){var t=[];return e.Props&&t.push(function WOt(e,i){var t=[];return Wr(CF).map(function(n){for(var r=0;r<su.length;++r)if(su[r][1]==n)return su[r];for(r=0;r<rm.length;++r)if(rm[r][1]==n)return rm[r];throw n}).forEach(function(n){if(null!=e[n[1]]){var r=i&&i.Props&&null!=i.Props[n[1]]?i.Props[n[1]]:e[n[1]];"date"===n[2]&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof r?r=String(r):!0===r||!1===r?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),t.push(Ia(CF[n[1]]||n[1],r))}}),We("DocumentProperties",t.join(""),{xmlns:dl.o})}(e.Props,i)),e.Custprops&&t.push(function XOt(e,i){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",r=[];return e&&Wr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<su.length;++o)if(s==su[o][1])return;for(o=0;o<rm.length;++o)if(s==rm[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var p=e[s],C="string";"number"==typeof p?(C="float",p=String(p)):!0===p||!1===p?(C="boolean",p=p?"1":"0"):p=String(p),r.push(We(m$(s),p,{"dt:dt":C}))}}),i&&Wr(i).forEach(function(s){if(Object.prototype.hasOwnProperty.call(i,s)&&(!e||!Object.prototype.hasOwnProperty.call(e,s))){var o=i[s],p="string";"number"==typeof o?(p="float",o=String(o)):!0===o||!1===o?(p="boolean",o=o?"1":"0"):o instanceof Date?(p="dateTime.tz",o=o.toISOString()):o=String(o),r.push(We(m$(s),o,{"dt:dt":p}))}}),"<"+n+' xmlns="'+dl.o+'">'+r.join("")+"</"+n+">"}(e.Props,e.Custprops)),t.join("")}(e,i)),t.push(function I6t(e){return(((e||{}).Workbook||{}).WBProps||{}).date1904?'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><Date1904/></ExcelWorkbook>':""}(e)),t.push(""),t.push("");for(var n=0;n<e.SheetNames.length;++n)t.push(We("Worksheet",B6t(n,i,e),{"ss:Name":gn(e.SheetNames[n])}));return t[2]=function M6t(e,i){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return i.cellXfs.forEach(function(n,r){var s=[];s.push(We("NumberFormat",null,{"ss:Format":gn(Ri[n.numFmtId])}));var o={"ss:ID":"s"+(21+r)};t.push(We("Style",s.join(""),o))}),We("Styles",t.join(""))}(0,i),t[3]=function R6t(e){if(!((e||{}).Workbook||{}).Names)return"";for(var i=e.Workbook.Names,t=[],n=0;n<i.length;++n){var r=i[n];null==r.Sheet&&(r.Name.match(/^_xlfn\./)||t.push(_K(r)))}return We("Names",t.join(""))}(e),Ss+We("Workbook",t.join(""),{xmlns:dl.ss,"xmlns:o":dl.o,"xmlns:x":dl.x,"xmlns:ss":dl.ss,"xmlns:dt":dl.dt,"xmlns:html":dl.html})}var fb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};var mb={0:{f:function bVt(e,i){var t={},n=e.l+i;t.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,7&s&&(t.level=7&s),16&s&&(t.hidden=!0),32&s&&(t.hpt=r/20),t}},1:{f:function DVt(e){return[Pl(e)]}},2:{f:function XVt(e){return[Pl(e),Y_(e),"n"]}},3:{f:function LVt(e){return[Pl(e),e.read_shift(1),"e"]}},4:{f:function kVt(e){return[Pl(e),e.read_shift(1),"b"]}},5:{f:function GVt(e){return[Pl(e),qa(e),"n"]}},6:{f:function KVt(e){return[Pl(e),Ja(e),"str"]}},7:{f:function BVt(e){return[Pl(e),e.read_shift(4),"s"]}},8:{f:function n8t(e,i,t){var n=e.l+i,r=Pl(e);r.r=t["!row"];var o=[r,Ja(e),"str"];if(t.cellFormula){e.l+=2;var p=uE(e,n-e.l,t);o[3]=no(p,0,r,t.supbooks,t)}else e.l=n;return o}},9:{f:function i8t(e,i,t){var n=e.l+i,r=Pl(e);r.r=t["!row"];var o=[r,qa(e),"n"];if(t.cellFormula){e.l+=2;var p=uE(e,n-e.l,t);o[3]=no(p,0,r,t.supbooks,t)}else e.l=n;return o}},10:{f:function t8t(e,i,t){var n=e.l+i,r=Pl(e);r.r=t["!row"];var o=[r,e.read_shift(1),"b"];if(t.cellFormula){e.l+=2;var p=uE(e,n-e.l,t);o[3]=no(p,0,r,t.supbooks,t)}else e.l=n;return o}},11:{f:function e8t(e,i,t){var n=e.l+i,r=Pl(e);r.r=t["!row"];var o=[r,e.read_shift(1),"e"];if(t.cellFormula){e.l+=2;var p=uE(e,n-e.l,t);o[3]=no(p,0,r,t.supbooks,t)}else e.l=n;return o}},12:{f:function MVt(e){return[qf(e)]}},13:{f:function YVt(e){return[qf(e),Y_(e),"n"]}},14:{f:function NVt(e){return[qf(e),e.read_shift(1),"e"]}},15:{f:function FVt(e){return[qf(e),e.read_shift(1),"b"]}},16:{f:function pK(e){return[qf(e),qa(e),"n"]}},17:{f:function JVt(e){return[qf(e),Ja(e),"str"]}},18:{f:function UVt(e){return[qf(e),e.read_shift(4),"s"]}},19:{f:fF},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function J8t(e,i,t){var n=e.l+i,r=e.read_shift(4);e.l+=1;var p,s=e.read_shift(4),o=yOt(e),C="";try{p=I5t(e,0,t);try{C=j_(e)}catch{}}catch{console.error("Could not parse defined name "+o)}32&r&&(o="_xlnm."+o),e.l=n;var D={Name:o,Ptg:p,Flags:r};return s<268435455&&(D.Sheet=s),C&&(D.Comment=C),D}},40:{},42:{},43:{f:function Q4t(e,i,t){var n={};n.sz=e.read_shift(2)/20;var r=function TOt(e){var i=e.read_shift(1);return e.l++,{fBold:1&i,fItalic:2&i,fUnderline:4&i,fStrikeout:8&i,fOutline:16&i,fShadow:32&i,fCondense:64&i,fExtend:128&i}}(e);switch(r.fItalic&&(n.italic=1),r.fCondense&&(n.condense=1),r.fExtend&&(n.extend=1),r.fShadow&&(n.shadow=1),r.fOutline&&(n.outline=1),r.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var o=e.read_shift(1);0!=o&&(n.underline=o);var p=e.read_shift(1);p>0&&(n.family=p);var C=e.read_shift(1);switch(C>0&&(n.charset=C),e.l++,n.color=function wOt(e){var i={},n=e.read_shift(1)>>>1,r=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),p=e.read_shift(1),C=e.read_shift(1);switch(e.l++,n){case 0:i.auto=1;break;case 1:i.index=r;var D=nm[r];D&&(i.rgb=ib(D));break;case 2:i.rgb=ib([o,p,C]);break;case 3:i.theme=r}return 0!=s&&(i.tint=s>0?s/32767:s/32768),i}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=Ja(e),n}},44:{f:function Y4t(e,i){return[e.read_shift(2),Ja(e)]}},45:{f:J4t},46:{f:t3t},47:{f:function q4t(e,i){var t=e.l+i,n=e.read_shift(2),r=e.read_shift(2);return e.l=t,{ixfe:n,numFmtId:r}}},48:{},49:{f:function hOt(e){return e.read_shift(4,"i")}},50:{},51:{f:function D3t(e){for(var i=[],t=e.read_shift(4);t-- >0;)i.push([e.read_shift(4),e.read_shift(4)]);return i}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function PQ(e,i,t){if(!t.cellStyles)return Ka(e,i);var n=t&&t.biff>=12?4:2,r=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),p=e.read_shift(n),C=e.read_shift(2);2==n&&(e.l+=2);var D={s:r,e:s,w:o,ixfe:p,flags:C};return(t.biff>=5||!t.biff)&&(D.level=C>>8&7),D}},62:{f:function QVt(e){return[Pl(e),fF(e),"is"]}},63:{f:function B3t(e){var i={};i.i=e.read_shift(4);var t={};t.r=e.read_shift(4),t.c=e.read_shift(4),i.r=Cn(t);var n=e.read_shift(1);return 2&n&&(i.l="1"),8&n&&(i.a="1"),i}},64:{f:function y8t(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ka,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function p8t(e){var i=e.read_shift(2);return e.l+=28,{RTL:32&i}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function SVt(e,i){var t={},n=e[e.l];return++e.l,t.above=!(64&n),t.left=!(128&n),e.l+=18,t.name=xOt(e,i-19),t}},148:{f:CVt,p:16},151:{f:function c8t(){}},152:{},153:{f:function Q8t(e,i){var t={},n=e.read_shift(4);t.defaultThemeVersion=e.read_shift(4);var r=i>8?Ja(e):"";return r.length>0&&(t.CodeName=r),t.autoCompressPictures=!!(65536&n),t.backupFile=!!(64&n),t.checkCompatibility=!!(4096&n),t.date1904=!!(1&n),t.filterPrivacy=!!(8&n),t.hidePivotFieldList=!!(1024&n),t.promptedSolutions=!!(16&n),t.publishItems=!!(2048&n),t.refreshAllConnections=!!(262144&n),t.saveExternalLinkValues=!!(128&n),t.showBorderUnselectedTables=!!(4&n),t.showInkAnnotation=!!(32&n),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(32768&n),t.updateLinks=["userSet","never","always"][n>>8&3],t}},154:{},155:{},156:{f:function Y8t(e,i){var t={};return t.Hidden=e.read_shift(4),t.iTabID=e.read_shift(4),t.strRelID=mF(e,i-8),t.name=Ja(e),t}},157:{},158:{},159:{T:1,f:function a4t(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:em},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:r8t},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function S3t(e,i){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ja(e)}}},336:{T:-1},337:{f:function R3t(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:mF},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function MQ(e,i,t){if(t.biff<8||!(t.biff>8)&&i==e[e.l]+(3==e[e.l+1]?1:0)+1)return function RQ(e,i,t){3==e[e.l+1]&&e[e.l]++;var n=fv(e,0,t);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,t);for(var n=[],r=e.l+i,s=e.read_shift(t.biff>8?4:2);0!=s--;)n.push(hLt(e,0,t));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return n}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function d8t(e,i,t){var n=e.l+i,r=z$(e),s=e.read_shift(1),o=[r];if(o[2]=s,t.cellFormula){var p=D5t(e,n-e.l,t);o[1]=p}else e.l=n;return o}},427:{f:function u8t(e,i,t){var n=e.l+i,s=[em(e,16)];if(t.cellFormula){var o=M5t(e,n-e.l,t);s[1]=o,e.l=n}else e.l=n;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function f8t(e){var i={};return gK.forEach(function(t){i[t]=qa(e)}),i}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function EVt(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function o8t(e,i){var t=e.l+i,n=em(e,16),r=j_(e),s=Ja(e),o=Ja(e),p=Ja(e);e.l=t;var C={rfx:n,relId:r,loc:s,display:p};return o&&(C.Tooltip=o),C}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:mF},551:{f:j_},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:K3t},633:{T:1},634:{T:-1},635:{T:1,f:function $3t(e){var i={};i.iauthor=e.read_shift(4);var t=em(e,16);return i.rfx=t.s,i.ref=Cn(t.s),e.l+=16,i}},636:{T:-1},637:{f:gOt},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function L8t(e,i){return e.l+=10,{name:Ja(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function b8t(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Re(e,i,t,n){var r=i;if(!isNaN(r)){var s=n||(t||[]).length||0,o=e.next(4);o.write_shift(2,r),o.write_shift(2,s),s>0&&cF(t)&&e.push(t)}}function QF(e,i,t,n){var r=ne(9);return eb(r,e,i),mQ(t,n||"b",r),r}function EK(e,i){i.forEach(function(t){var n=t[0].map(function(s){return s.t}).join("");if(n.length<=2048)return Re(e,28,IF(n,t[1],t[2]));Re(e,28,IF(n.slice(0,2048),t[1],t[2],n.length));for(var r=2048;r<n.length;r+=2048)Re(e,28,IF(n.slice(r,Math.min(r+2048,n.length)),-1,-1,Math.min(2048,n.length-r)))})}function Q6t(e,i,t,n,r,s){var o=0;null!=i.z&&-1==(o=r._BIFF2FmtTable.indexOf(i.z))&&(r._BIFF2FmtTable.push(i.z),o=r._BIFF2FmtTable.length-1);var p=0;if(null!=i.z){for(;p<r.cellXfs.length&&r.cellXfs[p].numFmtId!=o;++p);p==r.cellXfs.length&&r.cellXfs.push({numFmtId:o})}if(null!=i.v)switch(i.t){case"d":case"n":var C="d"==i.t?ss(Jr(i.v,s),s):i.v;return void(2==r.biff&&C==(0|C)&&C>=0&&C<65536?Re(e,2,function GNt(e,i,t,n,r){var s=ne(9);return eb(s,e,i,n||0,r||0),s.write_shift(2,t),s}(t,n,C,p,o)):isNaN(C)?Re(e,5,QF(t,n,36,"e")):isFinite(C)?Re(e,3,function UNt(e,i,t,n,r){var s=ne(15);return eb(s,e,i,n||0,r||0),s.write_shift(8,t,"f"),s}(t,n,C,p,o)):Re(e,5,QF(t,n,7,"e")));case"b":case"e":return void Re(e,5,QF(t,n,i.v,i.t));case"s":case"str":return void Re(e,4,function $6t(e,i,t){var n=ne(8+2*t.length);return eb(n,e,i),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(t,n,null==i.v?"":String(i.v).slice(0,255)))}Re(e,1,eb(null,t,n))}var cc=1,Ll=[];function a9t(e,i,t,n,r,s){var o=16+Ah(r.cellXfs,i,r);if(null!=i.v||i.bf)if(i.bf)Re(e,6,function A5t(e,i,t,n,r){var s=om(i,t,r),o=function S5t(e){if(null==e){var i=ne(8);return i.write_shift(1,3),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,65535),i}return im("number"==typeof e?e:0)}(e.v),p=ne(6);p.write_shift(2,33),p.write_shift(4,0);for(var D=ne(e.bf.length),R=0;R<e.bf.length;++R)D[R]=e.bf[R];return Es([s,o,p,D])}(i,t,n,0,o));else switch(i.t){case"d":case"n":var p="d"==i.t?ss(Jr(i.v,s),s):i.v;isNaN(p)?Re(e,517,DF(t,n,36,o,0,"e")):isFinite(p)?Re(e,515,function lNt(e,i,t,n){var r=ne(14);return om(e,i,n,r),im(t,r),r}(t,n,p,o)):Re(e,517,DF(t,n,7,o,0,"e"));break;case"b":case"e":Re(e,517,DF(t,n,i.v,o,0,i.t));break;case"s":case"str":r.bookSST?Re(e,253,function VLt(e,i,t,n){var r=ne(10);return om(e,i,n,r),r.write_shift(4,t),r}(t,n,UF(r.Strings,null==i.v?"":String(i.v),r.revStrings),o)):Re(e,516,function zLt(e,i,t,n,r){var s=!r||8==r.biff,o=ne(+s+8+(1+s)*t.length);return om(e,i,n,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}(t,n,(null==i.v?"":String(i.v)).slice(0,255),o,r));break;default:Re(e,513,om(t,n,o))}else Re(e,513,om(t,n,o))}function o9t(e,i,t){var R,n=Za(),r=t.SheetNames[e],s=t.Sheets[r]||{},o=(t||{}).Workbook||{},p=(o.Sheets||[])[e]||{},C=null!=s["!data"],D=8==i.biff,F="",B=[],V=Un(s["!ref"]||"A1"),X=D?65536:16384;if(V.e.c>255||V.e.r>=X){if(i.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");V.e.c=Math.min(V.e.c,255),V.e.r=Math.min(V.e.c,X-1)}Re(n,2057,AF(0,16,i)),Re(n,13,Ol(1)),Re(n,12,Ol(100)),Re(n,15,to(!0)),Re(n,17,to(!1)),Re(n,16,im(.001)),Re(n,95,to(!0)),Re(n,42,to(!1)),Re(n,43,to(!1)),Re(n,130,Ol(1)),Re(n,128,function sNt(e){var i=ne(8);return i.write_shift(4,0),i.write_shift(2,e[0]?e[0]+1:0),i.write_shift(2,e[1]?e[1]+1:0),i}([0,0])),Re(n,131,to(!1)),Re(n,132,to(!1)),D&&function s9t(e,i){if(i){var t=0;i.forEach(function(n,r){++t<=256&&n&&Re(e,125,function MNt(e,i){var t=ne(12);t.write_shift(2,i),t.write_shift(2,i),t.write_shift(2,256*e.width),t.write_shift(2,0);var n=0;return e.hidden&&(n|=1),t.write_shift(1,n),t.write_shift(1,n=e.level||0),t.write_shift(2,0),t}(hE(r,n),r))})}}(n,s["!cols"]),Re(n,512,function YLt(e,i){var t=8!=i.biff&&i.biff?2:4,n=ne(2*t+6);return n.write_shift(t,e.s.r),n.write_shift(t,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(V,i));var J=(((t||{}).Workbook||{}).WBProps||{}).date1904;D&&(s["!links"]=[]);for(var Q=V.s.c;Q<=V.e.c;++Q)B[Q]=cn(Q);for(var nt=[],ct=[],lt=V.s.r;lt<=V.e.r;++lt)for(C&&(ct=s["!data"][lt]||[]),F=Rn(lt),Q=V.s.c;Q<=V.e.c;++Q){R=B[Q]+F;var wt=C?ct[Q]:s[R];wt&&(a9t(n,wt,lt,Q,i,J),D&&wt.l&&s["!links"].push([R,wt.l]),wt.c&&nt.push([wt.c,lt,Q]))}var Mt=p.CodeName||p.name||r;return D?function q6t(e,i){var o,t=[],n=0,r=Za(),s=cc;i.forEach(function(C,D){var R="",F=C[0].map(function(lt){return lt.a&&!R&&(R=lt.a),lt.t}).join("");++cc;var B=ne(150);B.write_shift(2,15),B.write_shift(2,61444),B.write_shift(4,150),B.write_shift(2,3234),B.write_shift(2,61450),B.write_shift(4,8),B.write_shift(4,cc),B.write_shift(4,2560),B.write_shift(2,227),B.write_shift(2,61451),B.write_shift(4,84),B.write_shift(2,128),B.write_shift(4,0),B.write_shift(2,139),B.write_shift(4,2),B.write_shift(2,191),B.write_shift(4,524296),B.write_shift(2,344),B.l+=4,B.write_shift(2,385),B.write_shift(4,134217808),B.write_shift(2,387),B.write_shift(4,134217808),B.write_shift(2,389),B.write_shift(4,268435700),B.write_shift(2,447),B.write_shift(4,1048592),B.write_shift(2,448),B.write_shift(4,134217809),B.write_shift(2,451),B.write_shift(4,268435700),B.write_shift(2,513),B.write_shift(4,134217809),B.write_shift(2,515),B.write_shift(4,268435700),B.write_shift(2,575),B.write_shift(4,196609),B.write_shift(2,959),B.write_shift(4,131072|(C[0].hidden?2:0)),B.l+=2,B.write_shift(2,61456),B.write_shift(4,18),B.write_shift(2,3),B.write_shift(2,C[2]+2),B.l+=2,B.write_shift(2,C[1]+1),B.l+=2,B.write_shift(2,C[2]+4),B.l+=2,B.write_shift(2,C[1]+5),B.l+=2,B.l+=2,B.write_shift(2,61457),B.l+=4,B.l=150,0==D?o=B:Re(r,236,B),n+=150;var V=ne(52);V.write_shift(2,21),V.write_shift(2,18),V.write_shift(2,25),V.write_shift(2,cc),V.write_shift(2,0),V.l=22,V.write_shift(2,13),V.write_shift(2,22),V.write_shift(4,1651663474),V.write_shift(4,2503426821),V.write_shift(4,2150634280),V.write_shift(4,1768515844+256*cc),V.write_shift(2,0),V.write_shift(4,0),V.l+=4,Re(r,93,V);var X=ne(8);X.l+=2,X.write_shift(2,61453),X.l+=4,Re(r,236,X),n+=8;var J=ne(18);J.write_shift(2,18),J.l+=8,J.write_shift(2,F.length),J.write_shift(2,16),J.l+=4,Re(r,438,J);var Q=ne(1+F.length);Q.write_shift(1,0),Q.write_shift(F.length,F,"sbcs"),Re(r,60,Q);var nt=ne(16);nt.l+=8,nt.write_shift(2,F.length),nt.l+=6,Re(r,60,nt);var ct=ne(12+R.length);ct.write_shift(2,C[1]),ct.write_shift(2,C[2]),ct.write_shift(2,0|(C[0].hidden?0:2)),ct.write_shift(2,cc),ct.write_shift(2,R.length),ct.write_shift(1,0),ct.write_shift(R.length,R,"sbcs"),ct.l++,t.push(ct)});var p=ne(80);p.write_shift(2,15),p.write_shift(2,61442),p.write_shift(4,n+p.length-8),p.write_shift(2,16),p.write_shift(2,61448),p.write_shift(4,8),p.write_shift(4,i.length+1),p.write_shift(4,cc),p.write_shift(2,15),p.write_shift(2,61443),p.write_shift(4,n+48),p.write_shift(2,15),p.write_shift(2,61444),p.write_shift(4,40),p.write_shift(2,1),p.write_shift(2,61449),p.write_shift(4,16),p.l+=16,p.write_shift(2,2),p.write_shift(2,61450),p.write_shift(4,8),p.write_shift(4,s),p.write_shift(4,5),Re(e,236,o?Es([p,o]):p),e.push(r.end()),t.forEach(function(C){Re(e,28,C)}),Ll.push([s,i.length+1,cc]),++cc}(n,nt):EK(n,nt),D&&Re(n,574,function FLt(e){var i=ne(18),t=1718;return e&&e.RTL&&(t|=64),i.write_shift(2,t),i.write_shift(4,0),i.write_shift(4,64),i.write_shift(4,0),i.write_shift(4,0),i}((o.Views||[])[0])),D&&(s["!merges"]||[]).length&&Re(n,229,function gNt(e){var i=ne(2+8*e.length);i.write_shift(2,e.length);for(var t=0;t<e.length;++t)bQ(e[t],i);return i}(s["!merges"])),D&&function r9t(e,i){for(var t=0;t<i["!links"].length;++t){var n=i["!links"][t];Re(e,440,TNt(n)),n[1].Tooltip&&Re(e,2048,_Nt(n))}delete i["!links"]}(n,s),Re(n,442,pQ(Mt)),D&&function i9t(e,i){var t=ne(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Re(e,2151,t),(t=ne(39)).write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),bQ(Un(i["!ref"]||"A1"),t),t.write_shift(4,4),Re(e,2152,t)}(n,s),Re(n,10),n.end()}function l9t(e,i,t){var n=Za(),r=(e||{}).Workbook||{},s=r.Sheets||[],o=r.WBProps||{},p=8==t.biff,C=5==t.biff;Re(n,2057,AF(0,5,t)),"xla"==t.bookType&&Re(n,135),Re(n,225,p?Ol(1200):null),Re(n,193,function tLt(e,i){i||(i=ne(e));for(var t=0;t<e;++t)i.write_shift(1,0);return i}(2)),C&&Re(n,191),C&&Re(n,192),Re(n,226),Re(n,92,function wLt(e,i){var t=!i||8==i.biff,n=ne(t?112:54);for(n.write_shift(8==i.biff?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}(0,t)),Re(n,66,Ol(p?1200:1252)),p&&Re(n,353,Ol(0)),p&&Re(n,448),Re(n,317,function PNt(e){for(var i=ne(2*e),t=0;t<e;++t)i.write_shift(2,t+1);return i}(e.SheetNames.length)),p&&e.vbaraw&&Re(n,211),p&&e.vbaraw&&Re(n,442,pQ(o.CodeName||"ThisWorkbook")),Re(n,156,Ol(17)),Re(n,25,to(!1)),Re(n,18,to(!1)),Re(n,19,Ol(0)),p&&Re(n,431,to(!1)),p&&Re(n,444,Ol(0)),Re(n,61,function kLt(){var e=ne(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),Re(n,64,to(!1)),Re(n,141,Ol(0)),Re(n,34,to("true"==function z8t(e){return e.Workbook&&e.Workbook.WBProps&&function ar(e){switch(e){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),Re(n,14,to(!0)),p&&Re(n,439,to(!1)),Re(n,218,Ol(0)),function t9t(e,i,t){Re(e,49,function NLt(e,i){var t=e.name||"Arial",n=i&&5==i.biff,s=ne(n?15+t.length:16+2*t.length);return s.write_shift(2,20*(e.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}(n,0,t),function e9t(e,i,t){i&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&Re(e,1054,HLt(r,i[r],t))})}(n,e.SSF,t),function n9t(e,i){for(var t=0;t<16;++t)Re(e,224,EQ({numFmtId:0,style:!0},0,i));i.cellXfs.forEach(function(n){Re(e,224,EQ(n,0,i))})}(n,t),p&&Re(n,352,to(!1));var R=n.end(),F=Za();p&&Re(F,140,function SNt(e){return e||(e=ne(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),p&&Ll.length&&Re(F,235,function J6t(){var e=ne(82+8*Ll.length);e.write_shift(2,15),e.write_shift(2,61440),e.write_shift(4,74+8*Ll.length),e.write_shift(2,0),e.write_shift(2,61446),e.write_shift(4,16+8*Ll.length),e.write_shift(4,cc),e.write_shift(4,Ll.length+1);for(var i=0,t=0;t<Ll.length;++t)i+=Ll[t]&&Ll[t][1]||0;return e.write_shift(4,i),e.write_shift(4,Ll.length),Ll.forEach(function(n){e.write_shift(4,n[0]),e.write_shift(4,n[2])}),e.write_shift(2,51),e.write_shift(2,61451),e.write_shift(4,18),e.write_shift(2,191),e.write_shift(4,524296),e.write_shift(2,385),e.write_shift(4,134217793),e.write_shift(2,448),e.write_shift(4,134217792),e.write_shift(2,64),e.write_shift(2,61726),e.write_shift(4,16),e.write_shift(4,134217741),e.write_shift(4,134217740),e.write_shift(4,134217751),e.write_shift(4,268435703),e}()),p&&t.Strings&&function Y6t(e,i,t,n){var r=n||(t||[]).length||0;if(r<=8224)return Re(e,i,t,r);var s=i;if(!isNaN(s)){for(var o=t.parts||[],p=0,C=0,D=0;D+(o[p]||8224)<=8224;)D+=o[p]||8224,p++;var R=e.next(4);for(R.write_shift(2,s),R.write_shift(2,D),e.push(t.slice(C,C+D)),C+=D;C<r;){for((R=e.next(4)).write_shift(2,60),D=0;D+(o[p]||8224)<=8224;)D+=o[p]||8224,p++;R.write_shift(2,D),e.push(t.slice(C,C+D)),C+=D}}}(F,252,function SLt(e,i){var t=ne(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=nLt(e[r]);var s=Es([t].concat(n));return s.parts=[t.length].concat(n.map(function(o){return o.length})),s}(t.Strings)),Re(F,10);var B=F.end(),V=Za(),X=0,J=0;for(J=0;J<e.SheetNames.length;++J)X+=(p?12:11)+(p?2:1)*e.SheetNames[J].length;var Q=R.length+X+B.length;for(J=0;J<e.SheetNames.length;++J)Re(V,133,_Lt({pos:Q,hs:(s[J]||{}).Hidden||0,dt:0,name:e.SheetNames[J]},t)),Q+=i[J].length;var ct=V.end();if(X!=ct.length)throw new Error("BS8 "+X+" != "+ct.length);var lt=[];return R.length&&lt.push(R),ct.length&&lt.push(ct),B.length&&lt.push(B),Es(lt)}function SK(e,i){for(var t=0;t<=e.SheetNames.length;++t){var n=e.Sheets[e.SheetNames[t]];n&&n["!ref"]&&ra(n["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}var s=i||{};switch(s.biff||2){case 8:case 5:return function c9t(e,i){var t=i||{},n=[];e&&!e.SSF&&(e.SSF=ur(Ri)),e&&e.SSF&&(av(),Vy(e.SSF),t.revssf=U_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),cc=1,Ll=[],t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,iO(t),t.cellXfs=[],Ah(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)n[n.length]=o9t(r,t,e);return n.unshift(l9t(e,n,t)),Es(n)}(e,i);case 4:case 3:case 2:return function Z6t(e,i){for(var t=i||{},n=Za(),r=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==t.sheet&&(r=s);if(0==r&&t.sheet&&e.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);Re(n,4==t.biff?1033:3==t.biff?521:9,AF(0,16,t)),((e.Workbook||{}).WBProps||{}).date1904&&Re(n,34,to(!0)),t.cellXfs=[{numFmtId:0}],t._BIFF2FmtTable=["General"],t._Fonts=[];var o=Za();return function K6t(e,i,t,n,r){var s=null!=i["!data"],o=Un(i["!ref"]||"A1"),p="",C=[];if(o.e.c>255||o.e.r>16383){if(n.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383)}for(var D=(((r||{}).Workbook||{}).WBProps||{}).date1904,R=[],F=[],B=o.s.c;B<=o.e.c;++B)C[B]=cn(B);for(var V=o.s.r;V<=o.e.r;++V)for(s&&(R=i["!data"][V]||[]),p=Rn(V),B=o.s.c;B<=o.e.c;++B){var X=s?R[B]:i[C[B]+p];X&&(Q6t(e,X,V,B,n,D),X.c&&F.push([X.c,V,B]))}EK(e,F)}(o,e.Sheets[e.SheetNames[r]],0,t,e),t._BIFF2FmtTable.forEach(function(p){t.biff<=3?Re(n,30,function XLt(e){var i=ne(1+e.length);return i.write_shift(1,e.length),i.write_shift(e.length,e,"sbcs"),i}(p)):Re(n,1054,function jLt(e){var i=ne(3+e.length);return i.l+=2,i.write_shift(1,e.length),i.write_shift(e.length,e,"sbcs"),i}(p))}),t.cellXfs.forEach(function(p){switch(t.biff){case 2:Re(n,67,function tNt(e){var i=ne(4);return i.l+=2,i.write_shift(1,e.numFmtId),i.l++,i}(p));break;case 3:Re(n,579,SQ(p));break;case 4:Re(n,1091,eNt(p))}}),delete t._BIFF2FmtTable,delete t.cellXfs,delete t._Fonts,n.push(o.end()),Re(n,10),n.end()}(e,i)}throw new Error("invalid type "+s.bookType+" for BIFF")}function DK(e,i,t,n){for(var r=e["!merges"]||[],s=[],o={},p=null!=e["!data"],C=i.s.c;C<=i.e.c;++C){for(var D=0,R=0,F=0;F<r.length;++F)if(!(r[F].s.r>t||r[F].s.c>C||r[F].e.r<t||r[F].e.c<C)){if(r[F].s.r<t||r[F].s.c<C){D=-1;break}D=r[F].e.r-r[F].s.r+1,R=r[F].e.c-r[F].s.c+1;break}if(!(D<0)){var B=cn(C)+Rn(t),V=p?(e["!data"][t]||[])[C]:e[B],X=V&&null!=V.v&&(V.h||Hy(V.w||(Zc(V),V.w)||""))||"";o={},D>1&&(o.rowspan=D),R>1&&(o.colspan=R),n.editable?X='<span contenteditable="true">'+X+"</span>":V&&(o["data-t"]=V&&V.t||"z",null!=V.v&&(o["data-v"]=Hy(V.v instanceof Date?V.v.toISOString():V.v)),null!=V.z&&(o["data-z"]=V.z),V.l&&"#"!=(V.l.Target||"#").charAt(0)&&(X='<a href="'+Hy(V.l.Target)+'">'+X+"</a>")),o.id=(n.id||"sjs")+"-"+B,s.push(We("td",X,o))}}return"<tr>"+s.join("")+"</tr>"}var IK='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',MK="</body></html>";function kK(e,i){var t=i||{},r=null!=t.footer?t.footer:MK,s=[null!=t.header?t.header:IK],o=ra(e["!ref"]||"A1");if(s.push(function RK(e,i,t){return[].join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}(0,0,t)),e["!ref"])for(var p=o.s.r;p<=o.e.r;++p)s.push(DK(e,o,p,t));return s.push("</table>"+r),s.join("")}var m9t=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),i="<office:document-styles "+Wy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ss+i}}();function p9t(e,i){var t="number",n="",r={"style:name":i},s="",o=0;t:if((e=e.replace(/"[$]"/g,"$")).indexOf(";")>-1&&(console.error("Unsupported ODS Style Map exported.  Using first branch of "+e),e=e.slice(0,e.indexOf(";"))),"@"!=e){if(e.indexOf(/\$/)>-1&&(t="currency"),'"'==e[o]){for(s="";'"'!=e[++o]||'"'==e[++o];)s+=e[o];"*"==e[1+--o]?(o++,n+="<number:fill-character>"+gn(s.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+gn(s.replace(/""/g,'"'))+"</number:text>",e=e.slice(o+1),o=0}var p=e.match(/# (\?+)\/(\?+)/);if(p)n+=We("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":p[1].length,"number:max-denominator-value":Math.max(+p[1].replace(/./g,"9"),+p[2].replace(/./g,"9"))});else if(p=e.match(/# (\?+)\/(\d+)/))n+=We("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":p[1].length,"number:denominator-value":+p[2]});else if(p=e.match(/\b(\d+)(|\.\d+)%/))t="percentage",n+=We("number:number",null,{"number:decimal-places":p[2]&&p.length-1||0,"number:min-decimal-places":p[2]&&p.length-1||0,"number:min-integer-digits":p[1].length})+"<number:text>%</number:text>";else{var C=!1;if(["y","m","d"].indexOf(e[0])>-1){t="date";e:for(;o<e.length;++o)switch(s=e[o].toLowerCase()){case"h":case"s":C=!0,--o;break e;case"m":i:for(var D=o+1;D<e.length;++D)switch(e[D]){case"y":case"d":break i;case"h":case"s":C=!0,--o;break e}case"y":case"d":for(;(e[++o]||"").toLowerCase()==s[0];)s+=s[0];switch(--o,s){case"y":case"yy":n+="<number:year/>";break;case"yyy":case"yyyy":n+='<number:year number:style="long"/>';break;case"mmmmm":console.error("ODS has no equivalent of format |mmmmm|");case"m":case"mm":case"mmm":case"mmmm":n+='<number:month number:style="'+(s.length%2?"short":"long")+'" number:textual="'+(s.length>=3?"true":"false")+'"/>';break;case"d":case"dd":n+='<number:day number:style="'+(s.length%2?"short":"long")+'"/>';break;case"ddd":case"dddd":n+='<number:day-of-week number:style="'+(s.length%2?"short":"long")+'"/>'}break;case'"':for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+gn(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"\\":n+="<number:text>"+gn(s=e[++o])+"</number:text>";break;case"/":case":":n+="<number:text>"+gn(s)+"</number:text>";break;default:console.error("unrecognized character "+s+" in ODF format "+e)}if(!C)break t;e=e.slice(o+1),o=0}if(e.match(/^\[?[hms]/))for("number"==t&&(t="time"),e.match(/\[/)&&(e=e.replace(/[\[\]]/g,""),r["number:truncate-on-overflow"]="false");o<e.length;++o)switch(s=e[o].toLowerCase()){case"h":case"m":case"s":for(;(e[++o]||"").toLowerCase()==s[0];)s+=s[0];switch(--o,s){case"h":case"hh":n+='<number:hours number:style="'+(s.length%2?"short":"long")+'"/>';break;case"m":case"mm":n+='<number:minutes number:style="'+(s.length%2?"short":"long")+'"/>';break;case"s":case"ss":if("."==e[o+1])do{s+=e[o+1],++o}while("0"==e[o+1]);n+='<number:seconds number:style="'+(s.match("ss")?"long":"short")+'"'+(s.match(/\./)?' number:decimal-places="'+(s.match(/0+/)||[""])[0].length+'"':"")+"/>"}break;case'"':for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+gn(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"/":case":":n+="<number:text>"+gn(s)+"</number:text>";break;case"a":if("a/p"==e.slice(o,o+3).toLowerCase()){n+="<number:am-pm/>",o+=2;break}if("am/pm"==e.slice(o,o+5).toLowerCase()){n+="<number:am-pm/>",o+=4;break}default:console.error("unrecognized character "+s+" in ODF format "+e)}else{if(e.indexOf(/\$/)>-1&&(t="currency"),"$"==e[0]&&(n+='<number:currency-symbol number:language="en" number:country="US">$</number:currency-symbol>',e=e.slice(1),o=0),'"'==e[o=0]){for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];"*"==e[1+--o]?(o++,n+="<number:fill-character>"+gn(s.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+gn(s.replace(/""/g,'"'))+"</number:text>",e=e.slice(o+1),o=0}var R=e.match(/([#0][0#,]*)(\.[0#]*|)(E[+]?0*|)/i);if(R&&R[0]){var F=R[1].replace(/,/g,"");n+="<number:"+(R[3]?"scientific-":"")+'number number:min-integer-digits="'+(-1==F.indexOf("0")?"0":F.length-F.indexOf("0"))+'"'+(R[0].indexOf(",")>-1?' number:grouping="true"':"")+(R[2]&&' number:decimal-places="'+(R[2].length-1)+'"'||' number:decimal-places="0"')+(R[3]&&R[3].indexOf("+")>-1?' number:forced-exponent-sign="true"':"")+(R[3]?' number:min-exponent-digits="'+R[3].match(/0+/)[0].length+'"':"")+"></number:"+(R[3]?"scientific-":"")+"number>",o=R.index+R[0].length}else console.error("Could not find numeric part of "+e);if('"'==e[o]){for(s="";'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+gn(s.replace(/""/g,'"'))+"</number:text>"}}}}else t="text",n="<number:text-content/>";return n?We("number:"+t+"-style",n,r):(console.error("Could not generate ODS number format for |"+e+"|"),"")}function UK(e,i,t){for(var n=[],r=0;r<e.length;++r){var s=e[r];s&&s.Sheet==(-1==t?null:t)&&n.push(s)}return n.length?"      <table:named-expressions>\n"+n.map(function(o){var p=(-1==t?"$":"")+hK(o.Ref);return"        "+We("table:named-range",null,{"table:name":o.Name,"table:cell-range-address":p,"table:base-cell-address":p.replace(/[\.][^\.]*$/,".$A$1")})}).join("\n")+"\n      </table:named-expressions>\n":""}var zK=function(){var e=function(r,s){return gn(r).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,s?"<text:line-break/>":"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},i="          <table:table-cell />\n",t=function(r,s,o,p,C,D){var R=[];R.push('      <table:table table:name="'+gn(s.SheetNames[o])+'" table:style-name="ta1">\n');var F=0,B=0,V=ra(r["!ref"]||"A1"),X=r["!merges"]||[],J=0,Q=null!=r["!data"];if(r["!cols"])for(B=0;B<=V.e.c;++B)R.push("        <table:table-column"+(r["!cols"][B]?' table:style-name="co'+r["!cols"][B].ods+'"':"")+"></table:table-column>\n");var ct=r["!rows"]||[];for(F=0;F<V.s.r;++F)R.push("        <table:table-row"+(ct[F]?' table:style-name="ro'+ct[F].ods+'"':"")+"></table:table-row>\n");for(;F<=V.e.r;++F){for(R.push("        <table:table-row"+(ct[F]?' table:style-name="ro'+ct[F].ods+'"':"")+">\n"),B=0;B<V.s.c;++B)R.push(i);for(;B<=V.e.c;++B){var lt=!1,wt={},Mt="";for(J=0;J!=X.length;++J)if(!(X[J].s.c>B||X[J].s.r>F||X[J].e.c<B||X[J].e.r<F)){(X[J].s.c!=B||X[J].s.r!=F)&&(lt=!0),wt["table:number-columns-spanned"]=X[J].e.c-X[J].s.c+1,wt["table:number-rows-spanned"]=X[J].e.r-X[J].s.r+1;break}if(lt)R.push("          <table:covered-table-cell/>\n");else{var Bt=Cn({r:F,c:B}),pt=Q?(r["!data"][F]||[])[B]:r[Bt];if(pt&&pt.f&&(wt["table:formula"]=gn(W5t(pt.f)),pt.F&&pt.F.slice(0,Bt.length)==Bt)){var ft=ra(pt.F);wt["table:number-matrix-columns-spanned"]=ft.e.c-ft.s.c+1,wt["table:number-matrix-rows-spanned"]=ft.e.r-ft.s.r+1}if(pt){switch(pt.t){case"b":Mt=pt.v?"TRUE":"FALSE",wt["office:value-type"]="boolean",wt["office:boolean-value"]=pt.v?"true":"false";break;case"n":Mt=pt.w||String(pt.v||0),wt["office:value-type"]="float",wt["office:value"]=pt.v||0;break;case"s":case"str":Mt=null==pt.v?"":pt.v,wt["office:value-type"]="string";break;case"d":Mt=pt.w||Jr(pt.v,D).toISOString(),wt["office:value-type"]="date",wt["office:date-value"]=Jr(pt.v,D).toISOString(),wt["table:style-name"]="ce1";break;default:R.push(i);continue}var yt=e(Mt);if(pt.l&&pt.l.Target){var bt=pt.l.Target;"#"!=(bt="#"==bt.charAt(0)?"#"+hK(bt.slice(1)):bt).charAt(0)&&!bt.match(/^\w+:/)&&(bt="../"+bt),yt=We("text:a",yt,{"xlink:href":bt.replace(/&/g,"&amp;")})}C[pt.z]&&(wt["table:style-name"]="ce"+C[pt.z].slice(1));var _t=We("text:p",yt,{});if(pt.c){for(var At="",Et="",Ye={},Ie=0;Ie<pt.c.length;++Ie)!At&&pt.c[Ie].a&&(At=pt.c[Ie].a),Et+="<text:p>"+e(pt.c[Ie].t)+"</text:p>";pt.c.hidden||(Ye["office:display"]=!0),_t=We("office:annotation",Et,Ye)+_t}R.push("          "+We("table:table-cell",_t,wt)+"\n")}else R.push(i)}}R.push("        </table:table-row>\n")}return(s.Workbook||{}).Names&&R.push(UK(s.Workbook.Names,0,o)),R.push("      </table:table>\n"),R.join("")};return function(s,o){var p=[Ss],C=Wy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),D=Wy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==o.bookType?(p.push("<office:document"+C+D+">\n"),p.push($$().replace(/<office:document-meta[^<>]*?>/,"").replace(/<\/office:document-meta>/,"")+"\n")):p.push("<office:document-content"+C+">\n");var R=function(r,s){r.push(" <office:automatic-styles>\n");var o=0;s.SheetNames.map(function(R){return s.Sheets[R]}).forEach(function(R){if(R&&R["!cols"])for(var F=0;F<R["!cols"].length;++F)if(R["!cols"][F]){var B=R["!cols"][F];if(null==B.width&&null==B.wpx&&null==B.wch)continue;Eh(B),B.ods=o;var V=R["!cols"][F].wpx+"px";r.push('  <style:style style:name="co'+o+'" style:family="table-column">\n'),r.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+V+'"/>\n'),r.push("  </style:style>\n"),++o}});var p=0;s.SheetNames.map(function(R){return s.Sheets[R]}).forEach(function(R){if(R&&R["!rows"])for(var F=0;F<R["!rows"].length;++F)if(R["!rows"][F]){R["!rows"][F].ods=p;var B=R["!rows"][F].hpx+"px";r.push('  <style:style style:name="ro'+p+'" style:family="table-row">\n'),r.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+B+'"/>\n'),r.push("  </style:style>\n"),++p}}),r.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),r.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),r.push("  </style:style>\n"),r.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),r.push('   <number:month number:style="long"/>\n'),r.push("   <number:text>/</number:text>\n"),r.push('   <number:day number:style="long"/>\n'),r.push("   <number:text>/</number:text>\n"),r.push("   <number:year/>\n"),r.push("  </number:date-style>\n");var C={},D=69;return s.SheetNames.map(function(R){return s.Sheets[R]}).forEach(function(R){if(R){var F=null!=R["!data"];if(R["!ref"])for(var B=ra(R["!ref"]),V=0;V<=B.e.r;++V)for(var X=0;X<=B.e.c;++X){var J=F?(R["!data"][V]||[])[X]:R[Cn({r:V,c:X})];if(J&&J.z&&"general"!=J.z.toLowerCase()&&!C[J.z]){var Q=p9t(J.z,"N"+D);Q&&(C[J.z]="N"+D,++D,r.push(Q+"\n"))}}}}),r.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),Wr(C).forEach(function(R){r.push('<style:style style:name="ce'+C[R].slice(1)+'" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="'+C[R]+'"/>\n')}),r.push(" </office:automatic-styles>\n"),C}(p,s);p.push("  <office:body>\n"),p.push("    <office:spreadsheet>\n"),((s.Workbook||{}).WBProps||{}).date1904&&p.push('      <table:calculation-settings table:case-sensitive="false" table:search-criteria-must-apply-to-whole-cell="true" table:use-wildcards="true" table:use-regular-expressions="false" table:automatic-find-labels="false">\n        <table:null-date table:date-value="1904-01-01"/>\n      </table:calculation-settings>\n');for(var F=0;F!=s.SheetNames.length;++F)p.push(t(s.Sheets[s.SheetNames[F]],s,F,0,R,((s.Workbook||{}).WBProps||{}).date1904));return(s.Workbook||{}).Names&&p.push(UK(s.Workbook.Names,0,-1)),p.push("    </office:spreadsheet>\n"),p.push("  </office:body>\n"),p.push("fods"==o.bookType?"</office:document>":"</office:document-content>"),p.join("")}}();function GK(e,i){if("fods"==i.bookType)return zK(e,i);var t=qP(),n="",r=[],s=[];return ln(t,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),ln(t,n="content.xml",zK(e,i)),r.push([n,"text/xml"]),s.push([n,"ContentFile"]),ln(t,n="styles.xml",m9t(e,i)),r.push([n,"text/xml"]),s.push([n,"StylesFile"]),ln(t,n="meta.xml",Ss+$$()),r.push([n,"text/xml"]),s.push([n,"MetadataFile"]),ln(t,n="manifest.rdf",function VOt(e){var i=[Ss];i.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var t=0;t!=e.length;++t)i.push(Y$(e[t][0],e[t][1])),i.push(BOt("",e[t][0]));return i.push(Y$("","Document","pkg")),i.push("</rdf:RDF>"),i.join("")}(s)),r.push([n,"application/rdf+xml"]),ln(t,n="META-INF/manifest.xml",function NOt(e){var i=[Ss];i.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),i.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var t=0;t<e.length;++t)i.push('  <manifest:file-entry manifest:full-path="'+e[t][0]+'" manifest:media-type="'+e[t][1]+'"/>\n');return i.push("</manifest:manifest>"),i.join("")}(r)),t}var Ds=function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":("function"==typeof Buffer.from?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}}();function ou(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function dc(e){return typeof TextDecoder<"u"?(new TextDecoder).decode(e):hr(Yc(e))}function _o(e){return typeof TextEncoder<"u"?(new TextEncoder).encode(e):wo(Kc(e))}function Dh(e){for(var i=0,t=0;t<e.length;++t)i+=e[t].length;var n=new Uint8Array(i),r=0;for(t=0;t<e.length;++t){var s=e[t],o=s.length;if(o<250)for(var p=0;p<o;++p)n[r++]=s[p];else n.set(s,r),r+=o}return n}function gb(e,i){var t=i.l,n=127&e[t];t:if(e[t++]>=128&&(n|=(127&e[t])<<7,e[t++]<128||(n|=(127&e[t])<<14,e[t++]<128)||(n|=(127&e[t])<<21,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,28),++t,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,35),++t,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,42),++t,e[t++]<128)))break t;return i.l=t,n}function Ei(e){var i=new Uint8Array(7);i[0]=127&e;var t=1;t:if(e>127){if(i[t-1]|=128,i[t]=e>>7&127,++t,e<=16383||(i[t-1]|=128,i[t]=e>>14&127,++t,e<=2097151)||(i[t-1]|=128,i[t]=e>>21&127,++t,e<=268435455)||(i[t-1]|=128,i[t]=e/256>>>21&127,++t,e<=34359738367)||(i[t-1]|=128,i[t]=e/65536>>>21&127,++t,e<=4398046511103))break t;i[t-1]|=128,i[t]=e/16777216>>>21&127,++t}return i[Ds](0,t)}function HK(e){for(var i={l:0},t=[];i.l<e.length;)t.push(gb(e,i));return t}function WK(e){return Dh(e.map(function(i){return Ei(i)}))}function kn(e){var i=0,t=127&e[i];return e[i++]<128||(t|=(127&e[i])<<7,e[i++]<128)||(t|=(127&e[i])<<14,e[i++]<128)||(t|=(127&e[i])<<21,e[i++]<128)||(t|=(15&e[i])<<28),t}function li(e){for(var i=[],t={l:0};t.l<e.length;){var n=t.l,r=gb(e,t),s=7&r;r=r/8|0;var o,p=t.l;switch(s){case 0:for(;e[p++]>=128;);o=e[Ds](t.l,p),t.l=p;break;case 1:o=e[Ds](p,p+8),t.l=p+8;break;case 2:var C=gb(e,t);o=e[Ds](t.l,t.l+C),t.l+=C;break;case 5:o=e[Ds](p,p+4),t.l=p+4;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(n))}var D={data:o,type:s};null==i[r]&&(i[r]=[]),i[r].push(D)}return i}function Mi(e){var i=[];return e.forEach(function(t,n){0!=n&&t.forEach(function(r){r.data&&(i.push(Ei(8*n+r.type)),2==r.type&&i.push(Ei(r.data.length)),i.push(r.data))})}),Dh(i)}function um(e,i){return e?.map(function(t){return i(t.data)})||[]}function vb(e){for(var i,t=[],n={l:0};n.l<e.length;){var r=gb(e,n),s=li(e[Ds](n.l,n.l+r));n.l+=r;var o={id:kn(s[1][0].data),messages:[]};s[2].forEach(function(p){var C=li(p.data),D=kn(C[3][0].data);o.messages.push({meta:C,data:e[Ds](n.l,n.l+D)}),n.l+=D}),null!=(i=s[3])&&i[0]&&(o.merge=kn(s[3][0].data)>>>0>0),t.push(o)}return t}function vv(e){var i=[];return e.forEach(function(t){var n=[[],[{data:Ei(t.id),type:0}],[]];null!=t.merge&&(n[3]=[{data:Ei(+!!t.merge),type:0}]);var r=[];t.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:Ei(o.data.length)}],n[2].push({data:Mi(o.meta),type:2})});var s=Mi(n);i.push(Ei(s.length)),i.push(s),r.forEach(function(o){return i.push(o)})}),Dh(i)}function x9t(e,i){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var t={l:0},n=gb(i,t),r=[],s=t.l;s<i.length;){var o=3&i[s];if(0!=o){var D=0,R=0;if(1==o?(R=4+(i[s]>>2&7),D=(224&i[s++])<<3,D|=i[s++]):(R=1+(i[s++]>>2),2==o?(D=i[s]|i[s+1]<<8,s+=2):(D=(i[s]|i[s+1]<<8|i[s+2]<<16|i[s+3]<<24)>>>0,s+=4)),0==D)throw new Error("Invalid offset 0");for(var F=r.length-1,B=D;F>=0&&B>=r[F].length;)B-=r[F].length,--F;if(F<0){if(0!=B)throw new Error("Invalid offset beyond length");B=r[F=0].length}if(R<B)r.push(r[F][Ds](r[F].length-B,r[F].length-B+R));else{for(B>0&&(r.push(r[F][Ds](r[F].length-B)),R-=B),++F;R>=r[F].length;)r.push(r[F]),R-=r[F].length,++F;R&&r.push(r[F][Ds](0,R))}r.length>25&&(r=[Dh(r)])}else{var p=i[s++]>>2;if(p<60)++p;else{var C=p-59;p=i[s],C>1&&(p|=i[s+1]<<8),C>2&&(p|=i[s+2]<<16),C>3&&(p|=i[s+3]<<24),p>>>=0,p++,s+=C}r.push(i[Ds](s,s+p)),s+=p}}for(var V=0,X=0;X<r.length;++X)V+=r[X].length;if(V!=n)throw new Error("Unexpected length: ".concat(V," != ").concat(n));return r}function xb(e){Array.isArray(e)&&(e=new Uint8Array(e));for(var i=[],t=0;t<e.length;){var n=e[t++],r=e[t]|e[t+1]<<8|e[t+2]<<16;i.push.apply(i,x9t(n,e[Ds](t+=3,t+r))),t+=r}if(t!==e.length)throw new Error("data is not a valid framed stream!");return 1==i.length?i[0]:Dh(i)}function xv(e){for(var i=[],t=0;t<e.length;){var n=Math.min(e.length-t,268435455),r=new Uint8Array(4);i.push(r);var s=Ei(n),o=s.length;i.push(s),n<=60?(o++,i.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,i.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,i.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,i.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,i.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),i.push(e[Ds](t,t+n)),o+=n,r[0]=0,r[1]=255&o,r[2]=o>>8&255,r[3]=o>>16&255,t+=n}return Dh(i)}function KF(e,i){var t=new Uint8Array(32),n=ou(t),r=12,s=0;switch(t[0]=5,e.t){case"n":if(e.z&&ll(e.z)){t[1]=5,n.setFloat64(r,(iu(e.v+1462).getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break}t[1]=2,function v9t(e,i,t){var n=Math.floor(0==t?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-16,r=t/Math.pow(10,n-6176);e[i+15]|=n>>7,e[i+14]|=(127&n)<<1;for(var s=0;r>=1;++s,r/=256)e[i+s]=255&r;e[i+15]|=t>=0?0:128}(t,r,e.v),s|=1,r+=16;break;case"b":t[1]=6,n.setFloat64(r,e.v?1:0,!0),s|=2,r+=8;break;case"s":var o=null==e.v?"":String(e.v);if(e.l){var p=i.rsst.findIndex(function(D){var R;return D.v==o&&D.l==(null==(R=e.l)?void 0:R.Target)});-1==p&&(i.rsst[p=i.rsst.length]={v:o,l:e.l.Target}),t[1]=9,n.setUint32(r,p,!0),s|=16,r+=4}else{var C=i.sst.indexOf(o);-1==C&&(i.sst[C=i.sst.length]=o),t[1]=3,n.setUint32(r,C,!0),s|=8,r+=4}break;case"d":t[1]=5,n.setFloat64(r,(e.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break;case"z":t[1]=0;break;default:throw"unsupported cell type "+e.t}return e.c&&(i.cmnt.push(function S9t(e){for(var i={a:"",t:"",replies:[]},t=0;t<e.length;++t)0==t?(i.a=e[t].a,i.t=e[t].t):i.replies.push({a:e[t].a,t:e[t].t});return i}(e.c)),n.setUint32(r,i.cmnt.length-1,!0),s|=524288,r+=4),n.setUint32(8,s,!0),t[Ds](0,r)}function ZF(e,i){var t=new Uint8Array(32),n=ou(t),r=12,s=0,o="";switch(t[0]=4,e.t){case"n":case"b":case"d":case"e":case"z":break;case"s":if(o=null==e.v?"":String(e.v),e.l){var p=i.rsst.findIndex(function(D){var R;return D.v==o&&D.l==(null==(R=e.l)?void 0:R.Target)});-1==p&&(i.rsst[p=i.rsst.length]={v:o,l:e.l.Target}),t[1]=9,n.setUint32(r,p,!0),s|=512,r+=4}break;default:throw"unsupported cell type "+e.t}switch(e.c&&(n.setUint32(r,i.cmnt.length-1,!0),s|=4096,r+=4),e.t){case"n":t[1]=2,n.setFloat64(r,e.v,!0),s|=32,r+=8;break;case"b":t[1]=6,n.setFloat64(r,e.v?1:0,!0),s|=32,r+=8;break;case"s":if(o=null==e.v?"":String(e.v),!e.l){var C=i.sst.indexOf(o);-1==C&&(i.sst[C=i.sst.length]=o),t[1]=3,n.setUint32(r,C,!0),s|=16,r+=4}break;case"d":t[1]=5,n.setFloat64(r,(e.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=64,r+=8;break;case"z":t[1]=0;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),t[Ds](0,r)}function Pn(e){return kn(li(e)[1][0].data)}function ro(e){return Mi([[],[{type:0,data:Ei(e)}]])}function so(e,i){var t,n=null!=(t=e.messages[0].meta[5])&&t[0]?HK(e.messages[0].meta[5][0].data):[];-1==n.indexOf(i)&&(n.push(i),e.messages[0].meta[5]=[{type:2,data:WK(n)}])}function lu(e,i){var t,n=null!=(t=e.messages[0].meta[5])&&t[0]?HK(e.messages[0].meta[5][0].data):[];e.messages[0].meta[5]=[{type:2,data:WK(n.filter(function(r){return r!=i}))}]}function R9t(e,i,t){var n,r,s,o=[[],[{type:0,data:Ei(0)}],[{type:0,data:Ei(0)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Ei(5)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Ei(1)}]];if(null==(n=o[6])||!n[0]||null==(r=o[7])||!r[0])throw"Mutation only works on post-BNC storages!";var p=0;if(o[7][0].data.length<2*e.length){var C=new Uint8Array(2*e.length);C.set(o[7][0].data),o[7][0].data=C}if(o[4][0].data.length<2*e.length){var D=new Uint8Array(2*e.length);D.set(o[4][0].data),o[4][0].data=D}for(var R=ou(o[7][0].data),F=0,B=[],V=ou(o[4][0].data),X=0,J=[],Q=t?4:1,nt=0;nt<e.length;++nt)if(null!=e[nt]&&("z"!=e[nt].t||null!=(s=e[nt].c)&&s.length)&&"e"!=e[nt].t){var ct,lt;switch(R.setUint16(2*nt,F/Q,!0),V.setUint16(2*nt,X/Q,!0),e[nt].t){case"d":if(e[nt].v instanceof Date){ct=KF(e[nt],i),lt=ZF(e[nt],i);break}ct=KF(e[nt],i),lt=ZF(e[nt],i);break;case"s":case"n":case"b":case"z":ct=KF(e[nt],i),lt=ZF(e[nt],i);break;default:throw new Error("Unsupported value "+e[nt])}B.push(ct),F+=ct.length,J.push(lt),X+=lt.length,++p}else R.setUint16(2*nt,65535,!0),V.setUint16(2*nt,65535);for(o[2][0].data=Ei(p),o[5][0].data=Ei(5);nt<o[7][0].data.length/2;++nt)R.setUint16(2*nt,65535,!0),V.setUint16(2*nt,65535,!0);return o[6][0].data=Dh(B),o[3][0].data=Dh(J),o[8]=[{type:0,data:Ei(t?1:0)}],o}function qF(e,i){return{meta:[[],[{type:0,data:Ei(e)}]],data:i}}function qc(e,i){i.last||(i.last=927262);for(var t=i.last;t<2e6;++t)if(!i[t])return i[i.last=t]=e,t;throw new Error("Too many messages")}function mE(e,i,t){return Mi([[],[{type:0,data:Ei(1)}],[],[{type:5,data:new Uint8Array(Float32Array.from([e/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([i/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([t/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([1]).buffer)}],[],[],[],[],[],[{type:0,data:Ei(1)}]])}function YK(e){switch(e){case 0:return mE(99,222,171);case 1:return mE(162,197,240);case 2:return mE(255,189,189)}return mE(255*Math.random(),255*Math.random(),255*Math.random())}function yr(e,i,t,n){var r=Oi.find(e,i[t].location);if(!r)throw"Could not find ".concat(i[t].location," in Numbers template");var s=vb(xb(r.content));n(s.find(function(p){return p.id==t}),s),r.content=xv(vv(s)),r.size=r.content.length}function td(e,i,t){var n=Oi.find(e,i[t].location);if(!n)throw"Could not find ".concat(i[t].location," in Numbers template");return vb(xb(n.content)).find(function(o){return o.id==t})}function tO(e,i,t){e[3].push({type:2,data:Mi([[],[{type:0,data:Ei(i)}],[{type:2,data:_o(t.replace(/-[\s\S]*$/,""))}],[{type:2,data:_o(t)}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Ei(0)}],[],[{type:0,data:Ei(0)}]])}),e[1]=[{type:0,data:Ei(Math.max(i+1,kn(e[1][0].data)))}]}function fm(e,i,t,n,r,s){s||(s=qc({deps:[],location:"",type:i},r));var o="".concat(n,"-").concat(s,".iwa");r[s].location="Root Entry"+o,Oi.utils.cfb_add(e,o,xv(vv([{id:s,messages:[qF(i,Mi(t))]}])));var p=o.replace(/^[\/]/,"").replace(/^Index\//,"").replace(/\.iwa$/,"");return yr(e,r,2,function(C){var D=li(C.messages[0].data);tO(D,s||0,p),C.messages[0].data=Mi(D)}),s}function zo(e,i,t,n){var r=i[t].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=e[3].findIndex(function(p){var C,D,R=li(p.data);return null!=(C=R[3])&&C[0]?dc(R[3][0].data)==r:!(null==(D=R[2])||!D[0]||dc(R[2][0].data)!=r)}),o=li(e[3][s].data);o[6]||(o[6]=[]),(Array.isArray(n)?n:[n]).forEach(function(p){o[6].push({type:2,data:Mi([[],[{type:0,data:Ei(p)}]])})}),e[3][s].data=Mi(o)}var $K=!0;function iO(e){!function QK(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function ZK(e,i){e&&!e.SSF&&(e.SSF=ur(Ri)),e&&e.SSF&&(av(),Vy(e.SSF),i.revssf=U_(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,ub?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var t="xml",n=iBt.indexOf(i.bookType)>-1,r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};iO(i=i||{});var s=qP(),o="",p=0;if(i.cellXfs=[],Ah(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),ln(s,o="docProps/core.xml",K$(e.Props,i)),r.coreprops.push(o),or(i.rels,2,o,un.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var C=[],D=0;D<e.SheetNames.length;++D)2!=(e.Workbook.Sheets[D]||{}).Hidden&&C.push(e.SheetNames[D]);e.Props.SheetNames=C}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,ln(s,o,q$(e.Props)),r.extprops.push(o),or(i.rels,3,o,un.EXT_PROPS),e.Custprops!==e.Props&&Wr(e.Custprops||{}).length>0&&(ln(s,o="docProps/custom.xml",tQ(e.Custprops)),r.custprops.push(o),or(i.rels,4,o,un.CUST_PROPS));var R=["SheetJ5"];for(i.tcid=0,p=1;p<=e.SheetNames.length;++p){var F={"!id":{}},B=e.Sheets[e.SheetNames[p-1]];if(ln(s,o="xl/worksheets/sheet"+p+"."+t,yVt(p-1,i,e,F)),r.sheets.push(o),or(i.wbrels,-1,"worksheets/sheet"+p+"."+t,un.WS[0]),B){var X=B["!comments"],J=!1,Q="";if(X&&X.length>0){var nt=!1;X.forEach(function(ct){ct[1].forEach(function(lt){1==lt.T&&(nt=!0)})}),nt&&(ln(s,Q="xl/threadedComments/threadedComment"+p+".xml",$Q(X,R,i)),r.threadedcomments.push(Q),or(F,-1,"../threadedComments/threadedComment"+p+".xml",un.TCMNT)),ln(s,Q="xl/comments"+p+"."+t,X3t(X)),r.comments.push(Q),or(F,-1,"../comments"+p+"."+t,un.CMNT),J=!0}B["!legacy"]&&J&&ln(s,"xl/drawings/vmlDrawing"+p+".vml",jQ(p,B["!comments"])),delete B["!comments"],delete B["!legacy"]}F["!id"].rId1&&ln(s,Jy(o),hv(F))}return null!=i.Strings&&i.Strings.length>0&&(ln(s,o="xl/sharedStrings."+t,function s4t(e,i){if(!i.bookSST)return"";var t=[Ss];t[t.length]=We("sst",null,{xmlns:Kf[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var r=e[n],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),"string"!=typeof r.t&&(r.t=String(r.t)),r.t.match(r4t)&&(s+=' xml:space="preserve"'),s+=">"+gn(r.t)+"</t>"),t[t.length]=s+="</si>"}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}(i.Strings,i)),r.strs.push(o),or(i.wbrels,-1,"sharedStrings."+t,un.SST)),ln(s,o="xl/workbook."+t,function j8t(e){var i=[Ss];i[i.length]=We("workbook",null,{xmlns:Kf[0],"xmlns:r":ia.r});var t=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(WF.forEach(function(p){null!=e.Workbook.WBProps[p[0]]&&e.Workbook.WBProps[p[0]]!=p[1]&&(n[p[0]]=e.Workbook.WBProps[p[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),i[i.length]=We("workbookPr",null,n);var r=e.Workbook&&e.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(i[i.length]="<bookViews>",s=0;s!=e.SheetNames.length&&r[s]&&r[s].Hidden;++s);s==e.SheetNames.length&&(s=0),i[i.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',i[i.length]="</bookViews>"}for(i[i.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:gn(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}i[i.length]=We("sheet",null,o)}return i[i.length]="</sheets>",t&&(i[i.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(p){var C={name:p.Name};p.Comment&&(C.comment=p.Comment),null!=p.Sheet&&(C.localSheetId=""+p.Sheet),p.Hidden&&(C.hidden="1"),p.Ref&&(i[i.length]=We("definedName",gn(p.Ref),C))}),i[i.length]="</definedNames>"),i.length>2&&(i[i.length]="</workbook>",i[1]=i[1].replace("/>",">")),i.join("")}(e)),r.workbooks.push(o),or(i.rels,1,o,un.WB),ln(s,o="xl/theme/theme1.xml",LF(e.Themes,i)),r.themes.push(o),or(i.wbrels,-1,"theme/theme1.xml",un.THEME),ln(s,o="xl/styles."+t,function j4t(e,i){var n,t=[Ss,We("styleSheet",null,{xmlns:Kf[0],"xmlns:vt":ia.vt})];return e.SSF&&null!=(n=function G4t(e){var i=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)null!=e[n]&&(i[i.length]=We("numFmt",null,{numFmtId:n,formatCode:gn(e[n])}))}),1===i.length?"":(i[i.length]="</numFmts>",i[0]=We("numFmts",null,{count:i.length-2}).replace("/>",">"),i.join(""))}(e.SSF))&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function W4t(e){var i=[];return i[i.length]=We("cellXfs",null),e.forEach(function(t){i[i.length]=We("xf",null,t)}),i[i.length]="</cellXfs>",2===i.length?"":(i[0]=We("cellXfs",null,{count:i.length-2}).replace("/>",">"),i.join(""))}(i.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}(e,i)),r.styles.push(o),or(i.wbrels,-1,"styles."+t,un.STY),e.vbaraw&&n&&(ln(s,o="xl/vbaProject.bin",e.vbaraw),r.vba.push(o),or(i.wbrels,-1,"vbaProject.bin",un.VBA)),ln(s,o="xl/metadata."+t,function L3t(){var e=[Ss];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}()),r.metadata.push(o),or(i.wbrels,-1,"metadata."+t,un.XLMETA),R.length>1&&(ln(s,o="xl/persons/person.xml",QQ(R)),r.people.push(o),or(i.wbrels,-1,"persons/person.xml",un.PEOPLE)),ln(s,"[Content_Types].xml",j$(r,i)),ln(s,"_rels/.rels",hv(i.rels)),ln(s,"xl/_rels/workbook.xml.rels",hv(i.wbrels)),delete i.revssf,delete i.ssf,s}function tZ(e,i){switch(i.type){case"base64":case"binary":break;case"buffer":case"array":i.type="";break;case"file":return Uy(i.file,Oi.write(e,{type:Tn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");default:throw new Error("Unrecognized type "+i.type)}return Oi.write(e,i)}function Q9t(e,i){switch(i.bookType){case"ods":return GK(e,i);case"numbers":return function P9t(e,i){if(!i||!i.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=Oi.read(i.numbers,{type:"base64"}),n=function k9t(e){var i={},t=[];return e.FileIndex.map(function(n,r){return[n,e.FullPaths[r]]}).forEach(function(n){var r=n[0],s=n[1];2==r.type&&r.name.match(/\.iwa/)&&0==r.content[0]&&vb(xb(r.content)).forEach(function(o){t.push(o.id),i[o.id]={deps:[],location:s,type:kn(o.messages[0].meta[1][0].data)}})}),e.FileIndex.forEach(function(n){n.name.match(/\.iwa/)&&0==n.content[0]&&vb(xb(n.content)).forEach(function(r){r.messages.forEach(function(s){[5,6].forEach(function(o){s.meta[o]&&s.meta[o].forEach(function(p){i[r.id].deps.push(kn(p.data))})})})})}),i}(t),r=td(t,n,1);if(null==r)throw"Could not find message ".concat(1," in Numbers template");var s=um(li(r.messages[0].data)[1],Pn);if(s.length>1)throw new Error("Template NUMBERS file must have exactly one sheet");return e.SheetNames.forEach(function(o,p){p>=1&&(function O9t(e,i,t){var n=-1,r=-1,s={};yr(e,i,1,function(C,D){var R=li(C.messages[0].data);n=Pn(li(C.messages[0].data)[1][0].data),r=qc({deps:[1],location:i[n].location,type:2},i),s[n]=r,so(C,r),R[1].push({type:2,data:ro(r)});var F=td(e,i,n);F.id=r,i[1].location==i[r].location?D.push(F):yr(e,i,r,function(B,V){return V.push(F)}),C.messages[0].data=Mi(R)});var o=-1;yr(e,i,r,function(C,D){for(var R=li(C.messages[0].data),F=3;F<=69;++F)delete R[F];var B=um(R[2],Pn);B.forEach(function(X){return lu(C,X)}),o=qc({deps:[r],location:i[B[0]].location,type:i[B[0]].type},i),so(C,o),s[B[0]]=o,R[2]=[{type:2,data:ro(o)}];var V=td(e,i,B[0]);V.id=o,i[B[0]].location==i[r].location?D.push(V):(yr(e,i,2,function(X){var J=li(X.messages[0].data);zo(J,i,r,o),X.messages[0].data=Mi(J)}),yr(e,i,o,function(X,J){return J.push(V)})),C.messages[0].data=Mi(R)});var p=-1;yr(e,i,o,function(C,D){for(var R=li(C.messages[0].data),F=li(R[1][0].data),B=3;B<=69;++B)delete F[B];var V=Pn(F[2][0].data);F[2][0].data=ro(s[V]),R[1][0].data=Mi(F);var X=Pn(R[2][0].data);lu(C,X),so(C,p=qc({deps:[o],location:i[X].location,type:i[X].type},i)),s[X]=p,R[2][0].data=ro(p);var J=td(e,i,X);J.id=p,i[o].location==i[p].location?D.push(J):yr(e,i,p,function(Q,nt){return nt.push(J)}),C.messages[0].data=Mi(R)}),yr(e,i,p,function(C,D){var R,F,B=li(C.messages[0].data),X=dc(B[1][0].data).replace(/-[A-Z0-9]*/,"-".concat(("0000"+t.toString(16)).slice(-4)));if(B[1][0].data=_o(X),[12,13,29,31,32,33,39,44,47,81,82,84].forEach(function(Mt){return delete B[Mt]}),B[45]){var Q=Pn(li(B[45][0].data)[1][0].data);lu(C,Q),delete B[45]}B[70]&&(null==(R=li(B[70][0].data)[2])||R.forEach(function(Mt){var Bt=li(Mt.data);[2,3].map(function(pt){return Bt[pt][0]}).forEach(function(pt){var ft=li(pt.data);if(ft[8]){var yt=Pn(ft[8][0].data);lu(C,yt)}})}),delete B[70]),[46,30,34,35,36,38,48,49,60,61,62,63,64,71,72,73,74,75,85,86,87,88,89].forEach(function(Mt){if(B[Mt]){var Bt=Pn(B[Mt][0].data);delete B[Mt],lu(C,Bt)}});var ct=li(B[4][0].data);[2,4,5,6,11,12,13,15,16,17,18,19,20,21,22].forEach(function(Mt){var Bt;if(null!=(Bt=ct[Mt])&&Bt[0]){var pt=Pn(ct[Mt][0].data),ft=qc({deps:[p],location:i[pt].location,type:i[pt].type},i);lu(C,pt),so(C,ft),s[pt]=ft;var yt=td(e,i,pt);if(yt.id=ft,i[pt].location==i[p].location)D.push(yt);else{i[ft].location=i[pt].location.replace(pt.toString(),ft.toString()),i[ft].location==i[pt].location&&(i[ft].location=i[ft].location.replace(/\.iwa/,"-".concat(ft,".iwa"))),Oi.utils.cfb_add(e,i[ft].location,xv(vv([yt])));var bt=i[ft].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");yr(e,i,2,function(_t){var At=li(_t.messages[0].data);tO(At,ft,bt),zo(At,i,p,ft),_t.messages[0].data=Mi(At)})}ct[Mt][0].data=ro(ft)}});var lt=li(ct[1][0].data);null==(F=lt[2])||F.forEach(function(Mt){var Bt=Pn(Mt.data),pt=qc({deps:[p],location:i[Bt].location,type:i[Bt].type},i);lu(C,Bt),so(C,pt),s[Bt]=pt;var ft=td(e,i,Bt);if(ft.id=pt,i[Bt].location==i[p].location)D.push(ft);else{i[pt].location=i[Bt].location.replace(Bt.toString(),pt.toString()),i[pt].location==i[Bt].location&&(i[pt].location=i[pt].location.replace(/\.iwa/,"-".concat(pt,".iwa"))),Oi.utils.cfb_add(e,i[pt].location,xv(vv([ft])));var yt=i[pt].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");yr(e,i,2,function(bt){var _t=li(bt.messages[0].data);tO(_t,pt,yt),zo(_t,i,p,pt),bt.messages[0].data=Mi(_t)})}Mt.data=ro(pt)}),ct[1][0].data=Mi(lt);var wt=li(ct[3][0].data);wt[1].forEach(function(Mt){var Bt=li(Mt.data),pt=Pn(Bt[2][0].data),ft=s[pt];if(!s[pt]){ft=qc({deps:[p],location:"",type:i[pt].type},i),i[ft].location="Root Entry/Index/Tables/Tile-".concat(ft,".iwa"),s[pt]=ft;var yt=td(e,i,pt);yt.id=ft,lu(C,pt),so(C,ft),Oi.utils.cfb_add(e,"/Index/Tables/Tile-".concat(ft,".iwa"),xv(vv([yt]))),yr(e,i,2,function(bt){var _t=li(bt.messages[0].data);_t[3].push({type:2,data:Mi([[],[{type:0,data:Ei(ft)}],[{type:2,data:_o("Tables/Tile")}],[{type:2,data:_o("Tables/Tile-".concat(ft))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Ei(0)}],[],[{type:0,data:Ei(0)}]])}),_t[1]=[{type:0,data:Ei(Math.max(ft+1,kn(_t[1][0].data)))}],zo(_t,i,p,ft),bt.messages[0].data=Mi(_t)})}Bt[2][0].data=ro(ft),Mt.data=Mi(Bt)}),ct[3][0].data=Mi(wt),B[4][0].data=Mi(ct),C.messages[0].data=Mi(B)})}(t,n,p+1),r=td(t,n,1),s=um(li(r.messages[0].data)[1],Pn)),function L9t(e,i,t,n,r,s){var o=[];yr(e,i,s,function(D){var R=li(D.messages[0].data);R[1]=[{type:2,data:_o(n)}],o=um(R[2],Pn),D.messages[0].data=Mi(R)});var C=Pn(li(td(e,i,o[0]).messages[0].data)[2][0].data);yr(e,i,C,function(D,R){return function N9t(e,i,t,n,r,s){if(!t["!ref"])throw new Error("Cannot export empty sheet to NUMBERS");var o=ra(t["!ref"]);o.s.r=o.s.c=0;var p=!1;o.e.c>999&&(p=!0,o.e.c=999),o.e.r>999999&&(p=!0,o.e.r=999999),p&&console.error("Truncating to ".concat(dn(o)));var C=[];if(t["!data"])C=t["!data"];else{for(var D=[],R=0;R<=o.e.c;++R)D[R]=cn(R);for(var F=0;F<=o.e.r;++F){C[F]=[];var B=""+(F+1);for(R=0;R<=o.e.c;++R){var V=t[D[R]+B];V&&(C[F][R]=V)}}}var X={cmnt:[{a:"~54ee77S~",t:"... the people who are crazy enough to think they can change the world, are the ones who do."}],ferr:[],fmla:[],nfmt:[],ofmt:[],rsst:[{v:"~54ee77S~",l:"https://sheetjs.com/"}],sst:["~Sh33tJ5~"]},J=li(n.messages[0].data);J[6][0].data=Ei(o.e.r+1),J[7][0].data=Ei(o.e.c+1),delete J[46];var Q=li(J[4][0].data),nt=Pn(li(Q[1][0].data)[2][0].data);yr(e,i,nt,function(ie,Ne){var Se,ui=li(ie.messages[0].data);if(null!=(Se=ui?.[2])&&Se[0])for(var pi=0;pi<C.length;++pi){var ii=li(ui[2][0].data);ii[1][0].data=Ei(pi),ii[4][0].data=Ei(C[pi].length),ui[2][pi]={type:ui[2][0].type,data:Mi(ii)}}ie.messages[0].data=Mi(ui)});var ct=Pn(Q[2][0].data);yr(e,i,ct,function(ie,Ne){for(var Se=li(ie.messages[0].data),ui=0;ui<=o.e.c;++ui){var pi=li(Se[2][0].data);pi[1][0].data=Ei(ui),pi[4][0].data=Ei(o.e.r+1),Se[2][ui]={type:Se[2][0].type,data:Mi(pi)}}ie.messages[0].data=Mi(Se)});var lt=li(Q[9][0].data);lt[1]=[];var wt=li(Q[3][0].data),Mt=256;wt[2]=[{type:0,data:Ei(Mt)}];var Se,Bt=Pn(li(wt[1][0].data)[2][0].data),pt=(Se=li(td(e,i,2).messages[0].data)[3].filter(function(ui){return kn(li(ui.data)[1][0].data)==Bt}),Se?.length?kn(li(Se[0].data)[12][0].data):0);Oi.utils.cfb_del(e,i[Bt].location),yr(e,i,2,function(ie){var Ne=li(ie.messages[0].data);Ne[3]=Ne[3].filter(function(Se){return kn(li(Se.data)[1][0].data)!=Bt}),function F9t(e,i,t,n){var r=i[t].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=e[3].findIndex(function(p){var C,D,R=li(p.data);return null!=(C=R[3])&&C[0]?dc(R[3][0].data)==r:!(null==(D=R[2])||!D[0]||dc(R[2][0].data)!=r)}),o=li(e[3][s].data);o[6]||(o[6]=[]),o[6]=o[6].filter(function(p){return kn(li(p.data)[1][0].data)!=n}),e[3][s].data=Mi(o)}(Ne,i,s,Bt),ie.messages[0].data=Mi(Ne)}),lu(n,Bt),wt[1]=[];for(var ft=Math.ceil((o.e.r+1)/Mt),yt=0;yt<ft;++yt){var bt=qc({deps:[],location:"",type:6002},i);i[bt].location="Root Entry/Index/Tables/Tile-".concat(bt,".iwa");for(var _t=[[],[{type:0,data:Ei(0)}],[{type:0,data:Ei(Math.min(o.e.r+1,(yt+1)*Mt))}],[{type:0,data:Ei(0)}],[{type:0,data:Ei(Math.min((yt+1)*Mt,o.e.r+1)-yt*Mt)}],[],[{type:0,data:Ei(5)}],[{type:0,data:Ei(1)}],[{type:0,data:Ei($K?1:0)}]],At=yt*Mt;At<=Math.min(o.e.r,(yt+1)*Mt-1);++At){var Et=R9t(C[At],X,$K);Et[1][0].data=Ei(At-yt*Mt),_t[5].push({data:Mi(Et),type:2})}wt[1].push({type:2,data:Mi([[],[{type:0,data:Ei(yt)}],[{type:2,data:ro(bt)}]])});var Ie=xv(vv([{id:bt,messages:[qF(6002,Mi(_t))]}]));Oi.utils.cfb_add(e,"/Index/Tables/Tile-".concat(bt,".iwa"),Ie),yr(e,i,2,function(ie){var Ne=li(ie.messages[0].data);Ne[3].push({type:2,data:Mi([[],[{type:0,data:Ei(bt)}],[{type:2,data:_o("Tables/Tile")}],[{type:2,data:_o("Tables/Tile-".concat(bt))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Ei(0)}],[],[{type:0,data:Ei(pt)}]])}),Ne[1]=[{type:0,data:Ei(Math.max(bt+1,kn(Ne[1][0].data)))}],zo(Ne,i,s,bt),ie.messages[0].data=Mi(Ne)}),so(n,bt),lt[1].push({type:2,data:Mi([[],[{type:0,data:Ei(yt*Mt)}],[{type:0,data:Ei(yt)}]])})}if(Q[3][0].data=Mi(wt),Q[9][0].data=Mi(lt),Q[10]=[{type:2,data:new Uint8Array([])}],t["!merges"]){var we=qc({type:6144,deps:[s],location:i[s].location},i);r.push({id:we,messages:[qF(6144,Mi([[],t["!merges"].map(function(ie){return{type:2,data:Mi([[],[{type:2,data:Mi([[],[{type:5,data:new Uint8Array(new Uint16Array([ie.s.r,ie.s.c]).buffer)}]])}],[{type:2,data:Mi([[],[{type:5,data:new Uint8Array(new Uint16Array([ie.e.r-ie.s.r+1,ie.e.c-ie.s.c+1]).buffer)}]])}]])}})]))]}),Q[13]=[{type:2,data:ro(we)}],yr(e,i,2,function(ie){var Ne=li(ie.messages[0].data);zo(Ne,i,s,we),ie.messages[0].data=Mi(Ne)}),so(n,we)}else delete Q[13];var ae=Pn(Q[4][0].data);yr(e,i,ae,function(ie){var Ne=li(ie.messages[0].data);Ne[3]=[],X.sst.forEach(function(Se,ui){0!=ui&&Ne[3].push({type:2,data:Mi([[],[{type:0,data:Ei(ui)}],[{type:0,data:Ei(1)}],[{type:2,data:_o(Se)}]])})}),ie.messages[0].data=Mi(Ne)});var _e=Pn(Q[17][0].data);if(yr(e,i,_e,function(ie){var Ne=li(ie.messages[0].data);Ne[3]=[];var Se=[904980,903835,903815,903845];X.rsst.forEach(function(ui,pi){if(0!=pi){var ii=[[],[{type:0,data:new Uint8Array([5])}],[],[{type:2,data:_o(ui.v)}]];ii[10]=[{type:0,data:new Uint8Array([1])}],ii[19]=[{type:2,data:new Uint8Array([10,6,8,0,18,2,101,110])}],ii[5]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,155,149,55])}],ii[2]=[{type:2,data:new Uint8Array([8,148,158,55])}],ii[6]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],ii[7]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,135,149,55])}],ii[8]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,165,149,55])}],ii[14]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],ii[24]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}];var Pt=qc({deps:[],location:"",type:2001},i),jt=[];if(ui.l){var Xt=fm(e,2032,[[],[],[{type:2,data:_o(ui.l)}]],"/Index/Tables/DataList",i);ii[11]=[];var Gt=[[],[]];Gt[1]||(Gt[1]=[]),Gt[1].push({type:2,data:Mi([[],[{type:0,data:Ei(0)}],[{type:2,data:ro(Xt)}]])}),ii[11][0]={type:2,data:Mi(Gt)},jt.push(Xt)}fm(e,2001,ii,"/Index/Tables/DataList",i,Pt),yr(e,i,Pt,function(kt){Se.forEach(function(Ci){return so(kt,Ci)}),jt.forEach(function(Ci){return so(kt,Ci)})});var ye=fm(e,6218,[[],[{type:2,data:ro(Pt)}],[],[{type:2,data:new Uint8Array([13,255,255,255,0,18,10,16,255,255,1,24,255,255,255,255,7])}]],"/Index/Tables/DataList",i);yr(e,i,ye,function(kt){return so(kt,Pt)}),Ne[3].push({type:2,data:Mi([[],[{type:0,data:Ei(pi)}],[{type:0,data:Ei(1)}],[],[],[],[],[],[],[{type:2,data:ro(ye)}]])}),so(ie,ye),yr(e,i,2,function(kt){var Ci=li(kt.messages[0].data);zo(Ci,i,_e,ye),zo(Ci,i,ye,Pt),zo(Ci,i,Pt,jt),zo(Ci,i,Pt,Se),kt.messages[0].data=Mi(Ci)})}}),ie.messages[0].data=Mi(Ne)}),X.cmnt.length>1){var Je=Pn(Q[19][0].data),Ee={},ki=0;yr(e,i,Je,function(ie){var Ne=li(ie.messages[0].data);Ne[3]=[],X.cmnt.forEach(function(Se,ui){if(0!=ui){var pi=[];Se.replies&&Se.replies.forEach(function(jt){Ee[jt.a||""]||(Ee[jt.a||""]=fm(e,212,[[],[{type:2,data:_o(jt.a||"")}],[{type:2,data:YK(++ki)}],[],[{type:0,data:Ei(0)}]],"/Index/Tables/DataList",i));var Xt=Ee[jt.a||""],Gt=fm(e,3056,[[],[{type:2,data:_o(jt.t||"")}],[{type:2,data:Mi([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:ro(Xt)}]],"/Index/Tables/DataList",i);yr(e,i,Gt,function(ye){return so(ye,Xt)}),pi.push(Gt),yr(e,i,2,function(ye){var kt=li(ye.messages[0].data);zo(kt,i,Gt,Xt),ye.messages[0].data=Mi(kt)})}),Ee[Se.a||""]||(Ee[Se.a||""]=fm(e,212,[[],[{type:2,data:_o(Se.a||"")}],[{type:2,data:YK(++ki)}],[],[{type:0,data:Ei(0)}]],"/Index/Tables/DataList",i));var ii=Ee[Se.a||""],Pt=fm(e,3056,[[],[{type:2,data:_o(Se.t||"")}],[{type:2,data:Mi([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:ro(ii)}],pi.map(function(jt){return{type:2,data:ro(jt)}}),[{type:2,data:Mi([[],[{type:0,data:Ei(ui)}],[{type:0,data:Ei(0)}]])}]],"/Index/Tables/DataList",i);yr(e,i,Pt,function(jt){so(jt,ii),pi.forEach(function(Xt){return so(jt,Xt)})}),Ne[3].push({type:2,data:Mi([[],[{type:0,data:Ei(ui)}],[{type:0,data:Ei(1)}],[],[],[],[],[],[],[],[{type:2,data:ro(Pt)}]])}),so(ie,Pt),yr(e,i,2,function(jt){var Xt=li(jt.messages[0].data);zo(Xt,i,Je,Pt),zo(Xt,i,Pt,ii),pi.length&&zo(Xt,i,Pt,pi),jt.messages[0].data=Mi(Xt)})}}),Ne[2][0].data=Ei(X.cmnt.length+1),ie.messages[0].data=Mi(Ne)})}J[4][0].data=Mi(Q),n.messages[0].data=Mi(J)}(e,i,t,D,R,C)})}(t,n,e.Sheets[o],o,0,s[p])}),t}(e,i);case"xlsb":return function H9t(e,i){e&&!e.SSF&&(e.SSF=ur(Ri)),e&&e.SSF&&(av(),Vy(e.SSF),i.revssf=U_(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,ub?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var t="bin",r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};iO(i=i||{});var s=qP(),o="",p=0;if(i.cellXfs=[],Ah(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),ln(s,o="docProps/core.xml",K$(e.Props,i)),r.coreprops.push(o),or(i.rels,2,o,un.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var C=[],D=0;D<e.SheetNames.length;++D)2!=(e.Workbook.Sheets[D]||{}).Hidden&&C.push(e.SheetNames[D]);e.Props.SheetNames=C}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,ln(s,o,q$(e.Props)),r.extprops.push(o),or(i.rels,3,o,un.EXT_PROPS),e.Custprops!==e.Props&&Wr(e.Custprops||{}).length>0&&(ln(s,o="docProps/custom.xml",tQ(e.Custprops)),r.custprops.push(o),or(i.rels,4,o,un.CUST_PROPS));var R=["SheetJ5"];for(i.tcid=0,p=1;p<=e.SheetNames.length;++p){var F={"!id":{}},B=e.Sheets[e.SheetNames[p-1]];if(ln(s,o="xl/worksheets/sheet"+p+"."+t,k8t(p-1,i,e,F)),r.sheets.push(o),or(i.wbrels,-1,"worksheets/sheet"+p+"."+t,un.WS[0]),B){var X=B["!comments"],J=!1,Q="";if(X&&X.length>0){var nt=!1;X.forEach(function(lt){lt[1].forEach(function(wt){1==wt.T&&(nt=!0)})}),nt&&(ln(s,Q="xl/threadedComments/threadedComment"+p+".xml",$Q(X,R,i)),r.threadedcomments.push(Q),or(F,-1,"../threadedComments/threadedComment"+p+".xml",un.TCMNT)),ln(s,Q="xl/comments"+p+"."+t,J3t(X)),r.comments.push(Q),or(F,-1,"../comments"+p+"."+t,un.CMNT),J=!0}B["!legacy"]&&J&&ln(s,"xl/drawings/vmlDrawing"+p+".vml",jQ(p,B["!comments"])),delete B["!comments"],delete B["!legacy"]}F["!id"].rId1&&ln(s,Jy(o),hv(F))}return null!=i.Strings&&i.Strings.length>0&&(ln(s,o="xl/sharedStrings."+t,function d4t(e){var i=Za();Te(i,159,function l4t(e,i){return i||(i=ne(8)),i.write_shift(4,e.Count),i.write_shift(4,e.Unique),i}(e));for(var t=0;t<e.length;++t)Te(i,19,c4t(e[t]));return Te(i,160),i.end()}(i.Strings)),r.strs.push(o),or(i.wbrels,-1,"sharedStrings."+t,un.SST)),ln(s,o="xl/workbook."+t,l6t(e)),r.workbooks.push(o),or(i.rels,1,o,un.WB),ln(s,o="xl/theme/theme1.xml",LF(e.Themes,i)),r.themes.push(o),or(i.wbrels,-1,"theme/theme1.xml",un.THEME),ln(s,o="xl/styles."+t,m3t(e,i)),r.styles.push(o),or(i.wbrels,-1,"styles."+t,un.STY),e.vbaraw&&(ln(s,o="xl/vbaProject.bin",e.vbaraw),r.vba.push(o),or(i.wbrels,-1,"vbaProject.bin",un.VBA)),ln(s,o="xl/metadata."+t,function F3t(){var e=Za();return Te(e,332),Te(e,334,ac(1)),Te(e,335,function A3t(e){var i=ne(12+2*e.name.length);return i.write_shift(4,e.flags),i.write_shift(4,e.version),sa(e.name,i),i.slice(0,i.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Te(e,336),Te(e,339,function M3t(e,i){var t=ne(8+2*i.length);return t.write_shift(4,e),sa(i,t),t.slice(0,t.l)}(1,"XLDAPR")),Te(e,52),Te(e,35,ac(514)),Te(e,4096,ac(0)),Te(e,4097,Ol(1)),Te(e,36),Te(e,53),Te(e,340),Te(e,337,function k3t(e,i){var t=ne(8);return t.write_shift(4,e),t.write_shift(4,i?1:0),t}(1,!0)),Te(e,51,function I3t(e){var i=ne(4+8*e.length);i.write_shift(4,e.length);for(var t=0;t<e.length;++t)i.write_shift(4,e[t][0]),i.write_shift(4,e[t][1]);return i}([[1,0]])),Te(e,338),Te(e,333),e.end()}()),r.metadata.push(o),or(i.wbrels,-1,"metadata."+t,un.XLMETA),R.length>1&&(ln(s,o="xl/persons/person.xml",QQ(R)),r.people.push(o),or(i.wbrels,-1,"persons/person.xml",un.PEOPLE)),ln(s,"[Content_Types].xml",j$(r,i)),ln(s,"_rels/.rels",hv(i.rels)),ln(s,"xl/_rels/workbook.bin.rels",hv(i.wbrels)),delete i.revssf,delete i.ssf,s}(e,i);default:return ZK(e,i)}}function ed(e,i,t){t||(t="");var n=t+e;switch(i.type){case"base64":return F_(Kc(n));case"binary":return Kc(n);case"string":return e;case"file":return Uy(i.file,n,"utf8");case"buffer":return Tn?jc(n,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(n):ed(n,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}function pE(e,i){switch(i.type){case"string":case"base64":case"binary":for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return"base64"==i.type?F_(t):"string"==i.type?hr(t):t;case"file":return Uy(i.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+i.type)}}function yb(e,i){(function k_(){Il(1200),function WPt(){R_(1252)}()})(),function wK(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");!function H8t(e,i,t){e.forEach(function(n,r){bK(n);for(var s=0;s<r;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var o=i&&i[r]&&i[r].CodeName||n;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}(e.SheetNames,e.Workbook&&e.Workbook.Sheets||[],!!e.vbaraw);for(var t=0;t<e.SheetNames.length;++t)X5t(e.Sheets[e.SheetNames[t]],0,t);e.SheetNames.forEach(function(n,r){var s=e.Sheets[n];if(s&&s["!autofilter"]){var o;e.Workbook||(e.Workbook={}),e.Workbook.Names||(e.Workbook.Names=[]),e.Workbook.Names.forEach(function(C){"_xlnm._FilterDatabase"==C.Name&&C.Sheet==r&&(o=C)});var p=Qy(n)+"!"+$y(s["!autofilter"].ref);o?o.Ref=p:e.Workbook.Names.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:p})}})}(e);var t=ur(i||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),"array"==t.type){t.type="binary";var n=yb(e,t);return t.type="array",Ly(n)}var r=0;if(t.sheet&&(r="number"==typeof t.sheet?t.sheet:e.SheetNames.indexOf(t.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return ed(V6t(e,t),t);case"slk":case"sylk":return ed(FQ.from_sheet(e.Sheets[e.SheetNames[r]],t,e),t);case"htm":case"html":return ed(kK(e.Sheets[e.SheetNames[r]],t),t);case"txt":return function q9t(e,i){switch(i.type){case"base64":return function YPt(e){for(var i="",t=0,n=0,r=0,s=0,o=0,p=0,C=0,D=0;D<e.length;)(t=e.charCodeAt(D++))>255&&(t=95),s=t>>2,(n=e.charCodeAt(D++))>255&&(n=95),o=(3&t)<<4|n>>4,(r=e.charCodeAt(D++))>255&&(r=95),p=(15&n)<<2|r>>6,C=63&r,isNaN(n)?p=C=64:isNaN(r)&&(C=64),i+=$a.charAt(s)+$a.charAt(o)+$a.charAt(p)+$a.charAt(C);return i}(e);case"binary":case"string":return e;case"file":return Uy(i.file,e,"binary");case"buffer":return Tn?jc(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}(aZ(e.Sheets[e.SheetNames[r]],t),t);case"csv":return ed(lO(e.Sheets[e.SheetNames[r]],t),t,"\ufeff");case"dif":return ed(OQ.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"dbf":return pE(MF.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"prn":return ed(mv.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"rtf":return ed(function M4t(e,i){var t=["{\\rtf1\\ansi"];if(!e["!ref"])return t[0]+"}";for(var r,n=Un(e["!ref"]),s=null!=e["!data"],o=[],p=n.s.r;p<=n.e.r;++p){t.push("\\trowd\\trautofit1");for(var C=n.s.c;C<=n.e.c;++C)t.push("\\cellx"+(C+1));for(t.push("\\pard\\intbl"),s&&(o=e["!data"][p]||[]),C=n.s.c;C<=n.e.c;++C){var D=Cn({r:p,c:C});(r=s?o[C]:e[D])&&(null!=r.v||r.f&&!r.F)?(t.push(" "+(r.w||(Zc(r),r.w)||"").replace(/[\r\n]/g,"\\par ")),t.push("\\cell")):t.push(" \\cell")}t.push("\\pard\\intbl\\row")}return t.join("")+"}"}(e.Sheets[e.SheetNames[r]]),t);case"eth":return ed(LQ.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"fods":return ed(GK(e,t),t);case"wk1":return pE(lm.sheet_to_wk1(e.Sheets[e.SheetNames[r]],t),t);case"wk3":return pE(lm.book_to_wk3(e,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),pE(SK(e,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),function J9t(e,i){var t=i||{};return tZ(function j6t(e,i){var t=i||{},n=Oi.utils.cfb_new({root:"R"}),r="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":r="/Workbook",t.biff=8;break;case"biff5":r="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Oi.utils.cfb_add(n,r,SK(e,t)),8==t.biff&&(e.Props||e.Custprops)&&function X6t(e,i){var o,t=[],n=[],r=[],s=0,p=n$(vF,"n"),C=n$(xF,"n");if(e.Props)for(o=Wr(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(p,o[s])?t:Object.prototype.hasOwnProperty.call(C,o[s])?n:r).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=Wr(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(p,o[s])?t:Object.prototype.hasOwnProperty.call(C,o[s])?n:r).push([o[s],e.Custprops[o[s]]]);var D=[];for(s=0;s<r.length;++s)lQ.indexOf(r[s][0])>-1||Z$.indexOf(r[s][0])>-1||null!=r[s][1]&&D.push(r[s]);n.length&&Oi.utils.cfb_add(i,"/\x05SummaryInformation",uQ(n,fb.SI,C,xF)),(t.length||D.length)&&Oi.utils.cfb_add(i,"/\x05DocumentSummaryInformation",uQ(t,fb.DSI,p,vF,D.length?D:null,fb.UDI))}(e,n),8==t.biff&&e.vbaraw&&function eBt(e,i){i.FullPaths.forEach(function(t,n){if(0!=n){var r=t.replace(/^[\/]*[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==r.slice(-1)&&Oi.utils.cfb_add(e,r,i.FileIndex[n].content)}})}(n,Oi.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}(e,t),t)}(e,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function K9t(e,i){var t=ur(i||{});return function eZ(e,i){var t={},n=Tn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(i.compression&&(t.compression="DEFLATE"),i.password)t.type=n;else switch(i.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+i.type)}var r=e.FullPaths?Oi.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!i.compression}):e.generate(t);if(typeof Deno<"u"&&"string"==typeof r){if("binary"==i.type||"base64"==i.type)return r;r=new Uint8Array(Ly(r))}return i.password&&typeof encrypt_agile<"u"?tZ(encrypt_agile(r,i.password),i):"file"===i.type?Uy(i.file,r):"string"==i.type?hr(r):r}(Q9t(e,t),t)}(e,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function nZ(e,i,t,n,r,s,o){var p=Rn(t),C=o.defval,D=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),R=!0,F=null!=e["!data"],B=1===r?[]:{};if(1!==r)if(Object.defineProperty)try{Object.defineProperty(B,"__rowNum__",{value:t,enumerable:!1})}catch{B.__rowNum__=t}else B.__rowNum__=t;if(!F||e["!data"][t])for(var V=i.s.c;V<=i.e.c;++V){var X=F?(e["!data"][t]||[])[V]:e[n[V]+p];if(null!=X&&void 0!==X.t){var J=X.v;switch(X.t){case"z":if(null==J)break;continue;case"e":J=0==J?null:void 0;break;case"s":case"b":case"n":if(!X.z||!ll(X.z)||"number"==typeof(J=iu(J)))break;case"d":o&&(o.UTC||!1===o.raw)||(J=$f(new Date(J)));break;default:throw new Error("unrecognized type "+X.t)}if(null!=s[V]){if(null==J)if("e"==X.t&&null===J)B[s[V]]=null;else if(void 0!==C)B[s[V]]=C;else{if(!D||null!==J)continue;B[s[V]]=null}else B[s[V]]=("n"===X.t&&"boolean"==typeof o.rawNumbers?o.rawNumbers:D)?J:Zc(X,J,o);null!=J&&(R=!1)}}else{if(void 0===C)continue;null!=s[V]&&(B[s[V]]=C)}}return{row:B,isempty:R}}function oO(e,i){if(null==e||null==e["!ref"])return[];var t={t:"n",v:0},n=0,r=1,s=[],o=0,p="",C={s:{r:0,c:0},e:{r:0,c:0}},D=i||{},R=null!=D.range?D.range:e["!ref"];switch(1===D.header?n=1:"A"===D.header?n=2:Array.isArray(D.header)?n=3:null==D.header&&(n=0),typeof R){case"string":C=Un(R);break;case"number":(C=Un(e["!ref"])).s.r=R;break;default:C=R}n>0&&(r=0);var F=Rn(C.s.r),B=[],V=[],X=0,J=0,Q=null!=e["!data"],nt=C.s.r,ct=0,lt={};Q&&!e["!data"][nt]&&(e["!data"][nt]=[]);var wt=D.skipHidden&&e["!cols"]||[],Mt=D.skipHidden&&e["!rows"]||[];for(ct=C.s.c;ct<=C.e.c;++ct)if(!(wt[ct]||{}).hidden)switch(B[ct]=cn(ct),t=Q?e["!data"][nt][ct]:e[B[ct]+F],n){case 1:s[ct]=ct-C.s.c;break;case 2:s[ct]=B[ct];break;case 3:s[ct]=D.header[ct-C.s.c];break;default:if(null==t&&(t={w:"__EMPTY",t:"s"}),p=o=Zc(t,null,D),J=lt[o]||0){do{p=o+"_"+J++}while(lt[p]);lt[o]=J,lt[p]=1}else lt[o]=1;s[ct]=p}for(nt=C.s.r+r;nt<=C.e.r;++nt)if(!(Mt[nt]||{}).hidden){var Bt=nZ(e,C,nt,B,n,s,D);(!1===Bt.isempty||(1===n?!1!==D.blankrows:D.blankrows))&&(V[X++]=Bt.row)}return V.length=X,V}var rZ=/"/g;function sZ(e,i,t,n,r,s,o,p){for(var C=!0,D=[],R="",F=Rn(t),B=null!=e["!data"],V=B&&e["!data"][t]||[],X=i.s.c;X<=i.e.c;++X)if(n[X]){var J=B?V[X]:e[n[X]+F];if(null==J)R="";else if(null!=J.v){C=!1,R=""+(p.rawNumbers&&"n"==J.t?J.v:Zc(J,null,p));for(var Q=0,nt=0;Q!==R.length;++Q)if((nt=R.charCodeAt(Q))===r||nt===s||34===nt||p.forceQuotes){R='"'+R.replace(rZ,'""')+'"';break}"ID"==R&&(R='"ID"')}else null==J.f||J.F?R="":(C=!1,(R="="+J.f).indexOf(",")>=0&&(R='"'+R.replace(rZ,'""')+'"'));D.push(R)}if(p.strip)for(;""===D[D.length-1];)--D.length;return!1===p.blankrows&&C?null:D.join(o)}function lO(e,i){var t=[],n=i??{};if(null==e||null==e["!ref"])return"";for(var r=Un(e["!ref"]),s=void 0!==n.FS?n.FS:",",o=s.charCodeAt(0),p=void 0!==n.RS?n.RS:"\n",C=p.charCodeAt(0),D="",R=[],F=n.skipHidden&&e["!cols"]||[],B=n.skipHidden&&e["!rows"]||[],V=r.s.c;V<=r.e.c;++V)(F[V]||{}).hidden||(R[V]=cn(V));for(var X=0,J=r.s.r;J<=r.e.r;++J)(B[J]||{}).hidden||null!=(D=sZ(e,r,J,R,o,C,s,n))&&(D||!1!==n.blankrows)&&t.push((X++?p:"")+D);return t.join("")}function aZ(e,i){i||(i={}),i.FS="\t",i.RS="\n";var t=lO(e,i);return typeof pn>"u"||"string"==i.type?t:"\xff\xfe"+pn.utils.encode(1200,t,"str")}function oZ(e,i,t){var n=t||{},r=e?null!=e["!data"]:n.dense;null!=_s&&null==r&&(r=_s);var s=+!n.skipHeader,o=e||{};!e&&r&&(o["!data"]=[]);var p=0,C=0;if(o&&null!=n.origin)if("number"==typeof n.origin)p=n.origin;else{var D="string"==typeof n.origin?fr(n.origin):n.origin;p=D.r,C=D.c}var R={s:{c:0,r:0},e:{c:C,r:p+i.length-1+s}};if(o["!ref"]){var F=Un(o["!ref"]);R.e.c=Math.max(R.e.c,F.e.c),R.e.r=Math.max(R.e.r,F.e.r),-1==p&&(R.e.r=(p=F.e.r+1)+i.length-1+s)}else-1==p&&(p=0,R.e.r=i.length-1+s);var B=n.header||[],V=0,X=[];i.forEach(function(Q,nt){r&&!o["!data"][p+nt+s]&&(o["!data"][p+nt+s]=[]),r&&(X=o["!data"][p+nt+s]),Wr(Q).forEach(function(ct){-1==(V=B.indexOf(ct))&&(B[V=B.length]=ct);var lt=Q[ct],wt="z",Mt="",Bt=r?"":cn(C+V)+Rn(p+nt+s),pt=r?X[C+V]:o[Bt];!lt||"object"!=typeof lt||lt instanceof Date?("number"==typeof lt?wt="n":"boolean"==typeof lt?wt="b":"string"==typeof lt?wt="s":lt instanceof Date?(wt="d",n.UTC||(lt=z_(lt)),n.cellDates||(wt="n",lt=ss(lt)),Mt=null!=pt&&pt.z&&ll(pt.z)?pt.z:n.dateNF||Ri[14]):null===lt&&n.nullError&&(wt="e",lt=0),pt?(pt.t=wt,pt.v=lt,delete pt.w,delete pt.R,Mt&&(pt.z=Mt)):r?X[C+V]=pt={t:wt,v:lt}:o[Bt]=pt={t:wt,v:lt},Mt&&(pt.z=Mt)):r?X[C+V]=lt:o[Bt]=lt})}),R.e.c=Math.max(R.e.c,C+B.length-1);var J=Rn(p);if(r&&!o["!data"][p]&&(o["!data"][p]=[]),s)for(V=0;V<B.length;++V)r?o["!data"][p][V+C]={t:"s",v:B[V]}:o[cn(V+C)+J]={t:"s",v:B[V]};return o["!ref"]=dn(R),o}function wb(e,i,t,n){var r=1;if(!t)for(;r<=65535&&-1!=e.SheetNames.indexOf(t="Sheet"+r);++r,t=void 0);if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(t)>=0&&t.length<32){var s=t.match(/\d+$/);r=s&&+s[0]||0;var o=s&&t.slice(0,s.index)||t;for(++r;r<=65535&&-1!=e.SheetNames.indexOf(t=o+r);++r);}if(bK(t),e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return e.SheetNames.push(t),e.Sheets[t]=i,t}var cZ_json_to_sheet=function nUt(e,i){return oZ(null,e,i)};let vUt=(()=>{class e{constructor(){}exportAsExcelFile(t,n){const o=yb({Sheets:{data:cZ_json_to_sheet(t)},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(o,n)}saveAsExcelFile(t,n){const r=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Vc.saveAs(r,n+"_export_"+(new Date).getTime()+".xlsx")}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const xUt=["*",[["mat-toolbar-row"]]],yUt=["*","mat-toolbar-row"];let bUt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return e})(),wUt=(()=>{class e{constructor(t,n,r){this._elementRef=t,this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(Qn),ht(Ni))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-toolbar"]],contentQueries:function(n,r,s){if(1&n&&hn(s,bUt,5),2&n){let o;Oe(o=Le())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,r){2&n&&(gl(r.color?"mat-"+r.color:""),yi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Bi],ngContentSelectors:yUt,decls:2,vars:0,template:function(n,r){1&n&&(Gn(xUt),hi(0),hi(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return e})(),TUt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,$i]})}return e})();const dZ=["*"],CUt=["content"],_Ut=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],EUt=["mat-drawer","mat-drawer-content","*"];function SUt(e,i){if(1&e){const t=ge();q(0,"div",1),Vt("click",function(){return Ut(t),zt(St()._onBackdropClicked())}),et()}2&e&&yi("mat-drawer-shown",St()._isShowingBackdrop())}function AUt(e,i){1&e&&(q(0,"mat-drawer-content"),hi(1,2),et())}const DUt={transformDrawer:vr("transform",[Ln("open, open-instant",si({transform:"none",visibility:"visible"})),Ln("void",si({"box-shadow":"none",visibility:"hidden"})),fn("void => open-instant",on("0ms")),fn("void <=> open, open-instant => void",on("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},IUt=new qt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function MUt(){return!1}}),uZ=new qt("MAT_DRAWER_CONTAINER");let dO=(()=>{class e extends OT{constructor(t,n,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(n){return new(n||e)(ht(Dn),ht(En(()=>fZ)),ht(ei),ht(Dx),ht(Ze))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,r){2&n&&vs("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[fi([{provide:OT,useExisting:e}]),di,Bi],ngContentSelectors:dZ,decls:1,vars:0,template:function(n,r){1&n&&(Gn(),hi(0))},encapsulation:2,changeDetection:0})}return e})(),hZ=(()=>{class e{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Fs(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Fs(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Fs(t))}constructor(t,n,r,s,o,p,C,D){this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=p,this._doc=C,this._container=D,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ke,this._animationEnd=new ke,this._animationState="void",this.openedChange=new Ae(!0),this._openedStream=this.openedChange.pipe(In(R=>R),Di(()=>{})),this.openedStart=this._animationStarted.pipe(In(R=>R.fromState!==R.toState&&0===R.toState.indexOf("open")),$w(void 0)),this._closedStream=this.openedChange.pipe(In(R=>!R),Di(()=>{})),this.closedStart=this._animationStarted.pipe(In(R=>R.fromState!==R.toState&&"void"===R.toState),$w(void 0)),this._destroyed=new ke,this.onPositionChanged=new Ae,this._modeChanged=new ke,this.openedChange.subscribe(R=>{R?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{nc(this._elementRef.nativeElement,"keydown").pipe(In(R=>27===R.keyCode&&!this.disableClose&&!Ga(R)),Ui(this._destroyed)).subscribe(R=>this._ngZone.run(()=>{this.close(),R.stopPropagation(),R.preventDefault()}))}),this._animationEnd.pipe(Dd((R,F)=>R.fromState===F.fromState&&R.toState===F.toState)).subscribe(R=>{const{fromState:F,toState:B}=R;(0===B.indexOf("open")&&"void"===F||"void"===B&&0===F.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,n,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Jn(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;const n=this._elementRef.nativeElement,r=n.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(ei),ht(NI),ht(bl),ht(Qn),ht(Ze),ht(CT),ht(Ni,8),ht(uZ,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(1&n&&Ai(CUt,5),2&n){let s;Oe(s=Le())&&(r._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){1&n&&gw("@transform.start",function(o){return r._animationStarted.next(o)})("@transform.done",function(o){return r._animationEnd.next(o)}),2&n&&(uw("@transform",r._animationState),_i("align",null),yi("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[Bi],ngContentSelectors:dZ,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){1&n&&(Gn(),q(0,"div",1,0),hi(2),et())},dependencies:[OT],encapsulation:2,data:{animation:[DUt.transformDrawer]},changeDetection:0})}return e})(),fZ=(()=>{class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Fs(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:Fs(t)}get scrollable(){return this._userContent||this._content}constructor(t,n,r,s,o,p=!1,C){this._dir=t,this._element=n,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=C,this._drawers=new bu,this.backdropClick=new Ae,this._destroyed=new ke,this._doCheckSubject=new ke,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ke,t&&t.change.pipe(Ui(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Ui(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=p}ngAfterContentInit(){this._allDrawers.changes.pipe(ca(this._allDrawers),Ui(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ca(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Ad(10),Ui(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();n+=r,t-=r}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(In(n=>n.fromState!==n.toState),Ui(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Ui(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Ui(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Jn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Ui(Gr(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#t=this.\u0275fac=function(n){return new(n||e)(ht(_a,8),ht(ei),ht(Ze),ht(Dn),ht(Fd),ht(IUt),ht(Sr,8))};static#e=this.\u0275cmp=He({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,s){if(1&n&&(hn(s,dO,5),hn(s,hZ,5)),2&n){let o;Oe(o=Le())&&(r._content=o.first),Oe(o=Le())&&(r._allDrawers=o)}},viewQuery:function(n,r){if(1&n&&Ai(dO,5),2&n){let s;Oe(s=Le())&&(r._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){2&n&&yi("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[fi([{provide:uZ,useExisting:e}]),Bi],ngContentSelectors:EUt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){1&n&&(Gn(_Ut),Ht(0,SUt,1,2,"div",0),hi(1),hi(2,1),Ht(3,AUt,2,0,"mat-drawer-content")),2&n&&(yn(0,r.hasBackdrop?0:-1),ot(3),yn(3,r._content?-1:3))},dependencies:[dO],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return e})(),RUt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,Od,Od,$i]})}return e})();function kUt(e,i){if(1&e){const t=ge();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().navigate(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),ze(t.name)}}function PUt(e,i){if(1&e){const t=ge();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().setFhirServer(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),ze(t.name)}}function FUt(e,i){if(1&e){const t=ge();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(St(2).setEdition(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),ze(t.resource.version)}}function OUt(e,i){if(1&e&&(nn(0),q(1,"button",20),ut(2),et(),q(3,"mat-menu",null,5)(5,"span",16),ut(6,"Versions / Releases"),et(),Ht(7,FUt,2,1,"button",15),et(),rn()),2&e){const t=i.$implicit,n=Zi(4);ot(),xt("matMenuTriggerFor",n),ot(),ze(t.editionName),ot(5),xt("ngForOf",t.editions)}}function LUt(e,i){if(1&e){const t=ge();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(St().setLanguage(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),ze(t)}}function NUt(e,i){if(1&e){const t=ge();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(St(2).navigate(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),ze(t.name)}}function BUt(e,i){if(1&e){const t=ge();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(St(2).setFhirServer(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),ze(t.name)}}function VUt(e,i){if(1&e){const t=ge();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(St(3).setEdition(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),ze(t.resource.version)}}function UUt(e,i){if(1&e&&(nn(0),q(1,"button",20),ut(2),et(),q(3,"mat-menu",null,5)(5,"span",16),ut(6,"Versions / Releases"),et(),Ht(7,VUt,2,1,"button",15),et(),rn()),2&e){const t=i.$implicit,n=Zi(4);ot(),xt("matMenuTriggerFor",n),ot(),ze(t.editionName),ot(5),xt("ngForOf",t.editions)}}function zUt(e,i){if(1&e){const t=ge();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(St(2).setLanguage(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),ze(t)}}function GUt(e,i){if(1&e){const t=ge();q(0,"mat-toolbar")(1,"button",21),Vt("click",function(){return Ut(t),St(),zt(Zi(2).toggle())}),q(2,"mat-icon"),ut(3,"menu"),et()(),q(4,"a",22),Vt("click",function(){return Ut(t),zt(St().navigate({url:"home",type:"internal"}))}),be(5,"img",23),et(),q(6,"span",24),ut(7,"SNOMED CT Implementation Demos"),et(),q(8,"span",25),ut(9,"Implementation Demos"),et(),be(10,"span",26),q(11,"button",27),ut(12,"Select Demonstrator"),et(),q(13,"mat-menu",14,6),Ht(15,NUt,2,1,"button",15),et(),q(16,"button",28),ut(17),et(),q(18,"mat-menu",null,7),Ht(20,BUt,2,1,"button",15),et(),q(21,"button",28),ut(22),et(),q(23,"mat-menu",14,8)(25,"span",16),ut(26,"Editions"),et(),Ht(27,UUt,8,3,"ng-container",17),et(),q(28,"button",28),ut(29),et(),q(30,"mat-menu",null,9),Ht(32,zUt,2,1,"button",15),et(),q(33,"a",29)(34,"mat-icon"),ut(35,"info"),et()()()}if(2&e){const t=Zi(14),n=Zi(19),r=Zi(24),s=Zi(31),o=St();ot(11),xt("matMenuTriggerFor",t),ot(4),xt("ngForOf",o.demos),ot(),xt("matMenuTriggerFor",n),ot(),ri("FHIR Server: ",o.selectedServer.name,""),ot(3),xt("ngForOf",o.fhirServers),ot(),xt("matMenuTriggerFor",r),ot(),ze(o.selectedEdition),ot(5),xt("ngForOf",o.editionsDetails),ot(),xt("matMenuTriggerFor",s),ot(),ze(o.selectedLanguage),ot(3),xt("ngForOf",o.languages)}}let HUt=(()=>{class e{constructor(t,n,r,s,o,p){this.codingSpecService=t,this.excelService=n,this.terminologyService=r,this.router=s,this.menuService=o,this.activatedRoute=p,this.title="sct-implementation-demonstrator",this.bindingsForExport=[],this.editions=[],this.editionsDetails=[],this.languages=["da","de","en","es","et","fi","fr","nl","no","sv"],this.selectedEdition="Edition",this.selectedLanguage="en",this.fhirServers=[{name:"SNOMED Dev IS",url:"https://dev-is-browser.ihtsdotools.org/fhir"},{name:"SNOMED Public",url:"https://snowstorm.ihtsdotools.org/fhir"},{name:"SNOMED Dev 2",url:"https://snowstorm-temp.kaicode.io/fhir"},{name:"SNOMED Lite Demo",url:"https://snowstorm-lite.nw.r.appspot.com/fhir"}],this.selectedServer=this.fhirServers[1],this.embeddedMode=!1,this.demos=[],this.router.events.subscribe(C=>{C instanceof kc&&gtag("config","G-7SK998GPMX",{page_path:C.urlAfterRedirects})})}ngOnInit(){this.demos=this.menuService.getDemos(),this.setFhirServer(this.selectedServer),this.bindingsForExport=[];let t=this.codingSpecService.getCodingSpec();for(const n of t)for(const r of n.bindings)this.bindingsForExport.push({section:n.title,title:r.title,ecl:r.ecl.replace(/\s\s+/g," ")});this.activatedRoute.queryParams.subscribe(n=>{this.embeddedMode="true"===n.embedded,n.edition?this.updateCodeSystemOptions(n.edition):this.updateCodeSystemOptions()}),this.terminologyService.lang$.subscribe(n=>{this.selectedLanguage=n}),this.terminologyService.fhirUrlParam$.subscribe(n=>{this.editions?.length>0&&this.editions.forEach(r=>{r.resource.version===n&&(this.selectedEdition=r.resource.title?.replace("SNOMED CT release ",""))})})}navigate(t){"internal"===t.type?this.router.navigate([t.url],{queryParams:t.queryParams}):this.openInNewTab(t.url)}openInNewTab(t){window.open(t,"_blank")}updateCodeSystemOptions(t){this.terminologyService.getCodeSystems().subscribe(n=>{this.editionsDetails=[],this.editions=n.entry;let r=new Set;this.editions.forEach(o=>{r.add(o.resource.title)}),r.forEach(o=>{this.editionsDetails.push({editionName:o,editions:this.editions.filter(p=>p.resource.title.includes(o)).sort(this.compare)})});let s=this.editionsDetails.findIndex(o=>"International Edition"===o.editionName);t?this.editions.forEach(o=>{o.resource.version===t&&this.setEdition(o)}):this.setEdition(s>=0?this.editionsDetails[s].editions[0]:this.editions[0])})}compare(t,n){return t.resource.date<n.resource.date?1:t.resource.date>n.resource.date?-1:0}setFhirServer(t){this.selectedServer=t,this.terminologyService.setSnowstormFhirBase(t.url),this.selectedEdition="Edition",this.editions=[],this.editionsDetails=[],this.updateCodeSystemOptions()}setEdition(t){this.selectedEdition=t.resource.title?.replace("SNOMED CT release ",""),this.terminologyService.setFhirUrlParam(t.resource.version)}setLanguage(t){this.selectedLanguage=t,this.terminologyService.setLang(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ht(GPt),ht(vUt),ht(Zs),ht(vo),ht(PY),ht(ec))};static#e=this.\u0275cmp=He({type:e,selectors:[["app-root"]],decls:28,vars:12,consts:[["drawer",""],["demosMenuN","matMenu"],["serverMenuN","matMenu"],["editionsMenuN","matMenu"],["menuN","matMenu"],["sub_menu","matMenu"],["demosMenu","matMenu"],["serverMenu","matMenu"],["editionsMenu","matMenu"],["menu","matMenu"],["autosize","",1,"example-container"],["mode","over",1,"example-sidenav"],[1,"flex","flex-col","justify-center"],["mat-button","",3,"matMenuTriggerFor"],[1,"wide-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"ml-4"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-icon-button","","id","menu-button",3,"click"],["href","javascript:void(0)",3,"click"],["src","assets/img/small_logo.png","id","logo"],["id","title"],["id","short-title"],[1,"example-spacer"],["mat-flat-button","","color","accent",1,"bar-button",3,"matMenuTriggerFor"],["mat-flat-button","","color","primary",1,"bar-button",3,"matMenuTriggerFor"],["mat-flat-button","","href","https://github.com/IHTSDO/sct-implementation-demonstrator","target","_blank","color","primary","id","info-button"]],template:function(n,r){if(1&n&&(q(0,"mat-drawer-container",10)(1,"mat-drawer",11,0)(3,"div",12)(4,"button",13),ut(5,"Select Demonstrator"),et(),q(6,"mat-menu",14,1),Ht(8,kUt,2,1,"button",15),et(),q(9,"button",13),ut(10),et(),q(11,"mat-menu",null,2),Ht(13,PUt,2,1,"button",15),et(),q(14,"button",13),ut(15),et(),q(16,"mat-menu",14,3)(18,"span",16),ut(19,"Editions"),et(),Ht(20,OUt,8,3,"ng-container",17),et(),q(21,"button",13),ut(22),et(),q(23,"mat-menu",null,4),Ht(25,LUt,2,1,"button",15),et()()(),Ht(26,GUt,36,11,"mat-toolbar",18),be(27,"router-outlet"),et()),2&n){const s=Zi(7),o=Zi(12),p=Zi(17),C=Zi(24);ot(4),xt("matMenuTriggerFor",s),ot(4),xt("ngForOf",r.demos),ot(),xt("matMenuTriggerFor",o),ot(),ri("FHIR Server: ",r.selectedServer.name,""),ot(3),xt("ngForOf",r.fhirServers),ot(),xt("matMenuTriggerFor",p),ot(),ri("Edition: ",r.selectedEdition,""),ot(5),xt("ngForOf",r.editionsDetails),ot(),xt("matMenuTriggerFor",C),ot(),ri("Language: ",r.selectedLanguage,""),ot(3),xt("ngForOf",r.languages),ot(),xt("ngIf",!r.embeddedMode)}},dependencies:[xs,Qs,nI,wUt,kvt,ua,xo,ha,il,Tl,Ld,hZ,fZ],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#434a55;color:#fff;font-size:1.8rem;font-weight:700}button[_ngcontent-%COMP%]{font-weight:700;font-size:medium}.bar-button[_ngcontent-%COMP%]{margin-left:15px}#title[_ngcontent-%COMP%]{margin-left:15px;font-size:1.4rem}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a[_ngcontent-%COMP%]{margin-left:15px}  .mat-mdc-menu-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;overflow-x:hidden!important}.mat-mdc-unelevated-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%], .mat-mdc-raised-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{margin:0!important}#demo-selector[_ngcontent-%COMP%]{margin:5px 15px;padding:10px}#menu-button[_ngcontent-%COMP%], #short-title[_ngcontent-%COMP%]{display:none}#logo[_ngcontent-%COMP%]{height:4rem}@media (max-width: 768px){#title[_ngcontent-%COMP%]{display:none}#short-title[_ngcontent-%COMP%]{display:block;margin-left:15px;font-size:.9rem}#logo[_ngcontent-%COMP%]{height:3.5rem}#info-button[_ngcontent-%COMP%]{display:none}}@media (max-width: 1200px){.bar-button[_ngcontent-%COMP%]{display:none}#menu-button[_ngcontent-%COMP%]{display:block}}"]})}return e})();function mZ(e){return new ue(3e3,!1)}function Ih(e){switch(e.length){case 0:return new Ex;case 1:return e[0];default:return new HU(e)}}function pZ(e,i,t=new Map,n=new Map){const r=[],s=[];let o=-1,p=null;if(i.forEach(C=>{const D=C.get("offset"),R=D==o,F=R&&p||new Map;C.forEach((B,V)=>{let X=V,J=B;if("offset"!==V)switch(X=e.normalizePropertyName(X,r),J){case"!":J=t.get(V);break;case Rd:J=n.get(V);break;default:J=e.normalizeStyleValue(V,X,J,r)}F.set(X,J)}),R||s.push(F),p=F,o=D}),r.length)throw function hzt(e){return new ue(3502,!1)}();return s}function uO(e,i,t,n){switch(i){case"start":e.onStart(()=>n(t&&hO(t,"start",e)));break;case"done":e.onDone(()=>n(t&&hO(t,"done",e)));break;case"destroy":e.onDestroy(()=>n(t&&hO(t,"destroy",e)))}}function hO(e,i,t){const s=fO(e.element,e.triggerName,e.fromState,e.toState,i||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),o=e._data;return null!=o&&(s._data=o),s}function fO(e,i,t,n,r="",s=0,o){return{element:e,triggerName:i,fromState:t,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function ul(e,i,t){let n=e.get(i);return n||e.set(i,n=t),n}function gZ(e){const i=e.indexOf(":");return[e.substring(1,i),e.slice(i+1)]}const _zt=typeof document>"u"?null:document.documentElement;function mO(e){const i=e.parentNode||e.host||null;return i===_zt?null:i}let mm=null,vZ=!1;function xZ(e,i){for(;i;){if(i===e)return!0;i=mO(i)}return!1}function yZ(e,i,t){if(t)return Array.from(e.querySelectorAll(i));const n=e.querySelector(i);return n?[n]:[]}let pO=(()=>{class e{validateStyleProperty(t){return function Szt(e){mm||(mm=function Azt(){return typeof document<"u"?document.body:null}()||{},vZ=!!mm.style&&"WebkitAppearance"in mm.style);let i=!0;return mm.style&&!function Ezt(e){return"ebkit"==e.substring(1,6)}(e)&&(i=e in mm.style,!i&&vZ&&(i="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in mm.style)),i}(t)}matchesElement(t,n){return!1}containsElement(t,n){return xZ(t,n)}getParentElement(t){return mO(t)}query(t,n,r){return yZ(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,s,o,p=[],C){return new Ex(r,s)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();class gO{static#t=this.NOOP=new pO}class vO{}const Izt=1e3,xO="ng-enter",vE="ng-leave",xE="ng-trigger",yE=".ng-trigger",wZ="ng-animating",yO=".ng-animating";function cu(e){if("number"==typeof e)return e;const i=e.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:bO(parseFloat(i[1]),i[2])}function bO(e,i){return"s"===i?e*Izt:e}function bE(e,i,t){return e.hasOwnProperty("duration")?e:function Rzt(e,i,t){let r,s=0,o="";if("string"==typeof e){const p=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return i.push(mZ()),{duration:0,delay:0,easing:""};r=bO(parseFloat(p[1]),p[2]);const C=p[3];null!=C&&(s=bO(parseFloat(C),p[4]));const D=p[5];D&&(o=D)}else r=e;if(!t){let p=!1,C=i.length;r<0&&(i.push(function WUt(){return new ue(3100,!1)}()),p=!0),s<0&&(i.push(function XUt(){return new ue(3101,!1)}()),p=!0),p&&i.splice(C,0,mZ())}return{duration:r,delay:s,easing:o}}(e,i,t)}function id(e,i,t){i.forEach((n,r)=>{const s=TO(r);t&&!t.has(r)&&t.set(r,e.style[s]),e.style[s]=n})}function pm(e,i){i.forEach((t,n)=>{const r=TO(n);e.style[r]=""})}function Tb(e){return Array.isArray(e)?1==e.length?e[0]:function Fvt(e,i=null){return{type:Qi.Sequence,steps:e,options:i}}(e):e}const wO=new RegExp("{{\\s*(.+?)\\s*}}","g");function CZ(e){let i=[];if("string"==typeof e){let t;for(;t=wO.exec(e);)i.push(t[1]);wO.lastIndex=0}return i}function Cb(e,i,t){const n=`${e}`,r=n.replace(wO,(s,o)=>{let p=i[o];return null==p&&(t.push(function YUt(e){return new ue(3003,!1)}()),p=""),p.toString()});return r==n?e:r}const Fzt=/-+([a-z0-9])/g;function TO(e){return e.replace(Fzt,(...i)=>i[1].toUpperCase())}function hl(e,i,t){switch(i.type){case Qi.Trigger:return e.visitTrigger(i,t);case Qi.State:return e.visitState(i,t);case Qi.Transition:return e.visitTransition(i,t);case Qi.Sequence:return e.visitSequence(i,t);case Qi.Group:return e.visitGroup(i,t);case Qi.Animate:return e.visitAnimate(i,t);case Qi.Keyframes:return e.visitKeyframes(i,t);case Qi.Style:return e.visitStyle(i,t);case Qi.Reference:return e.visitReference(i,t);case Qi.AnimateChild:return e.visitAnimateChild(i,t);case Qi.AnimateRef:return e.visitAnimateRef(i,t);case Qi.Query:return e.visitQuery(i,t);case Qi.Stagger:return e.visitStagger(i,t);default:throw function $Ut(e){return new ue(3004,!1)}()}}function CO(e,i){return window.getComputedStyle(e)[i]}const Nzt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _Z extends vO{normalizePropertyName(i,t){return TO(i)}normalizeStyleValue(i,t,n,r){let s="";const o=n.toString().trim();if(Nzt.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const p=n.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(function QUt(e,i){return new ue(3005,!1)}())}return o+s}}const wE="*";const TE=new Set(["true","1"]),CE=new Set(["false","0"]);function EZ(e,i){const t=TE.has(e)||CE.has(e),n=TE.has(i)||CE.has(i);return(r,s)=>{let o=e==wE||e==r,p=i==wE||i==s;return!o&&t&&"boolean"==typeof r&&(o=r?TE.has(e):CE.has(e)),!p&&n&&"boolean"==typeof s&&(p=s?TE.has(i):CE.has(i)),o&&p}}const zzt=new RegExp("s*:selfs*,?","g");function _O(e,i,t,n){return new Gzt(e).build(i,t,n)}class Gzt{constructor(i){this._driver=i}build(i,t,n){const r=new Xzt(t);return this._resetContextStyleTimingState(r),hl(this,Tb(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,t){let n=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==i.name.charAt(0)&&t.errors.push(function KUt(){return new ue(3006,!1)}()),i.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),p.type==Qi.State){const C=p,D=C.name;D.toString().split(/\s*,\s*/).forEach(R=>{C.name=R,s.push(this.visitState(C,t))}),C.name=D}else if(p.type==Qi.Transition){const C=this.visitTransition(p,t);n+=C.queryCount,r+=C.depCount,o.push(C)}else t.errors.push(function ZUt(){return new ue(3007,!1)}())}),{type:Qi.Trigger,name:i.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(i,t){const n=this.visitStyle(i.styles,t),r=i.options&&i.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};n.styles.forEach(p=>{p instanceof Map&&p.forEach(C=>{CZ(C).forEach(D=>{o.hasOwnProperty(D)||s.add(D)})})}),s.size&&t.errors.push(function JUt(e,i){return new ue(3008,!1)}(0,s.values()))}return{type:Qi.State,name:i.name,style:n,options:r?{params:r}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const n=hl(this,Tb(i.animation),t),r=function Bzt(e,i){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(n=>function Vzt(e,i,t){if(":"==e[0]){const C=function Uzt(e,i){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return i.push(function lzt(e){return new ue(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof C)return void i.push(C);e=C}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function ozt(e){return new ue(3015,!1)}()),i;const r=n[1],s=n[2],o=n[3];i.push(EZ(r,o)),"<"==s[0]&&(r!=wE||o!=wE)&&i.push(EZ(o,r))}(n,t,i)):t.push(e),t}(i.expr,t.errors);return{type:Qi.Transition,matchers:r,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:gm(i.options)}}visitSequence(i,t){return{type:Qi.Sequence,steps:i.steps.map(n=>hl(this,n,t)),options:gm(i.options)}}visitGroup(i,t){const n=t.currentTime;let r=0;const s=i.steps.map(o=>{t.currentTime=n;const p=hl(this,o,t);return r=Math.max(r,t.currentTime),p});return t.currentTime=r,{type:Qi.Group,steps:s,options:gm(i.options)}}visitAnimate(i,t){const n=function Yzt(e,i){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return EO(bE(e,i).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=EO(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=bE(t,i);return EO(r.duration,r.delay,r.easing)}(i.timings,t.errors);t.currentAnimateTimings=n;let r,s=i.styles?i.styles:si({});if(s.type==Qi.Keyframes)r=this.visitKeyframes(s,t);else{let o=i.styles,p=!1;if(!o){p=!0;const D={};n.easing&&(D.easing=n.easing),o=si(D)}t.currentTime+=n.duration+n.delay;const C=this.visitStyle(o,t);C.isEmptyStep=p,r=C}return t.currentAnimateTimings=null,{type:Qi.Animate,timings:n,style:r,options:null}}visitStyle(i,t){const n=this._makeStyleAst(i,t);return this._validateStyleAst(n,t),n}_makeStyleAst(i,t){const n=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let p of r)"string"==typeof p?p===Rd?n.push(p):t.errors.push(new ue(3002,!1)):n.push(new Map(Object.entries(p)));let s=!1,o=null;return n.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(o=p.get("easing"),p.delete("easing")),!s))for(let C of p.values())if(C.toString().indexOf("{{")>=0){s=!0;break}}),{type:Qi.Style,styles:n,easing:o,offset:i.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(i,t){const n=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),i.styles.forEach(o=>{"string"!=typeof o&&o.forEach((p,C)=>{const D=t.collectedStyles.get(t.currentQuerySelector),R=D.get(C);let F=!0;R&&(s!=r&&s>=R.startTime&&r<=R.endTime&&(t.errors.push(function tzt(e,i,t,n,r){return new ue(3010,!1)}()),F=!1),s=R.startTime),F&&D.set(C,{startTime:s,endTime:r}),t.options&&function Pzt(e,i,t){const n=i.params||{},r=CZ(e);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||t.push(function jUt(e){return new ue(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(i,t){const n={type:Qi.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ezt(){return new ue(3011,!1)}()),n;let s=0;const o=[];let p=!1,C=!1,D=0;const R=i.steps.map(nt=>{const ct=this._makeStyleAst(nt,t);let lt=null!=ct.offset?ct.offset:function jzt(e){if("string"==typeof e)return null;let i=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;i=parseFloat(t.get("offset")),t.delete("offset")}return i}(ct.styles),wt=0;return null!=lt&&(s++,wt=ct.offset=lt),C=C||wt<0||wt>1,p=p||wt<D,D=wt,o.push(wt),ct});C&&t.errors.push(function izt(){return new ue(3012,!1)}()),p&&t.errors.push(function nzt(){return new ue(3200,!1)}());const F=i.steps.length;let B=0;s>0&&s<F?t.errors.push(function rzt(){return new ue(3202,!1)}()):0==s&&(B=1/(F-1));const V=F-1,X=t.currentTime,J=t.currentAnimateTimings,Q=J.duration;return R.forEach((nt,ct)=>{const lt=B>0?ct==V?1:B*ct:o[ct],wt=lt*Q;t.currentTime=X+J.delay+wt,J.duration=wt,this._validateStyleAst(nt,t),nt.offset=lt,n.styles.push(nt)}),n}visitReference(i,t){return{type:Qi.Reference,animation:hl(this,Tb(i.animation),t),options:gm(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:Qi.AnimateChild,options:gm(i.options)}}visitAnimateRef(i,t){return{type:Qi.AnimateRef,animation:this.visitReference(i.animation,t),options:gm(i.options)}}visitQuery(i,t){const n=t.currentQuerySelector,r=i.options||{};t.queryCount++,t.currentQuery=i;const[s,o]=function Hzt(e){const i=!!e.split(/\s*,\s*/).find(t=>":self"==t);return i&&(e=e.replace(zzt,"")),e=e.replace(/@\*/g,yE).replace(/@\w+/g,t=>yE+"-"+t.slice(1)).replace(/:animating/g,yO),[e,i]}(i.selector);t.currentQuerySelector=n.length?n+" "+s:s,ul(t.collectedStyles,t.currentQuerySelector,new Map);const p=hl(this,Tb(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:Qi.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:p,originalSelector:i.selector,options:gm(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function szt(){return new ue(3013,!1)}());const n="full"===i.timings?{duration:0,delay:0,easing:"full"}:bE(i.timings,t.errors,!0);return{type:Qi.Stagger,animation:hl(this,Tb(i.animation),t),timings:n,options:null}}}class Xzt{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gm(e){return e?(e={...e}).params&&(e.params=function Wzt(e){return e?{...e}:null}(e.params)):e={},e}function EO(e,i,t){return{duration:e,delay:i,easing:t}}function SO(e,i,t,n,r,s,o=null,p=!1){return{type:1,element:e,keyframes:i,preStyleProps:t,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:p}}class _E{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Kzt=new RegExp(":enter","g"),Jzt=new RegExp(":leave","g");function AO(e,i,t,n,r,s=new Map,o=new Map,p,C,D=[]){return(new qzt).buildKeyframes(e,i,t,n,r,s,o,p,C,D)}class qzt{buildKeyframes(i,t,n,r,s,o,p,C,D,R=[]){D=D||new _E;const F=new DO(i,t,D,r,s,R,[]);F.options=C;const B=C.delay?cu(C.delay):0;F.currentTimeline.delayNextStep(B),F.currentTimeline.setStyles([o],null,F.errors,C),hl(this,n,F);const V=F.timelines.filter(X=>X.containsAnimation());if(V.length&&p.size){let X;for(let J=V.length-1;J>=0;J--){const Q=V[J];if(Q.element===t){X=Q;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([p],null,F.errors,C)}return V.length?V.map(X=>X.buildKeyframes()):[SO(t,[],[],[],0,B,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const n=t.subInstructions.get(t.element);if(n){const r=t.createSubContext(i.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=i}visitAnimateRef(i,t){const n=t.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],t,n),this.visitReference(i.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=i}_applyAnimationRefDelays(i,t,n){for(const r of i){const s=r?.delay;if(s){const o="number"==typeof s?s:cu(Cb(s,r?.params??{},t.errors));n.delayNextStep(o)}}}_visitSubInstructions(i,t,n){let s=t.currentTimeline.currentTime;const o=null!=n.duration?cu(n.duration):null,p=null!=n.delay?cu(n.delay):null;return 0!==o&&i.forEach(C=>{const D=t.appendInstructionToTimeline(C,o,p);s=Math.max(s,D.duration+D.delay)}),s}visitReference(i,t){t.updateOptions(i.options,!0),hl(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const n=t.subContextCount;let r=t;const s=i.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){r.previousNode.type==Qi.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=EE);const o=cu(s.delay);r.delayNextStep(o)}i.steps.length&&(i.steps.forEach(o=>hl(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const n=[];let r=t.currentTimeline.currentTime;const s=i.options&&i.options.delay?cu(i.options.delay):0;i.steps.forEach(o=>{const p=t.createSubContext(i.options);s&&p.delayNextStep(s),hl(this,o,p),r=Math.max(r,p.currentTimeline.currentTime),n.push(p.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const n=i.strValue;return bE(t.params?Cb(n,t.params,t.errors):n,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const n=t.currentAnimateTimings=this._visitTiming(i.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const s=i.style;s.type==Qi.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const s=r&&r.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(s):n.setStyles(i.styles,s,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,s=n.duration,p=t.createSubContext().currentTimeline;p.easing=n.easing,i.styles.forEach(C=>{p.forwardTime((C.offset||0)*s),p.setStyles(C.styles,C.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(r+s),t.previousNode=i}visitQuery(i,t){const n=t.currentTimeline.currentTime,r=i.options||{},s=r.delay?cu(r.delay):0;s&&(t.previousNode.type===Qi.Style||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=EE);let o=n;const p=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=p.length;let C=null;p.forEach((D,R)=>{t.currentQueryIndex=R;const F=t.createSubContext(i.options,D);s&&F.delayNextStep(s),D===t.element&&(C=F.currentTimeline),hl(this,i.animation,F),F.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,F.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),C&&(t.currentTimeline.mergeTimelineCollectedStyles(C),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const n=t.parentContext,r=t.currentTimeline,s=i.timings,o=Math.abs(s.duration),p=o*(t.currentQueryTotal-1);let C=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":C=p-C;break;case"full":C=n.currentStaggerTime}const R=t.currentTimeline;C&&R.delayNextStep(C);const F=R.currentTime;hl(this,i.animation,t),t.previousNode=i,n.currentStaggerTime=r.currentTime-F+(r.startTime-n.currentTimeline.startTime)}}const EE={};class DO{constructor(i,t,n,r,s,o,p,C){this._driver=i,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=EE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new SE(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const n=i;let r=this.options;null!=n.duration&&(r.duration=cu(n.duration)),null!=n.delay&&(r.delay=cu(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(p=>{(!t||!o.hasOwnProperty(p))&&(o[p]=Cb(s[p],o,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const n=i.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return i}createSubContext(i=null,t,n){const r=t||this.element,s=new DO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(i),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(i){return this.previousNode=EE,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,n){const r={duration:t??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},s=new tGt(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,n,r,s,o){let p=[];if(r&&p.push(this.element),i.length>0){i=(i=i.replace(Kzt,"."+this._enterClassName)).replace(Jzt,"."+this._leaveClassName);let D=this._driver.query(this.element,i,1!=n);0!==n&&(D=n<0?D.slice(D.length+n,D.length):D.slice(0,n)),p.push(...D)}return!s&&0==p.length&&o.push(function azt(e){return new ue(3014,!1)}()),p}}class SE{constructor(i,t,n,r){this._driver=i,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new SE(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles.set(i,t),this._globalTimelineStyles.set(i,t),this._styleSummary.set(i,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||Rd),this._currentKeyframe.set(t,Rd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,n,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function eGt(e,i){const t=new Map;let n;return e.forEach(r=>{if("*"===r){n??=i.keys();for(let s of n)t.set(s,Rd)}else for(let[s,o]of r)t.set(s,o)}),t}(i,this._globalTimelineStyles);for(let[p,C]of o){const D=Cb(C,s,n);this._pendingStyles.set(p,D),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Rd),this._updateStyle(p,D)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,t)=>{this._currentKeyframe.set(t,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,i)}))}snapshotCurrentStyles(){for(let[i,t]of this._localTimelineStyles)this._pendingStyles.set(i,t),this._updateStyle(i,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((t,n)=>{const r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,C)=>{const D=new Map([...this._backFill,...p]);D.forEach((R,F)=>{"!"===R?i.add(F):R===Rd&&t.add(F)}),n||D.set("offset",C/this.duration),r.push(D)});const s=[...i.values()],o=[...t.values()];if(n){const p=r[0],C=new Map(p);p.set("offset",0),C.set("offset",1),r=[p,C]}return SO(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class tGt extends SE{constructor(i,t,n,r,s,o,p=!1){super(i,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=p,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=n+t,p=t/o,C=new Map(i[0]);C.set("offset",0),s.push(C);const D=new Map(i[0]);D.set("offset",DZ(p)),s.push(D);const R=i.length-1;for(let F=1;F<=R;F++){let B=new Map(i[F]);const V=B.get("offset");B.set("offset",DZ((t+V*n)/o)),s.push(B)}n=o,t=0,r="",i=s}return SO(this.element,i,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function DZ(e,i=3){const t=Math.pow(10,i-1);return Math.round(e*t)/t}function IZ(e,i,t,n,r,s,o,p,C,D,R,F,B){return{type:0,element:e,triggerName:i,isRemovalTransition:r,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:p,queriedElements:C,preStyleProps:D,postStyleProps:R,totalTime:F,errors:B}}const IO={};class MZ{constructor(i,t,n){this._triggerName=i,this.ast=t,this._stateStyles=n}match(i,t,n,r){return function iGt(e,i,t,n,r){return e.some(s=>s(i,t,n,r))}(this.ast.matchers,i,t,n,r)}buildStyles(i,t,n){let r=this._stateStyles.get("*");return void 0!==i&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(t,n):new Map}build(i,t,n,r,s,o,p,C,D,R){const F=[],B=this.ast.options&&this.ast.options.params||IO,X=this.buildStyles(n,p&&p.params||IO,F),J=C&&C.params||IO,Q=this.buildStyles(r,J,F),nt=new Set,ct=new Map,lt=new Map,wt="void"===r,Mt={params:RZ(J,B),delay:this.ast.options?.delay},Bt=R?[]:AO(i,t,this.ast.animation,s,o,X,Q,Mt,D,F);let pt=0;return Bt.forEach(ft=>{pt=Math.max(ft.duration+ft.delay,pt)}),F.length?IZ(t,this._triggerName,n,r,wt,X,Q,[],[],ct,lt,pt,F):(Bt.forEach(ft=>{const yt=ft.element,bt=ul(ct,yt,new Set);ft.preStyleProps.forEach(At=>bt.add(At));const _t=ul(lt,yt,new Set);ft.postStyleProps.forEach(At=>_t.add(At)),yt!==t&&nt.add(yt)}),IZ(t,this._triggerName,n,r,wt,X,Q,Bt,[...nt.values()],ct,lt,pt))}}function RZ(e,i){const t={...i};return Object.entries(e).forEach(([n,r])=>{null!=r&&(t[n]=r)}),t}class nGt{constructor(i,t,n){this.styles=i,this.defaultParams=t,this.normalizer=n}buildStyles(i,t){const n=new Map,r=RZ(i,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,p)=>{o&&(o=Cb(o,r,t));const C=this.normalizer.normalizePropertyName(p,t);o=this.normalizer.normalizeStyleValue(p,C,o,t),n.set(p,o)})}),n}}class sGt{constructor(i,t,n){this.name=i,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new nGt(r.style,r.options&&r.options.params||{},n))}),kZ(this.states,"true","1"),kZ(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new MZ(i,r,this.states))}),this.fallbackTransition=function aGt(e,i,t){return new MZ(e,{type:Qi.Transition,animation:{type:Qi.Sequence,steps:[],options:null},matchers:[(o,p)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,n,r){return this.transitionFactories.find(o=>o.match(i,t,n,r))||null}matchStyles(i,t,n){return this.fallbackTransition.buildStyles(i,t,n)}}function kZ(e,i,t){e.has(i)?e.has(t)||e.set(t,e.get(i)):e.has(t)&&e.set(i,e.get(t))}const oGt=new _E;class lGt{constructor(i,t,n){this.bodyNode=i,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,t){const n=[],s=_O(this._driver,t,n,[]);if(n.length)throw function fzt(e){return new ue(3503,!1)}();this._animations.set(i,s)}_buildPlayer(i,t,n){const r=i.element,s=pZ(this._normalizer,i.keyframes,t,n);return this._driver.animate(r,s,i.duration,i.delay,i.easing,[],!0)}create(i,t,n={}){const r=[],s=this._animations.get(i);let o;const p=new Map;if(s?(o=AO(this._driver,t,s,xO,vE,new Map,new Map,n,oGt,r),o.forEach(R=>{const F=ul(p,R.element,new Map);R.postStyleProps.forEach(B=>F.set(B,null))})):(r.push(function mzt(){return new ue(3300,!1)}()),o=[]),r.length)throw function pzt(e){return new ue(3504,!1)}();p.forEach((R,F)=>{R.forEach((B,V)=>{R.set(V,this._driver.computeStyle(F,V,Rd))})});const D=Ih(o.map(R=>{const F=p.get(R.element);return this._buildPlayer(R,new Map,F)}));return this._playersById.set(i,D),D.onDestroy(()=>this.destroy(i)),this.players.push(D),D}destroy(i){const t=this._getPlayer(i);t.destroy(),this._playersById.delete(i);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(i){const t=this._playersById.get(i);if(!t)throw function gzt(e){return new ue(3301,!1)}();return t}listen(i,t,n,r){const s=fO(t,"","","");return uO(this._getPlayer(i),n,s,r),()=>{}}command(i,t,n,r){if("register"==n)return void this.register(i,r[0]);if("create"==n)return void this.create(i,t,r[0]||{});const s=this._getPlayer(i);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i)}}}const PZ="ng-animate-queued",MO="ng-animate-disabled",fGt=[],FZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mGt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},uc="__ng_removed";class RO{get params(){return this.options.params}constructor(i,t=""){this.namespaceId=t;const n=i&&i.hasOwnProperty("value");if(this.value=function xGt(e){return e??null}(n?i.value:i),n){const{value:s,...o}=i;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const t=i.params;if(t){const n=this.options.params;Object.keys(t).forEach(r=>{null==n[r]&&(n[r]=t[r])})}}}const _b="void",kO=new RO(_b);class pGt{constructor(i,t,n){this.id=i,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Bl(t,this._hostClassName)}listen(i,t,n,r){if(!this._triggers.has(t))throw function vzt(e,i){return new ue(3302,!1)}();if(null==n||0==n.length)throw function xzt(e){return new ue(3303,!1)}();if(!function yGt(e){return"start"==e||"done"==e}(n))throw function yzt(e,i){return new ue(3400,!1)}();const s=ul(this._elementListeners,i,[]),o={name:t,phase:n,callback:r};s.push(o);const p=ul(this._engine.statesByElement,i,new Map);return p.has(t)||(Bl(i,xE),Bl(i,xE+"-"+t),p.set(t,kO)),()=>{this._engine.afterFlush(()=>{const C=s.indexOf(o);C>=0&&s.splice(C,1),this._triggers.has(t)||p.delete(t)})}}register(i,t){return!this._triggers.has(i)&&(this._triggers.set(i,t),!0)}_getTrigger(i){const t=this._triggers.get(i);if(!t)throw function bzt(e){return new ue(3401,!1)}();return t}trigger(i,t,n,r=!0){const s=this._getTrigger(t),o=new PO(this.id,t,i);let p=this._engine.statesByElement.get(i);p||(Bl(i,xE),Bl(i,xE+"-"+t),this._engine.statesByElement.set(i,p=new Map));let C=p.get(t);const D=new RO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&C&&D.absorbOptions(C.options),p.set(t,D),C||(C=kO),D.value!==_b&&C.value===D.value){if(!function TGt(e,i){const t=Object.keys(e),n=Object.keys(i);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!i.hasOwnProperty(s)||e[s]!==i[s])return!1}return!0}(C.params,D.params)){const J=[],Q=s.matchStyles(C.value,C.params,J),nt=s.matchStyles(D.value,D.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{pm(i,Q),id(i,nt)})}return}const B=ul(this._engine.playersByElement,i,[]);B.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let V=s.matchTransition(C.value,D.value,i,D.params),X=!1;if(!V){if(!r)return;V=s.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:V,fromState:C,toState:D,player:o,isFallbackTransition:X}),X||(Bl(i,PZ),o.onStart(()=>{bv(i,PZ)})),o.onDone(()=>{let J=this.players.indexOf(o);J>=0&&this.players.splice(J,1);const Q=this._engine.playersByElement.get(i);if(Q){let nt=Q.indexOf(o);nt>=0&&Q.splice(nt,1)}}),this.players.push(o),B.push(o),o}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(t=>t.delete(i)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const n=this._engine.driver.query(i,yE,!0);n.forEach(r=>{if(r[uc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,t,n,r){const s=this._engine.statesByElement.get(i),o=new Map;if(s){const p=[];if(s.forEach((C,D)=>{if(o.set(D,C.value),this._triggers.has(D)){const R=this.trigger(i,D,_b,r);R&&p.push(R)}}),p.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,o),n&&Ih(p).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(t&&n){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const C=this._triggers.get(o).fallbackTransition,D=n.get(o)||kO,R=new RO(_b),F=new PO(this.id,o,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:C,fromState:D,toState:R,player:F,isFallbackTransition:!0})})}}removeNode(i,t){const n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(i):[];if(s&&s.length)r=!0;else{let o=i;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)n.markElementAsRemoved(this.id,i,!1,t);else{const s=i[uc];(!s||s===FZ)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,t))}}insertNode(i,t){Bl(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(p=>{if(p.name==n.triggerName){const C=fO(s,n.triggerName,n.fromState.value,n.toState.value);C._data=i,uO(n.player,p.phase,C,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class gGt{_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}constructor(i,t,n,r){this.bodyNode=i,this.driver=t,this._normalizer=n,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,t){const n=new pGt(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,t){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,p=this.driver.getParentElement(t);for(;p;){const C=r.get(p);if(C){const D=n.indexOf(C);n.splice(D+1,0,i),o=!0;break}p=this.driver.getParentElement(p)}o||n.unshift(i)}else n.push(i);return r.set(t,i),i}register(i,t){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,t)),n}registerTrigger(i,t,n){let r=this._namespaceLookup[i];r&&r.register(t,n)&&this.totalAnimations++}destroy(i,t){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,n=this.statesByElement.get(i);if(n)for(let r of n.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(i,t,n,r){if(AE(t)){const s=this._fetchNamespace(i);if(s)return s.trigger(t,n,r),!0}return!1}insertNode(i,t,n,r){if(!AE(t))return;const s=t[uc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(i){const o=this._fetchNamespace(i);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Bl(i,MO)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),bv(i,MO))}removeNode(i,t,n){if(AE(t)){this.scheduler?.notify();const r=i?this._fetchNamespace(i):null;r?r.removeNode(t,n):this.markElementAsRemoved(i,t,!1,n);const s=this.namespacesByHostElement.get(t);s&&s.id!==i&&s.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(i,t,n,r,s){this.collectedLeaveElements.push(t),t[uc]={namespaceId:i,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(i,t,n,r,s){return AE(t)?this._fetchNamespace(i).listen(t,n,r,s):()=>{}}_buildInstruction(i,t,n,r,s){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,r,i.fromState.options,i.toState.options,t,s)}destroyInnerAnimations(i){let t=this.driver.query(i,yE,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,yO,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Ih(this.players).onDone(()=>i());i()})}processLeaveNode(i){const t=i[uc];if(t&&t.setForRemoval){if(i[uc]=FZ,t.namespaceId){this.destroyInnerAnimations(i);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,t.setForRemoval)}i.classList?.contains(MO)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Bl(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,i)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?Ih(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(i){throw function wzt(e){return new ue(3402,!1)}()}_flushAnimations(i,t){const n=new _E,r=[],s=new Map,o=[],p=new Map,C=new Map,D=new Map,R=new Set;this.disabledNodes.forEach(we=>{R.add(we);const ae=this.driver.query(we,".ng-animate-queued",!0);for(let _e=0;_e<ae.length;_e++)R.add(ae[_e])});const F=this.bodyNode,B=Array.from(this.statesByElement.keys()),V=NZ(B,this.collectedEnterElements),X=new Map;let J=0;V.forEach((we,ae)=>{const _e=xO+J++;X.set(ae,_e),we.forEach(Je=>Bl(Je,_e))});const Q=[],nt=new Set,ct=new Set;for(let we=0;we<this.collectedLeaveElements.length;we++){const ae=this.collectedLeaveElements[we],_e=ae[uc];_e&&_e.setForRemoval&&(Q.push(ae),nt.add(ae),_e.hasAnimation?this.driver.query(ae,".ng-star-inserted",!0).forEach(Je=>nt.add(Je)):ct.add(ae))}const lt=new Map,wt=NZ(B,Array.from(nt));wt.forEach((we,ae)=>{const _e=vE+J++;lt.set(ae,_e),we.forEach(Je=>Bl(Je,_e))}),i.push(()=>{V.forEach((we,ae)=>{const _e=X.get(ae);we.forEach(Je=>bv(Je,_e))}),wt.forEach((we,ae)=>{const _e=lt.get(ae);we.forEach(Je=>bv(Je,_e))}),Q.forEach(we=>{this.processLeaveNode(we)})});const Mt=[],Bt=[];for(let we=this._namespaceList.length-1;we>=0;we--)this._namespaceList[we].drainQueuedTransitions(t).forEach(_e=>{const Je=_e.player,Ee=_e.element;if(Mt.push(Je),this.collectedEnterElements.length){const ii=Ee[uc];if(ii&&ii.setForMove){if(ii.previousTriggersValues&&ii.previousTriggersValues.has(_e.triggerName)){const Pt=ii.previousTriggersValues.get(_e.triggerName),jt=this.statesByElement.get(_e.element);if(jt&&jt.has(_e.triggerName)){const Xt=jt.get(_e.triggerName);Xt.value=Pt,jt.set(_e.triggerName,Xt)}}return void Je.destroy()}}const ki=!F||!this.driver.containsElement(F,Ee),ie=lt.get(Ee),Ne=X.get(Ee),Se=this._buildInstruction(_e,n,Ne,ie,ki);if(Se.errors&&Se.errors.length)return void Bt.push(Se);if(ki)return Je.onStart(()=>pm(Ee,Se.fromStyles)),Je.onDestroy(()=>id(Ee,Se.toStyles)),void r.push(Je);if(_e.isFallbackTransition)return Je.onStart(()=>pm(Ee,Se.fromStyles)),Je.onDestroy(()=>id(Ee,Se.toStyles)),void r.push(Je);const ui=[];Se.timelines.forEach(ii=>{ii.stretchStartingKeyframe=!0,this.disabledNodes.has(ii.element)||ui.push(ii)}),Se.timelines=ui,n.append(Ee,Se.timelines),o.push({instruction:Se,player:Je,element:Ee}),Se.queriedElements.forEach(ii=>ul(p,ii,[]).push(Je)),Se.preStyleProps.forEach((ii,Pt)=>{if(ii.size){let jt=C.get(Pt);jt||C.set(Pt,jt=new Set),ii.forEach((Xt,Gt)=>jt.add(Gt))}}),Se.postStyleProps.forEach((ii,Pt)=>{let jt=D.get(Pt);jt||D.set(Pt,jt=new Set),ii.forEach((Xt,Gt)=>jt.add(Gt))})});if(Bt.length){const we=[];Bt.forEach(ae=>{we.push(function Tzt(e,i){return new ue(3505,!1)}())}),Mt.forEach(ae=>ae.destroy()),this.reportError(we)}const pt=new Map,ft=new Map;o.forEach(we=>{const ae=we.element;n.has(ae)&&(ft.set(ae,ae),this._beforeAnimationBuild(we.player.namespaceId,we.instruction,pt))}),r.forEach(we=>{const ae=we.element;this._getPreviousPlayers(ae,!1,we.namespaceId,we.triggerName,null).forEach(Je=>{ul(pt,ae,[]).push(Je),Je.destroy()})});const yt=Q.filter(we=>VZ(we,C,D)),bt=new Map;LZ(bt,this.driver,ct,D,Rd).forEach(we=>{VZ(we,C,D)&&yt.push(we)});const At=new Map;V.forEach((we,ae)=>{LZ(At,this.driver,new Set(we),C,"!")}),yt.forEach(we=>{const ae=bt.get(we),_e=At.get(we);bt.set(we,new Map([...ae?.entries()??[],..._e?.entries()??[]]))});const Et=[],Ye=[],Ie={};o.forEach(we=>{const{element:ae,player:_e,instruction:Je}=we;if(n.has(ae)){if(R.has(ae))return _e.onDestroy(()=>id(ae,Je.toStyles)),_e.disabled=!0,_e.overrideTotalTime(Je.totalTime),void r.push(_e);let Ee=Ie;if(ft.size>1){let ie=ae;const Ne=[];for(;ie=ie.parentNode;){const Se=ft.get(ie);if(Se){Ee=Se;break}Ne.push(ie)}Ne.forEach(Se=>ft.set(Se,Ee))}const ki=this._buildAnimation(_e.namespaceId,Je,pt,s,At,bt);if(_e.setRealPlayer(ki),Ee===Ie)Et.push(_e);else{const ie=this.playersByElement.get(Ee);ie&&ie.length&&(_e.parentPlayer=Ih(ie)),r.push(_e)}}else pm(ae,Je.fromStyles),_e.onDestroy(()=>id(ae,Je.toStyles)),Ye.push(_e),R.has(ae)&&r.push(_e)}),Ye.forEach(we=>{const ae=s.get(we.element);if(ae&&ae.length){const _e=Ih(ae);we.setRealPlayer(_e)}}),r.forEach(we=>{we.parentPlayer?we.syncPlayerEvents(we.parentPlayer):we.destroy()});for(let we=0;we<Q.length;we++){const ae=Q[we],_e=ae[uc];if(bv(ae,vE),_e&&_e.hasAnimation)continue;let Je=[];if(p.size){let ki=p.get(ae);ki&&ki.length&&Je.push(...ki);let ie=this.driver.query(ae,yO,!0);for(let Ne=0;Ne<ie.length;Ne++){let Se=p.get(ie[Ne]);Se&&Se.length&&Je.push(...Se)}}const Ee=Je.filter(ki=>!ki.destroyed);Ee.length?bGt(this,ae,Ee):this.processLeaveNode(ae)}return Q.length=0,Et.forEach(we=>{this.players.push(we),we.onDone(()=>{we.destroy();const ae=this.players.indexOf(we);this.players.splice(ae,1)}),we.play()}),Et}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,n,r,s){let o=[];if(t){const p=this.playersByQueriedElement.get(i);p&&(o=p)}else{const p=this.playersByElement.get(i);if(p){const C=!s||s==_b;p.forEach(D=>{D.queued||!C&&D.triggerName!=r||o.push(D)})}}return(n||r)&&(o=o.filter(p=>!(n&&n!=p.namespaceId||r&&r!=p.triggerName))),o}_beforeAnimationBuild(i,t,n){const s=t.element,o=t.isRemovalTransition?void 0:i,p=t.isRemovalTransition?void 0:t.triggerName;for(const C of t.timelines){const D=C.element,R=D!==s,F=ul(n,D,[]);this._getPreviousPlayers(D,R,o,p,t.toState).forEach(V=>{const X=V.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),V.destroy(),F.push(V)})}pm(s,t.fromStyles)}_buildAnimation(i,t,n,r,s,o){const p=t.triggerName,C=t.element,D=[],R=new Set,F=new Set,B=t.timelines.map(X=>{const J=X.element;R.add(J);const Q=J[uc];if(Q&&Q.removedBeforeQueried)return new Ex(X.duration,X.delay);const nt=J!==C,ct=function wGt(e){const i=[];return BZ(e,i),i}((n.get(J)||fGt).map(pt=>pt.getRealPlayer())).filter(pt=>!!pt.element&&pt.element===J),lt=s.get(J),wt=o.get(J),Mt=pZ(this._normalizer,X.keyframes,lt,wt),Bt=this._buildPlayer(X,Mt,ct);if(X.subTimeline&&r&&F.add(J),nt){const pt=new PO(i,p,J);pt.setRealPlayer(Bt),D.push(pt)}return Bt});D.forEach(X=>{ul(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function vGt(e,i,t){let n=e.get(i);if(n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&e.delete(i)}return n}(this.playersByQueriedElement,X.element,X))}),R.forEach(X=>Bl(X,wZ));const V=Ih(B);return V.onDestroy(()=>{R.forEach(X=>bv(X,wZ)),id(C,t.toStyles)}),F.forEach(X=>{ul(r,X,[]).push(V)}),V}_buildPlayer(i,t,n){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,n):new Ex(i.duration,i.delay)}}class PO{constructor(i,t,n){this.namespaceId=i,this.triggerName=t,this.element=n,this._player=new Ex,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>uO(i,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){ul(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function AE(e){return e&&1===e.nodeType}function OZ(e,i){const t=e.style.display;return e.style.display=i??"none",t}function LZ(e,i,t,n,r){const s=[];t.forEach(C=>s.push(OZ(C)));const o=[];n.forEach((C,D)=>{const R=new Map;C.forEach(F=>{const B=i.computeStyle(D,F,r);R.set(F,B),(!B||0==B.length)&&(D[uc]=mGt,o.push(D))}),e.set(D,R)});let p=0;return t.forEach(C=>OZ(C,s[p++])),o}function NZ(e,i){const t=new Map;if(e.forEach(p=>t.set(p,[])),0==i.length)return t;const r=new Set(i),s=new Map;function o(p){if(!p)return 1;let C=s.get(p);if(C)return C;const D=p.parentNode;return C=t.has(D)?D:r.has(D)?1:o(D),s.set(p,C),C}return i.forEach(p=>{const C=o(p);1!==C&&t.get(C).push(p)}),t}function Bl(e,i){e.classList?.add(i)}function bv(e,i){e.classList?.remove(i)}function bGt(e,i,t){Ih(t).onDone(()=>e.processLeaveNode(i))}function BZ(e,i){for(let t=0;t<e.length;t++){const n=e[t];n instanceof HU?BZ(n.players,i):i.push(n)}}function VZ(e,i,t){const n=t.get(e);if(!n)return!1;let r=i.get(e);return r?n.forEach(s=>r.add(s)):i.set(e,n),t.delete(e),!0}class Eb{constructor(i,t,n,r){this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new gGt(i.body,t,n,r),this._timelineEngine=new lGt(i.body,t,n),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(i,t,n,r,s){const o=i+"-"+r;let p=this._triggerCache[o];if(!p){const C=[],R=_O(this._driver,s,C,[]);if(C.length)throw function uzt(e,i){return new ue(3404,!1)}();p=function rGt(e,i,t){return new sGt(e,i,t)}(r,R,this._normalizer),this._triggerCache[o]=p}this._transitionEngine.registerTrigger(t,r,p)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,n,r){this._transitionEngine.insertNode(i,t,n,r)}onRemove(i,t,n){this._transitionEngine.removeNode(i,t,n)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,n,r){if("@"==n.charAt(0)){const[s,o]=gZ(n);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(i,t,n,r)}listen(i,t,n,r,s){if("@"==n.charAt(0)){const[o,p]=gZ(n);return this._timelineEngine.listen(o,t,p,s)}return this._transitionEngine.listen(i,t,n,r,s)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}class Sb{static#t=this.initialStylesByElement=new WeakMap;constructor(i,t,n){this._element=i,this._startStyles=t,this._endStyles=n,this._state=0;let r=Sb.initialStylesByElement.get(i);r||Sb.initialStylesByElement.set(i,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&id(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(id(this._element,this._initialStyles),this._endStyles&&(id(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Sb.initialStylesByElement.delete(this._element),this._startStyles&&(pm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pm(this._element,this._endStyles),this._endStyles=null),id(this._element,this._initialStyles),this._state=3)}}function FO(e){let i=null;return e.forEach((t,n)=>{(function _Gt(e){return"display"===e||"position"===e})(n)&&(i=i||new Map,i.set(n,t))}),i}class UZ{constructor(i,t,n,r){this.element=i,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const t=[];return i.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(i,t,n){return i.animate(this._convertKeyframesToObject(t),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&i.set(r,this._finished?n:CO(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){const t="start"===i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class zZ{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,t){return!1}containsElement(i,t){return xZ(i,t)}getParentElement(i){return mO(i)}query(i,t,n){return yZ(i,t,n)}computeStyle(i,t,n){return CO(i,t)}animate(i,t,n,r,s,o=[]){const C={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(C.easing=s);const D=new Map,R=o.filter(V=>V instanceof UZ);(function Ozt(e,i){return 0===e||0===i})(n,r)&&R.forEach(V=>{V.currentSnapshot.forEach((X,J)=>D.set(J,X))});let F=function kzt(e){return e.length?e[0]instanceof Map?e:e.map(i=>new Map(Object.entries(i))):[]}(t).map(V=>new Map(V));F=function Lzt(e,i,t){if(t.size&&i.length){let n=i[0],r=[];if(t.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<i.length;s++){let o=i[s];r.forEach(p=>o.set(p,CO(e,p)))}}return i}(i,F,D);const B=function CGt(e,i){let t=null,n=null;return Array.isArray(i)&&i.length?(t=FO(i[0]),i.length>1&&(n=FO(i[i.length-1]))):i instanceof Map&&(t=FO(i)),t||n?new Sb(e,t,n):null}(i,F);return new UZ(i,F,C,B)}}const GZ="@.disabled";class HZ{constructor(i,t,n,r){this.namespaceId=i,this.delegate=t,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,n,r=!0){this.delegate.insertBefore(i,t,n),this.engine.onInsert(this.namespaceId,t,i,r)}removeChild(i,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,n,r){this.delegate.setAttribute(i,t,n,r)}removeAttribute(i,t,n){this.delegate.removeAttribute(i,t,n)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,n,r){this.delegate.setStyle(i,t,n,r)}removeStyle(i,t,n){this.delegate.removeStyle(i,t,n)}setProperty(i,t,n){"@"==t.charAt(0)&&t==GZ?this.disableAnimations(i,!!n):this.delegate.setProperty(i,t,n)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,n){return this.delegate.listen(i,t,n)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class EGt extends HZ{constructor(i,t,n,r,s){super(t,n,r,s),this.factory=i,this.namespaceId=t}setProperty(i,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==GZ?this.disableAnimations(i,n=void 0===n||!!n):this.engine.process(this.namespaceId,i,t.slice(1),n):this.delegate.setProperty(i,t,n)}listen(i,t,n){if("@"==t.charAt(0)){const r=function SGt(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(i);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function AGt(e){const i=e.indexOf(".");return[e.substring(0,i),e.slice(i+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,p=>{this.factory.scheduleListenerCallback(p._data||-1,n,p)})}return this.delegate.listen(i,t,n)}}class DGt{constructor(i,t,n){this.delegate=i,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{const o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(i,t){const r=this.delegate.createRenderer(i,t);if(!i||!t?.data?.animation){const D=this._rendererCache;let R=D.get(r);return R||(R=new HZ("",r,this.engine,()=>D.delete(r)),D.set(r,R)),R}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,i);const p=D=>{Array.isArray(D)?D.forEach(p):this.engine.registerTrigger(s,o,i,D.name,D)};return t.data.animation.forEach(p),new EGt(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,t,n){if(i>=0&&i<this._microtaskId)return void this._zone.run(()=>t(n));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{const[o,p]=s;o(p)}),this._animationCallbacksBuffer=[]})}),r.push([t,n])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const WZ=[{provide:vO,useFactory:function MGt(){return new _Z}},{provide:Eb,useClass:(()=>{class e extends Eb{constructor(t,n,r){super(t,n,r,fe(W1,{optional:!0}))}ngOnDestroy(){this.flush()}static#t=this.\u0275fac=function(n){return new(n||e)(Kt(Ni),Kt(gO),Kt(vO))};static#e=this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})()},{provide:WA,useFactory:function RGt(e,i,t){return new DGt(e,i,t)},deps:[A2,Eb,Ze]}],OO=[{provide:gO,useFactory:()=>new zZ},{provide:Sr,useValue:"BrowserAnimations"},...WZ],XZ=[{provide:gO,useClass:pO},{provide:Sr,useValue:"NoopAnimations"},...WZ];let kGt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?XZ:OO}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:OO,imports:[r6]})}return e})(),GGt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$i,Qp]})}return e})();Cf("firebase","10.12.3","app"),P7({apiKey:"AIzaSyAFjiIuMBA1IpTrw__WdkQiK5PKht4_go8",authDomain:"snoguess-e4d1c.firebaseapp.com",projectId:"snoguess-e4d1c",storageBucket:"snoguess-e4d1c.appspot.com",messagingSenderId:"289449411190",appId:"1:289449411190:web:49ff68411f9e5148f11557"});let XGt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e,bootstrap:[HUt]});static#i=this.\u0275inj=Pi({imports:[rgt,r6,G1t,UPt,kGt,eTt,TUt,jI,z0t,ext,M0t,X_t,mC,Dbt,oxt,Fbt,Fyt,V1t,pxt,Vxt,tH,LM,sH,Twt,kTt,UTt,pTt,ZTt,uPt,YCt,LM,RUt,GGt,c_t]})}return e})();lht().bootstrapModule(XGt).catch(e=>console.error(e))},867:(Ms,rd,as)=>{const uo=as(293).a,de=as(687).array;Ms.exports=class _{constructor(a={}){Object.assign(this,{list:a.emptyList&&[]||Array.prototype.concat.apply(uo,[de,a.list||[]]),exclude:a.exclude||[],splitRegex:a.splitRegex||/\b/,placeHolder:a.placeHolder||"*",regex:a.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:a.replaceRegex||/\w/g})}isProfane(a){return this.list.filter(b=>{const T=new RegExp(`\\b${b.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(b.toLowerCase())&&T.test(a)}).length>0||!1}replaceWord(a){return a.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(a){return a.split(this.splitRegex).map(b=>this.isProfane(b)?this.replaceWord(b):b).join(this.splitRegex.exec(a)[0])}addWords(){let a=Array.from(arguments);this.list.push(...a),a.map(b=>b.toLowerCase()).forEach(b=>{this.exclude.includes(b)&&this.exclude.splice(this.exclude.indexOf(b),1)})}removeWords(){this.exclude.push(...Array.from(arguments).map(a=>a.toLowerCase()))}}},402:Ms=>{Ms.exports=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"]},687:(Ms,rd,as)=>{Ms.exports={object:as(424),array:as(402),regex:as(658)}},424:Ms=>{Ms.exports={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1}},658:Ms=>{Ms.exports=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi},578:function(Ms,rd){var as,de;void 0!==(de="function"==typeof(as=function(){"use strict";function k(u,l,d){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){h(f.response,l,d)},f.onerror=function(){console.error("could not download file")},f.send()}function a(u){var l=new XMLHttpRequest;l.open("HEAD",u,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function b(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(l)}}var T="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,g=T.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=T.saveAs||("object"!=typeof window||window!==T?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(u,l,d){var f=T.URL||T.webkitURL,c=document.createElement("a");c.download=l=l||u.name||"download",c.rel="noopener","string"==typeof u?(c.href=u,c.origin===location.origin?b(c):a(c.href)?k(u,l,d):b(c,c.target="_blank")):(c.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(c.href)},4e4),setTimeout(function(){b(c)},0))}:"msSaveOrOpenBlob"in navigator?function(u,l,d){if(l=l||u.name||"download","string"!=typeof u)navigator.msSaveOrOpenBlob(function _(u,l){return typeof l>"u"?l={autoBom:!1}:"object"!=typeof l&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\ufeff",u],{type:u.type}):u}(u,d),l);else if(a(u))k(u,l,d);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){b(f)})}}:function(u,l,d,f){if((f=f||open("","_blank"))&&(f.document.title=f.document.body.innerText="downloading..."),"string"==typeof u)return k(u,l,d);var c="application/octet-stream"===u.type,m=/constructor/i.test(T.HTMLElement)||T.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||c&&m||g)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var E=x.result;E=v?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=E:location=E,f=null},x.readAsDataURL(u)}else{var y=T.URL||T.webkitURL,w=y.createObjectURL(u);f?f.location=w:location.href=w,f=null,setTimeout(function(){y.revokeObjectURL(w)},4e4)}});T.saveAs=h.saveAs=h,Ms.exports=h})?as.apply(rd,[]):as)&&(Ms.exports=de)},945:function(Ms){var uo;uo=()=>(()=>{var rd={50792:_=>{"use strict";var k=Object.prototype.hasOwnProperty,a="~";function b(){}function T(l,d,f){this.fn=l,this.context=d,this.once=f||!1}function g(l,d,f,c,m){if("function"!=typeof f)throw new TypeError("The listener must be a function");var v=new T(f,c||l,m),x=a?a+d:d;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],v]:l._events[x].push(v):(l._events[x]=v,l._eventsCount++),l}function h(l,d){0==--l._eventsCount?l._events=new b:delete l._events[d]}function u(){this._events=new b,this._eventsCount=0}Object.create&&(b.prototype=Object.create(null),(new b).__proto__||(a=!1)),u.prototype.eventNames=function(){var f,c,d=[];if(0===this._eventsCount)return d;for(c in f=this._events)k.call(f,c)&&d.push(a?c.slice(1):c);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},u.prototype.listeners=function(d){var c=this._events[a?a+d:d];if(!c)return[];if(c.fn)return[c.fn];for(var m=0,v=c.length,x=new Array(v);m<v;m++)x[m]=c[m].fn;return x},u.prototype.listenerCount=function(d){var c=this._events[a?a+d:d];return c?c.fn?1:c.length:0},u.prototype.emit=function(d,f,c,m,v,x){var y=a?a+d:d;if(!this._events[y])return!1;var S,A,w=this._events[y],E=arguments.length;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,c),!0;case 4:return w.fn.call(w.context,f,c,m),!0;case 5:return w.fn.call(w.context,f,c,m,v),!0;case 6:return w.fn.call(w.context,f,c,m,v,x),!0}for(A=1,S=new Array(E-1);A<E;A++)S[A-1]=arguments[A];w.fn.apply(w.context,S)}else{var M,I=w.length;for(A=0;A<I;A++)switch(w[A].once&&this.removeListener(d,w[A].fn,void 0,!0),E){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,f);break;case 3:w[A].fn.call(w[A].context,f,c);break;case 4:w[A].fn.call(w[A].context,f,c,m);break;default:if(!S)for(M=1,S=new Array(E-1);M<E;M++)S[M-1]=arguments[M];w[A].fn.apply(w[A].context,S)}}return!0},u.prototype.on=function(d,f,c){return g(this,d,f,c,!1)},u.prototype.once=function(d,f,c){return g(this,d,f,c,!0)},u.prototype.removeListener=function(d,f,c,m){var v=a?a+d:d;if(!this._events[v])return this;if(!f)return h(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!m||x.once)&&(!c||x.context===c)&&h(this,v);else{for(var y=0,w=[],E=x.length;y<E;y++)(x[y].fn!==f||m&&!x[y].once||c&&x[y].context!==c)&&w.push(x[y]);w.length?this._events[v]=1===w.length?w[0]:w:h(this,v)}return this},u.prototype.removeAllListeners=function(d){var f;return d?this._events[f=a?a+d:d]&&h(this,f):(this._events=new b,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=a,u.EventEmitter=u,_.exports=u},11517:(_,k,a)=>{var b=a(38829);_.exports=function(g,h,u,l){for(var d=g[0],f=1;f<g.length;f++){var c=g[f];b(c,d,h,u,l),d=c}return g}},80318:(_,k,a)=>{var b=a(66979);_.exports=function(g,h,u,l,d){return b(g,"angle",h,u,l,d)}},60757:_=>{_.exports=function(a,b,T){for(var g=0;g<a.length;g++)b.call(T,a[g]);return a}},69927:_=>{_.exports=function(a,b,T){void 0===T&&(T=0);for(var g=T;g<a.length;g++){var h=a[g],u=!0;for(var l in b)h[l]!==b[l]&&(u=!1);if(u)return h}return null}},32265:_=>{_.exports=function(a,b,T){void 0===T&&(T=0);for(var g=a.length-1;g>=T;g--){var h=a[g],u=!0;for(var l in b)h[l]!==b[l]&&(u=!1);if(u)return h}return null}},94420:(_,k,a)=>{var b=a(11879),T=a(60461),g=a(95540),h=a(29747),l=new(a(41481))({sys:{queueDepthSort:h,events:{once:h}}},0,0,1,1).setOrigin(0,0);_.exports=function(f,c){void 0===c&&(c={});var m=c.hasOwnProperty("width"),v=c.hasOwnProperty("height"),x=g(c,"width",-1),y=g(c,"height",-1),w=g(c,"cellWidth",1),E=g(c,"cellHeight",w),S=g(c,"position",T.TOP_LEFT),A=g(c,"x",0),I=g(c,"y",0),M=0,P=0,O=x*w,N=y*E;l.setPosition(A,I),l.setSize(w,E);for(var L=0;L<f.length;L++)if(b(f[L],l,S),m&&-1===x)l.x+=w;else if(v&&-1===y)l.y+=E;else if(v&&!m){if(P+=E,l.y+=E,P===N&&(P=0,M+=w,l.y=I,l.x+=w,M===O))break}else if(M+=w,l.x+=w,M===O&&(M=0,P+=E,l.x=A,l.y+=E,P===N))break;return f}},41721:(_,k,a)=>{var b=a(66979);_.exports=function(g,h,u,l,d){return b(g,"alpha",h,u,l,d)}},67285:(_,k,a)=>{var b=a(66979);_.exports=function(g,h,u,l,d){return b(g,"x",h,u,l,d)}},9074:(_,k,a)=>{var b=a(66979);_.exports=function(g,h,u,l,d,f,c){return null==u&&(u=h),b(g,"x",h,l,f,c),b(g,"y",u,d,f,c)}},75222:(_,k,a)=>{var b=a(66979);_.exports=function(g,h,u,l,d){return b(g,"y",h,u,l,d)}},22983:_=>{_.exports=function(a,b,T,g){void 0===T&&(T=0),void 0===g&&(g=6.28);for(var h=T,u=(g-T)/a.length,l=b.x,d=b.y,f=b.radius,c=0;c<a.length;c++)a[c].x=l+f*Math.cos(h),a[c].y=d+f*Math.sin(h),h+=u;return a}},95253:_=>{_.exports=function(a,b,T,g){void 0===T&&(T=0),void 0===g&&(g=6.28);for(var h=T,u=(g-T)/a.length,l=b.width/2,d=b.height/2,f=0;f<a.length;f++)a[f].x=b.x+l*Math.cos(h),a[f].y=b.y+d*Math.sin(h),h+=u;return a}},88505:(_,k,a)=>{var b=a(15258),T=a(26708);_.exports=function(h,u,l){var d;d=l?T(u,l,h.length):b(u,h.length);for(var f=0;f<h.length;f++){var c=h[f],m=d[f];c.x=m.x,c.y=m.y}return h}},41346:(_,k,a)=>{var b=a(14649),T=a(86003),g=a(49498);_.exports=function(u,l,d){void 0===d&&(d=0);var f=b(l,!1,u.length);d>0?T(f,d):d<0&&g(f,Math.abs(d));for(var c=0;c<u.length;c++)u[c].x=f[c].x,u[c].y=f[c].y;return u}},11575:(_,k,a)=>{var b=a(84993);_.exports=function(g,h,u){var l=b({x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2},u),d=b({x1:h.x2,y1:h.y2,x2:h.x3,y2:h.y3},u),f=b({x1:h.x3,y1:h.y3,x2:h.x1,y2:h.y1},u);l.pop(),d.pop(),f.pop();for(var c=(l=l.concat(d,f)).length/g.length,m=0,v=0;v<g.length;v++){var x=g[v],y=l[Math.floor(m)];x.x=y.x,x.y=y.y,m+=c}return g}},29953:_=>{_.exports=function(a,b,T){for(var g=0;g<a.length;g++){var h=a[g];h.anims&&h.anims.play(b,T)}return a}},66979:_=>{_.exports=function(a,b,T,g,h,u){void 0===g&&(g=0),void 0===h&&(h=0),void 0===u&&(u=1);var l,d=0,f=a.length;if(1===u)for(l=h;l<f;l++)a[l][b]+=T+d*g,d++;else for(l=h;l>=0;l--)a[l][b]+=T+d*g,d++;return a}},43967:_=>{_.exports=function(a,b,T,g,h,u){void 0===g&&(g=0),void 0===h&&(h=0),void 0===u&&(u=1);var l,d=0,f=a.length;if(1===u)for(l=h;l<f;l++)a[l][b]=T+d*g,d++;else for(l=h;l>=0;l--)a[l][b]=T+d*g,d++;return a}},88926:(_,k,a)=>{var b=a(28176);_.exports=function(g,h){for(var u=0;u<g.length;u++)b(h,g[u]);return g}},33286:(_,k,a)=>{var b=a(24820);_.exports=function(g,h){for(var u=0;u<g.length;u++)b(h,g[u]);return g}},96e3:(_,k,a)=>{var b=a(65822);_.exports=function(g,h){for(var u=0;u<g.length;u++)b(h,g[u]);return g}},28789:(_,k,a)=>{var b=a(26597);_.exports=function(g,h){for(var u=0;u<g.length;u++)b(h,g[u]);return g}},97154:(_,k,a)=>{var b=a(90260);_.exports=function(g,h){for(var u=0;u<g.length;u++)b(h,g[u]);return g}},20510:(_,k,a)=>{var b=a(66979);_.exports=function(g,h,u,l,d){return b(g,"rotation",h,u,l,d)}},91051:(_,k,a)=>{var b=a(1163),T=a(20339);_.exports=function(h,u,l){for(var d=u.x,f=u.y,c=0;c<h.length;c++){var m=h[c];b(m,d,f,l,Math.max(1,T(m.x,m.y,d,f)))}return h}},76332:(_,k,a)=>{var b=a(1163);_.exports=function(g,h,u,l){var d=h.x,f=h.y;if(0===l)return g;for(var c=0;c<g.length;c++)b(g[c],d,f,u,l);return g}},61619:(_,k,a)=>{var b=a(66979);_.exports=function(g,h,u,l,d){return b(g,"scaleX",h,u,l,d)}},94868:(_,k,a)=>{var b=a(66979);_.exports=function(g,h,u,l,d,f,c){return null==u&&(u=h),b(g,"scaleX",h,l,f,c),b(g,"scaleY",u,d,f,c)}},95532:(_,k,a)=>{var b=a(66979);_.exports=function(g,h,u,l,d){return b(g,"scaleY",h,u,l,d)}},8689:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d){return b(g,"alpha",h,u,l,d)}},2645:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l){return b(g,"blendMode",h,0,u,l)}},32372:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d){return b(g,"depth",h,u,l,d)}},85373:_=>{_.exports=function(a,b,T){for(var g=0;g<a.length;g++)a[g].setInteractive(b,T);return a}},81583:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d,f,c){return null==u&&(u=h),b(g,"originX",h,l,f,c),b(g,"originY",u,d,f,c),g.forEach(function(m){m.updateDisplayOrigin()}),g}},79939:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d){return b(g,"rotation",h,u,l,d)}},2699:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d,f,c){return null==u&&(u=h),b(g,"scaleX",h,l,f,c),b(g,"scaleY",u,d,f,c)}},98739:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d){return b(g,"scaleX",h,u,l,d)}},98476:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d){return b(g,"scaleY",h,u,l,d)}},6207:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d,f,c){return null==u&&(u=h),b(g,"scrollFactorX",h,l,f,c),b(g,"scrollFactorY",u,d,f,c)}},6607:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d){return b(g,"scrollFactorX",h,u,l,d)}},72248:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d){return b(g,"scrollFactorY",h,u,l,d)}},14036:_=>{_.exports=function(a,b,T,g,h){for(var u=0;u<a.length;u++)a[u].setTint(b,T,g,h);return a}},50159:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l){return b(g,"visible",h,0,u,l)}},77597:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d){return b(g,"x",h,u,l,d)}},83194:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d,f,c){return null==u&&(u=h),b(g,"x",h,l,f,c),b(g,"y",u,d,f,c)}},67678:(_,k,a)=>{var b=a(43967);_.exports=function(g,h,u,l,d){return b(g,"y",h,u,l,d)}},35850:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l,d){void 0===l&&(l=0),void 0===d&&(d=new b);var f,c,m=g.length;if(1===m)f=g[0].x,c=g[0].y,g[0].x=h,g[0].y=u;else{var v=1,x=0;0===l&&(x=m-1,v=m-2),f=g[x].x,c=g[x].y,g[x].x=h,g[x].y=u;for(var y=0;y<m;y++)if(!(v>=m||-1===v)){var w=g[v],E=w.x,S=w.y;w.x=f,w.y=c,f=E,c=S,0===l?v--:v++}}return d.x=f,d.y=c,d}},8628:(_,k,a)=>{var b=a(33680);_.exports=function(g){return b(g)}},21837:(_,k,a)=>{var b=a(7602);_.exports=function(g,h,u,l,d){void 0===d&&(d=!1);var c,f=Math.abs(l-u)/g.length;if(d)for(c=0;c<g.length;c++)g[c][h]+=b(c*f,u,l);else for(c=0;c<g.length;c++)g[c][h]=b(c*f,u,l);return g}},21910:(_,k,a)=>{var b=a(54261);_.exports=function(g,h,u,l,d){void 0===d&&(d=!1);var c,f=Math.abs(l-u)/g.length;if(d)for(c=0;c<g.length;c++)g[c][h]+=b(c*f,u,l);else for(c=0;c<g.length;c++)g[c][h]=b(c*f,u,l);return g}},62054:_=>{_.exports=function(a,b,T,g,h){if(void 0===h&&(h=!1),0===a.length)return a;if(1===a.length)return h?a[0][b]+=(g+T)/2:a[0][b]=(g+T)/2,a;var l,u=Math.abs(g-T)/(a.length-1);if(h)for(l=0;l<a.length;l++)a[l][b]+=l*u+T;else for(l=0;l<a.length;l++)a[l][b]=l*u+T;return a}},79815:_=>{_.exports=function(a){for(var b=0;b<a.length;b++)a[b].visible=!a[b].visible;return a}},39665:(_,k,a)=>{var b=a(15994);_.exports=function(g,h,u){void 0===u&&(u=0);for(var l=0;l<g.length;l++){var d=g[l];d.x=b(d.x,h.left-u,h.right+u),d.y=b(d.y,h.top-u,h.bottom+u)}return g}},61061:(_,k,a)=>{_.exports={AlignTo:a(11517),Angle:a(80318),Call:a(60757),GetFirst:a(69927),GetLast:a(32265),GridAlign:a(94420),IncAlpha:a(41721),IncX:a(67285),IncXY:a(9074),IncY:a(75222),PlaceOnCircle:a(22983),PlaceOnEllipse:a(95253),PlaceOnLine:a(88505),PlaceOnRectangle:a(41346),PlaceOnTriangle:a(11575),PlayAnimation:a(29953),PropertyValueInc:a(66979),PropertyValueSet:a(43967),RandomCircle:a(88926),RandomEllipse:a(33286),RandomLine:a(96e3),RandomRectangle:a(28789),RandomTriangle:a(97154),Rotate:a(20510),RotateAround:a(91051),RotateAroundDistance:a(76332),ScaleX:a(61619),ScaleXY:a(94868),ScaleY:a(95532),SetAlpha:a(8689),SetBlendMode:a(2645),SetDepth:a(32372),SetHitArea:a(85373),SetOrigin:a(81583),SetRotation:a(79939),SetScale:a(2699),SetScaleX:a(98739),SetScaleY:a(98476),SetScrollFactor:a(6207),SetScrollFactorX:a(6607),SetScrollFactorY:a(72248),SetTint:a(14036),SetVisible:a(50159),SetX:a(77597),SetXY:a(83194),SetY:a(67678),ShiftPosition:a(35850),Shuffle:a(8628),SmootherStep:a(21910),SmoothStep:a(21837),Spread:a(62054),ToggleVisible:a(79815),WrapInRectangle:a(39665)}},42099:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(74943),h=a(81957),u=a(41138),l=a(35154),d=a(90126),f=new T({initialize:function(m,v,x){this.manager=m,this.key=v,this.type="frame",this.frames=this.getFrames(m.textureManager,l(x,"frames",[]),l(x,"defaultTextureKey",null),l(x,"sortFrames",!0)),this.frameRate=l(x,"frameRate",null),this.duration=l(x,"duration",null),this.skipMissedFrames=l(x,"skipMissedFrames",!0),this.delay=l(x,"delay",0),this.repeat=l(x,"repeat",0),this.repeatDelay=l(x,"repeatDelay",0),this.yoyo=l(x,"yoyo",!1),this.showBeforeDelay=l(x,"showBeforeDelay",!1),this.showOnStart=l(x,"showOnStart",!1),this.hideOnComplete=l(x,"hideOnComplete",!1),this.randomFrame=l(x,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(g.PAUSE_ALL,this.pause,this),this.manager.on(g.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(c,m,v,x){null===v&&null===x?(c.frameRate=24,c.duration=24/m*1e3):v&&null===x?(c.duration=v,c.frameRate=m/(v/1e3)):(c.frameRate=x,c.duration=m/x*1e3),c.msPerFrame=1e3/c.frameRate},addFrame:function(c){return this.addFrameAt(this.frames.length,c)},addFrameAt:function(c,m){var v=this.getFrames(this.manager.textureManager,m);if(v.length>0){if(0===c)this.frames=v.concat(this.frames);else if(c===this.frames.length)this.frames=this.frames.concat(v);else{var x=this.frames.slice(0,c),y=this.frames.slice(c);this.frames=x.concat(v,y)}this.updateFrameSequence()}return this},checkFrame:function(c){return c>=0&&c<this.frames.length},getFirstTick:function(c){c.accumulator=0,c.nextTick=c.currentFrame.duration?c.currentFrame.duration:c.msPerFrame},getFrameAt:function(c){return this.frames[c]},getFrames:function(c,m,v,x){void 0===x&&(x=!0);var w,E,A,I,y=[],S=1;if("string"==typeof m){if(!c.exists(I=m))return console.warn('Texture "%s" not found',I),y;var P=c.get(I).getFrameNames();x&&d(P),m=[],P.forEach(function(z){m.push({key:I,frame:z})})}if(!Array.isArray(m)||0===m.length)return y;for(A=0;A<m.length;A++){var O=m[A],N=l(O,"key",v);if(N){var L=l(O,"frame",0),G=c.getFrame(N,L);if(!G){console.warn('Texture "%s" not found',N);continue}(E=new u(N,L,S,G)).duration=l(O,"duration",0),E.isFirst=!w,w&&(w.nextFrame=E,E.prevFrame=w),y.push(E),w=E,S++}}if(y.length>0){E.isLast=!0,E.nextFrame=y[0],y[0].prevFrame=E;var j=1/(y.length-1);for(A=0;A<y.length;A++)y[A].progress=A*j}return y},getNextTick:function(c){c.accumulator-=c.nextTick,c.nextTick=c.currentFrame.duration?c.currentFrame.duration:c.msPerFrame},getFrameByProgress:function(c){return c=b(c,0,1),h(c,this.frames,"progress")},nextFrame:function(c){var m=c.currentFrame;m.isLast?c.yoyo?this.handleYoyoFrame(c,!1):c.repeatCounter>0?c.inReverse&&c.forward?c.forward=!1:this.repeatAnimation(c):c.complete():this.updateAndGetNextTick(c,m.nextFrame)},handleYoyoFrame:function(c,m){if(m||(m=!1),c.inReverse===!m&&c.repeatCounter>0)return(0===c.repeatDelay||c.pendingRepeat)&&(c.forward=m),void this.repeatAnimation(c);c.inReverse===m||0!==c.repeatCounter?(c.forward=m,this.updateAndGetNextTick(c,m?c.currentFrame.nextFrame:c.currentFrame.prevFrame)):c.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(c){var m=c.currentFrame;m.isFirst?c.yoyo?this.handleYoyoFrame(c,!0):c.repeatCounter>0?(c.inReverse&&!c.forward||(c.forward=!0),this.repeatAnimation(c)):c.complete():this.updateAndGetNextTick(c,m.prevFrame)},updateAndGetNextTick:function(c,m){c.setCurrentFrame(m),this.getNextTick(c)},removeFrame:function(c){var m=this.frames.indexOf(c);return-1!==m&&this.removeFrameAt(m),this},removeFrameAt:function(c){return this.frames.splice(c,1),this.updateFrameSequence(),this},repeatAnimation:function(c){if(2===c._pendingStop){if(0===c._pendingStopValue)return c.stop();c._pendingStopValue--}c.repeatDelay>0&&!c.pendingRepeat?(c.pendingRepeat=!0,c.accumulator-=c.nextTick,c.nextTick+=c.repeatDelay):(c.repeatCounter--,c.setCurrentFrame(c.forward?c.currentFrame.nextFrame:c.currentFrame.prevFrame),c.isPlaying&&(this.getNextTick(c),c.handleRepeat()))},toJSON:function(){var c={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(m){c.frames.push(m.toJSON())}),c},updateFrameSequence:function(){for(var v,c=this.frames.length,m=1/(c-1),x=0;x<c;x++)(v=this.frames[x]).index=x+1,v.isFirst=!1,v.isLast=!1,v.progress=x*m,0===x?(v.isFirst=!0,1===c?(v.isLast=!0,v.nextFrame=v,v.prevFrame=v):(v.isLast=!1,v.prevFrame=this.frames[c-1],v.nextFrame=this.frames[x+1])):x===c-1&&c>1?(v.isLast=!0,v.prevFrame=this.frames[c-2],v.nextFrame=this.frames[0]):c>1&&(v.prevFrame=this.frames[x-1],v.nextFrame=this.frames[x+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(g.PAUSE_ALL,this.pause,this),this.manager.off(g.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var c=0;c<this.frames.length;c++)this.frames[c].destroy();this.frames=[],this.manager=null}});_.exports=f},41138:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l,d,f){void 0===f&&(f=!1),this.textureKey=h,this.textureFrame=u,this.index=l,this.frame=d,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});_.exports=T},60848:(_,k,a)=>{var b=a(42099),T=a(83419),g=a(90330),h=a(50792),u=a(74943),l=a(8443),d=a(95540),f=a(35154),c=a(36383),m=a(20283),v=a(41836),x=new T({Extends:h,initialize:function(w){h.call(this),this.game=w,this.textureManager=null,this.globalTimeScale=1,this.anims=new g,this.mixes=new g,this.paused=!1,this.name="AnimationManager",w.events.once(l.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(l.DESTROY,this.destroy,this)},addMix:function(y,w,E){var S=this.anims,A=this.mixes,I="string"==typeof y?y:y.key,M="string"==typeof w?w:w.key;if(S.has(I)&&S.has(M)){var P=A.get(I);P||(P={}),P[M]=E,A.set(I,P)}return this},removeMix:function(y,w){var E=this.mixes,S="string"==typeof y?y:y.key,A=E.get(S);if(A)if(w){var I="string"==typeof w?w:w.key;A.hasOwnProperty(I)&&delete A[I]}else w||E.delete(S);return this},getMix:function(y,w){var A="string"==typeof w?w:w.key,I=this.mixes.get("string"==typeof y?y:y.key);return I&&I.hasOwnProperty(A)?I[A]:0},add:function(y,w){return this.anims.has(y)?(console.warn("Animation key exists: "+y),this):(w.key=y,this.anims.set(y,w),this.emit(u.ADD_ANIMATION,y,w),this)},exists:function(y){return this.anims.has(y)},createFromAseprite:function(y,w,E){var S=[],A=this.game.cache.json.get(y);if(!A)return console.warn("No Aseprite data found for: "+y),S;var I=this,M=f(A,"meta",null),P=f(A,"frames",null);return M&&P&&f(M,"frameTags",[]).forEach(function(N){var L=[],G=d(N,"name",null),j=d(N,"from",0),z=d(N,"to",0),Y=d(N,"direction","forward");if(G&&(!w||w&&w.indexOf(G)>-1)){for(var Z=0,rt=j;rt<=z;rt++){var st=rt.toString(),K=P[st];if(K){var tt=d(K,"duration",c.MAX_SAFE_INTEGER);L.push({key:y,frame:st,duration:tt}),Z+=tt}}"reverse"===Y&&(L=L.reverse());var H,W={key:G,frames:L,duration:Z,yoyo:"pingpong"===Y};E?E.anims&&(H=E.anims.create(W)):H=I.create(W),H&&S.push(H)}}),S},create:function(y){var w=y.key,E=!1;return w&&((E=this.get(w))?console.warn("AnimationManager key already exists: "+w):(E=new b(this,w,y),this.anims.set(w,E),this.emit(u.ADD_ANIMATION,w,E))),E},fromJSON:function(y,w){void 0===w&&(w=!1),w&&this.anims.clear(),"string"==typeof y&&(y=JSON.parse(y));var E=[];if(y.hasOwnProperty("anims")&&Array.isArray(y.anims)){for(var S=0;S<y.anims.length;S++)E.push(this.create(y.anims[S]));y.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=y.globalTimeScale)}else y.hasOwnProperty("key")&&"frame"===y.type&&E.push(this.create(y));return E},generateFrameNames:function(y,w){var E=f(w,"prefix",""),S=f(w,"start",0),A=f(w,"end",0),I=f(w,"suffix",""),M=f(w,"zeroPad",0),P=f(w,"outputArray",[]),O=f(w,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),P;var L,N=this.textureManager.get(y);if(!N)return P;if(w)for(O||(O=m(S,A)),L=0;L<O.length;L++){var G=E+v(O[L],M,"0",1)+I;N.has(G)?P.push({key:y,frame:G}):console.warn('Frame "%s" not found in texture "%s"',G,y)}else for(O=N.getFrameNames(),L=0;L<O.length;L++)P.push({key:y,frame:O[L]});return P},generateFrameNumbers:function(y,w){var E=f(w,"start",0),S=f(w,"end",-1),A=f(w,"first",!1),I=f(w,"outputArray",[]),M=f(w,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),I;var P=this.textureManager.get(y);if(!P)return I;A&&P.has(A)&&I.push({key:y,frame:A}),M||(-1===S&&(S=P.frameTotal-2),M=m(E,S));for(var O=0;O<M.length;O++){var N=M[O];P.has(N)?I.push({key:y,frame:N}):console.warn('Frame "%s" not found in texture "%s"',N,y)}return I},get:function(y){return this.anims.get(y)},getAnimsFromTexture:function(y){for(var E=this.textureManager.get(y).key,S=this.anims.getArray(),A=[],I=0;I<S.length;I++)for(var M=S[I],P=M.frames,O=0;O<P.length;O++)if(P[O].textureKey===E){A.push(M.key);break}return A},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(u.PAUSE_ALL)),this},play:function(y,w){Array.isArray(w)||(w=[w]);for(var E=0;E<w.length;E++)w[E].anims.play(y);return this},staggerPlay:function(y,w,E,S){void 0===E&&(E=0),void 0===S&&(S=!0),Array.isArray(w)||(w=[w]);var A=w.length;S||A--;for(var I=0;I<w.length;I++){var M=E<0?Math.abs(E)*(A-I):E*I;w[I].anims.playAfterDelay(y,M)}return this},remove:function(y){var w=this.get(y);return w&&(this.emit(u.REMOVE_ANIMATION,y,w),this.anims.delete(y),this.removeMix(y)),w},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(u.RESUME_ALL)),this},toJSON:function(y){var w={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==y&&""!==y?w.anims.push(this.anims.get(y).toJSON()):this.anims.each(function(E,S){w.anims.push(S.toJSON())}),w},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});_.exports=x},9674:(_,k,a)=>{var b=a(42099),T=a(30976),g=a(83419),h=a(90330),u=a(74943),l=a(95540),d=new g({initialize:function(c){this.parent=c,this.animationManager=c.scene.sys.anims,this.animationManager.on(u.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0},chain:function(f){var c=this.parent;if(void 0===f)return this.nextAnimsQueue.length=0,this.nextAnim=null,c;Array.isArray(f)||(f=[f]);for(var m=0;m<f.length;m++){var v=f[m];this.nextAnim?this.nextAnimsQueue.push(v):this.nextAnim=v}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(f){this.isPlaying&&this.stop();var c=this.animationManager,m="string"==typeof f?f:l(f,"key",null),v=this.exists(m)?this.get(m):c.get(m);if(v){this.currentAnim=v;var x=v.getTotalFrames(),y=l(f,"frameRate",v.frameRate),w=l(f,"duration",v.duration);v.calculateDuration(this,x,w,y),this.delay=l(f,"delay",v.delay),this.repeat=l(f,"repeat",v.repeat),this.repeatDelay=l(f,"repeatDelay",v.repeatDelay),this.yoyo=l(f,"yoyo",v.yoyo),this.showBeforeDelay=l(f,"showBeforeDelay",v.showBeforeDelay),this.showOnStart=l(f,"showOnStart",v.showOnStart),this.hideOnComplete=l(f,"hideOnComplete",v.hideOnComplete),this.skipMissedFrames=l(f,"skipMissedFrames",v.skipMissedFrames),this.randomFrame=l(f,"randomFrame",v.randomFrame),this.timeScale=l(f,"timeScale",this.timeScale);var E=l(f,"startFrame",0);E>x&&(E=0),this.randomFrame&&(E=T(0,x-1));var S=v.frames[E];0===E&&!this.forward&&(S=v.getLastFrame()),this.currentFrame=S}else console.warn("Missing animation: "+m);return this.parent},pause:function(f){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==f&&this.setCurrentFrame(f),this.parent},resume:function(f){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==f&&this.setCurrentFrame(f),this.parent},playAfterDelay:function(f,c){if(this.isPlaying){var m=this.nextAnim;m&&this.nextAnimsQueue.unshift(m),this.nextAnim=f,this._pendingStop=1,this._pendingStopValue=c}else this.delayCounter=c,this.play(f,!0);return this.parent},playAfterRepeat:function(f,c){if(void 0===c&&(c=1),this.isPlaying){var m=this.nextAnim;m&&this.nextAnimsQueue.unshift(m),-1!==this.repeatCounter&&c>this.repeatCounter&&(c=this.repeatCounter),this.nextAnim=f,this._pendingStop=2,this._pendingStopValue=c}else this.play(f);return this.parent},play:function(f,c){void 0===c&&(c=!1);var m=this.currentAnim;if(c&&this.isPlaying&&m.key===("string"==typeof f?f:f.key))return this.parent;if(m&&this.isPlaying){var y=this.animationManager.getMix(m.key,f);if(y>0)return this.playAfterDelay(f,y)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(f)},playReverse:function(f,c){return void 0===c&&(c=!1),c&&this.isPlaying&&this.currentAnim.key===("string"==typeof f?f:f.key)?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(f))},startAnimation:function(f){this.load(f);var c=this.currentAnim,m=this.parent;return c&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,c.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),m},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(u.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(u.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(u.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(u.ANIMATION_COMPLETE,u.ANIMATION_COMPLETE_KEY)},emitEvents:function(f,c){var m=this.currentAnim;if(m){var v=this.currentFrame,x=this.parent,y=v.textureFrame;x.emit(f,m,v,x,y),c&&x.emit(c+m.key,m,v,x,y)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var f=this.currentFrame;if(!f)return 0;var c=f.progress;return this.inReverse&&(c*=-1),c},setProgress:function(f){return this.forward||(f=1-f),this.setCurrentFrame(this.currentAnim.getFrameByProgress(f)),this.parent},setRepeat:function(f){return this.repeatCounter=-1===f?Number.MAX_VALUE:f,this.parent},globalRemove:function(f,c){void 0===c&&(c=this.currentAnim),this.isPlaying&&c.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(f,c){void 0===f&&(f=!1),void 0===c&&(c=!1);var m=this.currentAnim,v=this.parent;return m?(c&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),m.getFirstTick(this),this.emitEvents(u.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!f,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(m.frames[0]),this.parent):v},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var f=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(f)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var f=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(f)}return this.parent},stopAfterDelay:function(f){return this._pendingStop=1,this._pendingStopValue=f,this.parent},stopAfterRepeat:function(f){return void 0===f&&(f=1),-1!==this.repeatCounter&&f>this.repeatCounter&&(f=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=f,this.parent},stopOnFrame:function(f){return this._pendingStop=3,this._pendingStopValue=f,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(f,c){var m=this.currentAnim;if(this.isPlaying&&m&&!m.paused){if(this.accumulator+=c*this.timeScale*this.animationManager.globalTimeScale,1===this._pendingStop&&(this._pendingStopValue-=c,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?m.nextFrame(this):m.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var v=0;do{this.forward?m.nextFrame(this):m.previousFrame(this),v++}while(this.isPlaying&&this.accumulator>this.nextTick&&v<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(f){var c=this.parent;return this.currentFrame=f,c.texture=f.frame.texture,c.frame=f.frame,c.isCropped&&c.frame.updateCropUVs(c._crop,c.flipX,c.flipY),f.setAlpha&&(c.alpha=f.alpha),c.setSizeToFrame(),c._originComponent&&(f.frame.customPivot?c.setOrigin(f.frame.pivotX,f.frame.pivotY):c.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(u.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===f&&this.stop()),c},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(f){return this.anims?this.anims.get(f):null},exists:function(f){return!!this.anims&&this.anims.has(f)},create:function(f){var c=f.key,m=!1;return c&&((m=this.get(c))?console.warn("Animation key already exists: "+c):(m=new b(this,c,f),this.anims||(this.anims=new h),this.anims.set(c,m))),m},createFromAseprite:function(f,c){return this.animationManager.createFromAseprite(f,c,this.parent)},generateFrameNames:function(f,c){return this.animationManager.generateFrameNames(f,c)},generateFrameNumbers:function(f,c){return this.animationManager.generateFrameNumbers(f,c)},remove:function(f){var c=this.get(f);return c&&(this.currentAnim===c&&this.stop(),this.anims.delete(f)),c},destroy:function(){this.animationManager.off(u.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});_.exports=d},57090:_=>{_.exports="add"},25312:_=>{_.exports="animationcomplete"},89580:_=>{_.exports="animationcomplete-"},52860:_=>{_.exports="animationrepeat"},63850:_=>{_.exports="animationrestart"},99085:_=>{_.exports="animationstart"},28087:_=>{_.exports="animationstop"},1794:_=>{_.exports="animationupdate"},52562:_=>{_.exports="pauseall"},57953:_=>{_.exports="remove"},68339:_=>{_.exports="resumeall"},74943:(_,k,a)=>{_.exports={ADD_ANIMATION:a(57090),ANIMATION_COMPLETE:a(25312),ANIMATION_COMPLETE_KEY:a(89580),ANIMATION_REPEAT:a(52860),ANIMATION_RESTART:a(63850),ANIMATION_START:a(99085),ANIMATION_STOP:a(28087),ANIMATION_UPDATE:a(1794),PAUSE_ALL:a(52562),REMOVE_ANIMATION:a(57953),RESUME_ALL:a(68339)}},60421:(_,k,a)=>{_.exports={Animation:a(42099),AnimationFrame:a(41138),AnimationManager:a(60848),AnimationState:a(9674),Events:a(74943)}},2161:(_,k,a)=>{var b=a(83419),T=a(90330),g=a(50792),h=a(24736),u=new b({initialize:function(){this.entries=new T,this.events=new g},add:function(l,d){return this.entries.set(l,d),this.events.emit(h.ADD,this,l,d),this},has:function(l){return this.entries.has(l)},exists:function(l){return this.entries.has(l)},get:function(l){return this.entries.get(l)},remove:function(l){var d=this.get(l);return d&&(this.entries.delete(l),this.events.emit(h.REMOVE,this,l,d.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});_.exports=u},24047:(_,k,a)=>{var b=a(2161),T=a(83419),g=a(8443),h=new T({initialize:function(l){this.game=l,this.binary=new b,this.bitmapFont=new b,this.json=new b,this.physics=new b,this.shader=new b,this.audio=new b,this.video=new b,this.text=new b,this.html=new b,this.obj=new b,this.tilemap=new b,this.xml=new b,this.custom={},this.game.events.once(g.DESTROY,this.destroy,this)},addCustom:function(u){return this.custom.hasOwnProperty(u)||(this.custom[u]=new b),this.custom[u]},destroy:function(){for(var u=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],l=0;l<u.length;l++)this[u[l]].destroy(),this[u[l]]=null;for(var d in this.custom)this.custom[d].destroy();this.custom=null,this.game=null}});_.exports=h},51464:_=>{_.exports="add"},59261:_=>{_.exports="remove"},24736:(_,k,a)=>{_.exports={ADD:a(51464),REMOVE:a(59261)}},83388:(_,k,a)=>{_.exports={BaseCache:a(2161),CacheManager:a(24047),Events:a(24736)}},71911:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(39506),h=a(50792),u=a(19715),l=a(87841),d=a(61340),f=a(80333),c=a(26099),m=new b({Extends:h,Mixins:[T.AlphaSingle,T.Visible],initialize:function(x,y,w,E){void 0===x&&(x=0),void 0===y&&(y=0),void 0===w&&(w=0),void 0===E&&(E=0),h.call(this),this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new l,this.dirty=!0,this._x=x,this._y=y,this._width=w,this._height=E,this._bounds=new l,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new d,this.transparent=!0,this.backgroundColor=f("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new c(w/2,E/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(v){this.renderList.push(v)},setOrigin:function(v,x){return void 0===v&&(v=.5),void 0===x&&(x=v),this.originX=v,this.originY=x,this},getScroll:function(v,x,y){void 0===y&&(y=new c);var E=.5*this.height;return y.x=v-.5*this.width,y.y=x-E,this.useBounds&&(y.x=this.clampX(y.x),y.y=this.clampY(y.y)),y},centerOnX:function(v){var x=.5*this.width;return this.midPoint.x=v,this.scrollX=v-x,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(v){var x=.5*this.height;return this.midPoint.y=v,this.scrollY=v-x,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(v,x){return this.centerOnX(v),this.centerOnY(x),this},centerToBounds:function(){if(this.useBounds){var v=this._bounds,x=.5*this.width,y=.5*this.height;this.midPoint.set(v.centerX,v.centerY),this.scrollX=v.centerX-x,this.scrollY=v.centerY-y}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(v){if(this.disableCull)return v;var x=this.matrix.matrix,y=x[0],w=x[1],E=x[2],S=x[3],A=y*S-w*E;if(!A)return v;var I=x[4],M=x[5],P=this.scrollX,O=this.scrollY,G=this.y,j=G+this.height,z=this.x,Y=z+this.width,Z=this.culledObjects,rt=v.length;A=1/A,Z.length=0;for(var st=0;st<rt;++st){var K=v[st];if(K.hasOwnProperty("width")&&!K.parentContainer){var tt=K.width,W=K.height,H=K.x-P*K.scrollFactorX-tt*K.originX,it=K.y-O*K.scrollFactorY-W*K.originY;(H+tt)*y+(it+W)*E+I>z&&H*y+it*E+I<Y&&(H+tt)*w+(it+W)*S+M>G&&H*w+it*S+M<j&&Z.push(K)}else Z.push(K)}return Z},getWorldPoint:function(v,x,y){void 0===y&&(y=new c);var w=this.matrix.matrix,E=w[0],S=w[1],A=w[2],I=w[3],M=w[4],P=w[5],O=E*I-S*A;if(!O)return y.x=v,y.y=x,y;var N=I*(O=1/O),L=-S*O,G=-A*O,j=E*O,z=(A*P-I*M)*O,Y=(S*M-E*P)*O,Z=Math.cos(this.rotation),rt=Math.sin(this.rotation),tt=this.scrollX,W=this.scrollY,H=v+(tt*Z-W*rt)*this.zoomX,it=x+(tt*rt+W*Z)*this.zoomY;return y.x=H*N+it*G+z,y.y=H*L+it*j+Y,y},ignore:function(v){var x=this.id;Array.isArray(v)||(v=[v]);for(var y=0;y<v.length;y++){var w=v[y];Array.isArray(w)?this.ignore(w):w.isParent?this.ignore(w.getChildren()):w.cameraFilter|=x}return this},clampX:function(v){var x=this._bounds,y=this.displayWidth,w=x.x+(y-this.width)/2,E=Math.max(w,w+x.width-y);return v<w?v=w:v>E&&(v=E),v},clampY:function(v){var x=this._bounds,y=this.displayHeight,w=x.y+(y-this.height)/2,E=Math.max(w,w+x.height-y);return v<w?v=w:v>E&&(v=E),v},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(v){return void 0===v&&(v=0),this.rotation=g(v),this},setBackgroundColor:function(v){return void 0===v&&(v="rgba(0,0,0,0)"),this.backgroundColor=f(v),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(v,x,y,w,E){return void 0===E&&(E=!1),this._bounds.setTo(v,x,y,w),this.dirty=!0,this.useBounds=!0,E?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(v){void 0===v&&(v=new l);var x=this._bounds;return v.setTo(x.x,x.y,x.width,x.height),v},setName:function(v){return void 0===v&&(v=""),this.name=v,this},setPosition:function(v,x){return void 0===x&&(x=v),this.x=v,this.y=x,this},setRotation:function(v){return void 0===v&&(v=0),this.rotation=v,this},setRoundPixels:function(v){return this.roundPixels=v,this},setScene:function(v,x){void 0===x&&(x=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=v,this.isSceneCamera=x;var y=v.sys;return this.sceneManager=y.game.scene,this.scaleManager=y.scale,this.cameraManager=y.cameras,this.updateSystem(),this},setScroll:function(v,x){return void 0===x&&(x=v),this.scrollX=v,this.scrollY=x,this},setSize:function(v,x){return void 0===x&&(x=v),this.width=v,this.height=x,this},setViewport:function(v,x,y,w){return this.x=v,this.y=x,this.width=y,this.height=w,this},setZoom:function(v,x){return void 0===v&&(v=1),void 0===x&&(x=v),0===v&&(v=.001),0===x&&(x=.001),this.zoomX=v,this.zoomY=x,this},setMask:function(v,x){return void 0===x&&(x=!0),this.mask=v,this._maskCamera=x?this.cameraManager.default:this,this},clearMask:function(v){return void 0===v&&(v=!1),v&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var v={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(v.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),v},update:function(){},setIsSceneCamera:function(v){return this.isSceneCamera=v,this},updateSystem:function(){if(this.scaleManager&&this.isSceneCamera){var v=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,x=this.sceneManager;v&&!this._customViewport?x.customViewports++:!v&&this._customViewport&&x.customViewports--,this.dirty=!0,this._customViewport=v}},destroy:function(){this.emit(u.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(v){this._x=v,this.updateSystem()}},y:{get:function(){return this._y},set:function(v){this._y=v,this.updateSystem()}},width:{get:function(){return this._width},set:function(v){this._width=v,this.updateSystem()}},height:{get:function(){return this._height},set:function(v){this._height=v,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(v){v!==this._scrollX&&(this._scrollX=v,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(v){v!==this._scrollY&&(this._scrollY=v,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(v){this._zoomX=v,this._zoomY=v,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(v){this._zoomX=v,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(v){this._zoomY=v,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});_.exports=m},38058:(_,k,a)=>{var b=a(71911),T=a(67502),g=a(45319),h=a(83419),u=a(31401),l=a(20052),d=a(19715),f=a(28915),c=a(87841),m=a(26099),v=new h({Extends:b,Mixins:[u.PostPipeline],initialize:function(y,w,E,S){b.call(this,y,w,E,S),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new l.Fade(this),this.flashEffect=new l.Flash(this),this.shakeEffect=new l.Shake(this),this.panEffect=new l.Pan(this),this.rotateToEffect=new l.RotateTo(this),this.zoomEffect=new l.Zoom(this),this.lerp=new m(1,1),this.followOffset=new m,this.deadzone=null,this._follow=null},setDeadzone:function(x,y){if(void 0===x)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=x,this.deadzone.height=y):this.deadzone=new c(0,0,x,y),this._follow){var w=this.width/2,E=this.height/2,S=this._follow.x-this.followOffset.x,A=this._follow.y-this.followOffset.y;this.midPoint.set(S,A),this.scrollX=S-w,this.scrollY=A-E}T(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(x,y,w,E,S,A){return this.fadeEffect.start(!1,x,y,w,E,!0,S,A)},fadeOut:function(x,y,w,E,S,A){return this.fadeEffect.start(!0,x,y,w,E,!0,S,A)},fadeFrom:function(x,y,w,E,S,A,I){return this.fadeEffect.start(!1,x,y,w,E,S,A,I)},fade:function(x,y,w,E,S,A,I){return this.fadeEffect.start(!0,x,y,w,E,S,A,I)},flash:function(x,y,w,E,S,A,I){return this.flashEffect.start(x,y,w,E,S,A,I)},shake:function(x,y,w,E,S){return this.shakeEffect.start(x,y,w,E,S)},pan:function(x,y,w,E,S,A,I){return this.panEffect.start(x,y,w,E,S,A,I)},rotateTo:function(x,y,w,E,S,A,I){return this.rotateToEffect.start(x,y,w,E,S,A,I)},zoomTo:function(x,y,w,E,S,A){return this.zoomEffect.start(x,y,w,E,S,A)},preRender:function(){this.renderList.length=0;var x=this.width,y=this.height,w=.5*x,E=.5*y,S=this.zoomX,A=this.zoomY,I=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(S)&&Number.isInteger(A);var M=x*this.originX,P=y*this.originY,O=this._follow,N=this.deadzone,L=this.scrollX,G=this.scrollY;N&&T(N,this.midPoint.x,this.midPoint.y);var j=!1;if(O&&!this.panEffect.isRunning){var z=this.lerp,Y=O.x-this.followOffset.x,Z=O.y-this.followOffset.y;N?(Y<N.x?L=f(L,L-(N.x-Y),z.x):Y>N.right&&(L=f(L,L+(Y-N.right),z.x)),Z<N.y?G=f(G,G-(N.y-Z),z.y):Z>N.bottom&&(G=f(G,G+(Z-N.bottom),z.y))):(L=f(L,Y-M,z.x),G=f(G,Z-P,z.y)),j=!0}this.roundPixels&&(L=Math.floor(L),G=Math.floor(G)),this.useBounds&&(L=this.clampX(L),G=this.clampY(G)),this.scrollX=L,this.scrollY=G;var rt=L+w,st=G+E;this.midPoint.set(rt,st);var K=Math.floor(x/S+.5),tt=Math.floor(y/A+.5),W=Math.floor(rt-K/2+.5),H=Math.floor(st-tt/2+.5);this.worldView.setTo(W,H,K,tt),I.applyITRS(Math.floor(this.x+M+.5),Math.floor(this.y+P+.5),this.rotation,S,A),I.translate(-M,-P),this.shakeEffect.preRender(),j&&this.emit(d.FOLLOW_UPDATE,this,O)},setLerp:function(x,y){return void 0===x&&(x=1),void 0===y&&(y=x),this.lerp.set(x,y),this},setFollowOffset:function(x,y){return void 0===x&&(x=0),void 0===y&&(y=0),this.followOffset.set(x,y),this},startFollow:function(x,y,w,E,S,A){void 0===y&&(y=!1),void 0===w&&(w=1),void 0===E&&(E=w),void 0===S&&(S=0),void 0===A&&(A=S),this._follow=x,this.roundPixels=y,w=g(w,0,1),E=g(E,0,1),this.lerp.set(w,E),this.followOffset.set(S,A);var I=this.width/2,M=this.height/2,P=x.x-S,O=x.y-A;return this.midPoint.set(P,O),this.scrollX=P-I,this.scrollY=O-M,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(x,y){this.visible&&(this.rotateToEffect.update(x,y),this.panEffect.update(x,y),this.zoomEffect.update(x,y),this.shakeEffect.update(x,y),this.flashEffect.update(x,y),this.fadeEffect.update(x,y))},destroy:function(){this.resetFX(),b.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});_.exports=v},32743:(_,k,a)=>{var b=a(38058),T=a(83419),g=a(95540),h=a(37277),u=a(37303),l=a(97480),d=a(44594),f=new T({initialize:function(m){this.scene=m,this.systems=m.sys,this.roundPixels=m.sys.game.config.roundPixels,this.cameras=[],m.sys.events.once(d.BOOT,this.boot,this),m.sys.events.on(d.START,this.start,this)},boot:function(){var c=this.systems;c.settings.cameras?this.fromJSON(c.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new b(0,0,c.scale.width,c.scale.height).setScene(this.scene),c.game.scale.on(l.RESIZE,this.onResize,this),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){if(!this.main){var c=this.systems;c.settings.cameras?this.fromJSON(c.settings.cameras):this.add(),this.main=this.cameras[0]}var m=this.systems.events;m.on(d.UPDATE,this.update,this),m.once(d.SHUTDOWN,this.shutdown,this)},add:function(c,m,v,x,y,w){void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=this.scene.sys.scale.width),void 0===x&&(x=this.scene.sys.scale.height),void 0===y&&(y=!1),void 0===w&&(w="");var E=new b(c,m,v,x);return E.setName(w),E.setScene(this.scene),E.setRoundPixels(this.roundPixels),E.id=this.getNextID(),this.cameras.push(E),y&&(this.main=E),E},addExisting:function(c,m){return void 0===m&&(m=!1),-1===this.cameras.indexOf(c)?(c.id=this.getNextID(),c.setRoundPixels(this.roundPixels),this.cameras.push(c),m&&(this.main=c),c):null},getNextID:function(){for(var c=this.cameras,m=1,v=0;v<32;v++){for(var x=!1,y=0;y<c.length;y++){var w=c[y];w&&w.id===m&&(x=!0)}if(!x)return m;m<<=1}return 0},getTotal:function(c){void 0===c&&(c=!1);for(var m=0,v=this.cameras,x=0;x<v.length;x++)(!c||c&&v[x].visible)&&m++;return m},fromJSON:function(c){Array.isArray(c)||(c=[c]);for(var m=this.scene.sys.scale.width,v=this.scene.sys.scale.height,x=0;x<c.length;x++){var y=c[x],w=g(y,"x",0),E=g(y,"y",0),S=g(y,"width",m),A=g(y,"height",v),I=this.add(w,E,S,A);I.name=g(y,"name",""),I.zoom=g(y,"zoom",1),I.rotation=g(y,"rotation",0),I.scrollX=g(y,"scrollX",0),I.scrollY=g(y,"scrollY",0),I.roundPixels=g(y,"roundPixels",!1),I.visible=g(y,"visible",!0);var M=g(y,"backgroundColor",!1);M&&I.setBackgroundColor(M);var P=g(y,"bounds",null);if(P){var O=g(P,"x",0),N=g(P,"y",0),L=g(P,"width",m),G=g(P,"height",v);I.setBounds(O,N,L,G)}}return this},getCamera:function(c){for(var m=this.cameras,v=0;v<m.length;v++)if(m[v].name===c)return m[v];return null},getCamerasBelowPointer:function(c){for(var m=this.cameras,v=c.x,x=c.y,y=[],w=0;w<m.length;w++){var E=m[w];E.visible&&E.inputEnabled&&u(E,v,x)&&y.unshift(E)}return y},remove:function(c,m){void 0===m&&(m=!0),Array.isArray(c)||(c=[c]);for(var v=0,x=this.cameras,y=0;y<c.length;y++){var w=x.indexOf(c[y]);-1!==w&&(m?x[w].destroy():x[w].renderList=[],x.splice(w,1),v++)}return!this.main&&x[0]&&(this.main=x[0]),v},render:function(c,m){for(var v=this.scene,x=this.cameras,y=0;y<x.length;y++){var w=x[y];if(w.visible&&w.alpha>0){w.preRender();var E=this.getVisibleChildren(m.getChildren(),w);c.render(v,E,w)}}},getVisibleChildren:function(c,m){return c.filter(function(v){return v.willRender(m)})},resetAll:function(){for(var c=0;c<this.cameras.length;c++)this.cameras[c].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(c,m){for(var v=0;v<this.cameras.length;v++)this.cameras[v].update(c,m)},onResize:function(c,m,v,x,y){for(var w=0;w<this.cameras.length;w++){var E=this.cameras[w];0===E._x&&0===E._y&&E._width===x&&E._height===y&&E.setSize(m.width,m.height)}},resize:function(c,m){for(var v=0;v<this.cameras.length;v++)this.cameras[v].setSize(c,m)},shutdown:function(){this.main=void 0;for(var c=0;c<this.cameras.length;c++)this.cameras[c].destroy();this.cameras=[];var m=this.systems.events;m.off(d.UPDATE,this.update,this),m.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(d.START,this.start,this),this.systems.events.off(d.DESTROY,this.destroy,this),this.systems.game.scale.off(l.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});h.register("CameraManager",f,"cameras"),_.exports=f},5020:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(19715),h=new T({initialize:function(l){this.camera=l,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0},start:function(u,l,d,f,c,m,v,x){return void 0===u&&(u=!0),void 0===l&&(l=1e3),void 0===d&&(d=0),void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=!1),void 0===v&&(v=null),void 0===x&&(x=this.camera.scene),!m&&this.isRunning||(this.isRunning=!0,this.isComplete=!1,this.duration=l,this.direction=u,this.progress=0,this.red=d,this.green=f,this.blue=c,this.alpha=u?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=x,this.camera.emit(u?g.FADE_OUT_START:g.FADE_IN_START,this.camera,this,l,d,f,c)),this.camera},update:function(u,l){this.isRunning&&(this._elapsed+=l,this.progress=b(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(u){if(!this.isRunning&&!this.isComplete)return!1;var l=this.camera;return u.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",u.fillRect(l.x,l.y,l.width,l.height),!0},postRenderWebGL:function(u,l){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera;return u.drawFillRect(d.x,d.y,d.width,d.height,l(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0,this.camera.emit(this.direction?g.FADE_OUT_COMPLETE:g.FADE_IN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});_.exports=h},10662:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(19715),h=new T({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0},start:function(u,l,d,f,c,m,v){return void 0===u&&(u=250),void 0===l&&(l=255),void 0===d&&(d=255),void 0===f&&(f=255),void 0===c&&(c=!1),void 0===m&&(m=null),void 0===v&&(v=this.camera.scene),!c&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.red=l,this.green=d,this.blue=f,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=m,this._onUpdateScope=v,this.camera.emit(g.FLASH_START,this.camera,this,u,l,d,f)),this.camera},update:function(u,l){this.isRunning&&(this._elapsed+=l,this.progress=b(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(u){if(!this.isRunning)return!1;var l=this.camera;return u.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",u.fillRect(l.x,l.y,l.width,l.height),!0},postRenderWebGL:function(u,l){if(!this.isRunning)return!1;var d=this.camera;return u.drawFillRect(d.x,d.y,d.width,d.height,l(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(g.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});_.exports=h},20359:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(62640),h=a(19715),u=a(26099),l=new T({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new u,this.current=new u,this.destination=new u,this.progress=0,this._elapsed=0},start:function(d,f,c,m,v,x,y){void 0===c&&(c=1e3),void 0===m&&(m=g.Linear),void 0===v&&(v=!1),void 0===x&&(x=null),void 0===y&&(y=this.camera.scene);var w=this.camera;return!v&&this.isRunning||(this.isRunning=!0,this.duration=c,this.progress=0,this.source.set(w.scrollX,w.scrollY),this.destination.set(d,f),w.getScroll(d,f,this.current),"string"==typeof m&&g.hasOwnProperty(m)?this.ease=g[m]:"function"==typeof m&&(this.ease=m),this._elapsed=0,this._onUpdate=x,this._onUpdateScope=y,this.camera.emit(h.PAN_START,this.camera,this,c,d,f)),w},update:function(d,f){if(this.isRunning){this._elapsed+=f;var c=b(this._elapsed/this.duration,0,1);this.progress=c;var m=this.camera;if(this._elapsed<this.duration){var v=this.ease(c);m.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*v,y=this.source.y+(this.current.y-this.source.y)*v;m.setScroll(x,y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,m,c,x,y)}else m.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,m,c,m.scrollX,m.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});_.exports=l},34208:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(19715),h=a(62640),u=new T({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.progress=0,this._elapsed=0,this.clockwise=!0,this.shortestPath=!1},start:function(l,d,f,c,m,v,x){void 0===f&&(f=1e3),void 0===c&&(c=h.Linear),void 0===m&&(m=!1),void 0===v&&(v=null),void 0===x&&(x=this.camera.scene),void 0===d&&(d=!1),this.shortestPath=d;var y=l;l<0?(y=-1*l,this.clockwise=!1):this.clockwise=!0;var w=360*Math.PI/180;y-=Math.floor(y/w)*w;var E=this.camera;if(!m&&this.isRunning)return E;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=E.rotation,this.destination=y,"string"==typeof c&&h.hasOwnProperty(c)?this.ease=h[c]:"function"==typeof c&&(this.ease=c),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=x,this.shortestPath){var S,A;(S=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+w)-this.source)<(A=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+w)-this.destination)?this.clockwise=!0:S>A&&(this.clockwise=!1)}return this.camera.emit(g.ROTATE_START,this.camera,this,f,y),E},update:function(l,d){if(this.isRunning){this._elapsed+=d;var f=b(this._elapsed/this.duration,0,1);this.progress=f;var c=this.camera;if(this._elapsed<this.duration){var m=this.ease(f);this.current=c.rotation;var v,x=360*Math.PI/180,y=this.destination,w=this.current;!1===this.clockwise&&(y=this.current,w=this.destination),v=y>=w?Math.abs(y-w):Math.abs(y+x)-w;var E;c.rotation=E=this.clockwise?c.rotation+v*m:c.rotation-v*m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,f,E)}else c.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(g.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});_.exports=u},30330:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(19715),h=a(26099),u=new T({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.intensity=new h,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0},start:function(l,d,f,c,m){return void 0===l&&(l=100),void 0===d&&(d=.05),void 0===f&&(f=!1),void 0===c&&(c=null),void 0===m&&(m=this.camera.scene),!f&&this.isRunning||(this.isRunning=!0,this.duration=l,this.progress=0,"number"==typeof d?this.intensity.set(d):this.intensity.set(d.x,d.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=c,this._onUpdateScope=m,this.camera.emit(g.SHAKE_START,this.camera,this,l,d)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(l,d){if(this.isRunning)if(this._elapsed+=d,this.progress=b(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,c=this.camera.width,m=this.camera.height,v=this.camera.zoom;this._offsetX=(Math.random()*f.x*c*2-f.x*c)*v,this._offsetY=(Math.random()*f.y*m*2-f.y*m)*v,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(g.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});_.exports=u},45641:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(62640),h=a(19715),u=new T({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.progress=0,this._elapsed=0},start:function(l,d,f,c,m,v){void 0===d&&(d=1e3),void 0===f&&(f=g.Linear),void 0===c&&(c=!1),void 0===m&&(m=null),void 0===v&&(v=this.camera.scene);var x=this.camera;return!c&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source=x.zoom,this.destination=l,"string"==typeof f&&g.hasOwnProperty(f)?this.ease=g[f]:"function"==typeof f&&(this.ease=f),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=v,this.camera.emit(h.ZOOM_START,this.camera,this,d,l)),x},update:function(l,d){this.isRunning&&(this._elapsed+=d,this.progress=b(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});_.exports=u},20052:(_,k,a)=>{_.exports={Fade:a(5020),Flash:a(10662),Pan:a(20359),Shake:a(30330),RotateTo:a(34208),Zoom:a(45641)}},16438:_=>{_.exports="cameradestroy"},32726:_=>{_.exports="camerafadeincomplete"},87807:_=>{_.exports="camerafadeinstart"},45917:_=>{_.exports="camerafadeoutcomplete"},95666:_=>{_.exports="camerafadeoutstart"},47056:_=>{_.exports="cameraflashcomplete"},91261:_=>{_.exports="cameraflashstart"},45047:_=>{_.exports="followupdate"},81927:_=>{_.exports="camerapancomplete"},74264:_=>{_.exports="camerapanstart"},54419:_=>{_.exports="postrender"},79330:_=>{_.exports="prerender"},93183:_=>{_.exports="camerarotatecomplete"},80112:_=>{_.exports="camerarotatestart"},62252:_=>{_.exports="camerashakecomplete"},86017:_=>{_.exports="camerashakestart"},539:_=>{_.exports="camerazoomcomplete"},51892:_=>{_.exports="camerazoomstart"},19715:(_,k,a)=>{_.exports={DESTROY:a(16438),FADE_IN_COMPLETE:a(32726),FADE_IN_START:a(87807),FADE_OUT_COMPLETE:a(45917),FADE_OUT_START:a(95666),FLASH_COMPLETE:a(47056),FLASH_START:a(91261),FOLLOW_UPDATE:a(45047),PAN_COMPLETE:a(81927),PAN_START:a(74264),POST_RENDER:a(54419),PRE_RENDER:a(79330),ROTATE_COMPLETE:a(93183),ROTATE_START:a(80112),SHAKE_COMPLETE:a(62252),SHAKE_START:a(86017),ZOOM_COMPLETE:a(539),ZOOM_START:a(51892)}},87969:(_,k,a)=>{_.exports={Camera:a(38058),BaseCamera:a(71911),CameraManager:a(32743),Effects:a(20052),Events:a(19715)}},63091:(_,k,a)=>{var b=a(83419),T=a(35154),g=new b({initialize:function(u){this.camera=T(u,"camera",null),this.left=T(u,"left",null),this.right=T(u,"right",null),this.up=T(u,"up",null),this.down=T(u,"down",null),this.zoomIn=T(u,"zoomIn",null),this.zoomOut=T(u,"zoomOut",null),this.zoomSpeed=T(u,"zoomSpeed",.01),this.minZoom=T(u,"minZoom",.001),this.maxZoom=T(u,"maxZoom",1e3),this.speedX=0,this.speedY=0;var l=T(u,"speed",null);"number"==typeof l?(this.speedX=l,this.speedY=l):(this.speedX=T(u,"speed.x",0),this.speedY=T(u,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){void 0===h&&(h=1);var u=this.camera;this.up&&this.up.isDown?u.scrollY-=this.speedY*h|0:this.down&&this.down.isDown&&(u.scrollY+=this.speedY*h|0),this.left&&this.left.isDown?u.scrollX-=this.speedX*h|0:this.right&&this.right.isDown&&(u.scrollX+=this.speedX*h|0),this.zoomIn&&this.zoomIn.isDown?(u.zoom-=this.zoomSpeed,u.zoom<this.minZoom&&(u.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(u.zoom+=this.zoomSpeed,u.zoom>this.maxZoom&&(u.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});_.exports=g},58818:(_,k,a)=>{var b=a(83419),T=a(35154),g=new b({initialize:function(u){this.camera=T(u,"camera",null),this.left=T(u,"left",null),this.right=T(u,"right",null),this.up=T(u,"up",null),this.down=T(u,"down",null),this.zoomIn=T(u,"zoomIn",null),this.zoomOut=T(u,"zoomOut",null),this.zoomSpeed=T(u,"zoomSpeed",.01),this.minZoom=T(u,"minZoom",.001),this.maxZoom=T(u,"maxZoom",1e3),this.accelX=0,this.accelY=0;var l=T(u,"acceleration",null);"number"==typeof l?(this.accelX=l,this.accelY=l):(this.accelX=T(u,"acceleration.x",0),this.accelY=T(u,"acceleration.y",0)),this.dragX=0,this.dragY=0;var d=T(u,"drag",null);"number"==typeof d?(this.dragX=d,this.dragY=d):(this.dragX=T(u,"drag.x",0),this.dragY=T(u,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=T(u,"maxSpeed",null);"number"==typeof f?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=T(u,"maxSpeed.x",0),this.maxSpeedY=T(u,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){void 0===h&&(h=1);var u=this.camera;this._speedX>0?(this._speedX-=this.dragX*h,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*h,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*h,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*h,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this._zoom=this.zoomIn&&this.zoomIn.isDown?-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this.zoomSpeed:0,0!==this._speedX&&(u.scrollX-=this._speedX*h|0),0!==this._speedY&&(u.scrollY-=this._speedY*h|0),0!==this._zoom&&(u.zoom+=this._zoom,u.zoom<this.minZoom?u.zoom=this.minZoom:u.zoom>this.maxZoom&&(u.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});_.exports=g},38865:(_,k,a)=>{_.exports={FixedKeyControl:a(63091),SmoothedKeyControl:a(58818)}},26638:(_,k,a)=>{_.exports={Controls:a(38865),Scene2D:a(87969)}},8054:(_,k,a)=>{var b={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:a(10312),ScaleModes:a(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};_.exports=b},69547:(_,k,a)=>{var b=a(83419),T=a(8054),g=a(42363),h=a(82264),u=a(95540),l=a(35154),d=a(41212),f=a(29747),c=a(75508),m=a(36060),v=a(80333),x=new b({initialize:function(w){void 0===w&&(w={});var A=l(w,"scale",null);this.width=l(A,"width",1024,w),this.height=l(A,"height",768,w),this.zoom=l(A,"zoom",1,w),this.parent=l(A,"parent",void 0,w),this.scaleMode=l(A,A?"mode":"scaleMode",0,w),this.expandParent=l(A,"expandParent",!0,w),this.autoRound=l(A,"autoRound",!1,w),this.autoCenter=l(A,"autoCenter",0,w),this.resizeInterval=l(A,"resizeInterval",500,w),this.fullscreenTarget=l(A,"fullscreenTarget",null,w),this.minWidth=l(A,"min.width",0,w),this.maxWidth=l(A,"max.width",0,w),this.minHeight=l(A,"min.height",0,w),this.maxHeight=l(A,"max.height",0,w),this.snapWidth=l(A,"snap.width",0,w),this.snapHeight=l(A,"snap.height",0,w),this.renderType=l(w,"type",T.AUTO),this.canvas=l(w,"canvas",null),this.context=l(w,"context",null),this.canvasStyle=l(w,"canvasStyle",null),this.customEnvironment=l(w,"customEnvironment",!1),this.sceneConfig=l(w,"scene",null),this.seed=l(w,"seed",[(Date.now()*Math.random()).toString()]),c.RND=new c.RandomDataGenerator(this.seed),this.gameTitle=l(w,"title",""),this.gameURL=l(w,"url","https://phaser.io/"+T.LOG_VERSION),this.gameVersion=l(w,"version",""),this.autoFocus=l(w,"autoFocus",!0),this.stableSort=l(w,"stableSort",-1),-1===this.stableSort&&(this.stableSort=h.browser.es2019?1:0),h.features.stableSort=this.stableSort,this.domCreateContainer=l(w,"dom.createContainer",!1),this.domPointerEvents=l(w,"dom.pointerEvents","none"),this.inputKeyboard=l(w,"input.keyboard",!0),this.inputKeyboardEventTarget=l(w,"input.keyboard.target",window),this.inputKeyboardCapture=l(w,"input.keyboard.capture",[]),this.inputMouse=l(w,"input.mouse",!0),this.inputMouseEventTarget=l(w,"input.mouse.target",null),this.inputMousePreventDefaultDown=l(w,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=l(w,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=l(w,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=l(w,"input.mouse.preventDefaultWheel",!0),this.inputTouch=l(w,"input.touch",h.input.touch),this.inputTouchEventTarget=l(w,"input.touch.target",null),this.inputTouchCapture=l(w,"input.touch.capture",!0),this.inputActivePointers=l(w,"input.activePointers",1),this.inputSmoothFactor=l(w,"input.smoothFactor",0),this.inputWindowEvents=l(w,"input.windowEvents",!0),this.inputGamepad=l(w,"input.gamepad",!1),this.inputGamepadEventTarget=l(w,"input.gamepad.target",window),this.disableContextMenu=l(w,"disableContextMenu",!1),this.audio=l(w,"audio",{}),this.hideBanner=!1===l(w,"banner",null),this.hidePhaser=l(w,"banner.hidePhaser",!1),this.bannerTextColor=l(w,"banner.text","#ffffff"),this.bannerBackgroundColor=l(w,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=l(w,"fps",null),this.disablePreFX=l(w,"disablePreFX",!1),this.disablePostFX=l(w,"disablePostFX",!1);var I=l(w,"render",null);this.pipeline=l(I,"pipeline",null,w),this.autoMobilePipeline=l(I,"autoMobilePipeline",!0,w),this.defaultPipeline=l(I,"defaultPipeline",m.MULTI_PIPELINE,w),this.antialias=l(I,"antialias",!0,w),this.antialiasGL=l(I,"antialiasGL",!0,w),this.mipmapFilter=l(I,"mipmapFilter","",w),this.desynchronized=l(I,"desynchronized",!1,w),this.roundPixels=l(I,"roundPixels",!1,w),this.pixelArt=l(I,"pixelArt",1!==this.zoom,w),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=l(I,"transparent",!1,w),this.clearBeforeRender=l(I,"clearBeforeRender",!0,w),this.preserveDrawingBuffer=l(I,"preserveDrawingBuffer",!1,w),this.premultipliedAlpha=l(I,"premultipliedAlpha",!0,w),this.failIfMajorPerformanceCaveat=l(I,"failIfMajorPerformanceCaveat",!1,w),this.powerPreference=l(I,"powerPreference","default",w),this.batchSize=l(I,"batchSize",4096,w),this.maxTextures=l(I,"maxTextures",-1,w),this.maxLights=l(I,"maxLights",10,w);var M=l(w,"backgroundColor",0);this.backgroundColor=v(M),this.transparent&&(this.backgroundColor=v(0),this.backgroundColor.alpha=0),this.preBoot=l(w,"callbacks.preBoot",f),this.postBoot=l(w,"callbacks.postBoot",f),this.physics=l(w,"physics",{}),this.defaultPhysicsSystem=l(this.physics,"default",!1),this.loaderBaseURL=l(w,"loader.baseURL",""),this.loaderPath=l(w,"loader.path",""),this.loaderMaxParallelDownloads=l(w,"loader.maxParallelDownloads",h.os.android?6:32),this.loaderCrossOrigin=l(w,"loader.crossOrigin",void 0),this.loaderResponseType=l(w,"loader.responseType",""),this.loaderAsync=l(w,"loader.async",!0),this.loaderUser=l(w,"loader.user",""),this.loaderPassword=l(w,"loader.password",""),this.loaderTimeout=l(w,"loader.timeout",0),this.loaderMaxRetries=l(w,"loader.maxRetries",2),this.loaderWithCredentials=l(w,"loader.withCredentials",!1),this.loaderImageLoadType=l(w,"loader.imageLoadType","XHR"),this.loaderLocalScheme=l(w,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=l(w,"fx.glow.quality",.1),this.glowFXDistance=l(w,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var P=l(w,"plugins",null),O=g.DefaultScene;P&&(Array.isArray(P)?this.defaultPlugins=P:d(P)&&(this.installGlobalPlugins=u(P,"global",[]),this.installScenePlugins=u(P,"scene",[]),Array.isArray(P.default)?O=P.default:Array.isArray(P.defaultMerge)&&(O=O.concat(P.defaultMerge)))),this.defaultPlugins=O;var N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=l(w,"images.default",N+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=l(w,"images.missing",N+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=l(w,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=T.WEBGL:window.FORCE_CANVAS&&(this.renderType=T.CANVAS))}});_.exports=x},86054:(_,k,a)=>{var b=a(20623),T=a(27919),g=a(8054),h=a(89357);_.exports=function(l){var d=l.config;if((d.customEnvironment||d.canvas)&&d.renderType===g.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!d.customEnvironment&&!d.canvas&&d.renderType!==g.HEADLESS)if(d.renderType===g.AUTO&&(d.renderType=h.webGL?g.WEBGL:g.CANVAS),d.renderType===g.WEBGL){if(!h.webGL)throw new Error("Cannot create WebGL context, aborting.")}else{if(d.renderType!==g.CANVAS)throw new Error("Unknown value for renderer type: "+d.renderType);if(!h.canvas)throw new Error("Cannot create Canvas context, aborting.")}d.antialias||T.disableSmoothing();var v,x,f=l.scale.baseSize,c=f.width,m=f.height;d.canvas?(l.canvas=d.canvas,l.canvas.width=c,l.canvas.height=m):l.canvas=T.create(l,c,m,d.renderType),d.canvasStyle&&(l.canvas.style=d.canvasStyle),d.antialias||b.setCrisp(l.canvas),d.renderType!==g.HEADLESS&&(v=a(68627),x=a(74797),d.renderType===g.WEBGL?l.renderer=new x(l):(l.renderer=new v(l),l.context=l.renderer.gameContext))}},96391:(_,k,a)=>{var b=a(8054);_.exports=function(g){var h=g.config;if(!h.hideBanner){var u="WebGL";h.renderType===b.CANVAS?u="Canvas":h.renderType===b.HEADLESS&&(u="Headless");var f,l=h.audio,d=g.device.audio;if(f=d.webAudio&&!l.disableWebAudio?"Web Audio":l.noAudio||!d.webAudio&&!d.audioData?"No Audio":"HTML5 Audio",g.device.browser.ie)window.console&&console.log("Phaser v"+b.VERSION+" / https://phaser.io");else{var v,c="",m=[c];Array.isArray(h.bannerBackgroundColor)?(h.bannerBackgroundColor.forEach(function(y){c=c.concat("%c "),m.push("background: "+y),v=y}),m[m.length-1]="color: "+h.bannerTextColor+"; background: "+v):(c=c.concat("%c "),m.push("color: "+h.bannerTextColor+"; background: "+h.bannerBackgroundColor)),m.push("background: transparent"),h.gameTitle&&(c=c.concat(h.gameTitle),h.gameVersion&&(c=c.concat(" v"+h.gameVersion)),h.hidePhaser||(c=c.concat(" / "))),h.hidePhaser||(c=c.concat("Phaser v"+b.VERSION+" ("+u+" | "+f+")")),c=c.concat(" %c "+h.gameURL),m[0]=c,console.log.apply(console,m)}}}},50127:(_,k,a)=>{var b=a(40366),T=a(60848),g=a(24047),h=a(27919),u=a(83419),l=a(69547),d=a(83719),f=a(86054),c=a(45893),m=a(96391),v=a(82264),x=a(57264),y=a(50792),w=a(8443),E=a(7003),S=a(37277),A=a(77332),I=a(76531),M=a(60903),P=a(69442),O=a(17130),N=a(65898),L=a(51085),G=a(14747),z=new u({initialize:function(Z){this.config=new l(Z),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new y,this.anims=new T(this),this.textures=new O(this),this.cache=new g(this),this.registry=new c(this,new y),this.input=new E(this,this.config),this.scene=new M(this,this.config.sceneConfig),this.device=v,this.scale=new I(this,this.config),this.sound=null,this.sound=G.create(this),this.loop=new N(this,this.config.fps),this.plugins=new A(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,x(this.boot.bind(this))},boot:function(){S.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),d(this),m(this),b(this.canvas,this.config.parent),this.textures.once(P.READY,this.texturesReady,this),this.events.emit(w.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(w.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.loop.start(this.renderer?this.step.bind(this):this.headlessStep.bind(this)),L(this);var Y=this.events;Y.on(w.HIDDEN,this.onHidden,this),Y.on(w.VISIBLE,this.onVisible,this),Y.on(w.BLUR,this.onBlur,this),Y.on(w.FOCUS,this.onFocus,this)},step:function(Y,Z){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var rt=this.events;rt.emit(w.PRE_STEP,Y,Z),rt.emit(w.STEP,Y,Z),this.scene.update(Y,Z),rt.emit(w.POST_STEP,Y,Z);var st=this.renderer;st.preRender(),rt.emit(w.PRE_RENDER,st,Y,Z),this.scene.render(st),st.postRender(),rt.emit(w.POST_RENDER,st,Y,Z)}},headlessStep:function(Y,Z){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var rt=this.events;rt.emit(w.PRE_STEP,Y,Z),rt.emit(w.STEP,Y,Z),this.scene.update(Y,Z),rt.emit(w.POST_STEP,Y,Z),this.scene.isProcessing=!1,rt.emit(w.PRE_RENDER,null,Y,Z),rt.emit(w.POST_RENDER,null,Y,Z)}},onHidden:function(){this.loop.pause(),this.events.emit(w.PAUSE)},pause:function(){var Y=this.isPaused;this.isPaused=!0,Y||this.events.emit(w.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(w.RESUME,this.loop.pauseDuration)},resume:function(){var Y=this.isPaused;this.isPaused=!1,Y&&this.events.emit(w.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(Y,Z){void 0===Z&&(Z=!1),this.pendingDestroy=!0,this.removeCanvas=Y,this.noReturn=Z},runDestroy:function(){this.scene.destroy(),this.events.emit(w.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(h.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});_.exports=z},65898:(_,k,a)=>{var b=a(83419),T=a(35154),g=a(29747),h=a(43092),u=new b({initialize:function(d,f){this.game=d,this.raf=new h,this.started=!1,this.running=!1,this.minFps=T(f,"min",5),this.targetFps=T(f,"target",60),this.fpsLimit=T(f,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=g,this.forceSetTimeOut=T(f,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=T(f,"deltaHistory",10),this.panicMax=T(f,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=T(f,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var l=window.performance.now();this.time=l,this.lastTime=l,this.nextFpsUpdate=l+1e3,this.framesThisSecond=0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=Math.min(this._target,this.deltaHistory[d]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(l){if(this.started)return this;this.started=!0,this.running=!0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=l;var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target)},smoothDelta:function(l){var d=this.deltaIndex,f=this.deltaHistory,c=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,l=Math.min(l,this._target)),l>this._min&&(l=f[d],l=Math.min(l,this._min)),f[d]=l,this.deltaIndex++,this.deltaIndex>=c&&(this.deltaIndex=0);for(var m=0,v=0;v<c;v++)m+=f[v];return m/c},updateFPS:function(l){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=l+1e3,this.framesThisSecond=0},stepLimitFPS:function(l){this.now=l;var d=Math.max(0,l-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta+=d,l>=this.nextFpsUpdate&&this.updateFPS(l),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(l,this.delta),this.delta=0),this.lastTime=l,this.frame++},step:function(l){this.now=l;var d=Math.max(0,l-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta=d,l>=this.nextFpsUpdate&&this.updateFPS(l),this.framesThisSecond++,this.callback(l,d),this.lastTime=l,this.frame++},tick:function(){var l=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(l):this.step(l)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(l){void 0===l&&(l=!1);var d=window.performance.now();if(!this.running){l&&(this.startTime+=-this.lastTime+(this.lastTime+d));var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});_.exports=u},51085:(_,k,a)=>{var b=a(8443);_.exports=function(g){var h,u=g.events;void 0!==document.hidden?h="visibilitychange":["webkit","moz","ms"].forEach(function(f){void 0!==document[f+"Hidden"]&&(document.hidden=function(){return document[f+"Hidden"]},h=f+"visibilitychange")}),h&&document.addEventListener(h,function(f){document.hidden||"pause"===f.type?u.emit(b.HIDDEN):u.emit(b.VISIBLE)},!1),window.onblur=function(){u.emit(b.BLUR)},window.onfocus=function(){u.emit(b.FOCUS)},window.focus&&g.config.autoFocus&&window.focus()}},97217:_=>{_.exports="blur"},47548:_=>{_.exports="boot"},19814:_=>{_.exports="contextlost"},68446:_=>{_.exports="destroy"},41700:_=>{_.exports="focus"},25432:_=>{_.exports="hidden"},65942:_=>{_.exports="pause"},59211:_=>{_.exports="postrender"},47789:_=>{_.exports="poststep"},39066:_=>{_.exports="prerender"},460:_=>{_.exports="prestep"},16175:_=>{_.exports="ready"},42331:_=>{_.exports="resume"},11966:_=>{_.exports="step"},32969:_=>{_.exports="systemready"},94830:_=>{_.exports="visible"},8443:(_,k,a)=>{_.exports={BLUR:a(97217),BOOT:a(47548),CONTEXT_LOST:a(19814),DESTROY:a(68446),FOCUS:a(41700),HIDDEN:a(25432),PAUSE:a(65942),POST_RENDER:a(59211),POST_STEP:a(47789),PRE_RENDER:a(39066),PRE_STEP:a(460),READY:a(16175),RESUME:a(42331),STEP:a(11966),SYSTEM_READY:a(32969),VISIBLE:a(94830)}},42857:(_,k,a)=>{_.exports={Config:a(69547),CreateRenderer:a(86054),DebugHeader:a(96391),Events:a(8443),TimeStep:a(65898),VisibilityHandler:a(51085)}},99584:(_,k,a)=>{var b=a(5290),T=a(27919),g=a(35154);_.exports=function(u){var l=g(u,"data",[]),d=g(u,"canvas",null),f=g(u,"palette",b),c=g(u,"pixelWidth",1),m=g(u,"pixelHeight",c),v=g(u,"resizeCanvas",!0),x=g(u,"clearCanvas",!0),y=g(u,"preRender",null),w=g(u,"postRender",null),E=Math.floor(Math.abs(l[0].length*c)),S=Math.floor(Math.abs(l.length*m));d||(d=T.create2D(this,E,S),v=!1,x=!1),v&&(d.width=E,d.height=S);var A=d.getContext("2d",{willReadFrequently:!0});x&&A.clearRect(0,0,E,S),y&&y(d,A);for(var I=0;I<l.length;I++)for(var M=l[I],P=0;P<M.length;P++){var O=M[P];"."!==O&&" "!==O&&(A.fillStyle=f[O],A.fillRect(P*c,I*m,c,m))}return w&&w(d,A),d}},15822:(_,k,a)=>{_.exports={GenerateTexture:a(99584),Palettes:a(57763)}},5290:_=>{_.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:_=>{_.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:_=>{_.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:_=>{_.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:_=>{_.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(_,k,a)=>{_.exports={ARNE16:a(5290),C64:a(23816),CGA:a(9866),JMP:a(77552),MSX:a(92259)}},46728:(_,k,a)=>{var b=a(83419),T=a(36316),g=a(80021),h=a(26099),u=new b({Extends:g,initialize:function(d,f,c,m){g.call(this,"CubicBezierCurve"),Array.isArray(d)&&(m=new h(d[6],d[7]),c=new h(d[4],d[5]),f=new h(d[2],d[3]),d=new h(d[0],d[1])),this.p0=d,this.p1=f,this.p2=c,this.p3=m},getStartPoint:function(l){return void 0===l&&(l=new h),l.copy(this.p0)},getResolution:function(l){return l},getPoint:function(l,d){void 0===d&&(d=new h);var f=this.p0,c=this.p1,m=this.p2,v=this.p3;return d.set(T(l,f.x,c.x,m.x,v.x),T(l,f.y,c.y,m.y,v.y))},draw:function(l,d){void 0===d&&(d=32);var f=this.getPoints(d);l.beginPath(),l.moveTo(this.p0.x,this.p0.y);for(var c=1;c<f.length;c++)l.lineTo(f[c].x,f[c].y);return l.strokePath(),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});u.fromJSON=function(l){var d=l.points,f=new h(d[0],d[1]),c=new h(d[2],d[3]),m=new h(d[4],d[5]),v=new h(d[6],d[7]);return new u(f,c,m,v)},_.exports=u},80021:(_,k,a)=>{var b=a(83419),T=a(19217),g=a(87841),h=a(26099),u=new b({initialize:function(d){this.type=d,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new h,this._tmpVec2B=new h},draw:function(l,d){return void 0===d&&(d=32),l.strokePoints(this.getPoints(d))},getBounds:function(l,d){l||(l=new g),void 0===d&&(d=16);var f=this.getLength();d>f&&(d=f/2);var c=Math.max(1,Math.round(f/d));return T(this.getSpacedPoints(c),l)},getDistancePoints:function(l){var d=this.getLength(),f=Math.max(1,d/l);return this.getSpacedPoints(f)},getEndPoint:function(l){return void 0===l&&(l=new h),this.getPointAt(1,l)},getLength:function(){var l=this.getLengths();return l[l.length-1]},getLengths:function(l){if(void 0===l&&(l=this.arcLengthDivisions),this.cacheArcLengths.length===l+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var f,d=[],c=this.getPoint(0,this._tmpVec2A),m=0;d.push(0);for(var v=1;v<=l;v++)m+=(f=this.getPoint(v/l,this._tmpVec2B)).distance(c),d.push(m),c.copy(f);return this.cacheArcLengths=d,d},getPointAt:function(l,d){var f=this.getUtoTmapping(l);return this.getPoint(f,d)},getPoints:function(l,d,f){void 0===f&&(f=[]),l||(l=d?this.getLength()/d:this.defaultDivisions);for(var c=0;c<=l;c++)f.push(this.getPoint(c/l));return f},getRandomPoint:function(l){return void 0===l&&(l=new h),this.getPoint(Math.random(),l)},getSpacedPoints:function(l,d,f){void 0===f&&(f=[]),l||(l=d?this.getLength()/d:this.defaultDivisions);for(var c=0;c<=l;c++){var m=this.getUtoTmapping(c/l,null,l);f.push(this.getPoint(m))}return f},getStartPoint:function(l){return void 0===l&&(l=new h),this.getPointAt(0,l)},getTangent:function(l,d){void 0===d&&(d=new h);var f=1e-4,c=l-f,m=l+f;return c<0&&(c=0),m>1&&(m=1),this.getPoint(c,this._tmpVec2A),this.getPoint(m,d),d.subtract(this._tmpVec2A).normalize()},getTangentAt:function(l,d){var f=this.getUtoTmapping(l);return this.getTangent(f,d)},getTFromDistance:function(l,d){return l<=0?0:this.getUtoTmapping(0,l,d)},getUtoTmapping:function(l,d,f){var x,c=this.getLengths(f),m=0,v=c.length;x=d?Math.min(d,c[v-1]):l*c[v-1];for(var E,y=0,w=v-1;y<=w;)if((E=c[m=Math.floor(y+(w-y)/2)]-x)<0)y=m+1;else{if(!(E>0)){w=m;break}w=m-1}if(c[m=w]===x)return m/(v-1);var S=c[m];return(m+(x-S)/(c[m+1]-S))/(v-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});_.exports=u},73825:(_,k,a)=>{var b=a(83419),T=a(80021),g=a(39506),h=a(35154),u=a(43396),l=a(26099),d=new b({Extends:T,initialize:function(c,m,v,x,y,w,E,S){if("object"==typeof c){var A=c;c=h(A,"x",0),m=h(A,"y",0),v=h(A,"xRadius",0),x=h(A,"yRadius",v),y=h(A,"startAngle",0),w=h(A,"endAngle",360),E=h(A,"clockwise",!1),S=h(A,"rotation",0)}else void 0===x&&(x=v),void 0===y&&(y=0),void 0===w&&(w=360),void 0===E&&(E=!1),void 0===S&&(S=0);T.call(this,"EllipseCurve"),this.p0=new l(c,m),this._xRadius=v,this._yRadius=x,this._startAngle=g(y),this._endAngle=g(w),this._clockwise=E,this._rotation=g(S)},getStartPoint:function(f){return void 0===f&&(f=new l),this.getPoint(0,f)},getResolution:function(f){return 2*f},getPoint:function(f,c){void 0===c&&(c=new l);for(var m=2*Math.PI,v=this._endAngle-this._startAngle,x=Math.abs(v)<Number.EPSILON;v<0;)v+=m;for(;v>m;)v-=m;v<Number.EPSILON&&(v=x?0:m),this._clockwise&&!x&&(v===m?v=-m:v-=m);var y=this._startAngle+f*v,w=this.p0.x+this._xRadius*Math.cos(y),E=this.p0.y+this._yRadius*Math.sin(y);if(0!==this._rotation){var S=Math.cos(this._rotation),A=Math.sin(this._rotation),I=w-this.p0.x,M=E-this.p0.y;w=I*S-M*A+this.p0.x,E=I*A+M*S+this.p0.y}return c.set(w,E)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return u(this._startAngle)},set:function(f){this._startAngle=g(f)}},endAngle:{get:function(){return u(this._endAngle)},set:function(f){this._endAngle=g(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return u(this._rotation)},set:function(f){this._rotation=g(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:u(this._startAngle),endAngle:u(this._endAngle),clockwise:this._clockwise,rotation:u(this._rotation)}}});d.fromJSON=function(f){return new d(f)},_.exports=d},33951:(_,k,a)=>{var b=a(83419),T=a(80021),g=a(19217),h=a(87841),u=a(26099),l=new b({Extends:T,initialize:function(f,c){T.call(this,"LineCurve"),Array.isArray(f)&&(c=new u(f[2],f[3]),f=new u(f[0],f[1])),this.p0=f,this.p1=c,this.arcLengthDivisions=1},getBounds:function(d){return void 0===d&&(d=new h),g([this.p0,this.p1],d)},getStartPoint:function(d){return void 0===d&&(d=new u),d.copy(this.p0)},getResolution:function(d){return void 0===d&&(d=1),d},getPoint:function(d,f){return void 0===f&&(f=new u),1===d?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),f)},getPointAt:function(d,f){return this.getPoint(d,f)},getTangent:function(d,f){return void 0===f&&(f=new u),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(d,f,c){var m;if(f){var v=this.getLengths(c),x=v[v.length-1];m=Math.min(f,x)/x}else m=d;return m},draw:function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});l.fromJSON=function(d){var f=d.points,c=new u(f[0],f[1]),m=new u(f[2],f[3]);return new l(c,m)},_.exports=l},14744:(_,k,a)=>{var b=a(83419),T=a(80021),g=a(32112),h=a(26099),u=new b({Extends:T,initialize:function(d,f,c){T.call(this,"QuadraticBezierCurve"),Array.isArray(d)&&(c=new h(d[4],d[5]),f=new h(d[2],d[3]),d=new h(d[0],d[1])),this.p0=d,this.p1=f,this.p2=c},getStartPoint:function(l){return void 0===l&&(l=new h),l.copy(this.p0)},getResolution:function(l){return l},getPoint:function(l,d){void 0===d&&(d=new h);var f=this.p0,c=this.p1,m=this.p2;return d.set(g(l,f.x,c.x,m.x),g(l,f.y,c.y,m.y))},draw:function(l,d){void 0===d&&(d=32);var f=this.getPoints(d);l.beginPath(),l.moveTo(this.p0.x,this.p0.y);for(var c=1;c<f.length;c++)l.lineTo(f[c].x,f[c].y);return l.strokePath(),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});u.fromJSON=function(l){var d=l.points,f=new h(d[0],d[1]),c=new h(d[2],d[3]),m=new h(d[4],d[5]);return new u(f,c,m)},_.exports=u},42534:(_,k,a)=>{var b=a(87842),T=a(83419),g=a(80021),h=a(26099),u=new T({Extends:g,initialize:function(d){void 0===d&&(d=[]),g.call(this,"SplineCurve"),this.points=[],this.addPoints(d)},addPoints:function(l){for(var d=0;d<l.length;d++){var f=new h;"number"==typeof l[d]?(f.x=l[d],f.y=l[d+1],d++):Array.isArray(l[d])?(f.x=l[d][0],f.y=l[d][1]):(f.x=l[d].x,f.y=l[d].y),this.points.push(f)}return this},addPoint:function(l,d){var f=new h(l,d);return this.points.push(f),f},getStartPoint:function(l){return void 0===l&&(l=new h),l.copy(this.points[0])},getResolution:function(l){return l*this.points.length},getPoint:function(l,d){void 0===d&&(d=new h);var f=this.points,c=(f.length-1)*l,m=Math.floor(c),v=c-m,x=f[0===m?m:m-1],y=f[m],w=f[m>f.length-2?f.length-1:m+1],E=f[m>f.length-3?f.length-1:m+2];return d.set(b(v,x.x,y.x,w.x,E.x),b(v,x.y,y.y,w.y,E.y))},toJSON:function(){for(var l=[],d=0;d<this.points.length;d++)l.push(this.points[d].x),l.push(this.points[d].y);return{type:this.type,points:l}}});u.fromJSON=function(l){return new u(l.points)},_.exports=u},25410:(_,k,a)=>{_.exports={Path:a(46669),MoveTo:a(68618),CubicBezier:a(46728),Curve:a(80021),Ellipse:a(73825),Line:a(33951),QuadraticBezier:a(14744),Spline:a(42534)}},68618:(_,k,a)=>{var b=a(83419),T=a(26099),g=new b({initialize:function(u,l){this.active=!1,this.p0=new T(u,l)},getPoint:function(h,u){return void 0===u&&(u=new T),u.copy(this.p0)},getPointAt:function(h,u){return this.getPoint(h,u)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});_.exports=g},46669:(_,k,a)=>{var b=a(83419),T=a(46728),g=a(73825),h=a(39429),u=a(33951),l=a(68618),d=a(14744),f=a(87841),c=a(42534),m=a(26099),v=a(36383),x=new b({initialize:function(w,E){void 0===w&&(w=0),void 0===E&&(E=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new m,this._tmpVec2A=new m,this._tmpVec2B=new m,"object"==typeof w?this.fromJSON(w):this.startPoint.set(w,E)},add:function(y){return this.curves.push(y),this},circleTo:function(y,w,E){return void 0===w&&(w=!1),this.ellipseTo(y,y,0,360,w,E)},closePath:function(){var y=this.curves[0].getPoint(0),w=this.curves[this.curves.length-1].getPoint(1);return y.equals(w)||this.curves.push(new u(w,y)),this},cubicBezierTo:function(y,w,E,S,A,I){var P,O,N,M=this.getEndPoint();return y instanceof m?(P=y,O=w,N=E):(P=new m(E,S),O=new m(A,I),N=new m(y,w)),this.add(new T(M,P,O,N))},quadraticBezierTo:function(y,w,E,S){var I,M,A=this.getEndPoint();return y instanceof m?(I=y,M=w):(I=new m(E,S),M=new m(y,w)),this.add(new d(A,I,M))},draw:function(y,w){for(var E=0;E<this.curves.length;E++){var S=this.curves[E];S.active&&S.draw(y,w)}return y},ellipseTo:function(y,w,E,S,A,I){var M=new g(0,0,y,w,E,S,A,I),P=this.getEndPoint(this._tmpVec2A),O=M.getStartPoint(this._tmpVec2B);return P.subtract(O),M.x=P.x,M.y=P.y,this.add(M)},fromJSON:function(y){this.curves=[],this.cacheLengths=[],this.startPoint.set(y.x,y.y),this.autoClose=y.autoClose;for(var w=0;w<y.curves.length;w++){var E=y.curves[w];switch(E.type){case"LineCurve":this.add(u.fromJSON(E));break;case"EllipseCurve":this.add(g.fromJSON(E));break;case"SplineCurve":this.add(c.fromJSON(E));break;case"CubicBezierCurve":this.add(T.fromJSON(E));break;case"QuadraticBezierCurve":this.add(d.fromJSON(E))}}return this},getBounds:function(y,w){void 0===y&&(y=new f),void 0===w&&(w=16),y.x=Number.MAX_VALUE,y.y=Number.MAX_VALUE;for(var E=new f,S=v.MIN_SAFE_INTEGER,A=v.MIN_SAFE_INTEGER,I=0;I<this.curves.length;I++){var M=this.curves[I];M.active&&(M.getBounds(E,w),y.x=Math.min(y.x,E.x),y.y=Math.min(y.y,E.y),S=Math.max(S,E.right),A=Math.max(A,E.bottom))}return y.right=S,y.bottom=A,y},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var y=[],w=0,E=0;E<this.curves.length;E++)w+=this.curves[E].getLength(),y.push(w);return this.cacheLengths=y,y},getCurveAt:function(y){for(var w=y*this.getLength(),E=this.getCurveLengths(),S=0;S<E.length;){if(E[S]>=w)return this.curves[S];S++}return null},getEndPoint:function(y){return void 0===y&&(y=new m),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,y):y.copy(this.startPoint),y},getLength:function(){var y=this.getCurveLengths();return y[y.length-1]},getPoint:function(y,w){void 0===w&&(w=new m);for(var E=y*this.getLength(),S=this.getCurveLengths(),A=0;A<S.length;){if(S[A]>=E){var I=S[A]-E,M=this.curves[A],P=M.getLength();return M.getPointAt(0===P?0:1-I/P,w)}A++}return null},getPoints:function(y,w){!y&&!w&&(y=this.defaultDivisions);for(var S,E=[],A=0;A<this.curves.length;A++){var I=this.curves[A];if(I.active)for(var M=I.getResolution(y),P=I.getPoints(M,w),O=0;O<P.length;O++){var N=P[O];S&&S.equals(N)||(E.push(N),S=N)}}return this.autoClose&&E.length>1&&!E[E.length-1].equals(E[0])&&E.push(E[0]),E},getRandomPoint:function(y){return void 0===y&&(y=new m),this.getPoint(Math.random(),y)},getSpacedPoints:function(y){void 0===y&&(y=40);for(var w=[],E=0;E<=y;E++)w.push(this.getPoint(E/y));return this.autoClose&&w.push(w[0]),w},getStartPoint:function(y){return void 0===y&&(y=new m),y.copy(this.startPoint)},getTangent:function(y,w){void 0===w&&(w=new m);for(var E=y*this.getLength(),S=this.getCurveLengths(),A=0;A<S.length;){if(S[A]>=E){var I=S[A]-E,M=this.curves[A],P=M.getLength();return M.getTangentAt(0===P?0:1-I/P,w)}A++}return null},lineTo:function(y,w){y instanceof m?this._tmpVec2B.copy(y):"object"==typeof y?this._tmpVec2B.setFromObject(y):this._tmpVec2B.set(y,w);var E=this.getEndPoint(this._tmpVec2A);return this.add(new u([E.x,E.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(y){return y.unshift(this.getEndPoint()),this.add(new c(y))},moveTo:function(y,w){return this.add(y instanceof m?new l(y.x,y.y):new l(y,w))},toJSON:function(){for(var y=[],w=0;w<this.curves.length;w++)y.push(this.curves[w].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:y}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});h.register("path",function(y,w){return new x(y,w)}),_.exports=x},45893:(_,k,a)=>{var b=a(83419),T=a(24882),g=new b({initialize:function(u,l){this.parent=u,this.events=l,l||(this.events=u.events?u.events:u),this.list={},this.values={},this._frozen=!1,!u.hasOwnProperty("sys")&&this.events&&this.events.once(T.DESTROY,this.destroy,this)},get:function(h){var u=this.list;if(Array.isArray(h)){for(var l=[],d=0;d<h.length;d++)l.push(u[h[d]]);return l}return u[h]},getAll:function(){var h={};for(var u in this.list)this.list.hasOwnProperty(u)&&(h[u]=this.list[u]);return h},query:function(h){var u={};for(var l in this.list)this.list.hasOwnProperty(l)&&l.match(h)&&(u[l]=this.list[l]);return u},set:function(h,u){if(this._frozen)return this;if("string"==typeof h)return this.setValue(h,u);for(var l in h)this.setValue(l,h[l]);return this},inc:function(h,u){if(this._frozen)return this;void 0===u&&(u=1);var l=this.get(h);return void 0===l&&(l=0),this.set(h,l+u),this},toggle:function(h){return this._frozen||this.set(h,!this.get(h)),this},setValue:function(h,u){if(this._frozen)return this;if(this.has(h))this.values[h]=u;else{var l=this,d=this.list,f=this.events,c=this.parent;Object.defineProperty(this.values,h,{enumerable:!0,configurable:!0,get:function(){return d[h]},set:function(m){if(!l._frozen){var v=d[h];d[h]=m,f.emit(T.CHANGE_DATA,c,h,m,v),f.emit(T.CHANGE_DATA_KEY+h,c,m,v)}}}),d[h]=u,f.emit(T.SET_DATA,c,h,u)}return this},each:function(h,u){for(var l=[this.parent,null,void 0],d=1;d<arguments.length;d++)l.push(arguments[d]);for(var f in this.list)l[1]=f,l[2]=this.list[f],h.apply(u,l);return this},merge:function(h,u){for(var l in void 0===u&&(u=!0),h)h.hasOwnProperty(l)&&(u||!u&&!this.has(l))&&this.setValue(l,h[l]);return this},remove:function(h){if(this._frozen)return this;if(!Array.isArray(h))return this.removeValue(h);for(var u=0;u<h.length;u++)this.removeValue(h[u]);return this},removeValue:function(h){if(this.has(h)){var u=this.list[h];delete this.list[h],delete this.values[h],this.events.emit(T.REMOVE_DATA,this.parent,h,u)}return this},pop:function(h){var u=void 0;return!this._frozen&&this.has(h)&&(u=this.list[h],delete this.list[h],delete this.values[h],this.events.emit(T.REMOVE_DATA,this.parent,h,u)),u},has:function(h){return this.list.hasOwnProperty(h)},setFreeze:function(h){return this._frozen=h,this},reset:function(){for(var h in this.list)delete this.list[h],delete this.values[h];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(T.CHANGE_DATA),this.events.off(T.SET_DATA),this.events.off(T.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(h){this._frozen=!!h}},count:{get:function(){var h=0;for(var u in this.list)void 0!==this.list[u]&&h++;return h}}});_.exports=g},63646:(_,k,a)=>{var b=a(83419),T=a(45893),g=a(37277),h=a(44594),u=new b({Extends:T,initialize:function(d){T.call(this,d,d.sys.events),this.scene=d,this.systems=d.sys,d.sys.events.once(h.BOOT,this.boot,this),d.sys.events.on(h.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){T.prototype.destroy.call(this),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});g.register("DataManagerPlugin",u,"data"),_.exports=u},10700:_=>{_.exports="changedata"},93608:_=>{_.exports="changedata-"},60883:_=>{_.exports="destroy"},69780:_=>{_.exports="removedata"},22166:_=>{_.exports="setdata"},24882:(_,k,a)=>{_.exports={CHANGE_DATA:a(10700),CHANGE_DATA_KEY:a(93608),DESTROY:a(60883),REMOVE_DATA:a(69780),SET_DATA:a(22166)}},44965:(_,k,a)=>{_.exports={DataManager:a(45893),DataManagerPlugin:a(63646),Events:a(24882)}},7098:(_,k,a)=>{var b=a(84148),T={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};_.exports=function g(){if("function"==typeof importScripts)return T;T.audioData=!!window.Audio,T.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var h=document.createElement("audio"),u=!!h.canPlayType;try{if(u){var l=function(c,m){var v=h.canPlayType("audio/"+c).replace(/^no$/,"");return m?!(!v&&!h.canPlayType("audio/"+m).replace(/^no$/,"")):!!v};if(T.ogg=l('ogg; codecs="vorbis"'),T.opus=l('ogg; codecs="opus"',"opus"),T.mp3=l("mpeg"),T.wav=l("wav"),T.m4a=l("x-m4a"),T.aac=l("aac"),T.flac=l("flac","x-flac"),T.webm=l('webm; codecs="vorbis"'),""!==h.canPlayType('audio/mp4; codecs="ec-3"'))if(b.edge)T.dolby=!0;else if(b.safari&&b.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),f=parseInt(RegExp.$2,10);(10===d&&f>=11||d>10)&&(T.dolby=!0)}}}catch{}return T}()},84148:(_,k,a)=>{var b=a(25892),T={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};_.exports=function g(){var h=navigator.userAgent;return/Edg\/\d+/.test(h)?(T.edge=!0,T.es2019=!0):/OPR/.test(h)?(T.opera=!0,T.es2019=!0):/Chrome\/(\d+)/.test(h)&&!b.windowsPhone?(T.chrome=!0,T.chromeVersion=parseInt(RegExp.$1,10),T.es2019=T.chromeVersion>69):/Firefox\D+(\d+)/.test(h)?(T.firefox=!0,T.firefoxVersion=parseInt(RegExp.$1,10),T.es2019=T.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(h)&&b.iOS?(T.mobileSafari=!0,T.es2019=!0):/MSIE (\d+\.\d+);/.test(h)?(T.ie=!0,T.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(h)&&!b.windowsPhone?(T.safari=!0,T.safariVersion=parseInt(RegExp.$1,10),T.es2019=T.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(h)&&(T.ie=!0,T.trident=!0,T.tridentVersion=parseInt(RegExp.$1,10),T.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(h)&&(T.silk=!0),T}()},89289:(_,k,a)=>{var b=a(27919),T={supportInverseAlpha:!1,supportNewBlendModes:!1};_.exports=function u(){return"function"!=typeof importScripts&&void 0!==document&&(T.supportNewBlendModes=function g(){var l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",d="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",f=new Image;return f.onload=function(){var c=new Image;c.onload=function(){var v=b.create2D(c,6).getContext("2d",{willReadFrequently:!0});if(v.globalCompositeOperation="multiply",v.drawImage(f,0,0),v.drawImage(c,2,0),!v.getImageData(2,0,1,1))return!1;var x=v.getImageData(2,0,1,1).data;b.remove(c),T.supportNewBlendModes=255===x[0]&&0===x[1]&&0===x[2]},c.src=l+"/wCKxvRF"+d},f.src=l+"AP804Oa6"+d,!1}(),T.supportInverseAlpha=function h(){var d=b.create2D(this,2).getContext("2d",{willReadFrequently:!0});d.fillStyle="rgba(10, 20, 30, 0.5)",d.fillRect(0,0,1,1);var f=d.getImageData(0,0,1,1);if(null===f)return!1;d.putImageData(f,1,0);var c=d.getImageData(1,0,1,1),m=c.data[0]===f.data[0]&&c.data[1]===f.data[1]&&c.data[2]===f.data[2]&&c.data[3]===f.data[3];return b.remove(this),m}()),T}()},89357:(_,k,a)=>{var b=a(25892),T=a(84148),g=a(27919),h={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};_.exports=function l(){if("function"==typeof importScripts)return h;h.canvas=!!window.CanvasRenderingContext2D;try{h.localStorage=!!localStorage.getItem}catch{h.localStorage=!1}h.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),h.fileSystem=!!window.requestFileSystem;var d=!1;return h.webGL=function(){if(window.WebGLRenderingContext)try{var c=g.createWebGL(this),m=c.getContext("webgl")||c.getContext("experimental-webgl"),v=g.create2D(this),y=v.getContext("2d",{willReadFrequently:!0}).createImageData(1,1);return d=y.data instanceof Uint8ClampedArray,g.remove(c),g.remove(v),!!m}catch{return!1}return!1}(),h.worker=!!window.Worker,h.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,h.getUserMedia=h.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,T.firefox&&T.firefoxVersion<21&&(h.getUserMedia=!1),!b.iOS&&(T.ie||T.firefox||T.chrome)&&(h.canvasBitBltShift=!0),(T.safari||T.mobileSafari)&&(h.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(h.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(h.littleEndian=function u(){var d=new ArrayBuffer(4),f=new Uint8Array(d),c=new Uint32Array(d);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,3569595041===c[0]||2712847316!==c[0]&&null}()),h.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&null!==h.littleEndian&&d,h}()},91639:_=>{var k={available:!1,cancel:"",keyboard:!1,request:""};_.exports=function a(){if("function"==typeof importScripts)return k;var b,T="Fullscreen",g="FullScreen",h=["request"+T,"request"+g,"webkitRequest"+T,"webkitRequest"+g,"msRequest"+T,"msRequest"+g,"mozRequest"+g,"mozRequest"+T];for(b=0;b<h.length;b++)if(document.documentElement[h[b]]){k.available=!0,k.request=h[b];break}var u=["cancel"+g,"exit"+T,"webkitCancel"+g,"webkitExit"+T,"msCancel"+g,"msExit"+T,"mozCancel"+g,"mozExit"+T];if(k.available)for(b=0;b<u.length;b++)if(document[u[b]]){k.cancel=u[b];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(k.keyboard=!0),Object.defineProperty(k,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),k}()},31784:(_,k,a)=>{var b=a(84148),T={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};_.exports=function g(){return"function"==typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(T.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(T.mspointer=!0),navigator.getGamepads&&(T.gamepads=!0),"onwheel"in window||b.ie&&"WheelEvent"in window?T.wheelEvent="wheel":"onmousewheel"in window?T.wheelEvent="mousewheel":b.firefox&&"MouseScrollEvent"in window&&(T.wheelEvent="DOMMouseScroll")),T}()},25892:_=>{var k={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};_.exports=function a(){if("function"==typeof importScripts)return k;var b=navigator.userAgent;/Windows/.test(b)?k.windows=!0:/Mac OS/.test(b)&&!/like Mac OS/.test(b)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(k.iOS=!0,k.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),k.iOSVersion=parseInt(RegExp.$1,10)):k.macOS=!0:/Android/.test(b)?k.android=!0:/Linux/.test(b)?k.linux=!0:/iP[ao]d|iPhone/i.test(b)?(k.iOS=!0,navigator.appVersion.match(/OS (\d+)/),k.iOSVersion=parseInt(RegExp.$1,10),k.iPhone=-1!==b.toLowerCase().indexOf("iphone"),k.iPad=-1!==b.toLowerCase().indexOf("ipad")):/Kindle/.test(b)||/\bKF[A-Z][A-Z]+/.test(b)||/Silk.*Mobile Safari/.test(b)?k.kindle=!0:/CrOS/.test(b)&&(k.chromeOS=!0),(/Windows Phone/i.test(b)||/IEMobile/i.test(b))&&(k.android=!1,k.iOS=!1,k.macOS=!1,k.windows=!0,k.windowsPhone=!0);var T=/Silk/.test(b);return(k.windows||k.macOS||k.linux&&!T||k.chromeOS)&&(k.desktop=!0),(k.windowsPhone||/Windows NT/i.test(b)&&/Touch/i.test(b))&&(k.desktop=!1),navigator.standalone&&(k.webApp=!0),"function"!=typeof importScripts&&(void 0!==window.cordova&&(k.cordova=!0),void 0!==window.ejecta&&(k.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(k.node=!0),k.node&&"object"==typeof process.versions&&(k.nodeWebkit=!!process.versions["node-webkit"],k.electron=!!process.versions.electron),/Crosswalk/.test(b)&&(k.crosswalk=!0),k.pixelRatio=window.devicePixelRatio||1,k}()},43267:(_,k,a)=>{var b=a(95540),T={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};_.exports=function g(){if("function"==typeof importScripts)return T;var h=document.createElement("video"),u=!!h.canPlayType,l=/^no$/;try{u&&(h.canPlayType('video/ogg; codecs="theora"').replace(l,"")&&(T.ogg=!0),h.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(l,"")&&(T.h264=!0,T.mp4=!0),h.canPlayType("video/x-m4v").replace(l,"")&&(T.m4v=!0),h.canPlayType('video/webm; codecs="vp8, vorbis"').replace(l,"")&&(T.webm=!0),h.canPlayType('video/webm; codecs="vp9"').replace(l,"")&&(T.vp9=!0),h.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(l,"")&&(T.hls=!0))}catch{}return h.parentNode&&h.parentNode.removeChild(h),T.getVideoURL=function(d){Array.isArray(d)||(d=[d]);for(var f=0;f<d.length;f++){var m,c=b(d[f],"url",d[f]);if(0===c.indexOf("blob:"))return{url:c,type:""};if(m=0===c.indexOf("data:")?c.split(",")[0].match(/\/(.*?);/):c.match(/\.([a-zA-Z0-9]+)($|\?)/),m=b(d[f],"type",m?m[1]:"").toLowerCase(),T[m])return{url:c,type:m}}return null},T}()},82264:(_,k,a)=>{_.exports={os:a(25892),browser:a(84148),features:a(89357),input:a(31784),audio:a(7098),video:a(43267),fullscreen:a(91639),canvasFeatures:a(89289)}},89422:(_,k,a)=>{var b=a(83419),T=new Float32Array(20),g=new b({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(h){return this._matrix.set(h),this._dirty=!0,this},reset:function(){var h=this._matrix;return h.fill(0),h[0]=1,h[6]=1,h[12]=1,h[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var h=this._data;return this._dirty&&(h.set(this._matrix),h[4]/=255,h[9]/=255,h[14]/=255,h[19]/=255,this._dirty=!1),h},brightness:function(h,u){return void 0===h&&(h=0),void 0===u&&(u=!1),this.multiply([h,0,0,0,0,0,h,0,0,0,0,0,h,0,0,0,0,0,1,0],u)},saturate:function(h,u){void 0===h&&(h=0),void 0===u&&(u=!1);var l=2*h/3+1,d=-.5*(l-1);return this.multiply([l,d,d,0,0,d,l,d,0,0,d,d,l,0,0,0,0,0,1,0],u)},desaturate:function(h){return void 0===h&&(h=!1),this.saturate(-1,h)},hue:function(h,u){void 0===h&&(h=0),void 0===u&&(u=!1),h=h/180*Math.PI;var l=Math.cos(h),d=Math.sin(h),f=.213,c=.715,m=.072;return this.multiply([f+l*(1-f)+d*-f,c+l*-c+d*-c,m+l*-m+d*(1-m),0,0,f+l*-f+.143*d,c+l*(1-c)+.14*d,m+l*-m+-.283*d,0,0,f+l*-f+-.787*d,c+l*-c+d*c,m+l*(1-m)+d*m,0,0,0,0,0,1,0],u)},grayscale:function(h,u){return void 0===h&&(h=1),void 0===u&&(u=!1),this.saturate(-h,u)},blackWhite:function(h){return void 0===h&&(h=!1),this.multiply(g.BLACK_WHITE,h)},contrast:function(h,u){void 0===h&&(h=0),void 0===u&&(u=!1);var l=h+1,d=-.5*(l-1);return this.multiply([l,0,0,0,d,0,l,0,0,d,0,0,l,0,d,0,0,0,1,0],u)},negative:function(h){return void 0===h&&(h=!1),this.multiply(g.NEGATIVE,h)},desaturateLuminance:function(h){return void 0===h&&(h=!1),this.multiply(g.DESATURATE_LUMINANCE,h)},sepia:function(h){return void 0===h&&(h=!1),this.multiply(g.SEPIA,h)},night:function(h,u){return void 0===h&&(h=.1),void 0===u&&(u=!1),this.multiply([-2*h,-h,0,0,0,-h,0,h,0,0,0,h,2*h,0,0,0,0,0,1,0],u)},lsd:function(h){return void 0===h&&(h=!1),this.multiply(g.LSD,h)},brown:function(h){return void 0===h&&(h=!1),this.multiply(g.BROWN,h)},vintagePinhole:function(h){return void 0===h&&(h=!1),this.multiply(g.VINTAGE,h)},kodachrome:function(h){return void 0===h&&(h=!1),this.multiply(g.KODACHROME,h)},technicolor:function(h){return void 0===h&&(h=!1),this.multiply(g.TECHNICOLOR,h)},polaroid:function(h){return void 0===h&&(h=!1),this.multiply(g.POLAROID,h)},shiftToBGR:function(h){return void 0===h&&(h=!1),this.multiply(g.SHIFT_BGR,h)},multiply:function(h,u){void 0===u&&(u=!1),u||this.reset();var l=this._matrix,d=T;return d.set(l),l.set([d[0]*h[0]+d[1]*h[5]+d[2]*h[10]+d[3]*h[15],d[0]*h[1]+d[1]*h[6]+d[2]*h[11]+d[3]*h[16],d[0]*h[2]+d[1]*h[7]+d[2]*h[12]+d[3]*h[17],d[0]*h[3]+d[1]*h[8]+d[2]*h[13]+d[3]*h[18],d[0]*h[4]+d[1]*h[9]+d[2]*h[14]+d[3]*h[19]+d[4],d[5]*h[0]+d[6]*h[5]+d[7]*h[10]+d[8]*h[15],d[5]*h[1]+d[6]*h[6]+d[7]*h[11]+d[8]*h[16],d[5]*h[2]+d[6]*h[7]+d[7]*h[12]+d[8]*h[17],d[5]*h[3]+d[6]*h[8]+d[7]*h[13]+d[8]*h[18],d[5]*h[4]+d[6]*h[9]+d[7]*h[14]+d[8]*h[19]+d[9],d[10]*h[0]+d[11]*h[5]+d[12]*h[10]+d[13]*h[15],d[10]*h[1]+d[11]*h[6]+d[12]*h[11]+d[13]*h[16],d[10]*h[2]+d[11]*h[7]+d[12]*h[12]+d[13]*h[17],d[10]*h[3]+d[11]*h[8]+d[12]*h[13]+d[13]*h[18],d[10]*h[4]+d[11]*h[9]+d[12]*h[14]+d[13]*h[19]+d[14],d[15]*h[0]+d[16]*h[5]+d[17]*h[10]+d[18]*h[15],d[15]*h[1]+d[16]*h[6]+d[17]*h[11]+d[18]*h[16],d[15]*h[2]+d[16]*h[7]+d[17]*h[12]+d[18]*h[17],d[15]*h[3]+d[16]*h[8]+d[17]*h[13]+d[18]*h[18],d[15]*h[4]+d[16]*h[9]+d[17]*h[14]+d[18]*h[19]+d[19]]),this._dirty=!0,this}});g.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],g.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],g.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],g.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],g.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],g.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],g.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],g.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],g.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],g.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],g.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],_.exports=g},51767:(_,k,a)=>{var b=a(83419),T=a(29747),g=new b({initialize:function(u,l,d){this._rgb=[0,0,0],this.onChangeCallback=T,this.dirty=!1,this.set(u,l,d)},set:function(h,u,l){return void 0===h&&(h=0),void 0===u&&(u=0),void 0===l&&(l=0),this._rgb=[h,u,l],this.onChange(),this},equals:function(h,u,l){var d=this._rgb;return d[0]===h&&d[1]===u&&d[2]===l},onChange:function(){this.dirty=!0;var h=this._rgb;this.onChangeCallback.call(this,h[0],h[1],h[2])},r:{get:function(){return this._rgb[0]},set:function(h){this._rgb[0]=h,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(h){this._rgb[1]=h,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(h){this._rgb[2]=h,this.onChange()}},destroy:function(){this.onChangeCallback=null}});_.exports=g},60461:_=>{_.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},54312:(_,k,a)=>{var b=a(62235),T=a(35893),g=a(86327),h=a(88417);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,T(d)+f),g(l,b(d)+c),l}},46768:(_,k,a)=>{var b=a(62235),T=a(26541),g=a(86327),h=a(385);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,T(d)-f),g(l,b(d)+c),l}},35827:(_,k,a)=>{var b=a(62235),T=a(54380),g=a(86327),h=a(40136);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,T(d)+f),g(l,b(d)+c),l}},46871:(_,k,a)=>{var b=a(66786),T=a(35893),g=a(7702);_.exports=function(u,l,d,f){return void 0===d&&(d=0),void 0===f&&(f=0),b(u,T(l)+d,g(l)+f),u}},5198:(_,k,a)=>{var b=a(7702),T=a(26541),g=a(20786),h=a(385);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,T(d)-f),g(l,b(d)+c),l}},11879:(_,k,a)=>{var b=a(60461),T=[];T[b.BOTTOM_CENTER]=a(54312),T[b.BOTTOM_LEFT]=a(46768),T[b.BOTTOM_RIGHT]=a(35827),T[b.CENTER]=a(46871),T[b.LEFT_CENTER]=a(5198),T[b.RIGHT_CENTER]=a(80503),T[b.TOP_CENTER]=a(89698),T[b.TOP_LEFT]=a(922),T[b.TOP_RIGHT]=a(21373),T[b.LEFT_BOTTOM]=T[b.BOTTOM_LEFT],T[b.LEFT_TOP]=T[b.TOP_LEFT],T[b.RIGHT_BOTTOM]=T[b.BOTTOM_RIGHT],T[b.RIGHT_TOP]=T[b.TOP_RIGHT],_.exports=function(h,u,l,d,f){return T[l](h,u,d,f)}},80503:(_,k,a)=>{var b=a(7702),T=a(54380),g=a(20786),h=a(40136);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,T(d)+f),g(l,b(d)+c),l}},89698:(_,k,a)=>{var b=a(35893),T=a(17717),g=a(88417),h=a(66737);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),g(l,b(d)+f),h(l,T(d)-c),l}},922:(_,k,a)=>{var b=a(26541),T=a(17717),g=a(385),h=a(66737);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),g(l,b(d)-f),h(l,T(d)-c),l}},21373:(_,k,a)=>{var b=a(54380),T=a(17717),g=a(40136),h=a(66737);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),g(l,b(d)+f),h(l,T(d)-c),l}},91660:(_,k,a)=>{_.exports={BottomCenter:a(54312),BottomLeft:a(46768),BottomRight:a(35827),Center:a(46871),LeftCenter:a(5198),QuickSet:a(11879),RightCenter:a(80503),TopCenter:a(89698),TopLeft:a(922),TopRight:a(21373)}},71926:(_,k,a)=>{var b=a(60461),T=a(79291),g={In:a(91660),To:a(16694)};g=T(!1,g,b),_.exports=g},21578:(_,k,a)=>{var b=a(62235),T=a(35893),g=a(88417),h=a(66737);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),g(l,T(d)+f),h(l,b(d)+c),l}},10210:(_,k,a)=>{var b=a(62235),T=a(26541),g=a(385),h=a(66737);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),g(l,T(d)-f),h(l,b(d)+c),l}},82341:(_,k,a)=>{var b=a(62235),T=a(54380),g=a(40136),h=a(66737);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),g(l,T(d)+f),h(l,b(d)+c),l}},87958:(_,k,a)=>{var b=a(62235),T=a(26541),g=a(86327),h=a(40136);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,T(d)-f),g(l,b(d)+c),l}},40080:(_,k,a)=>{var b=a(7702),T=a(26541),g=a(20786),h=a(40136);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,T(d)-f),g(l,b(d)+c),l}},88466:(_,k,a)=>{var b=a(26541),T=a(17717),g=a(40136),h=a(66737);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),g(l,b(d)-f),h(l,T(d)-c),l}},38829:(_,k,a)=>{var b=a(60461),T=[];T[b.BOTTOM_CENTER]=a(21578),T[b.BOTTOM_LEFT]=a(10210),T[b.BOTTOM_RIGHT]=a(82341),T[b.LEFT_BOTTOM]=a(87958),T[b.LEFT_CENTER]=a(40080),T[b.LEFT_TOP]=a(88466),T[b.RIGHT_BOTTOM]=a(19211),T[b.RIGHT_CENTER]=a(34609),T[b.RIGHT_TOP]=a(48741),T[b.TOP_CENTER]=a(49440),T[b.TOP_LEFT]=a(81288),T[b.TOP_RIGHT]=a(61323),_.exports=function(h,u,l,d,f){return T[l](h,u,d,f)}},19211:(_,k,a)=>{var b=a(62235),T=a(54380),g=a(86327),h=a(385);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,T(d)+f),g(l,b(d)+c),l}},34609:(_,k,a)=>{var b=a(7702),T=a(54380),g=a(20786),h=a(385);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,T(d)+f),g(l,b(d)+c),l}},48741:(_,k,a)=>{var b=a(54380),T=a(17717),g=a(385),h=a(66737);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),g(l,b(d)+f),h(l,T(d)-c),l}},49440:(_,k,a)=>{var b=a(35893),T=a(17717),g=a(86327),h=a(88417);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,b(d)+f),g(l,T(d)-c),l}},81288:(_,k,a)=>{var b=a(26541),T=a(17717),g=a(86327),h=a(385);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,b(d)-f),g(l,T(d)-c),l}},61323:(_,k,a)=>{var b=a(54380),T=a(17717),g=a(86327),h=a(40136);_.exports=function(l,d,f,c){return void 0===f&&(f=0),void 0===c&&(c=0),h(l,b(d)+f),g(l,T(d)-c),l}},16694:(_,k,a)=>{_.exports={BottomCenter:a(21578),BottomLeft:a(10210),BottomRight:a(82341),LeftBottom:a(87958),LeftCenter:a(40080),LeftTop:a(88466),QuickSet:a(38829),RightBottom:a(19211),RightCenter:a(34609),RightTop:a(48741),TopCenter:a(49440),TopLeft:a(81288),TopRight:a(61323)}},66786:(_,k,a)=>{var b=a(88417),T=a(20786);_.exports=function(h,u,l){return b(h,u),T(h,l)}},62235:_=>{_.exports=function(a){return a.y+a.height-a.height*a.originY}},72873:(_,k,a)=>{var b=a(62235),T=a(26541),g=a(54380),h=a(17717),u=a(87841);_.exports=function(d,f){void 0===f&&(f=new u);var c=T(d),m=h(d);return f.x=c,f.y=m,f.width=g(d)-c,f.height=b(d)-m,f}},35893:_=>{_.exports=function(a){return a.x-a.width*a.originX+.5*a.width}},7702:_=>{_.exports=function(a){return a.y-a.height*a.originY+.5*a.height}},26541:_=>{_.exports=function(a){return a.x-a.width*a.originX}},87431:_=>{_.exports=function(a){return a.width*a.originX}},46928:_=>{_.exports=function(a){return a.height*a.originY}},54380:_=>{_.exports=function(a){return a.x+a.width-a.width*a.originX}},17717:_=>{_.exports=function(a){return a.y-a.height*a.originY}},86327:_=>{_.exports=function(a,b){return a.y=b-a.height+a.height*a.originY,a}},88417:_=>{_.exports=function(a,b){return a.x=b+a.width*a.originX-.5*a.width,a}},20786:_=>{_.exports=function(a,b){return a.y=b+a.height*a.originY-.5*a.height,a}},385:_=>{_.exports=function(a,b){return a.x=b+a.width*a.originX,a}},40136:_=>{_.exports=function(a,b){return a.x=b-a.width+a.width*a.originX,a}},66737:_=>{_.exports=function(a,b){return a.y=b+a.height*a.originY,a}},58724:(_,k,a)=>{_.exports={CenterOn:a(66786),GetBottom:a(62235),GetBounds:a(72873),GetCenterX:a(35893),GetCenterY:a(7702),GetLeft:a(26541),GetOffsetX:a(87431),GetOffsetY:a(46928),GetRight:a(54380),GetTop:a(17717),SetBottom:a(86327),SetCenterX:a(88417),SetCenterY:a(20786),SetLeft:a(385),SetRight:a(40136),SetTop:a(66737)}},20623:_=>{_.exports={setCrisp:function(a){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(T){a.style["image-rendering"]=T}),a.style.msInterpolationMode="nearest-neighbor",a},setBicubic:function(a){return a.style["image-rendering"]="auto",a.style.msInterpolationMode="bicubic",a}}},27919:(_,k,a)=>{var l,c,v,b=a(8054),T=a(68703),g=[],h=!1;_.exports=(v=function(){var E=0;return g.forEach(function(S){S.parent&&E++}),E},{create2D:function(E,S,A){return l(E,S,A,b.CANVAS)},create:l=function(E,S,A,I,M){void 0===S&&(S=1),void 0===A&&(A=1),void 0===I&&(I=b.CANVAS),void 0===M&&(M=!1);var P,O=c(I);return null===O?(O={parent:E,canvas:document.createElement("canvas"),type:I},I===b.CANVAS&&g.push(O),P=O.canvas):(O.parent=E,P=O.canvas),M&&(O.parent=P),P.width=S,P.height=A,h&&I===b.CANVAS&&T.disable(P.getContext("2d",{willReadFrequently:!1})),P},createWebGL:function(E,S,A){return l(E,S,A,b.WEBGL)},disableSmoothing:function(){h=!0},enableSmoothing:function(){h=!1},first:c=function(E){if(void 0===E&&(E=b.CANVAS),E===b.WEBGL)return null;for(var S=0;S<g.length;S++){var A=g[S];if(!A.parent&&A.type===E)return A}return null},free:function(){return g.length-v()},pool:g,remove:function(E){var S=E instanceof HTMLCanvasElement;g.forEach(function(A){(S&&A.canvas===E||!S&&A.parent===E)&&(A.parent=null,A.canvas.width=1,A.canvas.height=1)})},total:v})},68703:_=>{var b,k="";_.exports={disable:function(u){return""===k&&(k=b(u)),k&&(u[k]=!1),u},enable:function(u){return""===k&&(k=b(u)),k&&(u[k]=!0),u},getPrefix:b=function(u){for(var l=["i","webkitI","msI","mozI","oI"],d=0;d<l.length;d++){var f=l[d]+"mageSmoothingEnabled";if(f in u)return f}return null},isEnabled:function(u){return null!==k?u[k]:null}}},65208:_=>{_.exports=function(a,b){return void 0===b&&(b="none"),a.style.msTouchAction=b,a.style["ms-touch-action"]=b,a.style["touch-action"]=b,a}},91610:_=>{_.exports=function(a,b){return void 0===b&&(b="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(g){a.style[g+"user-select"]=b}),a.style["-webkit-touch-callout"]=b,a.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",a}},26253:(_,k,a)=>{_.exports={CanvasInterpolation:a(20623),CanvasPool:a(27919),Smoothing:a(68703),TouchAction:a(65208),UserSelect:a(91610)}},40987:(_,k,a)=>{var b=a(83419),T=a(37589),g=a(1e3),h=a(7537),u=a(87837),l=new b({initialize:function(f,c,m,v){void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(f,c,m,v)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(d,f,c,m,v){return void 0===m&&(m=255),void 0===v&&(v=!0),this._locked=!0,this.red=d,this.green=f,this.blue=c,this.alpha=m,this._locked=!1,this.update(v)},setGLTo:function(d,f,c,m){return void 0===m&&(m=1),this._locked=!0,this.redGL=d,this.greenGL=f,this.blueGL=c,this.alphaGL=m,this._locked=!1,this.update(!0)},setFromRGB:function(d){return this._locked=!0,this.red=d.r,this.green=d.g,this.blue=d.b,d.hasOwnProperty("a")&&(this.alpha=d.a),this._locked=!1,this.update(!0)},setFromHSV:function(d,f,c){return h(d,f,c,this)},update:function(d){if(void 0===d&&(d=!1),this._locked)return this;var f=this.r,c=this.g,m=this.b,v=this.a;return this._color=T(f,c,m),this._color32=g(f,c,m,v),this._rgba="rgba("+f+","+c+","+m+","+v/255+")",d&&u(f,c,m,this),this},updateHSV:function(){return u(this.r,this.g,this.b,this),this},clone:function(){return new l(this.r,this.g,this.b,this.a)},gray:function(d){return this.setTo(d,d,d)},random:function(d,f){void 0===d&&(d=0),void 0===f&&(f=255);var c=Math.floor(d+Math.random()*(f-d)),m=Math.floor(d+Math.random()*(f-d)),v=Math.floor(d+Math.random()*(f-d));return this.setTo(c,m,v)},randomGray:function(d,f){void 0===d&&(d=0),void 0===f&&(f=255);var c=Math.floor(d+Math.random()*(f-d));return this.setTo(c,c,c)},saturate:function(d){return this.s+=d/100,this},desaturate:function(d){return this.s-=d/100,this},lighten:function(d){return this.v+=d/100,this},darken:function(d){return this.v-=d/100,this},brighten:function(d){var f=this.r,c=this.g,m=this.b;return f=Math.max(0,Math.min(255,f-Math.round(-d/100*255))),c=Math.max(0,Math.min(255,c-Math.round(-d/100*255))),m=Math.max(0,Math.min(255,m-Math.round(-d/100*255))),this.setTo(f,c,m)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(d){this.gl[0]=Math.min(Math.abs(d),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(d){this.gl[1]=Math.min(Math.abs(d),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(d){this.gl[2]=Math.min(Math.abs(d),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(d){this.gl[3]=Math.min(Math.abs(d),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(d){d=Math.floor(Math.abs(d)),this.r=Math.min(d,255),this.gl[0]=d/255,this.update(!0)}},green:{get:function(){return this.g},set:function(d){d=Math.floor(Math.abs(d)),this.g=Math.min(d,255),this.gl[1]=d/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(d){d=Math.floor(Math.abs(d)),this.b=Math.min(d,255),this.gl[2]=d/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(d){d=Math.floor(Math.abs(d)),this.a=Math.min(d,255),this.gl[3]=d/255,this.update()}},h:{get:function(){return this._h},set:function(d){this._h=d,h(d,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(d){this._s=d,h(this._h,d,this._v,this)}},v:{get:function(){return this._v},set:function(d){this._v=d,h(this._h,this._s,d,this)}}});_.exports=l},92728:(_,k,a)=>{var b=a(37589);_.exports=function(g){void 0===g&&(g=1024);var l,h=[],u=255,d=255,f=0,c=0;for(l=0;l<=u;l++)h.push({r:d,g:l,b:c,color:b(d,l,c)});for(f=255,l=u;l>=0;l--)h.push({r:l,g:f,b:c,color:b(l,f,c)});for(d=0,l=0;l<=u;l++,f--)h.push({r:d,g:f,b:l,color:b(d,f,l)});for(f=0,c=255,l=0;l<=u;l++,c--,d++)h.push({r:d,g:f,b:c,color:b(d,f,c)});if(1024===g)return h;var m=[],v=0,x=1024/g;for(l=0;l<g;l++)m.push(h[Math.floor(v)]),v+=x;return m}},91588:_=>{_.exports=function(a){var b={r:a>>16&255,g:a>>8&255,b:255&a,a:255};return a>16777215&&(b.a=a>>>24),b}},62957:_=>{_.exports=function(a){var b=a.toString(16);return 1===b.length?"0"+b:b}},37589:_=>{_.exports=function(a,b,T){return a<<16|b<<8|T}},1e3:_=>{_.exports=function(a,b,T,g){return g<<24|a<<16|b<<8|T}},62183:(_,k,a)=>{var b=a(40987),T=a(89528);_.exports=function(h,u,l){var d=l,f=l,c=l;if(0!==u){var m=l<.5?l*(1+u):l+u-l*u,v=2*l-m;d=T(v,m,h+1/3),f=T(v,m,h),c=T(v,m,h-1/3)}return(new b).setGLTo(d,f,c,1)}},27939:(_,k,a)=>{var b=a(7537);_.exports=function(g,h){void 0===g&&(g=1),void 0===h&&(h=1);for(var u=[],l=0;l<=359;l++)u.push(b(l/359,g,h));return u}},7537:(_,k,a)=>{var b=a(37589);function T(h,u,l,d){var f=(h+6*u)%6,c=Math.min(f,4-f,1);return Math.round(255*(d-d*l*Math.max(0,c)))}_.exports=function(h,u,l,d){void 0===u&&(u=1),void 0===l&&(l=1);var f=T(5,h,u,l),c=T(3,h,u,l),m=T(1,h,u,l);return d?d.setTo?d.setTo(f,c,m,d.alpha,!0):(d.r=f,d.g=c,d.b=m,d.color=b(f,c,m),d):{r:f,g:c,b:m,color:b(f,c,m)}}},70238:(_,k,a)=>{var b=a(40987);_.exports=function(g){var h=new b;g=g.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(c,m,v,x){return m+m+v+v+x+x});var u=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(g);if(u){var l=parseInt(u[1],16),d=parseInt(u[2],16),f=parseInt(u[3],16);h.setTo(l,d,f)}return h}},89528:_=>{_.exports=function(a,b,T){return T<0&&(T+=1),T>1&&(T-=1),T<.16666666666666666?a+6*(b-a)*T:T<.5?b:T<.6666666666666666?a+(b-a)*(.6666666666666666-T)*6:a}},30100:(_,k,a)=>{var b=a(40987),T=a(90664);_.exports=function(h){var u=T(h);return new b(u.r,u.g,u.b,u.a)}},90664:_=>{_.exports=function(a){return a>16777215?{a:a>>>24,r:a>>16&255,g:a>>8&255,b:255&a}:{a:255,r:a>>16&255,g:a>>8&255,b:255&a}}},13699:(_,k,a)=>{var b=a(28915),T=function(u,l,d,f,c,m,v,x){void 0===v&&(v=100),void 0===x&&(x=0);var y=x/v;return{r:b(u,f,y),g:b(l,c,y),b:b(d,m,y)}};_.exports={RGBWithRGB:T,ColorWithRGB:function(u,l,d,f,c,m){return void 0===c&&(c=100),void 0===m&&(m=0),T(u.r,u.g,u.b,l,d,f,c,m)},ColorWithColor:function(u,l,d,f){return void 0===d&&(d=100),void 0===f&&(f=0),T(u.r,u.g,u.b,l.r,l.g,l.b,d,f)}}},68957:(_,k,a)=>{var b=a(40987);_.exports=function(g){return new b(g.r,g.g,g.b,g.a)}},87388:(_,k,a)=>{var b=a(40987);_.exports=function(g){var h=new b,u=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(g.toLowerCase());if(u){var l=parseInt(u[1],10),d=parseInt(u[2],10),f=parseInt(u[3],10),c=void 0!==u[4]?parseFloat(u[4]):1;h.setTo(l,d,f,255*c)}return h}},87837:_=>{_.exports=function(a,b,T,g){void 0===g&&(g={h:0,s:0,v:0}),a/=255,b/=255,T/=255;var h=Math.min(a,b,T),u=Math.max(a,b,T),l=u-h,d=0,f=0===u?0:l/u,c=u;return u!==h&&(u===a?d=(b-T)/l+(b<T?6:0):u===b?d=(T-a)/l+2:u===T&&(d=(a-b)/l+4),d/=6),g.hasOwnProperty("_h")?(g._h=d,g._s=f,g._v=c):(g.h=d,g.s=f,g.v=c),g}},75723:(_,k,a)=>{var b=a(62957);_.exports=function(g,h,u,l,d){return void 0===l&&(l=255),void 0===d&&(d="#"),"#"===d?"#"+((1<<24)+(g<<16)+(h<<8)+u).toString(16).slice(1,7):"0x"+b(l)+b(g)+b(h)+b(u)}},85386:(_,k,a)=>{var b=a(30976),T=a(40987);_.exports=function(h,u){return void 0===h&&(h=0),void 0===u&&(u=255),new T(b(h,u),b(h,u),b(h,u))}},80333:(_,k,a)=>{var b=a(70238),T=a(30100),g=a(68957),h=a(87388);_.exports=function(l){switch(typeof l){case"string":return"rgb"===l.substr(0,3).toLowerCase()?h(l):b(l);case"number":return T(l);case"object":return g(l)}}},3956:(_,k,a)=>{var b=a(40987);b.ColorSpectrum=a(92728),b.ColorToRGBA=a(91588),b.ComponentToHex=a(62957),b.GetColor=a(37589),b.GetColor32=a(1e3),b.HexStringToColor=a(70238),b.HSLToColor=a(62183),b.HSVColorWheel=a(27939),b.HSVToRGB=a(7537),b.HueToComponent=a(89528),b.IntegerToColor=a(30100),b.IntegerToRGB=a(90664),b.Interpolate=a(13699),b.ObjectToColor=a(68957),b.RandomRGB=a(85386),b.RGBStringToColor=a(87388),b.RGBToHSV=a(87837),b.RGBToString=a(75723),b.ValueToColor=a(80333),_.exports=b},27460:(_,k,a)=>{_.exports={Align:a(71926),BaseShader:a(73894),Bounds:a(58724),Canvas:a(26253),Color:a(3956),ColorMatrix:a(89422),Masks:a(69781),RGB:a(51767)}},6858:(_,k,a)=>{var b=a(83419),T=a(39429),g=new b({initialize:function(u,l,d,f,c,m){l||(l=u.sys.make.image({x:d,y:f,key:c,frame:m,add:!1})),this.bitmapMask=l,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(h){this.bitmapMask=h},preRenderWebGL:function(h,u,l){h.pipelines.BITMAPMASK_PIPELINE.beginMask(this,u,l)},postRenderWebGL:function(h,u,l){h.pipelines.BITMAPMASK_PIPELINE.endMask(this,u,l)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});T.register("bitmapMask",function(h,u,l,d,f){return new g(this.scene,h,u,l,d,f)}),_.exports=g},80661:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u){this.geometryMask=u,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(g){return this.geometryMask=g,this},setInvertAlpha:function(g){return void 0===g&&(g=!0),this.invertAlpha=g,this},preRenderWebGL:function(g,h,u){var l=g.gl;g.flush(),0===g.maskStack.length&&(l.enable(l.STENCIL_TEST),l.clear(l.STENCIL_BUFFER_BIT),g.maskCount=0),g.currentCameraMask.mask!==this&&(g.currentMask.mask=this),g.maskStack.push({mask:this,camera:u}),this.applyStencil(g,u,!0),g.maskCount++},applyStencil:function(g,h,u){var l=g.gl,d=this.geometryMask,f=g.maskCount;l.colorMask(!1,!1,!1,!1),u?(l.stencilFunc(l.EQUAL,f,255),l.stencilOp(l.KEEP,l.KEEP,l.INCR),f++):(l.stencilFunc(l.EQUAL,f+1,255),l.stencilOp(l.KEEP,l.KEEP,l.DECR)),this.level=f,d.renderWebGL(g,d,h),g.flush(),l.colorMask(!0,!0,!0,!0),l.stencilOp(l.KEEP,l.KEEP,l.KEEP),l.stencilFunc(this.invertAlpha?l.NOTEQUAL:l.EQUAL,f,255)},postRenderWebGL:function(g){var h=g.gl;g.maskStack.pop(),g.maskCount--,g.flush();var u=g.currentMask;if(0===g.maskStack.length)u.mask=null,h.disable(h.STENCIL_TEST);else{var l=g.maskStack[g.maskStack.length-1];l.mask.applyStencil(g,l.camera,!1),g.currentCameraMask.mask!==l.mask?(u.mask=l.mask,u.camera=l.camera):u.mask=null}},preRenderCanvas:function(g,h,u){var l=this.geometryMask;g.currentContext.save(),l.renderCanvas(g,l,u,null,null,!0),g.currentContext.clip()},postRenderCanvas:function(g){g.currentContext.restore()},destroy:function(){this.geometryMask=null}});_.exports=T},69781:(_,k,a)=>{_.exports={BitmapMask:a(6858),GeometryMask:a(80661)}},73894:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l,d){(!u||""===u)&&(u=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),(!l||""===l)&&(l=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===d&&(d=null),this.key=h,this.fragmentSrc=u,this.vertexSrc=l,this.uniforms=d}});_.exports=T},40366:_=>{_.exports=function(a,b){var T;if(b)"string"==typeof b?T=document.getElementById(b):"object"==typeof b&&1===b.nodeType&&(T=b);else if(a.parentElement||null===b)return a;return T||(T=document.body),T.appendChild(a),a}},83719:(_,k,a)=>{var b=a(40366);_.exports=function(g){var h=g.config;if(h.parent&&h.domCreateContainer){var u=document.createElement("div");u.style.cssText=["display: block;","width: "+g.scale.width+"px;","height: "+g.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+h.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),g.domContainer=u,b(u,h.parent)}}},57264:(_,k,a)=>{var b=a(25892);_.exports=function(g){if("complete"!==document.readyState&&"interactive"!==document.readyState){var h=function(){document.removeEventListener("deviceready",h,!0),document.removeEventListener("DOMContentLoaded",h,!0),window.removeEventListener("load",h,!0),g()};document.body?b.cordova?document.addEventListener("deviceready",h,!1):(document.addEventListener("DOMContentLoaded",h,!0),window.addEventListener("load",h,!0)):window.setTimeout(h,20)}else g()}},57811:_=>{_.exports=function(a){if(!a)return window.innerHeight;var b=Math.abs(window.orientation),T={w:0,h:0},g=document.createElement("div");return g.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(g),T.w=90===b?g.offsetHeight:window.innerWidth,T.h=90===b?window.innerWidth:g.offsetHeight,document.documentElement.removeChild(g),g=null,90!==Math.abs(window.orientation)?T.h:T.w}},45818:(_,k,a)=>{var b=a(13560);_.exports=function(g,h){var u=window.screen,l=!!u&&(u.orientation||u.mozOrientation||u.msOrientation);return l&&"string"==typeof l.type?l.type:"string"==typeof l?l:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?b.ORIENTATION.PORTRAIT:b.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?b.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?b.ORIENTATION.LANDSCAPE:void 0:h>g?b.ORIENTATION.PORTRAIT:b.ORIENTATION.LANDSCAPE}},74403:_=>{_.exports=function(a){var b;return""!==a&&("string"==typeof a?b=document.getElementById(a):a&&1===a.nodeType&&(b=a)),b||(b=document.body),b}},56836:_=>{_.exports=function(a){var b="";try{window.DOMParser?b=(new DOMParser).parseFromString(a,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM")).loadXML(a)}catch{b=null}return b&&b.documentElement&&!b.getElementsByTagName("parsererror").length?b:null}},35846:_=>{_.exports=function(a){a.parentNode&&a.parentNode.removeChild(a)}},43092:(_,k,a)=>{var b=a(83419),T=a(29747),g=new b({initialize:function(){this.isRunning=!1,this.callback=T,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var u=this;this.step=function l(d){u.callback(d),u.isRunning&&(u.timeOutID=window.requestAnimationFrame(l))},this.stepTimeout=function l(){u.isRunning&&(u.timeOutID=window.setTimeout(l,u.delay)),u.callback(window.performance.now())}},start:function(h,u,l){this.isRunning||(this.callback=h,this.isSetTimeOut=u,this.delay=l,this.isRunning=!0,this.timeOutID=u?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=T}});_.exports=g},84902:(_,k,a)=>{var b={AddToDOM:a(40366),DOMContentLoaded:a(57264),GetInnerHeight:a(57811),GetScreenOrientation:a(45818),GetTarget:a(74403),ParseXML:a(56836),RemoveFromDOM:a(35846),RequestAnimationFrame:a(43092)};_.exports=b},47565:(_,k,a)=>{var b=a(83419),T=a(50792),g=a(37277),h=new b({Extends:T,initialize:function(){T.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});g.register("EventEmitter",h,"events"),_.exports=h},93055:(_,k,a)=>{_.exports={EventEmitter:a(47565)}},20122:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d){void 0===d&&(d=1),T.call(this,g.BARREL,l),this.amount=d}});_.exports=h},32251:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c,m,v,x){void 0===f&&(f=1),void 0===c&&(c=1),void 0===m&&(m=1),void 0===v&&(v=1),void 0===x&&(x=4),T.call(this,g.BLOOM,l),this.steps=x,this.offsetX=f,this.offsetY=c,this.blurStrength=m,this.strength=v,this.glcolor=[1,1,1],null!=d&&(this.color=d)},color:{get:function(){var u=this.glcolor;return(255*u[0]<<16)+(255*u[1]<<8)+(255*u[2]|0)},set:function(u){var l=this.glcolor;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(255&u)/255}}});_.exports=h},9047:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c,m,v,x){void 0===d&&(d=0),void 0===f&&(f=2),void 0===c&&(c=2),void 0===m&&(m=1),void 0===x&&(x=4),T.call(this,g.BLUR,l),this.quality=d,this.x=f,this.y=c,this.steps=x,this.strength=m,this.glcolor=[1,1,1],null!=v&&(this.color=v)},color:{get:function(){var u=this.glcolor;return(255*u[0]<<16)+(255*u[1]<<8)+(255*u[2]|0)},set:function(u){var l=this.glcolor;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(255&u)/255}}});_.exports=h},27885:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c,m,v,x,y){void 0===d&&(d=.5),void 0===f&&(f=1),void 0===c&&(c=.2),void 0===m&&(m=!1),void 0===v&&(v=1),void 0===x&&(x=1),void 0===y&&(y=1),T.call(this,g.BOKEH,l),this.radius=d,this.amount=f,this.contrast=c,this.isTiltShift=m,this.strength=y,this.blurX=v,this.blurY=x}});_.exports=h},12578:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c,m,v){void 0===d&&(d=8),void 0===m&&(m=1),void 0===v&&(v=.005),T.call(this,g.CIRCLE,l),this.scale=m,this.feather=v,this.thickness=d,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],null!=f&&(this.color=f),null!=c&&(this.backgroundColor=c)},color:{get:function(){var u=this.glcolor;return(255*u[0]<<16)+(255*u[1]<<8)+(255*u[2]|0)},set:function(u){var l=this.glcolor;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(255&u)/255}},backgroundColor:{get:function(){var u=this.glcolor2;return(255*u[0]<<16)+(255*u[1]<<8)+(255*u[2]|0)},set:function(u){var l=this.glcolor2;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(255&u)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(u){this.glcolor2[3]=u}}});_.exports=h},15802:(_,k,a)=>{var b=a(83419),T=a(89422),g=a(14811),h=new b({Extends:T,initialize:function(l){T.call(this),this.type=g.COLOR_MATRIX,this.gameObject=l,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});_.exports=h},72898:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u){this.type=h,this.gameObject=u,this.active=!0},setActive:function(g){return this.active=g,this},destroy:function(){this.gameObject=null,this.active=!1}});_.exports=T},44553:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c){void 0===d&&(d="__WHITE"),void 0===f&&(f=.005),void 0===c&&(c=.005),T.call(this,g.DISPLACEMENT,l),this.x=f,this.y=c,this.setTexture(d)},setTexture:function(u){var l=this.gameObject.scene.sys.textures.getFrame(u);return l&&(this.glTexture=l.glTexture),this}});_.exports=h},68531:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c,m){void 0===f&&(f=4),void 0===c&&(c=0),void 0===m&&(m=!1),T.call(this,g.GLOW,l),this.outerStrength=f,this.innerStrength=c,this.knockout=m,this.glcolor=[1,1,1,1],void 0!==d&&(this.color=d)},color:{get:function(){var u=this.glcolor;return(255*u[0]<<16)+(255*u[1]<<8)+(255*u[2]|0)},set:function(u){var l=this.glcolor;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(255&u)/255}}});_.exports=h},37102:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c,m,v,x,y,w){void 0===c&&(c=.2),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=1),void 0===w&&(w=0),T.call(this,g.GRADIENT,l),this.alpha=c,this.size=w,this.fromX=m,this.fromY=v,this.toX=x,this.toY=y,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],null!=d&&(this.color1=d),null!=f&&(this.color2=f)},color1:{get:function(){var u=this.glcolor1;return(u[0]<<16)+(u[1]<<8)+(0|u[2])},set:function(u){var l=this.glcolor1;l[0]=u>>16&255,l[1]=u>>8&255,l[2]=255&u}},color2:{get:function(){var u=this.glcolor2;return(u[0]<<16)+(u[1]<<8)+(0|u[2])},set:function(u){var l=this.glcolor2;l[0]=u>>16&255,l[1]=u>>8&255,l[2]=255&u}}});_.exports=h},86886:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d){void 0===d&&(d=1),T.call(this,g.PIXELATE,l),this.amount=d}});_.exports=h},92322:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c,m,v,x,y){void 0===d&&(d=0),void 0===f&&(f=0),void 0===c&&(c=.1),void 0===m&&(m=1),void 0===x&&(x=6),void 0===y&&(y=1),T.call(this,g.SHADOW,l),this.x=d,this.y=f,this.decay=c,this.power=m,this.glcolor=[0,0,0,1],this.samples=x,this.intensity=y,void 0!==v&&(this.color=v)},color:{get:function(){var u=this.glcolor;return(255*u[0]<<16)+(255*u[1]<<8)+(255*u[2]|0)},set:function(u){var l=this.glcolor;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(255&u)/255}}});_.exports=h},39563:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c,m){void 0===d&&(d=.5),void 0===f&&(f=.5),void 0===c&&(c=3),void 0===m&&(m=!1),T.call(this,g.SHINE,l),this.speed=d,this.lineWidth=f,this.gradient=c,this.reveal=m}});_.exports=h},56448:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c,m){void 0===d&&(d=.5),void 0===f&&(f=.5),void 0===c&&(c=.5),void 0===m&&(m=.5),T.call(this,g.VIGNETTE,l),this.x=d,this.y=f,this.radius=c,this.strength=m}});_.exports=h},38433:(_,k,a)=>{var b=a(83419),T=a(72898),g=a(14811),h=new b({Extends:T,initialize:function(l,d,f,c,m){void 0===d&&(d=.1),void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=!1),T.call(this,g.WIPE,l),this.progress=0,this.wipeWidth=d,this.direction=f,this.axis=c,this.reveal=m}});_.exports=h},14811:_=>{_.exports={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19}},66064:(_,k,a)=>{var b=a(79291),T=a(14811),g={Barrel:a(20122),Controller:a(72898),Bloom:a(32251),Blur:a(9047),Bokeh:a(27885),Circle:a(12578),ColorMatrix:a(15802),Displacement:a(44553),Glow:a(68531),Gradient:a(37102),Pixelate:a(86886),Shadow:a(92322),Shine:a(39563),Vignette:a(56448),Wipe:a(38433)};g=b(!1,g,T),_.exports=g},25305:(_,k,a)=>{var b=a(10312),T=a(23568);_.exports=function(h,u,l){u.x=T(l,"x",0),u.y=T(l,"y",0),u.depth=T(l,"depth",0),u.flipX=T(l,"flipX",!1),u.flipY=T(l,"flipY",!1);var d=T(l,"scale",null);"number"==typeof d?u.setScale(d):null!==d&&(u.scaleX=T(d,"x",1),u.scaleY=T(d,"y",1));var f=T(l,"scrollFactor",null);"number"==typeof f?u.setScrollFactor(f):null!==f&&(u.scrollFactorX=T(f,"x",1),u.scrollFactorY=T(f,"y",1)),u.rotation=T(l,"rotation",0);var c=T(l,"angle",null);null!==c&&(u.angle=c),u.alpha=T(l,"alpha",1);var m=T(l,"origin",null);if("number"==typeof m)u.setOrigin(m);else if(null!==m){var v=T(m,"x",.5),x=T(m,"y",.5);u.setOrigin(v,x)}return u.blendMode=T(l,"blendMode",b.NORMAL),u.visible=T(l,"visible",!0),T(l,"add",!0)&&h.sys.displayList.add(u),u.preUpdate&&h.sys.updateList.add(u),u}},13059:(_,k,a)=>{var b=a(23568);_.exports=function(g,h){var u=b(h,"anims",null);if(null===u)return g;if("string"==typeof u)g.anims.play(u);else if("object"==typeof u){var l=g.anims,d=b(u,"key",void 0);if(d){var f=b(u,"startFrame",void 0),c=b(u,"delay",0),m=b(u,"repeat",0),v=b(u,"repeatDelay",0),x=b(u,"yoyo",!1),y=b(u,"play",!1),w=b(u,"delayedPlay",0),E={key:d,delay:c,repeat:m,repeatDelay:v,yoyo:x,startFrame:f};y?l.play(E):w>0?l.playAfterDelay(E,w):l.load(E)}}return g}},8050:(_,k,a)=>{var b=a(83419),T=a(73162),g=a(37277),h=a(51708),u=a(44594),l=a(19186),d=new b({Extends:T,initialize:function(c){T.call(this,c),this.sortChildrenFlag=!1,this.scene=c,this.systems=c.sys,this.events=c.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(u.BOOT,this.boot,this),this.events.on(u.START,this.start,this)},boot:function(){this.events.once(u.DESTROY,this.destroy,this)},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.parentContainer&&f.parentContainer.remove(f),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(h.ADDED_TO_SCENE,f,this.scene),this.events.emit(u.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(h.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,f,this.scene)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(l(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,c){return f._depth-c._depth},getChildren:function(){return this.list},shutdown:function(){for(var f=this.list;f.length;)f[0].destroy(!0);this.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});g.register("DisplayList",d,"displayList"),_.exports=d},95643:(_,k,a)=>{var b=a(83419),T=a(53774),g=a(45893),h=a(50792),u=a(51708),l=a(44594),d=new b({Extends:h,initialize:function(c,m){h.call(this),this.scene=c,this.displayList=null,this.type=m,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(u.ADDED_TO_SCENE,this.addedToScene,this),this.on(u.REMOVED_FROM_SCENE,this.removedFromScene,this),c.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new g(this)),this},setData:function(f,c){return this.data||(this.data=new g(this)),this.data.set(f,c),this},incData:function(f,c){return this.data||(this.data=new g(this)),this.data.inc(f,c),this},toggleData:function(f){return this.data||(this.data=new g(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new g(this)),this.data.get(f)},setInteractive:function(f,c,m){return this.scene.sys.input.enable(this,f,c,m),this},disableInteractive:function(f){return void 0===f&&(f=!1),this.scene.sys.input.disable(this,f),this},removeInteractive:function(f){return void 0===f&&(f=!1),this.scene.sys.input.clear(this),f&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return T(this)},willRender:function(f){return!(this.displayList&&this.displayList.active&&!this.displayList.willRender(f)||d.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,c=this.parentContainer,m=[];c&&(m.unshift(c.getIndex(f)),f=c,c.parentContainer);)c=c.parentContainer;return m.unshift(this.displayList?this.displayList.getIndex(f):this.scene.sys.displayList.getIndex(f)),m},addToDisplayList:function(f){return void 0===f&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),f.events.emit(l.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f&&f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var f=null;return this.parentContainer?f=this.parentContainer.list:this.displayList&&(f=this.displayList.list),f},destroy:function(f){!this.scene||this.ignoreDestroy||(void 0===f&&(f=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(u.DESTROY,this,f),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});d.RENDER_MASK=15,_.exports=d},44603:(_,k,a)=>{var b=a(83419),T=a(37277),g=a(44594),h=new b({initialize:function(l){this.scene=l,this.systems=l.sys,this.events=l.sys.events,this.events.once(g.BOOT,this.boot,this),this.events.on(g.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(g.DESTROY,this.destroy,this)},start:function(){this.events.once(g.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(g.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(u,l){h.prototype.hasOwnProperty(u)||(h.prototype[u]=l)},h.remove=function(u){h.prototype.hasOwnProperty(u)&&delete h.prototype[u]},T.register("GameObjectCreator",h,"make"),_.exports=h},39429:(_,k,a)=>{var b=a(83419),T=a(37277),g=a(44594),h=new b({initialize:function(l){this.scene=l,this.systems=l.sys,this.events=l.sys.events,this.events.once(g.BOOT,this.boot,this),this.events.on(g.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(g.DESTROY,this.destroy,this)},start:function(){this.events.once(g.SHUTDOWN,this.shutdown,this)},existing:function(u){return(u.renderCanvas||u.renderWebGL)&&this.displayList.add(u),u.preUpdate&&this.updateList.add(u),u},shutdown:function(){this.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(g.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(u,l){h.prototype.hasOwnProperty(u)||(h.prototype[u]=l)},h.remove=function(u){h.prototype.hasOwnProperty(u)&&delete h.prototype[u]},T.register("GameObjectFactory",h,"add"),_.exports=h},91296:(_,k,a)=>{var b=a(61340),T=new b,g=new b,h=new b,u={camera:T,sprite:g,calc:h};_.exports=function(d,f,c){var m=T,v=g,x=h;return v.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),m.copyFrom(f.matrix),c?(m.multiplyWithOffset(c,-f.scrollX*d.scrollFactorX,-f.scrollY*d.scrollFactorY),v.e=d.x,v.f=d.y):(v.e-=f.scrollX*d.scrollFactorX,v.f-=f.scrollY*d.scrollFactorY),m.multiply(v,x),u}},45027:(_,k,a)=>{var b=a(83419),T=a(25774),g=a(37277),h=a(44594),u=new b({Extends:T,initialize:function(d){T.call(this),this.checkQueue=!0,this.scene=d,this.systems=d.sys,d.sys.events.once(h.BOOT,this.boot,this),d.sys.events.on(h.START,this.start,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var l=this.systems.events;l.on(h.PRE_UPDATE,this.update,this),l.on(h.UPDATE,this.sceneUpdate,this),l.once(h.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(l,d){for(var f=this._active,c=f.length,m=0;m<c;m++){var v=f[m];v.active&&v.preUpdate.call(v,l,d)}},shutdown:function(){for(var l=this._active.length;l--;)this._active[l].destroy(!0);for(l=this._pending.length;l--;)this._pending[l].destroy(!0);for(l=this._destroy.length;l--;)this._destroy[l].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var d=this.systems.events;d.off(h.PRE_UPDATE,this.update,this),d.off(h.UPDATE,this.sceneUpdate,this),d.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});g.register("UpdateList",u,"updateList"),_.exports=u},3217:_=>{_.exports=function(a,b,T,g,h,u,l,d,f,c,m,v,x,y,w){var E=T.x-b.displayOriginX+h,S=T.y-b.displayOriginY+u,A=E+T.w,I=S+T.h,M=l.a,P=l.b,O=l.c,N=l.d,L=l.e,G=l.f,j=E*M+S*O+L,z=E*P+S*N+G,Y=E*M+I*O+L,Z=E*P+I*N+G,rt=A*M+I*O+L,st=A*P+I*N+G,K=A*M+S*O+L,tt=A*P+S*N+G;d&&(j=Math.round(j),z=Math.round(z),Y=Math.round(Y),Z=Math.round(Z),rt=Math.round(rt),st=Math.round(st),K=Math.round(K),tt=Math.round(tt)),a.batchQuad(b,j,z,Y,Z,rt,st,K,tt,g.u0,g.v0,g.u1,g.v1,f,c,m,v,x,y,w)}},53048:_=>{_.exports=function(a,b,T,g){if(void 0===T&&(T=!1),void 0===g)return{local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var W,H,it,h=a.text,u=h.length,l=a.maxWidth,d=a.wordWrapCharCode,f=Number.MAX_VALUE,c=Number.MAX_VALUE,m=0,v=0,x=a.fontData.chars,y=a.fontData.lineHeight,w=a.letterSpacing,E=a.lineSpacing,S=0,A=0,I=0,M=null,P=a._align,O=0,N=0,L=a.fontSize/a.fontData.size,G=L*a.scaleX,j=L*a.scaleY,z=null,Y=0,Z=[],rt=Number.MAX_VALUE,st=0,K=0,tt=0,dt=[],mt=[],vt=null,Tt=function(Rr,ts){for(var An=0,mr=0;mr<Rr.length;mr++){var jr=Rr.charCodeAt(mr),Rs=ts.chars[jr];Rs&&(An+=Rs.xAdvance)}return An*G};if(l>0){it=h.split("\n");var Nt=[];for(W=0;W<it.length;W++){var Yt=it[W],$t="",Zt="",ee="",le="";for(H=0;H<Yt.length;H++)I=Yt.charCodeAt(H),$t+=Yt[H],(I===d||H===Yt.length-1)&&(Tt(le=ee+$t,a.fontData)<=l?ee=le:(Zt=Zt.slice(0,-1),Zt+=(Zt?"\n":"")+ee,ee=$t),$t="");Zt=Zt.slice(0,-1),Nt.push(Zt+=(Zt?"\n":"")+ee)}h=Nt.join("\n"),g.wrappedText=h,u=h.length}var gi=0;for(W=0;W<u;W++)if(10!==(I=h.charCodeAt(W))){if(M=x[I]){if(O=S,null!==z){var Me=M.kerning[Y];O+=void 0!==Me?Me:0}f>O&&(f=O),c>(N=A)&&(c=N);var Ti=O+M.xAdvance,xe=N+y;m<Ti&&(m=Ti),v<xe&&(v=xe);var ni=M.xOffset+M.xAdvance+(void 0!==Me?Me:0);I===d?null!==vt&&(dt.push({word:vt.word,i:vt.i,x:vt.x*G,y:vt.y*j,w:vt.w*G,h:vt.h*j}),vt=null):(null===vt&&(vt={word:"",i:gi,x:S,y:A,w:0,h:y}),vt.word=vt.word.concat(h[W]),vt.w+=ni),mt.push({i:gi,idx:W,char:h[W],code:I,x:(M.xOffset+O)*L,y:(M.yOffset+A)*L,w:M.width*L,h:M.height*L,t:A*L,r:Ti*L,b:y*L,line:K,glyph:M}),S+=M.xAdvance+w+(void 0!==Me?Me:0),z=M,Y=I,tt=Ti*L,gi++}}else null!==vt&&(dt.push({word:vt.word,i:vt.i,x:vt.x*G,y:vt.y*j,w:vt.w*G,h:vt.h*j}),vt=null),z=null,Z[K]=tt,tt>st&&(st=tt),tt<rt&&(rt=tt),tt=0,S=0,A=(y+E)*++K;if(null!==vt&&dt.push({word:vt.word,i:vt.i,x:vt.x*G,y:vt.y*j,w:vt.w*G,h:vt.h*j}),Z[K]=tt,tt>st&&(st=tt),tt<rt&&(rt=tt),P>0)for(var Qe=0;Qe<mt.length;Qe++){var zi=mt[Qe];if(1===P){var _n=(st-Z[zi.line])/2;zi.x+=_n,zi.r+=_n}else if(2===P){var er=st-Z[zi.line];zi.x+=er,zi.r+=er}}var vn=g.local,wn=g.global;return it=g.lines,vn.x=f*L,vn.y=c*L,vn.width=m*L,vn.height=v*L,wn.x=a.x-a._displayOriginX+f*G,wn.y=a.y-a._displayOriginY+c*j,wn.width=m*G,wn.height=v*j,it.shortest=rt,it.longest=st,it.lengths=Z,b&&(vn.x=Math.ceil(vn.x),vn.y=Math.ceil(vn.y),vn.width=Math.ceil(vn.width),vn.height=Math.ceil(vn.height),wn.x=Math.ceil(wn.x),wn.y=Math.ceil(wn.y),wn.width=Math.ceil(wn.width),wn.height=Math.ceil(wn.height),it.shortest=Math.ceil(rt),it.longest=Math.ceil(st)),T&&(a._displayOriginX=a.originX*vn.width,a._displayOriginY=a.originY*vn.height,wn.x=a.x-a._displayOriginX*a.scaleX,wn.y=a.y-a._displayOriginY*a.scaleY,b&&(wn.x=Math.ceil(wn.x),wn.y=Math.ceil(wn.y))),g.words=dt,g.characters=mt,g.lines.height=y,g.scale=L,g.scaleX=a.scaleX,g.scaleY=a.scaleY,g}},61327:(_,k,a)=>{var b=a(21859);_.exports=function(g,h,u,l,d,f,c){var m=g.sys.textures.get(u),v=m.get(l),x=g.sys.cache.xml.get(d);if(v&&x){var y=b(x,v,f,c,m);return g.sys.cache.bitmapFont.add(h,{data:y,texture:u,frame:l,fromAtlas:!0}),!0}return!1}},6925:(_,k,a)=>{var b=a(35154);_.exports=function(g,h){var u=h.width,l=h.height,d=Math.floor(u/2),f=Math.floor(l/2),c=b(h,"chars","");if(""!==c){var m=b(h,"image",""),v=g.sys.textures.getFrame(m),x=v.cutX,y=v.cutY,w=v.source.width,E=v.source.height,S=b(h,"offset.x",0),A=b(h,"offset.y",0),I=b(h,"spacing.x",0),M=b(h,"spacing.y",0),P=b(h,"lineSpacing",0),O=b(h,"charsPerRow",null);null===O&&(O=w/u)>c.length&&(O=c.length);for(var N=S,L=A,G={retroFont:!0,font:m,size:u,lineHeight:l+P,chars:{}},j=0,z=0;z<c.length;z++){var Y=c.charCodeAt(z);G.chars[Y]={x:N,y:L,width:u,height:l,centerX:d,centerY:f,xOffset:0,yOffset:0,xAdvance:u,data:{},kerning:{},u0:(x+N)/w,v0:(y+L)/E,u1:(x+N+u)/w,v1:(y+L+l)/E},++j===O?(j=0,N=S,L+=l+M):N+=u+I}return{data:G,frame:null,texture:m}}}},21859:_=>{function k(b,T){return parseInt(b.getAttribute(T),10)}_.exports=function(b,T,g,h,u){void 0===g&&(g=0),void 0===h&&(h=0);var l=T.cutX,d=T.cutY,f=T.source.width,c=T.source.height,m=T.sourceIndex,v={},x=b.getElementsByTagName("info")[0],y=b.getElementsByTagName("common")[0];v.font=x.getAttribute("face"),v.size=k(x,"size"),v.lineHeight=k(y,"lineHeight")+h,v.chars={};var w=b.getElementsByTagName("char"),E=void 0!==T&&T.trimmed;if(E)var S=T.height,A=T.width;for(var I=0;I<w.length;I++){var M=w[I],P=k(M,"id"),O=String.fromCharCode(P),N=k(M,"x"),L=k(M,"y"),G=k(M,"width"),j=k(M,"height");E&&(N<A&&(A=N),L<S&&(S=L)),E&&0!==S&&0!==A&&(N-=T.x,L-=T.y);var z=(l+N)/f,Y=(d+L)/c,Z=(l+N+G)/f,rt=(d+L+j)/c;if(v.chars[P]={x:N,y:L,width:G,height:j,centerX:Math.floor(G/2),centerY:Math.floor(j/2),xOffset:k(M,"xoffset"),yOffset:k(M,"yoffset"),xAdvance:k(M,"xadvance")+g,data:{},kerning:{},u0:z,v0:Y,u1:Z,v1:rt},u&&0!==G&&0!==j){var st=u.add(O,m,N,L,G,j);st&&st.setUVs(G,j,z,Y,Z,rt)}}var K=b.getElementsByTagName("kerning");for(I=0;I<K.length;I++){var tt=K[I],W=k(tt,"first"),H=k(tt,"second"),it=k(tt,"amount");v.chars[H].kerning[W]=it}return v}},196:(_,k,a)=>{var b=a(87662),T=a(79291),g={Parse:a(6925)};g=T(!1,g,b),_.exports=g},87662:_=>{_.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},2638:(_,k,a)=>{var b=a(22186),T=a(83419),g=a(12310),h=new T({Extends:b,Mixins:[g],initialize:function(l,d,f,c,m,v,x){b.call(this,l,d,f,c,m,v,x),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(u,l){return this.cropWidth=u,this.cropHeight=l,this},setDisplayCallback:function(u){return this.displayCallback=u,this},setScrollX:function(u){return this.scrollX=u,this},setScrollY:function(u){return this.scrollY=u,this}});_.exports=h},86741:(_,k,a)=>{var b=a(20926);_.exports=function(g,h,u,l){var d=h._text,f=d.length,c=g.currentContext;if(0!==f&&b(g,c,h,u,l)){u.addToRenderList(h);var m=h.fromAtlas?h.frame:h.texture.frames.__BASE,v=h.displayCallback,x=h.callbackData,y=h.fontData.chars,w=h.fontData.lineHeight,E=h._letterSpacing,S=0,A=0,I=0,M=null,P=0,O=0,N=0,L=0,G=0,j=0,z=null,Y=0,Z=h.frame.source.image,rt=m.cutX,st=m.cutY,K=0,tt=0,W=h._fontSize/h.fontData.size,H=h._align,it=0,dt=0;h.getTextBounds(!1);var mt=h._bounds.lines;1===H?dt=(mt.longest-mt.lengths[0])/2:2===H&&(dt=mt.longest-mt.lengths[0]),c.translate(-h.displayOriginX,-h.displayOriginY);var vt=u.roundPixels;h.cropWidth>0&&h.cropHeight>0&&(c.beginPath(),c.rect(0,0,h.cropWidth,h.cropHeight),c.clip());for(var Tt=0;Tt<f;Tt++)if(tt=W,K=0,10!==(I=d.charCodeAt(Tt))){if(M=y[I]){if(P=rt+M.x,O=st+M.y,N=M.width,L=M.height,G=M.xOffset+S-h.scrollX,j=M.yOffset+A-h.scrollY,null!==z){var Nt=M.kerning[Y];G+=void 0!==Nt?Nt:0}if(v){x.index=Tt,x.charCode=I,x.x=G,x.y=j,x.scale=tt,x.rotation=K,x.data=M.data;var Yt=v(x);G=Yt.x,j=Yt.y,tt=Yt.scale,K=Yt.rotation}G*=tt,j*=tt,G+=dt,S+=M.xAdvance+E+(void 0!==Nt?Nt:0),z=M,Y=I,0!==N&&0!==L&&32!==I&&(vt&&(G=Math.round(G),j=Math.round(j)),c.save(),c.translate(G,j),c.rotate(K),c.scale(tt,tt),c.drawImage(Z,P,O,N,L,0,0,N,L),c.restore())}}else it++,1===H?dt=(mt.longest-mt.lengths[it])/2:2===H&&(dt=mt.longest-mt.lengths[it]),S=0,A+=w,z=null;c.restore()}}},11164:(_,k,a)=>{var b=a(2638),T=a(25305),g=a(44603),h=a(23568);g.register("dynamicBitmapText",function(u,l){void 0===u&&(u={});var d=h(u,"font",""),f=h(u,"text",""),c=h(u,"size",!1),m=new b(this.scene,0,0,d,f,c);return void 0!==l&&(u.add=l),T(this.scene,m,u),m})},72566:(_,k,a)=>{var b=a(2638);a(39429).register("dynamicBitmapText",function(g,h,u,l,d){return this.displayList.add(new b(this.scene,g,h,u,l,d))})},12310:(_,k,a)=>{var T,g;a(29747),T=a(73482),g=a(86741),_.exports={renderWebGL:T,renderCanvas:g}},73482:(_,k,a)=>{var b=a(91296),T=a(61340),g=a(70554),h=new T;_.exports=function(l,d,f,c){var m=d.text,v=m.length;if(0!==v){f.addToRenderList(d);var x=l.pipelines.set(d.pipeline,d),y=b(d,f,c);l.pipelines.preBatch(d);var w=y.sprite,E=y.calc,S=h,A=d.cropWidth>0||d.cropHeight>0;A&&(x.flush(),l.pushScissor(E.tx,E.ty,d.cropWidth*E.scaleX,d.cropHeight*E.scaleY));var K,H,M=d.frame.glTexture,P=d.tintFill,O=g.getTintAppendFloatAlpha(d.tintTopLeft,f.alpha*d._alphaTL),N=g.getTintAppendFloatAlpha(d.tintTopRight,f.alpha*d._alphaTR),L=g.getTintAppendFloatAlpha(d.tintBottomLeft,f.alpha*d._alphaBL),G=g.getTintAppendFloatAlpha(d.tintBottomRight,f.alpha*d._alphaBR),j=x.setGameObject(d),z=0,Y=0,Z=0,rt=0,st=d.letterSpacing,tt=0,W=0,it=d.scrollX,dt=d.scrollY,mt=d.fontData,vt=mt.chars,Tt=mt.lineHeight,Nt=d.fontSize/mt.size,Yt=0,$t=d._align,Zt=0,ee=0,le=d.getTextBounds(!1);d.maxWidth>0&&(v=(m=le.wrappedText).length);var De=d._bounds.lines;1===$t?ee=(De.longest-De.lengths[0])/2:2===$t&&(ee=De.longest-De.lengths[0]);for(var gi=f.roundPixels,Me=d.displayCallback,Ti=d.callbackData,xe=0;xe<v;xe++)if(10!==(Z=m.charCodeAt(xe))){if(K=vt[Z]){W=K.height;var ni=K.xOffset+z-it,Qe=K.yOffset+Y-dt;if(null!==H){var zi=K.kerning[rt]||0;ni+=zi,z+=zi}if(z+=K.xAdvance+st,H=K,rt=Z,0!==(tt=K.width)&&0!==W&&32!==Z){if(Nt=d.fontSize/d.fontData.size,Yt=0,Me){Ti.color=0,Ti.tint.topLeft=O,Ti.tint.topRight=N,Ti.tint.bottomLeft=L,Ti.tint.bottomRight=G,Ti.index=xe,Ti.charCode=Z,Ti.x=ni,Ti.y=Qe,Ti.scale=Nt,Ti.rotation=Yt,Ti.data=K.data;var _n=Me(Ti);ni=_n.x,Qe=_n.y,Nt=_n.scale,Yt=_n.rotation,_n.color?(O=_n.color,N=_n.color,L=_n.color,G=_n.color):(O=_n.tint.topLeft,N=_n.tint.topRight,L=_n.tint.bottomLeft,G=_n.tint.bottomRight),O=g.getTintAppendFloatAlpha(O,f.alpha*d._alphaTL),N=g.getTintAppendFloatAlpha(N,f.alpha*d._alphaTR),L=g.getTintAppendFloatAlpha(L,f.alpha*d._alphaBL),G=g.getTintAppendFloatAlpha(G,f.alpha*d._alphaBR)}ni*=Nt,Qe*=Nt,ni-=d.displayOriginX,S.applyITRS(ni+=ee,Qe-=d.displayOriginY,Yt,Nt,Nt),E.multiply(S,w);var er=K.u0,vn=K.v0,wn=K.u1,Rr=K.v1,mr=w.e,jr=w.f,Rs=W*w.c+w.e,sd=W*w.d+w.f,zl=tt*w.a+W*w.c+w.e,ad=tt*w.b+W*w.d+w.f,Eo=tt*w.a+w.e,ml=tt*w.b+w.f;gi&&(mr=Math.round(mr),jr=Math.round(jr),Rs=Math.round(Rs),sd=Math.round(sd),zl=Math.round(zl),ad=Math.round(ad),Eo=Math.round(Eo),ml=Math.round(ml)),x.shouldFlush(6)&&(x.flush(),j=x.setGameObject(d)),x.batchQuad(d,mr,jr,Rs,sd,zl,ad,Eo,ml,er,vn,wn,Rr,O,N,L,G,P,M,j)}}}else Zt++,1===$t?ee=(De.longest-De.lengths[Zt])/2:2===$t&&(ee=De.longest-De.lengths[Zt]),z=0,Y+=Tt,H=null;A&&(x.flush(),l.popScissor()),l.pipelines.postBatch(d)}}},22186:(_,k,a)=>{var b=a(83419),T=a(45319),g=a(31401),h=a(95643),u=a(53048),l=a(61327),d=a(21859),f=a(87841),c=a(18658),m=new b({Extends:h,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Tint,g.Transform,g.Visible,c],initialize:function(x,y,w,E,S,A,I){void 0===S&&(S=""),void 0===I&&(I=0),h.call(this,x,"BitmapText"),this.font=E;var M=this.scene.sys.cache.bitmapFont.get(E);if(!M)throw new Error("Invalid BitmapText key: "+E);this.fontData=M.data,this._text="",this._fontSize=A||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=I,this._bounds=u(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=M.fromAtlas,this.setTexture(M.texture,M.frame),this.setPosition(y,w),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(S)},setLeftAlign:function(){return this._align=m.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=m.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=m.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(v){return this._fontSize=v,this._dirty=!0,this},setLetterSpacing:function(v){return void 0===v&&(v=0),this._letterSpacing=v,this._dirty=!0,this},setLineSpacing:function(v){return void 0===v&&(v=0),this.lineSpacing=v,this},setText:function(v){return!v&&0!==v&&(v=""),Array.isArray(v)&&(v=v.join("\n")),v!==this.text&&(this._text=v.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(v,x,y,w){return void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=0),void 0===w&&(w=.5),this.dropShadowX=v,this.dropShadowY=x,this.dropShadowColor=y,this.dropShadowAlpha=w,this},setCharacterTint:function(v,x,y,w,E,S,A){void 0===v&&(v=0),void 0===x&&(x=1),void 0===y&&(y=!1),void 0===w&&(w=-1),void 0===E&&(E=w,S=w,A=w);var I=this.text.length;-1===x&&(x=I),v<0&&(v=I+v),v=T(v,0,I-1);for(var M=T(v+x,v,I),P=this.charColors,O=v;O<M;O++){var N=P[O];if(-1===w)P[O]=null;else{var L=y?1:0;N?(N.tintEffect=L,N.tintTL=w,N.tintTR=E,N.tintBL=S,N.tintBR=A):P[O]={tintEffect:L,tintTL:w,tintTR:E,tintBL:S,tintBR:A}}}return this},setWordTint:function(v,x,y,w,E,S,A){void 0===x&&(x=1);for(var M=this.getTextBounds().words,P="number"==typeof v,O=0,N=0;N<M.length;N++){var L=M[N];if((P&&N===v||!P&&L.word===v)&&(this.setCharacterTint(L.i,L.word.length,y,w,E,S,A),++O===x))return this}return this},getTextBounds:function(v){var x=this._bounds;return(this._dirty||v||this.scaleX!==x.scaleX||this.scaleY!==x.scaleY)&&(u(this,v,!0,x),this._dirty=!1),x},getCharacterAt:function(v,x,y){for(var w=this.getLocalPoint(v,x,null,y),S=this.getTextBounds().characters,A=new f,I=0;I<S.length;I++){var M=S[I];if(A.setTo(M.x,M.t,M.r-M.x,M.b),A.contains(w.x,w.y))return M}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(v,x,y){void 0===x&&(x=this._fontSize),void 0===y&&(y=this._align);var w=this.scene.sys.cache.bitmapFont.get(v);return w&&(this.font=v,this.fontData=w.data,this._fontSize=x,this._align=y,this.fromAtlas=!0===w.fromAtlas,this.setTexture(w.texture,w.frame),u(this,!1,!0,this._bounds)),this},setMaxWidth:function(v,x){return this._maxWidth=v,this._dirty=!0,void 0!==x&&(this.wordWrapCharCode=x),this},align:{set:function(v){this._align=v,this._dirty=!0},get:function(){return this._align}},text:{set:function(v){this.setText(v)},get:function(){return this._text}},fontSize:{set:function(v){this._fontSize=v,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(v){this._letterSpacing=v,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(v){this._lineSpacing=v,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(v){this._maxWidth=v,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var v=g.ToJSON(this);return v.data={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align},v},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});m.ALIGN_LEFT=0,m.ALIGN_CENTER=1,m.ALIGN_RIGHT=2,m.ParseFromAtlas=l,m.ParseXMLBitmapFont=d,_.exports=m},37289:(_,k,a)=>{var b=a(20926);_.exports=function(g,h,u,l){var d=h._text,f=d.length,c=g.currentContext;if(0!==f&&b(g,c,h,u,l)){u.addToRenderList(h);var m=h.fromAtlas?h.frame:h.texture.frames.__BASE,v=h.fontData.chars,x=h.fontData.lineHeight,y=h._letterSpacing,w=h._lineSpacing,E=0,S=0,A=0,I=null,M=0,P=0,O=0,N=0,L=0,G=0,j=null,z=0,Y=m.source.image,Z=m.cutX,rt=m.cutY,st=h._fontSize/h.fontData.size,K=h._align,tt=0,W=0,H=h.getTextBounds(!1);h.maxWidth>0&&(f=(d=H.wrappedText).length);var it=h._bounds.lines;1===K?W=(it.longest-it.lengths[0])/2:2===K&&(W=it.longest-it.lengths[0]),c.translate(-h.displayOriginX,-h.displayOriginY);for(var dt=u.roundPixels,mt=0;mt<f;mt++)if(10!==(A=d.charCodeAt(mt))){if(I=v[A]){if(M=Z+I.x,P=rt+I.y,N=I.height,L=I.xOffset+E,G=I.yOffset+S,null!==j){var vt=I.kerning[z];L+=void 0!==vt?vt:0}L*=st,G*=st,L+=W,E+=I.xAdvance+y+(void 0!==vt?vt:0),j=I,z=A,0!==(O=I.width)&&0!==N&&32!==A&&(dt&&(L=Math.round(L),G=Math.round(G)),c.save(),c.translate(L,G),c.scale(st,st),c.drawImage(Y,M,P,O,N,0,0,O,N),c.restore())}}else tt++,1===K?W=(it.longest-it.lengths[tt])/2:2===K&&(W=it.longest-it.lengths[tt]),E=0,S+=x+w,j=null;c.restore()}}},57336:(_,k,a)=>{var b=a(22186),T=a(25305),g=a(44603),h=a(23568),u=a(35154);g.register("bitmapText",function(l,d){void 0===l&&(l={});var f=u(l,"font",""),c=h(l,"text",""),m=h(l,"size",!1),v=u(l,"align",0),x=new b(this.scene,0,0,f,c,m,v);return void 0!==d&&(l.add=d),T(this.scene,x,l),x})},34914:(_,k,a)=>{var b=a(22186);a(39429).register("bitmapText",function(g,h,u,l,d,f){return this.displayList.add(new b(this.scene,g,h,u,l,d,f))})},18658:(_,k,a)=>{var T,g;a(29747),T=a(33590),g=a(37289),_.exports={renderWebGL:T,renderCanvas:g}},33590:(_,k,a)=>{var b=a(3217),T=a(91296),g=a(70554);_.exports=function(u,l,d,f){if(0!==l._text.length){d.addToRenderList(l);var v=u.pipelines.set(l.pipeline,l),x=T(l,d,f).calc;u.pipelines.preBatch(l);var j,z,Y,y=d.roundPixels,w=d.alpha,E=l.charColors,S=l.tintFill,A=g.getTintAppendFloatAlpha,I=A(l.tintTopLeft,w*l._alphaTL),M=A(l.tintTopRight,w*l._alphaTR),P=A(l.tintBottomLeft,w*l._alphaBL),O=A(l.tintBottomRight,w*l._alphaBR),N=l.frame.glTexture,L=v.setGameObject(l),Z=l.getTextBounds(!1).characters,rt=l.dropShadowX,st=l.dropShadowY;if(0!==rt||0!==st){var tt=l.dropShadowColor,W=l.dropShadowAlpha,H=A(tt,w*W*l._alphaTL),it=A(tt,w*W*l._alphaTR),dt=A(tt,w*W*l._alphaBL),mt=A(tt,w*W*l._alphaBR);for(j=0;j<Z.length;j++)Y=(z=Z[j]).glyph,32!==z.code&&0!==Y.width&&0!==Y.height&&b(v,l,z,Y,rt,st,x,y,H,it,dt,mt,1,N,L)}for(j=0;j<Z.length;j++)if(Y=(z=Z[j]).glyph,32!==z.code&&0!==Y.width&&0!==Y.height)if(v.shouldFlush(6)&&(v.flush(),L=v.setGameObject(l)),E[z.i]){var vt=E[z.i],Tt=vt.tintEffect,Nt=A(vt.tintTL,w*l._alphaTL),Yt=A(vt.tintTR,w*l._alphaTR),$t=A(vt.tintBL,w*l._alphaBL),Zt=A(vt.tintBR,w*l._alphaBR);b(v,l,z,Y,0,0,x,y,Nt,Yt,$t,Zt,Tt,N,L)}else b(v,l,z,Y,0,0,x,y,I,M,P,O,S,N,L);u.pipelines.postBatch(l)}}},6107:(_,k,a)=>{var b=a(48011),T=a(46590),g=a(83419),h=a(31401),u=a(4327),l=a(95643),d=a(73162),f=new g({Extends:l,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.Texture,h.Transform,h.Visible,b],initialize:function(m,v,x,y,w){l.call(this,m,"Blitter"),this.setTexture(y,w),this.setPosition(v,x),this.initPipeline(),this.initPostPipeline(),this.children=new d,this.renderList=[],this.dirty=!1},create:function(c,m,v,x,y){void 0===x&&(x=!0),void 0===y&&(y=this.children.length),void 0===v?v=this.frame:v instanceof u||(v=this.texture.get(v));var w=new T(this,c,m,v,x);return this.children.addAt(w,y,!1),this.dirty=!0,w},createFromCallback:function(c,m,v,x){for(var y=this.createMultiple(m,v,x),w=0;w<y.length;w++)c.call(this,y[w],w);return y},createMultiple:function(c,m,v){void 0===m&&(m=this.frame.name),void 0===v&&(v=!0),Array.isArray(m)||(m=[m]);var x=[],y=this;return m.forEach(function(w){for(var E=0;E<c;E++)x.push(y.create(0,0,w,v))}),x},childCanRender:function(c){return c.visible&&c.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});_.exports=f},72396:_=>{_.exports=function(a,b,T,g){var h=b.getRenderList();if(0!==h.length){var u=a.currentContext,l=T.alpha*b.alpha;if(0!==l){T.addToRenderList(b),u.globalCompositeOperation=a.blendModes[b.blendMode],u.imageSmoothingEnabled=!b.frame.source.scaleMode;var d=b.x-T.scrollX*b.scrollFactorX,f=b.y-T.scrollY*b.scrollFactorY;u.save(),g&&g.copyToContext(u);for(var c=T.roundPixels,m=0;m<h.length;m++){var v=h[m],x=v.flipX||v.flipY,y=v.frame,w=y.canvasData,E=y.x,S=y.y,A=1,I=1,M=v.alpha*l;0!==M&&(u.globalAlpha=M,x?(v.flipX&&(A=-1,E-=w.width),v.flipY&&(I=-1,S-=w.height),w.width>0&&w.height>0&&(u.save(),u.translate(v.x+d,v.y+f),u.scale(A,I),u.drawImage(y.source.image,w.x,w.y,w.width,w.height,E,S,w.width,w.height),u.restore())):(c&&(E=Math.round(E),S=Math.round(S)),w.width>0&&w.height>0&&u.drawImage(y.source.image,w.x,w.y,w.width,w.height,E+v.x+d,S+v.y+f,w.width,w.height)))}u.restore()}}}},9403:(_,k,a)=>{var b=a(6107),T=a(25305),g=a(44603),h=a(23568);g.register("blitter",function(u,l){void 0===u&&(u={});var d=h(u,"key",null),f=h(u,"frame",null),c=new b(this.scene,0,0,d,f);return void 0!==l&&(u.add=l),T(this.scene,c,u),c})},12709:(_,k,a)=>{var b=a(6107);a(39429).register("blitter",function(g,h,u,l){return this.displayList.add(new b(this.scene,g,h,u,l))})},48011:(_,k,a)=>{var T,g;a(29747),T=a(99485),g=a(72396),_.exports={renderWebGL:T,renderCanvas:g}},99485:(_,k,a)=>{var b=a(61340),T=a(70554),g=new b;_.exports=function(u,l,d,f){var c=l.getRenderList(),m=d.alpha*l.alpha;if(0!==c.length&&0!==m){d.addToRenderList(l);var v=u.pipelines.set(this.pipeline,l),x=d.scrollX*l.scrollFactorX,y=d.scrollY*l.scrollFactorY,w=g.copyFrom(d.matrix);f&&(w.multiplyWithOffset(f,-x,-y),x=0,y=0);var E=l.x-x,S=l.y-y,A=-1,M=d.roundPixels;u.pipelines.preBatch(l);for(var P=0;P<c.length;P++){var O=c[P],N=O.frame,L=O.alpha*m;if(0!==L){var G=N.width,j=N.height,z=E+O.x+N.x,Y=S+O.y+N.y;O.flipX&&(G*=-1,z+=N.width),O.flipY&&(j*=-1,Y+=N.height);var Z=w.setQuad(z,Y,z+G,Y+j,M),rt=T.getTintAppendFloatAlpha(O.tint,L);if(N.sourceIndex!==A){var st=v.setGameObject(l,N);A=N.sourceIndex}v.batchQuad(l,Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],N.u0,N.v0,N.u1,N.v1,rt,rt,rt,rt,!1,N.glTexture,st)&&(A=-1)}}u.pipelines.postBatch(l)}}},46590:(_,k,a)=>{var b=a(83419),T=a(4327),g=new b({initialize:function(u,l,d,f,c){this.parent=u,this.x=l,this.y=d,this.frame=f,this.data={},this.tint=16777215,this._visible=c,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(h){return this.frame=void 0===h?this.parent.frame:h instanceof T&&h.texture===this.parent.texture?h:this.parent.texture.get(h),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(h,u,l){return this.x=h,this.y=u,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,l&&this.setFrame(l),this},setPosition:function(h,u){return this.x=h,this.y=u,this},setFlipX:function(h){return this.flipX=h,this},setFlipY:function(h){return this.flipY=h,this},setFlip:function(h,u){return this.flipX=h,this.flipY=u,this},setVisible:function(h){return this.visible=h,this},setAlpha:function(h){return this.alpha=h,this},setTint:function(h){return this.tint=h,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(h){this.parent.dirty|=this._visible!==h,this._visible=h}},alpha:{get:function(){return this._alpha},set:function(h){this.parent.dirty|=this._alpha>0!=h>0,this._alpha=h}}});_.exports=g},16005:(_,k,a)=>{var b=a(45319);_.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h,u,l,d){return void 0===h&&(h=1),void 0===u?this.alpha=h:(this._alphaTL=b(h,0,1),this._alphaTR=b(u,0,1),this._alphaBL=b(l,0,1),this._alphaBR=b(d,0,1)),this},alpha:{get:function(){return this._alpha},set:function(h){var u=b(h,0,1);this._alpha=u,this._alphaTL=u,this._alphaTR=u,this._alphaBL=u,this._alphaBR=u,0===u?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(h){var u=b(h,0,1);this._alphaTL=u,0!==u&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(h){var u=b(h,0,1);this._alphaTR=u,0!==u&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(h){var u=b(h,0,1);this._alphaBL=u,0!==u&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(h){var u=b(h,0,1);this._alphaBR=u,0!==u&&(this.renderFlags|=2)}}}},88509:(_,k,a)=>{var b=a(45319);_.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h){return void 0===h&&(h=1),this.alpha=h,this},alpha:{get:function(){return this._alpha},set:function(h){var u=b(h,0,1);this._alpha=u,0===u?this.renderFlags&=-3:this.renderFlags|=2}}}},90065:(_,k,a)=>{var b=a(10312);_.exports={_blendMode:b.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(g){"string"==typeof g&&(g=b[g]),(g|=0)>=-1&&(this._blendMode=g)}},setBlendMode:function(g){return this.blendMode=g,this}}},94215:_=>{_.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}},setSize:function(a,b){return this.width=a,this.height=b,this},setDisplaySize:function(a,b){return this.displayWidth=a,this.displayHeight=b,this}}},61683:_=>{_.exports={texture:null,frame:null,isCropped:!1,setCrop:function(a,b,T,g){return void 0===a?this.isCropped=!1:this.frame&&("number"==typeof a?this.frame.setCropUVs(this._crop,a,b,T,g,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY),this.isCropped=!0),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},89272:(_,k,a)=>{var b=a(37105);_.exports={_depth:0,depth:{get:function(){return this._depth},set:function(g){this.displayList&&this.displayList.queueDepthSort(),this._depth=g}},setDepth:function(g){return void 0===g&&(g=0),this.depth=g,this},setToTop:function(){var g=this.getDisplayList();return g&&b.BringToTop(g,this),this},setToBack:function(){var g=this.getDisplayList();return g&&b.SendToBack(g,this),this},setAbove:function(g){var h=this.getDisplayList();return h&&g&&b.MoveAbove(h,this,g),this},setBelow:function(g){var h=this.getDisplayList();return h&&g&&b.MoveBelow(h,this,g),this}}},47059:(_,k,a)=>{var b=a(83419),T=a(66064),g=a(19133),h=new b({initialize:function(l,d){this.gameObject=l,this.isPost=d,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(u){return void 0===u&&(u=0),this.padding=u,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(u){if(!this.isPost){var l=this.gameObject.scene.sys.renderer;l&&l.pipelines?(this.gameObject.pipeline=l.pipelines.FX_PIPELINE,void 0!==u&&(this.padding=u),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var u=this.list,l=0;l<u.length;l++)u[l].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(u){var l;if(this.isPost){var d=this.gameObject.getPostPipeline(String(u.type));for(Array.isArray(d)||(d=[d]),l=0;l<d.length;l++){var f=d[l];if(f.controller===u){this.gameObject.removePostPipeline(f),u.destroy();break}}}else{var c=this.list;for(l=0;l<c.length;l++)c[l]===u&&(g(c,l),u.destroy())}return this.gameObject},disable:function(u){return void 0===u&&(u=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,u&&this.clear(),this.gameObject},add:function(u,l){if(!this.isPost)return this.enabled||this.enable(),this.list.push(u),u;var d=String(u.type);this.gameObject.setPostPipeline(d,l);var f=this.gameObject.getPostPipeline(d);return f?(Array.isArray(f)&&(f=f.pop()),f&&(f.controller=u),u):void 0},addGlow:function(u,l,d,f,c,m){return this.add(new T.Glow(this.gameObject,u,l,d,f),{quality:c,distance:m})},addShadow:function(u,l,d,f,c,m,v){return this.add(new T.Shadow(this.gameObject,u,l,d,f,c,m,v))},addPixelate:function(u){return this.add(new T.Pixelate(this.gameObject,u))},addVignette:function(u,l,d,f){return this.add(new T.Vignette(this.gameObject,u,l,d,f))},addShine:function(u,l,d,f){return this.add(new T.Shine(this.gameObject,u,l,d,f))},addBlur:function(u,l,d,f,c,m){return this.add(new T.Blur(this.gameObject,u,l,d,f,c,m))},addGradient:function(u,l,d,f,c,m,v,x){return this.add(new T.Gradient(this.gameObject,u,l,d,f,c,m,v,x))},addBloom:function(u,l,d,f,c,m){return this.add(new T.Bloom(this.gameObject,u,l,d,f,c,m))},addColorMatrix:function(){return this.add(new T.ColorMatrix(this.gameObject))},addCircle:function(u,l,d,f,c){return this.add(new T.Circle(this.gameObject,u,l,d,f,c))},addBarrel:function(u){return this.add(new T.Barrel(this.gameObject,u))},addDisplacement:function(u,l,d){return this.add(new T.Displacement(this.gameObject,u,l,d))},addWipe:function(u,l,d){return this.add(new T.Wipe(this.gameObject,u,l,d))},addReveal:function(u,l,d){return this.add(new T.Wipe(this.gameObject,u,l,d,!0))},addBokeh:function(u,l,d){return this.add(new T.Bokeh(this.gameObject,u,l,d))},addTiltShift:function(u,l,d,f,c,m){return this.add(new T.Bokeh(this.gameObject,u,l,d,!0,f,c,m))},destroy:function(){this.clear(),this.gameObject=null}});_.exports=h},54434:_=>{_.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,b){return this.flipX=a,this.flipY=b,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},8004:(_,k,a)=>{var b=a(87841),T=a(11520),g=a(26099);_.exports={prepareBoundsOutput:function(u,l){return void 0===l&&(l=!1),0!==this.rotation&&T(u,this.x,this.y,this.rotation),l&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(u.x,u.y,u),u},getCenter:function(u,l){return void 0===u&&(u=new g),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,l)},getTopLeft:function(u,l){return u||(u=new g),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,l)},getTopCenter:function(u,l){return u||(u=new g),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,l)},getTopRight:function(u,l){return u||(u=new g),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,l)},getLeftCenter:function(u,l){return u||(u=new g),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,l)},getRightCenter:function(u,l){return u||(u=new g),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,l)},getBottomLeft:function(u,l){return u||(u=new g),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,l)},getBottomCenter:function(u,l){return u||(u=new g),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,l)},getBottomRight:function(u,l){return u||(u=new g),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,l)},getBounds:function(u){var l,d,f,c,m,v,x,y;if(void 0===u&&(u=new b),this.parentContainer){var w=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(u),w.transformPoint(u.x,u.y,u),l=u.x,d=u.y,this.getTopRight(u),w.transformPoint(u.x,u.y,u),f=u.x,c=u.y,this.getBottomLeft(u),w.transformPoint(u.x,u.y,u),m=u.x,v=u.y,this.getBottomRight(u),w.transformPoint(u.x,u.y,u),x=u.x,y=u.y}else this.getTopLeft(u),l=u.x,d=u.y,this.getTopRight(u),f=u.x,c=u.y,this.getBottomLeft(u),m=u.x,v=u.y,this.getBottomRight(u),x=u.x,y=u.y;return u.x=Math.min(l,f,m,x),u.y=Math.min(d,c,v,y),u.width=Math.max(l,f,m,x)-u.x,u.height=Math.max(d,c,v,y)-u.y,u}}},8573:(_,k,a)=>{var b=a(6858),T=a(80661);_.exports={mask:null,setMask:function(h){return this.mask=h,this},clearMask:function(h){return void 0===h&&(h=!1),h&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(h,u,l,d,f){return void 0===h&&(this.texture||this.shader||this.geom)&&(h=this),new b(this.scene,h,u,l,d,f)},createGeometryMask:function(h){return void 0===h&&("Graphics"===this.type||this.geom)&&(h=this),new T(this.scene,h)}}},27387:_=>{_.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(a){this._displayOriginX=a,this.originX=a/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(a){this._displayOriginY=a,this.originY=a/this.height}},setOrigin:function(a,b){return void 0===a&&(a=.5),void 0===b&&(b=a),this.originX=a,this.originY=b,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(a,b){return void 0===a&&(a=0),void 0===b&&(b=a),this.displayOriginX=a,this.displayOriginY=b,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},37640:(_,k,a)=>{var b=a(39506),T=a(57355),g=a(35154),h=a(86353),u=a(26099);_.exports={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:h.PLAYING_FORWARD,setPath:function(d,f){void 0===f&&(f=this.pathConfig);var c=this.pathTween;return c&&c.isPlaying()&&c.stop(),this.path=d,f&&this.startFollow(f),this},setRotateToPath:function(d,f){return void 0===f&&(f=0),this.rotateToPath=d,this.pathRotationOffset=f,this},isFollowing:function(){var d=this.pathTween;return d&&d.isPlaying()},startFollow:function(d,f){void 0===d&&(d={}),void 0===f&&(f=0);var c=this.pathTween;c&&c.isPlaying()&&c.stop(),"number"==typeof d&&(d={duration:d}),d.from=g(d,"from",0),d.to=g(d,"to",1);var m=T(d,"positionOnPath",!1);this.rotateToPath=T(d,"rotateToPath",!1),this.pathRotationOffset=g(d,"rotationOffset",0);var v=g(d,"startAt",f);if(v&&(d.onStart=function(y){var w=y.data[0];w.progress=v,w.elapsed=w.duration*v;var E=w.ease(w.progress);w.current=w.start+(w.end-w.start)*E,w.setTargetValue()}),this.pathOffset||(this.pathOffset=new u(this.x,this.y)),this.pathVector||(this.pathVector=new u),this.pathDelta||(this.pathDelta=new u),this.pathDelta.reset(),d.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(d),this.path.getStartPoint(this.pathOffset),m&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath){var x=this.path.getPoint(.1);this.rotation=Math.atan2(x.y-this.y,x.x-this.x)+b(this.pathRotationOffset)}return this.pathConfig=d,this},pauseFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.pause(),this},resumeFollow:function(){var d=this.pathTween;return d&&d.isPaused()&&d.resume(),this},stopFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this},pathUpdate:function(){var d=this.pathTween;if(d&&d.data){var f=d.data[0],c=this.pathDelta,m=this.pathVector;if(c.copy(m).negate(),f.state===h.COMPLETE)return this.path.getPoint(f.end,m),c.add(m),m.add(this.pathOffset),void this.setPosition(m.x,m.y);if(f.state!==h.PLAYING_FORWARD&&f.state!==h.PLAYING_BACKWARD)return;this.path.getPoint(d.getValue(),m),c.add(m),m.add(this.pathOffset);var v=this.x,x=this.y;this.setPosition(m.x,m.y);var y=this.x-v,w=this.y-x;if(0===y&&0===w)return;if(f.state!==this._prevDirection)return void(this._prevDirection=f.state);this.rotateToPath&&(this.rotation=Math.atan2(w,y)+b(this.pathRotationOffset))}}}},72699:(_,k,a)=>{var b=a(62644);_.exports={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(g){this.pipelineData={};var h=this.scene.sys.renderer;if(!h)return!1;var u=h.pipelines;if(u){void 0===g&&(g=u.default);var l=u.get(g);if(l)return this.defaultPipeline=l,this.pipeline=l,!0}return!1},setPipeline:function(g,h,u){var l=this.scene.sys.renderer;if(!l)return this;var d=l.pipelines;if(d){var f=d.get(g);f&&(this.pipeline=f),h&&(this.pipelineData=u?b(h):h)}return this},setPipelineData:function(g,h){var u=this.pipelineData;return void 0===h?delete u[g]:u[g]=h,this},resetPipeline:function(g){return void 0===g&&(g=!1),this.pipeline=this.defaultPipeline,g&&(this.pipelineData={}),null!==this.pipeline},getPipelineName:function(){return null===this.pipeline?null:this.pipeline.name}}},17581:(_,k,a)=>{var b=a(62644),T=a(47059),g=a(19133);_.exports={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(u){this.postPipelines=[],this.postPipelineData={},this.postFX=new T(this,!0),u&&(this.preFX=new T(this,!1))},setPostPipeline:function(u,l,d){var f=this.scene.sys.renderer;if(!f)return this;var c=f.pipelines;if(c){Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++){var v=c.getPostPipeline(u[m],this,l);v&&this.postPipelines.push(v)}l&&(this.postPipelineData=d?b(l):l)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(u,l){var d=this.postPipelineData;return void 0===l?delete d[u]:d[u]=l,this},getPostPipeline:function(u){for(var l="string"==typeof u,d=this.postPipelines,f=[],c=0;c<d.length;c++){var m=d[c];(l&&m.name===u||!l&&m instanceof u)&&f.push(m)}return 1===f.length?f[0]:f},resetPostPipeline:function(u){void 0===u&&(u=!1);for(var l=this.postPipelines,d=0;d<l.length;d++)l[d].destroy();this.postPipelines=[],this.hasPostPipeline=!1,u&&(this.postPipelineData={})},removePostPipeline:function(u){for(var l="string"==typeof u,d=this.postPipelines,f=d.length-1;f>=0;f--){var c=d[f];(l&&c.name===u||!l&&c===u)&&(c.destroy(),g(d,f))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}}},80227:_=>{_.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(a,b){return void 0===b&&(b=a),this.scrollFactorX=a,this.scrollFactorY=b,this}}},16736:_=>{_.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(a){this.scaleX=a/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(a){this.scaleY=a/this.frame.realHeight}},setSizeToFrame:function(a){a||(a=this.frame),this.width=a.realWidth,this.height=a.realHeight;var b=this.input;return b&&!b.customHitArea&&(b.hitArea.width=this.width,b.hitArea.height=this.height),this},setSize:function(a,b){return this.width=a,this.height=b,this},setDisplaySize:function(a,b){return this.displayWidth=a,this.displayHeight=b,this}}},37726:(_,k,a)=>{var b=a(4327);_.exports={texture:null,frame:null,isCropped:!1,setTexture:function(h,u,l,d){return this.texture=this.scene.sys.textures.get(h),this.setFrame(u,l,d)},setFrame:function(h,u,l){return void 0===u&&(u=!0),void 0===l&&(l=!0),h instanceof b?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&u&&this.setSizeToFrame(),this._originComponent&&l&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}}},79812:(_,k,a)=>{var b=a(4327);_.exports={texture:null,frame:null,isCropped:!1,setCrop:function(h,u,l,d){return void 0===h?this.isCropped=!1:this.frame&&("number"==typeof h?this.frame.setCropUVs(this._crop,h,u,l,d,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY),this.isCropped=!0),this},setTexture:function(h,u){return this.texture=this.scene.sys.textures.get(h),this.setFrame(u)},setFrame:function(h,u,l){return void 0===u&&(u=!0),void 0===l&&(l=!0),h instanceof b?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&u&&this.setSizeToFrame(),this._originComponent&&l&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},27472:_=>{_.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(a,b,T,g){return void 0===a&&(a=16777215),void 0===b&&(b=a,T=a,g=a),this.tintTopLeft=a,this.tintTopRight=b,this.tintBottomLeft=T,this.tintBottomRight=g,this.tintFill=!1,this},setTintFill:function(a,b,T,g){return this.setTint(a,b,T,g),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(a){this.setTint(a,a,a,a)}},isTinted:{get:function(){var a=16777215;return this.tintFill||this.tintTopLeft!==a||this.tintTopRight!==a||this.tintBottomLeft!==a||this.tintBottomRight!==a}}}},53774:_=>{_.exports=function(a){var b={name:a.name,type:a.type,x:a.x,y:a.y,depth:a.depth,scale:{x:a.scaleX,y:a.scaleY},origin:{x:a.originX,y:a.originY},flipX:a.flipX,flipY:a.flipY,rotation:a.rotation,alpha:a.alpha,visible:a.visible,blendMode:a.blendMode,textureKey:"",frameKey:"",data:{}};return a.texture&&(b.textureKey=a.texture.key,b.frameKey=a.frame.name),b}},16901:(_,k,a)=>{var b=a(36383),T=a(61340),g=a(85955),h=a(86554),u=a(30954),l=a(26099);_.exports={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(c){this._scaleX=c,this._scaleY=c,0===c?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(c){this._scaleX=c,0===c?this.renderFlags&=-5:0!==this._scaleY&&(this.renderFlags|=4)}},scaleY:{get:function(){return this._scaleY},set:function(c){this._scaleY=c,0===c?this.renderFlags&=-5:0!==this._scaleX&&(this.renderFlags|=4)}},angle:{get:function(){return u(this._rotation*b.RAD_TO_DEG)},set:function(c){this.rotation=u(c)*b.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=h(c)}},setPosition:function(c,m,v,x){return void 0===c&&(c=0),void 0===m&&(m=c),void 0===v&&(v=0),void 0===x&&(x=0),this.x=c,this.y=m,this.z=v,this.w=x,this},copyPosition:function(c){return void 0!==c.x&&(this.x=c.x),void 0!==c.y&&(this.y=c.y),void 0!==c.z&&(this.z=c.z),void 0!==c.w&&(this.w=c.w),this},setRandomPosition:function(c,m,v,x){return void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=this.scene.sys.scale.width),void 0===x&&(x=this.scene.sys.scale.height),this.x=c+Math.random()*v,this.y=m+Math.random()*x,this},setRotation:function(c){return void 0===c&&(c=0),this.rotation=c,this},setAngle:function(c){return void 0===c&&(c=0),this.angle=c,this},setScale:function(c,m){return void 0===c&&(c=1),void 0===m&&(m=c),this.scaleX=c,this.scaleY=m,this},setX:function(c){return void 0===c&&(c=0),this.x=c,this},setY:function(c){return void 0===c&&(c=0),this.y=c,this},setZ:function(c){return void 0===c&&(c=0),this.z=c,this},setW:function(c){return void 0===c&&(c=0),this.w=c,this},getLocalTransformMatrix:function(c){return void 0===c&&(c=new T),c.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(c,m){void 0===c&&(c=new T);var v=this.parentContainer;if(!v)return this.getLocalTransformMatrix(c);for(m||(m=new T),c.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);v;)m.applyITRS(v.x,v.y,v._rotation,v._scaleX,v._scaleY),m.multiply(c,c),v=v.parentContainer;return c},getLocalPoint:function(c,m,v,x){v||(v=new l),x||(x=this.scene.sys.cameras.main);var y=x.scrollX,w=x.scrollY,E=c+y*this.scrollFactorX-y,S=m+w*this.scrollFactorY-w;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(E,S,v):g(E,S,this.x,this.y,this.rotation,this.scaleX,this.scaleY,v),this._originComponent&&(v.x+=this._displayOriginX,v.y+=this._displayOriginY),v},getParentRotation:function(){for(var c=0,m=this.parentContainer;m;)c+=m.rotation,m=m.parentContainer;return c}}},61340:(_,k,a)=>{var b=a(83419),T=a(36383),g=a(26099),h=new b({initialize:function(l,d,f,c,m,v){void 0===l&&(l=1),void 0===d&&(d=0),void 0===f&&(f=0),void 0===c&&(c=1),void 0===m&&(m=0),void 0===v&&(v=0),this.matrix=new Float32Array([l,d,f,c,m,v,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(u){this.matrix[0]=u}},b:{get:function(){return this.matrix[1]},set:function(u){this.matrix[1]=u}},c:{get:function(){return this.matrix[2]},set:function(u){this.matrix[2]=u}},d:{get:function(){return this.matrix[3]},set:function(u){this.matrix[3]=u}},e:{get:function(){return this.matrix[4]},set:function(u){this.matrix[4]=u}},f:{get:function(){return this.matrix[5]},set:function(u){this.matrix[5]=u}},tx:{get:function(){return this.matrix[4]},set:function(u){this.matrix[4]=u}},ty:{get:function(){return this.matrix[5]},set:function(u){this.matrix[5]=u}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var u=this.matrix,l=u[0],d=u[1],f=u[2],c=u[3];return l||d?d>0?Math.acos(l/this.scaleX):-Math.acos(l/this.scaleX):f||c?T.TAU-(c>0?Math.acos(-f/this.scaleY):-Math.acos(f/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var u=this.matrix;return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,this},translate:function(u,l){var d=this.matrix;return d[4]=d[0]*u+d[2]*l+d[4],d[5]=d[1]*u+d[3]*l+d[5],this},scale:function(u,l){var d=this.matrix;return d[0]*=u,d[1]*=u,d[2]*=l,d[3]*=l,this},rotate:function(u){var l=Math.sin(u),d=Math.cos(u),f=this.matrix,c=f[0],m=f[1],v=f[2],x=f[3];return f[0]=c*d+v*l,f[1]=m*d+x*l,f[2]=c*-l+v*d,f[3]=m*-l+x*d,this},multiply:function(u,l){var d=this.matrix,f=u.matrix,c=d[0],m=d[1],v=d[2],x=d[3],y=d[4],w=d[5],E=f[0],S=f[1],A=f[2],I=f[3],M=f[4],P=f[5],O=void 0===l?d:l.matrix;return O[0]=E*c+S*v,O[1]=E*m+S*x,O[2]=A*c+I*v,O[3]=A*m+I*x,O[4]=M*c+P*v+y,O[5]=M*m+P*x+w,O},multiplyWithOffset:function(u,l,d){var f=this.matrix,c=u.matrix,m=f[0],v=f[1],x=f[2],y=f[3],S=l*m+d*x+f[4],A=l*v+d*y+f[5],I=c[0],M=c[1],P=c[2],O=c[3],N=c[4],L=c[5];return f[0]=I*m+M*x,f[1]=I*v+M*y,f[2]=P*m+O*x,f[3]=P*v+O*y,f[4]=N*m+L*x+S,f[5]=N*v+L*y+A,this},transform:function(u,l,d,f,c,m){var v=this.matrix,x=v[0],y=v[1],w=v[2],E=v[3],S=v[4],A=v[5];return v[0]=u*x+l*w,v[1]=u*y+l*E,v[2]=d*x+f*w,v[3]=d*y+f*E,v[4]=c*x+m*w+S,v[5]=c*y+m*E+A,this},transformPoint:function(u,l,d){void 0===d&&(d={x:0,y:0});var f=this.matrix,m=f[1],x=f[3],w=f[5];return d.x=u*f[0]+l*f[2]+f[4],d.y=u*m+l*x+w,d},invert:function(){var u=this.matrix,l=u[0],d=u[1],f=u[2],c=u[3],m=u[4],v=u[5],x=l*c-d*f;return u[0]=c/x,u[1]=-d/x,u[2]=-f/x,u[3]=l/x,u[4]=(f*v-c*m)/x,u[5]=-(l*v-d*m)/x,this},copyFrom:function(u){var l=this.matrix;return l[0]=u.a,l[1]=u.b,l[2]=u.c,l[3]=u.d,l[4]=u.e,l[5]=u.f,this},copyFromArray:function(u){var l=this.matrix;return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],this},copyToContext:function(u){var l=this.matrix;return u.transform(l[0],l[1],l[2],l[3],l[4],l[5]),u},setToContext:function(u){return u.setTransform(this),u},copyToArray:function(u){var l=this.matrix;return void 0===u?u=[l[0],l[1],l[2],l[3],l[4],l[5]]:(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5]),u},setTransform:function(u,l,d,f,c,m){var v=this.matrix;return v[0]=u,v[1]=l,v[2]=d,v[3]=f,v[4]=c,v[5]=m,this},decomposeMatrix:function(){var u=this.decomposedMatrix,l=this.matrix,d=l[0],f=l[1],c=l[2],m=l[3],v=d*m-f*c;if(u.translateX=l[4],u.translateY=l[5],d||f){var x=Math.sqrt(d*d+f*f);u.rotation=f>0?Math.acos(d/x):-Math.acos(d/x),u.scaleX=x,u.scaleY=v/x}else if(c||m){var y=Math.sqrt(c*c+m*m);u.rotation=.5*Math.PI-(m>0?Math.acos(-c/y):-Math.acos(c/y)),u.scaleX=v/y,u.scaleY=y}else u.rotation=0,u.scaleX=0,u.scaleY=0;return u},applyITRS:function(u,l,d,f,c){var m=this.matrix,v=Math.sin(d),x=Math.cos(d);return m[4]=u,m[5]=l,m[0]=x*f,m[1]=v*f,m[2]=-v*c,m[3]=x*c,this},applyInverse:function(u,l,d){void 0===d&&(d=new g);var f=this.matrix,c=f[0],m=f[1],v=f[2],x=f[3],y=f[4],w=f[5],E=1/(c*x+v*-m);return d.x=x*E*u+-v*E*l+(w*v-y*x)*E,d.y=c*E*l+-m*E*u+(-w*c+y*m)*E,d},setQuad:function(u,l,d,f,c,m){void 0===c&&(c=!1),void 0===m&&(m=this.quad);var v=this.matrix,x=v[0],y=v[1],w=v[2],E=v[3],S=v[4],A=v[5],I=u*x+l*w+S,M=u*y+l*E+A,P=u*x+f*w+S,O=u*y+f*E+A,N=d*x+f*w+S,L=d*y+f*E+A,G=d*x+l*w+S,j=d*y+l*E+A;if(c){var z=Math.floor(I+.5),Y=Math.floor(M+.5),Z=z-I,rt=Y-M;m[0]=z,m[1]=Y,m[2]=P+Z,m[3]=O+rt,m[4]=N+Z,m[5]=L+rt,m[6]=G+Z,m[7]=j+rt}else m[0]=I,m[1]=M,m[2]=P,m[3]=O,m[4]=N,m[5]=L,m[6]=G,m[7]=j;return m},getX:function(u,l){return u*this.a+l*this.c+this.e},getY:function(u,l){return u*this.b+l*this.d+this.f},getXRound:function(u,l,d){var f=this.getX(u,l);return d&&(f=Math.floor(f+.5)),f},getYRound:function(u,l,d){var f=this.getY(u,l);return d&&(f=Math.floor(f+.5)),f},getCSSMatrix:function(){var u=this.matrix;return"matrix("+u[0]+","+u[1]+","+u[2]+","+u[3]+","+u[4]+","+u[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});_.exports=h},59715:_=>{_.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(b){b?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(b){return this.visible=b,this}}},31401:(_,k,a)=>{_.exports={Alpha:a(16005),AlphaSingle:a(88509),BlendMode:a(90065),ComputedSize:a(94215),Crop:a(61683),Depth:a(89272),Flip:a(54434),FX:a(47059),GetBounds:a(8004),Mask:a(8573),Origin:a(27387),PathFollower:a(37640),Pipeline:a(72699),PostPipeline:a(17581),ScrollFactor:a(80227),Size:a(16736),Texture:a(37726),TextureCrop:a(79812),Tint:a(27472),ToJSON:a(53774),Transform:a(16901),TransformMatrix:a(61340),Visible:a(59715)}},31559:(_,k,a)=>{var b=a(37105),T=a(10312),g=a(83419),h=a(31401),u=a(51708),l=a(95643),d=a(87841),f=a(29959),c=a(36899),m=a(26099),v=new h.TransformMatrix,x=new g({Extends:l,Mixins:[h.AlphaSingle,h.BlendMode,h.ComputedSize,h.Depth,h.Mask,h.PostPipeline,h.Transform,h.Visible,f],initialize:function(w,E,S,A){l.call(this,w,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new h.TransformMatrix,this._sortKey="",this._sysEvents=w.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(E,S),this.setBlendMode(T.SKIP_CHECK),A&&this.add(A)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(y){return void 0===y&&(y=!0),this.exclusive=y,this},getBounds:function(y){if(void 0===y&&(y=new d),y.setTo(this.x,this.y,0,0),this.parentContainer){var E=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);y.setTo(E.x,E.y,0,0)}if(this.list.length>0){var S=this.list,A=new d,I=!1;y.setEmpty();for(var M=0;M<S.length;M++){var P=S[M];P.getBounds&&(P.getBounds(A),I?c(A,y,y):(y.setTo(A.x,A.y,A.width,A.height),I=!0))}}return y},addHandler:function(y){y.once(u.DESTROY,this.onChildDestroyed,this),this.exclusive&&(y.parentContainer&&y.parentContainer.remove(y),y.parentContainer=this,y.removeFromDisplayList(),y.addedToScene())},removeHandler:function(y){y.off(u.DESTROY,this.remove,this),this.exclusive&&(y.parentContainer=null,y.removedFromScene(),y.addToDisplayList())},pointToContainer:function(y,w){void 0===w&&(w=new m),this.parentContainer?this.parentContainer.pointToContainer(y,w):(w.x=y.x,w.y=y.y);var E=v;return E.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),E.invert(),E.transformPoint(y.x,y.y,w),w},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(v,this.localTransform)},add:function(y){return b.Add(this.list,y,this.maxSize,this.addHandler,this),this},addAt:function(y,w){return b.AddAt(this.list,y,w,this.maxSize,this.addHandler,this),this},getAt:function(y){return this.list[y]},getIndex:function(y){return this.list.indexOf(y)},sort:function(y,w){return y?(void 0===w&&(w=function(E,S){return E[y]-S[y]}),b.StableSort(this.list,w),this):this},getByName:function(y){return b.GetFirst(this.list,"name",y)},getRandom:function(y,w){return b.GetRandom(this.list,y,w)},getFirst:function(y,w,E,S){return b.GetFirst(this.list,y,w,E,S)},getAll:function(y,w,E,S){return b.GetAll(this.list,y,w,E,S)},count:function(y,w,E,S){return b.CountAllMatching(this.list,y,w,E,S)},swap:function(y,w){return b.Swap(this.list,y,w),this},moveTo:function(y,w){return b.MoveTo(this.list,y,w),this},moveAbove:function(y,w){return b.MoveAbove(this.list,y,w),this},moveBelow:function(y,w){return b.MoveBelow(this.list,y,w),this},remove:function(y,w){var E=b.Remove(this.list,y,this.removeHandler,this);if(w&&E){Array.isArray(E)||(E=[E]);for(var S=0;S<E.length;S++)E[S].destroy()}return this},removeAt:function(y,w){var E=b.RemoveAt(this.list,y,this.removeHandler,this);return w&&E&&E.destroy(),this},removeBetween:function(y,w,E){var S=b.RemoveBetween(this.list,y,w,this.removeHandler,this);if(E)for(var A=0;A<S.length;A++)S[A].destroy();return this},removeAll:function(y){var w=this.list;if(y){for(var E=0;E<w.length;E++)w[E]&&w[E].scene&&(w[E].off(u.DESTROY,this.onChildDestroyed,this),w[E].destroy());this.list=[]}else b.RemoveBetween(w,0,w.length,this.removeHandler,this);return this},bringToTop:function(y){return b.BringToTop(this.list,y),this},sendToBack:function(y){return b.SendToBack(this.list,y),this},moveUp:function(y){return b.MoveUp(this.list,y),this},moveDown:function(y){return b.MoveDown(this.list,y),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return b.Shuffle(this.list),this},replace:function(y,w,E){return b.Replace(this.list,y,w)&&(this.addHandler(w),this.removeHandler(y),E&&y.destroy()),this},exists:function(y){return this.list.indexOf(y)>-1},setAll:function(y,w,E,S){return b.SetAll(this.list,y,w,E,S),this},each:function(y,w){var S,E=[null],A=this.list.slice(),I=A.length;for(S=2;S<arguments.length;S++)E.push(arguments[S]);for(S=0;S<I;S++)E[0]=A[S],y.apply(w,E);return this},iterate:function(y,w){var S,E=[null];for(S=2;S<arguments.length;S++)E.push(arguments[S]);for(S=0;S<this.list.length;S++)E[0]=this.list[S],y.apply(w,E);return this},setScrollFactor:function(y,w,E){return void 0===w&&(w=y),void 0===E&&(E=!1),this.scrollFactorX=y,this.scrollFactorY=w,E&&(b.SetAll(this.list,"scrollFactorX",y),b.SetAll(this.list,"scrollFactorY",w)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(y){b.Remove(this.list,y),this.exclusive&&(y.parentContainer=null,y.removedFromScene())}});_.exports=x},53584:_=>{_.exports=function(a,b,T,g){T.addToRenderList(b);var h=b.list;if(0!==h.length){var u=b.localTransform;g?(u.loadIdentity(),u.multiply(g),u.translate(b.x,b.y),u.rotate(b.rotation),u.scale(b.scaleX,b.scaleY)):u.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY);var l=-1!==b.blendMode;l||a.setBlendMode(0);var d=b._alpha,f=b.scrollFactorX,c=b.scrollFactorY;b.mask&&b.mask.preRenderCanvas(a,null,T);for(var m=0;m<h.length;m++){var v=h[m];if(v.willRender(T)){var x=v.alpha,y=v.scrollFactorX,w=v.scrollFactorY;!l&&v.blendMode!==a.currentBlendMode&&a.setBlendMode(v.blendMode),v.setScrollFactor(y*f,w*c),v.setAlpha(x*d),v.renderCanvas(a,v,T,u),v.setAlpha(x),v.setScrollFactor(y,w)}}b.mask&&b.mask.postRenderCanvas(a)}}},77143:(_,k,a)=>{var b=a(25305),T=a(31559),g=a(44603),h=a(23568),u=a(95540);g.register("container",function(l,d){void 0===l&&(l={});var f=h(l,"x",0),c=h(l,"y",0),m=u(l,"children",null),v=new T(this.scene,f,c,m);return void 0!==d&&(l.add=d),b(this.scene,v,l),v})},24961:(_,k,a)=>{var b=a(31559);a(39429).register("container",function(g,h,u){return this.displayList.add(new b(this.scene,g,h,u))})},29959:(_,k,a)=>{var T,g;a(29747),T=a(72249),g=a(53584),_.exports={renderWebGL:T,renderCanvas:g}},72249:_=>{_.exports=function(a,b,T,g){T.addToRenderList(b);var h=b.list,u=h.length;if(0!==u){var l=b.localTransform;g?(l.loadIdentity(),l.multiply(g),l.translate(b.x,b.y),l.rotate(b.rotation),l.scale(b.scaleX,b.scaleY)):l.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),a.pipelines.preBatch(b);var d=-1!==b.blendMode;d||a.setBlendMode(0);for(var f=b.alpha,c=b.scrollFactorX,m=b.scrollFactorY,v=0;v<u;v++){var x=h[v];if(x.willRender(T)){var y,w,E,S;if(void 0!==x.alphaTopLeft)y=x.alphaTopLeft,w=x.alphaTopRight,E=x.alphaBottomLeft,S=x.alphaBottomRight;else{var A=x.alpha;y=A,w=A,E=A,S=A}var I=x.scrollFactorX,M=x.scrollFactorY;!d&&x.blendMode!==a.currentBlendMode&&a.setBlendMode(x.blendMode);var P=x.mask;P&&P.preRenderWebGL(a,x,T);var O=x.type;O!==a.currentType&&(a.newType=!0,a.currentType=O),a.nextTypeMatch=v<u-1&&h[v+1].type===a.currentType,x.setScrollFactor(I*c,M*m),x.setAlpha(y*f,w*f,E*f,S*f),x.renderWebGL(a,x,T,l,b),x.setAlpha(y,w,E,S),x.setScrollFactor(I,M),P&&P.postRenderWebGL(a,T),a.newType=!1}}a.pipelines.postBatch(b)}}},47407:_=>{_.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(441),h=a(95643),u=a(41212),l=a(35846),d=a(44594),f=a(61369),c=new b({Extends:h,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Origin,T.ScrollFactor,T.Transform,T.Visible,g],initialize:function(v,x,y,w,E,S){h.call(this,v,"DOMElement"),this.parent=v.sys.game.domContainer,this.cache=v.sys.cache.html,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new f,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(x,y),"string"==typeof w?"#"===w[0]?this.setElement(w.substr(1),E,S):this.createElement(w,E,S):w&&this.setElement(w,E,S),v.sys.events.on(d.SLEEP,this.handleSceneEvent,this),v.sys.events.on(d.WAKE,this.handleSceneEvent,this),v.sys.events.on(d.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(m){var v=this.node;v&&(v.style.display=m.settings.visible?"block":"none")},setSkew:function(m,v){return void 0===m&&(m=0),void 0===v&&(v=m),this.skewX=m,this.skewY=v,this},setPerspective:function(m){return this.parent.style.perspective=m+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(m){this.parent.style.perspective=m+"px"}},addListener:function(m){if(this.node){m=m.split(" ");for(var v=0;v<m.length;v++)this.node.addEventListener(m[v],this.handler,!1)}return this},removeListener:function(m){if(this.node){m=m.split(" ");for(var v=0;v<m.length;v++)this.node.removeEventListener(m[v],this.handler)}return this},dispatchNativeEvent:function(m){this.emit(m.type,m)},createElement:function(m,v,x){return this.setElement(document.createElement(m),v,x)},setElement:function(m,v,x){var y;if(this.removeElement(),"string"==typeof m?("#"===m[0]&&(m=m.substr(1)),y=document.getElementById(m)):"object"==typeof m&&1===m.nodeType&&(y=m),!y)return this;if(this.node=y,v&&u(v))for(var w in v)y.style[w]=v[w];else"string"==typeof v&&(y.style=v);return y.style.zIndex="0",y.style.display="inline",y.style.position="absolute",y.phaser=this,this.parent&&this.parent.appendChild(y),x&&(y.innerText=x),this.updateSize()},createFromCache:function(m,v){var x=this.cache.get(m);return x&&this.createFromHTML(x,v),this},createFromHTML:function(m,v){void 0===v&&(v="div"),this.removeElement();var x=document.createElement(v);return this.node=x,x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),x.innerHTML=m,this.updateSize()},removeElement:function(){return this.node&&(l(this.node),this.node=null),this},updateSize:function(){var m=this.node,v=m.getBoundingClientRect();return this.width=m.clientWidth,this.height=m.clientHeight,this.displayWidth=v.width||0,this.displayHeight=v.height||0,this},getChildByProperty:function(m,v){if(this.node)for(var x=this.node.querySelectorAll("*"),y=0;y<x.length;y++)if(x[y][m]===v)return x[y];return null},getChildByID:function(m){return this.getChildByProperty("id",m)},getChildByName:function(m){return this.getChildByProperty("name",m)},setClassName:function(m){return this.node&&(this.node.className=m,this.updateSize()),this},setText:function(m){return this.node&&(this.node.innerText=m,this.updateSize()),this},setHTML:function(m){return this.node&&(this.node.innerHTML=m,this.updateSize()),this},preRender:function(){var m=this.parentContainer,v=this.node;v&&m&&!m.willRender()&&(v.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(d.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(d.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(d.PRE_RENDER,this.preRender,this)}});_.exports=c},49381:(_,k,a)=>{var b=a(47407),T=a(95643),g=a(61340),h=new g,u=new g,l=new g;_.exports=function(f,c,m,v){if(c.node){var x=c.node.style;if(!x||!c.scene.sys.settings.visible||T.RENDER_MASK!==c.renderFlags||0!==c.cameraFilter&&c.cameraFilter&m.id||c.parentContainer&&!c.parentContainer.willRender())return void(x.display="none");var w=c.parentContainer,E=m.alpha*c.alpha;w&&(E*=w.alpha);var S=h,A=u,I=l,M=0,P=0,O="0%",N="0%";v?(A.applyITRS(c.x-(M=c.width*c.scaleX*c.originX),c.y-(P=c.height*c.scaleY*c.originY),c.rotation,c.scaleX,c.scaleY),S.copyFrom(m.matrix),S.multiplyWithOffset(v,-m.scrollX*c.scrollFactorX,-m.scrollY*c.scrollFactorY),A.e=c.x-M,A.f=c.y-P,S.multiply(A,I)):(M=c.width*c.originX,P=c.height*c.originY,A.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY),S.copyFrom(m.matrix),O=100*c.originX+"%",N=100*c.originY+"%",A.e-=m.scrollX*c.scrollFactorX,A.f-=m.scrollY*c.scrollFactorY,S.multiply(A,I),I.e-=M,I.f-=P),c.transformOnly||(x.display="block",x.opacity=E,x.zIndex=c._depth,x.pointerEvents=c.pointerEvents,x.mixBlendMode=b[c._blendMode]),x.transform=I.getCSSMatrix()+" skew("+c.skewX+"rad, "+c.skewY+"rad) rotate3d("+c.rotate3d.x+","+c.rotate3d.y+","+c.rotate3d.z+","+c.rotate3d.w+c.rotate3dAngle+")",x.transformOrigin=O+" "+N}}},2611:(_,k,a)=>{var b=a(3069);a(39429).register("dom",function(g,h,u,l,d){var f=new b(this.scene,g,h,u,l,d);return this.displayList.add(f),f})},441:(_,k,a)=>{var T,g;a(29747),T=a(49381),g=a(49381),_.exports={renderWebGL:T,renderCanvas:g}},62980:_=>{_.exports="addedtoscene"},41337:_=>{_.exports="destroy"},44947:_=>{_.exports="removedfromscene"},49358:_=>{_.exports="complete"},35163:_=>{_.exports="created"},97249:_=>{_.exports="error"},19483:_=>{_.exports="locked"},56059:_=>{_.exports="loop"},26772:_=>{_.exports="metadata"},64437:_=>{_.exports="playing"},83411:_=>{_.exports="play"},75780:_=>{_.exports="seeked"},67799:_=>{_.exports="seeking"},63500:_=>{_.exports="stalled"},55541:_=>{_.exports="stop"},53208:_=>{_.exports="textureready"},4992:_=>{_.exports="unlocked"},12:_=>{_.exports="unsupported"},51708:(_,k,a)=>{_.exports={ADDED_TO_SCENE:a(62980),DESTROY:a(41337),REMOVED_FROM_SCENE:a(44947),VIDEO_COMPLETE:a(49358),VIDEO_CREATED:a(35163),VIDEO_ERROR:a(97249),VIDEO_LOCKED:a(19483),VIDEO_LOOP:a(56059),VIDEO_METADATA:a(26772),VIDEO_PLAY:a(83411),VIDEO_PLAYING:a(64437),VIDEO_SEEKED:a(75780),VIDEO_SEEKING:a(67799),VIDEO_STALLED:a(63500),VIDEO_STOP:a(55541),VIDEO_TEXTURE:a(53208),VIDEO_UNLOCKED:a(4992),VIDEO_UNSUPPORTED:a(12)}},42421:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(95643),h=a(64993),u=new b({Extends:g,Mixins:[T.Alpha,T.BlendMode,T.Depth,T.Flip,T.Origin,T.ScrollFactor,T.Size,T.Texture,T.Tint,T.Transform,T.Visible,h],initialize:function(d){g.call(this,d,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});_.exports=u},70217:()=>{},56315:(_,k,a)=>{var b=a(42421);a(39429).register("extern",function(){var g=new b(this.scene);return this.displayList.add(g),g})},64993:(_,k,a)=>{var T,g;a(29747),T=a(80287),g=a(70217),_.exports={renderWebGL:T,renderCanvas:g}},80287:(_,k,a)=>{var b=a(91296);_.exports=function(g,h,u,l){g.pipelines.clear();var d=b(h,u,l).calc;h.render.call(h,g,u,d),g.pipelines.rebind()}},85592:_=>{_.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(_,k,a)=>{var b=a(71911),T=a(83419),g=a(85592),h=a(31401),u=a(8497),l=a(95643),d=a(95540),f=a(35154),c=a(36383),m=a(84503),v=new T({Extends:l,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,m],initialize:function(y,w){var E=f(w,"x",0),S=f(w,"y",0);l.call(this,y,"Graphics"),this.setPosition(E,S),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(w)},setDefaultStyles:function(x){return f(x,"lineStyle",null)&&(this.defaultStrokeWidth=f(x,"lineStyle.width",1),this.defaultStrokeColor=f(x,"lineStyle.color",16777215),this.defaultStrokeAlpha=f(x,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),f(x,"fillStyle",null)&&(this.defaultFillColor=f(x,"fillStyle.color",16777215),this.defaultFillAlpha=f(x,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(x,y,w){return void 0===w&&(w=1),this.commandBuffer.push(g.LINE_STYLE,x,y,w),this._lineWidth=x,this},fillStyle:function(x,y){return void 0===y&&(y=1),this.commandBuffer.push(g.FILL_STYLE,x,y),this},fillGradientStyle:function(x,y,w,E,S,A,I,M){return void 0===S&&(S=1),void 0===A&&(A=S),void 0===I&&(I=S),void 0===M&&(M=S),this.commandBuffer.push(g.GRADIENT_FILL_STYLE,S,A,I,M,x,y,w,E),this},lineGradientStyle:function(x,y,w,E,S,A){return void 0===A&&(A=1),this.commandBuffer.push(g.GRADIENT_LINE_STYLE,x,A,y,w,E,S),this},beginPath:function(){return this.commandBuffer.push(g.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(g.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(g.FILL_PATH),this},fill:function(){return this.commandBuffer.push(g.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(g.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(g.STROKE_PATH),this},fillCircleShape:function(x){return this.fillCircle(x.x,x.y,x.radius)},strokeCircleShape:function(x){return this.strokeCircle(x.x,x.y,x.radius)},fillCircle:function(x,y,w){return this.beginPath(),this.arc(x,y,w,0,c.PI2),this.fillPath(),this},strokeCircle:function(x,y,w){return this.beginPath(),this.arc(x,y,w,0,c.PI2),this.strokePath(),this},fillRectShape:function(x){return this.fillRect(x.x,x.y,x.width,x.height)},strokeRectShape:function(x){return this.strokeRect(x.x,x.y,x.width,x.height)},fillRect:function(x,y,w,E){return this.commandBuffer.push(g.FILL_RECT,x,y,w,E),this},strokeRect:function(x,y,w,E){var S=this._lineWidth/2,A=x-S,I=x+S;return this.beginPath(),this.moveTo(x,y),this.lineTo(x,y+E),this.strokePath(),this.beginPath(),this.moveTo(x+w,y),this.lineTo(x+w,y+E),this.strokePath(),this.beginPath(),this.moveTo(A,y),this.lineTo(I+w,y),this.strokePath(),this.beginPath(),this.moveTo(A,y+E),this.lineTo(I+w,y+E),this.strokePath(),this},fillRoundedRect:function(x,y,w,E,S){void 0===S&&(S=20);var A=S,I=S,M=S,P=S;"number"!=typeof S&&(A=d(S,"tl",20),I=d(S,"tr",20),M=d(S,"bl",20),P=d(S,"br",20));var O=A>=0,N=I>=0,L=M>=0,G=P>=0;return A=Math.abs(A),I=Math.abs(I),M=Math.abs(M),P=Math.abs(P),this.beginPath(),this.moveTo(x+A,y),this.lineTo(x+w-I,y),N?this.arc(x+w-I,y+I,I,-c.TAU,0):this.arc(x+w,y,I,Math.PI,c.TAU,!0),this.lineTo(x+w,y+E-P),G?this.arc(x+w-P,y+E-P,P,0,c.TAU):this.arc(x+w,y+E,P,-c.TAU,Math.PI,!0),this.lineTo(x+M,y+E),L?this.arc(x+M,y+E-M,M,c.TAU,Math.PI):this.arc(x,y+E,M,0,-c.TAU,!0),this.lineTo(x,y+A),O?this.arc(x+A,y+A,A,-Math.PI,-c.TAU):this.arc(x,y,A,c.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(x,y,w,E,S){void 0===S&&(S=20);var A=S,I=S,M=S,P=S,O=Math.min(w,E)/2;"number"!=typeof S&&(A=d(S,"tl",20),I=d(S,"tr",20),M=d(S,"bl",20),P=d(S,"br",20));var N=A>=0,L=I>=0,G=M>=0,j=P>=0;return A=Math.min(Math.abs(A),O),I=Math.min(Math.abs(I),O),M=Math.min(Math.abs(M),O),P=Math.min(Math.abs(P),O),this.beginPath(),this.moveTo(x+A,y),this.lineTo(x+w-I,y),this.moveTo(x+w-I,y),L?this.arc(x+w-I,y+I,I,-c.TAU,0):this.arc(x+w,y,I,Math.PI,c.TAU,!0),this.lineTo(x+w,y+E-P),this.moveTo(x+w,y+E-P),j?this.arc(x+w-P,y+E-P,P,0,c.TAU):this.arc(x+w,y+E,P,-c.TAU,Math.PI,!0),this.lineTo(x+M,y+E),this.moveTo(x+M,y+E),G?this.arc(x+M,y+E-M,M,c.TAU,Math.PI):this.arc(x,y+E,M,0,-c.TAU,!0),this.lineTo(x,y+A),this.moveTo(x,y+A),N?this.arc(x+A,y+A,A,-Math.PI,-c.TAU):this.arc(x,y,A,c.TAU,0,!0),this.strokePath(),this},fillPointShape:function(x,y){return this.fillPoint(x.x,x.y,y)},fillPoint:function(x,y,w){return!w||w<1?w=1:(x-=w/2,y-=w/2),this.commandBuffer.push(g.FILL_RECT,x,y,w,w),this},fillTriangleShape:function(x){return this.fillTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},strokeTriangleShape:function(x){return this.strokeTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},fillTriangle:function(x,y,w,E,S,A){return this.commandBuffer.push(g.FILL_TRIANGLE,x,y,w,E,S,A),this},strokeTriangle:function(x,y,w,E,S,A){return this.commandBuffer.push(g.STROKE_TRIANGLE,x,y,w,E,S,A),this},strokeLineShape:function(x){return this.lineBetween(x.x1,x.y1,x.x2,x.y2)},lineBetween:function(x,y,w,E){return this.beginPath(),this.moveTo(x,y),this.lineTo(w,E),this.strokePath(),this},lineTo:function(x,y){return this.commandBuffer.push(g.LINE_TO,x,y),this},moveTo:function(x,y){return this.commandBuffer.push(g.MOVE_TO,x,y),this},strokePoints:function(x,y,w,E){void 0===y&&(y=!1),void 0===w&&(w=!1),void 0===E&&(E=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var S=1;S<E;S++)this.lineTo(x[S].x,x[S].y);return y&&this.lineTo(x[0].x,x[0].y),w&&this.closePath(),this.strokePath(),this},fillPoints:function(x,y,w,E){void 0===y&&(y=!1),void 0===w&&(w=!1),void 0===E&&(E=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var S=1;S<E;S++)this.lineTo(x[S].x,x[S].y);return y&&this.lineTo(x[0].x,x[0].y),w&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(x,y){void 0===y&&(y=32);var w=x.getPoints(y);return this.strokePoints(w,!0)},strokeEllipse:function(x,y,w,E,S){void 0===S&&(S=32);var I=new u(x,y,w,E).getPoints(S);return this.strokePoints(I,!0)},fillEllipseShape:function(x,y){void 0===y&&(y=32);var w=x.getPoints(y);return this.fillPoints(w,!0)},fillEllipse:function(x,y,w,E,S){void 0===S&&(S=32);var I=new u(x,y,w,E).getPoints(S);return this.fillPoints(I,!0)},arc:function(x,y,w,E,S,A,I){return void 0===A&&(A=!1),void 0===I&&(I=0),this.commandBuffer.push(g.ARC,x,y,w,E,S,A,I),this},slice:function(x,y,w,E,S,A,I){return void 0===A&&(A=!1),void 0===I&&(I=0),this.commandBuffer.push(g.BEGIN_PATH),this.commandBuffer.push(g.MOVE_TO,x,y),this.commandBuffer.push(g.ARC,x,y,w,E,S,A,I),this.commandBuffer.push(g.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(g.SAVE),this},restore:function(){return this.commandBuffer.push(g.RESTORE),this},translateCanvas:function(x,y){return this.commandBuffer.push(g.TRANSLATE,x,y),this},scaleCanvas:function(x,y){return this.commandBuffer.push(g.SCALE,x,y),this},rotateCanvas:function(x){return this.commandBuffer.push(g.ROTATE,x),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(x,y,w){var E=this.scene.sys,S=E.game.renderer;void 0===y&&(y=E.scale.width),void 0===w&&(w=E.scale.height),v.TargetCamera.setScene(this.scene),v.TargetCamera.setViewport(0,0,y,w),v.TargetCamera.scrollX=this.x,v.TargetCamera.scrollY=this.y;var A,I,M={willReadFrequently:!0};if("string"==typeof x)if(E.textures.exists(x)){var P=(A=E.textures.get(x)).getSourceImage();P instanceof HTMLCanvasElement&&(I=P.getContext("2d",M))}else I=(A=E.textures.createCanvas(x,y,w)).getSourceImage().getContext("2d",M);else x instanceof HTMLCanvasElement&&(I=x.getContext("2d",M));return I&&(this.renderCanvas(S,this,v.TargetCamera,null,I,!1),A&&A.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});v.TargetCamera=new b,_.exports=v},32768:(_,k,a)=>{var b=a(85592),T=a(20926);_.exports=function(h,u,l,d,f,c){var m=u.commandBuffer,v=m.length,x=f||h.currentContext;if(0!==v&&T(h,x,u,l,d)){l.addToRenderList(u);var E=0,S=0,A=1;x.beginPath();for(var O=0;O<v;++O)switch(m[O]){case b.ARC:x.arc(m[O+1],m[O+2],m[O+3],m[O+4],m[O+5],m[O+6]),O+=7;break;case b.LINE_STYLE:A=m[O+1],x.strokeStyle="rgba("+((16711680&(E=m[O+2]))>>>16)+","+((65280&E)>>>8)+","+(255&E)+","+m[O+3]+")",x.lineWidth=A,O+=3;break;case b.FILL_STYLE:x.fillStyle="rgba("+((16711680&(S=m[O+1]))>>>16)+","+((65280&S)>>>8)+","+(255&S)+","+m[O+2]+")",O+=2;break;case b.BEGIN_PATH:x.beginPath();break;case b.CLOSE_PATH:x.closePath();break;case b.FILL_PATH:c||x.fill();break;case b.STROKE_PATH:c||x.stroke();break;case b.FILL_RECT:c?x.rect(m[O+1],m[O+2],m[O+3],m[O+4]):x.fillRect(m[O+1],m[O+2],m[O+3],m[O+4]),O+=4;break;case b.FILL_TRIANGLE:x.beginPath(),x.moveTo(m[O+1],m[O+2]),x.lineTo(m[O+3],m[O+4]),x.lineTo(m[O+5],m[O+6]),x.closePath(),c||x.fill(),O+=6;break;case b.STROKE_TRIANGLE:x.beginPath(),x.moveTo(m[O+1],m[O+2]),x.lineTo(m[O+3],m[O+4]),x.lineTo(m[O+5],m[O+6]),x.closePath(),c||x.stroke(),O+=6;break;case b.LINE_TO:x.lineTo(m[O+1],m[O+2]),O+=2;break;case b.MOVE_TO:x.moveTo(m[O+1],m[O+2]),O+=2;break;case b.LINE_FX_TO:x.lineTo(m[O+1],m[O+2]),O+=5;break;case b.MOVE_FX_TO:x.moveTo(m[O+1],m[O+2]),O+=5;break;case b.SAVE:x.save();break;case b.RESTORE:x.restore();break;case b.TRANSLATE:x.translate(m[O+1],m[O+2]),O+=2;break;case b.SCALE:x.scale(m[O+1],m[O+2]),O+=2;break;case b.ROTATE:x.rotate(m[O+1]),O+=1;break;case b.GRADIENT_FILL_STYLE:O+=5;break;case b.GRADIENT_LINE_STYLE:O+=6}x.restore()}}},87079:(_,k,a)=>{var b=a(44603),T=a(43831);b.register("graphics",function(g,h){void 0===g&&(g={}),void 0!==h&&(g.add=h);var u=new T(this.scene,g);return g.add&&this.scene.sys.displayList.add(u),u})},1201:(_,k,a)=>{var b=a(43831);a(39429).register("graphics",function(g){return this.displayList.add(new b(this.scene,g))})},84503:(_,k,a)=>{var T,g;a(29747),T=a(77545),a(32768),g=a(32768),_.exports={renderWebGL:T,renderCanvas:g}},77545:(_,k,a)=>{var b=a(85592),T=a(91296),g=a(61340),h=a(70554),u=function(m,v,x){this.x=m,this.y=v,this.width=x},l=function(m,v,x){this.points=[],this.pointsLength=1,this.points[0]=new u(m,v,x)},d=[],f=new g;_.exports=function(m,v,x,y){if(0!==v.commandBuffer.length){x.addToRenderList(v);var w=m.pipelines.set(v.pipeline,v);m.pipelines.preBatch(v);for(var Y,E=T(v,x,y).calc,S=f.loadIdentity(),A=v.commandBuffer,I=x.alpha*v.alpha,M=1,P=w.fillTint,O=w.strokeTint,N=0,L=0,G=0,z=2*Math.PI,Z=[],rt=0,st=!0,K=null,tt=h.getTintAppendFloatAlpha,W=0;W<A.length;W++)switch(Y=A[W],Y){case b.BEGIN_PATH:Z.length=0,K=null,st=!0;break;case b.CLOSE_PATH:st=!1,K&&K.points.length&&K.points.push(K.points[0]);break;case b.FILL_PATH:for(rt=0;rt<Z.length;rt++)w.batchFillPath(Z[rt].points,S,E);break;case b.STROKE_PATH:for(rt=0;rt<Z.length;rt++)w.batchStrokePath(Z[rt].points,M,st,S,E);break;case b.LINE_STYLE:M=A[++W];var dt=tt(A[++W],A[++W]*I);O.TL=dt,O.TR=dt,O.BL=dt,O.BR=dt;break;case b.FILL_STYLE:var Tt=tt(A[++W],A[++W]*I);P.TL=Tt,P.TR=Tt,P.BL=Tt,P.BR=Tt;break;case b.GRADIENT_FILL_STYLE:var Nt=A[++W]*I,Yt=A[++W]*I,$t=A[++W]*I,Zt=A[++W]*I;P.TL=tt(A[++W],Nt),P.TR=tt(A[++W],Yt),P.BL=tt(A[++W],$t),P.BR=tt(A[++W],Zt);break;case b.GRADIENT_LINE_STYLE:M=A[++W];var ee=A[++W]*I;O.TL=tt(A[++W],ee),O.TR=tt(A[++W],ee),O.BL=tt(A[++W],ee),O.BR=tt(A[++W],ee);break;case b.ARC:var le=0,De=A[++W],gi=A[++W],Me=A[++W],Ti=A[++W],xe=A[++W],ni=A[++W],Qe=A[++W];for(xe-=Ti,ni?xe<-z?xe=-z:xe>0&&(xe=xe%z-z):xe>z?xe=z:xe<0&&(xe=z+xe%z),null===K&&(K=new l(De+Math.cos(Ti)*Me,gi+Math.sin(Ti)*Me,M),Z.push(K),le+=.01);le<1+Qe;)G=xe*le+Ti,N=De+Math.cos(G)*Me,L=gi+Math.sin(G)*Me,K.points.push(new u(N,L,M)),le+=.01;G=xe+Ti,N=De+Math.cos(G)*Me,L=gi+Math.sin(G)*Me,K.points.push(new u(N,L,M));break;case b.FILL_RECT:w.batchFillRect(A[++W],A[++W],A[++W],A[++W],S,E);break;case b.FILL_TRIANGLE:w.batchFillTriangle(A[++W],A[++W],A[++W],A[++W],A[++W],A[++W],S,E);break;case b.STROKE_TRIANGLE:w.batchStrokeTriangle(A[++W],A[++W],A[++W],A[++W],A[++W],A[++W],M,S,E);break;case b.LINE_TO:null!==K?K.points.push(new u(A[++W],A[++W],M)):(K=new l(A[++W],A[++W],M),Z.push(K));break;case b.MOVE_TO:K=new l(A[++W],A[++W],M),Z.push(K);break;case b.SAVE:d.push(S.copyToArray());break;case b.RESTORE:S.copyFromArray(d.pop());break;case b.TRANSLATE:De=A[++W],gi=A[++W],S.translate(De,gi);break;case b.SCALE:De=A[++W],gi=A[++W],S.scale(De,gi);break;case b.ROTATE:S.rotate(A[++W])}m.pipelines.postBatch(v)}}},26479:(_,k,a)=>{var b=a(61061),T=a(83419),g=a(51708),h=a(50792),u=a(46710),l=a(95540),d=a(35154),f=a(97022),c=a(41212),m=a(88492),v=a(35072),x=a(68287),y=new T({Extends:h,initialize:function(E,S,A){h.call(this),A?S&&!Array.isArray(S)&&(S=[S]):Array.isArray(S)?c(S[0])&&(A=S,S=null):c(S)&&(A=S,S=null),this.scene=E,this.children=new v,this.isParent=!0,this.type="Group",this.classType=l(A,"classType",x),this.name=l(A,"name",""),this.active=l(A,"active",!0),this.maxSize=l(A,"maxSize",-1),this.defaultKey=l(A,"defaultKey",null),this.defaultFrame=l(A,"defaultFrame",null),this.runChildUpdate=l(A,"runChildUpdate",!1),this.createCallback=l(A,"createCallback",null),this.removeCallback=l(A,"removeCallback",null),this.createMultipleCallback=l(A,"createMultipleCallback",null),this.internalCreateCallback=l(A,"internalCreateCallback",null),this.internalRemoveCallback=l(A,"internalRemoveCallback",null),S&&this.addMultiple(S),A&&this.createMultiple(A),this.on(g.ADDED_TO_SCENE,this.addedToScene,this),this.on(g.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(w,E,S,A,I,M){if(void 0===w&&(w=0),void 0===E&&(E=0),void 0===S&&(S=this.defaultKey),void 0===A&&(A=this.defaultFrame),void 0===I&&(I=!0),void 0===M&&(M=!0),this.isFull())return null;var P=new this.classType(this.scene,w,E,S,A);return P.addToDisplayList(this.scene.sys.displayList),P.addToUpdateList(),P.visible=I,P.setActive(M),this.add(P),P},createMultiple:function(w){if(this.isFull())return[];Array.isArray(w)||(w=[w]);var E=[];if(w[0].key)for(var S=0;S<w.length;S++){var A=this.createFromConfig(w[S]);E=E.concat(A)}return E},createFromConfig:function(w){if(this.isFull())return[];this.classType=l(w,"classType",this.classType);var E=l(w,"key",void 0),S=l(w,"frame",null),A=l(w,"visible",!0),I=l(w,"active",!0),M=[];if(void 0===E)return M;Array.isArray(E)||(E=[E]),Array.isArray(S)||(S=[S]);var P=l(w,"repeat",0),O=l(w,"randomKey",!1),N=l(w,"randomFrame",!1),L=l(w,"yoyo",!1),G=l(w,"quantity",!1),j=l(w,"frameQuantity",1),z=l(w,"max",0),Y=m(E,S,{max:z,qty:G||j,random:O,randomB:N,repeat:P,yoyo:L});w.createCallback&&(this.createCallback=w.createCallback),w.removeCallback&&(this.removeCallback=w.removeCallback),w.internalCreateCallback&&(this.internalCreateCallback=w.internalCreateCallback),w.internalRemoveCallback&&(this.internalRemoveCallback=w.internalRemoveCallback);for(var Z=0;Z<Y.length;Z++){var rt=this.create(0,0,Y[Z].a,Y[Z].b,A,I);if(!rt)break;M.push(rt)}if(f(w,"setXY")){var st=d(w,"setXY.x",0),K=d(w,"setXY.y",0),tt=d(w,"setXY.stepX",0),W=d(w,"setXY.stepY",0);b.SetXY(M,st,K,tt,W)}if(f(w,"setRotation")){var H=d(w,"setRotation.value",0),it=d(w,"setRotation.step",0);b.SetRotation(M,H,it)}if(f(w,"setScale")){var dt=d(w,"setScale.x",1),mt=d(w,"setScale.y",dt),vt=d(w,"setScale.stepX",0),Tt=d(w,"setScale.stepY",0);b.SetScale(M,dt,mt,vt,Tt)}if(f(w,"setOrigin")){var Nt=d(w,"setOrigin.x",.5),Yt=d(w,"setOrigin.y",Nt),$t=d(w,"setOrigin.stepX",0),Zt=d(w,"setOrigin.stepY",0);b.SetOrigin(M,Nt,Yt,$t,Zt)}if(f(w,"setAlpha")){var ee=d(w,"setAlpha.value",1),le=d(w,"setAlpha.step",0);b.SetAlpha(M,ee,le)}if(f(w,"setDepth")){var De=d(w,"setDepth.value",0),gi=d(w,"setDepth.step",0);b.SetDepth(M,De,gi)}if(f(w,"setScrollFactor")){var Me=d(w,"setScrollFactor.x",1),Ti=d(w,"setScrollFactor.y",Me),xe=d(w,"setScrollFactor.stepX",0),ni=d(w,"setScrollFactor.stepY",0);b.SetScrollFactor(M,Me,Ti,xe,ni)}var Qe=l(w,"hitArea",null),zi=l(w,"hitAreaCallback",null);Qe&&b.SetHitArea(M,Qe,zi);var _n=l(w,"gridAlign",!1);return _n&&b.GridAlign(M,_n),this.createMultipleCallback&&this.createMultipleCallback.call(this,M),M},preUpdate:function(w,E){if(this.runChildUpdate&&0!==this.children.size)for(var S=this.children.entries.slice(),A=0;A<S.length;A++){var I=S[A];I.active&&I.update(w,E)}},add:function(w,E){return void 0===E&&(E=!1),this.isFull()||(this.children.set(w),this.internalCreateCallback&&this.internalCreateCallback.call(this,w),this.createCallback&&this.createCallback.call(this,w),E&&(w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList()),w.on(g.DESTROY,this.remove,this)),this},addMultiple:function(w,E){if(void 0===E&&(E=!1),Array.isArray(w))for(var S=0;S<w.length;S++)this.add(w[S],E);return this},remove:function(w,E,S){return void 0===E&&(E=!1),void 0===S&&(S=!1),this.children.contains(w)?(this.children.delete(w),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,w),this.removeCallback&&this.removeCallback.call(this,w),w.off(g.DESTROY,this.remove,this),S?w.destroy():E&&(w.removeFromDisplayList(),w.removeFromUpdateList()),this):this},clear:function(w,E){void 0===w&&(w=!1),void 0===E&&(E=!1);for(var S=this.children,A=0;A<S.size;A++){var I=S.entries[A];I.off(g.DESTROY,this.remove,this),E?I.destroy():w&&(I.removeFromDisplayList(),I.removeFromUpdateList())}return this.children.clear(),this},contains:function(w){return this.children.contains(w)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(w,E,S,A){return u(this.children.entries,w,E,S,A)},getFirst:function(w,E,S,A,I,M,P){return this.getHandler(!0,1,w,E,S,A,I,M,P)},getFirstNth:function(w,E,S,A,I,M,P,O){return this.getHandler(!0,w,E,S,A,I,M,P,O)},getLast:function(w,E,S,A,I,M,P){return this.getHandler(!1,1,w,E,S,A,I,M,P)},getLastNth:function(w,E,S,A,I,M,P,O){return this.getHandler(!1,w,E,S,A,I,M,P,O)},getHandler:function(w,E,S,A,I,M,P,O,N){void 0===S&&(S=!1),void 0===A&&(A=!1);var L,G,j=0,z=this.children.entries;if(w)for(G=0;G<z.length;G++)if((L=z[G]).active===S){if(++j===E)break}else L=null;else for(G=z.length-1;G>=0;G--)if((L=z[G]).active===S){if(++j===E)break}else L=null;return L?("number"==typeof I&&(L.x=I),"number"==typeof M&&(L.y=M),L):A?this.create(I,M,P,O,N):null},get:function(w,E,S,A,I){return this.getFirst(!1,!0,w,E,S,A,I)},getFirstAlive:function(w,E,S,A,I,M){return this.getFirst(!0,w,E,S,A,I,M)},getFirstDead:function(w,E,S,A,I,M){return this.getFirst(!1,w,E,S,A,I,M)},playAnimation:function(w,E){return b.PlayAnimation(this.children.entries,w,E),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(w){void 0===w&&(w=!0);for(var E=0,S=0;S<this.children.size;S++)this.children.entries[S].active===w&&E++;return E},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var w=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-w},setActive:function(w){return this.active=w,this},setName:function(w){return this.name=w,this},propertyValueSet:function(w,E,S,A,I){return b.PropertyValueSet(this.children.entries,w,E,S,A,I),this},propertyValueInc:function(w,E,S,A,I){return b.PropertyValueInc(this.children.entries,w,E,S,A,I),this},setX:function(w,E){return b.SetX(this.children.entries,w,E),this},setY:function(w,E){return b.SetY(this.children.entries,w,E),this},setXY:function(w,E,S,A){return b.SetXY(this.children.entries,w,E,S,A),this},incX:function(w,E){return b.IncX(this.children.entries,w,E),this},incY:function(w,E){return b.IncY(this.children.entries,w,E),this},incXY:function(w,E,S,A){return b.IncXY(this.children.entries,w,E,S,A),this},shiftPosition:function(w,E,S){return b.ShiftPosition(this.children.entries,w,E,S),this},angle:function(w,E){return b.Angle(this.children.entries,w,E),this},rotate:function(w,E){return b.Rotate(this.children.entries,w,E),this},rotateAround:function(w,E){return b.RotateAround(this.children.entries,w,E),this},rotateAroundDistance:function(w,E,S){return b.RotateAroundDistance(this.children.entries,w,E,S),this},setAlpha:function(w,E){return b.SetAlpha(this.children.entries,w,E),this},setTint:function(w,E,S,A){return b.SetTint(this.children.entries,w,E,S,A),this},setOrigin:function(w,E,S,A){return b.SetOrigin(this.children.entries,w,E,S,A),this},scaleX:function(w,E){return b.ScaleX(this.children.entries,w,E),this},scaleY:function(w,E){return b.ScaleY(this.children.entries,w,E),this},scaleXY:function(w,E,S,A){return b.ScaleXY(this.children.entries,w,E,S,A),this},setDepth:function(w,E){return b.SetDepth(this.children.entries,w,E),this},setBlendMode:function(w){return b.SetBlendMode(this.children.entries,w),this},setHitArea:function(w,E){return b.SetHitArea(this.children.entries,w,E),this},shuffle:function(){return b.Shuffle(this.children.entries),this},kill:function(w){this.children.contains(w)&&w.setActive(!1)},killAndHide:function(w){this.children.contains(w)&&(w.setActive(!1),w.setVisible(!1))},setVisible:function(w,E,S){return b.SetVisible(this.children.entries,w,E,S),this},toggleVisible:function(){return b.ToggleVisible(this.children.entries),this},destroy:function(w,E){void 0===w&&(w=!1),void 0===E&&(E=!1),this.scene&&!this.ignoreDestroy&&(this.emit(g.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(E,w),this.scene=void 0,this.children=void 0)}});_.exports=y},94975:(_,k,a)=>{var b=a(44603),T=a(26479);b.register("group",function(g){return new T(this.scene,null,g)})},3385:(_,k,a)=>{var b=a(26479);a(39429).register("group",function(g,h){return this.updateList.add(new b(this.scene,g,h))})},88571:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(95643),h=a(59819),u=new b({Extends:g,Mixins:[T.Alpha,T.BlendMode,T.Depth,T.Flip,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Size,T.TextureCrop,T.Tint,T.Transform,T.Visible,h],initialize:function(d,f,c,m,v){g.call(this,d,"Image"),this._crop=this.resetCropObject(),this.setTexture(m,v),this.setPosition(f,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});_.exports=u},40652:_=>{_.exports=function(a,b,T,g){T.addToRenderList(b),a.batchSprite(b,b.frame,T,g)}},82459:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(88571);T.register("image",function(u,l){void 0===u&&(u={});var d=g(u,"key",null),f=g(u,"frame",null),c=new h(this.scene,0,0,d,f);return void 0!==l&&(u.add=l),b(this.scene,c,u),c})},2117:(_,k,a)=>{var b=a(88571);a(39429).register("image",function(g,h,u,l){return this.displayList.add(new b(this.scene,g,h,u,l))})},59819:(_,k,a)=>{var T,g;a(29747),T=a(99517),g=a(40652),_.exports={renderWebGL:T,renderCanvas:g}},99517:_=>{_.exports=function(a,b,T,g){T.addToRenderList(b),this.pipeline.batchSprite(b,T,g)}},77856:(_,k,a)=>{var b={Events:a(51708),DisplayList:a(8050),GameObjectCreator:a(44603),GameObjectFactory:a(39429),UpdateList:a(45027),Components:a(31401),GetCalcMatrix:a(91296),BuildGameObject:a(25305),BuildGameObjectAnimation:a(13059),GameObject:a(95643),BitmapText:a(22186),Blitter:a(6107),Bob:a(46590),Container:a(31559),DOMElement:a(3069),DynamicBitmapText:a(2638),Extern:a(42421),Graphics:a(43831),Group:a(26479),Image:a(88571),Layer:a(93595),Particles:a(18404),PathFollower:a(1159),RenderTexture:a(591),RetroFont:a(196),Rope:a(77757),Sprite:a(68287),Text:a(50171),GetTextSize:a(14220),MeasureText:a(79557),TextStyle:a(35762),TileSprite:a(20839),Zone:a(41481),Video:a(18471),Shape:a(17803),Arc:a(23629),Curve:a(89),Ellipse:a(19921),Grid:a(30479),IsoBox:a(61475),IsoTriangle:a(16933),Line:a(57847),Polygon:a(24949),Rectangle:a(74561),Star:a(55911),Triangle:a(36931),Factories:{Blitter:a(12709),Container:a(24961),DOMElement:a(2611),DynamicBitmapText:a(72566),Extern:a(56315),Graphics:a(1201),Group:a(3385),Image:a(2117),Layer:a(20005),Particles:a(676),PathFollower:a(90145),RenderTexture:a(60505),Rope:a(96819),Sprite:a(46409),StaticBitmapText:a(34914),Text:a(68005),TileSprite:a(91681),Zone:a(84175),Video:a(89025),Arc:a(42563),Curve:a(40511),Ellipse:a(1543),Grid:a(34137),IsoBox:a(3933),IsoTriangle:a(49803),Line:a(2481),Polygon:a(64827),Rectangle:a(87959),Star:a(93697),Triangle:a(45245)},Creators:{Blitter:a(9403),Container:a(77143),DynamicBitmapText:a(11164),Graphics:a(87079),Group:a(94975),Image:a(82459),Layer:a(25179),Particles:a(92730),RenderTexture:a(34495),Rope:a(26209),Sprite:a(15567),StaticBitmapText:a(57336),Text:a(71259),TileSprite:a(14167),Zone:a(95261),Video:a(11511)}};b.Shader=a(20071),b.Mesh=a(4703),b.NineSlice=a(28103),b.PointLight=a(80321),b.Plane=a(33663),b.Factories.Shader=a(74177),b.Factories.Mesh=a(9225),b.Factories.NineSlice=a(47521),b.Factories.PointLight=a(71255),b.Factories.Plane=a(30985),b.Creators.Shader=a(54935),b.Creators.Mesh=a(20527),b.Creators.NineSlice=a(28279),b.Creators.PointLight=a(39829),b.Creators.Plane=a(56015),b.Light=a(41432),b.LightsManager=a(61356),b.LightsPlugin=a(88992),_.exports=b},93595:(_,k,a)=>{var b=a(10312),T=a(83419),g=a(31401),h=a(53774),u=a(45893),l=a(50792),d=a(51708),f=a(73162),c=a(33963),m=a(44594),v=a(19186),x=new T({Extends:f,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.PostPipeline,g.Visible,l,c],initialize:function(w,E){f.call(this,w),l.call(this),this.scene=w,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=w.sys,this.events=w.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(b.SKIP_CHECK),E&&this.add(E),w.sys.queueDepthSort()},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},setState:function(y){return this.state=y,this},setDataEnabled:function(){return this.data||(this.data=new u(this)),this},setData:function(y,w){return this.data||(this.data=new u(this)),this.data.set(y,w),this},incData:function(y,w){return this.data||(this.data=new u(this)),this.data.inc(y,w),this},toggleData:function(y){return this.data||(this.data=new u(this)),this.data.toggle(y),this},getData:function(y){return this.data||(this.data=new u(this)),this.data.get(y)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return h(this)},willRender:function(y){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&y.id)},getIndexList:function(){for(var y=this,w=this.parentContainer,E=[];w&&(E.unshift(w.getIndex(y)),y=w,w.parentContainer);)w=w.parentContainer;return E.unshift(this.displayList.getIndex(y)),E},addChildCallback:function(y){var w=y.displayList;w&&w!==this&&y.removeFromDisplayList(),y.displayList||(this.queueDepthSort(),y.displayList=this,y.emit(d.ADDED_TO_SCENE,y,this.scene),this.events.emit(m.ADDED_TO_SCENE,y,this.scene))},removeChildCallback:function(y){this.queueDepthSort(),y.displayList=null,y.emit(d.REMOVED_FROM_SCENE,y,this.scene),this.events.emit(m.REMOVED_FROM_SCENE,y,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(v(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(y,w){return y._depth-w._depth},getChildren:function(){return this.list},addToDisplayList:function(y){return void 0===y&&(y=this.scene.sys.displayList),this.displayList&&this.displayList!==y&&this.removeFromDisplayList(),y.exists(this)||(this.displayList=y,y.add(this,!0),y.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),y.events.emit(m.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var y=this.displayList||this.scene.sys.displayList;return y.exists(this)&&(y.remove(this,!0),y.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),y.events.emit(m.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(y){if(this.scene&&!this.ignoreDestroy){this.emit(d.DESTROY,this);for(var w=this.list;w.length;)w[0].destroy(y);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});_.exports=x},2956:_=>{_.exports=function(a,b,T){var g=b.list;if(0!==g.length){b.depthSort();var h=-1!==b.blendMode;h||a.setBlendMode(0);var u=b._alpha;b.mask&&b.mask.preRenderCanvas(a,null,T);for(var l=0;l<g.length;l++){var d=g[l];if(d.willRender(T)){var f=d.alpha;!h&&d.blendMode!==a.currentBlendMode&&a.setBlendMode(d.blendMode),d.setAlpha(f*u),d.renderCanvas(a,d,T),d.setAlpha(f)}}b.mask&&b.mask.postRenderCanvas(a)}}},25179:(_,k,a)=>{var b=a(25305),T=a(93595),g=a(44603),h=a(23568);g.register("layer",function(u,l){void 0===u&&(u={});var d=h(u,"children",null),f=new T(this.scene,d);return void 0!==l&&(u.add=l),b(this.scene,f,u),f})},20005:(_,k,a)=>{var b=a(93595);a(39429).register("layer",function(g){return this.displayList.add(new b(this.scene,g))})},33963:(_,k,a)=>{var T,g;a(29747),T=a(15869),g=a(2956),_.exports={renderWebGL:T,renderCanvas:g}},15869:_=>{_.exports=function(a,b,T){var g=b.list,h=g.length;if(0!==h){b.depthSort(),a.pipelines.preBatch(b);var u=-1!==b.blendMode;u||a.setBlendMode(0);for(var l=b.alpha,d=0;d<h;d++){var f=g[d];if(f.willRender(T)){var c,m,v,x;if(void 0!==f.alphaTopLeft)c=f.alphaTopLeft,m=f.alphaTopRight,v=f.alphaBottomLeft,x=f.alphaBottomRight;else{var y=f.alpha;c=y,m=y,v=y,x=y}!u&&f.blendMode!==a.currentBlendMode&&a.setBlendMode(f.blendMode);var w=f.mask;w&&w.preRenderWebGL(a,f,T);var E=f.type;E!==a.currentType&&(a.newType=!0,a.currentType=E),a.nextTypeMatch=d<h-1&&g[d+1].type===a.currentType,f.setAlpha(c*l,m*l,v*l,x*l),f.renderWebGL(a,f,T),f.setAlpha(c,m,v,x),w&&w.postRenderWebGL(a,T),a.newType=!1}}a.pipelines.postBatch(b)}}},41432:(_,k,a)=>{var b=a(96503),T=a(83419),g=a(31401),h=a(51767),u=a(70554),l=new T({Extends:b,Mixins:[g.Origin,g.ScrollFactor,g.Visible],initialize:function(f,c,m,v,x,y,w){b.call(this,f,c,m),this.color=new h(v,x,y),this.intensity=w,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(m)},displayWidth:{get:function(){return this.diameter},set:function(d){this.diameter=d}},displayHeight:{get:function(){return this.diameter},set:function(d){this.diameter=d}},width:{get:function(){return this.diameter},set:function(d){this.diameter=d}},height:{get:function(){return this.diameter},set:function(d){this.diameter=d}},willRender:function(d){return!(l.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&d.id)},setColor:function(d){var f=u.getFloatsFromUintRGB(d);return this.color.set(f[0],f[1],f[2]),this},setIntensity:function(d){return this.intensity=d,this},setRadius:function(d){return this.radius=d,this}});l.RENDER_MASK=15,_.exports=l},61356:(_,k,a)=>{var b=a(81491),T=a(83419),g=a(20339),h=a(41432),u=a(80321),l=a(51767),d=a(19133),f=a(19186),c=a(70554),m=new T({initialize:function(){this.lights=[],this.ambientColor=new l(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(v,x,y,w,E,S){return this.systems.displayList.add(new u(this.scene,v,x,y,w,E,S))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(v){for(var x=this.lights,y=v.worldView,w=[],E=0;E<x.length;E++){var S=x[E];S.willRender(v)&&b(S,y)&&w.push({light:S,distance:g(S.x,S.y,y.centerX,y.centerY)})}return w.length>this.maxLights&&(f(w,this.sortByDistance),w=w.slice(0,this.maxLights)),this.visibleLights=w.length,w},sortByDistance:function(v,x){return v.distance>=x.distance},setAmbientColor:function(v){var x=c.getFloatsFromUintRGB(v);return this.ambientColor.set(x[0],x[1],x[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(v,x,y,w,E){void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=128),void 0===w&&(w=16777215),void 0===E&&(E=1);var S=c.getFloatsFromUintRGB(w),A=new h(v,x,y,S[0],S[1],S[2],E);return this.lights.push(A),A},removeLight:function(v){var x=this.lights.indexOf(v);return x>=0&&d(this.lights,x),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});_.exports=m},88992:(_,k,a)=>{var b=a(83419),T=a(61356),g=a(37277),h=a(44594),u=new b({Extends:T,initialize:function(d){this.scene=d,this.systems=d.sys,d.sys.settings.isBooted||d.sys.events.once(h.BOOT,this.boot,this),T.call(this)},boot:function(){var l=this.systems.events;l.on(h.SHUTDOWN,this.shutdown,this),l.on(h.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});g.register("LightsPlugin",u,"lights"),_.exports=u},4703:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(39506),h=a(83997),u=a(95643),l=a(34684),d=a(92515),f=a(91296),c=a(37867),m=a(29807),v=a(43396),x=a(19186),y=a(25836),w=a(39318),E=new b({Extends:u,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Size,T.Texture,T.Transform,T.Visible,m],initialize:function(A,I,M,P,O,N,L,G,j,z,Y,Z){void 0===I&&(I=0),void 0===M&&(M=0),void 0===P&&(P="__WHITE"),u.call(this,A,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new y,this.modelScale=new y(1,1,1),this.modelRotation=new y,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new c,this.viewPosition=new y,this.viewMatrix=new c,this.projectionMatrix=new c,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.displayOriginX=0,this.displayOriginY=0;var rt=A.sys.renderer;this.setPosition(I,M),this.setTexture(P,O),this.setSize(rt.width,rt.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(rt.width,rt.height),N&&this.addVertices(N,L,G,j,z,Y,Z)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(S){return this.viewPosition.addScale(y.LEFT,S),this.dirtyCache[10]=1,this},panY:function(S){return this.viewPosition.y+=y.DOWN.y*S,this.dirtyCache[10]=1,this},panZ:function(S){return this.viewPosition.z+=S,this.dirtyCache[10]=1,this},setPerspective:function(S,A,I,M,P){return void 0===I&&(I=45),void 0===M&&(M=.01),void 0===P&&(P=1e3),this.fov=I,this.projectionMatrix.perspective(g(I),S/A,M,P),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(S,A,I,M){return void 0===S&&(S=this.scene.sys.renderer.getAspectRatio()),void 0===A&&(A=1),void 0===I&&(I=-1e3),void 0===M&&(M=1e3),this.fov=0,this.projectionMatrix.ortho(-S,S,-A,A,I,M),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(S){S.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(S,A,I,M,P,O,N,L,G){var z,j=this.scene.sys.cache.obj.get(S);return j&&(z=l(j,this,A,I,M,P,O,N,L,G)),(!z||0===z.verts.length)&&console.warn("Mesh.addVerticesFromObj data empty:",S),this},sortByDepth:function(S,A){return S.depth-A.depth},depthSort:function(){return x(this.faces,this.sortByDepth),this},addVertex:function(S,A,I,M,P,O,N){var L=new w(S,A,I,M,P,O,N);return this.vertices.push(L),L},addFace:function(S,A,I){var M=new h(S,A,I);return this.faces.push(M),this.dirtyCache[9]=-1,M},addVertices:function(S,A,I,M,P,O,N){var L=d(S,A,I,M,P,O,N);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(S){return this.faces[S]},hasFaceAt:function(S,A,I){void 0===I&&(I=this.scene.sys.cameras.main);for(var M=f(this,I).calc,P=this.faces,O=0;O<P.length;O++)if(P[O].contains(S,A,M))return!0;return!1},getFaceAt:function(S,A,I){void 0===I&&(I=this.scene.sys.cameras.main);for(var M=f(this,I).calc,P=this.faces,O=[],N=0;N<P.length;N++){var L=P[N];L.contains(S,A,M)&&O.push(L)}return x(O,this.sortByDepth)},setDebug:function(S,A){return this.debugGraphic=S,this.debugCallback=S||A?A||this.renderDebug:null,this},isDirty:function(){var S=this.modelPosition,A=this.modelRotation,I=this.modelScale,M=this.dirtyCache,P=S.x,O=S.y,N=S.z,L=A.x,G=A.y,j=A.z,z=I.x,Y=I.y,Z=I.z,rt=this.getFaceCount(),st=M[0],K=M[1],tt=M[2],W=M[3],H=M[4],it=M[5],dt=M[6],mt=M[7],vt=M[8],Tt=M[9];return M[0]=P,M[1]=O,M[2]=N,M[3]=L,M[4]=G,M[5]=j,M[6]=z,M[7]=Y,M[8]=Z,M[9]=rt,st!==P||K!==O||tt!==N||W!==L||H!==G||it!==j||dt!==z||mt!==Y||vt!==Z||Tt!==rt},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var S=this.dirtyCache;if(this.ignoreDirtyCache||S[10]||this.isDirty()){var A=this.width,I=this.height,M=this.viewMatrix,P=this.viewPosition;S[10]&&(M.identity(),M.translate(P),M.invert(),S[10]=0);var O=this.transformMatrix;O.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var N=P.z,L=this.faces,G=0;G<L.length;G++)L[G].transformCoordinatesLocal(O,A,I,N);this.depthSort()}},renderDebug:function(S,A){for(var I=S.debugGraphic,M=0;M<A.length;M++){var P=A[M];I.strokeTriangle(P.vertex1.tx,P.vertex1.ty,P.vertex2.tx,P.vertex2.ty,P.vertex3.tx,P.vertex3.ty)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(S){void 0===S&&(S={});var A=function(I,M,P){for(var O=this.faces,N=0;N<O.length;N++)if(O[N].contains(M,P))return!0;return!1}.bind(this);return this.scene.sys.input.enable(this,S,A),this},setTint:function(S){void 0===S&&(S=16777215);for(var A=this.vertices,I=0;I<A.length;I++)A[I].color=S;return this},uvScroll:function(S,A){for(var I=this.faces,M=0;M<I.length;M++)I[M].scrollUV(S,A);return this},uvScale:function(S,A){for(var I=this.faces,M=0;M<I.length;M++)I[M].scaleUV(S,A);return this},tint:{set:function(S){this.setTint(S)}},rotateX:{get:function(){return v(this.modelRotation.x)},set:function(S){this.modelRotation.x=g(S)}},rotateY:{get:function(){return v(this.modelRotation.y)},set:function(S){this.modelRotation.y=g(S)}},rotateZ:{get:function(){return v(this.modelRotation.z)},set:function(S){this.modelRotation.z=g(S)}}});_.exports=E},36488:_=>{_.exports=function(){}},20527:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(35154),u=a(4703);T.register("mesh",function(l,d){void 0===l&&(l={});var f=g(l,"key",null),c=g(l,"frame",null),m=h(l,"vertices",[]),v=h(l,"uvs",[]),x=h(l,"indicies",[]),y=h(l,"containsZ",!1),w=h(l,"normals",[]),E=h(l,"colors",16777215),S=h(l,"alphas",1),A=new u(this.scene,0,0,f,c,m,v,x,y,w,E,S);return void 0!==d&&(l.add=d),b(this.scene,A,l),A})},9225:(_,k,a)=>{var b=a(4703);a(39429).register("mesh",function(g,h,u,l,d,f,c,m,v,x,y){return this.displayList.add(new b(this.scene,g,h,u,l,d,f,c,m,v,x,y))})},29807:(_,k,a)=>{var T,g;a(29747),T=a(48833),g=a(36488),_.exports={renderWebGL:T,renderCanvas:g}},48833:(_,k,a)=>{var b=a(91296);_.exports=function(g,h,u,l){var d=h.faces,f=d.length;if(0!==f){u.addToRenderList(h);var c=g.pipelines.set(h.pipeline,h),m=b(h,u,l).calc;g.pipelines.preBatch(h);for(var v=c.setGameObject(h),x=c.vertexViewF32,y=c.vertexViewU32,w=c.vertexCount*c.currentShader.vertexComponentCount-1,E=h.tintFill,S=[],A=h.debugCallback,I=m.a,M=m.b,P=m.c,O=m.d,N=m.e,L=m.f,G=h.viewPosition.z,j=h.hideCCW,z=u.roundPixels,Y=u.alpha*h.alpha,Z=0,rt=0;rt<f;rt++){var st=d[rt];st.isInView(u,j,G,Y,I,M,P,O,N,L,z)&&(c.shouldFlush(3)&&(c.flush(),v=c.setGameObject(h),w=c.vertexCount*c.currentShader.vertexComponentCount-1),w=st.load(x,y,w,v,E),Z++,c.vertexCount+=3,c.currentBatch.count=c.vertexCount-c.currentBatch.start,A&&S.push(st))}h.totalFrame+=Z,A&&A.call(h,h,S),g.pipelines.postBatch(h)}}},28103:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(95643),h=a(78023),u=a(39318),l=new b({Extends:g,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Texture,T.Transform,T.Visible,h],initialize:function(f,c,m,v,x,y,w,E,S,A,I){g.call(this,f,"NineSlice"),this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.tint=16777215,this.tintFill=!1;var M=f.textures.getFrame(v,x);this.is3Slice=!A&&!I,M&&M.scale9&&(this.is3Slice=M.is3Slice);for(var P=this.is3Slice?18:54,O=0;O<P;O++)this.vertices.push(new u);this.setPosition(c,m),this.setTexture(v,x),this.setSlices(y,w,E,S,A,I,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(d,f,c,m,v,x,y){void 0===c&&(c=10),void 0===m&&(m=10),void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=!1);var w=this.frame,E=!1;if(this.is3Slice&&y&&0!==v&&0!==x&&(E=!0),E)console.warn("Cannot change 9 slice to 3 slice");else{if(w&&w.scale9&&!y){var S=w.data.scale9Borders,A=S.x,I=S.y;c=A,m=w.width-S.w-A,v=I,x=w.height-S.h-I,void 0===d&&(d=w.width),void 0===f&&(f=w.height)}else void 0===d&&(d=256),void 0===f&&(f=256);this._width=d,this._height=f,this.leftWidth=c,this.rightWidth=m,this.topHeight=v,this.bottomHeight=x,this.is3Slice&&(this._height=f=w.height,this.topHeight=f,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var d=this.leftWidth,f=this.rightWidth,c=this.topHeight,m=this.bottomHeight,v=this.frame.width,x=this.frame.height;this.updateQuadUVs(0,0,0,d/v,c/x),this.updateQuadUVs(6,d/v,0,1-f/v,c/x),this.updateQuadUVs(12,1-f/v,0,1,c/x),this.is3Slice||(this.updateQuadUVs(18,0,c/x,d/v,1-m/x),this.updateQuadUVs(24,d/v,c/x,1-f/v,1-m/x),this.updateQuadUVs(30,1-f/v,c/x,1,1-m/x),this.updateQuadUVs(36,0,1-m/x,d/v,1),this.updateQuadUVs(42,d/v,1-m/x,1-f/v,1),this.updateQuadUVs(48,1-f/v,1-m/x,1,1))},updateVertices:function(){var d=this.leftWidth,f=this.rightWidth,c=this.topHeight,m=this.bottomHeight,v=this.width,x=this.height;this.updateQuad(0,-.5,.5,d/v-.5,.5-c/x),this.updateQuad(6,d/v-.5,.5,.5-f/v,.5-c/x),this.updateQuad(12,.5-f/v,.5,.5,.5-c/x),this.is3Slice||(this.updateQuad(18,-.5,.5-c/x,d/v-.5,m/x-.5),this.updateQuad(24,d/v-.5,.5-c/x,.5-f/v,m/x-.5),this.updateQuad(30,.5-f/v,.5-c/x,.5,m/x-.5),this.updateQuad(36,-.5,m/x-.5,d/v-.5,-.5),this.updateQuad(42,d/v-.5,m/x-.5,.5-f/v,-.5),this.updateQuad(48,.5-f/v,m/x-.5,.5,-.5))},updateQuad:function(d,f,c,m,v){var x=this.width,y=this.height,w=this.originX,E=this.originY,S=this.vertices;S[d+0].resize(f,c,x,y,w,E),S[d+1].resize(f,v,x,y,w,E),S[d+2].resize(m,c,x,y,w,E),S[d+3].resize(f,v,x,y,w,E),S[d+4].resize(m,v,x,y,w,E),S[d+5].resize(m,c,x,y,w,E)},updateQuadUVs:function(d,f,c,m,v){var x=this.vertices,y=this.frame,w=y.u0,E=y.v0,S=y.u1,A=y.v1;if(0!==w||1!==S){var I=S-w;f=w+f*I,m=w+m*I}if(0!==E||1!==A){var M=A-E;c=E+c*M,v=E+v*M}x[d+0].setUVs(f,c),x[d+1].setUVs(f,v),x[d+2].setUVs(m,c),x[d+3].setUVs(f,v),x[d+4].setUVs(m,v),x[d+5].setUVs(m,c)},clearTint:function(){return this.setTint(16777215),this},setTint:function(d){return void 0===d&&(d=16777215),this.tint=d,this.tintFill=!1,this},setTintFill:function(d){return this.setTint(d),this.tintFill=!0,this},isTinted:{get:function(){return 16777215!==this.tint}},width:{get:function(){return this._width},set:function(d){this._width=Math.max(d,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(d){this.is3Slice||(this._height=Math.max(d,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,f){this.width=d,this.height=f,this.updateDisplayOrigin();var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=this.width,c.hitArea.height=this.height),this},setDisplaySize:function(d,f){return this.displayWidth=d,this.displayHeight=f,this},originX:{get:function(){return this._originX},set:function(d){this._originX=d,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(d){this._originY=d,this.updateVertices()}},setOrigin:function(d,f){return void 0===d&&(d=.5),void 0===f&&(f=d),this._originX=d,this._originY=f,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var d=this.frame.height;this._height=d,this.topHeight=d,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});_.exports=l},28279:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(35154),u=a(28103);T.register("nineslice",function(l,d){void 0===l&&(l={});var f=g(l,"key",null),c=g(l,"frame",null),m=h(l,"width",256),v=h(l,"height",256),x=h(l,"leftWidth",10),y=h(l,"rightWidth",10),w=h(l,"topHeight",0),E=h(l,"bottomHeight",0),S=new u(this.scene,0,0,f,c,m,v,x,y,w,E);return void 0!==d&&(l.add=d),b(this.scene,S,l),S})},47521:(_,k,a)=>{var b=a(28103);a(39429).register("nineslice",function(g,h,u,l,d,f,c,m,v,x){return this.displayList.add(new b(this.scene,g,h,u,l,d,f,c,m,v,x))})},78023:(_,k,a)=>{var T,g=a(29747);T=a(52230),_.exports={renderWebGL:T,renderCanvas:g}},52230:(_,k,a)=>{var b=a(91296),T=a(70554);_.exports=function(h,u,l,d){var f=u.vertices,c=f.length;if(0!==c){l.addToRenderList(u);var m=h.pipelines.set(u.pipeline,u),v=b(u,l,d,!1).calc;h.pipelines.preBatch(u);var x=m.setGameObject(u),y=m.vertexViewF32,w=m.vertexViewU32,E=m.vertexCount*m.currentShader.vertexComponentCount-1,S=l.roundPixels,A=u.tintFill,M=T.getTintAppendFloatAlpha(u.tint,l.alpha*u.alpha),P=m.vertexAvailable(),O=-1;P<c&&(O=P);for(var N=0;N<c;N++){var L=f[N];N===O&&(m.flush(),x=m.setGameObject(u),E=0),y[++E]=v.getXRound(L.vx,L.vy,S),y[++E]=v.getYRound(L.vx,L.vy,S),y[++E]=L.u,y[++E]=L.v,y[++E]=x,y[++E]=A,w[++E]=M,m.vertexCount++,m.currentBatch.count=m.vertexCount-m.currentBatch.start}h.pipelines.postBatch(u)}}},76472:(_,k,a)=>{var b=a(83419),T=a(44777),g=a(37589),h=a(6113),u=a(91389),l=a(90664),d=new b({Extends:T,initialize:function(c){T.call(this,c,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return null===this.propertyValue?0:9},setMethods:function(){var f=this.propertyValue,c=f,m=this.defaultEmit,v=this.defaultUpdate;if(9===this.method){this.start=f[0],this.ease=h("Linear"),this.interpolation=u("linear"),m=this.easedValueEmit,v=this.easeValueUpdate,c=f[0],this.active=!0;for(var x=0;x<f.length;x++){var y=l(f[x]);this.r.push(y.r),this.g.push(y.g),this.b.push(y.b)}}return this.onEmit=m,this.onUpdate=v,this.current=c,this},setEase:function(f){this.easeName=f,this.ease=h(f)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(f,c,m){var v=this.ease(m),x=this.interpolation(this.r,v),y=this.interpolation(this.g,v),w=this.interpolation(this.b,v),E=g(x,y,w);return this.current=E,E}});_.exports=d},44777:(_,k,a)=>{var b=a(30976),T=a(45319),g=a(83419),h=a(99472),u=a(6113),l=a(95540),d=a(91389),f=a(77720),c=a(15994),m=new g({initialize:function(x,y,w){void 0===w&&(w=!1),this.propertyKey=x,this.propertyValue=y,this.defaultValue=y,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=w,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0},loadConfig:function(v,x){void 0===v&&(v={}),x&&(this.propertyKey=x),this.propertyValue=l(v,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(v){var x;switch(this.method){case 1:case 3:case 8:x=v;break;case 2:this.propertyValue.indexOf(v)>=0&&(x=v);break;case 4:x=f(v,(this.end-this.start)/this.steps),this.counter=x;break;case 5:case 6:case 7:x=T(v,this.start,this.end);break;case 9:x=this.start[0]}return this.current=x,this},getMethod:function(){var v=this.propertyValue;if(null===v)return 0;var x=typeof v;if("number"===x)return 1;if(Array.isArray(v))return 2;if("function"===x)return 3;if("object"===x){if(this.hasBoth(v,"start","end"))return this.has(v,"steps")?4:5;if(this.hasBoth(v,"min","max"))return 6;if(this.has(v,"random"))return 7;if(this.hasEither(v,"onEmit","onUpdate"))return 8;if(this.hasEither(v,"values","interpolation"))return 9}return 0},setMethods:function(){var v=this.propertyValue,x=v,y=this.defaultEmit,w=this.defaultUpdate;switch(this.method){case 1:y=this.staticValueEmit;break;case 2:y=this.randomStaticValueEmit,x=v[0];break;case 3:this._onEmit=v,y=this.proxyEmit;break;case 4:this.start=v.start,this.end=v.end,this.steps=v.steps,this.counter=this.start,this.yoyo=!!this.has(v,"yoyo")&&v.yoyo,this.direction=0,y=this.steppedEmit,x=this.start;break;case 5:this.start=v.start,this.end=v.end;var E=this.has(v,"ease")?v.ease:"Linear";this.ease=u(E,v.easeParams),y=this.has(v,"random")&&v.random?this.randomRangedValueEmit:this.easedValueEmit,w=this.easeValueUpdate,x=this.start;break;case 6:this.start=v.min,this.end=v.max,y=this.has(v,"int")&&v.int?this.randomRangedIntEmit:this.randomRangedValueEmit,x=this.start;break;case 7:var S=v.random;Array.isArray(S)&&(this.start=S[0],this.end=S[1]),y=this.randomRangedIntEmit,x=this.start;break;case 8:this._onEmit=this.has(v,"onEmit")?v.onEmit:this.defaultEmit,this._onUpdate=this.has(v,"onUpdate")?v.onUpdate:this.defaultUpdate,y=this.proxyEmit,w=this.proxyUpdate;break;case 9:this.start=v.values;var A=this.has(v,"ease")?v.ease:"Linear";this.ease=u(A,v.easeParams),this.interpolation=d(v.interpolation),y=this.easedValueEmit,w=this.easeValueUpdate,x=this.start[0]}return this.onEmit=y,this.onUpdate=w,this.current=x,this},has:function(v,x){return v.hasOwnProperty(x)},hasBoth:function(v,x,y){return v.hasOwnProperty(x)&&v.hasOwnProperty(y)},hasEither:function(v,x,y){return v.hasOwnProperty(x)||v.hasOwnProperty(y)},defaultEmit:function(v,x,y){return y},defaultUpdate:function(v,x,y,w){return w},proxyEmit:function(v,x,y){var w=this._onEmit(v,x,y);return this.current=w,w},proxyUpdate:function(v,x,y,w){var E=this._onUpdate(v,x,y,w);return this.current=E,E},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var v=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[v],this.current},randomRangedValueEmit:function(v,x){var y=h(this.start,this.end);return v&&v.data[x]&&(v.data[x].min=y,v.data[x].max=this.end),this.current=y,y},randomRangedIntEmit:function(v,x){var y=b(this.start,this.end);return v&&v.data[x]&&(v.data[x].min=y,v.data[x].max=this.end),this.current=y,y},steppedEmit:function(){var v=this.counter,x=v,y=(this.end-this.start)/this.steps;return this.yoyo?(0===this.direction?(x+=y)>=this.end&&(x=this.end-(x-this.end),this.direction=1):(x-=y)<=this.start&&(x=this.start+(this.start-x),this.direction=0),this.counter=x):this.counter=c(x+y,this.start,this.end),this.current=v,v},easedValueEmit:function(v,x){if(v&&v.data[x]){var y=v.data[x];y.min=this.start,y.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(v,x,y){var E,w=v.data[x],S=this.ease(y);return E=this.interpolation?this.interpolation(this.start,S):(w.max-w.min)*S+w.min,this.current=E,E},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});_.exports=m},24502:(_,k,a)=>{var b=a(83419),T=a(95540),g=a(20286),h=new b({Extends:g,initialize:function(l,d,f,c,m){if("object"==typeof l){var v=l;l=T(v,"x",0),d=T(v,"y",0),f=T(v,"power",0),c=T(v,"epsilon",100),m=T(v,"gravity",50)}else void 0===l&&(l=0),void 0===d&&(d=0),void 0===f&&(f=0),void 0===c&&(c=100),void 0===m&&(m=50);g.call(this,l,d,!0),this._gravity=m,this._power=f*m,this._epsilon=c*c},update:function(u,l){var d=this.x-u.x,f=this.y-u.y,c=d*d+f*f;if(0!==c){var m=Math.sqrt(c);c<this._epsilon&&(c=this._epsilon);var v=this._power*l/(c*m)*100;u.velocityX+=d*v,u.velocityY+=f*v}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(u){this._epsilon=u*u}},power:{get:function(){return this._power/this._gravity},set:function(u){this._power=u*this._gravity}},gravity:{get:function(){return this._gravity},set:function(u){var l=this.power;this._gravity=u,this.power=l}}});_.exports=h},56480:(_,k,a)=>{var b=a(9674),T=a(45319),g=a(83419),h=a(39506),u=a(87841),l=a(11520),d=a(26099),f=new g({initialize:function(m){this.emitter=m,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new d,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=m.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new b(this)),this.bounds=new u},emit:function(c,m,v,x,y,w){return this.emitter.emit(c,m,v,x,y,w)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(c,m){void 0===c&&(c=0),void 0===m&&(m=0),this.x=c,this.y=m},fire:function(c,m){var v=this.emitter,x=v.ops,y=v.getAnim();if(y?this.anims.play(y):(this.frame=v.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(v.getEmitZone(this),this.x+=void 0===c?x.x.onEmit(this,"x"):x.x.steps>0?c+x.x.onEmit(this,"x"):c,this.y+=void 0===m?x.y.onEmit(this,"y"):x.y.steps>0?m+x.y.onEmit(this,"y"):m,this.life=x.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=x.delay.onEmit(this,"delay"),this.holdCurrent=x.hold.onEmit(this,"hold"),this.scaleX=x.scaleX.onEmit(this,"scaleX"),this.scaleY=x.scaleY.active?x.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=x.rotate.onEmit(this,"rotate"),this.rotation=h(this.angle),v.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),0===this.delayCurrent&&v.getDeathZone(this))return this.lifeCurrent=0,!1;var w=x.speedX.onEmit(this,"speedX"),E=x.speedY.active?x.speedY.onEmit(this,"speedY"):w;if(v.radial){var S=h(x.angle.onEmit(this,"angle"));this.velocityX=Math.cos(S)*Math.abs(w),this.velocityY=Math.sin(S)*Math.abs(E)}else if(v.moveTo){var A=x.moveToX.onEmit(this,"moveToX"),I=x.moveToY.onEmit(this,"moveToY"),M=this.life/1e3;this.velocityX=(A-this.x)/M,this.velocityY=(I-this.y)/M}else this.velocityX=w,this.velocityY=E;return v.acceleration&&(this.accelerationX=x.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=x.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=x.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=x.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=x.bounce.onEmit(this,"bounce"),this.alpha=x.alpha.onEmit(this,"alpha"),this.tint=x.color.active?x.color.onEmit(this,"tint"):x.tint.onEmit(this,"tint"),!0},update:function(c,m,v){if(this.lifeCurrent<=0)return!(this.holdCurrent>0)||(this.holdCurrent-=c,this.holdCurrent<=0);if(this.delayCurrent>0)return this.delayCurrent-=c,!1;this.anims&&this.anims.update(0,c);var x=this.emitter,y=x.ops,w=1-this.lifeCurrent/this.life;if(this.lifeT=w,this.x=y.x.onUpdate(this,"x",w,this.x),this.y=y.y.onUpdate(this,"y",w,this.y),x.moveTo){var E=y.moveToX.onUpdate(this,"moveToX",w,x.moveToX),S=y.moveToY.onUpdate(this,"moveToY",w,x.moveToY),A=this.lifeCurrent/1e3;this.velocityX=(E-this.x)/A,this.velocityY=(S-this.y)/A}return this.computeVelocity(x,c,m,v,w),this.scaleX=y.scaleX.onUpdate(this,"scaleX",w,this.scaleX),this.scaleY=y.scaleY.active?y.scaleY.onUpdate(this,"scaleY",w,this.scaleY):this.scaleX,this.angle=y.rotate.onUpdate(this,"rotate",w,this.angle),this.rotation=h(this.angle),x.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=T(y.alpha.onUpdate(this,"alpha",w,this.alpha),0,1),this.tint=y.color.active?y.color.onUpdate(this,"color",w,this.tint):y.tint.onUpdate(this,"tint",w,this.tint),this.lifeCurrent-=c,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(c,m,v,x,y){var w=c.ops,E=this.velocityX,S=this.velocityY,A=w.accelerationX.onUpdate(this,"accelerationX",y,this.accelerationX),I=w.accelerationY.onUpdate(this,"accelerationY",y,this.accelerationY),M=w.maxVelocityX.onUpdate(this,"maxVelocityX",y,this.maxVelocityX),P=w.maxVelocityY.onUpdate(this,"maxVelocityY",y,this.maxVelocityY);this.bounce=w.bounce.onUpdate(this,"bounce",y,this.bounce),S+=c.gravityY*v+I*v,E=T(E+=c.gravityX*v+A*v,-M,M),S=T(S,-P,P),this.velocityX=E,this.velocityY=S,this.x+=E*v,this.y+=S*v,c.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var O=0;O<x.length;O++){var N=x[O];N.active&&N.update(this,m,v,y)}},setSizeToFrame:function(){},getBounds:function(c){void 0===c&&(c=this.emitter.getWorldTransformMatrix());var m=Math.abs(c.scaleX)*this.scaleX,v=Math.abs(c.scaleY)*this.scaleY,x=this.x,y=this.y,w=this.rotation,E=this.frame.width*m/2,S=this.frame.height*v/2,A=this.bounds,I=new d(x-E,y-S),M=new d(x+E,y-S),P=new d(x-E,y+S),O=new d(x+E,y+S);return 0!==w&&(l(I,x,y,w),l(M,x,y,w),l(P,x,y,w),l(O,x,y,w)),c.transformPoint(I.x,I.y,I),c.transformPoint(M.x,M.y,M),c.transformPoint(P.x,P.y,P),c.transformPoint(O.x,O.y,O),A.x=Math.min(I.x,M.x,P.x,O.x),A.y=Math.min(I.y,M.y,P.y,O.y),A.width=Math.max(I.x,M.x,P.x,O.x)-A.x,A.height=Math.max(I.y,M.y,P.y,O.y)-A.y,A},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});_.exports=f},69601:(_,k,a)=>{var b=a(83419),T=a(20286),g=a(87841),h=new b({Extends:T,initialize:function(l,d,f,c,m,v,x,y){void 0===m&&(m=!0),void 0===v&&(v=!0),void 0===x&&(x=!0),void 0===y&&(y=!0),T.call(this,l,d,!0),this.bounds=new g(l,d,f,c),this.collideLeft=m,this.collideRight=v,this.collideTop=x,this.collideBottom=y},update:function(u){var l=this.bounds,d=-u.bounce,f=u.worldPosition;f.x<l.x&&this.collideLeft?(u.x+=l.x-f.x,u.velocityX*=d):f.x>l.right&&this.collideRight&&(u.x-=f.x-l.right,u.velocityX*=d),f.y<l.y&&this.collideTop?(u.y+=l.y-f.y,u.velocityY*=d):f.y>l.bottom&&this.collideBottom&&(u.y-=f.y-l.bottom,u.velocityY*=d)}});_.exports=h},31600:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(53774),h=a(43459),u=a(26388),l=a(19909),d=a(76472),f=a(44777),c=a(20696),m=a(95643),v=a(95540),x=a(26546),y=a(24502),w=a(1985),E=a(97022),S=a(86091),A=a(73162),I=a(20074),M=a(269),P=a(56480),O=a(69601),N=a(68875),L=a(87841),G=a(59996),j=a(72905),z=a(90668),Y=a(19186),Z=a(61340),rt=a(26099),st=a(15994),K=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],tt=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],W=new b({Extends:m,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Texture,T.Transform,T.Visible,z],initialize:function(it,dt,mt,vt,Tt){m.call(this,it,"ParticleEmitter"),this.particleClass=P,this.config=null,this.ops={accelerationX:new f("accelerationX",0),accelerationY:new f("accelerationY",0),alpha:new f("alpha",1),angle:new f("angle",{min:0,max:360},!0),bounce:new f("bounce",0),color:new d("color"),delay:new f("delay",0,!0),hold:new f("hold",0,!0),lifespan:new f("lifespan",1e3,!0),maxVelocityX:new f("maxVelocityX",1e4),maxVelocityY:new f("maxVelocityY",1e4),moveToX:new f("moveToX",0),moveToY:new f("moveToY",0),quantity:new f("quantity",1,!0),rotate:new f("rotate",0),scaleX:new f("scaleX",1),scaleY:new f("scaleY",1),speedX:new f("speedX",0,!0),speedY:new f("speedY",0,!0),tint:new f("tint",16777215),x:new f("x",0),y:new f("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new rt,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new Z,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new A(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(dt,mt),this.setTexture(vt),Tt&&this.setConfig(Tt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(H){if(!H)return this;this.config=H;var it=0,dt="",mt=this.ops;for(it=0;it<tt.length;it++)mt[dt=tt[it]].loadConfig(H);for(it=0;it<K.length;it++)E(H,dt=K[it])&&(this[dt]=v(H,dt));if(this.acceleration=0!==this.accelerationX||0!==this.accelerationY,this.moveTo=0!==this.moveToX&&0!==this.moveToY,E(H,"speed")&&(mt.speedX.loadConfig(H,"speed"),mt.speedY.active=!1),(w(H,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),E(H,"scale")&&(mt.scaleX.loadConfig(H,"scale"),mt.scaleY.active=!1),E(H,"callbackScope")){var vt=v(H,"callbackScope",null);this.emitCallbackScope=vt,this.deathCallbackScope=vt}if(E(H,"emitZone")&&this.addEmitZone(H.emitZone),E(H,"deathZone")&&this.addDeathZone(H.deathZone),E(H,"bounds")){var Tt=this.addParticleBounds(H.bounds);Tt.collideLeft=v(H,"collideLeft",!0),Tt.collideRight=v(H,"collideRight",!0),Tt.collideTop=v(H,"collideTop",!0),Tt.collideBottom=v(H,"collideBottom",!0)}return E(H,"followOffset")&&this.followOffset.setFromObject(v(H,"followOffset",0)),E(H,"texture")&&this.setTexture(H.texture),E(H,"frame")?this.setEmitterFrame(H.frame):E(H,"anim")&&this.setAnim(H.anim),E(H,"reserve")&&this.reserve(H.reserve),E(H,"advance")&&this.fastForward(H.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(c.START,this),this},updateConfig:function(H){return H&&this.setConfig(this.config?M(this.config,H):H),this},toJSON:function(){var H=g(this),it=0,dt="";for(it=0;it<K.length;it++)H[dt=K[it]]=this[dt];var mt=this.ops;for(it=0;it<tt.length;it++)mt[dt=tt[it]]&&(H[dt]=mt[dt].toJSON());return mt.speedY.active||(delete H.speedX,H.speed=mt.speedX.toJSON()),this.scaleX===this.scaleY&&(delete H.scaleX,delete H.scaleY,H.scale=mt.scaleX.toJSON()),H},resetCounters:function(H,it){var dt=this.counters;dt.fill(0),dt[0]=H,it&&(dt[5]=1)},startFollow:function(H,it,dt,mt){return void 0===it&&(it=0),void 0===dt&&(dt=0),void 0===mt&&(mt=!1),this.follow=H,this.followOffset.set(it,dt),this.trackVisible=mt,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var dt,H=this.frames,it=H.length;return 1===it?dt=H[0]:this.randomFrame?dt=x(H):(dt=H[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===it&&(this.currentFrame=0))),this.texture.get(dt)},setEmitterFrame:function(H,it,dt){void 0===it&&(it=!0),void 0===dt&&(dt=1),this.randomFrame=it,this.frameQuantity=dt,this.currentFrame=0;var mt=typeof H;if(this.frames.length=0,Array.isArray(H))this.frames=this.frames.concat(H);else if("string"===mt||"number"===mt)this.frames.push(H);else if("object"===mt){var vt=H;(H=v(vt,"frames",null))&&(this.frames=this.frames.concat(H));var Tt=v(vt,"cycle",!1);this.randomFrame=!Tt,this.frameQuantity=v(vt,"quantity",dt)}return 1===this.frames.length&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var H=this.anims,it=H.length;if(0===it)return null;if(1===it)return H[0];if(this.randomAnim)return x(H);var dt=H[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=st(this.currentAnim+1,0,it)),dt},setAnim:function(H,it,dt){void 0===it&&(it=!0),void 0===dt&&(dt=1),this.randomAnim=it,this.animQuantity=dt,this.currentAnim=0;var mt=typeof H;if(this.anims.length=0,Array.isArray(H))this.anims=this.anims.concat(H);else if("string"===mt)this.anims.push(H);else if("object"===mt){var vt=H;(H=v(vt,"anims",null))&&(this.anims=this.anims.concat(H));var Tt=v(vt,"cycle",!1);this.randomAnim=!Tt,this.animQuantity=v(vt,"quantity",dt)}return 1===this.anims.length&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(H){return void 0===H&&(H=!0),this.radial=H,this},addParticleBounds:function(H,it,dt,mt,vt,Tt,Nt,Yt){if("object"==typeof H){var $t=H;H=$t.x,it=$t.y,dt=E($t,"w")?$t.w:$t.width,mt=E($t,"h")?$t.h:$t.height}return this.addParticleProcessor(new O(H,it,dt,mt,vt,Tt,Nt,Yt))},setParticleSpeed:function(H,it){return void 0===it&&(it=H),this.ops.speedX.onChange(H),H===it?this.ops.speedY.active=!1:this.ops.speedY.onChange(it),this.radial=!0,this},setParticleScale:function(H,it){return void 0===H&&(H=1),void 0===it&&(it=H),this.ops.scaleX.onChange(H),this.ops.scaleY.onChange(it),this},setParticleGravity:function(H,it){return this.gravityX=H,this.gravityY=it,this},setParticleAlpha:function(H){return this.ops.alpha.onChange(H),this},setParticleTint:function(H){return this.ops.tint.onChange(H),this},setEmitterAngle:function(H){return this.ops.angle.onChange(H),this},setParticleLifespan:function(H){return this.ops.lifespan.onChange(H),this},setQuantity:function(H){return this.quantity=H,this},setFrequency:function(H,it){return this.frequency=H,this.flowCounter=H>0?H:0,it&&(this.quantity=it),this},addDeathZone:function(H){Array.isArray(H)||(H=[H]);for(var it,dt=[],mt=0;mt<H.length;mt++)if((it=H[mt])instanceof u)dt.push(it);else if("function"==typeof it.contains)it=new u(it,!0),dt.push(it);else{var vt=v(it,"type","onEnter"),Tt=v(it,"source",null);Tt&&"function"==typeof Tt.contains&&(it=new u(Tt,"onEnter"===vt),dt.push(it))}return this.deathZones=this.deathZones.concat(dt),dt},removeDeathZone:function(H){return j(this.deathZones,H),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(H){Array.isArray(H)||(H=[H]);for(var it,dt=[],mt=0;mt<H.length;mt++)if((it=H[mt])instanceof N||it instanceof l)dt.push(it);else{var vt=v(it,"source",null);if(vt){var Tt=v(it,"type","random");if("random"===Tt&&"function"==typeof vt.getRandomPoint)it=new N(vt),dt.push(it);else if("edge"===Tt&&"function"==typeof vt.getPoints){var Nt=v(it,"quantity",1),Yt=v(it,"stepRate",0),$t=v(it,"yoyo",!1),Zt=v(it,"seamless",!0),ee=v(it,"total",-1);it=new l(vt,Nt,Yt,$t,Zt,ee),dt.push(it)}}}return this.emitZones=this.emitZones.concat(dt),dt},removeEmitZone:function(H){return j(this.emitZones,H),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(H){var it=this.emitZones,dt=it.length;if(0!==dt){var mt=it[this.zoneIndex];mt.getPoint(H),mt.total>-1&&(this.zoneTotal++,this.zoneTotal===mt.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===dt&&(this.zoneIndex=0)))}},getDeathZone:function(H){for(var it=this.deathZones,dt=0;dt<it.length;dt++){var mt=it[dt];if(mt.willKill(H))return this.emit(c.DEATH_ZONE,this,H,mt),!0}return!1},setEmitZone:function(H){var it;return(it=isFinite(H)?H:this.emitZones.indexOf(H))>=0&&(this.zoneIndex=it),this},addParticleProcessor:function(H){return this.processors.exists(H)||(H.emitter&&H.emitter.removeParticleProcessor(H),this.processors.add(H),H.emitter=this),H},removeParticleProcessor:function(H){return this.processors.exists(H)&&(this.processors.remove(H,!0),H.emitter=null),H},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(H){return this.addParticleProcessor(new y(H))},reserve:function(H){var it=this.dead;if(this.maxParticles>0){var dt=this.getParticleCount();dt+H>this.maxParticles&&(H=this.maxParticles-(dt+H))}for(var mt=0;mt<H;mt++)it.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles||this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(H,it){return void 0===H?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof H&&(this.emitCallback=H,it&&(this.emitCallbackScope=it)),this},onParticleDeath:function(H,it){return void 0===H?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof H&&(this.deathCallback=H,it&&(this.deathCallbackScope=it)),this},killAll:function(){for(var H=this.dead,it=this.alive;it.length>0;)H.push(it.pop());return this},forEachAlive:function(H,it){for(var dt=this.alive,mt=dt.length,vt=0;vt<mt;vt++)H.call(it,dt[vt],this);return this},forEachDead:function(H,it){for(var dt=this.dead,mt=dt.length,vt=0;vt<mt;vt++)H.call(it,dt[vt],this);return this},start:function(H,it){return void 0===H&&(H=0),this.emitting||(H>0&&this.fastForward(H),this.emitting=!0,this.resetCounters(this.frequency,!0),void 0!==it&&(this.duration=Math.abs(it)),this.emit(c.START,this)),this},stop:function(H){return void 0===H&&(H=!1),this.emitting&&(this.emitting=!1,H&&this.killAll(),this.emit(c.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(H,it){return void 0===H&&(H=""),void 0===it&&(it=this.true),this.sortProperty=H,this.sortOrderAsc=it,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(H){return this.sortCallback=""!==this.sortProperty?this.depthSortCallback:null,this},depthSort:function(){return Y(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(H,it){var dt=this.sortProperty;return this.sortOrderAsc?H[dt]-it[dt]:it[dt]-H[dt]},flow:function(H,it,dt){return void 0===it&&(it=1),this.emitting=!1,this.frequency=H,this.quantity=it,void 0!==dt&&(this.stopAfter=dt),this.start()},explode:function(H,it,dt){this.frequency=-1,this.resetCounters(-1,!0);var mt=this.emitParticle(H,it,dt);return this.emit(c.EXPLODE,this,mt),mt},emitParticleAt:function(H,it,dt){return this.emitParticle(dt,H,it)},emitParticle:function(H,it,dt){if(!this.atLimit()){void 0===H&&(H=this.ops.quantity.onEmit());for(var mt=this.dead,vt=this.stopAfter,Tt=this.follow?this.follow.x+this.followOffset.x:it,Nt=this.follow?this.follow.y+this.followOffset.y:dt,Yt=0;Yt<H;Yt++){var $t=mt.pop();if($t||($t=new this.particleClass(this)),$t.fire(Tt,Nt)?(this.particleBringToTop?this.alive.push($t):this.alive.unshift($t),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,$t,this)):this.dead.push($t),vt>0&&(this.stopCounter++,this.stopCounter>=vt)||this.atLimit())break}return $t}},fastForward:function(H,it){void 0===it&&(it=1e3/60);var dt=0;for(this.skipping=!0;dt<Math.abs(H);)this.preUpdate(0,it),dt+=it;return this.skipping=!1,this},preUpdate:function(H,it){var dt=(it*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var mt=this.getProcessors(),vt=this.alive,Tt=this.dead,Nt=0,Yt=[],$t=vt.length;for(Nt=0;Nt<$t;Nt++){var Zt=vt[Nt];Zt.update(it,dt,mt)&&Yt.push({index:Nt,particle:Zt})}if(($t=Yt.length)>0){var ee=this.deathCallback,le=this.deathCallbackScope;for(Nt=$t-1;Nt>=0;Nt--){var De=Yt[Nt];vt.splice(De.index,1),Tt.push(De.particle),ee&&ee.call(le,De.particle),De.particle.setPosition()}}if(this.emitting||this.skipping){if(0===this.frequency)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=it;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=it,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())}else 1===this.completeFlag&&0===vt.length&&(this.completeFlag=0,this.emit(c.COMPLETE,this))},overlap:function(H){for(var it=this.getWorldTransformMatrix(),dt=this.alive,mt=dt.length,vt=[],Tt=0;Tt<mt;Tt++){var Nt=dt[Tt];G(H,Nt.getBounds(it))&&vt.push(Nt)}return vt},getBounds:function(H,it,dt,mt){void 0===H&&(H=0),void 0===it&&(it=0),void 0===dt&&(dt=1e3/60),void 0===mt&&(mt=new L);var Tt,Nt,vt=this.getWorldTransformMatrix(),Yt=this.alive,$t=!1;if(mt.setTo(0,0,0,0),it>0){var Zt=0;for(this.skipping=!0;Zt<Math.abs(it);){for(this.preUpdate(0,dt),Tt=0;Tt<Yt.length;Tt++)Nt=Yt[Tt].getBounds(vt),$t?I(mt,Nt):($t=!0,h(Nt,mt));Zt+=dt}this.skipping=!1}else for(Tt=0;Tt<Yt.length;Tt++)Nt=Yt[Tt].getBounds(vt),$t?I(mt,Nt):($t=!0,h(Nt,mt));return H>0&&S(mt,H,H),mt},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(H){this.ops.x.onChange(H)}},particleY:{get:function(){return this.ops.y.current},set:function(H){this.ops.y.onChange(H)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(H){this.ops.accelerationX.onChange(H)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(H){this.ops.accelerationY.onChange(H)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(H){this.ops.maxVelocityX.onChange(H)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(H){this.ops.maxVelocityY.onChange(H)}},speed:{get:function(){return this.ops.speedX.current},set:function(H){this.ops.speedX.onChange(H),this.ops.speedY.onChange(H)}},speedX:{get:function(){return this.ops.speedX.current},set:function(H){this.ops.speedX.onChange(H)}},speedY:{get:function(){return this.ops.speedY.current},set:function(H){this.ops.speedY.onChange(H)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(H){this.ops.moveToX.onChange(H)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(H){this.ops.moveToY.onChange(H)}},bounce:{get:function(){return this.ops.bounce.current},set:function(H){this.ops.bounce.onChange(H)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(H){this.ops.scaleX.onChange(H)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(H){this.ops.scaleY.onChange(H)}},particleColor:{get:function(){return this.ops.color.current},set:function(H){this.ops.color.onChange(H)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(H){this.ops.color.setEase(H)}},particleTint:{get:function(){return this.ops.tint.current},set:function(H){this.ops.tint.onChange(H)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(H){this.ops.alpha.onChange(H)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(H){this.ops.lifespan.onChange(H)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(H){this.ops.angle.onChange(H)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(H){this.ops.rotate.onChange(H)}},quantity:{get:function(){return this.ops.quantity.current},set:function(H){this.ops.quantity.onChange(H)}},delay:{get:function(){return this.ops.delay.current},set:function(H){this.ops.delay.onChange(H)}},hold:{get:function(){return this.ops.hold.current},set:function(H){this.ops.hold.onChange(H)}},flowCounter:{get:function(){return this.counters[0]},set:function(H){this.counters[0]=H}},frameCounter:{get:function(){return this.counters[1]},set:function(H){this.counters[1]=H}},animCounter:{get:function(){return this.counters[2]},set:function(H){this.counters[2]=H}},elapsed:{get:function(){return this.counters[3]},set:function(H){this.counters[3]=H}},stopCounter:{get:function(){return this.counters[4]},set:function(H){this.counters[4]=H}},completeFlag:{get:function(){return this.counters[5]},set:function(H){this.counters[5]=H}},zoneIndex:{get:function(){return this.counters[6]},set:function(H){this.counters[6]=H}},zoneTotal:{get:function(){return this.counters[7]},set:function(H){this.counters[7]=H}},currentFrame:{get:function(){return this.counters[8]},set:function(H){this.counters[8]=H}},currentAnim:{get:function(){return this.counters[9]},set:function(H){this.counters[9]=H}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var H,it=this.ops;for(H=0;H<tt.length;H++)it[tt[H]].destroy();for(H=0;H<this.alive.length;H++)this.alive[H].destroy();for(H=0;H<this.dead.length;H++)this.dead[H].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});_.exports=W},9871:(_,k,a)=>{var b=a(59996),T=a(61340),g=new T,h=new T,u=new T,l=new T;_.exports=function(f,c,m,v){var x=g,y=h,w=u,E=l;v?(E.loadIdentity(),E.multiply(v),E.translate(c.x,c.y),E.rotate(c.rotation),E.scale(c.scaleX,c.scaleY)):E.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);var S=f.currentContext,A=m.roundPixels,I=m.alpha,M=c.alpha,P=c.alive,O=P.length,N=c.viewBounds;if(c.visible&&0!==O&&(!N||b(N,m.worldView))){c.sortCallback&&c.depthSort(),m.addToRenderList(c);var L=c.scrollFactorX,G=c.scrollFactorY;S.save(),S.globalCompositeOperation=f.blendModes[c.blendMode];for(var j=0;j<O;j++){var z=P[j],Y=z.alpha*M*I;if(!(Y<=0||0===z.scaleX||0===z.scaleY)){w.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),x.copyFrom(m.matrix),x.multiplyWithOffset(E,-m.scrollX*L,-m.scrollY*G),w.e=z.x,w.f=z.y,x.multiply(w,y);var Z=z.frame,rt=Z.canvasData;if(rt.width>0&&rt.height>0){var st=-Z.halfWidth,K=-Z.halfHeight;S.globalAlpha=Y,S.save(),y.setToContext(S),A&&(st=Math.round(st),K=Math.round(K)),S.imageSmoothingEnabled=!Z.source.scaleMode,S.drawImage(Z.source.image,rt.x,rt.y,rt.width,rt.height,st,K,rt.width,rt.height),S.restore()}}}S.restore()}}},92730:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(95540),u=a(31600);T.register("particles",function(l,d){void 0===l&&(l={});var f=g(l,"key",null),c=h(l,"config",null),m=new u(this.scene,0,0,f);return void 0!==d&&(l.add=d),b(this.scene,m,l),c&&m.setConfig(c),m})},676:(_,k,a)=>{var b=a(39429),T=a(31600);b.register("particles",function(g,h,u,l){return void 0!==g&&"string"==typeof g&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new T(this.scene,g,h,u,l))})},90668:(_,k,a)=>{var T,g;a(29747),T=a(21188),g=a(9871),_.exports={renderWebGL:T,renderCanvas:g}},21188:(_,k,a)=>{var b=a(59996),T=a(61340),g=a(70554),h=new T,u=new T,l=new T,d=new T;_.exports=function(c,m,v,x){var y=c.pipelines.set(m.pipeline),w=h,E=u,S=l,A=d;x?(A.loadIdentity(),A.multiply(x),A.translate(m.x,m.y),A.rotate(m.rotation),A.scale(m.scaleX,m.scaleY)):A.applyITRS(m.x,m.y,m.rotation,m.scaleX,m.scaleY);var I=g.getTintAppendFloatAlpha,M=v.alpha,P=m.alpha;c.pipelines.preBatch(m);var O=m.alive,N=O.length,L=m.viewBounds;if(0!==N&&(!L||b(L,v.worldView))){m.sortCallback&&m.depthSort(),v.addToRenderList(m),w.copyFrom(v.matrix),w.multiplyWithOffset(A,-v.scrollX*m.scrollFactorX,-v.scrollY*m.scrollFactorY),c.setBlendMode(m.blendMode),m.mask&&(m.mask.preRenderWebGL(c,m,v),c.pipelines.set(m.pipeline));for(var j,z,G=m.tintFill,Y=0;Y<N;Y++){var Z=O[Y],rt=Z.alpha*P*M;if(!(rt<=0||0===Z.scaleX||0===Z.scaleY)){S.applyITRS(Z.x,Z.y,Z.rotation,Z.scaleX,Z.scaleY),S.e=Z.x,S.f=Z.y,w.multiply(S,E);var st=Z.frame;st.glTexture!==z&&(z=st.glTexture,j=y.setGameObject(m,st));var K=-st.halfWidth,tt=-st.halfHeight,W=E.setQuad(K,tt,K+st.width,tt+st.height),H=I(Z.tint,rt);y.shouldFlush(6)&&(y.flush(),j=y.setGameObject(m,st)),y.batchQuad(m,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],st.u0,st.v0,st.u1,st.v1,H,H,H,H,G,z,j)}}m.mask&&m.mask.postRenderWebGL(c,v),c.pipelines.postBatch(m)}}},20286:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l){void 0===h&&(h=0),void 0===u&&(u=0),void 0===l&&(l=!0),this.x=h,this.y=u,this.active=l},update:function(){},destroy:function(){this.emitter=null}});_.exports=T},9774:_=>{_.exports="complete"},812:_=>{_.exports="deathzone"},30522:_=>{_.exports="explode"},96695:_=>{_.exports="start"},18677:_=>{_.exports="stop"},20696:(_,k,a)=>{_.exports={COMPLETE:a(9774),DEATH_ZONE:a(812),EXPLODE:a(30522),START:a(96695),STOP:a(18677)}},18404:(_,k,a)=>{_.exports={EmitterColorOp:a(76472),EmitterOp:a(44777),Events:a(20696),GravityWell:a(24502),Particle:a(56480),ParticleBounds:a(69601),ParticleEmitter:a(31600),ParticleProcessor:a(20286),Zones:a(21024)}},26388:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u){this.source=h,this.killOnEnter=u},willKill:function(g){var h=this.source.contains(g.x,g.y);return h&&this.killOnEnter||!h&&!this.killOnEnter}});_.exports=T},19909:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l,d,f,c){void 0===d&&(d=!1),void 0===f&&(f=!0),void 0===c&&(c=-1),this.source=h,this.points=[],this.quantity=u,this.stepRate=l,this.yoyo=d,this.counter=-1,this.seamless=f,this._length=0,this._direction=0,this.total=c,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var g=this.points[0],h=this.points[this.points.length-1];g.x===h.x&&g.y===h.y&&this.points.pop()}var u=this._length;return this._length=this.points.length,this._length<u&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(g){return this.source=g,this.updateSource()},getPoint:function(g){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var h=this.points[this.counter];h&&(g.x=h.x,g.y=h.y)}});_.exports=T},68875:(_,k,a)=>{var b=a(83419),T=a(26099),g=new b({initialize:function(u){this.source=u,this._tempVec=new T,this.total=-1},getPoint:function(h){var u=this._tempVec;this.source.getRandomPoint(u),h.x=u.x,h.y=u.y}});_.exports=g},21024:(_,k,a)=>{_.exports={DeathZone:a(26388),EdgeZone:a(19909),RandomZone:a(68875)}},1159:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(68287),h=new b({Extends:g,Mixins:[T.PathFollower],initialize:function(l,d,f,c,m,v){g.call(this,l,f,c,m,v),this.path=d},preUpdate:function(u,l){this.anims.update(u,l),this.pathUpdate(u)}});_.exports=h},90145:(_,k,a)=>{var b=a(39429),T=a(1159);b.register("follower",function(g,h,u,l,d){var f=new T(this.scene,g,h,u,l,d);return this.displayList.add(f),this.updateList.add(f),f})},33663:(_,k,a)=>{var b=a(9674),T=a(83419),g=a(48803),h=a(90664),u=a(4703),l=a(45650),d=new T({Extends:u,initialize:function(c,m,v,x,y,w,E,S){x||(x="__DEFAULT"),u.call(this,c,m,v,x,y),this.type="Plane",this.anims=new b(this),this._checkerboard=null,this.hideCCW=!1,this.setGridSize(w,E,S),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return.5}},originY:{get:function(){return.5}},setGridSize:function(f,c,m){void 0===f&&(f=8),void 0===c&&(c=8),void 0===m&&(m=!1);var v=!1;return m&&(v=!0),this.gridWidth=f,this.gridHeight=c,this.isTiled=m,this.clear(),g({mesh:this,widthSegments:f,heightSegments:c,isOrtho:!1,tile:m,flipY:v}),this},setSizeToFrame:function(f){void 0===f&&(f=!0);var c=this.frame;if(this.setPerspective(this.width/c.width,this.height/c.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!f)return this;var A,I,m=this.gridWidth,v=this.gridHeight,x=this.vertices,y=c.u0,w=c.u1,E=c.v0,S=c.v1,M=0;if(this.isTiled)for(E=c.v1,S=c.v0,I=0;I<v;I++)for(A=0;A<m;A++)x[M++].setUVs(y,S),x[M++].setUVs(y,E),x[M++].setUVs(w,S),x[M++].setUVs(y,E),x[M++].setUVs(w,E),x[M++].setUVs(w,S);else{var P=m+1,O=v+1,N=w-y,L=S-E,G=[];for(I=0;I<O;I++)for(A=0;A<P;A++)G.push(y+N*(A/m),E+L*(I/v));for(I=0;I<v;I++)for(A=0;A<m;A++){var Y=2*(A+P*I),Z=2*(A+P*(I+1)),rt=2*(A+1+P*(I+1)),st=2*(A+1+P*I);x[M++].setUVs(G[Y],G[Y+1]),x[M++].setUVs(G[Z],G[Z+1]),x[M++].setUVs(G[st],G[st+1]),x[M++].setUVs(G[Z],G[Z+1]),x[M++].setUVs(G[rt],G[rt+1]),x[M++].setUVs(G[st],G[st+1])}}return this},setViewHeight:function(f){void 0===f&&(f=this.frame.height);var c=this.fov*(Math.PI/180);this.viewPosition.z=this.height/f/Math.tan(c/2),this.dirtyCache[10]=1},createCheckerboard:function(f,c,m,v,x){void 0===f&&(f=16777215),void 0===c&&(c=255),void 0===m&&(m=255),void 0===v&&(v=255),void 0===x&&(x=128);for(var y=h(f),w=h(c),E=[],S=0;S<16;S++)for(var A=0;A<16;A++)S<8&&A<8||S>7&&A>7?E.push(y.r,y.g,y.b,m):E.push(w.r,w.g,w.b,v);var I=this.scene.sys.textures.addUint8Array(l(),new Uint8Array(E),16,16);return this.removeCheckerboard(),this.setTexture(I),this.setSizeToFrame(),this.setViewHeight(x),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(f,c){return this.anims.play(f,c)},playReverse:function(f,c){return this.anims.playReverse(f,c)},playAfterDelay:function(f,c){return this.anims.playAfterDelay(f,c)},playAfterRepeat:function(f,c){return this.anims.playAfterRepeat(f,c)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},preUpdate:function(f,c){u.prototype.preUpdate.call(this,f,c),this.anims.update(f,c)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});_.exports=d},56015:(_,k,a)=>{var b=a(25305),T=a(13059),g=a(44603),h=a(23568),u=a(35154),l=a(33663);g.register("plane",function(d,f){void 0===d&&(d={});var c=h(d,"key",null),m=h(d,"frame",null),v=u(d,"width",8),x=u(d,"height",8),y=u(d,"tile",!1),w=new l(this.scene,0,0,c,m,v,x,y);void 0!==f&&(d.add=f);var E=u(d,"checkerboard",null);if(E){var S=u(E,"color1",16777215),A=u(E,"color2",255),I=u(E,"alpha1",255),M=u(E,"alpha2",255),P=u(E,"height",128);w.createCheckerboard(S,A,I,M,P)}return b(this.scene,w,d),T(w,d),w})},30985:(_,k,a)=>{var b=a(33663);a(39429).register("plane",function(g,h,u,l,d,f,c){return this.displayList.add(new b(this.scene,g,h,u,l,d,f,c))})},80321:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(95643),h=a(30100),u=a(36060),l=a(67277),d=new b({Extends:g,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Transform,T.Visible,l],initialize:function(c,m,v,x,y,w,E){void 0===x&&(x=16777215),void 0===y&&(y=128),void 0===w&&(w=1),void 0===E&&(E=.1),g.call(this,c,"PointLight"),this.initPipeline(u.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(m,v),this.color=h(x),this.intensity=w,this.attenuation=E,this.width=2*y,this.height=2*y,this._radius=y},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this.width=2*f,this.height=2*f}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});_.exports=d},39829:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(80321);T.register("pointlight",function(u,l){void 0===u&&(u={});var d=g(u,"color",16777215),f=g(u,"radius",128),c=g(u,"intensity",1),m=g(u,"attenuation",.1),v=new h(this.scene,0,0,d,f,c,m);return void 0!==l&&(u.add=l),b(this.scene,v,u),v})},71255:(_,k,a)=>{var b=a(39429),T=a(80321);b.register("pointlight",function(g,h,u,l,d,f){return this.displayList.add(new T(this.scene,g,h,u,l,d,f))})},67277:(_,k,a)=>{var T,g=a(29747);T=a(57787),_.exports={renderWebGL:T,renderCanvas:g}},57787:(_,k,a)=>{var b=a(91296);_.exports=function(g,h,u,l){u.addToRenderList(h);var d=g.pipelines.set(h.pipeline),f=b(h,u,l).calc,v=-h._radius,x=-h._radius,y=v+h.width,w=x+h.height,E=f.getX(0,0),S=f.getY(0,0),A=f.getX(v,x),I=f.getY(v,x),M=f.getX(v,w),P=f.getY(v,w),O=f.getX(y,w),N=f.getY(y,w),L=f.getX(y,x),G=f.getY(y,x);g.pipelines.preBatch(h),d.batchPointLight(h,u,A,I,M,P,O,N,L,G,E,S),g.pipelines.postBatch(h)}},591:(_,k,a)=>{var b=a(83419),T=a(81320),g=a(88571),h=new b({Extends:g,initialize:function(l,d,f,c,m){void 0===d&&(d=0),void 0===f&&(f=0),void 0===c&&(c=32),void 0===m&&(m=32);var v=new T(l.sys.textures,"",c,m);g.call(this,l,d,f,v),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(u,l){this.width=u,this.height=l,this.texture.setSize(u,l),this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=u,d.hitArea.height=l),this},resize:function(u,l){return this.setSize(u,l),this},saveTexture:function(u){var l=this.texture;return l.key=u,l.manager.addDynamicTexture(l)&&(this._saved=!0),l},fill:function(u,l,d,f,c,m){return this.texture.fill(u,l,d,f,c,m),this},clear:function(){return this.texture.clear(),this},stamp:function(u,l,d,f,c){return this.texture.stamp(u,l,d,f,c),this},erase:function(u,l,d){return this.texture.erase(u,l,d),this},draw:function(u,l,d,f,c){return this.texture.draw(u,l,d,f,c),this},drawFrame:function(u,l,d,f,c,m){return this.texture.drawFrame(u,l,d,f,c,m),this},repeat:function(u,l,d,f,c,m,v,x,y){return this.texture.repeat(u,l,d,f,c,m,v,x,y),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(u,l,d,f,c){return this.texture.batchDraw(u,l,d,f,c),this},batchDrawFrame:function(u,l,d,f,c,m){return this.texture.batchDrawFrame(u,l,d,f,c,m),this},endDraw:function(u){return this.texture.endDraw(u),this},snapshotArea:function(u,l,d,f,c,m,v){return this.texture.snapshotArea(u,l,d,f,c,m,v),this},snapshot:function(u,l,d){return this.snapshotArea(0,0,this.width,this.height,u,l,d)},snapshotPixel:function(u,l,d){return this.snapshotArea(u,l,1,1,d,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});_.exports=h},34495:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(591);T.register("renderTexture",function(u,l){void 0===u&&(u={});var d=g(u,"x",0),f=g(u,"y",0),c=g(u,"width",32),m=g(u,"height",32),v=new h(this.scene,d,f,c,m);return void 0!==l&&(u.add=l),b(this.scene,v,u),v})},60505:(_,k,a)=>{var b=a(39429),T=a(591);b.register("renderTexture",function(g,h,u,l){return this.displayList.add(new T(this.scene,g,h,u,l))})},77757:(_,k,a)=>{var b=a(9674),T=a(83419),g=a(31401),h=a(95643),u=a(36060),l=a(38745),d=a(26099),f=new T({Extends:h,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Flip,g.Mask,g.Pipeline,g.PostPipeline,g.Size,g.Texture,g.Transform,g.Visible,g.ScrollFactor,l],initialize:function(m,v,x,y,w,E,S,A,I){void 0===y&&(y="__DEFAULT"),void 0===E&&(E=2),void 0===S&&(S=!0),h.call(this,m,"Rope"),this.anims=new b(this),this.points=E,this.tintFill="__DEFAULT"===y,this.dirty=!1,this.horizontal=S,this._flipX=!1,this._flipY=!1,this._perp=new d,this.debugCallback=null,this.debugGraphic=null,this.setTexture(y,w),this.setPosition(v,x),this.setSizeToFrame(),this.initPipeline(u.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(E)&&this.resizeArrays(E.length),this.setPoints(E,A,I),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(c,m){var v=this.anims.currentFrame;this.anims.update(c,m),this.anims.currentFrame!==v&&(this.updateUVs(),this.updateVertices())},play:function(c,m,v){return this.anims.play(c,m,v),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(c,m,v){return void 0===c&&(c=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(c,m,v))},setVertical:function(c,m,v){return void 0===c&&(c=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(c,m,v)):this},setTintFill:function(c){return void 0===c&&(c=!1),this.tintFill=c,this},setAlphas:function(c,m){var v=this.points.length;if(v<1)return this;var x=this.alphas;void 0===c?c=[1]:!Array.isArray(c)&&void 0===m&&(c=[c]);var y,w=0;if(void 0!==m)for(y=0;y<v;y++)x[w=2*y]=c,x[w+1]=m;else if(c.length===v)for(y=0;y<v;y++)x[w=2*y]=c[y],x[w+1]=c[y];else{var E=c[0];for(y=0;y<v;y++)c.length>(w=2*y)&&(E=c[w]),x[w]=E,c.length>w+1&&(E=c[w+1]),x[w+1]=E}return this},setColors:function(c){var m=this.points.length;if(m<1)return this;var v=this.colors;void 0===c?c=[16777215]:Array.isArray(c)||(c=[c]);var x,y=0;if(c.length===m)for(x=0;x<m;x++)v[y=2*x]=c[x],v[y+1]=c[x];else{var w=c[0];for(x=0;x<m;x++)c.length>(y=2*x)&&(w=c[y]),v[y]=w,c.length>y+1&&(w=c[y+1]),v[y+1]=w}return this},setPoints:function(c,m,v){if(void 0===c&&(c=2),"number"==typeof c){var y,w,E,x=c;if(x<2&&(x=2),c=[],this.horizontal)for(E=-this.frame.halfWidth,w=this.frame.width/(x-1),y=0;y<x;y++)c.push({x:E+y*w,y:0});else for(E=-this.frame.halfHeight,w=this.frame.height/(x-1),y=0;y<x;y++)c.push({x:0,y:E+y*w})}var S=c.length,A=this.points.length;return S<1?(console.warn("Rope: Not enough points given"),this):(1===S&&(c.unshift({x:0,y:0}),S++),A!==S&&this.resizeArrays(S),this.dirty=!0,this.points=c,this.updateUVs(),null!=m&&this.setColors(m),null!=v&&this.setAlphas(v),this)},updateUVs:function(){for(var c=this.uv,m=this.points.length,v=this.frame.u0,x=this.frame.v0,y=this.frame.u1,w=this.frame.v1,E=(y-v)/(m-1),S=(w-x)/(m-1),A=0;A<m;A++){var M,P,O,N,I=4*A;this.horizontal?(this._flipX?(M=y-A*E,O=y-A*E):(M=v+A*E,O=v+A*E),this._flipY?(P=w,N=x):(P=x,N=w)):(this._flipX?(M=v,O=y):(M=y,O=v),this._flipY?(P=w-A*S,N=w-A*S):(P=x+A*S,N=x+A*S)),c[I+0]=M,c[I+1]=P,c[I+2]=O,c[I+3]=N}return this},resizeArrays:function(c){var m=this.colors,v=this.alphas;this.vertices=new Float32Array(4*c),this.uv=new Float32Array(4*c),m=new Uint32Array(2*c),v=new Float32Array(2*c);for(var x=0;x<2*c;x++)m[x]=16777215,v[x]=1;return this.colors=m,this.alphas=v,this.dirty=!0,this},updateVertices:function(){var c=this._perp,m=this.points,v=this.vertices,x=m.length;if(this.dirty=!1,!(x<1)){for(var y,w=m[0],E=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,S=0;S<x;S++){var A=m[S],I=4*S;c.x=(y=S<x-1?m[S+1]:A).y-w.y,c.y=-(y.x-w.x);var M=c.length();c.x/=M,c.y/=M,c.x*=E,c.y*=E,v[I]=A.x+c.x,v[I+1]=A.y+c.y,v[I+2]=A.x-c.x,v[I+3]=A.y-c.y,w=A}return this}},setDebug:function(c,m){return this.debugGraphic=c,this.debugCallback=c||m?m||this.renderDebugVerts:null,this},renderDebugVerts:function(c,m,v){var x=c.debugGraphic,y=v[0],w=v[1],E=v[2],S=v[3];x.lineBetween(y,w,E,S);for(var A=4;A<m;A+=4){var I=v[A+0],M=v[A+1],P=v[A+2],O=v[A+3];x.lineBetween(y,w,I,M),x.lineBetween(E,S,P,O),x.lineBetween(E,S,I,M),x.lineBetween(I,M,P,O),y=I,w=M,E=P,S=O}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(c){return this._flipX=c,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(c){return this._flipY=c,this.updateUVs()}}});_.exports=f},95262:_=>{_.exports=function(){}},26209:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(35154),u=a(77757);T.register("rope",function(l,d){void 0===l&&(l={});var f=g(l,"key",null),c=g(l,"frame",null),m=g(l,"horizontal",!0),v=h(l,"points",void 0),x=h(l,"colors",void 0),y=h(l,"alphas",void 0),w=new u(this.scene,0,0,f,c,v,m,x,y);return void 0!==d&&(l.add=d),b(this.scene,w,l),w})},96819:(_,k,a)=>{var b=a(77757);a(39429).register("rope",function(g,h,u,l,d,f,c,m){return this.displayList.add(new b(this.scene,g,h,u,l,d,f,c,m))})},38745:(_,k,a)=>{var T,g;a(29747),T=a(20439),g=a(95262),_.exports={renderWebGL:T,renderCanvas:g}},20439:(_,k,a)=>{var b=a(91296),T=a(70554);_.exports=function(h,u,l,d){l.addToRenderList(u);var f=h.pipelines.set(u.pipeline,u),c=b(u,l,d).calc,m=u.vertices,v=u.uv,x=u.colors,y=u.alphas,w=u.alpha,E=T.getTintAppendFloatAlpha,S=l.roundPixels,A=m.length,I=Math.floor(.5*A);f.flush(),h.pipelines.preBatch(u);var M=f.setGameObject(u),P=f.vertexViewF32,O=f.vertexViewU32,N=f.vertexCount*f.currentShader.vertexComponentCount-1,L=0,G=u.tintFill;u.dirty&&u.updateVertices();for(var j=u.debugCallback,z=[],Y=0;Y<A;Y+=2){var Z=m[Y+0],rt=m[Y+1],st=Z*c.a+rt*c.c+c.e,K=Z*c.b+rt*c.d+c.f;S&&(st=Math.round(st),K=Math.round(K)),P[++N]=st,P[++N]=K,P[++N]=v[Y+0],P[++N]=v[Y+1],P[++N]=M,P[++N]=G,O[++N]=E(x[L],l.alpha*(y[L]*w)),L++,j&&(z[Y+0]=st,z[Y+1]=K)}j&&j.call(u,u,A,z),f.vertexCount+=I,f.currentBatch.count=f.vertexCount-f.currentBatch.start,h.pipelines.postBatch(u)}},20071:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(95643),h=a(95540),u=a(79291),l=a(61622),d=a(25479),f=a(61340),c=a(95428),m=a(92503),v=new b({Extends:g,Mixins:[T.ComputedSize,T.Depth,T.GetBounds,T.Mask,T.Origin,T.ScrollFactor,T.Transform,T.Visible,d],initialize:function(y,w,E,S,A,I,M,P){void 0===E&&(E=0),void 0===S&&(S=0),void 0===A&&(A=128),void 0===I&&(I=128),g.call(this,y,"Shader"),this.blendMode=-1;var O=y.sys.renderer;this.renderer=O,this.gl=O.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=O.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=O.width,this._rendererHeight=O.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(E,S),this.setSize(A,I),this.setOrigin(.5,.5),this.setShader(w,M,P),this.renderer.on(m.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(x){return!!this.renderToTexture||!(g.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&x.id)},setRenderToTexture:function(x,y){if(void 0===y&&(y=!1),!this.renderToTexture){var w=this.width,E=this.height,S=this.renderer;this.glTexture=S.createTextureFromSource(null,w,E,0),this.framebuffer=S.createFramebuffer(w,E,this.glTexture,!1),this._rendererWidth=w,this._rendererHeight=E,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),x&&(this.texture=this.scene.sys.textures.addGLTexture(x,this.glTexture))}return this.shader&&(S.pipelines.clear(),this.load(),this.flush(),S.pipelines.rebind()),this},setShader:function(x,y,w){if(this.renderer.contextLost)return this._deferSetShader={key:x,textures:y,textureData:w},this;if(void 0===y&&(y=[]),"string"==typeof x){var E=this.scene.sys.cache.shader;if(!E.has(x))return console.warn("Shader missing: "+x),this;this.shader=E.get(x)}else this.shader=x;var S=this.gl,A=this.renderer;this.program&&A.deleteProgram(this.program);var I=A.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);S.uniformMatrix4fv(S.getUniformLocation(I.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),S.uniformMatrix4fv(S.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),S.uniform2f(S.getUniformLocation(I.webGLProgram,"uResolution"),this.width,this.height),this.program=I;var M=new Date,P={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[M.getFullYear(),M.getMonth(),M.getDate(),60*M.getHours()*60+60*M.getMinutes()+M.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.uniforms=this.shader.uniforms?u(!0,{},this.shader.uniforms,P):P;for(var O=0;O<4;O++)y[O]&&this.setSampler2D("iChannel"+O,y[O],O,w);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(x){return this.pointer=x,this},projOrtho:function(x,y,w,E){if(this.renderer.contextLost)this._deferProjOrtho={left:x,right:y,bottom:w,top:E};else{var I=1/(x-y),M=1/(w-E),O=this.projectionMatrix;O[0]=-2*I,O[5]=-2*M,O[10]=-.001,O[12]=(x+y)*I,O[13]=(E+w)*M,O[14]=-0;var N=this.program,L=this.gl;this.renderer.setProgram(N),L.uniformMatrix4fv(L.getUniformLocation(N.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=y,this._rendererHeight=w}},initUniforms:function(){var x=this.renderer.glFuncMap,y=this.program;for(var w in this._textureCount=0,this.uniforms){var E=this.uniforms[w],S=E.type,A=x[S];E.uniformLocation=this.renderer.createUniformLocation(y,w),"sampler2D"!==S&&(E.glMatrix=A.matrix,E.glValueLength=A.length,E.glFunc=A.func)}},setSampler2DBuffer:function(x,y,w,E,S,A){void 0===S&&(S=0),void 0===A&&(A={});var I=this.uniforms[x];return I.value=y,A.width=w,A.height=E,I.textureData=A,this._textureCount=S,this.initSampler2D(I),this},setSampler2D:function(x,y,w,E){void 0===w&&(w=0);var S=this.scene.sys.textures;if(S.exists(y)){var A=S.getFrame(y);if(A.glTexture&&A.glTexture.isRenderTexture)return this.setSampler2DBuffer(x,A.glTexture,A.width,A.height,w,E);var I=this.uniforms[x],M=A.source;I.textureKey=y,I.source=M.image,I.value=A.glTexture,M.isGLTexture&&(E||(E={}),E.width=M.width,E.height=M.height),E&&(I.textureData=E),this._textureCount=w,this.initSampler2D(I)}return this},setUniform:function(x,y){return l(this.uniforms,x,y),this},getUniform:function(x){return h(this.uniforms,x,null)},setChannel0:function(x,y){return this.setSampler2D("iChannel0",x,0,y)},setChannel1:function(x,y){return this.setSampler2D("iChannel1",x,1,y)},setChannel2:function(x,y){return this.setSampler2D("iChannel2",x,2,y)},setChannel3:function(x,y){return this.setSampler2D("iChannel3",x,3,y)},initSampler2D:function(x){if(x.value){var y=x.textureData;if(y&&!x.value.isRenderTexture){var w=this.gl,E=x.value,S=w[h(y,"magFilter","linear").toUpperCase()],A=w[h(y,"minFilter","linear").toUpperCase()],I=w[h(y,"wrapS","repeat").toUpperCase()],M=w[h(y,"wrapT","repeat").toUpperCase()],P=w[h(y,"format","rgba").toUpperCase()],O=h(y,"flipY",!1),N=h(y,"width",E.width),L=h(y,"height",E.height),G=h(y,"source",E.pixels);y.repeat&&(I=w.REPEAT,M=w.REPEAT),y.width&&(G=null),E.update(G,N,L,O,I,M,A,S,P)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var w,E,S,A,I,x=this.gl,y=this.uniforms,M=0;for(var P in y)S=(w=y[P]).glFunc,E=w.glValueLength,A=w.uniformLocation,null!==(I=w.value)&&(1===E?w.glMatrix?S.call(x,A.webGLUniformLocation,w.transpose,I):S.call(x,A.webGLUniformLocation,I):2===E?S.call(x,A.webGLUniformLocation,I.x,I.y):3===E?S.call(x,A.webGLUniformLocation,I.x,I.y,I.z):4===E?S.call(x,A.webGLUniformLocation,I.x,I.y,I.z,I.w):"sampler2D"===w.type&&(x.activeTexture(x.TEXTURE0+M),x.bindTexture(x.TEXTURE_2D,I.webGLTexture),x.uniform1i(A.webGLUniformLocation,M),M++))},load:function(x){var y=this.gl,w=this.width,E=this.height,S=this.renderer,A=this.program,I=this.viewMatrix;if(!this.renderToTexture){var M=-this._displayOriginX,P=-this._displayOriginY;I[0]=x[0],I[1]=x[1],I[4]=x[2],I[5]=x[3],I[8]=x[4],I[9]=x[5],I[12]=I[0]*M+I[4]*P,I[13]=I[1]*M+I[5]*P}y.useProgram(A.webGLProgram),y.uniformMatrix4fv(y.getUniformLocation(A.webGLProgram,"uViewMatrix"),!1,I),y.uniformMatrix4fv(y.getUniformLocation(A.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(A.webGLProgram,"uResolution"),this.width,this.height);var O=this.uniforms,N=O.resolution;N.value.x=w,N.value.y=E,O.time.value=S.game.loop.getDuration();var L=this.pointer;if(L){var G=O.mouse,z=1-L.y/E;G.value.x=(L.x/w).toFixed(2),G.value.y=z.toFixed(2)}this.syncUniforms()},flush:function(){var x=this.width,y=this.height,w=this.program,E=this.gl,S=this.vertexBuffer,A=this.renderer,I=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(A.setFramebuffer(this.framebuffer),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT)),E.bindBuffer(E.ARRAY_BUFFER,S.webGLBuffer);var M=E.getAttribLocation(w.webGLProgram,"inPosition");-1!==M&&(E.enableVertexAttribArray(M),E.vertexAttribPointer(M,2,E.FLOAT,!1,I,0));var P=this.vertexViewF32;P[3]=y,P[4]=x,P[5]=y,P[8]=x,P[9]=y,P[10]=x,E.bufferSubData(E.ARRAY_BUFFER,0,this.bytes.subarray(0,6*I)),E.drawArrays(E.TRIANGLES,0,6),this.renderToTexture&&A.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(null!==this._deferSetShader){var x=this._deferSetShader.key,y=this._deferSetShader.textures,w=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(x,y,w)}if(null!==this._deferProjOrtho){var E=this._deferProjOrtho.left,S=this._deferProjOrtho.right,A=this._deferProjOrtho.bottom,I=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(E,S,A,I)}},preDestroy:function(){var x=this.renderer;x.off(m.RESTORE_WEBGL,this.onContextRestored,this),x.deleteProgram(this.program),x.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(x.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),c(this.uniforms,function(y){x.deleteUniformLocation(y.uniformLocation),y.uniformLocation=null})}});_.exports=v},80464:_=>{_.exports=function(){}},54935:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(20071);T.register("shader",function(u,l){void 0===u&&(u={});var d=g(u,"key",null),f=g(u,"x",0),c=g(u,"y",0),m=g(u,"width",128),v=g(u,"height",128),x=new h(this.scene,d,f,c,m,v);return void 0!==l&&(u.add=l),b(this.scene,x,u),x})},74177:(_,k,a)=>{var b=a(20071);a(39429).register("shader",function(g,h,u,l,d,f,c){return this.displayList.add(new b(this.scene,g,h,u,l,d,f,c))})},25479:(_,k,a)=>{var T,g;a(29747),T=a(19257),g=a(80464),_.exports={renderWebGL:T,renderCanvas:g}},19257:(_,k,a)=>{var b=a(91296);_.exports=function(g,h,u,l){if(h.shader){if(u.addToRenderList(h),g.pipelines.clear(),h.renderToTexture)h.load(),h.flush();else{var d=b(h,u,l).calc;(g.width!==h._rendererWidth||g.height!==h._rendererHeight)&&h.projOrtho(0,g.width,g.height,0),h.load(d.matrix),h.flush()}g.pipelines.rebind()}}},10441:(_,k,a)=>{var b=a(70554);_.exports=function(g,h,u,l,d,f){for(var c=b.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*l),m=u.pathData,v=u.pathIndexes,x=0;x<v.length;x+=3){var y=2*v[x],w=2*v[x+1],E=2*v[x+2],S=m[y+0]-d,A=m[y+1]-f,I=m[w+0]-d,M=m[w+1]-f,P=m[E+0]-d,O=m[E+1]-f,N=h.getX(S,A),L=h.getY(S,A),G=h.getX(I,M),j=h.getY(I,M),z=h.getX(P,O),Y=h.getY(P,O);g.batchTri(u,N,L,G,j,z,Y,0,0,1,1,c,c,c,2)}}},65960:_=>{_.exports=function(a,b,T,g){var h=T||b.fillColor;a.fillStyle="rgba("+((16711680&h)>>>16)+","+((65280&h)>>>8)+","+(255&h)+","+(g||b.fillAlpha)+")"}},75177:_=>{_.exports=function(a,b,T,g){var h=T||b.strokeColor;a.strokeStyle="rgba("+((16711680&h)>>>16)+","+((65280&h)>>>8)+","+(255&h)+","+(g||b.strokeAlpha)+")",a.lineWidth=b.lineWidth}},17803:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(95643),h=a(23031),u=new b({Extends:g,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Transform,T.Visible],initialize:function(d,f,c){void 0===f&&(f="Shape"),g.call(this,d,f),this.geom=c,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new h,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(l,d){return void 0===d&&(d=1),void 0===l?this.isFilled=!1:(this.fillColor=l,this.fillAlpha=d,this.isFilled=!0),this},setStrokeStyle:function(l,d,f){return void 0===f&&(f=1),void 0===l?this.isStroked=!1:(this.lineWidth=l,this.strokeColor=d,this.strokeAlpha=f,this.isStroked=!0),this},setClosePath:function(l){return this.closePath=l,this},setSize:function(l,d){return this.width=l,this.height=d,this},setDisplaySize:function(l,d){return this.displayWidth=l,this.displayHeight=d,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}}});_.exports=u},34682:(_,k,a)=>{var b=a(70554);_.exports=function(g,h,u,l,d){var f=g.strokeTint,c=b.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*u);f.TL=c,f.TR=c,f.BL=c,f.BR=c;var m=h.pathData,v=m.length-1,x=h.lineWidth,y=x/2,w=m[0]-l,E=m[1]-d;h.closePath||(v-=2);for(var S=2;S<v;S+=2){var A=m[S]-l,I=m[S+1]-d;g.batchLine(w,E,A,I,y,y,x,S-2,!!h.closePath&&S===v-1),w=A,E=I}}},23629:(_,k,a)=>{var b=a(13609),T=a(83419),g=a(39506),h=a(94811),u=a(96503),l=a(36383),d=a(17803),f=new T({Extends:d,Mixins:[b],initialize:function(m,v,x,y,w,E,S,A,I){void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=128),void 0===w&&(w=0),void 0===E&&(E=360),void 0===S&&(S=!1),d.call(this,m,"Arc",new u(0,0,y)),this._startAngle=w,this._endAngle=E,this._anticlockwise=S,this._iterations=.01,this.setPosition(v,x);var M=2*this.geom.radius;this.setSize(M,M),void 0!==A&&this.setFillStyle(A,I),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(c){this._iterations=c,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(c){this.geom.radius=c;var m=2*c;this.setSize(m,m),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(c){this._startAngle=c,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(c){this._endAngle=c,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(c){this._anticlockwise=c,this.updateData()}},setRadius:function(c){return this.radius=c,this},setIterations:function(c){return void 0===c&&(c=.01),this.iterations=c,this},setStartAngle:function(c,m){return this._startAngle=c,void 0!==m&&(this._anticlockwise=m),this.updateData()},setEndAngle:function(c,m){return this._endAngle=c,void 0!==m&&(this._anticlockwise=m),this.updateData()},updateData:function(){var c=this._iterations,m=c,v=this.geom.radius,x=g(this._startAngle),y=g(this._endAngle),E=v,S=v;y-=x,this._anticlockwise?y<-l.PI2?y=-l.PI2:y>0&&(y=y%l.PI2-l.PI2):y>l.PI2?y=l.PI2:y<0&&(y=l.PI2+y%l.PI2);for(var I,A=[E+Math.cos(x)*v,S+Math.sin(x)*v];m<1;)I=y*m+x,A.push(E+Math.cos(I)*v,S+Math.sin(I)*v),m+=c;return I=y+x,A.push(E+Math.cos(I)*v,S+Math.sin(I)*v),A.push(E+Math.cos(x)*v,S+Math.sin(x)*v),this.pathIndexes=h(A),this.pathData=A,this}});_.exports=f},42542:(_,k,a)=>{var b=a(39506),T=a(65960),g=a(75177),h=a(20926);_.exports=function(l,d,f,c){f.addToRenderList(d);var m=l.currentContext;if(h(l,m,d,f,c)){var v=d.radius;m.beginPath(),m.arc(v-d.originX*(2*v),v-d.originY*(2*v),v,b(d._startAngle),b(d._endAngle),d.anticlockwise),d.closePath&&m.closePath(),d.isFilled&&(T(m,d),m.fill()),d.isStroked&&(g(m,d),m.stroke()),m.restore()}}},42563:(_,k,a)=>{var b=a(23629),T=a(39429);T.register("arc",function(g,h,u,l,d,f,c,m){return this.displayList.add(new b(this.scene,g,h,u,l,d,f,c,m))}),T.register("circle",function(g,h,u,l,d){return this.displayList.add(new b(this.scene,g,h,u,0,360,!1,l,d))})},13609:(_,k,a)=>{var T,g;a(29747),T=a(41447),g=a(42542),_.exports={renderWebGL:T,renderCanvas:g}},41447:(_,k,a)=>{var b=a(91296),T=a(10441),g=a(34682);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.pipelines.set(l.pipeline),m=b(l,d,f),v=c.calcMatrix.copyFrom(m.calc),x=l._displayOriginX,y=l._displayOriginY,w=d.alpha*l.alpha;u.pipelines.preBatch(l),l.isFilled&&T(c,v,l,w,x,y),l.isStroked&&g(c,l,w,x,y),u.pipelines.postBatch(l)}},89:(_,k,a)=>{var b=a(83419),T=a(33141),g=a(94811),h=a(87841),u=a(17803),l=new b({Extends:u,Mixins:[T],initialize:function(f,c,m,v,x,y){void 0===c&&(c=0),void 0===m&&(m=0),u.call(this,f,"Curve",v),this._smoothness=32,this._curveBounds=new h,this.closePath=!1,this.setPosition(c,m),void 0!==x&&this.setFillStyle(x,y),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){var d=this._curveBounds,f=this._smoothness;this.geom.getBounds(d,f),this.setSize(d.width,d.height),this.updateDisplayOrigin();for(var c=[],m=this.geom.getPoints(f),v=0;v<m.length;v++)c.push(m[v].x,m[v].y);return c.push(m[0].x,m[0].y),this.pathIndexes=g(c),this.pathData=c,this}});_.exports=l},3170:(_,k,a)=>{var b=a(65960),T=a(75177),g=a(20926);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.currentContext;if(g(u,c,l,d,f)){var m=l._displayOriginX+l._curveBounds.x,v=l._displayOriginY+l._curveBounds.y,x=l.pathData,y=x.length-1,w=x[0]-m,E=x[1]-v;c.beginPath(),c.moveTo(w,E),l.closePath||(y-=2);for(var S=2;S<y;S+=2)c.lineTo(x[S]-m,x[S+1]-v);l.closePath&&c.closePath(),l.isFilled&&(b(c,l),c.fill()),l.isStroked&&(T(c,l),c.stroke()),c.restore()}}},40511:(_,k,a)=>{var b=a(39429),T=a(89);b.register("curve",function(g,h,u,l,d){return this.displayList.add(new T(this.scene,g,h,u,l,d))})},33141:(_,k,a)=>{var T,g;a(29747),T=a(53987),g=a(3170),_.exports={renderWebGL:T,renderCanvas:g}},53987:(_,k,a)=>{var b=a(10441),T=a(91296),g=a(34682);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.pipelines.set(l.pipeline),m=T(l,d,f),v=c.calcMatrix.copyFrom(m.calc),x=l._displayOriginX+l._curveBounds.x,y=l._displayOriginY+l._curveBounds.y,w=d.alpha*l.alpha;u.pipelines.preBatch(l),l.isFilled&&b(c,v,l,w,x,y),l.isStroked&&g(c,l,w,x,y),u.pipelines.postBatch(l)}},19921:(_,k,a)=>{var b=a(83419),T=a(94811),g=a(54205),h=a(8497),u=a(17803),l=new b({Extends:u,Mixins:[g],initialize:function(f,c,m,v,x,y,w){void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=128),void 0===x&&(x=128),u.call(this,f,"Ellipse",new h(v/2,x/2,v,x)),this._smoothness=64,this.setPosition(c,m),this.width=v,this.height=x,void 0!==y&&this.setFillStyle(y,w),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSize:function(d,f){return this.width=d,this.height=f,this.geom.setPosition(d/2,f/2),this.geom.setSize(d,f),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){for(var d=[],f=this.geom.getPoints(this._smoothness),c=0;c<f.length;c++)d.push(f[c].x,f[c].y);return d.push(f[0].x,f[0].y),this.pathIndexes=T(d),this.pathData=d,this}});_.exports=l},7930:(_,k,a)=>{var b=a(65960),T=a(75177),g=a(20926);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.currentContext;if(g(u,c,l,d,f)){var m=l._displayOriginX,v=l._displayOriginY,x=l.pathData,y=x.length-1,w=x[0]-m,E=x[1]-v;c.beginPath(),c.moveTo(w,E),l.closePath||(y-=2);for(var S=2;S<y;S+=2)c.lineTo(x[S]-m,x[S+1]-v);c.closePath(),l.isFilled&&(b(c,l),c.fill()),l.isStroked&&(T(c,l),c.stroke()),c.restore()}}},1543:(_,k,a)=>{var b=a(19921);a(39429).register("ellipse",function(g,h,u,l,d,f){return this.displayList.add(new b(this.scene,g,h,u,l,d,f))})},54205:(_,k,a)=>{var T,g;a(29747),T=a(19467),g=a(7930),_.exports={renderWebGL:T,renderCanvas:g}},19467:(_,k,a)=>{var b=a(10441),T=a(91296),g=a(34682);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.pipelines.set(l.pipeline),m=T(l,d,f),v=c.calcMatrix.copyFrom(m.calc),x=l._displayOriginX,y=l._displayOriginY,w=d.alpha*l.alpha;u.pipelines.preBatch(l),l.isFilled&&b(c,v,l,w,x,y),l.isStroked&&g(c,l,w,x,y),u.pipelines.postBatch(l)}},30479:(_,k,a)=>{var b=a(83419),T=a(17803),g=a(26015),h=new b({Extends:T,Mixins:[g],initialize:function(l,d,f,c,m,v,x,y,w,E,S){void 0===d&&(d=0),void 0===f&&(f=0),void 0===c&&(c=128),void 0===m&&(m=128),void 0===v&&(v=32),void 0===x&&(x=32),T.call(this,l,"Grid",null),this.cellWidth=v,this.cellHeight=x,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.setPosition(d,f),this.setSize(c,m),this.setFillStyle(y,w),void 0!==E&&this.setOutlineStyle(E,S),this.updateDisplayOrigin()},setFillStyle:function(u,l){return void 0===l&&(l=1),void 0===u?this.showCells=!1:(this.fillColor=u,this.fillAlpha=l,this.showCells=!0),this},setAltFillStyle:function(u,l){return void 0===l&&(l=1),void 0===u?this.showAltCells=!1:(this.altFillColor=u,this.altFillAlpha=l,this.showAltCells=!0),this},setOutlineStyle:function(u,l){return void 0===l&&(l=1),void 0===u?this.showOutline=!1:(this.outlineFillColor=u,this.outlineFillAlpha=l,this.showOutline=!0),this}});_.exports=h},49912:(_,k,a)=>{var b=a(65960),T=a(75177),g=a(20926);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.currentContext;if(g(u,c,l,d,f)){var m=-l._displayOriginX,v=-l._displayOriginY,x=d.alpha*l.alpha,y=l.width,w=l.height,E=l.cellWidth,S=l.cellHeight,A=Math.ceil(y/E),I=Math.ceil(w/S),M=E,P=S,O=E-(A*E-y),N=S-(I*S-w),G=l.showAltCells,j=l.showOutline,z=0,Y=0,Z=0;if(j&&(M--,P--,O===E&&O--,N===S&&N--),l.showCells&&l.fillAlpha>0)for(b(c,l),Y=0;Y<I;Y++)for(G&&(Z=Y%2),z=0;z<A;z++)G&&Z?Z=0:(Z++,c.fillRect(m+z*E,v+Y*S,z<A-1?M:O,Y<I-1?P:N));if(G&&l.altFillAlpha>0)for(b(c,l,l.altFillColor,l.altFillAlpha*x),Y=0;Y<I;Y++)for(G&&(Z=Y%2),z=0;z<A;z++)!G||Z?(Z=0,c.fillRect(m+z*E,v+Y*S,z<A-1?M:O,Y<I-1?P:N)):Z=1;if(j&&l.outlineFillAlpha>0){for(T(c,l,l.outlineFillColor,l.outlineFillAlpha*x),z=1;z<A;z++){var K=z*E;c.beginPath(),c.moveTo(K+m,v),c.lineTo(K+m,w+v),c.stroke()}for(Y=1;Y<I;Y++){var tt=Y*S;c.beginPath(),c.moveTo(m,tt+v),c.lineTo(m+y,tt+v),c.stroke()}}c.restore()}}},34137:(_,k,a)=>{var b=a(39429),T=a(30479);b.register("grid",function(g,h,u,l,d,f,c,m,v,x){return this.displayList.add(new T(this.scene,g,h,u,l,d,f,c,m,v,x))})},26015:(_,k,a)=>{var T,g;a(29747),T=a(46161),g=a(49912),_.exports={renderWebGL:T,renderCanvas:g}},46161:(_,k,a)=>{var b=a(91296),T=a(70554);_.exports=function(h,u,l,d){l.addToRenderList(u);var f=h.pipelines.set(u.pipeline),c=b(u,l,d);f.calcMatrix.copyFrom(c.calc).translate(-u._displayOriginX,-u._displayOriginY);var N,L,v=l.alpha*u.alpha,x=u.width,y=u.height,w=u.cellWidth,E=u.cellHeight,S=Math.ceil(x/w),A=Math.ceil(y/E),I=w,M=E,P=w-(S*w-x),O=E-(A*E-y),G=u.showCells,j=u.showAltCells,z=u.showOutline,Y=0,Z=0,rt=0;if(z&&(I--,M--,P===w&&P--,O===E&&O--),h.pipelines.preBatch(u),G&&u.fillAlpha>0)for(N=f.fillTint,L=T.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*v),N.TL=L,N.TR=L,N.BL=L,N.BR=L,Z=0;Z<A;Z++)for(j&&(rt=Z%2),Y=0;Y<S;Y++)j&&rt?rt=0:(rt++,f.batchFillRect(Y*w,Z*E,Y<S-1?I:P,Z<A-1?M:O));if(j&&u.altFillAlpha>0)for(N=f.fillTint,L=T.getTintAppendFloatAlpha(u.altFillColor,u.altFillAlpha*v),N.TL=L,N.TR=L,N.BL=L,N.BR=L,Z=0;Z<A;Z++)for(j&&(rt=Z%2),Y=0;Y<S;Y++)!j||rt?(rt=0,f.batchFillRect(Y*w,Z*E,Y<S-1?I:P,Z<A-1?M:O)):rt=1;if(z&&u.outlineFillAlpha>0){var tt=f.strokeTint,W=T.getTintAppendFloatAlpha(u.outlineFillColor,u.outlineFillAlpha*v);for(tt.TL=W,tt.TR=W,tt.BL=W,tt.BR=W,Y=1;Y<S;Y++){var H=Y*w;f.batchLine(H,0,H,y,1,1,1,0,!1)}for(Z=1;Z<A;Z++){var it=Z*E;f.batchLine(0,it,x,it,1,1,1,0,!1)}}h.pipelines.postBatch(u)}},61475:(_,k,a)=>{var b=a(99651),T=a(83419),g=a(17803),h=new T({Extends:g,Mixins:[b],initialize:function(l,d,f,c,m,v,x,y){void 0===d&&(d=0),void 0===f&&(f=0),void 0===c&&(c=48),void 0===m&&(m=32),void 0===v&&(v=15658734),void 0===x&&(x=10066329),void 0===y&&(y=13421772),g.call(this,l,"IsoBox",null),this.projection=4,this.fillTop=v,this.fillLeft=x,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(d,f),this.setSize(c,m),this.updateDisplayOrigin()},setProjection:function(u){return this.projection=u,this},setFaces:function(u,l,d){return void 0===u&&(u=!0),void 0===l&&(l=!0),void 0===d&&(d=!0),this.showTop=u,this.showLeft=l,this.showRight=d,this},setFillStyle:function(u,l,d){return this.fillTop=u,this.fillLeft=l,this.fillRight=d,this.isFilled=!0,this}});_.exports=h},11508:(_,k,a)=>{var b=a(65960),T=a(20926);_.exports=function(h,u,l,d){l.addToRenderList(u);var f=h.currentContext;if(T(h,f,u,l,d)&&u.isFilled){var c=u.width,m=u.height,v=c/2,x=c/u.projection;u.showTop&&(b(f,u,u.fillTop),f.beginPath(),f.moveTo(-v,-m),f.lineTo(0,-x-m),f.lineTo(v,-m),f.lineTo(v,-1),f.lineTo(0,x-1),f.lineTo(-v,-1),f.lineTo(-v,-m),f.fill()),u.showLeft&&(b(f,u,u.fillLeft),f.beginPath(),f.moveTo(-v,0),f.lineTo(0,x),f.lineTo(0,x-m),f.lineTo(-v,-m),f.lineTo(-v,0),f.fill()),u.showRight&&(b(f,u,u.fillRight),f.beginPath(),f.moveTo(v,0),f.lineTo(0,x),f.lineTo(0,x-m),f.lineTo(v,-m),f.lineTo(v,0),f.fill()),f.restore()}}},3933:(_,k,a)=>{var b=a(39429),T=a(61475);b.register("isobox",function(g,h,u,l,d,f,c){return this.displayList.add(new T(this.scene,g,h,u,l,d,f,c))})},99651:(_,k,a)=>{var T,g;a(29747),T=a(68149),g=a(11508),_.exports={renderWebGL:T,renderCanvas:g}},68149:(_,k,a)=>{var b=a(91296),T=a(70554);_.exports=function(h,u,l,d){l.addToRenderList(u);var S,A,I,M,P,O,N,L,G,f=h.pipelines.set(u.pipeline),c=b(u,l,d),m=f.calcMatrix.copyFrom(c.calc),v=u.width,x=u.height,y=v/2,w=v/u.projection,E=l.alpha*u.alpha;u.isFilled&&(h.pipelines.preBatch(u),u.showTop&&(S=T.getTintAppendFloatAlpha(u.fillTop,E),A=m.getX(-y,-x),I=m.getY(-y,-x),M=m.getX(0,-w-x),P=m.getY(0,-w-x),O=m.getX(y,-x),N=m.getY(y,-x),L=m.getX(0,w-x),G=m.getY(0,w-x),f.batchQuad(u,A,I,M,P,O,N,L,G,0,0,1,1,S,S,S,S,2)),u.showLeft&&(S=T.getTintAppendFloatAlpha(u.fillLeft,E),A=m.getX(-y,0),I=m.getY(-y,0),M=m.getX(0,w),P=m.getY(0,w),O=m.getX(0,w-x),N=m.getY(0,w-x),L=m.getX(-y,-x),G=m.getY(-y,-x),f.batchQuad(u,A,I,M,P,O,N,L,G,0,0,1,1,S,S,S,S,2)),u.showRight&&(S=T.getTintAppendFloatAlpha(u.fillRight,E),A=m.getX(y,0),I=m.getY(y,0),M=m.getX(0,w),P=m.getY(0,w),O=m.getX(0,w-x),N=m.getY(0,w-x),L=m.getX(y,-x),G=m.getY(y,-x),f.batchQuad(u,A,I,M,P,O,N,L,G,0,0,1,1,S,S,S,S,2)),h.pipelines.postBatch(u))}},16933:(_,k,a)=>{var b=a(83419),T=a(60561),g=a(17803),h=new b({Extends:g,Mixins:[T],initialize:function(l,d,f,c,m,v,x,y,w){void 0===d&&(d=0),void 0===f&&(f=0),void 0===c&&(c=48),void 0===m&&(m=32),void 0===v&&(v=!1),void 0===x&&(x=15658734),void 0===y&&(y=10066329),void 0===w&&(w=13421772),g.call(this,l,"IsoTriangle",null),this.projection=4,this.fillTop=x,this.fillLeft=y,this.fillRight=w,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=v,this.isFilled=!0,this.setPosition(d,f),this.setSize(c,m),this.updateDisplayOrigin()},setProjection:function(u){return this.projection=u,this},setReversed:function(u){return this.isReversed=u,this},setFaces:function(u,l,d){return void 0===u&&(u=!0),void 0===l&&(l=!0),void 0===d&&(d=!0),this.showTop=u,this.showLeft=l,this.showRight=d,this},setFillStyle:function(u,l,d){return this.fillTop=u,this.fillLeft=l,this.fillRight=d,this.isFilled=!0,this}});_.exports=h},79590:(_,k,a)=>{var b=a(65960),T=a(20926);_.exports=function(h,u,l,d){l.addToRenderList(u);var f=h.currentContext;if(T(h,f,u,l,d)&&u.isFilled){var c=u.width,m=u.height,v=c/2,x=c/u.projection,y=u.isReversed;u.showTop&&y&&(b(f,u,u.fillTop),f.beginPath(),f.moveTo(-v,-m),f.lineTo(0,-x-m),f.lineTo(v,-m),f.lineTo(0,x-m),f.fill()),u.showLeft&&(b(f,u,u.fillLeft),f.beginPath(),y?(f.moveTo(-v,-m),f.lineTo(0,x),f.lineTo(0,x-m)):(f.moveTo(-v,0),f.lineTo(0,x),f.lineTo(0,x-m)),f.fill()),u.showRight&&(b(f,u,u.fillRight),f.beginPath(),y?(f.moveTo(v,-m),f.lineTo(0,x),f.lineTo(0,x-m)):(f.moveTo(v,0),f.lineTo(0,x),f.lineTo(0,x-m)),f.fill()),f.restore()}}},49803:(_,k,a)=>{var b=a(39429),T=a(16933);b.register("isotriangle",function(g,h,u,l,d,f,c,m){return this.displayList.add(new T(this.scene,g,h,u,l,d,f,c,m))})},60561:(_,k,a)=>{var T,g;a(29747),T=a(51503),g=a(79590),_.exports={renderWebGL:T,renderCanvas:g}},51503:(_,k,a)=>{var b=a(91296),T=a(70554);_.exports=function(h,u,l,d){l.addToRenderList(u);var f=h.pipelines.set(u.pipeline),c=b(u,l,d),m=f.calcMatrix.copyFrom(c.calc),v=u.width,x=u.height,y=v/2,w=v/u.projection,E=u.isReversed,S=l.alpha*u.alpha;if(u.isFilled){var A,I,M,P,O,N,L;if(h.pipelines.preBatch(u),u.showTop&&E){A=T.getTintAppendFloatAlpha(u.fillTop,S),I=m.getX(-y,-x),M=m.getY(-y,-x),P=m.getX(0,-w-x),O=m.getY(0,-w-x),N=m.getX(y,-x),L=m.getY(y,-x);var G=m.getX(0,w-x),j=m.getY(0,w-x);f.batchQuad(u,I,M,P,O,N,L,G,j,0,0,1,1,A,A,A,A,2)}u.showLeft&&(A=T.getTintAppendFloatAlpha(u.fillLeft,S),E?(I=m.getX(-y,-x),M=m.getY(-y,-x),P=m.getX(0,w),O=m.getY(0,w),N=m.getX(0,w-x),L=m.getY(0,w-x)):(I=m.getX(-y,0),M=m.getY(-y,0),P=m.getX(0,w),O=m.getY(0,w),N=m.getX(0,w-x),L=m.getY(0,w-x)),f.batchTri(u,I,M,P,O,N,L,0,0,1,1,A,A,A,2)),u.showRight&&(A=T.getTintAppendFloatAlpha(u.fillRight,S),E?(I=m.getX(y,-x),M=m.getY(y,-x),P=m.getX(0,w),O=m.getY(0,w),N=m.getX(0,w-x),L=m.getY(0,w-x)):(I=m.getX(y,0),M=m.getY(y,0),P=m.getX(0,w),O=m.getY(0,w),N=m.getX(0,w-x),L=m.getY(0,w-x)),f.batchTri(u,I,M,P,O,N,L,0,0,1,1,A,A,A,2)),h.pipelines.postBatch(u)}}},57847:(_,k,a)=>{var b=a(83419),T=a(17803),g=a(23031),h=a(36823),u=new b({Extends:T,Mixins:[h],initialize:function(d,f,c,m,v,x,y,w,E){void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=128),void 0===y&&(y=0),T.call(this,d,"Line",new g(m,v,x,y));var S=Math.max(1,this.geom.right-this.geom.left),A=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(f,c),this.setSize(S,A),void 0!==w&&this.setStrokeStyle(1,w,E),this.updateDisplayOrigin()},setLineWidth:function(l,d){return void 0===d&&(d=l),this._startWidth=l,this._endWidth=d,this.lineWidth=l,this},setTo:function(l,d,f,c){return this.geom.setTo(l,d,f,c),this}});_.exports=u},17440:(_,k,a)=>{var b=a(75177),T=a(20926);_.exports=function(h,u,l,d){l.addToRenderList(u);var f=h.currentContext;if(T(h,f,u,l,d)){var c=u._displayOriginX,m=u._displayOriginY;u.isStroked&&(b(f,u),f.beginPath(),f.moveTo(u.geom.x1-c,u.geom.y1-m),f.lineTo(u.geom.x2-c,u.geom.y2-m),f.stroke()),f.restore()}}},2481:(_,k,a)=>{var b=a(39429),T=a(57847);b.register("line",function(g,h,u,l,d,f,c,m){return this.displayList.add(new T(this.scene,g,h,u,l,d,f,c,m))})},36823:(_,k,a)=>{var T,g;a(29747),T=a(77385),g=a(17440),_.exports={renderWebGL:T,renderCanvas:g}},77385:(_,k,a)=>{var b=a(91296),T=a(70554);_.exports=function(h,u,l,d){l.addToRenderList(u);var f=h.pipelines.set(u.pipeline),c=b(u,l,d);f.calcMatrix.copyFrom(c.calc);var m=u._displayOriginX,v=u._displayOriginY,x=l.alpha*u.alpha;if(h.pipelines.preBatch(u),u.isStroked){var y=f.strokeTint,w=T.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*x);y.TL=w,y.TR=w,y.BL=w,y.BR=w,f.batchLine(u.geom.x1-m,u.geom.y1-v,u.geom.x2-m,u.geom.y2-v,u._startWidth/2,u._endWidth/2,1,0,!1,c.sprite,c.camera)}h.pipelines.postBatch(u)}},24949:(_,k,a)=>{var b=a(90273),T=a(83419),g=a(94811),h=a(13829),u=a(25717),l=a(17803),d=a(5469),f=new T({Extends:l,Mixins:[b],initialize:function(m,v,x,y,w,E){void 0===v&&(v=0),void 0===x&&(x=0),l.call(this,m,"Polygon",new u(y));var S=h(this.geom);this.setPosition(v,x),this.setSize(S.width,S.height),void 0!==w&&this.setFillStyle(w,E),this.updateDisplayOrigin(),this.updateData()},smooth:function(c){void 0===c&&(c=1);for(var m=0;m<c;m++)d(this.geom);return this.updateData()},setTo:function(c){this.geom.setTo(c);var m=h(this.geom);return this.setSize(m.width,m.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var c=[],m=this.geom.points,v=0;v<m.length;v++)c.push(m[v].x,m[v].y);return c.push(m[0].x,m[0].y),this.pathIndexes=g(c),this.pathData=c,this}});_.exports=f},38710:(_,k,a)=>{var b=a(65960),T=a(75177),g=a(20926);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.currentContext;if(g(u,c,l,d,f)){var m=l._displayOriginX,v=l._displayOriginY,x=l.pathData,y=x.length-1,w=x[0]-m,E=x[1]-v;c.beginPath(),c.moveTo(w,E),l.closePath||(y-=2);for(var S=2;S<y;S+=2)c.lineTo(x[S]-m,x[S+1]-v);l.closePath&&c.closePath(),l.isFilled&&(b(c,l),c.fill()),l.isStroked&&(T(c,l),c.stroke()),c.restore()}}},64827:(_,k,a)=>{var b=a(39429),T=a(24949);b.register("polygon",function(g,h,u,l,d){return this.displayList.add(new T(this.scene,g,h,u,l,d))})},90273:(_,k,a)=>{var T,g;a(29747),T=a(73695),g=a(38710),_.exports={renderWebGL:T,renderCanvas:g}},73695:(_,k,a)=>{var b=a(10441),T=a(91296),g=a(34682);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.pipelines.set(l.pipeline),m=T(l,d,f),v=c.calcMatrix.copyFrom(m.calc),x=l._displayOriginX,y=l._displayOriginY,w=d.alpha*l.alpha;u.pipelines.preBatch(l),l.isFilled&&b(c,v,l,w,x,y),l.isStroked&&g(c,l,w,x,y),u.pipelines.postBatch(l)}},74561:(_,k,a)=>{var b=a(83419),T=a(87841),g=a(17803),h=a(95597),u=new b({Extends:g,Mixins:[h],initialize:function(d,f,c,m,v,x,y){void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=128),void 0===v&&(v=128),g.call(this,d,"Rectangle",new T(0,0,m,v)),this.setPosition(f,c),this.setSize(m,v),void 0!==x&&this.setFillStyle(x,y),this.updateDisplayOrigin(),this.updateData()},setSize:function(l,d){this.width=l,this.height=d,this.geom.setSize(l,d),this.updateData(),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=l,f.hitArea.height=d),this},updateData:function(){var l=[],d=this.geom,f=this._tempLine;return d.getLineA(f),l.push(f.x1,f.y1,f.x2,f.y2),d.getLineB(f),l.push(f.x2,f.y2),d.getLineC(f),l.push(f.x2,f.y2),d.getLineD(f),l.push(f.x2,f.y2),this.pathData=l,this}});_.exports=u},48682:(_,k,a)=>{var b=a(65960),T=a(75177),g=a(20926);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.currentContext;if(g(u,c,l,d,f)){var m=l._displayOriginX,v=l._displayOriginY;l.isFilled&&(b(c,l),c.fillRect(-m,-v,l.width,l.height)),l.isStroked&&(T(c,l),c.beginPath(),c.rect(-m,-v,l.width,l.height),c.stroke()),c.restore()}}},87959:(_,k,a)=>{var b=a(39429),T=a(74561);b.register("rectangle",function(g,h,u,l,d,f){return this.displayList.add(new T(this.scene,g,h,u,l,d,f))})},95597:(_,k,a)=>{var T,g;a(29747),T=a(52059),g=a(48682),_.exports={renderWebGL:T,renderCanvas:g}},52059:(_,k,a)=>{var b=a(91296),T=a(34682),g=a(70554);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.pipelines.set(l.pipeline),m=b(l,d,f);c.calcMatrix.copyFrom(m.calc);var v=l._displayOriginX,x=l._displayOriginY,y=d.alpha*l.alpha;if(u.pipelines.preBatch(l),l.isFilled){var w=c.fillTint,E=g.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*y);w.TL=E,w.TR=E,w.BL=E,w.BR=E,c.batchFillRect(-v,-x,l.width,l.height)}l.isStroked&&T(c,l,y,v,x),u.pipelines.postBatch(l)}},55911:(_,k,a)=>{var b=a(81991),T=a(83419),g=a(94811),h=a(17803),u=new T({Extends:h,Mixins:[b],initialize:function(d,f,c,m,v,x,y,w){void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=5),void 0===v&&(v=32),void 0===x&&(x=64),h.call(this,d,"Star",null),this._points=m,this._innerRadius=v,this._outerRadius=x,this.setPosition(f,c),this.setSize(2*x,2*x),void 0!==y&&this.setFillStyle(y,w),this.updateDisplayOrigin(),this.updateData()},setPoints:function(l){return this._points=l,this.updateData()},setInnerRadius:function(l){return this._innerRadius=l,this.updateData()},setOuterRadius:function(l){return this._outerRadius=l,this.updateData()},points:{get:function(){return this._points},set:function(l){this._points=l,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(l){this._innerRadius=l,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(l){this._outerRadius=l,this.updateData()}},updateData:function(){var l=[],d=this._points,f=this._innerRadius,c=this._outerRadius,m=Math.PI/2*3,v=Math.PI/d,x=c,y=c;l.push(x,y+-c);for(var w=0;w<d;w++)l.push(x+Math.cos(m)*c,y+Math.sin(m)*c),m+=v,l.push(x+Math.cos(m)*f,y+Math.sin(m)*f),m+=v;return l.push(x,y+-c),this.pathIndexes=g(l),this.pathData=l,this}});_.exports=u},64272:(_,k,a)=>{var b=a(65960),T=a(75177),g=a(20926);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.currentContext;if(g(u,c,l,d,f)){var m=l._displayOriginX,v=l._displayOriginY,x=l.pathData,y=x.length-1,w=x[0]-m,E=x[1]-v;c.beginPath(),c.moveTo(w,E),l.closePath||(y-=2);for(var S=2;S<y;S+=2)c.lineTo(x[S]-m,x[S+1]-v);c.closePath(),l.isFilled&&(b(c,l),c.fill()),l.isStroked&&(T(c,l),c.stroke()),c.restore()}}},93697:(_,k,a)=>{var b=a(55911);a(39429).register("star",function(g,h,u,l,d,f,c){return this.displayList.add(new b(this.scene,g,h,u,l,d,f,c))})},81991:(_,k,a)=>{var T,g;a(29747),T=a(57017),g=a(64272),_.exports={renderWebGL:T,renderCanvas:g}},57017:(_,k,a)=>{var b=a(10441),T=a(91296),g=a(34682);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.pipelines.set(l.pipeline),m=T(l,d,f),v=c.calcMatrix.copyFrom(m.calc),x=l._displayOriginX,y=l._displayOriginY,w=d.alpha*l.alpha;u.pipelines.preBatch(l),l.isFilled&&b(c,v,l,w,x,y),l.isStroked&&g(c,l,w,x,y),u.pipelines.postBatch(l)}},36931:(_,k,a)=>{var b=a(83419),T=a(17803),g=a(16483),h=a(96195),u=new b({Extends:T,Mixins:[h],initialize:function(d,f,c,m,v,x,y,w,E,S,A){void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=128),void 0===x&&(x=64),void 0===y&&(y=0),void 0===w&&(w=128),void 0===E&&(E=128),T.call(this,d,"Triangle",new g(m,v,x,y,w,E));var I=this.geom.right-this.geom.left,M=this.geom.bottom-this.geom.top;this.setPosition(f,c),this.setSize(I,M),void 0!==S&&this.setFillStyle(S,A),this.updateDisplayOrigin(),this.updateData()},setTo:function(l,d,f,c,m,v){return this.geom.setTo(l,d,f,c,m,v),this.updateData()},updateData:function(){var l=[],d=this.geom,f=this._tempLine;return d.getLineA(f),l.push(f.x1,f.y1,f.x2,f.y2),d.getLineB(f),l.push(f.x2,f.y2),d.getLineC(f),l.push(f.x2,f.y2),this.pathData=l,this}});_.exports=u},85172:(_,k,a)=>{var b=a(65960),T=a(75177),g=a(20926);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.currentContext;if(g(u,c,l,d,f)){var m=l._displayOriginX,v=l._displayOriginY,x=l.geom.x1-m,y=l.geom.y1-v,w=l.geom.x2-m,E=l.geom.y2-v,S=l.geom.x3-m,A=l.geom.y3-v;c.beginPath(),c.moveTo(x,y),c.lineTo(w,E),c.lineTo(S,A),c.closePath(),l.isFilled&&(b(c,l),c.fill()),l.isStroked&&(T(c,l),c.stroke()),c.restore()}}},45245:(_,k,a)=>{var b=a(39429),T=a(36931);b.register("triangle",function(g,h,u,l,d,f,c,m,v,x){return this.displayList.add(new T(this.scene,g,h,u,l,d,f,c,m,v,x))})},96195:(_,k,a)=>{var T,g;a(29747),T=a(83253),g=a(85172),_.exports={renderWebGL:T,renderCanvas:g}},83253:(_,k,a)=>{var b=a(91296),T=a(34682),g=a(70554);_.exports=function(u,l,d,f){d.addToRenderList(l);var c=u.pipelines.set(l.pipeline),m=b(l,d,f);c.calcMatrix.copyFrom(m.calc);var v=l._displayOriginX,x=l._displayOriginY,y=d.alpha*l.alpha;if(u.pipelines.preBatch(l),l.isFilled){var w=c.fillTint,E=g.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*y);w.TL=E,w.TR=E,w.BL=E,w.BR=E,c.batchFillTriangle(l.geom.x1-v,l.geom.y1-x,l.geom.x2-v,l.geom.y2-x,l.geom.x3-v,l.geom.y3-x,m.sprite,m.camera)}l.isStroked&&T(c,l,y,v,x),u.pipelines.postBatch(l)}},68287:(_,k,a)=>{var b=a(9674),T=a(83419),g=a(31401),h=a(95643),u=a(92751),l=new T({Extends:h,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,u],initialize:function(f,c,m,v,x){h.call(this,f,"Sprite"),this._crop=this.resetCropObject(),this.anims=new b(this),this.setTexture(v,x),this.setPosition(c,m),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,f){this.anims.update(d,f)},play:function(d,f){return this.anims.play(d,f)},playReverse:function(d,f){return this.anims.playReverse(d,f)},playAfterDelay:function(d,f){return this.anims.playAfterDelay(d,f)},playAfterRepeat:function(d,f){return this.anims.playAfterRepeat(d,f)},chain:function(d){return this.anims.chain(d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(d){return this.anims.stopAfterDelay(d)},stopAfterRepeat:function(d){return this.anims.stopAfterRepeat(d)},stopOnFrame:function(d){return this.anims.stopOnFrame(d)},toJSON:function(){return g.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});_.exports=l},76552:_=>{_.exports=function(a,b,T,g){T.addToRenderList(b),a.batchSprite(b,b.frame,T,g)}},15567:(_,k,a)=>{var b=a(25305),T=a(13059),g=a(44603),h=a(23568),u=a(68287);g.register("sprite",function(l,d){void 0===l&&(l={});var f=h(l,"key",null),c=h(l,"frame",null),m=new u(this.scene,0,0,f,c);return void 0!==d&&(l.add=d),b(this.scene,m,l),T(m,l),m})},46409:(_,k,a)=>{var b=a(39429),T=a(68287);b.register("sprite",function(g,h,u,l){return this.displayList.add(new T(this.scene,g,h,u,l))})},92751:(_,k,a)=>{var T,g;a(29747),T=a(9409),g=a(76552),_.exports={renderWebGL:T,renderCanvas:g}},9409:_=>{_.exports=function(a,b,T,g){T.addToRenderList(b),b.pipeline.batchSprite(b,T,g)}},14220:_=>{_.exports=function(a,b,T){var h=a.context,u=a.style,l=[],d=0,f=T.length;u.maxLines>0&&u.maxLines<T.length&&(f=u.maxLines),u.syncFont(a.canvas,h);for(var c=a.letterSpacing,m=0;m<f;m++){var v=u.strokeThickness;if(0===c)v+=h.measureText(T[m]).width;else{for(var x=T[m],y=0;y<x.length;y++)v+=h.measureText(x[y]).width;x.length>1&&(v+=c*(x.length-1))}u.wordWrap&&(v-=h.measureText(" ").width),l[m]=Math.ceil(v),d=Math.max(d,l[m])}var w=b.fontSize+u.strokeThickness,E=w*f,S=a.lineSpacing;return f>1&&(E+=S*(f-1)),{width:d,height:E,lines:f,lineWidths:l,lineSpacing:S,lineHeight:w}}},79557:(_,k,a)=>{var b=a(27919);_.exports=function(g){var h=b.create(this),u=h.getContext("2d",{willReadFrequently:!0});g.syncFont(h,u);var l=u.measureText(g.testString);if("actualBoundingBoxAscent"in l){var d=l.actualBoundingBoxAscent,f=l.actualBoundingBoxDescent;return b.remove(h),{ascent:d,descent:f,fontSize:d+f}}var c=Math.ceil(l.width*g.baselineX),m=c,v=2*m;m=m*g.baselineY|0,h.width=c,h.height=v,u.fillStyle="#f00",u.fillRect(0,0,c,v),u.font=g._font,u.textBaseline="alphabetic",u.fillStyle="#000",u.fillText(g.testString,0,m);var x={ascent:0,descent:0,fontSize:0},y=u.getImageData(0,0,c,v);if(!y)return x.ascent=m,x.descent=m+6,x.fontSize=x.ascent+x.descent,b.remove(h),x;var A,I,w=y.data,E=w.length,S=4*c,M=0,P=!1;for(A=0;A<m;A++){for(I=0;I<S;I+=4)if(255!==w[M+I]){P=!0;break}if(P)break;M+=S}for(x.ascent=m-A,M=E-S,P=!1,A=v;A>m;A--){for(I=0;I<S;I+=4)if(255!==w[M+I]){P=!0;break}if(P)break;M-=S}return x.descent=A-m,x.fontSize=x.ascent+x.descent,b.remove(h),x}},50171:(_,k,a)=>{var b=a(40366),T=a(27919),g=a(83419),h=a(31401),u=a(95643),l=a(14220),d=a(35154),f=a(35846),c=a(61771),m=a(35762),v=a(45650),x=new g({Extends:u,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,c],initialize:function(w,E,S,A,I){void 0===E&&(E=0),void 0===S&&(S=0),u.call(this,w,"Text"),this.renderer=w.sys.renderer,this.setPosition(E,S),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=T.create(this),this.style=new m(this,I),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=w.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(A),I&&I.padding&&this.setPadding(I.padding),I&&I.lineSpacing&&this.setLineSpacing(I.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",b(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(y){var w=this.style;if(w.wordWrapCallback){var E=w.wordWrapCallback.call(w.wordWrapCallbackScope,y,this);return Array.isArray(E)&&(E=E.join("\n")),E}return w.wordWrapWidth?w.wordWrapUseAdvanced?this.advancedWordWrap(y,this.context,this.style.wordWrapWidth):this.basicWordWrap(y,this.context,this.style.wordWrapWidth):y},advancedWordWrap:function(y,w,E){for(var S="",A=y.replace(/ +/gi," ").split(this.splitRegExp),I=A.length,M=0;M<I;M++){var P=A[M],O="";if(P=P.replace(/^ *|\s*$/gi,""),w.measureText(P).width<E)S+=P+"\n";else{for(var L=E,G=P.split(" "),j=0;j<G.length;j++){var z=G[j],Y=z+" ",Z=w.measureText(Y).width;if(Z>L){if(0===j){for(var rt=Y;rt.length&&(rt=rt.slice(0,-1),!((Z=w.measureText(rt).width)<=L)););if(!rt.length)throw new Error("wordWrapWidth < a single character");var st=z.substr(rt.length);G[j]=st,O+=rt}var tt=G.slice(G[j].length?j:j+1).join(" ").replace(/[ \n]*$/gi,"");A.splice(M+1,0,tt),I=A.length;break}O+=Y,L-=Z}S+=O.replace(/[ \n]*$/gi,"")+"\n"}}return S.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(y,w,E){for(var S="",A=y.split(this.splitRegExp),I=A.length-1,M=w.measureText(" ").width,P=0;P<=I;P++){for(var O=E,N=A[P].split(" "),L=N.length-1,G=0;G<=L;G++){var j=N[G],z=w.measureText(j).width,Y=z;G<L&&(Y+=M),Y>O&&G>0&&(S+="\n",O=E),S+=j,G<L?(S+=" ",O-=Y):O-=z}P<I&&(S+="\n")}return S},getWrappedText:function(y){return void 0===y&&(y=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(y).split(this.splitRegExp)},setText:function(y){return!y&&0!==y&&(y=""),Array.isArray(y)&&(y=y.join("\n")),y!==this._text&&(this._text=y.toString(),this.updateText()),this},appendText:function(y,w){void 0===w&&(w=!0),!y&&0!==y&&(y=""),Array.isArray(y)&&(y=y.join("\n")),y=y.toString();var E=this._text.concat(w?"\n"+y:y);return E!==this._text&&(this._text=E,this.updateText()),this},setStyle:function(y){return this.style.setStyle(y)},setFont:function(y){return this.style.setFont(y)},setFontFamily:function(y){return this.style.setFontFamily(y)},setFontSize:function(y){return this.style.setFontSize(y)},setFontStyle:function(y){return this.style.setFontStyle(y)},setFixedSize:function(y,w){return this.style.setFixedSize(y,w)},setBackgroundColor:function(y){return this.style.setBackgroundColor(y)},setFill:function(y){return this.style.setFill(y)},setColor:function(y){return this.style.setColor(y)},setStroke:function(y,w){return this.style.setStroke(y,w)},setShadow:function(y,w,E,S,A,I){return this.style.setShadow(y,w,E,S,A,I)},setShadowOffset:function(y,w){return this.style.setShadowOffset(y,w)},setShadowColor:function(y){return this.style.setShadowColor(y)},setShadowBlur:function(y){return this.style.setShadowBlur(y)},setShadowStroke:function(y){return this.style.setShadowStroke(y)},setShadowFill:function(y){return this.style.setShadowFill(y)},setWordWrapWidth:function(y,w){return this.style.setWordWrapWidth(y,w)},setWordWrapCallback:function(y,w){return this.style.setWordWrapCallback(y,w)},setAlign:function(y){return this.style.setAlign(y)},setResolution:function(y){return this.style.setResolution(y)},setLineSpacing:function(y){return this.lineSpacing=y,this.updateText()},setLetterSpacing:function(y){return this.letterSpacing=y,this.updateText()},setPadding:function(y,w,E,S){if("object"==typeof y){var A=y,I=d(A,"x",null);null!==I?(y=I,E=I):(y=d(A,"left",0),E=d(A,"right",y));var M=d(A,"y",null);null!==M?(w=M,S=M):(w=d(A,"top",0),S=d(A,"bottom",w))}else void 0===y&&(y=0),void 0===w&&(w=y),void 0===E&&(E=y),void 0===S&&(S=w);return this.padding.left=y,this.padding.top=w,this.padding.right=E,this.padding.bottom=S,this.updateText()},setMaxLines:function(y){return this.style.setMaxLines(y)},setRTL:function(y){void 0===y&&(y=!0);var w=this.style;return w.rtl===y||(w.rtl=y,y?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",b(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),"left"===w.align?w.align="right":"right"===w.align&&(w.align="left")),this},updateText:function(){var y=this.canvas,w=this.context,E=this.style,S=E.resolution,A=E.metrics;E.syncFont(y,w);var I=this._text;(E.wordWrapWidth||E.wordWrapCallback)&&(I=this.runWordWrap(this._text));var N,M=I.split(this.splitRegExp),P=l(this,A,M),O=this.padding;0===E.fixedWidth?(this.width=P.width+O.left+O.right,N=P.width):(this.width=E.fixedWidth,(N=this.width-O.left-O.right)<P.width&&(N=P.width)),this.height=0===E.fixedHeight?P.height+O.top+O.bottom:E.fixedHeight;var L=this.width,G=this.height;this.updateDisplayOrigin(),L*=S,G*=S,L=Math.max(L,1),G=Math.max(G,1),y.width!==L||y.height!==G?(y.width=L,y.height=G,this.frame.setSize(L,G),E.syncFont(y,w),E.rtl&&(w.direction="rtl")):w.clearRect(0,0,L,G),w.save(),w.scale(S,S),E.backgroundColor&&(w.fillStyle=E.backgroundColor,w.fillRect(0,0,L,G)),E.syncStyle(y,w),w.translate(O.left,O.top);for(var j,z,Y=0;Y<P.lines;Y++){if(j=E.strokeThickness/2,z=E.strokeThickness/2+Y*P.lineHeight+A.ascent,Y>0&&(z+=P.lineSpacing*Y),E.rtl)j=L-j-O.left-O.right;else if("right"===E.align)j+=N-P.lineWidths[Y];else if("center"===E.align)j+=(N-P.lineWidths[Y])/2;else if("justify"===E.align&&P.lineWidths[Y]/P.width>=.85){for(var rt=P.width-P.lineWidths[Y],st=w.measureText(" ").width,K=M[Y].trim(),tt=K.split(" "),W=Math.floor((rt+=(M[Y].length-K.length)*st)/st),H=0;W>0;)tt[H]+=" ",H=(H+1)%(tt.length-1||1),--W;M[Y]=tt.join(" ")}this.autoRound&&(j=Math.round(j),z=Math.round(z));var it=this.letterSpacing;if(E.strokeThickness&&0===it&&(E.syncShadow(w,E.shadowStroke),w.strokeText(M[Y],j,z)),E.color)if(E.syncShadow(w,E.shadowFill),0!==it)for(var dt=0,mt=M[Y].split(""),vt=0;vt<mt.length;vt++)E.strokeThickness&&(E.syncShadow(w,E.shadowStroke),w.strokeText(mt[vt],j+dt,z),E.syncShadow(w,E.shadowFill)),w.fillText(mt[vt],j+dt,z),dt+=w.measureText(mt[vt]).width+it;else w.fillText(M[Y],j,z)}w.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(y,this.frame.source.glTexture,!0));var Tt=this.input;return Tt&&!Tt.customHitArea&&(Tt.hitArea.width=this.width,Tt.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(y){this.setText(y)}},toJSON:function(){var y=h.ToJSON(this),w={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return y.data=w,y},preDestroy:function(){f(this.canvas),T.remove(this.canvas);var y=this.texture;y&&y.destroy()}});_.exports=x},79724:_=>{_.exports=function(a,b,T,g){0===b.width||0===b.height||(T.addToRenderList(b),a.batchSprite(b,b.frame,T,g))}},71259:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(50171);T.register("text",function(u,l){void 0===u&&(u={});var d=g(u,"text",""),f=g(u,"style",null),c=g(u,"padding",null);null!==c&&(f.padding=c);var m=new h(this.scene,0,0,d,f);return void 0!==l&&(u.add=l),b(this.scene,m,u),m.autoRound=g(u,"autoRound",!0),m.resolution=g(u,"resolution",1),m})},68005:(_,k,a)=>{var b=a(50171);a(39429).register("text",function(g,h,u,l){return this.displayList.add(new b(this.scene,g,h,u,l))})},61771:(_,k,a)=>{var T,g;a(29747),T=a(34397),g=a(79724),_.exports={renderWebGL:T,renderCanvas:g}},35762:(_,k,a)=>{var b=a(83419),T=a(23568),g=a(35154),h=a(79557),u={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xc3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},l=new b({initialize:function(f,c){this.parent=f,this.setStyle(c,!1,!0)},setStyle:function(d,f,c){for(var m in void 0===f&&(f=!0),void 0===c&&(c=!1),u){var v=c?u[m][1]:this[m];this[m]="wordWrapCallback"===m||"wordWrapCallbackScope"===m?g(d,u[m][0],v):d&&"fontSize"===m&&"number"==typeof d.fontSize?d.fontSize.toString()+"px":T(d,u[m][0],v)}var x=g(d,"font",null);null!==x&&this.setFont(x,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var y=g(d,"fill",null);null!==y&&(this.color=y);var w=g(d,"metrics",!1);return w?this.metrics={ascent:g(w,"ascent",0),descent:g(w,"descent",0),fontSize:g(w,"fontSize",0)}:(f||!this.metrics)&&(this.metrics=h(this)),f?this.parent.updateText():this.parent},syncFont:function(d,f){f.font=this._font},syncStyle:function(d,f){f.textBaseline="alphabetic",f.fillStyle=this.color,f.strokeStyle=this.stroke,f.lineWidth=this.strokeThickness,f.lineCap="round",f.lineJoin="round"},syncShadow:function(d,f){f?(d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY,d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur):(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowColor=0,d.shadowBlur=0)},update:function(d){return d&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=h(this)),this.parent.updateText()},setFont:function(d,f){void 0===f&&(f=!0);var c=d,m="",v="";if("string"!=typeof d)c=g(d,"fontFamily","Courier"),m=g(d,"fontSize","16px"),v=g(d,"fontStyle","");else{var x=d.split(" "),y=0;v=x.length>2?x[y++]:"",m=x[y++]||"16px",c=x[y++]||"Courier"}return(c!==this.fontFamily||m!==this.fontSize||v!==this.fontStyle)&&(this.fontFamily=c,this.fontSize=m,this.fontStyle=v,f&&this.update(!0)),this.parent},setFontFamily:function(d){return this.fontFamily!==d&&(this.fontFamily=d,this.update(!0)),this.parent},setFontStyle:function(d){return this.fontStyle!==d&&(this.fontStyle=d,this.update(!0)),this.parent},setFontSize:function(d){return"number"==typeof d&&(d=d.toString()+"px"),this.fontSize!==d&&(this.fontSize=d,this.update(!0)),this.parent},setTestString:function(d){return this.testString=d,this.update(!0)},setFixedSize:function(d,f){return this.fixedWidth=d,this.fixedHeight=f,d&&(this.parent.width=d),f&&(this.parent.height=f),this.update(!1)},setBackgroundColor:function(d){return this.backgroundColor=d,this.update(!1)},setFill:function(d){return this.color=d,this.update(!1)},setColor:function(d){return this.color=d,this.update(!1)},setResolution:function(d){return this.resolution=d,this.update(!1)},setStroke:function(d,f){return void 0===f&&(f=this.strokeThickness),void 0===d&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):(this.stroke!==d||this.strokeThickness!==f)&&(this.stroke=d,this.strokeThickness=f,this.update(!0)),this.parent},setShadow:function(d,f,c,m,v,x){return void 0===d&&(d=0),void 0===f&&(f=0),void 0===c&&(c="#000"),void 0===m&&(m=0),void 0===v&&(v=!1),void 0===x&&(x=!0),this.shadowOffsetX=d,this.shadowOffsetY=f,this.shadowColor=c,this.shadowBlur=m,this.shadowStroke=v,this.shadowFill=x,this.update(!1)},setShadowOffset:function(d,f){return void 0===d&&(d=0),void 0===f&&(f=d),this.shadowOffsetX=d,this.shadowOffsetY=f,this.update(!1)},setShadowColor:function(d){return void 0===d&&(d="#000"),this.shadowColor=d,this.update(!1)},setShadowBlur:function(d){return void 0===d&&(d=0),this.shadowBlur=d,this.update(!1)},setShadowStroke:function(d){return this.shadowStroke=d,this.update(!1)},setShadowFill:function(d){return this.shadowFill=d,this.update(!1)},setWordWrapWidth:function(d,f){return void 0===f&&(f=!1),this.wordWrapWidth=d,this.wordWrapUseAdvanced=f,this.update(!1)},setWordWrapCallback:function(d,f){return void 0===f&&(f=null),this.wordWrapCallback=d,this.wordWrapCallbackScope=f,this.update(!1)},setAlign:function(d){return void 0===d&&(d="left"),this.align=d,this.update(!1)},setMaxLines:function(d){return void 0===d&&(d=0),this.maxLines=d,this.update(!1)},getTextMetrics:function(){var d=this.metrics;return{ascent:d.ascent,descent:d.descent,fontSize:d.fontSize}},toJSON:function(){var d={};for(var f in u)d[f]=this[f];return d.metrics=this.getTextMetrics(),d},destroy:function(){this.parent=void 0}});_.exports=l},34397:(_,k,a)=>{var b=a(70554);_.exports=function(g,h,u,l){if(0!==h.width&&0!==h.height){u.addToRenderList(h);var d=h.frame,f=d.width,c=d.height,m=b.getTintAppendFloatAlpha,v=g.pipelines.set(h.pipeline,h),x=v.setTexture2D(d.glTexture,h);v.batchTexture(h,d.glTexture,f,c,h.x,h.y,f/h.style.resolution,c/h.style.resolution,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.displayOriginX,h.displayOriginY,0,0,f,c,m(h.tintTopLeft,u.alpha*h._alphaTL),m(h.tintTopRight,u.alpha*h._alphaTR),m(h.tintBottomLeft,u.alpha*h._alphaBL),m(h.tintBottomRight,u.alpha*h._alphaBR),h.tintFill,0,0,u,l,!1,x)}}},20839:(_,k,a)=>{var b=a(27919),T=a(83419),g=a(31401),h=a(95643),u=a(98439),l=a(68703),d=a(56295),f=a(45650),c=a(26099),v=new T({Extends:h,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Crop,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Tint,g.Transform,g.Visible,d],initialize:function(y,w,E,S,A,I,M){var P=y.sys.renderer;h.call(this,y,"TileSprite");var O=y.sys.textures.get(I),N=O.get(M);N.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),N=(O=y.sys.textures.get("__MISSING")).get()),"DynamicTexture"===O.type&&(console.warn("TileSprite cannot use Dynamic Texture"),N=(O=y.sys.textures.get("__MISSING")).get()),S&&A?(S=Math.floor(S),A=Math.floor(A)):(S=S||N.width,A=A||N.height),this._tilePosition=new c,this._tileScale=new c(1,1),this.dirty=!1,this.renderer=P,this.canvas=b.create(this,S,A),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=O,this.displayFrame=N,this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=y.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=u(N.width),this.potHeight=u(N.height),this.fillCanvas=b.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(w,E),this.setSize(S,A),this.setFrame(M),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(x,y){return this.displayTexture=this.scene.sys.textures.get(x),this.setFrame(y)},setFrame:function(x){var y=this.displayTexture.get(x);return this.potWidth=u(y.width),this.potHeight=u(y.height),this.canvas.width=0,y.cutWidth&&y.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=y,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(x,y){return void 0!==x&&(this.tilePositionX=x),void 0!==y&&(this.tilePositionY=y),this},setTileScale:function(x,y){return void 0===x&&(x=this.tileScaleX),void 0===y&&(y=x),this.tileScaleX=x,this.tileScaleY=y,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var x=this.displayFrame;if(x.source.isRenderTexture||x.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var y=this.fillContext,w=this.fillCanvas,E=this.potWidth,S=this.potHeight;(!this.renderer||!this.renderer.gl)&&(E=x.cutWidth,S=x.cutHeight),y.clearRect(0,0,E,S),w.width=E,w.height=S,y.drawImage(x.source.image,x.cutX,x.cutY,x.cutWidth,x.cutHeight,0,0,E,S),this.fillPattern=this.renderer&&this.renderer.gl?this.renderer.canvasToTexture(w,this.fillPattern):y.createPattern(w,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var x=this.canvas;if((x.width!==this.width||x.height!==this.height)&&(x.width=this.width,x.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var y=this.context;this.scene.sys.game.config.antialias||l.disable(y);var w=this._tileScale.x,E=this._tileScale.y,S=this._tilePosition.x,A=this._tilePosition.y;y.clearRect(0,0,this.width,this.height),y.save(),y.scale(w,E),y.translate(-S,-A),y.fillStyle=this.fillPattern,y.fillRect(S,A,this.width/w,this.height/E),y.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),b.remove(this.canvas),b.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var x=this.texture;x&&x.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(x){this._tilePosition.x=x,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(x){this._tilePosition.y=x,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(x){this._tileScale.x=x,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(x){this._tileScale.y=x,this.dirty=!0}}});_.exports=v},46992:_=>{_.exports=function(a,b,T,g){b.updateCanvas(),T.addToRenderList(b),a.batchSprite(b,b.frame,T,g)}},14167:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(20839);T.register("tileSprite",function(u,l){void 0===u&&(u={});var d=g(u,"x",0),f=g(u,"y",0),c=g(u,"width",512),m=g(u,"height",512),v=g(u,"key",""),x=g(u,"frame",""),y=new h(this.scene,d,f,c,m,v,x);return void 0!==l&&(u.add=l),b(this.scene,y,u),y})},91681:(_,k,a)=>{var b=a(20839);a(39429).register("tileSprite",function(g,h,u,l,d,f){return this.displayList.add(new b(this.scene,g,h,u,l,d,f))})},56295:(_,k,a)=>{var T,g;a(29747),T=a(18553),g=a(46992),_.exports={renderWebGL:T,renderCanvas:g}},18553:(_,k,a)=>{var b=a(70554);_.exports=function(g,h,u,l){h.updateCanvas();var d=h.width,f=h.height;if(0!==d&&0!==f){u.addToRenderList(h);var c=b.getTintAppendFloatAlpha,m=g.pipelines.set(h.pipeline,h),v=m.setTexture2D(h.fillPattern,h);m.batchTexture(h,h.fillPattern,h.displayFrame.width*h.tileScaleX,h.displayFrame.height*h.tileScaleY,h.x,h.y,d,f,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.originX*d,h.originY*f,0,0,d,f,c(h.tintTopLeft,u.alpha*h._alphaTL),c(h.tintTopRight,u.alpha*h._alphaTR),c(h.tintBottomLeft,u.alpha*h._alphaBL),c(h.tintBottomRight,u.alpha*h._alphaBR),h.tintFill,h.tilePositionX%h.displayFrame.width/h.displayFrame.width,h.tilePositionY%h.displayFrame.height/h.displayFrame.height,u,l,!1,v)}}},18471:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(31401),h=a(51708),u=a(8443),l=a(95643),d=a(36383),f=a(14463),c=a(45650),m=a(10247),v=new T({Extends:l,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.TextureCrop,g.Tint,g.Transform,g.Visible,m],initialize:function(y,w,E,S){l.call(this,y,"Video"),this.flipY=!1,this._key=c(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var A=y.sys.game;this._device=A.device.video,this.setPosition(w,E),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),A.events.on(u.PAUSE,this.globalPause,this),A.events.on(u.RESUME,this.globalResume,this);var I=y.sys.sound;I&&I.on(f.GLOBAL_MUTE,this.globalMute,this),S&&this.load(S)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(x){var y=this.scene.sys.cache.video.get(x);return y?(this.cacheKey=x,this.loadHandler(y.url,y.noAudio,y.crossOrigin)):console.warn("No video in cache for key: "+x),this},changeSource:function(x,y,w,E,S){void 0===y&&(y=!0),void 0===w&&(w=!1),this.cacheKey!==x&&(this.load(x),y&&this.play(w,E,S))},getVideoKey:function(){return this.cacheKey},loadURL:function(x,y,w){void 0===y&&(y=!1);var E=this._device.getVideoURL(x);return E?(this.cacheKey="",this.loadHandler(E.url,y,w)):console.warn("No supported video format found for "+x),this},loadMediaStream:function(x,y,w){return this.loadHandler(null,y,w,x)},loadHandler:function(x,y,w,E){y||(y=!1);var S=this.video;if(S?(this.removeLoadEventHandlers(),this.stop()):((S=document.createElement("video")).controls=!1,S.setAttribute("playsinline","playsinline"),S.setAttribute("preload","auto"),S.setAttribute("disablePictureInPicture","true")),y?(S.muted=!0,S.defaultMuted=!0,S.setAttribute("autoplay","autoplay")):(S.muted=!1,S.defaultMuted=!1,S.removeAttribute("autoplay")),w?S.setAttribute("crossorigin",w):S.removeAttribute("crossorigin"),E)if("srcObject"in S)try{S.srcObject=E}catch(I){if("TypeError"!==I.name)throw I;S.src=URL.createObjectURL(E)}else S.src=URL.createObjectURL(E);else S.src=x;this.retry=0,this.video=S,this._playCalled=!1,S.load(),this.addLoadEventHandlers();var A=this.scene.sys.textures.get(this._key);return this.setTexture(A),this},requestVideoFrame:function(x,y){var w=this.video;if(w){var E=y.width,S=y.height,A=this.videoTexture,I=this.videoTextureSource,M=!A||I.source!==w;M?(this._codePaused=w.paused,this._codeMuted=w.muted,A?(I.source=w,I.width=E,I.height=S,A.get().setSize(E,S)):((A=this.scene.sys.textures.create(this._key,w,E,S)).add("__BASE",0,0,0,E,S),this.setTexture(A),this.videoTexture=A,this.videoTextureSource=A.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(h.VIDEO_TEXTURE,this,A)),this.setSizeToFrame(),this.updateDisplayOrigin()):I.update(),this.isStalled=!1,this.metadata=y;var P=y.mediaTime;M&&(this._lastUpdate=P,this.emit(h.VIDEO_CREATED,this,E,S),this.frameReady||(this.frameReady=!0,this.emit(h.VIDEO_PLAY,this))),this._playingMarker?P>=this._markerOut&&(w.loop?(w.currentTime=this._markerIn,this.emit(h.VIDEO_LOOP,this)):(this.stop(!1),this.emit(h.VIDEO_COMPLETE,this))):P<this._lastUpdate&&this.emit(h.VIDEO_LOOP,this),this._lastUpdate=P,this._getFrame?(this.removeEventHandlers(),w.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(x,y,w){void 0===y&&(y=-1),void 0===w&&(w=d.MAX_SAFE_INTEGER);var E=this.video;return!E||this.isPlaying()?(E||console.warn("Video not loaded"),this):(void 0===x&&(x=E.loop),E.loop=x,this._markerIn=y,this._markerOut=w,this._playingMarker=y>-1&&w>y&&w<d.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=E.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var x=this.video;x&&(x.addEventListener("error",this._loadCallbackHandler),x.addEventListener("abort",this._loadCallbackHandler),x.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var x=this.video;x&&(x.removeEventListener("error",this._loadCallbackHandler),x.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var x=this.video;if(x){var y=this._callbacks;for(var w in y)x.addEventListener(w,y[w])}},removeEventHandlers:function(){var x=this.video;if(x){var y=this._callbacks;for(var w in y)x.removeEventListener(w,y[w])}},createPlayPromise:function(x){void 0===x&&(x=!0);var y=this.video,w=y.play();if(void 0!==w){var E=this.playSuccess.bind(this),S=this.playError.bind(this);if(!x){var A=this;S=function(){A.failedPlayAttempts++}}w.then(E).catch(S)}else y.addEventListener("playing",this._callbacks.legacy),x||this.failedPlayAttempts++},addMarker:function(x,y,w){return!isNaN(y)&&y>=0&&!isNaN(w)&&w>y&&(this.markers[x]=[y,w]),this},playMarker:function(x,y){var w=this.markers[x];return w&&this.play(y,w[0],w[1]),this},removeMarker:function(x){return delete this.markers[x],this},snapshot:function(x,y){return void 0===x&&(x=this.width),void 0===y&&(y=this.height),this.snapshotArea(0,0,this.width,this.height,x,y)},snapshotArea:function(x,y,w,E,S,A){void 0===x&&(x=0),void 0===y&&(y=0),void 0===w&&(w=this.width),void 0===E&&(E=this.height),void 0===S&&(S=w),void 0===A&&(A=E);var I=this.video,M=this.snapshotTexture;return M?(M.setSize(S,A),I&&M.context.drawImage(I,x,y,w,E,0,0,S,A)):(M=this.scene.sys.textures.createCanvas(c(),S,A),this.snapshotTexture=M,I&&M.context.drawImage(I,x,y,w,E,0,0,S,A)),M.update()},saveSnapshotTexture:function(x){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,x):this.snapshotTexture=this.scene.sys.textures.createCanvas(x,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(h.VIDEO_UNLOCKED,this));var x=this.scene.sys.sound;x&&x.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(x){var y=x.name;"NotAllowedError"===y?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(h.VIDEO_LOCKED,this)):"NotSupportedError"===y?(this.stop(!1),this.emit(h.VIDEO_UNSUPPORTED,this,x)):(this.stop(!1),this.emit(h.VIDEO_ERROR,this,x))},legacyPlayHandler:function(){var x=this.video;x&&(this.playSuccess(),x.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(h.VIDEO_PLAYING,this)},loadErrorHandler:function(x){this.stop(!1),this.emit(h.VIDEO_ERROR,this,x)},metadataHandler:function(x){this.emit(h.VIDEO_METADATA,this,x)},setSizeToFrame:function(x){x||(x=this.frame),this.width=x.realWidth,this.height=x.realHeight,1!==this.scaleX&&(this.scaleX=this.displayWidth/this.width),1!==this.scaleY&&(this.scaleY=this.displayHeight/this.height);var y=this.input;return y&&!y.customHitArea&&(y.hitArea.width=this.width,y.hitArea.height=this.height),this},stalledHandler:function(x){this.isStalled=!0,this.emit(h.VIDEO_STALLED,this,x)},completeHandler:function(){this._playCalled=!1,this.emit(h.VIDEO_COMPLETE,this)},preUpdate:function(x,y){!this.video||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=y,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(x){var y=this.video;if(y){var w=y.duration;w===1/0||isNaN(w)||this.setCurrentTime(w*x)}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(x){var y=this.video;if(y){if("string"==typeof x){var w=x[0],E=parseFloat(x.substr(1));"+"===w?x=y.currentTime+E:"-"===w&&(x=y.currentTime-E)}y.currentTime=x}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(h.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(h.VIDEO_SEEKED,this)},getProgress:function(){var x=this.video;if(x){var y=x.duration;if(y!==1/0&&!isNaN(y))return x.currentTime/y}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(x){void 0===x&&(x=!0),this._codeMuted=x;var y=this.video;return y&&(y.muted=!!this._systemMuted||x),this},isMuted:function(){return this._codeMuted},globalMute:function(x,y){this._systemMuted=y;var w=this.video;w&&(w.muted=!!this._codeMuted||y)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(x){void 0===x&&(x=!0);var y=this.video;return this._codePaused=x,y&&!y.ended&&(x?y.paused||(this.removeEventHandlers(),y.pause()):x||(this._playCalled?y.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(x){return void 0===x&&(x=1),this.video&&(this.video.volume=b(x,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(x){return this.video&&(this.video.playbackRate=x),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(x){return void 0===x&&(x=!0),this.video&&(this.video.loop=x),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(x,y){return void 0===y&&(y=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,x),this.videoTextureSource.setFlipY(y)),this._key=x,this.flipY=y,!!this.videoTexture},stop:function(x){void 0===x&&(x=!0);var y=this.video;return y&&(this.removeEventHandlers(),y.cancelVideoFrameCallback(this._rfvCallbackId),y.pause()),this.retry=0,this._playCalled=!1,x&&this.emit(h.VIDEO_STOP,this),this},removeVideoElement:function(){var x=this.video;if(x){for(x.parentNode&&x.parentNode.removeChild(x);x.hasChildNodes();)x.removeChild(x.firstChild);x.removeAttribute("autoplay"),x.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var x=this.scene.sys.game.events;x.off(u.PAUSE,this.globalPause,this),x.off(u.RESUME,this.globalResume,this);var y=this.scene.sys.sound;y&&y.off(f.GLOBAL_MUTE,this.globalMute,this)}});_.exports=v},58352:_=>{_.exports=function(a,b,T,g){b.videoTexture&&(T.addToRenderList(b),a.batchSprite(b,b.frame,T,g))}},11511:(_,k,a)=>{var b=a(25305),T=a(44603),g=a(23568),h=a(18471);T.register("video",function(u,l){void 0===u&&(u={});var d=g(u,"key",null),f=new h(this.scene,0,0,d);return void 0!==l&&(u.add=l),b(this.scene,f,u),f})},89025:(_,k,a)=>{var b=a(18471);a(39429).register("video",function(g,h,u){return this.displayList.add(new b(this.scene,g,h,u))})},10247:(_,k,a)=>{var T,g;a(29747),T=a(29849),g=a(58352),_.exports={renderWebGL:T,renderCanvas:g}},29849:_=>{_.exports=function(a,b,T,g){b.videoTexture&&(T.addToRenderList(b),b.pipeline.batchSprite(b,T,g))}},41481:(_,k,a)=>{var b=a(10312),T=a(96503),g=a(87902),h=a(83419),u=a(31401),l=a(95643),d=a(87841),f=a(37303),c=new h({Extends:l,Mixins:[u.Depth,u.GetBounds,u.Origin,u.Transform,u.ScrollFactor,u.Visible],initialize:function(v,x,y,w,E){void 0===w&&(w=1),void 0===E&&(E=w),l.call(this,v,"Zone"),this.setPosition(x,y),this.width=w,this.height=E,this.blendMode=b.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(m){this.scaleX=m/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(m){this.scaleY=m/this.height}},setSize:function(m,v,x){void 0===x&&(x=!0),this.width=m,this.height=v,this.updateDisplayOrigin();var y=this.input;return x&&y&&!y.customHitArea&&(y.hitArea.width=m,y.hitArea.height=v),this},setDisplaySize:function(m,v){return this.displayWidth=m,this.displayHeight=v,this},setCircleDropZone:function(m){return this.setDropZone(new T(0,0,m),g)},setRectangleDropZone:function(m,v){return this.setDropZone(new d(0,0,m,v),f)},setDropZone:function(m,v){return this.input||this.setInteractive(m,v,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(m,v,x){x.addToRenderList(v)},renderWebGL:function(m,v,x){x.addToRenderList(v)}});_.exports=c},95261:(_,k,a)=>{var b=a(44603),T=a(23568),g=a(41481);b.register("zone",function(h){var u=T(h,"x",0),l=T(h,"y",0),d=T(h,"width",1),f=T(h,"height",d);return new g(this.scene,u,l,d,f)})},84175:(_,k,a)=>{var b=a(41481);a(39429).register("zone",function(g,h,u,l){return this.displayList.add(new b(this.scene,g,h,u,l))})},95166:_=>{_.exports=function(a){return a.radius>0?Math.PI*a.radius*a.radius:0}},96503:(_,k,a)=>{var b=a(83419),T=a(87902),g=a(26241),h=a(79124),u=a(23777),l=a(28176),d=new b({initialize:function(c,m,v){void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=0),this.type=u.CIRCLE,this.x=c,this.y=m,this._radius=v,this._diameter=2*v},contains:function(f,c){return T(this,f,c)},getPoint:function(f,c){return g(this,f,c)},getPoints:function(f,c,m){return h(this,f,c,m)},getRandomPoint:function(f){return l(this,f)},setTo:function(f,c,m){return this.x=f,this.y=c,this._radius=m,this._diameter=2*m,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(f,c){return void 0===c&&(c=f),this.x=f,this.y=c,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this._diameter=2*f}},diameter:{get:function(){return this._diameter},set:function(f){this._diameter=f,this._radius=.5*f}},left:{get:function(){return this.x-this._radius},set:function(f){this.x=f+this._radius}},right:{get:function(){return this.x+this._radius},set:function(f){this.x=f-this._radius}},top:{get:function(){return this.y-this._radius},set:function(f){this.y=f+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(f){this.y=f-this._radius}}});_.exports=d},71562:_=>{_.exports=function(a){return Math.PI*a.radius*2}},92110:(_,k,a)=>{var b=a(2141);_.exports=function(g,h,u){return void 0===u&&(u=new b),u.x=g.x+g.radius*Math.cos(h),u.y=g.y+g.radius*Math.sin(h),u}},42250:(_,k,a)=>{var b=a(96503);_.exports=function(g){return new b(g.x,g.y,g.radius)}},87902:_=>{_.exports=function(a,b,T){return a.radius>0&&b>=a.left&&b<=a.right&&T>=a.top&&T<=a.bottom&&(a.x-b)*(a.x-b)+(a.y-T)*(a.y-T)<=a.radius*a.radius}},5698:(_,k,a)=>{var b=a(87902);_.exports=function(g,h){return b(g,h.x,h.y)}},70588:(_,k,a)=>{var b=a(87902);_.exports=function(g,h){return b(g,h.x,h.y)&&b(g,h.right,h.y)&&b(g,h.x,h.bottom)&&b(g,h.right,h.bottom)}},26394:_=>{_.exports=function(a,b){return b.setTo(a.x,a.y,a.radius)}},76278:_=>{_.exports=function(a,b){return a.x===b.x&&a.y===b.y&&a.radius===b.radius}},2074:(_,k,a)=>{var b=a(87841);_.exports=function(g,h){return void 0===h&&(h=new b),h.x=g.left,h.y=g.top,h.width=g.diameter,h.height=g.diameter,h}},26241:(_,k,a)=>{var b=a(92110),T=a(62945),g=a(36383),h=a(2141);_.exports=function(l,d,f){void 0===f&&(f=new h);var c=T(d,0,g.PI2);return b(l,c,f)}},79124:(_,k,a)=>{var b=a(71562),T=a(92110),g=a(62945),h=a(36383);_.exports=function(l,d,f,c){void 0===c&&(c=[]),!d&&f>0&&(d=b(l)/f);for(var m=0;m<d;m++){var v=g(m/d,0,h.PI2);c.push(T(l,v))}return c}},50884:_=>{_.exports=function(a,b,T){return a.x+=b,a.y+=T,a}},39212:_=>{_.exports=function(a,b){return a.x+=b.x,a.y+=b.y,a}},28176:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){void 0===h&&(h=new b);var u=2*Math.PI*Math.random(),l=Math.random()+Math.random(),d=l>1?2-l:l,f=d*Math.cos(u),c=d*Math.sin(u);return h.x=g.x+f*g.radius,h.y=g.y+c*g.radius,h}},88911:(_,k,a)=>{var b=a(96503);b.Area=a(95166),b.Circumference=a(71562),b.CircumferencePoint=a(92110),b.Clone=a(42250),b.Contains=a(87902),b.ContainsPoint=a(5698),b.ContainsRect=a(70588),b.CopyFrom=a(26394),b.Equals=a(76278),b.GetBounds=a(2074),b.GetPoint=a(26241),b.GetPoints=a(79124),b.Offset=a(50884),b.OffsetPoint=a(39212),b.Random=a(28176),_.exports=b},23777:_=>{_.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},78874:_=>{_.exports=function(a){return a.isEmpty()?0:a.getMajorRadius()*a.getMinorRadius()*Math.PI}},92990:_=>{_.exports=function(a){var b=a.width/2,T=a.height/2,g=Math.pow(b-T,2)/Math.pow(b+T,2);return Math.PI*(b+T)*(1+3*g/(10+Math.sqrt(4-3*g)))}},79522:(_,k,a)=>{var b=a(2141);_.exports=function(g,h,u){void 0===u&&(u=new b);var d=g.height/2;return u.x=g.x+g.width/2*Math.cos(h),u.y=g.y+d*Math.sin(h),u}},58102:(_,k,a)=>{var b=a(8497);_.exports=function(g){return new b(g.x,g.y,g.width,g.height)}},81154:_=>{_.exports=function(a,b,T){if(a.width<=0||a.height<=0)return!1;var g=(b-a.x)/a.width,h=(T-a.y)/a.height;return(g*=g)+(h*=h)<.25}},46662:(_,k,a)=>{var b=a(81154);_.exports=function(g,h){return b(g,h.x,h.y)}},1632:(_,k,a)=>{var b=a(81154);_.exports=function(g,h){return b(g,h.x,h.y)&&b(g,h.right,h.y)&&b(g,h.x,h.bottom)&&b(g,h.right,h.bottom)}},65534:_=>{_.exports=function(a,b){return b.setTo(a.x,a.y,a.width,a.height)}},8497:(_,k,a)=>{var b=a(83419),T=a(81154),g=a(90549),h=a(48320),u=a(23777),l=a(24820),d=new b({initialize:function(c,m,v,x){void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),this.type=u.ELLIPSE,this.x=c,this.y=m,this.width=v,this.height=x},contains:function(f,c){return T(this,f,c)},getPoint:function(f,c){return g(this,f,c)},getPoints:function(f,c,m){return h(this,f,c,m)},getRandomPoint:function(f){return l(this,f)},setTo:function(f,c,m,v){return this.x=f,this.y=c,this.width=m,this.height=v,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(f,c){return void 0===c&&(c=f),this.x=f,this.y=c,this},setSize:function(f,c){return void 0===c&&(c=f),this.width=f,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(f){this.x=f+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(f){this.y=f+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});_.exports=d},36146:_=>{_.exports=function(a,b){return a.x===b.x&&a.y===b.y&&a.width===b.width&&a.height===b.height}},23694:(_,k,a)=>{var b=a(87841);_.exports=function(g,h){return void 0===h&&(h=new b),h.x=g.left,h.y=g.top,h.width=g.width,h.height=g.height,h}},90549:(_,k,a)=>{var b=a(79522),T=a(62945),g=a(36383),h=a(2141);_.exports=function(l,d,f){void 0===f&&(f=new h);var c=T(d,0,g.PI2);return b(l,c,f)}},48320:(_,k,a)=>{var b=a(92990),T=a(79522),g=a(62945),h=a(36383);_.exports=function(l,d,f,c){void 0===c&&(c=[]),!d&&f>0&&(d=b(l)/f);for(var m=0;m<d;m++){var v=g(m/d,0,h.PI2);c.push(T(l,v))}return c}},73424:_=>{_.exports=function(a,b,T){return a.x+=b,a.y+=T,a}},44808:_=>{_.exports=function(a,b){return a.x+=b.x,a.y+=b.y,a}},24820:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){void 0===h&&(h=new b);var u=Math.random()*Math.PI*2,l=Math.sqrt(Math.random());return h.x=g.x+l*Math.cos(u)*g.width/2,h.y=g.y+l*Math.sin(u)*g.height/2,h}},49203:(_,k,a)=>{var b=a(8497);b.Area=a(78874),b.Circumference=a(92990),b.CircumferencePoint=a(79522),b.Clone=a(58102),b.Contains=a(81154),b.ContainsPoint=a(46662),b.ContainsRect=a(1632),b.CopyFrom=a(65534),b.Equals=a(36146),b.GetBounds=a(23694),b.GetPoint=a(90549),b.GetPoints=a(48320),b.Offset=a(73424),b.OffsetPoint=a(44808),b.Random=a(24820),_.exports=b},55738:(_,k,a)=>{var b=a(23777),T=a(79291),g={Circle:a(88911),Ellipse:a(49203),Intersects:a(91865),Line:a(2529),Mesh:a(73090),Point:a(43711),Polygon:a(58423),Rectangle:a(93232),Triangle:a(84435)};g=T(!1,g,b),_.exports=g},2044:(_,k,a)=>{var b=a(20339);_.exports=function(g,h){return b(g.x,g.y,h.x,h.y)<=g.radius+h.radius}},81491:_=>{_.exports=function(a,b){var T=b.width/2,g=b.height/2,h=Math.abs(a.x-b.x-T),u=Math.abs(a.y-b.y-g);if(h>T+a.radius||u>g+a.radius)return!1;if(h<=T||u<=g)return!0;var f=h-T,c=u-g;return f*f+c*c<=a.radius*a.radius}},63376:(_,k,a)=>{var b=a(2141),T=a(2044);_.exports=function(h,u,l){if(void 0===l&&(l=[]),T(h,u)){var y,w,S,A,d=h.x,f=h.y,c=h.radius,m=u.x,v=u.y,x=u.radius;if(f===v)0==(S=(w=-2*v)*w-4*(y=1)*(m*m+(A=(x*x-c*c-m*m+d*d)/(2*(d-m)))*A-2*m*A+v*v-x*x))?l.push(new b(A,-w/(2*y))):S>0&&(l.push(new b(A,(-w+Math.sqrt(S))/(2*y))),l.push(new b(A,(-w-Math.sqrt(S))/(2*y))));else{var I=(d-m)/(f-v),M=(x*x-c*c-m*m+d*d-v*v+f*f)/(2*(f-v));0==(S=(w=2*f*I-2*M*I-2*d)*w-4*(y=I*I+1)*(d*d+f*f+M*M-c*c-2*f*M))?l.push(new b(A=-w/(2*y),M-A*I)):S>0&&(A=(-w+Math.sqrt(S))/(2*y),l.push(new b(A,M-A*I)),A=(-w-Math.sqrt(S))/(2*y),l.push(new b(A,M-A*I)))}}return l}},97439:(_,k,a)=>{var b=a(4042),T=a(81491);_.exports=function(h,u,l){if(void 0===l&&(l=[]),T(h,u)){var d=u.getLineA(),f=u.getLineB(),c=u.getLineC(),m=u.getLineD();b(d,h,l),b(f,h,l),b(c,h,l),b(m,h,l)}return l}},4042:(_,k,a)=>{var b=a(2141),T=a(80462);_.exports=function(h,u,l){if(void 0===l&&(l=[]),T(h,u)){var N,L,d=h.x1,f=h.y1,y=u.radius,w=h.x2-d,E=h.y2-f,S=d-u.x,A=f-u.y,I=w*w+E*E,M=2*(w*S+E*A),O=M*M-4*I*(S*S+A*A-y*y);if(0===O){var G=-M/(2*I);N=d+G*w,L=f+G*E,G>=0&&G<=1&&l.push(new b(N,L))}else if(O>0){var j=(-M-Math.sqrt(O))/(2*I);N=d+j*w,L=f+j*E,j>=0&&j<=1&&l.push(new b(N,L));var z=(-M+Math.sqrt(O))/(2*I);N=d+z*w,L=f+z*E,z>=0&&z<=1&&l.push(new b(N,L))}}return l}},36100:(_,k,a)=>{var b=a(25836);_.exports=function(g,h,u,l){void 0===u&&(u=!1);var P,O,N,d=g.x1,f=g.y1,v=h.x1,x=h.y1,E=g.x2-d,S=g.y2-f,A=h.x2-v,I=h.y2-x,M=E*I-S*A;if(0===M)return null;if(u){if(P=(E*(x-f)+S*(d-v))/(A*S-I*E),0!==E)O=(v+A*P-d)/E;else{if(0===S)return null;O=(x+I*P-f)/S}if(O<0||P<0||P>1)return null;N=O}else{if(O=((f-x)*E-(d-v)*S)/M,(P=((v-d)*I-(x-f)*A)/M)<0||P>1||O<0||O>1)return null;N=P}return void 0===l&&(l=new b),l.set(d+E*N,f+S*N,N)}},3073:(_,k,a)=>{var b=a(36100),T=a(23031),g=a(25836),h=new T,u=new g;_.exports=function(d,f,c,m){void 0===c&&(c=!1),void 0===m&&(m=new g);var v=!1;m.set(),u.set();for(var x=f[f.length-1],y=0;y<f.length;y++){var w=f[y];h.setTo(x.x,x.y,w.x,w.y),x=w,b(d,h,c,u)&&(!v||u.z<m.z)&&(m.copy(u),v=!0)}return v?m:null}},56362:(_,k,a)=>{var b=a(25836),T=a(61369),g=a(3073),h=new b;_.exports=function(l,d,f,c){void 0===c&&(c=new T),Array.isArray(d)||(d=[d]);var m=!1;c.set(),h.set();for(var v=0;v<d.length;v++)g(l,d[v].points,f,h)&&(!m||h.z<c.z)&&(c.set(h.x,h.y,h.z,v),m=!0);return m?c:null}},60646:(_,k,a)=>{var b=a(2141),T=a(76112),g=a(92773);_.exports=function(u,l,d){if(void 0===d&&(d=[]),g(u,l))for(var f=l.getLineA(),c=l.getLineB(),m=l.getLineC(),v=l.getLineD(),x=[new b,new b,new b,new b],y=[T(f,u,x[0]),T(c,u,x[1]),T(m,u,x[2]),T(v,u,x[3])],w=0;w<4;w++)y[w]&&d.push(x[w]);return d}},71147:(_,k,a)=>{var b=a(61369),T=a(56362),h=new(a(23031));function u(f,c,m,v,x){var y=Math.cos(f),w=Math.sin(f);h.setTo(c,m,c+y,m+w);var E=T(h,v,!0);E&&x.push(new b(E.x,E.y,f,E.w))}function l(f,c){return f.z-c.z}_.exports=function(f,c,m){Array.isArray(m)||(m=[m]);for(var v=[],x=[],y=0;y<m.length;y++)for(var w=m[y].points,E=0;E<w.length;E++){var S=Math.atan2(w[E].y-c,w[E].x-f);-1===x.indexOf(S)&&(u(S,f,c,m,v),u(S-1e-5,f,c,m,v),u(S+1e-5,f,c,m,v),x.push(S))}return v.sort(l)}},68389:(_,k,a)=>{var b=a(87841),T=a(59996);_.exports=function(h,u,l){return void 0===l&&(l=new b),T(h,u)&&(l.x=Math.max(h.x,u.x),l.y=Math.max(h.y,u.y),l.width=Math.min(h.right,u.right)-l.x,l.height=Math.min(h.bottom,u.bottom)-l.y),l}},52784:(_,k,a)=>{var b=a(60646),T=a(59996);_.exports=function(h,u,l){if(void 0===l&&(l=[]),T(h,u)){var d=h.getLineA(),f=h.getLineB(),c=h.getLineC(),m=h.getLineD();b(d,u,l),b(f,u,l),b(c,u,l),b(m,u,l)}return l}},26341:(_,k,a)=>{var b=a(89265),T=a(60646);_.exports=function(h,u,l){if(void 0===l&&(l=[]),b(h,u)){var d=u.getLineA(),f=u.getLineB(),c=u.getLineC();T(d,h,l),T(f,h,l),T(c,h,l)}return l}},38720:(_,k,a)=>{var b=a(4042),T=a(67636);_.exports=function(h,u,l){if(void 0===l&&(l=[]),T(h,u)){var d=h.getLineA(),f=h.getLineB(),c=h.getLineC();b(d,u,l),b(f,u,l),b(c,u,l)}return l}},13882:(_,k,a)=>{var b=a(2141),T=a(2822),g=a(76112);_.exports=function(u,l,d){if(void 0===d&&(d=[]),T(u,l))for(var f=u.getLineA(),c=u.getLineB(),m=u.getLineC(),v=[new b,new b,new b],x=[g(f,l,v[0]),g(c,l,v[1]),g(m,l,v[2])],y=0;y<3;y++)x[y]&&d.push(v[y]);return d}},75636:(_,k,a)=>{var b=a(82944),T=a(13882);_.exports=function(h,u,l){if(void 0===l&&(l=[]),b(h,u)){var d=u.getLineA(),f=u.getLineB(),c=u.getLineC();T(h,d,l),T(h,f,l),T(h,c,l)}return l}},80462:(_,k,a)=>{var b=a(87902),g=new(a(2141));_.exports=function(u,l,d){if(void 0===d&&(d=g),b(l,u.x1,u.y1))return d.x=u.x1,d.y=u.y1,!0;if(b(l,u.x2,u.y2))return d.x=u.x2,d.y=u.y2,!0;var f=u.x2-u.x1,c=u.y2-u.y1,x=f*f+c*c,y=f,w=c;if(x>0){var E=((l.x-u.x1)*f+(l.y-u.y1)*c)/x;y*=E,w*=E}return d.x=u.x1+y,d.y=u.y1+w,y*y+w*w<=x&&y*f+w*c>=0&&b(l,d.x,d.y)}},76112:_=>{_.exports=function(a,b,T){var g=a.x1,h=a.y1,u=a.x2,l=a.y2,d=b.x1,f=b.y1,c=b.x2,m=b.y2;if(g===u&&h===l||d===c&&f===m)return!1;var v=(m-f)*(u-g)-(c-d)*(l-h);if(0===v)return!1;var x=((c-d)*(h-f)-(m-f)*(g-d))/v,y=((u-g)*(h-f)-(l-h)*(g-d))/v;return!(x<0||x>1||y<0||y>1||(T&&(T.x=g+x*(u-g),T.y=h+x*(l-h)),0))}},92773:_=>{_.exports=function(a,b){var T=a.x1,g=a.y1,h=a.x2,u=a.y2,l=b.x,d=b.y,f=b.right,c=b.bottom,m=0;if(T>=l&&T<=f&&g>=d&&g<=c||h>=l&&h<=f&&u>=d&&u<=c)return!0;if(T<l&&h>=l){if((m=g+(u-g)*(l-T)/(h-T))>d&&m<=c)return!0}else if(T>f&&h<=f&&(m=g+(u-g)*(f-T)/(h-T))>=d&&m<=c)return!0;if(g<d&&u>=d){if((m=T+(h-T)*(d-g)/(u-g))>=l&&m<=f)return!0}else if(g>c&&u<=c&&(m=T+(h-T)*(c-g)/(u-g))>=l&&m<=f)return!0;return!1}},16204:_=>{_.exports=function(a,b,T){void 0===T&&(T=1);var g=b.x1,h=b.y1,u=b.x2,l=b.y2,d=a.x,f=a.y,c=(u-g)*(u-g)+(l-h)*(l-h);if(0===c)return!1;var m=((d-g)*(u-g)+(f-h)*(l-h))/c;return m<0?Math.sqrt((g-d)*(g-d)+(h-f)*(h-f))<=T:m>=0&&m<=1?Math.abs(((h-f)*(u-g)-(g-d)*(l-h))/c)*Math.sqrt(c)<=T:Math.sqrt((u-d)*(u-d)+(l-f)*(l-f))<=T}},14199:(_,k,a)=>{var b=a(16204);_.exports=function(g,h){if(!b(g,h))return!1;var u=Math.min(h.x1,h.x2),l=Math.max(h.x1,h.x2),d=Math.min(h.y1,h.y2),f=Math.max(h.y1,h.y2);return g.x>=u&&g.x<=l&&g.y>=d&&g.y<=f}},59996:_=>{_.exports=function(a,b){return!(a.width<=0||a.height<=0||b.width<=0||b.height<=0||a.right<b.x||a.bottom<b.y||a.x>b.right||a.y>b.bottom)}},89265:(_,k,a)=>{var b=a(76112),T=a(37303),g=a(48653),h=a(77493);_.exports=function(l,d){if(d.left>l.right||d.right<l.left||d.top>l.bottom||d.bottom<l.top)return!1;var f=d.getLineA(),c=d.getLineB(),m=d.getLineC();if(T(l,f.x1,f.y1)||T(l,f.x2,f.y2)||T(l,c.x1,c.y1)||T(l,c.x2,c.y2)||T(l,m.x1,m.y1)||T(l,m.x2,m.y2))return!0;var v=l.getLineA(),x=l.getLineB(),y=l.getLineC(),w=l.getLineD();if(b(f,v)||b(f,x)||b(f,y)||b(f,w)||b(c,v)||b(c,x)||b(c,y)||b(c,w)||b(m,v)||b(m,x)||b(m,y)||b(m,w))return!0;var E=h(l);return g(d,E,!0).length>0}},84411:_=>{_.exports=function(a,b,T,g,h,u){return void 0===u&&(u=0),!(b>a.right+u||T<a.left-u||g>a.bottom+u||h<a.top-u)}},67636:(_,k,a)=>{var b=a(80462),T=a(10690);_.exports=function(h,u){return!(h.left>u.right||h.right<u.left||h.top>u.bottom||h.bottom<u.top||!(T(h,u.x,u.y)||b(h.getLineA(),u)||b(h.getLineB(),u)||b(h.getLineC(),u)))}},2822:(_,k,a)=>{var b=a(76112);_.exports=function(g,h){return!!(g.contains(h.x1,h.y1)||g.contains(h.x2,h.y2)||b(g.getLineA(),h)||b(g.getLineB(),h)||b(g.getLineC(),h))}},82944:(_,k,a)=>{var b=a(48653),T=a(71694),g=a(76112);_.exports=function(u,l){if(u.left>l.right||u.right<l.left||u.top>l.bottom||u.bottom<l.top)return!1;var d=u.getLineA(),f=u.getLineB(),c=u.getLineC(),m=l.getLineA(),v=l.getLineB(),x=l.getLineC();if(g(d,m)||g(d,v)||g(d,x)||g(f,m)||g(f,v)||g(f,x)||g(c,m)||g(c,v)||g(c,x))return!0;var y=T(u),w=b(l,y,!0);return w.length>0||(y=T(l),(w=b(u,y,!0)).length>0)}},91865:(_,k,a)=>{_.exports={CircleToCircle:a(2044),CircleToRectangle:a(81491),GetCircleToCircle:a(63376),GetCircleToRectangle:a(97439),GetLineToCircle:a(4042),GetLineToLine:a(36100),GetLineToPoints:a(3073),GetLineToPolygon:a(56362),GetLineToRectangle:a(60646),GetRaysFromPointToPolygon:a(71147),GetRectangleIntersection:a(68389),GetRectangleToRectangle:a(52784),GetRectangleToTriangle:a(26341),GetTriangleToCircle:a(38720),GetTriangleToLine:a(13882),GetTriangleToTriangle:a(75636),LineToCircle:a(80462),LineToLine:a(76112),LineToRectangle:a(92773),PointToLine:a(16204),PointToLineSegment:a(14199),RectangleToRectangle:a(59996),RectangleToTriangle:a(89265),RectangleToValues:a(84411),TriangleToCircle:a(67636),TriangleToLine:a(2822),TriangleToTriangle:a(82944)}},91938:_=>{_.exports=function(a){return Math.atan2(a.y2-a.y1,a.x2-a.x1)}},84993:_=>{_.exports=function(a,b,T){void 0===b&&(b=1),void 0===T&&(T=[]);var g=Math.round(a.x1),h=Math.round(a.y1),u=Math.round(a.x2),l=Math.round(a.y2),d=Math.abs(u-g),f=Math.abs(l-h),c=g<u?1:-1,m=h<l?1:-1,v=d-f;T.push({x:g,y:h});for(var x=1;g!==u||h!==l;){var y=v<<1;y>-f&&(v-=f,g+=c),y<d&&(v+=d,h+=m),x%b==0&&T.push({x:g,y:h}),x++}return T}},36469:_=>{_.exports=function(a,b,T){var g=b-(a.x1+a.x2)/2,h=T-(a.y1+a.y2)/2;return a.x1+=g,a.y1+=h,a.x2+=g,a.y2+=h,a}},31116:(_,k,a)=>{var b=a(23031);_.exports=function(g){return new b(g.x1,g.y1,g.x2,g.y2)}},59944:_=>{_.exports=function(a,b){return b.setTo(a.x1,a.y1,a.x2,a.y2)}},59220:_=>{_.exports=function(a,b){return a.x1===b.x1&&a.y1===b.y1&&a.x2===b.x2&&a.y2===b.y2}},78177:(_,k,a)=>{var b=a(35001);_.exports=function(g,h,u){void 0===u&&(u=h);var l=b(g),d=g.x2-g.x1,f=g.y2-g.y1;return h&&(g.x1=g.x1-d/l*h,g.y1=g.y1-f/l*h),u&&(g.x2=g.x2+d/l*u,g.y2=g.y2+f/l*u),g}},26708:(_,k,a)=>{var b=a(52816),T=a(6113),g=a(2141);_.exports=function(u,l,d,f,c){void 0===f&&(f=0),void 0===c&&(c=[]);var S,A,m=[],v=u.x1,x=u.y1,y=u.x2-v,w=u.y2-x,E=T(l,c),I=d-1;for(S=0;S<I;S++)A=E(S/I),m.push(new g(v+y*A,x+w*A));if(A=E(1),m.push(new g(v+y*A,x+w*A)),f>0){var M=m[0],P=[M];for(S=1;S<m.length-1;S++){var O=m[S];b(M,O)>=f&&(P.push(O),M=O)}var N=m[m.length-1];return b(M,N)<f&&P.pop(),P.push(N),P}return m}},32125:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){return void 0===h&&(h=new b),h.x=(g.x1+g.x2)/2,h.y=(g.y1+g.y2)/2,h}},99569:(_,k,a)=>{var b=a(2141);_.exports=function(g,h,u){void 0===u&&(u=new b);var l=g.x1,d=g.y1,f=g.x2,c=g.y2,m=(f-l)*(f-l)+(c-d)*(c-d);if(0===m)return u;var v=((h.x-l)*(f-l)+(h.y-d)*(c-d))/m;return u.x=l+v*(f-l),u.y=d+v*(c-d),u}},34638:(_,k,a)=>{var b=a(36383),T=a(91938),g=a(2141);_.exports=function(u,l){void 0===l&&(l=new g);var d=T(u)-b.TAU;return l.x=Math.cos(d),l.y=Math.sin(d),l}},13151:(_,k,a)=>{var b=a(2141);_.exports=function(g,h,u){return void 0===u&&(u=new b),u.x=g.x1+(g.x2-g.x1)*h,u.y=g.y1+(g.y2-g.y1)*h,u}},15258:(_,k,a)=>{var b=a(35001),T=a(2141);_.exports=function(h,u,l,d){void 0===d&&(d=[]),!u&&l>0&&(u=b(h)/l);for(var f=h.x1,c=h.y1,m=h.x2,v=h.y2,x=0;x<u;x++){var y=x/u;d.push(new T(f+(m-f)*y,c+(v-c)*y))}return d}},26408:_=>{_.exports=function(a,b){var T=a.x1,g=a.y1,h=a.x2,u=a.y2,l=(h-T)*(h-T)+(u-g)*(u-g);return 0!==l&&Math.abs(((g-b.y)*(h-T)-(T-b.x)*(u-g))/l)*Math.sqrt(l)}},98770:_=>{_.exports=function(a){return Math.abs(a.y1-a.y2)}},35001:_=>{_.exports=function(a){return Math.sqrt((a.x2-a.x1)*(a.x2-a.x1)+(a.y2-a.y1)*(a.y2-a.y1))}},23031:(_,k,a)=>{var b=a(83419),T=a(13151),g=a(15258),h=a(23777),u=a(65822),l=a(26099),d=new b({initialize:function(c,m,v,x){void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),this.type=h.LINE,this.x1=c,this.y1=m,this.x2=v,this.y2=x},getPoint:function(f,c){return T(this,f,c)},getPoints:function(f,c,m){return g(this,f,c,m)},getRandomPoint:function(f){return u(this,f)},setTo:function(f,c,m,v){return void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=0),this.x1=f,this.y1=c,this.x2=m,this.y2=v,this},setFromObjects:function(f,c){return this.x1=f.x,this.y1=f.y,this.x2=c.x,this.y2=c.y,this},getPointA:function(f){return void 0===f&&(f=new l),f.set(this.x1,this.y1),f},getPointB:function(f){return void 0===f&&(f=new l),f.set(this.x2,this.y2),f},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(f){this.x1<=this.x2?this.x1=f:this.x2=f}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(f){this.x1>this.x2?this.x1=f:this.x2=f}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(f){this.y1<=this.y2?this.y1=f:this.y2=f}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(f){this.y1>this.y2?this.y1=f:this.y2=f}}});_.exports=d},64795:(_,k,a)=>{var b=a(36383),T=a(15994),g=a(91938);_.exports=function(u){var l=g(u)-b.TAU;return T(l,-Math.PI,Math.PI)}},52616:(_,k,a)=>{var b=a(36383),T=a(91938);_.exports=function(h){return Math.cos(T(h)-b.TAU)}},87231:(_,k,a)=>{var b=a(36383),T=a(91938);_.exports=function(h){return Math.sin(T(h)-b.TAU)}},89662:_=>{_.exports=function(a,b,T){return a.x1+=b,a.y1+=T,a.x2+=b,a.y2+=T,a}},71165:_=>{_.exports=function(a){return-(a.x2-a.x1)/(a.y2-a.y1)}},65822:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){void 0===h&&(h=new b);var u=Math.random();return h.x=g.x1+u*(g.x2-g.x1),h.y=g.y1+u*(g.y2-g.y1),h}},69777:(_,k,a)=>{var b=a(91938),T=a(64795);_.exports=function(h,u){return 2*T(u)-Math.PI-b(h)}},39706:(_,k,a)=>{var b=a(64400);_.exports=function(g,h){return b(g,(g.x1+g.x2)/2,(g.y1+g.y2)/2,h)}},82585:(_,k,a)=>{var b=a(64400);_.exports=function(g,h,u){return b(g,h.x,h.y,u)}},64400:_=>{_.exports=function(a,b,T,g){var h=Math.cos(g),u=Math.sin(g),l=a.x1-b,d=a.y1-T;return a.x1=l*h-d*u+b,a.y1=l*u+d*h+T,a.x2=(l=a.x2-b)*h-(d=a.y2-T)*u+b,a.y2=l*u+d*h+T,a}},62377:_=>{_.exports=function(a,b,T,g,h){return a.x1=b,a.y1=T,a.x2=b+Math.cos(g)*h,a.y2=T+Math.sin(g)*h,a}},71366:_=>{_.exports=function(a){return(a.y2-a.y1)/(a.x2-a.x1)}},10809:_=>{_.exports=function(a){return Math.abs(a.x1-a.x2)}},2529:(_,k,a)=>{var b=a(23031);b.Angle=a(91938),b.BresenhamPoints=a(84993),b.CenterOn=a(36469),b.Clone=a(31116),b.CopyFrom=a(59944),b.Equals=a(59220),b.Extend=a(78177),b.GetEasedPoints=a(26708),b.GetMidPoint=a(32125),b.GetNearestPoint=a(99569),b.GetNormal=a(34638),b.GetPoint=a(13151),b.GetPoints=a(15258),b.GetShortestDistance=a(26408),b.Height=a(98770),b.Length=a(35001),b.NormalAngle=a(64795),b.NormalX=a(52616),b.NormalY=a(87231),b.Offset=a(89662),b.PerpSlope=a(71165),b.Random=a(65822),b.ReflectAngle=a(69777),b.Rotate=a(39706),b.RotateAroundPoint=a(82585),b.RotateAroundXY=a(64400),b.SetToAngle=a(62377),b.Slope=a(71366),b.Width=a(10809),_.exports=b},83997:(_,k,a)=>{var b=a(83419),T=a(87841),g=a(26099);function h(l,d,f,c){var m=l-f,v=d-c;return Math.sqrt(m*m+v*v)}var u=new b({initialize:function(d,f,c){this.vertex1=d,this.vertex2=f,this.vertex3=c,this.bounds=new T,this._inCenter=new g},getInCenter:function(l){void 0===l&&(l=!0);var m,v,x,y,w,E,d=this.vertex1,f=this.vertex2,c=this.vertex3;l?(m=d.x,v=d.y,x=f.x,y=f.y,w=c.x,E=c.y):(m=d.vx,v=d.vy,x=f.vx,y=f.vy,w=c.vx,E=c.vy);var S=h(w,E,x,y),A=h(m,v,w,E),I=h(x,y,m,v),M=S+A+I;return this._inCenter.set((m*S+x*A+w*I)/M,(v*S+y*A+E*I)/M)},contains:function(l,d,f){var c=this.vertex1,m=this.vertex2,v=this.vertex3,x=c.vx,y=c.vy,w=m.vx,E=m.vy,S=v.vx,A=v.vy;if(f){var I=f.a,M=f.b,P=f.c,O=f.d,N=f.e,L=f.f;x=c.vx*I+c.vy*P+N,y=c.vx*M+c.vy*O+L,w=m.vx*I+m.vy*P+N,E=m.vx*M+m.vy*O+L,S=v.vx*I+v.vy*P+N,A=v.vx*M+v.vy*O+L}var G=S-x,j=A-y,z=w-x,Y=E-y,Z=l-x,rt=d-y,st=G*G+j*j,K=G*z+j*Y,tt=G*Z+j*rt,W=z*z+Y*Y,H=z*Z+Y*rt,it=st*W-K*K,dt=0===it?0:1/it,mt=(W*tt-K*H)*dt,vt=(st*H-K*tt)*dt;return mt>=0&&vt>=0&&mt+vt<1},isCounterClockwise:function(l){var d=this.vertex1,f=this.vertex2,c=this.vertex3,m=(f.vx-d.vx)*(c.vy-d.vy)-(f.vy-d.vy)*(c.vx-d.vx);return l<=0?m>=0:m<0},load:function(l,d,f,c,m){return f=this.vertex1.load(l,d,f,c,m),f=this.vertex2.load(l,d,f,c,m),this.vertex3.load(l,d,f,c,m)},transformCoordinatesLocal:function(l,d,f,c){return this.vertex1.transformCoordinatesLocal(l,d,f,c),this.vertex2.transformCoordinatesLocal(l,d,f,c),this.vertex3.transformCoordinatesLocal(l,d,f,c),this},updateBounds:function(){var l=this.vertex1,d=this.vertex2,f=this.vertex3,c=this.bounds;return c.x=Math.min(l.vx,d.vx,f.vx),c.y=Math.min(l.vy,d.vy,f.vy),c.width=Math.max(l.vx,d.vx,f.vx)-c.x,c.height=Math.max(l.vy,d.vy,f.vy)-c.y,this},isInView:function(l,d,f,c,m,v,x,y,w,E,S){this.update(c,m,v,x,y,w,E,S);var A=this.vertex1,I=this.vertex2,M=this.vertex3;if(A.ta<=0&&I.ta<=0&&M.ta<=0||d&&!this.isCounterClockwise(f))return!1;var P=this.bounds;return P.x=Math.min(A.tx,I.tx,M.tx),P.y=Math.min(A.ty,I.ty,M.ty),P.width=Math.max(A.tx,I.tx,M.tx)-P.x,P.height=Math.max(A.ty,I.ty,M.ty)-P.y,!(P.width<=0||P.height<=0||l.width<=0||l.height<=0||P.right<l.x||P.bottom<l.y||P.x>l.x+l.width||P.y>l.y+l.height)},scrollUV:function(l,d){return this.vertex1.scrollUV(l,d),this.vertex2.scrollUV(l,d),this.vertex3.scrollUV(l,d),this},scaleUV:function(l,d){return this.vertex1.scaleUV(l,d),this.vertex2.scaleUV(l,d),this.vertex3.scaleUV(l,d),this},setColor:function(l){return this.vertex1.color=l,this.vertex2.color=l,this.vertex3.color=l,this},update:function(l,d,f,c,m,v,x,y){return this.vertex1.update(d,f,c,m,v,x,y,l),this.vertex2.update(d,f,c,m,v,x,y,l),this.vertex3.update(d,f,c,m,v,x,y,l),this},translate:function(l,d){void 0===d&&(d=0);var f=this.vertex1,c=this.vertex2,m=this.vertex3;return f.x+=l,f.y+=d,c.x+=l,c.y+=d,m.x+=l,m.y+=d,this},x:{get:function(){return this.getInCenter().x},set:function(l){var d=this.getInCenter();this.translate(l-d.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(l){var d=this.getInCenter();this.translate(0,l-d.y)}},alpha:{get:function(){return(this.vertex1.alpha+this.vertex2.alpha+this.vertex3.alpha)/3},set:function(l){this.vertex1.alpha=l,this.vertex2.alpha=l,this.vertex3.alpha=l}},depth:{get:function(){return(this.vertex1.vz+this.vertex2.vz+this.vertex3.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});_.exports=u},48803:(_,k,a)=>{var b=a(83997),T=a(95540),g=a(37867),h=a(25836),u=a(39318),l=new h,d=new h,f=new g;_.exports=function(m){var tt,v=T(m,"mesh"),x=T(m,"texture",null),y=T(m,"frame"),w=T(m,"width",1),E=T(m,"height",w),S=T(m,"widthSegments",1),A=T(m,"heightSegments",S),I=T(m,"x",0),M=T(m,"y",0),P=T(m,"z",0),O=T(m,"rotateX",0),N=T(m,"rotateY",0),L=T(m,"rotateZ",0),G=T(m,"zIsUp",!0),j=T(m,"isOrtho",!!v&&v.dirtyCache[11]),z=T(m,"colors",[16777215]),Y=T(m,"alphas",[1]),Z=T(m,"tile",!1),rt=T(m,"flipY",!1),st=T(m,"width",null),K={faces:[],verts:[]};if(l.set(I,M,P),d.set(O,N,L),f.fromRotationXYTranslation(d,l,G),!x&&v)x=v.texture,y||(tt=v.frame);else if(v&&"string"==typeof x)x=v.scene.sys.textures.get(x);else if(!x)return K;tt||(tt=x.get(y)),!st&&j&&x&&v&&(w=tt.width/v.height,E=tt.height/v.height);var Zt,ee,W=w/2,H=E/2,it=Math.floor(S),dt=Math.floor(A),mt=it+1,vt=dt+1,Tt=w/it,Nt=E/dt,Yt=[],$t=[],le=0,De=1,gi=0,Me=1;tt&&(le=tt.u0,De=tt.u1,rt?(gi=tt.v1,Me=tt.v0):(gi=tt.v0,Me=tt.v1));var Ti=De-le,xe=Me-gi;for(ee=0;ee<vt;ee++){var ni=ee*Nt-H;for(Zt=0;Zt<mt;Zt++)$t.push(Zt*Tt-W,-ni),Yt.push(le+Ti*(Zt/it),gi+xe*(ee/dt))}Array.isArray(z)||(z=[z]),Array.isArray(Y)||(Y=[Y]);var er=0,vn=0;for(ee=0;ee<dt;ee++)for(Zt=0;Zt<it;Zt++){var wn=2*(Zt+mt*ee),Rr=2*(Zt+mt*(ee+1)),ts=2*(Zt+1+mt*(ee+1)),An=2*(Zt+1+mt*ee),mr=z[vn],jr=Y[er],Rs=new u($t[wn],$t[wn+1],0,Yt[wn],Yt[wn+1],mr,jr).transformMat4(f),sd=new u($t[Rr],$t[Rr+1],0,Yt[Rr],Yt[Rr+1],mr,jr).transformMat4(f),zl=new u($t[An],$t[An+1],0,Yt[An],Yt[An+1],mr,jr).transformMat4(f),ad=new u($t[Rr],$t[Rr+1],0,Yt[Rr],Yt[Rr+1],mr,jr).transformMat4(f),Eo=new u($t[ts],$t[ts+1],0,Yt[ts],Yt[ts+1],mr,jr).transformMat4(f),ml=new u($t[An],$t[An+1],0,Yt[An],Yt[An+1],mr,jr).transformMat4(f);Z&&(Rs.setUVs(le,Me),sd.setUVs(le,gi),zl.setUVs(De,Me),ad.setUVs(le,gi),Eo.setUVs(De,gi),ml.setUVs(De,Me)),++vn===z.length&&(vn=0),++er===Y.length&&(er=0),K.verts.push(Rs,sd,zl,ad,Eo,ml),K.faces.push(new b(Rs,sd,zl),new b(ad,Eo,ml))}return v&&(v.faces=v.faces.concat(K.faces),v.vertices=v.vertices.concat(K.verts)),K}},34684:(_,k,a)=>{var b=a(83997),T=a(37867),g=a(25836),h=a(39318),u=new g,l=new g,d=new T;_.exports=function(c,m,v,x,y,w,E,S,A,I){void 0===v&&(v=1),void 0===x&&(x=0),void 0===y&&(y=0),void 0===w&&(w=0),void 0===E&&(E=0),void 0===S&&(S=0),void 0===A&&(A=0),void 0===I&&(I=!0);var M={faces:[],verts:[]},P=c.materials;u.set(x,y,w),l.set(E,S,A),d.fromRotationXYTranslation(l,u,I);for(var O=0;O<c.models.length;O++)for(var N=c.models[O],L=N.vertices,G=N.textureCoords,j=N.faces,z=0;z<j.length;z++){var Y=j[z],Z=Y.vertices[0],rt=Y.vertices[1],st=Y.vertices[2],K=L[Z.vertexIndex],tt=L[rt.vertexIndex],W=L[st.vertexIndex],H=Z.textureCoordsIndex,it=rt.textureCoordsIndex,dt=st.textureCoordsIndex,mt=-1===H?{u:0,v:1}:G[H],vt=-1===it?{u:0,v:0}:G[it],Tt=-1===dt?{u:1,v:1}:G[dt],Nt=16777215;""!==Y.material&&P[Y.material]&&(Nt=P[Y.material]);var Yt=new h(K.x*v,K.y*v,K.z*v,mt.u,mt.v,Nt).transformMat4(d),$t=new h(tt.x*v,tt.y*v,tt.z*v,vt.u,vt.v,Nt).transformMat4(d),Zt=new h(W.x*v,W.y*v,W.z*v,Tt.u,Tt.v,Nt).transformMat4(d);M.verts.push(Yt,$t,Zt),M.faces.push(new b(Yt,$t,Zt))}return m&&(m.faces=m.faces.concat(M.faces),m.vertices=m.vertices.concat(M.verts)),M}},92515:(_,k,a)=>{var b=a(83997),T=a(39318);_.exports=function(h,u,l,d,f,c,m,v){if(void 0===d&&(d=!1),void 0===c&&(c=16777215),void 0===m&&(m=1),void 0===v&&(v=!1),h.length===u.length||d){var y,I,O,N,L,x={faces:[],vertices:[]},G=d?3:2,j=Array.isArray(c),z=Array.isArray(m);if(Array.isArray(l)&&l.length>0)for(y=0;y<l.length;y++){var Y=l[y],Z=2*l[y],rt=l[y]*G;I=u[Z+1],v&&(I=1-I),O=0,N=0,L=0,f&&(O=f[rt],N=f[rt+1],L=d?f[rt+2]:0),x.vertices.push(new T(h[rt],h[rt+1],d?h[rt+2]:0,u[Z],I,j?c[Y]:c,z?m[Y]:m,O,N,L))}else{var st=0,K=0;for(y=0;y<h.length;y+=G)O=0,N=0,L=0,f&&(O=f[y],N=f[y+1],L=d?f[y+2]:0),x.vertices.push(new T(h[y],h[y+1],d?h[y+2]:0,u[st],I=u[st+1],j?c[K]:c,z?m[K]:m,O,N,L)),st+=2,K++}for(y=0;y<x.vertices.length;y+=3)x.faces.push(new b(x.vertices[y],x.vertices[y+1],x.vertices[y+2]));return x}console.warn("GenerateVerts: vertices and uvs count not equal")}},85048:_=>{var k=!0,a="untitled",b="",T="";function g(w){var E=w.indexOf("#");return E>-1?w.substring(0,E):w}function h(w){return 0===w.models.length&&w.models.push({faces:[],name:a,textureCoords:[],vertexNormals:[],vertices:[]}),b="",w.models[w.models.length-1]}function u(w,E){E.models.push({faces:[],name:w.length>=2?w[1]:a,textureCoords:[],vertexNormals:[],vertices:[]}),b=""}function l(w){2===w.length&&(b=w[1])}function d(w,E){var S=w.length,A=S>=2?parseFloat(w[1]):0,I=S>=3?parseFloat(w[2]):0,M=S>=4?parseFloat(w[3]):0;h(E).vertices.push({x:A,y:I,z:M})}function f(w,E){var S=w.length,A=S>=2?parseFloat(w[1]):0,I=S>=3?parseFloat(w[2]):0,M=S>=4?parseFloat(w[3]):0;isNaN(A)&&(A=0),isNaN(I)&&(I=0),isNaN(M)&&(M=0),k&&(I=1-I),h(E).textureCoords.push({u:A,v:I,w:M})}function c(w,E){var S=w.length,A=S>=2?parseFloat(w[1]):0,I=S>=3?parseFloat(w[2]):0,M=S>=4?parseFloat(w[3]):0;h(E).vertexNormals.push({x:A,y:I,z:M})}function m(w,E){var S=w.length-1;if(!(S<3)){for(var A={group:b,material:T,vertices:[]},I=0;I<S;I++){var P=w[I+1].split("/"),O=P.length;if(!(O<1||O>3)){var N=0,L=0,G=0;N=parseInt(P[0],10),O>1&&""!==P[1]&&(L=parseInt(P[1],10)),O>2&&(G=parseInt(P[2],10)),0!==N&&(N<0&&(N=h(E).vertices.length+1+N),A.vertices.push({textureCoordsIndex:L-=1,vertexIndex:N-=1,vertexNormalIndex:G-=1}))}}h(E).faces.push(A)}}function v(w,E){w.length>=2&&E.materialLibraries.push(w[1])}function x(w){w.length>=2&&(T=w[1])}_.exports=function(w,E){void 0===E&&(E=!0),k=E;var S={materials:{},materialLibraries:[],models:[]};b="",T="";for(var A=w.split("\n"),I=0;I<A.length;I++){var P=g(A[I]).replace(/\s\s+/g," ").trim().split(" ");switch(P[0].toLowerCase()){case"o":u(P,S);break;case"g":l(P);break;case"v":d(P,S);break;case"vt":f(P,S);break;case"vn":c(P,S);break;case"f":m(P,S);break;case"mtllib":v(P,S);break;case"usemtl":x(P)}}return S}},61485:(_,k,a)=>{var b=a(37589);_.exports=function(g){for(var h={},u=g.split("\n"),l="",d=0;d<u.length;d++){var f=u[d].trim();if(0!==f.indexOf("#")&&""!==f){var c=f.replace(/\s\s+/g," ").trim().split(" ");switch(c[0].toLowerCase()){case"newmtl":l=c[1];break;case"kd":var m=Math.floor(255*c[1]),v=c.length>=2?Math.floor(255*c[2]):m,x=c.length>=3?Math.floor(255*c[3]):m;h[l]=b(m,v,x)}}}return h}},92570:_=>{_.exports=function(a,b,T,g){var h,u;if(void 0===T&&void 0===g){var l=a.getInCenter();h=l.x,u=l.y}var d=Math.cos(b),f=Math.sin(b),c=a.vertex1,m=a.vertex2,v=a.vertex3,x=c.x-h,y=c.y-u;c.set(x*d-y*f+h,x*f+y*d+u),m.set((x=m.x-h)*d-(y=m.y-u)*f+h,x*f+y*d+u),v.set((x=v.x-h)*d-(y=v.y-u)*f+h,x*f+y*d+u)}},39318:(_,k,a)=>{var b=a(83419),T=a(70554),g=a(25836),h=new b({Extends:g,initialize:function(l,d,f,c,m,v,x,y,w,E){void 0===v&&(v=16777215),void 0===x&&(x=1),void 0===y&&(y=0),void 0===w&&(w=0),void 0===E&&(E=0),g.call(this,l,d,f),this.vx=0,this.vy=0,this.vz=0,this.nx=y,this.ny=w,this.nz=E,this.u=c,this.v=m,this.color=v,this.alpha=x,this.tx=0,this.ty=0,this.ta=0,this.tu=c,this.tv=m},setUVs:function(u,l){return this.u=u,this.v=l,this.tu=u,this.tv=l,this},scrollUV:function(u,l){return this.tu+=u,this.tv+=l,this},scaleUV:function(u,l){return this.tu=this.u*u,this.tv=this.v*l,this},transformCoordinatesLocal:function(u,l,d,f){var c=this.x,m=this.y,v=this.z,x=u.val,w=c*x[1]+m*x[5]+v*x[9]+x[13],E=c*x[2]+m*x[6]+v*x[10]+x[14],S=c*x[3]+m*x[7]+v*x[11]+x[15];this.vx=(c*x[0]+m*x[4]+v*x[8]+x[12])/S*l,this.vy=-w/S*d,this.vz=f<=0?E/S:-E/S},resize:function(u,l,d,f,c,m){return this.x=u,this.y=l,this.vx=this.x*d,this.vy=-this.y*f,this.vz=0,c<.5?this.vx+=d*(.5-c):c>.5&&(this.vx-=d*(c-.5)),m<.5?this.vy+=f*(.5-m):m>.5&&(this.vy-=f*(m-.5)),this},update:function(u,l,d,f,c,m,v,x){var y=this.vx*u+this.vy*d+c,w=this.vx*l+this.vy*f+m;return v&&(y=Math.round(y),w=Math.round(w)),this.tx=y,this.ty=w,this.ta=this.alpha*x,this},load:function(u,l,d,f,c){return u[++d]=this.tx,u[++d]=this.ty,u[++d]=this.tu,u[++d]=this.tv,u[++d]=f,u[++d]=c,l[++d]=T.getTintAppendFloatAlpha(this.color,this.ta),d}});_.exports=h},73090:(_,k,a)=>{var b={Face:a(83997),GenerateGridVerts:a(48803),GenerateObjVerts:a(34684),GenerateVerts:a(92515),ParseObj:a(85048),ParseObjMaterial:a(61485),RotateFace:a(92570),Vertex:a(39318)};_.exports=b},96550:_=>{_.exports=function(a){return a.setTo(Math.ceil(a.x),Math.ceil(a.y))}},99706:(_,k,a)=>{var b=a(2141);_.exports=function(g){return new b(g.x,g.y)}},68010:_=>{_.exports=function(a,b){return b.setTo(a.x,a.y)}},27814:_=>{_.exports=function(a,b){return a.x===b.x&&a.y===b.y}},73565:_=>{_.exports=function(a){return a.setTo(Math.floor(a.x),Math.floor(a.y))}},87555:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){if(void 0===h&&(h=new b),!Array.isArray(g))throw new Error("GetCentroid points argument must be an array");var u=g.length;if(u<1)throw new Error("GetCentroid points array must not be empty");if(1===u)h.x=g[0].x,h.y=g[0].y;else{for(var l=0;l<u;l++)h.x+=g[l].x,h.y+=g[l].y;h.x/=u,h.y/=u}return h}},28793:_=>{_.exports=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)}},44405:_=>{_.exports=function(a){return a.x*a.x+a.y*a.y}},20873:(_,k,a)=>{var b=a(87841);_.exports=function(g,h){void 0===h&&(h=new b);for(var u=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,c=0;c<g.length;c++){var m=g[c];m.x>u&&(u=m.x),m.x<l&&(l=m.x),m.y>d&&(d=m.y),m.y<f&&(f=m.y)}return h.x=l,h.y=f,h.width=u-l,h.height=d-f,h}},26152:(_,k,a)=>{var b=a(2141);_.exports=function(g,h,u,l){return void 0===u&&(u=0),void 0===l&&(l=new b),l.x=g.x+(h.x-g.x)*u,l.y=g.y+(h.y-g.y)*u,l}},55767:_=>{_.exports=function(a){return a.setTo(a.y,a.x)}},79432:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){return void 0===h&&(h=new b),h.setTo(-g.x,-g.y)}},2141:(_,k,a)=>{var b=a(83419),T=a(23777),g=new b({initialize:function(u,l){void 0===u&&(u=0),void 0===l&&(l=u),this.type=T.POINT,this.x=u,this.y=l},setTo:function(h,u){return void 0===h&&(h=0),void 0===u&&(u=h),this.x=h,this.y=u,this}});_.exports=g},72930:(_,k,a)=>{var b=a(2141),T=a(44405);_.exports=function(h,u,l){void 0===l&&(l=new b);var f=(h.x*u.x+h.y*u.y)/T(u);return 0!==f&&(l.x=f*u.x,l.y=f*u.y),l}},62880:(_,k,a)=>{var b=a(2141);_.exports=function(g,h,u){void 0===u&&(u=new b);var l=g.x*h.x+g.y*h.y;return 0!==l&&(u.x=l*h.x,u.y=l*h.y),u}},15093:(_,k,a)=>{var b=a(28793);_.exports=function(g,h){if(0!==g.x||0!==g.y){var u=b(g);g.x/=u,g.y/=u}return g.x*=h,g.y*=h,g}},43711:(_,k,a)=>{var b=a(2141);b.Ceil=a(96550),b.Clone=a(99706),b.CopyFrom=a(68010),b.Equals=a(27814),b.Floor=a(73565),b.GetCentroid=a(87555),b.GetMagnitude=a(28793),b.GetMagnitudeSq=a(44405),b.GetRectangleFromPoints=a(20873),b.Interpolate=a(26152),b.Invert=a(55767),b.Negative=a(79432),b.Project=a(72930),b.ProjectUnit=a(62880),b.SetMagnitude=a(15093),_.exports=b},12306:(_,k,a)=>{var b=a(25717);_.exports=function(g){return new b(g.points)}},63814:_=>{_.exports=function(a,b,T){for(var g=!1,h=-1,u=a.points.length-1;++h<a.points.length;u=h){var l=a.points[h].x,d=a.points[h].y,c=a.points[u].y;(d<=T&&T<c||c<=T&&T<d)&&b<(a.points[u].x-l)*(T-d)/(c-d)+l&&(g=!g)}return g}},99338:(_,k,a)=>{var b=a(63814);_.exports=function(g,h){return b(g,h.x,h.y)}},94811:_=>{"use strict";function k(K,tt,W){W=W||2;var vt,Tt,Nt,Yt,$t,Zt,ee,H=tt&&tt.length,it=H?tt[0]*W:K.length,dt=a(K,0,it,W,!0),mt=[];if(!dt||dt.next===dt.prev)return mt;if(H&&(dt=function d(K,tt,W,H){var dt,mt,Nt,it=[];for(dt=0,mt=tt.length;dt<mt;dt++)(Nt=a(K,tt[dt]*H,dt<mt-1?tt[dt+1]*H:K.length,H,!1))===Nt.next&&(Nt.steiner=!0),it.push(E(Nt));for(it.sort(f),dt=0;dt<it.length;dt++)W=c(it[dt],W);return W}(K,tt,dt,W)),K.length>80*W){vt=Nt=K[0],Tt=Yt=K[1];for(var le=W;le<it;le+=W)($t=K[le])<vt&&(vt=$t),(Zt=K[le+1])<Tt&&(Tt=Zt),$t>Nt&&(Nt=$t),Zt>Yt&&(Yt=Zt);ee=0!==(ee=Math.max(Nt-vt,Yt-Tt))?32767/ee:0}return T(dt,mt,W,vt,Tt,ee,0),mt}function a(K,tt,W,H,it){var dt,mt;if(it===st(K,tt,W,H)>0)for(dt=tt;dt<W;dt+=H)mt=Y(dt,K[dt],K[dt+1],mt);else for(dt=W-H;dt>=tt;dt-=H)mt=Y(dt,K[dt],K[dt+1],mt);return mt&&M(mt,mt.next)&&(Z(mt),mt=mt.next),mt}function b(K,tt){if(!K)return K;tt||(tt=K);var H,W=K;do{if(H=!1,W.steiner||!M(W,W.next)&&0!==I(W.prev,W,W.next))W=W.next;else{if(Z(W),(W=tt=W.prev)===W.next)break;H=!0}}while(H||W!==tt);return tt}function T(K,tt,W,H,it,dt,mt){if(K){!mt&&dt&&function x(K,tt,W,H){var it=K;do{0===it.z&&(it.z=w(it.x,it.y,tt,W,H)),it.prevZ=it.prev,it.nextZ=it.next,it=it.next}while(it!==K);it.prevZ.nextZ=null,it.prevZ=null,function y(K){var tt,W,H,it,dt,mt,vt,Tt,Nt=1;do{for(W=K,K=null,dt=null,mt=0;W;){for(mt++,H=W,vt=0,tt=0;tt<Nt&&(vt++,H=H.nextZ);tt++);for(Tt=Nt;vt>0||Tt>0&&H;)0!==vt&&(0===Tt||!H||W.z<=H.z)?(it=W,W=W.nextZ,vt--):(it=H,H=H.nextZ,Tt--),dt?dt.nextZ=it:K=it,it.prevZ=dt,dt=it;W=H}dt.nextZ=null,Nt*=2}while(mt>1)}(it)}(K,H,it,dt);for(var Tt,Nt,vt=K;K.prev!==K.next;)if(Tt=K.prev,Nt=K.next,dt?h(K,H,it,dt):g(K))tt.push(Tt.i/W|0),tt.push(K.i/W|0),tt.push(Nt.i/W|0),Z(K),K=Nt.next,vt=Nt.next;else if((K=Nt)===vt){mt?1===mt?T(K=u(b(K),tt,W),tt,W,H,it,dt,2):2===mt&&l(K,tt,W,H,it,dt):T(b(K),tt,W,H,it,dt,1);break}}}function g(K){var tt=K.prev,W=K,H=K.next;if(I(tt,W,H)>=0)return!1;for(var it=tt.x,dt=W.x,mt=H.x,vt=tt.y,Tt=W.y,Nt=H.y,Yt=it<dt?it<mt?it:mt:dt<mt?dt:mt,$t=vt<Tt?vt<Nt?vt:Nt:Tt<Nt?Tt:Nt,Zt=it>dt?it>mt?it:mt:dt>mt?dt:mt,ee=vt>Tt?vt>Nt?vt:Nt:Tt>Nt?Tt:Nt,le=H.next;le!==tt;){if(le.x>=Yt&&le.x<=Zt&&le.y>=$t&&le.y<=ee&&S(it,vt,dt,Tt,mt,Nt,le.x,le.y)&&I(le.prev,le,le.next)>=0)return!1;le=le.next}return!0}function h(K,tt,W,H){var it=K.prev,dt=K,mt=K.next;if(I(it,dt,mt)>=0)return!1;for(var vt=it.x,Tt=dt.x,Nt=mt.x,Yt=it.y,$t=dt.y,Zt=mt.y,ee=vt<Tt?vt<Nt?vt:Nt:Tt<Nt?Tt:Nt,le=Yt<$t?Yt<Zt?Yt:Zt:$t<Zt?$t:Zt,De=vt>Tt?vt>Nt?vt:Nt:Tt>Nt?Tt:Nt,gi=Yt>$t?Yt>Zt?Yt:Zt:$t>Zt?$t:Zt,Me=w(ee,le,tt,W,H),Ti=w(De,gi,tt,W,H),xe=K.prevZ,ni=K.nextZ;xe&&xe.z>=Me&&ni&&ni.z<=Ti;){if(xe.x>=ee&&xe.x<=De&&xe.y>=le&&xe.y<=gi&&xe!==it&&xe!==mt&&S(vt,Yt,Tt,$t,Nt,Zt,xe.x,xe.y)&&I(xe.prev,xe,xe.next)>=0||(xe=xe.prevZ,ni.x>=ee&&ni.x<=De&&ni.y>=le&&ni.y<=gi&&ni!==it&&ni!==mt&&S(vt,Yt,Tt,$t,Nt,Zt,ni.x,ni.y)&&I(ni.prev,ni,ni.next)>=0))return!1;ni=ni.nextZ}for(;xe&&xe.z>=Me;){if(xe.x>=ee&&xe.x<=De&&xe.y>=le&&xe.y<=gi&&xe!==it&&xe!==mt&&S(vt,Yt,Tt,$t,Nt,Zt,xe.x,xe.y)&&I(xe.prev,xe,xe.next)>=0)return!1;xe=xe.prevZ}for(;ni&&ni.z<=Ti;){if(ni.x>=ee&&ni.x<=De&&ni.y>=le&&ni.y<=gi&&ni!==it&&ni!==mt&&S(vt,Yt,Tt,$t,Nt,Zt,ni.x,ni.y)&&I(ni.prev,ni,ni.next)>=0)return!1;ni=ni.nextZ}return!0}function u(K,tt,W){var H=K;do{var it=H.prev,dt=H.next.next;!M(it,dt)&&P(it,H,H.next,dt)&&G(it,dt)&&G(dt,it)&&(tt.push(it.i/W|0),tt.push(H.i/W|0),tt.push(dt.i/W|0),Z(H),Z(H.next),H=K=dt),H=H.next}while(H!==K);return b(H)}function l(K,tt,W,H,it,dt){var mt=K;do{for(var vt=mt.next.next;vt!==mt.prev;){if(mt.i!==vt.i&&A(mt,vt)){var Tt=z(mt,vt);return mt=b(mt,mt.next),Tt=b(Tt,Tt.next),T(mt,tt,W,H,it,dt,0),void T(Tt,tt,W,H,it,dt,0)}vt=vt.next}mt=mt.next}while(mt!==K)}function f(K,tt){return K.x-tt.x}function c(K,tt){var W=function m(K,tt){var mt,W=tt,H=K.x,it=K.y,dt=-1/0;do{if(it<=W.y&&it>=W.next.y&&W.next.y!==W.y){var vt=W.x+(it-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(vt<=H&&vt>dt&&(dt=vt,mt=W.x<W.next.x?W:W.next,vt===H))return mt}W=W.next}while(W!==tt);if(!mt)return null;var Zt,Tt=mt,Nt=mt.x,Yt=mt.y,$t=1/0;W=mt;do{H>=W.x&&W.x>=Nt&&H!==W.x&&S(it<Yt?H:dt,it,Nt,Yt,it<Yt?dt:H,it,W.x,W.y)&&(Zt=Math.abs(it-W.y)/(H-W.x),G(W,K)&&(Zt<$t||Zt===$t&&(W.x>mt.x||W.x===mt.x&&v(mt,W)))&&(mt=W,$t=Zt)),W=W.next}while(W!==Tt);return mt}(K,tt);if(!W)return tt;var H=z(W,K);return b(H,H.next),b(W,W.next)}function v(K,tt){return I(K.prev,K,tt.prev)<0&&I(tt.next,K,K.next)<0}function w(K,tt,W,H,it){return(K=1431655765&((K=858993459&((K=252645135&((K=16711935&((K=(K-W)*it|0)|K<<8))|K<<4))|K<<2))|K<<1))|(tt=1431655765&((tt=858993459&((tt=252645135&((tt=16711935&((tt=(tt-H)*it|0)|tt<<8))|tt<<4))|tt<<2))|tt<<1))<<1}function E(K){var tt=K,W=K;do{(tt.x<W.x||tt.x===W.x&&tt.y<W.y)&&(W=tt),tt=tt.next}while(tt!==K);return W}function S(K,tt,W,H,it,dt,mt,vt){return(it-mt)*(tt-vt)>=(K-mt)*(dt-vt)&&(K-mt)*(H-vt)>=(W-mt)*(tt-vt)&&(W-mt)*(dt-vt)>=(it-mt)*(H-vt)}function A(K,tt){return K.next.i!==tt.i&&K.prev.i!==tt.i&&!function L(K,tt){var W=K;do{if(W.i!==K.i&&W.next.i!==K.i&&W.i!==tt.i&&W.next.i!==tt.i&&P(W,W.next,K,tt))return!0;W=W.next}while(W!==K);return!1}(K,tt)&&(G(K,tt)&&G(tt,K)&&function j(K,tt){var W=K,H=!1,it=(K.x+tt.x)/2,dt=(K.y+tt.y)/2;do{W.y>dt!=W.next.y>dt&&W.next.y!==W.y&&it<(W.next.x-W.x)*(dt-W.y)/(W.next.y-W.y)+W.x&&(H=!H),W=W.next}while(W!==K);return H}(K,tt)&&(I(K.prev,K,tt.prev)||I(K,tt.prev,tt))||M(K,tt)&&I(K.prev,K,K.next)>0&&I(tt.prev,tt,tt.next)>0)}function I(K,tt,W){return(tt.y-K.y)*(W.x-tt.x)-(tt.x-K.x)*(W.y-tt.y)}function M(K,tt){return K.x===tt.x&&K.y===tt.y}function P(K,tt,W,H){var it=N(I(K,tt,W)),dt=N(I(K,tt,H)),mt=N(I(W,H,K)),vt=N(I(W,H,tt));return!!(it!==dt&&mt!==vt||0===it&&O(K,W,tt)||0===dt&&O(K,H,tt)||0===mt&&O(W,K,H)||0===vt&&O(W,tt,H))}function O(K,tt,W){return tt.x<=Math.max(K.x,W.x)&&tt.x>=Math.min(K.x,W.x)&&tt.y<=Math.max(K.y,W.y)&&tt.y>=Math.min(K.y,W.y)}function N(K){return K>0?1:K<0?-1:0}function G(K,tt){return I(K.prev,K,K.next)<0?I(K,tt,K.next)>=0&&I(K,K.prev,tt)>=0:I(K,tt,K.prev)<0||I(K,K.next,tt)<0}function z(K,tt){var W=new rt(K.i,K.x,K.y),H=new rt(tt.i,tt.x,tt.y),it=K.next,dt=tt.prev;return K.next=tt,tt.prev=K,W.next=it,it.prev=W,H.next=W,W.prev=H,dt.next=H,H.prev=dt,H}function Y(K,tt,W,H){var it=new rt(K,tt,W);return H?(it.next=H.next,it.prev=H,H.next.prev=it,H.next=it):(it.prev=it,it.next=it),it}function Z(K){K.next.prev=K.prev,K.prev.next=K.next,K.prevZ&&(K.prevZ.nextZ=K.nextZ),K.nextZ&&(K.nextZ.prevZ=K.prevZ)}function rt(K,tt,W){this.i=K,this.x=tt,this.y=W,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function st(K,tt,W,H){for(var it=0,dt=tt,mt=W-H;dt<W;dt+=H)it+=(K[mt]-K[dt])*(K[dt+1]+K[mt+1]),mt=dt;return it}k.deviation=function(K,tt,W,H){var it=tt&&tt.length,mt=Math.abs(st(K,0,it?tt[0]*W:K.length,W));if(it)for(var vt=0,Tt=tt.length;vt<Tt;vt++)mt-=Math.abs(st(K,tt[vt]*W,vt<Tt-1?tt[vt+1]*W:K.length,W));var $t=0;for(vt=0;vt<H.length;vt+=3){var Zt=H[vt]*W,ee=H[vt+1]*W,le=H[vt+2]*W;$t+=Math.abs((K[Zt]-K[le])*(K[ee+1]-K[Zt+1])-(K[Zt]-K[ee])*(K[le+1]-K[Zt+1]))}return 0===mt&&0===$t?0:Math.abs(($t-mt)/mt)},k.flatten=function(K){for(var tt=K[0][0].length,W={vertices:[],holes:[],dimensions:tt},H=0,it=0;it<K.length;it++){for(var dt=0;dt<K[it].length;dt++)for(var mt=0;mt<tt;mt++)W.vertices.push(K[it][dt][mt]);it>0&&W.holes.push(H+=K[it-1].length)}return W},_.exports=k},13829:(_,k,a)=>{var b=a(87841);_.exports=function(g,h){void 0===h&&(h=new b);for(var c,u=1/0,l=1/0,d=-u,f=-l,m=0;m<g.points.length;m++)c=g.points[m],u=Math.min(u,c.x),l=Math.min(l,c.y),d=Math.max(d,c.x),f=Math.max(f,c.y);return h.x=u,h.y=l,h.width=d-u,h.height=f-l,h}},26173:_=>{_.exports=function(a,b){void 0===b&&(b=[]);for(var T=0;T<a.points.length;T++)b.push(a.points[T].x),b.push(a.points[T].y);return b}},9564:(_,k,a)=>{var b=a(35001),T=a(23031),g=a(30052);_.exports=function(u,l,d,f){void 0===f&&(f=[]);var c=u.points,m=g(u);!l&&d>0&&(l=m/d);for(var v=0;v<l;v++)for(var x=m*(v/l),y=0,w=0;w<c.length;w++){var E=c[w],S=c[(w+1)%c.length],A=new T(E.x,E.y,S.x,S.y),I=b(A);if(!(x<y||x>y+I)){var M=A.getPoint((x-y)/I);f.push(M);break}y+=I}return f}},30052:(_,k,a)=>{var b=a(35001),T=a(23031);_.exports=function(h){for(var u=h.points,l=0,d=0;d<u.length;d++){var f=u[d],c=u[(d+1)%u.length],m=new T(f.x,f.y,c.x,c.y);l+=b(m)}return l}},25717:(_,k,a)=>{var b=a(83419),T=a(63814),g=a(9564),h=a(23777),u=new b({initialize:function(d){this.type=h.POLYGON,this.area=0,this.points=[],d&&this.setTo(d)},contains:function(l,d){return T(this,l,d)},setTo:function(l){if(this.area=0,this.points=[],"string"==typeof l&&(l=l.split(" ")),!Array.isArray(l))return this;for(var d,f=0;f<l.length;f++)d={x:0,y:0},"number"==typeof l[f]||"string"==typeof l[f]?(d.x=parseFloat(l[f]),d.y=parseFloat(l[f+1]),f++):Array.isArray(l[f])?(d.x=l[f][0],d.y=l[f][1]):(d.x=l[f].x,d.y=l[f].y),this.points.push(d);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var d,f,l=0,c=0;c<this.points.length-1;c++)l+=((f=this.points[c+1]).x-(d=this.points[c]).x)*(d.y+f.y);return this.area=.5*-(l+=((d=this.points[0]).x-(f=this.points[this.points.length-1]).x)*(f.y+d.y)),this.area},getPoints:function(l,d,f){return g(this,l,d,f)}});_.exports=u},8133:_=>{_.exports=function(a){return a.points.reverse(),a}},29524:_=>{function k(u,l){var d=u.x-l.x,f=u.y-l.y;return d*d+f*f}function a(u,l,d){var f=l.x,c=l.y,m=d.x-f,v=d.y-c;if(0!==m||0!==v){var x=((u.x-f)*m+(u.y-c)*v)/(m*m+v*v);x>1?(f=d.x,c=d.y):x>0&&(f+=m*x,c+=v*x)}return(m=u.x-f)*m+(v=u.y-c)*v}function T(u,l,d,f,c){for(var v,m=f,x=l+1;x<d;x++){var y=a(u[x],u[l],u[d]);y>m&&(v=x,m=y)}m>f&&(v-l>1&&T(u,l,v,f,c),c.push(u[v]),d-v>1&&T(u,v,d,f,c))}function g(u,l){var d=u.length-1,f=[u[0]];return T(u,0,d,l,f),f.push(u[d]),f}_.exports=function(u,l,d){void 0===l&&(l=1),void 0===d&&(d=!1);var f=u.points;if(f.length>2){var c=l*l;d||(f=function b(u,l){for(var c,d=u[0],f=[d],m=1,v=u.length;m<v;m++)k(c=u[m],d)>l&&(f.push(c),d=c);return d!==c&&f.push(c),f}(f,c)),u.setTo(g(f,c))}return u}},5469:_=>{var k=function(b,T){return b[0]=T[0],b[1]=T[1],b};_.exports=function(b){var T,g=[],h=b.points;for(T=0;T<h.length;T++)g.push([h[T].x,h[T].y]);var u=[];for(g.length>0&&u.push(k([0,0],g[0])),T=0;T<g.length-1;T++){var l=g[T],d=g[T+1],f=l[0],c=l[1],m=d[0],v=d[1];u.push([.85*f+.15*m,.85*c+.15*v]),u.push([.15*f+.85*m,.15*c+.85*v])}return g.length>1&&u.push(k([0,0],g[g.length-1])),b.setTo(u)}},24709:_=>{_.exports=function(a,b,T){for(var g=a.points,h=0;h<g.length;h++)g[h].x+=b,g[h].y+=T;return a}},58423:(_,k,a)=>{var b=a(25717);b.Clone=a(12306),b.Contains=a(63814),b.ContainsPoint=a(99338),b.Earcut=a(94811),b.GetAABB=a(13829),b.GetNumberArray=a(26173),b.GetPoints=a(9564),b.Perimeter=a(30052),b.Reverse=a(8133),b.Simplify=a(29524),b.Smooth=a(5469),b.Translate=a(24709),_.exports=b},62224:_=>{_.exports=function(a){return a.width*a.height}},98615:_=>{_.exports=function(a){return a.x=Math.ceil(a.x),a.y=Math.ceil(a.y),a}},31688:_=>{_.exports=function(a){return a.x=Math.ceil(a.x),a.y=Math.ceil(a.y),a.width=Math.ceil(a.width),a.height=Math.ceil(a.height),a}},67502:_=>{_.exports=function(a,b,T){return a.x=b-a.width/2,a.y=T-a.height/2,a}},65085:(_,k,a)=>{var b=a(87841);_.exports=function(g){return new b(g.x,g.y,g.width,g.height)}},37303:_=>{_.exports=function(a,b,T){return!(a.width<=0||a.height<=0)&&a.x<=b&&a.x+a.width>=b&&a.y<=T&&a.y+a.height>=T}},96553:(_,k,a)=>{var b=a(37303);_.exports=function(g,h){return b(g,h.x,h.y)}},70273:_=>{_.exports=function(a,b){return!(b.width*b.height>a.width*a.height)&&b.x>a.x&&b.x<a.right&&b.right>a.x&&b.right<a.right&&b.y>a.y&&b.y<a.bottom&&b.bottom>a.y&&b.bottom<a.bottom}},43459:_=>{_.exports=function(a,b){return b.setTo(a.x,a.y,a.width,a.height)}},77493:_=>{_.exports=function(a,b){return void 0===b&&(b=[]),b.push({x:a.x,y:a.y}),b.push({x:a.right,y:a.y}),b.push({x:a.right,y:a.bottom}),b.push({x:a.x,y:a.bottom}),b}},9219:_=>{_.exports=function(a,b){return a.x===b.x&&a.y===b.y&&a.width===b.width&&a.height===b.height}},53751:(_,k,a)=>{var b=a(8249);_.exports=function(g,h){var u=b(g);return u<b(h)?g.setSize(h.height*u,h.height):g.setSize(h.width,h.width/u),g.setPosition(h.centerX-g.width/2,h.centerY-g.height/2)}},16088:(_,k,a)=>{var b=a(8249);_.exports=function(g,h){var u=b(g);return u>b(h)?g.setSize(h.height*u,h.height):g.setSize(h.width,h.width/u),g.setPosition(h.centerX-g.width/2,h.centerY-g.height/2)}},80774:_=>{_.exports=function(a){return a.x=Math.floor(a.x),a.y=Math.floor(a.y),a}},83859:_=>{_.exports=function(a){return a.x=Math.floor(a.x),a.y=Math.floor(a.y),a.width=Math.floor(a.width),a.height=Math.floor(a.height),a}},19217:(_,k,a)=>{var b=a(87841),T=a(36383);_.exports=function(h,u){if(void 0===u&&(u=new b),0===h.length)return u;for(var m,v,x,l=Number.MAX_VALUE,d=Number.MAX_VALUE,f=T.MIN_SAFE_INTEGER,c=T.MIN_SAFE_INTEGER,y=0;y<h.length;y++)m=h[y],Array.isArray(m)?(v=m[0],x=m[1]):(v=m.x,x=m.y),l=Math.min(l,v),d=Math.min(d,x),f=Math.max(f,v),c=Math.max(c,x);return u.x=l,u.y=d,u.width=f-l,u.height=c-d,u}},9477:(_,k,a)=>{var b=a(87841);_.exports=function(g,h,u,l,d){return void 0===d&&(d=new b),d.setTo(Math.min(g,u),Math.min(h,l),Math.abs(g-u),Math.abs(h-l))}},8249:_=>{_.exports=function(a){return 0===a.height?NaN:a.width/a.height}},27165:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){return void 0===h&&(h=new b),h.x=g.centerX,h.y=g.centerY,h}},20812:(_,k,a)=>{var b=a(13019),T=a(2141);_.exports=function(h,u,l){if(void 0===l&&(l=new T),u<=0||u>=1)return l.x=h.x,l.y=h.y,l;var d=b(h)*u;return u>.5?(d-=h.width+h.height)<=h.width?(l.x=h.right-d,l.y=h.bottom):(l.x=h.x,l.y=h.bottom-(d-h.width)):d<=h.width?(l.x=h.x+d,l.y=h.y):(l.x=h.right,l.y=h.y+(d-h.width)),l}},34819:(_,k,a)=>{var b=a(20812),T=a(13019);_.exports=function(h,u,l,d){void 0===d&&(d=[]),!u&&l>0&&(u=T(h)/l);for(var f=0;f<u;f++)d.push(b(h,f/u));return d}},51313:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){return void 0===h&&(h=new b),h.x=g.width,h.y=g.height,h}},86091:(_,k,a)=>{var b=a(67502);_.exports=function(g,h,u){var l=g.centerX,d=g.centerY;return g.setSize(g.width+2*h,g.height+2*u),b(g,l,d)}},53951:(_,k,a)=>{var b=a(87841),T=a(59996);_.exports=function(h,u,l){return void 0===l&&(l=new b),T(h,u)?(l.x=Math.max(h.x,u.x),l.y=Math.max(h.y,u.y),l.width=Math.min(h.right,u.right)-l.x,l.height=Math.min(h.bottom,u.bottom)-l.y):l.setEmpty(),l}},14649:(_,k,a)=>{var b=a(13019),T=a(2141);_.exports=function(h,u,l,d){if(void 0===d&&(d=[]),!u&&!l)return d;u?l=Math.round(b(h)/u):u=b(h)/l;for(var f=h.x,c=h.y,m=0,v=0;v<l;v++)switch(d.push(new T(f,c)),m){case 0:(f+=u)>=h.right&&(m=1,c+=f-h.right,f=h.right);break;case 1:(c+=u)>=h.bottom&&(m=2,f-=c-h.bottom,c=h.bottom);break;case 2:(f-=u)<=h.left&&(m=3,c-=h.left-f,f=h.left);break;case 3:(c-=u)<=h.top&&(m=0,c=h.top)}return d}},33595:_=>{_.exports=function(a,b){for(var T=a.x,g=a.right,h=a.y,u=a.bottom,l=0;l<b.length;l++)T=Math.min(T,b[l].x),g=Math.max(g,b[l].x),h=Math.min(h,b[l].y),u=Math.max(u,b[l].y);return a.x=T,a.y=h,a.width=g-T,a.height=u-h,a}},20074:_=>{_.exports=function(a,b){var T=Math.min(a.x,b.x),g=Math.max(a.right,b.right);a.x=T,a.width=g-T;var h=Math.min(a.y,b.y),u=Math.max(a.bottom,b.bottom);return a.y=h,a.height=u-h,a}},92171:_=>{_.exports=function(a,b,T){var g=Math.min(a.x,b),h=Math.max(a.right,b);a.x=g,a.width=h-g;var u=Math.min(a.y,T),l=Math.max(a.bottom,T);return a.y=u,a.height=l-u,a}},42981:_=>{_.exports=function(a,b,T){return a.x+=b,a.y+=T,a}},46907:_=>{_.exports=function(a,b){return a.x+=b.x,a.y+=b.y,a}},60170:_=>{_.exports=function(a,b){return a.x<b.right&&a.right>b.x&&a.y<b.bottom&&a.bottom>b.y}},13019:_=>{_.exports=function(a){return 2*(a.width+a.height)}},85133:(_,k,a)=>{var b=a(2141),T=a(39506);_.exports=function(h,u,l){void 0===l&&(l=new b),u=T(u);var d=Math.sin(u),f=Math.cos(u),c=f>0?h.width/2:h.width/-2,m=d>0?h.height/2:h.height/-2;return Math.abs(c*d)<Math.abs(m*f)?m=c*d/f:c=m*f/d,l.x=c+h.centerX,l.y=m+h.centerY,l}},26597:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){return void 0===h&&(h=new b),h.x=g.x+Math.random()*g.width,h.y=g.y+Math.random()*g.height,h}},86470:(_,k,a)=>{var b=a(30976),T=a(70273),g=a(2141);_.exports=function(u,l,d){if(void 0===d&&(d=new g),T(u,l))switch(b(0,3)){case 0:d.x=u.x+Math.random()*(l.right-u.x),d.y=u.y+Math.random()*(l.top-u.y);break;case 1:d.x=l.x+Math.random()*(u.right-l.x),d.y=l.bottom+Math.random()*(u.bottom-l.bottom);break;case 2:d.x=u.x+Math.random()*(l.x-u.x),d.y=l.y+Math.random()*(u.bottom-l.y);break;case 3:d.x=l.right+Math.random()*(u.right-l.right),d.y=u.y+Math.random()*(l.bottom-u.y)}return d}},87841:(_,k,a)=>{var b=a(83419),T=a(37303),g=a(20812),h=a(34819),u=a(23777),l=a(23031),d=a(26597),f=new b({initialize:function(m,v,x,y){void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=0),this.type=u.RECTANGLE,this.x=m,this.y=v,this.width=x,this.height=y},contains:function(c,m){return T(this,c,m)},getPoint:function(c,m){return g(this,c,m)},getPoints:function(c,m,v){return h(this,c,m,v)},getRandomPoint:function(c){return d(this,c)},setTo:function(c,m,v,x){return this.x=c,this.y=m,this.width=v,this.height=x,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(c,m){return void 0===m&&(m=c),this.x=c,this.y=m,this},setSize:function(c,m){return void 0===m&&(m=c),this.width=c,this.height=m,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(c){return void 0===c&&(c=new l),c.setTo(this.x,this.y,this.right,this.y),c},getLineB:function(c){return void 0===c&&(c=new l),c.setTo(this.right,this.y,this.right,this.bottom),c},getLineC:function(c){return void 0===c&&(c=new l),c.setTo(this.right,this.bottom,this.x,this.bottom),c},getLineD:function(c){return void 0===c&&(c=new l),c.setTo(this.x,this.bottom,this.x,this.y),c},left:{get:function(){return this.x},set:function(c){this.width=c>=this.right?0:this.right-c,this.x=c}},right:{get:function(){return this.x+this.width},set:function(c){this.width=c<=this.x?0:c-this.x}},top:{get:function(){return this.y},set:function(c){this.height=c>=this.bottom?0:this.bottom-c,this.y=c}},bottom:{get:function(){return this.y+this.height},set:function(c){this.height=c<=this.y?0:c-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(c){this.x=c-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(c){this.y=c-this.height/2}}});_.exports=f},94845:_=>{_.exports=function(a,b){return a.width===b.width&&a.height===b.height}},31730:_=>{_.exports=function(a,b,T){return void 0===T&&(T=b),a.width*=b,a.height*=T,a}},36899:(_,k,a)=>{var b=a(87841);_.exports=function(g,h,u){void 0===u&&(u=new b);var l=Math.min(g.x,h.x),d=Math.min(g.y,h.y),f=Math.max(g.right,h.right)-l,c=Math.max(g.bottom,h.bottom)-d;return u.setTo(l,d,f,c)}},93232:(_,k,a)=>{var b=a(87841);b.Area=a(62224),b.Ceil=a(98615),b.CeilAll=a(31688),b.CenterOn=a(67502),b.Clone=a(65085),b.Contains=a(37303),b.ContainsPoint=a(96553),b.ContainsRect=a(70273),b.CopyFrom=a(43459),b.Decompose=a(77493),b.Equals=a(9219),b.FitInside=a(53751),b.FitOutside=a(16088),b.Floor=a(80774),b.FloorAll=a(83859),b.FromPoints=a(19217),b.FromXY=a(9477),b.GetAspectRatio=a(8249),b.GetCenter=a(27165),b.GetPoint=a(20812),b.GetPoints=a(34819),b.GetSize=a(51313),b.Inflate=a(86091),b.Intersection=a(53951),b.MarchingAnts=a(14649),b.MergePoints=a(33595),b.MergeRect=a(20074),b.MergeXY=a(92171),b.Offset=a(42981),b.OffsetPoint=a(46907),b.Overlaps=a(60170),b.Perimeter=a(13019),b.PerimeterPoint=a(85133),b.Random=a(26597),b.RandomOutside=a(86470),b.SameDimensions=a(94845),b.Scale=a(31730),b.Union=a(36899),_.exports=b},41658:_=>{_.exports=function(a){var b=a.x1,T=a.y1;return Math.abs(((a.x3-b)*(a.y2-T)-(a.x2-b)*(a.y3-T))/2)}},39208:(_,k,a)=>{var b=a(16483);_.exports=function(g,h,u){var l=u*(Math.sqrt(3)/2);return new b(g,h,g+u/2,h+l,g-u/2,h+l)}},39545:(_,k,a)=>{var b=a(94811),T=a(16483);_.exports=function(h,u,l,d,f){void 0===u&&(u=null),void 0===l&&(l=1),void 0===d&&(d=1),void 0===f&&(f=[]);for(var m,v,x,c=b(h,u),M=0;M<c.length;M+=3)f.push(new T(h[2*(m=c[M])]*l,h[2*m+1]*d,h[2*(v=c[M+1])]*l,h[2*v+1]*d,h[2*(x=c[M+2])]*l,h[2*x+1]*d));return f}},90301:(_,k,a)=>{var b=a(16483);_.exports=function(g,h,u,l){return void 0===l&&(l=u),new b(g,h,g,h-l,g+u,h)}},23707:(_,k,a)=>{var b=a(97523),T=a(13584);_.exports=function(h,u,l,d){void 0===d&&(d=b);var f=d(h);return T(h,u-f.x,l-f.y)}},97523:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){return void 0===h&&(h=new b),h.x=(g.x1+g.x2+g.x3)/3,h.y=(g.y1+g.y2+g.y3)/3,h}},24951:(_,k,a)=>{var b=a(26099);function T(h,u,l,d){return h*d-u*l}_.exports=function(h,u){void 0===u&&(u=new b);var l=h.x3,d=h.y3,f=h.x1-l,c=h.y1-d,m=h.x2-l,v=h.y2-d,x=2*T(f,c,m,v),y=T(c,f*f+c*c,v,m*m+v*v),w=T(f,f*f+c*c,m,m*m+v*v);return u.x=l-y/x,u.y=d+w/x,u}},85614:(_,k,a)=>{var b=a(96503);_.exports=function(g,h){void 0===h&&(h=new b);var I,M,u=g.x1,l=g.y1,d=g.x2,f=g.y2,c=g.x3,m=g.y3,v=d-u,x=f-l,y=c-u,w=m-l,E=v*(u+d)+x*(l+f),S=y*(u+c)+w*(l+m),A=2*(v*(m-f)-x*(c-d));if(Math.abs(A)<1e-6){var P=Math.min(u,d,c),O=Math.min(l,f,m);I=.5*(Math.max(u,d,c)-P),M=.5*(Math.max(l,f,m)-O),h.x=P+I,h.y=O+M,h.radius=Math.sqrt(I*I+M*M)}else h.x=(w*E-x*S)/A,h.y=(v*S-y*E)/A,I=h.x-u,M=h.y-l,h.radius=Math.sqrt(I*I+M*M);return h}},74422:(_,k,a)=>{var b=a(16483);_.exports=function(g){return new b(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)}},10690:_=>{_.exports=function(a,b,T){var g=a.x3-a.x1,h=a.y3-a.y1,u=a.x2-a.x1,l=a.y2-a.y1,d=b-a.x1,f=T-a.y1,c=g*g+h*h,m=g*u+h*l,v=g*d+h*f,x=u*u+l*l,y=u*d+l*f,w=c*x-m*m,E=0===w?0:1/w,S=(x*v-m*y)*E,A=(c*y-m*v)*E;return S>=0&&A>=0&&S+A<1}},48653:_=>{_.exports=function(a,b,T,g){void 0===T&&(T=!1),void 0===g&&(g=[]);for(var y,w,E,S,A,I,h=a.x3-a.x1,u=a.y3-a.y1,l=a.x2-a.x1,d=a.y2-a.y1,f=h*h+u*u,c=h*l+u*d,m=l*l+d*d,v=f*m-c*c,x=0===v?0:1/v,M=a.x1,P=a.y1,O=0;O<b.length&&(w=(f*(I=l*(E=b[O].x-M)+d*(S=b[O].y-P))-c*(A=h*E+u*S))*x,!((y=(m*A-c*I)*x)>=0&&w>=0&&y+w<1&&(g.push({x:b[O].x,y:b[O].y}),T)));O++);return g}},96006:(_,k,a)=>{var b=a(10690);_.exports=function(g,h){return b(g,h.x,h.y)}},71326:_=>{_.exports=function(a,b){return b.setTo(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)}},71694:_=>{_.exports=function(a,b){return void 0===b&&(b=[]),b.push({x:a.x1,y:a.y1}),b.push({x:a.x2,y:a.y2}),b.push({x:a.x3,y:a.y3}),b}},33522:_=>{_.exports=function(a,b){return a.x1===b.x1&&a.y1===b.y1&&a.x2===b.x2&&a.y2===b.y2&&a.x3===b.x3&&a.y3===b.y3}},20437:(_,k,a)=>{var b=a(2141),T=a(35001);_.exports=function(h,u,l){void 0===l&&(l=new b);var d=h.getLineA(),f=h.getLineB(),c=h.getLineC();if(u<=0||u>=1)return l.x=d.x1,l.y=d.y1,l;var m=T(d),v=T(f),x=T(c),w=(m+v+x)*u,E=0;return w<m?(l.x=d.x1+(d.x2-d.x1)*(E=w/m),l.y=d.y1+(d.y2-d.y1)*E):w>m+v?(l.x=c.x1+(c.x2-c.x1)*(E=(w-=m+v)/x),l.y=c.y1+(c.y2-c.y1)*E):(l.x=f.x1+(f.x2-f.x1)*(E=(w-=m)/v),l.y=f.y1+(f.y2-f.y1)*E),l}},80672:(_,k,a)=>{var b=a(35001),T=a(2141);_.exports=function(h,u,l,d){void 0===d&&(d=[]);var f=h.getLineA(),c=h.getLineB(),m=h.getLineC(),v=b(f),x=b(c),y=b(m),w=v+x+y;!u&&l>0&&(u=w/l);for(var E=0;E<u;E++){var S=w*(E/u),A=0,I=new T;S<v?(I.x=f.x1+(f.x2-f.x1)*(A=S/v),I.y=f.y1+(f.y2-f.y1)*A):S>v+x?(I.x=m.x1+(m.x2-m.x1)*(A=(S-=v+x)/y),I.y=m.y1+(m.y2-m.y1)*A):(I.x=c.x1+(c.x2-c.x1)*(A=(S-=v)/x),I.y=c.y1+(c.y2-c.y1)*A),d.push(I)}return d}},39757:(_,k,a)=>{var b=a(2141);function T(h,u,l,d){var f=h-l,c=u-d;return Math.sqrt(f*f+c*c)}_.exports=function(h,u){void 0===u&&(u=new b);var l=h.x1,d=h.y1,f=h.x2,c=h.y2,m=h.x3,v=h.y3,x=T(m,v,f,c),y=T(l,d,m,v),w=T(f,c,l,d),E=x+y+w;return u.x=(l*x+f*y+m*w)/E,u.y=(d*x+c*y+v*w)/E,u}},13584:_=>{_.exports=function(a,b,T){return a.x1+=b,a.y1+=T,a.x2+=b,a.y2+=T,a.x3+=b,a.y3+=T,a}},1376:(_,k,a)=>{var b=a(35001);_.exports=function(g){var h=g.getLineA(),u=g.getLineB(),l=g.getLineC();return b(h)+b(u)+b(l)}},90260:(_,k,a)=>{var b=a(2141);_.exports=function(g,h){void 0===h&&(h=new b);var u=g.x2-g.x1,l=g.y2-g.y1,d=g.x3-g.x1,f=g.y3-g.y1,c=Math.random(),m=Math.random();return c+m>=1&&(c=1-c,m=1-m),h.x=g.x1+(u*c+d*m),h.y=g.y1+(l*c+f*m),h}},52172:(_,k,a)=>{var b=a(99614),T=a(39757);_.exports=function(h,u){var l=T(h);return b(h,l.x,l.y,u)}},49907:(_,k,a)=>{var b=a(99614);_.exports=function(g,h,u){return b(g,h.x,h.y,u)}},99614:_=>{_.exports=function(a,b,T,g){var h=Math.cos(g),u=Math.sin(g),l=a.x1-b,d=a.y1-T;return a.x1=l*h-d*u+b,a.y1=l*u+d*h+T,a.x2=(l=a.x2-b)*h-(d=a.y2-T)*u+b,a.y2=l*u+d*h+T,a.x3=(l=a.x3-b)*h-(d=a.y3-T)*u+b,a.y3=l*u+d*h+T,a}},16483:(_,k,a)=>{var b=a(83419),T=a(10690),g=a(20437),h=a(80672),u=a(23777),l=a(23031),d=a(90260),f=new b({initialize:function(m,v,x,y,w,E){void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=0),void 0===w&&(w=0),void 0===E&&(E=0),this.type=u.TRIANGLE,this.x1=m,this.y1=v,this.x2=x,this.y2=y,this.x3=w,this.y3=E},contains:function(c,m){return T(this,c,m)},getPoint:function(c,m){return g(this,c,m)},getPoints:function(c,m,v){return h(this,c,m,v)},getRandomPoint:function(c){return d(this,c)},setTo:function(c,m,v,x,y,w){return void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=0),void 0===w&&(w=0),this.x1=c,this.y1=m,this.x2=v,this.y2=x,this.x3=y,this.y3=w,this},getLineA:function(c){return void 0===c&&(c=new l),c.setTo(this.x1,this.y1,this.x2,this.y2),c},getLineB:function(c){return void 0===c&&(c=new l),c.setTo(this.x2,this.y2,this.x3,this.y3),c},getLineC:function(c){return void 0===c&&(c=new l),c.setTo(this.x3,this.y3,this.x1,this.y1),c},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(c){var m;this.x1-=m=this.x1<=this.x2&&this.x1<=this.x3?this.x1-c:this.x2<=this.x1&&this.x2<=this.x3?this.x2-c:this.x3-c,this.x2-=m,this.x3-=m}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(c){var m;this.x1-=m=this.x1>=this.x2&&this.x1>=this.x3?this.x1-c:this.x2>=this.x1&&this.x2>=this.x3?this.x2-c:this.x3-c,this.x2-=m,this.x3-=m}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(c){var m;this.y1-=m=this.y1<=this.y2&&this.y1<=this.y3?this.y1-c:this.y2<=this.y1&&this.y2<=this.y3?this.y2-c:this.y3-c,this.y2-=m,this.y3-=m}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(c){var m;this.y1-=m=this.y1>=this.y2&&this.y1>=this.y3?this.y1-c:this.y2>=this.y1&&this.y2>=this.y3?this.y2-c:this.y3-c,this.y2-=m,this.y3-=m}}});_.exports=f},84435:(_,k,a)=>{var b=a(16483);b.Area=a(41658),b.BuildEquilateral=a(39208),b.BuildFromPolygon=a(39545),b.BuildRight=a(90301),b.CenterOn=a(23707),b.Centroid=a(97523),b.CircumCenter=a(24951),b.CircumCircle=a(85614),b.Clone=a(74422),b.Contains=a(10690),b.ContainsArray=a(48653),b.ContainsPoint=a(96006),b.CopyFrom=a(71326),b.Decompose=a(71694),b.Equals=a(33522),b.GetPoint=a(20437),b.GetPoints=a(80672),b.InCenter=a(39757),b.Perimeter=a(1376),b.Offset=a(13584),b.Random=a(90260),b.Rotate=a(52172),b.RotateAroundPoint=a(49907),b.RotateAroundXY=a(99614),_.exports=b},74457:_=>{_.exports=function(a,b,T){return{gameObject:a,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:b,hitAreaCallback:T,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}}},84409:_=>{_.exports=function(a,b){return function(T,g,h,u){var l=a.getPixelAlpha(g,h,u.texture.key,u.frame.name);return l&&l>=b}}},7003:(_,k,a)=>{var b=a(83419),T=a(93301),g=a(50792),h=a(8214),u=a(8443),l=a(78970),d=a(85098),f=a(42515),c=a(36210),m=a(61340),v=a(85955),x=new b({initialize:function(w,E){this.game=w,this.config=E,this.enabled=!0,this.events=new g,this.isOver=!0,this.defaultCursor="",this.keyboard=E.inputKeyboard?new l(this):null,this.mouse=E.inputMouse?new d(this):null,this.touch=E.inputTouch?new c(this):null,this.pointers=[],this.pointersTotal=E.inputActivePointers;for(var S=0;S<=this.pointersTotal;S++){var A=new f(this,S);A.smoothFactor=E.inputSmoothFactor,this.pointers.push(A)}this.mousePointer=E.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new m,this._tempMatrix2=new m,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],w.events.once(u.BOOT,this.boot,this)},boot:function(){var y=this.game,w=y.events;this.canvas=y.canvas,this.scaleManager=y.scale,this.events.emit(h.MANAGER_BOOT),w.on(u.PRE_RENDER,this.preRender,this),w.once(u.DESTROY,this.destroy,this)},setCanvasOver:function(y){this.isOver=!0,this.events.emit(h.GAME_OVER,y)},setCanvasOut:function(y){this.isOver=!1,this.events.emit(h.GAME_OUT,y)},preRender:function(){var y=this.game.loop.now,w=this.game.loop.delta,E=this.game.scene.getScenes(!0,!0);this.time=y,this.events.emit(h.MANAGER_UPDATE);for(var S=0;S<E.length;S++){var A=E[S];if(A.sys.input&&A.sys.input.updatePoll(y,w)&&this.globalTopOnly)return}},setDefaultCursor:function(y){this.defaultCursor=y,this.canvas.style.cursor!==y&&(this.canvas.style.cursor=y)},setCursor:function(y){y.cursor&&(this.canvas.style.cursor=y.cursor)},resetCursor:function(y,w){(w||y&&y.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(y){void 0===y&&(y=1);var w=[];this.pointersTotal+y>10&&(y=10-this.pointersTotal);for(var E=0;E<y;E++){var A=new f(this,this.pointers.length);A.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(A),this.pointersTotal++,w.push(A)}return w},updateInputPlugins:function(y,w){var E=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var S=0;S<E.length;S++){var A=E[S];if(A.sys.input&&(A.sys.input.update(y,w)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(y){for(var w=this.pointers,E=[],S=0;S<y.changedTouches.length;S++)for(var A=y.changedTouches[S],I=1;I<w.length;I++){var M=w[I];if(!M.active){M.touchstart(A,y),this.activePointer=M,E.push(M);break}}this.updateInputPlugins(T.TOUCH_START,E)},onTouchMove:function(y){for(var w=this.pointers,E=[],S=0;S<y.changedTouches.length;S++)for(var A=y.changedTouches[S],I=1;I<w.length;I++){var M=w[I];if(M.active&&M.identifier===A.identifier){var O=document.elementFromPoint(A.clientX,A.clientY)===this.canvas;!this.isOver&&O?this.setCanvasOver(y):this.isOver&&!O&&this.setCanvasOut(y),this.isOver&&(M.touchmove(A,y),this.activePointer=M,E.push(M));break}}this.updateInputPlugins(T.TOUCH_MOVE,E)},onTouchEnd:function(y){for(var w=this.pointers,E=[],S=0;S<y.changedTouches.length;S++)for(var A=y.changedTouches[S],I=1;I<w.length;I++){var M=w[I];if(M.active&&M.identifier===A.identifier){M.touchend(A,y),E.push(M);break}}this.updateInputPlugins(T.TOUCH_END,E)},onTouchCancel:function(y){for(var w=this.pointers,E=[],S=0;S<y.changedTouches.length;S++)for(var A=y.changedTouches[S],I=1;I<w.length;I++){var M=w[I];if(M.active&&M.identifier===A.identifier){M.touchcancel(A,y),E.push(M);break}}this.updateInputPlugins(T.TOUCH_CANCEL,E)},onMouseDown:function(y){var w=this.mousePointer;w.down(y),w.updateMotion(),this.activePointer=w,this.updateInputPlugins(T.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(y){var w=this.mousePointer;w.move(y),w.updateMotion(),this.activePointer=w,this.updateInputPlugins(T.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(y){var w=this.mousePointer;w.up(y),w.updateMotion(),this.activePointer=w,this.updateInputPlugins(T.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(y){var w=this.mousePointer;w.wheel(y),this.activePointer=w,this.updateInputPlugins(T.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(y){var w=this.mouse.locked;this.mousePointer.locked=w,this.events.emit(h.POINTERLOCK_CHANGE,y,w)},inputCandidate:function(y,w){var E=y.input;if(!E||!E.enabled||!y.willRender(w))return!1;var S=!0,A=y.parentContainer;if(A)do{if(!A.willRender(w)){S=!1;break}A=A.parentContainer}while(A);return S},hitTest:function(y,w,E,S){void 0===S&&(S=this._tempHitTest);var A=this._tempPoint,I=E.scrollX,M=E.scrollY;S.length=0,E.getWorldPoint(y.x,y.y,A),y.worldX=A.x,y.worldY=A.y;for(var N={x:0,y:0},L=this._tempMatrix,G=this._tempMatrix2,j=0;j<w.length;j++){var z=w[j];if(this.inputCandidate(z,E)){var Y=A.x+I*z.scrollFactorX-I,Z=A.y+M*z.scrollFactorY-M;z.parentContainer?(z.getWorldTransformMatrix(L,G),L.applyInverse(Y,Z,N)):v(Y,Z,z.x,z.y,z.rotation,z.scaleX,z.scaleY,N),this.pointWithinHitArea(z,N.x,N.y)&&S.push(z)}}return S},pointWithinHitArea:function(y,w,E){w+=y.displayOriginX,E+=y.displayOriginY;var S=y.input;return!(!S||!S.hitAreaCallback(S.hitArea,w,E,y)||(S.localX=w,S.localY=E,0))},pointWithinInteractiveObject:function(y,w,E){return!!y.hitArea&&(E+=y.gameObject.displayOriginY,y.localX=w+=y.gameObject.displayOriginX,y.localY=E,y.hitAreaCallback(y.hitArea,w,E,y))},transformPointer:function(y,w,E,S){var A=y.position,I=y.prevPosition;I.x=A.x,I.y=A.y;var M=this.scaleManager.transformX(w),P=this.scaleManager.transformY(E),O=y.smoothFactor;S&&0!==O?(A.x=M*O+I.x*(1-O),A.y=P*O+I.y*(1-O)):(A.x=M,A.y=P)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(u.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var y=0;y<this.pointers.length;y++)this.pointers[y].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});_.exports=x},48205:(_,k,a)=>{var b=a(96503),T=a(87902),g=a(83419),h=a(93301),u=a(74457),l=a(84409),d=a(20339),f=a(8497),c=a(81154),m=a(8214),v=a(50792),x=a(95540),y=a(23777),w=a(89639),E=a(41212),S=a(37277),A=a(87841),I=a(37303),M=a(44594),P=a(16483),O=a(10690),N=new g({Extends:v,initialize:function(G){v.call(this),this.scene=G,this.systems=G.sys,this.settings=G.sys.settings,this.manager=G.sys.game.input,this.pluginEvents=new v,this.enabled=!0,w.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var j={cancelled:!1};this._eventContainer={stopPropagation:function(){j.cancelled=!0}},this._eventData=j,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,G.sys.events.once(M.BOOT,this.boot,this),G.sys.events.on(M.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(M.DESTROY,this.destroy,this),this.pluginEvents.emit(m.BOOT)},start:function(){var L=this.systems.events;L.on(M.TRANSITION_START,this.transitionIn,this),L.on(M.TRANSITION_OUT,this.transitionOut,this),L.on(M.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(M.PRE_UPDATE,this.preUpdate,this),L.once(M.SHUTDOWN,this.shutdown,this),this.manager.events.on(m.GAME_OUT,this.onGameOut,this),this.manager.events.on(m.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(m.START)},onGameOver:function(L){this.isActive()&&this.emit(m.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(m.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(m.PRE_UPDATE);var L=this._pendingRemoval,G=this._pendingInsertion,j=L.length;if(0!==j||0!==G.length){for(var Y=this._list,Z=0;Z<j;Z++){var rt=L[Z],st=Y.indexOf(rt);st>-1&&(Y.splice(st,1),this.clear(rt,!0))}this._pendingRemoval.length=0,this._list=Y.concat(G.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(L){this.manager&&this.manager.setCursor(L)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(L,G){if(!this.isActive())return!1;if(this.pluginEvents.emit(m.UPDATE,L,G),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var j,Y=this.manager.pointers;for(j=0;j<Y.length;j++)Y[j].updateMotion();if(0===this._list.length)return!1;var Z=this.pollRate;if(-1===Z)return!1;if(Z>0){if(this._pollTimer-=G,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var rt=!1;for(j=0;j<Y.length;j++){var st=0,K=Y[j];this._tempZones=[],this._temp=this.hitTestPointer(K),this.sortGameObjects(this._temp,K),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),st+=this.processOverOutEvents(K),2===this.getDragState(K)&&this.processDragThresholdEvent(K,L),st>0&&(rt=!0)}return rt},update:function(L,G){if(!this.isActive())return!1;for(var j=!1,z=0;z<G.length;z++){var Y=0,Z=G[z];switch(this._tempZones=[],this._temp=this.hitTestPointer(Z),this.sortGameObjects(this._temp,Z),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case h.MOUSE_DOWN:Y+=this.processDragDownEvent(Z),Y+=this.processDownEvents(Z),Y+=this.processOverOutEvents(Z);break;case h.MOUSE_UP:Y+=this.processDragUpEvent(Z),Y+=this.processUpEvents(Z),Y+=this.processOverOutEvents(Z);break;case h.TOUCH_START:Y+=this.processDragDownEvent(Z),Y+=this.processDownEvents(Z),Y+=this.processOverEvents(Z);break;case h.TOUCH_END:case h.TOUCH_CANCEL:Y+=this.processDragUpEvent(Z),Y+=this.processUpEvents(Z),Y+=this.processOutEvents(Z);break;case h.MOUSE_MOVE:case h.TOUCH_MOVE:Y+=this.processDragMoveEvent(Z),Y+=this.processMoveEvents(Z),Y+=this.processOverOutEvents(Z);break;case h.MOUSE_WHEEL:Y+=this.processWheelEvent(Z)}Y>0&&(j=!0)}return this._updatedThisFrame=!0,j},clear:function(L,G){void 0===G&&(G=!1),this.disable(L);var j=L.input;j&&(this.removeDebug(L),this.manager.resetCursor(j),j.gameObject=void 0,j.target=void 0,j.hitArea=void 0,j.hitAreaCallback=void 0,j.callbackContext=void 0,L.input=null),G||this.queueForRemoval(L);var z=this._draggable.indexOf(L);return z>-1&&this._draggable.splice(z,1),L},disable:function(L,G){void 0===G&&(G=!1);var j=L.input;j&&(j.enabled=!1,j.dragState=0);for(var st,z=this._drag,Y=this._over,Z=this.manager,rt=0;rt<Z.pointers.length;rt++)(st=z[rt].indexOf(L))>-1&&z[rt].splice(st,1),(st=Y[rt].indexOf(L))>-1&&Y[rt].splice(st,1);return G&&this.resetCursor(),this},enable:function(L,G,j,z){return void 0===z&&(z=!1),L.input?L.input.enabled=!0:this.setHitArea(L,G,j),L.input&&z&&!L.input.dropZone&&(L.input.dropZone=z),this},hitTestPointer:function(L){for(var G=this.cameras.getCamerasBelowPointer(L),j=0;j<G.length;j++){for(var z=G[j],Y=this.manager.hitTest(L,this._list,z),Z=0;Z<Y.length;Z++){var rt=Y[Z];rt.input.dropZone&&this._tempZones.push(rt)}if(Y.length>0)return L.camera=z,Y}return L.camera=G[0],[]},processDownEvents:function(L){var G=0,j=this._temp,z=this._eventData,Y=this._eventContainer;z.cancelled=!1;for(var Z=0;Z<j.length;Z++){var rt=j[Z];if(rt.input&&rt.input.enabled&&(G++,rt.emit(m.GAMEOBJECT_POINTER_DOWN,L,rt.input.localX,rt.input.localY,Y),z.cancelled||!this.isActive()||rt.input&&rt.input.enabled&&(this.emit(m.GAMEOBJECT_DOWN,L,rt,Y),z.cancelled||!this.isActive())))break}return!z.cancelled&&this.isActive()&&(L.downElement===this.manager.game.canvas?this.emit(m.POINTER_DOWN,L,j):this.emit(m.POINTER_DOWN_OUTSIDE,L)),G},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,G){this._dragState[L.id]=G},processDragThresholdEvent:function(L,G){var j=!1,z=this.dragTimeThreshold,Y=this.dragDistanceThreshold;if((Y>0&&d(L.x,L.y,L.downX,L.downY)>=Y||z>0&&G>=L.downTime+z)&&(j=!0),j)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(3!==this.getDragState(L))return 0;var G=this._drag[L.id];G.length>1&&(G=G.slice(0));for(var j=0;j<G.length;j++){var z=G[j],Y=z.input;Y.dragState=2,Y.dragStartX=z.x,Y.dragStartY=z.y,Y.dragStartXGlobal=L.worldX,Y.dragStartYGlobal=L.worldY,Y.dragStartCamera=L.camera,Y.dragX=Y.dragStartXGlobal-Y.dragStartX,Y.dragY=Y.dragStartYGlobal-Y.dragStartY,z.emit(m.GAMEOBJECT_DRAG_START,L,Y.dragX,Y.dragY),this.emit(m.DRAG_START,L,z)}return this.setDragState(L,4),G.length},processDragDownEvent:function(L){var G=this._temp;if(0===this._draggable.length||0===G.length||!L.primaryDown||0!==this.getDragState(L))return 0;this.setDragState(L,1);for(var j=[],z=0;z<G.length;z++){var Y=G[z];Y.input.draggable&&0===Y.input.dragState&&j.push(Y)}return 0===j.length?(this.setDragState(L,0),0):(j.length>1&&(this.sortGameObjects(j,L),this.topOnly&&j.splice(1)),this._drag[L.id]=j,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(2===this.getDragState(L)&&this.processDragThresholdEvent(L,this.manager.game.loop.now),4!==this.getDragState(L))return 0;var G=this._tempZones,j=this._drag[L.id];j.length>1&&(j=j.slice(0));for(var z=0;z<j.length;z++){var Y=j[z],Z=Y.input,rt=Z.target;if(rt){var st=G.indexOf(rt);0===st?(Y.emit(m.GAMEOBJECT_DRAG_OVER,L,rt),this.emit(m.DRAG_OVER,L,Y,rt)):st>0?(Y.emit(m.GAMEOBJECT_DRAG_LEAVE,L,rt),this.emit(m.DRAG_LEAVE,L,Y,rt),Z.target=G[0],Y.emit(m.GAMEOBJECT_DRAG_ENTER,L,rt=Z.target),this.emit(m.DRAG_ENTER,L,Y,rt)):(Y.emit(m.GAMEOBJECT_DRAG_LEAVE,L,rt),this.emit(m.DRAG_LEAVE,L,Y,rt),G[0]?(Z.target=G[0],Y.emit(m.GAMEOBJECT_DRAG_ENTER,L,rt=Z.target),this.emit(m.DRAG_ENTER,L,Y,rt)):Z.target=null)}else!rt&&G[0]&&(Z.target=G[0],Y.emit(m.GAMEOBJECT_DRAG_ENTER,L,rt=Z.target),this.emit(m.DRAG_ENTER,L,Y,rt));var K,tt,W=L.positionToCamera(Z.dragStartCamera);if(Y.parentContainer){var H=W.x-Z.dragStartXGlobal,it=W.y-Z.dragStartYGlobal,dt=Y.getParentRotation(),mt=H*Math.cos(dt)+it*Math.sin(dt),vt=it*Math.cos(dt)-H*Math.sin(dt);K=(mt*=1/Y.parentContainer.scaleX)+Z.dragStartX,tt=(vt*=1/Y.parentContainer.scaleY)+Z.dragStartY}else K=W.x-Z.dragX,tt=W.y-Z.dragY;Y.emit(m.GAMEOBJECT_DRAG,L,K,tt),this.emit(m.DRAG,L,Y,K,tt)}return j.length},processDragUpEvent:function(L){var G=this._drag[L.id];G.length>1&&(G=G.slice(0));for(var j=0;j<G.length;j++){var z=G[j],Y=z.input;if(Y&&2===Y.dragState){Y.dragState=0,Y.dragX=Y.localX-z.displayOriginX,Y.dragY=Y.localY-z.displayOriginY,Y.dragStartCamera=null;var Z=!1,rt=Y.target;rt&&(z.emit(m.GAMEOBJECT_DROP,L,rt),this.emit(m.DROP,L,z,rt),Y.target=null,Z=!0),z.input&&z.input.enabled&&(z.emit(m.GAMEOBJECT_DRAG_END,L,Y.dragX,Y.dragY,Z),this.emit(m.DRAG_END,L,z,Z))}}return this.setDragState(L,0),G.splice(0),0},processMoveEvents:function(L){var G=0,j=this._temp,z=this._eventData,Y=this._eventContainer;z.cancelled=!1;for(var Z=0;Z<j.length;Z++){var rt=j[Z];if(rt.input&&rt.input.enabled&&(G++,rt.emit(m.GAMEOBJECT_POINTER_MOVE,L,rt.input.localX,rt.input.localY,Y),z.cancelled||!this.isActive()||rt.input&&rt.input.enabled&&(this.emit(m.GAMEOBJECT_MOVE,L,rt,Y),z.cancelled||!this.isActive()||this.topOnly)))break}return!z.cancelled&&this.isActive()&&this.emit(m.POINTER_MOVE,L,j),G},processWheelEvent:function(L){var G=0,j=this._temp,z=this._eventData,Y=this._eventContainer;z.cancelled=!1;for(var Z=L.deltaX,rt=L.deltaY,st=L.deltaZ,K=0;K<j.length;K++){var tt=j[K];if(tt.input&&tt.input.enabled&&(G++,tt.emit(m.GAMEOBJECT_POINTER_WHEEL,L,Z,rt,st,Y),z.cancelled||!this.isActive()||tt.input&&tt.input.enabled&&(this.emit(m.GAMEOBJECT_WHEEL,L,tt,Z,rt,st,Y),z.cancelled||!this.isActive())))break}return!z.cancelled&&this.isActive()&&this.emit(m.POINTER_WHEEL,L,j,Z,rt,st),G},processOverEvents:function(L){var G=this._temp,j=0,z=G.length,Y=[];if(z>0){var Z=this.manager,rt=this._eventData,st=this._eventContainer;rt.cancelled=!1;for(var K=0;K<z;K++){var tt=G[K];if(tt.input&&tt.input.enabled&&(Y.push(tt),Z.setCursor(tt.input),tt.emit(m.GAMEOBJECT_POINTER_OVER,L,tt.input.localX,tt.input.localY,st),j++,rt.cancelled||!this.isActive()||tt.input&&tt.input.enabled&&(this.emit(m.GAMEOBJECT_OVER,L,tt,st),rt.cancelled||!this.isActive())))break}!rt.cancelled&&this.isActive()&&this.emit(m.POINTER_OVER,L,Y)}return this._over[L.id]=Y,j},processOutEvents:function(L){var G=this._over[L.id],j=0,z=G.length;if(z>0){var Y=this.manager,Z=this._eventData,rt=this._eventContainer;Z.cancelled=!1,this.sortGameObjects(G,L);for(var st=0;st<z;st++){var K=G[st];if((K=G[st]).input&&K.input.enabled&&(Y.resetCursor(K.input),K.emit(m.GAMEOBJECT_POINTER_OUT,L,rt),j++,Z.cancelled||!this.isActive()||K.input&&K.input.enabled&&(this.emit(m.GAMEOBJECT_OUT,L,K,rt),Z.cancelled||!this.isActive())))break}!Z.cancelled&&this.isActive()&&this.emit(m.POINTER_OUT,L,G),this._over[L.id]=[]}return j},processOverOutEvents:function(L){var j,z,G=this._temp,Y=[],Z=[],rt=[],st=this._over[L.id],K=this._drag[L.id],tt=this.manager;for(j=0;j<st.length;j++)-1===G.indexOf(z=st[j])&&-1===K.indexOf(z)?Y.push(z):rt.push(z);for(j=0;j<G.length;j++)-1===st.indexOf(z=G[j])&&Z.push(z);var W=Y.length,H=0,it=this._eventData,dt=this._eventContainer;if(it.cancelled=!1,W>0){for(this.sortGameObjects(Y,L),j=0;j<W&&!((z=Y[j]).input&&z.input.enabled&&(tt.resetCursor(z.input),z.emit(m.GAMEOBJECT_POINTER_OUT,L,dt),H++,it.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(m.GAMEOBJECT_OUT,L,z,dt),it.cancelled||!this.isActive())));j++);(!it.cancelled||this.isActive())&&this.emit(m.POINTER_OUT,L,Y)}if(W=Z.length,it.cancelled=!1,W>0){for(this.sortGameObjects(Z,L),j=0;j<W&&!((z=Z[j]).input&&z.input.enabled&&(tt.setCursor(z.input),z.emit(m.GAMEOBJECT_POINTER_OVER,L,z.input.localX,z.input.localY,dt),H++,it.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(m.GAMEOBJECT_OVER,L,z,dt),it.cancelled||!this.isActive())));j++);!it.cancelled&&this.isActive()&&this.emit(m.POINTER_OVER,L,Z)}return st=rt.concat(Z),this._over[L.id]=this.sortGameObjects(st,L),H},processUpEvents:function(L){var G=this._temp,j=this._eventData,z=this._eventContainer;j.cancelled=!1;for(var Y=0;Y<G.length;Y++){var Z=G[Y];if(Z.input&&Z.input.enabled&&(Z.emit(m.GAMEOBJECT_POINTER_UP,L,Z.input.localX,Z.input.localY,z),j.cancelled||!this.isActive()||Z.input&&Z.input.enabled&&(this.emit(m.GAMEOBJECT_UP,L,Z,z),j.cancelled||!this.isActive())))break}return!j.cancelled&&this.isActive()&&(L.upElement===this.manager.game.canvas?this.emit(m.POINTER_UP,L,G):this.emit(m.POINTER_UP_OUTSIDE,L)),G.length},forceDownState:function(L,G){this.forceState(L,G,m.GAMEOBJECT_POINTER_DOWN,m.GAMEOBJECT_DOWN,!1)},forceUpState:function(L,G){this.forceState(L,G,m.GAMEOBJECT_POINTER_UP,m.GAMEOBJECT_UP,!1)},forceOverState:function(L,G){this.forceState(L,G,m.GAMEOBJECT_POINTER_OVER,m.GAMEOBJECT_OVER,!0)},forceOutState:function(L,G){this.forceState(L,G,m.GAMEOBJECT_POINTER_OUT,m.GAMEOBJECT_OUT,!1)},forceState:function(L,G,j,z,Y){var Z=this._eventData,rt=this._eventContainer;Z.cancelled=!1,G.input&&G.input.enabled&&(G.emit(j,L,G.input.localX,G.input.localY,rt),Y&&this.setCursor(G.input),!Z.cancelled&&this.isActive()&&G.input&&G.input.enabled&&this.emit(z,L,G,rt))},queueForInsertion:function(L){return-1===this._pendingInsertion.indexOf(L)&&-1===this._list.indexOf(L)&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,G){void 0===G&&(G=!0),Array.isArray(L)||(L=[L]);for(var j=0;j<L.length;j++){var z=L[j];z.input.draggable=G;var Y=this._draggable.indexOf(z);G&&-1===Y?this._draggable.push(z):!G&&Y>-1&&this._draggable.splice(Y,1)}return this},makePixelPerfect:function(L){return void 0===L&&(L=1),l(this.systems.textures,L)},setHitArea:function(L,G,j){if(void 0===G)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var z=!1,Y=!1,Z=!1,rt=!1,st=!1,K=!0;if(E(G)&&Object.keys(G).length){var tt=G;if(!L.some(function(vt){return vt.hasOwnProperty("faces")})){G=x(tt,"hitArea",null),j=x(tt,"hitAreaCallback",null),st=x(tt,"pixelPerfect",!1);var H=x(tt,"alphaTolerance",1);st&&(G={},j=this.makePixelPerfect(H))}z=x(tt,"draggable",!1),Y=x(tt,"dropZone",!1),Z=x(tt,"cursor",!1),rt=x(tt,"useHandCursor",!1),(!G||!j)&&(this.setHitAreaFromTexture(L),K=!1)}else"function"==typeof G&&!j&&(j=G,G={});for(var it=0;it<L.length;it++){var dt=L[it];if(st&&"Container"===dt.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var mt=dt.input?dt.input:u(dt,G,j);mt.customHitArea=K,mt.dropZone=Y,mt.cursor=rt?"pointer":Z,dt.input=mt,z&&this.setDraggable(dt),this.queueForInsertion(dt)}}return this},setHitAreaCircle:function(L,G,j,z,Y){void 0===Y&&(Y=T);var Z=new b(G,j,z);return this.setHitArea(L,Z,Y)},setHitAreaEllipse:function(L,G,j,z,Y,Z){void 0===Z&&(Z=c);var rt=new f(G,j,z,Y);return this.setHitArea(L,rt,Z)},setHitAreaFromTexture:function(L,G){void 0===G&&(G=I),Array.isArray(L)||(L=[L]);for(var j=0;j<L.length;j++){var z=L[j],Y=z.frame,Z=0,rt=0;z.width?(Z=z.width,rt=z.height):Y&&(Z=Y.realWidth,rt=Y.realHeight),"Container"!==z.type||0!==Z&&0!==rt?0!==Z&&0!==rt&&(z.input=u(z,new A(0,0,Z,rt),G),this.queueForInsertion(z)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(L,G,j,z,Y,Z){void 0===Z&&(Z=I);var rt=new A(G,j,z,Y);return this.setHitArea(L,rt,Z)},setHitAreaTriangle:function(L,G,j,z,Y,Z,rt,st){void 0===st&&(st=O);var K=new P(G,j,z,Y,Z,rt);return this.setHitArea(L,K,st)},enableDebug:function(L,G){void 0===G&&(G=65280);var j=L.input;if(!j||!j.hitArea)return this;var z=j.hitArea,Y=z.type,Z=j.hitAreaDebug,rt=this.systems.add,st=this.systems.updateList;Z&&(st.remove(Z),Z.destroy(),Z=null);var K=0,tt=0;switch(Y){case y.CIRCLE:Z=rt.arc(0,0,z.radius),K=z.x-z.radius,tt=z.y-z.radius;break;case y.ELLIPSE:Z=rt.ellipse(0,0,z.width,z.height),K=z.x-z.width/2,tt=z.y-z.height/2;break;case y.LINE:Z=rt.line(0,0,z.x1,z.y1,z.x2,z.y2);break;case y.POLYGON:Z=rt.polygon(0,0,z.points);break;case y.RECTANGLE:Z=rt.rectangle(0,0,z.width,z.height),K=z.x,tt=z.y;break;case y.TRIANGLE:Z=rt.triangle(0,0,z.x1,z.y1,z.x2,z.y2,z.x3,z.y3)}return Z&&(Z.isFilled=!1,Z.strokeColor=G,Z.preUpdate=function(){Z.setVisible(L.visible),Z.setStrokeStyle(1/L.scale,Z.strokeColor),Z.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var W=L.x,H=L.y,it=L.rotation,dt=L.scaleX,mt=L.scaleY;if(L.parentContainer){var vt=L.getWorldTransformMatrix();W=vt.tx,H=vt.ty,it=vt.rotation,dt=vt.scaleX,mt=vt.scaleY}Z.setRotation(it),Z.setScale(dt,mt),Z.setPosition(W+K*dt,H+tt*mt),Z.setScrollFactor(L.scrollFactorX,L.scrollFactorY),Z.setDepth(L.depth)},st.add(Z),j.hitAreaDebug=Z),this},removeDebug:function(L){var G=L.input;return G&&G.hitAreaDebug&&(G.hitAreaDebug.destroy(),G.hitAreaDebug=null),this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,G){if(L.length<2||!G.camera)return L;var j=G.camera.renderList;return L.sort(function(z,Y){var Z=Math.max(j.indexOf(z),0);return Math.max(j.indexOf(Y),0)-Z})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,G){if(!L.parentContainer&&!G.parentContainer)return this.displayList.getIndex(G)-this.displayList.getIndex(L);if(L.parentContainer===G.parentContainer)return G.parentContainer.getIndex(G)-L.parentContainer.getIndex(L);if(L.parentContainer===G)return-1;if(G.parentContainer===L)return 1;for(var j=L.getIndexList(),z=G.getIndexList(),Y=Math.min(j.length,z.length),Z=0;Z<Y;Z++){var rt=j[Z],st=z[Z];if(rt!==st)return st-rt}return z.length-j.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(m.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var G=this.manager;G.canvas.style.cursor=G.defaultCursor;var j=this.systems.events;j.off(M.TRANSITION_START,this.transitionIn,this),j.off(M.TRANSITION_OUT,this.transitionOut,this),j.off(M.TRANSITION_COMPLETE,this.transitionComplete,this),j.off(M.PRE_UPDATE,this.preUpdate,this),G.events.off(m.GAME_OUT,this.onGameOut,this),G.events.off(m.GAME_OVER,this.onGameOver,this),j.off(M.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var L=this.manager.pointers,G=0;G<L.length;G++)L[G].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(m.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(M.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});S.register("InputPlugin",N,"input"),_.exports=N},89639:(_,k,a)=>{var b=a(35154),T={};_.exports={register:function(h,u,l,d,f){T[h]={plugin:u,mapping:l,settingsKey:d,configKey:f}},getPlugin:function(h){return T[h]},install:function(h){var u=h.scene.sys,l=u.settings.input,d=u.game.config;for(var f in T){var c=T[f].plugin,m=T[f].mapping;b(l,T[f].settingsKey,d[T[f].configKey])&&(h[m]=new c(h))}},remove:function(h){T.hasOwnProperty(h)&&delete T[h]}}},42515:(_,k,a)=>{var b=a(31040),T=a(83419),g=a(20339),h=a(43855),u=a(47235),l=a(26099),d=a(25892),f=new T({initialize:function(m,v){this.manager=m,this.id=v,this.camera=null,this.button=0,this.buttons=0,this.position=new l,this.prevPosition=new l,this.midPoint=new l(-1,-1),this.velocity=new l,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===v,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(c){var m=c.getWorldPoint(this.x,this.y);return this.worldX=m.x,this.worldY=m.y,this},positionToCamera:function(c,m){return c.getWorldPoint(this.x,this.y,m)},updateMotion:function(){var c=this.position.x,m=this.position.y,v=this.midPoint.x,x=this.midPoint.y;if(c!==v||m!==x){var y=u(this.motionFactor,v,c),w=u(this.motionFactor,x,m);h(y,c,.1)&&(y=c),h(w,m,.1)&&(w=m),this.midPoint.set(y,w);var E=c-y,S=m-w;this.velocity.set(E,S),this.angle=b(y,w,c,m),this.distance=Math.sqrt(E*E+S*S)}},up:function(c){"buttons"in c&&(this.buttons=c.buttons),this.event=c,this.button=c.button,this.upElement=c.target,this.manager.transformPointer(this,c.pageX,c.pageY,!1),0===c.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=c.timeStamp,this.wasTouch=!1)},down:function(c){"buttons"in c&&(this.buttons=c.buttons),this.event=c,this.button=c.button,this.downElement=c.target,this.manager.transformPointer(this,c.pageX,c.pageY,!1),0===c.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),d.macOS&&c.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=c.timeStamp),this.wasTouch=!1},move:function(c){"buttons"in c&&(this.buttons=c.buttons),this.event=c,this.manager.transformPointer(this,c.pageX,c.pageY,!0),this.locked&&(this.movementX=c.movementX||c.mozMovementX||c.webkitMovementX||0,this.movementY=c.movementY||c.mozMovementY||c.webkitMovementY||0),this.moveTime=c.timeStamp,this.wasTouch=!1},wheel:function(c){"buttons"in c&&(this.buttons=c.buttons),this.event=c,this.manager.transformPointer(this,c.pageX,c.pageY,!1),this.deltaX=c.deltaX,this.deltaY=c.deltaY,this.deltaZ=c.deltaZ,this.wasTouch=!1},touchstart:function(c,m){c.pointerId&&(this.pointerId=c.pointerId),this.identifier=c.identifier,this.target=c.target,this.active=!0,this.buttons=1,this.event=m,this.downElement=c.target,this.manager.transformPointer(this,c.pageX,c.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=m.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(c,m){this.event=m,this.manager.transformPointer(this,c.pageX,c.pageY,!0),this.moveTime=m.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(c,m){this.buttons=0,this.event=m,this.upElement=c.target,this.manager.transformPointer(this,c.pageX,c.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=m.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(c,m){this.buttons=0,this.event=m,this.upElement=c.target,this.manager.transformPointer(this,c.pageX,c.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=m.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.buttons?0===this.button&&!this.isDown:0===this.button},rightButtonReleased:function(){return 0===this.buttons?2===this.button&&!this.isDown:2===this.button},middleButtonReleased:function(){return 0===this.buttons?1===this.button&&!this.isDown:1===this.button},backButtonReleased:function(){return 0===this.buttons?3===this.button&&!this.isDown:3===this.button},forwardButtonReleased:function(){return 0===this.buttons?4===this.button&&!this.isDown:4===this.button},getDistance:function(){return this.isDown?g(this.downX,this.downY,this.x,this.y):g(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?b(this.downX,this.downY,this.x,this.y):b(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(c,m){void 0===c&&(c=10),void 0===m&&(m=[]);for(var v=this.prevPosition.x,x=this.prevPosition.y,y=this.position.x,w=this.position.y,E=0;E<c;E++){var S=1/c*E;m[E]={x:u(S,v,y),y:u(S,x,w)}}return m},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=0===this.id},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(c){this.position.x=c}},y:{get:function(){return this.position.y},set:function(c){this.position.y=c}},time:{get:function(){return this.event?this.event.timeStamp:0}}});_.exports=f},93301:_=>{_.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},7179:_=>{_.exports="boot"},85375:_=>{_.exports="destroy"},39843:_=>{_.exports="dragend"},23388:_=>{_.exports="dragenter"},16133:_=>{_.exports="drag"},27829:_=>{_.exports="dragleave"},53904:_=>{_.exports="dragover"},56058:_=>{_.exports="dragstart"},2642:_=>{_.exports="drop"},88171:_=>{_.exports="gameobjectdown"},36147:_=>{_.exports="dragend"},71692:_=>{_.exports="dragenter"},96149:_=>{_.exports="drag"},81285:_=>{_.exports="dragleave"},74048:_=>{_.exports="dragover"},21322:_=>{_.exports="dragstart"},49378:_=>{_.exports="drop"},86754:_=>{_.exports="gameobjectmove"},86433:_=>{_.exports="gameobjectout"},60709:_=>{_.exports="gameobjectover"},24081:_=>{_.exports="pointerdown"},11172:_=>{_.exports="pointermove"},18907:_=>{_.exports="pointerout"},95579:_=>{_.exports="pointerover"},35368:_=>{_.exports="pointerup"},26972:_=>{_.exports="wheel"},47078:_=>{_.exports="gameobjectup"},73802:_=>{_.exports="gameobjectwheel"},56718:_=>{_.exports="gameout"},25936:_=>{_.exports="gameover"},27503:_=>{_.exports="boot"},50852:_=>{_.exports="process"},96438:_=>{_.exports="update"},59152:_=>{_.exports="pointerlockchange"},47777:_=>{_.exports="pointerdown"},27957:_=>{_.exports="pointerdownoutside"},19444:_=>{_.exports="pointermove"},54251:_=>{_.exports="pointerout"},18667:_=>{_.exports="pointerover"},27192:_=>{_.exports="pointerup"},24652:_=>{_.exports="pointerupoutside"},45132:_=>{_.exports="wheel"},44512:_=>{_.exports="preupdate"},15757:_=>{_.exports="shutdown"},41637:_=>{_.exports="start"},93802:_=>{_.exports="update"},8214:(_,k,a)=>{_.exports={BOOT:a(7179),DESTROY:a(85375),DRAG_END:a(39843),DRAG_ENTER:a(23388),DRAG:a(16133),DRAG_LEAVE:a(27829),DRAG_OVER:a(53904),DRAG_START:a(56058),DROP:a(2642),GAME_OUT:a(56718),GAME_OVER:a(25936),GAMEOBJECT_DOWN:a(88171),GAMEOBJECT_DRAG_END:a(36147),GAMEOBJECT_DRAG_ENTER:a(71692),GAMEOBJECT_DRAG:a(96149),GAMEOBJECT_DRAG_LEAVE:a(81285),GAMEOBJECT_DRAG_OVER:a(74048),GAMEOBJECT_DRAG_START:a(21322),GAMEOBJECT_DROP:a(49378),GAMEOBJECT_MOVE:a(86754),GAMEOBJECT_OUT:a(86433),GAMEOBJECT_OVER:a(60709),GAMEOBJECT_POINTER_DOWN:a(24081),GAMEOBJECT_POINTER_MOVE:a(11172),GAMEOBJECT_POINTER_OUT:a(18907),GAMEOBJECT_POINTER_OVER:a(95579),GAMEOBJECT_POINTER_UP:a(35368),GAMEOBJECT_POINTER_WHEEL:a(26972),GAMEOBJECT_UP:a(47078),GAMEOBJECT_WHEEL:a(73802),MANAGER_BOOT:a(27503),MANAGER_PROCESS:a(50852),MANAGER_UPDATE:a(96438),POINTER_DOWN:a(47777),POINTER_DOWN_OUTSIDE:a(27957),POINTER_MOVE:a(19444),POINTER_OUT:a(54251),POINTER_OVER:a(18667),POINTER_UP:a(27192),POINTER_UP_OUTSIDE:a(24652),POINTER_WHEEL:a(45132),POINTERLOCK_CHANGE:a(59152),PRE_UPDATE:a(44512),SHUTDOWN:a(15757),START:a(41637),UPDATE:a(93802)}},97421:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u){this.pad=h,this.events=h.events,this.index=u,this.value=0,this.threshold=.1},update:function(g){this.value=g},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});_.exports=T},28884:(_,k,a)=>{var b=a(83419),T=a(92734),g=new b({initialize:function(u,l){this.pad=u,this.events=u.manager,this.index=l,this.value=0,this.threshold=1,this.pressed=!1},update:function(h){this.value=h;var u=this.pad,l=this.index;h>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(T.BUTTON_DOWN,u,this,h),this.pad.emit(T.GAMEPAD_BUTTON_DOWN,l,h,this)):this.pressed&&(this.pressed=!1,this.events.emit(T.BUTTON_UP,u,this,h),this.pad.emit(T.GAMEPAD_BUTTON_UP,l,h,this))},destroy:function(){this.pad=null,this.events=null}});_.exports=g},99125:(_,k,a)=>{var b=a(97421),T=a(28884),g=a(83419),h=a(50792),u=a(26099),l=new g({Extends:h,initialize:function(f,c){h.call(this),this.manager=f,this.pad=c,this.id=c.id,this.index=c.index;for(var m=[],v=0;v<c.buttons.length;v++)m.push(new T(this,v));this.buttons=m;var x=[];for(v=0;v<c.axes.length;v++)x.push(new b(this,v));this.axes=x,this.vibration=c.vibrationActuator;var y={value:0,pressed:!1};this._LCLeft=m[14]?m[14]:y,this._LCRight=m[15]?m[15]:y,this._LCTop=m[12]?m[12]:y,this._LCBottom=m[13]?m[13]:y,this._RCLeft=m[2]?m[2]:y,this._RCRight=m[1]?m[1]:y,this._RCTop=m[3]?m[3]:y,this._RCBottom=m[0]?m[0]:y,this._FBLeftTop=m[4]?m[4]:y,this._FBLeftBottom=m[6]?m[6]:y,this._FBRightTop=m[5]?m[5]:y,this._FBRightBottom=m[7]?m[7]:y;var w={value:0};this._HAxisLeft=x[0]?x[0]:w,this._VAxisLeft=x[1]?x[1]:w,this._HAxisRight=x[2]?x[2]:w,this._VAxisRight=x[3]?x[3]:w,this.leftStick=new u,this.rightStick=new u,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(d){return this.axes[d].getValue()},setAxisThreshold:function(d){for(var f=0;f<this.axes.length;f++)this.axes[f].threshold=d},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(d){return this.buttons[d].value},isButtonDown:function(d){return this.buttons[d].pressed},update:function(d){if(!(d.timestamp<this._created)){var f,c=this.buttons,m=d.buttons,v=c.length;for(f=0;f<v;f++)c[f].update(m[f].value);var x=this.axes,y=d.axes;for(v=x.length,f=0;f<v;f++)x[f].update(y[f]);v>=2&&(this.leftStick.set(x[0].getValue(),x[1].getValue()),v>=4&&this.rightStick.set(x[2].getValue(),x[3].getValue()))}},destroy:function(){var d;for(this.removeAllListeners(),this.manager=null,this.pad=null,d=0;d<this.buttons.length;d++)this.buttons[d].destroy();for(d=0;d<this.axes.length;d++)this.axes[d].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});_.exports=l},56654:(_,k,a)=>{var b=a(83419),T=a(50792),g=a(92734),h=a(99125),u=a(35154),l=a(89639),d=a(8214),f=new b({Extends:T,initialize:function(m){T.call(this),this.scene=m.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=m,this.enabled=!0,this.gamepads=[],this.queue=[],m.pluginEvents.once(d.BOOT,this.boot,this),m.pluginEvents.on(d.START,this.start,this)},boot:function(){var c=this.scene.sys.game,m=this.settings.input,v=c.config;this.enabled=u(m,"gamepad",v.inputGamepad)&&c.device.input.gamepads,this.target=u(m,"gamepad.target",v.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var c=this,m=this.target,v=function(x){x.defaultPrevented||!c.isActive()||(c.refreshPads(),c.queue.push(x))};this.onGamepadHandler=v,m.addEventListener("gamepadconnected",v,!1),m.addEventListener("gamepaddisconnected",v,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update);for(var c=0;c<this.gamepads.length;c++)this.gamepads[c].removeAllListeners()},disconnectAll:function(){for(var c=0;c<this.gamepads.length;c++)this.gamepads[c].pad.connected=!1},refreshPads:function(){var c=navigator.getGamepads();if(c)for(var m=this.gamepads,v=0;v<c.length;v++){var x=c[v];if(x){var w=x.index,E=m[w];if(E)E.id!==x.id?(E.destroy(),m[w]=new h(this,x)):E.update(x);else{var S=new h(this,x);m[w]=S,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=S):this._pad3=S:this._pad2=S:this._pad1=S}}}else this.disconnectAll()},getAll:function(){for(var c=[],m=this.gamepads,v=0;v<m.length;v++)m[v]&&c.push(m[v]);return c},getPad:function(c){for(var m=this.gamepads,v=0;v<m.length;v++)if(m[v]&&m[v].index===c)return m[v]},update:function(){if(this.enabled){this.refreshPads();var c=this.queue.length;if(0!==c)for(var m=this.queue.splice(0,c),v=0;v<c;v++){var x=m[v],y=this.getPad(x.gamepad.index);"gamepadconnected"===x.type?this.emit(g.CONNECTED,y,x):"gamepaddisconnected"===x.type&&this.emit(g.DISCONNECTED,y,x)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var c=0;c<this.gamepads.length;c++)this.gamepads[c]&&this.gamepads[c].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});l.register("GamepadPlugin",f,"gamepad","gamepad","inputGamepad"),_.exports=f},89651:_=>{_.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:_=>{_.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:_=>{_.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(_,k,a)=>{_.exports={DUALSHOCK_4:a(65294),SNES_USB:a(89651),XBOX_360:a(90089)}},46008:_=>{_.exports="down"},7629:_=>{_.exports="up"},42206:_=>{_.exports="connected"},86544:_=>{_.exports="disconnected"},94784:_=>{_.exports="down"},14325:_=>{_.exports="up"},92734:(_,k,a)=>{_.exports={BUTTON_DOWN:a(46008),BUTTON_UP:a(7629),CONNECTED:a(42206),DISCONNECTED:a(86544),GAMEPAD_BUTTON_DOWN:a(94784),GAMEPAD_BUTTON_UP:a(14325)}},48646:(_,k,a)=>{_.exports={Axis:a(97421),Button:a(28884),Events:a(92734),Gamepad:a(99125),GamepadPlugin:a(56654),Configs:a(64894)}},14350:(_,k,a)=>{var b=a(93301),T=a(79291),g={CreatePixelPerfectHandler:a(84409),CreateInteractiveObject:a(74457),Events:a(8214),Gamepad:a(48646),InputManager:a(7003),InputPlugin:a(48205),InputPluginCache:a(89639),Keyboard:a(51442),Mouse:a(87078),Pointer:a(42515),Touch:a(95618)};g=T(!1,g,b),_.exports=g},78970:(_,k,a)=>{var b=a(72905),T=a(83419),g=a(8443),h=a(8214),u=a(46032),l=a(29747),d=new T({initialize:function(c){this.manager=c,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.onKeyDown=l,this.onKeyUp=l,c.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputKeyboard,this.target=f.inputKeyboardEventTarget,this.addCapture(f.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(g.POST_STEP,this.postUpdate,this)},startListeners:function(){var f=this;this.onKeyDown=function(m){!m.defaultPrevented&&f.enabled&&f.manager&&(f.queue.push(m),f.manager.events.emit(h.MANAGER_PROCESS),f.preventDefault&&!(m.altKey||m.ctrlKey||m.shiftKey||m.metaKey)&&f.captures.indexOf(m.keyCode)>-1&&m.preventDefault())},this.onKeyUp=function(m){!m.defaultPrevented&&f.enabled&&f.manager&&(f.queue.push(m),f.manager.events.emit(h.MANAGER_PROCESS),f.preventDefault&&!(m.altKey||m.ctrlKey||m.shiftKey||m.metaKey)&&f.captures.indexOf(m.keyCode)>-1&&m.preventDefault())};var c=this.target;c&&(c.addEventListener("keydown",this.onKeyDown,!1),c.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var f=this.target;f.removeEventListener("keydown",this.onKeyDown,!1),f.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(f){"string"==typeof f&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var c=this.captures,m=0;m<f.length;m++){var v=f[m];"string"==typeof v&&(v=u[v.trim().toUpperCase()]),-1===c.indexOf(v)&&c.push(v)}this.preventDefault=c.length>0},removeCapture:function(f){"string"==typeof f&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var c=this.captures,m=0;m<f.length;m++){var v=f[m];"string"==typeof v&&(v=u[v.toUpperCase()]),b(c,v)}this.preventDefault=c.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(g.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});_.exports=d},28846:(_,k,a)=>{var b=a(83419),T=a(50792),g=a(95922),h=a(8443),u=a(35154),l=a(8214),d=a(89639),f=a(30472),c=a(46032),m=a(87960),v=a(74600),x=a(44594),y=a(56583),w=new b({Extends:T,initialize:function(S){T.call(this),this.game=S.systems.game,this.scene=S.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=S,this.manager=S.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,S.pluginEvents.once(l.BOOT,this.boot,this),S.pluginEvents.on(l.START,this.start,this)},boot:function(){var E=this.settings.input;this.enabled=u(E,"keyboard",!0);var S=u(E,"keyboard.capture",null);S&&this.addCaptures(S),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(l.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this),this.game.events.on(h.BLUR,this.resetKeys,this),this.scene.sys.events.on(x.PAUSE,this.resetKeys,this),this.scene.sys.events.on(x.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(E){return this.manager.addCapture(E),this},removeCapture:function(E){return this.manager.removeCapture(E),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:c.UP,down:c.DOWN,left:c.LEFT,right:c.RIGHT,space:c.SPACE,shift:c.SHIFT})},addKeys:function(E,S,A){void 0===S&&(S=!0),void 0===A&&(A=!1);var I={};if("string"==typeof E){E=E.split(",");for(var M=0;M<E.length;M++){var P=E[M].trim();P&&(I[P]=this.addKey(P,S,A))}}else for(var O in E)I[O]=this.addKey(E[O],S,A);return I},addKey:function(E,S,A){void 0===S&&(S=!0),void 0===A&&(A=!1);var I=this.keys;if(E instanceof f){var M=I.indexOf(E);return M>-1?I[M]=E:I[E.keyCode]=E,S&&this.addCapture(E.keyCode),E.setEmitOnRepeat(A),E}return"string"==typeof E&&(E=c[E.toUpperCase()]),I[E]||(I[E]=new f(this,E),S&&this.addCapture(E),I[E].setEmitOnRepeat(A)),I[E]},removeKey:function(E,S,A){void 0===S&&(S=!1),void 0===A&&(A=!1);var M,I=this.keys;if(E instanceof f){var P=I.indexOf(E);P>-1&&(M=this.keys[P],this.keys[P]=void 0)}else"string"==typeof E&&(E=c[E.toUpperCase()]);return I[E]&&(M=I[E],I[E]=void 0),M&&(M.plugin=null,A&&this.removeCapture(M.keyCode),S&&M.destroy()),this},removeAllKeys:function(E,S){void 0===E&&(E=!1),void 0===S&&(S=!1);for(var A=this.keys,I=0;I<A.length;I++){var M=A[I];M&&(A[I]=void 0,S&&this.removeCapture(M.keyCode),E&&M.destroy())}return this},createCombo:function(E,S){return new m(this,E,S)},checkDown:function(E,S){if(void 0===S&&(S=0),this.enabled&&E.isDown){var A=y(this.time-E.timeDown,S);if(A>E._tick)return E._tick=A,!0}return!1},update:function(){var E=this.manager.queue,S=E.length;if(this.isActive()&&0!==S)for(var A=this.keys,I=0;I<S;I++){var M=E[I],P=M.keyCode,O=A[P],N=!1;void 0===M.cancelled&&(M.cancelled=0,M.stopImmediatePropagation=function(){M.cancelled=1},M.stopPropagation=function(){M.cancelled=-1}),-1!==M.cancelled&&(P===this.prevCode&&M.timeStamp===this.prevTime&&M.type===this.prevType||(this.prevCode=P,this.prevTime=M.timeStamp,this.prevType=M.type,"keydown"===M.type?(O&&(N=O.isDown,O.onDown(M)),!M.cancelled&&(!O||!N)&&(v[P]&&this.emit(g.KEY_DOWN+v[P],M),M.cancelled||this.emit(g.ANY_KEY_DOWN,M))):(O&&O.onUp(M),M.cancelled||(v[P]&&this.emit(g.KEY_UP+v[P],M),M.cancelled||this.emit(g.ANY_KEY_UP,M))),1===M.cancelled&&(M.cancelled=0)))}},resetKeys:function(){for(var E=this.keys,S=0;S<E.length;S++)E[S]&&E[S].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(l.MANAGER_PROCESS,this.update,this),this.game.events.off(h.BLUR,this.resetKeys),this.scene.sys.events.off(x.PAUSE,this.resetKeys,this),this.scene.sys.events.off(x.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var E=this.keys,S=0;S<E.length;S++)E[S]&&E[S].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});d.register("KeyboardPlugin",w,"keyboard","keyboard","inputKeyboard"),_.exports=w},66970:_=>{_.exports=function(a,b){return b.timeLastMatched=a.timeStamp,b.index++,b.index===b.size||(b.current=b.keyCodes[b.index],!1)}},87960:(_,k,a)=>{var b=a(83419),T=a(95922),g=a(95540),h=a(68769),u=a(92803),l=new b({initialize:function(f,c,m){if(void 0===m&&(m={}),c.length<2)return!1;this.manager=f,this.enabled=!0,this.keyCodes=[];for(var v=0;v<c.length;v++){var x=c[v];"string"==typeof x?this.keyCodes.push(x.toUpperCase().charCodeAt(0)):"number"==typeof x?this.keyCodes.push(x):x.hasOwnProperty("keyCode")&&this.keyCodes.push(x.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=g(m,"resetOnWrongKey",!0),this.maxKeyDelay=g(m,"maxKeyDelay",0),this.resetOnMatch=g(m,"resetOnMatch",!1),this.deleteOnMatch=g(m,"deleteOnMatch",!1);var y=this;this.onKeyDown=function(E){!y.matched&&y.enabled&&h(E,y)&&(y.manager.emit(T.COMBO_MATCH,y,E),y.resetOnMatch?u(y):y.deleteOnMatch&&y.destroy())},this.manager.on(T.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(T.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});_.exports=l},68769:(_,k,a)=>{var b=a(66970);_.exports=function(g,h){if(h.matched)return!0;var u=!1,l=!1;return g.keyCode===h.current&&(h.index>0&&h.maxKeyDelay>0?g.timeStamp<=h.timeLastMatched+h.maxKeyDelay&&(l=!0,u=b(g,h)):(l=!0,u=b(g,h))),!l&&h.resetOnWrongKey&&(h.index=0,h.current=h.keyCodes[0]),u&&(h.timeLastMatched=g.timeStamp,h.matched=!0,h.timeMatched=g.timeStamp),u}},92803:_=>{_.exports=function(a){return a.current=a.keyCodes[0],a.index=0,a.timeLastMatched=0,a.matched=!1,a.timeMatched=0,a}},92612:_=>{_.exports="keydown"},23345:_=>{_.exports="keyup"},21957:_=>{_.exports="keycombomatch"},44743:_=>{_.exports="down"},3771:_=>{_.exports="keydown-"},46358:_=>{_.exports="keyup-"},75674:_=>{_.exports="up"},95922:(_,k,a)=>{_.exports={ANY_KEY_DOWN:a(92612),ANY_KEY_UP:a(23345),COMBO_MATCH:a(21957),DOWN:a(44743),KEY_DOWN:a(3771),KEY_UP:a(46358),UP:a(75674)}},51442:(_,k,a)=>{_.exports={Events:a(95922),KeyboardManager:a(78970),KeyboardPlugin:a(28846),Key:a(30472),KeyCodes:a(46032),KeyCombo:a(87960),AdvanceKeyCombo:a(66970),ProcessKeyCombo:a(68769),ResetKeyCombo:a(92803),JustDown:a(90229),JustUp:a(38796),DownDuration:a(37015),UpDuration:a(41170)}},37015:_=>{_.exports=function(a,b){return void 0===b&&(b=50),a.isDown&&a.plugin.game.loop.time-a.timeDown<b}},90229:_=>{_.exports=function(a){return!!a._justDown&&(a._justDown=!1,!0)}},38796:_=>{_.exports=function(a){return!!a._justUp&&(a._justUp=!1,!0)}},30472:(_,k,a)=>{var b=a(83419),T=a(50792),g=a(95922),h=new b({Extends:T,initialize:function(l,d){T.call(this),this.plugin=l,this.keyCode=d,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(u){return this.emitOnRepeat=u,this},onDown:function(u){this.originalEvent=u,this.enabled&&(this.altKey=u.altKey,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.location=u.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(g.DOWN,this,u):(this.isDown=!0,this.isUp=!1,this.timeDown=u.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(g.DOWN,this,u)))},onUp:function(u){this.originalEvent=u,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=u.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(g.UP,this,u))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});_.exports=h},46032:_=>{_.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},74600:(_,k,a)=>{var b=a(46032),T={};for(var g in b)T[b[g]]=g;_.exports=T},41170:_=>{_.exports=function(a,b){return void 0===b&&(b=50),a.isUp&&a.plugin.game.loop.time-a.timeUp<b}},85098:(_,k,a)=>{var b=a(83419),T=a(89357),g=a(8214),h=a(29747),u=new b({initialize:function(d){this.manager=d,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.locked=!1,this.onMouseMove=h,this.onMouseDown=h,this.onMouseUp=h,this.onMouseDownWindow=h,this.onMouseUpWindow=h,this.onMouseOver=h,this.onMouseOut=h,this.onMouseWheel=h,this.pointerLockChange=h,this.isTop=!0,d.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputMouse,this.target=l.inputMouseEventTarget,this.passive=l.inputMousePassive,this.preventDefaultDown=l.inputMousePreventDefaultDown,this.preventDefaultUp=l.inputMousePreventDefaultUp,this.preventDefaultMove=l.inputMousePreventDefaultMove,this.preventDefaultWheel=l.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},requestPointerLock:function(){if(T.pointerLock){var l=this.target;l.requestPointerLock=l.requestPointerLock||l.mozRequestPointerLock||l.webkitRequestPointerLock,l.requestPointerLock()}},releasePointerLock:function(){T.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var l=this.target;if(l){var d=this,f=this.manager,c=f.canvas,m=window&&window.focus&&f.game.config.autoFocus;this.onMouseMove=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&(f.onMouseMove(x),d.preventDefaultMove&&x.preventDefault())},this.onMouseDown=function(x){m&&window.focus(),!x.defaultPrevented&&d.enabled&&f&&f.enabled&&(f.onMouseDown(x),d.preventDefaultDown&&x.target===c&&x.preventDefault())},this.onMouseDownWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&d.enabled&&f&&f.enabled&&x.target!==c&&f.onMouseDown(x)},this.onMouseUp=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&(f.onMouseUp(x),d.preventDefaultUp&&x.target===c&&x.preventDefault())},this.onMouseUpWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&d.enabled&&f&&f.enabled&&x.target!==c&&f.onMouseUp(x)},this.onMouseOver=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&f.setCanvasOver(x)},this.onMouseOut=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&f.setCanvasOut(x)},this.onMouseWheel=function(x){!x.defaultPrevented&&d.enabled&&f&&f.enabled&&f.onMouseWheel(x),d.preventDefaultWheel&&x.target===c&&x.preventDefault()};var v={passive:!0};if(l.addEventListener("mousemove",this.onMouseMove),l.addEventListener("mousedown",this.onMouseDown),l.addEventListener("mouseup",this.onMouseUp),l.addEventListener("mouseover",this.onMouseOver,v),l.addEventListener("mouseout",this.onMouseOut,v),l.addEventListener("wheel",this.onMouseWheel,this.preventDefaultWheel?{passive:!1}:v),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,v),window.top.addEventListener("mouseup",this.onMouseUpWindow,v)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,v),window.addEventListener("mouseup",this.onMouseUpWindow,v),this.isTop=!1}T.pointerLock&&(this.pointerLockChange=function(x){var y=d.target;d.locked=document.pointerLockElement===y||document.mozPointerLockElement===y||document.webkitPointerLockElement===y,f.onPointerLockChange(x)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("mousemove",this.onMouseMove),l.removeEventListener("mousedown",this.onMouseDown),l.removeEventListener("mouseup",this.onMouseUp),l.removeEventListener("mouseover",this.onMouseOver),l.removeEventListener("mouseout",this.onMouseOut),window&&((l=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),l.removeEventListener("mouseup",this.onMouseUpWindow)),T.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});_.exports=u},87078:(_,k,a)=>{_.exports={MouseManager:a(85098)}},36210:(_,k,a)=>{var b=a(83419),T=a(8214),g=a(29747),h=new b({initialize:function(l){this.manager=l,this.capture=!0,this.enabled=!1,this.onTouchStart=g,this.onTouchStartWindow=g,this.onTouchMove=g,this.onTouchEnd=g,this.onTouchEndWindow=g,this.onTouchCancel=g,this.onTouchCancelWindow=g,this.isTop=!0,l.events.once(T.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputTouch,this.target=u.inputTouchEventTarget,this.capture=u.inputTouchCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,u.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(u){return u.preventDefault(),!1}),this},startListeners:function(){var u=this.target;if(u){var l=this,d=this.manager,f=d.canvas,c=window&&window.focus&&d.game.config.autoFocus;this.onTouchMove=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchMove(y),l.capture&&y.cancelable&&y.preventDefault())},this.onTouchStart=function(y){c&&window.focus(),!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchStart(y),l.capture&&y.cancelable&&y.target===f&&y.preventDefault())},this.onTouchStartWindow=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&y.target!==f&&d.onTouchStart(y)},this.onTouchEnd=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchEnd(y),l.capture&&y.cancelable&&y.target===f&&y.preventDefault())},this.onTouchEndWindow=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&y.target!==f&&d.onTouchEnd(y)},this.onTouchCancel=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchCancel(y),l.capture&&y.preventDefault())},this.onTouchCancelWindow=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&d.onTouchCancel(y)};var m=this.capture,v={passive:!0},x={passive:!1};if(u.addEventListener("touchstart",this.onTouchStart,m?x:v),u.addEventListener("touchmove",this.onTouchMove,m?x:v),u.addEventListener("touchend",this.onTouchEnd,m?x:v),u.addEventListener("touchcancel",this.onTouchCancel,m?x:v),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,x),window.top.addEventListener("touchend",this.onTouchEndWindow,x),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,x)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,x),window.addEventListener("touchend",this.onTouchEndWindow,x),window.addEventListener("touchcancel",this.onTouchCancelWindow,x),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var u=this.target;u.removeEventListener("touchstart",this.onTouchStart),u.removeEventListener("touchmove",this.onTouchMove),u.removeEventListener("touchend",this.onTouchEnd),u.removeEventListener("touchcancel",this.onTouchCancel),window&&((u=this.isTop?window.top:window).removeEventListener("touchstart",this.onTouchStartWindow),u.removeEventListener("touchend",this.onTouchEndWindow),u.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});_.exports=h},95618:(_,k,a)=>{_.exports={TouchManager:a(36210)}},41299:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(54899),h=a(95540),u=a(98356),l=a(3374),d=a(84376),f=a(92638),c=new b({initialize:function(v,x){if(this.loader=v,this.cache=h(x,"cache",!1),this.type=h(x,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=h(x,"key",!1);var y=this.key;if(v.prefix&&""!==v.prefix&&(this.key=v.prefix+y),!this.key)throw new Error("Invalid File key: "+this.key);var w=h(x,"url");void 0===w?w=v.path+y+"."+h(x,"extension",""):"string"==typeof w&&!w.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(w=v.path+w),this.url=w,this.src="",this.xhrSettings=f(h(x,"responseType",void 0)),h(x,"xhrSettings",!1)&&(this.xhrSettings=l(this.xhrSettings,h(x,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?T.FILE_POPULATED:T.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=h(x,"config",{}),this.base64="string"==typeof w&&0===w.indexOf("data:"),this.retryAttempts=h(x,"maxRetries",v.maxRetries)},setLink:function(m){this.linkFile=m,m.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===T.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=T.FILE_LOADING,this.src=u(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);0===this.src.indexOf("data:")&&(this.base64=!0),this.xhrLoader=d(this,this.loader.xhr)}},onLoad:function(m,v){var x=m.responseURL&&this.loader.localSchemes.some(function(E){return 0===m.responseURL.indexOf(E)}),w=!(v.target&&200!==v.target.status)||x&&0===v.target.status;4===m.readyState&&m.status>=400&&m.status<=599&&(w=!1),this.state=T.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,w)},onBase64Load:function(m){this.xhrLoader=m,this.state=T.FILE_LOADED,this.percentComplete=1,this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(m){m.lengthComputable&&(this.bytesLoaded=m.loaded,this.bytesTotal=m.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=T.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=T.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=T.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(m){if(this.state!==T.FILE_PENDING_DESTROY){void 0===m&&(m=this.data);var v=this.key,x=this.type;this.loader.emit(g.FILE_COMPLETE,v,x,m),this.loader.emit(g.FILE_KEY_COMPLETE+x+"-"+v,v,x,m),this.loader.flagForRemoval(this),this.state=T.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});c.createObjectURL=function(m,v,x){if("function"==typeof URL)m.src=URL.createObjectURL(v);else{var y=new FileReader;y.onload=function(){m.removeAttribute("crossOrigin"),m.src="data:"+(v.type||x)+";base64,"+y.result.split(",")[1]},y.onerror=m.onerror,y.readAsDataURL(v)}},c.revokeObjectURL=function(m){"function"==typeof URL&&URL.revokeObjectURL(m.src)},_.exports=c},74099:_=>{var k={};_.exports={install:function(b){for(var T in k)b[T]=k[T]},register:function(b,T){k[b]=T},destroy:function(){k={}}}},98356:_=>{_.exports=function(a,b){return!!a.url&&(a.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?a.url:b+a.url)}},74261:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(35072),h=a(50792),u=a(54899),l=a(74099),d=a(95540),f=a(35154),c=a(41212),m=a(37277),v=a(44594),x=a(92638),y=new b({Extends:h,initialize:function(E){h.call(this);var S=E.sys.game.config,A=E.sys.settings.loader;this.scene=E,this.systems=E.sys,this.cacheManager=E.sys.cache,this.textureManager=E.sys.textures,this.sceneManager=E.sys.game.scene,l.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(d(A,"baseURL",S.loaderBaseURL)),this.setPath(d(A,"path",S.loaderPath)),this.setPrefix(d(A,"prefix",S.loaderPrefix)),this.maxParallelDownloads=d(A,"maxParallelDownloads",S.loaderMaxParallelDownloads),this.xhr=x(d(A,"responseType",S.loaderResponseType),d(A,"async",S.loaderAsync),d(A,"user",S.loaderUser),d(A,"password",S.loaderPassword),d(A,"timeout",S.loaderTimeout),d(A,"withCredentials",S.loaderWithCredentials)),this.crossOrigin=d(A,"crossOrigin",S.loaderCrossOrigin),this.imageLoadType=d(A,"imageLoadType",S.loaderImageLoadType),this.localSchemes=d(A,"localScheme",S.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new g,this.inflight=new g,this.queue=new g,this._deleteQueue=new g,this.totalFailed=0,this.totalComplete=0,this.state=T.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=d(A,"maxRetries",S.loaderMaxRetries),E.sys.events.once(v.BOOT,this.boot,this),E.sys.events.on(v.START,this.pluginStart,this)},boot:function(){this.systems.events.once(v.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(v.SHUTDOWN,this.shutdown,this)},setBaseURL:function(w){return void 0===w&&(w=""),""!==w&&"/"!==w.substr(-1)&&(w=w.concat("/")),this.baseURL=w,this},setPath:function(w){return void 0===w&&(w=""),""!==w&&"/"!==w.substr(-1)&&(w=w.concat("/")),this.path=w,this},setPrefix:function(w){return void 0===w&&(w=""),this.prefix=w,this},setCORS:function(w){return this.crossOrigin=w,this},addFile:function(w){Array.isArray(w)||(w=[w]);for(var E=0;E<w.length;E++){var S=w[E];this.keyExists(S)||(this.list.set(S),this.emit(u.ADD,S.key,S.type,this,S),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(w){var E=w.hasCacheConflict();return E||this.list.iterate(function(S){if(S.type===w.type&&S.key===w.key)return E=!0,!1}),!E&&this.isLoading()&&(this.inflight.iterate(function(S){if(S.type===w.type&&S.key===w.key)return E=!0,!1}),this.queue.iterate(function(S){if(S.type===w.type&&S.key===w.key)return E=!0,!1})),E},addPack:function(w,E){if("string"==typeof E){var S=f(w,E);S&&(w={packKey:S})}var A=0,I=this.baseURL,M=this.path,P=this.prefix;for(var O in w)if(Object.prototype.hasOwnProperty.call(w,O)){var N=w[O],L=d(N,"baseURL",I),G=d(N,"path",M),j=d(N,"prefix",P),z=d(N,"files",null),Y=d(N,"defaultType","void");if(Array.isArray(z)){this.setBaseURL(L),this.setPath(G),this.setPrefix(j);for(var Z=0;Z<z.length;Z++){var rt=z[Z],st=rt.hasOwnProperty("type")?rt.type:Y;this[st]&&(this[st](rt),A++)}}}return this.setBaseURL(I),this.setPath(M),this.setPrefix(P),A>0},removePack:function(w,E){var P,S=this.systems.anims,A=this.cacheManager,I=this.textureManager,M={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"};if(c(w))P=w;else if(!(P=A.json.get(w)))return void console.warn("Asset Pack not found in JSON cache:",w);for(var O in E&&(P={_:P[E]}),P){var N=P[O],L=d(N,"prefix",""),G=d(N,"files"),j=d(N,"defaultType");if(Array.isArray(G))for(var z=0;z<G.length;z++){var Y=G[z],Z=Y.hasOwnProperty("type")?Y.type:j;if(Z){var rt=L+Y.key;if("animation"===Z&&S.remove(rt),"aseprite"!==Z&&"atlas"!==Z&&"atlasXML"!==Z&&"htmlTexture"!==Z&&"image"!==Z&&"multiatlas"!==Z&&"spritesheet"!==Z&&"svg"!==Z&&"texture"!==Z&&"unityAtlas"!==Z||(I.remove(rt),M[Z])){if("pack"===Z){this.removePack(rt,Y.dataKey);continue}if("spine"===Z){var st=A.custom.spine.get(rt);if(!st)continue;var K=void 0===st.prefix?"":st.prefix;A.custom.spine.remove(rt);var tt=A.custom.spineTextures.get(rt);if(!tt)continue;A.custom.spineTextures.remove(rt);for(var W=0;W<tt.pages.length;W++){var it=K+tt.pages[W].name,dt=rt+":"+it;I.exists(dt)?I.remove(dt):I.remove(it)}}var mt=M[Z];if(null!==mt){if(!mt){console.warn("Unknown type:",Z);continue}A[mt].remove(rt)}}}else console.warn("No type:",Y)}}},isLoading:function(){return this.state===T.LOADER_LOADING||this.state===T.LOADER_PROCESSING},isReady:function(){return this.state===T.LOADER_IDLE||this.state===T.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(u.START,this),0===this.list.size?this.loadComplete():(this.state=T.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(v.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(u.PROGRESS,this.progress)},update:function(){this.state===T.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(w){if((w.state===T.FILE_POPULATED||w.state===T.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(w),this.list.delete(w),w.crossOrigin||(w.crossOrigin=this.crossOrigin),w.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(w,E){this.inflight&&(this.inflight.delete(w),this.updateProgress(),E?(this.totalComplete++,this.queue.set(w),this.emit(u.FILE_LOAD,w),w.onProcess()):(this.totalFailed++,this._deleteQueue.set(w),this.emit(u.FILE_LOAD_ERROR,w),this.fileProcessComplete(w)))},fileProcessComplete:function(w){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(w.state===T.FILE_ERRORED?w.multiFile&&w.multiFile.onFileFailed(w):w.state===T.FILE_COMPLETE&&(w.multiFile?w.multiFile.isReadyToProcess()&&(w.multiFile.addToCache(),w.multiFile.pendingDestroy()):(w.addToCache(),w.pendingDestroy())),this.queue.delete(w),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(u.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=T.LOADER_COMPLETE,this.systems.events.off(v.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(u.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(w){this._deleteQueue.set(w)},saveJSON:function(w,E){return this.save(JSON.stringify(w),E)},save:function(w,E,S){void 0===E&&(E="file.json"),void 0===S&&(S="application/json");var A=new Blob([w],{type:S}),I=URL.createObjectURL(A),M=document.createElement("a");return M.download=E,M.textContent="Download "+E,M.href=I,M.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var w=this.systems.game.config,E=this.systems.settings.loader;this.setBaseURL(d(E,"baseURL",w.loaderBaseURL)),this.setPath(d(E,"path",w.loaderPath)),this.setPrefix(d(E,"prefix",w.loaderPrefix)),this.state=T.LOADER_IDLE},shutdown:function(){this.reset(),this.state=T.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=T.LOADER_DESTROYED,this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});m.register("Loader",y,"load"),_.exports=y},3374:(_,k,a)=>{var b=a(79291),T=a(92638);_.exports=function(h,u){var l=void 0===h?T():b({},h);if(u)for(var d in u)void 0!==u[d]&&(l[d]=u[d]);return l}},26430:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(54899),h=new b({initialize:function(l,d,f,c){var m=[];c.forEach(function(y){y&&m.push(y)}),this.loader=l,this.type=d,this.key=f,l.prefix&&""!==l.prefix&&(this.key=l.prefix+this.key),this.multiKeyIndex=l.multiKeyIndex++,this.files=m,this.state=T.FILE_PENDING,this.complete=!1,this.pending=m.length,this.failed=0,this.config={},this.baseURL=l.baseURL,this.path=l.path,this.prefix=l.prefix;for(var x=0;x<m.length;x++)m[x].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(u){return this.files.push(u),u.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(u){-1!==this.files.indexOf(u)&&this.pending--},onFileFailed:function(u){-1!==this.files.indexOf(u)&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,u.type,u.key))},pendingDestroy:function(){if(this.state!==T.FILE_PENDING_DESTROY){var u=this.key,l=this.type;this.loader.emit(g.FILE_COMPLETE,u,l),this.loader.emit(g.FILE_KEY_COMPLETE+l+"-"+u,u,l),this.loader.flagForRemoval(this);for(var d=0;d<this.files.length;d++)this.files[d].pendingDestroy();this.state=T.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});_.exports=h},84376:(_,k,a)=>{var b=a(3374);_.exports=function(g,h){var u=b(h,g.xhrSettings);if(!g.base64){var f=new XMLHttpRequest;if(f.open("GET",g.src,u.async,u.user,u.password),f.responseType=g.xhrSettings.responseType,f.timeout=u.timeout,u.headers)for(var c in u.headers)f.setRequestHeader(c,u.headers[c]);return u.header&&u.headerValue&&f.setRequestHeader(u.header,u.headerValue),u.requestedWith&&f.setRequestHeader("X-Requested-With",u.requestedWith),u.overrideMimeType&&f.overrideMimeType(u.overrideMimeType),u.withCredentials&&(f.withCredentials=!0),f.onload=g.onLoad.bind(g,f),f.onerror=g.onError.bind(g,f),f.onprogress=g.onProgress.bind(g),f.ontimeout=g.onError.bind(g,f),f.send(),f}var l=g.url.split(";base64,").pop()||g.url.split(",").pop(),d={responseText:atob(l)};g.onBase64Load(d)}},92638:_=>{_.exports=function(a,b,T,g,h,u){return void 0===a&&(a=""),void 0===b&&(b=!0),void 0===T&&(T=""),void 0===g&&(g=""),void 0===h&&(h=0),void 0===u&&(u=!1),{responseType:a,async:b,user:T,password:g,timeout:h,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:u}}},23906:_=>{_.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20}},42155:_=>{_.exports="addfile"},38991:_=>{_.exports="complete"},27540:_=>{_.exports="filecomplete"},87464:_=>{_.exports="filecomplete-"},94486:_=>{_.exports="loaderror"},13035:_=>{_.exports="load"},38144:_=>{_.exports="fileprogress"},97520:_=>{_.exports="postprocess"},85595:_=>{_.exports="progress"},55680:_=>{_.exports="start"},54899:(_,k,a)=>{_.exports={ADD:a(42155),COMPLETE:a(38991),FILE_COMPLETE:a(27540),FILE_KEY_COMPLETE:a(87464),FILE_LOAD_ERROR:a(94486),FILE_LOAD:a(13035),FILE_PROGRESS:a(38144),POST_PROCESS:a(97520),PROGRESS:a(85595),START:a(55680)}},14135:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(518),h=a(54899),u=new b({Extends:g,initialize:function(d,f,c,m,v){g.call(this,d,f,c,m,v),this.type="animationJSON"},onProcess:function(){this.loader.once(h.POST_PROCESS,this.onLoadComplete,this),g.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});T.register("animation",function(l,d,f,c){if(Array.isArray(l))for(var m=0;m<l.length;m++)this.addFile(new u(this,l[m]));else this.addFile(new u(this,l,d,c,f));return this}),_.exports=u},76272:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(95540),h=a(19550),u=a(41212),l=a(518),d=a(26430),f=new b({Extends:d,initialize:function(m,v,x,y,w,E){var S,A;if(u(v)){var I=v;v=g(I,"key"),S=new h(m,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),A=new l(m,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","json"),xhrSettings:g(I,"atlasXhrSettings")})}else S=new h(m,v,x,w),A=new l(m,v,y,E);d.call(this,m,"atlasjson",v,S.linkFile?[S,A,S.linkFile]:[S,A])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],m=this.files[1];this.loader.textureManager.addAtlas(c.key,c.data,m.data,this.files[2]?this.files[2].data:null),m.addToCache(),this.complete=!0}}});T.register("aseprite",function(c,m,v,x,y){var w;if(Array.isArray(c))for(var E=0;E<c.length;E++)w=new f(this,c[E]),this.addFile(w.files);else w=new f(this,c,m,v,x,y),this.addFile(w.files);return this}),_.exports=f},38734:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(95540),h=a(19550),u=a(41212),l=a(518),d=a(26430),f=new b({Extends:d,initialize:function(m,v,x,y,w,E){var S,A;if(u(v)){var I=v;v=g(I,"key"),S=new h(m,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),A=new l(m,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","json"),xhrSettings:g(I,"atlasXhrSettings")})}else S=new h(m,v,x,w),A=new l(m,v,y,E);d.call(this,m,"atlasjson",v,S.linkFile?[S,A,S.linkFile]:[S,A])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0];this.loader.textureManager.addAtlas(c.key,c.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});T.register("atlas",function(c,m,v,x,y){var w;if(Array.isArray(c))for(var E=0;E<c.length;E++)w=new f(this,c[E]),this.addFile(w.files);else w=new f(this,c,m,v,x,y),this.addFile(w.files);return this}),_.exports=f},74599:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(95540),h=a(19550),u=a(41212),l=a(26430),d=a(57318),f=new b({Extends:l,initialize:function(m,v,x,y,w,E){var S,A;if(u(v)){var I=v;v=g(I,"key"),S=new h(m,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),A=new d(m,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","xml"),xhrSettings:g(I,"atlasXhrSettings")})}else S=new h(m,v,x,w),A=new d(m,v,y,E);l.call(this,m,"atlasxml",v,S.linkFile?[S,A,S.linkFile]:[S,A])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0];this.loader.textureManager.addAtlasXML(c.key,c.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});T.register("atlasXML",function(c,m,v,x,y){var w;if(Array.isArray(c))for(var E=0;E<c.length;E++)w=new f(this,c[E]),this.addFile(w.files);else w=new f(this,c,m,v,x,y),this.addFile(w.files);return this}),_.exports=f},21097:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(89749),d=a(41212),f=new b({Extends:g,initialize:function(m,v,x,y,w){if(d(v)){var E=v;v=u(E,"key"),y=u(E,"xhrSettings"),w=u(E,"context",w)}g.call(this,m,{type:"audio",cache:m.cacheManager.audio,extension:x.type,responseType:"arraybuffer",key:v,url:x.url,xhrSettings:y,config:{context:w}})},onProcess:function(){this.state=T.FILE_PROCESSING;var c=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(m){c.data=m,c.onProcessComplete()},function(m){console.error("Error decoding audio: "+c.key+" - ",m?m.message:null),c.onProcessError()}),this.config.context=null}});f.create=function(c,m,v,x,y){var w=c.systems.game,E=w.config.audio,S=w.device.audio;d(m)&&(v=u(m,"url",[]),x=u(m,"config",{}));var A=f.getAudioURL(w,v);return A?S.webAudio&&!E.disableWebAudio?new f(c,m,A,y,w.sound.context):new l(c,m,A,x):(console.warn('No audio URLs for "%s" can play on this device',m),null)},f.getAudioURL=function(c,m){Array.isArray(m)||(m=[m]);for(var v=0;v<m.length;v++){var x=u(m[v],"url",m[v]);if(0===x.indexOf("blob:")||0===x.indexOf("data:"))return{url:x,type:""};var y=x.match(/\.([a-zA-Z0-9]+)($|\?)/);if(y=u(m[v],"type",y?y[1]:"").toLowerCase(),c.device.audio[y])return{url:x,type:y}}return null},h.register("audio",function(c,m,v,x){var S,y=this.systems.game,E=y.device.audio;if(y.config.audio.noAudio||!E.webAudio&&!E.audioData)return this;if(Array.isArray(c))for(var A=0;A<c.length;A++)(S=f.create(this,c[A]))&&this.addFile(S);else(S=f.create(this,c,m,v,x))&&this.addFile(S);return this}),_.exports=f},89524:(_,k,a)=>{var b=a(21097),T=a(83419),g=a(74099),h=a(95540),u=a(41212),l=a(518),d=a(26430),f=new T({Extends:d,initialize:function(m,v,x,y,w,E,S){if(u(v)){var A=v;v=h(A,"key"),x=h(A,"jsonURL"),y=h(A,"audioURL"),w=h(A,"audioConfig"),E=h(A,"audioXhrSettings"),S=h(A,"jsonXhrSettings")}var I;if(y){var M=b.create(m,v,y,w,E);M&&(I=new l(m,v,x,S),d.call(this,m,"audiosprite",v,[M,I]),this.config.resourceLoad=!1)}else I=new l(m,v,x,S),d.call(this,m,"audiosprite",v,[I]),this.config.resourceLoad=!0,this.config.audioConfig=w,this.config.audioXhrSettings=E},onFileComplete:function(c){if(-1!==this.files.indexOf(c)&&(this.pending--,this.config.resourceLoad&&"json"===c.type&&c.data.hasOwnProperty("resources"))){var v=c.data.resources,x=h(this.config,"audioConfig"),y=h(this.config,"audioXhrSettings"),w=b.create(this.loader,c.key,v,x,y);w&&(this.addToMultiFile(w),this.loader.addFile(w))}},addToCache:function(){if(this.isReadyToProcess()){var m=this.files[1];this.files[0].addToCache(),m.addToCache(),this.complete=!0}}});g.register("audioSprite",function(c,m,v,x,y,w){var I,E=this.systems.game,S=E.config.audio,A=E.device.audio;if(S&&S.noAudio||!A.webAudio&&!A.audioData)return this;if(Array.isArray(c))for(var M=0;M<c.length;M++)(I=new f(this,c[M])).files&&this.addFile(I.files);else(I=new f(this,c,m,v,x,y,w)).files&&this.addFile(I.files);return this})},85722:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x,y){var w="bin";if(l(m)){var E=m;m=u(E,"key"),v=u(E,"url"),x=u(E,"xhrSettings"),w=u(E,"extension",w),y=u(E,"dataType",y)}g.call(this,c,{type:"binary",cache:c.cacheManager.binary,extension:w,responseType:"arraybuffer",key:m,url:v,xhrSettings:x,config:{dataType:y}})},onProcess:function(){this.state=T.FILE_PROCESSING;var f=this.config.dataType;this.data=f?new f(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});h.register("binary",function(f,c,m,v){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new d(this,f[x]));else this.addFile(new d(this,f,c,v,m));return this}),_.exports=d},97025:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(95540),h=a(19550),u=a(41212),l=a(26430),d=a(21859),f=a(57318),c=new b({Extends:l,initialize:function(v,x,y,w,E,S){var A,I;if(u(x)){var M=x;x=g(M,"key"),A=new h(v,{key:x,url:g(M,"textureURL"),extension:g(M,"textureExtension","png"),normalMap:g(M,"normalMap"),xhrSettings:g(M,"textureXhrSettings")}),I=new f(v,{key:x,url:g(M,"fontDataURL"),extension:g(M,"fontDataExtension","xml"),xhrSettings:g(M,"fontDataXhrSettings")})}else A=new h(v,x,y,E),I=new f(v,x,w,S);l.call(this,v,"bitmapfont",x,A.linkFile?[A,I,A.linkFile]:[A,I])},addToCache:function(){if(this.isReadyToProcess()){var m=this.files[0],v=this.files[1];m.addToCache();var x=m.cache.get(m.key),y=d(v.data,m.cache.getFrame(m.key),0,0,x);this.loader.cacheManager.bitmapFont.add(m.key,{data:y,texture:m.key,frame:null}),this.complete=!0}}});T.register("bitmapFont",function(m,v,x,y,w){var E;if(Array.isArray(m))for(var S=0;S<m.length;S++)E=new c(this,m[S]),this.addFile(E.files);else E=new c(this,m,v,x,y,w),this.addFile(E.files);return this}),_.exports=c},16024:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x){var y="css";if(l(m)){var w=m;m=u(w,"key"),v=u(w,"url"),x=u(w,"xhrSettings"),y=u(w,"extension",y)}g.call(this,c,{type:"script",cache:!1,extension:y,responseType:"text",key:m,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("css",function(f,c,m){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new d(this,f[v]));else this.addFile(new d(this,f,c,m));return this}),_.exports=d},69559:(_,k,a)=>{var b=a(38734),T=a(85722),g=a(83419),h=a(74099),u=a(95540),l=a(19550),d=a(41212),f=a(518),c=a(31403),m=a(46975),v=a(59327),x=a(26430),y=a(82038),w=a(55222),E=new g({Extends:x,initialize:function(A,I,M,P){if(M.multiAtlasURL){var O=new f(A,{key:I,url:M.multiAtlasURL,xhrSettings:P,config:M});x.call(this,A,"texture",I,[O])}else{var N=M.textureURL.substr(M.textureURL.length-3);M.type||(M.type="ktx"===N.toLowerCase()?"KTX":"PVR");var L=new T(A,{key:I,url:M.textureURL,extension:N,xhrSettings:P,config:M});if(M.atlasURL){var G=new f(A,{key:I,url:M.atlasURL,xhrSettings:P,config:M});x.call(this,A,"texture",I,[L,G])}else x.call(this,A,"texture",I,[L])}this.config=M},onFileComplete:function(S){if(-1!==this.files.indexOf(S)){if(this.pending--,!this.config.multiAtlasURL)return;if("json"===S.type&&S.data.hasOwnProperty("textures")){var I=S.data.textures,M=this.config,P=this.loader,O=P.baseURL,N=P.path,L=P.prefix,G=u(M,"multiBaseURL",this.baseURL),j=u(M,"multiPath",this.path),z=u(M,"prefix",this.prefix),Y=u(M,"textureXhrSettings");G&&P.setBaseURL(G),j&&P.setPath(j),z&&P.setPrefix(z);for(var Z=0;Z<I.length;Z++){var rt=I[Z].image,st="CMA"+this.multiKeyIndex+"_"+rt,K=new T(P,st,rt,Y);if(this.addToMultiFile(K),P.addFile(K),I[Z].normalMap){var tt=new T(P,st,I[Z].normalMap,Y);tt.type="normalMap",K.setLink(tt),this.addToMultiFile(tt),P.addFile(tt)}}P.setBaseURL(O),P.setPath(N),P.setPrefix(L)}}},addToCache:function(){function S(G){console.warn('Compressed Texture Invalid: "'+O.key+'". '+G)}if(this.isReadyToProcess()){var A=this.config;if(A.multiAtlasURL)this.addMultiToCache();else{var P,I=this.loader.systems.renderer,M=this.loader.textureManager,O=this.files[0],N=this.files[1];"PVR"===A.type?P=y(O.data):"KTX"===A.type&&((P=c(O.data))||S("KTX file contains unsupported format.")),P&&!w(P)&&(S("Texture dimensions failed verification. Check the texture format specifications for "+A.format+" 0x"+P.internalFormat.toString(16)+"."),P=null),P&&!I.supportsCompressedTexture(A.format,P.internalFormat)&&(S("Texture format "+A.format+" with internal format "+P.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),P=null),P&&(P.format=I.getCompressedTextureName(A.format,P.internalFormat),M.addCompressedTexture(O.key,P,N&&N.data?N.data:null))}this.complete=!0}},addMultiToCache:function(){for(var L,S=this.config,A=this.files[0],I=[],M=[],P=[],O=this.loader.systems.renderer,N=this.loader.textureManager,G=1;G<this.files.length;G++){var j=this.files[G];if("normalMap"!==j.type)for(var z=j.key.indexOf("_"),Y=j.key.substr(z+1),Z=j.data,rt=0;rt<A.data.textures.length;rt++){var st=A.data.textures[rt];if(st.image===Y){"PVR"===S.type?L=y(Z):"KTX"===S.type&&(L=c(Z)),L&&O.supportsCompressedTexture(S.format,L.internalFormat)&&(L.format=O.getCompressedTextureName(S.format,L.internalFormat),M.push(L),I.push(st),j.linkFile&&P.push(j.linkFile.data));break}}}0===P.length&&(P=void 0),N.addAtlasJSONArray(this.key,M,I,P),this.complete=!0}});h.register("texture",function(S,A,I){var M=this.systems.renderer,P=function(N,L,G,j){var z={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(d(L)){var Y=L;L=u(Y,"key"),G=u(Y,"url"),j=u(Y,"xhrSettings")}var Z=!1;for(var rt in G)if(M.supportsCompressedTexture(rt)){var st=G[rt];"string"==typeof st?z.textureURL=st:z=m(st,z),z.format=rt.toUpperCase(),Z=!0;break}if(Z)if("IMG"===z.format){var K;K=z.multiAtlasURL?new v(N,L,z.multiAtlasURL,z.multiPath,z.multiBaseURL,j).files:z.atlasURL?new b(N,L,z.textureURL,z.atlasURL,j).files:new l(N,L,z.textureURL,j),N.addFile(K)}else{var W=new E(N,L,z,j);N.addFile(W.files)}else console.warn("No supported compressed texture format or IMG fallback",L)};if(Array.isArray(S))for(var O=0;O<S.length;O++)P(this,S[O]);else P(this,S,A,I);return this}),_.exports=E},87674:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(98356),d=a(41212),f=new b({Extends:g,initialize:function(m,v,x,y,w,E){var S="ttf";if(d(v)){var A=v;v=u(A,"key"),x=u(A,"url"),y=u(A,"format","truetype"),w=u(A,"descriptors",null),E=u(A,"xhrSettings"),S=u(A,"extension",S)}else void 0===y&&(y="truetype");g.call(this,m,{type:"font",cache:!1,extension:S,responseType:"text",key:v,url:x,xhrSettings:E}),this.data={format:y,descriptors:w},this.state=T.FILE_POPULATED},onProcess:function(){this.state=T.FILE_PROCESSING,this.src=l(this,this.loader.baseURL);var c,m=this.key,v="url("+this.src+') format("'+this.data.format+'")';c=this.data.descriptors?new FontFace(m,v,this.data.descriptors):new FontFace(m,v);var x=this;c.load().then(function(){document.fonts.add(c),document.body.classList.add("fonts-loaded"),x.onProcessComplete()}).catch(function(){console.warn("Font failed to load",v),x.onProcessComplete()})}});h.register("font",function(c,m,v,x,y){if(Array.isArray(c))for(var w=0;w<c.length;w++)this.addFile(new f(this,c[w]));else this.addFile(new f(this,c,m,v,x,y));return this}),_.exports=f},47931:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=a(73894),f=new b({Extends:g,initialize:function(m,v,x,y,w){var E="glsl";if(l(v)){var S=v;v=u(S,"key"),x=u(S,"url"),y=u(S,"shaderType","fragment"),w=u(S,"xhrSettings"),E=u(S,"extension",E)}else void 0===y&&(y="fragment");g.call(this,m,{type:"glsl",cache:m.cacheManager.shader,extension:E,responseType:"text",key:v,url:x,config:{shaderType:y},xhrSettings:w})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var c=this.data.split("\n"),m=this.extractBlock(c,0);if(m)for(;m;){var v=this.getShaderName(m.header),x=this.getShaderType(m.header),y=this.getShaderUniforms(m.header),w=m.shader;if(this.cache.has(v)){var E=this.cache.get(v);"fragment"===x?E.fragmentSrc=w:E.vertexSrc=w,E.uniforms||(E.uniforms=y)}else this.cache.add(v,"fragment"===x?new d(v,w,"",y):new d(v,"",w,y));m=this.extractBlock(c,m.offset)}else this.cache.add(this.key,"fragment"===this.config.shaderType?new d(this.key,this.data):new d(this.key,"",this.data))},getShaderName:function(c){for(var m=0;m<c.length;m++){var v=c[m].trim();if("name:"===v.substring(0,5))return v.substring(5).trim()}return this.key},getShaderType:function(c){for(var m=0;m<c.length;m++){var v=c[m].trim();if("type:"===v.substring(0,5))return v.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(c){for(var m={},v=0;v<c.length;v++){var x=c[v].trim();if("uniform."===x.substring(0,8)){var y=x.indexOf(":");if(y){var w=x.substring(8,y);try{m[w]=JSON.parse(x.substring(y+1))}catch{console.warn("Invalid uniform JSON: "+w)}}}}return m},extractBlock:function(c,m){for(var v=-1,x=-1,y=-1,w=!1,E=!1,S=[],A=[],I=m;I<c.length;I++){var M=c[I].trim();if("---"===M)if(-1===v)v=I,w=!0;else{if(!w){E=!1;break}x=I,w=!1,E=!0}else w?S.push(M):E&&(A.push(M),y=I)}return w||-1===x?null:{header:S,shader:A.join("\n"),offset:y}}});h.register("glsl",function(c,m,v,x){if(Array.isArray(c))for(var y=0;y<c.length;y++)this.addFile(new f(this,c[y]));else this.addFile(new f(this,c,m,v,x));return this}),_.exports=f},89749:(_,k,a)=>{var b=a(83419),T=a(54899),g=a(41299),h=a(95540),u=a(98356),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x){if(l(m)){var y=m;m=h(y,"key"),x=h(y,"config",x)}g.call(this,c,{type:"audio",cache:c.cacheManager.audio,extension:v.type,key:m,url:v.url,config:x}),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var f=0;f<this.data.length;f++){var c=this.data[f];c.oncanplaythrough=null,c.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(f){var c=f.target;c.oncanplaythrough=null,c.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(T.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var f=this.config&&this.config.instances||1;this.filesTotal=f,this.filesLoaded=0,this.percentComplete=0;for(var c=0;c<f;c++){var m=new Audio;m.dataset||(m.dataset={}),m.dataset.name=this.key+("0"+c).slice(-2),m.dataset.used="false",this.locked?m.dataset.locked="true":(m.dataset.locked="false",m.preload="auto",m.oncanplaythrough=this.onProgress.bind(this),m.onerror=this.onError.bind(this)),this.data.push(m)}for(c=0;c<this.data.length;c++)(m=this.data[c]).src=u(this,this.loader.baseURL),this.locked||m.load();this.locked&&setTimeout(this.onLoad.bind(this))}});_.exports=d},88470:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x){var y="html";if(l(m)){var w=m;m=u(w,"key"),v=u(w,"url"),x=u(w,"xhrSettings"),y=u(w,"extension",y)}g.call(this,c,{type:"text",cache:c.cacheManager.html,extension:y,responseType:"text",key:m,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("html",function(f,c,m){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new d(this,f[v]));else this.addFile(new d(this,f,c,m));return this}),_.exports=d},14643:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x,y,w){void 0===x&&(x=512),void 0===y&&(y=512);var E="html";if(l(m)){var S=m;m=u(S,"key"),v=u(S,"url"),w=u(S,"xhrSettings"),E=u(S,"extension",E),x=u(S,"width",x),y=u(S,"height",y)}g.call(this,c,{type:"html",cache:c.textureManager,extension:E,responseType:"text",key:m,url:v,xhrSettings:w,config:{width:x,height:y}})},onProcess:function(){this.state=T.FILE_PROCESSING;var f=this.config.width,c=this.config.height,m=[];m.push('<svg width="'+f+'px" height="'+c+'px" viewBox="0 0 '+f+" "+c+'" xmlns="http://www.w3.org/2000/svg">'),m.push('<foreignObject width="100%" height="100%">'),m.push('<body xmlns="http://www.w3.org/1999/xhtml">'),m.push(this.xhrLoader.responseText),m.push("</body>"),m.push("</foreignObject>"),m.push("</svg>");var v=[m.join("\n")],x=this;try{var y=new window.Blob(v,{type:"image/svg+xml;charset=utf-8"})}catch{return x.state=T.FILE_ERRORED,void x.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){g.revokeObjectURL(x.data),x.onProcessComplete()},this.data.onerror=function(){g.revokeObjectURL(x.data),x.onProcessError()},g.createObjectURL(this.data,y,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("htmlTexture",function(f,c,m,v,x){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new d(this,f[y]));else this.addFile(new d(this,f,c,m,v,x));return this}),_.exports=d},19550:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=a(98356),f=new b({Extends:g,initialize:function c(m,v,x,y,w){var S,E="png";if(l(v)){var A=v;v=u(A,"key"),x=u(A,"url"),S=u(A,"normalMap"),y=u(A,"xhrSettings"),E=u(A,"extension",E),w=u(A,"frameConfig")}if(Array.isArray(x)&&(S=x[1],x=x[0]),g.call(this,m,{type:"image",cache:m.textureManager,extension:E,responseType:"blob",key:v,url:x,xhrSettings:y,config:w}),S){var M=new c(m,this.key,S,y,w);M.type="normalMap",this.setLink(M),m.addFile(M)}this.useImageElementLoad="HTMLImageElement"===m.imageLoadType||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var c=this;this.data.onload=function(){g.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){g.revokeObjectURL(c.data),c.onProcessError()},g.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var c=this.state;this.state=T.FILE_PROCESSING,c===T.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=T.FILE_LOADING,this.src=d(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var c=this;this.data.onload=function(){c.state=T.FILE_LOADED,c.loader.nextFile(c,!0)},this.data.onerror=function(){c.loader.nextFile(c,!1)},this.data.src=this.src},addToCache:function(){var c=this.linkFile;c?c.state>=T.FILE_COMPLETE&&("spritesheet"===c.type?c.addToCache():"normalMap"===this.type?this.cache.addImage(this.key,c.data,this.data):this.cache.addImage(this.key,this.data,c.data)):this.cache.addImage(this.key,this.data)}});h.register("image",function(c,m,v){if(Array.isArray(c))for(var x=0;x<c.length;x++)this.addFile(new f(this,c[x]));else this.addFile(new f(this,c,m,v));return this}),_.exports=f},518:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(35154),d=a(41212),f=new b({Extends:g,initialize:function(m,v,x,y,w){var E="json";if(d(v)){var S=v;v=u(S,"key"),x=u(S,"url"),y=u(S,"xhrSettings"),E=u(S,"extension",E),w=u(S,"dataKey",w)}g.call(this,m,{type:"json",cache:m.cacheManager.json,extension:E,responseType:"text",key:v,url:x,xhrSettings:y,config:w}),d(x)&&(this.data=w?l(x,w):x,this.state=T.FILE_POPULATED)},onProcess:function(){if(this.state!==T.FILE_POPULATED){this.state=T.FILE_PROCESSING;try{var c=JSON.parse(this.xhrLoader.responseText)}catch(v){throw this.onProcessError(),v}var m=this.config;this.data="string"==typeof m?l(c,m,c):c}this.onProcessComplete()}});h.register("json",function(c,m,v,x){if(Array.isArray(c))for(var y=0;y<c.length;y++)this.addFile(new f(this,c[y]));else this.addFile(new f(this,c,m,x,v));return this}),_.exports=f},59327:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(95540),h=a(19550),u=a(41212),l=a(518),d=a(26430),f=new b({Extends:d,initialize:function(m,v,x,y,w,E,S){if(u(v)){var A=v;v=g(A,"key"),x=g(A,"url",!1)?g(A,"url"):g(A,"atlasURL"),E=g(A,"xhrSettings"),y=g(A,"path"),w=g(A,"baseURL"),S=g(A,"textureXhrSettings")}var I=new l(m,v,x,E);d.call(this,m,"multiatlas",v,[I]),this.config.path=y,this.config.baseURL=w,this.config.textureXhrSettings=S},onFileComplete:function(c){if(-1!==this.files.indexOf(c)&&(this.pending--,"json"===c.type&&c.data.hasOwnProperty("textures"))){var v=c.data.textures,x=this.config,y=this.loader,w=y.baseURL,E=y.path,S=y.prefix,A=g(x,"baseURL",this.baseURL),I=g(x,"path",this.path),M=g(x,"prefix",this.prefix),P=g(x,"textureXhrSettings");y.setBaseURL(A),y.setPath(I),y.setPrefix(M);for(var O=0;O<v.length;O++){var N=v[O].image,L="MA"+this.multiKeyIndex+"_"+N,G=new h(y,L,N,P);if(this.addToMultiFile(G),y.addFile(G),v[O].normalMap){var j=new h(y,L,v[O].normalMap,P);j.type="normalMap",G.setLink(j),this.addToMultiFile(j),y.addFile(j)}}y.setBaseURL(w),y.setPath(E),y.setPrefix(S)}},addToCache:function(){if(this.isReadyToProcess()){for(var c=this.files[0],m=[],v=[],x=[],y=1;y<this.files.length;y++){var w=this.files[y];if("normalMap"!==w.type)for(var E=w.key.indexOf("_"),S=w.key.substr(E+1),A=w.data,I=0;I<c.data.textures.length;I++){var M=c.data.textures[I];if(M.image===S){v.push(A),m.push(M),w.linkFile&&x.push(w.linkFile.data);break}}}0===x.length&&(x=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,v,m,x),this.complete=!0}}});T.register("multiatlas",function(c,m,v,x,y){var w;if(Array.isArray(c))for(var E=0;E<c.length;E++)w=new f(this,c[E]),this.addFile(w.files);else w=new f(this,c,m,v,x,y),this.addFile(w.files);return this}),_.exports=f},99297:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(95540),h=a(41212),u=a(26430),l=a(34328),d=new b({Extends:u,initialize:function(c,m,v,x){var y="js",w=[];if(h(m)){var E=m;m=g(E,"key"),v=g(E,"url"),x=g(E,"xhrSettings"),y=g(E,"extension",y)}Array.isArray(v)||(v=[v]);for(var S=0;S<v.length;S++){var A=new l(c,{key:m+"_"+S.toString(),url:v[S],extension:y,xhrSettings:x});A.onProcess=function(){this.onProcessComplete()},w.push(A)}u.call(this,c,"scripts",m,w)},addToCache:function(){if(this.isReadyToProcess()){for(var f=0;f<this.files.length;f++){var c=this.files[f];c.data=document.createElement("script"),c.data.language="javascript",c.data.type="text/javascript",c.data.defer=!1,c.data.text=c.xhrLoader.responseText,document.head.appendChild(c.data)}this.complete=!0}}});T.register("scripts",function(f,c,m){var v;if(Array.isArray(f))for(var x=0;x<f.length;x++)v=new d(this,f[x]),this.addFile(v.files);else v=new d(this,f,c,m),this.addFile(v.files);return this}),_.exports=d},41846:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(95540),h=a(41212),u=a(26430),l=a(85048),d=a(61485),f=a(78776),c=new b({Extends:u,initialize:function(v,x,y,w,E,S){var A,I,M=v.cacheManager.obj;if(h(x)){var P=x;x=g(P,"key"),A=new f(v,{key:x,type:"obj",cache:M,url:g(P,"url"),extension:g(P,"extension","obj"),xhrSettings:g(P,"xhrSettings"),config:{flipUV:g(P,"flipUV",E)}}),(w=g(P,"matURL"))&&(I=new f(v,{key:x,type:"mat",cache:M,url:w,extension:g(P,"matExtension","mat"),xhrSettings:g(P,"xhrSettings")}))}else A=new f(v,{key:x,url:y,type:"obj",cache:M,extension:"obj",xhrSettings:S,config:{flipUV:E}}),w&&(I=new f(v,{key:x,url:w,type:"mat",cache:M,extension:"mat",xhrSettings:S}));u.call(this,v,"obj",x,[A,I])},addToCache:function(){if(this.isReadyToProcess()){var m=this.files[0],v=this.files[1],x=l(m.data,m.config.flipUV);v&&(x.materials=d(v.data)),m.cache.add(m.key,x),this.complete=!0}}});T.register("obj",function(m,v,x,y,w){var E;if(Array.isArray(m))for(var S=0;S<m.length;S++)E=new c(this,m[S]),this.addFile(E.files);else E=new c(this,m,v,x,y,w),this.addFile(E.files);return this}),_.exports=c},58610:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(74099),h=a(518),u=new b({Extends:h,initialize:function(d,f,c,m,v){h.call(this,d,f,c,m,v),this.type="packfile"},onProcess:function(){if(this.state!==T.FILE_POPULATED&&(this.state=T.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var l={};l[this.config]=this.data,this.data=l}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});g.register("pack",function(l,d,f,c){if(Array.isArray(l))for(var m=0;m<l.length;m++)this.addFile(new u(this,l[m]));else this.addFile(new u(this,l,d,c,f));return this}),_.exports=u},48988:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x,y,w){var E="js";if(l(m)){var S=m;m=u(S,"key"),v=u(S,"url"),w=u(S,"xhrSettings"),E=u(S,"extension",E),x=u(S,"start"),y=u(S,"mapping")}g.call(this,c,{type:"plugin",cache:!1,extension:E,responseType:"text",key:m,url:v,xhrSettings:w,config:{start:x,mapping:y}}),"function"==typeof v&&(this.data=v,this.state=T.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,c=this.config,m=u(c,"start",!1),v=u(c,"mapping",null);if(this.state===T.FILE_POPULATED)f.install(this.key,this.data,m,v);else{this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var x=f.install(this.key,window[this.key],m,v);(m||v)&&(this.loader.systems[v]=x,this.loader.scene[v]=x)}this.onProcessComplete()}});h.register("plugin",function(f,c,m,v,x){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new d(this,f[y]));else this.addFile(new d(this,f,c,m,v,x));return this}),_.exports=d},67397:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x,y){var w="svg";if(l(m)){var E=m;m=u(E,"key"),v=u(E,"url"),x=u(E,"svgConfig",{}),y=u(E,"xhrSettings"),w=u(E,"extension",w)}var S={type:"svg",cache:c.textureManager,extension:w,responseType:"text",key:m,url:v,xhrSettings:y,config:{width:u(x,"width"),height:u(x,"height"),scale:u(x,"scale")}};g.call(this,c,S)},onProcess:function(){this.state=T.FILE_PROCESSING;var f=this.xhrLoader.responseText,c=[f],m=this.config.width,v=this.config.height,x=this.config.scale;t:if(m&&v||x){var E=(new DOMParser).parseFromString(f,"text/xml").getElementsByTagName("svg")[0],S=E.hasAttribute("viewBox"),A=parseFloat(E.getAttribute("width")),I=parseFloat(E.getAttribute("height"));if(!S&&A&&I)E.setAttribute("viewBox","0  0 "+A+" "+I);else if(S&&!A&&!I){var M=E.getAttribute("viewBox").split(/\s+|,/);A=M[2],I=M[3]}if(x){if(!A||!I)break t;m=A*x,v=I*x}E.setAttribute("width",m.toString()+"px"),E.setAttribute("height",v.toString()+"px"),c=[(new XMLSerializer).serializeToString(E)]}try{var P=new window.Blob(c,{type:"image/svg+xml;charset=utf-8"})}catch{return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var O=this,N=!1;this.data.onload=function(){N||g.revokeObjectURL(O.data),O.onProcessComplete()},this.data.onerror=function(){N?O.onProcessError():(N=!0,g.revokeObjectURL(O.data),O.data.src="data:image/svg+xml,"+encodeURIComponent(c.join("")))},g.createObjectURL(this.data,P,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("svg",function(f,c,m,v){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new d(this,f[x]));else this.addFile(new d(this,f,c,m,v));return this}),_.exports=d},88423:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x){var y="js";if(l(m)){var w=m;m=u(w,"key"),v=u(w,"url"),x=u(w,"xhrSettings"),y=u(w,"extension",y)}g.call(this,c,{type:"text",extension:y,responseType:"text",key:m,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),c=eval;this.loader.sceneManager.add(this.key,c(f)),this.complete=!0}});h.register("sceneFile",function(f,c,m){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new d(this,f[v]));else this.addFile(new d(this,f,c,m));return this}),_.exports=d},56812:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x,y,w){var E="js";if(l(m)){var S=m;m=u(S,"key"),v=u(S,"url"),w=u(S,"xhrSettings"),E=u(S,"extension",E),x=u(S,"systemKey"),y=u(S,"sceneKey")}g.call(this,c,{type:"scenePlugin",cache:!1,extension:E,responseType:"text",key:m,url:v,xhrSettings:w,config:{systemKey:x,sceneKey:y}}),"function"==typeof v&&(this.data=v,this.state=T.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,c=this.config,m=this.key,v=u(c,"systemKey",m),x=u(c,"sceneKey",m);this.state===T.FILE_POPULATED?f.installScenePlugin(v,this.data,x,this.loader.scene,!0):(this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),f.installScenePlugin(v,window[this.key],x,this.loader.scene,!0)),this.onProcessComplete()}});h.register("scenePlugin",function(f,c,m,v,x){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new d(this,f[y]));else this.addFile(new d(this,f,c,m,v,x));return this}),_.exports=d},34328:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x,y){var w="js";if(l(m)){var E=m;m=u(E,"key"),v=u(E,"url"),x=u(E,"type","script"),y=u(E,"xhrSettings"),w=u(E,"extension",w)}else void 0===x&&(x="script");g.call(this,c,{type:x,cache:!1,extension:w,responseType:"text",key:m,url:v,xhrSettings:y})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("script",function(f,c,m,v){if(Array.isArray(f))for(var x=0;x<f.length;x++)this.addFile(new d(this,f[x]));else this.addFile(new d(this,f,c,m,v));return this}),_.exports=d},85035:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(74099),h=a(19550),u=new b({Extends:h,initialize:function(d,f,c,m,v){h.call(this,d,f,c,v,m),this.type="spritesheet"},addToCache:function(){var l=this.linkFile;l?l.state>=T.FILE_COMPLETE&&("normalMap"===this.type?this.cache.addSpriteSheet(this.key,l.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,l.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});g.register("spritesheet",function(l,d,f,c){if(Array.isArray(l))for(var m=0;m<l.length;m++)this.addFile(new u(this,l[m]));else this.addFile(new u(this,l,d,f,c));return this}),_.exports=u},78776:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=new b({Extends:g,initialize:function(c,m,v,x){var y="text",w="txt",E=c.cacheManager.text;if(l(m)){var S=m;m=u(S,"key"),v=u(S,"url"),x=u(S,"xhrSettings"),w=u(S,"extension",w),y=u(S,"type",y),E=u(S,"cache",E)}g.call(this,c,{type:y,cache:E,extension:w,responseType:"text",key:m,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("text",function(f,c,m){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new d(this,f[v]));else this.addFile(new d(this,f,c,m));return this}),_.exports=d},49477:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=a(80341),f=new b({Extends:g,initialize:function(m,v,x,y){var w="csv";if(l(v)){var E=v;v=u(E,"key"),x=u(E,"url"),y=u(E,"xhrSettings"),w=u(E,"extension",w)}g.call(this,m,{type:"tilemapCSV",cache:m.cacheManager.tilemap,extension:w,responseType:"text",key:v,url:x,xhrSettings:y}),this.tilemapFormat=d.CSV},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){this.cache.add(this.key,{format:this.tilemapFormat,data:this.data})}});h.register("tilemapCSV",function(c,m,v){if(Array.isArray(c))for(var x=0;x<c.length;x++)this.addFile(new f(this,c[x]));else this.addFile(new f(this,c,m,v));return this}),_.exports=f},40807:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(518),h=a(80341),u=new b({Extends:g,initialize:function(d,f,c,m){g.call(this,d,f,c,m),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:h.WELTMEISTER,data:this.data})}});T.register("tilemapImpact",function(l,d,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new u(this,l[c]));else this.addFile(new u(this,l,d,f));return this}),_.exports=u},56775:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(518),h=a(80341),u=new b({Extends:g,initialize:function(d,f,c,m){g.call(this,d,f,c,m),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:h.TILED_JSON,data:this.data})}});T.register("tilemapTiledJSON",function(l,d,f){if(Array.isArray(l))for(var c=0;c<l.length;c++)this.addFile(new u(this,l[c]));else this.addFile(new u(this,l,d,f));return this}),_.exports=u},25771:(_,k,a)=>{var b=a(83419),T=a(74099),g=a(95540),h=a(19550),u=a(41212),l=a(26430),d=a(78776),f=new b({Extends:l,initialize:function(m,v,x,y,w,E){var S,A;if(u(v)){var I=v;v=g(I,"key"),S=new h(m,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),A=new d(m,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","txt"),xhrSettings:g(I,"atlasXhrSettings")})}else S=new h(m,v,x,w),A=new d(m,v,y,E);l.call(this,m,"unityatlas",v,S.linkFile?[S,A,S.linkFile]:[S,A])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0];this.loader.textureManager.addUnityAtlas(c.key,c.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});T.register("unityAtlas",function(c,m,v,x,y){var w;if(Array.isArray(c))for(var E=0;E<c.length;E++)w=new f(this,c[E]),this.addFile(w.files);else w=new f(this,c,m,v,x,y),this.addFile(w.files);return this}),_.exports=f},33720:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(98356),l=a(95540),d=a(41212),f=new b({Extends:g,initialize:function(m,v,x,y){if(void 0===y&&(y=!1),d(v)){var w=v;v=l(w,"key"),x=l(w,"url",[]),y=l(w,"noAudio",!1)}var E=m.systems.game.device.video.getVideoURL(x);E||console.warn("VideoFile: No supported format for "+v),g.call(this,m,{type:"video",cache:m.cacheManager.video,extension:E.type,key:v,url:E.url,config:{noAudio:y}})},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=u(this,this.loader.baseURL),this.state=T.FILE_LOADED,this.loader.nextFile(this,!0)}});h.register("video",function(c,m,v){if(Array.isArray(c))for(var x=0;x<c.length;x++)this.addFile(new f(this,c[x]));else this.addFile(new f(this,c,m,v));return this}),_.exports=f},57318:(_,k,a)=>{var b=a(83419),T=a(23906),g=a(41299),h=a(74099),u=a(95540),l=a(41212),d=a(56836),f=new b({Extends:g,initialize:function(m,v,x,y){var w="xml";if(l(v)){var E=v;v=u(E,"key"),x=u(E,"url"),y=u(E,"xhrSettings"),w=u(E,"extension",w)}g.call(this,m,{type:"xml",cache:m.cacheManager.xml,extension:w,responseType:"text",key:v,url:x,xhrSettings:y})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=d(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});h.register("xml",function(c,m,v){if(Array.isArray(c))for(var x=0;x<c.length;x++)this.addFile(new f(this,c[x]));else this.addFile(new f(this,c,m,v));return this}),_.exports=f},64589:(_,k,a)=>{_.exports={AnimationJSONFile:a(14135),AsepriteFile:a(76272),AtlasJSONFile:a(38734),AtlasXMLFile:a(74599),AudioFile:a(21097),AudioSpriteFile:a(89524),BinaryFile:a(85722),BitmapFontFile:a(97025),CompressedTextureFile:a(69559),CSSFile:a(16024),FontFile:a(87674),GLSLFile:a(47931),HTML5AudioFile:a(89749),HTMLFile:a(88470),HTMLTextureFile:a(14643),ImageFile:a(19550),JSONFile:a(518),MultiAtlasFile:a(59327),MultiScriptFile:a(99297),OBJFile:a(41846),PackFile:a(58610),PluginFile:a(48988),SceneFile:a(88423),ScenePluginFile:a(56812),ScriptFile:a(34328),SpriteSheetFile:a(85035),SVGFile:a(67397),TextFile:a(78776),TilemapCSVFile:a(49477),TilemapImpactFile:a(40807),TilemapJSONFile:a(56775),UnityAtlasFile:a(25771),VideoFile:a(33720),XMLFile:a(57318)}},57777:(_,k,a)=>{var b=a(23906),T=a(79291),g={Events:a(54899),FileTypes:a(64589),File:a(41299),FileTypesManager:a(74099),GetURL:a(98356),LoaderPlugin:a(74261),MergeXHRSettings:a(3374),MultiFile:a(26430),XHRLoader:a(84376),XHRSettings:a(92638)};g=T(!1,g,b),_.exports=g},53307:_=>{_.exports=function(a){for(var b=0,T=0;T<a.length;T++)b+=+a[T];return b/a.length}},85710:(_,k,a)=>{var b=a(6411);_.exports=function(g,h){return b(g)/b(h)/b(g-h)}},30976:_=>{_.exports=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)}},87842:_=>{_.exports=function(a,b,T,g,h){var u=.5*(g-b),l=.5*(h-T),d=a*a;return(2*T-2*g+u+l)*(a*d)+(-3*T+3*g-2*u-l)*d+u*a+T}},26302:_=>{_.exports=function(a,b,T){void 0===b&&(b=0),void 0===T&&(T=10);var g=Math.pow(T,-b);return Math.ceil(a*g)/g}},45319:_=>{_.exports=function(a,b,T){return Math.max(b,Math.min(T,a))}},39506:(_,k,a)=>{var b=a(36383);_.exports=function(g){return g*b.DEG_TO_RAD}},61241:_=>{_.exports=function(a,b){return Math.abs(a-b)}},38857:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(37867),h=a(29747),u=new g,l=new T({initialize:function d(f,c,m,v){void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v=d.DefaultOrder),this._x=f,this._y=c,this._z=m,this._order=v,this.onChangeCallback=h},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(d){this._order=d,this.onChangeCallback(this)}},set:function(d,f,c,m){return void 0===m&&(m=this._order),this._x=d,this._y=f,this._z=c,this._order=m,this.onChangeCallback(this),this},copy:function(d){return this.set(d.x,d.y,d.z,d.order)},setFromQuaternion:function(d,f,c){return void 0===f&&(f=this._order),void 0===c&&(c=!1),u.fromQuat(d),this.setFromRotationMatrix(u,f,c)},setFromRotationMatrix:function(d,f,c){void 0===f&&(f=this._order),void 0===c&&(c=!1);var m=d.val,v=m[0],x=m[4],y=m[8],w=m[1],E=m[5],S=m[9],A=m[2],I=m[6],M=m[10],P=0,O=0,N=0,L=.99999;switch(f){case"XYZ":O=Math.asin(b(y,-1,1)),Math.abs(y)<L?(P=Math.atan2(-S,M),N=Math.atan2(-x,v)):P=Math.atan2(I,E);break;case"YXZ":P=Math.asin(-b(S,-1,1)),Math.abs(S)<L?(O=Math.atan2(y,M),N=Math.atan2(w,E)):O=Math.atan2(-A,v);break;case"ZXY":P=Math.asin(b(I,-1,1)),Math.abs(I)<L?(O=Math.atan2(-A,M),N=Math.atan2(-x,E)):N=Math.atan2(w,v);break;case"ZYX":O=Math.asin(-b(A,-1,1)),Math.abs(A)<L?(P=Math.atan2(I,M),N=Math.atan2(w,v)):N=Math.atan2(-x,E);break;case"YZX":N=Math.asin(b(w,-1,1)),Math.abs(w)<L?(P=Math.atan2(-S,E),O=Math.atan2(-A,v)):O=Math.atan2(y,M);break;case"XZY":N=Math.asin(-b(x,-1,1)),Math.abs(x)<L?(P=Math.atan2(I,E),O=Math.atan2(y,v)):P=Math.atan2(-S,M)}return this._x=P,this._y=O,this._z=N,this._order=f,c&&this.onChangeCallback(this),this}});l.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],l.DefaultOrder="XYZ",_.exports=l},6411:_=>{_.exports=function(a){if(0===a)return 1;for(var b=a;--a;)b*=a;return b}},99472:_=>{_.exports=function(a,b){return Math.random()*(b-a)+a}},77623:_=>{_.exports=function(a,b,T){void 0===b&&(b=0),void 0===T&&(T=10);var g=Math.pow(T,-b);return Math.floor(a*g)/g}},62945:(_,k,a)=>{var b=a(45319);_.exports=function(g,h,u){return(u-h)*(g=b(g,0,1))+h}},38265:_=>{_.exports=function(a,b){return a/b/1e3}},78702:_=>{_.exports=function(a){return a==parseFloat(a)?!(a%2):void 0}},94883:_=>{_.exports=function(a){return a===parseFloat(a)?!(a%2):void 0}},28915:_=>{_.exports=function(a,b,T){return(b-a)*T+a}},94908:_=>{_.exports=function(a,b,T){return void 0===T&&(T=0),a.clone().lerp(b,T)}},94434:(_,k,a)=>{var T=new(a(83419))({initialize:function(h){this.val=new Float32Array(9),h?this.copy(h):this.identity()},clone:function(){return new T(this)},set:function(g){return this.copy(g)},copy:function(g){var h=this.val,u=g.val;return h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=u[6],h[7]=u[7],h[8]=u[8],this},fromMat4:function(g){var h=g.val,u=this.val;return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[4],u[4]=h[5],u[5]=h[6],u[6]=h[8],u[7]=h[9],u[8]=h[10],this},fromArray:function(g){var h=this.val;return h[0]=g[0],h[1]=g[1],h[2]=g[2],h[3]=g[3],h[4]=g[4],h[5]=g[5],h[6]=g[6],h[7]=g[7],h[8]=g[8],this},identity:function(){var g=this.val;return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=1,g[5]=0,g[6]=0,g[7]=0,g[8]=1,this},transpose:function(){var g=this.val,h=g[1],u=g[2],l=g[5];return g[1]=g[3],g[2]=g[6],g[3]=h,g[5]=g[7],g[6]=u,g[7]=l,this},invert:function(){var g=this.val,h=g[0],u=g[1],l=g[2],d=g[3],f=g[4],c=g[5],m=g[6],v=g[7],x=g[8],y=x*f-c*v,w=-x*d+c*m,E=v*d-f*m,S=h*y+u*w+l*E;return S?(g[0]=y*(S=1/S),g[1]=(-x*u+l*v)*S,g[2]=(c*u-l*f)*S,g[3]=w*S,g[4]=(x*h-l*m)*S,g[5]=(-c*h+l*d)*S,g[6]=E*S,g[7]=(-v*h+u*m)*S,g[8]=(f*h-u*d)*S,this):null},adjoint:function(){var g=this.val,h=g[0],u=g[1],l=g[2],d=g[3],f=g[4],c=g[5],m=g[6],v=g[7],x=g[8];return g[0]=f*x-c*v,g[1]=l*v-u*x,g[2]=u*c-l*f,g[3]=c*m-d*x,g[4]=h*x-l*m,g[5]=l*d-h*c,g[6]=d*v-f*m,g[7]=u*m-h*v,g[8]=h*f-u*d,this},determinant:function(){var g=this.val,d=g[3],f=g[4],c=g[5],m=g[6],v=g[7],x=g[8];return g[0]*(x*f-c*v)+g[1]*(-x*d+c*m)+g[2]*(v*d-f*m)},multiply:function(g){var h=this.val,u=h[0],l=h[1],d=h[2],f=h[3],c=h[4],m=h[5],v=h[6],x=h[7],y=h[8],w=g.val,E=w[0],S=w[1],A=w[2],I=w[3],M=w[4],P=w[5],O=w[6],N=w[7],L=w[8];return h[0]=E*u+S*f+A*v,h[1]=E*l+S*c+A*x,h[2]=E*d+S*m+A*y,h[3]=I*u+M*f+P*v,h[4]=I*l+M*c+P*x,h[5]=I*d+M*m+P*y,h[6]=O*u+N*f+L*v,h[7]=O*l+N*c+L*x,h[8]=O*d+N*m+L*y,this},translate:function(g){var h=this.val,u=g.x,l=g.y;return h[6]=u*h[0]+l*h[3]+h[6],h[7]=u*h[1]+l*h[4]+h[7],h[8]=u*h[2]+l*h[5]+h[8],this},rotate:function(g){var h=this.val,u=h[0],l=h[1],d=h[2],f=h[3],c=h[4],m=h[5],v=Math.sin(g),x=Math.cos(g);return h[0]=x*u+v*f,h[1]=x*l+v*c,h[2]=x*d+v*m,h[3]=x*f-v*u,h[4]=x*c-v*l,h[5]=x*m-v*d,this},scale:function(g){var h=this.val,u=g.x,l=g.y;return h[0]=u*h[0],h[1]=u*h[1],h[2]=u*h[2],h[3]=l*h[3],h[4]=l*h[4],h[5]=l*h[5],this},fromQuat:function(g){var h=g.x,u=g.y,l=g.z,d=g.w,f=h+h,c=u+u,m=l+l,v=h*f,x=h*c,y=h*m,w=u*c,E=u*m,S=l*m,A=d*f,I=d*c,M=d*m,P=this.val;return P[0]=1-(w+S),P[3]=x+M,P[6]=y-I,P[1]=x-M,P[4]=1-(v+S),P[7]=E+A,P[2]=y+I,P[5]=E-A,P[8]=1-(v+w),this},normalFromMat4:function(g){var h=g.val,u=this.val,l=h[0],d=h[1],f=h[2],c=h[3],m=h[4],v=h[5],x=h[6],y=h[7],w=h[8],E=h[9],S=h[10],A=h[11],I=h[12],M=h[13],P=h[14],O=h[15],N=l*v-d*m,L=l*x-f*m,G=l*y-c*m,j=d*x-f*v,z=d*y-c*v,Y=f*y-c*x,Z=w*M-E*I,rt=w*P-S*I,st=w*O-A*I,K=E*P-S*M,tt=E*O-A*M,W=S*O-A*P,H=N*W-L*tt+G*K+j*st-z*rt+Y*Z;return H?(u[0]=(v*W-x*tt+y*K)*(H=1/H),u[1]=(x*st-m*W-y*rt)*H,u[2]=(m*tt-v*st+y*Z)*H,u[3]=(f*tt-d*W-c*K)*H,u[4]=(l*W-f*st+c*rt)*H,u[5]=(d*st-l*tt-c*Z)*H,u[6]=(M*Y-P*z+O*j)*H,u[7]=(P*G-I*Y-O*L)*H,u[8]=(I*z-M*G+O*N)*H,this):null}});_.exports=T},37867:(_,k,a)=>{var b=a(83419),T=a(25836),g=1e-6,h=new b({initialize:function(v){this.val=new Float32Array(16),v?this.copy(v):this.identity()},clone:function(){return new h(this)},set:function(m){return this.copy(m)},setValues:function(m,v,x,y,w,E,S,A,I,M,P,O,N,L,G,j){var z=this.val;return z[0]=m,z[1]=v,z[2]=x,z[3]=y,z[4]=w,z[5]=E,z[6]=S,z[7]=A,z[8]=I,z[9]=M,z[10]=P,z[11]=O,z[12]=N,z[13]=L,z[14]=G,z[15]=j,this},copy:function(m){var v=m.val;return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},fromArray:function(m){return this.setValues(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(m,v,x){var w=u.fromQuat(x).val,E=v.x,S=v.y,A=v.z;return this.setValues(w[0]*E,w[1]*E,w[2]*E,0,w[4]*S,w[5]*S,w[6]*S,0,w[8]*A,w[9]*A,w[10]*A,0,m.x,m.y,m.z,1)},xyz:function(m,v,x){this.identity();var y=this.val;return y[12]=m,y[13]=v,y[14]=x,this},scaling:function(m,v,x){this.zero();var y=this.val;return y[0]=m,y[5]=v,y[10]=x,y[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var m=this.val,v=m[1],x=m[2],y=m[3],w=m[6],E=m[7],S=m[11];return m[1]=m[4],m[2]=m[8],m[3]=m[12],m[4]=v,m[6]=m[9],m[7]=m[13],m[8]=x,m[9]=w,m[11]=m[14],m[12]=y,m[13]=E,m[14]=S,this},getInverse:function(m){return this.copy(m),this.invert()},invert:function(){var m=this.val,v=m[0],x=m[1],y=m[2],w=m[3],E=m[4],S=m[5],A=m[6],I=m[7],M=m[8],P=m[9],O=m[10],N=m[11],L=m[12],G=m[13],j=m[14],z=m[15],Y=v*S-x*E,Z=v*A-y*E,rt=v*I-w*E,st=x*A-y*S,K=x*I-w*S,tt=y*I-w*A,W=M*G-P*L,H=M*j-O*L,it=M*z-N*L,dt=P*j-O*G,mt=P*z-N*G,vt=O*z-N*j,Tt=Y*vt-Z*mt+rt*dt+st*it-K*H+tt*W;return Tt?this.setValues((S*vt-A*mt+I*dt)*(Tt=1/Tt),(y*mt-x*vt-w*dt)*Tt,(G*tt-j*K+z*st)*Tt,(O*K-P*tt-N*st)*Tt,(A*it-E*vt-I*H)*Tt,(v*vt-y*it+w*H)*Tt,(j*rt-L*tt-z*Z)*Tt,(M*tt-O*rt+N*Z)*Tt,(E*mt-S*it+I*W)*Tt,(x*it-v*mt-w*W)*Tt,(L*K-G*rt+z*Y)*Tt,(P*rt-M*K-N*Y)*Tt,(S*H-E*dt-A*W)*Tt,(v*dt-x*H+y*W)*Tt,(G*Z-L*st-j*Y)*Tt,(M*st-P*Z+O*Y)*Tt):this},adjoint:function(){var m=this.val,v=m[0],x=m[1],y=m[2],w=m[3],E=m[4],S=m[5],A=m[6],I=m[7],M=m[8],P=m[9],O=m[10],N=m[11],L=m[12],G=m[13],j=m[14],z=m[15];return this.setValues(S*(O*z-N*j)-P*(A*z-I*j)+G*(A*N-I*O),-(x*(O*z-N*j)-P*(y*z-w*j)+G*(y*N-w*O)),x*(A*z-I*j)-S*(y*z-w*j)+G*(y*I-w*A),-(x*(A*N-I*O)-S*(y*N-w*O)+P*(y*I-w*A)),-(E*(O*z-N*j)-M*(A*z-I*j)+L*(A*N-I*O)),v*(O*z-N*j)-M*(y*z-w*j)+L*(y*N-w*O),-(v*(A*z-I*j)-E*(y*z-w*j)+L*(y*I-w*A)),v*(A*N-I*O)-E*(y*N-w*O)+M*(y*I-w*A),E*(P*z-N*G)-M*(S*z-I*G)+L*(S*N-I*P),-(v*(P*z-N*G)-M*(x*z-w*G)+L*(x*N-w*P)),v*(S*z-I*G)-E*(x*z-w*G)+L*(x*I-w*S),-(v*(S*N-I*P)-E*(x*N-w*P)+M*(x*I-w*S)),-(E*(P*j-O*G)-M*(S*j-A*G)+L*(S*O-A*P)),v*(P*j-O*G)-M*(x*j-y*G)+L*(x*O-y*P),-(v*(S*j-A*G)-E*(x*j-y*G)+L*(x*A-y*S)),v*(S*O-A*P)-E*(x*O-y*P)+M*(x*A-y*S))},determinant:function(){var m=this.val,v=m[0],x=m[1],y=m[2],w=m[3],E=m[4],S=m[5],A=m[6],I=m[7],M=m[8],P=m[9],O=m[10],N=m[11],L=m[12],G=m[13],j=m[14],z=m[15];return(v*S-x*E)*(O*z-N*j)-(v*A-y*E)*(P*z-N*G)+(v*I-w*E)*(P*j-O*G)+(x*A-y*S)*(M*z-N*L)-(x*I-w*S)*(M*j-O*L)+(y*I-w*A)*(M*G-P*L)},multiply:function(m){var v=this.val,x=v[0],y=v[1],w=v[2],E=v[3],S=v[4],A=v[5],I=v[6],M=v[7],P=v[8],O=v[9],N=v[10],L=v[11],G=v[12],j=v[13],z=v[14],Y=v[15],Z=m.val,rt=Z[0],st=Z[1],K=Z[2],tt=Z[3];return v[0]=rt*x+st*S+K*P+tt*G,v[1]=rt*y+st*A+K*O+tt*j,v[2]=rt*w+st*I+K*N+tt*z,v[3]=rt*E+st*M+K*L+tt*Y,v[4]=(rt=Z[4])*x+(st=Z[5])*S+(K=Z[6])*P+(tt=Z[7])*G,v[5]=rt*y+st*A+K*O+tt*j,v[6]=rt*w+st*I+K*N+tt*z,v[7]=rt*E+st*M+K*L+tt*Y,v[8]=(rt=Z[8])*x+(st=Z[9])*S+(K=Z[10])*P+(tt=Z[11])*G,v[9]=rt*y+st*A+K*O+tt*j,v[10]=rt*w+st*I+K*N+tt*z,v[11]=rt*E+st*M+K*L+tt*Y,v[12]=(rt=Z[12])*x+(st=Z[13])*S+(K=Z[14])*P+(tt=Z[15])*G,v[13]=rt*y+st*A+K*O+tt*j,v[14]=rt*w+st*I+K*N+tt*z,v[15]=rt*E+st*M+K*L+tt*Y,this},multiplyLocal:function(m){var v=this.val,x=m.val;return this.setValues(v[0]*x[0]+v[1]*x[4]+v[2]*x[8]+v[3]*x[12],v[0]*x[1]+v[1]*x[5]+v[2]*x[9]+v[3]*x[13],v[0]*x[2]+v[1]*x[6]+v[2]*x[10]+v[3]*x[14],v[0]*x[3]+v[1]*x[7]+v[2]*x[11]+v[3]*x[15],v[4]*x[0]+v[5]*x[4]+v[6]*x[8]+v[7]*x[12],v[4]*x[1]+v[5]*x[5]+v[6]*x[9]+v[7]*x[13],v[4]*x[2]+v[5]*x[6]+v[6]*x[10]+v[7]*x[14],v[4]*x[3]+v[5]*x[7]+v[6]*x[11]+v[7]*x[15],v[8]*x[0]+v[9]*x[4]+v[10]*x[8]+v[11]*x[12],v[8]*x[1]+v[9]*x[5]+v[10]*x[9]+v[11]*x[13],v[8]*x[2]+v[9]*x[6]+v[10]*x[10]+v[11]*x[14],v[8]*x[3]+v[9]*x[7]+v[10]*x[11]+v[11]*x[15],v[12]*x[0]+v[13]*x[4]+v[14]*x[8]+v[15]*x[12],v[12]*x[1]+v[13]*x[5]+v[14]*x[9]+v[15]*x[13],v[12]*x[2]+v[13]*x[6]+v[14]*x[10]+v[15]*x[14],v[12]*x[3]+v[13]*x[7]+v[14]*x[11]+v[15]*x[15])},premultiply:function(m){return this.multiplyMatrices(m,this)},multiplyMatrices:function(m,v){var x=m.val,y=v.val,w=x[0],E=x[4],S=x[8],A=x[12],I=x[1],M=x[5],P=x[9],O=x[13],N=x[2],L=x[6],G=x[10],j=x[14],z=x[3],Y=x[7],Z=x[11],rt=x[15],st=y[0],K=y[4],tt=y[8],W=y[12],H=y[1],it=y[5],dt=y[9],mt=y[13],vt=y[2],Tt=y[6],Nt=y[10],Yt=y[14],$t=y[3],Zt=y[7],ee=y[11],le=y[15];return this.setValues(w*st+E*H+S*vt+A*$t,I*st+M*H+P*vt+O*$t,N*st+L*H+G*vt+j*$t,z*st+Y*H+Z*vt+rt*$t,w*K+E*it+S*Tt+A*Zt,I*K+M*it+P*Tt+O*Zt,N*K+L*it+G*Tt+j*Zt,z*K+Y*it+Z*Tt+rt*Zt,w*tt+E*dt+S*Nt+A*ee,I*tt+M*dt+P*Nt+O*ee,N*tt+L*dt+G*Nt+j*ee,z*tt+Y*dt+Z*Nt+rt*ee,w*W+E*mt+S*Yt+A*le,I*W+M*mt+P*Yt+O*le,N*W+L*mt+G*Yt+j*le,z*W+Y*mt+Z*Yt+rt*le)},translate:function(m){return this.translateXYZ(m.x,m.y,m.z)},translateXYZ:function(m,v,x){var y=this.val;return y[12]=y[0]*m+y[4]*v+y[8]*x+y[12],y[13]=y[1]*m+y[5]*v+y[9]*x+y[13],y[14]=y[2]*m+y[6]*v+y[10]*x+y[14],y[15]=y[3]*m+y[7]*v+y[11]*x+y[15],this},scale:function(m){return this.scaleXYZ(m.x,m.y,m.z)},scaleXYZ:function(m,v,x){var y=this.val;return y[0]=y[0]*m,y[1]=y[1]*m,y[2]=y[2]*m,y[3]=y[3]*m,y[4]=y[4]*v,y[5]=y[5]*v,y[6]=y[6]*v,y[7]=y[7]*v,y[8]=y[8]*x,y[9]=y[9]*x,y[10]=y[10]*x,y[11]=y[11]*x,this},makeRotationAxis:function(m,v){var x=Math.cos(v),y=Math.sin(v),w=1-x,E=m.x,S=m.y,A=m.z,I=w*E,M=w*S;return this.setValues(I*E+x,I*S-y*A,I*A+y*S,0,I*S+y*A,M*S+x,M*A-y*E,0,I*A-y*S,M*A+y*E,w*A*A+x,0,0,0,0,1)},rotate:function(m,v){var x=this.val,y=v.x,w=v.y,E=v.z,S=Math.sqrt(y*y+w*w+E*E);if(Math.abs(S)<g)return this;y*=S=1/S,w*=S,E*=S;var A=Math.sin(m),I=Math.cos(m),M=1-I,P=x[0],O=x[1],N=x[2],L=x[3],G=x[4],j=x[5],z=x[6],Y=x[7],Z=x[8],rt=x[9],st=x[10],K=x[11],dt=y*y*M+I,mt=w*y*M+E*A,vt=E*y*M-w*A,Tt=y*w*M-E*A,Nt=w*w*M+I,Yt=E*w*M+y*A,$t=y*E*M+w*A,Zt=w*E*M-y*A,ee=E*E*M+I;return this.setValues(P*dt+G*mt+Z*vt,O*dt+j*mt+rt*vt,N*dt+z*mt+st*vt,L*dt+Y*mt+K*vt,P*Tt+G*Nt+Z*Yt,O*Tt+j*Nt+rt*Yt,N*Tt+z*Nt+st*Yt,L*Tt+Y*Nt+K*Yt,P*$t+G*Zt+Z*ee,O*$t+j*Zt+rt*ee,N*$t+z*Zt+st*ee,L*$t+Y*Zt+K*ee,x[12],x[13],x[14],x[15])},rotateX:function(m){var v=this.val,x=Math.sin(m),y=Math.cos(m),w=v[4],E=v[5],S=v[6],A=v[7],I=v[8],M=v[9],P=v[10],O=v[11];return v[4]=w*y+I*x,v[5]=E*y+M*x,v[6]=S*y+P*x,v[7]=A*y+O*x,v[8]=I*y-w*x,v[9]=M*y-E*x,v[10]=P*y-S*x,v[11]=O*y-A*x,this},rotateY:function(m){var v=this.val,x=Math.sin(m),y=Math.cos(m),w=v[0],E=v[1],S=v[2],A=v[3],I=v[8],M=v[9],P=v[10],O=v[11];return v[0]=w*y-I*x,v[1]=E*y-M*x,v[2]=S*y-P*x,v[3]=A*y-O*x,v[8]=w*x+I*y,v[9]=E*x+M*y,v[10]=S*x+P*y,v[11]=A*x+O*y,this},rotateZ:function(m){var v=this.val,x=Math.sin(m),y=Math.cos(m),w=v[0],E=v[1],S=v[2],A=v[3],I=v[4],M=v[5],P=v[6],O=v[7];return v[0]=w*y+I*x,v[1]=E*y+M*x,v[2]=S*y+P*x,v[3]=A*y+O*x,v[4]=I*y-w*x,v[5]=M*y-E*x,v[6]=P*y-S*x,v[7]=O*y-A*x,this},fromRotationTranslation:function(m,v){var x=m.x,y=m.y,w=m.z,E=m.w,S=x+x,A=y+y,I=w+w,M=x*S,P=x*A,O=x*I,N=y*A,L=y*I,G=w*I,j=E*S,z=E*A,Y=E*I;return this.setValues(1-(N+G),P+Y,O-z,0,P-Y,1-(M+G),L+j,0,O+z,L-j,1-(M+N),0,v.x,v.y,v.z,1)},fromQuat:function(m){var v=m.x,x=m.y,y=m.z,w=m.w,E=v+v,S=x+x,A=y+y,I=v*E,M=v*S,P=v*A,O=x*S,N=x*A,L=y*A,G=w*E,j=w*S,z=w*A;return this.setValues(1-(O+L),M+z,P-j,0,M-z,1-(I+L),N+G,0,P+j,N-G,1-(I+O),0,0,0,0,1)},frustum:function(m,v,x,y,w,E){var S=1/(v-m),A=1/(y-x),I=1/(w-E);return this.setValues(2*w*S,0,0,0,0,2*w*A,0,0,(v+m)*S,(y+x)*A,(E+w)*I,-1,0,0,E*w*2*I,0)},perspective:function(m,v,x,y){var w=1/Math.tan(m/2),E=1/(x-y);return this.setValues(w/v,0,0,0,0,w,0,0,0,0,(y+x)*E,-1,0,0,2*y*x*E,0)},perspectiveLH:function(m,v,x,y){return this.setValues(2*x/m,0,0,0,0,2*x/v,0,0,0,0,-y/(x-y),1,0,0,x*y/(x-y),0)},ortho:function(m,v,x,y,w,E){var S=m-v,A=x-y,I=w-E;return this.setValues(-2*(S=0===S?S:1/S),0,0,0,0,-2*(A=0===A?A:1/A),0,0,0,0,2*(I=0===I?I:1/I),0,(m+v)*S,(y+x)*A,(E+w)*I,1)},lookAtRH:function(m,v,x){var y=this.val;return c.subVectors(m,v),0===c.lengthSq()&&(c.z=1),c.normalize(),d.crossVectors(x,c),0===d.lengthSq()&&(1===Math.abs(x.z)?c.x+=1e-4:c.z+=1e-4,c.normalize(),d.crossVectors(x,c)),d.normalize(),f.crossVectors(c,d),y[0]=d.x,y[1]=d.y,y[2]=d.z,y[4]=f.x,y[5]=f.y,y[6]=f.z,y[8]=c.x,y[9]=c.y,y[10]=c.z,this},lookAt:function(m,v,x){var y=m.x,w=m.y,E=m.z,S=x.x,A=x.y,I=x.z,M=v.x,P=v.y,O=v.z;if(Math.abs(y-M)<g&&Math.abs(w-P)<g&&Math.abs(E-O)<g)return this.identity();var N=y-M,L=w-P,G=E-O,j=1/Math.sqrt(N*N+L*L+G*G),z=A*(G*=j)-I*(L*=j),Y=I*(N*=j)-S*G,Z=S*L-A*N;(j=Math.sqrt(z*z+Y*Y+Z*Z))?(z*=j=1/j,Y*=j,Z*=j):(z=0,Y=0,Z=0);var rt=L*Z-G*Y,st=G*z-N*Z,K=N*Y-L*z;return(j=Math.sqrt(rt*rt+st*st+K*K))?(rt*=j=1/j,st*=j,K*=j):(rt=0,st=0,K=0),this.setValues(z,rt,N,0,Y,st,L,0,Z,K,G,0,-(z*y+Y*w+Z*E),-(rt*y+st*w+K*E),-(N*y+L*w+G*E),1)},yawPitchRoll:function(m,v,x){this.zero(),u.zero(),l.zero();var y=this.val,w=u.val,E=l.val,S=Math.sin(x),A=Math.cos(x);return y[10]=1,y[15]=1,y[0]=A,y[1]=S,y[4]=-S,y[5]=A,S=Math.sin(v),A=Math.cos(v),w[0]=1,w[15]=1,w[5]=A,w[10]=A,w[9]=-S,w[6]=S,S=Math.sin(m),A=Math.cos(m),E[5]=1,E[15]=1,E[0]=A,E[2]=-S,E[8]=S,E[10]=A,this.multiplyLocal(u),this.multiplyLocal(l),this},setWorldMatrix:function(m,v,x,y,w){return this.yawPitchRoll(m.y,m.x,m.z),u.scaling(x.x,x.y,x.z),l.xyz(v.x,v.y,v.z),this.multiplyLocal(u),this.multiplyLocal(l),y&&this.multiplyLocal(y),w&&this.multiplyLocal(w),this},multiplyToMat4:function(m,v){var x=this.val,y=m.val,w=x[0],E=x[1],S=x[2],A=x[3],I=x[4],M=x[5],P=x[6],O=x[7],N=x[8],L=x[9],G=x[10],j=x[11],z=x[12],Y=x[13],Z=x[14],rt=x[15],K=y[1],tt=y[2],W=y[3],H=y[4],it=y[5],dt=y[6],mt=y[7],vt=y[8],Tt=y[9],Nt=y[10],Yt=y[11],$t=y[12],Zt=y[13],ee=y[14],le=y[15];return v.setValues(y[0]*w+K*I+tt*N+W*z,K*E+K*M+tt*L+W*Y,tt*S+K*P+tt*G+W*Z,W*A+K*O+tt*j+W*rt,H*w+it*I+dt*N+mt*z,H*E+it*M+dt*L+mt*Y,H*S+it*P+dt*G+mt*Z,H*A+it*O+dt*j+mt*rt,vt*w+Tt*I+Nt*N+Yt*z,vt*E+Tt*M+Nt*L+Yt*Y,vt*S+Tt*P+Nt*G+Yt*Z,vt*A+Tt*O+Nt*j+Yt*rt,$t*w+Zt*I+ee*N+le*z,$t*E+Zt*M+ee*L+le*Y,$t*S+Zt*P+ee*G+le*Z,$t*A+Zt*O+ee*j+le*rt)},fromRotationXYTranslation:function(m,v,x){var y=v.x,w=v.y,E=v.z,S=Math.sin(m.x),A=Math.cos(m.x),I=Math.sin(m.y),M=Math.cos(m.y),P=y,O=w,N=E,L=-S,G=0-L*I,j=0-A*I,z=L*M,Y=A*M;return x||(P=M*y+I*E,O=G*y+A*w+z*E,N=j*y+S*w+Y*E),this.setValues(M,G,j,0,0,A,S,0,I,z,Y,0,P,O,N,1)},getMaxScaleOnAxis:function(){var m=this.val;return Math.sqrt(Math.max(m[0]*m[0]+m[1]*m[1]+m[2]*m[2],m[4]*m[4]+m[5]*m[5]+m[6]*m[6],m[8]*m[8]+m[9]*m[9]+m[10]*m[10]))}}),u=new h,l=new h,d=new T,f=new T,c=new T;_.exports=h},86883:_=>{_.exports=function(a,b,T){return Math.min(a+b,T)}},50040:_=>{_.exports=function(a){var b=a.length;if(0===b)return 0;a.sort(function(g,h){return g-h});var T=Math.floor(b/2);return b%2==0?(a[T]+a[T-1])/2:a[T]}},37204:_=>{_.exports=function(a,b,T){return Math.max(a-b,T)}},65201:_=>{_.exports=function(a,b,T,g){void 0===T&&(T=b+1);var h=(a-b)/(T-b);return h>1?void 0!==g?(h=(g-a)/(g-T))<0&&(h=0):h=1:h<0&&(h=0),h}},15746:(_,k,a)=>{var b=a(83419),T=a(94434),g=a(29747),h=a(25836),u=1e-6,l=new Int8Array([1,2,0]),d=new Float32Array([0,0,0]),f=new h(1,0,0),c=new h(0,1,0),m=new h,v=new T,x=new b({initialize:function(w,E,S,A){this.onChangeCallback=g,this.set(w,E,S,A)},x:{get:function(){return this._x},set:function(y){this._x=y,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(y){this._y=y,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(y){this._z=y,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(y){this._w=y,this.onChangeCallback(this)}},copy:function(y){return this.set(y)},set:function(y,w,E,S,A){return void 0===A&&(A=!0),"object"==typeof y?(this._x=y.x||0,this._y=y.y||0,this._z=y.z||0,this._w=y.w||0):(this._x=y||0,this._y=w||0,this._z=E||0,this._w=S||0),A&&this.onChangeCallback(this),this},add:function(y){return this._x+=y.x,this._y+=y.y,this._z+=y.z,this._w+=y.w,this.onChangeCallback(this),this},subtract:function(y){return this._x-=y.x,this._y-=y.y,this._z-=y.z,this._w-=y.w,this.onChangeCallback(this),this},scale:function(y){return this._x*=y,this._y*=y,this._z*=y,this._w*=y,this.onChangeCallback(this),this},length:function(){var y=this.x,w=this.y,E=this.z,S=this.w;return Math.sqrt(y*y+w*w+E*E+S*S)},lengthSq:function(){var y=this.x,w=this.y,E=this.z,S=this.w;return y*y+w*w+E*E+S*S},normalize:function(){var y=this.x,w=this.y,E=this.z,S=this.w,A=y*y+w*w+E*E+S*S;return A>0&&(A=1/Math.sqrt(A),this._x=y*A,this._y=w*A,this._z=E*A,this._w=S*A),this.onChangeCallback(this),this},dot:function(y){return this.x*y.x+this.y*y.y+this.z*y.z+this.w*y.w},lerp:function(y,w){void 0===w&&(w=0);var E=this.x,S=this.y,A=this.z,I=this.w;return this.set(E+w*(y.x-E),S+w*(y.y-S),A+w*(y.z-A),I+w*(y.w-I))},rotationTo:function(y,w){var E=y.x*w.x+y.y*w.y+y.z*w.z;return E<-.999999?(m.copy(f).cross(y).length()<u&&m.copy(c).cross(y),m.normalize(),this.setAxisAngle(m,Math.PI)):E>.999999?this.set(0,0,0,1):(m.copy(y).cross(w),this._x=m.x,this._y=m.y,this._z=m.z,this._w=1+E,this.normalize())},setAxes:function(y,w,E){var S=v.val;return S[0]=w.x,S[3]=w.y,S[6]=w.z,S[1]=E.x,S[4]=E.y,S[7]=E.z,S[2]=-y.x,S[5]=-y.y,S[8]=-y.z,this.fromMat3(v).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(y,w){w*=.5;var E=Math.sin(w);return this.set(E*y.x,E*y.y,E*y.z,Math.cos(w))},multiply:function(y){var w=this.x,E=this.y,S=this.z,A=this.w,I=y.x,M=y.y,P=y.z,O=y.w;return this.set(w*O+A*I+E*P-S*M,E*O+A*M+S*I-w*P,S*O+A*P+w*M-E*I,A*O-w*I-E*M-S*P)},slerp:function(y,w){var E=this.x,S=this.y,A=this.z,I=this.w,M=y.x,P=y.y,O=y.z,N=y.w,L=E*M+S*P+A*O+I*N;L<0&&(L=-L,M=-M,P=-P,O=-O,N=-N);var G=1-w,j=w;if(1-L>u){var z=Math.acos(L),Y=Math.sin(z);G=Math.sin((1-w)*z)/Y,j=Math.sin(w*z)/Y}return this.set(G*E+j*M,G*S+j*P,G*A+j*O,G*I+j*N)},invert:function(){var y=this.x,w=this.y,E=this.z,S=this.w,A=y*y+w*w+E*E+S*S,I=A?1/A:0;return this.set(-y*I,-w*I,-E*I,S*I)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(y){y*=.5;var w=this.x,E=this.y,S=this.z,A=this.w,I=Math.sin(y),M=Math.cos(y);return this.set(w*M+A*I,E*M+S*I,S*M-E*I,A*M-w*I)},rotateY:function(y){y*=.5;var w=this.x,E=this.y,S=this.z,A=this.w,I=Math.sin(y),M=Math.cos(y);return this.set(w*M-S*I,E*M+A*I,S*M+w*I,A*M-E*I)},rotateZ:function(y){y*=.5;var w=this.x,E=this.y,S=this.z,A=this.w,I=Math.sin(y),M=Math.cos(y);return this.set(w*M+E*I,E*M-w*I,S*M+A*I,A*M-S*I)},calculateW:function(){var y=this.x,w=this.y,E=this.z;return this.w=-Math.sqrt(1-y*y-w*w-E*E),this},setFromEuler:function(y,w){var E=y.x/2,S=y.y/2,A=y.z/2,I=Math.cos(E),M=Math.cos(S),P=Math.cos(A),O=Math.sin(E),N=Math.sin(S),L=Math.sin(A);switch(y.order){case"XYZ":this.set(O*M*P+I*N*L,I*N*P-O*M*L,I*M*L+O*N*P,I*M*P-O*N*L,w);break;case"YXZ":this.set(O*M*P+I*N*L,I*N*P-O*M*L,I*M*L-O*N*P,I*M*P+O*N*L,w);break;case"ZXY":this.set(O*M*P-I*N*L,I*N*P+O*M*L,I*M*L+O*N*P,I*M*P-O*N*L,w);break;case"ZYX":this.set(O*M*P-I*N*L,I*N*P+O*M*L,I*M*L-O*N*P,I*M*P+O*N*L,w);break;case"YZX":this.set(O*M*P+I*N*L,I*N*P+O*M*L,I*M*L-O*N*P,I*M*P-O*N*L,w);break;case"XZY":this.set(O*M*P-I*N*L,I*N*P-O*M*L,I*M*L+O*N*P,I*M*P+O*N*L,w)}return this},setFromRotationMatrix:function(y){var j,w=y.val,E=w[0],S=w[4],A=w[8],I=w[1],M=w[5],P=w[9],O=w[2],N=w[6],L=w[10],G=E+M+L;return G>0?(j=.5/Math.sqrt(G+1),this.set((N-P)*j,(A-O)*j,(I-S)*j,.25/j)):E>M&&E>L?(j=2*Math.sqrt(1+E-M-L),this.set(.25*j,(S+I)/j,(A+O)/j,(N-P)/j)):M>L?(j=2*Math.sqrt(1+M-E-L),this.set((S+I)/j,.25*j,(P+N)/j,(A-O)/j)):(j=2*Math.sqrt(1+L-E-M),this.set((A+O)/j,(P+N)/j,.25*j,(I-S)/j)),this},fromMat3:function(y){var S,w=y.val,E=w[0]+w[4]+w[8];if(E>0)S=Math.sqrt(E+1),this.w=.5*S,this._x=(w[7]-w[5])*(S=.5/S),this._y=(w[2]-w[6])*S,this._z=(w[3]-w[1])*S;else{var A=0;w[4]>w[0]&&(A=1),w[8]>w[3*A+A]&&(A=2);var I=l[A],M=l[I];S=Math.sqrt(w[3*A+A]-w[3*I+I]-w[3*M+M]+1),d[A]=.5*S,d[I]=(w[3*I+A]+w[3*A+I])*(S=.5/S),d[M]=(w[3*M+A]+w[3*A+M])*S,this._x=d[0],this._y=d[1],this._z=d[2],this._w=(w[3*M+I]-w[3*I+M])*S}return this.onChangeCallback(this),this}});_.exports=x},43396:(_,k,a)=>{var b=a(36383);_.exports=function(g){return g*b.RAD_TO_DEG}},74362:_=>{_.exports=function(a,b){void 0===b&&(b=1);var T=2*Math.random()*Math.PI;return a.x=Math.cos(T)*b,a.y=Math.sin(T)*b,a}},60706:_=>{_.exports=function(a,b){void 0===b&&(b=1);var T=2*Math.random()*Math.PI,g=2*Math.random()-1,h=Math.sqrt(1-g*g)*b;return a.x=Math.cos(T)*h,a.y=Math.sin(T)*h,a.z=g*b,a}},67421:_=>{_.exports=function(a,b){return void 0===b&&(b=1),a.x=(2*Math.random()-1)*b,a.y=(2*Math.random()-1)*b,a.z=(2*Math.random()-1)*b,a.w=(2*Math.random()-1)*b,a}},36305:_=>{_.exports=function(a,b){var T=a.x,g=a.y;return a.x=T*Math.cos(b)-g*Math.sin(b),a.y=T*Math.sin(b)+g*Math.cos(b),a}},11520:_=>{_.exports=function(a,b,T,g){var h=Math.cos(g),u=Math.sin(g),l=a.x-b,d=a.y-T;return a.x=l*h-d*u+b,a.y=l*u+d*h+T,a}},1163:_=>{_.exports=function(a,b,T,g,h){var u=g+Math.atan2(a.y-T,a.x-b);return a.x=b+h*Math.cos(u),a.y=T+h*Math.sin(u),a}},70336:_=>{_.exports=function(a,b,T,g,h){return a.x=b+h*Math.cos(g),a.y=T+h*Math.sin(g),a}},72678:(_,k,a)=>{var b=a(25836),T=a(37867),g=a(15746),h=new T,u=new g,l=new b;_.exports=function(f,c,m){return u.setAxisAngle(c,m),h.fromRotationTranslation(u,l.set(0,0,0)),f.transformMat4(h)}},2284:_=>{_.exports=function(a){return a>0?Math.ceil(a):Math.floor(a)}},41013:_=>{_.exports=function(a,b,T){void 0===b&&(b=0),void 0===T&&(T=10);var g=Math.pow(T,-b);return Math.round(a*g)/g}},16922:_=>{_.exports=function(a,b,T,g){void 0===b&&(b=1),void 0===T&&(T=1),void 0===g&&(g=1),g*=Math.PI/a;for(var h=[],u=[],l=0;l<a;l++)b+=(T-=b*g)*g,h[l]=T,u[l]=b;return{sin:u,cos:h,length:a}}},7602:_=>{_.exports=function(a,b,T){return a<=b?0:a>=T?1:(a=(a-b)/(T-b))*a*(3-2*a)}},54261:_=>{_.exports=function(a,b,T){return(a=Math.max(0,Math.min(1,(a-b)/(T-b))))*a*a*(a*(6*a-15)+10)}},44408:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l){void 0===l&&(l=new b);var d=0,f=0;return g>0&&g<=h*u&&(d=g>h-1?g-(f=Math.floor(g/h))*h:g),l.set(d,f)}},85955:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l,d,f,c,m){void 0===m&&(m=new b);var v=Math.sin(d),x=Math.cos(d),y=x*f,w=v*f,E=-v*c,S=x*c,A=1/(y*S+E*-w);return m.x=S*A*g+-E*A*h+(l*E-u*S)*A,m.y=y*A*h+-w*A*g+(-l*y+u*w)*A,m}},26099:(_,k,a)=>{var b=a(83419),T=a(43855),g=new b({initialize:function(u,l){this.x=0,this.y=0,"object"==typeof u?(this.x=u.x||0,this.y=u.y||0):(void 0===l&&(l=u),this.x=u||0,this.y=l||0)},clone:function(){return new g(this.x,this.y)},copy:function(h){return this.x=h.x||0,this.y=h.y||0,this},setFromObject:function(h){return this.x=h.x||0,this.y=h.y||0,this},set:function(h,u){return void 0===u&&(u=h),this.x=h,this.y=u,this},setTo:function(h,u){return this.set(h,u)},setToPolar:function(h,u){return null==u&&(u=1),this.x=Math.cos(h)*u,this.y=Math.sin(h)*u,this},equals:function(h){return this.x===h.x&&this.y===h.y},fuzzyEquals:function(h,u){return T(this.x,h.x,u)&&T(this.y,h.y,u)},angle:function(){var h=Math.atan2(this.y,this.x);return h<0&&(h+=2*Math.PI),h},setAngle:function(h){return this.setToPolar(h,this.length())},add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h):(this.x=0,this.y=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(h){var u=h.x-this.x,l=h.y-this.y;return Math.sqrt(u*u+l*l)},distanceSq:function(h){var u=h.x-this.x,l=h.y-this.y;return u*u+l*l},length:function(){var h=this.x,u=this.y;return Math.sqrt(h*h+u*u)},setLength:function(h){return this.normalize().scale(h)},lengthSq:function(){var h=this.x,u=this.y;return h*h+u*u},normalize:function(){var h=this.x,u=this.y,l=h*h+u*u;return l>0&&(l=1/Math.sqrt(l),this.x=h*l,this.y=u*l),this},normalizeRightHand:function(){var h=this.x;return this.x=-1*this.y,this.y=h,this},normalizeLeftHand:function(){var h=this.x;return this.x=this.y,this.y=-1*h,this},dot:function(h){return this.x*h.x+this.y*h.y},cross:function(h){return this.x*h.y-this.y*h.x},lerp:function(h,u){void 0===u&&(u=0);var l=this.x,d=this.y;return this.x=l+u*(h.x-l),this.y=d+u*(h.y-d),this},transformMat3:function(h){var u=this.x,l=this.y,d=h.val;return this.x=d[0]*u+d[3]*l+d[6],this.y=d[1]*u+d[4]*l+d[7],this},transformMat4:function(h){var u=this.x,l=this.y,d=h.val;return this.x=d[0]*u+d[4]*l+d[12],this.y=d[1]*u+d[5]*l+d[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(h){var u=this.length();return u&&u>h&&this.scale(h/u),this},reflect:function(h){return h=h.clone().normalize(),this.subtract(h.scale(2*this.dot(h)))},mirror:function(h){return this.reflect(h).negate()},rotate:function(h){var u=Math.cos(h),l=Math.sin(h);return this.set(u*this.x-l*this.y,l*this.x+u*this.y)},project:function(h){var u=this.dot(h)/h.dot(h);return this.copy(h).scale(u)}});g.ZERO=new g,g.RIGHT=new g(1,0),g.LEFT=new g(-1,0),g.UP=new g(0,-1),g.DOWN=new g(0,1),g.ONE=new g(1,1),_.exports=g},25836:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l){this.x=0,this.y=0,this.z=0,"object"==typeof h?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=u||0,this.z=l||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(g){return this.x=Math.min(this.x,g.x),this.y=Math.min(this.y,g.y),this.z=Math.min(this.z,g.z),this},max:function(g){return this.x=Math.max(this.x,g.x),this.y=Math.max(this.y,g.y),this.z=Math.max(this.z,g.z),this},clone:function(){return new T(this.x,this.y,this.z)},addVectors:function(g,h){return this.x=g.x+h.x,this.y=g.y+h.y,this.z=g.z+h.z,this},subVectors:function(g,h){return this.x=g.x-h.x,this.y=g.y-h.y,this.z=g.z-h.z,this},crossVectors:function(g,h){var u=g.x,l=g.y,d=g.z,f=h.x,c=h.y,m=h.z;return this.x=l*m-d*c,this.y=d*f-u*m,this.z=u*c-l*f,this},equals:function(g){return this.x===g.x&&this.y===g.y&&this.z===g.z},copy:function(g){return this.x=g.x,this.y=g.y,this.z=g.z||0,this},set:function(g,h,u){return"object"==typeof g?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):(this.x=g||0,this.y=h||0,this.z=u||0),this},setFromMatrixPosition:function(g){return this.fromArray(g.val,12)},setFromMatrixColumn:function(g,h){return this.fromArray(g.val,4*h)},fromArray:function(g,h){return void 0===h&&(h=0),this.x=g[h],this.y=g[h+1],this.z=g[h+2],this},add:function(g){return this.x+=g.x,this.y+=g.y,this.z+=g.z||0,this},addScalar:function(g){return this.x+=g,this.y+=g,this.z+=g,this},addScale:function(g,h){return this.x+=g.x*h,this.y+=g.y*h,this.z+=g.z*h||0,this},subtract:function(g){return this.x-=g.x,this.y-=g.y,this.z-=g.z||0,this},multiply:function(g){return this.x*=g.x,this.y*=g.y,this.z*=g.z||1,this},scale:function(g){return isFinite(g)?(this.x*=g,this.y*=g,this.z*=g):(this.x=0,this.y=0,this.z=0),this},divide:function(g){return this.x/=g.x,this.y/=g.y,this.z/=g.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(g){var h=g.x-this.x,u=g.y-this.y,l=g.z-this.z||0;return Math.sqrt(h*h+u*u+l*l)},distanceSq:function(g){var h=g.x-this.x,u=g.y-this.y,l=g.z-this.z||0;return h*h+u*u+l*l},length:function(){var g=this.x,h=this.y,u=this.z;return Math.sqrt(g*g+h*h+u*u)},lengthSq:function(){var g=this.x,h=this.y,u=this.z;return g*g+h*h+u*u},normalize:function(){var g=this.x,h=this.y,u=this.z,l=g*g+h*h+u*u;return l>0&&(l=1/Math.sqrt(l),this.x=g*l,this.y=h*l,this.z=u*l),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z},cross:function(g){var h=this.x,u=this.y,l=this.z,d=g.x,f=g.y,c=g.z;return this.x=u*c-l*f,this.y=l*d-h*c,this.z=h*f-u*d,this},lerp:function(g,h){void 0===h&&(h=0);var u=this.x,l=this.y,d=this.z;return this.x=u+h*(g.x-u),this.y=l+h*(g.y-l),this.z=d+h*(g.z-d),this},applyMatrix3:function(g){var h=this.x,u=this.y,l=this.z,d=g.val;return this.x=d[0]*h+d[3]*u+d[6]*l,this.y=d[1]*h+d[4]*u+d[7]*l,this.z=d[2]*h+d[5]*u+d[8]*l,this},applyMatrix4:function(g){var h=this.x,u=this.y,l=this.z,d=g.val,f=1/(d[3]*h+d[7]*u+d[11]*l+d[15]);return this.x=(d[0]*h+d[4]*u+d[8]*l+d[12])*f,this.y=(d[1]*h+d[5]*u+d[9]*l+d[13])*f,this.z=(d[2]*h+d[6]*u+d[10]*l+d[14])*f,this},transformMat3:function(g){var h=this.x,u=this.y,l=this.z,d=g.val;return this.x=h*d[0]+u*d[3]+l*d[6],this.y=h*d[1]+u*d[4]+l*d[7],this.z=h*d[2]+u*d[5]+l*d[8],this},transformMat4:function(g){var h=this.x,u=this.y,l=this.z,d=g.val;return this.x=d[0]*h+d[4]*u+d[8]*l+d[12],this.y=d[1]*h+d[5]*u+d[9]*l+d[13],this.z=d[2]*h+d[6]*u+d[10]*l+d[14],this},transformCoordinates:function(g){var h=this.x,u=this.y,l=this.z,d=g.val,c=h*d[1]+u*d[5]+l*d[9]+d[13],m=h*d[2]+u*d[6]+l*d[10]+d[14],v=h*d[3]+u*d[7]+l*d[11]+d[15];return this.x=(h*d[0]+u*d[4]+l*d[8]+d[12])/v,this.y=c/v,this.z=m/v,this},transformQuat:function(g){var h=this.x,u=this.y,l=this.z,d=g.x,f=g.y,c=g.z,m=g.w,v=m*h+f*l-c*u,x=m*u+c*h-d*l,y=m*l+d*u-f*h,w=-d*h-f*u-c*l;return this.x=v*m+w*-d+x*-c-y*-f,this.y=x*m+w*-f+y*-d-v*-c,this.z=y*m+w*-c+v*-f-x*-d,this},project:function(g){var h=this.x,u=this.y,l=this.z,d=g.val,c=d[1],m=d[2],y=d[5],w=d[6],A=d[9],I=d[10],O=d[13],N=d[14],G=1/(h*d[3]+u*d[7]+l*d[11]+d[15]);return this.x=(h*d[0]+u*d[4]+l*d[8]+d[12])*G,this.y=(h*c+u*y+l*A+O)*G,this.z=(h*m+u*w+l*I+N)*G,this},projectViewMatrix:function(g,h){return this.applyMatrix4(g).applyMatrix4(h)},unprojectViewMatrix:function(g,h){return this.applyMatrix4(g).applyMatrix4(h)},unproject:function(g,h){var f=g.w,m=f-this.y-1-g.y,v=this.z;return this.x=2*(this.x-g.x)/g.z-1,this.y=2*m/f-1,this.z=2*v-1,this.project(h)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});T.ZERO=new T,T.RIGHT=new T(1,0,0),T.LEFT=new T(-1,0,0),T.UP=new T(0,-1,0),T.DOWN=new T(0,1,0),T.FORWARD=new T(0,0,1),T.BACK=new T(0,0,-1),T.ONE=new T(1,1,1),_.exports=T},61369:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l,d){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof h?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=u||0,this.z=l||0,this.w=d||0)},clone:function(){return new T(this.x,this.y,this.z,this.w)},copy:function(g){return this.x=g.x,this.y=g.y,this.z=g.z||0,this.w=g.w||0,this},equals:function(g){return this.x===g.x&&this.y===g.y&&this.z===g.z&&this.w===g.w},set:function(g,h,u,l){return"object"==typeof g?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0,this.w=g.w||0):(this.x=g||0,this.y=h||0,this.z=u||0,this.w=l||0),this},add:function(g){return this.x+=g.x,this.y+=g.y,this.z+=g.z||0,this.w+=g.w||0,this},subtract:function(g){return this.x-=g.x,this.y-=g.y,this.z-=g.z||0,this.w-=g.w||0,this},scale:function(g){return this.x*=g,this.y*=g,this.z*=g,this.w*=g,this},length:function(){var g=this.x,h=this.y,u=this.z,l=this.w;return Math.sqrt(g*g+h*h+u*u+l*l)},lengthSq:function(){var g=this.x,h=this.y,u=this.z,l=this.w;return g*g+h*h+u*u+l*l},normalize:function(){var g=this.x,h=this.y,u=this.z,l=this.w,d=g*g+h*h+u*u+l*l;return d>0&&(d=1/Math.sqrt(d),this.x=g*d,this.y=h*d,this.z=u*d,this.w=l*d),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z+this.w*g.w},lerp:function(g,h){void 0===h&&(h=0);var u=this.x,l=this.y,d=this.z,f=this.w;return this.x=u+h*(g.x-u),this.y=l+h*(g.y-l),this.z=d+h*(g.z-d),this.w=f+h*(g.w-f),this},multiply:function(g){return this.x*=g.x,this.y*=g.y,this.z*=g.z||1,this.w*=g.w||1,this},divide:function(g){return this.x/=g.x,this.y/=g.y,this.z/=g.z||1,this.w/=g.w||1,this},distance:function(g){var h=g.x-this.x,u=g.y-this.y,l=g.z-this.z||0,d=g.w-this.w||0;return Math.sqrt(h*h+u*u+l*l+d*d)},distanceSq:function(g){var h=g.x-this.x,u=g.y-this.y,l=g.z-this.z||0,d=g.w-this.w||0;return h*h+u*u+l*l+d*d},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(g){var h=this.x,u=this.y,l=this.z,d=this.w,f=g.val;return this.x=f[0]*h+f[4]*u+f[8]*l+f[12]*d,this.y=f[1]*h+f[5]*u+f[9]*l+f[13]*d,this.z=f[2]*h+f[6]*u+f[10]*l+f[14]*d,this.w=f[3]*h+f[7]*u+f[11]*l+f[15]*d,this},transformQuat:function(g){var h=this.x,u=this.y,l=this.z,d=g.x,f=g.y,c=g.z,m=g.w,v=m*h+f*l-c*u,x=m*u+c*h-d*l,y=m*l+d*u-f*h,w=-d*h-f*u-c*l;return this.x=v*m+w*-d+x*-c-y*-f,this.y=x*m+w*-f+y*-d-v*-c,this.z=y*m+w*-c+v*-f-x*-d,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});T.prototype.sub=T.prototype.subtract,T.prototype.mul=T.prototype.multiply,T.prototype.div=T.prototype.divide,T.prototype.dist=T.prototype.distance,T.prototype.distSq=T.prototype.distanceSq,T.prototype.len=T.prototype.length,T.prototype.lenSq=T.prototype.lengthSq,_.exports=T},60417:_=>{_.exports=function(a,b,T){return Math.abs(a-b)<=T}},15994:_=>{_.exports=function(a,b,T){var g=T-b;return b+((a-b)%g+g)%g}},31040:_=>{_.exports=function(a,b,T,g){return Math.atan2(g-b,T-a)}},55495:_=>{_.exports=function(a,b){return Math.atan2(b.y-a.y,b.x-a.x)}},128:_=>{_.exports=function(a,b){return Math.atan2(b.x-a.x,b.y-a.y)}},41273:_=>{_.exports=function(a,b,T,g){return Math.atan2(T-a,g-b)}},1432:(_,k,a)=>{var b=a(36383);_.exports=function(g){return g>Math.PI&&(g-=b.PI2),Math.abs(((g+b.TAU)%b.PI2-b.PI2)%b.PI2)}},12407:_=>{_.exports=function(a){return(a%=2*Math.PI)>=0?a:a+2*Math.PI}},53993:(_,k,a)=>{var b=a(99472);_.exports=function(){return b(-Math.PI,Math.PI)}},86564:(_,k,a)=>{var b=a(99472);_.exports=function(){return b(-180,180)}},90154:(_,k,a)=>{var b=a(12407);_.exports=function(g){return b(g+Math.PI)}},48736:(_,k,a)=>{var b=a(36383);_.exports=function(g,h,u){return void 0===u&&(u=.05),g===h||(Math.abs(h-g)<=u||Math.abs(h-g)>=b.PI2-u?g=h:(Math.abs(h-g)>Math.PI&&(h<g?h+=b.PI2:h-=b.PI2),h>g?g+=u:h<g&&(g-=u))),g}},61430:_=>{_.exports=function(a,b){var T=b-a;return 0===T?0:T-360*Math.floor((T- -180)/360)}},86554:(_,k,a)=>{var b=a(15994);_.exports=function(g){return b(g,-Math.PI,Math.PI)}},30954:(_,k,a)=>{var b=a(15994);_.exports=function(g){return b(g,-180,180)}},25588:(_,k,a)=>{_.exports={Between:a(31040),BetweenPoints:a(55495),BetweenPointsY:a(128),BetweenY:a(41273),CounterClockwise:a(1432),Normalize:a(12407),Random:a(53993),RandomDegrees:a(86564),Reverse:a(90154),RotateTo:a(48736),ShortestBetween:a(61430),Wrap:a(86554),WrapDegrees:a(30954)}},36383:_=>{var k={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};_.exports=k},20339:_=>{_.exports=function(a,b,T,g){var h=a-T,u=b-g;return Math.sqrt(h*h+u*u)}},52816:_=>{_.exports=function(a,b){var T=a.x-b.x,g=a.y-b.y;return Math.sqrt(T*T+g*g)}},64559:_=>{_.exports=function(a,b){var T=a.x-b.x,g=a.y-b.y;return T*T+g*g}},82340:_=>{_.exports=function(a,b,T,g){return Math.max(Math.abs(a-T),Math.abs(b-g))}},14390:_=>{_.exports=function(a,b,T,g,h){return void 0===h&&(h=2),Math.sqrt(Math.pow(T-a,h)+Math.pow(g-b,h))}},2243:_=>{_.exports=function(a,b,T,g){return Math.abs(a-T)+Math.abs(b-g)}},89774:_=>{_.exports=function(a,b,T,g){var h=a-T,u=b-g;return h*h+u*u}},50994:(_,k,a)=>{_.exports={Between:a(20339),BetweenPoints:a(52816),BetweenPointsSquared:a(64559),Chebyshev:a(82340),Power:a(14390),Snake:a(2243),Squared:a(89774)}},62640:(_,k,a)=>{var b=a(54178),T=a(41521),g=a(79980),h=a(85433),u=a(99140),l=a(48857),d=a(81596),f=a(59133),c=a(98516),m=a(35248),v=a(82500),x=a(49752);_.exports={Power0:d,Power1:f.Out,Power2:h.Out,Power3:c.Out,Power4:m.Out,Linear:d,Quad:f.Out,Cubic:h.Out,Quart:c.Out,Quint:m.Out,Sine:v.Out,Expo:l.Out,Circ:g.Out,Elastic:u.Out,Back:b.Out,Bounce:T.Out,Stepped:x,"Quad.easeIn":f.In,"Cubic.easeIn":h.In,"Quart.easeIn":c.In,"Quint.easeIn":m.In,"Sine.easeIn":v.In,"Expo.easeIn":l.In,"Circ.easeIn":g.In,"Elastic.easeIn":u.In,"Back.easeIn":b.In,"Bounce.easeIn":T.In,"Quad.easeOut":f.Out,"Cubic.easeOut":h.Out,"Quart.easeOut":c.Out,"Quint.easeOut":m.Out,"Sine.easeOut":v.Out,"Expo.easeOut":l.Out,"Circ.easeOut":g.Out,"Elastic.easeOut":u.Out,"Back.easeOut":b.Out,"Bounce.easeOut":T.Out,"Quad.easeInOut":f.InOut,"Cubic.easeInOut":h.InOut,"Quart.easeInOut":c.InOut,"Quint.easeInOut":m.InOut,"Sine.easeInOut":v.InOut,"Expo.easeInOut":l.InOut,"Circ.easeInOut":g.InOut,"Elastic.easeInOut":u.InOut,"Back.easeInOut":b.InOut,"Bounce.easeInOut":T.InOut}},1639:_=>{_.exports=function(a,b){return void 0===b&&(b=1.70158),a*a*((b+1)*a-b)}},50099:_=>{_.exports=function(a,b){void 0===b&&(b=1.70158);var T=1.525*b;return(a*=2)<1?a*a*((T+1)*a-T)*.5:.5*((a-=2)*a*((T+1)*a+T)+2)}},41286:_=>{_.exports=function(a,b){return void 0===b&&(b=1.70158),--a*a*((b+1)*a+b)+1}},54178:(_,k,a)=>{_.exports={In:a(1639),Out:a(41286),InOut:a(50099)}},59590:_=>{_.exports=function(a){return(a=1-a)<.36363636363636365?1-7.5625*a*a:a<.7272727272727273?1-(7.5625*(a-=.5454545454545454)*a+.75):a<.9090909090909091?1-(7.5625*(a-=.8181818181818182)*a+.9375):1-(7.5625*(a-=.9545454545454546)*a+.984375)}},41788:_=>{_.exports=function(a){var b=!1;return a<.5?(a=1-2*a,b=!0):a=2*a-1,a<.36363636363636365?a*=7.5625*a:a=a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375,b?.5*(1-a):.5*a+.5}},69905:_=>{_.exports=function(a){return a<.36363636363636365?7.5625*a*a:a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375}},41521:(_,k,a)=>{_.exports={In:a(59590),Out:a(69905),InOut:a(41788)}},91861:_=>{_.exports=function(a){return 1-Math.sqrt(1-a*a)}},4177:_=>{_.exports=function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},57512:_=>{_.exports=function(a){return Math.sqrt(1- --a*a)}},79980:(_,k,a)=>{_.exports={In:a(91861),Out:a(57512),InOut:a(4177)}},51150:_=>{_.exports=function(a){return a*a*a}},82820:_=>{_.exports=function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)}},35033:_=>{_.exports=function(a){return--a*a*a+1}},85433:(_,k,a)=>{_.exports={In:a(51150),Out:a(35033),InOut:a(82820)}},69965:_=>{_.exports=function(a,b,T){if(void 0===b&&(b=.1),void 0===T&&(T=.1),0===a)return 0;if(1===a)return 1;var g=T/4;return b<1?b=1:g=T*Math.asin(1/b)/(2*Math.PI),-b*Math.pow(2,10*(a-=1))*Math.sin((a-g)*(2*Math.PI)/T)}},50665:_=>{_.exports=function(a,b,T){if(void 0===b&&(b=.1),void 0===T&&(T=.1),0===a)return 0;if(1===a)return 1;var g=T/4;return b<1?b=1:g=T*Math.asin(1/b)/(2*Math.PI),(a*=2)<1?b*Math.pow(2,10*(a-=1))*Math.sin((a-g)*(2*Math.PI)/T)*-.5:b*Math.pow(2,-10*(a-=1))*Math.sin((a-g)*(2*Math.PI)/T)*.5+1}},7744:_=>{_.exports=function(a,b,T){if(void 0===b&&(b=.1),void 0===T&&(T=.1),0===a)return 0;if(1===a)return 1;var g=T/4;return b<1?b=1:g=T*Math.asin(1/b)/(2*Math.PI),b*Math.pow(2,-10*a)*Math.sin((a-g)*(2*Math.PI)/T)+1}},99140:(_,k,a)=>{_.exports={In:a(69965),Out:a(7744),InOut:a(50665)}},24590:_=>{_.exports=function(a){return Math.pow(2,10*(a-1))-.001}},87844:_=>{_.exports=function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))}},89433:_=>{_.exports=function(a){return 1-Math.pow(2,-10*a)}},48857:(_,k,a)=>{_.exports={In:a(24590),Out:a(89433),InOut:a(87844)}},48820:(_,k,a)=>{_.exports={Back:a(54178),Bounce:a(41521),Circular:a(79980),Cubic:a(85433),Elastic:a(99140),Expo:a(48857),Linear:a(81596),Quadratic:a(59133),Quartic:a(98516),Quintic:a(35248),Sine:a(82500),Stepped:a(49752)}},7147:_=>{_.exports=function(a){return a}},81596:(_,k,a)=>{_.exports=a(7147)},34826:_=>{_.exports=function(a){return a*a}},20544:_=>{_.exports=function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)}},92029:_=>{_.exports=function(a){return a*(2-a)}},59133:(_,k,a)=>{_.exports={In:a(34826),Out:a(92029),InOut:a(20544)}},64413:_=>{_.exports=function(a){return a*a*a*a}},78137:_=>{_.exports=function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},45840:_=>{_.exports=function(a){return 1- --a*a*a*a}},98516:(_,k,a)=>{_.exports={In:a(64413),Out:a(45840),InOut:a(78137)}},87745:_=>{_.exports=function(a){return a*a*a*a*a}},16509:_=>{_.exports=function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},17868:_=>{_.exports=function(a){return--a*a*a*a*a+1}},35248:(_,k,a)=>{_.exports={In:a(87745),Out:a(17868),InOut:a(16509)}},80461:_=>{_.exports=function(a){return 0===a?0:1===a?1:1-Math.cos(a*Math.PI/2)}},34025:_=>{_.exports=function(a){return 0===a?0:1===a?1:.5*(1-Math.cos(Math.PI*a))}},52768:_=>{_.exports=function(a){return 0===a?0:1===a?1:Math.sin(a*Math.PI/2)}},82500:(_,k,a)=>{_.exports={In:a(80461),Out:a(52768),InOut:a(34025)}},72251:_=>{_.exports=function(a,b){return void 0===b&&(b=1),a<=0?0:a>=1?1:1/b*(1+(b*a|0))}},49752:(_,k,a)=>{_.exports=a(72251)},75698:_=>{_.exports=function(a,b){return void 0===b&&(b=1e-4),Math.ceil(a-b)}},43855:_=>{_.exports=function(a,b,T){return void 0===T&&(T=1e-4),Math.abs(a-b)<T}},25777:_=>{_.exports=function(a,b){return void 0===b&&(b=1e-4),Math.floor(a+b)}},5470:_=>{_.exports=function(a,b,T){return void 0===T&&(T=1e-4),a>b-T}},94977:_=>{_.exports=function(a,b,T){return void 0===T&&(T=1e-4),a<b+T}},48379:(_,k,a)=>{_.exports={Ceil:a(75698),Equal:a(43855),Floor:a(25777),GreaterThan:a(5470),LessThan:a(94977)}},75508:(_,k,a)=>{var b=a(36383),T=a(79291),g={Angle:a(25588),Distance:a(50994),Easing:a(48820),Fuzzy:a(48379),Interpolation:a(38289),Pow2:a(49001),Snap:a(73697),RandomDataGenerator:a(28453),Average:a(53307),Bernstein:a(85710),Between:a(30976),CatmullRom:a(87842),CeilTo:a(26302),Clamp:a(45319),DegToRad:a(39506),Difference:a(61241),Euler:a(38857),Factorial:a(6411),FloatBetween:a(99472),FloorTo:a(77623),FromPercent:a(62945),GetSpeed:a(38265),IsEven:a(78702),IsEvenStrict:a(94883),Linear:a(28915),LinearXY:a(94908),MaxAdd:a(86883),Median:a(50040),MinSub:a(37204),Percent:a(65201),RadToDeg:a(43396),RandomXY:a(74362),RandomXYZ:a(60706),RandomXYZW:a(67421),Rotate:a(36305),RotateAround:a(11520),RotateAroundDistance:a(1163),RotateTo:a(70336),RoundAwayFromZero:a(2284),RoundTo:a(41013),SinCosTableGenerator:a(16922),SmootherStep:a(54261),SmoothStep:a(7602),ToXY:a(44408),TransformXY:a(85955),Within:a(60417),Wrap:a(15994),Vector2:a(26099),Vector3:a(25836),Vector4:a(61369),Matrix3:a(94434),Matrix4:a(37867),Quaternion:a(15746),RotateVec3:a(72678)};g=T(!1,g,b),_.exports=g},89318:(_,k,a)=>{var b=a(85710);_.exports=function(g,h){for(var u=0,l=g.length-1,d=0;d<=l;d++)u+=Math.pow(1-h,l-d)*Math.pow(h,d)*g[d]*b(l,d);return u}},77259:(_,k,a)=>{var b=a(87842);_.exports=function(g,h){var u=g.length-1,l=u*h,d=Math.floor(l);return g[0]===g[u]?(h<0&&(d=Math.floor(l=u*(1+h))),b(l-d,g[(d-1+u)%u],g[d],g[(d+1)%u],g[(d+2)%u])):h<0?g[0]-(b(-l,g[0],g[0],g[1],g[1])-g[0]):h>1?g[u]-(b(l-u,g[u],g[u],g[u-1],g[u-1])-g[u]):b(l-d,g[d?d-1:0],g[d],g[u<d+1?u:d+1],g[u<d+2?u:d+2])}},36316:_=>{_.exports=function(h,u,l,d,f){return function k(h,u){var l=1-h;return l*l*l*u}(h,u)+function a(h,u){var l=1-h;return 3*l*l*h*u}(h,l)+function b(h,u){return 3*(1-h)*h*h*u}(h,d)+function T(h,u){return h*h*h*u}(h,f)}},28392:(_,k,a)=>{var b=a(28915);_.exports=function(g,h){var u=g.length-1,l=u*h,d=Math.floor(l);return h<0?b(g[0],g[1],l):h>1?b(g[u],g[u-1],u-l):b(g[d],g[d+1>u?u:d+1],l-d)}},32112:_=>{_.exports=function(g,h,u,l){return function k(g,h){var u=1-g;return u*u*h}(g,h)+function a(g,h){return 2*(1-g)*g*h}(g,u)+function b(g,h){return g*g*h}(g,l)}},47235:(_,k,a)=>{var b=a(7602);_.exports=function(g,h,u){return h+(u-h)*b(g,0,1)}},50178:(_,k,a)=>{var b=a(54261);_.exports=function(g,h,u){return h+(u-h)*b(g,0,1)}},38289:(_,k,a)=>{_.exports={Bezier:a(89318),CatmullRom:a(77259),CubicBezier:a(36316),Linear:a(28392),QuadraticBezier:a(32112),SmoothStep:a(47235),SmootherStep:a(50178)}},98439:_=>{_.exports=function(a){var b=Math.log(a)/.6931471805599453;return 1<<Math.ceil(b)}},50030:_=>{_.exports=function(a,b){return a>0&&!(a&a-1)&&b>0&&!(b&b-1)}},81230:_=>{_.exports=function(a){return a>0&&!(a&a-1)}},49001:(_,k,a)=>{_.exports={GetNext:a(98439),IsSize:a(50030),IsValue:a(81230)}},28453:(_,k,a)=>{var T=new(a(83419))({initialize:function(h){void 0===h&&(h=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],h&&this.init(h)},rnd:function(){var g=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|g,this.s0=this.s1,this.s1=this.s2,this.s2=g-this.c,this.s2},hash:function(g){var h,u=this.n;g=g.toString();for(var l=0;l<g.length;l++)h=.02519603282416938*(u+=g.charCodeAt(l)),h-=u=h>>>0,u=(h*=u)>>>0,u+=4294967296*(h-=u);return this.n=u,2.3283064365386963e-10*(u>>>0)},init:function(g){"string"==typeof g?this.state(g):this.sow(g)},sow:function(g){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,g)for(var h=0;h<g.length&&null!=g[h];h++){var u=g[h];this.s0-=this.hash(u),this.s0+=~~(this.s0<0),this.s1-=this.hash(u),this.s1+=~~(this.s1<0),this.s2-=this.hash(u),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(g,h){return Math.floor(this.realInRange(0,h-g+1)+g)},between:function(g,h){return Math.floor(this.realInRange(0,h-g+1)+g)},realInRange:function(g,h){return this.frac()*(h-g)+g},normal:function(){return 1-2*this.frac()},uuid:function(){var g="",h="";for(h=g="";g++<36;h+=~g%5|3*g&4?(15^g?8^this.frac()*(20^g?16:4):4).toString(16):"-");return h},pick:function(g){return g[this.integerInRange(0,g.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(g){return g[~~(Math.pow(this.frac(),2)*(g.length-.5)+.5)]},timestamp:function(g,h){return this.realInRange(g||9466848e5,h||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(g){return"string"==typeof g&&g.match(/^!rnd/)&&(g=g.split(","),this.c=parseFloat(g[1]),this.s0=parseFloat(g[2]),this.s1=parseFloat(g[3]),this.s2=parseFloat(g[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(g){for(var u=g.length-1;u>0;u--){var l=Math.floor(this.frac()*(u+1)),d=g[l];g[l]=g[u],g[u]=d}return g}});_.exports=T},63448:_=>{_.exports=function(a,b,T,g){return void 0===T&&(T=0),0===b?a:(a-=T,a=b*Math.ceil(a/b),g?(T+a)/b:T+a)}},56583:_=>{_.exports=function(a,b,T,g){return void 0===T&&(T=0),0===b?a:(a-=T,a=b*Math.floor(a/b),g?(T+a)/b:T+a)}},77720:_=>{_.exports=function(a,b,T,g){return void 0===T&&(T=0),0===b?a:(a-=T,a=b*Math.round(a/b),g?(T+a)/b:T+a)}},73697:(_,k,a)=>{_.exports={Ceil:a(63448),Floor:a(56583),To:a(77720)}},85454:(_,k,a)=>{a(63595);var b=a(8054),T=a(79291),g={Actions:a(61061),Animations:a(60421),BlendModes:a(10312),Cache:a(83388),Cameras:a(26638),Core:a(42857),Class:a(83419),Create:a(15822),Curves:a(25410),Data:a(44965),Display:a(27460),DOM:a(84902),Events:a(93055),FX:a(66064),Game:a(50127),GameObjects:a(77856),Geom:a(55738),Input:a(14350),Loader:a(57777),Math:a(75508),Physics:a(44563),Plugins:a(18922),Renderer:a(36909),Scale:a(93364),ScaleModes:a(29795),Scene:a(97482),Scenes:a(62194),Structs:a(41392),Textures:a(27458),Tilemaps:a(62501),Time:a(90291),Tweens:a(43066),Utils:a(91799)};g.Sound=a(23717),g=T(!1,g,b),_.exports=g,a.g.Phaser=g},71289:(_,k,a)=>{var b=a(83419),T=a(92209),g=a(88571),h=new b({Extends:g,Mixins:[T.Acceleration,T.Angular,T.Bounce,T.Collision,T.Debug,T.Drag,T.Enable,T.Friction,T.Gravity,T.Immovable,T.Mass,T.Pushable,T.Size,T.Velocity],initialize:function(l,d,f,c,m){g.call(this,l,d,f,c,m),this.body=null}});_.exports=h},86689:(_,k,a)=>{var b=a(83419),T=a(39506),g=a(20339),h=a(89774),u=a(66022),l=a(95540),d=a(46975),f=a(72441),c=a(47956),m=a(37277),v=a(44594),x=a(26099),y=a(82248),w=new b({initialize:function(S){this.scene=S,this.systems=S.sys,this.config=this.getConfig(),this._category=1,S.sys.events.once(v.BOOT,this.boot,this),S.sys.events.on(v.START,this.start,this)},boot:function(){this.world=new y(this.scene,this.config),this.add=new u(this.world),this.systems.events.once(v.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new y(this.scene,this.config),this.add=new u(this.world));var E=this.systems.events;l(this.config,"customUpdate",!1)||E.on(v.UPDATE,this.world.update,this.world),E.on(v.POST_UPDATE,this.world.postUpdate,this.world),E.once(v.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(v.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(v.UPDATE,this.world.update,this.world)},getConfig:function(){var E=this.systems.game.config.physics;return d(l(this.systems.settings.physics,"arcade",{}),l(E,"arcade",{}))},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(E,S,A,I,M){return void 0===A&&(A=null),void 0===I&&(I=null),void 0===M&&(M=A),this.world.collideObjects(E,S,A,I,M,!0)},collide:function(E,S,A,I,M){return void 0===A&&(A=null),void 0===I&&(I=null),void 0===M&&(M=A),this.world.collideObjects(E,S,A,I,M,!1)},collideTiles:function(E,S,A,I,M){return this.world.collideTiles(E,S,A,I,M)},overlapTiles:function(E,S,A,I,M){return this.world.overlapTiles(E,S,A,I,M)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(E,S,A,I,M,P){void 0===I&&(I=60);var O=Math.atan2(A-E.y,S-E.x);return E.body.acceleration.setToPolar(O,I),void 0!==M&&void 0!==P&&E.body.maxVelocity.set(M,P),O},accelerateToObject:function(E,S,A,I,M){return this.accelerateTo(E,S.x,S.y,A,I,M)},closest:function(E,S){S||(S=this.world.bodies.entries);for(var A=Number.MAX_VALUE,I=null,M=E.x,P=E.y,O=S.length,N=0;N<O;N++){var L=S[N],G=L.body||L;if(E!==L&&E!==G&&E!==G.gameObject&&E!==G.center){var j=h(M,P,G.center.x,G.center.y);j<A&&(I=L,A=j)}}return I},furthest:function(E,S){S||(S=this.world.bodies.entries);for(var A=-1,I=null,M=E.x,P=E.y,O=S.length,N=0;N<O;N++){var L=S[N],G=L.body||L;if(E!==L&&E!==G&&E!==G.gameObject&&E!==G.center){var j=h(M,P,G.center.x,G.center.y);j>A&&(I=L,A=j)}}return I},moveTo:function(E,S,A,I,M){void 0===I&&(I=60),void 0===M&&(M=0);var P=Math.atan2(A-E.y,S-E.x);return M>0&&(I=g(E.x,E.y,S,A)/(M/1e3)),E.body.velocity.setToPolar(P,I),P},moveToObject:function(E,S,A,I){return this.moveTo(E,S.x,S.y,A,I)},velocityFromAngle:function(E,S,A){return void 0===S&&(S=60),void 0===A&&(A=new x),A.setToPolar(T(E),S)},velocityFromRotation:function(E,S,A){return void 0===S&&(S=60),void 0===A&&(A=new x),A.setToPolar(E,S)},overlapRect:function(E,S,A,I,M,P){return c(this.world,E,S,A,I,M,P)},overlapCirc:function(E,S,A,I,M){return f(this.world,E,S,A,I,M)},shutdown:function(){if(this.world){var E=this.systems.events;E.off(v.UPDATE,this.world.update,this.world),E.off(v.POST_UPDATE,this.world.postUpdate,this.world),E.off(v.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(v.START,this.start,this),this.scene=null,this.systems=null}});m.register("ArcadePhysics",w,"arcadePhysics"),_.exports=w},13759:(_,k,a)=>{var b=a(83419),T=a(92209),g=a(68287),h=new b({Extends:g,Mixins:[T.Acceleration,T.Angular,T.Bounce,T.Collision,T.Debug,T.Drag,T.Enable,T.Friction,T.Gravity,T.Immovable,T.Mass,T.Pushable,T.Size,T.Velocity],initialize:function(l,d,f,c,m){g.call(this,l,d,f,c,m),this.body=null}});_.exports=h},37742:(_,k,a)=>{var b=a(83419),T=a(78389),g=a(37747),h=a(63012),u=a(43396),l=a(87841),d=a(37303),f=a(95829),c=a(26099),m=new b({Mixins:[T],initialize:function(x,y){var w=64,E=64,A=void 0!==y;A&&y.displayWidth&&(w=y.displayWidth,E=y.displayHeight),A||(y={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=x,this.gameObject=A?y:void 0,this.isBody=!0,this.transform={x:y.x,y:y.y,rotation:y.angle,scaleX:y.scaleX,scaleY:y.scaleY,displayOriginX:y.displayOriginX,displayOriginY:y.displayOriginY},this.debugShowBody=x.defaults.debugShowBody,this.debugShowVelocity=x.defaults.debugShowVelocity,this.debugBodyColor=x.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new c,this.position=new c(y.x-y.scaleX*y.displayOriginX,y.y-y.scaleY*y.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=y.angle,this.preRotation=y.angle,this.width=w,this.height=E,this.sourceWidth=w,this.sourceHeight=E,y.frame&&(this.sourceWidth=y.frame.realWidth,this.sourceHeight=y.frame.realHeight),this.halfWidth=Math.abs(w/2),this.halfHeight=Math.abs(E/2),this.center=new c(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new c,this.newVelocity=new c,this.deltaMax=new c,this.acceleration=new c,this.allowDrag=!0,this.drag=new c,this.allowGravity=!0,this.gravity=new c,this.bounce=new c,this.worldBounce=null,this.customBoundsRectangle=x.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new c(1e4,1e4),this.maxSpeed=-1,this.friction=new c(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=g.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new c(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=f(!1),this.touching=f(!0),this.wasTouching=f(!0),this.blocked=f(!0),this.syncBounds=!1,this.physicsType=g.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=y.scaleX,this._sy=y.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new l,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var v=this.gameObject,x=this.transform;if(v.parentContainer){var y=v.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);x.x=y.tx,x.y=y.ty,x.rotation=u(y.rotation),x.scaleX=y.scaleX,x.scaleY=y.scaleY,x.displayOriginX=v.displayOriginX,x.displayOriginY=v.displayOriginY}else x.x=v.x,x.y=v.y,x.rotation=v.angle,x.scaleX=v.scaleX,x.scaleY=v.scaleY,x.displayOriginX=v.displayOriginX,x.displayOriginY=v.displayOriginY;var w=!1;if(this.syncBounds){var E=v.getBounds(this._bounds);this.width=E.width,this.height=E.height,w=!0}else{var S=Math.abs(x.scaleX),A=Math.abs(x.scaleY);(this._sx!==S||this._sy!==A)&&(this.width=this.sourceWidth*S,this.height=this.sourceHeight*A,this._sx=S,this._sy=A,w=!0)}w&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var v=this.transform;this.position.x=v.x+v.scaleX*(this.offset.x-v.displayOriginX),this.position.y=v.y+v.scaleY*(this.offset.y-v.displayOriginY),this.updateCenter()},resetFlags:function(v){void 0===v&&(v=!1);var x=this.wasTouching,y=this.touching,w=this.blocked;v?f(!0,x):(x.none=y.none,x.up=y.up,x.down=y.down,x.left=y.left,x.right=y.right),f(!0,y),f(!0,w),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(v,x){if(v&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var y=this.position;this.prev.x=y.x,this.prev.y=y.y,this.prevFrame.x=y.x,this.prevFrame.y=y.y}v&&this.update(x)},update:function(v){var x=this.prev,y=this.position,w=this.velocity;if(x.set(y.x,y.y),!this.moves)return this._dx=y.x-x.x,void(this._dy=y.y-x.y);if(this.directControl){var E=this.autoFrame;w.set((y.x-E.x)/v,(y.y-E.y)/v),this.world.updateMotion(this,v),this._dx=y.x-E.x,this._dy=y.y-E.y}else this.world.updateMotion(this,v),this.newVelocity.set(w.x*v,w.y*v),y.add(this.newVelocity),this._dx=y.x-x.x,this._dy=y.y-x.y;var S=w.x,A=w.y;if(this.updateCenter(),this.angle=Math.atan2(A,S),this.speed=Math.sqrt(S*S+A*A),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var I=this.blocked;this.world.emit(h.WORLD_BOUNDS,this,I.up,I.down,I.left,I.right)}},postUpdate:function(){var v=this.position,x=v.x-this.prevFrame.x,y=v.y-this.prevFrame.y,w=this.gameObject;if(this.moves){var E=this.deltaMax.x,S=this.deltaMax.y;0!==E&&0!==x&&(x<0&&x<-E?x=-E:x>0&&x>E&&(x=E)),0!==S&&0!==y&&(y<0&&y<-S?y=-S:y>0&&y>S&&(y=S)),w&&(w.x+=x,w.y+=y)}x<0?this.facing=g.FACING_LEFT:x>0&&(this.facing=g.FACING_RIGHT),y<0?this.facing=g.FACING_UP:y>0&&(this.facing=g.FACING_DOWN),this.allowRotation&&w&&(w.angle+=this.deltaZ()),this._tx=x,this._ty=y,this.autoFrame.set(v.x,v.y)},setBoundsRectangle:function(v){return this.customBoundsRectangle=v||this.world.bounds,this},checkWorldBounds:function(){var v=this.position,x=this.velocity,y=this.blocked,w=this.customBoundsRectangle,E=this.world.checkCollision,S=this.worldBounce?-this.worldBounce.x:-this.bounce.x,A=this.worldBounce?-this.worldBounce.y:-this.bounce.y,I=!1;return v.x<w.x&&E.left?(v.x=w.x,x.x*=S,y.left=!0,I=!0):this.right>w.right&&E.right&&(v.x=w.right-this.width,x.x*=S,y.right=!0,I=!0),v.y<w.y&&E.up?(v.y=w.y,x.y*=A,y.up=!0,I=!0):this.bottom>w.bottom&&E.down&&(v.y=w.bottom-this.height,x.y*=A,y.down=!0,I=!0),I&&(this.blocked.none=!1,this.updateCenter()),I},setOffset:function(v,x){return void 0===x&&(x=v),this.offset.set(v,x),this},setGameObject:function(v,x){return void 0===x&&(x=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=v,v.body&&(v.body=this),this.setSize(),this.world.add(this),this.enable=x,this},setSize:function(v,x,y){void 0===y&&(y=!0);var w=this.gameObject;return w&&(!v&&w.frame&&(v=w.frame.realWidth),!x&&w.frame&&(x=w.frame.realHeight)),this.sourceWidth=v,this.sourceHeight=x,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),y&&w&&w.getCenter&&this.offset.set((w.width-v)/2,(w.height-x)/2),this.isCircle=!1,this.radius=0,this},setCircle:function(v,x,y){return void 0===x&&(x=this.offset.x),void 0===y&&(y=this.offset.y),v>0?(this.isCircle=!0,this.radius=v,this.sourceWidth=2*v,this.sourceHeight=2*v,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(x,y),this.updateCenter()):this.isCircle=!1,this},reset:function(v,x){this.stop();var y=this.gameObject;y&&(y.setPosition(v,x),this.rotation=y.angle,this.preRotation=y.angle);var w=this.position;y&&y.getTopLeft?y.getTopLeft(w):w.set(v,x),this.prev.copy(w),this.prevFrame.copy(w),this.autoFrame.copy(w),y&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(v){return v.x=this.x,v.y=this.y,v.right=this.right,v.bottom=this.bottom,v},hitTest:function(v,x){return this.isCircle?this.radius>0&&v>=this.left&&v<=this.right&&x>=this.top&&x<=this.bottom&&(this.center.x-v)*(this.center.x-v)+(this.center.y-x)*(this.center.y-x)<=this.radius*this.radius:d(this,v,x)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(v){var x=this.position,y=x.x+this.halfWidth,w=x.y+this.halfHeight;this.debugShowBody&&(v.lineStyle(v.defaultStrokeWidth,this.debugBodyColor),this.isCircle?v.strokeCircle(y,w,this.width/2):(this.checkCollision.up&&v.lineBetween(x.x,x.y,x.x+this.width,x.y),this.checkCollision.right&&v.lineBetween(x.x+this.width,x.y,x.x+this.width,x.y+this.height),this.checkCollision.down&&v.lineBetween(x.x,x.y+this.height,x.x+this.width,x.y+this.height),this.checkCollision.left&&v.lineBetween(x.x,x.y,x.x,x.y+this.height))),this.debugShowVelocity&&(v.lineStyle(v.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),v.lineBetween(y,w,y+this.velocity.x/2,w+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(v){return void 0===v&&(v=!0),this.directControl=v,this},setCollideWorldBounds:function(v,x,y,w){void 0===v&&(v=!0),this.collideWorldBounds=v;var E=void 0!==x,S=void 0!==y;return(E||S)&&(this.worldBounce||(this.worldBounce=new c),E&&(this.worldBounce.x=x),S&&(this.worldBounce.y=y)),void 0!==w&&(this.onWorldBounds=w),this},setVelocity:function(v,x){return this.velocity.set(v,x),v=this.velocity.x,x=this.velocity.y,this.speed=Math.sqrt(v*v+x*x),this},setVelocityX:function(v){return this.setVelocity(v,this.velocity.y)},setVelocityY:function(v){return this.setVelocity(this.velocity.x,v)},setMaxVelocity:function(v,x){return this.maxVelocity.set(v,x),this},setMaxVelocityX:function(v){return this.maxVelocity.x=v,this},setMaxVelocityY:function(v){return this.maxVelocity.y=v,this},setMaxSpeed:function(v){return this.maxSpeed=v,this},setSlideFactor:function(v,x){return this.slideFactor.set(v,x),this},setBounce:function(v,x){return this.bounce.set(v,x),this},setBounceX:function(v){return this.bounce.x=v,this},setBounceY:function(v){return this.bounce.y=v,this},setAcceleration:function(v,x){return this.acceleration.set(v,x),this},setAccelerationX:function(v){return this.acceleration.x=v,this},setAccelerationY:function(v){return this.acceleration.y=v,this},setAllowDrag:function(v){return void 0===v&&(v=!0),this.allowDrag=v,this},setAllowGravity:function(v){return void 0===v&&(v=!0),this.allowGravity=v,this},setAllowRotation:function(v){return void 0===v&&(v=!0),this.allowRotation=v,this},setDrag:function(v,x){return this.drag.set(v,x),this},setDamping:function(v){return this.useDamping=v,this},setDragX:function(v){return this.drag.x=v,this},setDragY:function(v){return this.drag.y=v,this},setGravity:function(v,x){return this.gravity.set(v,x),this},setGravityX:function(v){return this.gravity.x=v,this},setGravityY:function(v){return this.gravity.y=v,this},setFriction:function(v,x){return this.friction.set(v,x),this},setFrictionX:function(v){return this.friction.x=v,this},setFrictionY:function(v){return this.friction.y=v,this},setAngularVelocity:function(v){return this.angularVelocity=v,this},setAngularAcceleration:function(v){return this.angularAcceleration=v,this},setAngularDrag:function(v){return this.angularDrag=v,this},setMass:function(v){return this.mass=v,this},setImmovable:function(v){return void 0===v&&(v=!0),this.immovable=v,this},setEnable:function(v){return void 0===v&&(v=!0),this.enable=v,this},processX:function(v,x,y,w){this.x+=v,this.updateCenter(),null!==x&&(this.velocity.x=x*this.slideFactor.x);var E=this.blocked;y&&(E.left=!0,E.none=!1),w&&(E.right=!0,E.none=!1)},processY:function(v,x,y,w){this.y+=v,this.updateCenter(),null!==x&&(this.velocity.y=x*this.slideFactor.y);var E=this.blocked;y&&(E.up=!0,E.none=!1),w&&(E.down=!0,E.none=!1)},x:{get:function(){return this.position.x},set:function(v){this.position.x=v}},y:{get:function(){return this.position.y},set:function(v){this.position.y=v}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});_.exports=m},79342:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l,d,f,c,m){this.world=h,this.name="",this.active=!0,this.overlapOnly=u,this.object1=l,this.object2=d,this.collideCallback=f,this.processCallback=c,this.callbackContext=m},setName:function(g){return this.name=g,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});_.exports=T},66022:(_,k,a)=>{var b=a(71289),T=a(13759),g=a(37742),h=a(83419),u=a(37747),l=a(60758),d=a(72624),f=a(71464),c=new h({initialize:function(v){this.world=v,this.scene=v.scene,this.sys=v.scene.sys},collider:function(m,v,x,y,w){return this.world.addCollider(m,v,x,y,w)},overlap:function(m,v,x,y,w){return this.world.addOverlap(m,v,x,y,w)},existing:function(m,v){return this.world.enableBody(m,v?u.STATIC_BODY:u.DYNAMIC_BODY),m},staticImage:function(m,v,x,y){var w=new b(this.scene,m,v,x,y);return this.sys.displayList.add(w),this.world.enableBody(w,u.STATIC_BODY),w},image:function(m,v,x,y){var w=new b(this.scene,m,v,x,y);return this.sys.displayList.add(w),this.world.enableBody(w,u.DYNAMIC_BODY),w},staticSprite:function(m,v,x,y){var w=new T(this.scene,m,v,x,y);return this.sys.displayList.add(w),this.sys.updateList.add(w),this.world.enableBody(w,u.STATIC_BODY),w},sprite:function(m,v,x,y){var w=new T(this.scene,m,v,x,y);return this.sys.displayList.add(w),this.sys.updateList.add(w),this.world.enableBody(w,u.DYNAMIC_BODY),w},staticGroup:function(m,v){return this.sys.updateList.add(new f(this.world,this.world.scene,m,v))},group:function(m,v){return this.sys.updateList.add(new l(this.world,this.world.scene,m,v))},body:function(m,v,x,y){var w=new g(this.world);return w.position.set(m,v),x&&y&&w.setSize(x,y),this.world.add(w,u.DYNAMIC_BODY),w},staticBody:function(m,v,x,y){var w=new d(this.world);return w.position.set(m,v),x&&y&&w.setSize(x,y),this.world.add(w,u.STATIC_BODY),w},destroy:function(){this.world=null,this.scene=null,this.sys=null}});_.exports=c},79599:_=>{_.exports=function(a){var b=0;if(Array.isArray(a))for(var T=0;T<a.length;T++)b|=a[T];else b=a;return b}},64897:(_,k,a)=>{var b=a(37747);_.exports=function(g,h,u,l){var d=0,f=g.deltaAbsX()+h.deltaAbsX()+l;return 0===g._dx&&0===h._dx?(g.embedded=!0,h.embedded=!0):g._dx>h._dx?(d=g.right-h.x)>f&&!u||!1===g.checkCollision.right||!1===h.checkCollision.left?d=0:(g.touching.none=!1,g.touching.right=!0,h.touching.none=!1,h.touching.left=!0,h.physicsType===b.STATIC_BODY&&!u&&(g.blocked.none=!1,g.blocked.right=!0),g.physicsType===b.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.left=!0)):g._dx<h._dx&&(-(d=g.x-h.width-h.x)>f&&!u||!1===g.checkCollision.left||!1===h.checkCollision.right?d=0:(g.touching.none=!1,g.touching.left=!0,h.touching.none=!1,h.touching.right=!0,h.physicsType===b.STATIC_BODY&&!u&&(g.blocked.none=!1,g.blocked.left=!0),g.physicsType===b.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.right=!0))),g.overlapX=d,h.overlapX=d,d}},45170:(_,k,a)=>{var b=a(37747);_.exports=function(g,h,u,l){var d=0,f=g.deltaAbsY()+h.deltaAbsY()+l;return 0===g._dy&&0===h._dy?(g.embedded=!0,h.embedded=!0):g._dy>h._dy?(d=g.bottom-h.y)>f&&!u||!1===g.checkCollision.down||!1===h.checkCollision.up?d=0:(g.touching.none=!1,g.touching.down=!0,h.touching.none=!1,h.touching.up=!0,h.physicsType===b.STATIC_BODY&&!u&&(g.blocked.none=!1,g.blocked.down=!0),g.physicsType===b.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.up=!0)):g._dy<h._dy&&(-(d=g.y-h.bottom)>f&&!u||!1===g.checkCollision.up||!1===h.checkCollision.down?d=0:(g.touching.none=!1,g.touching.up=!0,h.touching.none=!1,h.touching.down=!0,h.physicsType===b.STATIC_BODY&&!u&&(g.blocked.none=!1,g.blocked.up=!0),g.physicsType===b.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.down=!0))),g.overlapY=d,h.overlapY=d,d}},60758:(_,k,a)=>{var b=a(13759),T=a(83419),g=a(78389),h=a(37747),u=a(95540),l=a(26479),d=a(41212),f=new T({Extends:l,Mixins:[g],initialize:function(m,v,x,y){if(x||y)if(d(x))y=x,x=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(x)&&d(x[0])){var w=this;x.forEach(function(E){E.internalCreateCallback=w.createCallbackHandler,E.internalRemoveCallback=w.removeCallbackHandler,E.classType=u(E,"classType",b)}),y=null}else y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=m,y&&(y.classType=u(y,"classType",b)),this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:u(y,"collideWorldBounds",!1),setBoundsRectangle:u(y,"customBoundsRectangle",null),setAccelerationX:u(y,"accelerationX",0),setAccelerationY:u(y,"accelerationY",0),setAllowDrag:u(y,"allowDrag",!0),setAllowGravity:u(y,"allowGravity",!0),setAllowRotation:u(y,"allowRotation",!0),setDamping:u(y,"useDamping",!1),setBounceX:u(y,"bounceX",0),setBounceY:u(y,"bounceY",0),setDragX:u(y,"dragX",0),setDragY:u(y,"dragY",0),setEnable:u(y,"enable",!0),setGravityX:u(y,"gravityX",0),setGravityY:u(y,"gravityY",0),setFrictionX:u(y,"frictionX",0),setFrictionY:u(y,"frictionY",0),setMaxSpeed:u(y,"maxSpeed",-1),setMaxVelocityX:u(y,"maxVelocityX",1e4),setMaxVelocityY:u(y,"maxVelocityY",1e4),setVelocityX:u(y,"velocityX",0),setVelocityY:u(y,"velocityY",0),setAngularVelocity:u(y,"angularVelocity",0),setAngularAcceleration:u(y,"angularAcceleration",0),setAngularDrag:u(y,"angularDrag",0),setMass:u(y,"mass",1),setImmovable:u(y,"immovable",!1)},l.call(this,v,x,y),this.type="PhysicsGroup"},createCallbackHandler:function(c){c.body||this.world.enableBody(c,h.DYNAMIC_BODY);var m=c.body;for(var v in this.defaults)m[v](this.defaults[v])},removeCallbackHandler:function(c){c.body&&this.world.disableBody(c)},setVelocity:function(c,m,v){void 0===v&&(v=0);for(var x=this.getChildren(),y=0;y<x.length;y++)x[y].body.velocity.set(c+y*v,m+y*v);return this},setVelocityX:function(c,m){void 0===m&&(m=0);for(var v=this.getChildren(),x=0;x<v.length;x++)v[x].body.velocity.x=c+x*m;return this},setVelocityY:function(c,m){void 0===m&&(m=0);for(var v=this.getChildren(),x=0;x<v.length;x++)v[x].body.velocity.y=c+x*m;return this}});_.exports=f},3017:_=>{var k,a,b,T,g,h,u,l,d,f,c,m,v,x,y,w,E,A=function(){return f&&y&&a.blocked.right?(k.processX(-E,u,!1,!0),1):d&&w&&a.blocked.left?(k.processX(E,u,!0),1):v&&w&&k.blocked.right?(a.processX(-E,l,!1,!0),2):m&&y&&k.blocked.left?(a.processX(E,l,!0),2):0},M=function(N){if(b&&T)E*=.5,0===N||3===N?(k.processX(E,g),a.processX(-E,h)):(k.processX(-E,g),a.processX(E,h));else if(b&&!T)0===N||3===N?k.processX(E,u,!0):k.processX(-E,u,!1,!0);else if(!b&&T)0===N||3===N?a.processX(-E,l,!1,!0):a.processX(E,l,!0);else{var L=.5*E;0===N?x?(k.processX(E,0,!0),a.processX(0,null,!1,!0)):v?(k.processX(L,0,!0),a.processX(-L,0,!1,!0)):(k.processX(L,a.velocity.x,!0),a.processX(-L,null,!1,!0)):1===N?c?(k.processX(0,null,!1,!0),a.processX(E,0,!0)):f?(k.processX(-L,0,!1,!0),a.processX(L,0,!0)):(k.processX(-L,null,!1,!0),a.processX(L,k.velocity.x,!0)):2===N?x?(k.processX(-E,0,!1,!0),a.processX(0,null,!0)):m?(k.processX(-L,0,!1,!0),a.processX(L,0,!0)):(k.processX(-L,a.velocity.x,!1,!0),a.processX(L,null,!0)):3===N&&(c?(k.processX(0,null,!0),a.processX(-E,0,!1,!0)):d?(k.processX(L,0,!0),a.processX(-L,0,!1,!0)):(k.processX(L,a.velocity.y,!0),a.processX(-L,null,!1,!0)))}return!0};_.exports={BlockCheck:A,Check:function(){var N=k.velocity.x,L=a.velocity.x,G=Math.sqrt(L*L*a.mass/k.mass)*(L>0?1:-1),j=Math.sqrt(N*N*k.mass/a.mass)*(N>0?1:-1),z=.5*(G+j);return g=z+(G-=z)*k.bounce.x,h=z+(j-=z)*a.bounce.x,d&&w?M(0):m&&y?M(1):f&&y?M(2):!(!v||!w)&&M(3)},Set:function(N,L,G){var j=(k=N).velocity.x,z=(a=L).velocity.x;return b=k.pushable,d=k._dx<0,f=k._dx>0,c=0===k._dx,y=Math.abs(k.right-a.x)<=Math.abs(a.right-k.x),u=z-j*k.bounce.x,T=a.pushable,m=a._dx<0,v=a._dx>0,x=0===a._dx,w=!y,l=j-z*a.bounce.x,E=Math.abs(G),A()},Run:M,RunImmovableBody1:function(N){1===N?a.velocity.x=0:y?a.processX(E,l,!0):a.processX(-E,l,!1,!0),k.moves&&(a.y+=(k.directControl?k.y-k.autoFrame.y:k.y-k.prev.y)*k.friction.y,a._dy=a.y-a.prev.y)},RunImmovableBody2:function(N){2===N?k.velocity.x=0:w?k.processX(E,u,!0):k.processX(-E,u,!1,!0),a.moves&&(k.y+=(a.directControl?a.y-a.autoFrame.y:a.y-a.prev.y)*a.friction.y,k._dy=k.y-k.prev.y)}}},47962:_=>{var k,a,b,T,g,h,u,l,d,f,c,m,v,x,y,w,E,A=function(){return f&&y&&a.blocked.down?(k.processY(-E,u,!1,!0),1):d&&w&&a.blocked.up?(k.processY(E,u,!0),1):v&&w&&k.blocked.down?(a.processY(-E,l,!1,!0),2):m&&y&&k.blocked.up?(a.processY(E,l,!0),2):0},M=function(N){if(b&&T)E*=.5,0===N||3===N?(k.processY(E,g),a.processY(-E,h)):(k.processY(-E,g),a.processY(E,h));else if(b&&!T)0===N||3===N?k.processY(E,u,!0):k.processY(-E,u,!1,!0);else if(!b&&T)0===N||3===N?a.processY(-E,l,!1,!0):a.processY(E,l,!0);else{var L=.5*E;0===N?x?(k.processY(E,0,!0),a.processY(0,null,!1,!0)):v?(k.processY(L,0,!0),a.processY(-L,0,!1,!0)):(k.processY(L,a.velocity.y,!0),a.processY(-L,null,!1,!0)):1===N?c?(k.processY(0,null,!1,!0),a.processY(E,0,!0)):f?(k.processY(-L,0,!1,!0),a.processY(L,0,!0)):(k.processY(-L,null,!1,!0),a.processY(L,k.velocity.y,!0)):2===N?x?(k.processY(-E,0,!1,!0),a.processY(0,null,!0)):m?(k.processY(-L,0,!1,!0),a.processY(L,0,!0)):(k.processY(-L,a.velocity.y,!1,!0),a.processY(L,null,!0)):3===N&&(c?(k.processY(0,null,!0),a.processY(-E,0,!1,!0)):d?(k.processY(L,0,!0),a.processY(-L,0,!1,!0)):(k.processY(L,a.velocity.y,!0),a.processY(-L,null,!1,!0)))}return!0};_.exports={BlockCheck:A,Check:function(){var N=k.velocity.y,L=a.velocity.y,G=Math.sqrt(L*L*a.mass/k.mass)*(L>0?1:-1),j=Math.sqrt(N*N*k.mass/a.mass)*(N>0?1:-1),z=.5*(G+j);return g=z+(G-=z)*k.bounce.y,h=z+(j-=z)*a.bounce.y,d&&w?M(0):m&&y?M(1):f&&y?M(2):!(!v||!w)&&M(3)},Set:function(N,L,G){var j=(k=N).velocity.y,z=(a=L).velocity.y;return b=k.pushable,d=k._dy<0,f=k._dy>0,c=0===k._dy,y=Math.abs(k.bottom-a.y)<=Math.abs(a.bottom-k.y),u=z-j*k.bounce.y,T=a.pushable,m=a._dy<0,v=a._dy>0,x=0===a._dy,w=!y,l=j-z*a.bounce.y,E=Math.abs(G),A()},Run:M,RunImmovableBody1:function(N){1===N?a.velocity.y=0:y?a.processY(E,l,!0):a.processY(-E,l,!1,!0),k.moves&&(a.x+=(k.directControl?k.x-k.autoFrame.x:k.x-k.prev.x)*k.friction.x,a._dx=a.x-a.prev.x)},RunImmovableBody2:function(N){2===N?k.velocity.y=0:w?k.processY(E,u,!0):k.processY(-E,u,!1,!0),a.moves&&(k.x+=(a.directControl?a.x-a.autoFrame.x:a.x-a.prev.x)*a.friction.x,k._dx=k.x-k.prev.x)}}},14087:(_,k,a)=>{var b=a(64897),T=a(3017);_.exports=function(h,u,l,d,f){void 0===f&&(f=b(h,u,l,d));var c=h.immovable,m=u.immovable;if(l||0===f||c&&m||h.customSeparateX||u.customSeparateX)return 0!==f||h.embedded&&u.embedded;var v=T.Set(h,u,f);return c||m?(c?T.RunImmovableBody1(v):m&&T.RunImmovableBody2(v),!0):v>0||T.Check()}},89936:(_,k,a)=>{var b=a(45170),T=a(47962);_.exports=function(h,u,l,d,f){void 0===f&&(f=b(h,u,l,d));var c=h.immovable,m=u.immovable;if(l||0===f||c&&m||h.customSeparateY||u.customSeparateY)return 0!==f||h.embedded&&u.embedded;var v=T.Set(h,u,f);return c||m?(c?T.RunImmovableBody1(v):m&&T.RunImmovableBody2(v),!0):v>0||T.Check()}},95829:_=>{_.exports=function(a,b){return void 0===b&&(b={}),b.none=a,b.up=!1,b.down=!1,b.left=!1,b.right=!1,a||(b.up=!0,b.down=!0,b.left=!0,b.right=!0),b}},72624:(_,k,a)=>{var b=a(87902),T=a(83419),g=a(78389),h=a(37747),u=a(37303),l=a(95829),d=a(26099),f=new T({Mixins:[g],initialize:function(m,v){var x=64,y=64,E=void 0!==v;E&&v.displayWidth&&(x=v.displayWidth,y=v.displayHeight),E||(v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=m,this.gameObject=E?v:void 0,this.isBody=!0,this.debugShowBody=m.defaults.debugShowStaticBody,this.debugBodyColor=m.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(v.x-x*v.originX,v.y-y*v.originY),this.width=x,this.height=y,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=d.ZERO,this.allowGravity=!1,this.gravity=d.ZERO,this.bounce=d.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(c,m){return c&&c!==this.gameObject&&(this.gameObject.body=null,c.body=this,this.gameObject=c),m&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var c=this.gameObject;return c.getTopLeft(this.position),this.width=c.displayWidth,this.height=c.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(c,m){return void 0===m&&(m=c),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(c,m),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(c,m,v){void 0===v&&(v=!0);var x=this.gameObject;if(x&&x.frame&&(c||(c=x.frame.realWidth),m||(m=x.frame.realHeight)),this.world.staticTree.remove(this),this.width=c,this.height=m,this.halfWidth=Math.floor(c/2),this.halfHeight=Math.floor(m/2),v&&x&&x.getCenter){var y=x.displayWidth/2,w=x.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(y-this.halfWidth,w-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(c,m,v){return void 0===m&&(m=this.offset.x),void 0===v&&(v=this.offset.y),c>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=c,this.width=2*c,this.height=2*c,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,v),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(c,m){var v=this.gameObject;void 0===c&&(c=v.x),void 0===m&&(m=v.y),this.world.staticTree.remove(this),v.setPosition(c,m),v.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(c){return c.x=this.x,c.y=this.y,c.right=this.right,c.bottom=this.bottom,c},hitTest:function(c,m){return this.isCircle?b(this,c,m):u(this,c,m)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(c){var m=this.position,v=m.x+this.halfWidth,x=m.y+this.halfHeight;this.debugShowBody&&(c.lineStyle(c.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?c.strokeCircle(v,x,this.width/2):c.strokeRect(m.x,m.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(c){return c<=0&&(c=.1),this.mass=c,this},x:{get:function(){return this.position.x},set:function(c){this.world.staticTree.remove(this),this.position.x=c,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(c){this.world.staticTree.remove(this),this.position.y=c,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});_.exports=f},71464:(_,k,a)=>{var b=a(13759),T=a(83419),g=a(78389),h=a(37747),u=a(95540),l=a(26479),d=a(41212),f=new T({Extends:l,Mixins:[g],initialize:function(m,v,x,y){x||y?d(x)?(y=x,x=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler,y.createMultipleCallback=this.createMultipleCallbackHandler,y.classType=u(y,"classType",b)):Array.isArray(x)&&d(x[0])?(y=x,x=null,y.forEach(function(w){w.internalCreateCallback=this.createCallbackHandler,w.internalRemoveCallback=this.removeCallbackHandler,w.createMultipleCallback=this.createMultipleCallbackHandler,w.classType=u(w,"classType",b)})):y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:b},this.world=m,this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,l.call(this,v,x,y),this.type="StaticPhysicsGroup"},createCallbackHandler:function(c){c.body||this.world.enableBody(c,h.STATIC_BODY)},removeCallbackHandler:function(c){c.body&&this.world.disableBody(c)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var c=this.children.entries,m=0;m<c.length;m++)c[m].body.reset();return this}});_.exports=f},82248:(_,k,a)=>{var b=a(55495),T=a(37742),g=a(45319),h=a(83419),u=a(79342),l=a(37747),d=a(20339),f=a(52816),c=a(50792),m=a(63012),v=a(43855),x=a(5470),y=a(94977),w=a(64897),E=a(45170),S=a(96523),A=a(35154),I=a(36383),M=a(25774),P=a(96602),O=a(87841),N=a(59542),L=a(40012),G=a(14087),j=a(89936),z=a(35072),Y=a(72624),Z=a(2483),rt=a(61340),st=a(26099),K=a(15994),tt=new h({Extends:c,initialize:function(H,it){c.call(this),this.scene=H,this.bodies=new z,this.staticBodies=new z,this.pendingDestroy=new z,this.colliders=new M,this.gravity=new st(A(it,"gravity.x",0),A(it,"gravity.y",0)),this.bounds=new O(A(it,"x",0),A(it,"y",0),A(it,"width",H.sys.scale.width),A(it,"height",H.sys.scale.height)),this.checkCollision={up:A(it,"checkCollision.up",!0),down:A(it,"checkCollision.down",!0),left:A(it,"checkCollision.left",!0),right:A(it,"checkCollision.right",!0)},this.fps=A(it,"fps",60),this.fixedStep=A(it,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=A(it,"timeScale",1),this.OVERLAP_BIAS=A(it,"overlapBias",4),this.TILE_BIAS=A(it,"tileBias",16),this.forceX=A(it,"forceX",!1),this.isPaused=A(it,"isPaused",!1),this._total=0,this.drawDebug=A(it,"debug",!1),this.defaults={debugShowBody:A(it,"debugShowBody",!0),debugShowStaticBody:A(it,"debugShowStaticBody",!0),debugShowVelocity:A(it,"debugShowVelocity",!0),bodyDebugColor:A(it,"debugBodyColor",16711935),staticBodyDebugColor:A(it,"debugStaticBodyColor",255),velocityDebugColor:A(it,"debugVelocityColor",65280)},this.maxEntries=A(it,"maxEntries",16),this.useTree=A(it,"useTree",!0),this.tree=new N(this.maxEntries),this.staticTree=new N(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new rt,this._tempMatrix2=new rt,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(W,H){void 0===H&&(H=l.DYNAMIC_BODY),Array.isArray(W)||(W=[W]);for(var it=0;it<W.length;it++){var dt=W[it];if(dt.isParent)for(var mt=dt.getChildren(),vt=0;vt<mt.length;vt++){var Tt=mt[vt];Tt.isParent?this.enable(Tt,H):this.enableBody(Tt,H)}else this.enableBody(dt,H)}},enableBody:function(W,H){return void 0===H&&(H=l.DYNAMIC_BODY),W.hasTransformComponent&&(W.body||(H===l.DYNAMIC_BODY?W.body=new T(this,W):H===l.STATIC_BODY&&(W.body=new Y(this,W))),this.add(W.body)),W},add:function(W){return W.physicsType===l.DYNAMIC_BODY?this.bodies.set(W):W.physicsType===l.STATIC_BODY&&(this.staticBodies.set(W),this.staticTree.insert(W)),W.enable=!0,W},disable:function(W){Array.isArray(W)||(W=[W]);for(var H=0;H<W.length;H++){var it=W[H];if(it.isParent)for(var dt=it.getChildren(),mt=0;mt<dt.length;mt++){var vt=dt[mt];vt.isParent?this.disable(vt):this.disableBody(vt.body)}else this.disableBody(it.body)}},disableBody:function(W){this.remove(W),W.enable=!1},remove:function(W){W.physicsType===l.DYNAMIC_BODY?(this.tree.remove(W),this.bodies.delete(W)):W.physicsType===l.STATIC_BODY&&(this.staticBodies.delete(W),this.staticTree.remove(W))},createDebugGraphic:function(){var W=this.scene.sys.add.graphics({x:0,y:0});return W.setDepth(Number.MAX_VALUE),this.debugGraphic=W,this.drawDebug=!0,W},setBounds:function(W,H,it,dt,mt,vt,Tt,Nt){return this.bounds.setTo(W,H,it,dt),void 0!==mt&&this.setBoundsCollision(mt,vt,Tt,Nt),this},setBoundsCollision:function(W,H,it,dt){return void 0===W&&(W=!0),void 0===H&&(H=!0),void 0===it&&(it=!0),void 0===dt&&(dt=!0),this.checkCollision.left=W,this.checkCollision.right=H,this.checkCollision.up=it,this.checkCollision.down=dt,this},pause:function(){return this.isPaused=!0,this.emit(m.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(m.RESUME),this},addCollider:function(W,H,it,dt,mt){void 0===it&&(it=null),void 0===dt&&(dt=null),void 0===mt&&(mt=it);var vt=new u(this,!1,W,H,it,dt,mt);return this.colliders.add(vt),vt},addOverlap:function(W,H,it,dt,mt){void 0===it&&(it=null),void 0===dt&&(dt=null),void 0===mt&&(mt=it);var vt=new u(this,!0,W,H,it,dt,mt);return this.colliders.add(vt),vt},removeCollider:function(W){return this.colliders.remove(W),this},setFPS:function(W){return this.fps=W,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(W,H){if(!this.isPaused&&0!==this.bodies.size){var it,dt=this._frameTime,mt=this._frameTimeMS*this.timeScale;this._elapsed+=H;var vt,Tt=this.bodies.entries,Nt=this._elapsed>=mt;for(this.fixedStep||(dt=.001*H,Nt=!0,this._elapsed=0),it=0;it<Tt.length;it++)(vt=Tt[it]).enable&&vt.preUpdate(Nt,dt);if(Nt){this._elapsed-=mt,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Tt));var Yt=this.colliders.update();for(it=0;it<Yt.length;it++){var $t=Yt[it];$t.active&&$t.update()}this.emit(m.WORLD_STEP,dt)}for(;this._elapsed>=mt;)this._elapsed-=mt,this.step(dt)}},step:function(W){var H,it,dt=this.bodies.entries,mt=dt.length;for(H=0;H<mt;H++)(it=dt[H]).enable&&it.update(W);this.useTree&&(this.tree.clear(),this.tree.load(dt));var vt=this.colliders.update();for(H=0;H<vt.length;H++){var Tt=vt[H];Tt.active&&Tt.update()}this.emit(m.WORLD_STEP,W),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var W,H,it=this.bodies.entries,dt=it.length,mt=this.bodies,vt=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,W=0;W<dt;W++)(H=it[W]).enable&&H.postUpdate();if(this.drawDebug){var Tt=this.debugGraphic;for(Tt.clear(),W=0;W<dt;W++)(H=it[W]).willDrawDebug()&&H.drawDebug(Tt);for(dt=(it=vt.entries).length,W=0;W<dt;W++)(H=it[W]).willDrawDebug()&&H.drawDebug(Tt)}var Nt=this.pendingDestroy;if(Nt.size>0){var Yt=this.tree,$t=this.staticTree;for(dt=(it=Nt.entries).length,W=0;W<dt;W++)(H=it[W]).physicsType===l.DYNAMIC_BODY?(Yt.remove(H),mt.delete(H)):H.physicsType===l.STATIC_BODY&&($t.remove(H),vt.delete(H)),H.world=void 0,H.gameObject=void 0;Nt.clear()}},updateMotion:function(W,H){W.allowRotation&&this.computeAngularVelocity(W,H),this.computeVelocity(W,H)},computeAngularVelocity:function(W,H){var it=W.angularVelocity,dt=W.angularAcceleration,mt=W.angularDrag,vt=W.maxAngular;dt?it+=dt*H:W.allowDrag&&mt&&(x(it-(mt*=H),0,.1)?it-=mt:y(it+mt,0,.1)?it+=mt:it=0),it=g(it,-vt,vt),W.angularVelocity+=it-W.angularVelocity,W.rotation+=W.angularVelocity*H},computeVelocity:function(W,H){var it=W.velocity.x,dt=W.acceleration.x,mt=W.drag.x,vt=W.maxVelocity.x,Tt=W.velocity.y,Nt=W.acceleration.y,Yt=W.drag.y,$t=W.maxVelocity.y,Zt=W.speed,ee=W.maxSpeed,le=W.allowDrag,De=W.useDamping;W.allowGravity&&(it+=(this.gravity.x+W.gravity.x)*H,Tt+=(this.gravity.y+W.gravity.y)*H),dt?it+=dt*H:le&&mt&&(De?(it*=mt=Math.pow(mt,H),Zt=Math.sqrt(it*it+Tt*Tt),v(Zt,0,.001)&&(it=0)):x(it-(mt*=H),0,.01)?it-=mt:y(it+mt,0,.01)?it+=mt:it=0),Nt?Tt+=Nt*H:le&&Yt&&(De?(Tt*=Yt=Math.pow(Yt,H),Zt=Math.sqrt(it*it+Tt*Tt),v(Zt,0,.001)&&(Tt=0)):x(Tt-(Yt*=H),0,.01)?Tt-=Yt:y(Tt+Yt,0,.01)?Tt+=Yt:Tt=0),it=g(it,-vt,vt),Tt=g(Tt,-$t,$t),W.velocity.set(it,Tt),ee>-1&&W.velocity.length()>ee&&(W.velocity.normalize().scale(ee),Zt=ee),W.speed=Zt},separate:function(W,H,it,dt,mt){var vt,Tt,Nt=!1,Yt=!0;if(!W.enable||!H.enable||W.checkCollision.none||H.checkCollision.none||!this.intersects(W,H)||it&&!1===it.call(dt,W.gameObject||W,H.gameObject||H))return Nt;if(W.isCircle||H.isCircle){var $t=this.separateCircle(W,H,mt);$t.result?(Nt=!0,Yt=!1):(vt=$t.x,Tt=$t.y,Yt=!0)}if(Yt){var Zt=!1,ee=!1,le=this.OVERLAP_BIAS;mt?(Zt=G(W,H,mt,le,vt),ee=j(W,H,mt,le,Tt)):this.forceX||Math.abs(this.gravity.y+W.gravity.y)<Math.abs(this.gravity.x+W.gravity.x)?(Zt=G(W,H,mt,le,vt),this.intersects(W,H)&&(ee=j(W,H,mt,le,Tt))):(ee=j(W,H,mt,le,Tt),this.intersects(W,H)&&(Zt=G(W,H,mt,le,vt))),Nt=Zt||ee}return Nt&&(mt?(W.onOverlap||H.onOverlap)&&this.emit(m.OVERLAP,W.gameObject,H.gameObject,W,H):(W.onCollide||H.onCollide)&&this.emit(m.COLLIDE,W.gameObject,H.gameObject,W,H)),Nt},separateCircle:function(W,H,it){w(W,H,!1,0),E(W,H,!1,0);var mt=H.isCircle,vt=W.center,Tt=H.center,Nt=W.immovable,Yt=H.immovable,$t=W.velocity,Zt=H.velocity,ee=0,le=!0;if(W.isCircle!==mt){le=!1;var De=vt.x,gi=vt.y,Me=W.halfWidth,Ti=H.position.x,xe=H.position.y,ni=H.right,Qe=H.bottom;mt&&(De=Tt.x,gi=Tt.y,Me=H.halfWidth,Ti=W.position.x,xe=W.position.y,ni=W.right,Qe=W.bottom),gi<xe?De<Ti?ee=d(De,gi,Ti,xe)-Me:De>ni&&(ee=d(De,gi,ni,xe)-Me):gi>Qe&&(De<Ti?ee=d(De,gi,Ti,Qe)-Me:De>ni&&(ee=d(De,gi,ni,Qe)-Me)),ee*=-1}else ee=W.halfWidth+H.halfWidth-f(vt,Tt);W.overlapR=ee,H.overlapR=ee;var zi=b(vt,Tt),_n=(ee+I.EPSILON)*Math.cos(zi),er=(ee+I.EPSILON)*Math.sin(zi),vn={overlap:ee,result:!1,x:_n,y:er};if(it&&(!le||le&&0!==ee))return vn.result=!0,vn;if(!le&&0===ee||Nt&&Yt||W.customSeparateX||H.customSeparateX)return vn.x=void 0,vn.y=void 0,vn;var wn=!W.pushable&&!H.pushable;if(le){var ts=vt.y-Tt.y,An=Math.sqrt(Math.pow(vt.x-Tt.x,2)+Math.pow(ts,2)),mr=(Tt.x-vt.x)/An||0,jr=(Tt.y-vt.y)/An||0,Rs=2*($t.x*mr+$t.y*jr-Zt.x*mr-Zt.y*jr)/(W.mass+H.mass);(Nt||Yt||!W.pushable||!H.pushable)&&(Rs*=2),!Nt&&W.pushable&&($t.x=$t.x-Rs/W.mass*mr,$t.y=$t.y-Rs/W.mass*jr,$t.multiply(W.bounce)),!Yt&&H.pushable&&(Zt.x=Zt.x+Rs/H.mass*mr,Zt.y=Zt.y+Rs/H.mass*jr,Zt.multiply(H.bounce)),!Nt&&!Yt&&(_n*=.5,er*=.5),!Nt||W.pushable||wn?(W.x-=_n,W.y-=er,W.updateCenter()):(!Yt||H.pushable||wn)&&(H.x+=_n,H.y+=er,H.updateCenter()),vn.result=!0}else!Nt||W.pushable||wn?(W.x-=_n,W.y-=er,W.updateCenter()):(!Yt||H.pushable||wn)&&(H.x+=_n,H.y+=er,H.updateCenter()),vn.x=void 0,vn.y=void 0;return vn},intersects:function(W,H){return W!==H&&(W.isCircle||H.isCircle?W.isCircle?H.isCircle?f(W.center,H.center)<=W.halfWidth+H.halfWidth:this.circleBodyIntersects(W,H):this.circleBodyIntersects(H,W):!(W.right<=H.left||W.bottom<=H.top||W.left>=H.right||W.top>=H.bottom))},circleBodyIntersects:function(W,H){var it=g(W.center.x,H.left,H.right),dt=g(W.center.y,H.top,H.bottom);return(W.center.x-it)*(W.center.x-it)+(W.center.y-dt)*(W.center.y-dt)<=W.halfWidth*W.halfWidth},overlap:function(W,H,it,dt,mt){return void 0===it&&(it=null),void 0===dt&&(dt=null),void 0===mt&&(mt=it),this.collideObjects(W,H,it,dt,mt,!0)},collide:function(W,H,it,dt,mt){return void 0===it&&(it=null),void 0===dt&&(dt=null),void 0===mt&&(mt=it),this.collideObjects(W,H,it,dt,mt,!1)},collideObjects:function(W,H,it,dt,mt,vt){var Tt,Nt;W.isParent&&(void 0===W.physicsType||void 0===H||W===H)&&(W=W.children.entries),H&&H.isParent&&void 0===H.physicsType&&(H=H.children.entries);var Yt=Array.isArray(W),$t=Array.isArray(H);if(this._total=0,Yt||$t)if(!Yt&&$t)for(Tt=0;Tt<H.length;Tt++)this.collideHandler(W,H[Tt],it,dt,mt,vt);else if(Yt&&!$t)if(H)for(Tt=0;Tt<W.length;Tt++)this.collideHandler(W[Tt],H,it,dt,mt,vt);else for(Tt=0;Tt<W.length;Tt++){var Zt=W[Tt];for(Nt=Tt+1;Nt<W.length;Nt++)Tt!==Nt&&this.collideHandler(Zt,W[Nt],it,dt,mt,vt)}else for(Tt=0;Tt<W.length;Tt++)for(Nt=0;Nt<H.length;Nt++)this.collideHandler(W[Tt],H[Nt],it,dt,mt,vt);else this.collideHandler(W,H,it,dt,mt,vt);return this._total>0},collideHandler:function(W,H,it,dt,mt,vt){if(void 0===H&&W.isParent)return this.collideGroupVsGroup(W,W,it,dt,mt,vt);if(!W||!H)return!1;if(W.body||W.isBody){if(H.body||H.isBody)return this.collideSpriteVsSprite(W,H,it,dt,mt,vt);if(H.isParent)return this.collideSpriteVsGroup(W,H,it,dt,mt,vt);if(H.isTilemap)return this.collideSpriteVsTilemapLayer(W,H,it,dt,mt,vt)}else if(W.isParent){if(H.body||H.isBody)return this.collideSpriteVsGroup(H,W,it,dt,mt,vt);if(H.isParent)return this.collideGroupVsGroup(W,H,it,dt,mt,vt);if(H.isTilemap)return this.collideGroupVsTilemapLayer(W,H,it,dt,mt,vt)}else if(W.isTilemap){if(H.body||H.isBody)return this.collideSpriteVsTilemapLayer(H,W,it,dt,mt,vt);if(H.isParent)return this.collideGroupVsTilemapLayer(H,W,it,dt,mt,vt)}},canCollide:function(W,H){return W&&H&&!!(W.collisionMask&H.collisionCategory)&&!!(H.collisionMask&W.collisionCategory)},collideSpriteVsSprite:function(W,H,it,dt,mt,vt){var Tt=W.isBody?W:W.body,Nt=H.isBody?H:H.body;return!!this.canCollide(Tt,Nt)&&(this.separate(Tt,Nt,dt,mt,vt)&&(it&&it.call(mt,W,H),this._total++),!0)},collideSpriteVsGroup:function(W,H,it,dt,mt,vt){var Nt,Yt,$t,Tt=W.isBody?W:W.body;if(0!==H.getLength()&&Tt&&Tt.enable&&!Tt.checkCollision.none&&this.canCollide(Tt,H))if(this.useTree||H.physicsType===l.STATIC_BODY){var Zt=this.treeMinMax;Zt.minX=Tt.left,Zt.minY=Tt.top,Zt.maxX=Tt.right,Zt.maxY=Tt.bottom;var ee=H.physicsType===l.DYNAMIC_BODY?this.tree.search(Zt):this.staticTree.search(Zt);for(Yt=ee.length,Nt=0;Nt<Yt;Nt++)Tt!==($t=ee[Nt])&&$t.enable&&!$t.checkCollision.none&&H.contains($t.gameObject)&&this.separate(Tt,$t,dt,mt,vt)&&(it&&it.call(mt,Tt.gameObject,$t.gameObject),this._total++)}else{var le=H.getChildren(),De=H.children.entries.indexOf(W);for(Yt=le.length,Nt=0;Nt<Yt;Nt++)($t=le[Nt].body)&&Nt!==De&&$t.enable&&this.separate(Tt,$t,dt,mt,vt)&&(it&&it.call(mt,Tt.gameObject,$t.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(W,H,it,dt,mt,vt){if(!this.canCollide(W,H))return!1;var Tt=W.getChildren();if(0===Tt.length)return!1;for(var Nt=!1,Yt=0;Yt<Tt.length;Yt++)(Tt[Yt].body||Tt[Yt].isBody)&&this.collideSpriteVsTilemapLayer(Tt[Yt],H,it,dt,mt,vt)&&(Nt=!0);return Nt},collideTiles:function(W,H,it,dt,mt){return!(0===H.length||W.body&&!W.body.enable||W.isBody&&!W.enable)&&this.collideSpriteVsTilesHandler(W,H,it,dt,mt,!1,!1)},overlapTiles:function(W,H,it,dt,mt){return!(0===H.length||W.body&&!W.body.enable||W.isBody&&!W.enable)&&this.collideSpriteVsTilesHandler(W,H,it,dt,mt,!0,!1)},collideSpriteVsTilemapLayer:function(W,H,it,dt,mt,vt){var Tt=W.isBody?W:W.body;if(!Tt.enable||Tt.checkCollision.none||!this.canCollide(Tt,H))return!1;var Nt=H.layer,De=S(Tt.x-Nt.tileWidth*H.scaleX,Tt.y-Nt.tileHeight*H.scaleY,Tt.width+Nt.tileWidth*H.scaleX,Tt.height+Nt.tileHeight*H.scaleY,vt?null:this.tileFilterOptions,H.scene.cameras.main,H.layer);return 0!==De.length&&this.collideSpriteVsTilesHandler(W,De,it,dt,mt,vt,!0)},collideSpriteVsTilesHandler:function(W,H,it,dt,mt,vt,Tt){for(var Yt,Zt,Nt=W.isBody?W:W.body,$t={left:0,right:0,top:0,bottom:0},ee=!1,le=0;le<H.length;le++){var De=(Zt=(Yt=H[le]).tilemapLayer).tileToWorldXY(Yt.x,Yt.y);$t.left=De.x,$t.top=De.y,$t.right=$t.left+Yt.width*Zt.scaleX,$t.bottom=$t.top+Yt.height*Zt.scaleY,Z($t,Nt)&&(!dt||dt.call(mt,W,Yt))&&P(Yt,W)&&(vt||L(le,Nt,Yt,$t,Zt,this.TILE_BIAS,Tt))&&(this._total++,ee=!0,it&&it.call(mt,W,Yt),vt&&Nt.onOverlap?this.emit(m.TILE_OVERLAP,W,Yt,Nt):Nt.onCollide&&this.emit(m.TILE_COLLIDE,W,Yt,Nt))}return ee},collideGroupVsGroup:function(W,H,it,dt,mt,vt){if(0!==W.getLength()&&0!==H.getLength()&&this.canCollide(W,H))for(var Tt=W.getChildren(),Nt=0;Nt<Tt.length;Nt++)this.collideSpriteVsGroup(Tt[Nt],H,it,dt,mt,vt)},wrap:function(W,H){W.body?this.wrapObject(W,H):W.getChildren?this.wrapArray(W.getChildren(),H):Array.isArray(W)?this.wrapArray(W,H):this.wrapObject(W,H)},wrapArray:function(W,H){for(var it=0;it<W.length;it++)this.wrapObject(W[it],H)},wrapObject:function(W,H){void 0===H&&(H=0),W.x=K(W.x,this.bounds.left-H,this.bounds.right+H),W.y=K(W.y,this.bounds.top-H,this.bounds.bottom+H)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});_.exports=tt},1093:_=>{_.exports={setAcceleration:function(a,b){return this.body.acceleration.set(a,b),this},setAccelerationX:function(a){return this.body.acceleration.x=a,this},setAccelerationY:function(a){return this.body.acceleration.y=a,this}}},59023:_=>{_.exports={setAngularVelocity:function(a){return this.body.angularVelocity=a,this},setAngularAcceleration:function(a){return this.body.angularAcceleration=a,this},setAngularDrag:function(a){return this.body.angularDrag=a,this}}},62069:_=>{_.exports={setBounce:function(a,b){return this.body.bounce.set(a,b),this},setBounceX:function(a){return this.body.bounce.x=a,this},setBounceY:function(a){return this.body.bounce.y=a,this},setCollideWorldBounds:function(a,b,T,g){return this.body.setCollideWorldBounds(a,b,T,g),this}}},78389:(_,k,a)=>{var b=a(79599);_.exports={setCollisionCategory:function(g){return(this.body?this.body:this).collisionCategory=g,this},willCollideWith:function(g){return!!((this.body?this.body:this).collisionMask&g)},addCollidesWith:function(g){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask|g,this},removeCollidesWith:function(g){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask&~g,this},setCollidesWith:function(g){return(this.body?this.body:this).collisionMask=b(g),this},resetCollisionCategory:function(){var g=this.body?this.body:this;return g.collisionCategory=1,g.collisionMask=2147483647,this}}},87118:_=>{_.exports={setDebug:function(a,b,T){return this.debugShowBody=a,this.debugShowVelocity=b,this.debugBodyColor=T,this},setDebugBodyColor:function(a){return this.body.debugBodyColor=a,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(a){this.body.debugShowBody=a}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(a){this.body.debugShowVelocity=a}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(a){this.body.debugBodyColor=a}}}},52819:_=>{_.exports={setDrag:function(a,b){return this.body.drag.set(a,b),this},setDragX:function(a){return this.body.drag.x=a,this},setDragY:function(a){return this.body.drag.y=a,this},setDamping:function(a){return this.body.useDamping=a,this}}},4074:_=>{_.exports={setDirectControl:function(a){return this.body.setDirectControl(a),this},enableBody:function(a,b,T,g,h){return a&&this.body.reset(b,T),g&&(this.body.gameObject.active=!0),h&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(a,b){return void 0===a&&(a=!1),void 0===b&&(b=!1),this.body.stop(),this.body.enable=!1,a&&(this.body.gameObject.active=!1),b&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},40831:_=>{_.exports={setFriction:function(a,b){return this.body.friction.set(a,b),this},setFrictionX:function(a){return this.body.friction.x=a,this},setFrictionY:function(a){return this.body.friction.y=a,this}}},26775:_=>{_.exports={setGravity:function(a,b){return this.body.gravity.set(a,b),this},setGravityX:function(a){return this.body.gravity.x=a,this},setGravityY:function(a){return this.body.gravity.y=a,this}}},9437:_=>{_.exports={setImmovable:function(a){return void 0===a&&(a=!0),this.body.immovable=a,this}}},30621:_=>{_.exports={setMass:function(a){return this.body.mass=a,this}}},72441:(_,k,a)=>{var b=a(47956),T=a(96503),g=a(2044),h=a(81491);_.exports=function(l,d,f,c,m,v){var x=b(l,d-c,f-c,2*c,2*c,m,v);if(0===x.length)return x;for(var y=new T(d,f,c),w=new T,E=[],S=0;S<x.length;S++){var A=x[S];A.isCircle?(w.setTo(A.center.x,A.center.y,A.halfWidth),g(y,w)&&E.push(A)):h(y,A)&&E.push(A)}return E}},47956:_=>{_.exports=function(a,b,T,g,h,u,l){void 0===u&&(u=!0),void 0===l&&(l=!1);var d=[],f=[],c=a.treeMinMax;if(c.minX=b,c.minY=T,c.maxX=b+g,c.maxY=T+h,l&&(f=a.staticTree.search(c)),u&&a.useTree)d=a.tree.search(c);else if(u){var v={position:{x:b,y:T},left:b,top:T,right:b+g,bottom:T+h,isCircle:!1},x=a.intersects;a.bodies.iterate(function(y){x(y,v)&&d.push(y)})}return f.concat(d)}},62121:_=>{_.exports={setPushable:function(a){return void 0===a&&(a=!0),this.body.pushable=a,this}}},29384:_=>{_.exports={setOffset:function(a,b){return this.body.setOffset(a,b),this},setSize:function(a,b,T){return this.body.setSize(a,b,T),this},setBodySize:function(a,b,T){return this.body.setSize(a,b,T),this},setCircle:function(a,b,T){return this.body.setCircle(a,b,T),this}}},15098:_=>{_.exports={setVelocity:function(a,b){return this.body.setVelocity(a,b),this},setVelocityX:function(a){return this.body.setVelocityX(a),this},setVelocityY:function(a){return this.body.setVelocityY(a),this},setMaxVelocity:function(a,b){return this.body.maxVelocity.set(a,b),this}}},92209:(_,k,a)=>{_.exports={Acceleration:a(1093),Angular:a(59023),Bounce:a(62069),Collision:a(78389),Debug:a(87118),Drag:a(52819),Enable:a(4074),Friction:a(40831),Gravity:a(26775),Immovable:a(9437),Mass:a(30621),OverlapCirc:a(72441),OverlapRect:a(47956),Pushable:a(62121),Size:a(29384),Velocity:a(15098)}},37747:_=>{_.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},20009:_=>{_.exports="collide"},36768:_=>{_.exports="overlap"},60473:_=>{_.exports="pause"},89954:_=>{_.exports="resume"},61804:_=>{_.exports="tilecollide"},7161:_=>{_.exports="tileoverlap"},34689:_=>{_.exports="worldbounds"},16006:_=>{_.exports="worldstep"},63012:(_,k,a)=>{_.exports={COLLIDE:a(20009),OVERLAP:a(36768),PAUSE:a(60473),RESUME:a(89954),TILE_COLLIDE:a(61804),TILE_OVERLAP:a(7161),WORLD_BOUNDS:a(34689),WORLD_STEP:a(16006)}},27064:(_,k,a)=>{var b=a(37747),T=a(79291),g={ArcadePhysics:a(86689),Body:a(37742),Collider:a(79342),Components:a(92209),Events:a(63012),Factory:a(66022),GetCollidesWith:a(79599),GetOverlapX:a(64897),GetOverlapY:a(45170),SeparateX:a(14087),SeparateY:a(89936),Group:a(60758),Image:a(71289),Sprite:a(13759),StaticBody:a(72624),StaticGroup:a(71464),Tilemap:a(55173),World:a(82248)};g=T(!1,g,b),_.exports=g},96602:_=>{_.exports=function(a,b){return a.collisionCallback?!a.collisionCallback.call(a.collisionCallbackContext,b,a):!a.layer.callbacks[a.index]||!a.layer.callbacks[a.index].callback.call(a.layer.callbacks[a.index].callbackContext,b,a)}},36294:_=>{_.exports=function(a,b){b<0?(a.blocked.none=!1,a.blocked.left=!0):b>0&&(a.blocked.none=!1,a.blocked.right=!0),a.position.x-=b,a.updateCenter(),a.velocity.x=0===a.bounce.x?0:-a.velocity.x*a.bounce.x}},67013:_=>{_.exports=function(a,b){b<0?(a.blocked.none=!1,a.blocked.up=!0):b>0&&(a.blocked.none=!1,a.blocked.down=!0),a.position.y-=b,a.updateCenter(),a.velocity.y=0===a.bounce.y?0:-a.velocity.y*a.bounce.y}},40012:(_,k,a)=>{var b=a(21329),T=a(53442),g=a(2483);_.exports=function(u,l,d,f,c,m,v){var x=f.left,y=f.top,w=f.right,E=f.bottom,S=d.faceLeft||d.faceRight,A=d.faceTop||d.faceBottom;if(v||(S=!0,A=!0),!S&&!A)return!1;var I=0,M=0,P=0,O=1;if(l.deltaAbsX()>l.deltaAbsY()?P=-1:l.deltaAbsX()<l.deltaAbsY()&&(O=-1),0!==l.deltaX()&&0!==l.deltaY()&&S&&A&&(P=Math.min(Math.abs(l.position.x-w),Math.abs(l.right-x)),O=Math.min(Math.abs(l.position.y-E),Math.abs(l.bottom-y))),P<O){if(S&&0!==(I=b(l,d,x,w,m,v))&&!g(f,l))return!0;A&&(M=T(l,d,y,E,m,v))}else{if(A&&0!==(M=T(l,d,y,E,m,v))&&!g(f,l))return!0;S&&(I=b(l,d,x,w,m,v))}return 0!==I||0!==M}},21329:(_,k,a)=>{var b=a(36294);_.exports=function(g,h,u,l,d,f){var c=0,m=h.faceLeft,v=h.faceRight,x=h.collideLeft,y=h.collideRight;return f||(m=!0,v=!0,x=!0,y=!0),g.deltaX()<0&&y&&g.checkCollision.left?v&&g.x<l&&(c=g.x-l)<-d&&(c=0):g.deltaX()>0&&x&&g.checkCollision.right&&m&&g.right>u&&(c=g.right-u)>d&&(c=0),0!==c&&(g.customSeparateX?g.overlapX=c:b(g,c)),c}},53442:(_,k,a)=>{var b=a(67013);_.exports=function(g,h,u,l,d,f){var c=0,m=h.faceTop,v=h.faceBottom,x=h.collideUp,y=h.collideDown;return f||(m=!0,v=!0,x=!0,y=!0),g.deltaY()<0&&y&&g.checkCollision.up?v&&g.y<l&&(c=g.y-l)<-d&&(c=0):g.deltaY()>0&&x&&g.checkCollision.down&&m&&g.bottom>u&&(c=g.bottom-u)>d&&(c=0),0!==c&&(g.customSeparateY?g.overlapY=c:b(g,c)),c}},2483:_=>{_.exports=function(a,b){return!(b.right<=a.left||b.bottom<=a.top||b.position.x>=a.right||b.position.y>=a.bottom)}},55173:(_,k,a)=>{var b={ProcessTileCallbacks:a(96602),ProcessTileSeparationX:a(36294),ProcessTileSeparationY:a(67013),SeparateTile:a(40012),TileCheckX:a(21329),TileCheckY:a(53442),TileIntersectsBody:a(2483)};_.exports=b},44563:(_,k,a)=>{_.exports={Arcade:a(27064),Matter:a(3875)}},68174:(_,k,a)=>{var b=a(83419),T=a(26099),g=new b({initialize:function(){this.boundsCenter=new T,this.centerDiff=new T},parseBody:function(h){if(!(h=h.hasOwnProperty("body")?h.body:h).hasOwnProperty("bounds")||!h.hasOwnProperty("centerOfMass"))return!1;var u=this.boundsCenter,l=this.centerDiff,d=h.bounds.max.x-h.bounds.min.x,f=h.bounds.max.y-h.bounds.min.y,c=d*h.centerOfMass.x,m=f*h.centerOfMass.y;return u.set(d/2,f/2),l.set(c-u.x,m-u.y),!0},getTopLeft:function(h,u,l){if(void 0===u&&(u=0),void 0===l&&(l=0),this.parseBody(h)){var d=this.boundsCenter,f=this.centerDiff;return new T(u+d.x+f.x,l+d.y+f.y)}return!1},getTopCenter:function(h,u,l){if(void 0===u&&(u=0),void 0===l&&(l=0),this.parseBody(h)){var f=this.centerDiff;return new T(u+f.x,l+this.boundsCenter.y+f.y)}return!1},getTopRight:function(h,u,l){if(void 0===u&&(u=0),void 0===l&&(l=0),this.parseBody(h)){var d=this.boundsCenter,f=this.centerDiff;return new T(u-(d.x-f.x),l+d.y+f.y)}return!1},getLeftCenter:function(h,u,l){if(void 0===u&&(u=0),void 0===l&&(l=0),this.parseBody(h)){var f=this.centerDiff;return new T(u+this.boundsCenter.x+f.x,l+f.y)}return!1},getCenter:function(h,u,l){if(void 0===u&&(u=0),void 0===l&&(l=0),this.parseBody(h)){var d=this.centerDiff;return new T(u+d.x,l+d.y)}return!1},getRightCenter:function(h,u,l){if(void 0===u&&(u=0),void 0===l&&(l=0),this.parseBody(h)){var f=this.centerDiff;return new T(u-(this.boundsCenter.x-f.x),l+f.y)}return!1},getBottomLeft:function(h,u,l){if(void 0===u&&(u=0),void 0===l&&(l=0),this.parseBody(h)){var d=this.boundsCenter,f=this.centerDiff;return new T(u+d.x+f.x,l-(d.y-f.y))}return!1},getBottomCenter:function(h,u,l){if(void 0===u&&(u=0),void 0===l&&(l=0),this.parseBody(h)){var f=this.centerDiff;return new T(u+f.x,l-(this.boundsCenter.y-f.y))}return!1},getBottomRight:function(h,u,l){if(void 0===u&&(u=0),void 0===l&&(l=0),this.parseBody(h)){var d=this.boundsCenter,f=this.centerDiff;return new T(u-(d.x-f.x),l-(d.y-f.y))}return!1}});_.exports=g},19933:(_,k,a)=>{var b=a(6790);b.Body=a(22562),b.Composite=a(69351),b.World=a(4372),b.Collision=a(52284),b.Detector=a(81388),b.Pairs=a(99561),b.Pair=a(4506),b.Query=a(73296),b.Resolver=a(66272),b.Constraint=a(48140),b.Common=a(53402),b.Engine=a(48413),b.Events=a(35810),b.Sleeping=a(53614),b.Plugin=a(73832),b.Bodies=a(66280),b.Composites=a(74116),b.Axes=a(66615),b.Bounds=a(15647),b.Svg=a(74058),b.Vector=a(31725),b.Vertices=a(41598),b.World.add=b.Composite.add,b.World.remove=b.Composite.remove,b.World.addComposite=b.Composite.addComposite,b.World.addBody=b.Composite.addBody,b.World.addConstraint=b.Composite.addConstraint,b.World.clear=b.Composite.clear,_.exports=b},28137:(_,k,a)=>{var b=a(66280),T=a(83419),g=a(74116),h=a(48140),u=a(74058),l=a(75803),d=a(23181),f=a(34803),c=a(73834),m=a(19496),v=a(85791),x=a(98713),y=a(41598),w=new T({initialize:function(S){this.world=S,this.scene=S.scene,this.sys=S.scene.sys},rectangle:function(E,S,A,I,M){var P=b.rectangle(E,S,A,I,M);return this.world.add(P),P},trapezoid:function(E,S,A,I,M,P){var O=b.trapezoid(E,S,A,I,M,P);return this.world.add(O),O},circle:function(E,S,A,I,M){var P=b.circle(E,S,A,I,M);return this.world.add(P),P},polygon:function(E,S,A,I,M){var P=b.polygon(E,S,A,I,M);return this.world.add(P),P},fromVertices:function(E,S,A,I,M,P,O){"string"==typeof A&&(A=y.fromPath(A));var N=b.fromVertices(E,S,A,I,M,P,O);return this.world.add(N),N},fromPhysicsEditor:function(E,S,A,I,M){void 0===M&&(M=!0);var P=m.parseBody(E,S,A,I);return M&&!this.world.has(P)&&this.world.add(P),P},fromSVG:function(E,S,A,I,M,P){void 0===I&&(I=1),void 0===M&&(M={}),void 0===P&&(P=!0);for(var O=A.getElementsByTagName("path"),N=[],L=0;L<O.length;L++){var G=u.pathToVertices(O[L],30);1!==I&&y.scale(G,I,I),N.push(G)}var j=b.fromVertices(E,S,N,M);return P&&this.world.add(j),j},fromJSON:function(E,S,A,I,M){void 0===I&&(I={}),void 0===M&&(M=!0);var P=v.parseBody(E,S,A,I);return P&&M&&this.world.add(P),P},imageStack:function(E,S,A,I,M,P,O,N,L){void 0===O&&(O=0),void 0===N&&(N=0),void 0===L&&(L={});var G=this.world,j=this.sys.displayList;L.addToWorld=!1;var z=g.stack(A,I,M,P,O,N,function(Y,Z){var rt=new d(G,Y,Z,E,S,L);return j.add(rt),rt.body});return G.add(z),z},stack:function(E,S,A,I,M,P,O){var N=g.stack(E,S,A,I,M,P,O);return this.world.add(N),N},pyramid:function(E,S,A,I,M,P,O){var N=g.pyramid(E,S,A,I,M,P,O);return this.world.add(N),N},chain:function(E,S,A,I,M,P){return g.chain(E,S,A,I,M,P)},mesh:function(E,S,A,I,M){return g.mesh(E,S,A,I,M)},newtonsCradle:function(E,S,A,I,M){var P=g.newtonsCradle(E,S,A,I,M);return this.world.add(P),P},car:function(E,S,A,I,M){var P=g.car(E,S,A,I,M);return this.world.add(P),P},softBody:function(E,S,A,I,M,P,O,N,L,G){var j=g.softBody(E,S,A,I,M,P,O,N,L,G);return this.world.add(j),j},joint:function(E,S,A,I,M){return this.constraint(E,S,A,I,M)},spring:function(E,S,A,I,M){return this.constraint(E,S,A,I,M)},constraint:function(E,S,A,I,M){void 0===I&&(I=1),void 0===M&&(M={}),M.bodyA="body"===E.type?E:E.body,M.bodyB="body"===S.type?S:S.body,isNaN(A)||(M.length=A),M.stiffness=I;var P=h.create(M);return this.world.add(P),P},worldConstraint:function(E,S,A,I){void 0===A&&(A=1),void 0===I&&(I={}),I.bodyB="body"===E.type?E:E.body,isNaN(S)||(I.length=S),I.stiffness=A;var M=h.create(I);return this.world.add(M),M},mouseSpring:function(E){return this.pointerConstraint(E)},pointerConstraint:function(E){void 0===E&&(E={}),E.hasOwnProperty("render")||(E.render={visible:!1});var S=new x(this.scene,this.world,E);return this.world.add(S.constraint),S},image:function(E,S,A,I,M){var P=new d(this.world,E,S,A,I,M);return this.sys.displayList.add(P),P},tileBody:function(E,S){return new c(this.world,E,S)},sprite:function(E,S,A,I,M){var P=new f(this.world,E,S,A,I,M);return this.sys.displayList.add(P),this.sys.updateList.add(P),P},gameObject:function(E,S,A){return l(this.world,E,S,A)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});_.exports=w},75803:(_,k,a)=>{var b=a(31884),T=a(95540),g=a(26099);function h(l){return!!l.get&&"function"==typeof l.get||!!l.set&&"function"==typeof l.set}_.exports=function(l,d,f,c){void 0===f&&(f={}),void 0===c&&(c=!0);var m=d.x,v=d.y;if(d.body={temp:!0,position:{x:m,y:v}},[b.Bounce,b.Collision,b.Force,b.Friction,b.Gravity,b.Mass,b.Sensor,b.SetBody,b.Sleep,b.Static,b.Transform,b.Velocity].forEach(function(w){for(var E in w)h(w[E])?Object.defineProperty(d,E,{get:w[E].get,set:w[E].set}):Object.defineProperty(d,E,{value:w[E]})}),d.world=l,d._tempVec2=new g(m,v),f.hasOwnProperty("type")&&"body"===f.type)d.setExistingBody(f,c);else{var y=T(f,"shape",null);y||(y="rectangle"),f.addToWorld=c,d.setBody(y,f)}return d}},23181:(_,k,a)=>{var b=a(83419),T=a(31884),g=a(95643),h=a(95540),u=a(88571),l=a(72699),d=a(26099),f=new b({Extends:u,Mixins:[T.Bounce,T.Collision,T.Force,T.Friction,T.Gravity,T.Mass,T.Sensor,T.SetBody,T.Sleep,T.Static,T.Transform,T.Velocity,l],initialize:function(m,v,x,y,w,E){g.call(this,m.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(y,w),this.setSizeToFrame(),this.setOrigin(),this.world=m,this._tempVec2=new d(v,x);var S=h(E,"shape",null);S?this.setBody(S,E):this.setRectangle(this.width,this.height,E),this.setPosition(v,x),this.initPipeline(),this.initPostPipeline(!0)}});_.exports=f},42045:(_,k,a)=>{var b=a(60461),T=a(66615),g=a(66280),h=a(22562),u=a(68174),l=a(15647),d=a(83419),f=a(52284),c=a(53402),m=a(69351),v=a(74116),x=a(48140),y=a(81388),w=a(20339),E=a(28137),S=a(95540),A=a(35154),I=a(46975),M=a(4506),P=a(99561),O=a(37277),N=a(73296),L=a(66272),G=a(44594),j=a(74058),z=a(31725),Y=a(41598),Z=a(68243);c.setDecomp(a(55973));var rt=new d({initialize:function(K){this.scene=K,this.systems=K.sys,this.config=this.getConfig(),this.body=h,this.composite=m,this.collision=f,this.detector=y,this.pair=M,this.pairs=P,this.query=N,this.resolver=L,this.constraint=x,this.bodies=g,this.composites=v,this.axes=T,this.bounds=l,this.svg=j,this.vector=z,this.vertices=Y,this.verts=Y,this._tempVec2=z.create(),L._restingThresh=A(this.config,"restingThresh",4),L._restingThreshTangent=A(this.config,"restingThreshTangent",6),L._positionDampen=A(this.config,"positionDampen",.9),L._positionWarming=A(this.config,"positionWarming",.8),L._frictionNormalMultiplier=A(this.config,"frictionNormalMultiplier",5),K.sys.events.once(G.BOOT,this.boot,this),K.sys.events.on(G.START,this.start,this)},boot:function(){this.world=new Z(this.scene,this.config),this.add=new E(this.world),this.bodyBounds=new u,this.systems.events.once(G.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new Z(this.scene,this.config),this.add=new E(this.world));var st=this.systems.events;st.on(G.UPDATE,this.world.update,this.world),st.on(G.POST_UPDATE,this.world.postUpdate,this.world),st.once(G.SHUTDOWN,this.shutdown,this)},getConfig:function(){var st=this.systems.game.config.physics;return I(S(this.systems.settings.physics,"matter",{}),S(st,"matter",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(st,K){this.world.step(st,K)},containsPoint:function(st,K,tt){st=this.getMatterBodies(st);var W=z.create(K,tt);return N.point(st,W).length>0},intersectPoint:function(st,K,tt){tt=this.getMatterBodies(tt);var W=z.create(st,K),H=[];return N.point(tt,W).forEach(function(dt){-1===H.indexOf(dt)&&H.push(dt)}),H},intersectRect:function(st,K,tt,W,H,it){void 0===H&&(H=!1),it=this.getMatterBodies(it);var mt=[];return N.region(it,{min:{x:st,y:K},max:{x:st+tt,y:K+W}},H).forEach(function(Tt){-1===mt.indexOf(Tt)&&mt.push(Tt)}),mt},intersectRay:function(st,K,tt,W,H,it){void 0===H&&(H=1),it=this.getMatterBodies(it);for(var dt=[],mt=N.ray(it,z.create(st,K),z.create(tt,W),H),vt=0;vt<mt.length;vt++)dt.push(mt[vt].body);return dt},intersectBody:function(st,K){K=this.getMatterBodies(K);for(var tt=[],W=N.collides(st,K),H=0;H<W.length;H++){var it=W[H];tt.push(it.bodyA===st?it.bodyB:it.bodyA)}return tt},overlap:function(st,K,tt,W,H){void 0===tt&&(tt=null),void 0===W&&(W=null),void 0===H&&(H=tt),Array.isArray(st)||(st=[st]),st=this.getMatterBodies(st),K=this.getMatterBodies(K);for(var it=!1,dt=0;dt<st.length;dt++)for(var mt=st[dt],vt=N.collides(mt,K),Tt=0;Tt<vt.length;Tt++){var Nt=vt[Tt],Yt=Nt.bodyA.id===mt.id?Nt.bodyB:Nt.bodyA;if(!W||W.call(H,mt,Yt,Nt))if(it=!0,tt)tt.call(H,mt,Yt,Nt);else if(!W)return!0}return it},setCollisionCategory:function(st,K){return(st=this.getMatterBodies(st)).forEach(function(tt){tt.collisionFilter.category=K}),this},setCollisionGroup:function(st,K){return(st=this.getMatterBodies(st)).forEach(function(tt){tt.collisionFilter.group=K}),this},setCollidesWith:function(st,K){st=this.getMatterBodies(st);var tt=0;if(Array.isArray(K))for(var W=0;W<K.length;W++)tt|=K[W];else tt=K;return st.forEach(function(H){H.collisionFilter.mask=tt}),this},getMatterBodies:function(st){if(!st)return this.world.getAllBodies();Array.isArray(st)||(st=[st]);for(var K=[],tt=0;tt<st.length;tt++){var W=st[tt].hasOwnProperty("body")?st[tt].body:st[tt];K.push(W)}return K},setVelocity:function(st,K,tt){st=this.getMatterBodies(st);var W=this._tempVec2;return W.x=K,W.y=tt,st.forEach(function(H){h.setVelocity(H,W)}),this},setVelocityX:function(st,K){st=this.getMatterBodies(st);var tt=this._tempVec2;return tt.x=K,st.forEach(function(W){tt.y=W.velocity.y,h.setVelocity(W,tt)}),this},setVelocityY:function(st,K){st=this.getMatterBodies(st);var tt=this._tempVec2;return tt.y=K,st.forEach(function(W){tt.x=W.velocity.x,h.setVelocity(W,tt)}),this},setAngularVelocity:function(st,K){return(st=this.getMatterBodies(st)).forEach(function(tt){h.setAngularVelocity(tt,K)}),this},applyForce:function(st,K){st=this.getMatterBodies(st);var tt=this._tempVec2;return st.forEach(function(W){tt.x=W.position.x,tt.y=W.position.y,h.applyForce(W,tt,K)}),this},applyForceFromPosition:function(st,K,tt,W){st=this.getMatterBodies(st);var H=this._tempVec2;return st.forEach(function(it){void 0===W&&(W=it.angle),H.x=tt*Math.cos(W),H.y=tt*Math.sin(W),h.applyForce(it,K,H)}),this},applyForceFromAngle:function(st,K,tt){st=this.getMatterBodies(st);var W=this._tempVec2;return st.forEach(function(H){void 0===tt&&(tt=H.angle),W.x=K*Math.cos(tt),W.y=K*Math.sin(tt),h.applyForce(H,{x:H.position.x,y:H.position.y},W)}),this},getConstraintLength:function(st){var K=st.pointA.x,tt=st.pointA.y,W=st.pointB.x,H=st.pointB.y;return st.bodyA&&(K+=st.bodyA.position.x,tt+=st.bodyA.position.y),st.bodyB&&(W+=st.bodyB.position.x,H+=st.bodyB.position.y),w(K,tt,W,H)},alignBody:function(st,K,tt,W){var H;switch(st=st.hasOwnProperty("body")?st.body:st,W){case b.TOP_LEFT:case b.LEFT_TOP:H=this.bodyBounds.getTopLeft(st,K,tt);break;case b.TOP_CENTER:H=this.bodyBounds.getTopCenter(st,K,tt);break;case b.TOP_RIGHT:case b.RIGHT_TOP:H=this.bodyBounds.getTopRight(st,K,tt);break;case b.LEFT_CENTER:H=this.bodyBounds.getLeftCenter(st,K,tt);break;case b.CENTER:H=this.bodyBounds.getCenter(st,K,tt);break;case b.RIGHT_CENTER:H=this.bodyBounds.getRightCenter(st,K,tt);break;case b.LEFT_BOTTOM:case b.BOTTOM_LEFT:H=this.bodyBounds.getBottomLeft(st,K,tt);break;case b.BOTTOM_CENTER:H=this.bodyBounds.getBottomCenter(st,K,tt);break;case b.BOTTOM_RIGHT:case b.RIGHT_BOTTOM:H=this.bodyBounds.getBottomRight(st,K,tt)}return H&&h.setPosition(st,H),this},shutdown:function(){var st=this.systems.events;this.world&&(st.off(G.UPDATE,this.world.update,this.world),st.off(G.POST_UPDATE,this.world.postUpdate,this.world)),st.off(G.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(G.START,this.start,this),this.scene=null,this.systems=null}});O.register("MatterPhysics",rt,"matterPhysics"),_.exports=rt},34803:(_,k,a)=>{var b=a(9674),T=a(83419),g=a(31884),h=a(95643),u=a(95540),l=a(72699),d=a(68287),f=a(26099),c=new T({Extends:d,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,l],initialize:function(v,x,y,w,E,S){h.call(this,v.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new b(this),this.setTexture(w,E),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new f(x,y);var A=u(S,"shape",null);A?this.setBody(A,S):this.setRectangle(this.width,this.height,S),this.setPosition(x,y),this.initPipeline(),this.initPostPipeline(!0)}});_.exports=c},73834:(_,k,a)=>{var b=a(66280),T=a(22562),g=a(83419),h=a(31884),u=a(62644),l=a(50792),d=a(95540),f=a(97022),c=a(41598),m=new g({Extends:l,Mixins:[h.Bounce,h.Collision,h.Friction,h.Gravity,h.Mass,h.Sensor,h.Sleep,h.Static],initialize:function(x,y,w){l.call(this),this.tile=y,this.world=x,y.physics.matterBody&&y.physics.matterBody.destroy(),y.physics.matterBody=this;var E=d(w,"body",null),S=d(w,"addToWorld",!0);if(E)this.setBody(E,S);else{var A=y.getCollisionGroup();d(A,"objects",[]).length>0?this.setFromTileCollision(w):this.setFromTileRectangle(w)}if(y.flipX||y.flipY){var M={x:y.getCenterX(),y:y.getCenterY()};T.scale(E,y.flipX?-1:1,y.flipY?-1:1,M)}},setFromTileRectangle:function(v){void 0===v&&(v={}),f(v,"isStatic")||(v.isStatic=!0),f(v,"addToWorld")||(v.addToWorld=!0);var x=this.tile.getBounds(),E=b.rectangle(x.x+x.width/2,x.y+x.height/2,x.width,x.height,v);return this.setBody(E,v.addToWorld),this},setFromTileCollision:function(v){void 0===v&&(v={}),f(v,"isStatic")||(v.isStatic=!0),f(v,"addToWorld")||(v.addToWorld=!0);for(var x=this.tile.tilemapLayer.scaleX,y=this.tile.tilemapLayer.scaleY,w=this.tile.getLeft(),E=this.tile.getTop(),S=this.tile.getCollisionGroup(),A=d(S,"objects",[]),I=[],M=0;M<A.length;M++){var P=A[M],O=w+P.x*x,N=E+P.y*y,L=P.width*x,G=P.height*y,j=null;if(P.rectangle)j=b.rectangle(O+L/2,N+G/2,L,G,v);else if(P.ellipse)j=b.circle(O+L/2,N+G/2,L/2,v);else if(P.polygon||P.polyline){var Y=(P.polygon?P.polygon:P.polyline).map(function(K){return{x:K.x*x,y:K.y*y}}),Z=c.create(Y),rt=c.centre(Z);j=b.fromVertices(O+=rt.x,N+=rt.y,Z,v)}j&&I.push(j)}if(1===I.length)this.setBody(I[0],v.addToWorld);else if(I.length>1){var st=u(v);st.parts=I,this.setBody(T.create(st),st.addToWorld)}return this},setBody:function(v,x){return void 0===x&&(x=!0),this.body&&this.removeBody(),this.body=v,this.body.gameObject=this,x&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});_.exports=m},19496:(_,k,a)=>{var b=a(66280),T=a(22562),g=a(53402),h=a(95540),u=a(41598);_.exports={parseBody:function(d,f,c,m){void 0===m&&(m={});for(var v=h(c,"fixtures",[]),x=[],y=0;y<v.length;y++)for(var w=this.parseFixture(v[y]),E=0;E<w.length;E++)x.push(w[E]);var S=g.clone(c,!0);g.extend(S,m,!0),delete S.fixtures,delete S.type;var A=T.create(S);return T.setParts(A,x),T.setPosition(A,{x:d,y:f}),A},parseFixture:function(d){var c,f=g.extend({},!1,d);if(delete f.circle,delete f.vertices,d.circle){var m=h(d.circle,"x"),v=h(d.circle,"y"),x=h(d.circle,"radius");c=[b.circle(m,v,x,f)]}else d.vertices&&(c=this.parseVertices(d.vertices,f));return c},parseVertices:function(d,f){void 0===f&&(f={});for(var c=[],m=0;m<d.length;m++)u.clockwiseSort(d[m]),c.push(T.create(g.extend({position:u.centre(d[m]),vertices:d[m]},f)));return b.flagCoincidentParts(c)}}},85791:(_,k,a)=>{var b=a(66280),T=a(22562);_.exports={parseBody:function(h,u,l,d){void 0===d&&(d={});var f,c=l.vertices;if(1===c.length)d.vertices=c[0],f=T.create(d),b.flagCoincidentParts(f.parts);else{for(var m=[],v=0;v<c.length;v++){var x=T.create({vertices:c[v]});m.push(x)}b.flagCoincidentParts(m),d.parts=m,f=T.create(d)}return f.label=l.label,T.setPosition(f,{x:h,y:u}),f}}},98713:(_,k,a)=>{var b=a(15647),T=a(83419),g=a(69351),h=a(48140),u=a(81388),l=a(1121),d=a(8214),f=a(46975),c=a(53614),m=a(26099),v=a(41598),x=new T({initialize:function(w,E,S){void 0===S&&(S={}),this.scene=w,this.world=E,this.camera=null,this.pointer=null,this.active=!0,this.position=new m,this.body=null,this.part=null,this.constraint=h.create(f(S,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(l.BEFORE_UPDATE,this.update,this),w.sys.input.on(d.POINTER_DOWN,this.onDown,this),w.sys.input.on(d.POINTER_UP,this.onUp,this)},onDown:function(y){this.pointer||(this.pointer=y,this.camera=y.camera)},onUp:function(y){y===this.pointer&&(this.pointer=null)},getBody:function(y){var w=this.position,E=this.constraint;this.camera.getWorldPoint(y.x,y.y,w);for(var S=g.allBodies(this.world.localWorld),A=0;A<S.length;A++){var I=S[A];if(!I.ignorePointer&&b.contains(I.bounds,w)&&u.canCollide(I.collisionFilter,E.collisionFilter)&&this.hitTestBody(I,w))return this.world.emit(l.DRAG_START,I,this.part,this),!0}return!1},hitTestBody:function(y,w){for(var E=this.constraint,S=y.parts.length,I=S>1?1:0;I<S;I++){var M=y.parts[I];if(v.contains(M.vertices,w))return E.pointA=w,E.pointB={x:w.x-y.position.x,y:w.y-y.position.y},E.bodyB=y,E.angleB=y.angle,c.set(y,!1),this.part=M,this.body=y,!0}return!1},update:function(){var y=this.pointer,w=this.body;if(this.active&&y)if(y.isDown||!w){if(y.isDown){if(!this.camera||!w&&!this.getBody(y))return;w=this.body;var E=this.position,S=this.constraint;this.camera.getWorldPoint(y.x,y.y,E),S.pointA.x=E.x,S.pointA.y=E.y,c.set(w,!1),this.world.emit(l.DRAG,w,this)}}else this.stopDrag();else w&&this.stopDrag()},stopDrag:function(){var y=this.body,w=this.constraint;w.bodyB=null,w.pointB=null,this.pointer=null,this.body=null,this.part=null,y&&this.world.emit(l.DRAG_END,y,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(l.BEFORE_UPDATE,this.update),this.scene.sys.input.off(d.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(d.POINTER_UP,this.onUp,this)}});_.exports=x},68243:(_,k,a)=>{var b=a(66280),T=a(22562),g=a(83419),h=a(53402),u=a(69351),l=a(48413),d=a(50792),f=a(1121),c=a(95540),m=a(35154),v=a(22562),x=a(35810),y=a(73834),w=a(4372),E=a(13037),S=a(31725),A=new g({Extends:d,initialize:function(M,P){d.call(this),this.scene=M,this.engine=l.create(P),this.localWorld=this.engine.world;var O=m(P,"gravity",null);O?this.setGravity(O.x,O.y,O.scale):!1===O&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=m(P,"enabled",!0),this.getDelta=m(P,"getDelta",this.update60Hz);var N=c(P,"runner",{}),L=c(N,"fps",!1),G=c(N,"fps",60),j=c(N,"delta",1e3/G),z=c(N,"deltaMin",1e3/G),Y=c(N,"deltaMax",1e3/(.5*G));L||(G=1e3/j),this.runner={fps:G,deltaSampleSize:c(N,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:c(N,"isFixed",!1),delta:j,deltaMin:z,deltaMax:Y},this.autoUpdate=m(P,"autoUpdate",!0);var Z=m(P,"debug",!1);if(this.drawDebug="object"==typeof Z||Z,this.debugConfig={showAxes:c(Z,"showAxes",!1),showAngleIndicator:c(Z,"showAngleIndicator",!1),angleColor:c(Z,"angleColor",15208787),showBroadphase:c(Z,"showBroadphase",!1),broadphaseColor:c(Z,"broadphaseColor",16757760),showBounds:c(Z,"showBounds",!1),boundsColor:c(Z,"boundsColor",16777215),showVelocity:c(Z,"showVelocity",!1),velocityColor:c(Z,"velocityColor",44783),showCollisions:c(Z,"showCollisions",!1),collisionColor:c(Z,"collisionColor",16094476),showSeparations:c(Z,"showSeparations",!1),separationColor:c(Z,"separationColor",16753920),showBody:c(Z,"showBody",!0),showStaticBody:c(Z,"showStaticBody",!0),showInternalEdges:c(Z,"showInternalEdges",!1),renderFill:c(Z,"renderFill",!1),renderLine:c(Z,"renderLine",!0),fillColor:c(Z,"fillColor",1075465),fillOpacity:c(Z,"fillOpacity",1),lineColor:c(Z,"lineColor",2678297),lineOpacity:c(Z,"lineOpacity",1),lineThickness:c(Z,"lineThickness",1),staticFillColor:c(Z,"staticFillColor",857979),staticLineColor:c(Z,"staticLineColor",1255396),showSleeping:c(Z,"showSleeping",!1),staticBodySleepOpacity:c(Z,"staticBodySleepOpacity",.7),sleepFillColor:c(Z,"sleepFillColor",4605510),sleepLineColor:c(Z,"sleepLineColor",10066585),showSensors:c(Z,"showSensors",!0),sensorFillColor:c(Z,"sensorFillColor",857979),sensorLineColor:c(Z,"sensorLineColor",1255396),showPositions:c(Z,"showPositions",!0),positionSize:c(Z,"positionSize",4),positionColor:c(Z,"positionColor",14697178),showJoint:c(Z,"showJoint",!0),jointColor:c(Z,"jointColor",14737474),jointLineOpacity:c(Z,"jointLineOpacity",1),jointLineThickness:c(Z,"jointLineThickness",2),pinSize:c(Z,"pinSize",4),pinColor:c(Z,"pinColor",4382944),springColor:c(Z,"springColor",14697184),anchorColor:c(Z,"anchorColor",15724527),anchorSize:c(Z,"anchorSize",4),showConvexHulls:c(Z,"showConvexHulls",!1),hullColor:c(Z,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),c(P,"setBounds",!1)){var rt=P.setBounds;if("boolean"==typeof rt)this.setBounds();else{var st=c(rt,"x",0),K=c(rt,"y",0),tt=c(rt,"width",M.sys.scale.width),W=c(rt,"height",M.sys.scale.height),H=c(rt,"thickness",64),it=c(rt,"left",!0),dt=c(rt,"right",!0),mt=c(rt,"top",!0),vt=c(rt,"bottom",!0);this.setBounds(st,K,tt,W,H,it,dt,mt,vt)}}},setCompositeRenderStyle:function(I){var N,L,G,M=I.bodies,P=I.constraints,O=I.composites;for(N=0;N<M.length;N++)this.setBodyRenderStyle(L=M[N],(G=L.render).lineColor,G.lineOpacity,G.lineThickness,G.fillColor,G.fillOpacity);for(N=0;N<P.length;N++)this.setConstraintRenderStyle(L=P[N],(G=L.render).lineColor,G.lineOpacity,G.lineThickness,G.pinSize,G.anchorColor,G.anchorSize);for(N=0;N<O.length;N++)this.setCompositeRenderStyle(L=O[N]);return this},setBodyRenderStyle:function(I,M,P,O,N,L){var G=I.render,j=this.debugConfig;return G?(null==M&&(M=I.isStatic?j.staticLineColor:j.lineColor),null==P&&(P=j.lineOpacity),null==O&&(O=j.lineThickness),null==N&&(N=I.isStatic?j.staticFillColor:j.fillColor),null==L&&(L=j.fillOpacity),!1!==M&&(G.lineColor=M),!1!==P&&(G.lineOpacity=P),!1!==O&&(G.lineThickness=O),!1!==N&&(G.fillColor=N),!1!==L&&(G.fillOpacity=L),this):this},setConstraintRenderStyle:function(I,M,P,O,N,L,G){var j=I.render,z=this.debugConfig;if(!j)return this;if(null==M){var Y=j.type;"line"===Y?M=z.jointColor:"pin"===Y?M=z.pinColor:"spring"===Y&&(M=z.springColor)}return null==P&&(P=z.jointLineOpacity),null==O&&(O=z.jointLineThickness),null==N&&(N=z.pinSize),null==L&&(L=z.anchorColor),null==G&&(G=z.anchorSize),!1!==M&&(j.lineColor=M),!1!==P&&(j.lineOpacity=P),!1!==O&&(j.lineThickness=O),!1!==N&&(j.pinSize=N),!1!==L&&(j.anchorColor=L),!1!==G&&(j.anchorSize=G),this},setEventsProxy:function(){var I=this,M=this.engine,P=this.localWorld;this.drawDebug&&(x.on(P,"compositeModified",function(O){I.setCompositeRenderStyle(O)}),x.on(P,"beforeAdd",function(O){for(var N=[].concat(O.object),L=0;L<N.length;L++){var G=N[L],j=G.render;"body"===G.type?I.setBodyRenderStyle(G,j.lineColor,j.lineOpacity,j.lineThickness,j.fillColor,j.fillOpacity):"composite"===G.type?I.setCompositeRenderStyle(G):"constraint"===G.type&&I.setConstraintRenderStyle(G,j.lineColor,j.lineOpacity,j.lineThickness,j.pinSize,j.anchorColor,j.anchorSize)}})),x.on(P,"beforeAdd",function(O){I.emit(f.BEFORE_ADD,O)}),x.on(P,"afterAdd",function(O){I.emit(f.AFTER_ADD,O)}),x.on(P,"beforeRemove",function(O){I.emit(f.BEFORE_REMOVE,O)}),x.on(P,"afterRemove",function(O){I.emit(f.AFTER_REMOVE,O)}),x.on(M,"beforeUpdate",function(O){I.emit(f.BEFORE_UPDATE,O)}),x.on(M,"afterUpdate",function(O){I.emit(f.AFTER_UPDATE,O)}),x.on(M,"collisionStart",function(O){var L,G,N=O.pairs;N.length>0&&N.map(function(j){G=j.bodyB,(L=j.bodyA).gameObject&&L.gameObject.emit("collide",L,G,j),G.gameObject&&G.gameObject.emit("collide",G,L,j),x.trigger(L,"onCollide",{pair:j}),x.trigger(G,"onCollide",{pair:j}),L.onCollideCallback&&L.onCollideCallback(j),G.onCollideCallback&&G.onCollideCallback(j),L.onCollideWith[G.id]&&L.onCollideWith[G.id](G,j),G.onCollideWith[L.id]&&G.onCollideWith[L.id](L,j)}),I.emit(f.COLLISION_START,O,L,G)}),x.on(M,"collisionActive",function(O){var L,G,N=O.pairs;N.length>0&&N.map(function(j){G=j.bodyB,(L=j.bodyA).gameObject&&L.gameObject.emit("collideActive",L,G,j),G.gameObject&&G.gameObject.emit("collideActive",G,L,j),x.trigger(L,"onCollideActive",{pair:j}),x.trigger(G,"onCollideActive",{pair:j}),L.onCollideActiveCallback&&L.onCollideActiveCallback(j),G.onCollideActiveCallback&&G.onCollideActiveCallback(j)}),I.emit(f.COLLISION_ACTIVE,O,L,G)}),x.on(M,"collisionEnd",function(O){var L,G,N=O.pairs;N.length>0&&N.map(function(j){G=j.bodyB,(L=j.bodyA).gameObject&&L.gameObject.emit("collideEnd",L,G,j),G.gameObject&&G.gameObject.emit("collideEnd",G,L,j),x.trigger(L,"onCollideEnd",{pair:j}),x.trigger(G,"onCollideEnd",{pair:j}),L.onCollideEndCallback&&L.onCollideEndCallback(j),G.onCollideEndCallback&&G.onCollideEndCallback(j)}),I.emit(f.COLLISION_END,O,L,G)})},setBounds:function(I,M,P,O,N,L,G,j,z){return void 0===I&&(I=0),void 0===M&&(M=0),void 0===P&&(P=this.scene.sys.scale.width),void 0===O&&(O=this.scene.sys.scale.height),void 0===N&&(N=64),void 0===L&&(L=!0),void 0===G&&(G=!0),void 0===j&&(j=!0),void 0===z&&(z=!0),this.updateWall(L,"left",I-N,M-N,N,O+2*N),this.updateWall(G,"right",I+P,M-N,N,O+2*N),this.updateWall(j,"top",I,M-N,P,N),this.updateWall(z,"bottom",I,M+O,P,N),this},updateWall:function(I,M,P,O,N,L){var G=this.walls[M];I?(G&&w.remove(this.localWorld,G),this.walls[M]=this.create(P+=N/2,O+=L/2,N,L,{isStatic:!0,friction:0,frictionStatic:0})):(G&&w.remove(this.localWorld,G),this.walls[M]=null)},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(I,M,P){return void 0===I&&(I=0),void 0===M&&(M=1),void 0===P&&(P=.001),this.localWorld.gravity.x=I,this.localWorld.gravity.y=M,this.localWorld.gravity.scale=P,this},create:function(I,M,P,O,N){var L=b.rectangle(I,M,P,O,N);return w.add(this.localWorld,L),L},add:function(I){return w.add(this.localWorld,I),this},remove:function(I,M){Array.isArray(I)||(I=[I]);for(var P=0;P<I.length;P++){var O=I[P];u.remove(this.localWorld,O.body?O.body:O,M)}return this},removeConstraint:function(I,M){return u.remove(this.localWorld,I,M),this},convertTilemapLayer:function(I,M){var P=I.layer,O=I.getTilesWithin(0,0,P.width,P.height,{isColliding:!0});return this.convertTiles(O,M),this},convertTiles:function(I,M){if(0===I.length)return this;for(var P=0;P<I.length;P++)new y(this,I[P],M);return this},nextGroup:function(I){return v.nextGroup(I)},nextCategory:function(){return v.nextCategory()},pause:function(){return this.enabled=!1,this.emit(f.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=h.now(),this.emit(f.RESUME),this},update:function(I){if(this.enabled&&this.autoUpdate){var M=this.engine,P=this.runner,O=h.now(),N=P.delta,L=0,G=I-P.timeLastTick;if((!G||!P.timeLastTick||G>Math.max(E._maxFrameDelta,P.maxFrameTime))&&(G=P.frameDelta||E._frameDeltaFallback),P.frameDeltaSmoothing){P.frameDeltaHistory.push(G),P.frameDeltaHistory=P.frameDeltaHistory.slice(-P.frameDeltaHistorySize);var j=P.frameDeltaHistory.slice(0).sort(),z=P.frameDeltaHistory.slice(j.length*E._smoothingLowerBound,j.length*E._smoothingUpperBound);G=E._mean(z)||G}P.frameDeltaSnapping&&(G=1e3/Math.round(1e3/G)),P.frameDelta=G,P.timeLastTick=I,P.timeBuffer+=P.frameDelta,P.timeBuffer=h.clamp(P.timeBuffer,0,P.frameDelta+N*E._timeBufferMargin),P.lastUpdatesDeferred=0;for(var Z=P.maxUpdates||Math.ceil(P.maxFrameTime/N),rt=h.now();N>0&&P.timeBuffer>=N*E._timeBufferMargin;){l.update(M,N),P.timeBuffer-=N,L+=1;var st=h.now()-O,K=h.now()-rt;if(L>=Z||st+E._elapsedNextEstimate*K/L>P.maxFrameTime){P.lastUpdatesDeferred=Math.round(Math.max(0,P.timeBuffer/N-E._timeBufferMargin));break}}}},step:function(I){l.update(this.engine,I)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(I){var M=I.hasOwnProperty("body")?I.body:I;return null!==u.get(this.localWorld,M.id,M.type)},getAllBodies:function(){return u.allBodies(this.localWorld)},getAllConstraints:function(){return u.allConstraints(this.localWorld)},getAllComposites:function(){return u.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var I=this.debugConfig,M=this.engine,P=this.debugGraphic,O=u.allBodies(this.localWorld);this.debugGraphic.clear(),I.showBroadphase&&M.broadphase.controller&&this.renderGrid(M.broadphase,P,I.broadphaseColor,.5),I.showBounds&&this.renderBodyBounds(O,P,I.boundsColor,.5),(I.showBody||I.showStaticBody)&&this.renderBodies(O),I.showJoint&&this.renderJoints(),(I.showAxes||I.showAngleIndicator)&&this.renderBodyAxes(O,P,I.showAxes,I.angleColor,.5),I.showVelocity&&this.renderBodyVelocity(O,P,I.velocityColor,1,2),I.showSeparations&&this.renderSeparations(M.pairs.list,P,I.separationColor),I.showCollisions&&this.renderCollisions(M.pairs.list,P,I.collisionColor)}},renderGrid:function(I,M,P,O){M.lineStyle(1,P,O);for(var N=h.keys(I.buckets),L=0;L<N.length;L++){var G=N[L];if(!(I.buckets[G].length<2)){var j=G.split(/C|R/);M.strokeRect(parseInt(j[1],10)*I.bucketWidth,parseInt(j[2],10)*I.bucketHeight,I.bucketWidth,I.bucketHeight)}}return this},renderSeparations:function(I,M,P){M.lineStyle(1,P,1);for(var O=0;O<I.length;O++){var N=I[O];if(N.isActive){var L=N.collision,G=L.bodyA,j=L.bodyB,z=G.position,Y=j.position,Z=L.penetration,rt=G.isStatic||j.isStatic?1:4;j.isStatic&&(rt=0),M.lineBetween(Y.x,Y.y,Y.x-Z.x*rt,Y.y-Z.y*rt),rt=G.isStatic||j.isStatic?1:4,G.isStatic&&(rt=0),M.lineBetween(z.x,z.y,z.x-Z.x*rt,z.y-Z.y*rt)}}return this},renderCollisions:function(I,M,P){var O,N;for(M.lineStyle(1,P,.5),M.fillStyle(P,1),O=0;O<I.length;O++)if((N=I[O]).isActive)for(var L=0;L<N.contactCount;L++){var j=N.contacts[L].vertex;j&&M.fillRect(j.x-2,j.y-2,5,5)}for(O=0;O<I.length;O++)if((N=I[O]).isActive){var z=N.collision,Y=N.contacts;if(N.contactCount>0){var Z=Y[0].vertex.x,rt=Y[0].vertex.y;2===N.contactCount&&(Z=(Y[0].vertex.x+Y[1].vertex.x)/2,rt=(Y[0].vertex.y+Y[1].vertex.y)/2),z.bodyB===z.supports[0].body||z.bodyA.isStatic?M.lineBetween(Z-8*z.normal.x,rt-8*z.normal.y,Z,rt):M.lineBetween(Z+8*z.normal.x,rt+8*z.normal.y,Z,rt)}}return this},renderBodyBounds:function(I,M,P,O){M.lineStyle(1,P,O);for(var N=0;N<I.length;N++){var L=I[N];if(L.render.visible){var G=L.bounds;if(G)M.strokeRect(G.min.x,G.min.y,G.max.x-G.min.x,G.max.y-G.min.y);else for(var j=L.parts,z=j.length>1?1:0;z<j.length;z++){var Y=j[z];M.strokeRect(Y.bounds.min.x,Y.bounds.min.y,Y.bounds.max.x-Y.bounds.min.x,Y.bounds.max.y-Y.bounds.min.y)}}}return this},renderBodyAxes:function(I,M,P,O,N){M.lineStyle(1,O,N);for(var L=0;L<I.length;L++){var z,Y,Z,G=I[L],j=G.parts;if(G.render.visible)if(P)for(Y=j.length>1?1:0;Y<j.length;Y++)for(z=j[Y],Z=0;Z<z.axes.length;Z++){var rt=z.axes[Z];M.lineBetween(z.position.x,z.position.y,z.position.x+20*rt.x,z.position.y+20*rt.y)}else for(Y=j.length>1?1:0;Y<j.length;Y++)for(z=j[Y],Z=0;Z<z.axes.length;Z++)M.lineBetween(z.position.x,z.position.y,(z.vertices[0].x+z.vertices[z.vertices.length-1].x)/2,(z.vertices[0].y+z.vertices[z.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(I,M,P,O,N){M.lineStyle(N,P,O);for(var L=0;L<I.length;L++){var G=I[L];G.render.visible&&M.lineBetween(G.position.x,G.position.y,G.position.x+2*(G.position.x-G.positionPrev.x),G.position.y+2*(G.position.y-G.positionPrev.y))}return this},renderBodies:function(I){for(var M=this.debugGraphic,P=this.debugConfig,O=P.showBody,N=P.showStaticBody,L=P.showSleeping,G=P.showInternalEdges,j=P.showConvexHulls,z=P.renderFill,Y=P.renderLine,Z=P.staticBodySleepOpacity,rt=P.sleepFillColor,st=P.sleepLineColor,K=P.hullColor,tt=0;tt<I.length;tt++){var W=I[tt];if(W.render.visible&&(N||!W.isStatic)&&(O||W.isStatic)){var H=W.render.lineColor,it=W.render.lineOpacity,dt=W.render.lineThickness,mt=W.render.fillColor,vt=W.render.fillOpacity;L&&W.isSleeping&&(W.isStatic?(it*=Z,vt*=Z):(H=st,mt=rt)),z||(mt=null),Y||(H=null),this.renderBody(W,M,G,H,it,dt,mt,vt),j&&W.parts.length>1&&this.renderConvexHull(W,M,K,dt)}}},renderBody:function(I,M,P,O,N,L,G,j){void 0===O&&(O=null),void 0===N&&(N=null),void 0===L&&(L=1),void 0===G&&(G=null),void 0===j&&(j=null);for(var z=this.debugConfig,Y=z.sensorFillColor,Z=z.sensorLineColor,rt=I.parts,st=rt.length,K=st>1?1:0;K<st;K++){var tt=rt[K],W=tt.render,H=W.opacity;if(W.visible&&0!==H&&(!tt.isSensor||z.showSensors)){var it=tt.circleRadius;if(M.beginPath(),tt.isSensor?(null!==G&&M.fillStyle(Y,j*H),null!==O&&M.lineStyle(L,Z,N*H)):(null!==G&&M.fillStyle(G,j*H),null!==O&&M.lineStyle(L,O,N*H)),it)M.arc(tt.position.x,tt.position.y,it,0,2*Math.PI);else{var dt=tt.vertices,mt=dt.length;M.moveTo(dt[0].x,dt[0].y);for(var vt=1;vt<mt;vt++){var Tt=dt[vt];if(!dt[vt-1].isInternal||P?M.lineTo(Tt.x,Tt.y):M.moveTo(Tt.x,Tt.y),vt<mt&&Tt.isInternal&&!P){var Nt=(vt+1)%mt;M.moveTo(dt[Nt].x,dt[Nt].y)}}M.closePath()}null!==G&&M.fillPath(),null!==O&&M.strokePath()}}if(z.showPositions&&!I.isStatic){var Yt=I.position.x,$t=I.position.y,Zt=Math.ceil(z.positionSize/2);M.fillStyle(z.positionColor,1),M.fillRect(Yt-Zt,$t-Zt,z.positionSize,z.positionSize)}return this},renderConvexHull:function(I,M,P,O){if(void 0===O&&(O=1),I.parts.length>1){var G=I.vertices;M.lineStyle(O,P),M.beginPath(),M.moveTo(G[0].x,G[0].y);for(var j=1;j<G.length;j++)M.lineTo(G[j].x,G[j].y);M.lineTo(G[0].x,G[0].y),M.strokePath()}return this},renderJoints:function(){for(var I=this.debugGraphic,M=u.allConstraints(this.localWorld),P=0;P<M.length;P++){var O=M[P].render;this.renderConstraint(M[P],I,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize)}},renderConstraint:function(I,M,P,O,N,L,G,j){var z=I.render;if(!z.visible||!I.pointA||!I.pointB)return this;M.lineStyle(N,P,O);var rt,st,Y=I.bodyA,Z=I.bodyB;if(rt=Y?S.add(Y.position,I.pointA):I.pointA,"pin"===z.type)M.strokeCircle(rt.x,rt.y,L);else{if(st=Z?S.add(Z.position,I.pointB):I.pointB,M.beginPath(),M.moveTo(rt.x,rt.y),"spring"===z.type)for(var H,K=S.sub(st,rt),tt=S.perp(S.normalise(K)),W=Math.ceil(h.clamp(I.length/5,12,20)),it=1;it<W;it+=1)M.lineTo(rt.x+K.x*(it/W)+tt.x*(H=it%2==0?1:-1)*4,rt.y+K.y*(it/W)+tt.y*H*4);M.lineTo(st.x,st.y)}return M.strokePath(),z.anchors&&j>0&&(M.fillStyle(G),M.fillCircle(rt.x,rt.y,j),M.fillCircle(st.x,st.y,j)),this},resetCollisionIDs:function(){return T._nextCollidingGroupId=1,T._nextNonCollidingGroupId=-1,T._nextCategory=1,this},shutdown:function(){x.off(this.engine),this.removeAllListeners(),w.clear(this.localWorld,!1),l.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});_.exports=A},70410:_=>{_.exports={setBounce:function(a){return this.body.restitution=a,this}}},66968:_=>{_.exports={setCollisionCategory:function(a){return this.body.collisionFilter.category=a,this},setCollisionGroup:function(a){return this.body.collisionFilter.group=a,this},setCollidesWith:function(a){var b=0;if(Array.isArray(a))for(var T=0;T<a.length;T++)b|=a[T];else b=a;return this.body.collisionFilter.mask=b,this},setOnCollide:function(a){return this.body.onCollideCallback=a,this},setOnCollideEnd:function(a){return this.body.onCollideEndCallback=a,this},setOnCollideActive:function(a){return this.body.onCollideActiveCallback=a,this},setOnCollideWith:function(a,b){Array.isArray(a)||(a=[a]);for(var T=0;T<a.length;T++){var g=a[T].hasOwnProperty("body")?a[T].body:a[T];this.body.setOnCollideWith(g,b)}return this}}},51607:(_,k,a)=>{var b=a(22562);_.exports={applyForce:function(g){return this._tempVec2.set(this.body.position.x,this.body.position.y),b.applyForce(this.body,this._tempVec2,g),this},applyForceFrom:function(g,h){return b.applyForce(this.body,g,h),this},thrust:function(g){var h=this.body.angle;return this._tempVec2.set(g*Math.cos(h),g*Math.sin(h)),b.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(g){var h=this.body.angle-Math.PI/2;return this._tempVec2.set(g*Math.cos(h),g*Math.sin(h)),b.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(g){var h=this.body.angle+Math.PI/2;return this._tempVec2.set(g*Math.cos(h),g*Math.sin(h)),b.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(g){var h=this.body.angle-Math.PI;return this._tempVec2.set(g*Math.cos(h),g*Math.sin(h)),b.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}}},5436:_=>{_.exports={setFriction:function(a,b,T){return this.body.friction=a,void 0!==b&&(this.body.frictionAir=b),void 0!==T&&(this.body.frictionStatic=T),this},setFrictionAir:function(a){return this.body.frictionAir=a,this},setFrictionStatic:function(a){return this.body.frictionStatic=a,this}}},39858:_=>{_.exports={setIgnoreGravity:function(a){return this.body.ignoreGravity=a,this}}},37302:(_,k,a)=>{var b=a(22562),T=a(26099);_.exports={setMass:function(h){return b.setMass(this.body,h),this},setDensity:function(h){return b.setDensity(this.body,h),this},centerOfMass:{get:function(){return new T(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},39132:_=>{_.exports={setSensor:function(a){return this.body.isSensor=a,this},isSensor:function(){return this.body.isSensor}}},57772:(_,k,a)=>{var b=a(66280),T=a(22562),g=a(43855),h=a(95540),u=a(19496),l=a(85791),d=a(41598);_.exports={setRectangle:function(c,m,v){return this.setBody({type:"rectangle",width:c,height:m},v)},setCircle:function(c,m){return this.setBody({type:"circle",radius:c},m)},setPolygon:function(c,m,v){return this.setBody({type:"polygon",sides:m,radius:c},v)},setTrapezoid:function(c,m,v,x){return this.setBody({type:"trapezoid",width:c,height:m,slope:v},x)},setExistingBody:function(c,m){void 0===m&&(m=!0),this.body&&this.world.remove(this.body,!0),this.body=c;for(var v=0;v<c.parts.length;v++)c.parts[v].gameObject=this;var x=this;if(c.destroy=function(){x.world.remove(x.body,!0),x.body.gameObject=null},m&&(this.world.has(c)&&this.world.remove(c,!0),this.world.add(c)),this._originComponent){var y=c.render.sprite.xOffset,w=c.render.sprite.yOffset,S=c.centerOfMass.y;g(c.centerOfMass.x,.5)&&g(S,.5)?this.setOrigin(y+.5,w+.5):this.setOrigin(y+c.centerOffset.x/this.displayWidth,w+c.centerOffset.y/this.displayHeight)}return this},setBody:function(c,m){if(!c)return this;var v;"string"==typeof c&&(c={type:c});var x=h(c,"type","rectangle"),y=h(c,"x",this._tempVec2.x),w=h(c,"y",this._tempVec2.y),E=h(c,"width",this.width),S=h(c,"height",this.height);switch(x){case"rectangle":v=b.rectangle(y,w,E,S,m);break;case"circle":var A=h(c,"radius",Math.max(E,S)/2),I=h(c,"maxSides",25);v=b.circle(y,w,A,m,I);break;case"trapezoid":var M=h(c,"slope",.5);v=b.trapezoid(y,w,E,S,M,m);break;case"polygon":var P=h(c,"sides",5),O=h(c,"radius",Math.max(E,S)/2);v=b.polygon(y,w,P,O,m);break;case"fromVertices":case"fromVerts":var N=h(c,"verts",null);if(N)if("string"==typeof N&&(N=d.fromPath(N)),this.body&&!this.body.hasOwnProperty("temp"))T.setVertices(this.body,N),v=this.body;else{var L=h(c,"flagInternal",!1),G=h(c,"removeCollinear",.01),j=h(c,"minimumArea",10);v=b.fromVertices(y,w,N,m,L,G,j)}break;case"fromPhysicsEditor":v=u.parseBody(y,w,c,m);break;case"fromPhysicsTracer":v=l.parseBody(y,w,c,m)}return v&&this.setExistingBody(v,c.addToWorld),this}}},38083:(_,k,a)=>{var b=a(1121),T=a(53614),g=a(35810);_.exports={setToSleep:function(){return T.set(this.body,!0),this},setAwake:function(){return T.set(this.body,!1),this},setSleepThreshold:function(u){return void 0===u&&(u=60),this.body.sleepThreshold=u,this},setSleepEvents:function(u,l){return this.setSleepStartEvent(u),this.setSleepEndEvent(l),this},setSleepStartEvent:function(u){if(u){var l=this.world;g.on(this.body,"sleepStart",function(d){l.emit(b.SLEEP_START,d,this)})}else g.off(this.body,"sleepStart");return this},setSleepEndEvent:function(u){if(u){var l=this.world;g.on(this.body,"sleepEnd",function(d){l.emit(b.SLEEP_END,d,this)})}else g.off(this.body,"sleepEnd");return this}}},90556:(_,k,a)=>{var b=a(22562);_.exports={setStatic:function(g){return b.setStatic(this.body,g),this},isStatic:function(){return this.body.isStatic}}},85436:(_,k,a)=>{var b=a(22562),T=a(36383),g=a(86554),h=a(30954);_.exports={x:{get:function(){return this.body.position.x},set:function(d){this._tempVec2.set(d,this.y),b.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(d){this._tempVec2.set(this.x,d),b.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(d){var f=1/this._scaleX,c=1/this._scaleY;this._scaleX=d,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,b.scale(this.body,f,c),b.scale(this.body,d,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(d){var f=1/this._scaleX,c=1/this._scaleY;this._scaleY=d,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,b.scale(this.body,f,c),b.scale(this.body,this._scaleX,d)}},angle:{get:function(){return h(this.body.angle*T.RAD_TO_DEG)},set:function(d){this.rotation=h(d)*T.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(d){this._rotation=g(d),b.setAngle(this.body,this._rotation)}},setPosition:function(d,f){return void 0===d&&(d=0),void 0===f&&(f=d),this._tempVec2.set(d,f),b.setPosition(this.body,this._tempVec2),this},setRotation:function(d){return void 0===d&&(d=0),this._rotation=g(d),b.setAngle(this.body,d),this},setFixedRotation:function(){return b.setInertia(this.body,1/0),this},setAngle:function(d){return void 0===d&&(d=0),this.angle=d,b.setAngle(this.body,this.rotation),this},setScale:function(d,f,c){void 0===d&&(d=1),void 0===f&&(f=d);var m=1/this._scaleX,v=1/this._scaleY;return this._scaleX=d,this._scaleY=f,b.scale(this.body,m,v,c),b.scale(this.body,d,f,c),this}}},42081:(_,k,a)=>{var b=a(22562);_.exports={setVelocityX:function(g){return this._tempVec2.set(g,this.body.velocity.y),b.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(g){return this._tempVec2.set(this.body.velocity.x,g),b.setVelocity(this.body,this._tempVec2),this},setVelocity:function(g,h){return this._tempVec2.set(g,h),b.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return b.getVelocity(this.body)},setAngularVelocity:function(g){return b.setAngularVelocity(this.body,g),this},getAngularVelocity:function(){return b.getAngularVelocity(this.body)},setAngularSpeed:function(g){return b.setAngularSpeed(this.body,g),this},getAngularSpeed:function(){return b.getAngularSpeed(this.body)}}},31884:(_,k,a)=>{_.exports={Bounce:a(70410),Collision:a(66968),Force:a(51607),Friction:a(5436),Gravity:a(39858),Mass:a(37302),Sensor:a(39132),SetBody:a(57772),Sleep:a(38083),Static:a(90556),Transform:a(85436),Velocity:a(42081)}},85608:_=>{_.exports="afteradd"},1213:_=>{_.exports="afterremove"},25968:_=>{_.exports="afterupdate"},67205:_=>{_.exports="beforeadd"},39438:_=>{_.exports="beforeremove"},44823:_=>{_.exports="beforeupdate"},92593:_=>{_.exports="collisionactive"},60128:_=>{_.exports="collisionend"},76861:_=>{_.exports="collisionstart"},92362:_=>{_.exports="dragend"},76408:_=>{_.exports="drag"},93971:_=>{_.exports="dragstart"},5656:_=>{_.exports="pause"},47861:_=>{_.exports="resume"},79099:_=>{_.exports="sleepend"},35906:_=>{_.exports="sleepstart"},1121:(_,k,a)=>{_.exports={AFTER_ADD:a(85608),AFTER_REMOVE:a(1213),AFTER_UPDATE:a(25968),BEFORE_ADD:a(67205),BEFORE_REMOVE:a(39438),BEFORE_UPDATE:a(44823),COLLISION_ACTIVE:a(92593),COLLISION_END:a(60128),COLLISION_START:a(76861),DRAG_END:a(92362),DRAG:a(76408),DRAG_START:a(93971),PAUSE:a(5656),RESUME:a(47861),SLEEP_END:a(79099),SLEEP_START:a(35906)}},3875:(_,k,a)=>{_.exports={BodyBounds:a(68174),Components:a(31884),Events:a(1121),Factory:a(28137),MatterGameObject:a(75803),Image:a(23181),Matter:a(19933),MatterPhysics:a(42045),PolyDecomp:a(55973),Sprite:a(34803),TileBody:a(73834),PhysicsEditorParser:a(19496),PhysicsJSONParser:a(85791),PointerConstraint:a(98713),World:a(68243)}},22562:(_,k,a)=>{var b={};_.exports=b;var T=a(41598),g=a(31725),h=a(53614),u=a(53402),l=a(15647),d=a(66615);!function(){b._timeCorrection=!0,b._inertiaScale=4,b._nextCollidingGroupId=1,b._nextNonCollidingGroupId=-1,b._nextCategory=1,b._baseDelta=16.666666666666668,b.create=function(c){var m={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:c.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!c.hasOwnProperty("position")&&c.hasOwnProperty("vertices")?c.position=T.centre(c.vertices):c.hasOwnProperty("vertices")||(m.vertices=T.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var v=u.extend(m,c);return f(v,c),v.setOnCollideWith=function(x,y){return y?this.onCollideWith[x.id]=y:delete this.onCollideWith[x.id],this},v},b.nextGroup=function(c){return c?b._nextNonCollidingGroupId--:b._nextCollidingGroupId++},b.nextCategory=function(){return b._nextCategory=b._nextCategory<<1,b._nextCategory};var f=function(c,m){if(m=m||{},b.set(c,{bounds:c.bounds||l.create(c.vertices),positionPrev:c.positionPrev||g.clone(c.position),anglePrev:c.anglePrev||c.angle,vertices:c.vertices,parts:c.parts||[c],isStatic:c.isStatic,isSleeping:c.isSleeping,parent:c.parent||c}),T.rotate(c.vertices,c.angle,c.position),d.rotate(c.axes,c.angle),l.update(c.bounds,c.vertices,c.velocity),b.set(c,{axes:m.axes||c.axes,area:m.area||c.area,mass:m.mass||c.mass,inertia:m.inertia||c.inertia}),1===c.parts.length){var v=c.bounds,x=c.centerOfMass,y=c.centerOffset,w=v.max.x-v.min.x,E=v.max.y-v.min.y;x.x=-(v.min.x-c.position.x)/w,x.y=-(v.min.y-c.position.y)/E,y.x=w*x.x,y.y=E*x.y}};b.set=function(c,m,v){var x;for(x in"string"==typeof m&&(x=m,(m={})[x]=v),m)if(Object.prototype.hasOwnProperty.call(m,x))switch(v=m[x],x){case"isStatic":b.setStatic(c,v);break;case"isSleeping":h.set(c,v);break;case"mass":b.setMass(c,v);break;case"density":b.setDensity(c,v);break;case"inertia":b.setInertia(c,v);break;case"vertices":b.setVertices(c,v);break;case"position":b.setPosition(c,v);break;case"angle":b.setAngle(c,v);break;case"velocity":b.setVelocity(c,v);break;case"angularVelocity":b.setAngularVelocity(c,v);break;case"speed":b.setSpeed(c,v);break;case"angularSpeed":b.setAngularSpeed(c,v);break;case"parts":b.setParts(c,v);break;case"centre":b.setCentre(c,v);break;default:c[x]=v}},b.setStatic=function(c,m){for(var v=0;v<c.parts.length;v++){var x=c.parts[v];m?(x.isStatic||(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia}),x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null),x.isStatic=m}},b.setMass=function(c,m){c.inertia=c.inertia/(c.mass/6)*(m/6),c.inverseInertia=1/c.inertia,c.mass=m,c.inverseMass=1/c.mass,c.density=c.mass/c.area},b.setDensity=function(c,m){b.setMass(c,m*c.area),c.density=m},b.setInertia=function(c,m){c.inertia=m,c.inverseInertia=1/c.inertia},b.setVertices=function(c,m){c.vertices=m[0].body===c?m:T.create(m,c),c.axes=d.fromVertices(c.vertices),c.area=T.area(c.vertices),b.setMass(c,c.density*c.area);var v=T.centre(c.vertices);T.translate(c.vertices,v,-1),b.setInertia(c,b._inertiaScale*T.inertia(c.vertices,c.mass)),T.translate(c.vertices,c.position),l.update(c.bounds,c.vertices,c.velocity)},b.setParts=function(c,m,v){var x;for(m=m.slice(0),c.parts.length=0,c.parts.push(c),c.parent=c,x=0;x<m.length;x++){var y=m[x];y!==c&&(y.parent=c,c.parts.push(y))}if(1!==c.parts.length){if(v=!(typeof v<"u")||v){var w=[];for(x=0;x<m.length;x++)w=w.concat(m[x].vertices);T.clockwiseSort(w);var E=T.hull(w),S=T.centre(E);b.setVertices(c,E),T.translate(c.vertices,S)}var A=b._totalProperties(c),I=A.centre.x,M=A.centre.y,P=c.bounds,O=c.centerOfMass,N=c.centerOffset;l.update(P,c.vertices,c.velocity),O.x=-(P.min.x-I)/(P.max.x-P.min.x),O.y=-(P.min.y-M)/(P.max.y-P.min.y),N.x=I,N.y=M,c.area=A.area,c.parent=c,c.position.x=I,c.position.y=M,c.positionPrev.x=I,c.positionPrev.y=M,b.setMass(c,A.mass),b.setInertia(c,A.inertia),b.setPosition(c,A.centre)}},b.setCentre=function(c,m,v){v?(c.positionPrev.x+=m.x,c.positionPrev.y+=m.y,c.position.x+=m.x,c.position.y+=m.y):(c.positionPrev.x=m.x-(c.position.x-c.positionPrev.x),c.positionPrev.y=m.y-(c.position.y-c.positionPrev.y),c.position.x=m.x,c.position.y=m.y)},b.setPosition=function(c,m,v){var x=g.sub(m,c.position);v?(c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.velocity.x=x.x,c.velocity.y=x.y,c.speed=g.magnitude(x)):(c.positionPrev.x+=x.x,c.positionPrev.y+=x.y);for(var y=0;y<c.parts.length;y++){var w=c.parts[y];w.position.x+=x.x,w.position.y+=x.y,T.translate(w.vertices,x),l.update(w.bounds,w.vertices,c.velocity)}},b.setAngle=function(c,m,v){var x=m-c.angle;v?(c.anglePrev=c.angle,c.angularVelocity=x,c.angularSpeed=Math.abs(x)):c.anglePrev+=x;for(var y=0;y<c.parts.length;y++){var w=c.parts[y];w.angle+=x,T.rotate(w.vertices,x,c.position),d.rotate(w.axes,x),l.update(w.bounds,w.vertices,c.velocity),y>0&&g.rotateAbout(w.position,x,c.position,w.position)}},b.setVelocity=function(c,m){var v=c.deltaTime/b._baseDelta;c.positionPrev.x=c.position.x-m.x*v,c.positionPrev.y=c.position.y-m.y*v,c.velocity.x=(c.position.x-c.positionPrev.x)/v,c.velocity.y=(c.position.y-c.positionPrev.y)/v,c.speed=g.magnitude(c.velocity)},b.getVelocity=function(c){var m=b._baseDelta/c.deltaTime;return{x:(c.position.x-c.positionPrev.x)*m,y:(c.position.y-c.positionPrev.y)*m}},b.getSpeed=function(c){return g.magnitude(b.getVelocity(c))},b.setSpeed=function(c,m){b.setVelocity(c,g.mult(g.normalise(b.getVelocity(c)),m))},b.setAngularVelocity=function(c,m){var v=c.deltaTime/b._baseDelta;c.anglePrev=c.angle-m*v,c.angularVelocity=(c.angle-c.anglePrev)/v,c.angularSpeed=Math.abs(c.angularVelocity)},b.getAngularVelocity=function(c){return(c.angle-c.anglePrev)*b._baseDelta/c.deltaTime},b.getAngularSpeed=function(c){return Math.abs(b.getAngularVelocity(c))},b.setAngularSpeed=function(c,m){b.setAngularVelocity(c,u.sign(b.getAngularVelocity(c))*m)},b.translate=function(c,m,v){b.setPosition(c,g.add(c.position,m),v)},b.rotate=function(c,m,v,x){if(v){var y=Math.cos(m),w=Math.sin(m),E=c.position.x-v.x,S=c.position.y-v.y;b.setPosition(c,{x:v.x+(E*y-S*w),y:v.y+(E*w+S*y)},x),b.setAngle(c,c.angle+m,x)}else b.setAngle(c,c.angle+m,x)},b.scale=function(c,m,v,x){var y=0,w=0;x=x||c.position;for(var E=c.inertia===1/0,S=0;S<c.parts.length;S++){var A=c.parts[S];A.scale.x=m,A.scale.y=v,T.scale(A.vertices,m,v,x),A.axes=d.fromVertices(A.vertices),A.area=T.area(A.vertices),b.setMass(A,c.density*A.area),T.translate(A.vertices,{x:-A.position.x,y:-A.position.y}),b.setInertia(A,b._inertiaScale*T.inertia(A.vertices,A.mass)),T.translate(A.vertices,{x:A.position.x,y:A.position.y}),S>0&&(y+=A.area,w+=A.inertia),A.position.x=x.x+(A.position.x-x.x)*m,A.position.y=x.y+(A.position.y-x.y)*v,l.update(A.bounds,A.vertices,c.velocity)}c.parts.length>1&&(c.area=y,c.isStatic||(b.setMass(c,c.density*y),b.setInertia(c,w))),c.circleRadius&&(m===v?c.circleRadius*=m:c.circleRadius=null),E&&b.setInertia(c,1/0)},b.update=function(c,m){var v=(m=(typeof m<"u"?m:16.666666666666668)*c.timeScale)*m,x=b._timeCorrection?m/(c.deltaTime||m):1,y=1-c.frictionAir*(m/u._baseDelta),E=(c.position.y-c.positionPrev.y)*x;c.velocity.x=(c.position.x-c.positionPrev.x)*x*y+c.force.x/c.mass*v,c.velocity.y=E*y+c.force.y/c.mass*v,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.position.x+=c.velocity.x,c.position.y+=c.velocity.y,c.deltaTime=m,c.angularVelocity=(c.angle-c.anglePrev)*y*x+c.torque/c.inertia*v,c.anglePrev=c.angle,c.angle+=c.angularVelocity,c.speed=g.magnitude(c.velocity),c.angularSpeed=Math.abs(c.angularVelocity);for(var S=0;S<c.parts.length;S++){var A=c.parts[S];T.translate(A.vertices,c.velocity),S>0&&(A.position.x+=c.velocity.x,A.position.y+=c.velocity.y),0!==c.angularVelocity&&(T.rotate(A.vertices,c.angularVelocity,c.position),d.rotate(A.axes,c.angularVelocity),S>0&&g.rotateAbout(A.position,c.angularVelocity,c.position,A.position)),l.update(A.bounds,A.vertices,c.velocity)}},b.updateVelocities=function(c){var m=b._baseDelta/c.deltaTime,v=c.velocity;v.x=(c.position.x-c.positionPrev.x)*m,v.y=(c.position.y-c.positionPrev.y)*m,c.speed=Math.sqrt(v.x*v.x+v.y*v.y),c.angularVelocity=(c.angle-c.anglePrev)*m,c.angularSpeed=Math.abs(c.angularVelocity)},b.applyForce=function(c,m,v){var x_x=m.x-c.position.x,x_y=m.y-c.position.y;c.force.x+=v.x,c.force.y+=v.y,c.torque+=x_x*v.y-x_y*v.x},b._totalProperties=function(c){for(var m={mass:0,area:0,inertia:0,centre:{x:0,y:0}},v=1===c.parts.length?0:1;v<c.parts.length;v++){var x=c.parts[v],y=x.mass!==1/0?x.mass:1;m.mass+=y,m.area+=x.area,m.inertia+=x.inertia,m.centre=g.add(m.centre,g.mult(x.position,y))}return m.centre=g.div(m.centre,m.mass),m},b.wrap=function(c,m){var v=l.wrap(c.bounds,m);return v&&b.translate(c,v),v}}()},69351:(_,k,a)=>{var b={};_.exports=b;var T=a(35810),g=a(53402),h=a(15647),u=a(22562);b.create=function(l){return g.extend({id:g.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},l)},b.setModified=function(l,d,f,c){if(T.trigger(l,"compositeModified",l),l.isModified=d,d&&l.cache&&(l.cache.allBodies=null,l.cache.allConstraints=null,l.cache.allComposites=null),f&&l.parent&&b.setModified(l.parent,d,f,c),c)for(var m=0;m<l.composites.length;m++)b.setModified(l.composites[m],d,f,c)},b.add=function(l,d){var f=[].concat(d);T.trigger(l,"beforeAdd",{object:d});for(var c=0;c<f.length;c++){var m=f[c];switch(m.type){case"body":if(m.parent!==m){g.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}b.addBody(l,m);break;case"constraint":b.addConstraint(l,m);break;case"composite":b.addComposite(l,m);break;case"mouseConstraint":b.addConstraint(l,m.constraint)}}return T.trigger(l,"afterAdd",{object:d}),l},b.remove=function(l,d,f){var c=[].concat(d);T.trigger(l,"beforeRemove",{object:d});for(var m=0;m<c.length;m++){var v=c[m];switch(v.type){case"body":b.removeBody(l,v,f);break;case"constraint":b.removeConstraint(l,v,f);break;case"composite":b.removeComposite(l,v,f);break;case"mouseConstraint":b.removeConstraint(l,v.constraint)}}return T.trigger(l,"afterRemove",{object:d}),l},b.addComposite=function(l,d){return l.composites.push(d),d.parent=l,b.setModified(l,!0,!0,!1),l},b.removeComposite=function(l,d,f){var c=g.indexOf(l.composites,d);if(-1!==c){var m=b.allBodies(d);b.removeCompositeAt(l,c);for(var v=0;v<m.length;v++)m[v].sleepCounter=0}if(f)for(v=0;v<l.composites.length;v++)b.removeComposite(l.composites[v],d,!0);return l},b.removeCompositeAt=function(l,d){return l.composites.splice(d,1),b.setModified(l,!0,!0,!1),l},b.addBody=function(l,d){return l.bodies.push(d),b.setModified(l,!0,!0,!1),l},b.removeBody=function(l,d,f){var c=g.indexOf(l.bodies,d);if(-1!==c&&(b.removeBodyAt(l,c),d.sleepCounter=0),f)for(var m=0;m<l.composites.length;m++)b.removeBody(l.composites[m],d,!0);return l},b.removeBodyAt=function(l,d){return l.bodies.splice(d,1),b.setModified(l,!0,!0,!1),l},b.addConstraint=function(l,d){return l.constraints.push(d),b.setModified(l,!0,!0,!1),l},b.removeConstraint=function(l,d,f){var c=g.indexOf(l.constraints,d);if(-1!==c&&b.removeConstraintAt(l,c),f)for(var m=0;m<l.composites.length;m++)b.removeConstraint(l.composites[m],d,!0);return l},b.removeConstraintAt=function(l,d){return l.constraints.splice(d,1),b.setModified(l,!0,!0,!1),l},b.clear=function(l,d,f){if(f)for(var c=0;c<l.composites.length;c++)b.clear(l.composites[c],d,!0);return d?l.bodies=l.bodies.filter(function(m){return m.isStatic}):l.bodies.length=0,l.constraints.length=0,l.composites.length=0,b.setModified(l,!0,!0,!1),l},b.allBodies=function(l){if(l.cache&&l.cache.allBodies)return l.cache.allBodies;for(var d=[].concat(l.bodies),f=0;f<l.composites.length;f++)d=d.concat(b.allBodies(l.composites[f]));return l.cache&&(l.cache.allBodies=d),d},b.allConstraints=function(l){if(l.cache&&l.cache.allConstraints)return l.cache.allConstraints;for(var d=[].concat(l.constraints),f=0;f<l.composites.length;f++)d=d.concat(b.allConstraints(l.composites[f]));return l.cache&&(l.cache.allConstraints=d),d},b.allComposites=function(l){if(l.cache&&l.cache.allComposites)return l.cache.allComposites;for(var d=[].concat(l.composites),f=0;f<l.composites.length;f++)d=d.concat(b.allComposites(l.composites[f]));return l.cache&&(l.cache.allComposites=d),d},b.get=function(l,d,f){var c,m;switch(f){case"body":c=b.allBodies(l);break;case"constraint":c=b.allConstraints(l);break;case"composite":c=b.allComposites(l).concat(l)}return c?0===(m=c.filter(function(v){return v.id.toString()===d.toString()})).length?null:m[0]:null},b.move=function(l,d,f){return b.remove(l,d),b.add(f,d),l},b.rebase=function(l){for(var d=b.allBodies(l).concat(b.allConstraints(l)).concat(b.allComposites(l)),f=0;f<d.length;f++)d[f].id=g.nextId();return l},b.translate=function(l,d,f){for(var c=f?b.allBodies(l):l.bodies,m=0;m<c.length;m++)u.translate(c[m],d);return l},b.rotate=function(l,d,f,c){for(var m=Math.cos(d),v=Math.sin(d),x=c?b.allBodies(l):l.bodies,y=0;y<x.length;y++){var w=x[y],E=w.position.x-f.x,S=w.position.y-f.y;u.setPosition(w,{x:f.x+(E*m-S*v),y:f.y+(E*v+S*m)}),u.rotate(w,d)}return l},b.scale=function(l,d,f,c,m){for(var v=m?b.allBodies(l):l.bodies,x=0;x<v.length;x++){var y=v[x];u.setPosition(y,{x:c.x+(y.position.x-c.x)*d,y:c.y+(y.position.y-c.y)*f}),u.scale(y,d,f)}return l},b.bounds=function(l){for(var d=b.allBodies(l),f=[],c=0;c<d.length;c+=1){var m=d[c];f.push(m.bounds.min,m.bounds.max)}return h.create(f)},b.wrap=function(l,d){var f=h.wrap(b.bounds(l),d);return f&&b.translate(l,f),f}},4372:(_,k,a)=>{var b={};_.exports=b;var T=a(69351);b.create=T.create,b.add=T.add,b.remove=T.remove,b.clear=T.clear,b.addComposite=T.addComposite,b.addBody=T.addBody,b.addConstraint=T.addConstraint},52284:(_,k,a)=>{var b={};_.exports=b;var h,u,l,T=a(41598),g=a(4506);h=[],u={overlap:0,axis:null},l={overlap:0,axis:null},b.create=function(d,f){return{pair:null,collided:!1,bodyA:d,bodyB:f,parentA:d.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},b.collides=function(d,f,c){if(b._overlapAxes(u,d.vertices,f.vertices,d.axes),u.overlap<=0||(b._overlapAxes(l,f.vertices,d.vertices,f.axes),l.overlap<=0))return null;var v,x,m=c&&c.table[g.id(d,f)];m?v=m.collision:((v=b.create(d,f)).collided=!0,v.bodyA=d.id<f.id?d:f,v.bodyB=d.id<f.id?f:d,v.parentA=v.bodyA.parent,v.parentB=v.bodyB.parent);var y=v.normal,w=v.tangent,E=v.penetration,S=v.supports,A=(x=u.overlap<l.overlap?u:l).overlap,I=x.axis,M=I.x,P=I.y;M*((f=v.bodyB).position.x-(d=v.bodyA).position.x)+P*(f.position.y-d.position.y)>=0&&(M=-M,P=-P),y.x=M,y.y=P,w.x=-P,w.y=M,E.x=M*A,E.y=P*A,v.depth=A;var L=b._findSupports(d,f,y,1),G=0;if(T.contains(d.vertices,L[0])&&(S[G++]=L[0]),T.contains(d.vertices,L[1])&&(S[G++]=L[1]),G<2){var j=b._findSupports(f,d,y,-1);T.contains(f.vertices,j[0])&&(S[G++]=j[0]),G<2&&T.contains(f.vertices,j[1])&&(S[G++]=j[1])}return 0===G&&(S[G++]=L[0]),v.supportCount=G,v},b._overlapAxes=function(d,f,c,m){var P,O,N,L,G,j,v=f.length,x=c.length,y=f[0].x,w=f[0].y,E=c[0].x,S=c[0].y,A=m.length,I=Number.MAX_VALUE,M=0;for(G=0;G<A;G++){var z=m[G],Y=z.x,Z=z.y,rt=y*Y+w*Z,st=E*Y+S*Z,K=rt,tt=st;for(j=1;j<v;j+=1)(L=f[j].x*Y+f[j].y*Z)>K?K=L:L<rt&&(rt=L);for(j=1;j<x;j+=1)(L=c[j].x*Y+c[j].y*Z)>tt?tt=L:L<st&&(st=L);if((P=(O=K-st)<(N=tt-rt)?O:N)<I&&(I=P,M=G,P<=0))break}d.axis=m[M],d.overlap=I},b._findSupports=function(d,f,c,m){var P,O,N,v=f.vertices,x=v.length,y=d.position.x,w=d.position.y,E=c.x*m,S=c.y*m,A=v[0],I=A,M=E*(y-I.x)+S*(w-I.y);for(N=1;N<x;N+=1)(O=E*(y-(I=v[N]).x)+S*(w-I.y))<M&&(M=O,A=I);return E*(y-(I=v[(A.index+1)%x]).x)+S*(w-I.y)<(M=E*(y-(P=v[(x+A.index-1)%x]).x)+S*(w-P.y))?(h[0]=A,h[1]=I,h):(h[0]=A,h[1]=P,h)}},43424:_=>{var k={};_.exports=k,k.create=function(a){return{vertex:a,normalImpulse:0,tangentImpulse:0}}},81388:(_,k,a)=>{var b={};_.exports=b;var T=a(53402),g=a(52284);b.create=function(h){return T.extend({bodies:[],collisions:[],pairs:null},h)},b.setBodies=function(h,u){h.bodies=u.slice(0)},b.clear=function(h){h.bodies=[],h.collisions=[]},b.collisions=function(h){var x,y,u=h.pairs,l=h.bodies,d=l.length,f=b.canCollide,c=g.collides,m=h.collisions,v=0;for(l.sort(b._compareBoundsX),x=0;x<d;x++){var w=l[x],E=w.bounds,S=w.bounds.max.x,A=w.bounds.max.y,I=w.bounds.min.y,M=w.isStatic||w.isSleeping,P=w.parts.length,O=1===P;for(y=x+1;y<d;y++){var N=l[y];if((L=N.bounds).min.x>S)break;if(!(A<L.min.y||I>L.max.y)&&(!M||!N.isStatic&&!N.isSleeping)&&f(w.collisionFilter,N.collisionFilter)){var G=N.parts.length;if(O&&1===G)(j=c(w,N,u))&&(m[v++]=j);else for(var Y=G>1?1:0,Z=P>1?1:0;Z<P;Z++)for(var rt=w.parts[Z],st=(E=rt.bounds,Y);st<G;st++){var L,j,K=N.parts[st];E.min.x>(L=K.bounds).max.x||E.max.x<L.min.x||E.max.y<L.min.y||E.min.y>L.max.y||(j=c(rt,K,u))&&(m[v++]=j)}}}}return m.length!==v&&(m.length=v),m},b.canCollide=function(h,u){return h.group===u.group&&0!==h.group?h.group>0:!!(h.mask&u.category)&&!!(u.mask&h.category)},b._compareBoundsX=function(h,u){return h.bounds.min.x-u.bounds.min.x}},4506:(_,k,a)=>{var b={};_.exports=b;var T=a(43424);b.create=function(g,h){var u=g.bodyA,l=g.bodyB,d={id:b.id(u,l),bodyA:u,bodyB:l,collision:g,contacts:[T.create(),T.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||l.isSensor,timeCreated:h,timeUpdated:h,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return b.update(d,g,h),d},b.update=function(g,h,u){var l=h.supports,d=h.supportCount,f=g.contacts,c=h.parentA,m=h.parentB;g.isActive=!0,g.timeUpdated=u,g.collision=h,g.separation=h.depth,g.inverseMass=c.inverseMass+m.inverseMass,g.friction=c.friction<m.friction?c.friction:m.friction,g.frictionStatic=c.frictionStatic>m.frictionStatic?c.frictionStatic:m.frictionStatic,g.restitution=c.restitution>m.restitution?c.restitution:m.restitution,g.slop=c.slop>m.slop?c.slop:m.slop,g.contactCount=d,h.pair=g;var v=l[0],x=f[0],y=l[1],w=f[1];(w.vertex===v||x.vertex===y)&&(f[1]=x,f[0]=x=w,w=f[1]),x.vertex=v,w.vertex=y},b.setActive=function(g,h,u){h?(g.isActive=!0,g.timeUpdated=u):(g.isActive=!1,g.contactCount=0)},b.id=function(g,h){return g.id<h.id?g.id.toString(36)+":"+h.id.toString(36):h.id.toString(36)+":"+g.id.toString(36)}},99561:(_,k,a)=>{var b={};_.exports=b;var T=a(4506),g=a(53402);b.create=function(h){return g.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},b.update=function(h,u,l){var O,N,L,d=T.update,f=T.create,c=T.setActive,m=h.table,v=h.list,x=v.length,y=x,w=h.collisionStart,E=h.collisionEnd,S=h.collisionActive,A=u.length,I=0,M=0,P=0;for(L=0;L<A;L++)(N=(O=u[L]).pair)?(N.isActive&&(S[P++]=N),d(N,O,l)):(m[(N=f(O,l)).id]=N,w[I++]=N,v[y++]=N);for(y=0,x=v.length,L=0;L<x;L++)(N=v[L]).timeUpdated>=l?v[y++]=N:(c(N,!1,l),N.collision.bodyA.sleepCounter>0&&N.collision.bodyB.sleepCounter>0?v[y++]=N:(E[M++]=N,delete m[N.id]));v.length!==y&&(v.length=y),w.length!==I&&(w.length=I),E.length!==M&&(E.length=M),S.length!==P&&(S.length=P)},b.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}},73296:(_,k,a)=>{var b={};_.exports=b;var T=a(31725),g=a(52284),h=a(15647),u=a(66280),l=a(41598);b.collides=function(d,f){for(var c=[],m=f.length,v=d.bounds,x=g.collides,y=h.overlaps,w=0;w<m;w++){var E=f[w],S=E.parts.length,A=1===S?0:1;if(d!==E&&y(E.bounds,v))for(var I=A;I<S;I++){var M=E.parts[I];if(y(M.bounds,v)){var P=x(M,d);if(P){c.push(P);break}}}}return c},b.ray=function(d,f,c,m){m=m||1e-100;for(var v=T.angle(f,c),x=T.magnitude(T.sub(f,c)),E=u.rectangle(.5*(c.x+f.x),.5*(c.y+f.y),x,m,{angle:v}),S=b.collides(E,d),A=0;A<S.length;A+=1){var I=S[A];I.body=I.bodyB=I.bodyA}return S},b.region=function(d,f,c){for(var m=[],v=0;v<d.length;v++){var x=d[v],y=h.overlaps(x.bounds,f);(y&&!c||!y&&c)&&m.push(x)}return m},b.point=function(d,f){for(var c=[],m=0;m<d.length;m++){var v=d[m];if(h.contains(v.bounds,f))for(var x=1===v.parts.length?0:1;x<v.parts.length;x++){var y=v.parts[x];if(h.contains(y.bounds,f)&&l.contains(y.vertices,f)){c.push(v);break}}}return c}},66272:(_,k,a)=>{var b={};_.exports=b;var T=a(41598),g=a(53402),h=a(15647);b._restingThresh=2,b._restingThreshTangent=Math.sqrt(6),b._positionDampen=.9,b._positionWarming=.8,b._frictionNormalMultiplier=5,b._frictionMaxStatic=Number.MAX_VALUE,b.preSolvePosition=function(u){var l,d,f,c=u.length;for(l=0;l<c;l++)(d=u[l]).isActive&&(d.collision.parentA.totalContacts+=f=d.contactCount,d.collision.parentB.totalContacts+=f)},b.solvePosition=function(u,l,d){var f,c,m,v,x,y,w,E,S=b._positionDampen*(d||1),A=g.clamp(l/g._baseDelta,0,1),I=u.length;for(f=0;f<I;f++)(c=u[f]).isActive&&!c.isSensor&&(c.separation=(m=c.collision).depth+(y=m.normal).x*((x=m.parentB).positionImpulse.x-(v=m.parentA).positionImpulse.x)+y.y*(x.positionImpulse.y-v.positionImpulse.y));for(f=0;f<I;f++)(c=u[f]).isActive&&!c.isSensor&&(x=(m=c.collision).parentB,y=m.normal,E=c.separation-c.slop*A,((v=m.parentA).isStatic||x.isStatic)&&(E*=2),v.isStatic||v.isSleeping||(v.positionImpulse.x+=y.x*E*(w=S/v.totalContacts),v.positionImpulse.y+=y.y*E*w),x.isStatic||x.isSleeping||(x.positionImpulse.x-=y.x*E*(w=S/x.totalContacts),x.positionImpulse.y-=y.y*E*w))},b.postSolvePosition=function(u){for(var l=b._positionWarming,d=u.length,f=T.translate,c=h.update,m=0;m<d;m++){var v=u[m],x=v.positionImpulse,y=x.x,w=x.y,E=v.velocity;if(v.totalContacts=0,0!==y||0!==w){for(var S=0;S<v.parts.length;S++){var A=v.parts[S];f(A.vertices,x),c(A.bounds,A.vertices,E),A.position.x+=y,A.position.y+=w}v.positionPrev.x+=y,v.positionPrev.y+=w,y*E.x+w*E.y<0?(x.x=0,x.y=0):(x.x*=l,x.y*=l)}}},b.preSolveVelocity=function(u){var d,f,l=u.length;for(d=0;d<l;d++){var c=u[d];if(c.isActive&&!c.isSensor){var m=c.contacts,v=c.contactCount,x=c.collision,y=x.parentA,w=x.parentB,E=x.normal,S=x.tangent;for(f=0;f<v;f++){var A=m[f],I=A.vertex,M=A.normalImpulse,P=A.tangentImpulse;if(0!==M||0!==P){var O=E.x*M+S.x*P,N=E.y*M+S.y*P;y.isStatic||y.isSleeping||(y.positionPrev.x+=O*y.inverseMass,y.positionPrev.y+=N*y.inverseMass,y.anglePrev+=y.inverseInertia*((I.x-y.position.x)*N-(I.y-y.position.y)*O)),w.isStatic||w.isSleeping||(w.positionPrev.x-=O*w.inverseMass,w.positionPrev.y-=N*w.inverseMass,w.anglePrev-=w.inverseInertia*((I.x-w.position.x)*N-(I.y-w.position.y)*O))}}}}},b.solveVelocity=function(u,l){var E,S,A,I,d=l/g._baseDelta,c=d*d*d,m=-b._restingThresh*d,v=b._restingThreshTangent,x=b._frictionNormalMultiplier*d,y=b._frictionMaxStatic,w=u.length;for(A=0;A<w;A++){var M=u[A];if(M.isActive&&!M.isSensor){var P=M.collision,O=P.parentA,N=P.parentB,L=P.normal.x,G=P.normal.y,j=P.tangent.x,z=P.tangent.y,Y=M.inverseMass,Z=M.friction*M.frictionStatic*x,rt=M.contacts,st=M.contactCount,K=1/st,tt=O.position.x-O.positionPrev.x,W=O.position.y-O.positionPrev.y,H=O.angle-O.anglePrev,it=N.position.x-N.positionPrev.x,dt=N.position.y-N.positionPrev.y,mt=N.angle-N.anglePrev;for(I=0;I<st;I++){var vt=rt[I],Tt=vt.vertex,Nt=Tt.x-O.position.x,Yt=Tt.y-O.position.y,$t=Tt.x-N.position.x,Zt=Tt.y-N.position.y,Me=tt-Yt*H-(it-Zt*mt),Ti=W+Nt*H-(dt+$t*mt),xe=L*Me+G*Ti,ni=j*Me+z*Ti,Qe=M.separation+xe,zi=Math.min(Qe,1),_n=(zi=Qe<0?0:zi)*Z;ni<-_n||ni>_n?(E=M.friction*(ni>0?1:-1)*c)<-(S=ni>0?ni:-ni)?E=-S:E>S&&(E=S):(E=ni,S=y);var er=Nt*G-Yt*L,vn=$t*G-Zt*L,wn=K/(Y+O.inverseInertia*er*er+N.inverseInertia*vn*vn),Rr=(1+M.restitution)*xe*wn;if(E*=wn,xe<m)vt.normalImpulse=0;else{var ts=vt.normalImpulse;vt.normalImpulse+=Rr,vt.normalImpulse>0&&(vt.normalImpulse=0),Rr=vt.normalImpulse-ts}if(ni<-v||ni>v)vt.tangentImpulse=0;else{var An=vt.tangentImpulse;vt.tangentImpulse+=E,vt.tangentImpulse<-S&&(vt.tangentImpulse=-S),vt.tangentImpulse>S&&(vt.tangentImpulse=S),E=vt.tangentImpulse-An}var mr=L*Rr+j*E,jr=G*Rr+z*E;O.isStatic||O.isSleeping||(O.positionPrev.x+=mr*O.inverseMass,O.positionPrev.y+=jr*O.inverseMass,O.anglePrev+=(Nt*jr-Yt*mr)*O.inverseInertia),N.isStatic||N.isSleeping||(N.positionPrev.x-=mr*N.inverseMass,N.positionPrev.y-=jr*N.inverseMass,N.anglePrev-=($t*jr-Zt*mr)*N.inverseInertia)}}}}},48140:(_,k,a)=>{var b={};_.exports=b;var T=a(41598),g=a(31725),h=a(53614),u=a(15647),l=a(66615),d=a(53402);b._warming=.4,b._torqueDampen=1,b._minLength=1e-6,b.create=function(f){var c=f;c.bodyA&&!c.pointA&&(c.pointA={x:0,y:0}),c.bodyB&&!c.pointB&&(c.pointB={x:0,y:0});var m=c.bodyA?g.add(c.bodyA.position,c.pointA):c.pointA,v=c.bodyB?g.add(c.bodyB.position,c.pointB):c.pointB,x=g.magnitude(g.sub(m,v));c.length=typeof c.length<"u"?c.length:x,c.id=c.id||d.nextId(),c.label=c.label||"Constraint",c.type="constraint",c.stiffness=c.stiffness||(c.length>0?1:.7),c.damping=c.damping||0,c.angularStiffness=c.angularStiffness||0,c.angleA=c.bodyA?c.bodyA.angle:c.angleA,c.angleB=c.bodyB?c.bodyB.angle:c.angleB,c.plugin={};var y={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===c.length&&c.stiffness>.1?(y.type="pin",y.anchors=!1):c.stiffness<.9&&(y.type="spring"),c.render=d.extend(y,c.render),c},b.preSolveAll=function(f){for(var c=0;c<f.length;c+=1){var m=f[c],v=m.constraintImpulse;m.isStatic||0===v.x&&0===v.y&&0===v.angle||(m.position.x+=v.x,m.position.y+=v.y,m.angle+=v.angle)}},b.solveAll=function(f,c){for(var m=d.clamp(c/d._baseDelta,0,1),v=0;v<f.length;v+=1){var x=f[v],y=!x.bodyA||x.bodyA&&x.bodyA.isStatic,w=!x.bodyB||x.bodyB&&x.bodyB.isStatic;(y||w)&&b.solve(f[v],m)}for(v=0;v<f.length;v+=1)w=!(x=f[v]).bodyB||x.bodyB&&x.bodyB.isStatic,!(y=!x.bodyA||x.bodyA&&x.bodyA.isStatic)&&!w&&b.solve(f[v],m)},b.solve=function(f,c){var m=f.bodyA,v=f.bodyB,x=f.pointA,y=f.pointB;if(m||v){m&&!m.isStatic&&(g.rotate(x,m.angle-f.angleA,x),f.angleA=m.angle),v&&!v.isStatic&&(g.rotate(y,v.angle-f.angleB,y),f.angleB=v.angle);var w=x,E=y;if(m&&(w=g.add(m.position,x)),v&&(E=g.add(v.position,y)),w&&E){var S=g.sub(w,E),A=g.magnitude(S);A<b._minLength&&(A=b._minLength);var z,Y,Z,rt,st,O=f.damping*c,N=g.mult(S,(A-f.length)/A*(f.stiffness>=1||0===f.length?f.stiffness*c:f.stiffness*c*c)),L=(m?m.inverseMass:0)+(v?v.inverseMass:0),j=L+((m?m.inverseInertia:0)+(v?v.inverseInertia:0));if(O>0){var K=g.create();Z=g.div(S,A),st=g.sub(v&&g.sub(v.position,v.positionPrev)||K,m&&g.sub(m.position,m.positionPrev)||K),rt=g.dot(Z,st)}m&&!m.isStatic&&(m.constraintImpulse.x-=N.x*(Y=m.inverseMass/L),m.constraintImpulse.y-=N.y*Y,m.position.x-=N.x*Y,m.position.y-=N.y*Y,O>0&&(m.positionPrev.x-=O*Z.x*rt*Y,m.positionPrev.y-=O*Z.y*rt*Y),z=g.cross(x,N)/j*b._torqueDampen*m.inverseInertia*(1-f.angularStiffness),m.constraintImpulse.angle-=z,m.angle-=z),v&&!v.isStatic&&(v.constraintImpulse.x+=N.x*(Y=v.inverseMass/L),v.constraintImpulse.y+=N.y*Y,v.position.x+=N.x*Y,v.position.y+=N.y*Y,O>0&&(v.positionPrev.x+=O*Z.x*rt*Y,v.positionPrev.y+=O*Z.y*rt*Y),z=g.cross(y,N)/j*b._torqueDampen*v.inverseInertia*(1-f.angularStiffness),v.constraintImpulse.angle+=z,v.angle+=z)}}},b.postSolveAll=function(f){for(var c=0;c<f.length;c++){var m=f[c],v=m.constraintImpulse;if(!(m.isStatic||0===v.x&&0===v.y&&0===v.angle)){h.set(m,!1);for(var x=0;x<m.parts.length;x++){var y=m.parts[x];T.translate(y.vertices,v),x>0&&(y.position.x+=v.x,y.position.y+=v.y),0!==v.angle&&(T.rotate(y.vertices,v.angle,m.position),l.rotate(y.axes,v.angle),x>0&&g.rotateAbout(y.position,v.angle,m.position,y.position)),u.update(y.bounds,y.vertices,m.velocity)}v.angle*=b._warming,v.x*=b._warming,v.y*=b._warming}}},b.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},b.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},b.currentLength=function(f){var y=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0)-((f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0)),w=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)-((f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0));return Math.sqrt(y*y+w*w)}},53402:(_,k,a)=>{var b={};_.exports=b,function(){b._baseDelta=16.666666666666668,b._nextId=0,b._seed=0,b._nowStartTime=+new Date,b._warnedOnce={},b._decomp=null,b.extend=function(g,h){var u,d;"boolean"==typeof h?(u=2,d=h):(u=1,d=!0);for(var f=u;f<arguments.length;f++){var c=arguments[f];if(c)for(var m in c)!d||!c[m]||c[m].constructor!==Object||g[m]&&g[m].constructor!==Object?g[m]=c[m]:(g[m]=g[m]||{},b.extend(g[m],d,c[m]))}return g},b.clone=function(g,h){return b.extend({},h,g)},b.keys=function(g){if(Object.keys)return Object.keys(g);var h=[];for(var u in g)h.push(u);return h},b.values=function(g){var h=[];if(Object.keys){for(var u=Object.keys(g),l=0;l<u.length;l++)h.push(g[u[l]]);return h}for(var d in g)h.push(g[d]);return h},b.get=function(g,h,u,l){h=h.split(".").slice(u,l);for(var d=0;d<h.length;d+=1)g=g[h[d]];return g},b.set=function(g,h,u,l,d){var f=h.split(".").slice(l,d);return b.get(g,h,0,-1)[f[f.length-1]]=u,u},b.shuffle=function(g){for(var h=g.length-1;h>0;h--){var u=Math.floor(b.random()*(h+1)),l=g[h];g[h]=g[u],g[u]=l}return g},b.choose=function(g){return g[Math.floor(b.random()*g.length)]},b.isElement=function(g){return typeof HTMLElement<"u"?g instanceof HTMLElement:!!(g&&g.nodeType&&g.nodeName)},b.isArray=function(g){return"[object Array]"===Object.prototype.toString.call(g)},b.isFunction=function(g){return"function"==typeof g},b.isPlainObject=function(g){return"object"==typeof g&&g.constructor===Object},b.isString=function(g){return"[object String]"===toString.call(g)},b.clamp=function(g,h,u){return g<h?h:g>u?u:g},b.sign=function(g){return g<0?-1:1},b.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-b._nowStartTime},b.random=function(g,h){return h=typeof h<"u"?h:1,(g=typeof g<"u"?g:0)+T()*(h-g)};var T=function(){return b._seed=(9301*b._seed+49297)%233280,b._seed/233280};b.colorToNumber=function(g){return 3==(g=g.replace("#","")).length&&(g=g.charAt(0)+g.charAt(0)+g.charAt(1)+g.charAt(1)+g.charAt(2)+g.charAt(2)),parseInt(g,16)},b.logLevel=1,b.log=function(){console&&b.logLevel>0&&b.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},b.info=function(){console&&b.logLevel>0&&b.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},b.warn=function(){console&&b.logLevel>0&&b.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},b.warnOnce=function(){var g=Array.prototype.slice.call(arguments).join(" ");b._warnedOnce[g]||(b.warn(g),b._warnedOnce[g]=!0)},b.deprecated=function(g,h,u){g[h]=b.chain(function(){b.warnOnce("\u{1f505} deprecated \u{1f505}",u)},g[h])},b.nextId=function(){return b._nextId++},b.indexOf=function(g,h){if(g.indexOf)return g.indexOf(h);for(var u=0;u<g.length;u++)if(g[u]===h)return u;return-1},b.map=function(g,h){if(g.map)return g.map(h);for(var u=[],l=0;l<g.length;l+=1)u.push(h(g[l]));return u},b.topologicalSort=function(g){var h=[],u=[],l=[];for(var d in g)!u[d]&&!l[d]&&b._topologicalSort(d,u,l,g,h);return h},b._topologicalSort=function(g,h,u,l,d){var f=l[g]||[];u[g]=!0;for(var c=0;c<f.length;c+=1){var m=f[c];u[m]||h[m]||b._topologicalSort(m,h,u,l,d)}u[g]=!1,h[g]=!0,d.push(g)},b.chain=function(){for(var g=[],h=0;h<arguments.length;h+=1){var u=arguments[h];u._chained?g.push.apply(g,u._chained):g.push(u)}var l=function(){for(var d,f=new Array(arguments.length),c=0,m=arguments.length;c<m;c++)f[c]=arguments[c];for(c=0;c<g.length;c+=1){var v=g[c].apply(d,f);typeof v<"u"&&(d=v)}return d};return l._chained=g,l},b.chainPathBefore=function(g,h,u){return b.set(g,h,b.chain(u,b.get(g,h)))},b.chainPathAfter=function(g,h,u){return b.set(g,h,b.chain(b.get(g,h),u))},b.setDecomp=function(g){b._decomp=g},b.getDecomp=function(){var g=b._decomp;try{!g&&typeof window<"u"&&(g=window.decomp),!g&&typeof a.g<"u"&&(g=a.g.decomp)}catch{g=null}return g}}()},48413:(_,k,a)=>{var b={};_.exports=b;var T=a(53614),g=a(66272),h=a(81388),u=a(99561),l=a(35810),d=a(69351),f=a(48140),c=a(53402),m=a(22562);b._deltaMax=16.666666666666668,b.create=function(v){var y=c.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=v||{});return y.world=v.world||d.create({label:"World"}),y.pairs=v.pairs||u.create(),y.detector=v.detector||h.create(),y.detector.pairs=y.pairs,y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},b.update=function(v,x){var M,y=c.now(),w=v.world,E=v.detector,S=v.pairs,A=v.timing,I=A.timestamp;x>b._deltaMax&&c.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",b._deltaMax.toFixed(3),"ms."),x=typeof x<"u"?x:c._baseDelta,A.timestamp+=x*=A.timeScale,A.lastDelta=x;var P={timestamp:A.timestamp,delta:x};l.trigger(v,"beforeUpdate",P);var O=d.allBodies(w),N=d.allConstraints(w),L=d.allComposites(w);for(w.isModified&&(h.setBodies(E,O),d.setModified(w,!1,!1,!0)),v.enableSleeping&&T.update(O,x),b._bodiesApplyGravity(O,v.gravity),b.wrap(O,L),b.attractors(O),x>0&&b._bodiesUpdate(O,x),l.trigger(v,"beforeSolve",P),f.preSolveAll(O),M=0;M<v.constraintIterations;M++)f.solveAll(N,x);f.postSolveAll(O);var G=h.collisions(E);u.update(S,G,I),v.enableSleeping&&T.afterCollisions(S.list),S.collisionStart.length>0&&l.trigger(v,"collisionStart",{pairs:S.collisionStart,timestamp:A.timestamp,delta:x});var j=c.clamp(20/v.positionIterations,0,1);for(g.preSolvePosition(S.list),M=0;M<v.positionIterations;M++)g.solvePosition(S.list,x,j);for(g.postSolvePosition(O),f.preSolveAll(O),M=0;M<v.constraintIterations;M++)f.solveAll(N,x);for(f.postSolveAll(O),g.preSolveVelocity(S.list),M=0;M<v.velocityIterations;M++)g.solveVelocity(S.list,x);return b._bodiesUpdateVelocities(O),S.collisionActive.length>0&&l.trigger(v,"collisionActive",{pairs:S.collisionActive,timestamp:A.timestamp,delta:x}),S.collisionEnd.length>0&&l.trigger(v,"collisionEnd",{pairs:S.collisionEnd,timestamp:A.timestamp,delta:x}),b._bodiesClearForces(O),l.trigger(v,"afterUpdate",P),v.timing.lastElapsed=c.now()-y,v},b.merge=function(v,x){if(c.extend(v,x),x.world){v.world=x.world,b.clear(v);for(var y=d.allBodies(v.world),w=0;w<y.length;w++){var E=y[w];T.set(E,!1),E.id=c.nextId()}}},b.clear=function(v){u.clear(v.pairs),h.clear(v.detector)},b._bodiesClearForces=function(v){for(var x=v.length,y=0;y<x;y++){var w=v[y];w.force.x=0,w.force.y=0,w.torque=0}},b._bodiesApplyGravity=function(v,x){var y=typeof x.scale<"u"?x.scale:.001,w=v.length;if((0!==x.x||0!==x.y)&&0!==y)for(var E=0;E<w;E++){var S=v[E];S.ignoreGravity||S.isStatic||S.isSleeping||(S.force.y+=S.mass*x.y*y,S.force.x+=S.mass*x.x*y)}},b._bodiesUpdate=function(v,x){for(var y=v.length,w=0;w<y;w++){var E=v[w];E.isStatic||E.isSleeping||m.update(E,x)}},b._bodiesUpdateVelocities=function(v){for(var x=v.length,y=0;y<x;y++)m.updateVelocities(v[y])},b.wrap=function(v,x){for(var y=0;y<v.length;y+=1){var w=v[y];null!==w.wrapBounds&&m.wrap(w,w.wrapBounds)}for(y=0;y<x.length;y+=1){var E=x[y];null!==E.wrapBounds&&d.wrap(E,E.wrapBounds)}},b.attractors=function(v){for(var x=0;x<v.length;x++){var y=v[x],w=y.attractors;if(w&&w.length>0)for(var E=0;E<v.length;E++){var S=v[E];if(x!==E)for(var A=0;A<w.length;A++){var I=w[A],M=I;c.isFunction(I)&&(M=I(y,S)),M&&m.applyForce(S,S.position,M)}}}}},35810:(_,k,a)=>{var b={};_.exports=b;var T=a(53402);b.on=function(g,h,u){for(var d,l=h.split(" "),f=0;f<l.length;f++)d=l[f],g.events=g.events||{},g.events[d]=g.events[d]||[],g.events[d].push(u);return u},b.off=function(g,h,u){if(h){"function"==typeof h&&(u=h,h=T.keys(g.events).join(" "));for(var l=h.split(" "),d=0;d<l.length;d++){var f=g.events[l[d]],c=[];if(u&&f)for(var m=0;m<f.length;m++)f[m]!==u&&c.push(f[m]);g.events[l[d]]=c}}else g.events={}},b.trigger=function(g,h,u){var l,d,f,c,m=g.events;if(m&&T.keys(m).length>0){u||(u={}),l=h.split(" ");for(var v=0;v<l.length;v++)if(f=m[d=l[v]]){(c=T.clone(u,!1)).name=d,c.source=g;for(var x=0;x<f.length;x++)f[x].apply(g,[c])}}}},6790:(_,k,a)=>{var b={};_.exports=b;var T=a(73832),g=a(53402);b.name="matter-js",b.version="0.20.0",b.uses=[],b.used=[],b.use=function(){T.use(b,Array.prototype.slice.call(arguments))},b.before=function(h,u){return h=h.replace(/^Matter./,""),g.chainPathBefore(b,h,u)},b.after=function(h,u){return h=h.replace(/^Matter./,""),g.chainPathAfter(b,h,u)}},73832:(_,k,a)=>{var b={};_.exports=b;var T=a(53402);b._registry={},b.register=function(g){if(b.isPlugin(g)||T.warn("Plugin.register:",b.toString(g),"does not implement all required fields."),g.name in b._registry){var h=b._registry[g.name],u=b.versionParse(g.version).number,l=b.versionParse(h.version).number;u>l?(T.warn("Plugin.register:",b.toString(h),"was upgraded to",b.toString(g)),b._registry[g.name]=g):u<l?T.warn("Plugin.register:",b.toString(h),"can not be downgraded to",b.toString(g)):g!==h&&T.warn("Plugin.register:",b.toString(g),"is already registered to different plugin object")}else b._registry[g.name]=g;return g},b.resolve=function(g){return b._registry[b.dependencyParse(g).name]},b.toString=function(g){return"string"==typeof g?g:(g.name||"anonymous")+"@"+(g.version||g.range||"0.0.0")},b.isPlugin=function(g){return g&&g.name&&g.version&&g.install},b.isUsed=function(g,h){return g.used.indexOf(h)>-1},b.isFor=function(g,h){var u=g.for&&b.dependencyParse(g.for);return!g.for||h.name===u.name&&b.versionSatisfies(h.version,u.range)},b.use=function(g,h){if(g.uses=(g.uses||[]).concat(h||[]),0!==g.uses.length){for(var u=b.dependencies(g),l=T.topologicalSort(u),d=[],f=0;f<l.length;f+=1)if(l[f]!==g.name){var c=b.resolve(l[f]);if(!c){d.push("\u274c "+l[f]);continue}b.isUsed(g,c.name)||(b.isFor(c,g)||(T.warn("Plugin.use:",b.toString(c),"is for",c.for,"but installed on",b.toString(g)+"."),c._warned=!0),c.install?c.install(g):(T.warn("Plugin.use:",b.toString(c),"does not specify an install function."),c._warned=!0),c._warned?(d.push("\u{1f536} "+b.toString(c)),delete c._warned):d.push("\u2705 "+b.toString(c)),g.used.push(c.name))}d.length>0&&!c.silent&&T.info(d.join("  "))}else T.warn("Plugin.use:",b.toString(g),"does not specify any dependencies to install.")},b.dependencies=function(g,h){var u=b.dependencyParse(g),l=u.name;if(!(l in(h=h||{}))){g=b.resolve(g)||g,h[l]=T.map(g.uses||[],function(f){b.isPlugin(f)&&b.register(f);var c=b.dependencyParse(f),m=b.resolve(f);return m&&!b.versionSatisfies(m.version,c.range)?(T.warn("Plugin.dependencies:",b.toString(m),"does not satisfy",b.toString(c),"used by",b.toString(u)+"."),m._warned=!0,g._warned=!0):m||(T.warn("Plugin.dependencies:",b.toString(f),"used by",b.toString(u),"could not be resolved."),g._warned=!0),c.name});for(var d=0;d<h[l].length;d+=1)b.dependencies(h[l][d],h);return h}},b.dependencyParse=function(g){return T.isString(g)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(g)||T.warn("Plugin.dependencyParse:",g,"is not a valid dependency string."),{name:g.split("@")[0],range:g.split("@")[1]||"*"}):{name:g.name,range:g.range||g.version}},b.versionParse=function(g){var h=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;h.test(g)||T.warn("Plugin.versionParse:",g,"is not a valid version or range.");var u=h.exec(g),l=Number(u[4]),d=Number(u[5]),f=Number(u[6]);return{isRange:!(!u[1]&&!u[2]),version:u[3],range:g,operator:u[1]||u[2]||"",major:l,minor:d,patch:f,parts:[l,d,f],prerelease:u[7],number:1e8*l+1e4*d+f}},b.versionSatisfies=function(g,h){var u=b.versionParse(h=h||"*"),l=b.versionParse(g);if(u.isRange){if("*"===u.operator||"*"===g)return!0;if(">"===u.operator)return l.number>u.number;if(">="===u.operator)return l.number>=u.number;if("~"===u.operator)return l.major===u.major&&l.minor===u.minor&&l.patch>=u.patch;if("^"===u.operator)return u.major>0?l.major===u.major&&l.number>=u.number:u.minor>0?l.minor===u.minor&&l.patch>=u.patch:l.patch===u.patch}return g===h||"*"===g}},13037:(_,k,a)=>{var b={};_.exports=b;var T=a(35810),g=a(48413),h=a(53402);!function(){b._maxFrameDelta=66.66666666666667,b._frameDeltaFallback=16.666666666666668,b._timeBufferMargin=1.5,b._elapsedNextEstimate=1,b._smoothingLowerBound=.1,b._smoothingUpperBound=.9,b.create=function(l){var f=h.extend({delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},l);return f.fps=0,f},b.run=function(l,d){return l.timeBuffer=b._frameDeltaFallback,function f(c){l.frameRequestId=b._onNextFrame(l,f),c&&l.enabled&&b.tick(l,d,c)}(),l},b.tick=function(l,d,f){var c=h.now(),m=l.delta,v=0,x=f-l.timeLastTick;if((!x||!l.timeLastTick||x>Math.max(b._maxFrameDelta,l.maxFrameTime))&&(x=l.frameDelta||b._frameDeltaFallback),l.frameDeltaSmoothing){l.frameDeltaHistory.push(x),l.frameDeltaHistory=l.frameDeltaHistory.slice(-l.frameDeltaHistorySize);var y=l.frameDeltaHistory.slice(0).sort(),w=l.frameDeltaHistory.slice(y.length*b._smoothingLowerBound,y.length*b._smoothingUpperBound);x=u(w)||x}l.frameDeltaSnapping&&(x=1e3/Math.round(1e3/x)),l.frameDelta=x,l.timeLastTick=f,l.timeBuffer+=l.frameDelta,l.timeBuffer=h.clamp(l.timeBuffer,0,l.frameDelta+m*b._timeBufferMargin),l.lastUpdatesDeferred=0;var S=l.maxUpdates||Math.ceil(l.maxFrameTime/m),A={timestamp:d.timing.timestamp};T.trigger(l,"beforeTick",A),T.trigger(l,"tick",A);for(var I=h.now();m>0&&l.timeBuffer>=m*b._timeBufferMargin;){T.trigger(l,"beforeUpdate",A),g.update(d,m),T.trigger(l,"afterUpdate",A),l.timeBuffer-=m,v+=1;var M=h.now()-c,P=h.now()-I;if(v>=S||M+b._elapsedNextEstimate*P/v>l.maxFrameTime){l.lastUpdatesDeferred=Math.round(Math.max(0,l.timeBuffer/m-b._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=v,T.trigger(l,"afterTick",A),l.frameDeltaHistory.length>=100&&(l.lastUpdatesDeferred&&Math.round(l.frameDelta/m)>S?h.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):l.lastUpdatesDeferred&&h.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof l.isFixed<"u"&&h.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(l.deltaMin||l.deltaMax)&&h.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==l.fps&&h.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},b.stop=function(l){b._cancelNextFrame(l)},b._onNextFrame=function(l,d){if(!(typeof window<"u"&&window.requestAnimationFrame))throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return l.frameRequestId=window.requestAnimationFrame(d),l.frameRequestId},b._cancelNextFrame=function(l){if(!(typeof window<"u"&&window.cancelAnimationFrame))throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(l.frameRequestId)};var u=function(l){for(var d=0,f=l.length,c=0;c<f;c+=1)d+=l[c];return d/f||0}}()},53614:(_,k,a)=>{var b={};_.exports=b;var T=a(22562),g=a(35810),h=a(53402);b._motionWakeThreshold=.18,b._motionSleepThreshold=.08,b._minBias=.9,b.update=function(u,l){for(var d=l/h._baseDelta,f=b._motionSleepThreshold,c=0;c<u.length;c++){var m=u[c],v=T.getSpeed(m),x=T.getAngularSpeed(m),y=v*v+x*x;if(0===m.force.x&&0===m.force.y){var w=Math.min(m.motion,y),E=Math.max(m.motion,y);m.motion=b._minBias*w+(1-b._minBias)*E,m.sleepThreshold>0&&m.motion<f?(m.sleepCounter+=1,m.sleepCounter>=m.sleepThreshold/d&&b.set(m,!0)):m.sleepCounter>0&&(m.sleepCounter-=1)}else b.set(m,!1)}},b.afterCollisions=function(u){for(var l=b._motionSleepThreshold,d=0;d<u.length;d++){var f=u[d];if(f.isActive){var c=f.collision,m=c.bodyA.parent,v=c.bodyB.parent;if(!(m.isSleeping&&v.isSleeping||m.isStatic||v.isStatic)&&(m.isSleeping||v.isSleeping)){var x=m.isSleeping&&!m.isStatic?m:v;!x.isStatic&&(x===m?v:m).motion>l&&b.set(x,!1)}}}},b.set=function(u,l){var d=u.isSleeping;l?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,d||g.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,d&&g.trigger(u,"sleepEnd"))}},66280:(_,k,a)=>{var b={};_.exports=b;var T=a(41598),g=a(53402),h=a(22562),u=a(15647),l=a(31725);b.rectangle=function(d,f,c,m,v){v=v||{};var x={label:"Rectangle Body",position:{x:d,y:f},vertices:T.fromPath("L 0 0 L "+c+" 0 L "+c+" "+m+" L 0 "+m)};if(v.chamfer){var y=v.chamfer;x.vertices=T.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete v.chamfer}return h.create(g.extend({},x,v))},b.trapezoid=function(d,f,c,m,v,x){x=x||{},v>=1&&g.warn("Bodies.trapezoid: slope parameter must be < 1.");var w=c*(v*=.5),E=w+(1-2*v)*c,S=E+w,I={label:"Trapezoid Body",position:{x:d,y:f},vertices:T.fromPath(v<.5?"L 0 0 L "+w+" "+-m+" L "+E+" "+-m+" L "+S+" 0":"L 0 0 L "+E+" "+-m+" L "+S+" 0")};if(x.chamfer){var M=x.chamfer;I.vertices=T.chamfer(I.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete x.chamfer}return h.create(g.extend({},I,x))},b.circle=function(d,f,c,m,v){m=m||{};var x={label:"Circle Body",circleRadius:c};v=v||25;var y=Math.ceil(Math.max(10,Math.min(v,c)));return y%2==1&&(y+=1),b.polygon(d,f,y,c,g.extend({},x,m))},b.polygon=function(d,f,c,m,v){if(v=v||{},c<3)return b.circle(d,f,m,v);for(var x=2*Math.PI/c,y="",w=.5*x,E=0;E<c;E+=1){var S=w+E*x,A=Math.cos(S)*m,I=Math.sin(S)*m;y+="L "+A.toFixed(3)+" "+I.toFixed(3)+" "}var M={label:"Polygon Body",position:{x:d,y:f},vertices:T.fromPath(y)};if(v.chamfer){var P=v.chamfer;M.vertices=T.chamfer(M.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete v.chamfer}return h.create(g.extend({},M,v))},b.fromVertices=function(d,f,c,m,v,x,y,w){var S,A,I,M,O,N,L,G,j,z,E=g.getDecomp();for(S=!(!E||!E.quickDecomp),m=m||{},I=[],v=typeof v<"u"&&v,x=typeof x<"u"?x:.01,y=typeof y<"u"?y:10,w=typeof w<"u"?w:.01,g.isArray(c[0])||(c=[c]),j=0;j<c.length;j+=1)if(!(M=T.isConvex(O=c[j]))&&!S&&g.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),M||!S)O=M?T.clockwiseSort(O):T.hull(O),I.push({position:{x:d,y:f},vertices:O});else{var Y=O.map(function(vt){return[vt.x,vt.y]});E.makeCCW(Y),!1!==x&&E.removeCollinearPoints(Y,x),!1!==w&&E.removeDuplicatePoints&&E.removeDuplicatePoints(Y,w);var Z=E.quickDecomp(Y);for(N=0;N<Z.length;N++){var st=Z[N].map(function(vt){return{x:vt[0],y:vt[1]}});y>0&&T.area(st)<y||I.push({position:T.centre(st),vertices:st})}}for(N=0;N<I.length;N++)I[N]=h.create(g.extend(I[N],m));if(v)for(N=0;N<I.length;N++){var tt=I[N];for(L=N+1;L<I.length;L++){var W=I[L];if(u.overlaps(tt.bounds,W.bounds)){var H=tt.vertices,it=W.vertices;for(G=0;G<tt.vertices.length;G++)for(z=0;z<W.vertices.length;z++){var dt=l.magnitudeSquared(l.sub(H[(G+1)%H.length],it[z])),mt=l.magnitudeSquared(l.sub(H[G],it[(z+1)%it.length]));dt<5&&mt<5&&(H[G].isInternal=!0,it[z].isInternal=!0)}}}}return I.length>1?(A=h.create(g.extend({parts:I.slice(0)},m)),h.setPosition(A,{x:d,y:f}),A):I[0]},b.flagCoincidentParts=function(d,f){void 0===f&&(f=5);for(var c=0;c<d.length;c++)for(var m=d[c],v=c+1;v<d.length;v++){var x=d[v];if(u.overlaps(m.bounds,x.bounds))for(var y=m.vertices,w=x.vertices,E=0;E<m.vertices.length;E++)for(var S=0;S<x.vertices.length;S++){var A=l.magnitudeSquared(l.sub(y[(E+1)%y.length],w[S])),I=l.magnitudeSquared(l.sub(y[E],w[(S+1)%w.length]));A<f&&I<f&&(y[E].isInternal=!0,w[S].isInternal=!0)}}return d}},74116:(_,k,a)=>{var b={};_.exports=b;var T=a(69351),g=a(48140),h=a(53402),u=a(22562),l=a(66280);b.stack=function(d,f,c,m,v,x,y){for(var A,w=T.create({label:"Stack"}),E=d,S=f,I=0,M=0;M<m;M++){for(var P=0,O=0;O<c;O++){var N=y(E,S,O,M,A,I);if(N){var L=N.bounds.max.y-N.bounds.min.y;L>P&&(P=L),u.translate(N,{x:.5*(N.bounds.max.x-N.bounds.min.x),y:.5*L}),E=N.bounds.max.x+v,T.addBody(w,N),A=N,I+=1}else E+=v}S+=P+x,E=d}return w},b.chain=function(d,f,c,m,v,x){for(var y=d.bodies,w=1;w<y.length;w++){var E=y[w-1],S=y[w],N=h.extend({bodyA:E,pointA:{x:(E.bounds.max.x-E.bounds.min.x)*f,y:(E.bounds.max.y-E.bounds.min.y)*c},bodyB:S,pointB:{x:(S.bounds.max.x-S.bounds.min.x)*m,y:(S.bounds.max.y-S.bounds.min.y)*v}},x);T.addConstraint(d,g.create(N))}return d.label+=" Chain",d},b.mesh=function(d,f,c,m,v){var y,w,S,x=d.bodies;for(y=0;y<c;y++){for(w=1;w<f;w++)T.addConstraint(d,g.create(h.extend({bodyA:x[w-1+y*f],bodyB:S=x[w+y*f]},v)));if(y>0)for(w=0;w<f;w++)T.addConstraint(d,g.create(h.extend({bodyA:x[w+(y-1)*f],bodyB:S=x[w+y*f]},v))),m&&w>0&&T.addConstraint(d,g.create(h.extend({bodyA:x[w-1+(y-1)*f],bodyB:S},v))),m&&w<f-1&&T.addConstraint(d,g.create(h.extend({bodyA:x[w+1+(y-1)*f],bodyB:S},v)))}return d.label+=" Mesh",d},b.pyramid=function(d,f,c,m,v,x,y){return b.stack(d,f,c,m,v,x,function(w,E,S,A,I,M){var P=Math.min(m,Math.ceil(c/2)),O=I?I.bounds.max.x-I.bounds.min.x:0;if(!(A>P||S<(A=P-A)||S>c-1-A))return 1===M&&u.translate(I,{x:(S+(c%2==1?1:-1))*O,y:0}),y(d+(I?S*O:0)+S*v,E,S,A,I,M)})},b.newtonsCradle=function(d,f,c,m,v){for(var x=T.create({label:"Newtons Cradle"}),y=0;y<c;y++){var E=l.circle(d+y*(1.9*m),f+v,m,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),S=g.create({pointA:{x:d+y*(1.9*m),y:f},bodyB:E});T.addBody(x,E),T.addConstraint(x,S)}return x},b.car=function(d,f,c,m,v){var x=u.nextGroup(!0),w=.5*-c+20,E=.5*c-20,A=T.create({label:"Car"}),I=l.rectangle(d,f,c,m,{collisionFilter:{group:x},chamfer:{radius:.5*m},density:2e-4}),M=l.circle(d+w,f+0,v,{collisionFilter:{group:x},friction:.8}),P=l.circle(d+E,f+0,v,{collisionFilter:{group:x},friction:.8}),O=g.create({bodyB:I,pointB:{x:w,y:0},bodyA:M,stiffness:1,length:0}),N=g.create({bodyB:I,pointB:{x:E,y:0},bodyA:P,stiffness:1,length:0});return T.addBody(A,I),T.addBody(A,M),T.addBody(A,P),T.addConstraint(A,O),T.addConstraint(A,N),A},b.softBody=function(d,f,c,m,v,x,y,w,E,S){E=h.extend({inertia:1/0},E),S=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},S);var A=b.stack(d,f,c,m,v,x,function(I,M){return l.circle(I,M,w,E)});return b.mesh(A,c,m,y,S),A.label="Soft Body",A}},66615:(_,k,a)=>{var b={};_.exports=b;var T=a(31725),g=a(53402);b.fromVertices=function(h){for(var u={},l=0;l<h.length;l++){var d=(l+1)%h.length,f=T.normalise({x:h[d].y-h[l].y,y:h[l].x-h[d].x}),c=0===f.y?1/0:f.x/f.y;u[c=c.toFixed(3).toString()]=f}return g.values(u)},b.rotate=function(h,u){if(0!==u)for(var l=Math.cos(u),d=Math.sin(u),f=0;f<h.length;f++){var m,c=h[f];m=c.x*l-c.y*d,c.y=c.x*d+c.y*l,c.x=m}}},15647:_=>{var k={};_.exports=k,k.create=function(a){var b={min:{x:0,y:0},max:{x:0,y:0}};return a&&k.update(b,a),b},k.update=function(a,b,T){a.min.x=1/0,a.max.x=-1/0,a.min.y=1/0,a.max.y=-1/0;for(var g=0;g<b.length;g++){var h=b[g];h.x>a.max.x&&(a.max.x=h.x),h.x<a.min.x&&(a.min.x=h.x),h.y>a.max.y&&(a.max.y=h.y),h.y<a.min.y&&(a.min.y=h.y)}T&&(T.x>0?a.max.x+=T.x:a.min.x+=T.x,T.y>0?a.max.y+=T.y:a.min.y+=T.y)},k.contains=function(a,b){return b.x>=a.min.x&&b.x<=a.max.x&&b.y>=a.min.y&&b.y<=a.max.y},k.overlaps=function(a,b){return a.min.x<=b.max.x&&a.max.x>=b.min.x&&a.max.y>=b.min.y&&a.min.y<=b.max.y},k.translate=function(a,b){a.min.x+=b.x,a.max.x+=b.x,a.min.y+=b.y,a.max.y+=b.y},k.shift=function(a,b){var T=a.max.x-a.min.x,g=a.max.y-a.min.y;a.min.x=b.x,a.max.x=b.x+T,a.min.y=b.y,a.max.y=b.y+g},k.wrap=function(a,b,T){var g=null,h=null;if(typeof b.min.x<"u"&&typeof b.max.x<"u"&&(a.min.x>b.max.x?g=b.min.x-a.max.x:a.max.x<b.min.x&&(g=b.max.x-a.min.x)),typeof b.min.y<"u"&&typeof b.max.y<"u"&&(a.min.y>b.max.y?h=b.min.y-a.max.y:a.max.y<b.min.y&&(h=b.max.y-a.min.y)),null!==g||null!==h)return{x:g||0,y:h||0}}},74058:(_,k,a)=>{var b={};_.exports=b,a(15647);var g=a(53402);b.pathToVertices=function(h,u){typeof window<"u"&&!("SVGPathSeg"in window)&&g.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,d,f,c,m,v,x,y,w,A,I,S=[],M=0,P=0,O=0;u=u||15;var N=function(G,j,z){var Y=z%2==1&&z>1;if(!w||G!=w.x||j!=w.y){w&&Y?(A=w.x,I=w.y):(A=0,I=0);var Z={x:A+G,y:I+j};(Y||!w)&&(w=Z),S.push(Z),P=A+G,O=I+j}},L=function(G){var j=G.pathSegTypeAsLetter.toUpperCase();if("Z"!==j){switch(j){case"M":case"L":case"T":case"C":case"S":case"Q":P=G.x,O=G.y;break;case"H":P=G.x;break;case"V":O=G.y}N(P,O,G.pathSegType)}};for(b._svgPathToAbsolute(h),f=h.getTotalLength(),v=[],l=0;l<h.pathSegList.numberOfItems;l+=1)v.push(h.pathSegList.getItem(l));for(x=v.concat();M<f;){if((m=v[h.getPathSegAtLength(M)])!=y){for(;x.length&&x[0]!=m;)L(x.shift());y=m}switch(m.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=h.getPointAtLength(M),N(c.x,c.y,0)}M+=u}for(l=0,d=x.length;l<d;++l)L(x[l]);return S},b._svgPathToAbsolute=function(h){for(var u,l,d,f,c,m,v=h.pathSegList,x=0,y=0,w=v.numberOfItems,E=0;E<w;++E){var S=v.getItem(E),A=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(A))"x"in S&&(x=S.x),"y"in S&&(y=S.y);else switch("x1"in S&&(d=x+S.x1),"x2"in S&&(c=x+S.x2),"y1"in S&&(f=y+S.y1),"y2"in S&&(m=y+S.y2),"x"in S&&(x+=S.x),"y"in S&&(y+=S.y),A){case"m":v.replaceItem(h.createSVGPathSegMovetoAbs(x,y),E);break;case"l":v.replaceItem(h.createSVGPathSegLinetoAbs(x,y),E);break;case"h":v.replaceItem(h.createSVGPathSegLinetoHorizontalAbs(x),E);break;case"v":v.replaceItem(h.createSVGPathSegLinetoVerticalAbs(y),E);break;case"c":v.replaceItem(h.createSVGPathSegCurvetoCubicAbs(x,y,d,f,c,m),E);break;case"s":v.replaceItem(h.createSVGPathSegCurvetoCubicSmoothAbs(x,y,c,m),E);break;case"q":v.replaceItem(h.createSVGPathSegCurvetoQuadraticAbs(x,y,d,f),E);break;case"t":v.replaceItem(h.createSVGPathSegCurvetoQuadraticSmoothAbs(x,y),E);break;case"a":v.replaceItem(h.createSVGPathSegArcAbs(x,y,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),E);break;case"z":case"Z":x=u,y=l}("M"==A||"m"==A)&&(u=x,l=y)}}},31725:_=>{var k={};_.exports=k,k.create=function(a,b){return{x:a||0,y:b||0}},k.clone=function(a){return{x:a.x,y:a.y}},k.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},k.magnitudeSquared=function(a){return a.x*a.x+a.y*a.y},k.rotate=function(a,b,T){var g=Math.cos(b),h=Math.sin(b);T||(T={});var u=a.x*g-a.y*h;return T.y=a.x*h+a.y*g,T.x=u,T},k.rotateAbout=function(a,b,T,g){var h=Math.cos(b),u=Math.sin(b);g||(g={});var l=T.x+((a.x-T.x)*h-(a.y-T.y)*u);return g.y=T.y+((a.x-T.x)*u+(a.y-T.y)*h),g.x=l,g},k.normalise=function(a){var b=k.magnitude(a);return 0===b?{x:0,y:0}:{x:a.x/b,y:a.y/b}},k.dot=function(a,b){return a.x*b.x+a.y*b.y},k.cross=function(a,b){return a.x*b.y-a.y*b.x},k.cross3=function(a,b,T){return(b.x-a.x)*(T.y-a.y)-(b.y-a.y)*(T.x-a.x)},k.add=function(a,b,T){return T||(T={}),T.x=a.x+b.x,T.y=a.y+b.y,T},k.sub=function(a,b,T){return T||(T={}),T.x=a.x-b.x,T.y=a.y-b.y,T},k.mult=function(a,b){return{x:a.x*b,y:a.y*b}},k.div=function(a,b){return{x:a.x/b,y:a.y/b}},k.perp=function(a,b){return{x:(b=!0===b?-1:1)*-a.y,y:b*a.x}},k.neg=function(a){return{x:-a.x,y:-a.y}},k.angle=function(a,b){return Math.atan2(b.y-a.y,b.x-a.x)},k._temp=[k.create(),k.create(),k.create(),k.create(),k.create(),k.create()]},41598:(_,k,a)=>{var b={};_.exports=b;var T=a(31725),g=a(53402);b.create=function(h,u){for(var l=[],d=0;d<h.length;d++){var f=h[d];l.push({x:f.x,y:f.y,index:d,body:u,isInternal:!1})}return l},b.fromPath=function(h,u){var d=[];return h.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(f,c,m){d.push({x:parseFloat(c),y:parseFloat(m)})}),b.create(d,u)},b.centre=function(h){for(var d,f,c,u=b.area(h,!0),l={x:0,y:0},m=0;m<h.length;m++)d=T.cross(h[m],h[c=(m+1)%h.length]),f=T.mult(T.add(h[m],h[c]),d),l=T.add(l,f);return T.div(l,6*u)},b.mean=function(h){for(var u={x:0,y:0},l=0;l<h.length;l++)u.x+=h[l].x,u.y+=h[l].y;return T.div(u,h.length)},b.area=function(h,u){for(var l=0,d=h.length-1,f=0;f<h.length;f++)l+=(h[d].x-h[f].x)*(h[d].y+h[f].y),d=f;return u?l/2:Math.abs(l)/2},b.inertia=function(h,u){for(var c,m,l=0,d=0,f=h,v=0;v<f.length;v++)m=(v+1)%f.length,l+=(c=Math.abs(T.cross(f[m],f[v])))*(T.dot(f[m],f[m])+T.dot(f[m],f[v])+T.dot(f[v],f[v])),d+=c;return u/6*(l/d)},b.translate=function(h,u,l){var m,d=h.length,f=u.x*(l=typeof l<"u"?l:1),c=u.y*l;for(m=0;m<d;m++)h[m].x+=f,h[m].y+=c;return h},b.rotate=function(h,u,l){if(0!==u){var x,y,w,E,d=Math.cos(u),f=Math.sin(u),c=l.x,m=l.y,v=h.length;for(E=0;E<v;E++)(x=h[E]).x=c+((y=x.x-c)*d-(w=x.y-m)*f),x.y=m+(y*f+w*d);return h}},b.contains=function(h,u){for(var m,l=u.x,d=u.y,f=h.length,c=h[f-1],v=0;v<f;v++){if((l-c.x)*((m=h[v]).y-c.y)+(d-c.y)*(c.x-m.x)>0)return!1;c=m}return!0},b.scale=function(h,u,l,d){if(1===u&&1===l)return h;d=d||b.centre(h);for(var c,m=0;m<h.length;m++)c=T.sub(h[m],d),h[m].x=d.x+c.x*u,h[m].y=d.y+c.y*l;return h},b.chamfer=function(h,u,l,d,f){u="number"==typeof u?[u]:u||[8],l=typeof l<"u"?l:-1,d=d||2,f=f||14;for(var c=[],m=0;m<h.length;m++){var v=h[m-1>=0?m-1:h.length-1],x=h[m],y=h[(m+1)%h.length],w=u[m<u.length?m:u.length-1];if(0!==w){var E=T.normalise({x:x.y-v.y,y:v.x-x.x}),S=T.normalise({x:y.y-x.y,y:x.x-y.x}),A=Math.sqrt(2*Math.pow(w,2)),I=T.mult(g.clone(E),w),M=T.normalise(T.mult(T.add(E,S),.5)),P=T.sub(x,T.mult(M,A)),O=l;-1===l&&(O=1.75*Math.pow(w,.32)),(O=g.clamp(O,d,f))%2==1&&(O+=1);for(var L=Math.acos(T.dot(E,S))/O,G=0;G<O;G++)c.push(T.add(T.rotate(I,L*G),P))}else c.push(x)}return c},b.clockwiseSort=function(h){var u=b.mean(h);return h.sort(function(l,d){return T.angle(u,l)-T.angle(u,d)}),h},b.isConvex=function(h){var d,f,c,m,u=0,l=h.length;if(l<3)return null;for(d=0;d<l;d++)if(m=(h[f=(d+1)%l].x-h[d].x)*(h[c=(d+2)%l].y-h[f].y),(m-=(h[f].y-h[d].y)*(h[c].x-h[f].x))<0?u|=1:m>0&&(u|=2),3===u)return!1;return 0!==u||null},b.hull=function(h){var d,f,u=[],l=[];for((h=h.slice(0)).sort(function(c,m){var v=c.x-m.x;return 0!==v?v:c.y-m.y}),f=0;f<h.length;f+=1){for(d=h[f];l.length>=2&&T.cross3(l[l.length-2],l[l.length-1],d)<=0;)l.pop();l.push(d)}for(f=h.length-1;f>=0;f-=1){for(d=h[f];u.length>=2&&T.cross3(u[u.length-2],u[u.length-1],d)<=0;)u.pop();u.push(d)}return u.pop(),l.pop(),u.concat(l)}},55973:_=>{function k(K,tt,W){var it,dt,mt,vt,Tt,Nt,Yt,H=[0,0];return mt=(it=K[1][1]-K[0][1])*K[0][0]+(dt=K[0][0]-K[1][0])*K[0][1],Nt=(vt=tt[1][1]-tt[0][1])*tt[0][0]+(Tt=tt[0][0]-tt[1][0])*tt[0][1],rt(Yt=it*Tt-vt*dt,0,W=W||0)||(H[0]=(Tt*mt-dt*Nt)/Yt,H[1]=(it*Nt-vt*mt)/Yt),H}function a(K,tt,W,H){var it=tt[0]-K[0],dt=tt[1]-K[1],mt=H[0]-W[0],vt=H[1]-W[1];if(mt*dt-vt*it==0)return!1;var Tt=(it*(W[1]-K[1])+dt*(K[0]-W[0]))/(mt*dt-vt*it),Nt=(mt*(K[1]-W[1])+vt*(W[0]-K[0]))/(vt*it-mt*dt);return Tt>=0&&Tt<=1&&Nt>=0&&Nt<=1}function b(K,tt,W){return(tt[0]-K[0])*(W[1]-K[1])-(W[0]-K[0])*(tt[1]-K[1])}function T(K,tt,W){return b(K,tt,W)>0}function g(K,tt,W){return b(K,tt,W)>=0}function h(K,tt,W){return b(K,tt,W)<0}function u(K,tt,W){return b(K,tt,W)<=0}_.exports={decomp:function N(K){var tt=O(K);return tt.length>0?L(K,tt):[K]},quickDecomp:function z(K,tt,W,H,it,dt,mt){mt=mt||0,it=it||25,tt=typeof tt<"u"?tt:[],W=W||[],H=H||[];var vt=[0,0],Tt=[0,0],Nt=[0,0],Yt=0,$t=0,Zt=0,ee=0,le=0,De=0,gi=0,Me=[],Ti=[],xe=K,ni=K;if(ni.length<3)return tt;if(++mt>(dt=dt||100))return console.warn("quickDecomp: max level ("+dt+") reached."),tt;for(var Qe=0;Qe<K.length;++Qe)if(E(xe,Qe)){W.push(xe[Qe]),Yt=$t=Number.MAX_VALUE;for(var zi=0;zi<K.length;++zi)T(m(xe,Qe-1),m(xe,Qe),m(xe,zi))&&u(m(xe,Qe-1),m(xe,Qe),m(xe,zi-1))&&(Nt=j(m(xe,Qe-1),m(xe,Qe),m(xe,zi),m(xe,zi-1)),h(m(xe,Qe+1),m(xe,Qe),Nt)&&(Zt=c(xe[Qe],Nt))<$t&&($t=Zt,Tt=Nt,De=zi)),T(m(xe,Qe+1),m(xe,Qe),m(xe,zi+1))&&u(m(xe,Qe+1),m(xe,Qe),m(xe,zi))&&(Nt=j(m(xe,Qe+1),m(xe,Qe),m(xe,zi),m(xe,zi+1)),T(m(xe,Qe-1),m(xe,Qe),Nt)&&(Zt=c(xe[Qe],Nt))<Yt&&(Yt=Zt,vt=Nt,le=zi));if(De===(le+1)%K.length)Nt[0]=(Tt[0]+vt[0])/2,Nt[1]=(Tt[1]+vt[1])/2,H.push(Nt),Qe<le?(x(Me,xe,Qe,le+1),Me.push(Nt),Ti.push(Nt),0!==De&&x(Ti,xe,De,xe.length),x(Ti,xe,0,Qe+1)):(0!==Qe&&x(Me,xe,Qe,xe.length),x(Me,xe,0,le+1),Me.push(Nt),Ti.push(Nt),x(Ti,xe,De,Qe+1));else{if(De>le&&(le+=K.length),ee=Number.MAX_VALUE,le<De)return tt;for(zi=De;zi<=le;++zi)g(m(xe,Qe-1),m(xe,Qe),m(xe,zi))&&u(m(xe,Qe+1),m(xe,Qe),m(xe,zi))&&(Zt=c(m(xe,Qe),m(xe,zi)))<ee&&M(xe,Qe,zi)&&(ee=Zt,gi=zi%K.length);Qe<gi?(x(Me,xe,Qe,gi+1),0!==gi&&x(Ti,xe,gi,ni.length),x(Ti,xe,0,Qe+1)):(0!==Qe&&x(Me,xe,Qe,ni.length),x(Me,xe,0,gi+1),x(Ti,xe,gi,Qe+1))}return Me.length<Ti.length?(z(Me,tt,W,H,it,dt,mt),z(Ti,tt,W,H,it,dt,mt)):(z(Ti,tt,W,H,it,dt,mt),z(Me,tt,W,H,it,dt,mt)),tt}return tt.push(K),tt},isSimple:function G(K){var W,tt=K;for(W=0;W<tt.length-1;W++)for(var H=0;H<W-1;H++)if(a(tt[W],tt[W+1],tt[H],tt[H+1]))return!1;for(W=1;W<tt.length-2;W++)if(a(tt[0],tt[tt.length-1],tt[W],tt[W+1]))return!1;return!0},removeCollinearPoints:function Y(K,tt){for(var W=0,H=K.length-1;K.length>3&&H>=0;--H)f(m(K,H-1),m(K,H),m(K,H+1),tt)&&(K.splice(H%K.length,1),W++);return W},removeDuplicatePoints:function Z(K,tt){for(var W=K.length-1;W>=1;--W)for(var H=K[W],it=W-1;it>=0;--it)if(st(H,K[it],tt)){K.splice(W,1);continue}},makeCCW:function y(K){for(var tt=0,W=K,H=1;H<K.length;++H)(W[H][1]<W[tt][1]||W[H][1]===W[tt][1]&&W[H][0]>W[tt][0])&&(tt=H);return!T(m(K,tt-1),m(K,tt),m(K,tt+1))&&(function w(K){for(var tt=[],W=K.length,H=0;H!==W;H++)tt.push(K.pop());for(H=0;H!==W;H++)K[H]=tt[H]}(K),!0)}};var l=[],d=[];function f(K,tt,W,H){if(H){var it=l,dt=d;it[0]=tt[0]-K[0],it[1]=tt[1]-K[1],dt[0]=W[0]-tt[0],dt[1]=W[1]-tt[1];var mt=it[0]*dt[0]+it[1]*dt[1],vt=Math.sqrt(it[0]*it[0]+it[1]*it[1]),Tt=Math.sqrt(dt[0]*dt[0]+dt[1]*dt[1]);return Math.acos(mt/(vt*Tt))<H}return 0===b(K,tt,W)}function c(K,tt){var W=tt[0]-K[0],H=tt[1]-K[1];return W*W+H*H}function m(K,tt){var W=K.length;return K[tt<0?tt%W+W:tt%W]}function x(K,tt,W,H){for(var it=W;it<H;it++)K.push(tt[it])}function E(K,tt){return h(m(K,tt-1),m(K,tt),m(K,tt+1))}var S=[],A=[];function I(K,tt,W){var H,it,dt=S,mt=A;if(g(m(K,tt+1),m(K,tt),m(K,W))&&u(m(K,tt-1),m(K,tt),m(K,W)))return!1;it=c(m(K,tt),m(K,W));for(var vt=0;vt!==K.length;++vt)if((vt+1)%K.length!==tt&&vt!==tt&&g(m(K,tt),m(K,W),m(K,vt+1))&&u(m(K,tt),m(K,W),m(K,vt))&&(dt[0]=m(K,tt),dt[1]=m(K,W),mt[0]=m(K,vt),mt[1]=m(K,vt+1),H=k(dt,mt),c(m(K,tt),H)<it))return!1;return!0}function M(K,tt,W){for(var H=0;H!==K.length;++H)if(H!==tt&&H!==W&&(H+1)%K.length!==tt&&(H+1)%K.length!==W&&a(m(K,tt),m(K,W),m(K,H),m(K,H+1)))return!1;return!0}function P(K,tt,W,H){var it=H||[];if(function v(K){K.length=0}(it),tt<W)for(var dt=tt;dt<=W;dt++)it.push(K[dt]);else{for(dt=0;dt<=W;dt++)it.push(K[dt]);for(dt=tt;dt<K.length;dt++)it.push(K[dt])}return it}function O(K){for(var tt=[],W=[],H=[],it=[],dt=Number.MAX_VALUE,mt=0;mt<K.length;++mt)if(E(K,mt))for(var vt=0;vt<K.length;++vt)if(I(K,mt,vt)){W=O(P(K,mt,vt,it)),H=O(P(K,vt,mt,it));for(var Tt=0;Tt<H.length;Tt++)W.push(H[Tt]);W.length<dt&&(dt=W.length,(tt=W).push([m(K,mt),m(K,vt)]))}return tt}function L(K,tt){if(0===tt.length)return[K];if(tt instanceof Array&&tt.length&&tt[0]instanceof Array&&2===tt[0].length&&tt[0][0]instanceof Array){for(var W=[K],H=0;H<tt.length;H++)for(var it=tt[H],dt=0;dt<W.length;dt++){var vt=L(W[dt],it);if(vt){W.splice(dt,1),W.push(vt[0],vt[1]);break}}return W}return H=K.indexOf((it=tt)[0]),dt=K.indexOf(it[1]),-1!==H&&-1!==dt&&[P(K,H,dt),P(K,dt,H)]}function j(K,tt,W,H,it){var dt=tt[1]-K[1],mt=K[0]-tt[0],vt=dt*K[0]+mt*K[1],Tt=H[1]-W[1],Nt=W[0]-H[0],Yt=Tt*W[0]+Nt*W[1],$t=dt*Nt-Tt*mt;return rt($t,0,it=it||0)?[0,0]:[(Nt*vt-mt*Yt)/$t,(dt*Yt-Tt*vt)/$t]}function rt(K,tt,W){return W=W||0,Math.abs(K-tt)<=W}function st(K,tt,W){return rt(K[0],tt[0],W)&&rt(K[1],tt[1],W)}},52018:(_,k,a)=>{var T=new(a(83419))({initialize:function(h){this.pluginManager=h,this.game=h.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});_.exports=T},42363:_=>{_.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},37277:_=>{var k={},a={};_.exports={register:function(T,g,h,u){void 0===u&&(u=!1),k[T]={plugin:g,mapping:h,custom:u}},registerCustom:function(T,g,h,u){a[T]={plugin:g,mapping:h,data:u}},hasCore:function(T){return k.hasOwnProperty(T)},hasCustom:function(T){return a.hasOwnProperty(T)},getCore:function(T){return k[T]},getCustom:function(T){return a[T]},getCustomClass:function(T){return a.hasOwnProperty(T)?a[T].plugin:null},remove:function(T){k.hasOwnProperty(T)&&delete k[T]},removeCustom:function(T){a.hasOwnProperty(T)&&delete a[T]},destroyCorePlugins:function(){for(var T in k)k.hasOwnProperty(T)&&delete k[T]},destroyCustomPlugins:function(){for(var T in a)a.hasOwnProperty(T)&&delete a[T]}}},77332:(_,k,a)=>{var b=a(83419),T=a(8443),g=a(50792),h=a(74099),u=a(44603),l=a(39429),d=a(95540),f=a(37277),c=a(72905),m=new b({Extends:g,initialize:function(x){g.call(this),this.game=x,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],x.isBooted?this.boot():x.events.once(T.BOOT,this.boot,this)},boot:function(){var v,x,y,w,E,S,A,I=this.game.config,M=I.installGlobalPlugins;for(M=M.concat(this._pendingGlobal),v=0;v<M.length;v++)y=d(x=M[v],"key",null),w=d(x,"plugin",null),E=d(x,"start",!1),S=d(x,"mapping",null),A=d(x,"data",null),y&&(w?this.install(y,w,E,S,A):console.warn("Missing `plugin` for key: "+y));for(M=(M=I.installScenePlugins).concat(this._pendingScene),v=0;v<M.length;v++)y=d(x=M[v],"key",null),w=d(x,"plugin",null),S=d(x,"mapping",null),y&&(w?this.installScenePlugin(y,w,S):console.warn("Missing `plugin` for key: "+y));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(T.DESTROY,this.destroy,this)},addToScene:function(v,x,y){var w,E,S,A=this.game,I=v.scene,M=v.settings.map,P=v.settings.isBooted;for(w=0;w<x.length;w++)A[E=x[w]]?(v[E]=A[E],M.hasOwnProperty(E)&&(I[M[E]]=v[E])):"game"===E&&M.hasOwnProperty(E)&&(I[M[E]]=A);for(var O=0;O<y.length;O++)for(S=y[O],w=0;w<S.length;w++)if(f.hasCore(E=S[w])){var N=f.getCore(E),L=N.mapping,G=new N.plugin(I,this,L);v[L]=G,N.custom?I[L]=G:M.hasOwnProperty(L)&&(I[M[L]]=G),P&&G.boot()}for(S=this.plugins,w=0;w<S.length;w++){var j=S[w];j.mapping&&(I[j.mapping]=j.plugin)}},getDefaultScenePlugins:function(){var v=this.game.config.defaultPlugins;return v.concat(this.scenePlugins)},installScenePlugin:function(v,x,y,w,E){if(void 0===E&&(E=!1),"function"==typeof x){if(f.hasCore(v)||f.register(v,x,y,!0),-1===this.scenePlugins.indexOf(v))this.scenePlugins.push(v);else if(!E&&f.hasCore(v))return void console.warn("Scene Plugin key in use: "+v);if(w){var S=new x(w,this,v);w.sys[v]=S,y&&""!==y&&(w[y]=S),S.boot()}}else console.warn("Invalid Scene Plugin: "+v)},install:function(v,x,y,w,E){if(void 0===y&&(y=!1),void 0===w&&(w=null),void 0===E&&(E=null),"function"!=typeof x)return console.warn("Invalid Plugin: "+v),null;if(f.hasCustom(v))return console.warn("Plugin key in use: "+v),null;if(null!==w&&(y=!0),this.game.isBooted){if(f.registerCustom(v,x,w,E),y)return this.start(v)}else this._pendingGlobal.push({key:v,plugin:x,start:y,mapping:w,data:E});return null},getIndex:function(v){for(var x=this.plugins,y=0;y<x.length;y++)if(x[y].key===v)return y;return-1},getEntry:function(v){var x=this.getIndex(v);if(-1!==x)return this.plugins[x]},isActive:function(v){var x=this.getEntry(v);return x&&x.active},start:function(v,x){void 0===x&&(x=v);var y=this.getEntry(x);return y&&!y.active?(y.active=!0,y.plugin.start()):y||(y=this.createEntry(v,x)),y?y.plugin:null},createEntry:function(v,x){var y=f.getCustom(v);if(y){var w=new y.plugin(this);this.plugins.push(y={key:x,plugin:w,active:!0,mapping:y.mapping,data:y.data}),w.init(y.data),w.start()}return y},stop:function(v){var x=this.getEntry(v);return x&&x.active&&(x.active=!1,x.plugin.stop()),this},get:function(v,x){void 0===x&&(x=!0);var y=this.getEntry(v);if(y)return y.plugin;var w=this.getClass(v);return w&&x?(y=this.createEntry(v,v))?y.plugin:null:w||null},getClass:function(v){return f.getCustomClass(v)},removeGlobalPlugin:function(v){var x=this.getEntry(v);x&&c(this.plugins,x),f.removeCustom(v)},removeScenePlugin:function(v){c(this.scenePlugins,v),f.remove(v)},registerGameObject:function(v,x,y){return x&&l.register(v,x),y&&u.register(v,y),this},removeGameObject:function(v,x,y){return void 0===x&&(x=!0),void 0===y&&(y=!0),x&&l.remove(v),y&&u.remove(v),this},registerFileType:function(v,x,y){h.register(v,x),y&&y.sys.load&&(y.sys.load[v]=x)},destroy:function(){for(var v=0;v<this.plugins.length;v++)this.plugins[v].plugin.destroy();f.destroyCustomPlugins(),this.game.noReturn&&f.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});_.exports=m},45145:(_,k,a)=>{var b=a(52018),T=a(83419),g=a(44594),h=new T({Extends:b,initialize:function(l,d,f){b.call(this,d),this.scene=l,this.systems=l.sys,this.pluginKey=f,l.sys.events.once(g.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});_.exports=h},18922:(_,k,a)=>{_.exports={BasePlugin:a(52018),DefaultPlugins:a(42363),PluginCache:a(37277),PluginManager:a(77332),ScenePlugin:a(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(_){const k=performance.now(),a=this.getVideoPlaybackQuality(),b=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames,T=(g,h)=>{const u=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||u.totalVideoFrames-u.droppedVideoFrames;if(l>b){const d=this.mozFrameDelay||u.totalFrameDelay-a.totalFrameDelay||0,f=h-g;_(h,{presentationTime:h+1e3*d,expectedDisplayTime:h+f,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+f/1e3,presentedFrames:l,processingDuration:d}),delete this._rvfcpolyfillmap[k]}else this._rvfcpolyfillmap[k]=requestAnimationFrame(d=>T(h,d))};return this._rvfcpolyfillmap[k]=requestAnimationFrame(g=>T(k,g)),k},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(_){cancelAnimationFrame(this._rvfcpolyfillmap[_]),delete this._rvfcpolyfillmap[_]})},10312:_=>{_.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:_=>{_.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},68627:(_,k,a)=>{var b=a(19715),T=a(32880),g=a(83419),h=a(8054),u=a(50792),l=a(92503),d=a(56373),f=a(97480),c=a(69442),m=a(61340),v=new g({Extends:u,initialize:function(y){u.call(this);var w=y.config;this.config={clearBeforeRender:w.clearBeforeRender,backgroundColor:w.backgroundColor,antialias:w.antialias,roundPixels:w.roundPixels},this.game=y,this.type=h.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=y.canvas,this.gameContext=w.context?w.context:this.gameCanvas.getContext("2d",{alpha:y.config.transparent,desynchronized:y.config.desynchronized,willReadFrequently:!1}),this.currentContext=this.gameContext,this.antialias=y.config.antialias,this.blendModes=d(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new m,this._tempMatrix2=new m,this._tempMatrix3=new m,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(c.READY,this.boot,this)},boot:function(){var x=this.game,y=x.scale.baseSize;this.width=y.width,this.height=y.height,this.isBooted=!0,x.scale.on(f.RESIZE,this.onResize,this),this.resize(y.width,y.height)},onResize:function(x,y){(y.width!==this.width||y.height!==this.height)&&this.resize(y.width,y.height)},resize:function(x,y){this.width=x,this.height=y,this.emit(l.RESIZE,x,y)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(x){return this.currentContext.globalCompositeOperation=x,this},setContext:function(x){return this.currentContext=x||this.gameContext,this},setAlpha:function(x){return this.currentContext.globalAlpha=x,this},preRender:function(){var x=this.gameContext,y=this.config,w=this.width,E=this.height;x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),this.emit(l.PRE_RENDER_CLEAR),y.clearBeforeRender&&(x.clearRect(0,0,w,E),y.transparent||(x.fillStyle=y.backgroundColor.rgba,x.fillRect(0,0,w,E))),x.save(),this.drawCount=0,this.emit(l.PRE_RENDER)},render:function(x,y,w){var E=y.length;this.emit(l.RENDER,x,w);var S=w.x,A=w.y,I=w.width,M=w.height,P=w.renderToTexture?w.context:x.sys.context;P.save(),this.game.scene.customViewports&&(P.beginPath(),P.rect(S,A,I,M),P.clip()),w.emit(b.PRE_RENDER,w),this.currentContext=P;var O=w.mask;O&&O.preRenderCanvas(this,null,w._maskCamera),w.transparent||(P.fillStyle=w.backgroundColor.rgba,P.fillRect(S,A,I,M)),P.globalAlpha=w.alpha,P.globalCompositeOperation="source-over",this.drawCount+=E,w.renderToTexture&&w.emit(b.PRE_RENDER,w),w.matrix.copyToContext(P);for(var N=0;N<E;N++){var L=y[N];L.mask&&L.mask.preRenderCanvas(this,L,w),L.renderCanvas(this,L,w),L.mask&&L.mask.postRenderCanvas(this,L,w)}P.setTransform(1,0,0,1,0,0),P.globalCompositeOperation="source-over",P.globalAlpha=1,w.flashEffect.postRenderCanvas(P),w.fadeEffect.postRenderCanvas(P),w.dirty=!1,O&&O.postRenderCanvas(this),P.restore(),w.renderToTexture&&(w.emit(b.POST_RENDER,w),w.renderToGame&&x.sys.context.drawImage(w.canvas,S,A)),w.emit(b.POST_RENDER,w)},postRender:function(){this.gameContext.restore(),this.emit(l.POST_RENDER);var y=this.snapshotState;y.callback&&(T(this.gameCanvas,y),y.callback=null)},snapshotCanvas:function(x,y,w,E,S,A,I,M,P){void 0===w&&(w=!1),this.snapshotArea(E,S,A,I,y,M,P);var O=this.snapshotState;return O.getPixel=w,T(x,O),O.callback=null,this},snapshot:function(x,y,w){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,x,y,w)},snapshotArea:function(x,y,w,E,S,A,I){var M=this.snapshotState;return M.callback=S,M.type=A,M.encoder=I,M.getPixel=!1,M.x=x,M.y=y,M.width=Math.min(w,this.gameCanvas.width),M.height=Math.min(E,this.gameCanvas.height),this},snapshotPixel:function(x,y,w){return this.snapshotArea(x,y,1,1,w),this.snapshotState.getPixel=!0,this},batchSprite:function(x,y,w,E){var S=w.alpha*x.alpha;if(0!==S){var A=this.currentContext,I=this._tempMatrix1,M=this._tempMatrix2,P=y.canvasData,O=P.x,N=P.y,L=y.cutWidth,G=y.cutHeight,j=y.customPivot,z=y.source.resolution,Y=x.displayOriginX,Z=x.displayOriginY,rt=-Y+y.x,st=-Z+y.y;if(x.isCropped){var K=x._crop;(K.flipX!==x.flipX||K.flipY!==x.flipY)&&y.updateCropUVs(K,x.flipX,x.flipY),L=K.cw,G=K.ch,O=K.cx,N=K.cy,rt=-Y+K.x,st=-Z+K.y,x.flipX&&(rt>=0?rt=-(rt+L):rt<0&&(rt=Math.abs(rt)-L)),x.flipY&&(st>=0?st=-(st+G):st<0&&(st=Math.abs(st)-G))}var tt=1,W=1;x.flipX&&(j||(rt+=2*Y-y.realWidth),tt=-1),x.flipY&&(j||(st+=2*Z-y.realHeight),W=-1);var H=x.x,it=x.y;if(w.roundPixels&&(H=Math.floor(H),it=Math.floor(it)),M.applyITRS(H,it,x.rotation,x.scaleX*tt,x.scaleY*W),I.copyFrom(w.matrix),E?(I.multiplyWithOffset(E,-w.scrollX*x.scrollFactorX,-w.scrollY*x.scrollFactorY),M.e=H,M.f=it):(M.e-=w.scrollX*x.scrollFactorX,M.f-=w.scrollY*x.scrollFactorY),I.multiply(M),w.renderRoundPixels&&(I.e=Math.floor(I.e+.5),I.f=Math.floor(I.f+.5)),A.save(),I.setToContext(A),A.globalCompositeOperation=this.blendModes[x.blendMode],A.globalAlpha=S,A.imageSmoothingEnabled=!y.source.scaleMode,x.mask&&x.mask.preRenderCanvas(this,x,w),L>0&&G>0){var dt=L/z,mt=G/z;w.roundPixels&&(rt=Math.floor(rt+.5),st=Math.floor(st+.5),dt+=.5,mt+=.5),A.drawImage(y.source.image,O,N,L,G,rt,st,dt,mt)}x.mask&&x.mask.postRenderCanvas(this,x,w),A.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});_.exports=v},55830:(_,k,a)=>{_.exports={CanvasRenderer:a(68627),GetBlendModes:a(56373),SetTransform:a(20926)}},56373:(_,k,a)=>{var b=a(10312),T=a(89289);_.exports=function(){var h=[],u=T.supportNewBlendModes,l="source-over";return h[b.NORMAL]=l,h[b.ADD]="lighter",h[b.MULTIPLY]=u?"multiply":l,h[b.SCREEN]=u?"screen":l,h[b.OVERLAY]=u?"overlay":l,h[b.DARKEN]=u?"darken":l,h[b.LIGHTEN]=u?"lighten":l,h[b.COLOR_DODGE]=u?"color-dodge":l,h[b.COLOR_BURN]=u?"color-burn":l,h[b.HARD_LIGHT]=u?"hard-light":l,h[b.SOFT_LIGHT]=u?"soft-light":l,h[b.DIFFERENCE]=u?"difference":l,h[b.EXCLUSION]=u?"exclusion":l,h[b.HUE]=u?"hue":l,h[b.SATURATION]=u?"saturation":l,h[b.COLOR]=u?"color":l,h[b.LUMINOSITY]=u?"luminosity":l,h[b.ERASE]="destination-out",h[b.SOURCE_IN]="source-in",h[b.SOURCE_OUT]="source-out",h[b.SOURCE_ATOP]="source-atop",h[b.DESTINATION_OVER]="destination-over",h[b.DESTINATION_IN]="destination-in",h[b.DESTINATION_OUT]="destination-out",h[b.DESTINATION_ATOP]="destination-atop",h[b.LIGHTER]="lighter",h[b.COPY]="copy",h[b.XOR]="xor",h}},20926:(_,k,a)=>{var b=a(91296);_.exports=function(g,h,u,l,d){var f=l.alpha*u.alpha;if(f<=0)return!1;var c=b(u,l,d).calc;return h.globalCompositeOperation=g.blendModes[u.blendMode],h.globalAlpha=f,h.save(),c.setToContext(h),h.imageSmoothingEnabled=u.frame?!u.frame.source.scaleMode:g.antialias,!0}},63899:_=>{_.exports="losewebgl"},6119:_=>{_.exports="postrender"},48070:_=>{_.exports="prerender"},15640:_=>{_.exports="render"},8912:_=>{_.exports="resize"},87124:_=>{_.exports="restorewebgl"},92503:(_,k,a)=>{_.exports={LOSE_WEBGL:a(63899),POST_RENDER:a(6119),PRE_RENDER:a(48070),RENDER:a(15640),RESIZE:a(8912),RESTORE_WEBGL:a(87124)}},36909:(_,k,a)=>{_.exports={Events:a(92503),Snapshot:a(89966)},_.exports.Canvas=a(55830),_.exports.WebGL=a(4159)},32880:(_,k,a)=>{var b=a(27919),T=a(40987),g=a(95540);_.exports=function(u,l){var d=g(l,"callback"),f=g(l,"type","image/png"),c=g(l,"encoder",.92),m=Math.abs(Math.round(g(l,"x",0))),v=Math.abs(Math.round(g(l,"y",0))),x=Math.floor(g(l,"width",u.width)),y=Math.floor(g(l,"height",u.height));if(g(l,"getPixel",!1)){var A=u.getContext("2d",{willReadFrequently:!1}).getImageData(m,v,1,1).data;d.call(null,new T(A[0],A[1],A[2],A[3]))}else if(0!==m||0!==v||x!==u.width||y!==u.height){var I=b.createWebGL(this,x,y),M=I.getContext("2d",{willReadFrequently:!0});x>0&&y>0&&M.drawImage(u,m,v,x,y,0,0,x,y);var P=new Image;P.onerror=function(){d.call(null),b.remove(I)},P.onload=function(){d.call(null,P),b.remove(I)},P.src=I.toDataURL(f,c)}else{var O=new Image;O.onerror=function(){d.call(null)},O.onload=function(){d.call(null,O)},O.src=u.toDataURL(f,c)}}},88815:(_,k,a)=>{var b=a(27919),T=a(40987),g=a(95540);_.exports=function(u,l){var d=u,f=g(l,"callback"),c=g(l,"type","image/png"),m=g(l,"encoder",.92),v=Math.abs(Math.round(g(l,"x",0))),x=Math.abs(Math.round(g(l,"y",0))),y=g(l,"getPixel",!1),w=g(l,"isFramebuffer",!1),E=w?g(l,"bufferWidth",1):d.drawingBufferWidth,S=w?g(l,"bufferHeight",1):d.drawingBufferHeight;if(y){var A=new Uint8Array(4);d.readPixels(v,w?x:S-x,1,1,d.RGBA,d.UNSIGNED_BYTE,A),f.call(null,new T(A[0],A[1],A[2],A[3]))}else{var M=Math.floor(g(l,"width",E)),P=Math.floor(g(l,"height",S)),O=M*P*4,N=new Uint8Array(O);d.readPixels(v,S-x-P,M,P,d.RGBA,d.UNSIGNED_BYTE,N);for(var L=b.createWebGL(this,M,P),G=L.getContext("2d",{willReadFrequently:!0}),j=G.getImageData(0,0,M,P),z=j.data,Y=0;Y<P;Y++)for(var Z=0;Z<M;Z++){var rt=4*((P-Y-1)*M+Z),st=w?O-4*(Y*M+(M-Z)):4*(Y*M+Z);z[st+0]=N[rt+0],z[st+1]=N[rt+1],z[st+2]=N[rt+2],z[st+3]=N[rt+3]}G.putImageData(j,0,0);var K=new Image;K.onerror=function(){f.call(null),b.remove(L)},K.onload=function(){f.call(null,K),b.remove(L)},K.src=L.toDataURL(c,m)}}},89966:(_,k,a)=>{_.exports={Canvas:a(32880),WebGL:a(88815)}},7530:(_,k,a)=>{var b=a(83419),T=a(36060),g=a(90330),h=a(82264),u=a(95540),l=a(32302),d=a(63448),f=a(31302),c=a(58918),m=a(14811),v=a(92651),x=a(96569),y=a(56527),w=a(57516),E=a(43439),S=a(81041),A=a(12385),I=a(7589),M=a(95428),P=a(72905),O=new b({initialize:function(L){this.game=L.game,this.renderer=L,this.classes=new g([[T.UTILITY_PIPELINE,I],[T.MULTI_PIPELINE,w],[T.BITMAPMASK_PIPELINE,f],[T.SINGLE_PIPELINE,A],[T.ROPE_PIPELINE,S],[T.LIGHT_PIPELINE,x],[T.POINTLIGHT_PIPELINE,E],[T.MOBILE_PIPELINE,y]]),this.postPipelineClasses=new g,this.pipelines=new g,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(N,L,G){var j=this.renderer,z=this.renderTargets;this.frameInc=Math.floor(u(N,"frameInc",32));var Y=j.width,Z=j.height,rt=this.game.config.disablePreFX;if(this.game.config.disablePostFX||this.postPipelineClasses.setAll([[String(m.BARREL),c.Barrel],[String(m.BLOOM),c.Bloom],[String(m.BLUR),c.Blur],[String(m.BOKEH),c.Bokeh],[String(m.CIRCLE),c.Circle],[String(m.COLOR_MATRIX),c.ColorMatrix],[String(m.DISPLACEMENT),c.Displacement],[String(m.GLOW),c.Glow],[String(m.GRADIENT),c.Gradient],[String(m.PIXELATE),c.Pixelate],[String(m.SHADOW),c.Shadow],[String(m.SHINE),c.Shine],[String(m.VIGNETTE),c.Vignette],[String(m.WIPE),c.Wipe]]),!rt){this.classes.set(T.FX_PIPELINE,v);for(var K=Math.min(Y,Z),tt=Math.ceil(K/this.frameInc),W=1;W<tt;W++){var H=W*this.frameInc;z.push(new l(j,H,H)),z.push(new l(j,H,H)),z.push(new l(j,H,H)),this.maxDimension=H}z.push(new l(j,Y,Z,1,0,!0,!0)),z.push(new l(j,Y,Z,1,0,!0,!0)),z.push(new l(j,Y,Z,1,0,!0,!0))}var it,dt,mt=this,vt=this.game;if(this.classes.each(function(Nt,Yt){it=mt.add(Nt,new Yt({game:vt})),Nt===T.UTILITY_PIPELINE&&(mt.UTILITY_PIPELINE=it,mt.fullFrame1=it.fullFrame1,mt.fullFrame2=it.fullFrame2,mt.halfFrame1=it.halfFrame1,mt.halfFrame2=it.halfFrame2)}),this.MULTI_PIPELINE=this.get(T.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(T.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(T.MOBILE_PIPELINE),rt||(this.FX_PIPELINE=this.get(T.FX_PIPELINE)),N)for(dt in N){var Tt=N[dt];(it=new Tt(vt)).name=dt,it.isPostFX?this.postPipelineClasses.set(dt,Tt):this.has(dt)||(this.classes.set(dt,Tt),this.add(dt,it))}this.default=this.get(L),G&&!h.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(N){var L=this.get(N);return L&&(this.default=L),L},add:function(N,L){if(!L.isPostFX){var G=this.pipelines,j=this.renderer;return G.has(N)?console.warn("Pipeline exists: "+N):(L.name=N,L.manager=this,G.set(N,L)),L.hasBooted||L.boot(),0!==j.width&&0!==j.height&&!L.isPreFX&&L.resize(j.width,j.height),L}console.warn(N+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(N,L){this.postPipelineClasses.has(N)||this.postPipelineClasses.set(N,L)},flush:function(){this.current&&this.current.flush()},has:function(N){var L=this.pipelines;return"string"==typeof N?L.has(N):!!L.contains(N)},get:function(N){var L=this.pipelines;return"string"==typeof N?L.get(N):L.contains(N)?N:void 0},getPostPipeline:function(N,L,G){var z,j=this.postPipelineClasses,Y="",Z=typeof N;if("string"===Z||"number"===Z?(z=j.get(N),Y=N):"function"===Z?(j.contains(N)&&(z=N),Y=N.name):"object"===Z&&(z=j.get(N.name),Y=N.name),z){var rt=new z(this.game,G);return rt.name=Y,L&&(rt.gameObject=L),this.postPipelineInstances.push(rt),rt}},removePostPipeline:function(N){P(this.postPipelineInstances,N)},remove:function(N,L,G){void 0===L&&(L=!0),void 0===G&&(G=!0),this.pipelines.delete(N),L&&this.classes.delete(N),G&&this.postPipelineClasses.delete(N)},set:function(N,L,G){if(!N.isPostFX)return this.isCurrent(N,G)||(this.flush(),this.current&&this.current.unbind(),this.current=N,N.bind(G)),N.updateProjectionMatrix(),N.onBind(L),N},preBatch:function(N){if(N.hasPostPipeline){this.flush();for(var L=N.postPipelines,G=L.length-1;G>=0;G--){var j=L[G];j.active&&j.preBatch(N)}}},postBatch:function(N){if(N.hasPostPipeline){this.flush();for(var L=N.postPipelines,G=0;G<L.length;G++){var j=L[G];j.active&&j.postBatch(N)}}},preBatchCamera:function(N){if(N.hasPostPipeline){this.flush();for(var L=N.postPipelines,G=L.length-1;G>=0;G--){var j=L[G];j.active&&j.preBatch(N)}}},postBatchCamera:function(N){if(N.hasPostPipeline){this.flush();for(var L=N.postPipelines,G=0;G<L.length;G++){var j=L[G];j.active&&j.postBatch(N)}}},isCurrent:function(N,L){var j=this.current;return j&&!L&&(L=j.currentShader),!(j!==N||L.program!==this.renderer.currentProgram)},copyFrame:function(N,L,G,j,z){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(N,L,G,j,z),this},copyToGame:function(N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(N),this},drawFrame:function(N,L,G,j){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(N,L,G,j),this},blendFrames:function(N,L,G,j,z){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(N,L,G,j,z),this},blendFramesAdditive:function(N,L,G,j,z){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(N,L,G,j,z),this},clearFrame:function(N,L){return this.UTILITY_PIPELINE.clearFrame(N,L),this},blitFrame:function(N,L,G,j,z,Y){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(N,L,G,j,z,Y),this},copyFrameRect:function(N,L,G,j,z,Y,Z,rt){return this.UTILITY_PIPELINE.copyFrameRect(N,L,G,j,z,Y,Z,rt),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(N){return this.UTILITY_PIPELINE.bind(N)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(N,L){L.restoreContext()}),M(this.postPipelineInstances,function(N){N.restoreContext()})},rebind:function(N){void 0===N&&this.previous&&(N=this.previous);var L=this.renderer,G=L.gl;G.disable(G.DEPTH_TEST),G.disable(G.CULL_FACE),L.hasActiveStencilMask()?G.clear(G.DEPTH_BUFFER_BIT):(G.disable(G.STENCIL_TEST),G.clear(G.DEPTH_BUFFER_BIT|G.STENCIL_BUFFER_BIT)),G.viewport(0,0,L.width,L.height),L.currentProgram=null,L.setBlendMode(0,!0);var j=L.vaoExtension;j&&j.bindVertexArrayOES(null);var z=this.pipelines.entries;for(var Y in z)z[Y].glReset=!0;N&&(this.current=N,N.rebind())},clear:function(){var N=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,N.currentProgram=null,N.setBlendMode(0,!0);var L=N.vaoExtension;L&&L.bindVertexArrayOES(null)},getRenderTarget:function(N){var L=this.renderTargets;if(N>this.maxDimension)return this.targetIndex=L.length-3,L[this.targetIndex];var j=3*(d(N,this.frameInc,0,!0)-1);return this.targetIndex=j,L[j]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});_.exports=O},32302:(_,k,a)=>{var b=a(83419),T=a(92503),g=new b({initialize:function(u,l,d,f,c,m,v,x,y){void 0===f&&(f=1),void 0===c&&(c=0),void 0===m&&(m=!0),void 0===v&&(v=!1),void 0===x&&(x=!0),void 0===y&&(y=!0),this.renderer=u,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=f,this.minFilter=c,this.autoClear=m,this.autoResize=!0,this.hasDepthBuffer=x,this.forceClamp=y,this.init(l,d),v?this.renderer.on(T.RESIZE,this.resize,this):this.autoResize=!1},init:function(h,u){var l=this.renderer;this.texture=l.createTextureFromSource(null,h,u,this.minFilter,this.forceClamp),this.framebuffer=l.createFramebuffer(h,u,this.texture,this.hasDepthBuffer),this.width=h,this.height=u},setAutoResize:function(h){return h&&!this.autoResize?(this.renderer.on(T.RESIZE,this.resize,this),this.autoResize=!0):!h&&this.autoResize&&(this.renderer.off(T.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(h,u){if(this.autoResize&&this.willResize(h,u)){var l=this.renderer;l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.texture=l.createTextureFromSource(null,h,u,this.minFilter,this.forceClamp),this.framebuffer=l.createFramebuffer(h,u,this.texture,this.hasDepthBuffer),this.width=h,this.height=u}return this},willResize:function(h,u){return"number"==typeof h&&"number"==typeof u&&(h=Math.round(h*this.scale),u=Math.round(u*this.scale),h=Math.max(h,1),u=Math.max(u,1),h!==this.width||u!==this.height)},bind:function(h,u,l){void 0===h&&(h=!1);var d=this.renderer;if(h&&d.flush(),u&&l&&this.resize(u,l),d.pushFramebuffer(this.framebuffer,!1,!1),h&&this.adjustViewport(),this.autoClear){var f=this.renderer.gl;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)}d.clearStencilMask()},adjustViewport:function(){var h=this.renderer.gl;h.viewport(0,0,this.width,this.height),h.disable(h.SCISSOR_TEST)},clear:function(h,u,l,d){var f=this.renderer,c=f.gl;f.pushFramebuffer(this.framebuffer),void 0!==h&&void 0!==u&&void 0!==l&&void 0!==d?(c.enable(c.SCISSOR_TEST),c.scissor(h,u,l,d)):c.disable(c.SCISSOR_TEST),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),f.popFramebuffer(),f.resetScissor()},unbind:function(h){void 0===h&&(h=!1);var u=this.renderer;return h&&u.flush(),u.popFramebuffer()},destroy:function(){var h=this.renderer;h.off(T.RESIZE,this.resize,this),h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});_.exports=g},70554:_=>{_.exports={getTintFromFloats:function(k,a,b,T){return((255*T&255)<<24|(255*k&255)<<16|(255*a&255)<<8|255*b&255)>>>0},getTintAppendFloatAlpha:function(k,a){return((255*a&255)<<24|k)>>>0},getTintAppendFloatAlphaAndSwap:function(k,a){return((255*a&255)<<24|(255&k)<<16|(k>>8&255)<<8|k>>16&255)>>>0},getFloatsFromUintRGB:function(k){return[(k>>16&255)/255,(k>>8&255)/255,(255&k)/255]},checkShaderMax:function(k,a){var b=Math.min(16,k.getParameter(k.MAX_TEXTURE_IMAGE_UNITS));return a&&-1!==a?Math.min(b,a):b},parseFragmentShaderMaxTextures:function(k,a){if(!k)return"";for(var b="",T=0;T<a;T++)T>0&&(b+="\n\telse "),T<a-1&&(b+="if (outTexId < "+T+".5)"),b+="\n\t{",b+="\n\t\ttexture = texture2D(uMainSampler["+T+"], outTexCoord);",b+="\n\t}";return(k=k.replace(/%count%/gi,a.toString())).replace(/%forloop%/gi,b)},setGlowQuality:function(k,a,b,T){return void 0===b&&(b=a.config.glowFXQuality),void 0===T&&(T=a.config.glowFXDistance),(k=k.replace(/__SIZE__/gi,(1/b/T).toFixed(7))).replace(/__DIST__/gi,T.toFixed(0)+".0")}}},29100:(_,k,a)=>{var b=a(83419),T=a(62644),g=a(50792),h=a(77085),u=a(95540),l=a(37867),d=a(92503),f=a(32302),c=a(70554),m=a(38683),v=new b({Extends:g,initialize:function(y){g.call(this);var w=y.game,E=w.renderer,S=E.gl;this.name=u(y,"name","WebGLPipeline"),this.game=w,this.renderer=E,this.gl=S,this.view=w.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.topology=u(y,"topology",S.TRIANGLES),this.active=!0,this.forceZero=u(y,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.shaders=[],this.projectionWidth=0,this.projectionHeight=0,this.config=y,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=u(y,"resizeUniform","")},boot:function(){var x,y=this.gl,w=this.config,E=this.renderer;this.isPostFX||(this.projectionMatrix=(new l).identity());var S=this.renderTargets,A=u(w,"renderTarget",!1);"boolean"==typeof A&&A&&(A=1);var I=E.width,M=E.height;if("number"==typeof A)for(x=0;x<A;x++)S.push(new f(E,I,M,1,0,!0));else if(Array.isArray(A))for(x=0;x<A.length;x++){var P=u(A[x],"scale",1),O=u(A[x],"minFilter",0),N=u(A[x],"autoClear",1),L=u(A[x],"autoResize",!1),G=u(A[x],"width",null),j=u(A[x],"height",G);S.push(G?new f(E,G,j,1,O,N,L):new f(E,I,M,P,O,N,L))}S.length&&(this.currentRenderTarget=S[0]),this.setShadersFromConfig(w);var z=this.shaders,Y=0;for(x=0;x<z.length;x++)z[x].vertexSize>Y&&(Y=z[x].vertexSize);var Z=u(w,"batchSize",E.config.batchSize);this.vertexCapacity=6*Z;var rt=new ArrayBuffer(this.vertexCapacity*Y);this.vertexData=rt,this.bytes=new Uint8Array(rt),this.vertexViewF32=new Float32Array(rt),this.vertexViewU32=new Uint32Array(rt);var st=u(w,"vertices",null);for(st?(this.vertexViewF32.set(st),this.vertexBuffer=E.createVertexBuffer(rt,y.STATIC_DRAW)):this.vertexBuffer=E.createVertexBuffer(rt.byteLength,y.DYNAMIC_DRAW),this.setVertexBuffer(),x=z.length-1;x>=0;x--)z[x].rebind();this.hasBooted=!0,E.on(d.RESIZE,this.resize,this),E.on(d.PRE_RENDER,this.onPreRender,this),E.on(d.RENDER,this.onRender,this),E.on(d.POST_RENDER,this.onPostRender,this),this.emit(h.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(x,y,w){return x===this.currentShader&&this.renderer.currentProgram===this.currentShader.program||(this.flush(),this.setVertexBuffer(w)&&!y&&(y=!0),x.bind(y,!1),this.currentShader=x),this},getShaderByName:function(x){for(var y=this.shaders,w=0;w<y.length;w++)if(y[w].name===x)return y[w]},setShadersFromConfig:function(x){var y,w=this.shaders,E=this.renderer;for(y=0;y<w.length;y++)w[y].destroy();var S="vertShader",A="fragShader",I="attributes",M=u(x,S,null),P=c.parseFragmentShaderMaxTextures(u(x,A,null),E.maxTextures),O=u(x,I,null),N=u(x,"shaders",[]),L=N.length;if(0===L)M&&P&&(this.shaders=[new m(this,"default",M,P,T(O))]);else{var G=[];for(y=0;y<L;y++){var z,Y,Z,rt,j=N[y];if("string"==typeof j?(z="default",Y=M,Z=c.parseFragmentShaderMaxTextures(j,E.maxTextures),rt=O):(z=u(j,"name","default"),Y=u(j,S,M),Z=c.parseFragmentShaderMaxTextures(u(j,A,P),E.maxTextures),rt=u(j,I,O)),"default"===z){var K=Z.split("\n")[0].trim();K.indexOf("#define SHADER_NAME")>-1&&(z=K.substring(20))}Y&&Z&&G.push(new m(this,z,Y,Z,T(rt)))}this.shaders=G}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(x){return this.currentBatch={start:this.vertexCount,count:0,texture:[x],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=x,this.batch.push(this.currentBatch),0},addTextureToBatch:function(x){var y=this.currentBatch;y&&(y.texture.push(x),y.unit++,y.maxUnit++)},pushBatch:function(x){if(!this.currentBatch||this.forceZero&&x!==this.currentTexture)return this.createBatch(x);if(x===this.currentTexture)return this.currentUnit;var y=this.currentBatch,w=y.texture.indexOf(x);return-1===w?y.texture.length===this.renderer.maxTextures?this.createBatch(x):(y.unit++,y.maxUnit++,y.texture.push(x),this.currentUnit=y.unit,this.currentTexture=x,y.unit):(this.currentUnit=w,this.currentTexture=x,w)},setGameObject:function(x,y){return void 0===y&&(y=x.frame),this.pushBatch(y.source.glTexture)},shouldFlush:function(x){return void 0===x&&(x=0),this.vertexCount+x>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(x,y){(x!==this.width||y!==this.height)&&this.flush(),this.width=x,this.height=y;for(var w=this.renderTargets,E=0;E<w.length;E++)w[E].resize(x,y);return this.setProjectionMatrix(x,y),this.resizeUniform&&this.set2f(this.resizeUniform,x,y),this.emit(h.RESIZE,x,y,this),this.onResize(x,y),this},setProjectionMatrix:function(x,y){var w=this.projectionMatrix;if(!w)return this;this.projectionWidth=x,this.projectionHeight=y,w.ortho(0,x,y,0,-1e3,1e3);for(var E=this.shaders,S="uProjectionMatrix",A=0;A<E.length;A++){var I=E[A];I.hasUniform(S)&&(I.resetUniform(S),I.setMatrix4fv(S,!1,w.val,I))}return this},flipProjectionMatrix:function(x){void 0===x&&(x=!0);var y=this.projectionMatrix;if(!y)return this;var w=this.projectionWidth,E=this.projectionHeight;x?y.ortho(0,w,0,E,-1e3,1e3):y.ortho(0,w,E,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,y.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var x=this.renderer.projectionWidth,y=this.renderer.projectionHeight;(this.projectionWidth!==x||this.projectionHeight!==y)&&this.setProjectionMatrix(x,y)}},bind:function(x){if(void 0===x&&(x=this.currentShader),this.glReset)return this.rebind(x);var y=!1,w=this.gl;return w.getParameter(w.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(w.bindBuffer(w.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,y=!0),x.bind(y),this.currentShader=x,this.activeTextures.length=0,this.emit(h.BIND,this,x),this.onActive(x),this},rebind:function(x){this.activeBuffer=null,this.setVertexBuffer();for(var y=this.shaders,w=y.length-1;w>=0;w--){var E=y[w].rebind();(!x||E===x)&&(this.currentShader=E)}return this.activeTextures.length=0,this.emit(h.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var x=this.shaders,y=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,y&&this.setVertexBuffer();for(var w=0;w<x.length;w++){var E=x[w];E.syncUniforms(),y&&E.rebind()}},setVertexBuffer:function(x){return void 0===x&&(x=this.vertexBuffer),x!==this.activeBuffer&&(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,x.webGLBuffer),this.activeBuffer=x,!0)},preBatch:function(x){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(x),this},postBatch:function(x){return this.onDraw(this.currentRenderTarget),this.onPostBatch(x),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(x){if(void 0===x&&(x=!1),this.vertexCount>0){this.emit(h.BEFORE_FLUSH,this,x),this.onBeforeFlush(x);var y=this.gl,w=this.vertexCount,E=this.currentShader.vertexSize,S=this.topology;if(this.active){this.setVertexBuffer(),w===this.vertexCapacity?y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.DYNAMIC_DRAW):y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,w*E));var A,I,M,P=this.batch,O=this.activeTextures;if(this.forceZero)for(O[0]||y.activeTexture(y.TEXTURE0),A=0;A<P.length;A++)O[0]!==(M=(I=P[A]).texture[0])&&(y.bindTexture(y.TEXTURE_2D,M.webGLTexture),O[0]=M),y.drawArrays(S,I.start,I.count);else for(A=0;A<P.length;A++){I=P[A];for(var N=0;N<=I.maxUnit;N++)O[N]!==(M=I.texture[N])&&(y.activeTexture(y.TEXTURE0+N),y.bindTexture(y.TEXTURE_2D,M.webGLTexture),O[N]=M);y.drawArrays(S,I.start,I.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(h.AFTER_FLUSH,this,x),this.onAfterFlush(x)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,y,w,E,S,A,I){var M=this.vertexViewF32,P=this.vertexViewU32,O=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++O]=x,M[++O]=y,M[++O]=w,M[++O]=E,M[++O]=S,M[++O]=A,P[++O]=I,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(x,y,w,E,S,A,I,M,P,O,N,L,G,j,z,Y,Z,rt,st,K){void 0===K&&(K=this.currentUnit);var tt=!1;this.shouldFlush(6)&&(this.flush(),tt=!0),this.currentBatch||(K=this.setTexture2D(st));var W=this.vertexViewF32,H=this.vertexViewU32,it=this.vertexCount*this.currentShader.vertexComponentCount-1;return W[++it]=y,W[++it]=w,W[++it]=O,W[++it]=N,W[++it]=K,W[++it]=rt,H[++it]=j,W[++it]=E,W[++it]=S,W[++it]=O,W[++it]=G,W[++it]=K,W[++it]=rt,H[++it]=Y,W[++it]=A,W[++it]=I,W[++it]=L,W[++it]=G,W[++it]=K,W[++it]=rt,H[++it]=Z,W[++it]=y,W[++it]=w,W[++it]=O,W[++it]=N,W[++it]=K,W[++it]=rt,H[++it]=j,W[++it]=A,W[++it]=I,W[++it]=L,W[++it]=G,W[++it]=K,W[++it]=rt,H[++it]=Z,W[++it]=M,W[++it]=P,W[++it]=L,W[++it]=N,W[++it]=K,W[++it]=rt,H[++it]=z,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),tt},batchTri:function(x,y,w,E,S,A,I,M,P,O,N,L,G,j,z,Y,Z){void 0===Z&&(Z=this.currentUnit);var rt=!1;this.shouldFlush(3)&&(this.flush(),rt=!0),this.currentBatch||(Z=this.setTexture2D(Y));var st=this.vertexViewF32,K=this.vertexViewU32,tt=this.vertexCount*this.currentShader.vertexComponentCount-1;return st[++tt]=y,st[++tt]=w,st[++tt]=M,st[++tt]=P,st[++tt]=Z,st[++tt]=z,K[++tt]=L,st[++tt]=E,st[++tt]=S,st[++tt]=M,st[++tt]=N,st[++tt]=Z,st[++tt]=z,K[++tt]=G,st[++tt]=A,st[++tt]=I,st[++tt]=O,st[++tt]=N,st[++tt]=Z,st[++tt]=z,K[++tt]=j,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),rt},drawFillRect:function(x,y,w,E,S,A,I,M){void 0===I&&(I=this.renderer.whiteTexture),void 0===M&&(M=!0),x=Math.floor(x),y=Math.floor(y);var P=Math.floor(x+w),O=Math.floor(y+E),N=this.setTexture2D(I),L=c.getTintAppendFloatAlphaAndSwap(S,A),j=0,Y=1;M&&(j=1,Y=0),this.batchQuad(null,x,y,x,O,P,O,P,y,0,j,1,Y,L,L,L,L,0,I,N)},setTexture2D:function(x){return void 0===x&&(x=this.renderer.whiteTexture),this.pushBatch(x)},bindTexture:function(x,y){void 0===y&&(y=0);var w=this.gl;return w.activeTexture(w.TEXTURE0+y),w.bindTexture(w.TEXTURE_2D,x.webGLTexture),this},bindRenderTarget:function(x,y){return this.bindTexture(x.texture,y)},setTime:function(x,y){return this.set1f(x,this.game.loop.getDuration(),y),this},setBoolean:function(x,y,w){return void 0===w&&(w=this.currentShader),w.setBoolean(x,y),this},set1f:function(x,y,w){return void 0===w&&(w=this.currentShader),w.set1f(x,y),this},set2f:function(x,y,w,E){return void 0===E&&(E=this.currentShader),E.set2f(x,y,w),this},set3f:function(x,y,w,E,S){return void 0===S&&(S=this.currentShader),S.set3f(x,y,w,E),this},set4f:function(x,y,w,E,S,A){return void 0===A&&(A=this.currentShader),A.set4f(x,y,w,E,S),this},set1fv:function(x,y,w){return void 0===w&&(w=this.currentShader),w.set1fv(x,y),this},set2fv:function(x,y,w){return void 0===w&&(w=this.currentShader),w.set2fv(x,y),this},set3fv:function(x,y,w){return void 0===w&&(w=this.currentShader),w.set3fv(x,y),this},set4fv:function(x,y,w){return void 0===w&&(w=this.currentShader),w.set4fv(x,y),this},set1iv:function(x,y,w){return void 0===w&&(w=this.currentShader),w.set1iv(x,y),this},set2iv:function(x,y,w){return void 0===w&&(w=this.currentShader),w.set2iv(x,y),this},set3iv:function(x,y,w){return void 0===w&&(w=this.currentShader),w.set3iv(x,y),this},set4iv:function(x,y,w){return void 0===w&&(w=this.currentShader),w.set4iv(x,y),this},set1i:function(x,y,w){return void 0===w&&(w=this.currentShader),w.set1i(x,y),this},set2i:function(x,y,w,E){return void 0===E&&(E=this.currentShader),E.set2i(x,y,w),this},set3i:function(x,y,w,E,S){return void 0===S&&(S=this.currentShader),S.set3i(x,y,w,E),this},set4i:function(x,y,w,E,S,A){return void 0===A&&(A=this.currentShader),A.set4i(x,y,w,E,S),this},setMatrix2fv:function(x,y,w,E){return void 0===E&&(E=this.currentShader),E.setMatrix2fv(x,y,w),this},setMatrix3fv:function(x,y,w,E){return void 0===E&&(E=this.currentShader),E.setMatrix3fv(x,y,w),this},setMatrix4fv:function(x,y,w,E){return void 0===E&&(E=this.currentShader),E.setMatrix4fv(x,y,w),this},destroy:function(){this.emit(h.DESTROY,this);var x,y=this.shaders;for(x=0;x<y.length;x++)y[x].destroy();var w=this.renderTargets;for(x=0;x<w.length;x++)w[x].destroy();var E=this.renderer;return E.deleteBuffer(this.vertexBuffer),E.off(d.RESIZE,this.resize,this),E.off(d.PRE_RENDER,this.onPreRender,this),E.off(d.RENDER,this.onRender,this),E.off(d.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});_.exports=v},74797:(_,k,a)=>{var b=a(95428),T=a(72905),g=a(19715),h=a(83419),u=a(8054),l=a(50792),d=a(92503),f=a(50030),c=a(37867),m=a(29747),v=a(7530),x=a(32302),y=a(97480),w=a(69442),E=a(70554),S=a(88815),A=a(26128),I=a(1482),M=a(82751),P=a(84387),O=a(93567),N=a(57183),j=new h({Extends:l,initialize:function(Y){l.call(this);var Z=Y.config;this.config={clearBeforeRender:Z.clearBeforeRender,antialias:Z.antialias,backgroundColor:Z.backgroundColor,contextCreation:{alpha:Z.transparent,desynchronized:Z.desynchronized,depth:!0,antialias:Z.antialiasGL,premultipliedAlpha:Z.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:Z.failIfMajorPerformanceCaveat,powerPreference:Z.powerPreference,preserveDrawingBuffer:Z.preserveDrawingBuffer,willReadFrequently:!1},roundPixels:Z.roundPixels,maxTextures:Z.maxTextures,maxTextureSize:Z.maxTextureSize,batchSize:Z.batchSize,maxLights:Z.maxLights,mipmapFilter:Z.mipmapFilter},this.game=Y,this.type=u.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=Y.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=m,this.contextRestoredHandler=m,this.previousContextLostHandler=m,this.previousContextRestoredHandler=m,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(z){var Y,Z=this.game,rt=this.canvas,st=z.backgroundColor;if(!(Y=Z.config.context?Z.config.context:rt.getContext("webgl",z.contextCreation)||rt.getContext("experimental-webgl",z.contextCreation))||Y.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=Y,this.setExtensions(),this.setContextHandlers(),Z.context=Y;for(var K=0;K<=27;K++)this.blendModes.push({func:[Y.ONE,Y.ONE_MINUS_SRC_ALPHA],equation:Y.FUNC_ADD});return this.blendModes[1].func=[Y.ONE,Y.DST_ALPHA],this.blendModes[2].func=[Y.DST_COLOR,Y.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[Y.ONE,Y.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[Y.ZERO,Y.ONE_MINUS_SRC_ALPHA],equation:Y.FUNC_REVERSE_SUBTRACT},this.glFormats=[Y.BYTE,Y.SHORT,Y.UNSIGNED_BYTE,Y.UNSIGNED_SHORT,Y.FLOAT],this.glFuncMap={mat2:{func:Y.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:Y.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:Y.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:Y.uniform1f,length:1},"1fv":{func:Y.uniform1fv,length:1},"1i":{func:Y.uniform1i,length:1},"1iv":{func:Y.uniform1iv,length:1},"2f":{func:Y.uniform2f,length:2},"2fv":{func:Y.uniform2fv,length:1},"2i":{func:Y.uniform2i,length:2},"2iv":{func:Y.uniform2iv,length:1},"3f":{func:Y.uniform3f,length:3},"3fv":{func:Y.uniform3fv,length:1},"3i":{func:Y.uniform3i,length:3},"3iv":{func:Y.uniform3iv,length:1},"4f":{func:Y.uniform4f,length:4},"4fv":{func:Y.uniform4fv,length:1},"4i":{func:Y.uniform4i,length:4},"4iv":{func:Y.uniform4iv,length:1}},(!z.maxTextures||-1===z.maxTextures)&&(z.maxTextures=Y.getParameter(Y.MAX_TEXTURE_IMAGE_UNITS)),z.maxTextureSize||(z.maxTextureSize=Y.getParameter(Y.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),Y.disable(Y.DEPTH_TEST),Y.disable(Y.CULL_FACE),Y.enable(Y.BLEND),Y.clearColor(st.redGL,st.greenGL,st.blueGL,st.alphaGL),-1!==["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"].indexOf(z.mipmapFilter)&&(this.mipmapFilter=Y[z.mipmapFilter]),this.maxTextures=E.checkShaderMax(Y,z.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new v(this),this.setBlendMode(u.BlendModes.NORMAL),this.projectionMatrix=(new c).identity(),Z.textures.once(w.READY,this.boot,this),this},boot:function(){var z=this.game,Y=this.pipelines,Z=z.scale.baseSize,rt=Z.width,st=Z.height;this.width=rt,this.height=st,this.isBooted=!0,this.renderTarget=new x(this,rt,st,1,0,!0,!0),this.maskTarget=new x(this,rt,st,1,0,!0,!0),this.maskSource=new x(this,rt,st,1,0,!0,!0);var K=z.config;Y.boot(K.pipeline,K.defaultPipeline,K.autoMobilePipeline),this.blankTexture=z.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=z.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=z.textures.getFrame("__WHITE").glTexture;var tt=this.gl;tt.bindFramebuffer(tt.FRAMEBUFFER,null),tt.enable(tt.SCISSOR_TEST),z.scale.on(y.RESIZE,this.onResize,this),this.resize(rt,st)},setExtensions:function(){var z=this.gl,Y=z.getSupportedExtensions();this.supportedExtensions=Y;var Z="ANGLE_instanced_arrays";this.instancedArraysExtension=Y.indexOf(Z)>-1?z.getExtension(Z):null;var rt="OES_vertex_array_object";this.vaoExtension=Y.indexOf(rt)>-1?z.getExtension(rt):null},setContextHandlers:function(z,Y){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),this.contextLostHandler="function"==typeof z?z.bind(this):this.dispatchContextLost.bind(this),this.contextRestoredHandler="function"==typeof Y?Y.bind(this):this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(z){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(d.LOSE_WEBGL,this),z.preventDefault()},dispatchContextRestored:function(z){var Y=this.gl;if(Y.isContextLost())console&&console.log("WebGL Context restored, but context is still lost");else{this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(u.BlendModes.NORMAL),Y.disable(Y.BLEND),Y.disable(Y.DEPTH_TEST),Y.enable(Y.CULL_FACE),this.compression=this.getCompressedTextures();var Z=function(rt){rt.createResource()};b(this.glTextureWrappers,Z),b(this.glBufferWrappers,Z),b(this.glFramebufferWrappers,Z),b(this.glProgramWrappers,Z),b(this.glAttribLocationWrappers,Z),b(this.glUniformLocationWrappers,Z),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(d.RESTORE_WEBGL,this),z.preventDefault()}},createTemporaryTextures:function(){for(var z=this.gl,Y=0;Y<this.maxTextures;Y++){var Z=z.createTexture();z.activeTexture(z.TEXTURE0+Y),z.bindTexture(z.TEXTURE_2D,Z),z.texImage2D(z.TEXTURE_2D,0,z.RGBA,1,1,0,z.RGBA,z.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(Y)}},captureFrame:function(z,Y){void 0===z&&(z=!1),void 0===Y&&(Y=!1)},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(z,Y,Z){void 0===z&&(z=0),void 0===Y&&(Y=!1),void 0===Z&&(Z=!1)},stopCapture:function(){},onCapture:function(z){},onResize:function(z,Y){(Y.width!==this.width||Y.height!==this.height)&&this.resize(Y.width,Y.height)},beginCapture:function(z,Y){void 0===z&&(z=this.width),void 0===Y&&(Y=this.height),this.renderTarget.bind(!0,z,Y),this.setProjectionMatrix(z,Y)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(z,Y){var Z=this.gl;return this.width=z,this.height=Y,this.setProjectionMatrix(z,Y),Z.viewport(0,0,z,Y),this.drawingBufferHeight=Z.drawingBufferHeight,Z.scissor(0,Z.drawingBufferHeight-Y,z,Y),this.defaultScissor[2]=z,this.defaultScissor[3]=Y,this.emit(d.RESIZE,z,Y),this},getCompressedTextures:function(){var z="WEBGL_compressed_texture_",Y="WEBKIT_"+z,rt=function(K,tt){var W=K.getExtension(z+tt)||K.getExtension(Y+tt)||K.getExtension("EXT_texture_compression_"+tt);if(W){var H={};for(var it in W)H[W[it]]=it;return H}},st=this.gl;return{ETC:rt(st,"etc"),ETC1:rt(st,"etc1"),ATC:rt(st,"atc"),ASTC:rt(st,"astc"),BPTC:rt(st,"bptc"),RGTC:rt(st,"rgtc"),PVRTC:rt(st,"pvrtc"),S3TC:rt(st,"s3tc"),S3TCSRGB:rt(st,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(z,Y){var Z=this.compression[z.toUpperCase()];if(Y in Z)return Z[Y]},supportsCompressedTexture:function(z,Y){var Z=this.compression[z.toUpperCase()];return!!Z&&(!Y||Y in Z)},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(z,Y){return(z!==this.projectionWidth||Y!==this.projectionHeight)&&(this.projectionWidth=z,this.projectionHeight=Y,this.projectionMatrix.ortho(0,z,Y,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(z){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(z)},getExtension:function(z){return this.hasExtension(z)?(z in this.extensions||(this.extensions[z]=this.gl.getExtension(z)),this.extensions[z]):null},flush:function(){this.pipelines.flush()},pushScissor:function(z,Y,Z,rt,st){void 0===st&&(st=this.drawingBufferHeight);var tt=[z,Y,Z,rt];return this.scissorStack.push(tt),this.setScissor(z,Y,Z,rt,st),this.currentScissor=tt,tt},setScissor:function(z,Y,Z,rt,st){void 0===st&&(st=this.drawingBufferHeight);var K=this.gl,tt=this.currentScissor,W=Z>0&&rt>0;tt&&W&&(W=tt[0]!==z||tt[1]!==Y||tt[2]!==Z||tt[3]!==rt),W&&(this.flush(),K.scissor(z,st-Y-rt,Z,rt))},resetScissor:function(){var z=this.gl;z.enable(z.SCISSOR_TEST);var Y=this.currentScissor;if(Y){var st=Y[2],K=Y[3];st>0&&K>0&&z.scissor(Y[0],this.drawingBufferHeight-Y[1]-K,st,K)}},popScissor:function(){var z=this.scissorStack;z.pop();var Y=z[z.length-1];Y&&this.setScissor(Y[0],Y[1],Y[2],Y[3]),this.currentScissor=Y},hasActiveStencilMask:function(){var z=this.currentMask.mask,Y=this.currentCameraMask.mask;return z&&z.isStencil||Y&&Y.isStencil},resetViewport:function(){var z=this.gl;z.viewport(0,0,this.width,this.height),this.drawingBufferHeight=z.drawingBufferHeight},setBlendMode:function(z,Y){void 0===Y&&(Y=!1);var Z=this.gl,rt=this.blendModes[z];return!!(Y||z!==u.BlendModes.SKIP_CHECK&&this.currentBlendMode!==z)&&(this.flush(),Z.enable(Z.BLEND),Z.blendEquation(rt.equation),rt.func.length>2?Z.blendFuncSeparate(rt.func[0],rt.func[1],rt.func[2],rt.func[3]):Z.blendFunc(rt.func[0],rt.func[1]),this.currentBlendMode=z,!0)},addBlendMode:function(z,Y){return this.blendModes.push({func:z,equation:Y})-1},updateBlendMode:function(z,Y,Z){return this.blendModes[z]&&(this.blendModes[z].func=Y,Z&&(this.blendModes[z].equation=Z)),this},removeBlendMode:function(z){return z>17&&this.blendModes[z]&&this.blendModes.splice(z,1),this},pushFramebuffer:function(z,Y,Z,rt,st){return z===this.currentFramebuffer?this:(this.fboStack.push(z),this.setFramebuffer(z,Y,Z,rt,st))},setFramebuffer:function(z,Y,Z,rt,st){if(void 0===Y&&(Y=!1),void 0===Z&&(Z=!0),void 0===rt&&(rt=null),void 0===st&&(st=!1),z===this.currentFramebuffer)return this;var K=this.gl,tt=this.width,W=this.height;return z&&z.renderTexture&&Z?(tt=z.renderTexture.width,W=z.renderTexture.height):this.flush(),K.bindFramebuffer(K.FRAMEBUFFER,z?z.webGLFramebuffer:null),Z&&K.viewport(0,0,tt,W),rt&&K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,rt.webGLTexture,0),st&&(K.clearColor(0,0,0,0),K.clear(K.COLOR_BUFFER_BIT)),Y&&(z?(this.drawingBufferHeight=W,this.pushScissor(0,0,tt,W)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=z,this},popFramebuffer:function(z,Y){void 0===z&&(z=!1),void 0===Y&&(Y=!0);var Z=this.fboStack;Z.pop();var rt=Z[Z.length-1];return rt||(rt=null),this.setFramebuffer(rt,z,Y),rt},restoreFramebuffer:function(z,Y){void 0===z&&(z=!1),void 0===Y&&(Y=!0);var Z=this.fboStack,rt=Z[Z.length-1];rt||(rt=null),this.currentFramebuffer=null,this.setFramebuffer(rt,z,Y)},setProgram:function(z){return z!==this.currentProgram&&(this.flush(),this.gl.useProgram(z.webGLProgram),this.currentProgram=z,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(z,Y,Z,rt,st){void 0===st&&(st=!1);var K=this.gl,tt=K.NEAREST,W=K.NEAREST,H=K.CLAMP_TO_EDGE,dt=f(Y=z?z.width:Y,Z=z?z.height:Z);if(dt&&!st&&(H=K.REPEAT),rt===u.ScaleModes.LINEAR&&this.config.antialias){var mt=z&&z.compressed;tt=this.mipmapFilter&&(!mt&&dt||mt&&z.mipmaps.length>1)?this.mipmapFilter:K.LINEAR,W=K.LINEAR}return z||"number"!=typeof Y||"number"!=typeof Z?this.createTexture2D(0,tt,W,H,H,K.RGBA,z):this.createTexture2D(0,tt,W,H,H,K.RGBA,null,Y,Z)},createTexture2D:function(z,Y,Z,rt,st,K,tt,W,H,it,dt,mt){"number"!=typeof W&&(W=tt?tt.width:1),"number"!=typeof H&&(H=tt?tt.height:1);var vt=new M(this.gl,z,Y,Z,rt,st,K,tt,W,H,it,dt,mt);return this.glTextureWrappers.push(vt),vt},createFramebuffer:function(z,Y,Z,rt){this.currentFramebuffer=null;var st=new P(this.gl,z,Y,Z,rt);return this.glFramebufferWrappers.push(st),st},beginBitmapMask:function(z,Y){this.gl&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==z&&(this.currentMask.mask=z,this.currentMask.camera=Y))},drawBitmapMask:function(z,Y,Z){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),z.renderWebGL(this,z,Y),this.maskSource.unbind(!0),this.maskTarget.unbind();var rt=this.gl,st=this.getCurrentStencilMask();st?(rt.enable(rt.STENCIL_TEST),st.mask.applyStencil(this,st.camera,!0)):this.currentMask.mask=null,this.pipelines.set(Z),rt.activeTexture(rt.TEXTURE0),rt.bindTexture(rt.TEXTURE_2D,this.maskTarget.texture.webGLTexture),rt.activeTexture(rt.TEXTURE1),rt.bindTexture(rt.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(z,Y){var Z=new I(this.gl,z,Y);return this.glProgramWrappers.push(Z),Z},createVertexBuffer:function(z,Y){var Z=this.gl,rt=new A(Z,z,Z.ARRAY_BUFFER,Y);return this.glBufferWrappers.push(rt),rt},createAttribLocation:function(z,Y){var Z=new O(this.gl,z,Y);return this.glAttribLocationWrappers.push(Z),Z},createUniformLocation:function(z,Y){var Z=new N(this.gl,z,Y);return this.glUniformLocationWrappers.push(Z),Z},createIndexBuffer:function(z,Y){var Z=this.gl,rt=new A(Z,z,Z.ELEMENT_ARRAY_BUFFER,Y);return this.glBufferWrappers.push(rt),rt},deleteTexture:function(z){if(z)return T(this.glTextureWrappers,z),z.destroy(),this},deleteFramebuffer:function(z){return z?(T(this.fboStack,z),T(this.glFramebufferWrappers,z),z.destroy(),this):this},deleteProgram:function(z){return z&&(T(this.glProgramWrappers,z),z.destroy()),this},deleteAttribLocation:function(z){return z&&(T(this.glAttribLocationWrappers,z),z.destroy()),this},deleteUniformLocation:function(z){return z&&(T(this.glUniformLocationWrappers,z),z.destroy()),this},deleteBuffer:function(z){return z?(T(this.glBufferWrappers,z),z.destroy(),this):this},preRenderCamera:function(z){var Y=z.x,Z=z.y,rt=z.width,st=z.height,K=z.backgroundColor;z.emit(g.PRE_RENDER,z),this.pipelines.preBatchCamera(z),this.pushScissor(Y,Z,rt,st),z.mask&&(this.currentCameraMask.mask=z.mask,this.currentCameraMask.camera=z._maskCamera,z.mask.preRenderWebGL(this,z,z._maskCamera)),K.alphaGL>0&&this.pipelines.setMulti().drawFillRect(Y,Z,rt,st,E.getTintFromFloats(K.blueGL,K.greenGL,K.redGL,1),K.alphaGL)},getCurrentStencilMask:function(){var z=null,Y=this.maskStack,Z=this.currentCameraMask;return Y.length>0?z=Y[Y.length-1]:Z.mask&&Z.mask.isStencil&&(z=Z),z},postRenderCamera:function(z){var Y=z.flashEffect,Z=z.fadeEffect;if(Y.isRunning||Z.isRunning||Z.isComplete){var rt=this.pipelines.setMulti();Y.postRenderWebGL(rt,E.getTintFromFloats),Z.postRenderWebGL(rt,E.getTintFromFloats)}z.dirty=!1,this.popScissor(),z.mask&&(this.currentCameraMask.mask=null,z.mask.postRenderWebGL(this,z._maskCamera)),this.pipelines.postBatchCamera(z),z.emit(g.POST_RENDER,z)},preRender:function(){if(!this.contextLost){var z=this.gl;if(z.bindFramebuffer(z.FRAMEBUFFER,null),this.emit(d.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var Y=this.config.backgroundColor;z.clearColor(Y.redGL,Y.greenGL,Y.blueGL,Y.alphaGL),z.clear(z.COLOR_BUFFER_BIT|z.DEPTH_BUFFER_BIT|z.STENCIL_BUFFER_BIT)}z.enable(z.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&z.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(d.PRE_RENDER)}},render:function(z,Y,Z){if(!this.contextLost){var rt=Y.length;if(this.emit(d.RENDER,z,Z),this.preRenderCamera(Z),0===rt)return this.setBlendMode(u.BlendModes.NORMAL),void this.postRenderCamera(Z);this.currentType="";for(var st=this.currentMask,K=0;K<rt;K++){this.finalType=K===rt-1;var tt=Y[K],W=tt.mask;(st=this.currentMask).mask&&st.mask!==W&&st.mask.postRenderWebGL(this,st.camera),W&&st.mask!==W&&W.preRenderWebGL(this,tt,Z),tt.blendMode!==this.currentBlendMode&&this.setBlendMode(tt.blendMode);var H=tt.type;H!==this.currentType&&(this.newType=!0,this.currentType=H),this.nextTypeMatch=!this.finalType&&Y[K+1].type===this.currentType,tt.renderWebGL(this,tt,Z),this.newType=!1}(st=this.currentMask).mask&&st.mask.postRenderWebGL(this,st.camera),this.setBlendMode(u.BlendModes.NORMAL),this.postRenderCamera(Z)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(d.POST_RENDER);var z=this.snapshotState;z.callback&&(S(this.gl,z),z.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var z=this.gl,Y=this.getCurrentStencilMask();if(Y){var Z=Y.mask;z.enable(z.STENCIL_TEST),z.stencilFunc(Z.invertAlpha?z.NOTEQUAL:z.EQUAL,Z.level,255)}},snapshot:function(z,Y,Z){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,z,Y,Z)},snapshotArea:function(z,Y,Z,rt,st,K,tt){var W=this.snapshotState;return W.callback=st,W.type=K,W.encoder=tt,W.getPixel=!1,W.x=z,W.y=Y,W.width=Z,W.height=rt,this},snapshotPixel:function(z,Y,Z){return this.snapshotArea(z,Y,1,1,Z),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(z,Y,Z,rt,st,K,tt,W,H,it,dt){void 0===st&&(st=!1),void 0===K&&(K=0),void 0===tt&&(tt=0),void 0===W&&(W=Y),void 0===H&&(H=Z),"pixel"===it&&(st=!0,it="image/png");var mt=this.currentFramebuffer;this.snapshotArea(K,tt,W,H,rt,it,dt);var vt=this.snapshotState;return vt.getPixel=st,vt.isFramebuffer=!0,vt.bufferWidth=Y,vt.bufferHeight=Z,vt.width=Math.min(vt.width,Y),vt.height=Math.min(vt.height,Z),this.setFramebuffer(z),S(this.gl,vt),this.setFramebuffer(mt),vt.callback=null,vt.isFramebuffer=!1,this},canvasToTexture:function(z,Y,Z,rt){void 0===Z&&(Z=!1),void 0===rt&&(rt=!1);var st=this.gl,K=st.NEAREST,tt=st.NEAREST,W=z.width,H=z.height,it=st.CLAMP_TO_EDGE,dt=f(W,H);return!Z&&dt&&(it=st.REPEAT),this.config.antialias&&(K=dt&&this.mipmapFilter?this.mipmapFilter:st.LINEAR,tt=st.LINEAR),Y?(Y.update(z,W,H,rt,it,it,K,tt,Y.format),Y):this.createTexture2D(0,K,tt,it,it,st.RGBA,z,W,H,!0,!1,rt)},createCanvasTexture:function(z,Y,Z){return void 0===Y&&(Y=!1),void 0===Z&&(Z=!1),this.canvasToTexture(z,null,Y,Z)},updateCanvasTexture:function(z,Y,Z,rt){return void 0===Z&&(Z=!1),void 0===rt&&(rt=!1),this.canvasToTexture(z,Y,rt,Z)},videoToTexture:function(z,Y,Z,rt){void 0===Z&&(Z=!1),void 0===rt&&(rt=!1);var st=this.gl,K=st.NEAREST,tt=st.NEAREST,W=z.videoWidth,H=z.videoHeight,it=st.CLAMP_TO_EDGE,dt=f(W,H);return!Z&&dt&&(it=st.REPEAT),this.config.antialias&&(K=dt&&this.mipmapFilter?this.mipmapFilter:st.LINEAR,tt=st.LINEAR),Y?(Y.update(z,W,H,rt,it,it,K,tt,Y.format),Y):this.createTexture2D(0,K,tt,it,it,st.RGBA,z,W,H,!0,!0,rt)},createVideoTexture:function(z,Y,Z){return void 0===Y&&(Y=!1),void 0===Z&&(Z=!1),this.videoToTexture(z,null,Y,Z)},updateVideoTexture:function(z,Y,Z,rt){return void 0===Z&&(Z=!1),void 0===rt&&(rt=!1),this.videoToTexture(z,Y,rt,Z)},createUint8ArrayTexture:function(z,Y,Z){var rt=this.gl,st=rt.NEAREST,K=rt.NEAREST,tt=rt.CLAMP_TO_EDGE;return f(Y,Z)&&(tt=rt.REPEAT),this.createTexture2D(0,st,K,tt,tt,rt.RGBA,z,Y,Z)},setTextureFilter:function(z,Y){var Z=this.gl,rt=0===Y?Z.LINEAR:Z.NEAREST;Z.activeTexture(Z.TEXTURE0);var st=Z.getParameter(Z.TEXTURE_BINDING_2D);return Z.bindTexture(Z.TEXTURE_2D,z.webGLTexture),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,rt),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,rt),z.minFilter=rt,z.magFilter=rt,st&&Z.bindTexture(Z.TEXTURE_2D,st),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var z=function(Y){Y.destroy()};b(this.glAttribLocationWrappers,z),b(this.glBufferWrappers,z),b(this.glFramebufferWrappers,z),b(this.glProgramWrappers,z),b(this.glTextureWrappers,z),b(this.glUniformLocationWrappers,z),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});_.exports=j},38683:(_,k,a)=>{var b=a(83419),T=a(95428),g=a(95540),h=a(14500),u=new b({initialize:function(d,f,c,m,v){this.pipeline=d,this.name=f,this.renderer=d.renderer,this.gl=this.renderer.gl,this.fragSrc=m,this.vertSrc=c,this.program=this.renderer.createProgram(c,m),this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(v),this.createUniforms()},createAttributes:function(l){var d=0,f=0,c=[];this.vertexComponentCount=0;for(var m=0;m<l.length;m++){var v=l[m],x=v.name,y=g(v,"size",1),w=g(v,"type",h.FLOAT),S=w.size;c.push({name:x,size:y,type:w.enum,normalized:!!v.normalized,offset:f,enabled:!1,location:-1}),4===S?d+=y:d++,f+=y*S}this.vertexSize=f,this.vertexComponentCount=d,this.attributes=c},bind:function(l,d){return void 0===l&&(l=!1),void 0===d&&(d=!1),d&&this.pipeline.flush(),this.renderer.setProgram(this.program),l&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(l){void 0===l&&(l=!1);for(var d=this.gl,f=this.renderer,c=this.vertexSize,m=this.attributes,v=this.program,x=0;x<m.length;x++){var y=m[x],w=y.size,E=y.type,S=y.offset,A=y.enabled,I=y.location,M=!!y.normalized;if(l){-1!==I&&f.deleteAttribLocation(I);var P=this.renderer.createAttribLocation(v,y.name);P.webGLAttribLocation>=0?(d.enableVertexAttribArray(P.webGLAttribLocation),d.vertexAttribPointer(P.webGLAttribLocation,w,E,M,c,S),y.enabled=!0,y.location=P):-1!==P.webGLAttribLocation&&d.disableVertexAttribArray(P.webGLAttribLocation)}else A?d.vertexAttribPointer(I.webGLAttribLocation,w,E,M,c,S):!A&&-1!==I&&I.webGLAttribLocation>-1&&(d.disableVertexAttribArray(I.webGLAttribLocation),y.location=-1)}return this},createUniforms:function(){var c,m,v,l=this.gl,d=this.program,f=this.uniforms,x=l.getProgramParameter(d.webGLProgram,l.ACTIVE_UNIFORMS);for(c=0;c<x;c++){var y=l.getActiveUniform(d.webGLProgram,c);if(y){null!==(v=this.renderer.createUniformLocation(d,m=y.name))&&(f[m]={name:m,location:v,setter:null,value1:null,value2:null,value3:null,value4:null});var w=m.indexOf("[");w>0&&(m=m.substr(0,w),f.hasOwnProperty(m)||null!==(v=this.renderer.createUniformLocation(d,m))&&(f[m]={name:m,location:v,setter:null,value1:null,value2:null,value3:null,value4:null}))}}return this},syncUniforms:function(){var l=this.gl;for(var d in this.renderer.setProgram(this.program),this.uniforms){var f=this.uniforms[d];f.setter&&f.setter.call(l,f.location.webGLUniformLocation,f.value1,f.value2,f.value3,f.value4)}},hasUniform:function(l){return this.uniforms.hasOwnProperty(l)},resetUniform:function(l){var d=this.uniforms[l];return d&&(d.value1=null,d.value2=null,d.value3=null,d.value4=null),this},setUniform1:function(l,d,f,c){var m=this.uniforms[d];return m?((c||m.value1!==f)&&(m.setter||(m.setter=l),m.value1=f,this.renderer.setProgram(this.program),l.call(this.gl,m.location.webGLUniformLocation,f),this.pipeline.currentShader=this),this):this},setUniform2:function(l,d,f,c,m){var v=this.uniforms[d];return v?((m||v.value1!==f||v.value2!==c)&&(v.setter||(v.setter=l),v.value1=f,v.value2=c,this.renderer.setProgram(this.program),l.call(this.gl,v.location.webGLUniformLocation,f,c),this.pipeline.currentShader=this),this):this},setUniform3:function(l,d,f,c,m,v){var x=this.uniforms[d];return x?((v||x.value1!==f||x.value2!==c||x.value3!==m)&&(x.setter||(x.setter=l),x.value1=f,x.value2=c,x.value3=m,this.renderer.setProgram(this.program),l.call(this.gl,x.location.webGLUniformLocation,f,c,m),this.pipeline.currentShader=this),this):this},setUniform4:function(l,d,f,c,m,v,x){var y=this.uniforms[d];return y?((x||y.value1!==f||y.value2!==c||y.value3!==m||y.value4!==v)&&(y.setter||(y.setter=l),y.value1=f,y.value2=c,y.value3=m,y.value4=v,this.renderer.setProgram(this.program),l.call(this.gl,y.location.webGLUniformLocation,f,c,m,v),this.pipeline.currentShader=this),this):this},setBoolean:function(l,d){return this.setUniform1(this.gl.uniform1i,l,Number(d))},set1f:function(l,d){return this.setUniform1(this.gl.uniform1f,l,d)},set2f:function(l,d,f){return this.setUniform2(this.gl.uniform2f,l,d,f)},set3f:function(l,d,f,c){return this.setUniform3(this.gl.uniform3f,l,d,f,c)},set4f:function(l,d,f,c,m){return this.setUniform4(this.gl.uniform4f,l,d,f,c,m)},set1fv:function(l,d){return this.setUniform1(this.gl.uniform1fv,l,d,!0)},set2fv:function(l,d){return this.setUniform1(this.gl.uniform2fv,l,d,!0)},set3fv:function(l,d){return this.setUniform1(this.gl.uniform3fv,l,d,!0)},set4fv:function(l,d){return this.setUniform1(this.gl.uniform4fv,l,d,!0)},set1iv:function(l,d){return this.setUniform1(this.gl.uniform1iv,l,d,!0)},set2iv:function(l,d){return this.setUniform1(this.gl.uniform2iv,l,d,!0)},set3iv:function(l,d){return this.setUniform1(this.gl.uniform3iv,l,d,!0)},set4iv:function(l,d){return this.setUniform1(this.gl.uniform4iv,l,d,!0)},set1i:function(l,d){return this.setUniform1(this.gl.uniform1i,l,d)},set2i:function(l,d,f){return this.setUniform2(this.gl.uniform2i,l,d,f)},set3i:function(l,d,f,c){return this.setUniform3(this.gl.uniform3i,l,d,f,c)},set4i:function(l,d,f,c,m){return this.setUniform4(this.gl.uniform4i,l,d,f,c,m)},setMatrix2fv:function(l,d,f){return this.setUniform2(this.gl.uniformMatrix2fv,l,d,f,!0)},setMatrix3fv:function(l,d,f){return this.setUniform2(this.gl.uniformMatrix3fv,l,d,f,!0)},setMatrix4fv:function(l,d,f){return this.setUniform2(this.gl.uniformMatrix4fv,l,d,f,!0)},createProgram:function(l,d){return void 0===l&&(l=this.vertSrc),void 0===d&&(d=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=l,this.fragSrc=d,this.program=this.renderer.createProgram(l,d),this.createUniforms(),this.rebind()},destroy:function(){var l=this.renderer;T(this.uniforms,function(d){l.deleteUniformLocation(d.location)}),this.uniforms=null,T(this.attributes,function(d){l.deleteAttribLocation(d.location)}),this.attributes=null,l.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});_.exports=u},14500:_=>{_.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},4159:(_,k,a)=>{var b=a(14500),T=a(79291),g={PipelineManager:a(7530),Pipelines:a(96615),RenderTarget:a(32302),Utils:a(70554),WebGLPipeline:a(29100),WebGLRenderer:a(74797),WebGLShader:a(38683),Wrappers:a(9503)};g=T(!1,g,b),_.exports=g},31302:(_,k,a)=>{var b=a(83419),T=a(95540),g=a(78908),h=a(85191),u=a(14500),l=a(29100),d=new b({Extends:l,initialize:function(c){c.fragShader=T(c,"fragShader",g),c.vertShader=T(c,"vertShader",h),c.batchSize=T(c,"batchSize",1),c.vertices=T(c,"vertices",[-1,1,-1,-7,7,1]),c.attributes=T(c,"attributes",[{name:"inPosition",size:2,type:u.FLOAT}]),l.call(this,c)},boot:function(){l.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(f,c){l.prototype.resize.call(this,f,c),this.set2f("uResolution",f,c)},beginMask:function(f,c,m){this.renderer.beginBitmapMask(f,m)},endMask:function(f,c,m){var v=this.gl,y=f.bitmapMask;y&&v&&(this.renderer.drawBitmapMask(y,c,this),m&&this.set2f("uResolution",m.width,m.height),this.set1i("uInvertMaskAlpha",f.invertAlpha),v.drawArrays(this.topology,0,3),m&&this.set2f("uResolution",this.width,this.height),v.bindTexture(v.TEXTURE_2D,null))}});_.exports=d},92651:(_,k,a)=>{var b=a(83419),T=a(58918),g=a(14811),h=a(95540),u=a(43558),l=a(89350),d=a(70554),f=new b({Extends:u,initialize:function(m){m.shaders=[d.setGlowQuality(l.FXGlowFrag,m.game),l.FXShadowFrag,l.FXPixelateFrag,l.FXVignetteFrag,l.FXShineFrag,l.FXBlurLowFrag,l.FXBlurMedFrag,l.FXBlurHighFrag,l.FXGradientFrag,l.FXBloomFrag,l.ColorMatrixFrag,l.FXCircleFrag,l.FXBarrelFrag,l.FXDisplacementFrag,l.FXWipeFrag,l.FXBokehFrag],u.call(this,m);var v=this.game;this.glow=new T.Glow(v),this.shadow=new T.Shadow(v),this.pixelate=new T.Pixelate(v),this.vignette=new T.Vignette(v),this.shine=new T.Shine(v),this.gradient=new T.Gradient(v),this.circle=new T.Circle(v),this.barrel=new T.Barrel(v),this.wipe=new T.Wipe(v),this.bokeh=new T.Bokeh(v);var x=[];x[g.GLOW]=this.onGlow,x[g.SHADOW]=this.onShadow,x[g.PIXELATE]=this.onPixelate,x[g.VIGNETTE]=this.onVignette,x[g.SHINE]=this.onShine,x[g.BLUR]=this.onBlur,x[g.GRADIENT]=this.onGradient,x[g.BLOOM]=this.onBloom,x[g.COLOR_MATRIX]=this.onColorMatrix,x[g.CIRCLE]=this.onCircle,x[g.BARREL]=this.onBarrel,x[g.DISPLACEMENT]=this.onDisplacement,x[g.WIPE]=this.onWipe,x[g.BOKEH]=this.onBokeh,this.fxHandlers=x},onDraw:function(c,m,v){this.source=c,this.target=m,this.swap=v;var x=c.width,y=c.height,w=this.tempSprite,E=this.fxHandlers;if(w&&w.preFX)for(var S=w.preFX.list,A=0;A<S.length;A++){var I=S[A];I.active&&E[I.type].call(this,I,x,y)}this.drawToGame(this.source)},runDraw:function(){var c=this.source,m=this.target;this.copy(c,m),this.source=m,this.target=c},onGlow:function(c,m,v){var x=this.shaders[g.GLOW];this.setShader(x),this.glow.onPreRender(c,x,m,v),this.runDraw()},onShadow:function(c){var m=this.shaders[g.SHADOW];this.setShader(m),this.shadow.onPreRender(c,m),this.runDraw()},onPixelate:function(c,m,v){var x=this.shaders[g.PIXELATE];this.setShader(x),this.pixelate.onPreRender(c,x,m,v),this.runDraw()},onVignette:function(c){var m=this.shaders[g.VIGNETTE];this.setShader(m),this.vignette.onPreRender(c,m),this.runDraw()},onShine:function(c,m,v){var x=this.shaders[g.SHINE];this.setShader(x),this.shine.onPreRender(c,x,m,v),this.runDraw()},onBlur:function(c,m,v){var x=h(c,"quality");this.setShader(this.shaders[g.BLUR+x]),this.set1i("uMainSampler",0),this.set2f("resolution",m,v),this.set1f("strength",h(c,"strength")),this.set3fv("color",h(c,"glcolor"));for(var w=h(c,"x"),E=h(c,"y"),S=h(c,"steps"),A=0;A<S;A++)this.set2f("offset",w,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw()},onGradient:function(c){var m=this.shaders[g.GRADIENT];this.setShader(m),this.gradient.onPreRender(c,m),this.runDraw()},onBloom:function(c,m,v){var x=this.shaders[g.BLOOM];this.copySprite(this.source,this.swap),this.setShader(x),this.set1i("uMainSampler",0),this.set1f("strength",h(c,"blurStrength")),this.set3fv("color",h(c,"glcolor"));for(var y=2/m*h(c,"offsetX"),w=2/v*h(c,"offsetY"),E=h(c,"steps"),S=0;S<E;S++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,w),this.runDraw();this.blendFrames(this.swap,this.source,this.target,h(c,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(c){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",c.getData()),this.set1f("uAlpha",c.alpha),this.runDraw()},onCircle:function(c,m,v){var x=this.shaders[g.CIRCLE];this.setShader(x),this.circle.onPreRender(c,x,m,v),this.runDraw()},onBarrel:function(c){var m=this.shaders[g.BARREL];this.setShader(m),this.barrel.onPreRender(c,m),this.runDraw()},onDisplacement:function(c){this.setShader(this.shaders[g.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",c.x,c.y),this.bindTexture(c.glTexture,1),this.runDraw()},onWipe:function(c){var m=this.shaders[g.WIPE];this.setShader(m),this.wipe.onPreRender(c,m),this.runDraw()},onBokeh:function(c,m,v){var x=this.shaders[g.BOKEH];this.setShader(x),this.bokeh.onPreRender(c,x,m,v),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,u.prototype.destroy.call(this),this}});_.exports=f},96569:(_,k,a)=>{var b=a(83419),T=a(95540),g=a(31063),h=a(57516),u=a(61340),l=a(26099),d=a(29100),f=new b({Extends:h,initialize:function(m){var v=T(m,"fragShader",g);m.fragShader=v.replace("%LIGHT_COUNT%",m.game.renderer.config.maxLights),h.call(this,m),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.lightsActive=!0,this.tempVec2=new l,this._tempMatrix=new u,this._tempMatrix2=new u},boot:function(){d.prototype.boot.call(this)},onRender:function(c,m){var v=c.sys.lights;if(this.lightsActive=!1,v&&v.active){var x=v.getLights(m),y=x.length;this.lightsActive=!0;var w,S=this.renderer.height,A=m.matrix,I=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",m.x,m.y,m.rotation,m.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),this.set1i("uLightCount",y),w=0;w<y;w++){var M=x[w].light,P=M.color,O="uLights["+w+"].";A.transformPoint(M.x,M.y,I),this.set2f(O+"position",I.x-m.scrollX*M.scrollFactorX*m.zoom,S-(I.y-m.scrollY*M.scrollFactorY*m.zoom)),this.set3f(O+"color",P.r,P.g,P.b),this.set1f(O+"intensity",M.intensity),this.set1f(O+"radius",M.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(c){if(c!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var m=this.inverseRotationMatrix;if(c){var v=-c,x=Math.cos(v),y=Math.sin(v);m[1]=y,m[3]=-y,m[0]=m[4]=x}else m[0]=m[4]=1,m[1]=m[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,m),this.currentNormalMapRotation=c}},setTexture2D:function(c,m){void 0===c&&(c=this.renderer.whiteTexture);var x=this.getNormalMap(m);this.isNewNormalMap(c,x)&&(this.flush(),this.createBatch(c),this.addTextureToBatch(x),this.currentNormalMap=x);var y=0;return m&&m.parentContainer?y=m.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2).rotationNormalized:m&&(y=m.rotation),null===this.currentBatch&&(this.createBatch(c),this.addTextureToBatch(x)),this.setNormalMapRotation(y),0},setGameObject:function(c,m){void 0===m&&(m=c.frame);var v=m.glTexture,x=this.getNormalMap(c);if(this.isNewNormalMap(v,x)&&(this.flush(),this.createBatch(v),this.addTextureToBatch(x),this.currentNormalMap=x),c.parentContainer){var y=c.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(y.rotationNormalized)}else this.setNormalMapRotation(c.rotation);return null===this.currentBatch&&(this.createBatch(v),this.addTextureToBatch(x)),0},isNewNormalMap:function(c,m){return this.currentTexture!==c||this.currentNormalMap!==m},getNormalMap:function(c){var m;return c?(c.displayTexture?m=c.displayTexture.dataSource[c.displayFrame.sourceIndex]:c.texture?m=c.texture.dataSource[c.frame.sourceIndex]:c.tileset&&(m=Array.isArray(c.tileset)?c.tileset[0].image.dataSource[0]:c.tileset.image.dataSource[0]),m?m.glTexture:this.renderer.normalTexture):this.renderer.normalTexture},batchSprite:function(c,m,v){this.lightsActive&&h.prototype.batchSprite.call(this,c,m,v)},batchTexture:function(c,m,v,x,y,w,E,S,A,I,M,P,O,N,L,G,j,z,Y,Z,rt,st,K,tt,W,H,it,dt,mt,vt,Tt,Nt){this.lightsActive&&h.prototype.batchTexture.call(this,c,m,v,x,y,w,E,S,A,I,M,P,O,N,L,G,j,z,Y,Z,rt,st,K,tt,W,H,it,dt,mt,vt,Tt,Nt)},batchTextureFrame:function(c,m,v,x,y,w,E){this.lightsActive&&h.prototype.batchTextureFrame.call(this,c,m,v,x,y,w,E)}});_.exports=f},56527:(_,k,a)=>{var b=a(83419),T=a(95540),g=a(57516),h=a(45561),u=a(60722),l=a(14500),d=a(29100),f=new b({Extends:g,initialize:function(m){m.fragShader=T(m,"fragShader",h),m.vertShader=T(m,"vertShader",u),m.attributes=T(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),m.forceZero=!0,m.resizeUniform="uResolution",g.call(this,m)},boot:function(){d.prototype.boot.call(this);var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height)}});_.exports=f},57516:(_,k,a)=>{var b=a(83419),T=a(94811),g=a(95540),h=a(98840),u=a(44667),l=a(61340),d=a(70554),f=a(14500),c=a(29100),m=new b({Extends:c,initialize:function(x){var y=x.game.renderer,w=g(x,"fragShader",h);x.fragShader=d.parseFragmentShaderMaxTextures(w,y.maxTextures),x.vertShader=g(x,"vertShader",u),x.attributes=g(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:f.UNSIGNED_BYTE,normalized:!0}]),x.resizeUniform="uResolution",c.call(this,x),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.calcMatrix=new l,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){c.prototype.boot.call(this);var v=this.renderer;this.set1iv("uMainSampler",v.textureIndexes),this.set2f("uResolution",v.width,v.height)},batchSprite:function(v,x,y){this.manager.set(this,v);var w=this._tempMatrix1,E=this._tempMatrix2,S=this._tempMatrix3,A=v.frame,I=A.glTexture,M=A.u0,P=A.v0,O=A.u1,N=A.v1,L=A.x,G=A.y,j=A.cutWidth,z=A.cutHeight,Y=A.customPivot,Z=v.displayOriginX,rt=v.displayOriginY,st=-Z+L,K=-rt+G;if(v.isCropped){var tt=v._crop;(tt.flipX!==v.flipX||tt.flipY!==v.flipY)&&A.updateCropUVs(tt,v.flipX,v.flipY),M=tt.u0,P=tt.v0,O=tt.u1,N=tt.v1,j=tt.width,z=tt.height,st=-Z+(L=tt.x),K=-rt+(G=tt.y)}var W=1,H=1;v.flipX&&(Y||(st+=2*Z-A.realWidth),W=-1),v.flipY&&(Y||(K+=2*rt-A.realHeight),H=-1);var it=v.x,dt=v.y;x.roundPixels&&(it=Math.floor(it),dt=Math.floor(dt)),E.applyITRS(it,dt,v.rotation,v.scaleX*W,v.scaleY*H),w.copyFrom(x.matrix),y?(w.multiplyWithOffset(y,-x.scrollX*v.scrollFactorX,-x.scrollY*v.scrollFactorY),E.e=it,E.f=dt):(E.e-=x.scrollX*v.scrollFactorX,E.f-=x.scrollY*v.scrollFactorY),w.multiply(E,S);var mt=S.setQuad(st,K,st+j,K+z,x.renderRoundPixels),vt=d.getTintAppendFloatAlpha,Tt=x.alpha,Nt=vt(v.tintTopLeft,Tt*v._alphaTL),Yt=vt(v.tintTopRight,Tt*v._alphaTR),$t=vt(v.tintBottomLeft,Tt*v._alphaBL),Zt=vt(v.tintBottomRight,Tt*v._alphaBR);this.shouldFlush(6)&&this.flush();var ee=this.setGameObject(v,A);this.manager.preBatch(v),this.batchQuad(v,mt[0],mt[1],mt[2],mt[3],mt[4],mt[5],mt[6],mt[7],M,P,O,N,Nt,Yt,$t,Zt,v.tintFill,I,ee),this.manager.postBatch(v)},batchTexture:function(v,x,y,w,E,S,A,I,M,P,O,N,L,G,j,z,Y,Z,rt,st,K,tt,W,H,it,dt,mt,vt,Tt,Nt,Yt,$t,Zt){void 0===Zt&&(Zt=!1),this.manager.set(this,v);var ee=this._tempMatrix1,le=this._tempMatrix2,De=this._tempMatrix3,gi=Z/y+mt,Me=rt/w+vt,Ti=(Z+st)/y+mt,xe=(rt+K)/w+vt,ni=A,Qe=I,zi=-z,_n=-Y;if(v.isCropped){var er=v._crop,vn=er.width,wn=er.height;ni=vn,Qe=wn,A=vn,I=wn;var Rr=Z=er.x,ts=rt=er.y;N&&(Rr=st-er.x-vn),L&&(ts=K-er.y-wn),gi=Rr/y+mt,Me=ts/w+vt,Ti=(Rr+vn)/y+mt,xe=(ts+wn)/w+vt,zi=-z+Z,_n=-Y+rt}N&&(ni*=-1,zi+=A),(L^=!Yt&&x.isRenderTexture?1:0)&&(Qe*=-1,_n+=I),Tt.roundPixels&&(E=Math.floor(E),S=Math.floor(S)),le.applyITRS(E,S,O,M,P),ee.copyFrom(Tt.matrix),Nt?(ee.multiplyWithOffset(Nt,-Tt.scrollX*G,-Tt.scrollY*j),le.e=E,le.f=S):(le.e-=Tt.scrollX*G,le.f-=Tt.scrollY*j),ee.multiply(le,De);var An=De.setQuad(zi,_n,zi+ni,_n+Qe,Tt.renderRoundPixels);null==$t&&($t=this.setTexture2D(x)),v&&!Zt&&this.manager.preBatch(v),this.batchQuad(v,An[0],An[1],An[2],An[3],An[4],An[5],An[6],An[7],gi,Me,Ti,xe,tt,W,H,it,dt,x,$t),v&&!Zt&&this.manager.postBatch(v)},batchTextureFrame:function(v,x,y,w,E,S,A){this.manager.set(this);var I=this._tempMatrix1.copyFrom(S),M=this._tempMatrix2;A?I.multiply(A,M):M=I;var P=M.setQuad(x,y,x+v.width,y+v.height),O=this.setTexture2D(v.source.glTexture);w=d.getTintAppendFloatAlpha(w,E),this.batchQuad(null,P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],v.u0,v.v0,v.u1,v.v1,w,w,w,w,0,v.glTexture,O)},batchFillRect:function(v,x,y,w,E,S){this.renderer.pipelines.set(this);var A=this.calcMatrix;S&&S.multiply(E,A);var I=A.setQuad(v,x,v+y,x+w),M=this.fillTint;this.batchQuad(null,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],0,0,1,1,M.TL,M.TR,M.BL,M.BR,2)},batchFillTriangle:function(v,x,y,w,E,S,A,I){this.renderer.pipelines.set(this);var M=this.calcMatrix;I&&I.multiply(A,M);var P=M.getX(v,x),O=M.getY(v,x),N=M.getX(y,w),L=M.getY(y,w),G=M.getX(E,S),j=M.getY(E,S),z=this.fillTint;this.batchTri(null,P,O,N,L,G,j,0,0,1,1,z.TL,z.TR,z.BL,2)},batchStrokeTriangle:function(v,x,y,w,E,S,A,I,M){var P=this.tempTriangle;P[0].x=v,P[0].y=x,P[0].width=A,P[1].x=y,P[1].y=w,P[1].width=A,P[2].x=E,P[2].y=S,P[2].width=A,P[3].x=v,P[3].y=x,P[3].width=A,this.batchStrokePath(P,A,!1,I,M)},batchFillPath:function(v,x,y){this.renderer.pipelines.set(this);var w=this.calcMatrix;y&&y.multiply(x,w);for(var A,I,E=v.length,S=this.polygonCache,M=this.fillTint.TL,P=this.fillTint.TR,O=this.fillTint.BL,N=0;N<E;++N)S.push((I=v[N]).x,I.y);E=(A=T(S)).length;for(var L=0;L<E;L+=3){var G=2*A[L+0],j=2*A[L+1],z=2*A[L+2],Y=S[G+0],Z=S[G+1],rt=S[j+0],st=S[j+1],K=S[z+0],tt=S[z+1],W=w.getX(Y,Z),H=w.getY(Y,Z),it=w.getX(rt,st),dt=w.getY(rt,st),mt=w.getX(K,tt),vt=w.getY(K,tt);this.batchTri(null,W,H,it,dt,mt,vt,0,0,1,1,M,P,O,2)}S.length=0},batchStrokePath:function(v,x,y,w,E){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var S=v.length-1,A=0;A<S;A++){var I=v[A],M=v[A+1];this.batchLine(I.x,I.y,M.x,M.y,I.width/2,M.width/2,x,A,!y&&A===S-1,w,E)}},batchLine:function(v,x,y,w,E,S,A,I,M,P,O){this.renderer.pipelines.set(this);var N=this.calcMatrix;O&&O.multiply(P,N);var L=y-v,G=w-x,j=Math.sqrt(L*L+G*G);if(0!==j){var z=E*(w-x)/j,Y=E*(v-y)/j,Z=S*(w-x)/j,rt=S*(v-y)/j,st=y-Z,K=w-rt,tt=v-z,W=x-Y,H=y+Z,it=w+rt,dt=v+z,mt=x+Y,vt=N.getX(st,K),Tt=N.getY(st,K),Nt=N.getX(tt,W),Yt=N.getY(tt,W),$t=N.getX(H,it),Zt=N.getY(H,it),ee=N.getX(dt,mt),le=N.getY(dt,mt),De=this.strokeTint,gi=De.TL,Me=De.TR,Ti=De.BL,xe=De.BR;if(this.batchQuad(null,ee,le,Nt,Yt,vt,Tt,$t,Zt,0,0,1,1,gi,Me,Ti,xe,2),!(A<=2)){var ni=this.prevQuad,Qe=this.firstQuad;I>0&&ni[4]?this.batchQuad(null,ee,le,Nt,Yt,ni[0],ni[1],ni[2],ni[3],0,0,1,1,gi,Me,Ti,xe,2):(Qe[0]=ee,Qe[1]=le,Qe[2]=Nt,Qe[3]=Yt,Qe[4]=1),M&&Qe[4]?this.batchQuad(null,vt,Tt,$t,Zt,Qe[0],Qe[1],Qe[2],Qe[3],0,0,1,1,gi,Me,Ti,xe,2):(ni[0]=vt,ni[1]=Tt,ni[2]=$t,ni[3]=Zt,ni[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,c.prototype.destroy.call(this),this}});_.exports=m},43439:(_,k,a)=>{var b=a(83419),T=a(95540),g=a(4127),h=a(89924),u=a(29100),l=new b({Extends:u,initialize:function(f){f.vertShader=T(f,"vertShader",h),f.fragShader=T(f,"fragShader",g),f.attributes=T(f,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),u.call(this,f)},onRender:function(d,f){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",f.zoom)},batchPointLight:function(d,f,c,m,v,x,y,w,E,S,A,I){var M=d.color,P=d.intensity,O=d.radius,N=d.attenuation,L=M.r*P,G=M.g*P,j=M.b*P,z=f.alpha*d.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(c,m,A,I,O,N,L,G,j,z),this.batchLightVert(v,x,A,I,O,N,L,G,j,z),this.batchLightVert(y,w,A,I,O,N,L,G,j,z),this.batchLightVert(c,m,A,I,O,N,L,G,j,z),this.batchLightVert(y,w,A,I,O,N,L,G,j,z),this.batchLightVert(E,S,A,I,O,N,L,G,j,z),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(d,f,c,m,v,x,y,w,E,S){var A=this.vertexViewF32,I=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++I]=d,A[++I]=f,A[++I]=c,A[++I]=m,A[++I]=v,A[++I]=x,A[++I]=y,A[++I]=w,A[++I]=E,A[++I]=S,this.vertexCount++}});_.exports=l},84057:(_,k,a)=>{var b=a(83419),T=a(89422),g=a(95540),h=a(27681),u=a(49627),l=a(29100),d=new b({Extends:l,initialize:function(c){c.renderTarget=g(c,"renderTarget",1),c.fragShader=g(c,"fragShader",h),c.vertShader=g(c,"vertShader",u),c.attributes=g(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),c.batchSize=1,c.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],l.call(this,c),this.isPostFX=!0,this.colorMatrix=new T,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){l.prototype.boot.call(this);var f=this.manager.UTILITY_PIPELINE;this.fullFrame1=f.fullFrame1,this.fullFrame2=f.fullFrame2,this.halfFrame1=f.halfFrame1,this.halfFrame2=f.halfFrame2;var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height);for(var m=this.renderTargets,v=0;v<m.length;v++)m[v].autoResize=!0},postBatch:function(f){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(f),this},onDraw:function(f){this.bindAndDraw(f)},getController:function(f){return void 0!==f?f:this.controller?this.controller:this},copySprite:function(f,c,m){void 0===m&&(m=!1);var v=this.gl;v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,f.texture.webGLTexture);var x=v.getParameter(v.FRAMEBUFFER_BINDING);v.bindFramebuffer(v.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,c.texture.webGLTexture,0),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),m&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,x))},copyFrame:function(f,c,m,v,x){this.manager.copyFrame(f,c,m,v,x)},copyToGame:function(f){this.manager.copyToGame(f)},drawFrame:function(f,c,m){this.manager.drawFrame(f,c,m,this.colorMatrix)},blendFrames:function(f,c,m,v,x){this.manager.blendFrames(f,c,m,v,x)},blendFramesAdditive:function(f,c,m,v,x){this.manager.blendFramesAdditive(f,c,m,v,x)},clearFrame:function(f,c){this.manager.clearFrame(f,c)},blitFrame:function(f,c,m,v,x,y){this.manager.blitFrame(f,c,m,v,x,y)},copyFrameRect:function(f,c,m,v,x,y,w,E){this.manager.copyFrameRect(f,c,m,v,x,y,w,E)},bindAndDraw:function(f,c,m,v,x){void 0===m&&(m=!0),void 0===v&&(v=!0);var y=this.gl,w=this.renderer;this.bind(x),this.set1i("uMainSampler",0),c?(y.viewport(0,0,c.width,c.height),y.bindFramebuffer(y.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,c.texture.webGLTexture,0),m&&(y.clearColor(0,0,0,v?0:1),y.clear(y.COLOR_BUFFER_BIT))):(w.popFramebuffer(!1,!1),w.currentFramebuffer||y.viewport(0,0,w.width,w.height)),w.restoreStencilMask(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,f.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),c&&(y.bindTexture(y.TEXTURE_2D,null),y.bindFramebuffer(y.FRAMEBUFFER,w.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),l.prototype.destroy.call(this),this}});_.exports=d},43558:(_,k,a)=>{var b=a(10312),T=a(67502),g=a(83419),h=a(96293),u=a(95540),l=a(57516),d=a(27681),f=a(87841),c=a(32302),m=a(45561),v=a(60722),x=a(29100),y=new g({Extends:l,initialize:function(E){var S=u(E,"fragShader",d),A=u(E,"vertShader",v),I=u(E,"drawShader",d),M=[{name:"DrawSprite",fragShader:m,vertShader:v},{name:"CopySprite",fragShader:S,vertShader:A},{name:"DrawGame",fragShader:I,vertShader:v},{name:"ColorMatrix",fragShader:h}],P=u(E,"shaders",[]);E.shaders=M.concat(P),E.vertShader||(E.vertShader=A),E.batchSize=1,l.call(this,E),this.isPreFX=!0,this.customMainSampler=null,this.spriteBounds=new f,this.targetBounds=new f,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){x.prototype.boot.call(this);var w=this.shaders,E=this.renderer;this.drawSpriteShader=w[0],this.copyShader=w[1],this.gameShader=w[2],this.colorMatrixShader=w[3],this.fsTarget=new c(E,E.width,E.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var S=new ArrayBuffer(168);this.quadVertexData=S,this.quadVertexViewF32=new Float32Array(S),this.quadVertexBuffer=E.createVertexBuffer(S,this.gl.STATIC_DRAW),this.onResize(E.width,E.height),this.currentShader=this.copyShader,this.set2f("uResolution",E.width,E.height)},onResize:function(w,E){var S=this.quadVertexViewF32;S[1]=E,S[22]=E,S[14]=w,S[28]=w,S[35]=w,S[36]=E},batchQuad:function(w,E,S,A,I,M,P,O,N,L,G,j,z,Y,Z,rt,st,K,tt){var W=Math.min(E,A,M,O),H=Math.min(S,I,P,N),mt=Math.max(E,A,M,O)-W,vt=Math.max(S,I,P,N)-H,Tt=this.spriteBounds.setTo(W,H,mt,vt),Nt=w?w.preFX.padding:0,Zt=Math.abs(Math.max(mt+2*Nt,vt+2*Nt)),ee=this.manager.getRenderTarget(Zt),le=this.targetBounds.setTo(0,0,ee.width,ee.height);T(le,Math.round(Tt.centerX),Math.round(Tt.centerY)),this.tempSprite=w;var De=this.gl,gi=this.renderer;gi.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",gi.width,gi.height),this.flipProjectionMatrix(!0),w&&(this.onDrawSprite(w,ee),w.preFX.onFX(this));var Me=this.fsTarget;return this.flush(),De.viewport(0,0,gi.width,gi.height),De.bindFramebuffer(De.FRAMEBUFFER,Me.framebuffer.webGLFramebuffer),De.framebufferTexture2D(De.FRAMEBUFFER,De.COLOR_ATTACHMENT0,De.TEXTURE_2D,Me.texture.webGLTexture,0),De.clearColor(0,0,0,0),De.clear(De.COLOR_BUFFER_BIT),this.setTexture2D(tt),this.batchVert(E,S,L,G,0,K,Y),this.batchVert(A,I,L,z,0,K,rt),this.batchVert(M,P,j,z,0,K,st),this.batchVert(E,S,L,G,0,K,Y),this.batchVert(M,P,j,z,0,K,st),this.batchVert(O,N,j,G,0,K,Z),this.flush(),this.flipProjectionMatrix(!1),De.activeTexture(De.TEXTURE0),De.bindTexture(De.TEXTURE_2D,ee.texture.webGLTexture),De.copyTexSubImage2D(De.TEXTURE_2D,0,0,0,le.x,le.y,le.width,le.height),De.bindFramebuffer(De.FRAMEBUFFER,null),De.bindTexture(De.TEXTURE_2D,null),this.onBatch(w),this.currentShader=this.copyShader,this.onDraw(ee,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(w,E,S,A,I,M,P){void 0===S&&(S=!0),void 0===A&&(A=!0),void 0===I&&(I=!1),void 0===P&&(P=this.copyShader);var O=this.gl,N=this.tempSprite;M&&(P=this.colorMatrixShader),this.currentShader=P;var L=this.setVertexBuffer(this.quadVertexBuffer);P.bind(L,!1);var G=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",G.width,G.height),N.preFX.onFXCopy(this),this.onCopySprite(w,E,N),M&&(this.set1fv("uColorMatrix",M.getData()),this.set1f("uAlpha",M.alpha)),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,w.texture.webGLTexture),w.height>E.height?(O.viewport(0,0,w.width,w.height),this.setTargetUVs(w,E)):(O.viewport(0,E.height-w.height,w.width,w.height),this.resetUVs()),O.bindFramebuffer(O.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,E.texture.webGLTexture,0),S&&(O.clearColor(0,0,0,+!A),O.clear(O.COLOR_BUFFER_BIT)),I){var z=this.renderer.currentBlendMode;this.renderer.setBlendMode(b.ERASE)}O.bufferData(O.ARRAY_BUFFER,this.quadVertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),I&&this.renderer.setBlendMode(z),O.bindFramebuffer(O.FRAMEBUFFER,null)},copy:function(w,E){var S=this.gl;this.set1i("uMainSampler",0),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,w.texture.webGLTexture),S.viewport(0,0,w.width,w.height),this.setUVs(0,0,0,1,1,1,1,0),S.bindFramebuffer(S.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,E.texture.webGLTexture,0),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.quadVertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null)},blendFrames:function(w,E,S,A,I){this.manager.blendFrames(w,E,S,A,I)},blendFramesAdditive:function(w,E,S,A,I){this.manager.blendFramesAdditive(w,E,S,A,I)},drawToGame:function(w){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(w)},copyToGame:function(w){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(w)},bindAndDraw:function(w){var E=this.gl,S=this.renderer;this.set1i("uMainSampler",0),this.setTexture2D(this.customMainSampler?this.customMainSampler:w.texture);var A=this._tempMatrix1.loadIdentity(),I=this.targetBounds.x,M=this.targetBounds.y,P=I+w.width,O=M+w.height,N=A.getX(I,M),L=A.getX(I,O),G=A.getX(P,O),j=A.getX(P,M),z=A.getY(I,M),Y=A.getY(I,O),Z=A.getY(P,O),rt=A.getY(P,M),st=16777215;this.batchVert(N,z,0,0,0,0,st),this.batchVert(L,Y,0,1,0,0,st),this.batchVert(G,Z,1,1,0,0,st),this.batchVert(N,z,0,0,0,0,st),this.batchVert(G,Z,1,1,0,0,st),this.batchVert(j,rt,1,0,0,0,st),S.restoreFramebuffer(!1,!0),S.currentFramebuffer||E.viewport(0,0,S.width,S.height),S.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(w){this.drawToGame(w)},setUVs:function(w,E,S,A,I,M,P,O){var N=this.quadVertexViewF32;N[2]=w,N[3]=E,N[9]=S,N[10]=A,N[16]=I,N[17]=M,N[23]=w,N[24]=E,N[30]=I,N[31]=M,N[37]=P,N[38]=O},setTargetUVs:function(w,E){var S=E.height/w.height;this.setUVs(0,S=S>.5?.5-(S-.5):.5-S+.5,0,1+S,1,1+S,1,S)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,l.prototype.destroy.call(this),this}});_.exports=y},81041:(_,k,a)=>{var b=a(83419),T=a(95540),g=a(57516),h=new b({Extends:g,initialize:function(l){l.topology=5,l.batchSize=T(l,"batchSize",256),g.call(this,l)}});_.exports=h},12385:(_,k,a)=>{var b=a(83419),T=a(95540),g=a(57516),h=a(45561),u=a(60722),l=a(29100),d=new b({Extends:g,initialize:function(c){c.fragShader=T(c,"fragShader",h),c.vertShader=T(c,"vertShader",u),c.forceZero=!0,g.call(this,c)},boot:function(){l.prototype.boot.call(this);var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height)}});_.exports=d},7589:(_,k,a)=>{var b=a(35407),T=a(10312),g=a(83419),h=a(89422),u=a(96293),l=a(36682),d=a(95540),f=a(48247),c=a(49627),m=a(29100),v=new g({Extends:m,initialize:function(y){y.renderTarget=d(y,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),y.vertShader=d(y,"vertShader",c),y.shaders=d(y,"shaders",[{name:"Copy",fragShader:l},{name:"AddBlend",fragShader:b},{name:"LinearBlend",fragShader:f},{name:"ColorMatrix",fragShader:u}]),y.attributes=d(y,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),y.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],y.batchSize=1,m.call(this,y),this.colorMatrix=new h},boot:function(){m.prototype.boot.call(this);var x=this.shaders,y=this.renderTargets;this.copyShader=x[0],this.addShader=x[1],this.linearShader=x[2],this.colorMatrixShader=x[3],this.fullFrame1=y[0],this.fullFrame2=y[1],this.halfFrame1=y[2],this.halfFrame2=y[3]},copyFrame:function(x,y,w,E,S){void 0===w&&(w=1),void 0===E&&(E=!0),void 0===S&&(S=!0);var A=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",w),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,x.texture.webGLTexture),y?(A.viewport(0,0,y.width,y.height),A.bindFramebuffer(A.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,y.texture.webGLTexture,0)):A.viewport(0,0,x.width,x.height),E&&(A.clearColor(0,0,0,S?0:1),A.clear(A.COLOR_BUFFER_BIT)),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blitFrame:function(x,y,w,E,S,A,I){void 0===w&&(w=1),void 0===E&&(E=!0),void 0===S&&(S=!0),void 0===A&&(A=!1),void 0===I&&(I=!1);var M=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",w),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,x.texture.webGLTexture),x.height>y.height?(M.viewport(0,0,x.width,x.height),this.setTargetUVs(x,y)):M.viewport(0,y.height-x.height,x.width,x.height),M.bindFramebuffer(M.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,y.texture.webGLTexture,0),E&&(M.clearColor(0,0,0,S?0:1),M.clear(M.COLOR_BUFFER_BIT)),A){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(T.ERASE)}I&&this.flipY(),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),A&&this.renderer.setBlendMode(O),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(x,y,w,E,S,A,I,M){void 0===I&&(I=!0),void 0===M&&(M=!0);var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,x.texture.webGLTexture,0),I&&(P.clearColor(0,0,0,M?0:1),P.clear(P.COLOR_BUFFER_BIT)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,y.texture.webGLTexture),P.copyTexSubImage2D(P.TEXTURE_2D,0,0,0,w,E,S,A),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},copyToGame:function(x){var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,x.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6)},drawFrame:function(x,y,w,E){void 0===w&&(w=!0),void 0===E&&(E=this.colorMatrix);var S=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,x.texture.webGLTexture),y?(S.viewport(0,0,y.width,y.height),S.bindFramebuffer(S.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,y.texture.webGLTexture,0)):S.viewport(0,0,x.width,x.height),S.clearColor(0,0,0,w?0:1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFrames:function(x,y,w,E,S,A){void 0===E&&(E=1),void 0===S&&(S=!0),void 0===A&&(A=this.linearShader);var I=this.gl;this.setShader(A),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",E),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,x.texture.webGLTexture),I.activeTexture(I.TEXTURE1),I.bindTexture(I.TEXTURE_2D,y.texture.webGLTexture),w?(I.bindFramebuffer(I.FRAMEBUFFER,w.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,w.texture.webGLTexture,0),I.viewport(0,0,w.width,w.height)):I.viewport(0,0,x.width,x.height),I.clearColor(0,0,0,S?0:1),I.clear(I.COLOR_BUFFER_BIT),I.bufferData(I.ARRAY_BUFFER,this.vertexData,I.STATIC_DRAW),I.drawArrays(I.TRIANGLES,0,6),I.bindFramebuffer(I.FRAMEBUFFER,null),I.bindTexture(I.TEXTURE_2D,null)},blendFramesAdditive:function(x,y,w,E,S){this.blendFrames(x,y,w,E,S,this.addShader)},clearFrame:function(x,y){void 0===y&&(y=!0);var w=this.gl;w.viewport(0,0,x.width,x.height),w.bindFramebuffer(w.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),w.clearColor(0,0,0,y?0:1),w.clear(w.COLOR_BUFFER_BIT),w.bindFramebuffer(w.FRAMEBUFFER,this.renderer.currentFramebuffer.webGLFramebuffer)},setUVs:function(x,y,w,E,S,A,I,M){var P=this.vertexViewF32;P[2]=x,P[3]=y,P[6]=w,P[7]=E,P[10]=S,P[11]=A,P[14]=x,P[15]=y,P[18]=S,P[19]=A,P[22]=I,P[23]=M},setTargetUVs:function(x,y){var w=y.height/x.height;this.setUVs(0,w=w>.5?.5-(w-.5):.5-w+.5,0,1+w,1,1+w,1,w)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});_.exports=v},36060:_=>{_.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"}},84817:_=>{_.exports="pipelineafterflush"},36712:_=>{_.exports="pipelinebeforeflush"},40285:_=>{_.exports="pipelinebind"},65918:_=>{_.exports="pipelineboot"},92852:_=>{_.exports="pipelinedestroy"},56072:_=>{_.exports="pipelinerebind"},57566:_=>{_.exports="pipelineresize"},77085:(_,k,a)=>{_.exports={AFTER_FLUSH:a(84817),BEFORE_FLUSH:a(36712),BIND:a(40285),BOOT:a(65918),DESTROY:a(92852),REBIND:a(56072),RESIZE:a(57566)}},54812:(_,k,a)=>{var b=a(83419),T=a(99155),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.amount=1},onPreRender:function(u,l){u=this.getController(u),this.set1f("amount",u.amount,l)}});_.exports=h},67329:(_,k,a)=>{var b=a(83419),T=a(24400),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(u){u=this.getController(u),this.set1f("strength",u.blurStrength),this.set3fv("color",u.glcolor)},onDraw:function(u){var l=this.getController(),d=this.fullFrame1,f=this.fullFrame2;this.copyFrame(u,f);for(var c=2/u.width*l.offsetX,m=2/u.height*l.offsetY,v=0;v<l.steps;v++)this.set2f("offset",c,0),this.copySprite(u,d),this.set2f("offset",0,m),this.copySprite(d,u);this.blendFrames(f,u,d,l.strength),this.copyToGame(d)}});_.exports=h},8861:(_,k,a)=>{var b=a(83419),T=a(41514),g=a(51078),h=a(94328),u=a(84057),l=new b({Extends:u,initialize:function(f){u.call(this,{game:f,shaders:[{name:"Gaussian5",fragShader:T},{name:"Gaussian9",fragShader:g},{name:"Gaussian13",fragShader:h}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(d){var f=this.getController(),c=this.gl,m=this.fullFrame1,v=c.getParameter(c.FRAMEBUFFER_BINDING);this.bind(this.shaders[f.quality]),c.activeTexture(c.TEXTURE0),c.viewport(0,0,d.width,d.height),this.set1i("uMainSampler",0),this.set2f("resolution",d.width,d.height),this.set1f("strength",f.strength),this.set3fv("color",f.glcolor);for(var x=0;x<f.steps;x++)this.set2f("offset",f.x,0),this.copySprite(d,m),this.set2f("offset",0,f.y),this.copySprite(m,d);c.bindFramebuffer(c.FRAMEBUFFER,v),c.bindTexture(c.TEXTURE_2D,null),this.copyToGame(d)}});_.exports=l},51051:(_,k,a)=>{var b=a(83419),T=a(90610),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(u,l,d,f){u=this.getController(u),this.set1f("radius",u.radius,l),this.set1f("amount",u.amount,l),this.set1f("contrast",u.contrast,l),this.set1f("strength",u.strength,l),this.set2f("blur",u.blurX,u.blurY,l),this.setBoolean("isTiltShift",u.isTiltShift,l),d&&f&&this.set2f("resolution",d,f,l)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});_.exports=h},89428:(_,k,a)=>{var b=a(83419),T=a(91899),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(u,l,d,f){u=this.getController(u),this.set1f("scale",u.scale,l),this.set1f("feather",u.feather,l),this.set1f("thickness",u.thickness,l),this.set3fv("color",u.glcolor,l),this.set4fv("backgroundColor",u.glcolor2,l),d&&f&&this.set2f("resolution",d,f,l)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});_.exports=h},88904:(_,k,a)=>{var b=a(83419),T=a(84057),g=new b({Extends:T,initialize:function(u){T.call(this,{game:u})},onDraw:function(h){var u=this.fullFrame1;this.controller?this.manager.drawFrame(h,u,!0,this.controller):this.drawFrame(h,u),this.copyToGame(u)}});_.exports=g},63563:(_,k,a)=>{var b=a(83419),T=a(47838),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.x=.005,this.y=.005},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(u){var l=this.game.textures.getFrame(u);l&&(this.glTexture=l.glTexture)},onDraw:function(u){var l=this.getController(),d=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",l.x,l.y),this.bindTexture(l.glTexture,1),this.copySprite(u,d),this.copyToGame(d)}});_.exports=h},94045:(_,k,a)=>{var b=a(83419),T=a(95540),g=a(98656),h=a(84057),u=a(70554),l=new b({Extends:h,initialize:function(f,c){var m=T(c,"quality",.1),v=T(c,"distance",10);h.call(this,{game:f,fragShader:u.setGlowQuality(g,f,m,v)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(d,f,c,m){d=this.getController(d),this.set1f("outerStrength",d.outerStrength,f),this.set1f("innerStrength",d.innerStrength,f),this.set4fv("glowColor",d.glcolor,f),this.setBoolean("knockout",d.knockout,f),c&&m&&this.set2f("resolution",c,m,f)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});_.exports=l},74088:(_,k,a)=>{var b=a(83419),T=a(70463),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(u,l){u=this.getController(u),this.set1f("alpha",u.alpha,l),this.set1i("size",u.size,l),this.set3fv("color1",u.glcolor1,l),this.set3fv("color2",u.glcolor2,l),this.set2f("positionFrom",u.fromX,u.fromY,l),this.set2f("positionTo",u.toX,u.toY,l)}});_.exports=h},99636:(_,k,a)=>{var b=a(83419),T=a(50831),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.amount=1},onPreRender:function(u,l,d,f){u=this.getController(u),this.set1f("amount",u.amount,l),d&&f&&this.set2f("resolution",d,f,l)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});_.exports=h},34700:(_,k,a)=>{var b=a(83419),T=a(92595),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(u,l){var d=(u=this.getController(u)).samples;this.set1i("samples",d,l),this.set1f("intensity",u.intensity,l),this.set1f("decay",u.decay,l),this.set1f("power",u.power/d,l),this.set2f("lightPosition",u.x,u.y,l),this.set4fv("color",u.glcolor,l)}});_.exports=h},91157:(_,k,a)=>{var b=a(83419),T=a(72464),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(u,l,d,f){u=this.getController(u),this.setTime("time",l),this.set1f("speed",u.speed,l),this.set1f("lineWidth",u.lineWidth,l),this.set1f("gradient",u.gradient,l),this.setBoolean("reveal",u.reveal,l),d&&f&&this.set2f("resolution",d,f,l)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});_.exports=h},27797:(_,k,a)=>{var b=a(83419),T=a(39249),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(u,l){u=this.getController(u),this.set1f("radius",u.radius,l),this.set1f("strength",u.strength,l),this.set2f("position",u.x,u.y,l)}});_.exports=h},67603:(_,k,a)=>{var b=a(83419),T=a(2878),g=a(84057),h=new b({Extends:g,initialize:function(l){g.call(this,{game:l,fragShader:T}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(u,l){u=this.getController(u),this.set4f("config",u.progress,u.wipeWidth,u.direction,u.axis,l),this.setBoolean("reveal",u.reveal,l)}});_.exports=h},58918:(_,k,a)=>{var b={Barrel:a(54812),Bloom:a(67329),Blur:a(8861),Bokeh:a(51051),Circle:a(89428),ColorMatrix:a(88904),Displacement:a(63563),Glow:a(94045),Gradient:a(74088),Pixelate:a(99636),Shadow:a(34700),Shine:a(91157),Vignette:a(27797),Wipe:a(67603)};_.exports=b},96615:(_,k,a)=>{var b=a(36060),T=a(79291),g={FX:a(58918),BitmapMaskPipeline:a(31302),Events:a(77085),FXPipeline:a(92651),LightPipeline:a(96569),MobilePipeline:a(56527),MultiPipeline:a(57516),PointLightPipeline:a(43439),PostFXPipeline:a(84057),PreFXPipeline:a(43558),RopePipeline:a(81041),SinglePipeline:a(12385),UtilityPipeline:a(7589)};g=T(!1,g,b),_.exports=g},35407:_=>{_.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join("\n")},78908:_=>{_.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join("\n")},85191:_=>{_.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join("\n")},96293:_=>{_.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join("\n")},36682:_=>{_.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join("\n")},99155:_=>{_.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join("\n")},24400:_=>{_.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join("\n")},94328:_=>{_.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},41514:_=>{_.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},51078:_=>{_.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},90610:_=>{_.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join("\n")},91899:_=>{_.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join("\n")},47838:_=>{_.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join("\n")},98656:_=>{_.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join("\n")},70463:_=>{_.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join("\n")},50831:_=>{_.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join("\n")},92595:_=>{_.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join("\n")},72464:_=>{_.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","\tvec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join("\n")},39249:_=>{_.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    \tcol = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join("\n")},2878:_=>{_.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join("\n")},31063:_=>{_.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join("\n")},48247:_=>{_.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join("\n")},41214:_=>{_.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join("\n")},39653:_=>{_.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join("\n")},62143:_=>{_.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},47940:_=>{_.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},98840:_=>{_.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},44667:_=>{_.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},4127:_=>{_.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join("\n")},89924:_=>{_.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join("\n")},27681:_=>{_.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join("\n")},49627:_=>{_.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join("\n")},45561:_=>{_.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},60722:_=>{_.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},89350:(_,k,a)=>{_.exports={AddBlendFrag:a(35407),BitmapMaskFrag:a(78908),BitmapMaskVert:a(85191),ColorMatrixFrag:a(96293),CopyFrag:a(36682),FXBarrelFrag:a(99155),FXBloomFrag:a(24400),FXBlurHighFrag:a(94328),FXBlurLowFrag:a(41514),FXBlurMedFrag:a(51078),FXBokehFrag:a(90610),FXCircleFrag:a(91899),FXDisplacementFrag:a(47838),FXGlowFrag:a(98656),FXGradientFrag:a(70463),FXPixelateFrag:a(50831),FXShadowFrag:a(92595),FXShineFrag:a(72464),FXVignetteFrag:a(39249),FXWipeFrag:a(2878),LightFrag:a(31063),LinearBlendFrag:a(48247),MeshFrag:a(41214),MeshVert:a(39653),MobileFrag:a(62143),MobileVert:a(47940),MultiFrag:a(98840),MultiVert:a(44667),PointLightFrag:a(4127),PointLightVert:a(89924),PostFXFrag:a(27681),QuadVert:a(49627),SingleFrag:a(45561),SingleVert:a(60722)}},93567:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l){this.webGLAttribLocation=-1,this.gl=h,this.program=u,this.name=l,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var g=this.gl;g.isContextLost()||(this.webGLAttribLocation=g.getAttribLocation(this.program.webGLProgram,this.name))}else this.webGLAttribLocation=-1},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});_.exports=T},26128:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l,d){this.webGLBuffer=null,this.gl=h,this.initialDataOrSize=u,this.bufferType=l,this.bufferUsage=d,this.createResource()},createResource:function(){if(null!==this.initialDataOrSize){var g=this.gl;if(!g.isContextLost()){var h=this.bufferType,u=g.createBuffer();this.webGLBuffer=u,g.bindBuffer(h,this.webGLBuffer),g.bufferData(h,this.initialDataOrSize,this.bufferUsage),g.bindBuffer(h,null)}}},destroy:function(){var g=this.gl;g.isContextLost()||g.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});_.exports=T},84387:(_,k,a)=>{var b=a(83419),T={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},g=new b({initialize:function(u,l,d,f,c){this.webGLFramebuffer=null,this.gl=u,this.width=l,this.height=d,this.renderTexture=f,this.addDepthStencilBuffer=!!c,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var l,u=this.renderTexture,d=h.createFramebuffer();if(this.webGLFramebuffer=d,h.bindFramebuffer(h.FRAMEBUFFER,d),u.isRenderTexture=!0,u.isAlphaPremultiplied=!1,h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,u.webGLTexture,0),(l=h.checkFramebufferStatus(h.FRAMEBUFFER))!==h.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(T[l]||l));if(this.addDepthStencilBuffer){var f=h.createRenderbuffer();h.bindRenderbuffer(h.RENDERBUFFER,f),h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,this.width,this.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,f)}h.bindFramebuffer(h.FRAMEBUFFER,null)}},destroy:function(){if(null!==this.webGLFramebuffer){var h=this.gl;if(!h.isContextLost()){h.bindFramebuffer(h.FRAMEBUFFER,this.webGLFramebuffer);var u=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==u&&(h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0),h.deleteTexture(u));var l=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==l&&h.deleteRenderbuffer(l),h.bindFramebuffer(h.FRAMEBUFFER,null),h.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});_.exports=g},1482:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l){this.webGLProgram=null,this.gl=h,this.vertexSource=u,this.fragmentSource=l,this.createResource()},createResource:function(){var g=this.gl;if(!g.isContextLost()){var h=g.createProgram(),u=g.createShader(g.VERTEX_SHADER),l=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(u,this.vertexSource),g.shaderSource(l,this.fragmentSource),g.compileShader(u),g.compileShader(l);var d="Shader failed:\n";if(!g.getShaderParameter(u,g.COMPILE_STATUS))throw new Error("Vertex "+d+g.getShaderInfoLog(u));if(!g.getShaderParameter(l,g.COMPILE_STATUS))throw new Error("Fragment "+d+g.getShaderInfoLog(l));if(g.attachShader(h,u),g.attachShader(h,l),g.linkProgram(h),!g.getProgramParameter(h,g.LINK_STATUS))throw new Error("Link "+d+g.getProgramInfoLog(h));g.useProgram(h),this.webGLProgram=h}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});_.exports=T},82751:(_,k,a)=>{var b=a(83419),T=a(50030),g=new b({initialize:function(u,l,d,f,c,m,v,x,y,w,E,S,A){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=u,this.mipLevel=l,this.minFilter=d,this.magFilter=f,this.wrapT=c,this.wrapS=m,this.format=v,this.pixels=x,this.width=y,this.height=w,this.pma=E??!0,this.forceSize=!!S,this.flipY=!!A,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){if(this.pixels instanceof g)return void(this.webGLTexture=this.pixels.webGLTexture);var u=h.createTexture();u.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=u,this._processTexture()}},update:function(h,u,l,d,f,c,m,v,x){0!==u&&0!==l&&(this.pixels=h,this.width=u,this.height=l,this.flipY=d,this.wrapS=f,this.wrapT=c,this.minFilter=m,this.magFilter=v,this.format=x,this.gl.isContextLost()||this._processTexture())},_processTexture:function(){var h=this.gl;h.activeTexture(h.TEXTURE0);var u=h.getParameter(h.TEXTURE_BINDING_2D);h.bindTexture(h.TEXTURE_2D,this.webGLTexture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.minFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.magFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,this.wrapS),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,this.wrapT),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,this.flipY);var l=this.pixels,d=this.mipLevel,f=this.width,c=this.height,m=this.format,v=!1;if(null==l)h.texImage2D(h.TEXTURE_2D,d,m,f,c,0,m,h.UNSIGNED_BYTE,null),v=T(f,c);else if(l.compressed){f=l.width,c=l.height,v=l.generateMipmap;for(var x=0;x<l.mipmaps.length;x++)h.compressedTexImage2D(h.TEXTURE_2D,x,l.internalFormat,l.mipmaps[x].width,l.mipmaps[x].height,0,l.mipmaps[x].data)}else l instanceof Uint8Array?(h.texImage2D(h.TEXTURE_2D,d,m,f,c,0,m,h.UNSIGNED_BYTE,l),v=T(f,c)):(this.forceSize||(f=l.width,c=l.height),h.texImage2D(h.TEXTURE_2D,d,m,m,h.UNSIGNED_BYTE,l),v=T(f,c));v&&h.generateMipmap(h.TEXTURE_2D),h.bindTexture(h.TEXTURE_2D,u||null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(h){this.__SPECTOR_Metadata=h,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=h)}},destroy:function(){null!==this.webGLTexture&&(this.gl.isContextLost()||this.pixels instanceof g||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});_.exports=g},57183:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l){this.webGLUniformLocation=null,this.gl=h,this.program=u,this.name=l,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var g=this.gl;g.isContextLost()||(this.webGLUniformLocation=g.getUniformLocation(this.program.webGLProgram,this.name))}else this.webGLUniformLocation=null},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});_.exports=T},9503:(_,k,a)=>{var b={WebGLAttribLocationWrapper:a(93567),WebGLBufferWrapper:a(26128),WebGLProgramWrapper:a(1482),WebGLTextureWrapper:a(82751),WebGLFramebufferWrapper:a(84387),WebGLUniformLocationWrapper:a(57183)};_.exports=b},76531:(_,k,a)=>{var b=a(13560),T=a(83419),g=a(50792),h=a(97480),u=a(8443),l=a(57811),d=a(74403),f=a(45818),c=a(29747),m=a(87841),v=a(86555),x=a(56583),y=a(26099),w=a(38058),E=new T({Extends:g,initialize:function(A){g.call(this),this.game=A,this.canvasBounds=new m,this.parent=null,this.parentIsWindow=!1,this.parentSize=new v,this.gameSize=new v,this.baseSize=new v,this.displaySize=new v,this.scaleMode=b.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new y(1,1),this.autoRound=!1,this.autoCenter=b.CENTER.NO_CENTER,this.orientation=b.ORIENTATION.LANDSCAPE,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:c,windowResize:c,fullScreenChange:c,fullScreenError:c}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(u.BOOT,this.boot,this)},boot:function(){var S=this.game;this.canvas=S.canvas,this.fullscreen=S.device.fullscreen;var A=this.scaleMode;A!==b.SCALE_MODE.RESIZE&&A!==b.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(A),A===b.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),S.events.on(u.PRE_STEP,this.step,this),S.events.once(u.READY,this.refresh,this),S.events.once(u.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(S){this.getParent(S),this.getParentBounds();var A=S.width,I=S.height,M=S.scaleMode,P=S.zoom,O=S.autoRound;if("string"==typeof A)if("%"!==A.substr(-1))A=parseInt(A,10);else{var N=this.parentSize.width;0===N&&(N=window.innerWidth);var L=parseInt(A,10)/100;A=Math.floor(N*L)}if("string"==typeof I)if("%"!==I.substr(-1))I=parseInt(I,10);else{var G=this.parentSize.height;0===G&&(G=window.innerHeight);var j=parseInt(I,10)/100;I=Math.floor(G*j)}this.scaleMode=M,this.autoRound=O,this.autoCenter=S.autoCenter,this.resizeInterval=S.resizeInterval,O&&(A=Math.floor(A),I=Math.floor(I)),this.gameSize.setSize(A,I),P===b.ZOOM.MAX_ZOOM&&(P=this.getMaxZoom()),this.zoom=P,1!==P&&(this._resetZoom=!0),this.baseSize.setSize(A,I),O&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),S.minWidth>0&&this.displaySize.setMin(S.minWidth*P,S.minHeight*P),S.maxWidth>0&&this.displaySize.setMax(S.maxWidth*P,S.maxHeight*P),this.displaySize.setSize(A,I),(S.snapWidth>0||S.snapHeight>0)&&this.displaySize.setSnap(S.snapWidth,S.snapHeight),this.orientation=f(A,I)},getParent:function(S){var A=S.parent;if(null!==A){if(this.parent=d(A),this.parentIsWindow=this.parent===document.body,S.expandParent&&S.scaleMode!==b.SCALE_MODE.NONE){var I=this.parent.getBoundingClientRect();(this.parentIsWindow||0===I.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",I=this.parent.getBoundingClientRect(),!this.parentIsWindow&&0===I.height&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}S.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=d(S.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var S=this.parentSize,A=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(A.height=l(!0));var I=A.width,M=A.height;if(S.width!==I||S.height!==M)return S.setSize(I,M),!0;if(this.canvas){var P=this.canvasBounds,O=this.canvas.getBoundingClientRect();if(O.x!==P.x||O.y!==P.y)return!0}return!1},lockOrientation:function(S){var A=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!A&&A.call(screen,S)},setParentSize:function(S,A){return this.parentSize.setSize(S,A),this.refresh()},setGameSize:function(S,A){var I=this.autoRound;I&&(S=Math.floor(S),A=Math.floor(A));var M=this.width,P=this.height;return this.gameSize.resize(S,A),this.baseSize.resize(S,A),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(S/A),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(M,P)},resize:function(S,A){var I=this.zoom,M=this.autoRound;M&&(S=Math.floor(S),A=Math.floor(A));var P=this.width,O=this.height;this.gameSize.resize(S,A),this.baseSize.resize(S,A),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(S*I,A*I),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var N=this.canvas.style,L=S*I,G=A*I;return M&&(L=Math.floor(L),G=Math.floor(G)),(L!==S||G!==A)&&(N.width=L+"px",N.height=G+"px"),this.refresh(P,O)},setZoom:function(S){return this.zoom=S,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(S,A){return void 0===S&&(S=0),void 0===A&&(A=S),this.displaySize.setSnap(S,A),this.refresh()},refresh:function(S,A){void 0===S&&(S=this.width),void 0===A&&(A=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var I=this.game.domContainer;if(I){this.baseSize.setCSS(I);var M=this.canvas.style,P=I.style;P.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",P.marginLeft=M.marginLeft,P.marginTop=M.marginTop}return this.emit(h.RESIZE,this.gameSize,this.baseSize,this.displaySize,S,A),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var S=f(this.width,this.height);S!==this.orientation&&(this.orientation=S,this.emit(h.ORIENTATION_CHANGE,S))}},updateScale:function(){var M,P,S=this.canvas.style,O=this.zoom,N=this.autoRound;if(this.scaleMode===b.SCALE_MODE.NONE)this.displaySize.setSize(this.gameSize.width*O,this.gameSize.height*O),M=this.displaySize.width,P=this.displaySize.height,N&&(M=Math.floor(M),P=Math.floor(P)),this._resetZoom&&(S.width=M+"px",S.height=P+"px",this._resetZoom=!1);else if(this.scaleMode===b.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),M=this.displaySize.width,P=this.displaySize.height,N&&(M=Math.floor(M),P=Math.floor(P)),this.canvas.width=M,this.canvas.height=P;else if(this.scaleMode===b.SCALE_MODE.EXPAND){var L=this.game.config.width,G=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),M=this.displaySize.width,P=this.displaySize.height,N&&(M=Math.floor(M),P=Math.floor(P)),S.width=M+"px",S.height=P+"px";var j=this.parentSize.width/L,z=this.parentSize.height/G;j<z&&0!==j?this.baseSize.setSize(L,this.parentSize.height/j):0!==z&&this.baseSize.setSize(this.displaySize.width/z,G),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),M=this.baseSize.width,P=this.baseSize.height,N&&(M=Math.floor(M),P=Math.floor(P)),this.canvas.width=M,this.canvas.height=P}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),M=this.displaySize.width,P=this.displaySize.height,N&&(M=Math.floor(M),P=Math.floor(P)),S.width=M+"px",S.height=P+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var S=x(this.parentSize.width,this.gameSize.width,0,!0),A=x(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(S,A),1)},updateCenter:function(){var S=this.autoCenter;if(S!==b.CENTER.NO_CENTER){var A=this.canvas,I=A.style,M=A.getBoundingClientRect(),O=M.height,N=Math.floor((this.parentSize.width-M.width)/2),L=Math.floor((this.parentSize.height-O)/2);S===b.CENTER.CENTER_HORIZONTALLY?L=0:S===b.CENTER.CENTER_VERTICALLY&&(N=0),I.marginLeft=N+"px",I.marginTop=L+"px"}},updateBounds:function(){var S=this.canvasBounds,A=this.canvas.getBoundingClientRect();S.x=A.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),S.y=A.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),S.width=A.width,S.height=A.height},transformX:function(S){return(S-this.canvasBounds.left)*this.displayScale.x},transformY:function(S){return(S-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(S){void 0===S&&(S={navigationUI:"hide"});var A=this.fullscreen;if(A.available){if(!A.active){this.getFullscreenTarget()[A.request](A.keyboard?Element.ALLOW_KEYBOARD_INPUT:S)}}else this.emit(h.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(h.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(S){this.removeFullscreenTarget(),this.emit(h.FULLSCREEN_FAILED,S)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var S=document.createElement("div");S.style.margin="0",S.style.padding="0",S.style.width="100%",S.style.height="100%",this.fullscreenTarget=S,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var S=this.fullscreenTarget;if(S&&S.parentNode){var A=S.parentNode;A.insertBefore(this.canvas,S),A.removeChild(S)}}},stopFullscreen:function(){var S=this.fullscreen;if(!S.available)return this.emit(h.FULLSCREEN_UNSUPPORTED),!1;S.active&&document[S.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(h.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(S){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(S)},startListeners:function(){var S=this,A=this.domlisteners;A.orientationChange=function(){S.updateBounds(),S._checkOrientation=!0,S.dirty=!0,S.refresh()},A.windowResize=function(){S.updateBounds(),S.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",A.orientationChange,!1):window.addEventListener("orientationchange",A.orientationChange,!1),window.addEventListener("resize",A.windowResize,!1),this.fullscreen.available&&(A.fullScreenChange=function(M){return S.onFullScreenChange(M)},A.fullScreenError=function(M){return S.onFullScreenError(M)},["webkit","moz",""].forEach(function(M){document.addEventListener(M+"fullscreenchange",A.fullScreenChange,!1),document.addEventListener(M+"fullscreenerror",A.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",A.fullScreenChange,!1),document.addEventListener("MSFullscreenError",A.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(S,A){S instanceof w||(A=S,S=void 0),void 0===A&&(A=new m);var I=this.baseSize,M=this.parentSize,P=this.canvasBounds,O=this.displayScale;return A.setTo(P.x>=0?0:-P.x*O.x,P.y>=0?0:-P.y*O.y,M.width>=P.width?I.width:I.width-(P.width-M.width)*O.x,M.height>=P.height?I.height:I.height-(P.height-M.height)*O.y),S&&(A.width/=S.zoomX,A.height/=S.zoomY,A.centerX=S.centerX+S.scrollX,A.centerY=S.centerY+S.scrollY),A},step:function(S,A){this.parent&&(this._lastCheck+=A,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var S=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",S.orientationChange,!1):window.removeEventListener("orientationchange",S.orientationChange,!1),window.removeEventListener("resize",S.windowResize,!1),["webkit","moz",""].forEach(function(I){document.removeEventListener(I+"fullscreenchange",S.fullScreenChange,!1),document.removeEventListener(I+"fullscreenerror",S.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",S.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===b.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===b.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});_.exports=E},64743:_=>{_.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:_=>{_.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:_=>{_.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:_=>{_.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(_,k,a)=>{var b={CENTER:a(64743),ORIENTATION:a(39218),SCALE_MODE:a(81050),ZOOM:a(80805)};_.exports=b},56139:_=>{_.exports="enterfullscreen"},2336:_=>{_.exports="fullscreenfailed"},47412:_=>{_.exports="fullscreenunsupported"},51452:_=>{_.exports="leavefullscreen"},20666:_=>{_.exports="orientationchange"},47945:_=>{_.exports="resize"},97480:(_,k,a)=>{_.exports={ENTER_FULLSCREEN:a(56139),FULLSCREEN_FAILED:a(2336),FULLSCREEN_UNSUPPORTED:a(47412),LEAVE_FULLSCREEN:a(51452),ORIENTATION_CHANGE:a(20666),RESIZE:a(47945)}},93364:(_,k,a)=>{var b=a(79291),T=a(13560),g={Center:a(64743),Events:a(97480),Orientation:a(39218),ScaleManager:a(76531),ScaleModes:a(81050),Zoom:a(80805)};g=b(!1,g,T.CENTER),g=b(!1,g,T.ORIENTATION),g=b(!1,g,T.SCALE_MODE),g=b(!1,g,T.ZOOM),_.exports=g},27397:(_,k,a)=>{var b=a(95540),T=a(35355);_.exports=function(h){var u=h.game.config.defaultPhysicsSystem,l=b(h.settings,"physics",!1);if(u||l){var d=[];if(u&&d.push(T(u+"Physics")),l)for(var f in l)f=T(f.concat("Physics")),-1===d.indexOf(f)&&d.push(f);return d}}},52106:(_,k,a)=>{var b=a(95540);_.exports=function(g){var h=g.plugins.getDefaultScenePlugins(),u=b(g.settings,"plugins",!1);return Array.isArray(u)?u:h||[]}},87033:_=>{_.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},97482:(_,k,a)=>{var b=a(83419),T=a(2368),g=new b({initialize:function(u){this.sys=new T(this,u)},update:function(){}});_.exports=g},60903:(_,k,a)=>{var b=a(83419),T=a(89993),g=a(44594),h=a(8443),u=a(35154),l=a(54899),d=a(29747),f=a(97482),c=a(2368),m=new b({initialize:function(x,y){if(this.game=x,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,y){Array.isArray(y)||(y=[y]);for(var w=0;w<y.length;w++)this._pending.push({key:"default",scene:y[w],autoStart:0===w,data:{}})}x.events.once(h.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var v,x,y,w;for(this.systemScene=this.createSceneFromInstance("__SYSTEM",new f),this.game.events.emit(h.SYSTEM_READY,this.systemScene,this),v=0;v<this._pending.length;v++){var E;y=(x=this._pending[v]).key,(w=x.scene)instanceof f?E=this.createSceneFromInstance(y,w):"object"==typeof w?E=this.createSceneFromObject(y,w):"function"==typeof w&&(E=this.createSceneFromFunction(y,w)),this.keys[y=E.sys.settings.key]=E,this.scenes.push(E),this._data[y]&&(E.sys.settings.data=this._data[y].data,this._data[y].autoStart&&(x.autoStart=!0)),(x.autoStart||E.sys.settings.active)&&this._start.push(y)}for(this._pending.length=0,this._data={},this.isBooted=!0,v=0;v<this._start.length;v++)this.start(x=this._start[v]);this._start.length=0}},processQueue:function(){var v=this._pending.length;if(0!==v||0!==this._queue.length){var y,w;if(v){for(y=0;y<v;y++)this.add((w=this._pending[y]).key,w.scene,w.autoStart,w.data);for(y=0;y<this._start.length;y++)this.start(w=this._start[y]);this._start.length=0,this._pending.length=0}for(y=0;y<this._queue.length;y++)this[(w=this._queue[y]).op](w.keyA,w.keyB,w.data);this._queue.length=0}},add:function(v,x,y,w){return void 0===y&&(y=!1),void 0===w&&(w={}),this.isProcessing||!this.isBooted?(this._pending.push({key:v,scene:x,autoStart:y,data:w}),this.isBooted||(this._data[v]={data:w}),null):(v=this.getKey(v,x),x instanceof f?E=this.createSceneFromInstance(v,x):"object"==typeof x?(x.key=v,E=this.createSceneFromObject(v,x)):"function"==typeof x&&(E=this.createSceneFromFunction(v,x)),E.sys.settings.data=w,this.keys[v=E.sys.settings.key]=E,this.scenes.push(E),(y||E.sys.settings.active)&&(this._pending.length?this._start.push(v):this.start(v)),E);var E},remove:function(v){if(this.isProcessing)return this.queueOp("remove",v);var x=this.getScene(v);if(!x||x.sys.isTransitioning())return this;var y=this.scenes.indexOf(x),w=x.sys.settings.key;return y>-1&&(delete this.keys[w],this.scenes.splice(y,1),this._start.indexOf(w)>-1&&(y=this._start.indexOf(w),this._start.splice(y,1)),x.sys.destroy()),this},bootScene:function(v){var w,x=v.sys,y=x.settings;x.sceneUpdate=d,v.init&&(v.init.call(v,y.data),y.status=T.INIT,y.isTransition&&x.events.emit(g.TRANSITION_INIT,y.transitionFrom,y.transitionDuration)),x.load&&(w=x.load).reset(),w&&v.preload?(v.preload.call(v),y.status=T.LOADING,w.once(l.COMPLETE,this.loadComplete,this),w.start()):this.create(v)},loadComplete:function(v){this.create(v.scene)},payloadComplete:function(v){this.bootScene(v.scene)},update:function(v,x){this.processQueue(),this.isProcessing=!0;for(var y=this.scenes.length-1;y>=0;y--){var w=this.scenes[y].sys;w.settings.status>T.START&&w.settings.status<=T.RUNNING&&w.step(v,x),w.scenePlugin&&w.scenePlugin._target&&w.scenePlugin.step(v,x)}},render:function(v){for(var x=0;x<this.scenes.length;x++){var y=this.scenes[x].sys;y.settings.visible&&y.settings.status>=T.LOADING&&y.settings.status<T.SLEEPING&&y.render(v)}this.isProcessing=!1},create:function(v){var x=v.sys,y=x.settings;v.create&&(y.status=T.CREATING,v.create.call(v,y.data),y.status===T.DESTROYED)||(y.isTransition&&x.events.emit(g.TRANSITION_START,y.transitionFrom,y.transitionDuration),v.update&&(x.sceneUpdate=v.update),y.status=T.RUNNING,x.events.emit(g.CREATE,v))},createSceneFromFunction:function(v,x){var y=new x;if(y instanceof f){var w=y.sys.settings.key;if(""!==w&&(v=w),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return this.createSceneFromInstance(v,y)}return y.sys=new c(y),y.sys.settings.key=v,y.sys.init(this.game),y},createSceneFromInstance:function(v,x){return""===x.sys.settings.key&&(x.sys.settings.key=v),x.sys.init(this.game),x},createSceneFromObject:function(v,x){var y=new f(x),w=y.sys.settings.key;""!==w?v=w:y.sys.settings.key=v,y.sys.init(this.game);for(var E=["init","preload","create","update","render"],S=0;S<E.length;S++){var A=u(x,E[S],null);A&&(y[E[S]]=A)}if(x.hasOwnProperty("extend"))for(var I in x.extend)if(x.extend.hasOwnProperty(I)){var M=x.extend[I];"data"===I&&y.hasOwnProperty("data")&&"object"==typeof M?y.data.merge(M):"sys"!==I&&(y[I]=M)}return y},getKey:function(v,x){if(v||(v="default"),"function"==typeof x)return v;if(x instanceof f?v=x.sys.settings.key:"object"==typeof x&&x.hasOwnProperty("key")&&(v=x.key),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return v},getScenes:function(v,x){void 0===v&&(v=!0),void 0===x&&(x=!1);for(var y=[],w=this.scenes,E=0;E<w.length;E++){var S=w[E];S&&(!v||v&&S.sys.isActive())&&y.push(S)}return x?y.reverse():y},getScene:function(v){if("string"==typeof v){if(this.keys[v])return this.keys[v]}else for(var x=0;x<this.scenes.length;x++)if(v===this.scenes[x])return v;return null},isActive:function(v){var x=this.getScene(v);return x?x.sys.isActive():null},isPaused:function(v){var x=this.getScene(v);return x?x.sys.isPaused():null},isVisible:function(v){var x=this.getScene(v);return x?x.sys.isVisible():null},isSleeping:function(v){var x=this.getScene(v);return x?x.sys.isSleeping():null},pause:function(v,x){var y=this.getScene(v);return y&&y.sys.pause(x),this},resume:function(v,x){var y=this.getScene(v);return y&&y.sys.resume(x),this},sleep:function(v,x){var y=this.getScene(v);return y&&!y.sys.isTransitioning()&&y.sys.sleep(x),this},wake:function(v,x){var y=this.getScene(v);return y&&y.sys.wake(x),this},run:function(v,x){var y=this.getScene(v);if(!y){for(var w=0;w<this._pending.length;w++)if(this._pending[w].key===v){this.queueOp("start",v,x);break}return this}y.sys.isSleeping()?y.sys.wake(x):y.sys.isPaused()?y.sys.resume(x):this.start(v,x)},start:function(v,x){if(!this.isBooted)return this._data[v]={autoStart:!0,data:x},this;var y=this.getScene(v);if(!y)return console.warn("Scene key not found: "+v),this;var S,w=y.sys,E=w.settings.status;if(E>=T.START&&E<=T.CREATING)return this;if(E>=T.RUNNING&&E<=T.SLEEPING)w.shutdown(),w.sceneUpdate=d,w.start(x);else if(w.sceneUpdate=d,w.start(x),w.load&&(S=w.load),S&&w.settings.hasOwnProperty("pack")&&(S.reset(),S.addPack({payload:w.settings.pack})))return w.settings.status=T.LOADING,S.once(l.COMPLETE,this.payloadComplete,this),S.start(),this;return this.bootScene(y),this},stop:function(v,x){var y=this.getScene(v);if(y&&!y.sys.isTransitioning()&&y.sys.settings.status!==T.SHUTDOWN){var w=y.sys.load;w&&(w.off(l.COMPLETE,this.loadComplete,this),w.off(l.COMPLETE,this.payloadComplete,this)),y.sys.shutdown(x)}return this},switch:function(v,x,y){var w=this.getScene(v),E=this.getScene(x);return w&&E&&w!==E&&(this.sleep(v),this.isSleeping(x)?this.wake(x,y):this.start(x,y)),this},getAt:function(v){return this.scenes[v]},getIndex:function(v){var x=this.getScene(v);return this.scenes.indexOf(x)},bringToTop:function(v){if(this.isProcessing)return this.queueOp("bringToTop",v);var x=this.getIndex(v),y=this.scenes;if(-1!==x&&x<y.length){var w=this.getScene(v);y.splice(x,1),y.push(w)}return this},sendToBack:function(v){if(this.isProcessing)return this.queueOp("sendToBack",v);var x=this.getIndex(v);if(-1!==x&&x>0){var y=this.getScene(v);this.scenes.splice(x,1),this.scenes.unshift(y)}return this},moveDown:function(v){if(this.isProcessing)return this.queueOp("moveDown",v);var x=this.getIndex(v);if(x>0){var y=x-1,w=this.getScene(v),E=this.getAt(y);this.scenes[x]=E,this.scenes[y]=w}return this},moveUp:function(v){if(this.isProcessing)return this.queueOp("moveUp",v);var x=this.getIndex(v);if(x<this.scenes.length-1){var y=x+1,w=this.getScene(v),E=this.getAt(y);this.scenes[x]=E,this.scenes[y]=w}return this},moveAbove:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("moveAbove",v,x);var y=this.getIndex(v),w=this.getIndex(x);if(-1!==y&&-1!==w&&w<y){var E=this.getAt(w);this.scenes.splice(w,1),this.scenes.splice(y+(w>y),0,E)}return this},moveBelow:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("moveBelow",v,x);var y=this.getIndex(v),w=this.getIndex(x);if(-1!==y&&-1!==w&&w>y){var E=this.getAt(w);this.scenes.splice(w,1),0===y?this.scenes.unshift(E):this.scenes.splice(y-(w<y),0,E)}return this},queueOp:function(v,x,y,w){return this._queue.push({op:v,keyA:x,keyB:y,data:w}),this},swapPosition:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("swapPosition",v,x);var y=this.getIndex(v),w=this.getIndex(x);if(y!==w&&-1!==y&&-1!==w){var E=this.getAt(y);this.scenes[y]=this.scenes[w],this.scenes[w]=E}return this},dump:function(){for(var v=[],x=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],y=0;y<this.scenes.length;y++){var w=this.scenes[y].sys,E=!w.settings.visible||w.settings.status!==T.RUNNING&&w.settings.status!==T.PAUSED?"[-] ":"[*] ";v.push(E+=w.settings.key+" ("+x[w.settings.status]+")")}console.log(v.join("\n"))},destroy:function(){for(var v=0;v<this.scenes.length;v++)this.scenes[v].sys.destroy();this.systemScene.sys.destroy(),this.update=d,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});_.exports=m},52209:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(44594),h=a(95540),u=a(37277),l=new T({initialize:function(f){this.scene=f,this.systems=f.sys,this.settings=f.sys.settings,this.key=f.sys.settings.key,this.manager=f.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._willSleep=!1,this._willRemove=!1,f.sys.events.once(g.BOOT,this.boot,this),f.sys.events.on(g.START,this.pluginStart,this)},boot:function(){this.systems.events.once(g.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(g.SHUTDOWN,this.shutdown,this)},start:function(d,f){return void 0===d&&(d=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",d,f),this},restart:function(d){var f=this.key;return this.manager.queueOp("stop",f),this.manager.queueOp("start",f,d),this},transition:function(d){void 0===d&&(d={});var f=h(d,"target",!1),c=this.manager.getScene(f);if(!f||!this.checkValidTransition(c))return!1;var m=h(d,"duration",1e3);this._elapsed=0,this._target=c,this._duration=m,this._willSleep=h(d,"sleep",!1),this._willRemove=h(d,"remove",!1);var v=h(d,"onUpdate",null);v&&(this._onUpdate=v,this._onUpdateScope=h(d,"onUpdateScope",this.scene));var x=h(d,"allowInput",!1);this.settings.transitionAllowInput=x;var y=c.sys.settings;y.isTransition=!0,y.transitionFrom=this.scene,y.transitionDuration=m,y.transitionAllowInput=x,h(d,"moveAbove",!1)?this.manager.moveAbove(this.key,f):h(d,"moveBelow",!1)&&this.manager.moveBelow(this.key,f),c.sys.isSleeping()?c.sys.wake(h(d,"data")):this.manager.start(f,h(d,"data"));var w=h(d,"onStart",null),E=h(d,"onStartScope",this.scene);return w&&w.call(E,this.scene,c,m),this.systems.events.emit(g.TRANSITION_OUT,c,m),!0},checkValidTransition:function(d){return!(!d||d.sys.isActive()||d.sys.isTransitioning()||d===this.scene||this.systems.isTransitioning())},step:function(d,f){this._elapsed+=f,this.transitionProgress=b(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var f=this._target.sys.settings;this._target.sys.events.emit(g.TRANSITION_COMPLETE,this.scene),f.isTransition=!1,f.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(d,f,c,m){return this.manager.add(d,f,c,m)},launch:function(d,f){return d&&d!==this.key&&this.manager.queueOp("start",d,f),this},run:function(d,f){return d&&d!==this.key&&this.manager.queueOp("run",d,f),this},pause:function(d,f){return void 0===d&&(d=this.key),this.manager.queueOp("pause",d,f),this},resume:function(d,f){return void 0===d&&(d=this.key),this.manager.queueOp("resume",d,f),this},sleep:function(d,f){return void 0===d&&(d=this.key),this.manager.queueOp("sleep",d,f),this},wake:function(d,f){return void 0===d&&(d=this.key),this.manager.queueOp("wake",d,f),this},switch:function(d,f){return d!==this.key&&this.manager.queueOp("switch",this.key,d,f),this},stop:function(d,f){return void 0===d&&(d=this.key),this.manager.queueOp("stop",d,f),this},setActive:function(d,f,c){void 0===f&&(f=this.key);var m=this.manager.getScene(f);return m&&m.sys.setActive(d,c),this},setVisible:function(d,f){void 0===f&&(f=this.key);var c=this.manager.getScene(f);return c&&c.sys.setVisible(d),this},isSleeping:function(d){return void 0===d&&(d=this.key),this.manager.isSleeping(d)},isActive:function(d){return void 0===d&&(d=this.key),this.manager.isActive(d)},isPaused:function(d){return void 0===d&&(d=this.key),this.manager.isPaused(d)},isVisible:function(d){return void 0===d&&(d=this.key),this.manager.isVisible(d)},swapPosition:function(d,f){return void 0===f&&(f=this.key),d!==f&&this.manager.swapPosition(d,f),this},moveAbove:function(d,f){return void 0===f&&(f=this.key),d!==f&&this.manager.moveAbove(d,f),this},moveBelow:function(d,f){return void 0===f&&(f=this.key),d!==f&&this.manager.moveBelow(d,f),this},remove:function(d){return void 0===d&&(d=this.key),this.manager.remove(d),this},moveUp:function(d){return void 0===d&&(d=this.key),this.manager.moveUp(d),this},moveDown:function(d){return void 0===d&&(d=this.key),this.manager.moveDown(d),this},bringToTop:function(d){return void 0===d&&(d=this.key),this.manager.bringToTop(d),this},sendToBack:function(d){return void 0===d&&(d=this.key),this.manager.sendToBack(d),this},get:function(d){return this.manager.getScene(d)},getStatus:function(d){var f=this.manager.getScene(d);if(f)return f.sys.getStatus()},getIndex:function(d){return void 0===d&&(d=this.key),this.manager.getIndex(d)},shutdown:function(){var d=this.systems.events;d.off(g.SHUTDOWN,this.shutdown,this),d.off(g.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});u.register("ScenePlugin",l,"scenePlugin"),_.exports=l},55681:(_,k,a)=>{var b=a(89993),T=a(35154),g=a(46975),h=a(87033);_.exports={create:function(l){return"string"==typeof l?l={key:l}:void 0===l&&(l={}),{status:b.PENDING,key:T(l,"key",""),active:T(l,"active",!1),visible:T(l,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:T(l,"pack",!1),cameras:T(l,"cameras",null),map:T(l,"map",g(h,T(l,"mapAdd",{}))),physics:T(l,"physics",{}),loader:T(l,"loader",{}),plugins:T(l,"plugins",!1),input:T(l,"input",{})}}}},2368:(_,k,a)=>{var b=a(83419),T=a(89993),g=a(42363),h=a(44594),u=a(27397),l=a(52106),d=a(29747),f=a(55681),c=new b({initialize:function(v,x){this.scene=v,this.config=x,this.settings=f.create(x),this.sceneUpdate=d},init:function(m){this.settings.status=T.INIT,this.sceneUpdate=d,this.game=m,this.renderer=m.renderer,this.canvas=m.canvas,this.context=m.context;var v=m.plugins;this.plugins=v,v.addToScene(this,g.Global,[g.CoreScene,l(this),u(this)]),this.events.emit(h.BOOT,this),this.settings.isBooted=!0},step:function(m,v){var x=this.events;x.emit(h.PRE_UPDATE,m,v),x.emit(h.UPDATE,m,v),this.sceneUpdate.call(this.scene,m,v),x.emit(h.POST_UPDATE,m,v)},render:function(m){var v=this.displayList;v.depthSort(),this.events.emit(h.PRE_RENDER,m),this.cameras.render(m,v),this.events.emit(h.RENDER,m)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(m){var v=this.settings,x=this.getStatus();return x!==T.CREATING&&x!==T.RUNNING?console.warn("Cannot pause non-running Scene",v.key):this.settings.active&&(v.status=T.PAUSED,v.active=!1,this.events.emit(h.PAUSE,this,m)),this},resume:function(m){var v=this.events,x=this.settings;return this.settings.active||(x.status=T.RUNNING,x.active=!0,v.emit(h.RESUME,this,m)),this},sleep:function(m){var v=this.settings,x=this.getStatus();return x!==T.CREATING&&x!==T.RUNNING?console.warn("Cannot sleep non-running Scene",v.key):(v.status=T.SLEEPING,v.active=!1,v.visible=!1,this.events.emit(h.SLEEP,this,m)),this},wake:function(m){var v=this.events,x=this.settings;return x.status=T.RUNNING,x.active=!0,x.visible=!0,v.emit(h.WAKE,this,m),x.isTransition&&v.emit(h.TRANSITION_WAKE,x.transitionFrom,x.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var m=this.settings.status;return m>T.PENDING&&m<=T.RUNNING},isSleeping:function(){return this.settings.status===T.SLEEPING},isActive:function(){return this.settings.status===T.RUNNING},isPaused:function(){return this.settings.status===T.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(m){return this.settings.visible=m,this},setActive:function(m,v){return m?this.resume(v):this.pause(v)},start:function(m){var v=this.events,x=this.settings;m&&(x.data=m),x.status=T.START,x.active=!0,x.visible=!0,v.emit(h.START,this),v.emit(h.READY,this,m)},shutdown:function(m){var v=this.events,x=this.settings;v.off(h.TRANSITION_INIT),v.off(h.TRANSITION_START),v.off(h.TRANSITION_COMPLETE),v.off(h.TRANSITION_OUT),x.status=T.SHUTDOWN,x.active=!1,x.visible=!1,v.emit(h.SHUTDOWN,this,m)},destroy:function(){var m=this.events,v=this.settings;v.status=T.DESTROYED,v.active=!1,v.visible=!1,m.emit(h.DESTROY,this),m.removeAllListeners();for(var x=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],y=0;y<x.length;y++)this[x[y]]=null}});_.exports=c},89993:_=>{_.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},69830:_=>{_.exports="addedtoscene"},7919:_=>{_.exports="boot"},46763:_=>{_.exports="create"},11763:_=>{_.exports="destroy"},71555:_=>{_.exports="pause"},36735:_=>{_.exports="postupdate"},3809:_=>{_.exports="prerender"},90716:_=>{_.exports="preupdate"},58262:_=>{_.exports="ready"},91633:_=>{_.exports="removedfromscene"},10319:_=>{_.exports="render"},87132:_=>{_.exports="resume"},81961:_=>{_.exports="shutdown"},90194:_=>{_.exports="sleep"},6265:_=>{_.exports="start"},33178:_=>{_.exports="transitioncomplete"},43063:_=>{_.exports="transitioninit"},11259:_=>{_.exports="transitionout"},61611:_=>{_.exports="transitionstart"},45209:_=>{_.exports="transitionwake"},22966:_=>{_.exports="update"},21747:_=>{_.exports="wake"},44594:(_,k,a)=>{_.exports={ADDED_TO_SCENE:a(69830),BOOT:a(7919),CREATE:a(46763),DESTROY:a(11763),PAUSE:a(71555),POST_UPDATE:a(36735),PRE_RENDER:a(3809),PRE_UPDATE:a(90716),READY:a(58262),REMOVED_FROM_SCENE:a(91633),RENDER:a(10319),RESUME:a(87132),SHUTDOWN:a(81961),SLEEP:a(90194),START:a(6265),TRANSITION_COMPLETE:a(33178),TRANSITION_INIT:a(43063),TRANSITION_OUT:a(11259),TRANSITION_START:a(61611),TRANSITION_WAKE:a(45209),UPDATE:a(22966),WAKE:a(21747)}},62194:(_,k,a)=>{var b=a(89993),T=a(79291),g={Events:a(44594),GetPhysicsPlugins:a(27397),GetScenePlugins:a(52106),SceneManager:a(60903),ScenePlugin:a(52209),Settings:a(55681),Systems:a(2368)};g=T(!1,g,b),_.exports=g},30341:(_,k,a)=>{var b=a(83419),T=a(50792),g=a(14463),h=a(79291),u=a(29747),l=new b({Extends:T,initialize:function(f,c,m){T.call(this),this.manager=f,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=h(this.config,m),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(d){return!(!d||!d.name||"string"!=typeof d.name||(this.markers[d.name]?(console.error("addMarker "+d.name+" already exists in Sound"),1):(d=h(!0,{name:"",start:0,duration:this.totalDuration-(d.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},d),this.markers[d.name]=d,0)))},updateMarker:function(d){return!(!d||!d.name||"string"!=typeof d.name||(this.markers[d.name]?(this.markers[d.name]=h(!0,this.markers[d.name],d),0):(console.warn("Audio Marker: "+d.name+" missing in Sound: "+this.key),1)))},removeMarker:function(d){var f=this.markers[d];return f?(this.markers[d]=null,f):null},play:function(d,f){if(void 0===d&&(d=""),"object"==typeof d&&(f=d,d=""),"string"!=typeof d)return!1;if(d){if(!this.markers[d])return console.warn("Marker: "+d+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[d],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=h(this.currentConfig,f),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying||(this.isPlaying=!1,this.isPaused=!0,0))},resume:function(){return!(!this.isPaused||this.isPlaying||(this.isPlaying=!0,this.isPaused=!1,0))},stop:function(){return!(!this.isPaused&&!this.isPlaying||(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),0))},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:u,calculateRate:function(){var c=Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune);this.totalRate=this.currentConfig.rate*this.manager.rate*c},destroy:function(){this.pendingRemove||(this.stop(),this.emit(g.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});_.exports=l},85034:(_,k,a)=>{var b=a(83419),T=a(41786),g=a(50792),h=a(14463),u=a(8443),l=a(46710),d=a(58731),f=a(29747),c=a(26099),m=new b({Extends:g,initialize:function(x){g.call(this),this.game=x,this.jsonCache=x.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new c,x.events.on(u.BLUR,this.onGameBlur,this),x.events.on(u.FOCUS,this.onGameFocus,this),x.events.on(u.PRE_STEP,this.update,this),x.events.once(u.DESTROY,this.destroy,this)},add:f,addAudioSprite:function(v,x){void 0===x&&(x={});var y=this.add(v,x);for(var w in y.spritemap=this.jsonCache.get(v).spritemap,y.spritemap)if(y.spritemap.hasOwnProperty(w)){var E=T(x),S=y.spritemap[w];E.loop=!!S.hasOwnProperty("loop")&&S.loop,y.addMarker({name:w,start:S.start,duration:S.end-S.start,config:E})}return y},get:function(v){return d(this.sounds,"key",v)},getAll:function(v){return v?l(this.sounds,"key",v):l(this.sounds)},getAllPlaying:function(){return l(this.sounds,"isPlaying",!0)},play:function(v,x){var y=this.add(v);return y.once(h.COMPLETE,y.destroy,y),x?x.name?(y.addMarker(x),y.play(x.name)):y.play(x):y.play()},playAudioSprite:function(v,x,y){var w=this.addAudioSprite(v);return w.once(h.COMPLETE,w.destroy,w),w.play(x,y)},remove:function(v){var x=this.sounds.indexOf(v);return-1!==x&&(v.destroy(),this.sounds.splice(x,1),!0)},removeAll:function(){this.sounds.forEach(function(v){v.destroy()}),this.sounds.length=0},removeByKey:function(v){for(var x=0,y=this.sounds.length-1;y>=0;y--){var w=this.sounds[y];w.key===v&&(w.destroy(),this.sounds.splice(y,1),x++)}return x},pauseAll:function(){this.forEachActiveSound(function(v){v.pause()}),this.emit(h.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(v){v.resume()}),this.emit(h.RESUME_ALL,this)},setListenerPosition:f,stopAll:function(){this.forEachActiveSound(function(v){v.stop()}),this.emit(h.STOP_ALL,this)},stopByKey:function(v){var x=0;return this.getAll(v).forEach(function(y){y.stop()&&x++}),x},isPlaying:function(v){var w,y=this.sounds.length-1;if(void 0===v){for(;y>=0;y--)if((w=this.sounds[y]).isPlaying)return!0}else for(;y>=0;y--)if((w=this.sounds[y]).key===v&&w.isPlaying)return!0;return!1},unlock:f,onBlur:f,onFocus:f,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(v,x){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(h.UNLOCKED,this));for(var y=this.sounds.length-1;y>=0;y--)this.sounds[y].pendingRemove&&this.sounds.splice(y,1);this.sounds.forEach(function(w){w.update(v,x)})},destroy:function(){this.game.events.off(u.BLUR,this.onGameBlur,this),this.game.events.off(u.FOCUS,this.onGameFocus,this),this.game.events.off(u.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(v,x){var y=this;this.sounds.forEach(function(w,E){w&&!w.pendingRemove&&v.call(x||y,w,E,y.sounds)})},setRate:function(v){return this.rate=v,this},rate:{get:function(){return this._rate},set:function(v){this._rate=v,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(h.GLOBAL_RATE,this,v)}},setDetune:function(v){return this.detune=v,this},detune:{get:function(){return this._detune},set:function(v){this._detune=v,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(h.GLOBAL_DETUNE,this,v)}}});_.exports=m},14747:(_,k,a)=>{var b=a(33684),T=a(25960),g=a(57490);_.exports={create:function(u){var l=u.config.audio,d=u.device.audio;return l.noAudio||!d.webAudio&&!d.audioData?new T(u):d.webAudio&&!l.disableWebAudio?new g(u):new b(u)}}},19723:_=>{_.exports="complete"},98882:_=>{_.exports="decodedall"},57506:_=>{_.exports="decoded"},73146:_=>{_.exports="destroy"},11305:_=>{_.exports="detune"},40577:_=>{_.exports="detune"},30333:_=>{_.exports="mute"},20394:_=>{_.exports="rate"},21802:_=>{_.exports="volume"},1299:_=>{_.exports="looped"},99190:_=>{_.exports="loop"},97125:_=>{_.exports="mute"},89259:_=>{_.exports="pan"},79986:_=>{_.exports="pauseall"},17586:_=>{_.exports="pause"},19618:_=>{_.exports="play"},42306:_=>{_.exports="rate"},10387:_=>{_.exports="resumeall"},48959:_=>{_.exports="resume"},9960:_=>{_.exports="seek"},19180:_=>{_.exports="stopall"},98328:_=>{_.exports="stop"},50401:_=>{_.exports="unlocked"},52498:_=>{_.exports="volume"},14463:(_,k,a)=>{_.exports={COMPLETE:a(19723),DECODED:a(57506),DECODED_ALL:a(98882),DESTROY:a(73146),DETUNE:a(11305),GLOBAL_DETUNE:a(40577),GLOBAL_MUTE:a(30333),GLOBAL_RATE:a(20394),GLOBAL_VOLUME:a(21802),LOOP:a(99190),LOOPED:a(1299),MUTE:a(97125),PAN:a(89259),PAUSE_ALL:a(79986),PAUSE:a(17586),PLAY:a(19618),RATE:a(42306),RESUME_ALL:a(10387),RESUME:a(48959),SEEK:a(9960),STOP_ALL:a(19180),STOP:a(98328),UNLOCKED:a(50401),VOLUME:a(52498)}},64895:(_,k,a)=>{var b=a(30341),T=a(83419),g=a(14463),h=a(45319),u=new T({Extends:b,initialize:function(d,f,c){if(void 0===c&&(c={}),this.tags=d.game.cache.audio.get(f),!this.tags)throw new Error('No cached audio asset with key "'+f);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,b.call(this,d,f,c)},play:function(l,d){return!(this.manager.isLocked(this,"play",[l,d])||!b.prototype.play.call(this,l,d)||!this.pickAndPlayAudioTag()||(this.emit(g.PLAY,this),0))},pause:function(){return!(this.manager.isLocked(this,"pause")||this.startTime>0||!b.prototype.pause.call(this)||(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(g.PAUSE,this),0))},resume:function(){return!(this.manager.isLocked(this,"resume")||this.startTime>0||!b.prototype.resume.call(this)||!this.pickAndPlayAudioTag()||(this.emit(g.RESUME,this),0))},stop:function(){return!(this.manager.isLocked(this,"stop")||!b.prototype.stop.call(this)||(this.stopAndReleaseAudioTag(),this.emit(g.STOP,this),0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var d=this.currentConfig.delay,f=(this.currentMarker?this.currentMarker.start:0)+this.currentConfig.seek;return this.previousTime=f,this.audio.currentTime=f,this.applyConfig(),0===d?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*d,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var l=0;l<this.tags.length;l++){var d=this.tags[l];if("false"===d.dataset.used)return d.dataset.used="true",this.audio=d,!0}if(!this.manager.override)return!1;var f=[];this.manager.forEachActiveSound(function(m){m.key===this.key&&m.audio&&f.push(m)},this),f.sort(function(m,v){return m.loop===v.loop?v.seek/v.duration-m.seek/m.duration:m.loop?1:-1});var c=f[0];return this.audio=c.audio,c.reset(),c.audio=null,c.startTime=0,c.previousTime=0,!0},playCatchPromise:function(){var l=this.audio.play();l&&l.catch(function(d){console.warn(d)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){b.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(l){if(this.isPlaying){if(this.startTime>0)return void(this.startTime<l-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,l-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise()));var d=this.currentMarker?this.currentMarker.start:0,f=d+this.duration,c=this.audio.currentTime;if(this.currentConfig.loop)c>=f-this.manager.loopEndOffset?(this.audio.currentTime=d+Math.max(0,c-f),c=this.audio.currentTime):c<d&&(this.audio.currentTime+=d,c=this.audio.currentTime),c<this.previousTime&&this.emit(g.LOOPED,this);else if(c>=f)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(g.COMPLETE,this);this.previousTime=c}},destroy:function(){b.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=h(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){b.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(l){this.currentConfig.mute=l,!this.manager.isLocked(this,"mute",l)&&(this.updateMute(),this.emit(g.MUTE,this,l))}},setMute:function(l){return this.mute=l,this},volume:{get:function(){return this.currentConfig.volume},set:function(l){this.currentConfig.volume=l,!this.manager.isLocked(this,"volume",l)&&(this.updateVolume(),this.emit(g.VOLUME,this,l))}},setVolume:function(l){return this.volume=l,this},rate:{get:function(){return this.currentConfig.rate},set:function(l){this.currentConfig.rate=l,!this.manager.isLocked(this,g.RATE,l)&&(this.calculateRate(),this.emit(g.RATE,this,l))}},setRate:function(l){return this.rate=l,this},detune:{get:function(){return this.currentConfig.detune},set:function(l){this.currentConfig.detune=l,!this.manager.isLocked(this,g.DETUNE,l)&&(this.calculateRate(),this.emit(g.DETUNE,this,l))}},setDetune:function(l){return this.detune=l,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(l){this.manager.isLocked(this,"seek",l)||this.startTime>0||(this.isPlaying||this.isPaused)&&(l=Math.min(Math.max(0,l),this.duration),this.isPlaying?(this.previousTime=l,this.audio.currentTime=l):this.isPaused&&(this.currentConfig.seek=l),this.emit(g.SEEK,this,l))}},setSeek:function(l){return this.seek=l,this},loop:{get:function(){return this.currentConfig.loop},set:function(l){this.currentConfig.loop=l,!this.manager.isLocked(this,"loop",l)&&(this.audio&&(this.audio.loop=l),this.emit(g.LOOP,this,l))}},setLoop:function(l){return this.loop=l,this},pan:{get:function(){return this.currentConfig.pan},set:function(l){this.currentConfig.pan=l,this.emit(g.PAN,this,l)}},setPan:function(l){return this.pan=l,this}});_.exports=u},33684:(_,k,a)=>{var b=a(85034),T=a(83419),g=a(14463),h=a(64895),u=new T({Extends:b,initialize:function(d){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,b.call(this,d)},add:function(l,d){var f=new h(this,l,d);return this.sounds.push(f),f},unlock:function(){this.locked=!1;var l=this;if(this.game.cache.audio.entries.each(function(m,v){for(var x=0;x<v.length;x++)if("true"===v[x].dataset.locked)return l.locked=!0,!1;return!0}),this.locked){var d=!1,f=function(){d=!0},c=function(){if(d)d=!1;else{document.body.removeEventListener("touchmove",f),document.body.removeEventListener("touchend",c);var m=[];if(l.game.cache.audio.entries.each(function(x,y){for(var w=0;w<y.length;w++){var E=y[w];"true"===E.dataset.locked&&m.push(E)}return!0}),0!==m.length){var v=m[m.length-1];v.oncanplaythrough=function(){v.oncanplaythrough=null,m.forEach(function(x){x.dataset.locked="false"}),l.unlocked=!0},m.forEach(function(x){x.load()})}}};this.once(g.UNLOCKED,function(){for(this.forEachActiveSound(function(v){null===v.currentMarker&&0===v.duration&&(v.duration=v.tags[0].duration),v.totalDuration=v.tags[0].duration});this.lockedActionsQueue.length;){var m=this.lockedActionsQueue.shift();m.sound[m.prop].apply?m.sound[m.prop].apply(m.sound,m.value||[]):m.sound[m.prop]=m.value}},this),document.body.addEventListener("touchmove",f,!1),document.body.addEventListener("touchend",c,!1)}},onBlur:function(){this.forEachActiveSound(function(l){l.isPlaying&&(this.onBlurPausedSounds.push(l),l.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(l){l.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){b.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(l,d,f){return"true"===l.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:l,prop:d,value:f}),!0)},setMute:function(l){return this.mute=l,this},mute:{get:function(){return this._mute},set:function(l){this._mute=l,this.forEachActiveSound(function(d){d.updateMute()}),this.emit(g.GLOBAL_MUTE,this,l)}},setVolume:function(l){return this.volume=l,this},volume:{get:function(){return this._volume},set:function(l){this._volume=l,this.forEachActiveSound(function(d){d.updateVolume()}),this.emit(g.GLOBAL_VOLUME,this,l)}}});_.exports=u},23717:(_,k,a)=>{_.exports={SoundManagerCreator:a(14747),Events:a(14463),BaseSound:a(30341),BaseSoundManager:a(85034),WebAudioSound:a(71741),WebAudioSoundManager:a(57490),HTML5AudioSound:a(64895),HTML5AudioSoundManager:a(33684),NoAudioSound:a(4603),NoAudioSoundManager:a(25960)}},4603:(_,k,a)=>{var b=a(30341),T=a(83419),g=a(50792),h=a(79291),u=a(29747),l=function(){return!1},d=function(){return null},f=function(){return this},c=new T({Extends:g,initialize:function(v,x,y){void 0===y&&(y={}),g.call(this),this.manager=v,this.key=x,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=h({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},y),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:l,updateMarker:l,removeMarker:d,play:l,pause:l,resume:l,stop:l,setMute:f,setVolume:f,setRate:f,setDetune:f,setSeek:f,setLoop:f,setPan:f,applyConfig:d,resetConfig:d,update:u,calculateRate:d,destroy:function(){b.prototype.destroy.call(this)}});_.exports=c},25960:(_,k,a)=>{var b=a(85034),T=a(83419),g=a(50792),h=a(4603),u=a(29747),l=new T({Extends:g,initialize:function(f){g.call(this),this.game=f,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(d,f){var c=new h(this,d,f);return this.sounds.push(c),c},addAudioSprite:function(d,f){var c=this.add(d,f);return c.spritemap={},c},get:function(d){return b.prototype.get.call(this,d)},getAll:function(d){return b.prototype.getAll.call(this,d)},play:function(d,f){return!1},playAudioSprite:function(d,f,c){return!1},remove:function(d){return b.prototype.remove.call(this,d)},removeAll:function(){return b.prototype.removeAll.call(this)},removeByKey:function(d){return b.prototype.removeByKey.call(this,d)},stopByKey:function(d){return b.prototype.stopByKey.call(this,d)},onBlur:u,onFocus:u,onGameBlur:u,onGameFocus:u,pauseAll:u,resumeAll:u,stopAll:u,update:u,setRate:u,setDetune:u,setMute:u,setVolume:u,unlock:u,forEachActiveSound:function(d,f){b.prototype.forEachActiveSound.call(this,d,f)},destroy:function(){b.prototype.destroy.call(this)}});_.exports=l},71741:(_,k,a)=>{var b=a(30341),T=a(83419),g=a(14463),h=a(95540),u=new T({Extends:b,initialize:function(d,f,c){if(void 0===c&&(c={}),this.audioBuffer=d.game.cache.audio.get(f),!this.audioBuffer)throw new Error('Audio key "'+f+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=d.context.createGain(),this.volumeNode=d.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),d.context.createPanner&&(this.spatialNode=d.context.createPanner(),this.volumeNode.connect(this.spatialNode)),d.context.createStereoPanner?(this.pannerNode=d.context.createStereoPanner(),d.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(d.destination)):d.context.createPanner?this.spatialNode.connect(d.destination):this.volumeNode.connect(d.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,b.call(this,d,f,c)},play:function(l,d){return!!b.prototype.play.call(this,l,d)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(g.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime||!b.prototype.pause.call(this)||(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(g.PAUSE,this),0))},resume:function(){return!(this.manager.context.currentTime<this.startTime||!b.prototype.resume.call(this)||(this.createAndStartBufferSource(),this.emit(g.RESUME,this),0))},stop:function(){return!!b.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(g.STOP,this),!0)},createAndStartBufferSource:function(){var l=this.currentConfig.seek,f=this.manager.context.currentTime+this.currentConfig.delay,c=(this.currentMarker?this.currentMarker.start:0)+l,m=this.duration-l;this.playTime=f-l,this.startTime=f,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,f),Math.max(0,c),Math.max(0,m)),this.resetConfig()},createAndStartLoopBufferSource:function(){var l=this.getLoopTime(),d=this.currentMarker?this.currentMarker.start:0,f=this.duration;this.loopTime=l,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,l),Math.max(0,d),Math.max(0,f))},createBufferSource:function(){var l=this,d=this.manager.context.createBufferSource();return d.buffer=this.audioBuffer,d.connect(this.muteNode),d.onended=function(f){var c=f.target;(c===l.source||c===l.loopSource)&&(l.currentConfig.loop?l.hasLooped=!0:l.hasEnded=!0)},d},stopAndRemoveBufferSource:function(){if(this.source){var l=this.source;this.source=null,l.stop(),l.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var l=this.currentConfig.source;if(l&&this.manager.context.createPanner){var d=this.spatialNode;d.panningModel=h(l,"panningModel","equalpower"),d.distanceModel=h(l,"distanceModel","inverse"),d.orientationX.value=h(l,"orientationX",0),d.orientationY.value=h(l,"orientationY",0),d.orientationZ.value=h(l,"orientationZ",-1),d.refDistance=h(l,"refDistance",1),d.maxDistance=h(l,"maxDistance",1e4),d.rolloffFactor=h(l,"rolloffFactor",1),d.coneInnerAngle=h(l,"coneInnerAngle",360),d.coneOuterAngle=h(l,"coneOuterAngle",0),d.coneOuterGain=h(l,"coneOuterGain",0),this.spatialSource=h(l,"follow",null),this.spatialSource||(d.positionX.value=h(l,"x",0),d.positionY.value=h(l,"y",0),d.positionZ.value=h(l,"z",0))}b.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(l){this.spatialNode&&(this.spatialNode.positionX.value=l)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(l){this.spatialNode&&(this.spatialNode.positionY.value=l)}},update:function(){if(this.isPlaying&&this.spatialSource){var l=h(this.spatialSource,"x",null),d=h(this.spatialSource,"y",null);l&&l!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=l),d&&d!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=d)}this.hasEnded?(b.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(g.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(g.LOOPED,this))},destroy:function(){this.pendingRemove||(b.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){b.prototype.calculateRate.call(this);var l=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,l),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,l)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var l=0,d=0;d<this.rateUpdates.length;d++)l+=((d<this.rateUpdates.length-1?this.rateUpdates[d+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[d].time)*this.rateUpdates[d].rate;return l},getLoopTime:function(){for(var l=0,d=0;d<this.rateUpdates.length-1;d++)l+=(this.rateUpdates[d+1].time-this.rateUpdates[d].time)*this.rateUpdates[d].rate;var f=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+f.time+(this.duration-l)/f.rate},rate:{get:function(){return this.currentConfig.rate},set:function(l){this.currentConfig.rate=l,this.calculateRate(),this.emit(g.RATE,this,l)}},setRate:function(l){return this.rate=l,this},detune:{get:function(){return this.currentConfig.detune},set:function(l){this.currentConfig.detune=l,this.calculateRate(),this.emit(g.DETUNE,this,l)}},setDetune:function(l){return this.detune=l,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(l){this.currentConfig.mute=l,this.muteNode.gain.setValueAtTime(l?0:1,0),this.emit(g.MUTE,this,l)}},setMute:function(l){return this.mute=l,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(l){this.currentConfig.volume=l,this.volumeNode.gain.setValueAtTime(l,0),this.emit(g.VOLUME,this,l)}},setVolume:function(l){return this.volume=l,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(l){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(l=Math.min(Math.max(0,l),this.duration),this.currentConfig.seek=l,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(g.SEEK,this,l))}},setSeek:function(l){return this.seek=l,this},loop:{get:function(){return this.currentConfig.loop},set:function(l){this.currentConfig.loop=l,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),l&&this.createAndStartLoopBufferSource()),this.emit(g.LOOP,this,l)}},setLoop:function(l){return this.loop=l,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(l){this.currentConfig.pan=l,this.pannerNode&&this.pannerNode.pan.setValueAtTime(l,this.manager.context.currentTime),this.emit(g.PAN,this,l)}},setPan:function(l){return this.pan=l,this}});_.exports=u},57490:(_,k,a)=>{var b=a(53134),T=a(85034),g=a(83419),h=a(14463),u=a(8443),l=a(71741),d=a(95540),f=new g({Extends:T,initialize:function(m){this.context=this.createAudioContext(m),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),T.call(this,m),this.locked&&m.isBooted?this.unlock():m.events.once(u.BOOT,this.unlock,this)},createAudioContext:function(c){var m=c.config.audio;return m.context?(m.context.resume(),m.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(c){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=c,this.masterMuteNode=c.createGain(),this.masterVolumeNode=c.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(c.destination),this.destination=this.masterMuteNode,this},add:function(c,m){var v=new l(this,c,m);return this.sounds.push(v),v},decodeAudio:function(c,m){var v;v=Array.isArray(c)?c:[{key:c,data:m}];for(var x=this.game.cache.audio,y=v.length,w=0;w<v.length;w++){var E=v[w],S=E.key,A=E.data;"string"==typeof A&&(A=b(A));var I=function(P,O){x.add(P,O),this.emit(h.DECODED,P),0==--y&&this.emit(h.DECODED_ALL)}.bind(this,S),M=function(P,O){console.error("Error decoding audio: "+P+" - ",O?O.message:""),0==--y&&this.emit(h.DECODED_ALL)}.bind(this,S);this.context.decodeAudioData(A,I,M)}},setListenerPosition:function(c,m){return void 0===c&&(c=this.game.scale.width/2),void 0===m&&(m=this.game.scale.height/2),this.listenerPosition.set(c,m),this},unlock:function(){var c=this,m=document.body,v=function x(){if(c.context&&m){var y=m.removeEventListener.bind(m);c.context.resume().then(function(){y("touchstart",x),y("touchend",x),y("click",x),y("keydown",x),c.unlocked=!0},function(){y("touchstart",x),y("touchend",x),y("click",x),y("keydown",x)})}};m&&(m.addEventListener("touchstart",v,!1),m.addEventListener("touchend",v,!1),m.addEventListener("click",v,!1),m.addEventListener("keydown",v,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var c=this.context;c&&!this.locked&&("suspended"===c.state||"interrupted"===c.state)&&c.resume()},update:function(c,m){var v=this.context.listener;if(v&&void 0!==v.positionX){var x=d(this.listenerPosition,"x",null),y=d(this.listenerPosition,"y",null);x&&x!==this._spatialx&&(this._spatialx=v.positionX.value=x),y&&y!==this._spatialy&&(this._spatialy=v.positionY.value=y)}T.prototype.update.call(this,c,m),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var c=this;this.context.close().then(function(){c.context=null})}T.prototype.destroy.call(this)},setMute:function(c){return this.mute=c,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(c){this.masterMuteNode.gain.setValueAtTime(c?0:1,0),this.emit(h.GLOBAL_MUTE,this,c)}},setVolume:function(c){return this.volume=c,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(c){this.masterVolumeNode.gain.setValueAtTime(c,0),this.emit(h.GLOBAL_VOLUME,this,c)}}});_.exports=f},73162:(_,k,a)=>{var b=a(37105),T=a(83419),g=a(29747),h=a(19186),u=new T({initialize:function(d){this.parent=d,this.list=[],this.position=0,this.addCallback=g,this.removeCallback=g,this._sortKey=""},add:function(l,d){return d?b.Add(this.list,l):b.Add(this.list,l,0,this.addCallback,this)},addAt:function(l,d,f){return f?b.AddAt(this.list,l,d):b.AddAt(this.list,l,d,0,this.addCallback,this)},getAt:function(l){return this.list[l]},getIndex:function(l){return this.list.indexOf(l)},sort:function(l,d){return l?(void 0===d&&(d=function(f,c){return f[l]-c[l]}),h(this.list,d),this):this},getByName:function(l){return b.GetFirst(this.list,"name",l)},getRandom:function(l,d){return b.GetRandom(this.list,l,d)},getFirst:function(l,d,f,c){return b.GetFirst(this.list,l,d,f,c)},getAll:function(l,d,f,c){return b.GetAll(this.list,l,d,f,c)},count:function(l,d){return b.CountAllMatching(this.list,l,d)},swap:function(l,d){b.Swap(this.list,l,d)},moveTo:function(l,d){return b.MoveTo(this.list,l,d)},moveAbove:function(l,d){return b.MoveAbove(this.list,l,d)},moveBelow:function(l,d){return b.MoveBelow(this.list,l,d)},remove:function(l,d){return d?b.Remove(this.list,l):b.Remove(this.list,l,this.removeCallback,this)},removeAt:function(l,d){return d?b.RemoveAt(this.list,l):b.RemoveAt(this.list,l,this.removeCallback,this)},removeBetween:function(l,d,f){return f?b.RemoveBetween(this.list,l,d):b.RemoveBetween(this.list,l,d,this.removeCallback,this)},removeAll:function(l){for(var d=this.list.length;d--;)this.remove(this.list[d],l);return this},bringToTop:function(l){return b.BringToTop(this.list,l)},sendToBack:function(l){return b.SendToBack(this.list,l)},moveUp:function(l){return b.MoveUp(this.list,l),l},moveDown:function(l){return b.MoveDown(this.list,l),l},reverse:function(){return this.list.reverse(),this},shuffle:function(){return b.Shuffle(this.list),this},replace:function(l,d){return b.Replace(this.list,l,d)},exists:function(l){return this.list.indexOf(l)>-1},setAll:function(l,d,f,c){return b.SetAll(this.list,l,d,f,c),this},each:function(l,d){for(var f=[null],c=2;c<arguments.length;c++)f.push(arguments[c]);for(c=0;c<this.list.length;c++)f[0]=this.list[c],l.apply(d,f)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});_.exports=u},90330:(_,k,a)=>{var T=new(a(83419))({initialize:function(h){this.entries={},this.size=0,this.setAll(h)},setAll:function(g){if(Array.isArray(g))for(var h=0;h<g.length;h++)this.set(g[h][0],g[h][1]);return this},set:function(g,h){return this.has(g)||this.size++,this.entries[g]=h,this},get:function(g){if(this.has(g))return this.entries[g]},getArray:function(){var g=[],h=this.entries;for(var u in h)g.push(h[u]);return g},has:function(g){return this.entries.hasOwnProperty(g)},delete:function(g){return this.has(g)&&(delete this.entries[g],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(g){delete this.entries[g]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var g=[],h=this.entries;for(var u in h)g.push(h[u]);return g},dump:function(){var g=this.entries;for(var h in console.group("Map"),g)console.log(h,g[h]);console.groupEnd()},each:function(g){var h=this.entries;for(var u in h)if(!1===g(u,h[u]))break;return this},contains:function(g){var h=this.entries;for(var u in h)if(h[u]===g)return!0;return!1},merge:function(g,h){void 0===h&&(h=!1);var u=this.entries,l=g.entries;for(var d in l)u.hasOwnProperty(d)&&h?u[d]=l[d]:this.set(d,l[d]);return this}});_.exports=T},25774:(_,k,a)=>{var b=a(83419),T=a(50792),g=a(82348),h=new b({Extends:T,initialize:function(){T.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(u){return this._active.indexOf(u)>-1},isPending:function(u){return this._toProcess>0&&this._pending.indexOf(u)>-1},isDestroying:function(u){return this._destroy.indexOf(u)>-1},add:function(u){return this.checkQueue&&this.isActive(u)&&!this.isDestroying(u)||this.isPending(u)||(this._pending.push(u),this._toProcess++),u},remove:function(u){if(this.isPending(u)){var l=this._pending,d=l.indexOf(u);-1!==d&&l.splice(d,1)}else this.isActive(u)&&(this._destroy.push(u),this._toProcess++);return u},removeAll:function(){for(var u=this._active,l=this._destroy,d=u.length;d--;)l.push(u[d]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var d,f,u=this._destroy,l=this._active;for(d=0;d<u.length;d++){var c=l.indexOf(f=u[d]);-1!==c&&(l.splice(c,1),this.emit(g.PROCESS_QUEUE_REMOVE,f))}for(u.length=0,u=this._pending,d=0;d<u.length;d++)f=u[d],(!this.checkQueue||this.checkQueue&&-1===l.indexOf(f))&&(l.push(f),this.emit(g.PROCESS_QUEUE_ADD,f));return u.length=0,this._toProcess=0,l},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});_.exports=h},59542:(_,k,a)=>{var b=a(43886);function T(A){if(!(this instanceof T))return new T(A,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,A||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function g(A,I,M){if(!M)return I.indexOf(A);for(var P=0;P<I.length;P++)if(M(A,I[P]))return P;return-1}function h(A,I){u(A,0,A.children.length,I,A)}function u(A,I,M,P,O){O||(O=E(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var L,N=I;N<M;N++)L=A.children[N],l(O,A.leaf?P(L):L);return O}function l(A,I){return A.minX=Math.min(A.minX,I.minX),A.minY=Math.min(A.minY,I.minY),A.maxX=Math.max(A.maxX,I.maxX),A.maxY=Math.max(A.maxY,I.maxY),A}function d(A,I){return A.minX-I.minX}function f(A,I){return A.minY-I.minY}function c(A){return(A.maxX-A.minX)*(A.maxY-A.minY)}function m(A){return A.maxX-A.minX+(A.maxY-A.minY)}function v(A,I){return(Math.max(I.maxX,A.maxX)-Math.min(I.minX,A.minX))*(Math.max(I.maxY,A.maxY)-Math.min(I.minY,A.minY))}function x(A,I){var M=Math.max(A.minX,I.minX),P=Math.max(A.minY,I.minY),O=Math.min(A.maxX,I.maxX),N=Math.min(A.maxY,I.maxY);return Math.max(0,O-M)*Math.max(0,N-P)}function y(A,I){return A.minX<=I.minX&&A.minY<=I.minY&&I.maxX<=A.maxX&&I.maxY<=A.maxY}function w(A,I){return I.minX<=A.maxX&&I.minY<=A.maxY&&I.maxX>=A.minX&&I.maxY>=A.minY}function E(A){return{children:A,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function S(A,I,M,P,O){for(var L,N=[I,M];N.length;)!((M=N.pop())-(I=N.pop())<=P)&&(L=I+Math.ceil((M-I)/P/2)*P,b(A,L,I,M,O),N.push(I,L,L,M))}T.prototype={all:function(){return this._all(this.data,[])},search:function(A){var I=this.data,M=[],P=this.toBBox;if(!w(A,I))return M;for(var N,L,G,j,O=[];I;){for(N=0,L=I.children.length;N<L;N++)G=I.children[N],w(A,j=I.leaf?P(G):G)&&(I.leaf?M.push(G):y(A,j)?this._all(G,M):O.push(G));I=O.pop()}return M},collides:function(A){var I=this.data,M=this.toBBox;if(!w(A,I))return!1;for(var O,N,L,G,P=[];I;){for(O=0,N=I.children.length;O<N;O++)if(L=I.children[O],w(A,G=I.leaf?M(L):L)){if(I.leaf||y(A,G))return!0;P.push(L)}I=P.pop()}return!1},load:function(A){if(!A||!A.length)return this;if(A.length<this._minEntries){for(var I=0,M=A.length;I<M;I++)this.insert(A[I]);return this}var P=this._build(A.slice(),0,A.length-1,0);if(this.data.children.length)if(this.data.height===P.height)this._splitRoot(this.data,P);else{if(this.data.height<P.height){var O=this.data;this.data=P,P=O}this._insert(P,this.data.height-P.height-1,!0)}else this.data=P;return this},insert:function(A){return A&&this._insert(A,this.data.height-1),this},clear:function(){return this.data=E([]),this},remove:function(A,I){if(!A)return this;for(var L,G,j,z,M=this.data,P=this.toBBox(A),O=[],N=[];M||O.length;){if(M||(M=O.pop(),G=O[O.length-1],L=N.pop(),z=!0),M.leaf&&-1!==(j=g(A,M.children,I)))return M.children.splice(j,1),O.push(M),this._condense(O),this;z||M.leaf||!y(M,P)?G?(L++,M=G.children[L],z=!1):M=null:(O.push(M),N.push(L),L=0,G=M,M=M.children[0])}return this},toBBox:function(A){return A},compareMinX:d,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(A){return this.data=A,this},_all:function(A,I){for(var M=[];A;)A.leaf?I.push.apply(I,A.children):M.push.apply(M,A.children),A=M.pop();return I},_build:function(A,I,M,P){var L,O=M-I+1,N=this._maxEntries;if(O<=N)return h(L=E(A.slice(I,M+1)),this.toBBox),L;P||(P=Math.ceil(Math.log(O)/Math.log(N)),N=Math.ceil(O/Math.pow(N,P-1))),(L=E([])).leaf=!1,L.height=P;var z,Y,Z,rt,G=Math.ceil(O/N),j=G*Math.ceil(Math.sqrt(N));for(S(A,I,M,j,this.compareMinX),z=I;z<=M;z+=j)for(S(A,z,Z=Math.min(z+j-1,M),G,this.compareMinY),Y=z;Y<=Z;Y+=G)rt=Math.min(Y+G-1,Z),L.children.push(this._build(A,Y,rt,P-1));return h(L,this.toBBox),L},_chooseSubtree:function(A,I,M,P){for(var O,N,L,G,j,z,Y,Z;P.push(I),!I.leaf&&P.length-1!==M;){for(Y=Z=1/0,O=0,N=I.children.length;O<N;O++)j=c(L=I.children[O]),(z=v(A,L)-j)<Z?(Z=z,Y=j<Y?j:Y,G=L):z===Z&&j<Y&&(Y=j,G=L);I=G||I.children[0]}return I},_insert:function(A,I,M){var O=M?A:(0,this.toBBox)(A),N=[],L=this._chooseSubtree(O,this.data,I,N);for(L.children.push(A),l(L,O);I>=0&&N[I].children.length>this._maxEntries;)this._split(N,I),I--;this._adjustParentBBoxes(O,N,I)},_split:function(A,I){var M=A[I],P=M.children.length,O=this._minEntries;this._chooseSplitAxis(M,O,P);var N=this._chooseSplitIndex(M,O,P),L=E(M.children.splice(N,M.children.length-N));L.height=M.height,L.leaf=M.leaf,h(M,this.toBBox),h(L,this.toBBox),I?A[I-1].children.push(L):this._splitRoot(M,L)},_splitRoot:function(A,I){this.data=E([A,I]),this.data.height=A.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(A,I,M){var P,O,N,L,G,j,z,Y;for(j=z=1/0,P=I;P<=M-I;P++)L=x(O=u(A,0,P,this.toBBox),N=u(A,P,M,this.toBBox)),G=c(O)+c(N),L<j?(j=L,Y=P,z=G<z?G:z):L===j&&G<z&&(z=G,Y=P);return Y},_chooseSplitAxis:function(A,I,M){var P=A.leaf?this.compareMinX:d,O=A.leaf?this.compareMinY:f;this._allDistMargin(A,I,M,P)<this._allDistMargin(A,I,M,O)&&A.children.sort(P)},_allDistMargin:function(A,I,M,P){A.children.sort(P);var j,z,O=this.toBBox,N=u(A,0,I,O),L=u(A,M-I,M,O),G=m(N)+m(L);for(j=I;j<M-I;j++)z=A.children[j],l(N,A.leaf?O(z):z),G+=m(N);for(j=M-I-1;j>=I;j--)z=A.children[j],l(L,A.leaf?O(z):z),G+=m(L);return G},_adjustParentBBoxes:function(A,I,M){for(var P=M;P>=0;P--)l(I[P],A)},_condense:function(A){for(var M,I=A.length-1;I>=0;I--)0===A[I].children.length?I>0?(M=A[I-1].children).splice(M.indexOf(A[I]),1):this.clear():h(A[I],this.toBBox)},compareMinX:function(A,I){return A.left-I.left},compareMinY:function(A,I){return A.top-I.top},toBBox:function(A){return{minX:A.left,minY:A.top,maxX:A.right,maxY:A.bottom}}},_.exports=T},35072:(_,k,a)=>{var T=new(a(83419))({initialize:function(h){if(this.entries=[],Array.isArray(h))for(var u=0;u<h.length;u++)this.set(h[u])},set:function(g){return-1===this.entries.indexOf(g)&&this.entries.push(g),this},get:function(g,h){for(var u=0;u<this.entries.length;u++){var l=this.entries[u];if(l[g]===h)return l}},getArray:function(){return this.entries.slice(0)},delete:function(g){var h=this.entries.indexOf(g);return h>-1&&this.entries.splice(h,1),this},dump:function(){console.group("Set");for(var g=0;g<this.entries.length;g++)console.log(this.entries[g]);console.groupEnd()},each:function(g,h){var u,l=this.entries.slice(),d=l.length;if(h)for(u=0;u<d&&!1!==g.call(h,l[u],u);u++);else for(u=0;u<d&&!1!==g(l[u],u);u++);return this},iterate:function(g,h){var u,l=this.entries.length;if(h)for(u=0;u<l&&!1!==g.call(h,this.entries[u],u);u++);else for(u=0;u<l&&!1!==g(this.entries[u],u);u++);return this},iterateLocal:function(g){var h,u=[];for(h=1;h<arguments.length;h++)u.push(arguments[h]);var l=this.entries.length;for(h=0;h<l;h++){var d=this.entries[h];d[g].apply(d,u)}return this},clear:function(){return this.entries.length=0,this},contains:function(g){return this.entries.indexOf(g)>-1},union:function(g){var h=new T;return g.entries.forEach(function(u){h.set(u)}),this.entries.forEach(function(u){h.set(u)}),h},intersect:function(g){var h=new T;return this.entries.forEach(function(u){g.contains(u)&&h.set(u)}),h},difference:function(g){var h=new T;return this.entries.forEach(function(u){g.contains(u)||h.set(u)}),h},size:{get:function(){return this.entries.length},set:function(g){return g<this.entries.length?this.entries.length=g:this.entries.length}}});_.exports=T},86555:(_,k,a)=>{var b=a(45319),T=a(83419),g=a(56583),h=a(26099),u=new T({initialize:function(d,f,c,m){void 0===d&&(d=0),void 0===f&&(f=d),void 0===c&&(c=0),void 0===m&&(m=null),this._width=d,this._height=f,this._parent=m,this.aspectMode=c,this.aspectRatio=0===f?1:d/f,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new h},setAspectMode:function(l){return void 0===l&&(l=0),this.aspectMode=l,this.setSize(this._width,this._height)},setSnap:function(l,d){return void 0===l&&(l=0),void 0===d&&(d=l),this.snapTo.set(l,d),this.setSize(this._width,this._height)},setParent:function(l){return this._parent=l,this.setSize(this._width,this._height)},setMin:function(l,d){return void 0===l&&(l=0),void 0===d&&(d=l),this.minWidth=b(l,0,this.maxWidth),this.minHeight=b(d,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(l,d){return void 0===l&&(l=Number.MAX_VALUE),void 0===d&&(d=l),this.maxWidth=b(l,this.minWidth,Number.MAX_VALUE),this.maxHeight=b(d,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(l,d){switch(void 0===l&&(l=0),void 0===d&&(d=l),this.aspectMode){case u.NONE:this._width=this.getNewWidth(g(l,this.snapTo.x)),this._height=this.getNewHeight(g(d,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case u.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(g(l,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case u.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(g(d,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case u.FIT:this.constrain(l,d,!0);break;case u.ENVELOP:this.constrain(l,d,!1)}return this},setAspectRatio:function(l){return this.aspectRatio=l,this.setSize(this._width,this._height)},resize:function(l,d){return this._width=this.getNewWidth(g(l,this.snapTo.x)),this._height=this.getNewHeight(g(d,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(l,d){return void 0===d&&(d=!0),l=b(l,this.minWidth,this.maxWidth),d&&this._parent&&l>this._parent.width&&(l=Math.max(this.minWidth,this._parent.width)),l},getNewHeight:function(l,d){return void 0===d&&(d=!0),l=b(l,this.minHeight,this.maxHeight),d&&this._parent&&l>this._parent.height&&(l=Math.max(this.minHeight,this._parent.height)),l},constrain:function(l,d,f){void 0===l&&(l=0),void 0===d&&(d=l),void 0===f&&(f=!0),l=this.getNewWidth(l),d=this.getNewHeight(d);var c=this.snapTo,m=0===d?1:l/d;return f&&this.aspectRatio>m||!f&&this.aspectRatio<m?(d=(l=g(l,c.x))/this.aspectRatio,c.y>0&&(l=(d=g(d,c.y))*this.aspectRatio)):(f&&this.aspectRatio<m||!f&&this.aspectRatio>m)&&(l=(d=g(d,c.y))*this.aspectRatio,c.x>0&&(d=(l=g(l,c.x))*(1/this.aspectRatio))),this._width=l,this._height=d,this},fitTo:function(l,d){return this.constrain(l,d,!0)},envelop:function(l,d){return this.constrain(l,d,!1)},setWidth:function(l){return this.setSize(l,this._height)},setHeight:function(l){return this.setSize(this._width,l)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(l){l&&l.style&&(l.style.width=this._width+"px",l.style.height=this._height+"px")},copy:function(l){return l.setAspectMode(this.aspectMode),l.aspectRatio=this.aspectRatio,l.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(l){this.setSize(l,this._height)}},height:{get:function(){return this._height},set:function(l){this.setSize(this._width,l)}}});u.NONE=0,u.WIDTH_CONTROLS_HEIGHT=1,u.HEIGHT_CONTROLS_WIDTH=2,u.FIT=3,u.ENVELOP=4,_.exports=u},15238:_=>{_.exports="add"},56187:_=>{_.exports="remove"},82348:(_,k,a)=>{_.exports={PROCESS_QUEUE_ADD:a(15238),PROCESS_QUEUE_REMOVE:a(56187)}},41392:(_,k,a)=>{_.exports={Events:a(82348),List:a(73162),Map:a(90330),ProcessQueue:a(25774),RTree:a(59542),Set:a(35072),Size:a(86555)}},57382:(_,k,a)=>{var b=a(83419),T=a(45319),g=a(40987),h=a(8054),u=a(50030),l=a(79237),d=new b({Extends:l,initialize:function(c,m,v,x,y){l.call(this,c,m,v,x,y),this.add("__BASE",0,0,0,x,y),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=x,this.height=y,this.imageData=this.context.getImageData(0,0,x,y),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===h.WEBGL&&this.refresh(),this},draw:function(f,c,m,v){return void 0===v&&(v=!0),this.context.drawImage(m,f,c),v&&this.update(),this},drawFrame:function(f,c,m,v,x){void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=!0);var y=this.manager.getFrame(f,c);if(y){var w=y.canvasData,E=y.cutWidth,S=y.cutHeight,A=y.source.resolution;this.context.drawImage(y.source.image,w.x,w.y,E,S,m,v,E/A,S/A),x&&this.update()}return this},setPixel:function(f,c,m,v,x,y){if(void 0===y&&(y=255),f=Math.abs(Math.floor(f)),c=Math.abs(Math.floor(c)),this.getIndex(f,c)>-1){var E=this.context.getImageData(f,c,1,1);E.data[0]=m,E.data[1]=v,E.data[2]=x,E.data[3]=y,this.context.putImageData(E,f,c)}return this},putData:function(f,c,m,v,x,y,w){return void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=f.width),void 0===w&&(w=f.height),this.context.putImageData(f,c,m,v,x,y,w),this},getData:function(f,c,m,v){return f=T(Math.floor(f),0,this.width-1),c=T(Math.floor(c),0,this.height-1),m=T(m,1,this.width-f),v=T(v,1,this.height-c),this.context.getImageData(f,c,m,v)},getPixel:function(f,c,m){m||(m=new g);var v=this.getIndex(f,c);if(v>-1){var x=this.data;m.setTo(x[v+0],x[v+1],x[v+2],x[v+3])}return m},getPixels:function(f,c,m,v){void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=this.width),void 0===v&&(v=m),f=Math.abs(Math.round(f)),c=Math.abs(Math.round(c));for(var x=T(f,0,this.width),y=T(f+m,0,this.width),w=T(c,0,this.height),E=T(c+v,0,this.height),S=new g,A=[],I=w;I<E;I++){for(var M=[],P=x;P<y;P++)S=this.getPixel(P,I,S),M.push({x:P,y:I,color:S.color,alpha:S.alphaGL});A.push(M)}return A},getIndex:function(f,c){return f=Math.abs(Math.round(f)),c=Math.abs(Math.round(c)),f<this.width&&c<this.height?4*(f+c*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(f,c,m,v,x){return void 0===f&&(f=0),void 0===c&&(c=0),void 0===m&&(m=this.width),void 0===v&&(v=this.height),void 0===x&&(x=!0),this.context.clearRect(f,c,m,v),x&&this.update(),this},setSize:function(f,c){return void 0===c&&(c=f),(f!==this.width||c!==this.height)&&(this.canvas.width=f,this.canvas.height=c,this._source.width=f,this._source.height=c,this._source.isPowerOf2=u(f,c),this.frames.__BASE.setSize(f,c,0,0),this.width=f,this.height=c,this.refresh()),this},destroy:function(){l.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});_.exports=d},81320:(_,k,a)=>{var b=a(10312),T=a(38058),g=a(27919),h=a(83419),u=a(8054),l=a(4327),d=a(95540),f=a(36060),c=a(32302),m=a(79237),v=a(70554),x=new h({Extends:m,initialize:function(w,E,S,A){void 0===S&&(S=256),void 0===A&&(A=256),this.type="DynamicTexture";var I=w.game.renderer,M=I&&I.type===u.CANVAS,P=M?g.create2D(this,S,A):[this];m.call(this,w,E,P,S,A),this.add("__BASE",0,0,0,S,A),this.renderer=I,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=M?P:null,this.context=M?P.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new T(0,0,S,A).setScene(w.game.scene.systemScene,!1),this.renderTarget=M?null:new c(I,S,A,1,0,!1,!1,!0,!1),this.pipeline=M?null:I.pipelines.get(f.SINGLE_PIPELINE),this.setSize(S,A)},setSize:function(y,w){void 0===w&&(w=y);var E=this.get(),S=E.source;if(y!==this.width||w!==this.height){this.canvas&&(this.canvas.width=y,this.canvas.height=w);var A=this.renderTarget;A&&(A.willResize(y,w)&&A.resize(y,w),A.texture!==S.glTexture&&this.renderer.deleteTexture(S.glTexture),this.setFromRenderTarget()),this.camera.setSize(y,w),S.width=y,S.height=w,E.setSize(y,w),this.width=y,this.height=w}else{var I=this.getSourceImage();E.cutX+y>I.width&&(y=I.width-E.cutX),E.cutY+w>I.height&&(w=I.height-E.cutY),E.setSize(y,w,E.cutX,E.cutY)}return this},setFromRenderTarget:function(){var w=this.get().source,E=this.renderTarget;return w.isRenderTexture=!0,w.isGLTexture=!0,w.glTexture=E.texture,this},setIsSpriteTexture:function(y){return this.isSpriteTexture=y,this},fill:function(y,w,E,S,A,I){var P=this.renderer;void 0===w&&(w=1),void 0===E&&(E=0),void 0===S&&(S=0),void 0===A&&(A=this.width),void 0===I&&(I=this.height);var O=y>>16&255,N=y>>8&255,L=255&y,G=this.renderTarget;if(this.camera.preRender(),G){G.bind(!0);var j=this.pipeline.manager.set(this.pipeline),z=P.width/G.width,Y=P.height/G.height;j.drawFillRect(E*z,(G.height-(S+I))*Y,A*z,I*Y,v.getTintFromFloats(L/255,N/255,O/255,1),w),G.unbind(!0)}else{var rt=this.context;P.setContext(rt),rt.globalCompositeOperation="source-over",rt.fillStyle="rgba("+O+","+N+","+L+","+w+")",rt.fillRect(E,S,A,I),P.setContext()}return this.dirty=!0,this},clear:function(y,w,E,S){if(this.dirty){var A=this.context,I=this.renderTarget;I?I.clear(y,w,E,S):A&&(void 0!==y&&void 0!==w&&void 0!==E&&void 0!==S?A.clearRect(y,w,E,S):(A.save(),A.setTransform(1,0,0,1,0,0),A.clearRect(0,0,this.width,this.height),A.restore())),this.dirty=!1}return this},stamp:function(y,w,E,S,A){void 0===E&&(E=0),void 0===S&&(S=0);var I=d(A,"alpha",1),M=d(A,"tint",16777215),P=d(A,"angle",0),O=d(A,"rotation",0),N=d(A,"scale",1),L=d(A,"scaleX",N),G=d(A,"scaleY",N),j=d(A,"originX",.5),z=d(A,"originY",.5),Y=d(A,"blendMode",0),Z=d(A,"erase",!1),rt=d(A,"skipBatch",!1),st=this.manager.resetStamp(I,M);return st.setAngle(0),0!==P?st.setAngle(P):0!==O&&st.setRotation(O),st.setScale(L,G),st.setTexture(y,w),st.setOrigin(j,z),st.setBlendMode(Y),Z&&(this._eraseMode=!0),rt?this.batchGameObject(st,E,S):this.draw(st,E,S),Z&&(this._eraseMode=!1),this},erase:function(y,w,E){return this._eraseMode=!0,this.draw(y,w,E),this._eraseMode=!1,this},draw:function(y,w,E,S,A){return this.beginDraw(),this.batchDraw(y,w,E,S,A),this.endDraw(),this},drawFrame:function(y,w,E,S,A,I){return this.beginDraw(),this.batchDrawFrame(y,w,E,S,A,I),this.endDraw(),this},repeat:function(y,w,E,S,A,I,M,P,O){if(void 0===E&&(E=0),void 0===S&&(S=0),void 0===A&&(A=this.width),void 0===I&&(I=this.height),void 0===M&&(M=1),void 0===P&&(P=16777215),void 0===O&&(O=!1),!(w=y instanceof l?y:this.manager.getFrame(y,w)))return this;var N=this.manager.resetStamp(M,P);N.setFrame(w),N.setOrigin(0);var L=w.width,G=w.height;A=Math.floor(A),I=Math.floor(I);var j=Math.ceil(A/L),z=Math.ceil(I/G),Y=j*L-A,Z=z*G-I;Y>0&&(Y=L-Y),Z>0&&(Z=G-Z),E<0&&(j+=Math.ceil(Math.abs(E)/L)),S<0&&(z+=Math.ceil(Math.abs(S)/G));var rt=E,st=S,K=!1,tt=this.manager.stampCrop.setTo(0,0,L,G);O||this.beginDraw();for(var W=0;W<z;W++)if(st+G<0)st+=G;else{for(var H=0;H<j;H++)K=!1,rt+L<0||(rt<0&&(K=!0,tt.width=L+rt,tt.x=L-tt.width),st<0&&(K=!0,tt.height=G+st,tt.y=G-tt.height),Y>0&&H===j-1&&(K=!0,tt.width=Y),Z>0&&W===z-1&&(K=!0,tt.height=Z),K&&N.setCrop(tt),this.batchGameObject(N,rt,st),N.isCropped=!1,tt.setTo(0,0,L,G)),rt+=L;rt=E,st+=G}return O||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var w=this.renderer,E=this.renderTarget;this.camera.preRender(),E?w.beginCapture(E.width,E.height):w.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(y,w,E,S,A){return Array.isArray(y)||(y=[y]),this.batchList(y,w,E,S,A),this},batchDrawFrame:function(y,w,E,S,A,I){void 0===E&&(E=0),void 0===S&&(S=0),void 0===A&&(A=1),void 0===I&&(I=16777215);var M=this.manager.getFrame(y,w);return M&&(this.renderTarget?this.pipeline.batchTextureFrame(M,E,S,I,A,this.camera.matrix,null):this.batchTextureFrame(M,E,S,A,I)),this},endDraw:function(y){if(void 0===y&&(y=this._eraseMode),this.isDrawing){var w=this.renderer,E=this.renderTarget;if(E){var S=w.endCapture();w.pipelines.setUtility().blitFrame(S,E,1,!1,!1,y,this.isSpriteTexture),w.resetScissor(),w.resetViewport()}else w.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(y,w,E,S,A){var I=y.length;if(0!==I)for(var M=0;M<I;M++){var P=y[M];!P||P===this||(P.renderWebGL||P.renderCanvas?this.batchGameObject(P,w,E):P.isParent||P.list?this.batchGroup(P.getChildren(),w,E):"string"==typeof P?this.batchTextureFrameKey(P,null,w,E,S,A):P instanceof l?this.batchTextureFrame(P,w,E,S,A):Array.isArray(P)&&this.batchList(P,w,E,S,A))}},batchGroup:function(y,w,E){void 0===w&&(w=0),void 0===E&&(E=0);for(var S=0;S<y.length;S++){var A=y[S];A.willRender(this.camera)&&this.batchGameObject(A,A.x+w,A.y+E)}},batchGameObject:function(y,w,E){void 0===w&&(w=y.x),void 0===E&&(E=y.y);var S=y.x,A=y.y,I=this.camera,M=this.renderer,P=this._eraseMode,O=y.mask;if(y.setPosition(w,E),this.canvas){if(P){var N=y.blendMode;y.blendMode=b.ERASE}O&&O.preRenderCanvas(M,y,I),y.renderCanvas(M,y,I,null),O&&O.postRenderCanvas(M,y,I),P&&(y.blendMode=N)}else M&&(O&&O.preRenderWebGL(M,y,I),P||M.setBlendMode(y.blendMode),y.renderWebGL(M,y,I),O&&O.postRenderWebGL(M,I,this.renderTarget));y.setPosition(S,A)},batchTextureFrameKey:function(y,w,E,S,A,I){var M=this.manager.getFrame(y,w);M&&this.batchTextureFrame(M,E,S,A,I)},batchTextureFrame:function(y,w,E,S,A){void 0===w&&(w=0),void 0===E&&(E=0),void 0===S&&(S=1),void 0===A&&(A=16777215);var I=this.camera.matrix;if(this.renderTarget)this.pipeline.batchTextureFrame(y,w,E,A,S,I,null);else{var P=this.context,O=y.canvasData,N=y.source.image;P.save(),P.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",P.globalAlpha=S,I.setToContext(P),O.width>0&&O.height>0&&P.drawImage(N,O.x,O.y,O.width,O.height,w,E,O.width,O.height),P.restore()}},snapshotArea:function(y,w,E,S,A,I,M){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,A,!1,y,w,E,S,I,M):this.renderer.snapshotCanvas(this.canvas,A,!1,y,w,E,S,I,M),this},snapshot:function(y,w,E){return this.snapshotArea(0,0,this.width,this.height,y,w,E)},snapshotPixel:function(y,w,E){return this.snapshotArea(y,w,1,1,E,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(y,w,E,S){var A=this.manager.resetStamp();A.setTexture(this),A.setOrigin(0),A.renderWebGL(y,A,E,S)},renderCanvas:function(){},destroy:function(){var y=this.manager.stamp;y&&y.texture===this&&this.manager.resetStamp(),m.prototype.destroy.call(this),g.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});_.exports=x},4327:(_,k,a)=>{var b=a(83419),T=a(45319),g=a(79291),h=new b({initialize:function(l,d,f,c,m,v,x){this.texture=l,this.name=d,this.source=l.source[f],this.sourceIndex=f,this.x=0,this.y=0,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(v,x,c,m)},setCutPosition:function(u,l){return void 0===u&&(u=0),void 0===l&&(l=0),this.cutX=u,this.cutY=l,this.updateUVs()},setCutSize:function(u,l){return this.cutWidth=u,this.cutHeight=l,this.updateUVs()},setSize:function(u,l,d,f){void 0===d&&(d=0),void 0===f&&(f=0),this.setCutPosition(d,f),this.setCutSize(u,l),this.width=u,this.height=l,this.halfWidth=Math.floor(.5*u),this.halfHeight=Math.floor(.5*l),this.centerX=Math.floor(u/2),this.centerY=Math.floor(l/2);var c=this.data,m=c.cut;m.x=d,m.y=f,m.w=u,m.h=l,m.r=d+u,m.b=f+l,c.sourceSize.w=u,c.sourceSize.h=l,c.spriteSourceSize.w=u,c.spriteSourceSize.h=l,c.radius=.5*Math.sqrt(u*u+l*l);var v=c.drawImage;return v.x=d,v.y=f,v.width=u,v.height=l,this.updateUVs()},setTrim:function(u,l,d,f,c,m){var v=this.data,x=v.spriteSourceSize;return v.trim=!0,v.sourceSize.w=u,v.sourceSize.h=l,x.x=d,x.y=f,x.w=c,x.h=m,x.r=d+c,x.b=f+m,this.x=d,this.y=f,this.width=c,this.height=m,this.halfWidth=.5*c,this.halfHeight=.5*m,this.centerX=Math.floor(c/2),this.centerY=Math.floor(m/2),this.updateUVs()},setScale9:function(u,l,d,f){var c=this.data;return c.scale9=!0,c.is3Slice=0===l&&f===this.height,c.scale9Borders.x=u,c.scale9Borders.y=l,c.scale9Borders.w=d,c.scale9Borders.h=f,this},setCropUVs:function(u,l,d,f,c,m,v){var x=this.cutX,y=this.cutY,w=this.cutWidth,E=this.cutHeight,S=this.realWidth,A=this.realHeight,I=x+(l=T(l,0,S)),M=y+(d=T(d,0,A)),P=f=T(f,0,S-l),O=c=T(c,0,A-d),N=this.data;if(N.trim){var L=N.spriteSourceSize,G=l+(f=T(f,0,w-l)),j=d+(c=T(c,0,E-d));if(L.r<l||L.b<d||L.x>G||L.y>j)I=0,M=0,P=0,O=0;else{var Y=Math.max(L.x,l),Z=Math.max(L.y,d),rt=Math.min(L.r,G)-Y,st=Math.min(L.b,j)-Z;P=rt,O=st,I=m?x+(w-(Y-L.x)-rt):x+(Y-L.x),M=v?y+(E-(Z-L.y)-st):y+(Z-L.y),l=Y,d=Z,f=rt,c=st}}else m&&(I=x+(w-l-f)),v&&(M=y+(E-d-c));var K=this.source.width,tt=this.source.height;return u.u0=Math.max(0,I/K),u.v0=Math.max(0,M/tt),u.u1=Math.min(1,(I+P)/K),u.v1=Math.min(1,(M+O)/tt),u.x=l,u.y=d,u.cx=I,u.cy=M,u.cw=P,u.ch=O,u.width=f,u.height=c,u.flipX=m,u.flipY=v,u},updateCropUVs:function(u,l,d){return this.setCropUVs(u,u.x,u.y,u.width,u.height,l,d)},setUVs:function(u,l,d,f,c,m){var v=this.data.drawImage;return v.width=u,v.height=l,this.u0=d,this.v0=f,this.u1=c,this.v1=m,this},updateUVs:function(){var u=this.cutX,l=this.cutY,d=this.cutWidth,f=this.cutHeight,c=this.data.drawImage;c.width=d,c.height=f;var m=this.source.width,v=this.source.height;return this.u0=u/m,this.v0=l/v,this.u1=(u+d)/m,this.v1=(l+f)/v,this},updateUVsInverted:function(){var u=this.source.width,l=this.source.height;return this.u0=(this.cutX+this.cutHeight)/u,this.v0=this.cutY/l,this.u1=this.cutX/u,this.v1=(this.cutY+this.cutWidth)/l,this},clone:function(){var u=new h(this.texture,this.name,this.sourceIndex);return u.cutX=this.cutX,u.cutY=this.cutY,u.cutWidth=this.cutWidth,u.cutHeight=this.cutHeight,u.x=this.x,u.y=this.y,u.width=this.width,u.height=this.height,u.halfWidth=this.halfWidth,u.halfHeight=this.halfHeight,u.centerX=this.centerX,u.centerY=this.centerY,u.rotated=this.rotated,u.data=g(!0,u.data,this.data),u.updateUVs(),u},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});_.exports=h},79237:(_,k,a)=>{var b=a(83419),T=a(4327),g=a(11876),h='Texture "%s" has no frame "%s"',u=new b({initialize:function(d,f,c,m,v){Array.isArray(c)||(c=[c]),this.manager=d,this.key=f,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var x=0;x<c.length;x++)this.source.push(new g(this,c[x],m,v))},add:function(l,d,f,c,m,v){if(this.has(l))return null;var x=new T(this,l,d,f,c,m,v);return this.frames[l]=x,"__BASE"===this.firstFrame&&(this.firstFrame=l),this.frameTotal++,x},remove:function(l){return!!this.has(l)&&(this.get(l).destroy(),delete this.frames[l],!0)},has:function(l){return this.frames.hasOwnProperty(l)},get:function(l){l||(l=this.firstFrame);var d=this.frames[l];return d||(console.warn(h,this.key,l),d=this.frames[this.firstFrame]),d},getTextureSourceIndex:function(l){for(var d=0;d<this.source.length;d++)if(this.source[d]===l)return d;return-1},getFramesFromTextureSource:function(l,d){void 0===d&&(d=!1);var f=[];for(var c in this.frames)if("__BASE"!==c||d){var m=this.frames[c];m.sourceIndex===l&&f.push(m)}return f},getFrameBounds:function(l){void 0===l&&(l=0);for(var d=this.getFramesFromTextureSource(l,!0),f=d[0],c=f.cutX,m=f.cutY,v=f.cutX+f.cutWidth,x=f.cutY+f.cutHeight,y=1;y<d.length;y++){var w=d[y];w.cutX<c&&(c=w.cutX),w.cutY<m&&(m=w.cutY),w.cutX+w.cutWidth>v&&(v=w.cutX+w.cutWidth),w.cutY+w.cutHeight>x&&(x=w.cutY+w.cutHeight)}return{x:c,y:m,width:v-c,height:x-m}},getFrameNames:function(l){void 0===l&&(l=!1);var d=Object.keys(this.frames);if(!l){var f=d.indexOf("__BASE");-1!==f&&d.splice(f,1)}return d},getSourceImage:function(l){(null==l||1===this.frameTotal)&&(l="__BASE");var d=this.frames[l];return d?d.source.image:(console.warn(h,this.key,l),this.frames.__BASE.source.image)},getDataSourceImage:function(l){(null==l||1===this.frameTotal)&&(l="__BASE");var f,d=this.frames[l];return d?f=d.sourceIndex:(console.warn(h,this.key,l),f=this.frames.__BASE.sourceIndex),this.dataSource[f].image},setDataSource:function(l){Array.isArray(l)||(l=[l]);for(var d=0;d<l.length;d++){var f=this.source[d];this.dataSource.push(new g(this,l[d],f.width,f.height))}},setFilter:function(l){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(l);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(l)},destroy:function(){var l,d=this.source,f=this.dataSource;for(l=0;l<d.length;l++)d[l]&&d[l].destroy();for(l=0;l<f.length;l++)f[l]&&f[l].destroy();for(var c in this.frames){var m=this.frames[c];m&&m.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});_.exports=u},17130:(_,k,a)=>{var b=a(27919),T=a(57382),g=a(83419),h=a(40987),u=a(8054),l=a(81320),d=a(50792),f=a(69442),c=a(4327),m=a(8443),v=a(99584),x=a(35154),y=a(88571),w=a(41212),E=a(61309),S=a(87841),A=a(79237),I=new g({Extends:d,initialize:function(P){d.call(this),this.game=P,this.name="TextureManager",this.list={},this._tempCanvas=b.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stampCrop=new S,this.silentWarnings=!1,P.events.once(m.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(f.LOAD,this.updatePending,this),this.on(f.ERROR,this.updatePending,this);var M=this.game.config;null!==M.defaultImage&&this.addBase64("__DEFAULT",M.defaultImage),null!==M.missingImage&&this.addBase64("__MISSING",M.missingImage),null!==M.whiteImage&&this.addBase64("__WHITE",M.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(m.DESTROY,this.destroy,this),this.game.events.once(m.SYSTEM_READY,function(P){this.stamp=new y(P).setOrigin(0)},this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(f.LOAD),this.off(f.ERROR),this.emit(f.READY))},checkKey:function(M){return!(!M||"string"!=typeof M||this.exists(M))||(this.silentWarnings||console.error("Texture key already in use: "+M),!1)},remove:function(M){if("string"==typeof M){if(!this.exists(M))return this.silentWarnings||console.warn("No texture found matching key: "+M),this;M=this.get(M)}var P=M.key;return this.list.hasOwnProperty(P)&&(M.destroy(),this.emit(f.REMOVE,P),this.emit(f.REMOVE_KEY+P)),this},removeKey:function(M){return this.list.hasOwnProperty(M)&&delete this.list[M],this},addBase64:function(M,P){if(this.checkKey(M)){var O=this,N=new Image;N.onerror=function(){O.emit(f.ERROR,M)},N.onload=function(){var L=O.create(M,N);E.Image(L,0),O.emit(f.ADD,M,L),O.emit(f.ADD_KEY+M,L),O.emit(f.LOAD,M,L)},N.src=P}return this},getBase64:function(M,P,O,N){void 0===O&&(O="image/png"),void 0===N&&(N=.92);var L="",G=this.getFrame(M,P);if(G&&(G.source.isRenderTexture||G.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(G){var j=G.canvasData,z=b.create2D(this,j.width,j.height),Y=z.getContext("2d",{willReadFrequently:!0});j.width>0&&j.height>0&&Y.drawImage(G.source.image,j.x,j.y,j.width,j.height,0,0,j.width,j.height),L=z.toDataURL(O,N),b.remove(z)}return L},addImage:function(M,P,O){var N=null;return this.checkKey(M)&&(N=this.create(M,P),E.Image(N,0),O&&N.setDataSource(O),this.emit(f.ADD,M,N),this.emit(f.ADD_KEY+M,N)),N},addGLTexture:function(M,P){var O=null;if(this.checkKey(M)){var N=P.width,L=P.height;(O=this.create(M,P,N,L)).add("__BASE",0,0,0,N,L),this.emit(f.ADD,M,O),this.emit(f.ADD_KEY+M,O)}return O},addCompressedTexture:function(M,P,O){var N=null;if(this.checkKey(M)){if((N=this.create(M,P)).add("__BASE",0,0,0,P.width,P.height),O){var L=function(j,z,Y){Array.isArray(Y.textures)||Array.isArray(Y.frames)?E.JSONArray(j,z,Y):E.JSONHash(j,z,Y)};if(Array.isArray(O))for(var G=0;G<O.length;G++)L(N,G,O[G]);else L(N,0,O)}this.emit(f.ADD,M,N),this.emit(f.ADD_KEY+M,N)}return N},addRenderTexture:function(M,P){var O=null;return this.checkKey(M)&&((O=this.create(M,P)).add("__BASE",0,0,0,P.width,P.height),this.emit(f.ADD,M,O),this.emit(f.ADD_KEY+M,O)),O},generate:function(M,P){if(this.checkKey(M)){var O=b.create(this,1,1);return P.canvas=O,v(P),this.addCanvas(M,O)}return null},createCanvas:function(M,P,O){if(void 0===P&&(P=256),void 0===O&&(O=256),this.checkKey(M)){var N=b.create(this,P,O,u.CANVAS,!0);return this.addCanvas(M,N)}return null},addCanvas:function(M,P,O){void 0===O&&(O=!1);var N=null;return O?N=new T(this,M,P,P.width,P.height):this.checkKey(M)&&(N=new T(this,M,P,P.width,P.height),this.list[M]=N,this.emit(f.ADD,M,N),this.emit(f.ADD_KEY+M,N)),N},addDynamicTexture:function(M,P,O){var N=null;return"string"!=typeof M||this.exists(M)?M=(N=M).key:N=new l(this,M,P,O),this.checkKey(M)?(this.list[M]=N,this.emit(f.ADD,M,N),this.emit(f.ADD_KEY+M,N)):N=null,N},addAtlas:function(M,P,O,N){return Array.isArray(O.textures)||Array.isArray(O.frames)?this.addAtlasJSONArray(M,P,O,N):this.addAtlasJSONHash(M,P,O,N)},addAtlasJSONArray:function(M,P,O,N){var L=null;if(P instanceof A?(M=P.key,L=P):this.checkKey(M)&&(L=this.create(M,P)),L){if(Array.isArray(O))for(var G=1===O.length,j=0;j<L.source.length;j++)E.JSONArray(L,j,G?O[0]:O[j]);else E.JSONArray(L,0,O);N&&L.setDataSource(N),this.emit(f.ADD,M,L),this.emit(f.ADD_KEY+M,L)}return L},addAtlasJSONHash:function(M,P,O,N){var L=null;if(P instanceof A?(M=P.key,L=P):this.checkKey(M)&&(L=this.create(M,P)),L){if(Array.isArray(O))for(var G=0;G<O.length;G++)E.JSONHash(L,G,O[G]);else E.JSONHash(L,0,O);N&&L.setDataSource(N),this.emit(f.ADD,M,L),this.emit(f.ADD_KEY+M,L)}return L},addAtlasXML:function(M,P,O,N){var L=null;return P instanceof A?(M=P.key,L=P):this.checkKey(M)&&(L=this.create(M,P)),L&&(E.AtlasXML(L,0,O),N&&L.setDataSource(N),this.emit(f.ADD,M,L),this.emit(f.ADD_KEY+M,L)),L},addUnityAtlas:function(M,P,O,N){var L=null;return P instanceof A?(M=P.key,L=P):this.checkKey(M)&&(L=this.create(M,P)),L&&(E.UnityYAML(L,0,O),N&&L.setDataSource(N),this.emit(f.ADD,M,L),this.emit(f.ADD_KEY+M,L)),L},addSpriteSheet:function(M,P,O,N){var L=null;return P instanceof A?(M=P.key,L=P):this.checkKey(M)&&(L=this.create(M,P)),L&&(E.SpriteSheet(L,0,0,0,L.source[0].width,L.source[0].height,O),N&&L.setDataSource(N),this.emit(f.ADD,M,L),this.emit(f.ADD_KEY+M,L)),L},addSpriteSheetFromAtlas:function(M,P){if(!this.checkKey(M))return null;var O=x(P,"atlas",null),N=x(P,"frame",null);if(O&&N){var G=this.get(O).get(N);if(G){var j=G.source.image;j||(j=G.source.glTexture);var z=this.create(M,j);return G.trimmed?E.SpriteSheetFromAtlas(z,G,P):E.SpriteSheet(z,0,G.cutX,G.cutY,G.cutWidth,G.cutHeight,P),this.emit(f.ADD,M,z),this.emit(f.ADD_KEY+M,z),z}}},addUint8Array:function(M,P,O,N){if(!this.checkKey(M)||P.length/4!=O*N)return null;var L=this.create(M,P,O,N);return L.add("__BASE",0,0,0,O,N),this.emit(f.ADD,M,L),this.emit(f.ADD_KEY+M,L),L},create:function(M,P,O,N){var L=null;return this.checkKey(M)&&(L=new A(this,M,P,O,N),this.list[M]=L),L},exists:function(M){return this.list.hasOwnProperty(M)},get:function(M){return void 0===M&&(M="__DEFAULT"),this.list[M]?this.list[M]:M instanceof A?M:M instanceof c?M.texture:this.list.__MISSING},cloneFrame:function(M,P){if(this.list[M])return this.list[M].get(P).clone()},getFrame:function(M,P){if(this.list[M])return this.list[M].get(P)},parseFrame:function(M){if(M)return"string"==typeof M?this.getFrame(M):Array.isArray(M)&&2===M.length?this.getFrame(M[0],M[1]):w(M)?this.getFrame(M.key,M.frame):M instanceof A?M.get():M instanceof c?M:void 0},getTextureKeys:function(){var M=[];for(var P in this.list)"__DEFAULT"!==P&&"__MISSING"!==P&&"__WHITE"!==P&&"__NORMAL"!==P&&M.push(P);return M},getPixel:function(M,P,O,N){var L=this.getFrame(O,N);if(L){M-=L.x,P-=L.y;var G=L.data.cut;if(P+=G.y,(M+=G.x)>=G.x&&M<G.r&&P>=G.y&&P<G.b){var j=this._tempContext;j.clearRect(0,0,1,1),j.drawImage(L.source.image,M,P,1,1,0,0,1,1);var z=j.getImageData(0,0,1,1);return new h(z.data[0],z.data[1],z.data[2],z.data[3])}}return null},getPixelAlpha:function(M,P,O,N){var L=this.getFrame(O,N);if(L){M-=L.x,P-=L.y;var G=L.data.cut;if(P+=G.y,(M+=G.x)>=G.x&&M<G.r&&P>=G.y&&P<G.b){var j=this._tempContext;return j.clearRect(0,0,1,1),j.drawImage(L.source.image,M,P,1,1,0,0,1,1),j.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(M,P,O){return this.list[P]&&(M.texture=this.list[P],M.frame=M.texture.get(O)),M},renameTexture:function(M,P){var O=this.get(M);return!(!O||M===P||(O.key=P,this.list[P]=O,delete this.list[M],0))},each:function(M,P){for(var O=[null],N=1;N<arguments.length;N++)O.push(arguments[N]);for(var L in this.list)O[0]=this.list[L],M.apply(P,O)},resetStamp:function(M,P){void 0===M&&(M=1),void 0===P&&(P=16777215);var O=this.stamp;return O.setCrop(),O.setPosition(0),O.setAngle(0),O.setScale(1),O.setAlpha(M),O.setTint(P),O.setTexture("__WHITE"),O},destroy:function(){for(var M in this.list)this.list[M].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,b.remove(this._tempCanvas)}});_.exports=I},11876:(_,k,a)=>{var b=a(27919),T=a(83419),g=a(50030),h=a(29795),u=a(82751),l=new T({initialize:function(f,c,m,v,x){void 0===x&&(x=!1);var y=f.manager.game;this.renderer=y.renderer,this.texture=f,this.source=c,this.image=c.compressed?null:c,this.compressionAlgorithm=c.compressed?c.format:null,this.resolution=1,this.width=m||c.naturalWidth||c.videoWidth||c.width||0,this.height=v||c.naturalHeight||c.videoHeight||c.height||0,this.scaleMode=h.DEFAULT,this.isCanvas=c instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&c instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===c.type||"DynamicTexture"===c.type,this.isGLTexture=c instanceof u,this.isPowerOf2=g(this.width,this.height),this.glTexture=null,this.flipY=x,this.init(y)},init:function(d){var f=this.renderer;if(f){var c=this.source;if(f.gl){var m=this.image,v=this.flipY,x=this.width,y=this.height,w=this.scaleMode;this.glTexture=this.isCanvas?f.createCanvasTexture(m,!1,v):this.isVideo?f.createVideoTexture(m,!1,v):this.isRenderTexture?f.createTextureFromSource(null,x,y,w):this.isGLTexture?c:this.compressionAlgorithm?f.createTextureFromSource(c,void 0,void 0,w):c instanceof Uint8Array?f.createUint8ArrayTexture(c,x,y,w):f.createTextureFromSource(m,x,y,w)}else this.isRenderTexture&&(this.image=c.canvas)}d.config.antialias||this.setFilter(1)},setFilter:function(d){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,d),this.scaleMode=d},setFlipY:function(d){return void 0===d&&(d=!0),d===this.flipY||(this.flipY=d,this.update()),this},update:function(){var d=this.renderer,f=this.image,c=this.flipY,m=d.gl;m&&this.isCanvas?d.updateCanvasTexture(f,this.glTexture,c):m&&this.isVideo&&d.updateVideoTexture(f,this.glTexture,c)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&b.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});_.exports=l},19673:_=>{_.exports={LINEAR:0,NEAREST:1}},44538:_=>{_.exports="addtexture"},63486:_=>{_.exports="addtexture-"},94851:_=>{_.exports="onerror"},29099:_=>{_.exports="onload"},8678:_=>{_.exports="ready"},86415:_=>{_.exports="removetexture"},30879:_=>{_.exports="removetexture-"},69442:(_,k,a)=>{_.exports={ADD:a(44538),ADD_KEY:a(63486),ERROR:a(94851),LOAD:a(29099),READY:a(8678),REMOVE:a(86415),REMOVE_KEY:a(30879)}},27458:(_,k,a)=>{var b=a(79291),T=a(19673),g={CanvasTexture:a(57382),DynamicTexture:a(81320),Events:a(69442),FilterMode:T,Frame:a(4327),Parsers:a(61309),Texture:a(79237),TextureManager:a(17130),TextureSource:a(11876)};g=b(!1,g,T),_.exports=g},89905:_=>{_.exports=function(a,b,T){if(T.getElementsByTagName("TextureAtlas")){var g=a.source[b];a.add("__BASE",b,0,0,g.width,g.height);for(var u,h=T.getElementsByTagName("SubTexture"),l=0;l<h.length;l++){var d=h[l].attributes,f=d.name.value,c=parseInt(d.x.value,10),m=parseInt(d.y.value,10),v=parseInt(d.width.value,10),x=parseInt(d.height.value,10);if(u=a.add(f,b,c,m,v,x),d.frameX){var y=Math.abs(parseInt(d.frameX.value,10)),w=Math.abs(parseInt(d.frameY.value,10)),E=parseInt(d.frameWidth.value,10),S=parseInt(d.frameHeight.value,10);u.setTrim(v,x,y,w,E,S)}}return a}console.warn("Invalid Texture Atlas XML given")}},72893:_=>{_.exports=function(a,b){var T=a.source[b];return a.add("__BASE",b,0,0,T.width,T.height),a}},4832:_=>{_.exports=function(a,b){var T=a.source[b];return a.add("__BASE",b,0,0,T.width,T.height),a}},78566:(_,k,a)=>{var b=a(41786);_.exports=function(g,h,u){if(u.frames||u.textures){var l=g.source[h];g.add("__BASE",h,0,0,l.width,l.height);for(var f,d=Array.isArray(u.textures)?u.textures[h].frames:u.frames,c=0;c<d.length;c++){var m=d[c];if(f=g.add(m.filename,h,m.frame.x,m.frame.y,m.frame.w,m.frame.h)){m.trimmed&&f.setTrim(m.sourceSize.w,m.sourceSize.h,m.spriteSourceSize.x,m.spriteSourceSize.y,m.spriteSourceSize.w,m.spriteSourceSize.h),m.rotated&&(f.rotated=!0,f.updateUVsInverted());var v=m.anchor||m.pivot;v&&(f.customPivot=!0,f.pivotX=v.x,f.pivotY=v.y),m.scale9Borders&&f.setScale9(m.scale9Borders.x,m.scale9Borders.y,m.scale9Borders.w,m.scale9Borders.h),f.customData=b(m)}else console.warn("Invalid atlas json, frame already exists: "+m.filename)}for(var x in u)"frames"!==x&&(g.customData[x]=Array.isArray(u[x])?u[x].slice(0):u[x]);return g}console.warn("Invalid Texture Atlas JSON Array")}},39711:(_,k,a)=>{var b=a(41786);_.exports=function(g,h,u){if(u.frames){var l=g.source[h];g.add("__BASE",h,0,0,l.width,l.height);var f,d=u.frames;for(var c in d)if(d.hasOwnProperty(c)){var m=d[c];if(!(f=g.add(c,h,m.frame.x,m.frame.y,m.frame.w,m.frame.h))){console.warn("Invalid atlas json, frame already exists: "+c);continue}m.trimmed&&f.setTrim(m.sourceSize.w,m.sourceSize.h,m.spriteSourceSize.x,m.spriteSourceSize.y,m.spriteSourceSize.w,m.spriteSourceSize.h),m.rotated&&(f.rotated=!0,f.updateUVsInverted());var v=m.anchor||m.pivot;v&&(f.customPivot=!0,f.pivotX=v.x,f.pivotY=v.y),m.scale9Borders&&f.setScale9(m.scale9Borders.x,m.scale9Borders.y,m.scale9Borders.w,m.scale9Borders.h),f.customData=b(m)}for(var x in u)"frames"!==x&&(g.customData[x]=Array.isArray(u[x])?u[x].slice(0):u[x]);return g}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},31403:_=>{_.exports=function(a){var T,b=[171,75,84,88,32,49,49,187,13,10,26,10],g=new Uint8Array(a,0,12);for(T=0;T<g.length;T++)if(g[T]!==b[T])return void console.warn("KTXParser - Invalid file format");var h=Uint32Array.BYTES_PER_ELEMENT,u=new DataView(a,12,13*h),l=67305985===u.getUint32(0,!0);if(0===u.getUint32(1*h,l)){var f=u.getUint32(4*h,l),c=u.getUint32(6*h,l),m=u.getUint32(7*h,l),v=Math.max(1,u.getUint32(11*h,l)),x=u.getUint32(12*h,l),y=new Array(v),w=64+x,E=c,S=m;for(T=0;T<v;T++){var A=new Int32Array(a,w,1)[0];w+=4,y[T]={data:new Uint8Array(a,w,A),width:E,height:S},E=Math.max(1,E>>1),S=Math.max(1,S>>1),w+=A}return{mipmaps:y,width:c,height:m,internalFormat:f,compressed:!0,generateMipmap:!1}}console.warn("KTXParser - Only compressed formats supported")}},82038:_=>{function k(P,O,N,L,G,j,z){return void 0===z&&(z=16),Math.floor((P+N)/G)*Math.floor((O+L)/j)*z}function a(P,O){return(P=Math.max(P,16))*(O=Math.max(O,8))/4}function b(P,O){return(P=Math.max(P,8))*(O=Math.max(O,8))/2}function T(P,O){return Math.ceil(P/4)*Math.ceil(O/4)*16}function g(P,O){return k(P,O,3,3,4,4,8)}function h(P,O){return k(P,O,3,3,4,4)}var I={0:{sizeFunc:a,glFormat:[35841]},1:{sizeFunc:a,glFormat:[35843]},2:{sizeFunc:b,glFormat:[35840]},3:{sizeFunc:b,glFormat:[35842]},6:{sizeFunc:g,glFormat:[36196]},7:{sizeFunc:g,glFormat:[33776,35916]},8:{sizeFunc:h,glFormat:[33777,35917]},9:{sizeFunc:h,glFormat:[33778,35918]},11:{sizeFunc:h,glFormat:[33779,35919]},14:{sizeFunc:T,glFormat:[36494,36495]},15:{sizeFunc:T,glFormat:[36492,36493]},22:{sizeFunc:g,glFormat:[37492,37493]},23:{sizeFunc:h,glFormat:[37496,37497]},24:{sizeFunc:g,glFormat:[37494,37495]},25:{sizeFunc:g,glFormat:[37488]},26:{sizeFunc:h,glFormat:[37490]},27:{sizeFunc:h,glFormat:[37808,37840]},28:{sizeFunc:function u(P,O){return k(P,O,4,3,5,4)},glFormat:[37809,37841]},29:{sizeFunc:function l(P,O){return k(P,O,4,4,5,5)},glFormat:[37810,37842]},30:{sizeFunc:function d(P,O){return k(P,O,5,4,6,5)},glFormat:[37811,37843]},31:{sizeFunc:function f(P,O){return k(P,O,5,5,6,6)},glFormat:[37812,37844]},32:{sizeFunc:function c(P,O){return k(P,O,7,4,8,5)},glFormat:[37813,37845]},33:{sizeFunc:function m(P,O){return k(P,O,7,5,8,6)},glFormat:[37814,37846]},34:{sizeFunc:function v(P,O){return k(P,O,7,7,8,8)},glFormat:[37815,37847]},35:{sizeFunc:function x(P,O){return k(P,O,9,4,10,5)},glFormat:[37816,37848]},36:{sizeFunc:function y(P,O){return k(P,O,9,5,10,6)},glFormat:[37817,37849]},37:{sizeFunc:function w(P,O){return k(P,O,9,7,10,8)},glFormat:[37818,37850]},38:{sizeFunc:function E(P,O){return k(P,O,9,9,10,10)},glFormat:[37819,37851]},39:{sizeFunc:function S(P,O){return k(P,O,11,9,12,10)},glFormat:[37820,37852]},40:{sizeFunc:function A(P,O){return k(P,O,11,11,12,12)},glFormat:[37821,37853]}};_.exports=function(P){for(var O=new Uint32Array(P,0,13),G=55727696===O[0]?O[2]:O[3],z=I[G].glFormat[O[4]],Y=I[G].sizeFunc,Z=O[11],rt=O[7],st=O[6],tt=new Uint8Array(P,52+O[12]),W=new Array(Z),H=0,it=rt,dt=st,mt=0;mt<Z;mt++){var vt=Y(it,dt);W[mt]={data:new Uint8Array(tt.buffer,tt.byteOffset+H,vt),width:it,height:dt},it=Math.max(1,it>>1),dt=Math.max(1,dt>>1),H+=vt}return{mipmaps:W,width:rt,height:st,internalFormat:z,compressed:!0,generateMipmap:!1}}},75549:(_,k,a)=>{var b=a(95540);_.exports=function(g,h,u,l,d,f,c){var m=b(c,"frameWidth",null),v=b(c,"frameHeight",m);if(null===m)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var x=g.source[h];g.add("__BASE",h,0,0,x.width,x.height);var y=b(c,"startFrame",0),w=b(c,"endFrame",-1),E=b(c,"margin",0),S=b(c,"spacing",0),M=Math.floor((d-E+S)/(m+S))*Math.floor((f-E+S)/(v+S));0===M&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",g.key),(y>M||y<-M)&&(y=0),y<0&&(y=M+y),(-1===w||w>M||w<y)&&(w=M);for(var P=E,O=E,N=0,L=0,G=0,j=0;j<M;j++){N=0,L=0;var z=P+m,Y=O+v;z>d&&(N=z-d),Y>f&&(L=Y-f),j>=y&&j<=w&&(g.add(G,h,u+P,l+O,m-N,v-L),G++),(P+=m+S)+m>d&&(P=E,O+=v+S)}return g}},47534:(_,k,a)=>{var b=a(95540);_.exports=function(g,h,u){var l=b(u,"frameWidth",null),d=b(u,"frameHeight",l);if(!l)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var f=g.source[0];g.add("__BASE",0,0,0,f.width,f.height);var c=b(u,"startFrame",0),m=b(u,"endFrame",-1),v=b(u,"margin",0),x=b(u,"spacing",0),y=h.cutX,w=h.cutY,E=h.cutWidth,S=h.cutHeight,A=h.realWidth,I=h.realHeight,M=Math.floor((A-v+x)/(l+x)),P=Math.floor((I-v+x)/(d+x)),O=M*P,N=h.x,L=l-N,G=l-(A-E-N),j=h.y,z=d-j,Y=d-(I-S-j);(c>O||c<-O)&&(c=0),c<0&&(c=O+c),-1!==m&&(O=c+(m+1));for(var Z,rt=v,st=v,K=0,W=0;W<P;W++){for(var H=0===W,it=W===P-1,dt=0;dt<M;dt++){var mt=0===dt,vt=dt===M-1;if(Z=g.add(K,0,y+rt,w+st,l,d),mt||H||vt||it){var Tt=mt?N:0,Nt=H?j:0,Yt=0,$t=0;mt&&(Yt+=l-L),vt&&(Yt+=l-G),H&&($t+=d-z),it&&($t+=d-Y);var Zt=l-Yt,ee=d-$t;Z.cutWidth=Zt,Z.cutHeight=ee,Z.setTrim(l,d,Tt,Nt,Zt,ee)}rt+=x,rt+=mt?L:vt?G:l,K++}rt=v,st+=x,st+=H?z:it?Y:d}return g}},86147:_=>{var k=0,a=function(T,g,h,u){T.add(h,g,u.x,k-u.y-u.height,u.width,u.height)};_.exports=function(T,g,h){var u=T.source[g];T.add("__BASE",g,0,0,u.width,u.height),k=u.height;for(var l=h.split("\n"),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,f="",c="",m={x:0,y:0,width:0,height:0},v=0;v<l.length;v++){var x=l[v].match(d);if(x){var w=x[2],E=x[3];if("- "===x[1]&&(c!==f&&(a(T,g,c,m),f=c),m={x:0,y:0,width:0,height:0}),"name"===w){c=E;continue}switch(w){case"x":case"y":case"width":case"height":m[w]=parseInt(E,10)}}}return c!==f&&a(T,g,c,m),T}},55222:(_,k,a)=>{var b=a(50030);function g(f){for(var c=f.mipmaps,m=0;m<c.length;m++){var v=c[m].width,x=c[m].height;if((v<<m)%4!=0||(x<<m)%4!=0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+m+" is "+v+"x"+x),!1}return!0}function h(){return!0}function u(f){var m=f.mipmaps[0];return!!b(m.width,m.height)||(console.warn("PVRTC base dimensions must be power of two. Base level is "+m.width+"x"+m.height),!1)}function l(f){var m=f.mipmaps[0];return m.width%4==0&&m.height%4==0||(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+m.width+"x"+m.height+" pixels"),!1)}var d={37488:h,37489:h,37490:h,37491:h,37492:h,37493:h,37494:h,37495:h,37496:h,37497:h,36196:h,37808:h,37809:h,37810:h,37811:h,37812:h,37813:h,37814:h,37815:h,37816:h,37817:h,37818:h,37819:h,37820:h,37821:h,37840:h,37841:h,37842:h,37843:h,37844:h,37845:h,37846:h,37847:h,37848:h,37849:h,37850:h,37851:h,37852:h,37853:h,36492:g,36493:g,36494:g,36495:g,36283:g,36284:g,36285:g,36286:g,35840:u,35841:u,35842:u,35843:u,33776:g,33777:g,33778:g,33779:g,35916:l,35917:l,35918:l,35919:l};_.exports=function(f){for(var c=f.mipmaps,m=1;m<c.length;m++){var v=c[m].width,x=c[m].height;if(!b(v,x))return console.warn("Mip level "+m+" is not a power-of-two size: "+v+"x"+x),!1}var y=d[f.internalFormat];return y?y(f):(console.warn("No format checker found for internal format "+f.internalFormat+". Assuming valid."),!0)}},61309:(_,k,a)=>{_.exports={AtlasXML:a(89905),Canvas:a(72893),Image:a(4832),JSONArray:a(78566),JSONHash:a(39711),KTXParser:a(31403),PVRParser:a(82038),SpriteSheet:a(75549),SpriteSheetFromAtlas:a(47534),UnityYAML:a(86147)}},80341:_=>{_.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(_,k,a)=>{var T=new(a(83419))({initialize:function(h,u,l,d,f,c,m){(void 0===l||l<=0)&&(l=32),(void 0===d||d<=0)&&(d=32),void 0===f&&(f=0),void 0===c&&(c=0),this.name=h,this.firstgid=0|u,this.imageWidth=0|l,this.imageHeight=0|d,this.imageMargin=0|f,this.imageSpacing=0|c,this.properties=m||{},this.images=[],this.total=0},containsImageIndex:function(g){return g>=this.firstgid&&g<this.firstgid+this.total},addImage:function(g,h){return this.images.push({gid:g,image:h}),this.total++,this}});_.exports=T},27462:(_,k,a)=>{var T=new(a(83419))({initialize:function(h){if(this.gids=[],void 0!==h)for(var u=0;u<h.length;++u)for(var l=h[u],d=0;d<l.total;++d)this.gids[l.firstgid+d]=l;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(g){this.gids=g?this._gids:void 0}},getTypeIncludingTile:function(g){if(void 0!==g.type&&""!==g.type)return g.type;if(this.gids&&void 0!==g.gid){var h=this.gids[g.gid];if(h){var u=h.getTileData(g.gid);if(u)return u.type}}},setTextureAndFrame:function(g,h,u,l){if(null===h&&this.gids&&void 0!==l.gid){var d=this.gids[l.gid];d&&(null===h&&void 0!==d.image&&(h=d.image.key),null===u&&(u=l.gid-d.firstgid),g.scene.textures.getFrame(h,u)||(h=null,u=null))}g.setTexture(h,u)},setPropertiesFromTiledObject:function(g,h){if(void 0!==this.gids&&void 0!==h.gid){var u=this.gids[h.gid];void 0!==u&&this.setFromJSON(g,u.getTileProperties(h.gid))}this.setFromJSON(g,h.properties)},setFromJSON:function(g,h){if(h){if(Array.isArray(h)){for(var u=0;u<h.length;u++){var l=h[u];void 0!==g[l.name]?g[l.name]=l.value:g.setData(l.name,l.value)}return}for(var d in h)void 0!==g[d]?g[d]=h[d]:g.setData(d,h[d])}}});_.exports=T},31989:(_,k,a)=>{var b=a(80341),T=a(87010),g=a(46177),h=a(49075);_.exports=function(l,d,f,c,m,v,x,y){void 0===f&&(f=32),void 0===c&&(c=32),void 0===m&&(m=10),void 0===v&&(v=10),void 0===y&&(y=!1);var w=null;if(Array.isArray(x))w=g(void 0!==d?d:"map",b.ARRAY_2D,x,f,c,y);else if(void 0!==d){var S=l.cache.tilemap.get(d);S?w=g(d,S.format,S.data,f,c,y):console.warn("No map data found for key "+d)}return null===w&&(w=new T({tileWidth:f,tileHeight:c,width:m,height:v})),new h(l,w)}},23029:(_,k,a)=>{var b=a(83419),T=a(31401),g=a(91907),h=a(62644),u=a(93232),l=new b({Mixins:[T.AlphaSingle,T.Flip,T.Visible],initialize:function(f,c,m,v,x,y,w,E){this.layer=f,this.index=c,this.x=m,this.y=v,this.width=x,this.height=y,this.baseWidth=void 0!==w?w:x,this.baseHeight=void 0!==E?E:y,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(d,f){return!(d<this.pixelX||f<this.pixelY||d>this.right||f>this.bottom)},copy:function(d){return this.index=d.index,this.alpha=d.alpha,this.properties=h(d.properties),this.visible=d.visible,this.setFlip(d.flipX,d.flipY),this.tint=d.tint,this.rotation=d.rotation,this.collideUp=d.collideUp,this.collideDown=d.collideDown,this.collideLeft=d.collideLeft,this.collideRight=d.collideRight,this.collisionCallback=d.collisionCallback,this.collisionCallbackContext=d.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(d){var f=this.tilemapLayer;return f?f.tileToWorldXY(this.x,this.y,void 0,d).x:this.x*this.baseWidth},getRight:function(d){var f=this.tilemapLayer;return f?this.getLeft(d)+this.width*f.scaleX:this.getLeft(d)+this.width},getTop:function(d){var f=this.tilemapLayer;return f?f.tileToWorldXY(this.x,this.y,void 0,d).y:this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(d){var f=this.tilemapLayer;return f?this.getTop(d)+this.height*f.scaleY:this.getTop(d)+this.height},getBounds:function(d,f){return void 0===f&&(f=new u),f.x=this.getLeft(d),f.y=this.getTop(d),f.width=this.getRight(d)-f.x,f.height=this.getBottom(d)-f.y,f},getCenterX:function(d){return(this.getLeft(d)+this.getRight(d))/2},getCenterY:function(d){return(this.getTop(d)+this.getBottom(d))/2},intersects:function(d,f,c,m){return!(c<=this.pixelX||m<=this.pixelY||d>=this.right||f>=this.bottom)},isInteresting:function(d,f){return d&&f?this.canCollide||this.hasInterestingFace:d?this.collides:!!f&&this.hasInterestingFace},resetCollision:function(d){return void 0===d&&(d=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,d&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(d,f,c,m,v){return void 0===f&&(f=d),void 0===c&&(c=d),void 0===m&&(m=d),void 0===v&&(v=!0),this.collideLeft=d,this.collideRight=f,this.collideUp=c,this.collideDown=m,this.faceLeft=d,this.faceRight=f,this.faceTop=c,this.faceBottom=m,v&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(d,f){return null===d?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=d,this.collisionCallbackContext=f),this},setSize:function(d,f,c,m){return void 0!==d&&(this.width=d),void 0!==f&&(this.height=f),void 0!==c&&(this.baseWidth=c),void 0!==m&&(this.baseHeight=m),this.updatePixelXY(),this},updatePixelXY:function(){var d=this.layer.orientation;if(d===g.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(d===g.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(d===g.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(d===g.HEXAGONAL){var x,f=this.layer.staggerAxis,c=this.layer.staggerIndex,m=this.layer.hexSideLength;"y"===f?(x=(this.baseHeight-m)/2+m,this.pixelX="odd"===c?this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*x):"x"===f&&(this.pixelX=this.x*((this.baseWidth-m)/2+m),this.pixelY="odd"===c?this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var d=this.layer.tilemapLayer;if(d){var f=d.gidMap[this.index];if(f)return f}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var d=this.tilemapLayer;return d?d.tilemap:null}}});_.exports=l},49075:(_,k,a)=>{var b=a(84101),T=a(83419),g=a(39506),h=a(80341),u=a(95540),l=a(14977),d=a(27462),f=a(91907),c=a(36305),m=a(19133),v=a(68287),x=a(23029),y=a(81086),w=a(20442),E=a(33629),S=new T({initialize:function(I,M){this.scene=I,this.tileWidth=M.tileWidth,this.tileHeight=M.tileHeight,this.width=M.width,this.height=M.height,this.orientation=M.orientation,this.renderOrder=M.renderOrder,this.format=M.format,this.version=M.version,this.properties=M.properties,this.widthInPixels=M.widthInPixels,this.heightInPixels=M.heightInPixels,this.imageCollections=M.imageCollections,this.images=M.images,this.layers=M.layers,this.tiles=M.tiles,this.tilesets=M.tilesets,this.objects=M.objects,this.currentLayerIndex=0,this.hexSideLength=M.hexSideLength;var P=this.orientation;this._convert={WorldToTileXY:y.GetWorldToTileXYFunction(P),WorldToTileX:y.GetWorldToTileXFunction(P),WorldToTileY:y.GetWorldToTileYFunction(P),TileToWorldXY:y.GetTileToWorldXYFunction(P),TileToWorldX:y.GetTileToWorldXFunction(P),TileToWorldY:y.GetTileToWorldYFunction(P),GetTileCorners:y.GetTileCornersFunction(P)}},setRenderOrder:function(A){var I=["right-down","left-down","right-up","left-up"];return"number"==typeof A&&(A=I[A]),I.indexOf(A)>-1&&(this.renderOrder=A),this},addTilesetImage:function(A,I,M,P,O,N,L,G){if(void 0===A)return null;null==I&&(I=A);var j=this.scene.sys.textures;if(!j.exists(I))return console.warn('Texture key "%s" not found',I),null;var z=j.get(I),Y=this.getTilesetIndex(A);if(null===Y&&this.format===h.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',A,this.tilesets),null;var Z=this.tilesets[Y];return Z?((M||P)&&Z.setTileSize(M,P),(O||N)&&Z.setSpacing(O,N),Z.setImage(z),Z):(void 0===M&&(M=this.tileWidth),void 0===P&&(P=this.tileHeight),void 0===O&&(O=0),void 0===N&&(N=0),void 0===L&&(L=0),void 0===G&&(G={x:0,y:0}),(Z=new E(A,L,M,P,O,N,void 0,void 0,G)).setImage(z),this.tilesets.push(Z),this.tiles=b(this),Z)},copy:function(A,I,M,P,O,N,L,G){return null!==(G=this.getLayer(G))?(y.Copy(A,I,M,P,O,N,L,G),this):null},createBlankLayer:function(A,I,M,P,O,N,L,G){if(void 0===M&&(M=0),void 0===P&&(P=0),void 0===O&&(O=this.width),void 0===N&&(N=this.height),void 0===L&&(L=this.tileWidth),void 0===G&&(G=this.tileHeight),null!==this.getLayerIndex(A))return console.warn("Invalid Tilemap Layer ID: "+A),null;for(var Y,z=new l({name:A,tileWidth:L,tileHeight:G,width:O,height:N,orientation:this.orientation}),Z=0;Z<N;Z++){Y=[];for(var rt=0;rt<O;rt++)Y.push(new x(z,-1,rt,Z,L,G,this.tileWidth,this.tileHeight));z.data.push(Y)}this.layers.push(z),this.currentLayerIndex=this.layers.length-1;var st=new w(this.scene,this,this.currentLayerIndex,I,M,P);return st.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(st),st},createLayer:function(A,I,M,P){var O=this.getLayerIndex(A);if(null===O)return console.warn("Invalid Tilemap Layer ID: "+A),"string"==typeof A&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var N=this.layers[O];if(N.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+A),null;this.currentLayerIndex=O,void 0===M&&(M=N.x),void 0===P&&(P=N.y);var L=new w(this.scene,this,O,I,M,P);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(A,I,M){void 0===M&&(M=!0);var P=[],O=this.getObjectLayer(A);if(!O)return console.warn("createFromObjects: Invalid objectLayerName given: "+A),P;var N=new d(M?this.tilesets:void 0);Array.isArray(I)||(I=[I]);for(var L=O.objects,G=0;G<I.length;G++){var j=I[G],z=u(j,"id",null),Y=u(j,"gid",null),Z=u(j,"name",null),rt=u(j,"type",null);N.enabled=!u(j,"ignoreTileset",null);for(var st,K=[],tt=0;tt<L.length;tt++)st=L[tt],(null===z&&null===Y&&null===Z&&null===rt||null!==z&&st.id===z||null!==Y&&st.gid===Y||null!==Z&&st.name===Z||null!==rt&&N.getTypeIncludingTile(st)===rt)&&K.push(st);for(var W=u(j,"classType",v),H=u(j,"scene",this.scene),it=u(j,"container",null),dt=u(j,"key",null),mt=u(j,"frame",null),vt=0;vt<K.length;vt++){st=K[vt];var Tt=new W(H);if(Tt.setName(st.name),Tt.setPosition(st.x,st.y),N.setTextureAndFrame(Tt,dt,mt,st),st.width&&(Tt.displayWidth=st.width),st.height&&(Tt.displayHeight=st.height),this.orientation===f.ISOMETRIC){var Yt={x:Tt.x-Tt.y,y:(Tt.x+Tt.y)/(this.tileWidth/this.tileHeight)};Tt.x=Yt.x,Tt.y=Yt.y}var $t={x:Tt.originX*st.width,y:(Tt.originY-(st.gid?1:0))*st.height};if(st.rotation){var Zt=g(st.rotation);c($t,Zt),Tt.rotation=Zt}Tt.x+=$t.x,Tt.y+=$t.y,(void 0!==st.flippedHorizontal||void 0!==st.flippedVertical)&&Tt.setFlip(st.flippedHorizontal,st.flippedVertical),st.visible||(Tt.visible=!1),N.setPropertiesFromTiledObject(Tt,st),it?it.add(Tt):H.add.existing(Tt),P.push(Tt)}}return P},createFromTiles:function(A,I,M,P,O,N){return null===(N=this.getLayer(N))?null:y.CreateFromTiles(A,I,M,P,O,N)},fill:function(A,I,M,P,O,N,L){return void 0===N&&(N=!0),null===(L=this.getLayer(L))?null:(y.Fill(A,I,M,P,O,N,L),this)},filterObjects:function(A,I,M){if("string"==typeof A){var P=A;if(!(A=this.getObjectLayer(A)))return console.warn("No object layer found with the name: "+P),null}return A.objects.filter(I,M)},filterTiles:function(A,I,M,P,O,N,L,G){return null===(G=this.getLayer(G))?null:y.FilterTiles(A,I,M,P,O,N,L,G)},findByIndex:function(A,I,M,P){return null===(P=this.getLayer(P))?null:y.FindByIndex(A,I,M,P)},findObject:function(A,I,M){if("string"==typeof A){var P=A;if(!(A=this.getObjectLayer(A)))return console.warn("No object layer found with the name: "+P),null}return A.objects.find(I,M)||null},findTile:function(A,I,M,P,O,N,L,G){return null===(G=this.getLayer(G))?null:y.FindTile(A,I,M,P,O,N,L,G)},forEachTile:function(A,I,M,P,O,N,L,G){return null===(G=this.getLayer(G))?null:(y.ForEachTile(A,I,M,P,O,N,L,G),this)},getImageIndex:function(A){return this.getIndex(this.images,A)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(A){return A.name}):[]},getIndex:function(A,I){for(var M=0;M<A.length;M++)if(A[M].name===I)return M;return null},getLayer:function(A){var I=this.getLayerIndex(A);return null!==I?this.layers[I]:null},getObjectLayer:function(A){var I=this.getIndex(this.objects,A);return null!==I?this.objects[I]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(A){return A.name}):[]},getLayerIndex:function(A){return void 0===A?this.currentLayerIndex:"string"==typeof A?this.getLayerIndexByName(A):"number"==typeof A&&A<this.layers.length?A:A instanceof w&&A.tilemap===this?A.layerIndex:null},getLayerIndexByName:function(A){return this.getIndex(this.layers,A)},getTileAt:function(A,I,M,P){return null===(P=this.getLayer(P))?null:y.GetTileAt(A,I,M,P)},getTileAtWorldXY:function(A,I,M,P,O){return null===(O=this.getLayer(O))?null:y.GetTileAtWorldXY(A,I,M,P,O)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(A){return A.name}):[]},getTilesWithin:function(A,I,M,P,O,N){return null===(N=this.getLayer(N))?null:y.GetTilesWithin(A,I,M,P,O,N)},getTilesWithinShape:function(A,I,M,P){return null===(P=this.getLayer(P))?null:y.GetTilesWithinShape(A,I,M,P)},getTilesWithinWorldXY:function(A,I,M,P,O,N,L){return null===(L=this.getLayer(L))?null:y.GetTilesWithinWorldXY(A,I,M,P,O,N,L)},getTileset:function(A){var I=this.getIndex(this.tilesets,A);return null!==I?this.tilesets[I]:null},getTilesetIndex:function(A){return this.getIndex(this.tilesets,A)},hasTileAt:function(A,I,M){return null===(M=this.getLayer(M))?null:y.HasTileAt(A,I,M)},hasTileAtWorldXY:function(A,I,M,P){return null===(P=this.getLayer(P))?null:y.HasTileAtWorldXY(A,I,M,P)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(A){this.setLayer(A)}},putTileAt:function(A,I,M,P,O){return void 0===P&&(P=!0),null===(O=this.getLayer(O))?null:y.PutTileAt(A,I,M,P,O)},putTileAtWorldXY:function(A,I,M,P,O,N){return void 0===P&&(P=!0),null===(N=this.getLayer(N))?null:y.PutTileAtWorldXY(A,I,M,P,O,N)},putTilesAt:function(A,I,M,P,O){return void 0===P&&(P=!0),null===(O=this.getLayer(O))?null:(y.PutTilesAt(A,I,M,P,O),this)},randomize:function(A,I,M,P,O,N){return null===(N=this.getLayer(N))?null:(y.Randomize(A,I,M,P,O,N),this)},calculateFacesAt:function(A,I,M){return null===(M=this.getLayer(M))?null:(y.CalculateFacesAt(A,I,M),this)},calculateFacesWithin:function(A,I,M,P,O){return null===(O=this.getLayer(O))?null:(y.CalculateFacesWithin(A,I,M,P,O),this)},removeLayer:function(A){var I=this.getLayerIndex(A);if(null!==I){m(this.layers,I);for(var M=I;M<this.layers.length;M++)this.layers[M].tilemapLayer&&this.layers[M].tilemapLayer.layerIndex--;return this.currentLayerIndex===I&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(A){var I=this.getLayerIndex(A);return null!==I?((A=this.layers[I]).tilemapLayer.destroy(),m(this.layers,I),this.currentLayerIndex===I&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var A=this.layers,I=0;I<A.length;I++)A[I].tilemapLayer&&A[I].tilemapLayer.destroy(!1);return A.length=0,this.currentLayerIndex=0,this},removeTile:function(A,I,M){void 0===I&&(I=-1),void 0===M&&(M=!0);var P=[];Array.isArray(A)||(A=[A]);for(var O=0;O<A.length;O++){var N=A[O];P.push(this.removeTileAt(N.x,N.y,!0,M,N.tilemapLayer)),I>-1&&this.putTileAt(I,N.x,N.y,M,N.tilemapLayer)}return P},removeTileAt:function(A,I,M,P,O){return void 0===M&&(M=!0),void 0===P&&(P=!0),null===(O=this.getLayer(O))?null:y.RemoveTileAt(A,I,M,P,O)},removeTileAtWorldXY:function(A,I,M,P,O,N){return void 0===M&&(M=!0),void 0===P&&(P=!0),null===(N=this.getLayer(N))?null:y.RemoveTileAtWorldXY(A,I,M,P,O,N)},renderDebug:function(A,I,M){return null===(M=this.getLayer(M))?null:(this.orientation===f.ORTHOGONAL&&y.RenderDebug(A,I,M),this)},renderDebugFull:function(A,I){for(var M=this.layers,P=0;P<M.length;P++)y.RenderDebug(A,I,M[P]);return this},replaceByIndex:function(A,I,M,P,O,N,L){return null===(L=this.getLayer(L))?null:(y.ReplaceByIndex(A,I,M,P,O,N,L),this)},setCollision:function(A,I,M,P,O){return void 0===I&&(I=!0),void 0===M&&(M=!0),void 0===O&&(O=!0),null===(P=this.getLayer(P))?null:(y.SetCollision(A,I,M,P,O),this)},setCollisionBetween:function(A,I,M,P,O){return void 0===M&&(M=!0),void 0===P&&(P=!0),null===(O=this.getLayer(O))?null:(y.SetCollisionBetween(A,I,M,P,O),this)},setCollisionByProperty:function(A,I,M,P){return void 0===I&&(I=!0),void 0===M&&(M=!0),null===(P=this.getLayer(P))?null:(y.SetCollisionByProperty(A,I,M,P),this)},setCollisionByExclusion:function(A,I,M,P){return void 0===I&&(I=!0),void 0===M&&(M=!0),null===(P=this.getLayer(P))?null:(y.SetCollisionByExclusion(A,I,M,P),this)},setCollisionFromCollisionGroup:function(A,I,M){return void 0===A&&(A=!0),void 0===I&&(I=!0),null===(M=this.getLayer(M))?null:(y.SetCollisionFromCollisionGroup(A,I,M),this)},setTileIndexCallback:function(A,I,M,P){return null===(P=this.getLayer(P))?null:(y.SetTileIndexCallback(A,I,M,P),this)},setTileLocationCallback:function(A,I,M,P,O,N,L){return null===(L=this.getLayer(L))?null:(y.SetTileLocationCallback(A,I,M,P,O,N,L),this)},setLayer:function(A){var I=this.getLayerIndex(A);return null!==I&&(this.currentLayerIndex=I),this},setBaseTileSize:function(A,I){this.tileWidth=A,this.tileHeight=I,this.widthInPixels=this.width*A,this.heightInPixels=this.height*I;for(var M=0;M<this.layers.length;M++){this.layers[M].baseTileWidth=A,this.layers[M].baseTileHeight=I;for(var P=this.layers[M].data,O=this.layers[M].width,N=this.layers[M].height,L=0;L<N;L++)for(var G=0;G<O;G++){var j=P[L][G];null!==j&&j.setSize(void 0,void 0,A,I)}}return this},setLayerTileSize:function(A,I,M){if(null===(M=this.getLayer(M)))return this;M.tileWidth=A,M.tileHeight=I;for(var P=M.data,O=M.width,N=M.height,L=0;L<N;L++)for(var G=0;G<O;G++){var j=P[L][G];null!==j&&j.setSize(A,I)}return this},shuffle:function(A,I,M,P,O){return null===(O=this.getLayer(O))?null:(y.Shuffle(A,I,M,P,O),this)},swapByIndex:function(A,I,M,P,O,N,L){return null===(L=this.getLayer(L))?null:(y.SwapByIndex(A,I,M,P,O,N,L),this)},tileToWorldX:function(A,I,M){return null===(M=this.getLayer(M))?null:this._convert.TileToWorldX(A,I,M)},tileToWorldY:function(A,I,M){return null===(M=this.getLayer(M))?null:this._convert.TileToWorldY(A,I,M)},tileToWorldXY:function(A,I,M,P,O){return null===(O=this.getLayer(O))?null:this._convert.TileToWorldXY(A,I,M,P,O)},getTileCorners:function(A,I,M,P){return null===(P=this.getLayer(P))?null:this._convert.GetTileCorners(A,I,M,P)},weightedRandomize:function(A,I,M,P,O,N){return null===(N=this.getLayer(N))?null:(y.WeightedRandomize(I,M,P,O,A,N),this)},worldToTileX:function(A,I,M,P){return null===(P=this.getLayer(P))?null:this._convert.WorldToTileX(A,I,M,P)},worldToTileY:function(A,I,M,P){return null===(P=this.getLayer(P))?null:this._convert.WorldToTileY(A,I,M,P)},worldToTileXY:function(A,I,M,P,O,N){return null===(N=this.getLayer(N))?null:this._convert.WorldToTileXY(A,I,M,P,O,N)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});_.exports=S},45939:(_,k,a)=>{var b=a(44603),T=a(31989);b.register("tilemap",function(g){var h=void 0!==g?g:{};return T(this.scene,h.key,h.tileWidth,h.tileHeight,h.width,h.height,h.data,h.insertNull)})},46029:(_,k,a)=>{var b=a(39429),T=a(31989);b.register("tilemap",function(g,h,u,l,d,f,c){return null===g&&(g=void 0),null===h&&(h=void 0),null===u&&(u=void 0),null===l&&(l=void 0),null===d&&(d=void 0),T(this.scene,g,h,u,l,d,f,c)})},20442:(_,k,a)=>{var b=a(83419),T=a(78389),g=a(31401),h=a(95643),u=a(81086),l=a(19218),d=a(26099),f=new b({Extends:h,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.Transform,g.Visible,g.ScrollFactor,T,l],initialize:function(m,v,x,y,w,E){h.call(this,m,"TilemapLayer"),this.isTilemap=!0,this.tilemap=v,this.layerIndex=x,this.layer=v.layers[x],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=u.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new d,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(y),this.setAlpha(this.layer.alpha),this.setPosition(w,E),this.setOrigin(0,0),this.setSize(v.tileWidth*this.layer.width,v.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(c){var m=[],v=[],x=this.tilemap;Array.isArray(c)||(c=[c]);for(var y=0;y<c.length;y++){var w=c[y];if("string"==typeof w&&(w=x.getTileset(w)),w){v.push(w);for(var E=w.firstgid,S=0;S<w.total;S++)m[E+S]=w}}this.gidMap=m,this.tileset=v},setRenderOrder:function(c){return"string"==typeof c&&(c=["right-down","left-down","right-up","left-up"].indexOf(c)),c>=0&&c<4&&(this._renderOrder=c),this},calculateFacesAt:function(c,m){return u.CalculateFacesAt(c,m,this.layer),this},calculateFacesWithin:function(c,m,v,x){return u.CalculateFacesWithin(c,m,v,x,this.layer),this},createFromTiles:function(c,m,v,x,y){return u.CreateFromTiles(c,m,v,x,y,this.layer)},cull:function(c){return this.cullCallback(this.layer,c,this.culledTiles,this._renderOrder)},copy:function(c,m,v,x,y,w,E){return u.Copy(c,m,v,x,y,w,E,this.layer),this},fill:function(c,m,v,x,y,w){return u.Fill(c,m,v,x,y,w,this.layer),this},filterTiles:function(c,m,v,x,y,w,E){return u.FilterTiles(c,m,v,x,y,w,E,this.layer)},findByIndex:function(c,m,v){return u.FindByIndex(c,m,v,this.layer)},findTile:function(c,m,v,x,y,w,E){return u.FindTile(c,m,v,x,y,w,E,this.layer)},forEachTile:function(c,m,v,x,y,w,E){return u.ForEachTile(c,m,v,x,y,w,E,this.layer),this},setTint:function(c,m,v,x,y,w){return void 0===c&&(c=16777215),this.forEachTile(function(S){S.tint=c,S.tintFill=!1},this,m,v,x,y,w)},setTintFill:function(c,m,v,x,y,w){return void 0===c&&(c=16777215),this.forEachTile(function(S){S.tint=c,S.tintFill=!0},this,m,v,x,y,w)},getTileAt:function(c,m,v){return u.GetTileAt(c,m,v,this.layer)},getTileAtWorldXY:function(c,m,v,x){return u.GetTileAtWorldXY(c,m,v,x,this.layer)},getIsoTileAtWorldXY:function(c,m,v,x,y){void 0===v&&(v=!0);var w=this.tempVec;return u.IsometricWorldToTileXY(c,m,!0,w,y,this.layer,v),this.getTileAt(w.x,w.y,x)},getTilesWithin:function(c,m,v,x,y){return u.GetTilesWithin(c,m,v,x,y,this.layer)},getTilesWithinShape:function(c,m,v){return u.GetTilesWithinShape(c,m,v,this.layer)},getTilesWithinWorldXY:function(c,m,v,x,y,w){return u.GetTilesWithinWorldXY(c,m,v,x,y,w,this.layer)},hasTileAt:function(c,m){return u.HasTileAt(c,m,this.layer)},hasTileAtWorldXY:function(c,m,v){return u.HasTileAtWorldXY(c,m,v,this.layer)},putTileAt:function(c,m,v,x){return u.PutTileAt(c,m,v,x,this.layer)},putTileAtWorldXY:function(c,m,v,x,y){return u.PutTileAtWorldXY(c,m,v,x,y,this.layer)},putTilesAt:function(c,m,v,x){return u.PutTilesAt(c,m,v,x,this.layer),this},randomize:function(c,m,v,x,y){return u.Randomize(c,m,v,x,y,this.layer),this},removeTileAt:function(c,m,v,x){return u.RemoveTileAt(c,m,v,x,this.layer)},removeTileAtWorldXY:function(c,m,v,x,y){return u.RemoveTileAtWorldXY(c,m,v,x,y,this.layer)},renderDebug:function(c,m){return u.RenderDebug(c,m,this.layer),this},replaceByIndex:function(c,m,v,x,y,w){return u.ReplaceByIndex(c,m,v,x,y,w,this.layer),this},setSkipCull:function(c){return void 0===c&&(c=!0),this.skipCull=c,this},setCullPadding:function(c,m){return void 0===c&&(c=1),void 0===m&&(m=1),this.cullPaddingX=c,this.cullPaddingY=m,this},setCollision:function(c,m,v,x){return u.SetCollision(c,m,v,this.layer,x),this},setCollisionBetween:function(c,m,v,x){return u.SetCollisionBetween(c,m,v,x,this.layer),this},setCollisionByProperty:function(c,m,v){return u.SetCollisionByProperty(c,m,v,this.layer),this},setCollisionByExclusion:function(c,m,v){return u.SetCollisionByExclusion(c,m,v,this.layer),this},setCollisionFromCollisionGroup:function(c,m){return u.SetCollisionFromCollisionGroup(c,m,this.layer),this},setTileIndexCallback:function(c,m,v){return u.SetTileIndexCallback(c,m,v,this.layer),this},setTileLocationCallback:function(c,m,v,x,y,w){return u.SetTileLocationCallback(c,m,v,x,y,w,this.layer),this},shuffle:function(c,m,v,x){return u.Shuffle(c,m,v,x,this.layer),this},swapByIndex:function(c,m,v,x,y,w){return u.SwapByIndex(c,m,v,x,y,w,this.layer),this},tileToWorldX:function(c,m){return this.tilemap.tileToWorldX(c,m,this)},tileToWorldY:function(c,m){return this.tilemap.tileToWorldY(c,m,this)},tileToWorldXY:function(c,m,v,x){return this.tilemap.tileToWorldXY(c,m,v,x,this)},getTileCorners:function(c,m,v){return this.tilemap.getTileCorners(c,m,v,this)},weightedRandomize:function(c,m,v,x,y){return u.WeightedRandomize(m,v,x,y,c,this.layer),this},worldToTileX:function(c,m,v){return this.tilemap.worldToTileX(c,m,v,this)},worldToTileY:function(c,m,v){return this.tilemap.worldToTileY(c,m,v,this)},worldToTileXY:function(c,m,v,x,y){return this.tilemap.worldToTileXY(c,m,v,x,y,this)},destroy:function(c){void 0===c&&(c=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),c&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],h.prototype.destroy.call(this))}});_.exports=f},16153:(_,k,a)=>{var b=a(61340),T=new b,g=new b,h=new b;_.exports=function(l,d,f,c){var m=d.cull(f),v=m.length,x=f.alpha*d.alpha;if(!(0===v||x<=0)){var y=T,w=g,E=h;w.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),y.copyFrom(f.matrix);var S=l.currentContext,A=d.gidMap;S.save(),c?(y.multiplyWithOffset(c,-f.scrollX*d.scrollFactorX,-f.scrollY*d.scrollFactorY),w.e=d.x,w.f=d.y,y.multiply(w,E),E.copyToContext(S)):(w.e-=f.scrollX*d.scrollFactorX,w.f-=f.scrollY*d.scrollFactorY,w.copyToContext(S)),(!l.antialias||d.scaleX>1||d.scaleY>1)&&(S.imageSmoothingEnabled=!1);for(var I=0;I<v;I++){var M=m[I],P=A[M.index];if(P){var O=P.image.getSourceImage(),N=P.getTileTextureCoordinates(M.index),L=P.tileWidth,G=P.tileHeight;if(null!==N&&0!==L&&0!==G){var j=.5*L,z=.5*G;N.x+=P.tileOffset.x,N.y+=P.tileOffset.y,S.save(),S.translate(M.pixelX+j,M.pixelY+z),0!==M.rotation&&S.rotate(M.rotation),(M.flipX||M.flipY)&&S.scale(M.flipX?-1:1,M.flipY?-1:1),S.globalAlpha=x*M.alpha,S.drawImage(O,N.x,N.y,L,G,-j,-z,L,G),S.restore()}}}S.restore()}}},19218:(_,k,a)=>{var T,g;a(29747),T=a(99558),g=a(16153),_.exports={renderWebGL:T,renderCanvas:g}},99558:(_,k,a)=>{var b=a(70554);_.exports=function(g,h,u){var l=h.cull(u),d=l.length,f=u.alpha*h.alpha;if(!(0===d||f<=0)){var c=h.gidMap,m=g.pipelines.set(h.pipeline,h),v=b.getTintAppendFloatAlpha,x=h.scrollFactorX,y=h.scrollFactorY,w=h.x,E=h.y,S=h.scaleX,A=h.scaleY;g.pipelines.preBatch(h);for(var I=0;I<d;I++){var M=l[I],P=c[M.index];if(P){var O=P.getTileTextureCoordinates(M.index),N=P.tileWidth,L=P.tileHeight;if(O&&0!==N&&0!==L){var G=.5*N,j=.5*L,z=P.glTexture,Y=m.setTexture2D(z,h),Z=N,rt=L,st=O.x,K=O.y,tt=P.tileOffset.x,W=P.tileOffset.y,H=v(M.tint,f*M.alpha);m.batchTexture(h,z,z.width,z.height,w+M.pixelX*S+(G*S-tt),E+M.pixelY*A+(j*A-W),N,L,S,A,M.rotation,M.flipX,M.flipY,x,y,G,j,st,K,Z,rt,H,H,H,H,M.tintFill,0,0,u,null,!0,Y,!0)}}}g.pipelines.postBatch(h)}}},33629:(_,k,a)=>{var b=a(83419),T=a(26099),g=new b({initialize:function(u,l,d,f,c,m,v,x,y){(void 0===d||d<=0)&&(d=32),(void 0===f||f<=0)&&(f=32),void 0===c&&(c=0),void 0===m&&(m=0),void 0===v&&(v={}),void 0===x&&(x={}),this.name=u,this.firstgid=l,this.tileWidth=d,this.tileHeight=f,this.tileMargin=c,this.tileSpacing=m,this.tileProperties=v,this.tileData=x,this.tileOffset=new T,void 0!==y&&this.tileOffset.set(y.x,y.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(h){return this.containsTileIndex(h)?this.tileProperties[h-this.firstgid]:null},getTileData:function(h){return this.containsTileIndex(h)?this.tileData[h-this.firstgid]:null},getTileCollisionGroup:function(h){var u=this.getTileData(h);return u&&u.objectgroup?u.objectgroup:null},containsTileIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},getTileTextureCoordinates:function(h){return this.containsTileIndex(h)?this.texCoordinates[h-this.firstgid]:null},setImage:function(h){this.image=h;var u=h.get(),l=h.getFrameBounds();return this.glTexture=u.source.glTexture,u.width>l.width||u.height>l.height?this.updateTileData(u.width,u.height):this.updateTileData(l.width,l.height,l.x,l.y),this},setTileSize:function(h,u){return void 0!==h&&(this.tileWidth=h),void 0!==u&&(this.tileHeight=u),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(h,u){return void 0!==h&&(this.tileMargin=h),void 0!==u&&(this.tileSpacing=u),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(h,u,l,d){void 0===l&&(l=0),void 0===d&&(d=0);var f=(u-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),c=(h-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(f%1!=0||c%1!=0)&&console.warn("Image tile area not tile size multiple in: "+this.name),f=Math.floor(f),c=Math.floor(c),this.rows=f,this.columns=c,this.total=f*c,this.texCoordinates.length=0;for(var m=this.tileMargin+l,v=this.tileMargin+d,x=0;x<this.rows;x++){for(var y=0;y<this.columns;y++)this.texCoordinates.push({x:m,y:v}),m+=this.tileWidth+this.tileSpacing;m=this.tileMargin+l,v+=this.tileHeight+this.tileSpacing}return this}});_.exports=g},72023:(_,k,a)=>{var b=a(7423);_.exports=function(g,h,u){var l=b(g,h,!0,u),d=b(g,h-1,!0,u),f=b(g,h+1,!0,u),c=b(g-1,h,!0,u),m=b(g+1,h,!0,u),v=l&&l.collides;return v&&(l.faceTop=!0,l.faceBottom=!0,l.faceLeft=!0,l.faceRight=!0),d&&d.collides&&(v&&(l.faceTop=!1),d.faceBottom=!v),f&&f.collides&&(v&&(l.faceBottom=!1),f.faceTop=!v),c&&c.collides&&(v&&(l.faceLeft=!1),c.faceRight=!v),m&&m.collides&&(v&&(l.faceRight=!1),m.faceLeft=!v),l&&!l.collides&&l.resetFaces(),l}},42573:(_,k,a)=>{var b=a(7423),T=a(7386);_.exports=function(h,u,l,d,f){for(var c=null,m=null,v=null,x=null,y=T(h,u,l,d,null,f),w=0;w<y.length;w++){var E=y[w];E&&(E.collides?(c=b(E.x,E.y-1,!0,f),m=b(E.x,E.y+1,!0,f),v=b(E.x-1,E.y,!0,f),x=b(E.x+1,E.y,!0,f),E.faceTop=!(c&&c.collides),E.faceBottom=!(m&&m.collides),E.faceLeft=!(v&&v.collides),E.faceRight=!(x&&x.collides)):E.resetFaces())}}},33528:(_,k,a)=>{var T=new(a(26099));_.exports=function(h,u,l,d){var f=l.tilemapLayer,c=f.cullPaddingX,m=f.cullPaddingY,v=f.tilemap.tileToWorldXY(h,u,T,d,f);return v.x>d.worldView.x+f.scaleX*l.tileWidth*(-c-.5)&&v.x<d.worldView.right+f.scaleX*l.tileWidth*(c-.5)&&v.y>d.worldView.y+f.scaleY*l.tileHeight*(-m-1)&&v.y<d.worldView.bottom+f.scaleY*l.tileHeight*(m-.5)}},1785:(_,k,a)=>{var b=a(42573),T=a(7386),g=a(62991),h=a(23029);_.exports=function(l,d,f,c,m,v,x,y){void 0===x&&(x=!0);var w=T(l,d,f,c,null,y),E=[];w.forEach(function(N){var L=new h(N.layer,N.index,N.x,N.y,N.width,N.height,N.baseWidth,N.baseHeight);L.copy(N),E.push(L)});for(var S=m-l,A=v-d,I=0;I<E.length;I++){var M=E[I],P=M.x+S,O=M.y+A;g(P,O,y)&&y.data[O][P]&&(M.x=P,M.y=O,M.updatePixelXY(),y.data[O][P]=M)}x&&b(m-1,v-1,f+2,c+2,y),w.length=0,E.length=0}},78419:(_,k,a)=>{var b=a(62644),T=a(7386),g=a(27987);_.exports=function(u,l,d,f,c,m){d||(d={}),Array.isArray(u)||(u=[u]);var v=m.tilemapLayer;f||(f=v.scene),c||(c=f.cameras.main);var S,x=m.width,y=m.height,w=T(0,0,x,y,null,m),E=[],A=function(O,N,L){for(var G=0;G<L.length;G++){var j=L[G];O.hasOwnProperty(j)||(O[j]=N[j])}};for(S=0;S<w.length;S++){var I=w[S],M=b(d);if(-1!==u.indexOf(I.index)){var P=v.tileToWorldXY(I.x,I.y,void 0,c,m);M.x=P.x,M.y=P.y,A(M,I,["rotation","flipX","flipY","alpha","visible","tint"]),M.hasOwnProperty("origin")||(M.x+=.5*I.width,M.y+=.5*I.height),M.hasOwnProperty("useSpriteSheet")&&(M.key=I.tileset.image,M.frame=I.index-1),E.push(f.make.sprite(M))}}if(Array.isArray(l))for(S=0;S<u.length;S++)g(u[S],l[S],0,0,x,y,m);else if(null!==l)for(S=0;S<u.length;S++)g(u[S],l,0,0,x,y,m);return E}},19545:(_,k,a)=>{var b=a(87841),T=a(63448),g=a(56583),h=new b;_.exports=function(l,d){var f=l.tilemapLayer.tilemap,c=l.tilemapLayer,m=Math.floor(f.tileWidth*c.scaleX),v=Math.floor(f.tileHeight*c.scaleY),x=g(d.worldView.x-c.x,m,0,!0)-c.cullPaddingX,y=T(d.worldView.right-c.x,m,0,!0)+c.cullPaddingX,w=g(d.worldView.y-c.y,v,0,!0)-c.cullPaddingY,E=T(d.worldView.bottom-c.y,v,0,!0)+c.cullPaddingY;return h.setTo(x,w,y-x,E-w)}},30003:(_,k,a)=>{var b=a(19545),T=a(32483);_.exports=function(h,u,l,d){void 0===l&&(l=[]),void 0===d&&(d=0),l.length=0;var f=h.tilemapLayer,c=b(h,u);return(f.skipCull||1!==f.scrollFactorX||1!==f.scrollFactorY)&&(c.left=0,c.right=h.width,c.top=0,c.bottom=h.height),T(h,c,d,l),l}},35137:(_,k,a)=>{var b=a(7386),T=a(42573),g=a(20576);_.exports=function(u,l,d,f,c,m,v){for(var x=-1!==v.collideIndexes.indexOf(u),y=b(l,d,f,c,null,v),w=0;w<y.length;w++)y[w].index=u,g(y[w],x);m&&T(l-1,d-1,f+2,c+2,v)}},40253:(_,k,a)=>{var b=a(7386);_.exports=function(g,h,u,l,d,f,c,m){return b(u,l,d,f,c,m).filter(g,h)}},52692:_=>{_.exports=function(a,b,T,g){void 0===b&&(b=0),void 0===T&&(T=!1);var u,l,d,h=0;if(T){for(l=g.height-1;l>=0;l--)for(u=g.width-1;u>=0;u--)if((d=g.data[l][u])&&d.index===a){if(h===b)return d;h+=1}}else for(l=0;l<g.height;l++)for(u=0;u<g.width;u++)if((d=g.data[l][u])&&d.index===a){if(h===b)return d;h+=1}return null}},66151:(_,k,a)=>{var b=a(7386);_.exports=function(g,h,u,l,d,f,c,m){return b(u,l,d,f,c,m).find(g,h)||null}},97560:(_,k,a)=>{var b=a(7386);_.exports=function(g,h,u,l,d,f,c,m){b(u,l,d,f,c,m).forEach(g,h)}},43305:(_,k,a)=>{var b=a(91907),T=a(30003),g=a(9474),h=a(14018),u=a(29747),l=a(54503);_.exports=function(f){return f===b.ORTHOGONAL?T:f===b.HEXAGONAL?g:f===b.STAGGERED?l:f===b.ISOMETRIC?h:u}},7423:(_,k,a)=>{var b=a(62991);_.exports=function(g,h,u,l){if(b(g,h,l)){var d=l.data[h][g]||null;return d?-1===d.index?u?d:null:d:null}return null}},60540:(_,k,a)=>{var b=a(7423),g=new(a(26099));_.exports=function(u,l,d,f,c){return c.tilemapLayer.worldToTileXY(u,l,!0,g,f),b(g.x,g.y,d,c)}},55826:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l){var d=l.baseTileWidth,f=l.baseTileHeight,c=l.tilemapLayer,m=0,v=0;c&&(u||(u=c.scene.cameras.main),m=c.x+u.scrollX*(1-c.scrollFactorX),v=c.y+u.scrollY*(1-c.scrollFactorY),d*=c.scaleX,f*=c.scaleY);var x=m+g*d,y=v+h*f;return[new b(x,y),new b(x+d,y),new b(x+d,y+f),new b(x,y+f)]}},11758:(_,k,a)=>{var b=a(91907),T=a(27229),g=a(29747),h=a(55826);_.exports=function(l){return l===b.ORTHOGONAL?h:l===b.ISOMETRIC?g:l===b.HEXAGONAL?T:g}},39167:(_,k,a)=>{var b=a(91907),T=a(29747),g=a(97281);_.exports=function(u){return u===b.ORTHOGONAL?g:T}},62e3:(_,k,a)=>{var b=a(91907),T=a(19951),g=a(14127),h=a(29747),u=a(97202),l=a(70326);_.exports=function(f){return f===b.ORTHOGONAL?l:f===b.ISOMETRIC?g:f===b.HEXAGONAL?T:f===b.STAGGERED?u:h}},5984:(_,k,a)=>{var b=a(91907),T=a(29747),g=a(28054),h=a(29650);_.exports=function(l){return l===b.ORTHOGONAL?h:l===b.STAGGERED?g:T}},7386:(_,k,a)=>{var b=a(95540);_.exports=function(g,h,u,l,d,f){void 0===g&&(g=0),void 0===h&&(h=0),void 0===u&&(u=f.width),void 0===l&&(l=f.height),d||(d={});var c=b(d,"isNotEmpty",!1),m=b(d,"isColliding",!1),v=b(d,"hasInterestingFace",!1);g<0&&(u+=g,g=0),h<0&&(l+=h,h=0),g+u>f.width&&(u=Math.max(f.width-g,0)),h+l>f.height&&(l=Math.max(f.height-h,0));for(var x=[],y=h;y<h+l;y++)for(var w=g;w<g+u;w++){var E=f.data[y][w];if(null!==E){if(c&&-1===E.index||m&&!E.collides||v&&!E.hasInterestingFace)continue;x.push(E)}}return x}},91141:(_,k,a)=>{var b=a(55738),T=a(7386),g=a(91865),h=a(29747),u=a(26099),l=function(v,x){return g.RectangleToTriangle(x,v)},d=new u,f=new u,c=new u;_.exports=function(v,x,y,w){if(void 0===v)return[];var E=h;v instanceof b.Circle?E=g.CircleToRectangle:v instanceof b.Rectangle?E=g.RectangleToRectangle:v instanceof b.Triangle?E=l:v instanceof b.Line&&(E=g.LineToRectangle),w.tilemapLayer.worldToTileXY(v.left,v.top,!0,f,y);var S=f.x,A=f.y;w.tilemapLayer.worldToTileXY(v.right,v.bottom,!1,c,y);var I=Math.ceil(c.x),M=Math.ceil(c.y),P=Math.max(I-S,1),O=Math.max(M-A,1),N=T(S,A,P,O,x,w),L=w.tileWidth,G=w.tileHeight;w.tilemapLayer&&(L*=w.tilemapLayer.scaleX,G*=w.tilemapLayer.scaleY);for(var j=[],z=new b.Rectangle(0,0,L,G),Y=0;Y<N.length;Y++){var Z=N[Y];w.tilemapLayer.tileToWorldXY(Z.x,Z.y,d,y),z.x=d.x,z.y=d.y,E(v,z)&&j.push(Z)}return j}},96523:(_,k,a)=>{var b=a(7386),T=a(26099),g=new T,h=new T;_.exports=function(l,d,f,c,m,v,x){var y=x.tilemapLayer.tilemap._convert.WorldToTileXY;y(l,d,!0,g,v,x);var w=g.x,E=g.y;y(l+f,d+c,!1,h,v,x);var S=Math.ceil(h.x),A=Math.ceil(h.y);return b(w,E,S-w,A-E,m,x)}},96113:(_,k,a)=>{var b=a(91907),T=a(20242),g=a(10095);_.exports=function(u){return u===b.ORTHOGONAL?g:T}},16926:(_,k,a)=>{var b=a(91907),T=a(86625),g=a(96897),h=a(29747),u=a(15108),l=a(85896);_.exports=function(f){return f===b.ORTHOGONAL?l:f===b.ISOMETRIC?g:f===b.HEXAGONAL?T:f===b.STAGGERED?u:h}},55762:(_,k,a)=>{var b=a(91907),T=a(20242),g=a(51900),h=a(63288);_.exports=function(l){return l===b.ORTHOGONAL?h:l===b.STAGGERED?g:T}},45091:(_,k,a)=>{var b=a(62991);_.exports=function(g,h,u){if(b(g,h,u)){var l=u.data[h][g];return null!==l&&l.index>-1}return!1}},24152:(_,k,a)=>{var b=a(45091),g=new(a(26099));_.exports=function(u,l,d,f){return f.tilemapLayer.worldToTileXY(u,l,!0,g,d),b(g.x,g.y,f)}},90454:(_,k,a)=>{var b=a(63448),T=a(56583);_.exports=function(h,u){var v,x,y,w,l=h.tilemapLayer.tilemap,d=h.tilemapLayer,f=Math.floor(l.tileWidth*d.scaleX),c=Math.floor(l.tileHeight*d.scaleY),m=h.hexSideLength;if("y"===h.staggerAxis){var E=(c-m)/2+m;v=T(u.worldView.x-d.x,f,0,!0)-d.cullPaddingX,x=b(u.worldView.right-d.x,f,0,!0)+d.cullPaddingX,y=T(u.worldView.y-d.y,E,0,!0)-d.cullPaddingY,w=b(u.worldView.bottom-d.y,E,0,!0)+d.cullPaddingY}else{var S=(f-m)/2+m;v=T(u.worldView.x-d.x,S,0,!0)-d.cullPaddingX,x=b(u.worldView.right-d.x,S,0,!0)+d.cullPaddingX,y=T(u.worldView.y-d.y,c,0,!0)-d.cullPaddingY,w=b(u.worldView.bottom-d.y,c,0,!0)+d.cullPaddingY}return{left:v,right:x,top:y,bottom:w}}},9474:(_,k,a)=>{var b=a(90454),T=a(32483);_.exports=function(h,u,l,d){void 0===l&&(l=[]),void 0===d&&(d=0),l.length=0;var f=h.tilemapLayer,c=b(h,u);return f.skipCull&&1===f.scrollFactorX&&1===f.scrollFactorY&&(c.left=0,c.right=h.width,c.top=0,c.bottom=h.height),T(h,c,d,l),l}},27229:(_,k,a)=>{var b=a(19951),T=a(26099),g=new T;_.exports=function(u,l,d,f){var c=f.baseTileWidth,m=f.baseTileHeight,v=f.tilemapLayer;v&&(c*=v.scaleX,m*=v.scaleY);var E,S,x=b(u,l,g,d,f),y=[],w=.5773502691896257;"y"===f.staggerAxis?(E=w*c,S=m/2):(E=c/2,S=w*m);for(var A=0;A<6;A++){var I=2*Math.PI*(.5-A)/6;y.push(new T(x.x+E*Math.cos(I),x.y+S*Math.sin(I)))}return y}},19951:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l,d){u||(u=new b);var f=d.baseTileWidth,c=d.baseTileHeight,m=d.tilemapLayer,v=0,x=0;m&&(l||(l=m.scene.cameras.main),v=m.x+l.scrollX*(1-m.scrollFactorX),x=m.y+l.scrollY*(1-m.scrollFactorY),f*=m.scaleX,c*=m.scaleY);var E,S,y=f/2,w=c/2,A=d.staggerAxis,I=d.staggerIndex;return"y"===A?(E=v+f*g+f,S=x+1.5*h*w+w,h%2==0&&("odd"===I?E-=y:E+=y)):"x"===A&&"odd"===I&&(E=v+1.5*g*y+y,S=x+c*g+c,g%2==0&&("odd"===I?S-=w:S+=w)),u.set(E,S)}},86625:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l,d,f){l||(l=new b);var c=f.baseTileWidth,m=f.baseTileHeight,v=f.tilemapLayer;v&&(d||(d=v.scene.cameras.main),g-=v.x+d.scrollX*(1-v.scrollFactorX),h-=v.y+d.scrollY*(1-v.scrollFactorY),c*=v.scaleX,m*=v.scaleY);var I,M,P,O,N,x=.5773502691896257,y=-.3333333333333333,E=.6666666666666666,S=c/2,A=m/2;"y"===f.staggerAxis?(P=x*(I=(g-S)/(x*c))+y*(M=(h-A)/A),O=0*I+E*M):(P=y*(I=(g-S)/S)+x*(M=(h-A)/(x*m)),O=E*I+0*M),N=-P-O;var L=Math.round(P),G=Math.round(O),j=Math.round(N),z=Math.abs(L-P),Y=Math.abs(G-O),Z=Math.abs(j-N);return z>Y&&z>Z?L=-G-j:Y>Z&&(G=-L-j),l.set("odd"===f.staggerIndex?G%2==0?G/2+L:G/2+L-.5:G%2==0?G/2+L:G/2+L+.5,G)}},62991:_=>{_.exports=function(a,b,T){return a>=0&&a<T.width&&b>=0&&b<T.height}},14018:(_,k,a)=>{var b=a(33528);_.exports=function(g,h,u,l){void 0===u&&(u=[]),void 0===l&&(l=0),u.length=0;var S,A,I,d=g.tilemapLayer,f=g.data,c=g.width,m=g.height,v=d.skipCull,y=c,E=m;if(0===l)for(A=0;A<E;A++)for(S=0;S<y;S++)(I=f[A][S])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!b(S,A,g,h)||u.push(I));else if(1===l)for(A=0;A<E;A++)for(S=y;S>=0;S--)(I=f[A][S])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!b(S,A,g,h)||u.push(I));else if(2===l)for(A=E;A>=0;A--)for(S=0;S<y;S++)(I=f[A][S])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!b(S,A,g,h)||u.push(I));else if(3===l)for(A=E;A>=0;A--)for(S=y;S>=0;S--)(I=f[A][S])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!b(S,A,g,h)||u.push(I));return d.tilesDrawn=u.length,d.tilesTotal=c*m,u}},14127:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l,d){u||(u=new b);var f=d.baseTileWidth,c=d.baseTileHeight,m=d.tilemapLayer,v=0,x=0;return m&&(l||(l=m.scene.cameras.main),v=m.x+l.scrollX*(1-m.scrollFactorX),f*=m.scaleX,x=m.y+l.scrollY*(1-m.scrollFactorY),c*=m.scaleY),u.set(v+f/2*(g-h),x+(g+h)*(c/2))}},96897:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l,d,f,c){l||(l=new b);var m=f.baseTileWidth,v=f.baseTileHeight,x=f.tilemapLayer;x&&(d||(d=x.scene.cameras.main),h-=x.y+d.scrollY*(1-x.scrollFactorY),v*=x.scaleY,g-=x.x+d.scrollX*(1-x.scrollFactorX),m*=x.scaleX);var y=m/2,w=v/2;c||(h-=v);var E=.5*((g-=y)/y+h/w),S=.5*(-g/y+h/w);return u&&(E=Math.floor(E),S=Math.floor(S)),l.set(E,S)}},71558:(_,k,a)=>{var b=a(23029),T=a(62991),g=a(72023),h=a(20576);_.exports=function(l,d,f,c,m){if(void 0===c&&(c=!0),!T(d,f,m))return null;var v,x=m.data[f][d],y=x&&x.collides;l instanceof b?(null===m.data[f][d]&&(m.data[f][d]=new b(m,l.index,d,f,m.tileWidth,m.tileHeight)),m.data[f][d].copy(l)):(v=l,null===m.data[f][d]?m.data[f][d]=new b(m,v,d,f,m.tileWidth,m.tileHeight):m.data[f][d].index=v);var w=m.data[f][d],E=-1!==m.collideIndexes.indexOf(w.index);if(-1===(v=l instanceof b?l.index:l))w.width=m.tileWidth,w.height=m.tileHeight;else{var S=m.tilemapLayer.tilemap,M=S.tilesets[S.tiles[v][2]];w.width=M.tileWidth,w.height=M.tileHeight}return h(w,E),c&&y!==w.collides&&g(d,f,m),w}},26303:(_,k,a)=>{var b=a(71558),g=new(a(26099));_.exports=function(u,l,d,f,c,m){return m.tilemapLayer.worldToTileXY(l,d,!0,g,c,m),b(u,g.x,g.y,f,m)}},14051:(_,k,a)=>{var b=a(42573),T=a(71558);_.exports=function(h,u,l,d,f){if(void 0===d&&(d=!0),!Array.isArray(h))return null;Array.isArray(h[0])||(h=[h]);for(var c=h.length,m=h[0].length,v=0;v<c;v++)for(var x=0;x<m;x++)T(h[v][x],u+x,l+v,!1,f);d&&b(u-1,l-1,m+2,c+2,f)}},77389:(_,k,a)=>{var b=a(7386),T=a(26546);_.exports=function(h,u,l,d,f,c){var m,v=b(h,u,l,d,{},c);if(!f)for(f=[],m=0;m<v.length;m++)-1===f.indexOf(v[m].index)&&f.push(v[m].index);for(m=0;m<v.length;m++)v[m].index=T(f)}},63557:(_,k,a)=>{var b=a(23029),T=a(62991),g=a(72023);_.exports=function(u,l,d,f,c){if(void 0===d&&(d=!0),void 0===f&&(f=!0),!T(u,l,c))return null;var m=c.data[l][u];return m?(c.data[l][u]=d?null:new b(c,-1,u,l,c.tileWidth,c.tileHeight),f&&m&&m.collides&&g(u,l,c),m):null}},94178:(_,k,a)=>{var b=a(63557),g=new(a(26099));_.exports=function(u,l,d,f,c,m){return m.tilemapLayer.worldToTileXY(u,l,!0,g,c,m),b(g.x,g.y,d,f,m)}},15533:(_,k,a)=>{var b=a(7386),T=a(3956),g=new T(105,210,231,150),h=new T(243,134,48,200),u=new T(40,39,37,150);_.exports=function(d,f,c){void 0===f&&(f={});var m=void 0!==f.tileColor?f.tileColor:g,v=void 0!==f.collidingTileColor?f.collidingTileColor:h,x=void 0!==f.faceColor?f.faceColor:u,y=b(0,0,c.width,c.height,null,c);d.translateCanvas(c.tilemapLayer.x,c.tilemapLayer.y),d.scaleCanvas(c.tilemapLayer.scaleX,c.tilemapLayer.scaleY);for(var w=0;w<y.length;w++){var E=y[w],S=E.width,A=E.height,I=E.pixelX,M=E.pixelY,P=E.collides?v:m;null!==P&&(d.fillStyle(P.color,P.alpha/255),d.fillRect(I,M,S,A)),I+=1,M+=1,S-=2,A-=2,null!==x&&(d.lineStyle(1,x.color,x.alpha/255),E.faceTop&&d.lineBetween(I,M,I+S,M),E.faceRight&&d.lineBetween(I+S,M,I+S,M+A),E.faceBottom&&d.lineBetween(I,M+A,I+S,M+A),E.faceLeft&&d.lineBetween(I,M,I,M+A))}}},27987:(_,k,a)=>{var b=a(7386);_.exports=function(g,h,u,l,d,f,c){for(var m=b(u,l,d,f,null,c),v=0;v<m.length;v++)m[v]&&m[v].index===g&&(m[v].index=h)}},32483:_=>{_.exports=function(a,b,T,g){var x,y,w,h=a.data,u=a.width,l=a.height,d=a.tilemapLayer,f=Math.max(0,b.left),c=Math.min(u,b.right),m=Math.max(0,b.top),v=Math.min(l,b.bottom);if(0===T)for(y=m;y<v;y++)for(x=f;h[y]&&x<c;x++)(w=h[y][x])&&-1!==w.index&&w.visible&&0!==w.alpha&&g.push(w);else if(1===T)for(y=m;y<v;y++)for(x=c;h[y]&&x>=f;x--)(w=h[y][x])&&-1!==w.index&&w.visible&&0!==w.alpha&&g.push(w);else if(2===T)for(y=v;y>=m;y--)for(x=f;h[y]&&x<c;x++)(w=h[y][x])&&-1!==w.index&&w.visible&&0!==w.alpha&&g.push(w);else if(3===T)for(y=v;y>=m;y--)for(x=c;h[y]&&x>=f;x--)(w=h[y][x])&&-1!==w.index&&w.visible&&0!==w.alpha&&g.push(w);return d.tilesDrawn=g.length,d.tilesTotal=u*l,g}},57068:(_,k,a)=>{var b=a(20576),T=a(42573),g=a(9589);_.exports=function(u,l,d,f,c){void 0===l&&(l=!0),void 0===d&&(d=!0),void 0===c&&(c=!0),Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++)g(u[m],l,f);if(c)for(var v=0;v<f.height;v++)for(var x=0;x<f.width;x++){var y=f.data[v][x];y&&-1!==u.indexOf(y.index)&&b(y,l)}d&&T(0,0,f.width,f.height,f)}},37266:(_,k,a)=>{var b=a(20576),T=a(42573),g=a(9589);_.exports=function(u,l,d,f,c,m){if(void 0===d&&(d=!0),void 0===f&&(f=!0),void 0===m&&(m=!0),!(u>l)){for(var v=u;v<=l;v++)g(v,d,c);if(m)for(var x=0;x<c.height;x++)for(var y=0;y<c.width;y++){var w=c.data[x][y];w&&w.index>=u&&w.index<=l&&b(w,d)}f&&T(0,0,c.width,c.height,c)}}},75661:(_,k,a)=>{var b=a(20576),T=a(42573),g=a(9589);_.exports=function(u,l,d,f){void 0===l&&(l=!0),void 0===d&&(d=!0),Array.isArray(u)||(u=[u]);for(var c=0;c<f.height;c++)for(var m=0;m<f.width;m++){var v=f.data[c][m];v&&-1===u.indexOf(v.index)&&(b(v,l),g(v.index,l,f))}d&&T(0,0,f.width,f.height,f)}},64740:(_,k,a)=>{var b=a(20576),T=a(42573),g=a(97022);_.exports=function(u,l,d,f){void 0===l&&(l=!0),void 0===d&&(d=!0);for(var c=0;c<f.height;c++)for(var m=0;m<f.width;m++){var v=f.data[c][m];if(v)for(var x in u)if(g(v.properties,x)){var y=u[x];Array.isArray(y)||(y=[y]);for(var w=0;w<y.length;w++)v.properties[x]===y[w]&&b(v,l)}}d&&T(0,0,f.width,f.height,f)}},63307:(_,k,a)=>{var b=a(20576),T=a(42573);_.exports=function(h,u,l){void 0===h&&(h=!0),void 0===u&&(u=!0);for(var d=0;d<l.height;d++)for(var f=0;f<l.width;f++){var c=l.data[d][f];if(c){var m=c.getCollisionGroup();m&&m.objects&&m.objects.length>0&&b(c,h)}}u&&T(0,0,l.width,l.height,l)}},9589:_=>{_.exports=function(a,b,T){var g=T.collideIndexes.indexOf(a);b&&-1===g?T.collideIndexes.push(a):!b&&-1!==g&&T.collideIndexes.splice(g,1)}},20576:_=>{_.exports=function(a,b){b?a.setCollision(!0,!0,!0,!0,!1):a.resetCollision(!1)}},79583:_=>{_.exports=function(a,b,T,g){if("number"==typeof a)g.callbacks[a]=null!==b?{callback:b,callbackContext:T}:void 0;else for(var h=0,u=a.length;h<u;h++)g.callbacks[a[h]]=null!==b?{callback:b,callbackContext:T}:void 0}},93254:(_,k,a)=>{var b=a(7386);_.exports=function(g,h,u,l,d,f,c){for(var m=b(g,h,u,l,null,c),v=0;v<m.length;v++)m[v].setCollisionCallback(d,f)}},32903:(_,k,a)=>{var b=a(7386),T=a(33680);_.exports=function(h,u,l,d,f){var c=b(h,u,l,d,null,f),m=c.map(function(x){return x.index});T(m);for(var v=0;v<c.length;v++)c[v].index=m[v]}},61325:(_,k,a)=>{var b=a(63448),T=a(56583);_.exports=function(h,u){var l=h.tilemapLayer.tilemap,d=h.tilemapLayer,f=Math.floor(l.tileWidth*d.scaleX),c=Math.floor(l.tileHeight*d.scaleY);return{left:T(u.worldView.x-d.x,f,0,!0)-d.cullPaddingX,right:b(u.worldView.right-d.x,f,0,!0)+d.cullPaddingX,top:T(u.worldView.y-d.y,c/2,0,!0)-d.cullPaddingY,bottom:b(u.worldView.bottom-d.y,c/2,0,!0)+d.cullPaddingY}}},54503:(_,k,a)=>{var b=a(61325),T=a(32483);_.exports=function(h,u,l,d){void 0===l&&(l=[]),void 0===d&&(d=0),l.length=0;var f=h.tilemapLayer,c=b(h,u);return f.skipCull&&1===f.scrollFactorX&&1===f.scrollFactorY&&(c.left=0,c.right=h.width,c.top=0,c.bottom=h.height),T(h,c,d,l),l}},97202:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l,d){u||(u=new b);var f=d.baseTileWidth,c=d.baseTileHeight,m=d.tilemapLayer,v=0,x=0;return m&&(l||(l=m.scene.cameras.main),v=m.x+l.scrollX*(1-m.scrollFactorX),f*=m.scaleX,x=m.y+l.scrollY*(1-m.scrollFactorY),c*=m.scaleY),u.set(v+g*f+h%2*(f/2),x+h*(c/2))}},28054:_=>{_.exports=function(a,b,T){var g=T.baseTileHeight,h=T.tilemapLayer,u=0;return h&&(void 0===b&&(b=h.scene.cameras.main),u=h.y+b.scrollY*(1-h.scrollFactorY),g*=h.scaleY),u+a*(g/2)+g}},15108:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l,d,f){l||(l=new b);var c=f.baseTileWidth,m=f.baseTileHeight,v=f.tilemapLayer;v&&(d||(d=v.scene.cameras.main),h-=v.y+d.scrollY*(1-v.scrollFactorY),m*=v.scaleY,g-=v.x+d.scrollX*(1-v.scrollFactorX),c*=v.scaleX);var x=u?Math.floor(h/(m/2)):h/(m/2),y=u?Math.floor((g+x%2*.5*c)/c):(g+x%2*.5*c)/c;return l.set(y,x)}},51900:_=>{_.exports=function(a,b,T,g){var h=g.baseTileHeight,u=g.tilemapLayer;return u&&(T||(T=u.scene.cameras.main),a-=u.y+T.scrollY*(1-u.scrollFactorY),h*=u.scaleY),b?Math.floor(a/(h/2)):a/(h/2)}},86560:(_,k,a)=>{var b=a(7386);_.exports=function(g,h,u,l,d,f,c){for(var m=b(u,l,d,f,null,c),v=0;v<m.length;v++)m[v]&&(m[v].index===g?m[v].index=h:m[v].index===h&&(m[v].index=g))}},97281:_=>{_.exports=function(a,b,T){var g=T.baseTileWidth,h=T.tilemapLayer,u=0;return h&&(b||(b=h.scene.cameras.main),u=h.x+b.scrollX*(1-h.scrollFactorX),g*=h.scaleX),u+a*g}},70326:(_,k,a)=>{var b=a(97281),T=a(29650),g=a(26099);_.exports=function(u,l,d,f,c){return d||(d=new g(0,0)),d.x=b(u,f,c),d.y=T(l,f,c),d}},29650:_=>{_.exports=function(a,b,T){var g=T.baseTileHeight,h=T.tilemapLayer,u=0;return h&&(b||(b=h.scene.cameras.main),u=h.y+b.scrollY*(1-h.scrollFactorY),g*=h.scaleY),u+a*g}},77366:(_,k,a)=>{var b=a(7386),T=a(75508);_.exports=function(h,u,l,d,f,c){if(f){var m,v=b(h,u,l,d,null,c),x=0;for(m=0;m<f.length;m++)x+=f[m].weight;if(!(x<=0))for(m=0;m<v.length;m++){for(var y=T.RND.frac()*x,w=0,E=-1,S=0;S<f.length;S++)if(y<=(w+=f[S].weight)){var A=f[S].index;E=Array.isArray(A)?A[Math.floor(T.RND.frac()*A.length)]:A;break}v[m].index=E}}}},10095:(_,k,a)=>{var b=a(85896),g=new(a(26099));_.exports=function(u,l,d,f){return b(u,0,l,g,d,f),g.x}},85896:(_,k,a)=>{var b=a(26099);_.exports=function(g,h,u,l,d,f){void 0===u&&(u=!0),l||(l=new b);var c=f.baseTileWidth,m=f.baseTileHeight,v=f.tilemapLayer;v&&(d||(d=v.scene.cameras.main),g-=v.x+d.scrollX*(1-v.scrollFactorX),h-=v.y+d.scrollY*(1-v.scrollFactorY),c*=v.scaleX,m*=v.scaleY);var x=g/c,y=h/m;return u&&(x=Math.floor(x),y=Math.floor(y)),l.set(x,y)}},63288:(_,k,a)=>{var b=a(85896),g=new(a(26099));_.exports=function(u,l,d,f){return b(0,u,l,g,d,f),g.y}},81086:(_,k,a)=>{_.exports={CalculateFacesAt:a(72023),CalculateFacesWithin:a(42573),CheckIsoBounds:a(33528),Copy:a(1785),CreateFromTiles:a(78419),CullBounds:a(19545),CullTiles:a(30003),Fill:a(35137),FilterTiles:a(40253),FindByIndex:a(52692),FindTile:a(66151),ForEachTile:a(97560),GetCullTilesFunction:a(43305),GetTileAt:a(7423),GetTileAtWorldXY:a(60540),GetTileCorners:a(55826),GetTileCornersFunction:a(11758),GetTilesWithin:a(7386),GetTilesWithinShape:a(91141),GetTilesWithinWorldXY:a(96523),GetTileToWorldXFunction:a(39167),GetTileToWorldXYFunction:a(62e3),GetTileToWorldYFunction:a(5984),GetWorldToTileXFunction:a(96113),GetWorldToTileXYFunction:a(16926),GetWorldToTileYFunction:a(55762),HasTileAt:a(45091),HasTileAtWorldXY:a(24152),HexagonalCullBounds:a(90454),HexagonalCullTiles:a(9474),HexagonalGetTileCorners:a(27229),HexagonalTileToWorldXY:a(19951),HexagonalWorldToTileXY:a(86625),IsInLayerBounds:a(62991),IsometricCullTiles:a(14018),IsometricTileToWorldXY:a(14127),IsometricWorldToTileXY:a(96897),PutTileAt:a(71558),PutTileAtWorldXY:a(26303),PutTilesAt:a(14051),Randomize:a(77389),RemoveTileAt:a(63557),RemoveTileAtWorldXY:a(94178),RenderDebug:a(15533),ReplaceByIndex:a(27987),RunCull:a(32483),SetCollision:a(57068),SetCollisionBetween:a(37266),SetCollisionByExclusion:a(75661),SetCollisionByProperty:a(64740),SetCollisionFromCollisionGroup:a(63307),SetLayerCollisionIndex:a(9589),SetTileCollision:a(20576),SetTileIndexCallback:a(79583),SetTileLocationCallback:a(93254),Shuffle:a(32903),StaggeredCullBounds:a(61325),StaggeredCullTiles:a(54503),StaggeredTileToWorldXY:a(97202),StaggeredTileToWorldY:a(28054),StaggeredWorldToTileXY:a(15108),StaggeredWorldToTileY:a(51900),SwapByIndex:a(86560),TileToWorldX:a(97281),TileToWorldXY:a(70326),TileToWorldY:a(29650),WeightedRandomize:a(77366),WorldToTileX:a(10095),WorldToTileXY:a(85896),WorldToTileY:a(63288)}},91907:_=>{_.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(_,k,a)=>{var b={ORIENTATION:a(91907)};_.exports=b},62501:(_,k,a)=>{var b=a(79291),T=a(21829),g={Components:a(81086),Parsers:a(57442),Formats:a(80341),ImageCollection:a(16536),ParseToTilemap:a(31989),Tile:a(23029),Tilemap:a(49075),TilemapCreator:a(45939),TilemapFactory:a(46029),Tileset:a(33629),TilemapLayer:a(20442),Orientation:a(91907),LayerData:a(14977),MapData:a(87010),ObjectLayer:a(48700)};g=b(!1,g,T.ORIENTATION),_.exports=g},14977:(_,k,a)=>{var b=a(83419),T=a(91907),g=a(95540),h=new b({initialize:function(l){void 0===l&&(l={}),this.name=g(l,"name","layer"),this.id=g(l,"id",0),this.x=g(l,"x",0),this.y=g(l,"y",0),this.width=g(l,"width",0),this.height=g(l,"height",0),this.tileWidth=g(l,"tileWidth",0),this.tileHeight=g(l,"tileHeight",0),this.baseTileWidth=g(l,"baseTileWidth",this.tileWidth),this.baseTileHeight=g(l,"baseTileHeight",this.tileHeight),this.orientation=g(l,"orientation",T.ORTHOGONAL),this.widthInPixels=g(l,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=g(l,"heightInPixels",this.height*this.baseTileHeight),this.alpha=g(l,"alpha",1),this.visible=g(l,"visible",!0),this.properties=g(l,"properties",[]),this.indexes=g(l,"indexes",[]),this.collideIndexes=g(l,"collideIndexes",[]),this.callbacks=g(l,"callbacks",[]),this.bodies=g(l,"bodies",[]),this.data=g(l,"data",[]),this.tilemapLayer=g(l,"tilemapLayer",null),this.hexSideLength=g(l,"hexSideLength",0),this.staggerAxis=g(l,"staggerAxis","y"),this.staggerIndex=g(l,"staggerIndex","odd")}});_.exports=h},87010:(_,k,a)=>{var b=a(83419),T=a(91907),g=a(95540),h=new b({initialize:function(l){void 0===l&&(l={}),this.name=g(l,"name","map"),this.width=g(l,"width",0),this.height=g(l,"height",0),this.infinite=g(l,"infinite",!1),this.tileWidth=g(l,"tileWidth",0),this.tileHeight=g(l,"tileHeight",0),this.widthInPixels=g(l,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=g(l,"heightInPixels",this.height*this.tileHeight),this.format=g(l,"format",null),this.orientation=g(l,"orientation",T.ORTHOGONAL),this.renderOrder=g(l,"renderOrder","right-down"),this.version=g(l,"version","1"),this.properties=g(l,"properties",{}),this.layers=g(l,"layers",[]),this.images=g(l,"images",[]),this.objects=g(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=g(l,"collision",{}),this.tilesets=g(l,"tilesets",[]),this.imageCollections=g(l,"imageCollections",[]),this.tiles=g(l,"tiles",[]),this.hexSideLength=g(l,"hexSideLength",0),this.staggerAxis=g(l,"staggerAxis","y"),this.staggerIndex=g(l,"staggerIndex","odd")}});_.exports=h},48700:(_,k,a)=>{var b=a(83419),T=a(95540),g=new b({initialize:function(u){void 0===u&&(u={}),this.name=T(u,"name","object layer"),this.id=T(u,"id",0),this.opacity=T(u,"opacity",1),this.properties=T(u,"properties",{}),this.propertyTypes=T(u,"propertytypes",{}),this.type=T(u,"type","objectgroup"),this.visible=T(u,"visible",!0),this.objects=T(u,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});_.exports=g},6641:(_,k,a)=>{var b=a(91907);_.exports=function(g){return"isometric"===(g=g.toLowerCase())?b.ISOMETRIC:"staggered"===g?b.STAGGERED:"hexagonal"===g?b.HEXAGONAL:b.ORTHOGONAL}},46177:(_,k,a)=>{var b=a(80341),T=a(2342),g=a(82593),h=a(46594),u=a(87021);_.exports=function(d,f,c,m,v,x){var y;switch(f){case b.ARRAY_2D:y=T(d,c,m,v,x);break;case b.CSV:y=g(d,c,m,v,x);break;case b.TILED_JSON:y=h(d,c,x);break;case b.WELTMEISTER:y=u(d,c,x);break;default:console.warn("Unrecognized tilemap data format: "+f),y=null}return y}},2342:(_,k,a)=>{var b=a(80341),T=a(14977),g=a(87010),h=a(23029);_.exports=function(l,d,f,c,m){for(var v=new T({tileWidth:f,tileHeight:c}),x=new g({name:l,tileWidth:f,tileHeight:c,format:b.ARRAY_2D,layers:[v]}),y=[],w=d.length,E=0,S=0;S<d.length;S++){y[S]=[];for(var A=d[S],I=0;I<A.length;I++){var M=parseInt(A[I],10);y[S][I]=isNaN(M)||-1===M?m?null:new h(v,-1,I,S,f,c):new h(v,M,I,S,f,c)}0===E&&(E=A.length)}return x.width=v.width=E,x.height=v.height=w,x.widthInPixels=v.widthInPixels=E*f,x.heightInPixels=v.heightInPixels=w*c,v.data=y,x}},82593:(_,k,a)=>{var b=a(80341),T=a(2342);_.exports=function(h,u,l,d,f){var c=u.trim().split("\n").map(function(v){return v.split(",")}),m=T(h,c,l,d,f);return m.format=b.CSV,m}},6656:(_,k,a)=>{var b=a(14977),T=a(23029);_.exports=function(h,u){for(var l=[],d=0;d<h.layer.length;d++){for(var f=h.layer[d],c=new b({name:f.name,width:f.width,height:f.height,tileWidth:f.tilesize,tileHeight:f.tilesize,visible:1===f.visible}),m=[],v=[],x=0;x<f.data.length;x++){for(var y=0;y<f.data[x].length;y++){var E,w=f.data[x][y]-1;E=w>-1?new T(c,w,y,x,f.tilesize,f.tilesize):u?null:new T(c,-1,y,x,f.tilesize,f.tilesize),m.push(E)}v.push(m),m=[]}c.data=v,l.push(c)}return l}},96483:(_,k,a)=>{var b=a(33629);_.exports=function(g){for(var h=[],u=[],l=0;l<g.layer.length;l++){var d=g.layer[l],f=d.tilesetName;""!==f&&-1===u.indexOf(f)&&(u.push(f),h.push(new b(f,0,d.tilesize,d.tilesize,0,0)))}return h}},87021:(_,k,a)=>{var b=a(80341),T=a(87010),g=a(6656),h=a(96483);_.exports=function(l,d,f){if(0===d.layer.length)return console.warn("No layers found in the Weltmeister map: "+l),null;for(var c=0,m=0,v=0;v<d.layer.length;v++)d.layer[v].width>c&&(c=d.layer[v].width),d.layer[v].height>m&&(m=d.layer[v].height);var x=new T({width:c,height:m,name:l,tileWidth:d.layer[0].tilesize,tileHeight:d.layer[0].tilesize,format:b.WELTMEISTER});return x.layers=g(d,f),x.tilesets=h(d),x}},52833:(_,k,a)=>{_.exports={ParseTileLayers:a(6656),ParseTilesets:a(96483),ParseWeltmeister:a(87021)}},57442:(_,k,a)=>{_.exports={FromOrientationString:a(6641),Parse:a(46177),Parse2DArray:a(2342),ParseCSV:a(82593),Impact:a(52833),Tiled:a(96761)}},51233:(_,k,a)=>{var b=a(79291);_.exports=function(g){for(var h,u,d,f,c=0;c<g.layers.length;c++){h=g.layers[c],d=null;for(var m=0;m<h.data.length;m++){f=h.data[m];for(var v=0;v<f.length;v++)!(null===(u=f[v])||u.index<0)&&(u.width=(d=g.tilesets[g.tiles[u.index][2]]).tileWidth,u.height=d.tileHeight,d.tileProperties&&d.tileProperties[u.index-d.firstgid]&&(u.properties=b(u.properties,d.tileProperties[u.index-d.firstgid])))}}}},41868:_=>{_.exports=function(a){for(var b=window.atob(a),T=b.length,g=new Array(T/4),h=0;h<T;h+=4)g[h/4]=(b.charCodeAt(h)|b.charCodeAt(h+1)<<8|b.charCodeAt(h+2)<<16|b.charCodeAt(h+3)<<24)>>>0;return g}},84101:(_,k,a)=>{var b=a(33629);_.exports=function(g){var h,u,l=[];for(h=0;h<g.imageCollections.length;h++)for(var d=g.imageCollections[h],f=d.images,c=0;c<f.length;c++){var m=f[c];(u=new b(m.image,m.gid,d.imageWidth,d.imageHeight,0,0)).updateTileData(d.imageWidth,d.imageHeight),g.tilesets.push(u)}for(h=0;h<g.tilesets.length;h++)for(var v=(u=g.tilesets[h]).tileMargin,x=u.tileMargin,y=0,w=0,E=0,S=u.firstgid;S<u.firstgid+u.total&&(l[S]=[v,x,h],v+=u.tileWidth+u.tileSpacing,++y!==u.total&&(++w!==u.columns||(v=u.tileMargin,x+=u.tileHeight+u.tileSpacing,w=0,++E!==u.rows)));S++);return l}},79677:(_,k,a)=>{var b=a(95540);_.exports=function(g,h,u){if(!h)return{i:0,layers:g.layers,name:"",opacity:1,visible:!0,x:0,y:0};var l=h.x+b(h,"startx",0)*g.tilewidth+b(h,"offsetx",0),d=h.y+b(h,"starty",0)*g.tileheight+b(h,"offsety",0);return{i:0,layers:h.layers,name:u.name+h.name+"/",opacity:u.opacity*h.opacity,visible:u.visible&&h.visible,x:u.x+l,y:u.y+d}}},29920:_=>{var k=2147483648,a=1073741824,b=536870912;_.exports=function(g){var h=!!(g&k),u=!!(g&a),l=!!(g&b);g&=~(k|a|b);var d=0,f=!1;return h&&u&&l?(d=Math.PI/2,f=!0):h&&u&&!l?(d=Math.PI,f=!1):h&&!u&&l?(d=Math.PI/2,f=!1):!h||u||l?!h&&u&&l?(d=3*Math.PI/2,f=!1):h||!u||l?h||u||!l?!h&&!u&&!l&&(d=0,f=!1):(d=3*Math.PI/2,f=!0):(d=Math.PI,f=!0):(d=0,f=!0),{gid:g,flippedHorizontal:h,flippedVertical:u,flippedAntiDiagonal:l,rotation:d,flipped:f}}},12635:(_,k,a)=>{var b=a(95540),T=a(79677);_.exports=function(h){for(var u=[],l=[],d=T(h);d.i<d.layers.length||l.length>0;)if(d.i>=d.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=l.pop()}else{var f=d.layers[d.i];if(d.i++,"imagelayer"===f.type){var m=b(f,"offsetx",0)+b(f,"startx",0),v=b(f,"offsety",0)+b(f,"starty",0);u.push({name:d.name+f.name,image:f.image,x:d.x+m+f.x,y:d.y+v+f.y,alpha:d.opacity*f.opacity,visible:d.visible&&f.visible,properties:b(f,"properties",{})})}else if("group"===f.type){var c=T(h,f,d);l.push(d),d=c}}return u}},46594:(_,k,a)=>{var b=a(51233),T=a(84101),g=a(91907),h=a(62644),u=a(80341),l=a(6641),d=a(87010),f=a(12635),c=a(22611),m=a(28200),v=a(24619);_.exports=function(y,w,E){var S=h(w),A=new d({width:S.width,height:S.height,name:y,tileWidth:S.tilewidth,tileHeight:S.tileheight,orientation:l(S.orientation),format:u.TILED_JSON,version:S.version,properties:S.properties,renderOrder:S.renderorder,infinite:S.infinite});A.orientation===g.HEXAGONAL&&(A.hexSideLength=S.hexsidelength,A.staggerAxis=S.staggeraxis,A.staggerIndex=S.staggerindex),A.layers=m(S,E),A.images=f(S);var I=v(S);return A.tilesets=I.tilesets,A.imageCollections=I.imageCollections,A.objects=c(S),A.tiles=T(A),b(A),A}},52205:(_,k,a)=>{var b=a(18254),T=a(29920),g=function(l){return{x:l.x,y:l.y}},h=["id","name","type","rotation","properties","visible","x","y","width","height"];_.exports=function(l,d,f){void 0===d&&(d=0),void 0===f&&(f=0);var c=b(l,h);if(c.x+=d,c.y+=f,l.gid){var m=T(l.gid);c.gid=m.gid,c.flippedHorizontal=m.flippedHorizontal,c.flippedVertical=m.flippedVertical,c.flippedAntiDiagonal=m.flippedAntiDiagonal}else l.polyline?c.polyline=l.polyline.map(g):l.polygon?c.polygon=l.polygon.map(g):l.ellipse?c.ellipse=l.ellipse:l.text?c.text=l.text:l.point?c.point=!0:c.rectangle=!0;return c}},22611:(_,k,a)=>{var b=a(95540),T=a(52205),g=a(48700),h=a(79677);_.exports=function(l){for(var d=[],f=[],c=h(l);c.i<c.layers.length||f.length>0;)if(c.i>=c.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}c=f.pop()}else{var m=c.layers[c.i];if(c.i++,m.opacity*=c.opacity,m.visible=c.visible&&m.visible,"objectgroup"===m.type){m.name=c.name+m.name;for(var x=c.x+b(m,"startx",0)+b(m,"offsetx",0),y=c.y+b(m,"starty",0)+b(m,"offsety",0),w=[],E=0;E<m.objects.length;E++){var S=T(m.objects[E],x,y);w.push(S)}var A=new g(m);A.objects=w,d.push(A)}else if("group"===m.type){var v=h(l,m,c);f.push(c),c=v}}return d}},28200:(_,k,a)=>{var b=a(41868),T=a(91907),g=a(79677),h=a(6641),u=a(95540),l=a(14977),d=a(29920),f=a(23029);_.exports=function(m,v){for(var x=u(m,"infinite",!1),y=[],w=[],E=g(m);E.i<E.layers.length||w.length>0;)if(E.i>=E.layers.length){if(w.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}E=w.pop()}else{var S=E.layers[E.i];if(E.i++,"tilelayer"===S.type)if(S.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+S.name+"'");else{if(S.encoding&&"base64"===S.encoding){if(S.chunks)for(var I=0;I<S.chunks.length;I++)S.chunks[I].data=b(S.chunks[I].data);S.data&&(S.data=b(S.data)),delete S.encoding}var M,P,O,N,L=[],G=0;if(x){var j=u(S,"startx",0)+S.x,z=u(S,"starty",0)+S.y;(M=new l({name:E.name+S.name,id:S.id,x:E.x+u(S,"offsetx",0)+j*m.tilewidth,y:E.y+u(S,"offsety",0)+z*m.tileheight,width:S.width,height:S.height,tileWidth:m.tilewidth,tileHeight:m.tileheight,alpha:E.opacity*S.opacity,visible:E.visible&&S.visible,properties:u(S,"properties",[]),orientation:h(m.orientation)})).orientation===T.HEXAGONAL&&(M.hexSideLength=m.hexsidelength,M.staggerAxis=m.staggeraxis,M.staggerIndex=m.staggerindex);for(var Y=0;Y<S.height;Y++){L[Y]=[null];for(var Z=0;Z<S.width;Z++)L[Y][Z]=null}for(Y=0,Tt=S.chunks.length;Y<Tt;Y++)for(var rt=S.chunks[Y],st=rt.x-j,K=rt.y-z,tt=0,W=0,H=rt.data.length;W<H;W++){var it=G+st,dt=tt+K;(P=d(rt.data[W])).gid>0?((O=new f(M,P.gid,it,dt,m.tilewidth,m.tileheight)).rotation=P.rotation,O.flipX=P.flipped,L[dt][it]=O):(N=v?null:new f(M,-1,it,dt,m.tilewidth,m.tileheight),L[dt][it]=N),++G===rt.width&&(tt++,G=0)}}else{(M=new l({name:E.name+S.name,id:S.id,x:E.x+u(S,"offsetx",0)+S.x,y:E.y+u(S,"offsety",0)+S.y,width:S.width,height:S.height,tileWidth:m.tilewidth,tileHeight:m.tileheight,alpha:E.opacity*S.opacity,visible:E.visible&&S.visible,properties:u(S,"properties",[]),orientation:h(m.orientation)})).orientation===T.HEXAGONAL&&(M.hexSideLength=m.hexsidelength,M.staggerAxis=m.staggeraxis,M.staggerIndex=m.staggerindex);for(var mt=[],vt=0,Tt=S.data.length;vt<Tt;vt++)(P=d(S.data[vt])).gid>0?((O=new f(M,P.gid,G,L.length,m.tilewidth,m.tileheight)).rotation=P.rotation,O.flipX=P.flipped,mt.push(O)):(N=v?null:new f(M,-1,G,L.length,m.tilewidth,m.tileheight),mt.push(N)),++G===S.width&&(L.push(mt),G=0,mt=[])}M.data=L,y.push(M)}else if("group"===S.type){var A=g(m,S,E);w.push(E),E=A}}return y}},24619:(_,k,a)=>{var b=a(33629),T=a(16536),g=a(52205),h=a(57880);_.exports=function(l){for(var m,d=[],f=[],c=null,v=0;v<l.tilesets.length;v++){var x=l.tilesets[v];if(x.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(x.image){var y=new b(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,void 0,void 0,x.tileoffset);if(l.version>1){var w=void 0,E=void 0;if(Array.isArray(x.tiles)){w=w||{},E=E||{};for(var S=0;S<x.tiles.length;S++){var A=x.tiles[S];if(A.properties){var I={};A.properties.forEach(function(Y){I[Y.name]=Y.value}),E[A.id]=I}if(A.objectgroup&&((w[A.id]||(w[A.id]={})).objectgroup=A.objectgroup,A.objectgroup.objects)){var M=A.objectgroup.objects.map(function(Y){return g(Y)});w[A.id].objectgroup.objects=M}A.animation&&((w[A.id]||(w[A.id]={})).animation=A.animation),A.type&&((w[A.id]||(w[A.id]={})).type=A.type)}}Array.isArray(x.wangsets)&&(E=E||{},h(x.wangsets,w=w||{})),w&&(y.tileData=w,y.tileProperties=E)}else if(x.tileproperties&&(y.tileProperties=x.tileproperties),x.tiles)for(m in y.tileData=x.tiles,y.tileData){var P=y.tileData[m].objectgroup;if(P&&P.objects){var O=P.objects.map(function(Y){return g(Y)});y.tileData[m].objectgroup.objects=O}}y.updateTileData(x.imagewidth,x.imageheight),d.push(y)}else{var N=new T(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,x.properties),L=0;for(S=0;S<x.tiles.length;S++){var G=(A=x.tiles[S]).image,j=parseInt(A.id,10);N.addImage(x.firstgid+j,G),L=Math.max(j,L)}N.maxId=L,f.push(N)}c&&(c.lastgid=x.firstgid-1),c=x}return{tilesets:d,imageCollections:f}}},57880:_=>{_.exports=function(a,b){for(var T=0;T<a.length;T++){var g=a[T],h=T;if(g.name&&""!==g.name&&(h=g.name),Array.isArray(g.wangtiles)&&g.wangtiles.length>0){var d,f,c,u={},l={};if(Array.isArray(g.edgecolors))for(d=0;d<g.edgecolors.length;d++)c=1+d,""!==(f=g.edgecolors[d]).name&&(u[c]=f.name);if(Array.isArray(g.cornercolors))for(d=0;d<g.cornercolors.length;d++)c=1+d,""!==(f=g.cornercolors[d]).name&&(l[c]=f.name);if(Array.isArray(g.colors))for(d=0;d<g.colors.length;d++)c=1+d,""!==(f=g.colors[d]).name&&(u[c]=l[c]=f.name);for(var m=[u,l,u,l,u,l,u,l],v=0;v<g.wangtiles.length;v++){var x=g.wangtiles[v],y=b[x.tileid]||(b[x.tileid]={});y=y.wangid||(y.wangid={});for(var w=[],E=0;E<Math.min(m.length,x.wangid.length);E++)if(0!==(f=x.wangid[E])){var S=m[E][f];w.push(void 0===S?f:S)}else w.push(void 0);y[h]=w}}}}},96761:(_,k,a)=>{_.exports={AssignTileProperties:a(51233),Base64Decode:a(41868),BuildTilesetIndex:a(84101),CreateGroupLayer:a(79677),ParseGID:a(29920),ParseImageLayers:a(12635),ParseJSONTiled:a(46594),ParseObject:a(52205),ParseObjectLayers:a(22611),ParseTileLayers:a(28200),ParseTilesets:a(24619)}},33385:(_,k,a)=>{var b=a(83419),T=a(37277),g=a(44594),h=a(94880),u=a(72905),l=new b({initialize:function(f){this.scene=f,this.systems=f.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],f.sys.events.once(g.BOOT,this.boot,this),f.sys.events.on(g.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(g.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var d=this.systems.events;d.on(g.PRE_UPDATE,this.preUpdate,this),d.on(g.UPDATE,this.update,this),d.once(g.SHUTDOWN,this.shutdown,this)},addEvent:function(d){var f;return d instanceof h?(this.removeEvent(f=d),f.elapsed=f.startAt,f.hasDispatched=!1,f.repeatCount=-1===f.repeat||f.loop?999999999999:f.repeat):f=new h(d),this._pendingInsertion.push(f),f},delayedCall:function(d,f,c,m){return this.addEvent({delay:d,callback:f,args:c,callbackScope:m})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(d){Array.isArray(d)||(d=[d]);for(var f=0;f<d.length;f++){var c=d[f];u(this._pendingRemoval,c),u(this._pendingInsertion,c),u(this._active,c)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var d=this._pendingRemoval.length,f=this._pendingInsertion.length;if(0!==d||0!==f){var c,m;for(c=0;c<d;c++){var v=this._active.indexOf(m=this._pendingRemoval[c]);v>-1&&this._active.splice(v,1),m.destroy()}for(c=0;c<f;c++)this._active.push(m=this._pendingInsertion[c]);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(d,f){if(this.now=d,!this.paused){f*=this.timeScale;for(var c=0;c<this._active.length;c++){var m=this._active[c];if(!m.paused&&(m.elapsed+=f*m.timeScale,m.elapsed>=m.delay)){var v=m.elapsed-m.delay;if(m.elapsed=m.delay,!m.hasDispatched&&m.callback&&(m.hasDispatched=!0,m.callback.apply(m.callbackScope,m.args)),m.repeatCount>0){if(m.repeatCount--,v>=m.delay)for(;v>=m.delay&&m.repeatCount>0;)m.callback&&m.callback.apply(m.callbackScope,m.args),v-=m.delay,m.repeatCount--;m.elapsed=v,m.hasDispatched=!1}else m.hasDispatched&&this._pendingRemoval.push(m)}}}},shutdown:function(){var d;for(d=0;d<this._pendingInsertion.length;d++)this._pendingInsertion[d].destroy();for(d=0;d<this._active.length;d++)this._active[d].destroy();for(d=0;d<this._pendingRemoval.length;d++)this._pendingRemoval[d].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var f=this.systems.events;f.off(g.PRE_UPDATE,this.preUpdate,this),f.off(g.UPDATE,this.update,this),f.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null}});T.register("Clock",l,"time"),_.exports=l},96120:(_,k,a)=>{var b=a(83419),T=a(50792),g=a(39429),h=a(95540),u=a(44594),l=a(89809),d=new b({Extends:T,initialize:function(c,m){T.call(this),this.scene=c,this.systems=c.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var v=this.systems.events;v.on(u.PRE_UPDATE,this.preUpdate,this),v.on(u.UPDATE,this.update,this),v.once(u.SHUTDOWN,this.destroy,this),m&&this.add(m)},preUpdate:function(f,c){this.paused||(this.elapsed+=c*this.timeScale)},update:function(){if(!this.paused&&!this.complete){var f,x,c=this.events,m=!1,v=this.systems;for(f=0;f<c.length;f++){var y=c[f];if(!y.complete&&y.time<=this.elapsed){if(y.complete=!0,this.totalComplete++,x=y.target?y.target:this,y.if&&!y.if.call(x,y))continue;if(y.once&&(m=!0),y.set&&y.target)for(var w in y.set)y.target[w]=y.set[w];this.iteration&&y.repeat++,y.loop&&y.repeat&&y.loop.call(x),y.tween&&(y.tweenInstance=v.tweens.add(y.tween)),y.sound&&("string"==typeof y.sound?v.sound.play(y.sound):v.sound.play(y.sound.key,y.sound.config)),y.event&&this.emit(y.event,x),y.run&&y.run.call(x),y.stop&&this.stop()}}if(m)for(f=0;f<c.length;f++)c[f].complete&&c[f].once&&(c.splice(f,1),f--);this.totalComplete>=c.length&&(0!==this.loop&&(-1===this.loop||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(l.COMPLETE,this)}},play:function(f){return void 0===f&&(f=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,f&&this.reset(),this},pause:function(){this.paused=!0;for(var f=this.events,c=0;c<f.length;c++){var m=f[c];m.tweenInstance&&(m.tweenInstance.paused=!0)}return this},repeat:function(f){return(void 0===f||!0===f)&&(f=-1),!1===f&&(f=0),this.loop=f,this},resume:function(){this.paused=!1;for(var f=this.events,c=0;c<f.length;c++){var m=f[c];m.tweenInstance&&(m.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(f){void 0===f&&(f=!1),this.elapsed=0,f||(this.iteration=0);for(var c=this.events,m=0;m<c.length;m++){var v=c[m];v.complete=!1,f||(v.repeat=0),v.tweenInstance&&v.tweenInstance.stop()}return this.play(!1)},add:function(f){Array.isArray(f)||(f=[f]);var c=this.events,m=0;c.length>0&&(m=c[c.length-1].time);for(var v=0;v<f.length;v++){var x=f[v],y=h(x,"at",0),w=h(x,"in",null);null!==w&&(y=this.elapsed+w);var E=h(x,"from",null);null!==E&&(y=m+E),c.push({complete:!1,time:y,repeat:0,if:h(x,"if",null),run:h(x,"run",null),loop:h(x,"loop",null),event:h(x,"event",null),target:h(x,"target",null),set:h(x,"set",null),tween:h(x,"tween",null),sound:h(x,"sound",null),once:h(x,"once",!1),stop:h(x,"stop",!1)}),m=y}return this.complete=!1,this},clear:function(){for(var f=this.events,c=0;c<f.length;c++){var m=f[c];m.tweenInstance&&m.tweenInstance.stop()}return f=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){return Math.min(this.totalComplete,this.events.length)/this.events.length},destroy:function(){var f=this.systems.events;f.off(u.PRE_UPDATE,this.preUpdate,this),f.off(u.UPDATE,this.update,this),f.off(u.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});g.register("timeline",function(f){return new d(this.scene,f)}),_.exports=d},94880:(_,k,a)=>{var b=a(83419),T=a(95540),g=new b({initialize:function(u){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(u)},reset:function(h){if(this.delay=T(h,"delay",0),this.repeat=T(h,"repeat",0),this.loop=T(h,"loop",!1),this.callback=T(h,"callback",void 0),this.callbackScope=T(h,"callbackScope",this),this.args=T(h,"args",[]),this.timeScale=T(h,"timeScale",1),this.startAt=T(h,"startAt",0),this.paused=T(h,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,0===this.delay&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){return this.repeat>0?(this.elapsed+this.delay*(this.repeat-this.repeatCount))/(this.delay+this.delay*this.repeat):this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(h){void 0===h&&(h=!1),this.elapsed=this.delay,this.hasDispatched=!h,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});_.exports=g},35945:_=>{_.exports="complete"},89809:(_,k,a)=>{_.exports={COMPLETE:a(35945)}},90291:(_,k,a)=>{_.exports={Clock:a(33385),Events:a(89809),Timeline:a(96120),TimerEvent:a(94880)}},40382:(_,k,a)=>{var b=a(72905),T=a(83419),g=a(43491),h=a(88032),u=a(37277),l=a(44594),d=a(93109),f=a(86081),c=a(8357),m=a(43960),v=a(26012),x=new T({initialize:function(w){this.scene=w,this.events=w.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(l.UPDATE,this.update,this),this.events.once(l.SHUTDOWN,this.shutdown,this)},create:function(y){Array.isArray(y)||(y=[y]);for(var w=[],E=0;E<y.length;E++){var S=y[E];S instanceof f||S instanceof m?w.push(S):Array.isArray(S.tweens)?w.push(v(this,S)):w.push(c(this,S))}return 1===w.length?w[0]:w},add:function(y){var w=y,E=this.tweens;return w instanceof f||w instanceof m||(w=Array.isArray(w.tweens)?v(this,w):c(this,w)),E.push(w.reset()),w},addMultiple:function(y){for(var w,E=[],S=this.tweens,A=0;A<y.length;A++)(w=y[A])instanceof f||w instanceof m||(w=Array.isArray(w.tweens)?v(this,w):c(this,w)),S.push(w.reset()),E.push(w);return E},chain:function(y){var w=v(this,y);return this.tweens.push(w.init()),w},getChainedTweens:function(y){return y.getChainedTweens()},has:function(y){return this.tweens.indexOf(y)>-1},existing:function(y){return this.has(y)||this.tweens.push(y.reset()),this},addCounter:function(y){var w=h(this,y);return this.tweens.push(w.reset()),w},stagger:function(y,w){return d(y,w)},setLagSmooth:function(y,w){return void 0===y&&(y=1/1e-8),void 0===w&&(w=0),this.maxLag=y,this.lagSkip=Math.min(w,this.maxLag),this},setFps:function(y){return void 0===y&&(y=240),this.gap=1e3/y,this.nextTime=1e3*this.time+this.gap,this},getDelta:function(y){var w=Date.now()-this.prevTime;w>this.maxLag&&(this.startTime+=w-this.lagSkip),this.prevTime+=w;var E=this.prevTime-this.startTime,S=E-this.nextTime,A=E-1e3*this.time;return S>0||y?(this.time=E/=1e3,this.nextTime+=S+(S>=this.gap?4:this.gap-S)):A=0,A},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(y){void 0===y&&(y=!1);var w=this.getDelta(y);if(!(w<=0)){this.processing=!0;var E,S,A=[],I=this.tweens;for(E=0;E<I.length;E++)(S=I[E]).update(w)&&A.push(S);var M=A.length;if(M&&I.length>0){for(E=0;E<M;E++){var P=I.indexOf(S=A[E]);P>-1&&(S.isPendingRemove()||S.isDestroyed())&&(I.splice(P,1),S.destroy())}A.length=0}this.processing=!1}},remove:function(y){return this.processing?y.setPendingRemoveState():(b(this.tweens,y),y.setRemovedState()),this},reset:function(y){return this.existing(y),y.seek(),y.setActiveState(),this},makeActive:function(y){return this.existing(y),y.setActiveState(),this},each:function(y,w){var E,S=[null];for(E=1;E<arguments.length;E++)S.push(arguments[E]);return this.tweens.forEach(function(A){S[0]=A,y.apply(w,S)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(y){for(var w=[],E=this.tweens,S=(y=Array.isArray(y)?g(y):[y]).length,A=0;A<E.length;A++)for(var I=E[A],M=0;M<S;M++)!I.isDestroyed()&&I.hasTarget(y[M])&&w.push(I);return w},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(y){return this.timeScale=y,this},isTweening:function(y){for(var E,w=this.tweens,S=0;S<w.length;S++)if((E=w[S]).isPlaying()&&E.hasTarget(y))return!0;return!1},killAll:function(){for(var y=this.processing?this.getTweens():this.tweens,w=0;w<y.length;w++)y[w].destroy();return this.processing||(y.length=0),this},killTweensOf:function(y){for(var w=this.getTweensOf(y),E=0;E<w.length;E++)w[E].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(l.UPDATE,this.update,this),this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.events=null}});u.register("TweenManager",x,"tweens"),_.exports=x},57355:_=>{_.exports=function(a,b,T){return a&&a.hasOwnProperty(b)?a[b]:T}},6113:(_,k,a)=>{var b=a(62640),T=a(35355);_.exports=function(h,u){var l=b.Power0;if("string"==typeof h)if(b.hasOwnProperty(h))l=b[h];else{var d="";if(h.indexOf(".")){var f=(d=h.substring(h.indexOf(".")+1)).toLowerCase();"in"===f?d="easeIn":"out"===f?d="easeOut":"inout"===f&&(d="easeInOut")}h=T(h.substring(0,h.indexOf(".")+1)+d),b.hasOwnProperty(h)&&(l=b[h])}else"function"==typeof h&&(l=h);if(!u)return l;var c=u.slice(0);return c.unshift(0),function(m){return c[0]=m,l.apply(this,c)}}},91389:(_,k,a)=>{var b=a(89318),T=a(77259),h={bezier:b,catmull:T,catmullrom:T,linear:a(28392)};_.exports=function(l){if(null===l)return null;var d=h.linear;return"string"==typeof l?h.hasOwnProperty(l)&&(d=h[l]):"function"==typeof l&&(d=l),d}},55292:_=>{_.exports=function(a,b,T){return a.hasOwnProperty(b)?"function"==typeof a[b]?function(u,l,d,f,c,m){return a[b](u,l,d,f,c,m)}:function(){return a[b]}:"function"==typeof T?T:function(){return T}}},82985:(_,k,a)=>{var b=a(81076);_.exports=function(g){var h,u=[];if(g.hasOwnProperty("props"))for(h in g.props)"_"!==h.substring(0,1)&&u.push({key:h,value:g.props[h]});else for(h in g)-1===b.indexOf(h)&&"_"!==h.substring(0,1)&&u.push({key:h,value:g[h]});return u}},62329:(_,k,a)=>{var b=a(35154);_.exports=function(g){var h=b(g,"targets",null);return null===h||("function"==typeof h&&(h=h.call()),Array.isArray(h)||(h=[h])),h}},17777:(_,k,a)=>{var b=a(30976),T=a(99472);function g(f){return!!f.getActive&&"function"==typeof f.getActive}function h(f){return!!f.getStart&&"function"==typeof f.getStart}function u(f){return!!f.getEnd&&"function"==typeof f.getEnd}var d=function(f,c){var m,v=function(rt,st,K){return K},x=function(rt,st,K){return K},y=null,w=typeof c;if("number"===w)v=function(){return c};else if(Array.isArray(c))x=function(){return c[0]},v=function(){return c[c.length-1]};else if("string"===w){var E=c.toLowerCase(),S="random"===E.substring(0,6),A="int"===E.substring(0,3);if(S||A){var I=E.indexOf("("),M=E.indexOf(")"),P=E.indexOf(",");if(!(I&&M&&P))throw new Error("invalid random() format");var O=parseFloat(E.substring(I+1,P)),N=parseFloat(E.substring(P+1,M));v=S?function(){return T(O,N)}:function(){return b(O,N)}}else{E=E[0];var L=parseFloat(c.substr(2));switch(E){case"+":v=function(rt,st,K){return K+L};break;case"-":v=function(rt,st,K){return K-L};break;case"*":v=function(rt,st,K){return K*L};break;case"/":v=function(rt,st,K){return K/L};break;default:v=function(){return parseFloat(c)}}}}else if("function"===w)v=c;else if("object"===w)if(function l(f){return h(f)||u(f)||g(f)}(c))g(c)&&(y=c.getActive),u(c)&&(v=c.getEnd),h(c)&&(x=c.getStart);else if(c.hasOwnProperty("value"))m=d(f,c.value);else{var G=c.hasOwnProperty("to"),j=c.hasOwnProperty("from"),z=c.hasOwnProperty("start");if(G&&(j||z)){if(m=d(f,c.to),z){var Y=d(f,c.start);m.getActive=Y.getEnd}if(j){var Z=d(f,c.from);m.getStart=Z.getEnd}}}return m||(m={getActive:y,getEnd:v,getStart:x}),m};_.exports=d},88032:(_,k,a)=>{var b=a(70402),T=a(69902),g=a(23568),h=a(57355),u=a(6113),l=a(55292),d=a(35154),f=a(17777),c=a(269),m=a(86081);_.exports=function(x,y,w){if(y instanceof m)return y.parent=x,y;w=void 0===w?T:c(T,w);var E=d(y,"from",0),S=d(y,"to",1),A=[{value:E}],I=d(y,"delay",w.delay),M=d(y,"easeParams",w.easeParams),P=d(y,"ease",w.ease),O=f("value",S),N=new m(x,A),L=N.add(0,"value",O.getEnd,O.getStart,O.getActive,u(d(y,"ease",P),d(y,"easeParams",M)),l(y,"delay",I),d(y,"duration",w.duration),h(y,"yoyo",w.yoyo),d(y,"hold",w.hold),d(y,"repeat",w.repeat),d(y,"repeatDelay",w.repeatDelay),!1,!1);L.start=E,L.current=E,N.completeDelay=g(y,"completeDelay",0),N.loop=Math.round(g(y,"loop",0)),N.loopDelay=Math.round(g(y,"loopDelay",0)),N.paused=h(y,"paused",!1),N.persist=h(y,"persist",!1),N.callbackScope=d(y,"callbackScope",N);for(var G=b.TYPES,j=0;j<G.length;j++){var z=G[j],Y=d(y,z,!1);if(Y){var Z=d(y,z+"Params",[]);N.setCallback(z,Y,Z)}}return N}},93109:(_,k,a)=>{var b=a(6113),T=a(35154),g=a(36383);_.exports=function(u,l){void 0===l&&(l={});var f=T(l,"start",0),c=T(l,"ease",null),m=T(l,"grid",null),v=T(l,"from",0),x="first"===v,y="center"===v,w="last"===v,E="number"==typeof v,S=Array.isArray(u),A=parseFloat(S?u[0]:u),I=S?parseFloat(u[1]):0,M=Math.max(A,I);if(S&&(f+=A),m){var P=m[0],O=m[1],N=0,L=0,G=0,j=0,z=[];w?(N=P-1,L=O-1):E?(N=v%P,L=Math.floor(v/P)):y&&(N=(P-1)/2,L=(O-1)/2);for(var Y=g.MIN_SAFE_INTEGER,Z=0;Z<O;Z++){z[Z]=[];for(var rt=0;rt<P;rt++){G=N-rt,j=L-Z;var st=Math.sqrt(G*G+j*j);st>Y&&(Y=st),z[Z][rt]=st}}}var K=c?b(c):null;return m?function(tt,W,H,it){var Tt,dt=0,mt=it%P,vt=Math.floor(it/P);if(mt>=0&&mt<P&&vt>=0&&vt<O&&(dt=z[vt][mt]),S){var Nt=I-A;Tt=K?dt/Y*Nt*K(dt/Y):dt/Y*Nt}else Tt=K?dt*A*K(dt/Y):dt*A;return Tt+f}:function(tt,W,H,it,dt){var mt,vt,Tt;return dt--,x?mt=it:y?mt=Math.abs(dt/2-it):w?mt=dt-it:E&&(mt=Math.abs(v-it)),S?(Tt=y?(I-A)/dt*(2*mt):(I-A)/dt*mt,vt=K?Tt*K(mt/dt):Tt):vt=K?dt*M*K(mt/dt):mt*A,vt+f}}},8357:(_,k,a)=>{var b=a(70402),T=a(69902),g=a(23568),h=a(57355),u=a(6113),l=a(91389),d=a(55292),f=a(82985),c=a(62329),m=a(35154),v=a(17777),x=a(269),y=a(86081);_.exports=function(E,S,A){if(S instanceof y)return S.parent=E,S;A=void 0===A?T:x(T,A);var I=c(S);!I&&A.targets&&(I=A.targets);for(var M=f(S),P=m(S,"delay",A.delay),O=m(S,"duration",A.duration),N=m(S,"easeParams",A.easeParams),L=m(S,"ease",A.ease),G=m(S,"hold",A.hold),j=m(S,"repeat",A.repeat),z=m(S,"repeatDelay",A.repeatDelay),Y=h(S,"yoyo",A.yoyo),Z=h(S,"flipX",A.flipX),rt=h(S,"flipY",A.flipY),st=m(S,"interpolation",A.interpolation),K=function($t,Zt,ee,le){if("texture"===ee){var De=le,gi=void 0;Array.isArray(le)?(De=le[0],gi=le[1]):le.hasOwnProperty("value")?(De=le.value,Array.isArray(le.value)?(De=le.value[0],gi=le.value[1]):"string"==typeof le.value&&(De=le.value)):"string"==typeof le&&(De=le),$t.addFrame(Zt,De,gi,d(le,"delay",P),m(le,"duration",O),m(le,"hold",G),m(le,"repeat",j),m(le,"repeatDelay",z),h(le,"flipX",Z),h(le,"flipY",rt))}else{var Me=v(ee,le),Ti=l(m(le,"interpolation",st));$t.add(Zt,ee,Me.getEnd,Me.getStart,Me.getActive,u(m(le,"ease",L),m(le,"easeParams",N)),d(le,"delay",P),m(le,"duration",O),h(le,"yoyo",Y),m(le,"hold",G),m(le,"repeat",j),m(le,"repeatDelay",z),h(le,"flipX",Z),h(le,"flipY",rt),Ti,Ti?le:null)}},tt=new y(E,I),W=0;W<M.length;W++)for(var H=M[W].key,it=M[W].value,dt=0;dt<I.length;dt++)"scale"!==H||I[dt].hasOwnProperty("scale")?K(tt,dt,H,it):(K(tt,dt,"scaleX",it),K(tt,dt,"scaleY",it));tt.completeDelay=g(S,"completeDelay",0),tt.loop=Math.round(g(S,"loop",0)),tt.loopDelay=Math.round(g(S,"loopDelay",0)),tt.paused=h(S,"paused",!1),tt.persist=h(S,"persist",!1),tt.callbackScope=m(S,"callbackScope",tt);for(var mt=b.TYPES,vt=0;vt<mt.length;vt++){var Tt=mt[vt],Nt=m(S,Tt,!1);if(Nt){var Yt=m(S,Tt+"Params",[]);tt.setCallback(Tt,Nt,Yt)}}return tt}},26012:(_,k,a)=>{var b=a(70402),T=a(23568),g=a(57355),h=a(62329),u=a(35154),l=a(8357),d=a(43960);_.exports=function(c,m){if(m instanceof d)return m.parent=c,m;var v=new d(c);v.startDelay=u(m,"delay",0),v.completeDelay=T(m,"completeDelay",0),v.loop=Math.round(T(m,"loop",u(m,"repeat",0))),v.loopDelay=Math.round(T(m,"loopDelay",u(m,"repeatDelay",0))),v.paused=g(m,"paused",!1),v.persist=g(m,"persist",!1),v.callbackScope=u(m,"callbackScope",v);var x,y=b.TYPES;for(x=0;x<y.length;x++){var w=y[x],E=u(m,w,!1);if(E){var S=u(m,w+"Params",[]);v.setCallback(w,E,S)}}var A=u(m,"tweens",null);if(Array.isArray(A)){var I=[],M=h(m),P=void 0;for(M&&(P={targets:M}),x=0;x<A.length;x++)I.push(l(v,A[x],P));v.add(I)}return v}},30231:(_,k,a)=>{_.exports={GetBoolean:a(57355),GetEaseFunction:a(6113),GetInterpolationFunction:a(91389),GetNewValue:a(55292),GetProps:a(82985),GetTargets:a(62329),GetValueOp:a(17777),NumberTweenBuilder:a(88032),StaggerBuilder:a(93109),TweenBuilder:a(8357)}},73685:_=>{_.exports="active"},98540:_=>{_.exports="complete"},67233:_=>{_.exports="loop"},2859:_=>{_.exports="pause"},98336:_=>{_.exports="repeat"},25764:_=>{_.exports="resume"},32193:_=>{_.exports="start"},84371:_=>{_.exports="stop"},70766:_=>{_.exports="update"},55659:_=>{_.exports="yoyo"},842:(_,k,a)=>{_.exports={TWEEN_ACTIVE:a(73685),TWEEN_COMPLETE:a(98540),TWEEN_LOOP:a(67233),TWEEN_PAUSE:a(2859),TWEEN_RESUME:a(25764),TWEEN_REPEAT:a(98336),TWEEN_START:a(32193),TWEEN_STOP:a(84371),TWEEN_UPDATE:a(70766),TWEEN_YOYO:a(55659)}},43066:(_,k,a)=>{var b={States:a(86353),Builders:a(30231),Events:a(842),TweenManager:a(40382),Tween:a(86081),TweenData:a(48177),TweenFrameData:a(42220),BaseTween:a(70402),TweenChain:a(43960)};_.exports=b},70402:(_,k,a)=>{var b=a(83419),T=a(50792),g=a(842),h=a(86353),u=new b({Extends:T,initialize:function(d){T.call(this),this.parent=d,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=h.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.persist=!1},setTimeScale:function(l){return this.timeScale=l,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(g.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(g.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(g.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(g.TWEEN_COMPLETE,"onComplete")},complete:function(l){return void 0===l&&(l=0),l?(this.setCompleteDelayState(),this.countdown=l):this.onCompleteHandler(),this},completeAfterLoop:function(l){return void 0===l&&(l=0),this.loopCounter>l&&(this.loopCounter=l),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(g.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(l){this.countdown-=l,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(g.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(l){return this.countdown-=l,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(g.TWEEN_START,"onStart"),l=0),l},updateCompleteDelay:function(l){this.countdown-=l,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(l,d,f){return void 0===f&&(f=[]),this.callbacks.hasOwnProperty(l)&&(this.callbacks[l]={func:d,params:f}),this},setPendingState:function(){this.state=h.PENDING},setActiveState:function(){this.state=h.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=h.LOOP_DELAY},setCompleteDelayState:function(){this.state=h.COMPLETE_DELAY},setStartDelayState:function(){this.state=h.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=h.PENDING_REMOVE},setRemovedState:function(){this.state=h.REMOVED},setFinishedState:function(){this.state=h.FINISHED},setDestroyedState:function(){this.state=h.DESTROYED},isPending:function(){return this.state===h.PENDING},isActive:function(){return this.state===h.ACTIVE},isLoopDelayed:function(){return this.state===h.LOOP_DELAY},isCompleteDelayed:function(){return this.state===h.COMPLETE_DELAY},isStartDelayed:function(){return this.state===h.START_DELAY},isPendingRemove:function(){return this.state===h.PENDING_REMOVE},isRemoved:function(){return this.state===h.REMOVED},isFinished:function(){return this.state===h.FINISHED},isDestroyed:function(){return this.state===h.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(l){l.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});u.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],_.exports=u},95042:(_,k,a)=>{var b=a(83419),T=a(842),g=a(86353),h=new b({initialize:function(l,d,f,c,m,v,x,y,w,E){this.tween=l,this.targetIndex=d,this.duration=c,this.totalDuration=0,this.delay=0,this.getDelay=f,this.yoyo=m,this.hold=v,this.repeat=x,this.repeatDelay=y,this.repeatCounter=0,this.flipX=w,this.flipY=E,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(u){void 0===u&&(u=this.current),this.tween.targets[this.targetIndex][this.key]=u},setCreatedState:function(){this.state=g.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=g.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=g.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=g.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=g.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=g.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=g.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=g.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===g.CREATED},isDelayed:function(){return this.state===g.DELAY},isPendingRender:function(){return this.state===g.PENDING_RENDER},isPlayingForward:function(){return this.state===g.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===g.PLAYING_BACKWARD},isHolding:function(){return this.state===g.HOLD_DELAY},isRepeating:function(){return this.state===g.REPEAT_DELAY},isComplete:function(){return this.state===g.COMPLETE},setStateFromEnd:function(u){this.yoyo?this.onRepeat(u,!0,!0):this.repeatCounter>0?this.onRepeat(u,!0,!1):this.setCompleteState()},setStateFromStart:function(u){this.repeatCounter>0?this.onRepeat(u,!1):this.setCompleteState()},reset:function(){var u=this.tween,l=u.totalTargets,d=this.targetIndex,f=u.targets[d],c=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(f,c,0,d,l,u),this.repeatCounter=-1===this.repeat?g.MAX:this.repeat,this.setPendingRenderState();var m=this.duration+this.hold;this.yoyo&&(m+=this.duration);var v=m+this.repeatDelay;this.totalDuration=this.delay+m,-1===this.repeat?(this.totalDuration+=v*g.MAX,u.isInfinite=!0):this.repeat>0&&(this.totalDuration+=v*this.repeat),this.totalDuration>u.duration&&(u.duration=this.totalDuration),this.delay<u.startDelay&&(u.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(u,l,d){var f=this.tween,c=f.totalTargets,m=this.targetIndex,v=f.targets[m],x=this.key,y="texture"!==x;if(this.elapsed=u,this.progress=u/this.duration,this.flipX&&v.toggleFlipX(),this.flipY&&v.toggleFlipY(),y&&(l||d)&&(this.start=this.getStartValue(v,x,this.start,m,c,f)),d)return this.setPlayingBackwardState(),void this.dispatchEvent(T.TWEEN_YOYO,"onYoyo");this.repeatCounter--,y&&(this.end=this.getEndValue(v,x,this.start,m,c,f)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-u,y&&(this.current=this.start,v[x]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(T.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});_.exports=h},69902:_=>{_.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null}},81076:_=>{_.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(_,k,a)=>{var b=a(70402),T=a(83419),g=a(842),h=a(44603),u=a(39429),l=a(36383),d=a(86353),f=a(48177),c=a(42220),m=new T({Extends:b,initialize:function(x,y){b.call(this,x),this.targets=y,this.totalTargets=y.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(v,x,y,w,E,S,A,I,M,P,O,N,L,G,j,z){var Y=new f(this,v,x,y,w,E,S,A,I,M,P,O,N,L,G,j,z);return this.totalData=this.data.push(Y),Y},addFrame:function(v,x,y,w,E,S,A,I,M,P){var O=new c(this,v,x,y,w,E,S,A,I,M,P);return this.totalData=this.data.push(O),O},getValue:function(v){void 0===v&&(v=0);var x=null;return this.data&&(x=this.data[v].current),x},hasTarget:function(v){return this.targets&&-1!==this.targets.indexOf(v)},updateTo:function(v,x,y){if(void 0===y&&(y=!1),"texture"!==v)for(var w=0;w<this.totalData;w++){var E=this.data[w];E.key===v&&(E.isPlayingForward()||E.isPlayingBackward())&&(E.end=x,y&&(E.start=E.current))}return this},restart:function(){switch(this.state){case d.REMOVED:case d.FINISHED:this.seek(),this.parent.makeActive(this);break;case d.PENDING:case d.PENDING_REMOVE:this.parent.reset(this);break;case d.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek()}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(g.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,b.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(v,x,y){if(void 0===v&&(v=0),void 0===x&&(x=16.6),void 0===y&&(y=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;y||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(g.TWEEN_ACTIVE,"onActive");var w=this.paused;if(this.paused=!1,v>0){for(var E=Math.floor(v/x),S=v-E*x,A=0;A<E;A++)this.update(x);S>0&&this.update(S)}return this.paused=w,this.isSeeking=!1,this},initTweenData:function(v){void 0===v&&(v=!1),this.duration=0,this.startDelay=l.MAX_SAFE_INTEGER;for(var x=this.data,y=0;y<this.totalData;y++)x[y].reset(v);this.duration=Math.max(this.duration,.01);var w=this.duration,E=this.completeDelay,S=this.loopCounter;this.totalDuration=S>0?w+E+(w+this.loopDelay)*S:w+E},reset:function(v){return void 0===v&&(v=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,-1===this.loop&&(this.isInfinite=!0,this.loopCounter=d.MAX),v||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(g.TWEEN_ACTIVE,"onActive")),this},update:function(v){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(v*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(v),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(v),!1;this.hasStarted||(this.startDelay-=v,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(g.TWEEN_START,"onStart"),v=0));var x=!1;if(this.isActive())for(var y=this.data,w=0;w<this.totalData;w++)y[w].update(v)&&(x=!0);this.elapsed+=v,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=v,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),x||this.nextState();var E=this.isPendingRemove();return E&&this.persist&&(this.setFinishedState(),E=!1),E},forward:function(v){return this.update(v),this},rewind:function(v){return this.update(-v),this},dispatchEvent:function(v,x){if(!this.isSeeking){this.emit(v,this,this.targets);var y=this.callbacks[x];y&&y.func.apply(this.callbackScope,[this,this.targets].concat(y.params))}},destroy:function(){b.prototype.destroy.call(this),this.targets=null}});u.register("tween",function(v){return this.scene.sys.tweens.add(v)}),h.register("tween",function(v){return this.scene.sys.tweens.create(v)}),_.exports=m},43960:(_,k,a)=>{var b=a(72905),T=a(70402),g=a(83419),h=a(842),u=a(44603),l=a(39429),d=a(86353),f=new g({Extends:T,initialize:function(m){T.call(this,m),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=-1===this.loop?d.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(c){var m=this.parent.create(c);Array.isArray(m)||(m=[m]);for(var v=this.data,x=0;x<m.length;x++){var y=m[x];y.parent=this,v.push(y.reset())}return this.totalData=v.length,this},remove:function(c){return b(this.data,c),c.setRemovedState(),c===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(c){for(var m=this.data,v=0;v<this.totalData;v++)if(m[v].hasTarget(c))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(c){return c.seek(),c.setActiveState(),this},makeActive:function(c){return c.reset(),c.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var c=this.data,m=this.totalData,v=0;v<m;v++)c[v].reset(!1);this.setCurrentTween(0)},update:function(c){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;c*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(c):this.isCompleteDelayed()?this.updateCompleteDelay(c):this.isStartDelayed()&&(c=this.updateStartCountdown(c));var m=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(c)&&this.nextTween()&&this.nextState(),(m=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),m=!1)),m},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData||(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(c){this.currentIndex=c,this.currentTween=this.data[c],this.currentTween.setActiveState()},dispatchEvent:function(c,m){this.emit(c,this);var v=this.callbacks[m];v&&v.func.apply(this.callbackScope,[this].concat(v.params))},destroy:function(){T.prototype.destroy.call(this),this.currentTween=null}});l.register("tweenchain",function(c){return this.scene.sys.tweens.chain(c)}),u.register("tweenchain",function(c){return this.scene.sys.tweens.create(c)}),_.exports=f},48177:(_,k,a)=>{var b=a(95042),T=a(45319),g=a(83419),h=a(842),u=new g({Extends:b,initialize:function(d,f,c,m,v,x,y,w,E,S,A,I,M,P,O,N,L){b.call(this,d,f,w,E,S,A,I,M,P,O),this.key=c,this.getActiveValue=x,this.getEndValue=m,this.getStartValue=v,this.ease=y,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=N,this.interpolationData=L},reset:function(l){b.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex],f=this.key;l&&(d[f]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(d[f]=this.getActiveValue(d,f,0))},update:function(l){var d=this.tween,f=d.totalTargets,c=this.targetIndex,m=d.targets[c],v=this.key;if(!m)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=l,this.elapsed<=0&&(this.elapsed=0,l=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(m,v,m[v],c,f,d),this.end=this.getEndValue(m,v,this.start,c,f,d),this.current=this.start,m[v]=this.start,this.setPlayingForwardState(),!0;var x=this.isPlayingForward(),y=this.isPlayingBackward();if(x||y){var w=this.elapsed,E=this.duration,S=0,A=!1;(w+=l)>=E?(S=w-E,w=E,A=!0):w<0&&(w=0);var I=T(w/E,0,1);this.elapsed=w,this.progress=I,this.previous=this.current,x||(I=1-I);var M=this.ease(I);this.current=this.interpolation?this.interpolation(this.interpolationData,M):this.start+(this.end-this.start)*M,m[v]=this.current,A&&(x?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(S):this.setStateFromStart(S)),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(l,d){var f=this.tween;if(!f.isSeeking){var c=f.targets[this.targetIndex],m=this.key,v=this.current,x=this.previous;f.emit(l,f,m,c,v,x);var y=f.callbacks[d];y&&y.func.apply(f.callbackScope,[f,c,m,v,x].concat(y.params))}},destroy:function(){b.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});_.exports=u},42220:(_,k,a)=>{var b=a(95042),T=a(45319),g=a(83419),h=a(842),u=new g({Extends:b,initialize:function(d,f,c,m,v,x,y,w,E,S,A){b.call(this,d,f,v,x,!1,y,w,E,S,A),this.key="texture",this.startTexture=null,this.endTexture=c,this.startFrame=null,this.endFrame=m,this.yoyo=0!==w},reset:function(l){b.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=d.texture.key,this.startFrame=d.frame.name),l&&d.setTexture(this.startTexture,this.startFrame)},update:function(l){var c=this.tween.targets[this.targetIndex];if(!c)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=l,this.elapsed<=0&&(this.elapsed=0,l=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&c.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),v=this.isPlayingBackward();if(m||v){var x=this.elapsed,y=this.duration,w=0,E=!1;(x+=l)>=y?(w=x-y,x=y,E=!0):x<0&&(x=0);var S=T(x/y,0,1);this.elapsed=x,this.progress=S,E&&(m?(c.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(w)):(c.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(w))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(l,d){var f=this.tween;if(!f.isSeeking){var c=f.targets[this.targetIndex],m=this.key;f.emit(l,f,m,c);var v=f.callbacks[d];v&&v.func.apply(f.callbackScope,[f,c,m].concat(v.params))}},destroy:function(){b.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});_.exports=u},86353:_=>{_.exports={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999}},83419:_=>{function a(u,l,d){var f=d?u[l]:Object.getOwnPropertyDescriptor(u,l);return!d&&f.value&&"object"==typeof f.value&&(f=f.value),!(!f||!function k(u){return!!u.get&&"function"==typeof u.get||!!u.set&&"function"==typeof u.set}(f))&&(typeof f.enumerable>"u"&&(f.enumerable=!0),typeof f.configurable>"u"&&(f.configurable=!0),f)}function b(u,l){var d=Object.getOwnPropertyDescriptor(u,l);return!!d&&(d.value&&"object"==typeof d.value&&(d=d.value),!1===d.configurable)}function T(u,l,d,f){for(var c in l)if(l.hasOwnProperty(c)){var m=a(l,c,d);if(!1!==m){if(b((f||u).prototype,c)){if(h.ignoreFinals)continue;throw new Error("cannot override final property '"+c+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(u.prototype,c,m)}else u.prototype[c]=l[c]}}function g(u,l){if(l){Array.isArray(l)||(l=[l]);for(var d=0;d<l.length;d++)T(u,l[d].prototype||l[d])}}function h(u){var l,d;if(u||(u={}),u.initialize){if("function"!=typeof u.initialize)throw new Error("initialize must be a function");l=u.initialize,delete u.initialize}else if(u.Extends){var f=u.Extends;l=function(){f.apply(this,arguments)}}else l=function(){};u.Extends?(l.prototype=Object.create(u.Extends.prototype),l.prototype.constructor=l,d=u.Extends,delete u.Extends):l.prototype.constructor=l;var c=null;return u.Mixins&&(c=u.Mixins,delete u.Mixins),g(l,c),T(l,u,!0,d),l}h.extend=T,h.mixin=g,h.ignoreFinals=!1,_.exports=h},29747:_=>{_.exports=function(){}},20242:_=>{_.exports=function(){return null}},71146:_=>{_.exports=function(a,b,T,g,h){if(void 0===h&&(h=a),T>0){var u=T-a.length;if(u<=0)return null}if(!Array.isArray(b))return-1===a.indexOf(b)?(a.push(b),g&&g.call(h,b),b):null;for(var l=b.length-1;l>=0;)-1!==a.indexOf(b[l])&&b.splice(l,1),l--;if(0===(l=b.length))return null;T>0&&l>u&&(b.splice(u),l=u);for(var d=0;d<l;d++){var f=b[d];a.push(f),g&&g.call(h,f)}return b}},51067:_=>{_.exports=function(a,b,T,g,h,u){if(void 0===T&&(T=0),void 0===u&&(u=a),g>0){var l=g-a.length;if(l<=0)return null}if(!Array.isArray(b))return-1===a.indexOf(b)?(a.splice(T,0,b),h&&h.call(u,b),b):null;for(var d=b.length-1;d>=0;)-1!==a.indexOf(b[d])&&b.pop(),d--;if(0===(d=b.length))return null;g>0&&d>l&&(b.splice(l),d=l);for(var f=d-1;f>=0;f--){var c=b[f];a.splice(T,0,c),h&&h.call(u,c)}return b}},66905:_=>{_.exports=function(a,b){var T=a.indexOf(b);return-1!==T&&T<a.length&&(a.splice(T,1),a.push(b)),b}},21612:(_,k,a)=>{var b=a(82011);_.exports=function(g,h,u,l,d){void 0===l&&(l=0),void 0===d&&(d=g.length);var f=0;if(b(g,l,d))for(var c=l;c<d;c++)g[c][h]===u&&f++;return f}},95428:_=>{_.exports=function(a,b,T){var g,h=[null];for(g=3;g<arguments.length;g++)h.push(arguments[g]);for(g=0;g<a.length;g++)h[0]=a[g],b.apply(T,h);return a}},36914:(_,k,a)=>{var b=a(82011);_.exports=function(g,h,u,l,d){if(void 0===l&&(l=0),void 0===d&&(d=g.length),b(g,l,d)){var f,c=[null];for(f=5;f<arguments.length;f++)c.push(arguments[f]);for(f=l;f<d;f++)c[0]=g[f],h.apply(u,c)}return g}},81957:_=>{_.exports=function(a,b,T){if(!b.length)return NaN;if(1===b.length)return b[0];var h,u,g=1;if(T){if(a<b[0][T])return b[0];for(;b[g][T]<a;)g++}else for(;b[g]<a;)g++;return g>b.length&&(g=b.length),T?(u=b[g][T])-a<=a-(h=b[g-1][T])?b[g]:b[g-1]:(u=b[g])-a<=a-(h=b[g-1])?u:h}},43491:_=>{var k=function(a,b){void 0===b&&(b=[]);for(var T=0;T<a.length;T++)Array.isArray(a[T])?k(a[T],b):b.push(a[T]);return b};_.exports=k},46710:(_,k,a)=>{var b=a(82011);_.exports=function(g,h,u,l,d){void 0===l&&(l=0),void 0===d&&(d=g.length);var f=[];if(b(g,l,d))for(var c=l;c<d;c++){var m=g[c];(!h||h&&void 0===u&&m.hasOwnProperty(h)||h&&void 0!==u&&m[h]===u)&&f.push(m)}return f}},58731:(_,k,a)=>{var b=a(82011);_.exports=function(g,h,u,l,d){if(void 0===l&&(l=0),void 0===d&&(d=g.length),b(g,l,d))for(var f=l;f<d;f++){var c=g[f];if(!h||h&&void 0===u&&c.hasOwnProperty(h)||h&&void 0!==u&&c[h]===u)return c}return null}},26546:_=>{_.exports=function(a,b,T){void 0===b&&(b=0),void 0===T&&(T=a.length);var g=b+Math.floor(Math.random()*T);return void 0===a[g]?null:a[g]}},85835:_=>{_.exports=function(a,b,T){if(b===T)return a;var g=a.indexOf(b),h=a.indexOf(T);if(g<0||h<0)throw new Error("Supplied items must be elements of the same array");return g>h||(a.splice(g,1),h=a.indexOf(T),a.splice(h+1,0,b)),a}},83371:_=>{_.exports=function(a,b,T){if(b===T)return a;var g=a.indexOf(b),h=a.indexOf(T);if(g<0||h<0)throw new Error("Supplied items must be elements of the same array");return g<h||(a.splice(g,1),0===h?a.unshift(b):a.splice(h,0,b)),a}},70864:_=>{_.exports=function(a,b){var T=a.indexOf(b);if(T>0){var g=a[T-1],h=a.indexOf(g);a[T]=g,a[h]=b}return a}},69693:_=>{_.exports=function(a,b,T){var g=a.indexOf(b);if(-1===g||T<0||T>=a.length)throw new Error("Supplied index out of bounds");return g!==T&&(a.splice(g,1),a.splice(T,0,b)),b}},40853:_=>{_.exports=function(a,b){var T=a.indexOf(b);if(-1!==T&&T<a.length-1){var g=a[T+1],h=a.indexOf(g);a[T]=g,a[h]=b}return a}},20283:_=>{_.exports=function(a,b,T,g){var u,h=[],l=!1;if((T||g)&&(l=!0,T||(T=""),g||(g="")),b<a)for(u=a;u>=b;u--)h.push(l?T+u.toString()+g:u);else for(u=a;u<=b;u++)h.push(l?T+u.toString()+g:u);return h}},593:(_,k,a)=>{var b=a(2284);_.exports=function(g,h,u){void 0===g&&(g=0),void 0===h&&(h=null),void 0===u&&(u=1),null===h&&(h=g,g=0);for(var l=[],d=Math.max(b((h-g)/(u||1)),0),f=0;f<d;f++)l.push(g),g+=u;return l}},43886:_=>{function k(T,g,h){var u=T[g];T[g]=T[h],T[h]=u}function a(T,g){return T<g?-1:T>g?1:0}var b=function(T,g,h,u,l){for(void 0===h&&(h=0),void 0===u&&(u=T.length-1),void 0===l&&(l=a);u>h;){if(u-h>600){var d=u-h+1,f=g-h+1,c=Math.log(d),m=.5*Math.exp(2*c/3),v=.5*Math.sqrt(c*m*(d-m)/d)*(f-d/2<0?-1:1),x=Math.max(h,Math.floor(g-f*m/d+v)),y=Math.min(u,Math.floor(g+(d-f)*m/d+v));b(T,g,x,y,l)}var w=T[g],E=h,S=u;for(k(T,h,g),l(T[u],w)>0&&k(T,h,u);E<S;){for(k(T,E,S),E++,S--;l(T[E],w)<0;)E++;for(;l(T[S],w)>0;)S--}0===l(T[h],w)?k(T,h,S):k(T,++S,u),S<=g&&(h=S+1),g<=S&&(u=S-1)}};_.exports=b},88492:(_,k,a)=>{var b=a(35154),T=a(33680),g=function(u,l,d){for(var f=[],c=0;c<u.length;c++)for(var m=0;m<l.length;m++)for(var v=0;v<d;v++)f.push({a:u[c],b:l[m]});return f};_.exports=function(u,l,d){var f=b(d,"max",0),c=b(d,"qty",1),m=b(d,"random",!1),v=b(d,"randomB",!1),x=b(d,"repeat",0),y=b(d,"yoyo",!1),w=[];if(v&&T(l),-1===x)if(0===f)x=0;else{var E=u.length*l.length*c;y&&(E*=2),x=Math.ceil(f/E)}for(var S=0;S<=x;S++){var A=g(u,l,c);m&&T(A),w=w.concat(A),y&&(A.reverse(),w=w.concat(A))}return f&&w.splice(f),w}},72905:(_,k,a)=>{var b=a(19133);_.exports=function(g,h,u,l){var d;if(void 0===l&&(l=g),!Array.isArray(h))return-1!==(d=g.indexOf(h))?(b(g,d),u&&u.call(l,h),h):null;for(var f=h.length-1,c=[];f>=0;){var m=h[f];-1!==(d=g.indexOf(m))&&(b(g,d),c.push(m),u&&u.call(l,m)),f--}return c}},60248:(_,k,a)=>{var b=a(19133);_.exports=function(g,h,u,l){if(void 0===l&&(l=g),h<0||h>g.length-1)throw new Error("Index out of bounds");var d=b(g,h);return u&&u.call(l,d),d}},81409:(_,k,a)=>{var b=a(82011);_.exports=function(g,h,u,l,d){if(void 0===h&&(h=0),void 0===u&&(u=g.length),void 0===d&&(d=g),b(g,h,u)){var c=g.splice(h,u-h);if(l)for(var m=0;m<c.length;m++)l.call(d,c[m]);return c}return[]}},31856:(_,k,a)=>{var b=a(19133);_.exports=function(g,h,u){void 0===h&&(h=0),void 0===u&&(u=g.length);var l=h+Math.floor(Math.random()*u);return b(g,l)}},42169:_=>{_.exports=function(a,b,T){var g=a.indexOf(b),h=a.indexOf(T);return-1!==g&&-1===h&&(a[g]=T,!0)}},86003:_=>{_.exports=function(a,b){void 0===b&&(b=1);for(var T=null,g=0;g<b;g++)T=a.shift(),a.push(T);return T}},49498:_=>{_.exports=function(a,b){void 0===b&&(b=1);for(var T=null,g=0;g<b;g++)T=a.pop(),a.unshift(T);return T}},82011:_=>{_.exports=function(a,b,T,g){var h=a.length;if(b<0||b>h||b>=T||T>h){if(g)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},89545:_=>{_.exports=function(a,b){var T=a.indexOf(b);return-1!==T&&T>0&&(a.splice(T,1),a.unshift(b)),b}},17810:(_,k,a)=>{var b=a(82011);_.exports=function(g,h,u,l,d){if(void 0===l&&(l=0),void 0===d&&(d=g.length),b(g,l,d))for(var f=l;f<d;f++){var c=g[f];c.hasOwnProperty(h)&&(c[h]=u)}return g}},33680:_=>{_.exports=function(a){for(var b=a.length-1;b>0;b--){var T=Math.floor(Math.random()*(b+1)),g=a[b];a[b]=a[T],a[T]=g}return a}},90126:_=>{_.exports=function(a){var b=/\D/g;return a.sort(function(T,g){return parseInt(T.replace(b,""),10)-parseInt(g.replace(b,""),10)}),a}},19133:_=>{_.exports=function(a,b){if(!(b>=a.length)){for(var T=a.length-1,g=a[b],h=b;h<T;h++)a[h]=a[h+1];return a.length=T,g}}},19186:(_,k,a)=>{var b=a(82264);function T(l,d){return String(l).localeCompare(d)}function h(l,d,f,c){var y,w,E,S,A,m=l.length,v=0,x=2*f;for(y=0;y<m;y+=x)for(E=(w=y+f)+f,w>m&&(w=m),E>m&&(E=m),S=y,A=w;;)if(S<w&&A<E)d(l[S],l[A])<=0?c[v++]=l[S++]:c[v++]=l[A++];else if(S<w)c[v++]=l[S++];else{if(!(A<E))break;c[v++]=l[A++]}}_.exports=function(l,d){if(void 0===d&&(d=T),!l||l.length<2)return l;if(b.features.stableSort)return l.sort(d);var f=function g(l,d){var f=l.length;if(f<=1)return l;for(var c=new Array(f),m=1;m<f;m*=2){h(l,d,m,c);var v=l;l=c,c=v}return l}(l,d);return f!==l&&h(f,null,l.length,l),l}},25630:_=>{_.exports=function(a,b,T){if(b===T)return a;var g=a.indexOf(b),h=a.indexOf(T);if(g<0||h<0)throw new Error("Supplied items must be elements of the same array");return a[g]=T,a[h]=b,a}},37105:(_,k,a)=>{_.exports={Matrix:a(54915),Add:a(71146),AddAt:a(51067),BringToTop:a(66905),CountAllMatching:a(21612),Each:a(95428),EachInRange:a(36914),FindClosestInSorted:a(81957),Flatten:a(43491),GetAll:a(46710),GetFirst:a(58731),GetRandom:a(26546),MoveDown:a(70864),MoveTo:a(69693),MoveUp:a(40853),MoveAbove:a(85835),MoveBelow:a(83371),NumberArray:a(20283),NumberArrayStep:a(593),QuickSelect:a(43886),Range:a(88492),Remove:a(72905),RemoveAt:a(60248),RemoveBetween:a(81409),RemoveRandomElement:a(31856),Replace:a(42169),RotateLeft:a(86003),RotateRight:a(49498),SafeRange:a(82011),SendToBack:a(89545),SetAll:a(17810),Shuffle:a(33680),SortByDigits:a(90126),SpliceOne:a(19133),StableSort:a(19186),Swap:a(25630)}},86922:_=>{_.exports=function(a){if(!Array.isArray(a)||!Array.isArray(a[0]))return!1;for(var b=a[0].length,T=1;T<a.length;T++)if(a[T].length!==b)return!1;return!0}},63362:(_,k,a)=>{var b=a(41836),T=a(86922);_.exports=function(h){var u="";if(!T(h))return u;for(var l=0;l<h.length;l++){for(var d=0;d<h[l].length;d++){var f=h[l][d].toString();u+="undefined"!==f?b(f,2):"?",d<h[l].length-1&&(u+=" |")}if(l<h.length-1){u+="\n";for(var c=0;c<h[l].length;c++)u+="---",c<h[l].length-1&&(u+="+");u+="\n"}}return u}},92598:_=>{_.exports=function(a){return a.reverse()}},21224:_=>{_.exports=function(a){for(var b=0;b<a.length;b++)a[b].reverse();return a}},98717:(_,k,a)=>{var b=a(37829);_.exports=function(g){return b(g,180)}},44657:(_,k,a)=>{var b=a(37829);_.exports=function(g,h){void 0===h&&(h=1);for(var u=0;u<h;u++)g=b(g,90);return g}},37829:(_,k,a)=>{var b=a(86922),T=a(2429);_.exports=function(h,u){if(void 0===u&&(u=90),!b(h))return null;if("string"!=typeof u&&(u=(u%360+360)%360),90===u||-270===u||"rotateLeft"===u)(h=T(h)).reverse();else if(-90===u||270===u||"rotateRight"===u)h.reverse(),h=T(h);else if(180===Math.abs(u)||"rotate180"===u){for(var l=0;l<h.length;l++)h[l].reverse();h.reverse()}return h}},92632:(_,k,a)=>{var b=a(37829);_.exports=function(g,h){void 0===h&&(h=1);for(var u=0;u<h;u++)g=b(g,-90);return g}},69512:(_,k,a)=>{var b=a(86003),T=a(49498);_.exports=function(h,u,l){if(void 0===u&&(u=0),void 0===l&&(l=0),0!==l&&(l<0?b(h,Math.abs(l)):T(h,l)),0!==u)for(var d=0;d<h.length;d++){var f=h[d];u<0?b(f,Math.abs(u)):T(f,u)}return h}},2429:_=>{_.exports=function(a){for(var b=a.length,T=a[0].length,g=new Array(T),h=0;h<T;h++){g[h]=new Array(b);for(var u=b-1;u>-1;u--)g[h][u]=a[u][h]}return g}},54915:(_,k,a)=>{_.exports={CheckMatrix:a(86922),MatrixToString:a(63362),ReverseColumns:a(92598),ReverseRows:a(21224),Rotate180:a(98717),RotateLeft:a(44657),RotateMatrix:a(37829),RotateRight:a(92632),Translate:a(69512),TransposeMatrix:a(2429)}},71334:_=>{var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";_.exports=function(b,T){for(var g=new Uint8Array(b),h=g.length,u=T?"data:"+T+";base64,":"",l=0;l<h;l+=3)u+=k[g[l]>>2],u+=k[(3&g[l])<<4|g[l+1]>>4],u+=k[(15&g[l+1])<<2|g[l+2]>>6],u+=k[63&g[l+2]];return h%3==2?u=u.substring(0,u.length-1)+"=":h%3==1&&(u=u.substring(0,u.length-2)+"=="),u}},53134:_=>{for(var a=new Uint8Array(256),b=0;b<64;b++)a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(b)]=b;_.exports=function(g){var d,f,c,m,h=(g=g.substr(g.indexOf(",")+1)).length,u=.75*h,l=0;"="===g[h-1]&&(u--,"="===g[h-2]&&u--);for(var v=new ArrayBuffer(u),x=new Uint8Array(v),y=0;y<h;y+=4)d=a[g.charCodeAt(y)],f=a[g.charCodeAt(y+1)],c=a[g.charCodeAt(y+2)],m=a[g.charCodeAt(y+3)],x[l++]=d<<2|f>>4,x[l++]=(15&f)<<4|c>>2,x[l++]=(3&c)<<6|63&m;return v}},65839:(_,k,a)=>{_.exports={ArrayBufferToBase64:a(71334),Base64ToArrayBuffer:a(53134)}},91799:(_,k,a)=>{_.exports={Array:a(37105),Base64:a(65839),Objects:a(1183),String:a(31749),NOOP:a(29747),NULL:a(20242)}},41786:_=>{_.exports=function(a){var b={};for(var T in a)b[T]=Array.isArray(a[T])?a[T].slice(0):a[T];return b}},62644:_=>{var k=function(a){var b,g;if("object"!=typeof a||null===a)return a;for(g in b=Array.isArray(a)?[]:{},a)b[g]=k(a[g]);return b};_.exports=k},79291:(_,k,a)=>{var b=a(41212),T=function(){var g,h,u,l,d,f,c=arguments[0]||{},m=1,v=arguments.length,x=!1;for("boolean"==typeof c&&(x=c,c=arguments[1]||{},m=2),v===m&&(c=this,--m);m<v;m++)if(null!=(g=arguments[m]))for(h in g)u=c[h],c!==(l=g[h])&&(x&&l&&(b(l)||(d=Array.isArray(l)))?(d?(d=!1,f=u&&Array.isArray(u)?u:[]):f=u&&b(u)?u:{},c[h]=T(x,f,l)):void 0!==l&&(c[h]=l));return c};_.exports=T},23568:(_,k,a)=>{var b=a(75508),T=a(35154);_.exports=function(h,u,l){var d=T(h,u,null);if(null===d)return l;if(Array.isArray(d))return b.RND.pick(d);if("object"==typeof d){if(d.hasOwnProperty("randInt"))return b.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return b.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if("function"==typeof d)return d(u);return d}},95540:_=>{_.exports=function(a,b,T){var g=typeof a;return a&&"number"!==g&&"string"!==g&&a.hasOwnProperty(b)&&void 0!==a[b]?a[b]:T}},82840:(_,k,a)=>{var b=a(35154),T=a(45319);_.exports=function(h,u,l,d,f){void 0===f&&(f=l);var c=b(h,u,f);return T(c,l,d)}},35154:_=>{_.exports=function(a,b,T,g){if(!a&&!g||"number"==typeof a)return T;if(a&&a.hasOwnProperty(b))return a[b];if(g&&g.hasOwnProperty(b))return g[b];if(-1!==b.indexOf(".")){for(var h=b.split("."),u=a,l=g,d=T,f=T,c=!0,m=!0,v=0;v<h.length;v++)u&&u.hasOwnProperty(h[v])?(d=u[h[v]],u=u[h[v]]):c=!1,l&&l.hasOwnProperty(h[v])?(f=l[h[v]],l=l[h[v]]):m=!1;return c?d:m?f:T}return T}},69036:_=>{_.exports=function(a,b){for(var T=0;T<b.length;T++)if(!a.hasOwnProperty(b[T]))return!1;return!0}},1985:_=>{_.exports=function(a,b){for(var T=0;T<b.length;T++)if(a.hasOwnProperty(b[T]))return!0;return!1}},97022:_=>{_.exports=function(a,b){return a.hasOwnProperty(b)}},41212:_=>{_.exports=function(a){if(!a||"object"!=typeof a||a.nodeType||a===a.window)return!1;try{if(a.constructor&&!{}.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0}},46975:(_,k,a)=>{var b=a(41786);_.exports=function(g,h){var u=b(g);for(var l in h)u.hasOwnProperty(l)||(u[l]=h[l]);return u}},269:(_,k,a)=>{var b=a(41786);_.exports=function(g,h){var u=b(g);for(var l in h)u.hasOwnProperty(l)&&(u[l]=h[l]);return u}},18254:(_,k,a)=>{var b=a(97022);_.exports=function(g,h){for(var u={},l=0;l<h.length;l++){var d=h[l];b(g,d)&&(u[d]=g[d])}return u}},61622:_=>{_.exports=function(a,b,T){if(!a||"number"==typeof a)return!1;if(a.hasOwnProperty(b))return a[b]=T,!0;if(-1!==b.indexOf(".")){for(var g=b.split("."),h=a,u=a,l=0;l<g.length;l++){if(!h.hasOwnProperty(g[l]))return!1;u=h,h=h[g[l]]}return u[g[g.length-1]]=T,!0}return!1}},1183:(_,k,a)=>{_.exports={Clone:a(41786),DeepCopy:a(62644),Extend:a(79291),GetAdvancedValue:a(23568),GetFastValue:a(95540),GetMinMaxValue:a(82840),GetValue:a(35154),HasAll:a(69036),HasAny:a(1985),HasValue:a(97022),IsPlainObject:a(41212),Merge:a(46975),MergeRight:a(269),Pick:a(18254),SetValue:a(61622)}},27902:_=>{_.exports=function(a,b){return a.replace(/%([0-9]+)/g,function(T,g){return b[Number(g)-1]})}},41836:_=>{_.exports=function(a,b,T,g){void 0===b&&(b=0),void 0===T&&(T=" "),void 0===g&&(g=3);var h=0;if(b+1>=(a=a.toString()).length)switch(g){case 1:a=new Array(b+1-a.length).join(T)+a;break;case 3:var u=Math.ceil((h=b-a.length)/2);a=new Array(h-u+1).join(T)+a+new Array(u+1).join(T);break;default:a+=new Array(b+1-a.length).join(T)}return a}},33628:_=>{_.exports=function(a,b){return 0===b?a.slice(1):a.slice(0,b)+a.slice(b+1)}},27671:_=>{_.exports=function(a){return a.split("").reverse().join("")}},45650:_=>{_.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}},35355:_=>{_.exports=function(a){return a&&a[0].toUpperCase()+a.slice(1)}},31749:(_,k,a)=>{_.exports={Format:a(27902),Pad:a(41836),RemoveAt:a(33628),Reverse:a(27671),UppercaseFirst:a(35355),UUID:a(45650)}}},as={};function uo(_){var k=as[_];if(void 0!==k)return k.exports;var a=as[_]={exports:{}};return rd[_](a,a.exports,uo),a.exports}return uo.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),uo(85454)})(),Ms.exports=uo()},293:Ms=>{"use strict";Ms.exports=JSON.parse('{"a":["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"]}')}},Ms=>{Ms(Ms.s=390)}]);
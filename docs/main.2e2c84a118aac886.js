(self.webpackChunksct_implementation_demonstrator=self.webpackChunksct_implementation_demonstrator||[]).push([[792],{7652:(Wt,de,Mt)=>{"use strict";function jt(e,i){return Object.is(e,i)}let Xt=null,S=!1,P=1;const a=Symbol("SIGNAL");function y(e){const i=Xt;return Xt=e,i}const d={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function c(e){if(S)throw new Error("");if(null===Xt)return;Xt.consumerOnSignalRead(e);const i=Xt.nextProducerIndex++;R(Xt),i<Xt.producerNode.length&&Xt.producerNode[i]!==e&&I(Xt)&&M(Xt.producerNode[i],Xt.producerIndexOfThis[i]),Xt.producerNode[i]!==e&&(Xt.producerNode[i]=e,Xt.producerIndexOfThis[i]=I(Xt)?A(e,Xt,i):0),Xt.producerLastReadVersion[i]=e.version}function p(e){if((!I(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==P)){if(!e.producerMustRecompute(e)&&!T(e))return e.dirty=!1,void(e.lastCleanEpoch=P);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=P}}function u(e){if(void 0===e.liveConsumerNode)return;const i=S;S=!0;try{for(const t of e.liveConsumerNode)t.dirty||v(t)}finally{S=i}}function m(){return!1!==Xt?.consumerAllowSignalWrites}function v(e){e.dirty=!0,u(e),e.consumerMarkedDirty?.(e)}function x(e){return e&&(e.nextProducerIndex=0),y(e)}function b(e,i){if(y(i),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(I(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)M(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function T(e){R(e);for(let i=0;i<e.producerNode.length;i++){const t=e.producerNode[i],n=e.producerLastReadVersion[i];if(n!==t.version||(p(t),n!==t.version))return!0}return!1}function _(e){if(R(e),I(e))for(let i=0;i<e.producerNode.length;i++)M(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function A(e,i,t){if(F(e),0===e.liveConsumerNode.length&&N(e))for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=A(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(i)-1}function M(e,i){if(F(e),1===e.liveConsumerNode.length&&N(e))for(let n=0;n<e.producerNode.length;n++)M(e.producerNode[n],e.producerIndexOfThis[n]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[i],r=e.liveConsumerNode[i];R(r),r.producerIndexOfThis[n]=i}}function I(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function R(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function F(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function N(e){return void 0!==e.producerNode}function V(e){const i=Object.create(H);i.computation=e;const t=()=>{if(p(i),c(i),i.value===Q)throw i.error;return i.value};return t[a]=i,t}const B=Symbol("UNSET"),G=Symbol("COMPUTING"),Q=Symbol("ERRORED"),H={...d,value:B,dirty:!0,error:null,equal:jt,producerMustRecompute:e=>e.value===B||e.value===G,producerRecomputeValue(e){if(e.value===G)throw new Error("Detected cycle in computations.");const i=e.value;e.value=G;const t=x(e);let n;try{n=e.computation()}catch(r){n=Q,e.error=r}finally{b(e,t)}i!==B&&i!==Q&&n!==Q&&e.equal(i,n)?e.value=i:(e.value=n,e.version++)}};let tt=function K(){throw new Error};function at(){tt()}let q=null;function nt(e,i){m()||at(),e.equal(e.value,i)||(e.value=i,function Et(e){e.version++,function h(){P++}(),u(e),q?.()}(e))}const bt={...d,equal:jt,value:void 0};const Kt=()=>{},Zt={...d,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Kt};function ae(e){return"function"==typeof e}function fe(e){const t=e(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ke=fe(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ye(e,i){if(e){const t=e.indexOf(i);0<=t&&e.splice(t,1)}}class Pe{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(ae(n))try{n()}catch(s){i=s instanceof ke?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ei(s)}catch(o){i=i??[],o instanceof ke?i=[...i,...o.errors]:i.push(o)}}if(i)throw new ke(i)}}add(i){var t;if(i&&i!==this)if(this.closed)ei(i);else{if(i instanceof Pe){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(i)}}_hasParent(i){const{_parentage:t}=this;return t===i||Array.isArray(t)&&t.includes(i)}_addParent(i){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(i),t):t?[t,i]:i}_removeParent(i){const{_parentage:t}=this;t===i?this._parentage=null:Array.isArray(t)&&Ye(t,i)}remove(i){const{_finalizers:t}=this;t&&Ye(t,i),i instanceof Pe&&i._removeParent(this)}}Pe.EMPTY=(()=>{const e=new Pe;return e.closed=!0,e})();const Qe=Pe.EMPTY;function Se(e){return e instanceof Pe||e&&"closed"in e&&ae(e.remove)&&ae(e.add)&&ae(e.unsubscribe)}function ei(e){ae(e)?e():e.unsubscribe()}const ri={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Bi={setTimeout(e,i,...t){const{delegate:n}=Bi;return n?.setTimeout?n.setTimeout(e,i,...t):setTimeout(e,i,...t)},clearTimeout(e){const{delegate:i}=Bi;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function tn(e){Bi.setTimeout(()=>{const{onUnhandledError:i}=ri;if(!i)throw e;i(e)})}function on(){}const ln=Ur("C",void 0,void 0);function Ur(e,i,t){return{kind:e,value:i,error:t}}let dn=null;function or(e){if(ri.useDeprecatedSynchronousErrorHandling){const i=!dn;if(i&&(dn={errorThrown:!1,error:null}),e(),i){const{errorThrown:t,error:n}=dn;if(dn=null,t)throw n}}else e()}class Ts extends Pe{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,Se(i)&&i.add(this)):this.destination=Mst}static create(i,t,n){return new qo(i,t,n)}next(i){this.isStopped?RD(function Mr(e){return Ur("N",e,void 0)}(i),this):this._next(i)}error(i){this.isStopped?RD(function hn(e){return Ur("E",void 0,e)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?RD(ln,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xl=Function.prototype.bind;function js(e,i){return Xl.call(e,i)}class Va{constructor(i){this.partialObserver=i}next(i){const{partialObserver:t}=this;if(t.next)try{t.next(i)}catch(n){Yl(n)}}error(i){const{partialObserver:t}=this;if(t.error)try{t.error(i)}catch(n){Yl(n)}else Yl(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(t){Yl(t)}}}class qo extends Ts{constructor(i,t,n){let r;if(super(),ae(i)||!i)r={next:i??void 0,error:t??void 0,complete:n??void 0};else{let s;this&&ri.useDeprecatedNextContext?(s=Object.create(i),s.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&js(i.next,s),error:i.error&&js(i.error,s),complete:i.complete&&js(i.complete,s)}):r=i}this.destination=new Va(r)}}function Yl(e){ri.useDeprecatedSynchronousErrorHandling?function Fr(e){ri.useDeprecatedSynchronousErrorHandling&&dn&&(dn.errorThrown=!0,dn.error=e)}(e):tn(e)}function RD(e,i){const{onStoppedNotification:t}=ri;t&&Bi.setTimeout(()=>t(e,i))}const Mst={closed:!0,next:on,error:function Dst(e){throw e},complete:on},PD="function"==typeof Symbol&&Symbol.observable||"@@observable";function ad(e){return e}function k3(e){return 0===e.length?ad:1===e.length?e[0]:function(t){return e.reduce((n,r)=>r(n),t)}}let dr=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(t,n,r){const s=function Pst(e){return e&&e instanceof Ts||function Rst(e){return e&&ae(e.next)&&ae(e.error)&&ae(e.complete)}(e)&&Se(e)}(t)?t:new qo(t,n,r);return or(()=>{const{operator:o,source:l}=this;s.add(o?o.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=F3(n))((r,s)=>{const o=new qo({next:l=>{try{t(l)}catch(w){s(w),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[PD](){return this}pipe(...t){return k3(t)(this)}toPromise(t){return new(t=F3(t))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return e.create=i=>new e(i),e})();function F3(e){var i;return null!==(i=e??ri.Promise)&&void 0!==i?i:Promise}const kst=fe(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fe=(()=>{class e extends dr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new O3(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new kst}next(t){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(t)}})}error(t){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){or(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:r,observers:s}=this;return n||r?Qe:(this.currentObservers=null,s.push(t),new Pe(()=>{this.currentObservers=null,Ye(s,t)}))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:r,isStopped:s}=this;n?t.error(r):s&&t.complete()}asObservable(){const t=new dr;return t.source=this,t}}return e.create=(i,t)=>new O3(i,t),e})();class O3 extends Fe{constructor(i,t){super(),this.destination=i,this.source=t}next(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,i)}error(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,i)}complete(){var i,t;null===(t=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===t||t.call(i)}_subscribe(i){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(i))&&void 0!==n?n:Qe}}class Kr extends Fe{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:n}=this;if(i)throw t;return this._throwIfClosed(),n}next(i){super.next(this._value=i)}}function L3(e){return ae(e?.lift)}function gs(e){return i=>{if(L3(i))return i.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Zr(e,i,t,n,r){return new Fst(e,i,t,n,r)}class Fst extends Ts{constructor(i,t,n,r,s,o){super(i),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(l){try{t(l)}catch(w){i.error(w)}}:super._next,this._error=r?function(l){try{r(l)}catch(w){i.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(l){i.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function Ri(e,i){return gs((t,n)=>{let r=0;t.subscribe(Zr(n,s=>{n.next(e.call(i,s,r++))}))})}const N3="https://g.co/ng/security#xss";class pe extends Error{constructor(i,t){super(function Xm(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}(i,t)),this.code=i}}function Wu(e){return{toString:e}.toString()}const $m="__parameters__";function Km(e,i,t){return Wu(()=>{const n=function kD(e){return function(...t){if(e){const n=e(...t);for(const r in n)this[r]=n[r]}}}(i);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return l.annotation=o,l;function l(w,E,D){const k=w.hasOwnProperty($m)?w[$m]:Object.defineProperty(w,$m,{value:[]})[$m];for(;k.length<=D;)k.push(null);return(k[D]=k[D]||[]).push(o),w}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const Jr=globalThis;function Cr(e){for(let i in e)if(e[i]===Cr)return i;throw Error("Could not find renamed property on target object.")}function Ost(e,i){for(const t in i)i.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function aa(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(aa).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const t=i.indexOf("\n");return-1===t?i:i.substring(0,t)}function FD(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const Lst=Cr({__forward_ref__:Cr});function kn(e){return e.__forward_ref__=kn,e.toString=function(){return aa(this())},e}function $i(e){return kw(e)?e():e}function kw(e){return"function"==typeof e&&e.hasOwnProperty(Lst)&&e.__forward_ref__===kn}function Ie(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ui(e){return{providers:e.providers||[],imports:e.imports||[]}}function Fw(e){return z3(e,Lw)||z3(e,G3)}function z3(e,i){return e.hasOwnProperty(i)?e[i]:null}function Ow(e){return e&&(e.hasOwnProperty(OD)||e.hasOwnProperty(Gst))?e[OD]:null}const Lw=Cr({\u0275prov:Cr}),OD=Cr({\u0275inj:Cr}),G3=Cr({ngInjectableDef:Cr}),Gst=Cr({ngInjectorDef:Cr});class te{constructor(i,t){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function UD(e){return e&&!!e.\u0275providers}const q0=Cr({\u0275cmp:Cr}),zD=Cr({\u0275dir:Cr}),GD=Cr({\u0275pipe:Cr}),W3=Cr({\u0275mod:Cr}),ju=Cr({\u0275fac:Cr}),ty=Cr({__NG_ELEMENT_ID__:Cr}),j3=Cr({__NG_ENV_ID__:Cr});function fn(e){return"string"==typeof e?e:null==e?"":String(e)}function HD(e,i){throw new pe(-201,!1)}var Nn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Nn||{});let WD;function X3(){return WD}function tl(e){const i=WD;return WD=e,i}function Y3(e,i,t){const n=Fw(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&Nn.Optional?null:void 0!==i?i:void HD()}const ey={},jD="__NG_DI_FLAG__",Nw="ngTempTokenPath",$st=/\n/gm,$3="__source";let Zm;function ld(e){const i=Zm;return Zm=e,i}function Zst(e,i=Nn.Default){if(void 0===Zm)throw new pe(-203,!1);return null===Zm?Y3(e,void 0,i):Zm.get(e,i&Nn.Optional?null:void 0,i)}function re(e,i=Nn.Default){return(X3()||Zst)($i(e),i)}function Jt(e,i=Nn.Default){return re(e,Bw(i))}function Bw(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function XD(e){const i=[];for(let t=0;t<e.length;t++){const n=$i(e[t]);if(Array.isArray(n)){if(0===n.length)throw new pe(900,!1);let r,s=Nn.Default;for(let o=0;o<n.length;o++){const l=n[o],w=Jst(l);"number"==typeof w?-1===w?r=l.token:s|=w:r=l}i.push(re(r,s))}else i.push(re(n))}return i}function iy(e,i){return e[jD]=i,e.prototype[jD]=i,e}function Jst(e){return e[jD]}const Xu=iy(Km("Optional"),8),Mf=iy(Km("SkipSelf"),4);function If(e,i){return e.hasOwnProperty(ju)?e[ju]:null}function Jm(e,i){e.forEach(t=>Array.isArray(t)?Jm(t,i):i(t))}function K3(e,i,t){i>=e.length?e.push(t):e.splice(i,0,t)}function Vw(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function yl(e,i,t){let n=qm(e,i);return n>=0?e[1|n]=t:(n=~n,function Z3(e,i,t,n){let r=e.length;if(r==i)e.push(t,n);else if(1===r)e.push(n,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>i;)e[r]=e[r-2],r--;e[i]=t,e[i+1]=n}}(e,n,i,t)),n}function $D(e,i){const t=qm(e,i);if(t>=0)return e[1|t]}function qm(e,i){return function J3(e,i,t){let n=0,r=e.length>>t;for(;r!==n;){const s=n+(r-n>>1),o=e[s<<t];if(i===o)return s<<t;o>i?r=s:n=s+1}return~(r<<t)}(e,i,1)}const Qc={},er=[],Kc=new te(""),q3=new te("",-1),QD=new te("");class zw{get(i,t=ey){if(t===ey){const n=new Error(`NullInjectorError: No provider for ${aa(i)}!`);throw n.name="NullInjectorError",n}return t}}var Gw=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Gw||{}),Sc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Sc||{}),cd=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(cd||{});function sat(e,i,t){let n=e.length;for(;;){const r=e.indexOf(i,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=i.length;if(r+s===n||e.charCodeAt(r+s)<=32)return r}t=r+1}}function KD(e,i,t){let n=0;for(;n<t.length;){const r=t[n];if("number"==typeof r){if(0!==r)break;n++;const s=t[n++],o=t[n++],l=t[n++];e.setAttribute(i,o,l,s)}else{const s=r,o=t[++n];eB(s)?e.setProperty(i,s,o):e.setAttribute(i,s,o),n++}}return n}function tB(e){return 3===e||4===e||6===e}function eB(e){return 64===e.charCodeAt(0)}function ny(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let t=-1;for(let n=0;n<i.length;n++){const r=i[n];"number"==typeof r?t=r:0===t||iB(e,t,r,null,-1===t||2===t?i[++n]:null)}}return e}function iB(e,i,t,n,r){let s=0,o=e.length;if(-1===i)o=-1;else for(;s<e.length;){const l=e[s++];if("number"==typeof l){if(l===i){o=-1;break}if(l>i){o=s-1;break}}}for(;s<e.length;){const l=e[s];if("number"==typeof l)break;if(l===t){if(null===n)return void(null!==r&&(e[s+1]=r));if(n===e[s+1])return void(e[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,i),s=o+1),e.splice(s++,0,t),null!==n&&e.splice(s++,0,n),null!==r&&e.splice(s++,0,r)}const nB="ng-template";function aat(e,i,t,n){let r=0;if(n){for(;r<i.length&&"string"==typeof i[r];r+=2)if("class"===i[r]&&-1!==sat(i[r+1].toLowerCase(),t,0))return!0}else if(ZD(e))return!1;if(r=i.indexOf(1,r),r>-1){let s;for(;++r<i.length&&"string"==typeof(s=i[r]);)if(s.toLowerCase()===t)return!0}return!1}function ZD(e){return 4===e.type&&e.value!==nB}function oat(e,i,t){return i===(4!==e.type||t?e.value:nB)}function lat(e,i,t){let n=4;const r=e.attrs,s=null!==r?function hat(e){for(let i=0;i<e.length;i++)if(tB(e[i]))return i;return e.length}(r):0;let o=!1;for(let l=0;l<i.length;l++){const w=i[l];if("number"!=typeof w){if(!o)if(4&n){if(n=2|1&n,""!==w&&!oat(e,w,t)||""===w&&1===i.length){if(Ec(n))return!1;o=!0}}else if(8&n){if(null===r||!aat(e,r,w,t)){if(Ec(n))return!1;o=!0}}else{const E=i[++l],D=cat(w,r,ZD(e),t);if(-1===D){if(Ec(n))return!1;o=!0;continue}if(""!==E){let k;if(k=D>s?"":r[D+1].toLowerCase(),2&n&&E!==k){if(Ec(n))return!1;o=!0}}}}else{if(!o&&!Ec(n)&&!Ec(w))return!1;if(o&&Ec(w))continue;o=!1,n=w|1&n}}return Ec(n)||o}function Ec(e){return!(1&e)}function cat(e,i,t,n){if(null===i)return-1;let r=0;if(n||!t){let s=!1;for(;r<i.length;){const o=i[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=i[++r];for(;"string"==typeof l;)l=i[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function dat(e,i){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const n=e[t];if("number"==typeof n)return-1;if(n===i)return t;t++}return-1}(i,e)}function rB(e,i,t=!1){for(let n=0;n<i.length;n++)if(lat(e,i[n],t))return!0;return!1}function fat(e,i){t:for(let t=0;t<i.length;t++){const n=i[t];if(e.length===n.length){for(let r=0;r<e.length;r++)if(e[r]!==n[r])continue t;return!0}}return!1}function sB(e,i){return e?":not("+i.trim()+")":i}function pat(e){let i=e[0],t=1,n=2,r="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&n){const l=e[++t];r+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!Ec(o)&&(i+=sB(s,r),r=""),n=o,s=s||!Ec(n);t++}return""!==r&&(i+=sB(s,r)),i}function Ge(e){return Wu(()=>{const i=oB(e),t={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Gw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Sc.Emulated,styles:e.styles||er,_:null,schemas:e.schemas||null,tView:null,id:""};lB(t);const n=e.dependencies;return t.directiveDefs=Hw(n,!1),t.pipeDefs=Hw(n,!0),t.id=function bat(e){let i=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)i=Math.imul(31,i)+r.charCodeAt(0)|0;return i+=2147483648,"c"+i}(t),t})}function vat(e){return Fn(e)||oa(e)}function yat(e){return null!==e}function Hi(e){return Wu(()=>({type:e.type,bootstrap:e.bootstrap||er,declarations:e.declarations||er,imports:e.imports||er,exports:e.exports||er,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function aB(e,i){if(null==e)return Qc;const t={};for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];let s,o,l=cd.None;Array.isArray(r)?(l=r[0],s=r[1],o=r[2]??s):(s=r,o=r),i?(t[s]=l!==cd.None?[n,l]:n,i[s]=o):t[s]=n}return t}function me(e){return Wu(()=>{const i=oB(e);return lB(i),i})}function io(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Fn(e){return e[q0]||null}function oa(e){return e[zD]||null}function Ua(e){return e[GD]||null}function no(e,i){const t=e[W3]||null;if(!t&&!0===i)throw new Error(`Type ${aa(e)} does not have '\u0275mod' property.`);return t}function oB(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||Qc,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||er,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aB(e.inputs,i),outputs:aB(e.outputs),debugInfo:null}}function lB(e){e.features?.forEach(i=>i(e))}function Hw(e,i){if(!e)return null;const t=i?Ua:vat;return()=>("function"==typeof e?e():e).map(n=>t(n)).filter(yat)}function wat(...e){return{\u0275providers:JD(0,e),\u0275fromNgModule:!0}}function JD(e,...i){const t=[],n=new Set;let r;const s=o=>{t.push(o)};return Jm(i,o=>{const l=o;Ww(l,s,[],n)&&(r||=[],r.push(l))}),void 0!==r&&cB(r,s),t}function cB(e,i){for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];qD(r,s=>{i(s,n)})}}function Ww(e,i,t,n){if(!(e=$i(e)))return!1;let r=null,s=Ow(e);const o=!s&&Fn(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const w=e.ngModule;if(s=Ow(w),!s)return!1;r=w}const l=n.has(r);if(o){if(l)return!1;if(n.add(r),o.dependencies){const w="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const E of w)Ww(E,i,t,n)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let E;n.add(r);try{Jm(s.imports,D=>{Ww(D,i,t,n)&&(E||=[],E.push(D))})}finally{}void 0!==E&&cB(E,i)}if(!l){const E=If(r)||(()=>new r);i({provide:r,useFactory:E,deps:er},r),i({provide:QD,useValue:r,multi:!0},r),i({provide:Kc,useValue:()=>re(r),multi:!0},r)}const w=s.providers;if(null!=w&&!l){const E=e;qD(w,D=>{i(D,E)})}}}return r!==e&&void 0!==e.providers}function qD(e,i){for(let t of e)UD(t)&&(t=t.\u0275providers),Array.isArray(t)?qD(t,i):i(t)}const Tat=Cr({provide:String,useValue:Cr});function tM(e){return null!==e&&"object"==typeof e&&Tat in e}function Rf(e){return"function"==typeof e}const eM=new te(""),jw={},Sat={};let iM;function Xw(){return void 0===iM&&(iM=new zw),iM}class za{}class tg extends za{get destroyed(){return this._destroyed}constructor(i,t,n,r){super(),this.parent=t,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rM(i,o=>this.processProvider(o)),this.records.set(q3,eg(void 0,this)),r.has("environment")&&this.records.set(za,eg(void 0,this));const s=this.records.get(eM);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(QD,er,Nn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=y(null);try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),y(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const t=ld(this),n=tl(void 0);try{return i()}finally{ld(t),tl(n)}}get(i,t=ey,n=Nn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(j3))return i[j3](this);n=Bw(n);const s=ld(this),o=tl(void 0);try{if(!(n&Nn.SkipSelf)){let w=this.records.get(i);if(void 0===w){const E=function Mat(e){return"function"==typeof e||"object"==typeof e&&e instanceof te}(i)&&Fw(i);w=E&&this.injectableDefInScope(E)?eg(nM(i),jw):null,this.records.set(i,w)}if(null!=w)return this.hydrate(i,w)}return(n&Nn.Self?Xw():this.parent).get(i,t=n&Nn.Optional&&t===ey?null:t)}catch(l){if("NullInjectorError"===l.name){if((l[Nw]=l[Nw]||[]).unshift(aa(i)),s)throw l;return function qst(e,i,t,n){const r=e[Nw];throw i[$3]&&r.unshift(i[$3]),e.message=function tat(e,i,t,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=aa(i);if(Array.isArray(i))r=i.map(aa).join(" -> ");else if("object"==typeof i){let s=[];for(let o in i)if(i.hasOwnProperty(o)){let l=i[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):aa(l)))}r=`{${s.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${e.replace($st,"\n  ")}`}("\n"+e.message,r,t,n),e.ngTokenPath=r,e[Nw]=null,e}(l,i,"R3InjectorError",this.source)}throw l}finally{tl(o),ld(s)}}resolveInjectorInitializers(){const i=y(null),t=ld(this),n=tl(void 0);try{const s=this.get(Kc,er,Nn.Self);for(const o of s)o()}finally{ld(t),tl(n),y(i)}}toString(){const i=[],t=this.records;for(const n of t.keys())i.push(aa(n));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(i){let t=Rf(i=$i(i))?i:$i(i&&i.provide);const n=function _at(e){return tM(e)?eg(void 0,e.useValue):eg(dB(e),jw)}(i);if(!Rf(i)&&!0===i.multi){let r=this.records.get(t);r||(r=eg(void 0,jw,!0),r.factory=()=>XD(r.multi),this.records.set(t,r)),t=i,r.multi.push(i)}this.records.set(t,n)}hydrate(i,t){const n=y(null);try{return t.value===jw&&(t.value=Sat,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Dat(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{y(n)}}injectableDefInScope(i){if(!i.providedIn)return!1;const t=$i(i.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(i){const t=this._onDestroyHooks.indexOf(i);-1!==t&&this._onDestroyHooks.splice(t,1)}}function nM(e){const i=Fw(e),t=null!==i?i.factory:If(e);if(null!==t)return t;if(e instanceof te)throw new pe(204,!1);if(e instanceof Function)return function Eat(e){if(e.length>0)throw new pe(204,!1);const t=function zst(e){return e&&(e[Lw]||e[G3])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new pe(204,!1)}function dB(e,i,t){let n;if(Rf(e)){const r=$i(e);return If(r)||nM(r)}if(tM(e))n=()=>$i(e.useValue);else if(function hB(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...XD(e.deps||[]));else if(function uB(e){return!(!e||!e.useExisting)}(e))n=()=>re($i(e.useExisting));else{const r=$i(e&&(e.useClass||e.provide));if(!function Aat(e){return!!e.deps}(e))return If(r)||nM(r);n=()=>new r(...XD(e.deps))}return n}function eg(e,i,t=!1){return{factory:e,value:i,multi:t?[]:void 0}}function rM(e,i){for(const t of e)Array.isArray(t)?rM(t,i):t&&UD(t)?rM(t.\u0275providers,i):i(t)}function Zc(e,i){e instanceof tg&&e.assertNotDestroyed();const n=ld(e),r=tl(void 0);try{return i()}finally{ld(n),tl(r)}}function fB(){return void 0!==X3()||null!=function Kst(){return Zm}()}function sM(e){if(!fB())throw new pe(-203,!1)}const as=0,Ze=1,zi=2,Xs=3,_c=4,Ga=5,Lo=6,ng=7,zr=8,Ys=9,Jc=10,en=11,ay=12,mB=13,rg=14,os=15,Pf=16,sg=17,Yu=18,ag=19,gB=20,hd=21,$w=22,$l=23,Pi=25,oM=1,qc=7,og=9,Ms=10;var Kw=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Kw||{});function ca(e){return Array.isArray(e)&&"object"==typeof e[oM]}function ro(e){return Array.isArray(e)&&!0===e[oM]}function lM(e){return!!(4&e.flags)}function kf(e){return e.componentOffset>-1}function Zw(e){return!(1&~e.flags)}function Ac(e){return!!e.template}function ly(e){return!!(512&e[zi])}class zat{constructor(i,t,n){this.previousValue=i,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function wB(e,i,t,n){null!==i?i.applyValueToInputSignal(i,n):e[t]=n}function lr(){return TB}function TB(e){return e.type.prototype.ngOnChanges&&(e.setInput=Hat),Gat}function Gat(){const e=SB(this),i=e?.current;if(i){const t=e.previous;if(t===Qc)e.previous=i;else for(let n in i)t[n]=i[n];e.current=null,this.ngOnChanges(i)}}function Hat(e,i,t,n,r){const s=this.declaredInputs[n],o=SB(e)||function Wat(e,i){return e[CB]=i}(e,{previous:Qc,current:null}),l=o.current||(o.current={}),w=o.previous,E=w[s];l[s]=new zat(E&&E.currentValue,t,w===Qc),wB(e,i,r,t)}lr.ngInherit=!0;const CB="__ngSimpleChanges__";function SB(e){return e[CB]||null}const tu=function(e,i,t){},EB="svg";function ir(e){for(;Array.isArray(e);)e=e[as];return e}function cy(e,i){return ir(i[e])}function No(e,i){return ir(i[e.index])}function uy(e,i){return e.data[i]}function Ff(e,i){return e[i]}function xl(e,i){const t=i[e];return ca(t)?t:t[as]}function fM(e){return!(128&~e[zi])}function Ql(e,i){return null==i?null:e[i]}function AB(e){e[sg]=0}function DB(e){1024&e[zi]||(e[zi]|=1024,fM(e)&&qw(e))}function Jw(e){return!!(9216&e[zi]||e[$l]?.dirty)}function pM(e){e[Jc].changeDetectionScheduler?.notify(8),64&e[zi]&&(e[zi]|=1024),Jw(e)&&qw(e)}function qw(e){e[Jc].changeDetectionScheduler?.notify(0);let i=$u(e);for(;null!==i&&!(8192&i[zi])&&(i[zi]|=8192,fM(i));)i=$u(i)}function tT(e,i){if(!(256&~e[zi]))throw new pe(911,!1);null===e[hd]&&(e[hd]=[]),e[hd].push(i)}function $u(e){const i=e[Xs];return ro(i)?i[Xs]:i}const nn={lFrame:zB(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let IB=!1;function RB(){return nn.bindingsEnabled}function Of(){return null!==nn.skipHydrationRootTNode}function Ee(){return nn.lFrame.lView}function Dn(){return nn.lFrame.tView}function zt(e){return nn.lFrame.contextLView=e,e[zr]}function Gt(e){return nn.lFrame.contextLView=null,e}function Sr(){let e=PB();for(;null!==e&&64===e.type;)e=e.parent;return e}function PB(){return nn.lFrame.currentTNode}function Dc(e,i){const t=nn.lFrame;t.currentTNode=e,t.isParent=i}function vM(){return nn.lFrame.isParent}function yM(){nn.lFrame.isParent=!1}function OB(){return IB}function LB(e){IB=e}function Bo(){const e=nn.lFrame;let i=e.bindingRootIndex;return-1===i&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function Qu(){return nn.lFrame.bindingIndex}function Mc(){return nn.lFrame.bindingIndex++}function Ku(e){const i=nn.lFrame,t=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,t}function rot(e,i){const t=nn.lFrame;t.bindingIndex=t.bindingRootIndex=e,xM(i)}function xM(e){nn.lFrame.currentDirectiveIndex=e}function bM(e){const i=nn.lFrame.currentDirectiveIndex;return-1===i?null:e[i]}function wM(){return nn.lFrame.currentQueryIndex}function iT(e){nn.lFrame.currentQueryIndex=e}function aot(e){const i=e[Ze];return 2===i.type?i.declTNode:1===i.type?e[Ga]:null}function VB(e,i,t){if(t&Nn.SkipSelf){let r=i,s=e;for(;!(r=r.parent,null!==r||t&Nn.Host||(r=aot(s),null===r||(s=s[rg],10&r.type))););if(null===r)return!1;i=r,e=s}const n=nn.lFrame=UB();return n.currentTNode=i,n.lView=e,!0}function TM(e){const i=UB(),t=e[Ze];nn.lFrame=i,i.currentTNode=t.firstChild,i.lView=e,i.tView=t,i.contextLView=e,i.bindingIndex=t.bindingStartIndex,i.inI18n=!1}function UB(){const e=nn.lFrame,i=null===e?null:e.child;return null===i?zB(e):i}function zB(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function GB(){const e=nn.lFrame;return nn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const HB=GB;function CM(){const e=GB();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ha(){return nn.lFrame.selectedIndex}function Lf(e){nn.lFrame.selectedIndex=e}function Gr(){const e=nn.lFrame;return uy(e.tView,e.selectedIndex)}function bl(){nn.lFrame.currentNamespace=EB}function dy(){!function cot(){nn.lFrame.currentNamespace=null}()}let jB=!0;function fy(){return jB}function eu(e){jB=e}function nT(e,i){for(let t=i.directiveStart,n=i.directiveEnd;t<n;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:D}=s;o&&(e.contentHooks??=[]).push(-t,o),l&&((e.contentHooks??=[]).push(t,l),(e.contentCheckHooks??=[]).push(t,l)),w&&(e.viewHooks??=[]).push(-t,w),E&&((e.viewHooks??=[]).push(t,E),(e.viewCheckHooks??=[]).push(t,E)),null!=D&&(e.destroyHooks??=[]).push(t,D)}}function rT(e,i,t){XB(e,i,3,t)}function sT(e,i,t,n){(3&e[zi])===t&&XB(e,i,t,n)}function SM(e,i){let t=e[zi];(3&t)===i&&(t&=16383,t+=1,e[zi]=t)}function XB(e,i,t,n){const s=n??-1,o=i.length-1;let l=0;for(let w=void 0!==n?65535&e[sg]:0;w<o;w++)if("number"==typeof i[w+1]){if(l=i[w],null!=n&&l>=n)break}else i[w]<0&&(e[sg]+=65536),(l<s||-1==s)&&(hot(e,t,i,w),e[sg]=(4294901760&e[sg])+w+2),w++}function YB(e,i){tu(4,e,i);const t=y(null);try{i.call(e)}finally{y(t),tu(5,e,i)}}function hot(e,i,t,n){const r=t[n]<0,s=t[n+1],l=e[r?-t[n]:t[n]];r?e[zi]>>14<e[sg]>>16&&(3&e[zi])===i&&(e[zi]+=16384,YB(l,s)):YB(l,s)}const lg=-1;class py{constructor(i,t,n){this.factory=i,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}const _M={};class Nf{constructor(i,t){this.injector=i,this.parentInjector=t}get(i,t,n){n=Bw(n);const r=this.injector.get(i,_M,n);return r!==_M||t===_M?r:this.parentInjector.get(i,t,n)}}function AM(e){return e!==lg}function my(e){return 32767&e}function gy(e,i){let t=function got(e){return e>>16}(e),n=i;for(;t>0;)n=n[rg],t--;return n}let DM=!0;function aT(e){const i=DM;return DM=e,i}const QB=255,KB=5;let yot=0;const iu={};function oT(e,i){const t=ZB(e,i);if(-1!==t)return t;const n=i[Ze];n.firstCreatePass&&(e.injectorIndex=i.length,MM(n.data,e),MM(i,null),MM(n.blueprint,null));const r=lT(e,i),s=e.injectorIndex;if(AM(r)){const o=my(r),l=gy(r,i),w=l[Ze].data;for(let E=0;E<8;E++)i[s+E]=l[o+E]|w[o+E]}return i[s+8]=r,s}function MM(e,i){e.push(0,0,0,0,0,0,0,0,i)}function ZB(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function lT(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,n=null,r=i;for(;null!==r;){if(n=rV(r),null===n)return lg;if(t++,r=r[rg],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return lg}function IM(e,i,t){!function xot(e,i,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(ty)&&(n=t[ty]),null==n&&(n=t[ty]=yot++);const r=n&QB;i.data[e+(r>>KB)]|=1<<r}(e,i,t)}function JB(e,i,t){if(t&Nn.Optional||void 0!==e)return e;HD()}function qB(e,i,t,n){if(t&Nn.Optional&&void 0===n&&(n=null),!(t&(Nn.Self|Nn.Host))){const r=e[Ys],s=tl(void 0);try{return r?r.get(i,n,t&Nn.Optional):Y3(i,n,t&Nn.Optional)}finally{tl(s)}}return JB(n,0,t)}function tV(e,i,t,n=Nn.Default,r){if(null!==e){if(2048&i[zi]&&!(n&Nn.Self)){const o=function Sot(e,i,t,n,r){let s=e,o=i;for(;null!==s&&null!==o&&2048&o[zi]&&!(512&o[zi]);){const l=eV(s,o,t,n|Nn.Self,iu);if(l!==iu)return l;let w=s.parent;if(!w){const E=o[gB];if(E){const D=E.get(t,iu,n);if(D!==iu)return D}w=rV(o),o=o[rg]}s=w}return r}(e,i,t,n,iu);if(o!==iu)return o}const s=eV(e,i,t,n,iu);if(s!==iu)return s}return qB(i,t,n,r)}function eV(e,i,t,n,r){const s=function Tot(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(ty)?e[ty]:void 0;return"number"==typeof i?i>=0?i&QB:Cot:i}(t);if("function"==typeof s){if(!VB(i,e,n))return n&Nn.Host?JB(r,0,n):qB(i,t,n,r);try{let o;if(o=s(n),null!=o||n&Nn.Optional)return o;HD()}finally{HB()}}else if("number"==typeof s){let o=null,l=ZB(e,i),w=lg,E=n&Nn.Host?i[os][Ga]:null;for((-1===l||n&Nn.SkipSelf)&&(w=-1===l?lT(e,i):i[l+8],w!==lg&&nV(n,!1)?(o=i[Ze],l=my(w),i=gy(w,i)):l=-1);-1!==l;){const D=i[Ze];if(iV(s,l,D.data)){const k=wot(l,i,t,o,n,E);if(k!==iu)return k}w=i[l+8],w!==lg&&nV(n,i[Ze].data[l+8]===E)&&iV(s,l,i)?(o=D,l=my(w),i=gy(w,i)):l=-1}}return r}function wot(e,i,t,n,r,s){const o=i[Ze],l=o.data[e+8],D=cT(l,o,t,null==n?kf(l)&&DM:n!=o&&!!(3&l.type),r&Nn.Host&&s===l);return null!==D?Bf(i,o,D,l):iu}function cT(e,i,t,n,r){const s=e.providerIndexes,o=i.data,l=1048575&s,w=e.directiveStart,D=s>>20,O=r?l+D:e.directiveEnd;for(let L=n?l:l+D;L<O;L++){const U=o[L];if(L<w&&t===U||L>=w&&U.type===t)return L}if(r){const L=o[w];if(L&&Ac(L)&&L.type===t)return w}return null}function Bf(e,i,t,n){let r=e[t];const s=i.data;if(function dot(e){return e instanceof py}(r)){const o=r;o.resolving&&function jst(e,i){throw i&&i.join(" > "),new pe(-200,e)}(function fr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():fn(e)}(s[t]));const l=aT(o.canSeeViewProviders);o.resolving=!0;const E=o.injectImpl?tl(o.injectImpl):null;VB(e,n,Nn.Default);try{r=e[t]=o.factory(void 0,s,e,n),i.firstCreatePass&&t>=n.directiveStart&&function uot(e,i,t){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=i.type.prototype;if(n){const o=TB(i);(t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o)}r&&(t.preOrderHooks??=[]).push(0-e,r),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],i)}finally{null!==E&&tl(E),aT(l),o.resolving=!1,HB()}}return r}function iV(e,i,t){return!!(t[i+(e>>KB)]&1<<e)}function nV(e,i){return!(e&Nn.Self||e&Nn.Host&&i)}class ua{constructor(i,t){this._tNode=i,this._lView=t}get(i,t,n){return tV(this._tNode,this._lView,i,Bw(n),t)}}function Cot(){return new ua(Sr(),Ee())}function Mn(e){return Wu(()=>{const i=e.prototype.constructor,t=i[ju]||RM(i),n=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){const s=r[ju]||RM(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function RM(e){return kw(e)?()=>{const i=RM($i(e));return i&&i()}:If(e)}function rV(e){const i=e[Ze],t=i.type;return 2===t?i.declTNode:1===t?e[Ga]:null}function wl(e){return function bot(e,i){if("class"===i)return e.classes;if("style"===i)return e.styles;const t=e.attrs;if(t){const n=t.length;let r=0;for(;r<n;){const s=t[r];if(tB(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof t[r];)r++;else{if(s===i)return t[r+1];r+=2}}}return null}(Sr(),e)}function cV(e,i=null,t=null,n){const r=uV(e,i,t,n);return r.resolveInjectorInitializers(),r}function uV(e,i=null,t=null,n,r=new Set){const s=[t||er,wat(e)];return n=n||("object"==typeof e?void 0:aa(e)),new tg(s,i||Xw(),n||null,r)}class On{static{this.THROW_IF_NOT_FOUND=ey}static{this.NULL=new zw}static create(i,t){if(Array.isArray(i))return cV({name:""},t,i,"");{const n=i.name??"";return cV({name:n},i.parent,i.providers,n)}}static{this.\u0275prov=Ie({token:On,providedIn:"any",factory:()=>re(q3)})}static{this.__NG_ELEMENT_ID__=-1}}new te("").__NG_ELEMENT_ID__=e=>{const i=Sr();if(null===i)throw new pe(204,!1);if(2&i.type)return i.value;if(e&Nn.Optional)return null;throw new pe(204,!1)};function kM(e){return e.ngOriginalError}const dV=!0;let vy=(()=>{class e{static{this.__NG_ELEMENT_ID__=Fot}static{this.__NG_ENV_ID__=t=>t}}return e})();class kot extends vy{constructor(i){super(),this._lView=i}onDestroy(i){return tT(this._lView,i),()=>function mM(e,i){if(null===e[hd])return;const t=e[hd].indexOf(i);-1!==t&&e[hd].splice(t,1)}(this._lView,i)}}function Fot(){return new kot(Ee())}let Zu=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>new e})}}return e})();const Oe=class Oot extends Fe{constructor(i=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=i,fB()&&(this.destroyRef=Jt(vy,{optional:!0})??void 0,this.pendingTasks=Jt(Zu,{optional:!0})??void 0)}emit(i){const t=y(null);try{super.next(i)}finally{y(t)}}subscribe(i,t,n){let r=i,s=t||(()=>null),o=n;if(i&&"object"==typeof i){const w=i;r=w.next?.bind(w),s=w.error?.bind(w),o=w.complete?.bind(w)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));const l=super.subscribe({next:r,error:s,complete:o});return i instanceof Pe&&i.add(l),l}wrapInTimeout(i){return t=>{const n=this.pendingTasks?.add();setTimeout(()=>{i(t),void 0!==n&&this.pendingTasks?.remove(n)})}}};function hT(...e){}function fV(e){let i,t;function n(){e=hT;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==i&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{e(),n()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{e(),n()})),()=>n()}function pV(e){return queueMicrotask(()=>e()),()=>{e=hT}}const FM="isAngularZone",dT=FM+"_ID";let Lot=0;class li{constructor(i){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1);const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=dV}=i;if(typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,function Vot(e){const i=()=>{!function Bot(e){function i(){fV(()=>{e.callbackScheduled=!1,LM(e),e.isCheckStableRunning=!0,OM(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{i()}):e._outer.run(()=>{i()}),LM(e))}(e)},t=Lot++;e._inner=e._inner.fork({name:"angular",properties:{[FM]:!0,[dT]:t,[dT+t]:!0},onInvokeTask:(n,r,s,o,l,w)=>{if(function Uot(e){return vV(e,"__ignore_ng_zone__")}(w))return n.invokeTask(s,o,l,w);try{return mV(e),n.invokeTask(s,o,l,w)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&i(),gV(e)}},onInvoke:(n,r,s,o,l,w,E)=>{try{return mV(e),n.invoke(s,o,l,w,E)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function zot(e){return vV(e,"__scheduler_tick__")}(w)&&i(),gV(e)}},onHasTask:(n,r,s,o)=>{n.hasTask(s,o),r===s&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,LM(e),OM(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,s,o)=>(n.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(FM)}static assertInAngularZone(){if(!li.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(li.isInAngularZone())throw new pe(909,!1)}run(i,t,n){return this._inner.run(i,t,n)}runTask(i,t,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,i,Not,hT,hT);try{return s.runTask(o,t,n)}finally{s.cancelTask(o)}}runGuarded(i,t,n){return this._inner.runGuarded(i,t,n)}runOutsideAngular(i){return this._outer.run(i)}}const Not={};function OM(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function LM(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function mV(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gV(e){e._nesting--,OM(e)}class NM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(i,t,n){return i.apply(t,n)}runGuarded(i,t,n){return i.apply(t,n)}runOutsideAngular(i){return i()}runTask(i,t,n,r){return i.apply(t,n)}}function vV(e,i){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[i]}class Tl{constructor(){this._console=console}handleError(i){const t=this._findOriginalError(i);this._console.error("ERROR",i),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(i){let t=i&&kM(i);for(;t&&kM(t);)t=kM(t);return t||null}}const Hot=new te("",{providedIn:"root",factory:()=>{const e=Jt(li),i=Jt(Tl);return t=>e.runOutsideAngular(()=>i.handleError(t))}});function Wot(){return hg(Sr(),Ee())}function hg(e,i){return new ai(No(e,i))}let ai=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Wot}}return e})();function xV(e){return e instanceof ai?e.nativeElement:e}function jot(){return this._results[Symbol.iterator]()}class Ju{get changes(){return this._changes??=new Oe}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Ju.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=jot)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,t){return this._results.reduce(i,t)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,t){this.dirty=!1;const n=function el(e){return e.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function rat(e,i,t){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=i[n];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function xy(e){return!(128&~e.flags)}const VM=new Map;let Yot=0;function UM(e){VM.delete(e[ag])}const fT="__ngContext__";function so(e,i){ca(i)?(e[fT]=i[ag],function Qot(e){VM.set(e[ag],e)}(i)):e[fT]=i}function MV(e){return RV(e[ay])}function IV(e){return RV(e[_c])}function RV(e){for(;null!==e&&!ro(e);)e=e[_c];return e}let GM;function dd(){if(void 0!==GM)return GM;if(typeof document<"u")return document;throw new pe(210,!1)}const Vf=new te("",{providedIn:"root",factory:()=>dlt}),dlt="ng",VV=new te(""),nu=new te("",{providedIn:"platform",factory:()=>"unknown"}),Hr=new te(""),HM=new te("",{providedIn:"root",factory:()=>dd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let UV=()=>null;function KM(e,i,t=!1){return UV(e,i,t)}const $V=new te("",{providedIn:"root",factory:()=>!1});let wT,TT;function mg(e){return function eI(){if(void 0===wT&&(wT=null,Jr.trustedTypes))try{wT=Jr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return wT}()?.createHTML(e)||e}function iI(){if(void 0===TT&&(TT=null,Jr.trustedTypes))try{TT=Jr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return TT}function ZV(e){return iI()?.createHTML(e)||e}function qV(e){return iI()?.createScriptURL(e)||e}class zf{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${N3})`}}class _lt extends zf{getTypeName(){return"HTML"}}class Alt extends zf{getTypeName(){return"Style"}}class Dlt extends zf{getTypeName(){return"Script"}}class Mlt extends zf{getTypeName(){return"URL"}}class Ilt extends zf{getTypeName(){return"ResourceURL"}}function Cl(e){return e instanceof zf?e.changingThisBreaksApplicationSecurity:e}function ru(e,i){const t=function Rlt(e){return e instanceof zf&&e.getTypeName()||null}(e);if(null!=t&&t!==i){if("ResourceURL"===t&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${t} (see ${N3})`)}return t===i}class Nlt{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const t=(new window.DOMParser).parseFromString(mg(i),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(i):(t.firstChild?.remove(),t)}catch{return null}}}class Blt{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const t=this.inertDocument.createElement("template");return t.innerHTML=mg(i),t}}const Ult=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function CT(e){return(e=String(e)).match(Ult)?e:"unsafe:"+e}function qu(e){const i={};for(const t of e.split(","))i[t]=!0;return i}function _y(...e){const i={};for(const t of e)for(const n in t)t.hasOwnProperty(n)&&(i[n]=!0);return i}const e5=qu("area,br,col,hr,img,wbr"),i5=qu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n5=qu("rp,rt"),nI=_y(e5,_y(i5,qu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_y(n5,qu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_y(n5,i5)),rI=qu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),r5=_y(rI,qu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zlt=qu("script,style,template");class Glt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let t=i.firstChild,n=!0,r=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)r.push(t),t=jlt(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=Wlt(t);if(s){t=s;break}t=r.pop()}return this.buf.join("")}startElement(i){const t=s5(i).toLowerCase();if(!nI.hasOwnProperty(t))return this.sanitizedSomething=!0,!zlt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=i.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,l=o.toLowerCase();if(!r5.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let w=s.value;rI[l]&&(w=CT(w)),this.buf.push(" ",o,'="',o5(w),'"')}return this.buf.push(">"),!0}endElement(i){const t=s5(i).toLowerCase();nI.hasOwnProperty(t)&&!e5.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(i){this.buf.push(o5(i))}}function Wlt(e){const i=e.nextSibling;if(i&&e!==i.previousSibling)throw a5(i);return i}function jlt(e){const i=e.firstChild;if(i&&function Hlt(e,i){return(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,i))throw a5(i);return i}function s5(e){const i=e.nodeName;return"string"==typeof i?i:"FORM"}function a5(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Xlt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ylt=/([^\#-~ |!])/g;function o5(e){return e.replace(/&/g,"&amp;").replace(Xlt,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Ylt,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ST;function l5(e,i){let t=null;try{ST=ST||function t5(e){const i=new Blt(e);return function Vlt(){try{return!!(new window.DOMParser).parseFromString(mg(""),"text/html")}catch{return!1}}()?new Nlt(i):i}(e);let n=i?String(i):"";t=ST.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=t.innerHTML,t=ST.getInertBodyElement(n)}while(n!==s);return mg((new Glt).sanitizeChildren(sI(t)||t))}finally{if(t){const n=sI(t)||t;for(;n.firstChild;)n.firstChild.remove()}}}function sI(e){return"content"in e&&function $lt(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Wa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Wa||{});function Gf(e){const i=Dy();return i?ZV(i.sanitize(Wa.HTML,e)||""):ru(e,"HTML")?ZV(Cl(e)):l5(dd(),fn(e))}function Ay(e){const i=Dy();return i?i.sanitize(Wa.URL,e)||"":ru(e,"URL")?Cl(e):CT(fn(e))}function c5(e){const i=Dy();if(i)return qV(i.sanitize(Wa.RESOURCE_URL,e)||"");if(ru(e,"ResourceURL"))return qV(Cl(e));throw new pe(904,!1)}function Dy(){const e=Ee();return e&&e[Jc].sanitizer}const tct=/^>|^->|<!--|-->|--!>|<!-$/g,ect=/(<|>)/g,ict="\u200b$1\u200b";function Sl(e){return e instanceof Function?e():e}function El(e){return"browser"===(e??Jt(On)).get(nu)}var fd=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(fd||{});let lI;function cI(e,i){return lI(e,i)}function vg(e,i,t,n,r){if(null!=n){let s,o=!1;ro(n)?s=n:ca(n)&&(o=!0,n=n[as]);const l=ir(n);0===e&&null!==t?null==r?C5(i,t,l):Hf(i,t,l,r||null,!0):1===e&&null!==t?Hf(i,t,l,r||null,!0):2===e?function Iy(e,i,t){e.removeChild(null,i,t)}(i,l,o):3===e&&i.destroyNode(l),null!=s&&function Tct(e,i,t,n,r){const s=t[qc];s!==ir(t)&&vg(i,e,n,s,r);for(let l=Ms;l<t.length;l++){const w=t[l];IT(w[Ze],w,e,i,n,s)}}(i,e,s,t,r)}}function hI(e,i){return e.createComment(function h5(e){return e.replace(tct,i=>i.replace(ect,ict))}(i))}function AT(e,i,t){return e.createElement(i,t)}function b5(e,i){i[Jc].changeDetectionScheduler?.notify(9),IT(e,i,i[en],2,null,null)}function w5(e,i){const t=e[og],n=i[Xs];(ca(n)||i[os]!==n[Xs][os])&&(e[zi]|=Kw.HasTransplantedViews),null===t?e[og]=[i]:t.push(i)}function dI(e,i){const t=e[og],n=t.indexOf(i);t.splice(n,1)}function My(e,i){if(e.length<=Ms)return;const t=Ms+i,n=e[t];if(n){const r=n[Pf];null!==r&&r!==e&&dI(r,n),i>0&&(e[t-1][_c]=n[_c]);const s=Vw(e,Ms+i);!function pct(e,i){b5(e,i),i[as]=null,i[Ga]=null}(n[Ze],n);const o=s[Yu];null!==o&&o.detachView(s[Ze]),n[Xs]=null,n[_c]=null,n[zi]&=-129}return n}function DT(e,i){if(!(256&i[zi])){const t=i[en];t.destroyNode&&IT(e,i,t,3,null,null),function gct(e){let i=e[ay];if(!i)return fI(e[Ze],e);for(;i;){let t=null;if(ca(i))t=i[ay];else{const n=i[Ms];n&&(t=n)}if(!t){for(;i&&!i[_c]&&i!==e;)ca(i)&&fI(i[Ze],i),i=i[Xs];null===i&&(i=e),ca(i)&&fI(i[Ze],i),t=i&&i[_c]}i=t}}(i)}}function fI(e,i){if(256&i[zi])return;const t=y(null);try{i[zi]&=-129,i[zi]|=256,i[$l]&&_(i[$l]),function xct(e,i){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let n=0;n<t.length;n+=2){const r=i[t[n]];if(!(r instanceof py)){const s=t[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=r[s[o]],w=s[o+1];tu(4,l,w);try{w.call(l)}finally{tu(5,l,w)}}else{tu(4,r,s);try{s.call(r)}finally{tu(5,r,s)}}}}}(e,i),function yct(e,i){const t=e.cleanup,n=i[ng];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else t[s].call(n[t[s+1]]);null!==n&&(i[ng]=null);const r=i[hd];if(null!==r){i[hd]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,i),1===i[Ze].type&&i[en].destroy();const n=i[Pf];if(null!==n&&ro(i[Xs])){n!==i[Xs]&&dI(n,i);const r=i[Yu];null!==r&&r.detachView(e)}UM(i)}finally{y(t)}}function pI(e,i,t){return function T5(e,i,t){let n=i;for(;null!==n&&168&n.type;)n=(i=n).parent;if(null===n)return t[as];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:s}=e.data[n.directiveStart+r];if(s===Sc.None||s===Sc.Emulated)return null}return No(n,t)}}(e,i.parent,t)}function Hf(e,i,t,n,r){e.insertBefore(i,t,n,r)}function C5(e,i,t){e.appendChild(i,t)}function S5(e,i,t,n,r){null!==n?Hf(e,i,t,n,r):C5(e,i,t)}function mI(e,i){return e.parentNode(i)}function E5(e,i,t){return A5(e,i,t)}let gI,A5=function _5(e,i,t){return 40&e.type?No(e,t):null};function MT(e,i,t,n){const r=pI(e,n,i),s=i[en],l=E5(n.parent||i[Ga],n,i);if(null!=r)if(Array.isArray(t))for(let w=0;w<t.length;w++)S5(s,r,t[w],l,!1);else S5(s,r,t,l,!1);void 0!==gI&&gI(s,n,i,t,r)}function Wf(e,i){if(null!==i){const t=i.type;if(3&t)return No(i,e);if(4&t)return vI(-1,e[i.index]);if(8&t){const n=i.child;if(null!==n)return Wf(e,n);{const r=e[i.index];return ro(r)?vI(-1,r):ir(r)}}if(128&t)return Wf(e,i.next);if(32&t)return cI(i,e)()||ir(e[i.index]);{const n=M5(e,i);return null!==n?Array.isArray(n)?n[0]:Wf($u(e[os]),n):Wf(e,i.next)}}return null}function M5(e,i){return null!==i?e[os][Ga].projection[i.projection]:null}function vI(e,i){const t=Ms+e+1;if(t<i.length){const n=i[t],r=n[Ze].firstChild;if(null!==r)return Wf(n,r)}return i[qc]}function yI(e,i,t,n,r,s,o){for(;null!=t;){if(128===t.type){t=t.next;continue}const l=n[t.index],w=t.type;if(o&&0===i&&(l&&so(ir(l),n),t.flags|=2),32&~t.flags)if(8&w)yI(e,i,t.child,n,r,s,!1),vg(i,e,r,l,s);else if(32&w){const E=cI(t,n);let D;for(;D=E();)vg(i,e,r,D,s);vg(i,e,r,l,s)}else 16&w?R5(e,i,n,t,r,s):vg(i,e,r,l,s);t=o?t.projectionNext:t.next}}function IT(e,i,t,n,r,s){yI(t,n,e.firstChild,i,r,s,!1)}function R5(e,i,t,n,r,s){const o=t[os],w=o[Ga].projection[n.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)vg(i,e,r,w[E],s);else{let E=w;const D=o[Xs];xy(n)&&(E.flags|=128),yI(e,i,E,D,r,s,!0)}}function P5(e,i,t){""===t?e.removeAttribute(i,"class"):e.setAttribute(i,"class",t)}function k5(e,i,t){const{mergedAttrs:n,classes:r,styles:s}=t;null!==n&&KD(e,i,n),null!==r&&P5(e,i,r),null!==s&&function Sct(e,i,t){e.setAttribute(i,"style",t)}(e,i,s)}const pn={};function ot(e=1){F5(Dn(),Ee(),Ha()+e,!1)}function F5(e,i,t,n){if(!n)if(3&~i[zi]){const s=e.preOrderHooks;null!==s&&sT(i,s,0,t)}else{const s=e.preOrderCheckHooks;null!==s&&rT(i,s,t)}Lf(t)}function pt(e,i=Nn.Default){const t=Ee();return null===t?re(e,i):tV(Sr(),t,$i(e),i)}function RT(){throw new Error("invalid")}function O5(e,i,t,n,r,s){const o=y(null);try{let l=null;r&cd.SignalBased&&(l=i[n][a]),null!==l&&void 0!==l.transformFn&&(s=l.transformFn(s)),r&cd.HasDecoratorInputTransform&&(s=e.inputTransforms[n].call(i,s)),null!==e.setInput?e.setInput(i,l,s,t,n):wB(i,l,n,s)}finally{y(o)}}function PT(e,i,t,n,r,s,o,l,w,E,D){const k=i.blueprint.slice();return k[as]=r,k[zi]=204|n,(null!==E||e&&2048&e[zi])&&(k[zi]|=2048),AB(k),k[Xs]=k[rg]=e,k[zr]=t,k[Jc]=o||e&&e[Jc],k[en]=l||e&&e[en],k[Ys]=w||e&&e[Ys]||null,k[Ga]=s,k[ag]=function $ot(){return Yot++}(),k[Lo]=D,k[gB]=E,k[os]=2==i.type?e[os]:k,k}function jf(e,i,t,n,r){let s=e.data[i];if(null===s)s=function xI(e,i,t,n,r){const s=PB(),o=vM(),w=e.data[i]=function Pct(e,i,t,n,r,s){let o=i?i.injectorIndex:-1,l=0;return Of()&&(l|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,i,n,r);return null===e.firstChild&&(e.firstChild=w),null!==s&&(o?null==s.child&&null!==w.parent&&(s.child=w):null===s.next&&(s.next=w,w.prev=s)),w}(e,i,t,n,r),function not(){return nn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=n,s.attrs=r;const o=function hy(){const e=nn.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Dc(s,!0),s}function Ry(e,i,t,n){if(0===t)return-1;const r=i.length;for(let s=0;s<t;s++)i.push(n),e.blueprint.push(n),e.data.push(null);return r}function L5(e,i,t,n,r){const s=Ha(),o=2&n;try{Lf(-1),o&&i.length>Pi&&F5(e,i,Pi,!1),tu(o?2:0,r),t(n,r)}finally{Lf(s),tu(o?3:1,r)}}function bI(e,i,t){if(lM(i)){const n=y(null);try{const s=i.directiveEnd;for(let o=i.directiveStart;o<s;o++){const l=e.data[o];l.contentQueries&&l.contentQueries(1,t[o],o)}}finally{y(n)}}}function wI(e,i,t){RB()&&(function Vct(e,i,t,n){const r=t.directiveStart,s=t.directiveEnd;kf(t)&&function Xct(e,i,t){const n=No(i,e),r=N5(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const l=kT(e,PT(e,r,null,o,n,i,null,e[Jc].rendererFactory.createRenderer(n,t),null,null,null));e[i.index]=l}(i,t,e.data[r+t.componentOffset]),e.firstCreatePass||oT(t,i),so(n,i);const o=t.initialInputs;for(let l=r;l<s;l++){const w=e.data[l],E=Bf(i,e,l,t);so(E,i),null!==o&&Yct(0,l-r,E,w,0,o),Ac(w)&&(xl(t.index,i)[zr]=Bf(i,e,l,t))}}(e,i,t,No(t,i)),!(64&~t.flags)&&G5(e,i,t))}function TI(e,i,t=No){const n=i.localNames;if(null!==n){let r=i.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],l=-1===o?t(i,e):e[o];e[r++]=l}}}function N5(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=CI(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function CI(e,i,t,n,r,s,o,l,w,E,D){const k=Pi+n,O=k+r,L=function _ct(e,i){const t=[];for(let n=0;n<i;n++)t.push(n<e?null:pn);return t}(k,O),U="function"==typeof E?E():E;return L[Ze]={type:e,blueprint:L,template:t,queries:null,viewQuery:l,declTNode:i,data:L.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:w,consts:U,incompleteFirstPass:!1,ssrId:D}}let B5=()=>null;function V5(e,i,t,n,r){for(let s in i){if(!i.hasOwnProperty(s))continue;const o=i[s];if(void 0===o)continue;n??={};let l,w=cd.None;Array.isArray(o)?(l=o[0],w=o[1]):l=o;let E=s;if(null!==r){if(!r.hasOwnProperty(s))continue;E=r[s]}0===e?U5(n,t,E,l,w):U5(n,t,E,l)}return n}function U5(e,i,t,n,r){let s;e.hasOwnProperty(t)?(s=e[t]).push(i,n):s=e[t]=[i,n],void 0!==r&&s.push(r)}function nl(e,i,t,n,r,s,o,l){const w=No(i,t);let D,E=i.inputs;!l&&null!=E&&(D=E[n])?(DI(e,t,D,n,r),kf(i)&&function Oct(e,i){const t=xl(i,e);16&t[zi]||(t[zi]|=64)}(t,i.index)):3&i.type&&(n=function Fct(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=o?o(r,i.value||"",n):r,s.setProperty(w,n,r))}function SI(e,i,t,n){if(RB()){const r=null===n?null:{"":-1},s=function zct(e,i){const t=e.directiveRegistry;let n=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(rB(i,o.selectors,!1))if(n||(n=[]),Ac(o))if(null!==o.findHostDirectiveDefs){const l=[];r=r||new Map,o.findHostDirectiveDefs(o,l,r),n.unshift(...l,o),EI(e,i,l.length)}else n.unshift(o),EI(e,i,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(e,t);let o,l;null===s?o=l=null:[o,l]=s,null!==o&&z5(e,i,t,o,r,l),r&&function Gct(e,i,t){if(i){const n=e.localNames=[];for(let r=0;r<i.length;r+=2){const s=t[i[r+1]];if(null==s)throw new pe(-301,!1);n.push(i[r],s)}}}(t,n,r)}t.mergedAttrs=ny(t.mergedAttrs,t.attrs)}function z5(e,i,t,n,r,s){for(let E=0;E<n.length;E++)IM(oT(t,i),e,n[E].type);!function Wct(e,i,t){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+t,e.providerIndexes=i}(t,e.data.length,n.length);for(let E=0;E<n.length;E++){const D=n[E];D.providersResolver&&D.providersResolver(D)}let o=!1,l=!1,w=Ry(e,i,n.length,null);for(let E=0;E<n.length;E++){const D=n[E];t.mergedAttrs=ny(t.mergedAttrs,D.hostAttrs),jct(e,t,i,w,D),Hct(w,D,r),null!==D.contentQueries&&(t.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(t.flags|=64);const k=D.type.prototype;!o&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),o=!0),!l&&(k.ngOnChanges||k.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),l=!0),w++}!function kct(e,i,t){const r=i.directiveEnd,s=e.data,o=i.attrs,l=[];let w=null,E=null;for(let D=i.directiveStart;D<r;D++){const k=s[D],O=t?t.get(k):null,U=O?O.outputs:null;w=V5(0,k.inputs,D,w,O?O.inputs:null),E=V5(1,k.outputs,D,E,U);const j=null===w||null===o||ZD(i)?null:$ct(w,D,o);l.push(j)}null!==w&&(w.hasOwnProperty("class")&&(i.flags|=8),w.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=l,i.inputs=w,i.outputs=E}(e,t,s)}function G5(e,i,t){const n=t.directiveStart,r=t.directiveEnd,s=t.index,o=function sot(){return nn.lFrame.currentDirectiveIndex}();try{Lf(s);for(let l=n;l<r;l++){const w=e.data[l],E=i[l];xM(l),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Uct(w,E)}}finally{Lf(-1),xM(o)}}function Uct(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function EI(e,i,t){i.componentOffset=t,(e.components??=[]).push(i.index)}function Hct(e,i,t){if(t){if(i.exportAs)for(let n=0;n<i.exportAs.length;n++)t[i.exportAs[n]]=e;Ac(i)&&(t[""]=e)}}function jct(e,i,t,n,r){e.data[n]=r;const s=r.factory||(r.factory=If(r.type)),o=new py(s,Ac(r),pt);e.blueprint[n]=o,t[n]=o,function Nct(e,i,t,n,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const l=~i.index;(function Bct(e){let i=e.length;for(;i>0;){const t=e[--i];if("number"==typeof t&&t<0)return t}return 0})(o)!=l&&o.push(l),o.push(t,n,s)}}(e,i,n,Ry(e,t,r.hostVars,pn),r)}function su(e,i,t,n,r,s){const o=No(e,i);!function _I(e,i,t,n,r,s,o){if(null==s)e.removeAttribute(i,r,t);else{const l=null==o?fn(s):o(s,n||"",r);e.setAttribute(i,r,l,t)}}(i[en],o,s,e.value,t,n,r)}function Yct(e,i,t,n,r,s){const o=s[i];if(null!==o)for(let l=0;l<o.length;)O5(n,t,o[l++],o[l++],o[l++],o[l++])}function $ct(e,i,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);const o=e[s];for(let l=0;l<o.length;l+=3)if(o[l]===i){n.push(s,o[l+1],o[l+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function H5(e,i,t,n){return[e,!0,0,i,null,n,null,t,null,null]}function W5(e,i){const t=e.contentQueries;if(null!==t){const n=y(null);try{for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const l=e.data[o];iT(t[r]),l.contentQueries(2,i[o],o)}}}finally{y(n)}}}function kT(e,i){return e[ay]?e[mB][_c]=i:e[ay]=i,e[mB]=i,i}function AI(e,i,t){iT(0);const n=y(null);try{i(e,t)}finally{y(n)}}function j5(e){return e[ng]??=[]}function X5(e){return e.cleanup??=[]}function Y5(e,i,t){return(null===e||Ac(e))&&(t=function dM(e){for(;Array.isArray(e);){if("object"==typeof e[oM])return e;e=e[as]}return null}(t[i.index])),t[en]}function FT(e,i){const t=e[Ys],n=t?t.get(Tl,null):null;n&&n.handleError(i)}function DI(e,i,t,n,r){for(let s=0;s<t.length;){const o=t[s++],l=t[s++],w=t[s++];O5(e.data[o],i[o],n,l,w,r)}}function th(e,i,t){const n=cy(i,e);!function x5(e,i,t){e.setValue(i,t)}(e[en],n,t)}function Qct(e,i){const t=xl(i,e),n=t[Ze];!function Kct(e,i){for(let t=i.length;t<e.blueprint.length;t++)i.push(e.blueprint[t])}(n,t);const r=t[as];null!==r&&null===t[Lo]&&(t[Lo]=KM(r,t[Ys])),MI(n,t,t[zr])}function MI(e,i,t){TM(i);try{const n=e.viewQuery;null!==n&&AI(1,n,t);const r=e.template;null!==r&&L5(e,i,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),i[Yu]?.finishViewCreation(e),e.staticContentQueries&&W5(e,i),e.staticViewQueries&&AI(2,e.viewQuery,t);const s=e.components;null!==s&&function Zct(e,i){for(let t=0;t<i.length;t++)Qct(e,i[t])}(i,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{i[zi]&=-5,CM()}}function yg(e,i,t,n){const r=y(null);try{const s=i.tView,w=PT(e,s,t,4096&e[zi]?4096:16,null,i,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null);w[Pf]=e[i.index];const D=e[Yu];return null!==D&&(w[Yu]=D.createEmbeddedView(s)),MI(s,w,t),w}finally{y(r)}}function $5(e,i){const t=Ms+i;if(t<e.length)return e[t]}function Xf(e,i){return!i||null===i.firstChild||xy(e)}function xg(e,i,t,n=!0){const r=i[Ze];if(function vct(e,i,t,n){const r=Ms+n,s=t.length;n>0&&(t[r-1][_c]=i),n<s-Ms?(i[_c]=t[r],K3(t,Ms+n,i)):(t.push(i),i[_c]=null),i[Xs]=t;const o=i[Pf];null!==o&&t!==o&&w5(o,i);const l=i[Yu];null!==l&&l.insertView(e),pM(i),i[zi]|=128}(r,i,e,t),n){const o=vI(t,e),l=i[en],w=mI(l,e[qc]);null!==w&&function mct(e,i,t,n,r,s){n[as]=r,n[Ga]=i,IT(e,n,t,1,r,s)}(r,e[Ga],l,i,w,o)}const s=i[Lo];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function II(e,i){const t=My(e,i);return void 0!==t&&DT(t[Ze],t),t}function Py(e,i,t,n,r=!1){for(;null!==t;){if(128===t.type){t=r?t.projectionNext:t.next;continue}const s=i[t.index];null!==s&&n.push(ir(s)),ro(s)&&Q5(s,n);const o=t.type;if(8&o)Py(e,i,t.child,n);else if(32&o){const l=cI(t,i);let w;for(;w=l();)n.push(w)}else if(16&o){const l=M5(i,t);if(Array.isArray(l))n.push(...l);else{const w=$u(i[os]);Py(w[Ze],w,l,n,!0)}}t=r?t.projectionNext:t.next}return n}function Q5(e,i){for(let t=Ms;t<e.length;t++){const n=e[t],r=n[Ze].firstChild;null!==r&&Py(n[Ze],n,r,i)}e[qc]!==e[as]&&i.push(e[qc])}let K5=[];const eut={...d,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{qw(e.lView)},consumerOnSignalRead(){this.lView[$l]=this}},nut={...d,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let i=$u(e.lView);for(;i&&!Z5(i[Ze]);)i=$u(i);i&&DB(i)},consumerOnSignalRead(){this.lView[$l]=this}};function Z5(e){return 2!==e.type}const rut=100;function OT(e,i=!0,t=0){const n=e[Jc],r=n.rendererFactory;r.begin?.();try{!function sut(e,i){const t=OB();try{LB(!0),RI(e,i);let n=0;for(;Jw(e);){if(n===rut)throw new pe(103,!1);n++,RI(e,1)}}finally{LB(t)}}(e,t)}catch(o){throw i&&FT(e,o),o}finally{r.end?.(),n.inlineEffectRunner?.flush()}}function aut(e,i,t,n){const r=i[zi];if(!(256&~r))return;i[Jc].inlineEffectRunner?.flush(),TM(i);let l=!0,w=null,E=null;Z5(e)?(E=function Jct(e){return e[$l]??function qct(e){const i=K5.pop()??Object.create(eut);return i.lView=e,i}(e)}(i),w=x(E)):null===function C(){return Xt}()?(l=!1,E=function iut(e){const i=e[$l]??Object.create(nut);return i.lView=e,i}(i),w=x(E)):i[$l]&&(_(i[$l]),i[$l]=null);try{AB(i),function NB(e){return nn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&L5(e,i,t,2,n);const D=!(3&~r);if(D){const L=e.preOrderCheckHooks;null!==L&&rT(i,L,null)}else{const L=e.preOrderHooks;null!==L&&sT(i,L,0,null),SM(i,0)}if(function out(e){for(let i=MV(e);null!==i;i=IV(i)){if(!(i[zi]&Kw.HasTransplantedViews))continue;const t=i[og];for(let n=0;n<t.length;n++)DB(t[n])}}(i),q5(i,0),null!==e.contentQueries&&W5(e,i),D){const L=e.contentCheckHooks;null!==L&&rT(i,L)}else{const L=e.contentHooks;null!==L&&sT(i,L,1),SM(i,1)}!function Ect(e,i){const t=e.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const r=t[n];if(r<0)Lf(~r);else{const s=r,o=t[++n],l=t[++n];rot(o,s),l(2,i[s])}}}finally{Lf(-1)}}(e,i);const k=e.components;null!==k&&e8(i,k,0);const O=e.viewQuery;if(null!==O&&AI(2,O,n),D){const L=e.viewCheckHooks;null!==L&&rT(i,L)}else{const L=e.viewHooks;null!==L&&sT(i,L,2),SM(i,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[$w]){for(const L of i[$w])L();i[$w]=null}i[zi]&=-73}catch(D){throw qw(i),D}finally{null!==E&&(b(E,w),l&&function tut(e){e.lView[$l]!==e&&(e.lView=null,K5.push(e))}(E)),CM()}}function q5(e,i){for(let t=MV(e);null!==t;t=IV(t))for(let n=Ms;n<t.length;n++)t8(t[n],i)}function lut(e,i,t){t8(xl(i,e),t)}function t8(e,i){fM(e)&&RI(e,i)}function RI(e,i){const n=e[Ze],r=e[zi],s=e[$l];let o=!!(0===i&&16&r);if(o||=!!(64&r&&0===i),o||=!!(1024&r),o||=!(!s?.dirty||!T(s)),o||=!1,s&&(s.dirty=!1),e[zi]&=-9217,o)aut(n,e,n.template,e[zr]);else if(8192&r){q5(e,1);const l=n.components;null!==l&&e8(e,l,1)}}function e8(e,i,t){for(let n=0;n<i.length;n++)lut(e,i[n],t)}function ky(e,i){const t=OB()?64:1088;for(e[Jc].changeDetectionScheduler?.notify(i);e;){e[zi]|=t;const n=$u(e);if(ly(e)&&!n)return e;e=n}return null}class Fy{get rootNodes(){const i=this._lView,t=i[Ze];return Py(t,i,t.firstChild,[])}constructor(i,t,n=!0){this._lView=i,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zr]}set context(i){this._lView[zr]=i}get destroyed(){return!(256&~this._lView[zi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Xs];if(ro(i)){const t=i[8],n=t?t.indexOf(this):-1;n>-1&&(My(i,n),Vw(t,n))}this._attachedToViewContainer=!1}DT(this._lView[Ze],this._lView)}onDestroy(i){tT(this._lView,i)}markForCheck(){ky(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[zi]&=-129}reattach(){pM(this._lView),this._lView[zi]|=128}detectChanges(){this._lView[zi]|=1024,OT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const i=ly(this._lView),t=this._lView[Pf];null!==t&&!i&&dI(t,this._lView),b5(this._lView[Ze],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=i;const t=ly(this._lView),n=this._lView[Pf];null!==n&&!t&&w5(n,this._lView),pM(this._lView)}}let yr=(()=>{class e{static{this.__NG_ELEMENT_ID__=hut}}return e})();const cut=yr,uut=class extends cut{constructor(i,t,n){super(),this._declarationLView=i,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,t){return this.createEmbeddedViewImpl(i,t)}createEmbeddedViewImpl(i,t,n){const r=yg(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:t,dehydratedView:n});return new Fy(r)}};function hut(){return LT(Sr(),Ee())}function LT(e,i){return 4&e.type?new uut(i,e,hg(e,i)):null}let T8=()=>null;function $f(e,i){return T8(e,i)}class wg{}const Gy=new te("",{providedIn:"root",factory:()=>!1}),C8=new te(""),GI=new te("");class nht{}class S8{}class sht{resolveComponentFactory(i){throw function rht(e){const i=Error(`No component factory found for ${aa(e)}.`);return i.ngComponent=e,i}(i)}}class Qf{static{this.NULL=new sht}}class GT{}let Kl=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function aht(){const e=Ee(),t=xl(Sr().index,e);return(ca(t)?t:e)[en]}()}}return e})(),oht=(()=>{class e{static{this.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>null})}}return e})();function WT(e,i,t){let n=t?e.styles:null,r=t?e.classes:null,s=0;if(null!==i)for(let o=0;o<i.length;o++){const l=i[o];"number"==typeof l?s=l:1==s?r=FD(r,l):2==s&&(n=FD(n,l+": "+i[++o]+";"))}t?e.styles=n:e.stylesWithoutHost=n,t?e.classes=r:e.classesWithoutHost=r}class D8 extends Qf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const t=Fn(i);return new jy(t,this.ngModule)}}function M8(e,i){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];if(void 0===r)continue;const s=Array.isArray(r),o=s?r[0]:r;t.push(i?{propName:o,templateName:n,isSignal:!!((s?r[1]:cd.None)&cd.SignalBased)}:{propName:o,templateName:n})}return t}class jy extends S8{get inputs(){const i=this.componentDef,t=i.inputTransforms,n=M8(i.inputs,!0);if(null!==t)for(const r of n)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return n}get outputs(){return M8(this.componentDef.outputs,!1)}constructor(i,t){super(),this.componentDef=i,this.ngModule=t,this.componentType=i.type,this.selector=function mat(e){return e.map(pat).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!t}create(i,t,n,r){const s=y(null);try{let o=(r=r||this.ngModule)instanceof za?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new Nf(i,o):i,w=l.get(GT,null);if(null===w)throw new pe(407,!1);const k={rendererFactory:w,sanitizer:l.get(oht,null),inlineEffectRunner:null,changeDetectionScheduler:l.get(wg,null)},O=w.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",U=n?function Act(e,i,t,n){const s=n.get($V,!1)||t===Sc.ShadowDom,o=e.selectRootElement(i,s);return function Dct(e){B5(e)}(o),o}(O,n,this.componentDef.encapsulation,l):AT(O,L,function uht(e){const i=e.toLowerCase();return"svg"===i?EB:"math"===i?"math":null}(L));let j=512;this.componentDef.signals?j|=4096:this.componentDef.onPush||(j|=16);let W=null;null!==U&&(W=KM(U,l,!0));const Z=CI(0,null,null,1,0,null,null,null,null,null,null),rt=PT(null,Z,null,j,null,null,k,O,l,null,W);TM(rt);let st,yt,Tt=null;try{const It=this.componentDef;let ft,ht=null;It.findHostDirectiveDefs?(ft=[],ht=new Map,It.findHostDirectiveDefs(It,ft,ht),ft.push(It)):ft=[It];const mt=function dht(e,i){const t=e[Ze],n=Pi;return e[n]=i,jf(t,n,2,"#host",null)}(rt,U);Tt=function fht(e,i,t,n,r,s,o){const l=r[Ze];!function pht(e,i,t,n){for(const r of e)i.mergedAttrs=ny(i.mergedAttrs,r.hostAttrs);null!==i.mergedAttrs&&(WT(i,i.mergedAttrs,!0),null!==t&&k5(n,t,i))}(n,e,i,o);let w=null;null!==i&&(w=KM(i,r[Ys]));const E=s.rendererFactory.createRenderer(i,t);let D=16;t.signals?D=4096:t.onPush&&(D=64);const k=PT(r,N5(t),null,D,r[e.index],e,s,E,null,null,w);return l.firstCreatePass&&EI(l,e,n.length-1),kT(r,k),r[e.index]=k}(mt,U,It,ft,rt,k,O),yt=uy(Z,Pi),U&&function ght(e,i,t,n){if(n)KD(e,t,["ng-version","18.2.13"]);else{const{attrs:r,classes:s}=function gat(e){const i=[],t=[];let n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&i.push(s,e[++n]):8===r&&t.push(s);else{if(!Ec(r))break;r=s}n++}return{attrs:i,classes:t}}(i.selectors[0]);r&&KD(e,t,r),s&&s.length>0&&P5(e,t,s.join(" "))}}(O,It,U,n),void 0!==t&&function vht(e,i,t){const n=e.projection=[];for(let r=0;r<i.length;r++){const s=t[r];n.push(null!=s?Array.from(s):null)}}(yt,this.ngContentSelectors,t),st=function mht(e,i,t,n,r,s){const o=Sr(),l=r[Ze],w=No(o,r);z5(l,r,o,t,null,n);for(let D=0;D<t.length;D++)so(Bf(r,l,o.directiveStart+D,o),r);G5(l,r,o),w&&so(w,r);const E=Bf(r,l,o.directiveStart+o.componentOffset,o);if(e[zr]=r[zr]=E,null!==s)for(const D of s)D(E,i);return bI(l,o,r),E}(Tt,It,ft,ht,rt,[yht]),MI(Z,rt,null)}catch(It){throw null!==Tt&&UM(Tt),UM(rt),It}finally{CM()}return new hht(this.componentType,st,hg(yt,rt),rt,yt)}finally{y(s)}}}class hht extends nht{constructor(i,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Fy(r,void 0,!1),this.componentType=i}setInput(i,t){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),t))return;const s=this._rootLView;DI(s[Ze],s,r,i,t),this.previousInputValues.set(i,t),ky(xl(this._tNode.index,s),1)}}get injector(){return new ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function yht(){const e=Sr();nT(Ee()[Ze],e)}let Or=(()=>{class e{static{this.__NG_ELEMENT_ID__=xht}}return e})();function xht(){return P8(Sr(),Ee())}const bht=Or,I8=class extends bht{constructor(i,t,n){super(),this._lContainer=i,this._hostTNode=t,this._hostLView=n}get element(){return hg(this._hostTNode,this._hostLView)}get injector(){return new ua(this._hostTNode,this._hostLView)}get parentInjector(){const i=lT(this._hostTNode,this._hostLView);if(AM(i)){const t=gy(i,this._hostLView),n=my(i);return new ua(t[Ze].data[n+8],t)}return new ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const t=R8(this._lContainer);return null!==t&&t[i]||null}get length(){return this._lContainer.length-Ms}createEmbeddedView(i,t,n){let r,s;"number"==typeof n?r=n:null!=n&&(r=n.index,s=n.injector);const o=$f(this._lContainer,i.ssrId),l=i.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(l,r,Xf(this._hostTNode,o)),l}createComponent(i,t,n,r,s){const o=i&&!function sy(e){return"function"==typeof e}(i);let l;if(o)l=t;else{const U=t||{};l=U.index,n=U.injector,r=U.projectableNodes,s=U.environmentInjector||U.ngModuleRef}const w=o?i:new jy(Fn(i)),E=n||this.parentInjector;if(!s&&null==w.ngModule){const j=(o?E:this.parentInjector).get(za,null);j&&(s=j)}const D=Fn(w.componentType??{}),k=$f(this._lContainer,D?.id??null),L=w.create(E,r,k?.firstChild??null,s);return this.insertImpl(L.hostView,l,Xf(this._hostTNode,k)),L}insert(i,t){return this.insertImpl(i,t,!0)}insertImpl(i,t,n){const r=i._lView;if(function $at(e){return ro(e[Xs])}(r)){const l=this.indexOf(i);if(-1!==l)this.detach(l);else{const w=r[Xs],E=new I8(w,w[Ga],w[Xs]);E.detach(E.indexOf(i))}}const s=this._adjustIndex(t),o=this._lContainer;return xg(o,r,s,n),i.attachToViewContainerRef(),K3(jI(o),s,i),i}move(i,t){return this.insert(i,t)}indexOf(i){const t=R8(this._lContainer);return null!==t?t.indexOf(i):-1}remove(i){const t=this._adjustIndex(i,-1),n=My(this._lContainer,t);n&&(Vw(jI(this._lContainer),t),DT(n[Ze],n))}detach(i){const t=this._adjustIndex(i,-1),n=My(this._lContainer,t);return n&&null!=Vw(jI(this._lContainer),t)?new Fy(n):null}_adjustIndex(i,t=0){return i??this.length+t}};function R8(e){return e[8]}function jI(e){return e[8]||(e[8]=[])}function P8(e,i){let t;const n=i[e.index];return ro(n)?t=n:(t=H5(n,i,null,e),i[e.index]=t,kT(i,t)),k8(t,i,e,n),new I8(t,e,i)}let k8=function O8(e,i,t,n){if(e[qc])return;let r;r=8&t.type?ir(n):function wht(e,i){const t=e[en],n=t.createComment(""),r=No(i,e);return Hf(t,mI(t,r),n,function bct(e,i){return e.nextSibling(i)}(t,r),!1),n}(i,t),e[qc]=r},XI=()=>!1;class YI{constructor(i){this.queryList=i,this.matches=null}clone(){return new YI(this.queryList)}setDirty(){this.queryList.setDirty()}}class $I{constructor(i=[]){this.queries=i}createEmbeddedView(i){const t=i.queries;if(null!==t){const n=null!==i.contentQueries?i.contentQueries[0]:t.length,r=[];for(let s=0;s<n;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new $I(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let t=0;t<this.queries.length;t++)null!==qI(i,t).matches&&this.queries[t].setDirty()}}class L8{constructor(i,t,n=null){this.flags=t,this.read=n,this.predicate="string"==typeof i?function Mht(e){return e.split(",").map(i=>i.trim())}(i):i}}class QI{constructor(i=[]){this.queries=i}elementStart(i,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(i,t)}elementEnd(i){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(i)}embeddedTView(i){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(i,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new QI(t):null}template(i,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(i,t)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class KI{constructor(i,t=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(i,t){this.isApplyingToNode(t)&&this.matchTNode(i,t)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,t){this.elementStart(i,t)}embeddedTView(i,t){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,t),new KI(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let n=i.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(i,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(i,t,Eht(t,s)),this.matchTNodeWithReadOption(i,t,cT(t,i,s,!1,!1))}else n===yr?4&t.type&&this.matchTNodeWithReadOption(i,t,-1):this.matchTNodeWithReadOption(i,t,cT(t,i,n,!1,!1))}matchTNodeWithReadOption(i,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ai||r===Or||r===yr&&4&t.type)this.addMatch(t.index,-2);else{const s=cT(t,i,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,n)}}addMatch(i,t){null===this.matches?this.matches=[i,t]:this.matches.push(i,t)}}function Eht(e,i){const t=e.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===i)return t[n+1];return null}function Aht(e,i,t,n){return-1===t?function _ht(e,i){return 11&e.type?hg(e,i):4&e.type?LT(e,i):null}(i,e):-2===t?function Dht(e,i,t){return t===ai?hg(i,e):t===yr?LT(i,e):t===Or?P8(i,e):void 0}(e,i,n):Bf(e,e[Ze],t,i)}function N8(e,i,t,n){const r=i[Yu].queries[n];if(null===r.matches){const s=e.data,o=t.matches,l=[];for(let w=0;null!==o&&w<o.length;w+=2){const E=o[w];l.push(E<0?null:Aht(i,s[E],o[w+1],t.metadata.read))}r.matches=l}return r.matches}function ZI(e,i,t,n){const r=e.queries.getByIndex(t),s=r.matches;if(null!==s){const o=N8(e,i,r,t);for(let l=0;l<s.length;l+=2){const w=s[l];if(w>0)n.push(o[l/2]);else{const E=s[l+1],D=i[-w];for(let k=Ms;k<D.length;k++){const O=D[k];O[Pf]===O[Xs]&&ZI(O[Ze],O,E,n)}if(null!==D[og]){const k=D[og];for(let O=0;O<k.length;O++){const L=k[O];ZI(L[Ze],L,E,n)}}}}}return n}function JI(e,i){return e[Yu].queries[i].queryList}function B8(e,i,t){const n=new Ju(!(4&~t));return function Rct(e,i,t,n){const r=j5(i);r.push(t),e.firstCreatePass&&X5(e).push(n,r.length-1)}(e,i,n,n.destroy),(i[Yu]??=new $I).queries.push(new YI(n))-1}function U8(e,i,t,n){const r=Dn();if(r.firstCreatePass){const s=Sr();z8(r,new L8(i,t,n),s.index),function Iht(e,i){const t=e.contentQueries||(e.contentQueries=[]);i!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,i)}(r,e),!(2&~t)&&(r.staticContentQueries=!0)}return B8(r,Ee(),t)}function z8(e,i,t){null===e.queries&&(e.queries=new QI),e.queries.track(new KI(i,t))}function qI(e,i){return e.queries.getByIndex(i)}function G8(e,i){const t=e[Ze],n=qI(t,i);return n.crossesNgTemplate?ZI(t,e,i,[]):N8(t,e,n,i)}const H8=new Set;function Vo(e){H8.has(e)||(H8.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function jT(e){return"function"==typeof e&&void 0!==e[a]}function au(e,i){Vo("NgSignals");const t=function it(e){const i=Object.create(bt);i.value=e;const t=()=>(c(i),i.value);return t[a]=i,t}(e),n=t[a];return i?.equal&&(n.equal=i.equal),t.set=r=>nt(n,r),t.update=r=>function dt(e,i){m()||at(),nt(e,i(e.value))}(n,r),t.asReadonly=W8.bind(t),t}function W8(){const e=this[a];if(void 0===e.readonlyFn){const i=()=>this();i[a]=e,e.readonlyFn=i}return e.readonlyFn}function j8(e){return jT(e)&&"function"==typeof e.set}function t2(e,i){let t;const n=V(()=>{t._dirtyCounter();const r=function Rht(e,i){const t=e._lView,n=e._queryIndex;if(void 0===t||void 0===n||4&t[zi])return i?void 0:er;const r=JI(t,n),s=G8(t,n);return r.reset(s,xV),i?r.first:r._changesDetected||void 0===e._flatValue?e._flatValue=r.toArray():e._flatValue}(t,e);if(i&&void 0===r)throw new pe(-951,!1);return r});return t=n[a],t._dirtyCounter=au(0),t._flatValue=void 0,n}function K8(e,i){return function X8(){return t2(!0,!1)}()}const kht=(K8.required=function Pht(e,i){return function Y8(){return t2(!0,!0)}()},K8);function yi(e){let i=function n9(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const n=[e];for(;i;){let r;if(Ac(e))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new pe(903,!1);r=i.\u0275dir}if(r){if(t){n.push(r);const o=e;o.inputs=YT(e.inputs),o.inputTransforms=YT(e.inputTransforms),o.declaredInputs=YT(e.declaredInputs),o.outputs=YT(e.outputs);const l=r.hostBindings;l&&Xht(e,l);const w=r.viewQuery,E=r.contentQueries;if(w&&Wht(e,w),E&&jht(e,E),Ght(e,r),Ost(e.outputs,r.outputs),Ac(r)&&r.data.animation){const D=e.data;D.animation=(D.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(e),l===yi&&(t=!1)}}i=Object.getPrototypeOf(i)}!function Hht(e){let i=0,t=null;for(let n=e.length-1;n>=0;n--){const r=e[n];r.hostVars=i+=r.hostVars,r.hostAttrs=ny(r.hostAttrs,t=ny(t,r.hostAttrs))}}(n)}function Ght(e,i){for(const t in i.inputs){if(!i.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const n=i.inputs[t];if(void 0!==n&&(e.inputs[t]=n,e.declaredInputs[t]=i.declaredInputs[t],null!==i.inputTransforms)){const r=Array.isArray(n)?n[0]:n;if(!i.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=i.inputTransforms[r]}}}function YT(e){return e===Qc?{}:e===er?[]:e}function Wht(e,i){const t=e.viewQuery;e.viewQuery=t?(n,r)=>{i(n,r),t(n,r)}:i}function jht(e,i){const t=e.contentQueries;e.contentQueries=t?(n,r,s)=>{i(n,r,s),t(n,r,s)}:i}function Xht(e,i){const t=e.hostBindings;e.hostBindings=t?(n,r)=>{i(n,r),t(n,r)}:i}function r9(e){const i=t=>{const n=Array.isArray(e);null===t.hostDirectives?(t.findHostDirectiveDefs=s9,t.hostDirectives=n?e.map(e2):[e]):n?t.hostDirectives.unshift(...e.map(e2)):t.hostDirectives.unshift(e)};return i.ngInherit=!0,i}function s9(e,i,t){if(null!==e.hostDirectives)for(const n of e.hostDirectives)if("function"==typeof n){const r=n();for(const s of r)a9(e2(s),i,t)}else a9(n,i,t)}function a9(e,i,t){const n=oa(e.directive);(function Kht(e,i){for(const t in i)i.hasOwnProperty(t)&&(e[i[t]]=e[t])})(n.declaredInputs,e.inputs),s9(n,i,t),t.set(n,e),i.push(n)}function e2(e){return"function"==typeof e?{directive:$i(e),inputs:Qc,outputs:Qc}:{directive:$i(e.directive),inputs:o9(e.inputs),outputs:o9(e.outputs)}}function o9(e){if(void 0===e||0===e.length)return Qc;const i={};for(let t=0;t<e.length;t+=2)i[e[t]]=e[t+1];return i}function vn(e){const i=e.inputConfig,t={};for(const n in i)if(i.hasOwnProperty(n)){const r=i[n];Array.isArray(r)&&r[3]&&(t[n]=r[3])}e.inputTransforms=t}class Kf{}class c9{}class n2 extends Kf{constructor(i,t,n,r=!0){super(),this.ngModuleType=i,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new D8(this);const s=no(i);this._bootstrapComponents=Sl(s.bootstrap),this._r3Injector=uV(i,t,[{provide:Kf,useValue:this},{provide:Qf,useValue:this.componentFactoryResolver},...n],aa(i),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class r2 extends c9{constructor(i){super(),this.moduleType=i}create(i){return new n2(this.moduleType,i,[])}}class u9 extends Kf{constructor(i){super(),this.componentFactoryResolver=new D8(this),this.instance=null;const t=new tg([...i.providers,{provide:Kf,useValue:this},{provide:Qf,useValue:this.componentFactoryResolver}],i.parent||Xw(),i.debugName,new Set(["environment"]));this.injector=t,i.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function $T(e,i,t=null){return new u9({providers:e,parent:i,debugName:t,runEnvironmentInitializers:!0}).injector}function QT(e){return!!s2(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function s2(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ou(e,i,t){return e[i]=t}function Is(e,i,t){return!Object.is(e[i],t)&&(e[i]=t,!0)}function Zf(e,i,t,n){const r=Is(e,i,t);return Is(e,i+1,n)||r}function KT(e,i,t,n,r){const s=Zf(e,i,t,n);return Is(e,i+2,r)||s}function $y(e,i,t,n,r,s,o,l,w,E){const D=t+Pi,k=i.firstCreatePass?function ndt(e,i,t,n,r,s,o,l,w){const E=i.consts,D=jf(i,e,4,o||null,l||null);SI(i,t,D,Ql(E,w)),nT(i,D);const k=D.tView=CI(2,D,n,r,s,i.directiveRegistry,i.pipeRegistry,null,i.schemas,E,null);return null!==i.queries&&(i.queries.template(i,D),k.queries=i.queries.embeddedTView(D)),D}(D,i,e,n,r,s,o,l,w):i.data[D];Dc(k,!1);const O=h9(i,e,k,t);fy()&&MT(i,e,O,k),so(O,e);const L=H5(O,e,O,k);return e[D]=L,kT(e,L),function F8(e,i,t){return XI(e,i,t)}(L,k,e),Zw(k)&&wI(i,e,k),null!=w&&TI(e,k,E),k}function Ht(e,i,t,n,r,s,o,l){const w=Ee(),E=Dn();return $y(w,E,e,i,t,n,r,Ql(E.consts,s),o,l),Ht}let h9=function d9(e,i,t,n){return eu(!0),i[en].createComment("")};var Jf=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Jf||{});let y9=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Zy{constructor(){this.ngZone=Jt(li),this.scheduler=Jt(wg),this.errorHandler=Jt(Tl,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Jf.EarlyRead,Jf.Write,Jf.MixedReadWrite,Jf.Read]}execute(){this.executing=!0;for(const i of Zy.PHASES)for(const t of this.sequences)if(!t.erroredOrDestroyed&&t.hooks[i])try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[i](t.pipelinedValue))}catch(n){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(n)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(i){this.executing?this.deferredRegistrations.add(i):(this.sequences.add(i),this.scheduler.notify(6))}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}static{this.\u0275prov=Ie({token:Zy,providedIn:"root",factory:()=>new Zy})}}class odt{constructor(i,t,n,r){this.impl=i,this.hooks=t,this.once=n,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function o2(e,i){!i?.injector&&sM();const t=i?.injector??Jt(On);return El(t)?(Vo("NgAfterRender"),x9(e,t,i,!1)):b9}function ao(e,i){!i?.injector&&sM();const t=i?.injector??Jt(On);return El(t)?(Vo("NgAfterNextRender"),x9(e,t,i,!0)):b9}function x9(e,i,t,n){const r=i.get(y9);r.impl??=i.get(Zy);const s=t?.phase??Jf.MixedReadWrite,o=!0!==t?.manualCleanup?i.get(vy):null,l=new odt(r.impl,function ldt(e,i){if(e instanceof Function){const t=[void 0,void 0,void 0,void 0];return t[i]=e,t}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,s),n,o);return r.impl.register(l),l}const b9={destroy(){}};function _i(e,i,t,n){const r=Ee();return Is(r,Mc(),i)&&(Dn(),su(Gr(),r,e,i,t,n)),_i}function Rg(e,i,t,n){return Is(e,Mc(),t)?i+fn(t)+n:pn}function iC(e,i){return e<<17|i<<2}function vd(e){return e>>17&32767}function v2(e){return 2|e}function tp(e){return(131068&e)>>2}function y2(e,i){return-131069&e|i<<2}function x2(e){return 1|e}function X9(e,i,t,n){const r=e[t+1],s=null===i;let o=n?vd(r):tp(r),l=!1;for(;0!==o&&(!1===l||s);){const E=e[o+1];Wdt(e[o],i)&&(l=!0,e[o+1]=n?x2(E):v2(E)),o=n?vd(E):tp(E)}l&&(e[t+1]=n?v2(r):x2(r))}function Wdt(e,i){return null===e||null==i||(Array.isArray(e)?e[1]:e)===i||!(!Array.isArray(e)||"string"!=typeof i)&&qm(e,i)>=0}const ha={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Y9(e){return e.substring(ha.key,ha.keyEnd)}function $9(e,i){const t=ha.textEnd;return t===i?-1:(i=ha.keyEnd=function $dt(e,i,t){for(;i<t&&e.charCodeAt(i)>32;)i++;return i}(e,ha.key=i,t),Vg(e,i,t))}function Vg(e,i,t){for(;i<t&&e.charCodeAt(i)<=32;)i++;return i}function vt(e,i,t){const n=Ee();return Is(n,Mc(),i)&&nl(Dn(),Gr(),n,e,i,n[en],t,!1),vt}function b2(e,i,t,n,r){const o=r?"class":"style";DI(e,t,i.inputs[o],o,n)}function $s(e,i,t){return Ic(e,i,t,!1),$s}function Ci(e,i){return Ic(e,i,null,!0),Ci}function oo(e){Rc(nft,cu,e,!0)}function cu(e,i){for(let t=function Xdt(e){return function K9(e){ha.key=0,ha.keyEnd=0,ha.value=0,ha.valueEnd=0,ha.textEnd=e.length}(e),$9(e,Vg(e,0,ha.textEnd))}(i);t>=0;t=$9(i,t))yl(e,Y9(i),!0)}function Ic(e,i,t,n){const r=Ee(),s=Dn(),o=Ku(2);s.firstUpdatePass&&t6(s,e,o,n),i!==pn&&Is(r,o,i)&&i6(s,s.data[Ha()],r,r[en],e,r[o+1]=function sft(e,i){return null==e||""===e||("string"==typeof i?e+=i:"object"==typeof e&&(e=aa(Cl(e)))),e}(i,t),n,o)}function Rc(e,i,t,n){const r=Dn(),s=Ku(2);r.firstUpdatePass&&t6(r,null,s,n);const o=Ee();if(t!==pn&&Is(o,s,t)){const l=r.data[Ha()];if(r6(l,n)&&!q9(r,s)){let w=n?l.classesWithoutHost:l.stylesWithoutHost;null!==w&&(t=FD(w,t||"")),b2(r,l,o,t,n)}else!function rft(e,i,t,n,r,s,o,l){r===pn&&(r=er);let w=0,E=0,D=0<r.length?r[0]:null,k=0<s.length?s[0]:null;for(;null!==D||null!==k;){const O=w<r.length?r[w+1]:void 0,L=E<s.length?s[E+1]:void 0;let j,U=null;D===k?(w+=2,E+=2,O!==L&&(U=k,j=L)):null===k||null!==D&&D<k?(w+=2,U=D):(E+=2,U=k,j=L),null!==U&&i6(e,i,t,n,U,j,o,l),D=w<r.length?r[w]:null,k=E<s.length?s[E]:null}}(r,l,o,o[en],o[s+1],o[s+1]=function ift(e,i,t){if(null==t||""===t)return er;const n=[],r=Cl(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(n,s,r[s]);else"string"==typeof r&&i(n,r);return n}(e,i,t),n,s)}}function q9(e,i){return i>=e.expandoStartIndex}function t6(e,i,t,n){const r=e.data;if(null===r[t+1]){const s=r[Ha()],o=q9(e,t);r6(s,n)&&null===i&&!o&&(i=!1),i=function Jdt(e,i,t,n){const r=bM(e);let s=n?i.residualClasses:i.residualStyles;if(null===r)0===(n?i.classBindings:i.styleBindings)&&(t=qy(t=w2(null,e,i,t,n),i.attrs,n),s=null);else{const o=i.directiveStylingLast;if(-1===o||e[o]!==r)if(t=w2(r,e,i,t,n),null===s){let w=function qdt(e,i,t){const n=t?i.classBindings:i.styleBindings;if(0!==tp(n))return e[vd(n)]}(e,i,n);void 0!==w&&Array.isArray(w)&&(w=w2(null,e,i,w[1],n),w=qy(w,i.attrs,n),function tft(e,i,t,n){e[vd(t?i.classBindings:i.styleBindings)]=n}(e,i,n,w))}else s=function eft(e,i,t){let n;const r=i.directiveEnd;for(let s=1+i.directiveStylingLast;s<r;s++)n=qy(n,e[s].hostAttrs,t);return qy(n,i.attrs,t)}(e,i,n)}return void 0!==s&&(n?i.residualClasses=s:i.residualStyles=s),t}(r,s,i,n),function Gdt(e,i,t,n,r,s){let o=s?i.classBindings:i.styleBindings,l=vd(o),w=tp(o);e[n]=t;let D,E=!1;if(Array.isArray(t)?(D=t[1],(null===D||qm(t,D)>0)&&(E=!0)):D=t,r)if(0!==w){const O=vd(e[l+1]);e[n+1]=iC(O,l),0!==O&&(e[O+1]=y2(e[O+1],n)),e[l+1]=function Udt(e,i){return 131071&e|i<<17}(e[l+1],n)}else e[n+1]=iC(l,0),0!==l&&(e[l+1]=y2(e[l+1],n)),l=n;else e[n+1]=iC(w,0),0===l?l=n:e[w+1]=y2(e[w+1],n),w=n;E&&(e[n+1]=v2(e[n+1])),X9(e,D,n,!0),X9(e,D,n,!1),function Hdt(e,i,t,n,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof i&&qm(s,i)>=0&&(t[n+1]=x2(t[n+1]))}(i,D,e,n,s),o=iC(l,w),s?i.classBindings=o:i.styleBindings=o}(r,s,i,t,o,n)}}function w2(e,i,t,n,r){let s=null;const o=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<o&&(s=i[l],n=qy(n,s.hostAttrs,r),s!==e);)l++;return null!==e&&(t.directiveStylingLast=l),n}function qy(e,i,t){const n=t?1:2;let r=-1;if(null!==i)for(let s=0;s<i.length;s++){const o=i[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),yl(e,o,!!t||i[++s]))}return void 0===e?null:e}function nft(e,i,t){const n=String(i);""!==n&&!n.includes(" ")&&yl(e,n,t)}function i6(e,i,t,n,r,s,o,l){if(!(3&i.type))return;const w=e.data,E=w[l+1],D=function zdt(e){return!(1&~e)}(E)?n6(w,i,t,r,tp(E),o):void 0;nC(D)||(nC(s)||function Vdt(e){return!(2&~e)}(E)&&(s=n6(w,null,t,r,l,o)),function Cct(e,i,t,n,r){if(i)r?e.addClass(t,n):e.removeClass(t,n);else{let s=-1===n.indexOf("-")?void 0:fd.DashCase;null==r?e.removeStyle(t,n,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=fd.Important),e.setStyle(t,n,r,s))}}(n,o,cy(Ha(),t),r,s))}function n6(e,i,t,n,r,s){const o=null===i;let l;for(;r>0;){const w=e[r],E=Array.isArray(w),D=E?w[1]:w,k=null===D;let O=t[r+1];O===pn&&(O=k?er:void 0);let L=k?$D(O,n):D===n?O:void 0;if(E&&!nC(L)&&(L=$D(w,n)),nC(L)&&(l=L,o))return l;const U=e[r+1];r=o?vd(U):tp(U)}if(null!==i){let w=s?i.residualClasses:i.residualStyles;null!=w&&(l=$D(w,n))}return l}function nC(e){return void 0!==e}function r6(e,i){return!!(e.flags&(i?8:16))}class mft{destroy(i){}updateValue(i,t){}swap(i,t){const n=Math.min(i,t),r=Math.max(i,t),s=this.detach(r);if(r-n>1){const o=this.detach(n);this.attach(n,s),this.attach(r,o)}else this.attach(n,s)}move(i,t){this.attach(t,this.detach(i))}}function T2(e,i,t,n,r){return e===t&&Object.is(i,n)?1:Object.is(r(e,i),r(t,n))?-1:0}function C2(e,i,t,n){return!(void 0===i||!i.has(n)||(e.attach(t,i.get(n)),i.delete(n),0))}function a6(e,i,t,n,r){if(C2(e,i,n,t(n,r)))e.updateValue(n,r);else{const s=e.create(n,r);e.attach(n,s)}}function o6(e,i,t,n){const r=new Set;for(let s=i;s<=t;s++)r.add(n(s,e.at(s)));return r}class l6{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const t=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(i,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,t){if(this.kvMap.has(i)){let n=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,t)}else this.kvMap.set(i,t)}forEach(i){for(let[t,n]of this.kvMap)if(i(n,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(n);)n=r.get(n),i(n,t)}}}function Tn(e,i){Vo("NgControlFlow");const t=Ee(),n=Mc(),r=t[n]!==pn?t[n]:-1,s=-1!==r?oC(t,Pi+r):void 0;if(Is(t,n,e)){const l=y(null);try{if(void 0!==s&&II(s,0),-1!==e){const w=Pi+e,E=oC(t,w),D=S2(t[Ze],w),k=$f(E,D.tView.ssrId);xg(E,yg(t,D,i,{dehydratedView:k}),0,Xf(D,k))}}finally{y(l)}}else if(void 0!==s){const l=$5(s,0);void 0!==l&&(l[zr]=i)}}class vft{constructor(i,t,n){this.lContainer=i,this.$implicit=t,this.$index=n}get $count(){return this.lContainer.length-Ms}}function rC(e,i){return i}class xft{constructor(i,t,n){this.hasEmptyBlock=i,this.trackByFn=t,this.liveCollection=n}}function sC(e,i,t,n,r,s,o,l,w,E,D,k,O){Vo("NgControlFlow");const L=Ee(),U=Dn(),j=void 0!==w,W=Ee(),Z=l?o.bind(W[os][zr]):o,rt=new xft(j,Z);W[Pi+e]=rt,$y(L,U,e+1,i,t,n,r,Ql(U.consts,s)),j&&$y(L,U,e+2,w,E,D,k,Ql(U.consts,O))}class bft extends mft{constructor(i,t,n){super(),this.lContainer=i,this.hostLView=t,this.templateTNode=n,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ms}at(i){return this.getLView(i)[zr].$implicit}attach(i,t){const n=t[Lo];this.needsIndexUpdate||=i!==this.length,xg(this.lContainer,t,i,Xf(this.templateTNode,n))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function wft(e,i){return My(e,i)}(this.lContainer,i)}create(i,t){const n=$f(this.lContainer,this.templateTNode.tView.ssrId),r=yg(this.hostLView,this.templateTNode,new vft(this.lContainer,t,i),{dehydratedView:n});return this.operationsCounter?.recordCreate(),r}destroy(i){DT(i[Ze],i),this.operationsCounter?.recordDestroy()}updateValue(i,t){this.getLView(i)[zr].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[zr].$index=i}getLView(i){return function Tft(e,i){return $5(e,i)}(this.lContainer,i)}}function aC(e){const i=y(null),t=Ha();try{const n=Ee(),r=n[Ze],s=n[t],o=t+1,l=oC(n,o);if(void 0===s.liveCollection){const E=S2(r,o);s.liveCollection=new bft(l,n,E)}else s.liveCollection.reset();const w=s.liveCollection;if(function gft(e,i,t){let n,r,s=0,o=e.length-1;if(Array.isArray(i)){let w=i.length-1;for(;s<=o&&s<=w;){const E=e.at(s),D=i[s],k=T2(s,E,s,D,t);if(0!==k){k<0&&e.updateValue(s,D),s++;continue}const O=e.at(o),L=i[w],U=T2(o,O,w,L,t);if(0!==U){U<0&&e.updateValue(o,L),o--,w--;continue}const j=t(s,E),W=t(o,O),Z=t(s,D);if(Object.is(Z,W)){const rt=t(w,L);Object.is(rt,j)?(e.swap(s,o),e.updateValue(o,L),w--,o--):e.move(o,s),e.updateValue(s,D),s++}else if(n??=new l6,r??=o6(e,s,o,t),C2(e,n,s,Z))e.updateValue(s,D),s++,o++;else if(r.has(Z))n.set(j,e.detach(s)),o--;else{const rt=e.create(s,i[s]);e.attach(s,rt),s++,o++}}for(;s<=w;)a6(e,n,t,s,i[s]),s++}else if(null!=i){const w=i[Symbol.iterator]();let E=w.next();for(;!E.done&&s<=o;){const D=e.at(s),k=E.value,O=T2(s,D,s,k,t);if(0!==O)O<0&&e.updateValue(s,k),s++,E=w.next();else{n??=new l6,r??=o6(e,s,o,t);const L=t(s,k);if(C2(e,n,s,L))e.updateValue(s,k),s++,o++,E=w.next();else if(r.has(L)){const U=t(s,D);n.set(U,e.detach(s)),o--}else e.attach(s,e.create(s,k)),s++,o++,E=w.next()}}for(;!E.done;)a6(e,n,t,e.length,E.value),E=w.next()}for(;s<=o;)e.destroy(e.detach(o--));n?.forEach(w=>{e.destroy(w)})}(w,e,s.trackByFn),w.updateIndexes(),s.hasEmptyBlock){const E=Mc(),D=0===w.length;if(Is(n,E,D)){const k=t+2,O=oC(n,k);if(D){const L=S2(r,k),U=$f(O,L.tView.ssrId);xg(O,yg(n,L,void 0,{dehydratedView:U}),0,Xf(L,U))}else II(O,0)}}}finally{y(i)}}function oC(e,i){return e[i]}function S2(e,i){return uy(e,i)}function J(e,i,t,n){const r=Ee(),s=Dn(),o=Pi+e,l=r[en],w=s.firstCreatePass?function Cft(e,i,t,n,r,s){const o=i.consts,w=jf(i,e,2,n,Ql(o,r));return SI(i,t,w,Ql(o,s)),null!==w.attrs&&WT(w,w.attrs,!1),null!==w.mergedAttrs&&WT(w,w.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,w),w}(o,s,r,i,t,n):s.data[o],E=c6(s,r,w,l,i,e);r[o]=E;const D=Zw(w);return Dc(w,!0),k5(l,E,w),!function Cg(e){return!(32&~e.flags)}(w)&&fy()&&MT(s,r,E,w),0===function Qat(){return nn.lFrame.elementDepthCount}()&&so(E,r),function Kat(){nn.lFrame.elementDepthCount++}(),D&&(wI(s,r,w),bI(s,w,r)),null!==n&&TI(r,w),J}function et(){let e=Sr();vM()?yM():(e=e.parent,Dc(e,!1));const i=e;(function Jat(e){return nn.skipHydrationRootTNode===e})(i)&&function iot(){nn.skipHydrationRootTNode=null}(),function Zat(){nn.lFrame.elementDepthCount--}();const t=Dn();return t.firstCreatePass&&(nT(t,e),lM(e)&&t.queries.elementEnd(e)),null!=i.classesWithoutHost&&function pot(e){return!!(8&e.flags)}(i)&&b2(t,i,Ee(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function mot(e){return!!(16&e.flags)}(i)&&b2(t,i,Ee(),i.stylesWithoutHost,!1),et}function ye(e,i,t,n){return J(e,i,t,n),et(),ye}let c6=(e,i,t,n,r,s)=>(eu(!0),AT(n,r,function WB(){return nn.lFrame.currentNamespace}()));function Qi(e,i,t){const n=Ee(),r=Dn(),s=e+Pi,o=r.firstCreatePass?function _ft(e,i,t,n,r){const s=i.consts,o=Ql(s,n),l=jf(i,e,8,"ng-container",o);return null!==o&&WT(l,o,!0),SI(i,t,l,Ql(s,r)),null!==i.queries&&i.queries.elementStart(i,l),l}(s,r,n,i,t):r.data[s];Dc(o,!0);const l=u6(r,n,o,e);return n[s]=l,fy()&&MT(r,n,l,o),so(l,n),Zw(o)&&(wI(r,n,o),bI(r,o,n)),null!=t&&TI(n,o),Qi}function Ki(){let e=Sr();const i=Dn();return vM()?yM():(e=e.parent,Dc(e,!1)),i.firstCreatePass&&(nT(i,e),lM(e)&&i.queries.elementEnd(e)),Ki}function da(e,i,t){return Qi(e,i,t),Ki(),da}let u6=(e,i,t,n)=>(eu(!0),hI(i[en],""));function xe(){return Ee()}function uu(e,i,t){const n=Ee();return Is(n,Mc(),i)&&nl(Dn(),Gr(),n,e,i,n[en],t,!0),uu}function lC(e,i,t){const n=Ee();if(Is(n,Mc(),i)){const s=Dn(),o=Gr();nl(s,o,n,e,i,Y5(bM(s.data),o,n),t,!0)}return lC}const ep=void 0;var Ift=["en",[["a","p"],["AM","PM"],ep],[["AM","PM"],ep,ep],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ep,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ep,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ep,"{1} 'at' {0}",ep],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mft(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Ug={};function Uo(e){const i=function Rft(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=d6(i);if(t)return t;const n=i.split("-")[0];if(t=d6(n),t)return t;if("en"===n)return Ift;throw new pe(701,!1)}function d6(e){return e in Ug||(Ug[e]=Jr.ng&&Jr.ng.common&&Jr.ng.common.locales&&Jr.ng.common.locales[e]),Ug[e]}var Wr=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Wr||{});const cC="en-US";let f6=cC,R6=(e,i,t)=>{};function Ut(e,i,t,n){const r=Ee(),s=Dn(),o=Sr();return A2(s,r,r[en],o,e,i,n),Ut}function fC(e,i){const t=Sr(),n=Ee(),r=Dn();return A2(r,n,Y5(bM(r.data),t,n),t,e,i),fC}function A2(e,i,t,n,r,s,o){const l=Zw(n),E=e.firstCreatePass&&X5(e),D=i[zr],k=j5(i);let O=!0;if(3&n.type||o){const j=No(n,i),W=o?o(j):j,Z=k.length,rt=o?yt=>o(ir(yt[n.index])):n.index;let st=null;if(!o&&l&&(st=function xpt(e,i,t,n){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===n){const l=i[ng],w=r[s+2];return l.length>w?l[w]:null}"string"==typeof o&&(s+=2)}return null}(e,i,r,n.index)),null!==st)(st.__ngLastListenerFn__||st).__ngNextListenerFn__=s,st.__ngLastListenerFn__=s,O=!1;else{s=F6(n,i,D,s),R6(j,r,s);const yt=t.listen(W,r,s);k.push(s,yt),E&&E.push(r,rt,Z,Z+1)}}else s=F6(n,i,D,s);const L=n.outputs;let U;if(O&&null!==L&&(U=L[r])){const j=U.length;if(j)for(let W=0;W<j;W+=2){const Tt=i[U[W]][U[W+1]].subscribe(s),It=k.length;k.push(s,Tt),E&&E.push(r,n.index,It,-(It+1))}}}function k6(e,i,t,n){const r=y(null);try{return tu(6,i,t),!1!==t(n)}catch(s){return FT(e,s),!1}finally{tu(7,i,t),y(r)}}function F6(e,i,t,n){return function r(s){if(s===Function)return n;ky(e.componentOffset>-1?xl(e.index,i):i,5);let l=k6(i,t,n,s),w=r.__ngNextListenerFn__;for(;w;)l=k6(i,t,w,s)&&l,w=w.__ngNextListenerFn__;return l}}function St(e=1){return function oot(e){return(nn.lFrame.contextLView=function MB(e,i){for(;e>0;)i=i[rg],e--;return i}(e,nn.lFrame.contextLView))[zr]}(e)}function bpt(e,i){let t=null;const n=function uat(e){const i=e.attrs;if(null!=i){const t=i.indexOf(5);if(!(1&t))return i[t+1]}return null}(e);for(let r=0;r<i.length;r++){const s=i[r];if("*"!==s){if(null===n?rB(e,s,!0):fat(n,s))return r}else t=r}return t}function nr(e){const i=Ee()[os][Ga];if(!i.projection){const n=i.projection=function Uw(e,i){const t=[];for(let n=0;n<e;n++)t.push(i);return t}(e?e.length:1,null),r=n.slice();let s=i.child;for(;null!==s;){if(128!==s.type){const o=e?bpt(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s)}s=s.next}}}function Si(e,i=0,t,n,r,s){const o=Ee(),l=Dn(),w=n?e+1:null;null!==w&&$y(o,l,w,n,r,s,null,t);const E=jf(l,Pi+e,16,null,t||null);null===E.projection&&(E.projection=i),yM();const k=!o[Lo]||Of();null===o[os][Ga].projection[E.projection]&&null!==w?function wpt(e,i,t){const n=Pi+t,r=i.data[n],s=e[n],o=$f(s,r.tView.ssrId);xg(s,yg(e,r,void 0,{dehydratedView:o}),0,Xf(r,o))}(o,l,w):k&&32&~E.flags&&function wct(e,i,t){R5(i[en],0,i,t,pI(e,t,i),E5(t.parent||i[Ga],t,i))}(l,o,E)}function yd(e,i,t){return pC(e,"",i,"",t),yd}function pC(e,i,t,n,r){const s=Ee(),o=Rg(s,i,t,n);return o!==pn&&nl(Dn(),Gr(),s,e,o,s[en],r,!1),pC}function Hn(e,i,t,n){U8(e,i,t,n)}function ki(e,i,t){!function V8(e,i,t){const n=Dn();return n.firstCreatePass&&(z8(n,new L8(e,i,t),-1),!(2&~i)&&(n.staticViewQueries=!0)),B8(n,Ee(),i)}(e,i,t)}function He(e){const i=Ee(),t=Dn(),n=wM();iT(n+1);const r=qI(t,n);if(e.dirty&&function Yat(e){return!(4&~e[zi])}(i)===!(2&~r.metadata.flags)){if(null===r.matches)e.reset([]);else{const s=G8(i,n);e.reset(s,xV),e.notifyOnChanges()}return!0}return!1}function We(){return JI(Ee(),wM())}function H6(e,i,t,n,r){!function Q8(e,i){const t=e[a];t._lView=Ee(),t._queryIndex=i,t._queryList=JI(t._lView,i),t._queryList.onDirty(()=>t._dirtyCounter.update(n=>n+1))}(i,U8(e,t,n,r))}function Zi(e){return Ff(function kB(){return nn.lFrame.contextLView}(),Pi+e)}function ut(e,i=""){const t=Ee(),n=Dn(),r=e+Pi,s=n.firstCreatePass?jf(n,r,1,i,null):n.data[r],o=tU(n,t,s,i,e);t[r]=o,fy()&&MT(n,t,o,s),Dc(s,!1)}let tU=(e,i,t,n,r)=>(eu(!0),function uI(e,i){return e.createText(i)}(i[en],n));function Ke(e){return Je("",e,""),Ke}function Je(e,i,t){const n=Ee(),r=Rg(n,e,i,t);return r!==pn&&th(n,Ha(),r),Je}function sl(e,i,t,n,r){const s=Ee(),o=function Pg(e,i,t,n,r,s){const l=Zf(e,Qu(),t,r);return Ku(2),l?i+fn(t)+n+fn(r)+s:pn}(s,e,i,t,n,r);return o!==pn&&th(s,Ha(),o),sl}function sx(e,i,t,n,r,s,o){const l=Ee(),w=function kg(e,i,t,n,r,s,o,l){const E=KT(e,Qu(),t,r,o);return Ku(3),E?i+fn(t)+n+fn(r)+s+fn(o)+l:pn}(l,e,i,t,n,r,s,o);return w!==pn&&th(l,Ha(),w),sx}function _a(e,i,t){j8(i)&&(i=i());const n=Ee();return Is(n,Mc(),i)&&nl(Dn(),Gr(),n,e,i,n[en],t,!1),_a}function ja(e,i){const t=j8(e);return t&&e.set(i),t}function Aa(e,i){const t=Ee(),n=Dn(),r=Sr();return A2(n,t,t[en],r,e,i),Aa}function M2(e,i,t,n,r){if(e=$i(e),Array.isArray(e))for(let s=0;s<e.length;s++)M2(e[s],i,t,n,r);else{const s=Dn(),o=Ee(),l=Sr();let w=Rf(e)?e:$i(e.provide);const E=dB(e),D=1048575&l.providerIndexes,k=l.directiveStart,O=l.providerIndexes>>20;if(Rf(e)||!e.multi){const L=new py(E,r,pt),U=R2(w,i,r?D:D+O,k);-1===U?(IM(oT(l,o),s,w),I2(s,e,i.length),i.push(w),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(L),o.push(L)):(t[U]=L,o[U]=L)}else{const L=R2(w,i,D+O,k),U=R2(w,i,D,D+O),W=U>=0&&t[U];if(r&&!W||!r&&!(L>=0&&t[L])){IM(oT(l,o),s,w);const Z=function Vpt(e,i,t,n,r){const s=new py(e,t,pt);return s.multi=[],s.index=i,s.componentProviders=0,cU(s,r,n&&!t),s}(r?Bpt:Npt,t.length,r,n,E);!r&&W&&(t[U].providerFactory=Z),I2(s,e,i.length,0),i.push(w),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(Z),o.push(Z)}else I2(s,e,L>-1?L:U,cU(t[r?U:L],E,!r&&n));!r&&n&&W&&t[U].componentProviders++}}}function I2(e,i,t,n){const r=Rf(i),s=function Cat(e){return!!e.useClass}(i);if(r||s){const w=(s?$i(i.useClass):i).prototype.ngOnDestroy;if(w){const E=e.destroyHooks||(e.destroyHooks=[]);if(!r&&i.multi){const D=E.indexOf(t);-1===D?E.push(t,[n,w]):E[D+1].push(n,w)}else E.push(t,w)}}}function cU(e,i,t){return t&&e.componentProviders++,e.multi.push(i)-1}function R2(e,i,t,n){for(let r=t;r<n;r++)if(i[r]===e)return r;return-1}function Npt(e,i,t,n){return P2(this.multi,[])}function Bpt(e,i,t,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=Bf(t,t[Ze],this.providerFactory.index,n);s=l.slice(0,o),P2(r,s);for(let w=o;w<l.length;w++)s.push(l[w])}else s=[],P2(r,s);return s}function P2(e,i){for(let t=0;t<e.length;t++)i.push((0,e[t])());return i}function xi(e,i=[]){return t=>{t.providersResolver=(n,r)=>function Lpt(e,i,t){const n=Dn();if(n.firstCreatePass){const r=Ac(e);M2(t,n.data,n.blueprint,r,!0),M2(i,n.data,n.blueprint,r,!1)}}(n,r?r(e):e,i)}}let Upt=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const n=JD(0,t.type),r=n.length>0?$T([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ie({token:e,providedIn:"environment",factory:()=>new e(re(za))})}}return e})();function Wi(e){Vo("NgStandalone"),e.getStandaloneInjector=i=>i.get(Upt).getOrCreateStandaloneInjector(e)}function Xa(e,i,t){const n=Bo()+e,r=Ee();return r[n]===pn?ou(r,n,t?i.call(t):i()):function Yy(e,i){return e[i]}(r,n)}function Al(e,i,t,n){return dU(Ee(),Bo(),e,i,t,n)}function k2(e,i,t,n,r){return fU(Ee(),Bo(),e,i,t,n,r)}function ax(e,i){const t=e[i];return t===pn?void 0:t}function dU(e,i,t,n,r,s){const o=i+t;return Is(e,o,r)?ou(e,o+1,s?n.call(s,r):n(r)):ax(e,o+1)}function fU(e,i,t,n,r,s,o){const l=i+t;return Zf(e,l,r,s)?ou(e,l+2,o?n.call(o,r,s):n(r,s)):ax(e,l+2)}function vs(e,i){const t=Dn();let n;const r=e+Pi;t.firstCreatePass?(n=function Zpt(e,i){if(i)for(let t=i.length-1;t>=0;t--){const n=i[t];if(e===n.name)return n}}(i,t.pipeRegistry),t.data[r]=n,n.onDestroy&&(t.destroyHooks??=[]).push(r,n.onDestroy)):n=t.data[r];const s=n.factory||(n.factory=If(n.type)),l=tl(pt);try{const w=aT(!1),E=s();return aT(w),function D2(e,i,t,n){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),i[t]=n}(t,Ee(),r,E),E}finally{tl(l)}}function Jl(e,i,t){const n=e+Pi,r=Ee(),s=Ff(r,n);return ox(r,n)?dU(r,Bo(),i,s.transform,t,s):s.transform(t)}function Pc(e,i,t,n){const r=e+Pi,s=Ee(),o=Ff(s,r);return ox(s,r)?fU(s,Bo(),i,o.transform,t,n,o):o.transform(t,n)}function vU(e,i,t,n,r){const s=e+Pi,o=Ee(),l=Ff(o,s);return ox(o,s)?function pU(e,i,t,n,r,s,o,l){const w=i+t;return KT(e,w,r,s,o)?ou(e,w+3,l?n.call(l,r,s,o):n(r,s,o)):ax(e,w+3)}(o,Bo(),i,l.transform,t,n,r,l):l.transform(t,n,r)}function ox(e,i){return e[Ze].data[i].pure}function zg(e,i){return LT(e,i)}let kU=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const BU=new te(""),xC=new te("");let z2,V2=(()=>{class e{constructor(t,n,r){this._ngZone=t,this.registry=n,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,z2||(function Xmt(e){z2=e}(r),r.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{li.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},n)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,r),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,r){return[]}static{this.\u0275fac=function(n){return new(n||e)(re(li),re(U2),re(xC))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})(),U2=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return z2?.findTestabilityInTree(this,t,n)??null}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function ux(e){return!!e&&"function"==typeof e.then}function VU(e){return!!e&&"function"==typeof e.subscribe}const G2=new te("");let UU=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.appInits=Jt(G2,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(ux(s))t.push(s);else if(VU(s)){const o=new Promise((l,w)=>{s.subscribe({complete:l,error:w})});t.push(o)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(r=>{this.reject(r)}),0===t.length&&n(),this.initialized=!0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const bC=new te("");function GU(e,i){return Array.isArray(i)?i.reduce(GU,e):{...e,...i}}let ql=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jt(Hot),this.afterRenderManager=Jt(y9),this.zonelessEnabled=Jt(Gy),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Fe,this.afterTick=new Fe,this.componentTypes=[],this.components=[],this.isStable=Jt(Zu).hasPendingTasks.pipe(Ri(t=>!t)),this._injector=Jt(za)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(n=>{t=this.isStable.subscribe({next:r=>{r&&n()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,n){const r=t instanceof S8;if(!this._injector.get(UU).done)throw!r&&function ud(e){const i=Fn(e)||oa(e)||Ua(e);return null!==i&&i.standalone}(t),new pe(405,!1);let o;o=r?t:this._injector.get(Qf).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const l=function Ymt(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Kf),E=o.create(On.NULL,[],n||o.selector,l),D=E.location.nativeElement,k=E.injector.get(BU,null);return k?.registerApplication(D),E.onDestroy(()=>{this.detachView(E.hostView),wC(this.components,E),k?.unregisterApplication(D)}),this._loadComponent(E),E}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new pe(101,!1);const t=y(null);try{this._runningTick=!0,this.synchronize()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1,y(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(GT,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;0!==this.dirtyFlags&&n++<10;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const n=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(n);for(let{_lView:r,notifyErrorHandler:s}of this._views)Kmt(r,s,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else t?.begin?.(),t?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>Jw(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;wC(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const n=this._injector.get(bC,[]);[...this._bootstrapListeners,...n].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>wC(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new pe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wC(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function Kmt(e,i,t,n){(t||Jw(e))&&OT(e,i,t&&!n?0:1)}class Zmt{constructor(i,t){this.ngModuleFactory=i,this.componentFactories=t}}let WU=(()=>{class e{compileModuleSync(t){return new r2(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const n=this.compileModuleSync(t),s=Sl(no(t).declarations).reduce((o,l)=>{const w=Fn(l);return w&&o.push(new jy(w)),o},[]);return new Zmt(n,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tgt=(()=>{class e{constructor(){this.zone=Jt(li),this.changeDetectionScheduler=Jt(wg),this.applicationRef=Jt(ql)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function H2({ngZoneFactory:e,ignoreChangesOutsideZone:i,scheduleInRootZone:t}){return e??=()=>new li({...W2(),scheduleInRootZone:t}),[{provide:li,useFactory:e},{provide:Kc,multi:!0,useFactory:()=>{const n=Jt(tgt,{optional:!0});return()=>n.initialize()}},{provide:Kc,multi:!0,useFactory:()=>{const n=Jt(igt);return()=>{n.initialize()}}},!0===i?{provide:C8,useValue:!0}:[],{provide:GI,useValue:t??dV}]}function W2(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let igt=(()=>{class e{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=Jt(li),this.pendingTasks=Jt(Zu)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{li.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{li.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hx=(()=>{class e{constructor(){this.appRef=Jt(ql),this.taskService=Jt(Zu),this.ngZone=Jt(li),this.zonelessEnabled=Jt(Gy),this.disableScheduling=Jt(C8,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(dT):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Jt(GI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof NM||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const n=this.useMicrotaskScheduler?pV:fV;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>n(()=>this.tick())):this.ngZone.runOutsideAngular(()=>n(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(dT+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(n){throw this.taskService.remove(t),n}finally{this.cleanup()}this.useMicrotaskScheduler=!0,pV(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const eh=new te("",{providedIn:"root",factory:()=>Jt(eh,Nn.Optional|Nn.SkipSelf)||function ngt(){return typeof $localize<"u"&&$localize.locale||cC}()}),CC=new te("");function SC(e){return!e.moduleRef}let KU=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const r=n?.scheduleInRootZone,o=n?.ignoreChangesOutsideZone,l=[H2({ngZoneFactory:()=>function Got(e="zone.js",i){return"noop"===e?new NM:"zone.js"===e?new li(i):e}(n?.ngZone,{...W2({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}),scheduleInRootZone:r}),ignoreChangesOutsideZone:o}),{provide:wg,useExisting:hx}],w=function Jht(e,i,t){return new n2(e,i,t,!1)}(t.moduleType,this.injector,l);return function QU(e){const i=SC(e)?e.r3Injector:e.moduleRef.injector,t=i.get(li);return t.run(()=>{SC(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const n=i.get(Tl,null);let r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{n.handleError(s)}})}),SC(e)){const s=()=>i.destroy(),o=e.platformInjector.get(CC);o.add(s),i.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{const s=()=>e.moduleRef.destroy(),o=e.platformInjector.get(CC);o.add(s),e.moduleRef.onDestroy(()=>{wC(e.allPlatformModules,e.moduleRef),r.unsubscribe(),o.delete(s)})}return function Qmt(e,i,t){try{const n=t();return ux(n)?n.catch(r=>{throw i.runOutsideAngular(()=>e.handleError(r)),r}):n}catch(n){throw i.runOutsideAngular(()=>e.handleError(n)),n}}(n,t,()=>{const s=i.get(UU);return s.runInitializers(),s.donePromise.then(()=>{if(function Oft(e){"string"==typeof e&&(f6=e.toLowerCase().replace(/_/g,"-"))}(i.get(eh,cC)||cC),SC(e)){const l=i.get(ql);return void 0!==e.rootComponent&&l.bootstrap(e.rootComponent),l}return function cgt(e,i){const t=e.injector.get(ql);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(n=>t.bootstrap(n));else{if(!e.instance.ngDoBootstrap)throw new pe(-403,!1);e.instance.ngDoBootstrap(t)}i.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:w,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,n=[]){const r=GU({},n);return function qmt(e,i,t){const n=new r2(t);return Promise.resolve(n)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const t=this._injector.get(CC,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(n){return new(n||e)(re(On))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),xd=null;const ZU=new te("");function JU(e,i,t=[]){const n=`Platform: ${i}`,r=new te(n);return(s=[])=>{let o=X2();if(!o||o.injector.get(ZU,!1)){const l=[...t,...s,{provide:r,useValue:!0}];e?e(l):function ugt(e){if(xd&&!xd.get(ZU,!1))throw new pe(400,!1);(function zU(){!function lt(e){tt=e}(()=>{throw new pe(600,!1)})})(),xd=e;const i=e.get(KU);(function tz(e){e.get(VV,null)?.forEach(t=>t())})(e)}(function qU(e=[],i){return On.create({name:i,providers:[{provide:eM,useValue:"platform"},{provide:CC,useValue:new Set([()=>xd=null])},...e]})}(l,n))}return function hgt(){const i=X2();if(!i)throw new pe(401,!1);return i}()}}function X2(){return xd?.get(KU)??null}let In=(()=>{class e{static{this.__NG_ELEMENT_ID__=fgt}}return e})();function fgt(e){return function pgt(e,i,t){if(kf(e)&&!t){const n=xl(e.index,i);return new Fy(n,n)}return 175&e.type?new Fy(i[os],i):null}(Sr(),Ee(),!(16&~e))}class sz{constructor(){}supports(i){return QT(i)}create(i){return new xgt(i)}}const ygt=(e,i)=>i;class xgt{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||ygt}forEachItem(i){let t;for(t=this._itHead;null!==t;t=t._next)i(t)}forEachOperation(i){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const o=!n||t&&t.currentIndex<oz(n,r,s)?t:n,l=oz(o,r,s),w=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const E=l-r,D=w-r;if(E!=D){for(let O=0;O<E;O++){const L=O<s.length?s[O]:s[O]=0,U=L+O;D<=U&&U<E&&(s[O]=L+1)}s[o.previousIndex]=D-E}}l!==w&&i(o,l,w)}}forEachPreviousItem(i){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachMovedItem(i){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}forEachIdentityChange(i){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)i(t)}diff(i){if(null==i&&(i=[]),!QT(i))throw new pe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let r,s,o,t=this._itHead,n=!1;if(Array.isArray(i)){this.length=i.length;for(let l=0;l<this.length;l++)s=i[l],o=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,s,o,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,l),n=!0),t=t._next}else r=0,function edt(e,i){if(Array.isArray(e))for(let t=0;t<e.length;t++)i(e[t]);else{const t=e[Symbol.iterator]();let n;for(;!(n=t.next()).done;)i(n.value)}}(i,l=>{o=this._trackByFn(r,l),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,l,o,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,o,r),n=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,t,n,r){let s;return null===i?s=this._itTail:(s=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._reinsertAfter(i,s,r)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._moveAfter(i,s,r)):i=this._addAfter(new bgt(t,n),s,r),i}_verifyReinsertion(i,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?i=this._reinsertAfter(s,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;null!==i;){const t=i._next;this._addToRemovals(this._unlink(i)),i=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const r=i._prevRemoved,s=i._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(i,t,n),this._addToMoves(i,n),i}_moveAfter(i,t,n){return this._unlink(i),this._insertAfter(i,t,n),this._addToMoves(i,n),i}_addAfter(i,t,n){return this._insertAfter(i,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,t,n){const r=null===t?this._itHead:t._next;return i._next=r,i._prev=t,null===r?this._itTail=i:r._prev=i,null===t?this._itHead=i:t._next=i,null===this._linkedRecords&&(this._linkedRecords=new az),this._linkedRecords.put(i),i.currentIndex=n,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const t=i._prev,n=i._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,i}_addToMoves(i,t){return i.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new az),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,t){return i.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class bgt{constructor(i,t){this.item=i,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wgt{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,i))return n;return null}remove(i){const t=i._prevDup,n=i._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class az{constructor(){this.map=new Map}put(i){const t=i.trackById;let n=this.map.get(t);n||(n=new wgt,this.map.set(t,n)),n.add(i)}get(i,t){const r=this.map.get(i);return r?r.get(i,t):null}remove(i){const t=i.trackById;return this.map.get(t).remove(i)&&this.map.delete(t),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oz(e,i,t){const n=e.previousIndex;if(null===n)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+i+r}class lz{constructor(){}supports(i){return i instanceof Map||s2(i)}create(){return new Tgt}}class Tgt{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let t;for(t=this._mapHead;null!==t;t=t._next)i(t)}forEachPreviousItem(i){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)i(t)}forEachChangedItem(i){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}diff(i){if(i){if(!(i instanceof Map||s2(i)))throw new pe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(i,(n,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,n);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,t){if(i){const n=i._prev;return t._next=i,t._prev=n,i._prev=t,n&&(n._next=t),i===this._mapHead&&(this._mapHead=t),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(i,t){if(this._records.has(i)){const r=this._records.get(i);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new Cgt(i);return this._records.set(i,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,t){Object.is(t,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=t,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,t){i instanceof Map?i.forEach(t):Object.keys(i).forEach(n=>t(i[n],n))}}class Cgt{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cz(){return new bd([new sz])}let bd=(()=>{class e{static{this.\u0275prov=Ie({token:e,providedIn:"root",factory:cz})}constructor(t){this.factories=t}static create(t,n){if(null!=n){const r=n.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||cz()),deps:[[e,new Mf,new Xu]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(null!=n)return n;throw new pe(901,!1)}}return e})();function uz(){return new AC([new lz])}let AC=(()=>{class e{static{this.\u0275prov=Ie({token:e,providedIn:"root",factory:uz})}constructor(t){this.factories=t}static create(t,n){if(n){const r=n.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||uz()),deps:[[e,new Mf,new Xu]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(n)return n;throw new pe(901,!1)}}return e})();const _gt=JU(null,"core",[]);let Agt=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(re(ql))}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({})}}return e})();function qe(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function jr(e,i=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?i:Number(e)}function rp(e,i){Vo("NgSignals");const t=V(e);return i?.equal&&(t[a].equal=i.equal),t}function kc(e){const i=y(null);try{return e()}finally{y(i)}}const svt=new te("",{providedIn:"root",factory:()=>Jt(avt)});let avt=(()=>{class e{static{this.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>new ovt})}}return e})();class ovt{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Jt(Zu),this.taskId=null}scheduleEffect(i){if(this.enqueue(i),null===this.taskId){const t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(i){const t=i.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const n=this.queues.get(t);n.has(i)||(this.queuedEffectCount++,n.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,t]of this.queues)null===i?this.flushQueue(t):i.run(()=>this.flushQueue(t))}flushQueue(i){for(const t of i)i.delete(t),this.queuedEffectCount--,t.run()}}class lvt{constructor(i,t,n,r,s,o){this.scheduler=i,this.effectFn=t,this.creationZone=n,this.injector=s,this.watcher=function Bt(e,i,t){const n=Object.create(Zt);t&&(n.consumerAllowSignalWrites=!0),n.fn=e,n.schedule=i;const r=w=>{n.cleanupFn=w};return n.ref={notify:()=>v(n),run:()=>{if(null===n.fn)return;if(function g(){return S}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!T(n))return;n.hasRun=!0;const w=x(n);try{n.cleanupFn(),n.cleanupFn=Kt,n.fn(r)}finally{b(n,w)}},cleanup:()=>n.cleanupFn(),destroy:()=>function o(w){(function s(w){return null===w.fn&&null===w.schedule})(w)||(_(w),w.cleanupFn(),w.fn=null,w.schedule=null,w.cleanupFn=Kt)}(n),[a]:n},n.ref}(l=>this.runEffect(l),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(t){this.injector.get(Tl,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let Fz=null;function wd(){return Fz}class dvt{}const Gi=new te("");let q2=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:()=>Jt(pvt),providedIn:"platform"})}}return e})();const fvt=new te("");let pvt=(()=>{class e extends q2{constructor(){super(),this._doc=Jt(Gi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wd().getBaseHref(this._doc)}onPopState(t){const n=wd().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=wd().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,r){this._history.pushState(t,n,r)}replaceState(t,n,r){this._history.replaceState(t,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function tR(e,i){if(0==e.length)return i;if(0==i.length)return e;let t=0;return e.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?e+i.substring(1):1==t?e+i:e+"/"+i}function Oz(e){const i=e.match(/#|\?|$/),t=i&&i.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function ih(e){return e&&"?"!==e[0]?"?"+e:e}let sp=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:()=>Jt(Nz),providedIn:"root"})}}return e})();const Lz=new te("");let Nz=(()=>{class e extends sp{constructor(t,n){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??Jt(Gi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return tR(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+ih(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${n}${r}`:n}pushState(t,n,r,s){const o=this.prepareExternalUrl(r+ih(s));this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){const o=this.prepareExternalUrl(r+ih(s));this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(n){return new(n||e)(re(q2),re(Lz,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mvt=(()=>{class e extends sp{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(t){const n=tR(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,r,s){let o=this.prepareExternalUrl(r+ih(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){let o=this.prepareExternalUrl(r+ih(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(n){return new(n||e)(re(q2),re(Lz,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})(),ap=(()=>{class e{constructor(t){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const n=this._locationStrategy.getBaseHref();this._basePath=function yvt(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(Oz(Bz(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+ih(n))}normalize(t){return e.stripTrailingSlash(function vvt(e,i){if(!e||!i.startsWith(e))return i;const t=i.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,Bz(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",r=null){this._locationStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ih(n)),r)}replaceState(t,n="",r=null){this._locationStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ih(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{const n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(r=>r(t,n))}subscribe(t,n,r){return this._subject.subscribe({next:t,error:n,complete:r})}static{this.normalizeQueryParams=ih}static{this.joinWithSlash=tR}static{this.stripTrailingSlash=Oz}static{this.\u0275fac=function(n){return new(n||e)(re(sp))}}static{this.\u0275prov=Ie({token:e,factory:()=>function gvt(){return new ap(re(sp))}(),providedIn:"root"})}}return e})();function Bz(e){return e.replace(/\/index.html$/,"")}var FC=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(FC||{}),Go=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Go||{}),Lr=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Lr||{}),Dl=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Dl||{});const Qs={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function OC(e,i){return ec(Uo(e)[Wr.DateFormat],i)}function LC(e,i){return ec(Uo(e)[Wr.TimeFormat],i)}function NC(e,i){return ec(Uo(e)[Wr.DateTimeFormat],i)}function tc(e,i){const t=Uo(e),n=t[Wr.NumberSymbols][i];if(typeof n>"u"){if(i===Qs.CurrencyDecimal)return t[Wr.NumberSymbols][Qs.Decimal];if(i===Qs.CurrencyGroup)return t[Wr.NumberSymbols][Qs.Group]}return n}function Uz(e){if(!e[Wr.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Wr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ec(e,i){for(let t=i;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function iR(e){const[i,t]=e.split(":");return{hours:+i,minutes:+t}}const Pvt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,BC={},kvt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var nh=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(nh||{}),pr=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(pr||{}),mr=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(mr||{});function Fvt(e,i,t,n){let r=function Hvt(e){if(Hz(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,s=1,o=1]=e.split("-").map(l=>+l);return VC(r,s-1,o)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(Pvt))return function Wvt(e){const i=new Date(0);let t=0,n=0;const r=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(t=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(i,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-t,l=Number(e[5]||0)-n,w=Number(e[6]||0),E=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,o,l,w,E),i}(n)}const i=new Date(e);if(!Hz(i))throw new Error(`Unable to convert "${e}" into a date`);return i}(e);i=rh(t,i)||i;let l,o=[];for(;i;){if(l=kvt.exec(i),!l){o.push(i);break}{o=o.concat(l.slice(1));const D=o.pop();if(!D)break;i=D}}let w=r.getTimezoneOffset();n&&(w=Gz(n,w),r=function Gvt(e,i,t){const n=t?-1:1,r=e.getTimezoneOffset();return function zvt(e,i){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+i),e}(e,n*(Gz(i,r)-r))}(r,n,!0));let E="";return o.forEach(D=>{const k=function Uvt(e){if(rR[e])return rR[e];let i;switch(e){case"G":case"GG":case"GGG":i=Xr(mr.Eras,Lr.Abbreviated);break;case"GGGG":i=Xr(mr.Eras,Lr.Wide);break;case"GGGGG":i=Xr(mr.Eras,Lr.Narrow);break;case"y":i=Ks(pr.FullYear,1,0,!1,!0);break;case"yy":i=Ks(pr.FullYear,2,0,!0,!0);break;case"yyy":i=Ks(pr.FullYear,3,0,!1,!0);break;case"yyyy":i=Ks(pr.FullYear,4,0,!1,!0);break;case"Y":i=HC(1);break;case"YY":i=HC(2,!0);break;case"YYY":i=HC(3);break;case"YYYY":i=HC(4);break;case"M":case"L":i=Ks(pr.Month,1,1);break;case"MM":case"LL":i=Ks(pr.Month,2,1);break;case"MMM":i=Xr(mr.Months,Lr.Abbreviated);break;case"MMMM":i=Xr(mr.Months,Lr.Wide);break;case"MMMMM":i=Xr(mr.Months,Lr.Narrow);break;case"LLL":i=Xr(mr.Months,Lr.Abbreviated,Go.Standalone);break;case"LLLL":i=Xr(mr.Months,Lr.Wide,Go.Standalone);break;case"LLLLL":i=Xr(mr.Months,Lr.Narrow,Go.Standalone);break;case"w":i=nR(1);break;case"ww":i=nR(2);break;case"W":i=nR(1,!0);break;case"d":i=Ks(pr.Date,1);break;case"dd":i=Ks(pr.Date,2);break;case"c":case"cc":i=Ks(pr.Day,1);break;case"ccc":i=Xr(mr.Days,Lr.Abbreviated,Go.Standalone);break;case"cccc":i=Xr(mr.Days,Lr.Wide,Go.Standalone);break;case"ccccc":i=Xr(mr.Days,Lr.Narrow,Go.Standalone);break;case"cccccc":i=Xr(mr.Days,Lr.Short,Go.Standalone);break;case"E":case"EE":case"EEE":i=Xr(mr.Days,Lr.Abbreviated);break;case"EEEE":i=Xr(mr.Days,Lr.Wide);break;case"EEEEE":i=Xr(mr.Days,Lr.Narrow);break;case"EEEEEE":i=Xr(mr.Days,Lr.Short);break;case"a":case"aa":case"aaa":i=Xr(mr.DayPeriods,Lr.Abbreviated);break;case"aaaa":i=Xr(mr.DayPeriods,Lr.Wide);break;case"aaaaa":i=Xr(mr.DayPeriods,Lr.Narrow);break;case"b":case"bb":case"bbb":i=Xr(mr.DayPeriods,Lr.Abbreviated,Go.Standalone,!0);break;case"bbbb":i=Xr(mr.DayPeriods,Lr.Wide,Go.Standalone,!0);break;case"bbbbb":i=Xr(mr.DayPeriods,Lr.Narrow,Go.Standalone,!0);break;case"B":case"BB":case"BBB":i=Xr(mr.DayPeriods,Lr.Abbreviated,Go.Format,!0);break;case"BBBB":i=Xr(mr.DayPeriods,Lr.Wide,Go.Format,!0);break;case"BBBBB":i=Xr(mr.DayPeriods,Lr.Narrow,Go.Format,!0);break;case"h":i=Ks(pr.Hours,1,-12);break;case"hh":i=Ks(pr.Hours,2,-12);break;case"H":i=Ks(pr.Hours,1);break;case"HH":i=Ks(pr.Hours,2);break;case"m":i=Ks(pr.Minutes,1);break;case"mm":i=Ks(pr.Minutes,2);break;case"s":i=Ks(pr.Seconds,1);break;case"ss":i=Ks(pr.Seconds,2);break;case"S":i=Ks(pr.FractionalSeconds,1);break;case"SS":i=Ks(pr.FractionalSeconds,2);break;case"SSS":i=Ks(pr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=zC(nh.Short);break;case"ZZZZZ":i=zC(nh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=zC(nh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=zC(nh.Long);break;default:return null}return rR[e]=i,i}(D);E+=k?k(r,t,w):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function VC(e,i,t){const n=new Date(0);return n.setFullYear(e,i,t),n.setHours(0,0,0),n}function rh(e,i){const t=function bvt(e){return Uo(e)[Wr.LocaleId]}(e);if(BC[t]??={},BC[t][i])return BC[t][i];let n="";switch(i){case"shortDate":n=OC(e,Dl.Short);break;case"mediumDate":n=OC(e,Dl.Medium);break;case"longDate":n=OC(e,Dl.Long);break;case"fullDate":n=OC(e,Dl.Full);break;case"shortTime":n=LC(e,Dl.Short);break;case"mediumTime":n=LC(e,Dl.Medium);break;case"longTime":n=LC(e,Dl.Long);break;case"fullTime":n=LC(e,Dl.Full);break;case"short":const r=rh(e,"shortTime"),s=rh(e,"shortDate");n=UC(NC(e,Dl.Short),[r,s]);break;case"medium":const o=rh(e,"mediumTime"),l=rh(e,"mediumDate");n=UC(NC(e,Dl.Medium),[o,l]);break;case"long":const w=rh(e,"longTime"),E=rh(e,"longDate");n=UC(NC(e,Dl.Long),[w,E]);break;case"full":const D=rh(e,"fullTime"),k=rh(e,"fullDate");n=UC(NC(e,Dl.Full),[D,k])}return n&&(BC[t][i]=n),n}function UC(e,i){return i&&(e=e.replace(/\{([^}]+)}/g,function(t,n){return null!=i&&n in i?i[n]:t})),e}function Fc(e,i,t="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=t));let o=String(e);for(;o.length<i;)o="0"+o;return n&&(o=o.slice(o.length-i)),s+o}function Ks(e,i,t=0,n=!1,r=!1){return function(s,o){let l=function Lvt(e,i){switch(e){case pr.FullYear:return i.getFullYear();case pr.Month:return i.getMonth();case pr.Date:return i.getDate();case pr.Hours:return i.getHours();case pr.Minutes:return i.getMinutes();case pr.Seconds:return i.getSeconds();case pr.FractionalSeconds:return i.getMilliseconds();case pr.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((t>0||l>-t)&&(l+=t),e===pr.Hours)0===l&&-12===t&&(l=12);else if(e===pr.FractionalSeconds)return function Ovt(e,i){return Fc(e,3).substring(0,i)}(l,i);const w=tc(o,Qs.MinusSign);return Fc(l,i,w,n,r)}}function Xr(e,i,t=Go.Format,n=!1){return function(r,s){return function Nvt(e,i,t,n,r,s){switch(t){case mr.Months:return function Cvt(e,i,t){const n=Uo(e),s=ec([n[Wr.MonthsFormat],n[Wr.MonthsStandalone]],i);return ec(s,t)}(i,r,n)[e.getMonth()];case mr.Days:return function Tvt(e,i,t){const n=Uo(e),s=ec([n[Wr.DaysFormat],n[Wr.DaysStandalone]],i);return ec(s,t)}(i,r,n)[e.getDay()];case mr.DayPeriods:const o=e.getHours(),l=e.getMinutes();if(s){const E=function Avt(e){const i=Uo(e);return Uz(i),(i[Wr.ExtraData][2]||[]).map(n=>"string"==typeof n?iR(n):[iR(n[0]),iR(n[1])])}(i),D=function Dvt(e,i,t){const n=Uo(e);Uz(n);const s=ec([n[Wr.ExtraData][0],n[Wr.ExtraData][1]],i)||[];return ec(s,t)||[]}(i,r,n),k=E.findIndex(O=>{if(Array.isArray(O)){const[L,U]=O,j=o>=L.hours&&l>=L.minutes,W=o<U.hours||o===U.hours&&l<U.minutes;if(L.hours<U.hours){if(j&&W)return!0}else if(j||W)return!0}else if(O.hours===o&&O.minutes===l)return!0;return!1});if(-1!==k)return D[k]}return function wvt(e,i,t){const n=Uo(e),s=ec([n[Wr.DayPeriodsFormat],n[Wr.DayPeriodsStandalone]],i);return ec(s,t)}(i,r,n)[o<12?0:1];case mr.Eras:return function Svt(e,i){return ec(Uo(e)[Wr.Eras],i)}(i,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,e,i,t,n)}}function zC(e){return function(i,t,n){const r=-1*n,s=tc(t,Qs.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case nh.Short:return(r>=0?"+":"")+Fc(o,2,s)+Fc(Math.abs(r%60),2,s);case nh.ShortGMT:return"GMT"+(r>=0?"+":"")+Fc(o,1,s);case nh.Long:return"GMT"+(r>=0?"+":"")+Fc(o,2,s)+":"+Fc(Math.abs(r%60),2,s);case nh.Extended:return 0===n?"Z":(r>=0?"+":"")+Fc(o,2,s)+":"+Fc(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const Bvt=0,GC=4;function zz(e){const i=e.getDay(),t=0===i?-3:GC-i;return VC(e.getFullYear(),e.getMonth(),e.getDate()+t)}function nR(e,i=!1){return function(t,n){let r;if(i){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=zz(t),o=function Vvt(e){const i=VC(e,Bvt,1).getDay();return VC(e,0,1+(i<=GC?GC:GC+7)-i)}(s.getFullYear()),l=s.getTime()-o.getTime();r=1+Math.round(l/6048e5)}return Fc(r,e,tc(n,Qs.MinusSign))}}function HC(e,i=!1){return function(t,n){return Fc(zz(t).getFullYear(),e,tc(n,Qs.MinusSign),i)}}const rR={};function Gz(e,i){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?i:t}function Hz(e){return e instanceof Date&&!isNaN(e.valueOf())}const jvt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function lR(e){const i=parseInt(e);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+e);return i}function Yz(e,i){i=encodeURIComponent(i);for(const t of e.split(";")){const n=t.indexOf("="),[r,s]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===i)return decodeURIComponent(s)}return null}const uR=/\s+/,$z=[];let Td=(()=>{class e{constructor(t,n){this._ngEl=t,this._renderer=n,this.initialClasses=$z,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(uR):$z}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(uR):t}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const n of t)this._updateState(n,!0);else if(null!=t)for(const n of Object.keys(t))this._updateState(n,!!t[n]);this._applyStateDiff()}_updateState(t,n){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(t,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const n=t[0],r=t[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(t,n){(t=t.trim()).length>0&&t.split(uR).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(Kl))}}static{this.\u0275dir=me({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class n0t{constructor(i,t,n,r){this.$implicit=i,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ys=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,n,r){this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new n0t(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const l=n.get(s);n.move(l,o),Kz(l,r)}});for(let r=0,s=n.length;r<s;r++){const l=n.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Kz(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,n){return!0}static{this.\u0275fac=function(n){return new(n||e)(pt(Or),pt(yr),pt(bd))}}static{this.\u0275dir=me({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Kz(e,i){e.context.$implicit=i.item}let ls=(()=>{class e{constructor(t,n){this._viewContainer=t,this._context=new r0t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zz("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zz("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}static{this.\u0275fac=function(n){return new(n||e)(pt(Or),pt(yr))}}static{this.\u0275dir=me({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class r0t{constructor(){this.$implicit=null,this.ngIf=null}}function Zz(e,i){if(i&&!i.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${aa(i)}'.`)}let qz=(()=>{class e{constructor(t,n,r){this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,n){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:fd.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${n}${s}`:n,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(n=>this._setStyle(n.key,null)),t.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),t.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(AC),pt(Kl))}}static{this.\u0275dir=me({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})(),jC=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,n,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,n,r),get:(t,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static{this.\u0275fac=function(n){return new(n||e)(pt(Or))}}static{this.\u0275dir=me({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[lr]})}}return e})();function Oc(e,i){return new pe(2100,!1)}class l0t{createSubscription(i,t){return kc(()=>i.subscribe({next:t,error:n=>{throw n}}))}dispose(i){kc(()=>i.unsubscribe())}}class c0t{createSubscription(i,t){return i.then(t,n=>{throw n})}dispose(i){}}const u0t=new c0t,h0t=new l0t;let fR=(()=>{class e{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(ux(t))return u0t;if(VU(t))return h0t;throw Oc()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(n){return new(n||e)(pt(In,16))}}static{this.\u0275pipe=io({name:"async",type:e,pure:!1,standalone:!0})}}return e})();const f0t=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let pR=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Oc();return t.replace(f0t,n=>n[0].toUpperCase()+n.slice(1).toLowerCase())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=io({name:"titlecase",type:e,pure:!0,standalone:!0})}}return e})(),mR=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Oc();return t.toUpperCase()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=io({name:"uppercase",type:e,pure:!0,standalone:!0})}}return e})();const m0t=new te(""),g0t=new te("");let sh=(()=>{class e{constructor(t,n,r){this.locale=t,this.defaultTimezone=n,this.defaultOptions=r}transform(t,n,r,s){if(null==t||""===t||t!=t)return null;try{return Fvt(t,n??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Oc()}}static{this.\u0275fac=function(n){return new(n||e)(pt(eh,16),pt(m0t,24),pt(g0t,24))}}static{this.\u0275pipe=io({name:"date",type:e,pure:!0,standalone:!0})}}return e})(),tG=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=eG}transform(t,n=eG){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ??=this.differs.find(t).create();const r=this.differ.diff(t),s=n!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(o=>{this.keyValues.push(function w0t(e,i){return{key:e,value:i}}(o.key,o.currentValue))})),(r||s)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}static{this.\u0275fac=function(n){return new(n||e)(pt(AC,16))}}static{this.\u0275pipe=io({name:"keyvalue",type:e,pure:!1,standalone:!0})}}return e})();function eG(e,i){const t=e.key,n=i.key;if(t===n)return 0;if(void 0===t)return 1;if(void 0===n)return-1;if(null===t)return 1;if(null===n)return-1;if("string"==typeof t&&"string"==typeof n)return t<n?-1:1;if("number"==typeof t&&"number"==typeof n)return t-n;if("boolean"==typeof t&&"boolean"==typeof n)return t<n?-1:1;const r=String(t),s=String(n);return r==s?0:r<s?-1:1}let iG=(()=>{class e{constructor(t){this._locale=t}transform(t,n,r){if(!function gR(e){return!(null==e||""===e||e!=e)}(t))return null;r||=this._locale;try{return function Zvt(e,i,t){return function aR(e,i,t,n,r,s,o=!1){let l="",w=!1;if(isFinite(e)){let E=function qvt(e){let n,r,s,o,l,i=Math.abs(e)+"",t=0;for((r=i.indexOf("."))>-1&&(i=i.replace(".","")),(s=i.search(/e/i))>0?(r<0&&(r=s),r+=+i.slice(s+1),i=i.substring(0,s)):r<0&&(r=i.length),s=0;"0"===i.charAt(s);s++);if(s===(l=i.length))n=[0],r=1;else{for(l--;"0"===i.charAt(l);)l--;for(r-=s,n=[],o=0;s<=l;s++,o++)n[o]=Number(i.charAt(s))}return r>22&&(n=n.splice(0,21),t=r-1,r=1),{digits:n,exponent:t,integerLen:r}}(e);o&&(E=function Jvt(e){if(0===e.digits[0])return e;const i=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===i?e.digits.push(0,0):1===i&&e.digits.push(0),e.integerLen+=2),e}(E));let D=i.minInt,k=i.minFrac,O=i.maxFrac;if(s){const rt=s.match(jvt);if(null===rt)throw new Error(`${s} is not a valid digit info`);const st=rt[1],yt=rt[3],Tt=rt[5];null!=st&&(D=lR(st)),null!=yt&&(k=lR(yt)),null!=Tt?O=lR(Tt):null!=yt&&k>O&&(O=k)}!function t0t(e,i,t){if(i>t)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${t}).`);let n=e.digits,r=n.length-e.integerLen;const s=Math.min(Math.max(i,r),t);let o=s+e.integerLen,l=n[o];if(o>0){n.splice(Math.max(e.integerLen,o));for(let k=o;k<n.length;k++)n[k]=0}else{r=Math.max(0,r),e.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let k=1;k<o;k++)n[k]=0}if(l>=5)if(o-1<0){for(let k=0;k>o;k--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let w=0!==s;const E=i+e.integerLen,D=n.reduceRight(function(k,O,L,U){return U[L]=(O+=k)<10?O:O-10,w&&(0===U[L]&&L>=E?U.pop():w=!1),O>=10?1:0},0);D&&(n.unshift(D),e.integerLen++)}(E,k,O);let L=E.digits,U=E.integerLen;const j=E.exponent;let W=[];for(w=L.every(rt=>!rt);U<D;U++)L.unshift(0);for(;U<0;U++)L.unshift(0);U>0?W=L.splice(U,L.length):(W=L,L=[0]);const Z=[];for(L.length>=i.lgSize&&Z.unshift(L.splice(-i.lgSize,L.length).join(""));L.length>i.gSize;)Z.unshift(L.splice(-i.gSize,L.length).join(""));L.length&&Z.unshift(L.join("")),l=Z.join(tc(t,n)),W.length&&(l+=tc(t,r)+W.join("")),j&&(l+=tc(t,Qs.Exponential)+"+"+j)}else l=tc(t,Qs.Infinity);return l=e<0&&!w?i.negPre+l+i.negSuf:i.posPre+l+i.posSuf,l}(e,function oR(e,i="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(";"),r=n[0],s=n[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],l=o[0],w=o[1]||"";t.posPre=l.substring(0,l.indexOf("#"));for(let D=0;D<w.length;D++){const k=w.charAt(D);"0"===k?t.minFrac=t.maxFrac=D+1:"#"===k?t.maxFrac=D+1:t.posSuf+=k}const E=l.split(",");if(t.gSize=E[1]?E[1].length:0,t.lgSize=E[2]||E[1]?(E[2]||E[1]).length:0,s){const D=r.length-t.posPre.length-t.posSuf.length,k=s.indexOf("#");t.negPre=s.substring(0,k).replace(/'/g,""),t.negSuf=s.slice(k+D).replace(/'/g,"")}else t.negPre=i+t.posPre,t.negSuf=t.posSuf;return t}(function eR(e,i){return Uo(e)[Wr.NumberFormats][i]}(i,FC.Decimal),tc(i,Qs.MinusSign)),i,Qs.Group,Qs.Decimal,t)}(function vR(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),r,n)}catch(s){throw Oc()}}static{this.\u0275fac=function(n){return new(n||e)(pt(eh,16))}}static{this.\u0275pipe=io({name:"number",type:e,pure:!0,standalone:!0})}}return e})();let nG=(()=>{class e{transform(t,n,r){if(null==t)return null;if(!this.supports(t))throw Oc();return t.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=io({name:"slice",type:e,pure:!1,standalone:!0})}}return e})(),hu=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({})}}return e})();const rG="browser";function sG(e){return e===rG}function aG(e){return"server"===e}let E0t=(()=>{class e{static{this.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>sG(Jt(nu))?new _0t(Jt(Gi),window):new D0t})}}return e})();class _0t{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){const t=function A0t(e,i){const t=e.getElementById(i)||e.getElementsByName(i)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(i)||s.querySelector(`[name="${i}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){const t=i.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}}class D0t{setOffset(i){}getScrollPosition(){return[0,0]}scrollToPosition(i){}scrollToAnchor(i){}setHistoryScrollRestoration(i){}}class oG{}class iyt extends dvt{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wR extends iyt{static makeCurrent(){!function hvt(e){Fz??=e}(new wR)}onAndCancel(i,t,n){return i.addEventListener(t,n),()=>{i.removeEventListener(t,n)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.remove()}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function nyt(){return yx=yx||document.querySelector("base"),yx?yx.getAttribute("href"):null}();return null==t?null:function ryt(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){yx=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return Yz(document.cookie,i)}}let yx=null,ayt=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();const TR=new te("");let yG=(()=>{class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,r){return this._findPluginFor(n).addEventListener(t,n,r)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(s=>s.supports(t)),!n)throw new pe(5101,!1);return this._eventNameToPlugin.set(t,n),n}static{this.\u0275fac=function(n){return new(n||e)(re(TR),re(li))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();class xG{constructor(i){this._doc=i}}const CR="ng-app-id";let bG=(()=>{class e{constructor(t,n,r,s={}){this.doc=t,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=aG(s),this.resetHostNodes()}addStyles(t){for(const n of t)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(t){for(const n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){const n=this.styleRef;n.get(t)?.elements?.forEach(r=>r.remove()),n.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${CR}="${this.appId}"]`);if(t?.length){const n=new Map;return t.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(t,n){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=n,s.usage}return r.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){const r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===t)return r.delete(n),s.removeAttribute(CR),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(CR,this.appId),t.appendChild(o),o}}addStyleToHost(t,n){const r=this.getStyleElement(t,n),s=this.styleRef,o=s.get(n)?.elements;o?o.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||e)(re(Gi),re(Vf),re(HM,8),re(nu))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();const SR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ER=/%COMP%/g,uyt=new te("",{providedIn:"root",factory:()=>!0});function TG(e,i){return i.map(t=>t.replace(ER,e))}let _R=(()=>{class e{constructor(t,n,r,s,o,l,w,E=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=l,this.ngZone=w,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=aG(l),this.defaultRenderer=new AR(t,o,w,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Sc.ShadowDom&&(n={...n,encapsulation:Sc.Emulated});const r=this.getOrCreateRenderer(t,n);return r instanceof SG?r.applyToHost(t):r instanceof DR&&r.applyStyles(),r}getOrCreateRenderer(t,n){const r=this.rendererByCompId;let s=r.get(n.id);if(!s){const o=this.doc,l=this.ngZone,w=this.eventManager,E=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,k=this.platformIsServer;switch(n.encapsulation){case Sc.Emulated:s=new SG(w,E,n,this.appId,D,o,l,k);break;case Sc.ShadowDom:return new pyt(w,E,t,n,o,l,this.nonce,k);default:s=new DR(w,E,n,D,o,l,k)}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||e)(re(yG),re(bG),re(Vf),re(uyt),re(Gi),re(nu),re(li),re(HM))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();class AR{constructor(i,t,n,r){this.eventManager=i,this.doc=t,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(SR[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(CG(i)?i.content:i).appendChild(t)}insertBefore(i,t,n){i&&(CG(i)?i.content:i).insertBefore(t,n)}removeChild(i,t){t.remove()}selectRootElement(i,t){let n="string"==typeof i?this.doc.querySelector(i):i;if(!n)throw new pe(-5104,!1);return t||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,n,r){if(r){t=r+":"+t;const s=SR[r];s?i.setAttributeNS(s,t,n):i.setAttribute(t,n)}else i.setAttribute(t,n)}removeAttribute(i,t,n){if(n){const r=SR[n];r?i.removeAttributeNS(r,t):i.removeAttribute(`${n}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,n,r){r&(fd.DashCase|fd.Important)?i.style.setProperty(t,n,r&fd.Important?"important":""):i.style[t]=n}removeStyle(i,t,n){n&fd.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,n){null!=i&&(i[t]=n)}setValue(i,t){i.nodeValue=t}listen(i,t,n){if("string"==typeof i&&!(i=wd().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(n))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function CG(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class pyt extends AR{constructor(i,t,n,r,s,o,l,w){super(i,s,o,w),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=TG(r.id,r.styles);for(const D of E){const k=document.createElement("style");l&&k.setAttribute("nonce",l),k.textContent=D,this.shadowRoot.appendChild(k)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,n){return super.insertBefore(this.nodeOrShadowRoot(i),t,n)}removeChild(i,t){return super.removeChild(null,t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class DR extends AR{constructor(i,t,n,r,s,o,l,w){super(i,s,o,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=w?TG(w,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class SG extends DR{constructor(i,t,n,r,s,o,l,w){const E=r+"-"+n.id;super(i,t,n,s,o,l,w,E),this.contentAttr=function hyt(e){return"_ngcontent-%COMP%".replace(ER,e)}(E),this.hostAttr=function dyt(e){return"_nghost-%COMP%".replace(ER,e)}(E)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const n=super.createElement(i,t);return super.setAttribute(n,this.contentAttr,""),n}}let myt=(()=>{class e extends xG{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,r){return t.addEventListener(n,r,!1),()=>this.removeEventListener(t,n,r)}removeEventListener(t,n,r){return t.removeEventListener(n,r)}static{this.\u0275fac=function(n){return new(n||e)(re(Gi))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();const EG=["alt","control","meta","shift"],gyt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vyt={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let yyt=(()=>{class e extends xG{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wd().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(n.pop());let o="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),o="code."),EG.forEach(E=>{const D=n.indexOf(E);D>-1&&(n.splice(D,1),o+=E+".")}),o+=s,0!=n.length||0===s.length)return null;const w={};return w.domEventName=r,w.fullKey=o,w}static matchEventFullKeyCode(t,n){let r=gyt[t.key]||t.key,s="";return n.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),EG.forEach(o=>{o!==r&&(0,vyt[o])(t)&&(s+=o+".")}),s+=r,s===n)}static eventCallback(t,n,r){return s=>{e.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(n){return new(n||e)(re(Gi))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();const Tyt=JU(_gt,"browser",[{provide:nu,useValue:rG},{provide:VV,useValue:function xyt(){wR.makeCurrent()},multi:!0},{provide:Gi,useFactory:function wyt(){return function hlt(e){GM=e}(document),document},deps:[]}]),Cyt=new te(""),DG=[{provide:xC,useClass:class syt{addToWindow(i){Jr.getAngularTestability=(n,r=!0)=>{const s=i.findTestabilityInTree(n,r);if(null==s)throw new pe(5103,!1);return s},Jr.getAllAngularTestabilities=()=>i.getAllTestabilities(),Jr.getAllAngularRootElements=()=>i.getAllRootElements(),Jr.frameworkStabilizers||(Jr.frameworkStabilizers=[]),Jr.frameworkStabilizers.push(n=>{const r=Jr.getAllAngularTestabilities();let s=r.length;const o=function(){s--,0==s&&n()};r.forEach(l=>{l.whenStable(o)})})}findTestabilityInTree(i,t,n){return null==t?null:i.getTestability(t)??(n?wd().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:BU,useClass:V2,deps:[li,U2,xC]},{provide:V2,useClass:V2,deps:[li,U2,xC]}],MG=[{provide:eM,useValue:"root"},{provide:Tl,useFactory:function byt(){return new Tl},deps:[]},{provide:TR,useClass:myt,multi:!0,deps:[Gi,li,nu]},{provide:TR,useClass:yyt,multi:!0,deps:[Gi]},_R,bG,yG,{provide:GT,useExisting:_R},{provide:oG,useClass:ayt,deps:[]},[]];let IG=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Vf,useValue:t.appId}]}}static{this.\u0275fac=function(n){return new(n||e)(re(Cyt,12))}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[...MG,...DG],imports:[hu,Agt]})}}return e})(),Syt=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(n){return new(n||e)(re(Gi))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),MR=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:function(n){let r=null;return r=n?new(n||e):re(Dyt),r},providedIn:"root"})}}return e})(),Dyt=(()=>{class e extends MR{constructor(t){super(),this._doc=t}sanitize(t,n){if(null==n)return null;switch(t){case Wa.NONE:return n;case Wa.HTML:return ru(n,"HTML")?Cl(n):l5(this._doc,String(n)).toString();case Wa.STYLE:return ru(n,"Style")?Cl(n):n;case Wa.SCRIPT:if(ru(n,"Script"))return Cl(n);throw new pe(5200,!1);case Wa.URL:return ru(n,"URL")?Cl(n):CT(String(n));case Wa.RESOURCE_URL:if(ru(n,"ResourceURL"))return Cl(n);throw new pe(5201,!1);default:throw new pe(5202,!1)}}bypassSecurityTrustHtml(t){return function Plt(e){return new _lt(e)}(t)}bypassSecurityTrustStyle(t){return function klt(e){return new Alt(e)}(t)}bypassSecurityTrustScript(t){return function Flt(e){return new Dlt(e)}(t)}bypassSecurityTrustUrl(t){return function Olt(e){return new Mlt(e)}(t)}bypassSecurityTrustResourceUrl(t){return function Llt(e){return new Ilt(e)}(t)}static{this.\u0275fac=function(n){return new(n||e)(re(Gi))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xx(e){return!!e&&(e instanceof dr||ae(e.lift)&&ae(e.subscribe))}function Cd(e){return this instanceof Cd?(this.v=e,this):new Cd(e)}function LG(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=function kR(e){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&e[i],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=e[s]&&function(o){return new Promise(function(l,w){!function r(s,o,l,w){Promise.resolve(w).then(function(E){s({value:E,done:l})},o)}(l,w,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const FR=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function NG(e){return ae(e?.then)}function BG(e){return ae(e[PD])}function VG(e){return Symbol.asyncIterator&&ae(e?.[Symbol.asyncIterator])}function UG(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zG=function Kyt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function GG(e){return ae(e?.[zG])}function HG(e){return function OG(e,i,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=t.apply(e,i||[]),s=[];return r={},l("next"),l("throw"),l("return",function o(L){return function(U){return Promise.resolve(U).then(L,k)}}),r[Symbol.asyncIterator]=function(){return this},r;function l(L,U){n[L]&&(r[L]=function(j){return new Promise(function(W,Z){s.push([L,j,W,Z])>1||w(L,j)})},U&&(r[L]=U(r[L])))}function w(L,U){try{!function E(L){L.value instanceof Cd?Promise.resolve(L.value.v).then(D,k):O(s[0][2],L)}(n[L](U))}catch(j){O(s[0][3],j)}}function D(L){w("next",L)}function k(L){w("throw",L)}function O(L,U){L(U),s.shift(),s.length&&w(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:n,done:r}=yield Cd(t.read());if(r)return yield Cd(void 0);yield yield Cd(n)}}finally{t.releaseLock()}})}function WG(e){return ae(e?.getReader)}function lo(e){if(e instanceof dr)return e;if(null!=e){if(BG(e))return function Zyt(e){return new dr(i=>{const t=e[PD]();if(ae(t.subscribe))return t.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(FR(e))return function Jyt(e){return new dr(i=>{for(let t=0;t<e.length&&!i.closed;t++)i.next(e[t]);i.complete()})}(e);if(NG(e))return function qyt(e){return new dr(i=>{e.then(t=>{i.closed||(i.next(t),i.complete())},t=>i.error(t)).then(null,tn)})}(e);if(VG(e))return jG(e);if(GG(e))return function txt(e){return new dr(i=>{for(const t of e)if(i.next(t),i.closed)return;i.complete()})}(e);if(WG(e))return function ext(e){return jG(HG(e))}(e)}throw UG(e)}function jG(e){return new dr(i=>{(function ixt(e,i){var t,n,r,s;return function kG(e,i,t,n){return new(t||(t=Promise))(function(s,o){function l(D){try{E(n.next(D))}catch(k){o(k)}}function w(D){try{E(n.throw(D))}catch(k){o(k)}}function E(D){D.done?s(D.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(D.value).then(l,w)}E((n=n.apply(e,i||[])).next())})}(this,void 0,void 0,function*(){try{for(t=LG(e);!(n=yield t.next()).done;)if(i.next(n.value),i.closed)return}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}i.complete()})})(e,i).catch(t=>i.error(t))})}function ah(e,i,t,n=0,r=!1){const s=i.schedule(function(){t(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!r)return s}function XG(e,i=0){return gs((t,n)=>{t.subscribe(Zr(n,r=>ah(n,e,()=>n.next(r),i),()=>ah(n,e,()=>n.complete(),i),r=>ah(n,e,()=>n.error(r),i)))})}function YG(e,i=0){return gs((t,n)=>{n.add(e.schedule(()=>t.subscribe(n),i))})}function $G(e,i){if(!e)throw new Error("Iterable cannot be null");return new dr(t=>{ah(t,i,()=>{const n=e[Symbol.asyncIterator]();ah(t,i,()=>{n.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Zs(e,i){return i?function lxt(e,i){if(null!=e){if(BG(e))return function nxt(e,i){return lo(e).pipe(YG(i),XG(i))}(e,i);if(FR(e))return function sxt(e,i){return new dr(t=>{let n=0;return i.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}(e,i);if(NG(e))return function rxt(e,i){return lo(e).pipe(YG(i),XG(i))}(e,i);if(VG(e))return $G(e,i);if(GG(e))return function axt(e,i){return new dr(t=>{let n;return ah(t,i,()=>{n=e[zG](),ah(t,i,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>ae(n?.return)&&n.return()})}(e,i);if(WG(e))return function oxt(e,i){return $G(HG(e),i)}(e,i)}throw UG(e)}(e,i):lo(e)}function QG(e){return e&&ae(e.schedule)}function OR(e){return e[e.length-1]}function KG(e){return ae(OR(e))?e.pop():void 0}function bx(e){return QG(OR(e))?e.pop():void 0}function wi(...e){return Zs(e,bx(e))}const{isArray:uxt}=Array,{getPrototypeOf:hxt,prototype:dxt,keys:fxt}=Object;function ZG(e){if(1===e.length){const i=e[0];if(uxt(i))return{args:i,keys:null};if(function pxt(e){return e&&"object"==typeof e&&hxt(e)===dxt}(i)){const t=fxt(i);return{args:t.map(n=>i[n]),keys:t}}}return{args:e,keys:null}}const{isArray:mxt}=Array;function LR(e){return Ri(i=>function gxt(e,i){return mxt(i)?e(...i):e(i)}(e,i))}function JG(e,i){return e.reduce((t,n,r)=>(t[n]=i[r],t),{})}function oh(...e){const i=bx(e),t=KG(e),{args:n,keys:r}=ZG(e);if(0===n.length)return Zs([],i);const s=new dr(function vxt(e,i,t=ad){return n=>{qG(i,()=>{const{length:r}=e,s=new Array(r);let o=r,l=r;for(let w=0;w<r;w++)qG(i,()=>{const E=Zs(e[w],i);let D=!1;E.subscribe(Zr(n,k=>{s[w]=k,D||(D=!0,l--),l||n.next(t(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,i,r?o=>JG(r,o):ad));return t?s.pipe(LR(t)):s}function qG(e,i,t){e?ah(t,e,i):i()}const Xg=fe(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Da(e,i,t=1/0){return ae(i)?Da((n,r)=>Ri((s,o)=>i(n,s,r,o))(lo(e(n,r))),t):("number"==typeof i&&(t=i),gs((n,r)=>function yxt(e,i,t,n,r,s,o,l){const w=[];let E=0,D=0,k=!1;const O=()=>{k&&!w.length&&!E&&i.complete()},L=j=>E<n?U(j):w.push(j),U=j=>{s&&i.next(j),E++;let W=!1;lo(t(j,D++)).subscribe(Zr(i,Z=>{r?.(Z),s?L(Z):i.next(Z)},()=>{W=!0},void 0,()=>{if(W)try{for(E--;w.length&&E<n;){const Z=w.shift();o?ah(i,o,()=>U(Z)):U(Z)}O()}catch(Z){i.error(Z)}}))};return e.subscribe(Zr(i,L,()=>{k=!0,O()})),()=>{l?.()}}(n,r,e,t)))}function Yg(e=1/0){return Da(ad,e)}function wx(...e){return function xxt(){return Yg(1)}()(Zs(e,bx(e)))}function $g(e){return new dr(i=>{lo(e()).subscribe(i)})}function Qg(e,i){const t=ae(e)?e:()=>e,n=r=>r.error(t());return new dr(i?r=>i.schedule(n,0,r):n)}const al=new dr(e=>e.complete());function NR(){return gs((e,i)=>{let t=null;e._refCount++;const n=Zr(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),i.unsubscribe()});e.subscribe(n),n.closed||(t=e.connect())})}class BR extends dr{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,L3(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Pe;const t=this.getSubject();i.add(this.source.subscribe(Zr(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Pe.EMPTY)}return i}refCount(){return NR()(this)}}function ks(e,i){return gs((t,n)=>{let r=null,s=0,o=!1;const l=()=>o&&!r&&n.complete();t.subscribe(Zr(n,w=>{r?.unsubscribe();let E=0;const D=s++;lo(e(w,D)).subscribe(r=Zr(n,k=>n.next(i?i(w,k,D,E++):k),()=>{r=null,l()}))},()=>{o=!0,l()}))})}function xs(e){return e<=0?()=>al:gs((i,t)=>{let n=0;i.subscribe(Zr(t,r=>{++n<=e&&(t.next(r),e<=n&&t.complete())}))})}function Ma(...e){const i=bx(e);return gs((t,n)=>{(i?wx(e,t,i):wx(e,t)).subscribe(n)})}function Ln(e,i){return gs((t,n)=>{let r=0;t.subscribe(Zr(n,s=>e.call(i,s,r++)&&n.next(s)))})}function KC(e){return gs((i,t)=>{let n=!1;i.subscribe(Zr(t,r=>{n=!0,t.next(r)},()=>{n||t.next(e),t.complete()}))})}function tH(e=wxt){return gs((i,t)=>{let n=!1;i.subscribe(Zr(t,r=>{n=!0,t.next(r)},()=>n?t.complete():t.error(e())))})}function wxt(){return new Xg}function ic(e,i){const t=arguments.length>=2;return n=>n.pipe(e?Ln((r,s)=>e(r,s,n)):ad,xs(1),t?KC(i):tH(()=>new Xg))}function Kg(e,i){return ae(i)?Da(e,i,1):Da(e,1)}function cs(e,i,t){const n=ae(e)||i||t?{next:e,error:i,complete:t}:e;return n?gs((r,s)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let l=!0;r.subscribe(Zr(s,w=>{var E;null===(E=n.next)||void 0===E||E.call(n,w),s.next(w)},()=>{var w;l=!1,null===(w=n.complete)||void 0===w||w.call(n),s.complete()},w=>{var E;l=!1,null===(E=n.error)||void 0===E||E.call(n,w),s.error(w)},()=>{var w,E;l&&(null===(w=n.unsubscribe)||void 0===w||w.call(n)),null===(E=n.finalize)||void 0===E||E.call(n)}))}):ad}function Js(e){return gs((i,t)=>{let s,n=null,r=!1;n=i.subscribe(Zr(t,void 0,void 0,o=>{s=lo(e(o,Js(e)(i))),n?(n.unsubscribe(),n=null,s.subscribe(t)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(t))})}function VR(e){return e<=0?()=>al:gs((i,t)=>{let n=[];i.subscribe(Zr(t,r=>{n.push(r),e<n.length&&n.shift()},()=>{for(const r of n)t.next(r);t.complete()},void 0,()=>{n=null}))})}function ZC(e){return Ri(()=>e)}function Zg(e){return gs((i,t)=>{try{i.subscribe(t)}finally{t.add(e)}})}function Yi(e){return gs((i,t)=>{lo(e).subscribe(Zr(t,()=>t.complete(),on)),!t.closed&&i.subscribe(t)})}const An="primary",Tx=Symbol("RouteTitle");class Ext{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Jg(e){return new Ext(e)}function _xt(e,i,t){const n=t.path.split("/");if(n.length>e.length||"full"===t.pathMatch&&(i.hasChildren()||n.length<e.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],l=e[s];if(":"===o[0])r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function du(e,i){const t=e?UR(e):void 0,n=i?UR(i):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!eH(e[r],i[r]))return!1;return!0}function UR(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function eH(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;const t=[...e].sort(),n=[...i].sort();return t.every((r,s)=>n[s]===r)}return e===i}function iH(e){return e.length>0?e[e.length-1]:null}function Sd(e){return xx(e)?e:ux(e)?Zs(Promise.resolve(e)):wi(e)}const Dxt={exact:function sH(e,i,t){if(!cp(e.segments,i.segments)||!JC(e.segments,i.segments,t)||e.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!e.children[n]||!sH(e.children[n],i.children[n],t))return!1;return!0},subset:aH},nH={exact:function Mxt(e,i){return du(e,i)},subset:function Ixt(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(t=>eH(e[t],i[t]))},ignored:()=>!0};function rH(e,i,t){return Dxt[t.paths](e.root,i.root,t.matrixParams)&&nH[t.queryParams](e.queryParams,i.queryParams)&&!("exact"===t.fragment&&e.fragment!==i.fragment)}function aH(e,i,t){return oH(e,i,i.segments,t)}function oH(e,i,t,n){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!cp(r,t)||i.hasChildren()||!JC(r,t,n))}if(e.segments.length===t.length){if(!cp(e.segments,t)||!JC(e.segments,t,n))return!1;for(const r in i.children)if(!e.children[r]||!aH(e.children[r],i.children[r],n))return!1;return!0}{const r=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(cp(e.segments,r)&&JC(e.segments,r,n)&&e.children[An])&&oH(e.children[An],i,s,n)}}function JC(e,i,t){return i.every((n,r)=>nH[t](e[r].parameters,n.parameters))}class lp{constructor(i=new Ir([],{}),t={},n=null){this.root=i,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Jg(this.queryParams),this._queryParamMap}toString(){return kxt.serialize(this)}}class Ir{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tS(this)}}class Cx{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap??=Jg(this.parameters),this._parameterMap}toString(){return uH(this)}}function cp(e,i){return e.length===i.length&&e.every((t,n)=>t.path===i[n].path)}let qg=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:()=>new qC,providedIn:"root"})}}return e})();class qC{parse(i){const t=new Wxt(i);return new lp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${Sx(i.root,!0)}`,n=function Lxt(e){const i=Object.entries(e).map(([t,n])=>Array.isArray(n)?n.map(r=>`${eS(t)}=${eS(r)}`).join("&"):`${eS(t)}=${eS(n)}`).filter(t=>t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${n}${"string"==typeof i.fragment?`#${function Fxt(e){return encodeURI(e)}(i.fragment)}`:""}`}}const kxt=new qC;function tS(e){return e.segments.map(i=>uH(i)).join("/")}function Sx(e,i){if(!e.hasChildren())return tS(e);if(i){const t=e.children[An]?Sx(e.children[An],!1):"",n=[];return Object.entries(e.children).forEach(([r,s])=>{r!==An&&n.push(`${r}:${Sx(s,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function Pxt(e,i){let t=[];return Object.entries(e.children).forEach(([n,r])=>{n===An&&(t=t.concat(i(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==An&&(t=t.concat(i(r,n)))}),t}(e,(n,r)=>r===An?[Sx(e.children[An],!1)]:[`${r}:${Sx(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[An]?`${tS(e)}/${t[0]}`:`${tS(e)}/(${t.join("//")})`}}function lH(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eS(e){return lH(e).replace(/%3B/gi,";")}function zR(e){return lH(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iS(e){return decodeURIComponent(e)}function cH(e){return iS(e.replace(/\+/g,"%20"))}function uH(e){return`${zR(e.path)}${function Oxt(e){return Object.entries(e).map(([i,t])=>`;${zR(i)}=${zR(t)}`).join("")}(e.parameters)}`}const Nxt=/^[^\/()?;#]+/;function GR(e){const i=e.match(Nxt);return i?i[0]:""}const Bxt=/^[^\/()?;=#]+/,Uxt=/^[^=?&#]+/,Gxt=/^[^&#]+/;class Wxt{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ir([],{}):new Ir([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(n[An]=new Ir(i,t)),n}parseSegment(){const i=GR(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new pe(4009,!1);return this.capture(i),new Cx(iS(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function Vxt(e){const i=e.match(Bxt);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const r=GR(this.remaining);r&&(n=r,this.capture(n))}i[iS(t)]=iS(n)}parseQueryParam(i){const t=function zxt(e){const i=e.match(Uxt);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function Hxt(e){const i=e.match(Gxt);return i?i[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=cH(t),s=cH(n);if(i.hasOwnProperty(r)){let o=i[r];Array.isArray(o)||(o=[o],i[r]=o),o.push(s)}else i[r]=s}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=GR(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new pe(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):i&&(s=An);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[An]:new Ir([],o),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new pe(4011,!1)}}function hH(e){return e.segments.length>0?new Ir([],{[An]:e}):e}function dH(e){const i={};for(const[n,r]of Object.entries(e.children)){const s=dH(r);if(n===An&&0===s.segments.length&&s.hasChildren())for(const[o,l]of Object.entries(s.children))i[o]=l;else(s.segments.length>0||s.hasChildren())&&(i[n]=s)}return function jxt(e){if(1===e.numberOfChildren&&e.children[An]){const i=e.children[An];return new Ir(e.segments.concat(i.segments),i.children)}return e}(new Ir(e.segments,i))}function up(e){return e instanceof lp}function fH(e){let i;const r=hH(function t(s){const o={};for(const w of s.children){const E=t(w);o[w.outlet]=E}const l=new Ir(s.url,o);return s===e&&(i=l),l}(e.root));return i??r}function pH(e,i,t,n){let r=e;for(;r.parent;)r=r.parent;if(0===i.length)return HR(r,r,r,t,n);const s=function Yxt(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new gH(!0,0,e);let i=0,t=!1;const n=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Object.entries(s.outlets).forEach(([w,E])=>{l[w]="string"==typeof E?E.split("/"):E}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((l,w)=>{0==w&&"."===l||(0==w&&""===l?t=!0:".."===l?i++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new gH(t,i,n)}(i);if(s.toRoot())return HR(r,r,new Ir([],{}),t,n);const o=function $xt(e,i,t){if(e.isAbsolute)return new rS(i,!0,0);if(!t)return new rS(i,!1,NaN);if(null===t.parent)return new rS(t,!0,0);const n=nS(e.commands[0])?0:1;return function Qxt(e,i,t){let n=e,r=i,s=t;for(;s>r;){if(s-=r,n=n.parent,!n)throw new pe(4005,!1);r=n.segments.length}return new rS(n,!1,r-s)}(t,t.segments.length-1+n,e.numberOfDoubleDots)}(s,r,e),l=o.processChildren?_x(o.segmentGroup,o.index,s.commands):vH(o.segmentGroup,o.index,s.commands);return HR(r,o.segmentGroup,l,t,n)}function nS(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ex(e){return"object"==typeof e&&null!=e&&e.outlets}function HR(e,i,t,n,r){let o,s={};n&&Object.entries(n).forEach(([w,E])=>{s[w]=Array.isArray(E)?E.map(D=>`${D}`):`${E}`}),o=e===i?t:mH(e,i,t);const l=hH(dH(o));return new lp(l,s,r)}function mH(e,i,t){const n={};return Object.entries(e.children).forEach(([r,s])=>{n[r]=s===i?t:mH(s,i,t)}),new Ir(e.segments,n)}class gH{constructor(i,t,n){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=n,i&&n.length>0&&nS(n[0]))throw new pe(4003,!1);const r=n.find(Ex);if(r&&r!==iH(n))throw new pe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rS{constructor(i,t,n){this.segmentGroup=i,this.processChildren=t,this.index=n}}function vH(e,i,t){if(e??=new Ir([],{}),0===e.segments.length&&e.hasChildren())return _x(e,i,t);const n=function Zxt(e,i,t){let n=0,r=i;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=t.length)return s;const o=e.segments[r],l=t[n];if(Ex(l))break;const w=`${l}`,E=n<t.length-1?t[n+1]:null;if(r>0&&void 0===w)break;if(w&&E&&"object"==typeof E&&void 0===E.outlets){if(!xH(w,E,o))return s;n+=2}else{if(!xH(w,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(e,i,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const s=new Ir(e.segments.slice(0,n.pathIndex),{});return s.children[An]=new Ir(e.segments.slice(n.pathIndex),e.children),_x(s,0,r)}return n.match&&0===r.length?new Ir(e.segments,{}):n.match&&!e.hasChildren()?WR(e,i,t):n.match?_x(e,0,r):WR(e,i,t)}function _x(e,i,t){if(0===t.length)return new Ir(e.segments,{});{const n=function Kxt(e){return Ex(e[0])?e[0].outlets:{[An]:e}}(t),r={};if(Object.keys(n).some(s=>s!==An)&&e.children[An]&&1===e.numberOfChildren&&0===e.children[An].segments.length){const s=_x(e.children[An],i,t);return new Ir(e.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=vH(e.children[s],i,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===n[s]&&(r[s]=o)}),new Ir(e.segments,r)}}function WR(e,i,t){const n=e.segments.slice(0,i);let r=0;for(;r<t.length;){const s=t[r];if(Ex(s)){const w=Jxt(s.outlets);return new Ir(n,w)}if(0===r&&nS(t[0])){n.push(new Cx(e.segments[i].path,yH(t[0]))),r++;continue}const o=Ex(s)?s.outlets[An]:`${s}`,l=r<t.length-1?t[r+1]:null;o&&l&&nS(l)?(n.push(new Cx(o,yH(l))),r+=2):(n.push(new Cx(o,{})),r++)}return new Ir(n,{})}function Jxt(e){const i={};return Object.entries(e).forEach(([t,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(i[t]=WR(new Ir([],{}),0,n))}),i}function yH(e){const i={};return Object.entries(e).forEach(([t,n])=>i[t]=`${n}`),i}function xH(e,i,t){return e==t.path&&du(i,t.parameters)}const Ax="imperative";var Kn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Kn||{});class fu{constructor(i,t){this.id=i,this.url=t}}class sS extends fu{constructor(i,t,n="imperative",r=null){super(i,t),this.type=Kn.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pu extends fu{constructor(i,t,n){super(i,t),this.urlAfterRedirects=n,this.type=Kn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ml=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ml||{}),aS=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(aS||{});class hp extends fu{constructor(i,t,n,r){super(i,t),this.reason=n,this.code=r,this.type=Kn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tv extends fu{constructor(i,t,n,r){super(i,t),this.reason=n,this.code=r,this.type=Kn.NavigationSkipped}}class jR extends fu{constructor(i,t,n,r){super(i,t),this.error=n,this.target=r,this.type=Kn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bH extends fu{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Kn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qxt extends fu{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Kn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tbt extends fu{constructor(i,t,n,r,s){super(i,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=Kn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ebt extends fu{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Kn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ibt extends fu{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Kn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nbt{constructor(i){this.route=i,this.type=Kn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rbt{constructor(i){this.route=i,this.type=Kn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sbt{constructor(i){this.snapshot=i,this.type=Kn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class abt{constructor(i){this.snapshot=i,this.type=Kn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class obt{constructor(i){this.snapshot=i,this.type=Kn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lbt{constructor(i){this.snapshot=i,this.type=Kn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wH{constructor(i,t,n){this.routerEvent=i,this.position=t,this.anchor=n,this.type=Kn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class XR{}class oS{constructor(i,t){this.url=i,this.navigationBehaviorOptions=t}}function Lc(e){return e.outlet||An}function Dx(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class pbt{get injector(){return Dx(this.route?.snapshot)??this.rootInjector}set injector(i){}constructor(i){this.rootInjector=i,this.outlet=null,this.route=null,this.children=new Mx(this.rootInjector),this.attachRef=null}}let Mx=(()=>{class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new pbt(this.rootInjector),this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(n){return new(n||e)(re(za))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class TH{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=YR(i,this._root);return t?t.children.map(n=>n.value):[]}firstChild(i){const t=YR(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=$R(i,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return $R(i,this._root).map(t=>t.value)}}function YR(e,i){if(e===i.value)return i;for(const t of i.children){const n=YR(e,t);if(n)return n}return null}function $R(e,i){if(e===i.value)return[i];for(const t of i.children){const n=$R(e,t);if(n.length)return n.unshift(i),n}return[]}class Nc{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function ev(e){const i={};return e&&e.children.forEach(t=>i[t.value.outlet]=t),i}class CH extends TH{constructor(i,t){super(i),this.snapshot=t,QR(this,i)}toString(){return this.snapshot.toString()}}function SH(e){const i=function mbt(e){const s=new cS([],{},{},"",{},An,e,null,{});return new EH("",new Nc(s,[]))}(e),t=new Kr([new Cx("",{})]),n=new Kr({}),r=new Kr({}),s=new Kr({}),o=new Kr(""),l=new nc(t,n,s,o,r,An,e,i.root);return l.snapshot=i.root,new CH(new Nc(l,[]),i)}class nc{constructor(i,t,n,r,s,o,l,w){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=l,this._futureSnapshot=w,this.title=this.dataSubject?.pipe(Ri(E=>E[Tx]))??wi(void 0),this.url=i,this.params=t,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ri(i=>Jg(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ri(i=>Jg(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lS(e,i,t="emptyOnly"){let n;const{routeConfig:r}=e;return n=null===i||"always"!==t&&""!==r?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...i.params,...e.params},data:{...i.data,...e.data},resolve:{...e.data,...i.data,...r?.data,...e._resolvedData}},r&&AH(r)&&(n.resolve[Tx]=r.title),n}class cS{get title(){return this.data?.[Tx]}constructor(i,t,n,r,s,o,l,w,E){this.url=i,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=w,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jg(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jg(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class EH extends TH{constructor(i,t){super(t),this.url=i,QR(this,t)}toString(){return _H(this._root)}}function QR(e,i){i.value._routerState=e,i.children.forEach(t=>QR(e,t))}function _H(e){const i=e.children.length>0?` { ${e.children.map(_H).join(", ")} } `:"";return`${e.value}${i}`}function KR(e){if(e.snapshot){const i=e.snapshot,t=e._futureSnapshot;e.snapshot=t,du(i.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),du(i.params,t.params)||e.paramsSubject.next(t.params),function Axt(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;++t)if(!du(e[t],i[t]))return!1;return!0}(i.url,t.url)||e.urlSubject.next(t.url),du(i.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ZR(e,i){const t=du(e.params,i.params)&&function Rxt(e,i){return cp(e,i)&&e.every((t,n)=>du(t.parameters,i[n].parameters))}(e.url,i.url);return t&&!(!e.parent!=!i.parent)&&(!e.parent||ZR(e.parent,i.parent))}function AH(e){return"string"==typeof e.title||null===e.title}let JR=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=An,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=Jt(Mx),this.location=Jt(Or),this.changeDetector=Jt(In),this.inputBinder=Jt(uS,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:n,previousValue:r}=t.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pe(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new pe(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,w=new qR(t,l,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:w,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lr]})}}return e})();class qR{__ngOutletInjector(i){return new qR(this.route,this.childContexts,i)}constructor(i,t,n){this.route=i,this.childContexts=t,this.parent=n}get(i,t){return i===nc?this.route:i===Mx?this.childContexts:this.parent.get(i,t)}}const uS=new te("");let DH=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:n}=t,r=oh([n.queryParams,n.params,n.data]).pipe(ks(([s,o,l],w)=>(l={...s,...o,...l},0===w?wi(l):Promise.resolve(l)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(t);const o=function uvt(e){const i=Fn(e);if(!i)return null;const t=new jy(i);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(n.component);if(o)for(const{templateName:l}of o.inputs)t.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();function Ix(e,i,t){if(t&&e.shouldReuseRoute(i.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=i.value;const r=function vbt(e,i,t){return i.children.map(n=>{for(const r of t.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return Ix(e,n,r);return Ix(e,n)})}(e,i,t);return new Nc(n,r)}{if(e.shouldAttach(i.value)){const s=e.retrieve(i.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=i.value,o.children=i.children.map(l=>Ix(e,l)),o}}const n=function ybt(e){return new nc(new Kr(e.url),new Kr(e.params),new Kr(e.queryParams),new Kr(e.fragment),new Kr(e.data),e.outlet,e.component,e)}(i.value),r=i.children.map(s=>Ix(e,s));return new Nc(n,r)}}class tP{constructor(i,t){this.redirectTo=i,this.navigationBehaviorOptions=t}}const MH="ngNavigationCancelingError";function hS(e,i){const{redirectTo:t,navigationBehaviorOptions:n}=up(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=IH(!1,Ml.Redirect);return r.url=t,r.navigationBehaviorOptions=n,r}function IH(e,i){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[MH]=!0,t.cancellationCode=i,t}function RH(e){return!!e&&e[MH]}class wbt{constructor(i,t,n,r,s){this.routeReuseStrategy=i,this.futureState=t,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(i){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,i),KR(this.futureState.root),this.activateChildRoutes(t,n,i)}deactivateChildRoutes(i,t,n){const r=ev(t);i.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(i,t,n){const r=i.value,s=t?t.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(i,t,o.children)}else this.deactivateChildRoutes(i,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const n=t.getContext(i.value.outlet),r=n&&i.value.component?n.children:t,s=ev(i);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){const o=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:l})}}deactivateRouteAndOutlet(i,t){const n=t.getContext(i.value.outlet),r=n&&i.value.component?n.children:t,s=ev(i);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,t,n){const r=ev(t);i.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new lbt(s.value.snapshot))}),i.children.length&&this.forwardEvent(new abt(i.value.snapshot))}activateRoutes(i,t,n){const r=i.value,s=t?t.value:null;if(KR(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(i,t,o.children)}else this.activateChildRoutes(i,t,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),KR(l.route.value),this.activateChildRoutes(i,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(i,null,o.children)}else this.activateChildRoutes(i,null,n)}}class PH{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class dS{constructor(i,t){this.component=i,this.route=t}}function Tbt(e,i,t){const n=e._root;return Rx(n,i?i._root:null,t,[n.value])}function iv(e,i){const t=Symbol(),n=i.get(e,t);return n===t?"function"!=typeof e||function Ust(e){return null!==Fw(e)}(e)?i.get(e):e:n}function Rx(e,i,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ev(i);return e.children.forEach(o=>{(function Sbt(e,i,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=i?i.value:null,l=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const w=function Ebt(e,i,t){if("function"==typeof t)return t(e,i);switch(t){case"pathParamsChange":return!cp(e.url,i.url);case"pathParamsOrQueryParamsChange":return!cp(e.url,i.url)||!du(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ZR(e,i)||!du(e.queryParams,i.queryParams);default:return!ZR(e,i)}}(o,s,s.routeConfig.runGuardsAndResolvers);w?r.canActivateChecks.push(new PH(n)):(s.data=o.data,s._resolvedData=o._resolvedData),Rx(e,i,s.component?l?l.children:null:t,n,r),w&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new dS(l.outlet.component,o))}else o&&Px(i,l,r),r.canActivateChecks.push(new PH(n)),Rx(e,null,s.component?l?l.children:null:t,n,r)})(o,s[o.value.outlet],t,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,l])=>Px(l,t.getContext(o),r)),r}function Px(e,i,t){const n=ev(e),r=e.value;Object.entries(n).forEach(([s,o])=>{Px(o,r.component?i?i.children.getContext(s):null:i,t)}),t.canDeactivateChecks.push(new dS(r.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,r))}function kx(e){return"function"==typeof e}function kH(e){return e instanceof Xg||"EmptyError"===e?.name}const fS=Symbol("INITIAL_VALUE");function nv(){return ks(e=>oh(e.map(i=>i.pipe(xs(1),Ma(fS)))).pipe(Ri(i=>{for(const t of i)if(!0!==t){if(t===fS)return fS;if(!1===t||Pbt(t))return t}return!0}),Ln(i=>i!==fS),xs(1)))}function Pbt(e){return up(e)||e instanceof tP}function FH(e){return function Ist(...e){return k3(e)}(cs(i=>{if("boolean"!=typeof i)throw hS(0,i)}),Ri(i=>!0===i))}class eP{constructor(i){this.segmentGroup=i||null}}class pS extends Error{constructor(i){super(),this.urlTree=i}}function rv(e){return Qg(new eP(e))}class jbt{constructor(i,t){this.urlSerializer=i,this.urlTree=t}lineralizeSegments(i,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return wi(n);if(r.numberOfChildren>1||!r.children[An])return Qg(new pe(4e3,!1));r=r.children[An]}}applyRedirectCommands(i,t,n,r,s){if("string"!=typeof t){const l=t,{queryParams:w,fragment:E,routeConfig:D,url:k,outlet:O,params:L,data:U,title:j}=r,W=Zc(s,()=>l({params:L,data:U,queryParams:w,fragment:E,routeConfig:D,url:k,outlet:O,title:j}));if(W instanceof lp)throw new pS(W);t=W}const o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,n);if("/"===t[0])throw new pS(o);return o}applyRedirectCreateUrlTree(i,t,n,r){const s=this.createSegmentGroup(i,t.root,n,r);return new lp(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const n={};return Object.entries(i).forEach(([r,s])=>{if("string"==typeof s&&":"===s[0]){const l=s.substring(1);n[r]=t[l]}else n[r]=s}),n}createSegmentGroup(i,t,n,r){const s=this.createSegments(i,t.segments,n,r);let o={};return Object.entries(t.children).forEach(([l,w])=>{o[l]=this.createSegmentGroup(i,w,n,r)}),new Ir(s,o)}createSegments(i,t,n,r){return t.map(s=>":"===s.path[0]?this.findPosParam(i,s,r):this.findOrReturn(s,n))}findPosParam(i,t,n){const r=n[t.path.substring(1)];if(!r)throw new pe(4001,!1);return r}findOrReturn(i,t){let n=0;for(const r of t){if(r.path===i.path)return t.splice(n),r;n++}return i}}const iP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xbt(e,i,t,n,r){const s=OH(e,i,t);return s.matched?(n=function cbt(e,i){return e.providers&&!e._injector&&(e._injector=$T(e.providers,i,`Route: ${e.path}`)),e._injector??i}(i,n),function Gbt(e,i,t,n){const r=i.canMatch;return r&&0!==r.length?wi(r.map(o=>{const l=iv(o,e);return Sd(function Rbt(e){return e&&kx(e.canMatch)}(l)?l.canMatch(i,t):Zc(e,()=>l(i,t)))})).pipe(nv(),FH()):wi(!0)}(n,i,t).pipe(Ri(o=>!0===o?s:{...iP}))):wi(s)}function OH(e,i,t){if("**"===i.path)return function Ybt(e){return{matched:!0,parameters:e.length>0?iH(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===i.path)return"full"===i.pathMatch&&(e.hasChildren()||t.length>0)?{...iP}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(i.matcher||_xt)(t,e,i);if(!r)return{...iP};const s={};Object.entries(r.posParams??{}).forEach(([l,w])=>{s[l]=w.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function LH(e,i,t,n){return t.length>0&&function Kbt(e,i,t){return t.some(n=>mS(e,i,n)&&Lc(n)!==An)}(e,t,n)?{segmentGroup:new Ir(i,Qbt(n,new Ir(t,e.children))),slicedSegments:[]}:0===t.length&&function Zbt(e,i,t){return t.some(n=>mS(e,i,n))}(e,t,n)?{segmentGroup:new Ir(e.segments,$bt(e,t,n,e.children)),slicedSegments:t}:{segmentGroup:new Ir(e.segments,e.children),slicedSegments:t}}function $bt(e,i,t,n){const r={};for(const s of t)if(mS(e,i,s)&&!n[Lc(s)]){const o=new Ir([],{});r[Lc(s)]=o}return{...n,...r}}function Qbt(e,i){const t={};t[An]=i;for(const n of e)if(""===n.path&&Lc(n)!==An){const r=new Ir([],{});t[Lc(n)]=r}return t}function mS(e,i,t){return(!(e.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class qbt{}class i1t{constructor(i,t,n,r,s,o,l){this.injector=i,this.configLoader=t,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=l,this.applyRedirects=new jbt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new pe(4002,`'${i.segmentGroup}'`)}recognize(){const i=LH(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(Ri(({children:t,rootSnapshot:n})=>{const r=new Nc(n,t),s=new EH("",r),o=function Xxt(e,i,t=null,n=null){return pH(fH(e),i,t,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(i){const t=new cS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),An,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,An,t).pipe(Ri(n=>({children:n,rootSnapshot:t})),Js(n=>{if(n instanceof pS)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof eP?this.noMatchError(n):n}))}processSegmentGroup(i,t,n,r,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,t,n,s):this.processSegment(i,t,n,n.segments,r,!0,s).pipe(Ri(o=>o instanceof Nc?[o]:[]))}processChildren(i,t,n,r){const s=[];for(const o of Object.keys(n.children))"primary"===o?s.unshift(o):s.push(o);return Zs(s).pipe(Kg(o=>{const l=n.children[o],w=function fbt(e,i){const t=e.filter(n=>Lc(n)===i);return t.push(...e.filter(n=>Lc(n)!==i)),t}(t,o);return this.processSegmentGroup(i,w,l,o,r)}),function Cxt(e,i){return gs(function Txt(e,i,t,n,r){return(s,o)=>{let l=t,w=i,E=0;s.subscribe(Zr(o,D=>{const k=E++;w=l?e(w,D,k):(l=!0,D),n&&o.next(w)},r&&(()=>{l&&o.next(w),o.complete()})))}}(e,i,arguments.length>=2,!0))}((o,l)=>(o.push(...l),o)),KC(null),function Sxt(e,i){const t=arguments.length>=2;return n=>n.pipe(e?Ln((r,s)=>e(r,s,n)):ad,VR(1),t?KC(i):tH(()=>new Xg))}(),Da(o=>{if(null===o)return rv(n);const l=NH(o);return function n1t(e){e.sort((i,t)=>i.value.outlet===An?-1:t.value.outlet===An?1:i.value.outlet.localeCompare(t.value.outlet))}(l),wi(l)}))}processSegment(i,t,n,r,s,o,l){return Zs(t).pipe(Kg(w=>this.processSegmentAgainstRoute(w._injector??i,t,w,n,r,s,o,l).pipe(Js(E=>{if(E instanceof eP)return wi(null);throw E}))),ic(w=>!!w),Js(w=>{if(kH(w))return function Jbt(e,i,t){return 0===i.length&&!e.children[t]}(n,r,s)?wi(new qbt):rv(n);throw w}))}processSegmentAgainstRoute(i,t,n,r,s,o,l,w){return Lc(n)===o||o!==An&&mS(r,s,n)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(i,r,n,s,o,w):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(i,r,t,n,s,o,w):rv(r):rv(r)}expandSegmentAgainstRouteUsingRedirect(i,t,n,r,s,o,l){const{matched:w,parameters:E,consumedSegments:D,positionalParamSegments:k,remainingSegments:O}=OH(t,r,s);if(!w)return rv(t);"string"==typeof r.redirectTo&&"/"===r.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const L=new cS(s,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BH(r),Lc(r),r.component??r._loadedComponent??null,r,VH(r)),U=lS(L,l,this.paramsInheritanceStrategy);L.params=Object.freeze(U.params),L.data=Object.freeze(U.data);const j=this.applyRedirects.applyRedirectCommands(D,r.redirectTo,k,L,i);return this.applyRedirects.lineralizeSegments(r,j).pipe(Da(W=>this.processSegment(i,n,t,W.concat(O),o,!1,l)))}matchSegmentAgainstRoute(i,t,n,r,s,o){const l=Xbt(t,n,r,i);return"**"===n.path&&(t.children={}),l.pipe(ks(w=>w.matched?this.getChildConfig(i=n._injector??i,n,r).pipe(ks(({routes:E})=>{const D=n._loadedInjector??i,{parameters:k,consumedSegments:O,remainingSegments:L}=w,U=new cS(O,k,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BH(n),Lc(n),n.component??n._loadedComponent??null,n,VH(n)),j=lS(U,o,this.paramsInheritanceStrategy);U.params=Object.freeze(j.params),U.data=Object.freeze(j.data);const{segmentGroup:W,slicedSegments:Z}=LH(t,O,L,E);if(0===Z.length&&W.hasChildren())return this.processChildren(D,E,W,U).pipe(Ri(st=>new Nc(U,st)));if(0===E.length&&0===Z.length)return wi(new Nc(U,[]));const rt=Lc(n)===s;return this.processSegment(D,E,W,Z,rt?An:s,!0,U).pipe(Ri(st=>new Nc(U,st instanceof Nc?[st]:[])))})):rv(t)))}getChildConfig(i,t,n){return t.children?wi({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?wi({routes:t._loadedRoutes,injector:t._loadedInjector}):function zbt(e,i,t,n){const r=i.canLoad;return void 0===r||0===r.length?wi(!0):wi(r.map(o=>{const l=iv(o,e);return Sd(function Abt(e){return e&&kx(e.canLoad)}(l)?l.canLoad(i,t):Zc(e,()=>l(i,t)))})).pipe(nv(),FH())}(i,t,n).pipe(Da(r=>r?this.configLoader.loadChildren(i,t).pipe(cs(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Wbt(){return Qg(IH(!1,Ml.GuardRejected))}())):wi({routes:[],injector:i})}}function r1t(e){const i=e.value.routeConfig;return i&&""===i.path}function NH(e){const i=[],t=new Set;for(const n of e){if(!r1t(n)){i.push(n);continue}const r=i.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),t.add(r)):i.push(n)}for(const n of t){const r=NH(n.children);i.push(new Nc(n.value,r))}return i.filter(n=>!t.has(n))}function BH(e){return e.data||{}}function VH(e){return e.resolve||{}}function UH(e){const i=e.children.map(t=>UH(t)).flat();return[e,...i]}function nP(e){return ks(i=>{const t=e(i);return t?Zs(t).pipe(Ri(()=>i)):wi(i)})}let zH=(()=>{class e{buildTitle(t){let n,r=t.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===An);return n}getResolvedTitleForRoute(t){return t.data[Tx]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:()=>Jt(u1t),providedIn:"root"})}}return e})(),u1t=(()=>{class e extends zH{constructor(t){super(),this.title=t}updateTitle(t){const n=this.buildTitle(t);void 0!==n&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||e)(re(Syt))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const sv=new te("",{providedIn:"root",factory:()=>({})});let GH=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["ng-component"]],standalone:!0,features:[Wi],decls:1,vars:0,template:function(n,r){1&n&&ye(0,"router-outlet")},dependencies:[JR],encapsulation:2})}}return e})();function rP(e){const i=e.children&&e.children.map(rP),t=i?{...e,children:i}:{...e};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==An&&(t.component=GH),t}const av=new te("");let sP=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Jt(WU)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return wi(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const n=Sd(t.loadComponent()).pipe(Ri(HH),cs(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Zg(()=>{this.componentLoaders.delete(t)})),r=new BR(n,()=>new Fe).pipe(NR());return this.componentLoaders.set(t,r),r}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return wi({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=function h1t(e,i,t,n){return Sd(e.loadChildren()).pipe(Ri(HH),Da(r=>r instanceof c9||Array.isArray(r)?wi(r):Zs(i.compileModuleAsync(r))),Ri(r=>{n&&n(e);let s,o,l=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(av,[],{optional:!0,self:!0}).flat()),{routes:o.map(rP),injector:s}}))}(n,this.compiler,t,this.onLoadEndListener).pipe(Zg(()=>{this.childrenLoaders.delete(n)})),o=new BR(s,()=>new Fe).pipe(NR());return this.childrenLoaders.set(n,o),o}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function HH(e){return function d1t(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let aP=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:()=>Jt(f1t),providedIn:"root"})}}return e})(),f1t=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const WH=new te(""),jH=new te("");function p1t(e,i,t){const n=e.get(jH),r=e.get(Gi);return e.get(li).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(E=>setTimeout(E));let s;const o=new Promise(E=>{s=E}),l=r.startViewTransition(()=>(s(),function m1t(e){return new Promise(i=>{ao({read:()=>setTimeout(i)},{injector:e})})}(e))),{onViewTransitionCreated:w}=n;return w&&Zc(e,()=>w({transition:l,from:i,to:t})),o})}const XH=new te("");let gS=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=Jt(sP),this.environmentInjector=Jt(za),this.urlSerializer=Jt(qg),this.rootContexts=Jt(Mx),this.location=Jt(ap),this.inputBindingEnabled=null!==Jt(uS,{optional:!0}),this.titleStrategy=Jt(zH),this.options=Jt(sv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Jt(aP),this.createViewTransition=Jt(WH,{optional:!0}),this.navigationErrorHandler=Jt(XH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>wi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new rbt(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new nbt(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:n})}setupNavigations(t,n,r){return this.transitions=new Kr({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ax,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ln(s=>0!==s.id),Ri(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ks(s=>{let o=!1,l=!1;return wi(s).pipe(ks(w=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ml.SupersededByNewNavigation),al;this.currentTransition=s,this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,targetBrowserUrl:"string"==typeof w.extras.browserUrl?this.urlSerializer.parse(w.extras.browserUrl):w.extras.browserUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const E=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!E&&"reload"!==(w.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const k="";return this.events.next(new tv(w.id,this.urlSerializer.serialize(w.rawUrl),k,aS.IgnoredSameUrlNavigation)),w.resolve(!1),al}if(this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return wi(w).pipe(ks(k=>{const O=this.transitions?.getValue();return this.events.next(new sS(k.id,this.urlSerializer.serialize(k.extractedUrl),k.source,k.restoredState)),O!==this.transitions?.getValue()?al:Promise.resolve(k)}),function s1t(e,i,t,n,r,s){return Da(o=>function t1t(e,i,t,n,r,s,o="emptyOnly"){return new i1t(e,i,t,n,r,o,s).recognize()}(e,i,t,n,o.extractedUrl,r,s).pipe(Ri(({state:l,tree:w})=>({...o,targetSnapshot:l,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),cs(k=>{s.targetSnapshot=k.targetSnapshot,s.urlAfterRedirects=k.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects};const O=new bH(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(O)}));if(E&&this.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:k,extractedUrl:O,source:L,restoredState:U,extras:j}=w,W=new sS(k,this.urlSerializer.serialize(O),L,U);this.events.next(W);const Z=SH(this.rootComponentType).snapshot;return this.currentTransition=s={...w,targetSnapshot:Z,urlAfterRedirects:O,extras:{...j,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=O,wi(s)}{const k="";return this.events.next(new tv(w.id,this.urlSerializer.serialize(w.extractedUrl),k,aS.IgnoredByUrlHandlingStrategy)),w.resolve(!1),al}}),cs(w=>{const E=new qxt(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}),Ri(w=>(this.currentTransition=s={...w,guards:Tbt(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},s)),function kbt(e,i){return Da(t=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?wi({...t,guardsResult:!0}):function Fbt(e,i,t,n){return Zs(e).pipe(Da(r=>function Ubt(e,i,t,n,r){const s=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return s&&0!==s.length?wi(s.map(l=>{const w=Dx(i)??r,E=iv(l,w);return Sd(function Ibt(e){return e&&kx(e.canDeactivate)}(E)?E.canDeactivate(e,i,t,n):Zc(w,()=>E(e,i,t,n))).pipe(ic())})).pipe(nv()):wi(!0)}(r.component,r.route,t,i,n)),ic(r=>!0!==r,!0))}(o,n,r,e).pipe(Da(l=>l&&function _bt(e){return"boolean"==typeof e}(l)?function Obt(e,i,t,n){return Zs(i).pipe(Kg(r=>wx(function Nbt(e,i){return null!==e&&i&&i(new sbt(e)),wi(!0)}(r.route.parent,n),function Lbt(e,i){return null!==e&&i&&i(new obt(e)),wi(!0)}(r.route,n),function Vbt(e,i,t){const n=i[i.length-1],s=i.slice(0,i.length-1).reverse().map(o=>function Cbt(e){const i=e.routeConfig?e.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:e,guards:i}:null}(o)).filter(o=>null!==o).map(o=>$g(()=>wi(o.guards.map(w=>{const E=Dx(o.node)??t,D=iv(w,E);return Sd(function Mbt(e){return e&&kx(e.canActivateChild)}(D)?D.canActivateChild(n,e):Zc(E,()=>D(n,e))).pipe(ic())})).pipe(nv())));return wi(s).pipe(nv())}(e,r.path,t),function Bbt(e,i,t){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return wi(!0);const r=n.map(s=>$g(()=>{const o=Dx(i)??t,l=iv(s,o);return Sd(function Dbt(e){return e&&kx(e.canActivate)}(l)?l.canActivate(i,e):Zc(o,()=>l(i,e))).pipe(ic())}));return wi(r).pipe(nv())}(e,r.route,t))),ic(r=>!0!==r,!0))}(n,s,e,i):wi(l)),Ri(l=>({...t,guardsResult:l})))})}(this.environmentInjector,w=>this.events.next(w)),cs(w=>{if(s.guardsResult=w.guardsResult,w.guardsResult&&"boolean"!=typeof w.guardsResult)throw hS(0,w.guardsResult);const E=new tbt(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(E)}),Ln(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",Ml.GuardRejected),!1)),nP(w=>{if(w.guards.canActivateChecks.length)return wi(w).pipe(cs(E=>{const D=new ebt(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(D)}),ks(E=>{let D=!1;return wi(E).pipe(function a1t(e,i){return Da(t=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return wi(t);const s=new Set(r.map(w=>w.route)),o=new Set;for(const w of s)if(!o.has(w))for(const E of UH(w))o.add(E);let l=0;return Zs(o).pipe(Kg(w=>s.has(w)?function o1t(e,i,t,n){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!AH(r)&&(s[Tx]=r.title),function l1t(e,i,t,n){const r=UR(e);if(0===r.length)return wi({});const s={};return Zs(r).pipe(Da(o=>function c1t(e,i,t,n){const r=Dx(i)??n,s=iv(e,r);return Sd(s.resolve?s.resolve(i,t):Zc(r,()=>s(i,t)))}(e[o],i,t,n).pipe(ic(),cs(l=>{if(l instanceof tP)throw hS(new qC,l);s[o]=l}))),VR(1),ZC(s),Js(o=>kH(o)?al:Qg(o)))}(s,e,i,n).pipe(Ri(o=>(e._resolvedData=o,e.data=lS(e,e.parent,t).resolve,null)))}(w,n,e,i):(w.data=lS(w,w.parent,e).resolve,wi(void 0))),cs(()=>l++),VR(1),Da(w=>l===o.size?wi(t):al))})}(this.paramsInheritanceStrategy,this.environmentInjector),cs({next:()=>D=!0,complete:()=>{D||this.cancelNavigationTransition(E,"",Ml.NoDataFromResolver)}}))}),cs(E=>{const D=new ibt(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(D)}))}),nP(w=>{const E=D=>{const k=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&k.push(this.configLoader.loadComponent(D.routeConfig).pipe(cs(O=>{D.component=O}),Ri(()=>{})));for(const O of D.children)k.push(...E(O));return k};return oh(E(w.targetSnapshot.root)).pipe(KC(null),xs(1))}),nP(()=>this.afterPreactivation()),ks(()=>{const{currentSnapshot:w,targetSnapshot:E}=s,D=this.createViewTransition?.(this.environmentInjector,w.root,E.root);return D?Zs(D).pipe(Ri(()=>s)):wi(s)}),Ri(w=>{const E=function gbt(e,i,t){const n=Ix(e,i._root,t?t._root:void 0);return new CH(n,i)}(t.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=s={...w,targetRouterState:E},this.currentNavigation.targetRouterState=E,s}),cs(()=>{this.events.next(new XR)}),((e,i,t,n)=>Ri(r=>(new wbt(i,r.targetRouterState,r.currentRouterState,t,n).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),xs(1),cs({next:w=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pu(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),this.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{o=!0}}),Yi(this.transitionAbortSubject.pipe(cs(w=>{throw w}))),Zg(()=>{!o&&!l&&this.cancelNavigationTransition(s,"",Ml.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Js(w=>{if(l=!0,RH(w))this.events.next(new hp(s.id,this.urlSerializer.serialize(s.extractedUrl),w.message,w.cancellationCode)),function xbt(e){return RH(e)&&up(e.url)}(w)?this.events.next(new oS(w.url,w.navigationBehaviorOptions)):s.resolve(!1);else{const E=new jR(s.id,this.urlSerializer.serialize(s.extractedUrl),w,s.targetSnapshot??void 0);try{const D=Zc(this.environmentInjector,()=>this.navigationErrorHandler?.(E));if(D instanceof tP){const{message:k,cancellationCode:O}=hS(0,D);this.events.next(new hp(s.id,this.urlSerializer.serialize(s.extractedUrl),k,O)),this.events.next(new oS(D.redirectTo,D.navigationBehaviorOptions))}else{this.events.next(E);const k=t.errorHandler(w);s.resolve(!!k)}}catch(D){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(D)}}return al}))}))}cancelNavigationTransition(t,n,r){const s=new hp(t.id,this.urlSerializer.serialize(t.extractedUrl),n,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function g1t(e){return e!==Ax}let v1t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:()=>Jt(x1t),providedIn:"root"})}}return e})();class y1t{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let x1t=(()=>{class e extends y1t{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),YH=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:()=>Jt(b1t),providedIn:"root"})}}return e})(),b1t=(()=>{class e extends YH{constructor(){super(...arguments),this.location=Jt(ap),this.urlSerializer=Jt(qg),this.options=Jt(sv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Jt(aP),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new lp,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=SH(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{"popstate"===n.type&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof sS)this.stateMemento=this.createStateMemento();else if(t instanceof tv)this.rawUrlTree=n.initialUrl;else if(t instanceof bH){if("eager"===this.urlUpdateStrategy&&!n.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??r,n)}}else t instanceof XR?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):t instanceof hp&&(t.code===Ml.GuardRejected||t.code===Ml.NoDataFromResolver)?this.restoreHistory(n):t instanceof jR?this.restoreHistory(n,!0):t instanceof pu&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){const r=t instanceof lp?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Fx=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Fx||{});function $H(e,i){e.events.pipe(Ln(t=>t instanceof pu||t instanceof hp||t instanceof jR||t instanceof tv),Ri(t=>t instanceof pu||t instanceof tv?Fx.COMPLETE:t instanceof hp&&(t.code===Ml.Redirect||t.code===Ml.SupersededByNewNavigation)?Fx.REDIRECTING:Fx.FAILED),Ln(t=>t!==Fx.REDIRECTING),xs(1)).subscribe(()=>{i()})}function w1t(e){throw e}const T1t={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C1t={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ho=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Jt(kU),this.stateManager=Jt(YH),this.options=Jt(sv,{optional:!0})||{},this.pendingTasks=Jt(Zu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Jt(gS),this.urlSerializer=Jt(qg),this.location=Jt(ap),this.urlHandlingStrategy=Jt(aP),this._events=new Fe,this.errorHandler=this.options.errorHandler||w1t,this.navigated=!1,this.routeReuseStrategy=Jt(v1t),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Jt(av,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Jt(uS,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(n=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(n,s),n instanceof hp&&n.code!==Ml.Redirect&&n.code!==Ml.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof pu)this.navigated=!0;else if(n instanceof oS){const o=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),w={browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||"eager"===this.urlUpdateStrategy||g1t(r.source),...o};this.scheduleNavigation(l,Ax,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function E1t(e){return!(e instanceof XR||e instanceof oS)})(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ax,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const w={...r};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(s.state=w)}const l=this.parseUrl(t);this.scheduleNavigation(l,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(rP),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:w}=n,E=w?this.currentUrlTree.fragment:o;let k,D=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}null!==D&&(D=this.removeEmptyProps(D));try{k=fH(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),k=this.currentUrlTree.root}return pH(k,t,D,E??null)}navigateByUrl(t,n={skipLocationChange:!1}){const r=up(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Ax,null,n)}navigate(t,n={skipLocationChange:!1}){return function S1t(e){for(let i=0;i<e.length;i++)if(null==e[i])throw new pe(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let r;if(r=!0===n?{...T1t}:!1===n?{...C1t}:n,up(t))return rH(this.currentUrlTree,t,r);const s=this.parseUrl(t);return rH(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((n,[r,s])=>(null!=s&&(n[r]=s),n),{})}scheduleNavigation(t,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let l,w,E;o?(l=o.resolve,w=o.reject,E=o.promise):E=new Promise((k,O)=>{l=k,w=O});const D=this.pendingTasks.add();return $H(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:l,reject:w,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(k=>Promise.reject(k))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ov=(()=>{class e{constructor(t,n,r,s,o,l){this.router=t,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=l,this.href=null,this.onChanges=new Fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const w=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=t.events.subscribe(E=>{E instanceof pu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null==t?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=up(t)||Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,n,r,s,o){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==t||n||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const n=null===this.href?null:function u5(e,i,t){return function qlt(e,i){return"src"===i&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===i&&("base"===e||"link"===e)?c5:Ay}(i,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(t,n){const r=this.renderer,s=this.el.nativeElement;null!==n?r.setAttribute(s,t,n):r.removeAttribute(s,t)}get urlTree(){return null===this.routerLinkInput?null:up(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(n){return new(n||e)(pt(Ho),pt(nc),wl("tabindex"),pt(Kl),pt(ai),pt(sp))}}static{this.\u0275dir=me({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&Ut("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&_i("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qe],replaceUrl:[2,"replaceUrl","replaceUrl",qe],routerLink:"routerLink"},standalone:!0,features:[vn,lr]})}}return e})();class QH{}let D1t=(()=>{class e{constructor(t,n,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(t=>t instanceof pu),Kg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=$T(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,l=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Zs(r).pipe(Yg())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(t,n):wi(null);const s=r.pipe(Da(o=>null===o?wi(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return n.loadComponent&&!n._loadedComponent?Zs([s,this.loader.loadComponent(n)]).pipe(Yg()):s})}static{this.\u0275fac=function(n){return new(n||e)(re(Ho),re(WU),re(za),re(QH),re(sP))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const oP=new te("");let KH=(()=>{class e{constructor(t,n,r,s,o={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pu?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof tv&&t.code===aS.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wH&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wH(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(n){RT()}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();function mu(e,i){return{\u0275kind:e,\u0275providers:i}}function JH(){const e=Jt(On);return i=>{const t=e.get(ql);if(i!==t.components[0])return;const n=e.get(Ho),r=e.get(qH);1===e.get(lP)&&n.initialNavigation(),e.get(t7,null,Nn.Optional)?.setUpPreloading(),e.get(oP,null,Nn.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const qH=new te("",{factory:()=>new Fe}),lP=new te("",{providedIn:"root",factory:()=>1}),t7=new te("");function P1t(e){return mu(0,[{provide:t7,useExisting:D1t},{provide:QH,useExisting:e}])}function F1t(e){return mu(9,[{provide:WH,useValue:p1t},{provide:jH,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const e7=new te("ROUTER_FORROOT_GUARD"),O1t=[ap,{provide:qg,useClass:qC},Ho,Mx,{provide:nc,useFactory:function ZH(e){return e.routerState.root},deps:[Ho]},sP,[]];let i7=(()=>{class e{constructor(t){}static forRoot(t,n){return{ngModule:e,providers:[O1t,[],{provide:av,multi:!0,useValue:t},{provide:e7,useFactory:V1t,deps:[[Ho,new Xu,new Mf]]},{provide:sv,useValue:n||{}},n?.useHash?{provide:sp,useClass:mvt}:{provide:sp,useClass:Nz},{provide:oP,useFactory:()=>{const e=Jt(E0t),i=Jt(li),t=Jt(sv),n=Jt(gS),r=Jt(qg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new KH(r,n,e,i,t)}},n?.preloadingStrategy?P1t(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?U1t(n):[],n?.bindToComponentInputs?mu(8,[DH,{provide:uS,useExisting:DH}]).\u0275providers:[],n?.enableViewTransitions?F1t().\u0275providers:[],[{provide:n7,useFactory:JH},{provide:bC,multi:!0,useExisting:n7}]]}}static forChild(t){return{ngModule:e,providers:[{provide:av,multi:!0,useValue:t}]}}static{this.\u0275fac=function(n){return new(n||e)(re(e7,8))}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({})}}return e})();function V1t(e){return"guarded"}function U1t(e){return["disabled"===e.initialNavigation?mu(3,[{provide:G2,multi:!0,useFactory:()=>{const i=Jt(Ho);return()=>{i.setUpLocationChangeListener()}}},{provide:lP,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?mu(2,[{provide:lP,useValue:0},{provide:G2,multi:!0,deps:[On],useFactory:i=>{const t=i.get(fvt,Promise.resolve());return()=>t.then(()=>new Promise(n=>{const r=i.get(Ho),s=i.get(qH);$H(r,()=>{n(!0)}),i.get(gS).afterPreactivation=()=>(n(!0),s.closed?wi(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const n7=new te("");function r7(e,i,t,n,r,s,o){try{var l=e[s](o),w=l.value}catch(E){return void t(E)}l.done?i(w):Promise.resolve(w).then(n,r)}function we(e){return function(){var i=this,t=arguments;return new Promise(function(n,r){var s=e.apply(i,t);function o(w){r7(s,n,r,o,l,"next",w)}function l(w){r7(s,n,r,o,l,"throw",w)}o(void 0)})}}class vS{}function cP(e){return e&&"function"==typeof e.connect&&!(e instanceof BR)}var lh=function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e}(lh||{});const Ox=new te("_ViewRepeater");class s7{applyChanges(i,t,n,r,s){i.forEachOperation((o,l,w)=>{let E,D;if(null==o.previousIndex){const k=n(o,l,w);E=t.createEmbeddedView(k.templateRef,k.context,k.index),D=lh.INSERTED}else null==w?(t.remove(l),D=lh.REMOVED):(E=t.get(l),t.move(E,w),D=lh.MOVED);s&&s({context:E?.context,operation:D,record:o})})}detach(){}}class uP{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(i=!1,t,n=!0,r){this._multiple=i,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Fe,t&&t.length&&(i?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(n=>this._markSelected(n));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...i){this._verifyValueAssignment(i),i.forEach(n=>this._unmarkSelected(n));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...i){this._verifyValueAssignment(i);const t=this.selected,n=new Set(i);i.forEach(s=>this._markSelected(s)),t.filter(s=>!n.has(this._getConcreteValue(s,n))).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();const t=this._hasQueuedChanges();return i&&this._emitChangeEvent(),t}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(i,t){if(this.compareWith){t=t??this._selection;for(let n of t)if(this.compareWith(i,n))return n;return i}return i}}let hP=(()=>{class e{constructor(){this._listeners=[]}notify(t,n){for(let r of this._listeners)r(t,n)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(n=>t!==n)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ia(e,i){const t="object"==typeof i;return new Promise((n,r)=>{let o,s=!1;e.subscribe({next:l=>{o=l,s=!0},error:r,complete:()=>{s?n(o):t?n(i.defaultValue):r(new Xg)}})})}const dP={now:()=>(dP.delegate||Date).now(),delegate:void 0};class Lx extends Fe{constructor(i=1/0,t=1/0,n=dP){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(n.push(i),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!i.closed;o+=n?1:2)i.next(s[o]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*i;if(i<1/0&&s<n.length&&n.splice(0,n.length-s),!r){const o=t.now();let l=0;for(let w=1;w<n.length&&n[w]<=o;w+=2)l=w;l&&n.splice(0,l+1)}}}class yS{}class xS{}class ol{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),s=r.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const t=this.headers.get(i.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,t){return this.clone({name:i,value:t,op:"a"})}set(i,t){return this.clone({name:i,value:t,op:"s"})}delete(i,t){return this.clone({name:i,value:t,op:"d"})}maybeSetNormalizedName(i,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,i)}init(){this.lazyInit&&(this.lazyInit instanceof ol?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(t=>{this.headers.set(t,i.headers.get(t)),this.normalizedNames.set(t,i.normalizedNames.get(t))})}clone(i){const t=new ol;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ol?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([i]),t}applyUpdate(i){const t=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,t);const r=("a"===i.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const s=i.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(l=>-1===s.indexOf(l)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(i,t){const n=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=i.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>i(this.normalizedNames.get(t),this.headers.get(t)))}}class G1t{encodeKey(i){return o7(i)}encodeValue(i){return o7(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const W1t=/%(\d[a-f0-9])/gi,j1t={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function o7(e){return encodeURIComponent(e).replace(W1t,(i,t)=>j1t[t]??i)}function bS(e){return`${e}`}class Ed{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new G1t,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function H1t(e,i){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,l]=-1==s?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,s)),i.decodeValue(r.slice(s+1))],w=t.get(o)||[];w.push(l),t.set(o,w)}),t}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(t=>{const n=i.fromObject[t],r=Array.isArray(n)?n.map(bS):[bS(n)];this.map.set(t,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const t=this.map.get(i);return t?t[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,t){return this.clone({param:i,value:t,op:"a"})}appendAll(i){const t=[];return Object.keys(i).forEach(n=>{const r=i[n];Array.isArray(r)?r.forEach(s=>{t.push({param:n,value:s,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(i,t){return this.clone({param:i,value:t,op:"s"})}delete(i,t){return this.clone({param:i,value:t,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const t=this.encoder.encodeKey(i);return this.map.get(i).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const t=new Ed({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(i),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const t=("a"===i.op?this.map.get(i.param):void 0)||[];t.push(bS(i.value)),this.map.set(i.param,t);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const r=n.indexOf(bS(i.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class X1t{constructor(){this.map=new Map}set(i,t){return this.map.set(i,t),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function l7(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function c7(e){return typeof Blob<"u"&&e instanceof Blob}function u7(e){return typeof FormData<"u"&&e instanceof FormData}class Nx{constructor(i,t,n,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function Y1t(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ol,this.context??=new X1t,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+o}}else this.params=new Ed,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||l7(this.body)||c7(this.body)||u7(this.body)||function $1t(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ed?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||u7(this.body)?null:c7(this.body)?this.body.type||null:l7(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ed?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const t=i.method||this.method,n=i.url||this.url,r=i.responseType||this.responseType,s=i.transferCache??this.transferCache,o=void 0!==i.body?i.body:this.body,l=i.withCredentials??this.withCredentials,w=i.reportProgress??this.reportProgress;let E=i.headers||this.headers,D=i.params||this.params;const k=i.context??this.context;return void 0!==i.setHeaders&&(E=Object.keys(i.setHeaders).reduce((O,L)=>O.set(L,i.setHeaders[L]),E)),i.setParams&&(D=Object.keys(i.setParams).reduce((O,L)=>O.set(L,i.setParams[L]),D)),new Nx(t,n,o,{params:D,headers:E,context:k,reportProgress:w,responseType:r,withCredentials:l,transferCache:s})}}var _d=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(_d||{});class fP{constructor(i,t=200,n="OK"){this.headers=i.headers||new ol,this.status=void 0!==i.status?i.status:t,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class wS extends fP{constructor(i={}){super(i),this.type=_d.ResponseHeader}clone(i={}){return new wS({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class dp extends fP{constructor(i={}){super(i),this.type=_d.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new dp({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class lv extends fP{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function pP(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let Il=(()=>{class e{constructor(t){this.handler=t}request(t,n,r={}){let s;if(t instanceof Nx)s=t;else{let w,E;w=r.headers instanceof ol?r.headers:new ol(r.headers),r.params&&(E=r.params instanceof Ed?r.params:new Ed({fromObject:r.params})),s=new Nx(t,n,void 0!==r.body?r.body:null,{headers:w,context:r.context,params:E,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=wi(s).pipe(Kg(w=>this.handler.handle(w)));if(t instanceof Nx||"events"===r.observe)return o;const l=o.pipe(Ln(w=>w instanceof dp));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Ri(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return l.pipe(Ri(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return l.pipe(Ri(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return l.pipe(Ri(w=>w.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new Ed).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,r={}){return this.request("PATCH",t,pP(r,n))}post(t,n,r={}){return this.request("POST",t,pP(r,n))}put(t,n,r={}){return this.request("PUT",t,pP(r,n))}static{this.\u0275fac=function(n){return new(n||e)(re(yS))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();const Z1t=/^\)\]\}',?\n/;function d7(e){if(e.url)return e.url;const i="X-Request-URL".toLocaleLowerCase();return e.headers.get(i)}let mP=(()=>{class e{constructor(){this.fetchImpl=Jt(q1t,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=Jt(li)}handle(t){return new dr(n=>{const r=new AbortController;return this.doRequest(t,r.signal,n).then(gP,s=>n.error(new lv({error:s}))),()=>r.abort()})}doRequest(t,n,r){var s=this;return we(function*(){const o=s.createRequestInit(t);let l;try{const U=s.ngZone.runOutsideAngular(()=>s.fetchImpl(t.urlWithParams,{signal:n,...o}));(function twt(e){e.then(gP,gP)})(U),r.next({type:_d.Sent}),l=yield U}catch(U){return void r.error(new lv({error:U,status:U.status??0,statusText:U.statusText,url:t.urlWithParams,headers:U.headers}))}const w=new ol(l.headers),E=l.statusText,D=d7(l)??t.urlWithParams;let k=l.status,O=null;if(t.reportProgress&&r.next(new wS({headers:w,status:k,statusText:E,url:D})),l.body){const U=l.headers.get("content-length"),j=[],W=l.body.getReader();let rt,st,Z=0;const yt=typeof Zone<"u"&&Zone.current;yield s.ngZone.runOutsideAngular(we(function*(){for(;;){const{done:It,value:ft}=yield W.read();if(It)break;if(j.push(ft),Z+=ft.length,t.reportProgress){st="text"===t.responseType?(st??"")+(rt??=new TextDecoder).decode(ft,{stream:!0}):void 0;const ht=()=>r.next({type:_d.DownloadProgress,total:U?+U:void 0,loaded:Z,partialText:st});yt?yt.run(ht):ht()}}}));const Tt=s.concatChunks(j,Z);try{const It=l.headers.get("Content-Type")??"";O=s.parseBody(t,Tt,It)}catch(It){return void r.error(new lv({error:It,headers:new ol(l.headers),status:l.status,statusText:l.statusText,url:d7(l)??t.urlWithParams}))}}0===k&&(k=O?200:0),k>=200&&k<300?(r.next(new dp({body:O,headers:w,status:k,statusText:E,url:D})),r.complete()):r.error(new lv({error:O,headers:w,status:k,statusText:E,url:D}))})()}parseBody(t,n,r){switch(t.responseType){case"json":const s=(new TextDecoder).decode(n).replace(Z1t,"");return""===s?null:JSON.parse(s);case"text":return(new TextDecoder).decode(n);case"blob":return new Blob([n],{type:r});case"arraybuffer":return n.buffer}}createRequestInit(t){const n={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>n[s]=o.join(",")),t.headers.has("Accept")||(n.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){const s=t.detectContentTypeHeader();null!==s&&(n["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:n,credentials:r}}concatChunks(t,n){const r=new Uint8Array(n);let s=0;for(const o of t)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();class q1t{}function gP(){}function f7(e,i){return i(e)}function ewt(e,i){return(t,n)=>i.intercept(t,{handle:r=>e(r,n)})}const nwt=new te(""),Bx=new te(""),p7=new te(""),m7=new te("",{providedIn:"root",factory:()=>!0});function rwt(){let e=null;return(i,t)=>{null===e&&(e=(Jt(nwt,{optional:!0})??[]).reduceRight(ewt,f7));const n=Jt(Zu);if(Jt(m7)){const s=n.add();return e(i,t).pipe(Zg(()=>n.remove(s)))}return e(i,t)}}let g7=(()=>{class e extends yS{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=Jt(Zu),this.contributeToStability=Jt(m7)}handle(t){if(null===this.chain){const n=Array.from(new Set([...this.injector.get(Bx),...this.injector.get(p7,[])]));this.chain=n.reduceRight((r,s)=>function iwt(e,i,t){return(n,r)=>Zc(t,()=>i(n,s=>e(s,r)))}(r,s,this.injector),f7)}if(this.contributeToStability){const n=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Zg(()=>this.pendingTasks.remove(n)))}return this.chain(t,n=>this.backend.handle(n))}static{this.\u0275fac=function(n){return new(n||e)(re(xS),re(za))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();const cwt=/^\)\]\}',?\n/;let y7=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new pe(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?Zs(n.\u0275loadImpl()):wi(null)).pipe(ks(()=>new dr(s=>{const o=n.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((j,W)=>o.setRequestHeader(j,W.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const j=t.detectContentTypeHeader();null!==j&&o.setRequestHeader("Content-Type",j)}if(t.responseType){const j=t.responseType.toLowerCase();o.responseType="json"!==j?j:"text"}const l=t.serializeBody();let w=null;const E=()=>{if(null!==w)return w;const j=o.statusText||"OK",W=new ol(o.getAllResponseHeaders()),Z=function uwt(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||t.url;return w=new wS({headers:W,status:o.status,statusText:j,url:Z}),w},D=()=>{let{headers:j,status:W,statusText:Z,url:rt}=E(),st=null;204!==W&&(st=typeof o.response>"u"?o.responseText:o.response),0===W&&(W=st?200:0);let yt=W>=200&&W<300;if("json"===t.responseType&&"string"==typeof st){const Tt=st;st=st.replace(cwt,"");try{st=""!==st?JSON.parse(st):null}catch(It){st=Tt,yt&&(yt=!1,st={error:It,text:st})}}yt?(s.next(new dp({body:st,headers:j,status:W,statusText:Z,url:rt||void 0})),s.complete()):s.error(new lv({error:st,headers:j,status:W,statusText:Z,url:rt||void 0}))},k=j=>{const{url:W}=E(),Z=new lv({error:j,status:o.status||0,statusText:o.statusText||"Unknown Error",url:W||void 0});s.error(Z)};let O=!1;const L=j=>{O||(s.next(E()),O=!0);let W={type:_d.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(W.total=j.total),"text"===t.responseType&&o.responseText&&(W.partialText=o.responseText),s.next(W)},U=j=>{let W={type:_d.UploadProgress,loaded:j.loaded};j.lengthComputable&&(W.total=j.total),s.next(W)};return o.addEventListener("load",D),o.addEventListener("error",k),o.addEventListener("timeout",k),o.addEventListener("abort",k),t.reportProgress&&(o.addEventListener("progress",L),null!==l&&o.upload&&o.upload.addEventListener("progress",U)),o.send(l),s.next({type:_d.Sent}),()=>{o.removeEventListener("error",k),o.removeEventListener("abort",k),o.removeEventListener("load",D),o.removeEventListener("timeout",k),t.reportProgress&&(o.removeEventListener("progress",L),null!==l&&o.upload&&o.upload.removeEventListener("progress",U)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(n){return new(n||e)(re(oG))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();const vP=new te(""),x7=new te("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),b7=new te("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class w7{}let fwt=(()=>{class e{constructor(t,n,r){this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yz(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(n){return new(n||e)(re(Gi),re(nu),re(x7))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();function pwt(e,i){const t=e.url.toLowerCase();if(!Jt(vP)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return i(e);const n=Jt(w7).getToken(),r=Jt(b7);return null!=n&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),i(e)}var Ad=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Ad||{});function fp(e,i){return{\u0275kind:e,\u0275providers:i}}function mwt(...e){const i=[Il,y7,g7,{provide:yS,useExisting:g7},{provide:xS,useFactory:()=>Jt(mP,{optional:!0})??Jt(y7)},{provide:Bx,useValue:pwt,multi:!0},{provide:vP,useValue:!0},{provide:w7,useClass:fwt}];for(const t of e)i.push(...t.\u0275providers);return function ry(e){return{\u0275providers:e}}(i)}const T7=new te("");let yP;try{yP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yP=!1}let cv,cr=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?sG(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(n){return new(n||e)(re(nu))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const I7=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function R7(){if(cv)return cv;if("object"!=typeof document||!document)return cv=new Set(I7),cv;let e=document.createElement("input");return cv=new Set(I7.filter(i=>(e.setAttribute("type",i),e.type===i))),cv}let Vx;function rc(e){return function Ewt(){if(null==Vx&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vx=!0}))}finally{Vx=Vx||!1}return Vx}()?e:!!e.capture}var gu=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(gu||{});let CS,pp,xP;function P7(){if(null==pp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return pp=!1,pp;if("scrollBehavior"in document.documentElement.style)pp=!0;else{const e=Element.prototype.scrollTo;pp=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return pp}function Ux(){if("object"!=typeof document||!document)return gu.NORMAL;if(null==CS){const e=document.createElement("div"),i=e.style;e.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",e.appendChild(t),document.body.appendChild(e),CS=gu.NORMAL,0===e.scrollLeft&&(e.scrollLeft=1,CS=0===e.scrollLeft?gu.NEGATED:gu.INVERTED),e.remove()}return CS}function SS(e){if(function _wt(){if(null==xP){const e=typeof document<"u"?document.head:null;xP=!(!e||!e.createShadowRoot&&!e.attachShadow)}return xP}()){const i=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function ES(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const i=e.shadowRoot.activeElement;if(i===e)break;e=i}return e}function Wo(e){return e.composedPath?e.composedPath()[0]:e.target}function bP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function co(e,...i){return i.length?i.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}class Vwt extends Pe{constructor(i,t){super()}schedule(i,t=0){return this}}const DS={setInterval(e,i,...t){const{delegate:n}=DS;return n?.setInterval?n.setInterval(e,i,...t):setInterval(e,i,...t)},clearInterval(e){const{delegate:i}=DS;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};class TP extends Vwt{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var n;if(this.closed)return this;this.state=i;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this}requestAsyncId(i,t,n=0){return DS.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&DS.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let r,n=!1;try{this.work(i)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ye(n,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}class Gx{constructor(i,t=Gx.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,n){return new this.schedulerActionCtor(this,i).schedule(n,t)}}Gx.now=dP.now;class CP extends Gx{constructor(i,t=Gx.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,n){for(;i=t.shift();)i.unsubscribe();throw n}}}const Hx=new CP(TP),Uwt=Hx;function vu(e,i=Hx){return gs((t,n)=>{let r=null,s=null,o=null;const l=()=>{if(r){r.unsubscribe(),r=null;const E=s;s=null,n.next(E)}};function w(){const E=o+e,D=i.now();if(D<E)return r=this.schedule(void 0,E-D),void n.add(r);l()}t.subscribe(Zr(n,E=>{s=E,o=i.now(),r||(r=i.schedule(w,e),n.add(r))},()=>{l(),n.complete()},void 0,()=>{s=r=null}))})}function SP(e){return Ln((i,t)=>e<=t)}function mp(e,i=ad){return e=e??zwt,gs((t,n)=>{let r,s=!0;t.subscribe(Zr(n,o=>{const l=i(o);(s||!e(r,l))&&(s=!1,r=l,n.next(o))}))})}function zwt(e,i){return e===i}function pa(e){return null!=e&&"false"!=`${e}`}function Id(e,i=0){return O7(e)?Number(e):2===arguments.length?i:0}function O7(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Wx(e){return Array.isArray(e)?e:[e]}function qs(e){return null==e?"":"string"==typeof e?e:`${e}px`}function uo(e){return e instanceof ai?e.nativeElement:e}let L7=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Hwt=(()=>{class e{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map,this._ngZone=Jt(li)}ngOnDestroy(){this._observedElements.forEach((t,n)=>this._cleanupObserver(n))}observe(t){const n=uo(t);return new dr(r=>{const o=this._observeElement(n).pipe(Ri(l=>l.filter(w=>!function Gwt(e){if("characterData"===e.type&&e.target instanceof Comment)return!0;if("childList"===e.type){for(let i=0;i<e.addedNodes.length;i++)if(!(e.addedNodes[i]instanceof Comment))return!1;for(let i=0;i<e.removedNodes.length;i++)if(!(e.removedNodes[i]instanceof Comment))return!1;return!0}return!1}(w))),Ln(l=>!!l.length)).subscribe(l=>{this._ngZone.run(()=>{r.next(l)})});return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(t){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const n=new Fe,r=this._mutationObserverFactory.create(s=>n.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:n,count:1})}return this._observedElements.get(t).stream})}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:n,stream:r}=this._observedElements.get(t);n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}static{this.\u0275fac=function(n){return new(n||e)(re(L7))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),N7=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Id(t),this._subscribe()}constructor(t,n){this._contentObserver=t,this._elementRef=n,this.event=new Oe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?t.pipe(vu(this.debounce)):t).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(pt(Hwt),pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",qe],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[vn]})}}return e})(),EP=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[L7]})}}return e})();const B7=new Set;let gp,Wwt=(()=>{class e{constructor(t,n){this._platform=t,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xwt}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function jwt(e,i){if(!B7.has(e))try{gp||(gp=document.createElement("style"),i&&gp.setAttribute("nonce",i),gp.setAttribute("type","text/css"),document.head.appendChild(gp)),gp.sheet&&(gp.sheet.insertRule(`@media ${e} {body{ }}`,0),B7.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(n){return new(n||e)(re(cr),re(HM,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Xwt(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let _P=(()=>{class e{constructor(t,n){this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new Fe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return V7(Wx(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=oh(V7(Wx(t)).map(o=>this._registerQuery(o).observable));return s=wx(s.pipe(xs(1)),s.pipe(SP(1),vu(0))),s.pipe(Ri(o=>{const l={matches:!1,breakpoints:{}};return o.forEach(({matches:w,query:E})=>{l.matches=l.matches||w,l.breakpoints[E]=w}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const n=this._mediaMatcher.matchMedia(t),s={observable:new dr(o=>{const l=w=>this._zone.run(()=>o.next(w));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(Ma(n),Ri(({matches:o})=>({query:t,matches:o})),Yi(this._destroySubject)),mql:n};return this._queries.set(t,s),s}static{this.\u0275fac=function(n){return new(n||e)(re(Wwt),re(li))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function V7(e){return e.map(i=>i.split(",")).reduce((i,t)=>i.concat(t)).map(i=>i.trim())}function MS(e,i,t){const n=IS(e,i);t=t.trim(),!n.some(r=>r.trim()===t)&&(n.push(t),e.setAttribute(i,n.join(" ")))}function hv(e,i,t){const n=IS(e,i);t=t.trim();const r=n.filter(s=>s!==t);r.length?e.setAttribute(i,r.join(" ")):e.removeAttribute(i)}function IS(e,i){return e.getAttribute(i)?.match(/\S+/g)??[]}const G7="cdk-describedby-message",RS="cdk-describedby-host";let AP=0,H7=(()=>{class e{constructor(t,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+AP++,this._document=t,this._id=Jt(Vf)+"-"+AP++}describe(t,n,r){if(!this._canBeDescribed(t,n))return;const s=DP(n,r);"string"!=typeof n?(W7(n,this._id),this._messageRegistry.set(s,{messageElement:n,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(n,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,n,r){if(!n||!this._isElementNode(t))return;const s=DP(n,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof n){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${RS}="${this._id}"]`);for(let n=0;n<t.length;n++)this._removeCdkDescribedByReferenceIds(t[n]),t[n].removeAttribute(RS);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,n){const r=this._document.createElement("div");W7(r,this._id),r.textContent=t,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(DP(t,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<n.length;s++)n[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const n=IS(t,"aria-describedby").filter(r=>0!=r.indexOf(G7));t.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(t,n){const r=this._messageRegistry.get(n);MS(t,"aria-describedby",r.messageElement.id),t.setAttribute(RS,this._id),r.referenceCount++}_removeMessageReference(t,n){const r=this._messageRegistry.get(n);r.referenceCount--,hv(t,"aria-describedby",r.messageElement.id),t.removeAttribute(RS)}_isElementDescribedByMessage(t,n){const r=IS(t,"aria-describedby"),s=this._messageRegistry.get(n),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(t,n){if(!this._isElementNode(t))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(n){return new(n||e)(re(Gi),re(cr))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function DP(e,i){return"string"==typeof e?`${i||""}/${e}`:e}function W7(e,i){e.id||(e.id=`${G7}-${i}-${AP++}`)}class j7{constructor(i,t){this._letterKeyStream=new Fe,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Fe,this.selectedItem=this._selectedItem;const n="number"==typeof t?.debounceInterval?t.debounceInterval:200;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(i),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(i){this._selectedItemIndex=i}setItems(i){this._items=i}handleKey(i){const t=i.keyCode;i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(i){this._letterKeyStream.pipe(cs(t=>this._pressedLetters.push(t)),vu(i),Ln(()=>this._pressedLetters.length>0),Ri(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let n=1;n<this._items.length+1;n++){const s=this._items[(this._selectedItemIndex+n)%this._items.length];if(!this._skipPredicateFn?.(s)&&0===s.getLabel?.().toLocaleUpperCase().trim().indexOf(t)){this._selectedItem.next(s);break}}this._pressedLetters=[]})}}class X7{constructor(i,t){this._items=i,this._activeItemIndex=-1,this._activeItem=au(null),this._wrap=!1,this._typeaheadSubscription=Pe.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this.tabOut=new Fe,this.change=new Fe,i instanceof Ju?this._itemChangesSubscription=i.changes.subscribe(n=>this._itemsChanged(n.toArray())):jT(i)&&(this._effectRef=function kz(e,i){Vo("NgSignals"),!i?.injector&&sM();const t=i?.injector??Jt(On),n=!0!==i?.manualCleanup?t.get(vy):null,r=new lvt(t.get(svt),e,typeof Zone>"u"?null:Zone.current,n,t,i?.allowSignalWrites??!1),s=t.get(In,null,{optional:!0});return s&&8&s._lView[zi]?(s._lView[$w]??=[]).push(r.watcher.notify):r.watcher.notify(),r}(()=>this._itemsChanged(i()),{injector:t}))}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){this._typeaheadSubscription.unsubscribe();const t=this._getItemsArray();return this._typeahead=new j7(t,{debounceInterval:"number"==typeof i?i:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,t=10){return this._pageUpAndDown={enabled:i,delta:t},this}setActiveItem(i){const t=this._activeItem();this.updateActiveItem(i),this._activeItem()!==t&&this.change.next(this._activeItemIndex)}onKeydown(i){const t=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!i[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||co(i,"shiftKey"))&&this._typeahead?.handleKey(i))}this._typeahead?.reset(),i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const t=this._getItemsArray(),n="number"==typeof i?i:t.indexOf(i);this._activeItem.set(t[n]??null),this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+i*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,t){const n=this._getItemsArray();if(n[i]){for(;this._skipPredicateFn(n[i]);)if(!n[i+=t])return;this.setActiveItem(i)}}_getItemsArray(){return jT(this._items)?this._items():this._items instanceof Ju?this._items.toArray():this._items}_itemsChanged(i){this._typeahead?.setItems(i);const t=this._activeItem();if(t){const n=i.indexOf(t);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}}class Y7 extends X7{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}}class MP extends X7{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let PS=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Jwt(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const n=function Zwt(e){try{return e.frameElement}catch{return null}}(function aTt(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(n&&(-1===Z7(n)||!this.isVisible(n)))return!1;let r=t.nodeName.toLowerCase(),s=Z7(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function rTt(e){let i=e.nodeName.toLowerCase(),t="input"===i&&e.type;return"text"===t||"password"===t||"select"===i||"textarea"===i}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,n){return function sTt(e){return!function tTt(e){return function iTt(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function qwt(e){let i=e.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(e)||function eTt(e){return function nTt(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||K7(e))}(t)&&!this.isDisabled(t)&&(n?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(n){return new(n||e)(re(cr))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function K7(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let i=e.getAttribute("tabindex");return!(!i||isNaN(parseInt(i,10)))}function Z7(e){if(!K7(e))return null;const i=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class J7{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,t,n,r,s=!1,o){this._element=i,this._checker=t,this._ngZone=n,this._document=r,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const i=this._startAnchor,t=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){const t=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return"start"==i?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return n?.focus(i),!!n}return t.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const t=this._getRegionBoundary("start");return t&&t.focus(i),!!t}focusLastTabbableElement(i){const t=this._getRegionBoundary("end");return t&&t.focus(i),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let n=0;n<t.length;n++){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let n=t.length-1;n>=0;n--){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,t){i?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._injector?ao(i,{injector:this._injector}):setTimeout(i)}}let IP=(()=>{class e{constructor(t,n,r){this._checker=t,this._ngZone=n,this._injector=Jt(On),this._document=r}create(t,n=!1){return new J7(t,this._checker,this._ngZone,this._document,n,this._injector)}static{this.\u0275fac=function(n){return new(n||e)(re(PS),re(li),re(Gi))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function kS(e){return 0===e.buttons||0===e.detail}function FS(e){const i=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const oTt=new te("cdk-input-modality-detector-options"),lTt={ignoreKeys:[18,17,224,91,16]},dv=rc({passive:!0,capture:!0});let cTt=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,n,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Kr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(l=>l===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Wo(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kS(o)?"keyboard":"mouse"),this._mostRecentTarget=Wo(o))},this._onTouchstart=o=>{FS(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Wo(o))},this._options={...lTt,...s},this.modalityDetected=this._modality.pipe(SP(1)),this.modalityChanged=this.modalityDetected.pipe(mp()),t.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dv),r.addEventListener("mousedown",this._onMousedown,dv),r.addEventListener("touchstart",this._onTouchstart,dv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dv),document.removeEventListener("mousedown",this._onMousedown,dv),document.removeEventListener("touchstart",this._onTouchstart,dv))}static{this.\u0275fac=function(n){return new(n||e)(re(cr),re(li),re(Gi),re(oTt,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const uTt=new te("liveAnnouncerElement",{providedIn:"root",factory:function hTt(){return null}}),dTt=new te("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let fTt=0,tW=(()=>{class e{constructor(t,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",n=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+fTt++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static{this.\u0275fac=function(n){return new(n||e)(re(uTt,8),re(li),re(Gi),re(dTt,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var OS=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(OS||{});const pTt=new te("cdk-focus-monitor-default-options"),LS=rc({passive:!0,capture:!0});let sc=(()=>{class e{constructor(t,n,r,s,o){this._ngZone=t,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Fe,this._rootNodeFocusAndBlurListener=l=>{for(let E=Wo(l);E;E=E.parentElement)"focus"===l.type?this._onFocus(l,E):this._onBlur(l,E)},this._document=s,this._detectionMode=o?.detectionMode||OS.IMMEDIATE}monitor(t,n=!1){const r=uo(t);if(!this._platform.isBrowser||1!==r.nodeType)return wi();const s=SS(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const l={checkChildren:n,subject:new Fe,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const n=uo(t),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(t,n,r){const s=uo(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,w])=>this._originChanged(l,n,w)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===OS.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,this._detectionMode===OS.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const r=this._elementInfo.get(n),s=Wo(t);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(t,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(t,n){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,LS),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,LS)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Yi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,LS),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,LS),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,r){this._setClasses(t,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(n))return!0;return!1}static{this.\u0275fac=function(n){return new(n||e)(re(li),re(cr),re(cTt),re(Gi,8),re(pTt,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mTt=(()=>{class e{constructor(t,n){this._elementRef=t,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new Oe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(sc))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}}return e})();var vp=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(vp||{});const eW="cdk-high-contrast-black-on-white",iW="cdk-high-contrast-white-on-black",RP="cdk-high-contrast-active";let nW=(()=>{class e{constructor(t,n){this._platform=t,this._document=n,this._breakpointSubscription=Jt(_P).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return vp.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return vp.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return vp.BLACK_ON_WHITE}return vp.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(RP,eW,iW),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();n===vp.BLACK_ON_WHITE?t.add(RP,eW):n===vp.WHITE_ON_BLACK&&t.add(RP,iW)}}static{this.\u0275fac=function(n){return new(n||e)(re(cr),re(Gi))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rW=(()=>{class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(n){return new(n||e)(re(nW))}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[EP]})}}return e})();const gTt=new te("cdk-dir-doc",{providedIn:"root",factory:function vTt(){return Jt(Gi)}}),yTt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ya=(()=>{class e{constructor(t){this.value="ltr",this.change=new Oe,t&&(this.value=function xTt(e){const i=e?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?yTt.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(n){return new(n||e)(re(gTt,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jx=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({})}}return e})();const bTt=["text"],wTt=[[["mat-icon"]],"*"],TTt=["mat-icon","*"];function CTt(e,i){if(1&e&&ye(0,"mat-pseudo-checkbox",1),2&e){const t=St();vt("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function STt(e,i){1&e&&ye(0,"mat-pseudo-checkbox",3),2&e&&vt("disabled",St().disabled)}function ETt(e,i){if(1&e&&(J(0,"span",4),ut(1),et()),2&e){const t=St();ot(),Je("(",t.group.label,")")}}const _Tt=["mat-internal-form-field",""],ATt=["*"];let DTt=(()=>{class e{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return e})(),MTt=(()=>{class e{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return e})();const RTt=new te("mat-sanity-checks",{providedIn:"root",factory:function ITt(){return!0}});let rn=(()=>{class e{constructor(t,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!bP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(n){return new(n||e)(re(nW),re(RTt,8),re(Gi))}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[jx,jx]})}}return e})();class PP{constructor(i,t,n,r,s){this._defaultMatcher=i,this.ngControl=t,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){const i=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=n?.isErrorState(r,t)??!1;s!==i&&(this.errorState=s,this._stateChanges.next())}}let oW=(()=>{class e{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ac=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(ac||{});class NTt{constructor(i,t,n,r=!1){this._renderer=i,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=ac.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const lW=rc({passive:!0,capture:!0});class BTt{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const t=Wo(i);t&&this._events.get(i.type)?.forEach((n,r)=>{(r===t||r.contains(t))&&n.forEach(s=>s.handleEvent(i))})}}addHandler(i,t,n,r){const s=this._events.get(t);if(s){const o=s.get(n);o?o.add(r):s.set(n,new Set([r]))}else this._events.set(t,new Map([[n,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,lW)})}removeHandler(i,t,n){const r=this._events.get(i);if(!r)return;const s=r.get(t);s&&(s.delete(n),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,lW)))}}const cW={enterDuration:225,exitDuration:150},uW=rc({passive:!0,capture:!0}),hW=["mousedown","touchstart"],dW=["mouseup","mouseleave","touchend","touchcancel"];class Yx{static{this._eventManager=new BTt}constructor(i,t,n,r){this._target=i,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=uo(n))}fadeInRipple(i,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...cW,...n.animation};n.centered&&(i=r.left+r.width/2,t=r.top+r.height/2);const o=n.radius||function UTt(e,i,t){const n=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),r=Math.max(Math.abs(i-t.top),Math.abs(i-t.bottom));return Math.sqrt(n*n+r*r)}(i,t,r),l=i-r.left,w=t-r.top,E=s.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=l-o+"px",D.style.top=w-o+"px",D.style.height=2*o+"px",D.style.width=2*o+"px",null!=n.color&&(D.style.backgroundColor=n.color),D.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(D);const k=window.getComputedStyle(D),L=k.transitionDuration,U="none"===k.transitionProperty||"0s"===L||"0s, 0s"===L||0===r.width&&0===r.height,j=new NTt(this,D,n,U);D.style.transform="scale3d(1, 1, 1)",j.state=ac.FADING_IN,n.persistent||(this._mostRecentTransientRipple=j);let W=null;return!U&&(E||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Z=()=>{W&&(W.fallbackTimer=null),clearTimeout(st),this._finishRippleTransition(j)},rt=()=>this._destroyRipple(j),st=setTimeout(rt,E+100);D.addEventListener("transitionend",Z),D.addEventListener("transitioncancel",rt),W={onTransitionEnd:Z,onTransitionCancel:rt,fallbackTimer:st}}),this._activeRipples.set(j,W),(U||!E)&&this._finishRippleTransition(j),j}fadeOutRipple(i){if(i.state===ac.FADING_OUT||i.state===ac.HIDDEN)return;const t=i.element,n={...cW,...i.config.animation};t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",i.state=ac.FADING_OUT,(i._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const t=uo(i);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,hW.forEach(n=>{Yx._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{dW.forEach(t=>{this._triggerElement.addEventListener(t,this,uW)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===ac.FADING_IN?this._startFadeOutTransition(i):i.state===ac.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){const t=i===this._mostRecentTransientRipple,{persistent:n}=i.config;i.state=ac.VISIBLE,!n&&(!t||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){const t=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=ac.HIDDEN,null!==t&&(i.element.removeEventListener("transitionend",t.onTransitionEnd),i.element.removeEventListener("transitioncancel",t.onTransitionCancel),null!==t.fallbackTimer&&clearTimeout(t.fallbackTimer)),i.element.remove()}_onMousedown(i){const t=kS(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!FS(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=i.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(i.state===ac.VISIBLE||i.config.terminateOnPointerUp&&i.state===ac.FADING_IN)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(hW.forEach(t=>Yx._eventManager.removeHandler(t,i,this)),this._pointerUpEventsRegistered&&(dW.forEach(t=>i.removeEventListener(t,this,uW)),this._pointerUpEventsRegistered=!1))}}const NS=new te("mat-ripple-global-options");let uh=(()=>{class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,n,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Yx(this,n,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(li),pt(cr),pt(NS,8),pt(Hr,8))}}static{this.\u0275dir=me({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&Ci("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return e})(),fv=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,rn]})}}return e})(),zTt=(()=>{class e{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(n){return new(n||e)(pt(Hr,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&Ci("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Wi],decls:0,vars:0,template:function(n,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return e})(),fW=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn]})}}return e})();const kP=new te("MAT_OPTION_PARENT_COMPONENT"),FP=new te("MatOptgroup");let GTt=0;class pW{constructor(i,t=!1){this.source=i,this.isUserInput=t}}let hh=(()=>{class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,n,r,s){this._element=t,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+GTt++,this.onSelectionChange=new Oe,this._stateChanges=new Fe}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!co(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new pW(this,t))}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(In),pt(kP,8),pt(FP,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-option"]],viewQuery:function(n,r){if(1&n&&ki(bTt,7),2&n){let s;He(s=We())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){1&n&&Ut("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&n&&(uu("id",r.id),_i("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Ci("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",qe]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[vn,Wi],ngContentSelectors:TTt,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){1&n&&(nr(wTt),Ht(0,CTt,1,2,"mat-pseudo-checkbox",1),Si(1),J(2,"span",2,0),Si(4,1),et(),Ht(5,STt,1,1,"mat-pseudo-checkbox",3)(6,ETt,2,1,"span",4),ye(7,"div",5)),2&n&&(Tn(r.multiple?0:-1),ot(5),Tn(r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),ot(),Tn(r.group&&r.group._inert?6:-1),ot(),vt("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[zTt,uh],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return e})();function mW(e,i,t){if(t.length){let n=i.toArray(),r=t.toArray(),s=0;for(let o=0;o<e+1;o++)n[o].group&&n[o].group===r[s]&&s++;return s}return 0}function gW(e,i,t,n){return e<t?e:e+i>t+n?Math.max(0,e-n+i):t}let BS=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[fv,rn,fW]})}}return e})();const vW={capture:!0},yW=["focus","mousedown","mouseenter","touchstart"],OP="mat-ripple-loader-uninitialized",LP="mat-ripple-loader-class-name",xW="mat-ripple-loader-centered",VS="mat-ripple-loader-disabled";let HTt=(()=>{class e{constructor(){this._document=Jt(Gi,{optional:!0}),this._animationMode=Jt(Hr,{optional:!0}),this._globalRippleOptions=Jt(NS,{optional:!0}),this._platform=Jt(cr),this._ngZone=Jt(li),this._hosts=new Map,this._onInteraction=t=>{const n=Wo(t);if(n instanceof HTMLElement){const r=n.closest(`[${OP}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(const t of yW)this._document?.addEventListener(t,this._onInteraction,vW)})}ngOnDestroy(){const t=this._hosts.keys();for(const n of t)this.destroyRipple(n);for(const n of yW)this._document?.removeEventListener(n,this._onInteraction,vW)}configureRipple(t,n){t.setAttribute(OP,this._globalRippleOptions?.namespace??""),(n.className||!t.hasAttribute(LP))&&t.setAttribute(LP,n.className||""),n.centered&&t.setAttribute(xW,""),n.disabled&&t.setAttribute(VS,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,n){const r=this._hosts.get(t);r?r.disabled=n:n?t.setAttribute(VS,""):t.removeAttribute(VS)}_createRipple(t){if(!this._document)return;const n=this._hosts.get(t);if(n)return n;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(LP)),t.append(r);const s=new uh(new ai(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=t,s.centered=t.hasAttribute(xW),s.disabled=t.hasAttribute(VS),this.attachRipple(t,s),s}attachRipple(t,n){t.removeAttribute(OP),this._hosts.set(t,n)}destroyRipple(t){const n=this._hosts.get(t);n&&(n.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),NP=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,r){2&n&&Ci("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Wi],attrs:_Tt,ngContentSelectors:ATt,decls:1,vars:0,template:function(n,r){1&n&&(nr(),Si(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}}return e})();const bW=["mat-button",""],wW=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],TW=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],CW=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",jTt=["mat-icon-button",""],XTt=["*"],YTt=new te("MAT_BUTTON_CONFIG"),$Tt=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let BP=(()=>{class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,n,r,s){this._elementRef=t,this._platform=n,this._ngZone=r,this._animationMode=s,this._focusMonitor=Jt(sc),this._rippleLoader=Jt(HTt),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const o=Jt(YTt,{optional:!0}),l=t.nativeElement,w=l.classList;this.disabledInteractive=o?.disabledInteractive??!1,this.color=o?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(const{attribute:E,mdcClasses:D}of $Tt)l.hasAttribute(E)&&w.add(...D)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(n){RT()}}static{this.\u0275dir=me({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",qe],disabled:[2,"disabled","disabled",qe],ariaDisabled:[2,"aria-disabled","ariaDisabled",qe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",qe]},features:[vn]})}}return e})(),QTt=(()=>{class e extends BP{constructor(t,n,r,s){super(t,n,r,s),this._haltDisabledEvents=o=>{this.disabled&&(o.preventDefault(),o.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:this.disabled||null}static{this.\u0275fac=function(n){RT()}}static{this.\u0275dir=me({type:e,inputs:{tabIndex:[2,"tabIndex","tabIndex",t=>null==t?void 0:jr(t)]},features:[vn,yi]})}}return e})(),Cs=(()=>{class e extends BP{constructor(t,n,r,s){super(t,n,r,s)}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(cr),pt(li),pt(Hr,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){2&n&&(_i("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),oo(r.color?"mat-"+r.color:""),Ci("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[yi,Wi],attrs:bW,ngContentSelectors:TW,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(nr(wW),ye(0,"span",0),Si(1),J(2,"span",1),Si(3,1),et(),Si(4,2),ye(5,"span",2)(6,"span",3)),2&n&&Ci("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return e})(),KTt=(()=>{class e extends QTt{constructor(t,n,r,s){super(t,n,r,s)}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(cr),pt(li),pt(Hr,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,r){2&n&&(_i("disabled",r._getDisabledAttribute())("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-disabled",r._getAriaDisabled()),oo(r.color?"mat-"+r.color:""),Ci("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[yi,Wi],attrs:bW,ngContentSelectors:TW,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(nr(wW),ye(0,"span",0),Si(1),J(2,"span",1),Si(3,1),et(),Si(4,2),ye(5,"span",2)(6,"span",3)),2&n&&Ci("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',CW],encapsulation:2,changeDetection:0})}}return e})(),jo=(()=>{class e extends BP{constructor(t,n,r,s){super(t,n,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(cr),pt(li),pt(Hr,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,r){2&n&&(_i("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),oo(r.color?"mat-"+r.color:""),Ci("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[yi,Wi],attrs:jTt,ngContentSelectors:XTt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(nr(),ye(0,"span",0),Si(1),ye(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',CW],encapsulation:2,changeDetection:0})}}return e})(),VP=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,fv,rn]})}}return e})();var sn=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(sn||{});const dh="*";function xr(e,i){return{type:sn.Trigger,name:e,definitions:i,options:{}}}function mn(e,i=null){return{type:sn.Animate,styles:i,timings:e}}function UP(e,i=null){return{type:sn.Group,steps:e,options:i}}function oi(e){return{type:sn.Style,styles:e,offset:null}}function Bn(e,i,t){return{type:sn.State,name:e,styles:i,options:t}}function pv(e){return{type:sn.Keyframes,steps:e}}function gn(e,i,t=null){return{type:sn.Transition,expr:e,animation:i,options:t}}function US(e=null){return{type:sn.AnimateChild,options:e}}function zS(e,i,t=null){return{type:sn.Query,selector:e,animation:i,options:t}}class $x{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class SW{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,n=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){const i=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class GP{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class mv extends GP{constructor(i,t,n,r,s){super(),this.component=i,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=s}}class fh extends GP{constructor(i,t,n,r){super(),this.templateRef=i,this.viewContainerRef=t,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,t=this.context){return this.context=t,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class nCt extends GP{constructor(i){super(),this.element=i instanceof ai?i.nativeElement:i}}class GS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof mv?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof fh?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof nCt?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rCt extends GS{constructor(i,t,n,r,s){super(),this.outletElement=i,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const l=o.element,w=this._document.createComment("dom-portal");l.parentNode.insertBefore(w,l),this.outletElement.appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(l,w)})},this._document=s}attachComponentPortal(i){const n=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let r;return i.viewContainerRef?(r=i.viewContainerRef.createComponent(n,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(i.injector||this._defaultInjector||On.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=i,r}attachTemplatePortal(i){let t=i.viewContainerRef,n=t.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(n);-1!==r&&t.remove(r)}),this._attachedPortal=i,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let sCt=(()=>{class e extends fh{constructor(t,n){super(t,n)}static{this.\u0275fac=function(n){return new(n||e)(pt(yr),pt(Or))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[yi]})}}return e})(),ph=(()=>{class e extends GS{constructor(t,n,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new Oe,this.attachDomPortal=s=>{const o=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(l,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(o,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=n.createComponent(s,n.length,t.injector||n.injector,t.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(n){return new(n||e)(pt(Qf),pt(Or),pt(Gi))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[yi]})}}return e})(),gv=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({})}}return e})();const aCt=["addListener","removeListener"],oCt=["addEventListener","removeEventListener"],lCt=["on","off"];function Bc(e,i,t,n){if(ae(t)&&(n=t,t=void 0),n)return Bc(e,i,t).pipe(LR(n));const[r,s]=function hCt(e){return ae(e.addEventListener)&&ae(e.removeEventListener)}(e)?oCt.map(o=>l=>e[o](i,l,t)):function cCt(e){return ae(e.addListener)&&ae(e.removeListener)}(e)?aCt.map(EW(e,i)):function uCt(e){return ae(e.on)&&ae(e.off)}(e)?lCt.map(EW(e,i)):[];if(!r&&FR(e))return Da(o=>Bc(o,i,t))(lo(e));if(!r)throw new TypeError("Invalid event target");return new dr(o=>{const l=(...w)=>o.next(1<w.length?w:w[0]);return r(l),()=>s(l)})}function EW(e,i){return t=>n=>e[t](i,n)}const Qx={schedule(e){let i=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:n}=Qx;n&&(i=n.requestAnimationFrame,t=n.cancelAnimationFrame);const r=i(s=>{t=void 0,e(s)});return new Pe(()=>t?.(r))},requestAnimationFrame(...e){const{delegate:i}=Qx;return(i?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:i}=Qx;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},_W=new class fCt extends CP{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw r}}}(class dCt extends TP{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=Qx.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:s}=i;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Qx.cancelAnimationFrame(t),i._scheduled=void 0)}});let HP,pCt=1;const HS={};function AW(e){return e in HS&&(delete HS[e],!0)}const mCt={setImmediate(e){const i=pCt++;return HS[i]=!0,HP||(HP=Promise.resolve()),HP.then(()=>AW(i)&&e()),i},clearImmediate(e){AW(e)}},{setImmediate:gCt,clearImmediate:vCt}=mCt,WS={setImmediate(...e){const{delegate:i}=WS;return(i?.setImmediate||gCt)(...e)},clearImmediate(e){const{delegate:i}=WS;return(i?.clearImmediate||vCt)(e)},delegate:void 0},WP=new class xCt extends CP{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw r}}}(class yCt extends TP{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=WS.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:s}=i;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(WS.clearImmediate(t),i._scheduled===t&&(i._scheduled=void 0))}});function Kx(e=0,i,t=Uwt){let n=-1;return null!=i&&(QG(i)?t=i:n=i),new dr(r=>{let s=function wCt(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function DW(e,i=Hx){return function bCt(e){return gs((i,t)=>{let n=!1,r=null,s=null,o=!1;const l=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const E=r;r=null,t.next(E)}o&&t.complete()},w=()=>{s=null,o&&t.complete()};i.subscribe(Zr(t,E=>{n=!0,r=E,s||lo(e(E)).subscribe(s=Zr(t,l,w))},()=>{o=!0,(!n||!s||s.closed)&&t.complete()}))})}(()=>Kx(e,i))}let Zx=(()=>{class e{constructor(t,n,r){this._ngZone=t,this._platform=n,this._scrolled=new Fe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new dr(n=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(DW(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):wi()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(Ln(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=uo(n),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(n){return new(n||e)(re(li),re(cr),re(Gi,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jx=(()=>{class e{constructor(t,n,r,s){this.elementRef=t,this.scrollDispatcher=n,this.ngZone=r,this.dir=s,this._destroyed=new Fe,this._elementScrolled=new dr(o=>this.ngZone.runOutsideAngular(()=>Bc(this.elementRef.nativeElement,"scroll").pipe(Yi(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),r&&Ux()!=gu.NORMAL?(null!=t.left&&(t.right=n.scrollWidth-n.clientWidth-t.left),Ux()==gu.INVERTED?t.left=t.right:Ux()==gu.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const n=this.elementRef.nativeElement;P7()?n.scrollTo(t):(null!=t.top&&(n.scrollTop=t.top),null!=t.left&&(n.scrollLeft=t.left))}measureScrollOffset(t){const n="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:n:"end"==t&&(t=o?n:r),o&&Ux()==gu.INVERTED?t==n?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&Ux()==gu.NEGATED?t==n?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==n?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(Zx),pt(li),pt(Ya,8))}}static{this.\u0275dir=me({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return e})(),mh=(()=>{class e{constructor(t,n,r){this._platform=t,this._change=new Fe,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(DW(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(n){return new(n||e)(re(cr),re(li),re(Gi,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gh=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({})}}return e})(),jP=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[jx,gh,jx,gh]})}}return e})();function MW(e,i=!1){return gs((t,n)=>{let r=0;t.subscribe(Zr(n,s=>{const o=e(s,r++);(o||i)&&n.next(s),!o&&n.complete()}))})}function qr(...e){const i=bx(e),t=function cxt(e,i){return"number"==typeof OR(e)?e.pop():i}(e,1/0),n=e;return n.length?1===n.length?lo(n[0]):Yg(t)(Zs(n,i)):al}const IW=P7();class SCt{constructor(i,t){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=qs(-this._previousScrollPosition.left),i.style.top=qs(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,n=i.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),IW&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),IW&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}}class ECt{constructor(i,t,n,r){this._scrollDispatcher=i,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0).pipe(Ln(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class RW{enable(){}disable(){}attach(){}}function XP(e,i){return i.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function PW(e,i){return i.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class _Ct{constructor(i,t,n,r){this._scrollDispatcher=i,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();XP(t,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ACt=(()=>{class e{constructor(t,n,r,s){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new RW,this.close=o=>new ECt(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new SCt(this._viewportRuler,this._document),this.reposition=o=>new _Ct(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(n){return new(n||e)(re(Zx),re(mh),re(li),re(Gi))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class vv{constructor(i){if(this.scrollStrategy=new RW,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const t=Object.keys(i);for(const n of t)void 0!==i[n]&&(this[n]=i[n])}}}class DCt{constructor(i,t){this.connectionPair=i,this.scrollableViewProperties=t}}let kW=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(n){return new(n||e)(re(Gi))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),MCt=(()=>{class e extends kW{constructor(t,n){super(t),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const l=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(n){return new(n||e)(re(Gi),re(li,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ICt=(()=>{class e extends kW{constructor(t,n,r){super(t),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Wo(s)},this._clickListener=s=>{const o=Wo(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const w=this._attachedOverlays.slice();for(let E=w.length-1;E>-1;E--){const D=w[E];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(FW(D.overlayElement,o)||FW(D.overlayElement,l))break;const k=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>k.next(s)):k.next(s)}}}add(t){if(super.add(t),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(n){return new(n||e)(re(Gi),re(cr),re(li,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function FW(e,i){const t=typeof ShadowRoot<"u"&&ShadowRoot;let n=i;for(;n;){if(n===e)return!0;n=t&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}let jS=(()=>{class e{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||bP()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(t),bP()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static{this.\u0275fac=function(n){return new(n||e)(re(Gi),re(cr))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class XS{constructor(i,t,n,r,s,o,l,w,E,D=!1,k){this._portalOutlet=i,this._host=t,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=l,this._location=w,this._outsideClickDispatcher=E,this._animationsDisabled=D,this._injector=k,this._backdropElement=null,this._backdropClick=new Fe,this._attachments=new Fe,this._detachments=new Fe,this._locationChanges=Pe.EMPTY,this._backdropClickHandler=O=>this._backdropClick.next(O),this._backdropTransitionendHandler=O=>{this._disposeBackdrop(O.target)},this._keydownEvents=new Fe,this._outsidePointerEvents=new Fe,this._renders=new Fe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=kc(()=>o2(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ao(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config={...this._config,...i},this._updateElementSize()}setDirection(i){this._config={...this._config,direction:i},this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=qs(this._config.width),i.height=qs(this._config.height),i.minWidth=qs(this._config.minWidth),i.minHeight=qs(this._config.minHeight),i.maxWidth=qs(this._config.maxWidth),i.maxHeight=qs(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const i=this._backdropElement;if(i){if(this._animationsDisabled)return void this._disposeBackdrop(i);i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,t,n){const r=Wx(t||[]).filter(s=>!!s);r.length&&(n?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const i=this._renders.pipe(Yi(qr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const OW="cdk-overlay-connected-position-bounding-box",RCt=/([A-Za-z%]+)$/;class PCt{get positions(){return this._preferredPositions}constructor(i,t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Fe,this._resizeSubscription=Pe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._validatePositions(),i.hostElement.classList.add(OW),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._originRect,t=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let o;for(let l of this._preferredPositions){let w=this._getOriginPoint(i,r,l),E=this._getOverlayPoint(w,t,l),D=this._getOverlayFit(E,t,n,l);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,w);this._canFitWithFlexibleDimensions(D,E,n)?s.push({position:l,origin:w,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(w,l)}):(!o||o.overlayFit.visibleArea<D.visibleArea)&&(o={overlayFit:D,overlayPoint:E,originPoint:w,position:l,overlayRect:t})}if(s.length){let l=null,w=-1;for(const E of s){const D=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);D>w&&(w=D,l=E)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(OW),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,t)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,t,n){let r,s;if("center"==n.originX)r=i.left+i.width/2;else{const o=this._isRtl()?i.right:i.left,l=this._isRtl()?i.left:i.right;r="start"==n.originX?o:l}return t.left<0&&(r-=t.left),s="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(i,t,n){let r,s;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:i.x+r,y:i.y+s}}_getOverlayFit(i,t,n,r){const s=NW(t);let{x:o,y:l}=i,w=this._getOffset(r,"x"),E=this._getOffset(r,"y");w&&(o+=w),E&&(l+=E);let O=0-l,L=l+s.height-n.height,U=this._subtractOverflows(s.width,0-o,o+s.width-n.width),j=this._subtractOverflows(s.height,O,L),W=U*j;return{visibleArea:W,isCompletelyWithinViewport:s.width*s.height===W,fitsInViewportVertically:j===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(i,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,s=n.right-t.x,o=LW(this._overlayRef.getConfig().minHeight),l=LW(this._overlayRef.getConfig().minWidth);return(i.fitsInViewportVertically||null!=o&&o<=r)&&(i.fitsInViewportHorizontally||null!=l&&l<=s)}return!1}_pushOverlayOnScreen(i,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const r=NW(t),s=this._viewportRect,o=Math.max(i.x+r.width-s.width,0),l=Math.max(i.y+r.height-s.height,0),w=Math.max(s.top-n.top-i.y,0),E=Math.max(s.left-n.left-i.x,0);let D=0,k=0;return D=r.width<=s.width?E||-o:i.x<this._viewportMargin?s.left-n.left-i.x:0,k=r.height<=s.height?w||-l:i.y<this._viewportMargin?s.top-n.top-i.y:0,this._previousPushAmount={x:D,y:k},{x:i.x+D,y:i.y+k}}_applyPosition(i,t){if(this._setTransformOrigin(i),this._setOverlayElementStyles(t,i),this._setBoundingBoxStyles(t,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){const n=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!function kCt(e,i){return e===i||e.isOriginClipped===i.isOriginClipped&&e.isOriginOutsideView===i.isOriginOutsideView&&e.isOverlayClipped===i.isOverlayClipped&&e.isOverlayOutsideView===i.isOverlayOutsideView}(this._lastScrollVisibility,n)){const r=new DCt(i,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=i.overlayY;n="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(i,t){const n=this._viewportRect,r=this._isRtl();let s,o,l,D,k,O;if("top"===t.overlayY)o=i.y,s=n.height-o+this._viewportMargin;else if("bottom"===t.overlayY)l=n.height-i.y+2*this._viewportMargin,s=n.height-l+this._viewportMargin;else{const L=Math.min(n.bottom-i.y+n.top,i.y),U=this._lastBoundingBoxSize.height;s=2*L,o=i.y-L,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(o=i.y-U/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)O=n.width-i.x+2*this._viewportMargin,D=i.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)k=i.x,D=n.right-i.x;else{const L=Math.min(n.right-i.x+n.left,i.x),U=this._lastBoundingBoxSize.width;D=2*L,k=i.x-L,D>U&&!this._isInitialRender&&!this._growAfterOpen&&(k=i.x-U/2)}return{top:o,left:k,bottom:l,right:O,width:D,height:s}}_setBoundingBoxStyles(i,t){const n=this._calculateBoundingBoxRect(i,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=qs(n.height),r.top=qs(n.top),r.bottom=qs(n.bottom),r.width=qs(n.width),r.left=qs(n.left),r.right=qs(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=qs(s)),o&&(r.maxWidth=qs(o))}this._lastBoundingBoxSize=n,yp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){yp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,t){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();yp(n,this._getExactOverlayY(t,i,D)),yp(n,this._getExactOverlayX(t,i,D))}else n.position="static";let l="",w=this._getOffset(t,"x"),E=this._getOffset(t,"y");w&&(l+=`translateX(${w}px) `),E&&(l+=`translateY(${E}px)`),n.transform=l.trim(),o.maxHeight&&(r?n.maxHeight=qs(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=qs(o.maxWidth):s&&(n.maxWidth="")),yp(this._pane.style,n)}_getExactOverlayY(i,t,n){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===i.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=qs(s.y),r}_getExactOverlayX(i,t,n){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=qs(s.x),r}_getScrollVisibility(){const i=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:PW(i,n),isOriginOutsideView:XP(i,n),isOverlayClipped:PW(t,n),isOverlayOutsideView:XP(t,n)}}_subtractOverflows(i,...t){return t.reduce((n,r)=>n-Math.max(r,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+i-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:i-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,t){return"x"===t?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Wx(i).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof ai)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const t=i.width||0,n=i.height||0;return{top:i.y,bottom:i.y+n,left:i.x,right:i.x+t,height:n,width:t}}}function yp(e,i){for(let t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}function LW(e){if("number"!=typeof e&&null!=e){const[i,t]=e.split(RCt);return t&&"px"!==t?null:parseFloat(i)}return e||null}function NW(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const BW="cdk-global-overlay-wrapper";class FCt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){const t=i.getConfig();this._overlayRef=i,this._width&&!t.width&&i.updateSize({width:this._width}),this._height&&!t.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(BW),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:l}=n,w=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),E=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),D=this._xPosition,k=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let L="",U="",j="";w?j="flex-start":"center"===D?(j="center",O?U=k:L=k):O?"left"===D||"end"===D?(j="flex-end",L=k):("right"===D||"start"===D)&&(j="flex-start",U=k):"left"===D||"start"===D?(j="flex-start",L=k):("right"===D||"end"===D)&&(j="flex-end",U=k),i.position=this._cssPosition,i.marginLeft=w?"0":L,i.marginTop=E?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=w?"0":U,t.justifyContent=j,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(BW),n.justifyContent=n.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let OCt=(()=>{class e{constructor(t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new FCt}flexibleConnectedTo(t){return new PCt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(n){return new(n||e)(re(mh),re(Gi),re(cr),re(jS))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LCt=0,Ss=(()=>{class e{constructor(t,n,r,s,o,l,w,E,D,k,O,L){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=l,this._ngZone=w,this._document=E,this._directionality=D,this._location=k,this._outsideClickDispatcher=O,this._animationsModuleType=L}create(t){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new vv(t);return o.direction=o.direction||this._directionality.value,new XS(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(za))}position(){return this._positionBuilder}_createPaneElement(t){const n=this._document.createElement("div");return n.id="cdk-overlay-"+LCt++,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ql)),new rCt(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(n){return new(n||e)(re(ACt),re(jS),re(Qf),re(OCt),re(MCt),re(On),re(li),re(Gi),re(Ya),re(ap),re(ICt),re(Hr,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const NCt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],VW=new te("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const e=Jt(Ss);return()=>e.scrollStrategies.reposition()}});let YS=(()=>{class e{constructor(t){this.elementRef=t}static{this.\u0275fac=function(n){return new(n||e)(pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return e})(),UW=(()=>{class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,n,r,s,o){this._overlay=t,this._dir=o,this._backdropSubscription=Pe.EMPTY,this._attachSubscription=Pe.EMPTY,this._detachSubscription=Pe.EMPTY,this._positionSubscription=Pe.EMPTY,this._disposeOnNavigation=!1,this._ngZone=Jt(li),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Oe,this.positionChange=new Oe,this.attach=new Oe,this.detach=new Oe,this.overlayKeydown=new Oe,this.overlayOutsideClick=new Oe,this._templatePortal=new fh(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=NCt);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!co(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{const r=this._getOriginElement(),s=Wo(n);(!r||r!==s&&!r.contains(s))&&this.overlayOutsideClick.next(n)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new vv({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof YS?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof YS?this.origin.elementRef.nativeElement:this.origin instanceof ai?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(MW(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(pt(Ss),pt(yr),pt(Or),pt(VW),pt(Ya,8))}}static{this.\u0275dir=me({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",qe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",qe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",qe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",qe],push:[2,"cdkConnectedOverlayPush","push",qe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",qe]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[vn,lr]})}}return e})();const VCt={provide:VW,deps:[Ss],useFactory:function BCt(e){return()=>e.scrollStrategies.reposition()}};let xp=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[Ss,VCt],imports:[jx,gv,jP,jP]})}}return e})();function UCt(e,i){if(1&e){const t=xe();J(0,"div",1)(1,"button",2),Ut("click",function(){return zt(t),Gt(St().action())}),ut(2),et()()}if(2&e){const t=St();ot(2),Je(" ",t.data.action," ")}}const zCt=["label"];function GCt(e,i){}const HCt=Math.pow(2,31)-1;class $S{constructor(i,t){this._overlayRef=t,this._afterDismissed=new Fe,this._afterOpened=new Fe,this._onAction=new Fe,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,HCt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const YP=new te("MatSnackBarData");class QS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let zW=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return e})(),GW=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return e})(),HW=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return e})(),WW=(()=>{class e{constructor(t,n){this.snackBarRef=t,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(n){return new(n||e)(pt($S),pt(YP))}}static{this.\u0275cmp=Ge({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Wi],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){1&n&&(J(0,"div",0),ut(1),et(),Ht(2,UCt,3,1,"div",1)),2&n&&(ot(),Je(" ",r.data.message,"\n"),ot(),Tn(r.hasAction?2:-1))},dependencies:[Cs,zW,GW,HW],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return e})();const WCt={snackBarState:xr("state",[Bn("void, hidden",oi({transform:"scale(0.8)",opacity:0})),Bn("visible",oi({transform:"scale(1)",opacity:1})),gn("* => visible",mn("150ms cubic-bezier(0, 0, 0.2, 1)")),gn("* => void, * => hidden",mn("75ms cubic-bezier(0.4, 0.0, 1, 1)",oi({opacity:0})))])};let jCt=0,jW=(()=>{class e extends GS{constructor(t,n,r,s,o){super(),this._ngZone=t,this._elementRef=n,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=Jt(Gi),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Fe,this._onExit=new Fe,this._onEnter=new Fe,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+jCt++,this.attachDomPortal=l=>{this._assertNotAttached();const w=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),w},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const n=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),n}attachTemplatePortal(t){this._assertNotAttached();const n=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),n}onAnimationEnd(t){const{fromState:n,toState:r}=t;if(("void"===r&&"void"!==n||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const t=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(o=>t.classList.add(o)):t.classList.add(n)),this._exposeToModals();const r=this._label.nativeElement,s="mdc-snackbar__label";r.classList.toggle(s,!r.querySelector(`.${s}`))}_exposeToModals(){const t=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const n=t.getAttribute("aria-owns");if(n){const r=n.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),n.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(n){return new(n||e)(pt(li),pt(ai),pt(In),pt(cr),pt(QS))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(1&n&&(ki(ph,7),ki(zCt,7)),2&n){let s;He(s=We())&&(r._portalOutlet=s.first),He(s=We())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(n,r){1&n&&fC("@state.done",function(o){return r.onAnimationEnd(o)}),2&n&&lC("@state",r._animationState)},standalone:!0,features:[yi,Wi],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(J(0,"div",1)(1,"div",2,0)(3,"div",3),Ht(4,GCt,0,0,"ng-template",4),et(),ye(5,"div"),et()()),2&n&&(ot(5),_i("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[ph],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[WCt.snackBarState]}})}}return e})();const YCt=new te("mat-snack-bar-default-options",{providedIn:"root",factory:function XCt(){return new QS}});let Rd=(()=>{class e{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,n,r,s,o,l){this._overlay=t,this._live=n,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=WW,this.snackBarContainerComponent=jW,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,n){return this._attach(t,n)}openFromTemplate(t,n){return this._attach(t,n)}open(t,n="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:n},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,n){const s=On.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:QS,useValue:n}]}),o=new mv(this.snackBarContainerComponent,n.viewContainerRef,s),l=t.attach(o);return l.instance.snackBarConfig=n,l.instance}_attach(t,n){const r={...new QS,...this._defaultConfig,...n},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),l=new $S(o,s);if(t instanceof yr){const w=new fh(t,null,{$implicit:r.data,snackBarRef:l});l.instance=o.attachTemplatePortal(w)}else{const w=this._createInjector(r,l),E=new mv(t,void 0,w),D=o.attachComponentPortal(E);l.instance=D.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Yi(s.detachments())).subscribe(w=>{s.overlayElement.classList.toggle(this.handsetCssClass,w.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(t,n){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),n.duration&&n.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(n.duration))}_createOverlay(t){const n=new vv;n.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,l=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):l?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(t,n){return On.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:$S,useValue:n},{provide:YP,useValue:t.data}]})}static{this.\u0275fac=function(n){return new(n||e)(re(Ss),re(tW),re(On),re(_P),re(e,12),re(YCt))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$Ct=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[Rd],imports:[xp,gv,VP,rn,WW,rn]})}}return e})(),Rr=(()=>{class e{constructor(t,n){this.sbRef=t,this.data=n}static{this.\u0275fac=function(n){return new(n||e)(pt($S),pt(YP))}}static{this.\u0275cmp=Ge({type:e,selectors:[["snack-alert"]],decls:2,vars:1,consts:[[1,"example-alert"]],template:function(n,r){1&n&&(J(0,"span",0),ut(1),et()),2&n&&(ot(),Ke(r.data))},styles:[".example-alert[_ngcontent-%COMP%]{color:#fff}"]})}}return e})(),ma=(()=>{class e{constructor(t,n){this.http=t,this._snackBar=n,this.snowstormFhirBase="https://snowstorm.ihtsdotools.org/fhir",this.defaultFhirUrlParam="http://snomed.info/sct",this.fhirUrlParam=this.defaultFhirUrlParam,this.lang="en",this.snowstormFhirBaseSubject=new Kr(this.snowstormFhirBase),this.fhirUrlParamSubject=new Kr(this.fhirUrlParam),this.langSubject=new Kr(this.lang),this.expandValuesetCache=new Map,this.CACHE_LIMIT=100,this.CACHE_DURATION=72e6,this.CACHE_KEY="valueSetCache",this.snowstormFhirBase$=this.snowstormFhirBaseSubject.asObservable(),this.fhirUrlParam$=this.fhirUrlParamSubject.asObservable(),this.lang$=this.langSubject.asObservable(),this.conceptCache=new Map,this.loadCache()}setSnowstormFhirBase(t){this.snowstormFhirBase=t,this.snowstormFhirBaseSubject.next(t)}setFhirUrlParam(t){this.fhirUrlParam=t,this.fhirUrlParamSubject.next(t)}setLang(t){this.lang=t,this.langSubject.next(t)}getSnowstormFhirBase(){return this.snowstormFhirBase}getFhirUrlParam(){return this.fhirUrlParam}getLang(){return this.lang}getCodeSystems(){return this.http.get(`${this.snowstormFhirBase}/CodeSystem`).pipe(Js(this.handleError("getCodeSystems",{})))}getCodeSystem(t){return this.http.get(`${this.snowstormFhirBase}/CodeSystem?version=${t}`).pipe(Js(this.handleError("getCodeSystem",{})))}getValueSetExpansionUrl(t,n,r,s){return r||(r=0),s||(s=20),"string"!=typeof n&&(n=""),`${this.snowstormFhirBase}/ValueSet/$expand?url=${this.fhirUrlParam}?fhir_vs=ecl/${encodeURIComponent(t)}&count=${s}&offset=${r}&filter=${n}&language=${this.lang}&displayLanguage=${this.lang}`}expandValueSet(t,n,r,s){let o=this.getValueSetExpansionUrl(t,n,r,s);return this.http.get(o).pipe(Js(this.handleError("expandValueSet",{})))}expandValueSetUsingCache(t,n,r,s){const o=this.getValueSetExpansionUrl(t,n,r,s),l=this.expandValuesetCache.get(o);return l&&Date.now()-l.timestamp<this.CACHE_DURATION?(this.expandValuesetCache.delete(o),this.expandValuesetCache.set(o,l),this.saveCache(),wi(l.data)):this.http.get(o).pipe(cs(w=>{this.manageCacheLimit(),this.expandValuesetCache.set(o,{timestamp:Date.now(),data:w}),this.saveCache()}),Js(this.handleError("expandValueSet",{})))}manageCacheLimit(){if(this.expandValuesetCache.size>=this.CACHE_LIMIT){const t=this.expandValuesetCache.keys().next().value;t&&this.expandValuesetCache.delete(t)}}saveCache(){try{const t=Array.from(this.expandValuesetCache.entries());localStorage.setItem(this.CACHE_KEY,JSON.stringify(t))}catch(t){console.error("Failed to save cache:",t)}}loadCache(){try{const t=localStorage.getItem(this.CACHE_KEY);if(t){const n=JSON.parse(t);this.expandValuesetCache=new Map(n)}}catch(t){console.error("Failed to load cache:",t)}}translate(t,n,r){return r||(r=this.defaultFhirUrlParam),this.http.get(`${this.snowstormFhirBase}/ConceptMap/$translate?url=http://snomed.info/sct?fhir_cm=${t}&code=${n}&system=${r}`).pipe(Js(this.handleError("translate",{})))}expandValueSetFromServer(t,n,r,s,o,l){o||(o=0),l||(l=20),t||(t=this.snowstormFhirBase),n||(n=this.fhirUrlParam),"string"!=typeof s&&(s="");let w=`${t}/ValueSet/$expand?url=${n}?fhir_vs=ecl/${encodeURIComponent(r)}&count=${l}&offset=${o}&filter=${s}&language=${this.lang}&displayLanguage=${this.lang}`;return this.http.get(w).pipe(Js(this.handleError("expandValueSet",{})))}handleError(t="operation",n){return r=>(console.error("There was an error!"),console.error(r),this._snackBar.openFromComponent(Rr,{duration:5e3,data:r.message,panelClass:["red-snackbar"]}),wi(n))}lookupConcept(t,n){n||(n=this.fhirUrlParam);const r=`${n}:${t}`,s=this.conceptCache.get(r);if(s)return wi(s);let o=`${this.snowstormFhirBase}/CodeSystem/$lookup?system=http://snomed.info/sct&code=${t}&property=normalForm`;"http://snomed.info/sct"!=n&&(o+=`&version=${n}`);const l={headers:new ol({"Accept-Language":"en"})};return this.http.get(o,l).pipe(cs(w=>{this.conceptCache.set(r,w)}),Js(this.handleError("lookupConcept",{})))}getMRCMAttributes(t){let n=`${this.snowstormFhirBase.replace("fhir","snowstorm/snomed-ct")}mrcm/MAIN/domain-attributes?parentIds=${t}&proximalPrimitiveModeling=false&contentType=POSTCOORDINATED`;return this.http.get(n).pipe(Js(this.handleError("getMRCMAttributes",{})))}addPostcoordinatedExpression(t){let n=`${this.snowstormFhirBase}/CodeSystem/sct_11000003104_EXP`;const r={headers:new ol({"Content-Type":"application/fhir+json"})};return this.http.patch(n,{resourceType:"CodeSystem",concept:[{code:t}]},r).pipe(Js(this.handleError("addPostcoordinatedExpression",{})))}runEclLegacy(t){let n=`https://browser.ihtsdotools.org/snowstorm/snomed-ct/MAIN/SNOMEDCT-ES/2022-10-31/concepts?offset=0&limit=100&termActive=true&ecl=${encodeURIComponent(t)}`;return this.http.get(n).pipe(Js(this.handleError("expandValueSet",{})))}getIcd10MapTargets(t){return this.http.get(`${this.snowstormFhirBase}/ConceptMap/$translate?code=${t}&system=http://snomed.info/sct&source=http://snomed.info/sct?fhir_vs&target=http://hl7.org/fhir/sid/icd-10&url=http://snomed.info/sct/900000000000207008/version/20200131?fhir_cm=447562003`).pipe(Js(this.handleError("translate",{})))}lookupOtherCodeSystems(t,n){return this.http.get(`${this.snowstormFhirBase}/CodeSystem/$lookup?system=${t}&code=${n}`).pipe(Js(this.handleError("lookup",{})))}getNormalForm(t){if(t.parameter)for(let n of t.parameter){let r=!1;if("property"==n.name){for(let s of n.part)"code"==s.name&&"normalForm"==s.valueString&&(r=!0);if(r)for(let s of n.part)if("valueString"==s.name)return s.valueString}}return""}parseNormmalForm(t){const n=[];return t.split("} {").forEach(s=>{const o=s.match(/\d+\|[^\|]+\|\s*=\s*\d+\|[^\|]+\|/g);if(!o)return;const l=o.map(w=>{const[E,D]=w.split("=").map(j=>j.trim()),[k,O]=E.split("|").map(j=>j.trim()),[L,U]=D.split("|").map(j=>j.trim());return{type:{code:k,display:O.replace(/\(.*\)/,"").trim()},target:{code:L,display:U}}});n.push(l)}),{groups:n}}static{this.\u0275fac=function(n){return new(n||e)(re(Il),re(Rd))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function XW(...e){const i=KG(e),{args:t,keys:n}=ZG(e),r=new dr(s=>{const{length:o}=t;if(!o)return void s.complete();const l=new Array(o);let w=o,E=o;for(let D=0;D<o;D++){let k=!1;lo(t[D]).subscribe(Zr(s,O=>{k||(k=!0,E--),l[D]=O},()=>w--,void 0,()=>{(!w||!k)&&(E||s.next(n?JG(n,l):l),s.complete())}))}});return i?r.pipe(LR(i)):r}function YW(e={}){const{connector:i=()=>new Fe,resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,l,w,E=0,D=!1,k=!1;const O=()=>{l?.unsubscribe(),l=void 0},L=()=>{O(),o=w=void 0,D=k=!1},U=()=>{const j=o;L(),j?.unsubscribe()};return gs((j,W)=>{E++,!k&&!D&&O();const Z=w=w??i();W.add(()=>{E--,0===E&&!k&&!D&&(l=$P(U,r))}),Z.subscribe(W),!o&&E>0&&(o=new qo({next:rt=>Z.next(rt),error:rt=>{k=!0,O(),l=$P(L,t,rt),Z.error(rt)},complete:()=>{D=!0,O(),l=$P(L,n),Z.complete()}}),lo(j).subscribe(o))})(s)}}function $P(e,i,...t){if(!0===i)return void e();if(!1===i)return;const n=new qo({next:()=>{n.unsubscribe(),e()}});return lo(i(...t)).subscribe(n)}const QCt=["*"];let KS;function qx(e){return function KCt(){if(void 0===KS&&(KS=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(KS=e.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return KS}()?.createHTML(e)||e}function $W(e){return Error(`Unable to find icon with the name "${e}"`)}function QW(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function KW(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class bp{constructor(i,t,n){this.url=i,this.svgText=t,this.options=n}}let ZS=(()=>{class e{constructor(t,n,r,s){this._httpClient=t,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,n,r){return this.addSvgIconInNamespace("",t,n,r)}addSvgIconLiteral(t,n,r){return this.addSvgIconLiteralInNamespace("",t,n,r)}addSvgIconInNamespace(t,n,r,s){return this._addSvgIconConfig(t,n,new bp(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,r,s){const o=this._sanitizer.sanitize(Wa.HTML,r);if(!o)throw KW(r);const l=qx(o);return this._addSvgIconConfig(t,n,new bp("",l,s))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,r){return this._addSvgIconSetConfig(t,new bp(n,null,r))}addSvgIconSetLiteralInNamespace(t,n,r){const s=this._sanitizer.sanitize(Wa.HTML,n);if(!s)throw KW(n);const o=qx(s);return this._addSvgIconSetConfig(t,new bp("",o,r))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const n=this._sanitizer.sanitize(Wa.RESOURCE_URL,t);if(!n)throw QW(t);const r=this._cachedIconsByUrl.get(n);return r?wi(JS(r)):this._loadSvgIconFromConfig(new bp(t,null)).pipe(cs(s=>this._cachedIconsByUrl.set(n,s)),Ri(s=>JS(s)))}getNamedSvgIcon(t,n=""){const r=ZW(n,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(t,o):Qg($W(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?wi(JS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Ri(n=>JS(n)))}_getSvgFromIconSetConfigs(t,n){const r=this._extractIconWithNameFromAnySet(t,n);return r?wi(r):XW(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Js(l=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(Wa.RESOURCE_URL,o.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(E)),wi(null)})))).pipe(Ri(()=>{const o=this._extractIconWithNameFromAnySet(t,n);if(!o)throw $W(t);return o}))}_extractIconWithNameFromAnySet(t,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(o,t,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(cs(n=>t.svgText=n),Ri(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?wi(null):this._fetchIcon(t).pipe(cs(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,r){const s=t.querySelector(`[id="${n}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const l=this._svgElementFromString(qx("<svg></svg>"));return l.appendChild(o),this._setSvgAttributes(l,r)}_svgElementFromString(t){const n=this._document.createElement("DIV");n.innerHTML=t;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const n=this._svgElementFromString(qx("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:l}=r[s];"id"!==o&&n.setAttribute(o,l)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){const{url:n,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function ZCt(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(Wa.RESOURCE_URL,n);if(!o)throw QW(n);const l=this._inProgressUrlFetches.get(o);if(l)return l;const w=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Ri(E=>qx(E)),Zg(()=>this._inProgressUrlFetches.delete(o)),YW());return this._inProgressUrlFetches.set(o,w),w}_addSvgIconConfig(t,n,r){return this._svgIconConfigs.set(ZW(t,n),r),this}_addSvgIconSetConfig(t,n){const r=this._iconSetConfigs.get(t);return r?r.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){const n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,t);if(s)return qCt(s)?new bp(s.url,null,s.options):new bp(s,null)}}static{this.\u0275fac=function(n){return new(n||e)(re(Il,8),re(MR),re(Gi,8),re(Tl))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function JS(e){return e.cloneNode(!0)}function ZW(e,i){return e+":"+i}function qCt(e){return!(!e.url||!e.options)}const tSt=new te("MAT_ICON_DEFAULT_OPTIONS"),eSt=new te("mat-icon-location",{providedIn:"root",factory:function iSt(){const e=Jt(Gi),i=e?e.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),JW=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],nSt=JW.map(e=>`[${e}]`).join(", "),rSt=/^url\(['"]?#(.*?)['"]?\)$/;let ga=(()=>{class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(t,n,r,s,o,l){this._elementRef=t,this._iconRegistry=n,this._location=s,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Pe.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=t.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),n.forEach(r=>t.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const n=t.querySelectorAll(nSt),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)JW.forEach(o=>{const l=n[s],w=l.getAttribute(o),E=w?w.match(rSt):null;if(E){let D=r.get(l);D||(D=[],r.set(l,D)),D.push({name:o,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[n,r]=this._splitIconName(t);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(xs(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(ZS),wl("aria-hidden"),pt(eSt),pt(Tl),pt(tSt,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){2&n&&(_i("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),oo(r.color?"mat-"+r.color:""),Ci("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[2,"inline","inline",qe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[vn,Wi],ngContentSelectors:QCt,decls:1,vars:0,template:function(n,r){1&n&&(nr(),Si(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return e})(),sSt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,rn]})}}return e})();function qW(e,i){return i?t=>wx(i.pipe(xs(1),function aSt(){return gs((e,i)=>{e.subscribe(Zr(i,on))})}()),t.pipe(qW(e))):Da((t,n)=>lo(e(t,n)).pipe(xs(1),ZC(t)))}function QP(e,i=Hx){const t=Kx(e,i);return qW(()=>t)}const oSt=["mat-menu-item",""],lSt=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],cSt=["mat-icon, [matMenuItemIcon]","*"];function uSt(e,i){1&e&&(bl(),J(0,"svg",2),ye(1,"polygon",3),et())}const hSt=["*"];function dSt(e,i){if(1&e){const t=xe();J(0,"div",0),Ut("keydown",function(r){return zt(t),Gt(St()._handleKeydown(r))})("click",function(){return zt(t),Gt(St().closed.emit("click"))})("@transformMenu.start",function(r){return zt(t),Gt(St()._onAnimationStart(r))})("@transformMenu.done",function(r){return zt(t),Gt(St()._onAnimationDone(r))}),J(1,"div",1),Si(2),et()()}if(2&e){const t=St();oo(t._classList),vt("id",t.panelId)("@transformMenu",t._panelAnimationState),_i("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const KP=new te("MAT_MENU_PANEL");let oc=(()=>{class e{constructor(t,n,r,s,o){this._elementRef=t,this._document=n,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new Fe,this._focused=new Fe,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),n=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(Gi),pt(sc),pt(KP,8),pt(In))}}static{this.\u0275cmp=Ge({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,r){1&n&&Ut("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&n&&(_i("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Ci("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",qe],disableRipple:[2,"disableRipple","disableRipple",qe]},exportAs:["matMenuItem"],standalone:!0,features:[vn,Wi],attrs:oSt,ngContentSelectors:cSt,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){1&n&&(nr(lSt),Si(0),J(1,"span",0),Si(2,1),et(),ye(3,"div",1),Ht(4,uSt,2,0,":svg:svg",2)),2&n&&(ot(3),vt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),ot(),Tn(r._triggersSubmenu?4:-1))},dependencies:[uh],encapsulation:2,changeDetection:0})}}return e})();const fSt=new te("MatMenuContent"),qS={transformMenu:xr("transformMenu",[Bn("void",oi({opacity:0,transform:"scale(0.8)"})),gn("void => enter",mn("120ms cubic-bezier(0, 0, 0.2, 1)",oi({opacity:1,transform:"scale(1)"}))),gn("* => void",mn("100ms 25ms linear",oi({opacity:0})))]),fadeInItems:xr("fadeInItems",[Bn("showing",oi({opacity:1})),gn("void => *",[oi({opacity:0}),mn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pSt=0;const mSt=new te("mat-menu-default-options",{providedIn:"root",factory:function gSt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Rl=(()=>{class e{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}set panelClass(t){const n=this._previousPanelClass,r={...this._classList};n&&n.length&&n.split(" ").forEach(s=>{r[s]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(s=>{r[s]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,n,r,s){this._elementRef=t,this._changeDetectorRef=s,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new Ju,this._classList={},this._panelAnimationState="void",this._animationDone=new Fe,this.closed=new Oe,this.close=this.closed,this.panelId="mat-menu-panel-"+pSt++,this._injector=Jt(On),this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new MP(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ma(this._directDescendantItems),ks(t=>qr(...t.map(n=>n._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[s]&&!r[s].disabled?n.setActiveItem(s):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(Ma(this._directDescendantItems),ks(n=>qr(...n.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const n=t.keyCode,r=this._keyManager;switch(n){case 27:co(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=ao(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&n&&n.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){if(null===this._baseElevation){const l=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(l)}const n=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${n}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));if(!s||s===this._previousElevation){const o={...this._classList};this._previousElevation&&(o[this._previousElevation]=!1),o[r]=!0,this._previousElevation=r,this._classList=o}}setPositionClasses(t=this.xPosition,n=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===t,"mat-menu-after":"after"===t,"mat-menu-above":"above"===n,"mat-menu-below":"below"===n},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ma(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(li),pt(mSt),pt(In))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-menu"]],contentQueries:function(n,r,s){if(1&n&&(Hn(s,fSt,5),Hn(s,oc,5),Hn(s,oc,4)),2&n){let o;He(o=We())&&(r.lazyContent=o.first),He(o=We())&&(r._allItems=o),He(o=We())&&(r.items=o)}},viewQuery:function(n,r){if(1&n&&ki(yr,5),2&n){let s;He(s=We())&&(r.templateRef=s.first)}},hostVars:3,hostBindings:function(n,r){2&n&&_i("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",qe],hasBackdrop:[2,"hasBackdrop","hasBackdrop",t=>null==t?null:qe(t)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[xi([{provide:KP,useExisting:e}]),vn,Wi],ngContentSelectors:hSt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(n,r){1&n&&(nr(),Ht(0,dSt,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[qS.transformMenu,qS.fadeInItems]},changeDetection:0})}}return e})();const tj=new te("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const e=Jt(Ss);return()=>e.scrollStrategies.reposition()}}),ySt={provide:tj,deps:[Ss],useFactory:function vSt(e){return()=>e.scrollStrategies.reposition()}},ej=rc({passive:!0});let vh=(()=>{class e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,n,r,s,o,l,w,E,D){this._overlay=t,this._element=n,this._viewContainerRef=r,this._menuItemInstance=l,this._dir=w,this._focusMonitor=E,this._ngZone=D,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Pe.EMPTY,this._hoverSubscription=Pe.EMPTY,this._menuCloseSubscription=Pe.EMPTY,this._changeDetectorRef=Jt(In),this._handleTouchStart=k=>{FS(k)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Oe,this.onMenuOpen=this.menuOpened,this.menuClosed=new Oe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof Rl?o:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,ej)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,ej),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const n=this._createOverlay(t),r=n.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,n.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Rl&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Yi(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof Rl?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(Ln(r=>"void"===r.toState),xs(1),Yi(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let n=0,r=t.parentMenu;for(;r;)n++,r=r.parentMenu;t.setElevation(n)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const n=this._getOverlayConfig(t);this._subscribeToPositions(t,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new vv({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,n){t.setPositionClasses&&n.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",o="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,o)):t.setPositionClasses(s,o)})}_setPosition(t,n){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[o,l]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[w,E]=[o,l],[D,k]=[r,s],O=0;if(this.triggersSubmenu()){if(k=r="before"===t.xPosition?"start":"end",s=D="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const L=this._parentMaterialMenu.items.first;this._parentInnerPadding=L?L._getHostElement().offsetTop:0}O="bottom"===o?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(w="top"===o?"bottom":"top",E="top"===l?"bottom":"top");n.withPositions([{originX:r,originY:w,overlayX:D,overlayY:o,offsetY:O},{originX:s,originY:w,overlayX:k,overlayY:o,offsetY:O},{originX:r,originY:E,overlayX:D,overlayY:l,offsetY:-O},{originX:s,originY:E,overlayX:k,overlayY:l,offsetY:-O}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return qr(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:wi(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ln(o=>o!==this._menuItemInstance),Ln(()=>this._menuOpen)):wi(),n)}_handleMousedown(t){kS(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const n=t.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Ln(t=>t===this._menuItemInstance&&!t.disabled),QP(0,WP)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Rl&&this.menu._isAnimating?this.menu._animationDone.pipe(xs(1),QP(0,WP),Yi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new fh(t.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(n){return new(n||e)(pt(Ss),pt(ai),pt(Or),pt(tj),pt(KP,8),pt(oc,10),pt(Ya,8),pt(sc),pt(li))}}static{this.\u0275dir=me({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,r){1&n&&Ut("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&n&&_i("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}}return e})(),xSt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[ySt],imports:[hu,fv,rn,xp,gh,rn]})}}return e})();const bSt=["determinateSpinner"];function wSt(e,i){if(1&e&&(bl(),J(0,"svg",11),ye(1,"circle",12),et()),2&e){const t=St();_i("viewBox",t._viewBox()),ot(),$s("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),_i("r",t._circleRadius())}}const TSt=new te("mat-progress-spinner-default-options",{providedIn:"root",factory:function CSt(){return{diameter:ij}}}),ij=100;let Pd=(()=>{class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}constructor(t,n,r){this._elementRef=t,this._defaultColor="primary",this._value=0,this._diameter=ij,this._noopAnimations="NoopAnimations"===n&&!!r&&!r._forceAnimations,this.mode="mat-spinner"===t.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(Hr,8),pt(TSt))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(1&n&&ki(bSt,5),2&n){let s;He(s=We())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){2&n&&(_i("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),oo("mat-"+r.color),$s("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),Ci("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",jr],diameter:[2,"diameter","diameter",jr],strokeWidth:[2,"strokeWidth","strokeWidth",jr]},exportAs:["matProgressSpinner"],standalone:!0,features:[vn,Wi],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(1&n&&(Ht(0,wSt,2,8,"ng-template",null,0,zg),J(2,"div",2,1),bl(),J(4,"svg",3),ye(5,"circle",4),et()(),dy(),J(6,"div",5)(7,"div",6)(8,"div",7),da(9,8),et(),J(10,"div",9),da(11,8),et(),J(12,"div",10),da(13,8),et()()()),2&n){const s=Zi(1);ot(4),_i("viewBox",r._viewBox()),ot(),$s("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),_i("r",r._circleRadius()),ot(4),vt("ngTemplateOutlet",s),ot(2),vt("ngTemplateOutlet",s),ot(2),vt("ngTemplateOutlet",s)}},dependencies:[jC],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}}return e})(),ESt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[hu,rn]})}}return e})();const _St=["*"],MSt=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ISt=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],RSt=new te("MAT_CARD_CONFIG");let tb=(()=>{class e{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(n){return new(n||e)(pt(RSt,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){2&n&&Ci("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Wi],ngContentSelectors:_St,decls:1,vars:0,template:function(n,r){1&n&&(nr(),Si(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return e})(),ZP=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return e})(),JP=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return e})(),qP=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}}return e})(),tk=(()=>{class e{constructor(){this.align="start"}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(n,r){2&n&&Ci("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}}return e})(),ek=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Wi],ngContentSelectors:ISt,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){1&n&&(nr(MSt),Si(0),J(1,"div",0),Si(2,1),et(),Si(3,2))},encapsulation:2,changeDetection:0})}}return e})(),kSt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,hu,rn]})}}return e})();const FSt=[[["caption"]],[["colgroup"],["col"]],"*"],OSt=["caption","colgroup, col","*"];function LSt(e,i){1&e&&Si(0,2)}function NSt(e,i){1&e&&(J(0,"thead",0),da(1,1),et(),J(2,"tbody",0),da(3,2)(4,3),et(),J(5,"tfoot",0),da(6,4),et())}function BSt(e,i){1&e&&da(0,1)(1,2)(2,3)(3,4)}const yu=new te("CDK_TABLE");let yv=(()=>{class e{constructor(t){this.template=t}static{this.\u0275fac=function(n){return new(n||e)(pt(yr))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkCellDef",""]],standalone:!0})}}return e})(),xv=(()=>{class e{constructor(t){this.template=t}static{this.\u0275fac=function(n){return new(n||e)(pt(yr))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return e})(),tE=(()=>{class e{constructor(t){this.template=t}static{this.\u0275fac=function(n){return new(n||e)(pt(yr))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return e})(),yh=(()=>{class e{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(n){return new(n||e)(pt(yu,8))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,s){if(1&n&&(Hn(s,yv,5),Hn(s,xv,5),Hn(s,tE,5)),2&n){let o;He(o=We())&&(r.cell=o.first),He(o=We())&&(r.headerCell=o.first),He(o=We())&&(r.footerCell=o.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",qe],stickyEnd:[2,"stickyEnd","stickyEnd",qe]},standalone:!0,features:[xi([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),vn]})}}return e})();class ik{constructor(i,t){t.nativeElement.classList.add(...i._columnCssClassName)}}let nk=(()=>{class e extends ik{constructor(t,n){super(t,n)}static{this.\u0275fac=function(n){return new(n||e)(pt(yh),pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[yi]})}}return e})(),rk=(()=>{class e extends ik{constructor(t,n){super(t,n);const r=t._table?._getCellRole();r&&n.nativeElement.setAttribute("role",r)}static{this.\u0275fac=function(n){return new(n||e)(pt(yh),pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[yi]})}}return e})();class rj{constructor(){this.tasks=[],this.endTasks=[]}}const sk=new te("_COALESCED_STYLE_SCHEDULER");let sj=(()=>{class e{constructor(t){this._currentSchedule=null,this._ngZone=Jt(li)}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new rj,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new rj;for(const n of t.tasks)n();for(const n of t.endTasks)n()}this._currentSchedule=null})))}static{this.\u0275fac=function(n){return new(n||e)(re(li))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})(),ak=(()=>{class e{constructor(t,n){this.template=t,this._differs=n}ngOnChanges(t){if(!this._columnsDiffer){const n=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof eb?t.headerCell.template:this instanceof ib?t.footerCell.template:t.cell.template}static{this.\u0275fac=function(n){return new(n||e)(pt(yr),pt(bd))}}static{this.\u0275dir=me({type:e,features:[lr]})}}return e})(),eb=(()=>{class e extends ak{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,n,r){super(t,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(n){return new(n||e)(pt(yr),pt(bd),pt(yu,8))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",qe]},standalone:!0,features:[vn,yi,lr]})}}return e})(),ib=(()=>{class e extends ak{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,n,r){super(t,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(n){return new(n||e)(pt(yr),pt(bd),pt(yu,8))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",qe]},standalone:!0,features:[vn,yi,lr]})}}return e})(),eE=(()=>{class e extends ak{constructor(t,n,r){super(t,n),this._table=r}static{this.\u0275fac=function(n){return new(n||e)(pt(yr),pt(bd),pt(yu,8))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[yi]})}}return e})(),xh=(()=>{class e{static{this.mostRecentCellOutlet=null}constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}static{this.\u0275fac=function(n){return new(n||e)(pt(Or))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return e})(),ok=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[Wi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&da(0,0)},dependencies:[xh],encapsulation:2})}}return e})(),ck=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[Wi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&da(0,0)},dependencies:[xh],encapsulation:2})}}return e})(),iE=(()=>{class e{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(n){return new(n||e)(pt(yr))}}static{this.\u0275dir=me({type:e,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return e})();const aj=["top","bottom","left","right"];class GSt{constructor(i,t,n,r,s=!0,o=!0,l){this._isNativeHtmlTable=i,this._stickCellCss=t,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=l,this._elemSizeCache=new WeakMap,this._resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(w=>this._updateCachedSizes(w)):null,this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(i,t){(t.includes("left")||t.includes("right"))&&this._removeFromStickyColumnReplayQueue(i);const n=[];for(const r of i)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let s=0;s<r.children.length;s++)n.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of n)this._removeStickyStyle(r,t)})}updateStickyColumns(i,t,n,r=!0,s=!0){s&&this._updateStickyColumnReplayQueue({rows:[...i],stickyStartStates:[...t],stickyEndStates:[...n]}),i.length&&this._isBrowser&&(t.some(o=>o)||n.some(o=>o))?this._coalescedStyleScheduler.schedule(()=>{const o=i[0],l=o.children.length,w=this._getCellWidths(o,r),E=this._getStickyStartColumnPositions(w,t),D=this._getStickyEndColumnPositions(w,n),k=t.lastIndexOf(!0),O=n.indexOf(!0),L="rtl"===this.direction,U=L?"right":"left",j=L?"left":"right";for(const W of i)for(let Z=0;Z<l;Z++){const rt=W.children[Z];t[Z]&&this._addStickyStyle(rt,U,E[Z],Z===k),n[Z]&&this._addStickyStyle(rt,j,D[Z],Z===O)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===k?[]:w.slice(0,k+1).map((W,Z)=>t[Z]?W:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===O?[]:w.slice(O).map((W,Z)=>n[Z+O]?W:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(i,t,n){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const r="bottom"===n?i.slice().reverse():i,s="bottom"===n?t.slice().reverse():t,o=[],l=[],w=[];for(let D=0,k=0;D<r.length;D++){if(!s[D])continue;o[D]=k;const O=r[D];w[D]=this._isNativeHtmlTable?Array.from(O.children):[O];const L=this._retrieveElementSize(O).height;k+=L,l[D]=L}const E=s.lastIndexOf(!0);for(let D=0;D<r.length;D++){if(!s[D])continue;const k=o[D],O=D===E;for(const L of w[D])this._addStickyStyle(L,n,k,O)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:o,elements:w}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:o,elements:w})})}updateStickyFooterContainer(i,t){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const n=i.querySelector("tfoot");n&&(t.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))})}_removeStickyStyle(i,t){for(const r of t)i.style[r]="",i.classList.remove(this._borderCellCss[r]);aj.some(r=>-1===t.indexOf(r)&&i.style[r])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,t,n,r){i.classList.add(this._stickCellCss),r&&i.classList.add(this._borderCellCss[t]),i.style[t]=`${n}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const t={top:100,bottom:10,left:1,right:1};let n=0;for(const r of aj)i.style[r]&&(n+=t[r]);return n?`${n}`:""}_getCellWidths(i,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=i.children;for(let s=0;s<r.length;s++)n.push(this._retrieveElementSize(r[s]).width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(i,t){const n=[];let r=0;for(let s=0;s<i.length;s++)t[s]&&(n[s]=r,r+=i[s]);return n}_getStickyEndColumnPositions(i,t){const n=[];let r=0;for(let s=i.length;s>0;s--)t[s]&&(n[s]=r,r+=i[s]);return n}_retrieveElementSize(i){const t=this._elemSizeCache.get(i);if(t)return t;const n=i.getBoundingClientRect(),r={width:n.width,height:n.height};return this._resizeObserver&&(this._elemSizeCache.set(i,r),this._resizeObserver.observe(i,{box:"border-box"})),r}_updateStickyColumnReplayQueue(i){this._removeFromStickyColumnReplayQueue(i.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(i)}_removeFromStickyColumnReplayQueue(i){const t=new Set(i);for(const n of this._updatedStickyColumnsParamsToReplay)n.rows=n.rows.filter(r=>!t.has(r));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(n=>!!n.rows.length)}_updateCachedSizes(i){let t=!1;for(const n of i){const r=n.borderBoxSize?.length?{width:n.borderBoxSize[0].inlineSize,height:n.borderBoxSize[0].blockSize}:{width:n.contentRect.width,height:n.contentRect.height};r.width!==this._elemSizeCache.get(n.target)?.width&&HSt(n.target)&&(t=!0),this._elemSizeCache.set(n.target,r)}t&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{for(const n of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(n.rows,n.stickyStartStates,n.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null},0))}}function HSt(e){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(i=>e.classList.contains(i))}const uk=new te("CDK_SPL");let hk=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=Jt(yu);r._rowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||e)(pt(Or),pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["","rowOutlet",""]],standalone:!0})}}return e})(),dk=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=Jt(yu);r._headerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||e)(pt(Or),pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return e})(),fk=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=Jt(yu);r._footerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||e)(pt(Or),pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return e})(),pk=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=Jt(yu);r._noDataRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||e)(pt(Or),pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return e})(),nE=(()=>{class e{_getCellRole(){if(void 0===this._cellRoleInternal){const t=this._elementRef.nativeElement.getAttribute("role");return"grid"===t||"treegrid"===t?"gridcell":"cell"}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,n,r,s,o,l,w,E,D,k,O,L){this._differs=t,this._changeDetectorRef=n,this._elementRef=r,this._dir=o,this._platform=w,this._viewRepeater=E,this._coalescedStyleScheduler=D,this._viewportRuler=k,this._stickyPositioningListener=O,this._onDestroy=new Fe,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Oe,this.viewChange=new Kr({start:0,end:Number.MAX_VALUE}),this._injector=Jt(On),s||r.nativeElement.setAttribute("role","table"),this._document=l,this._isServer=!w.isBrowser,this._isNativeHtmlTable="TABLE"===r.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(Yi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),cP(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,n,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===lh.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{n.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),ao(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const r=oj(this._headerRowOutlet,"thead");r&&(r.style.display=t.length?"":"none")}const n=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const r=oj(this._footerRowOutlet,"tfoot");r&&(r.style.display=t.length?"":"none")}const n=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let l=0;l<n.length;l++)this._renderRows[l].rowDef===s&&o.push(n[l]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const t=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,n.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let l=0;l<o.length;l++){let w=o[l];const E=this._cachedRenderRowsMap.get(w.data);E.has(w.rowDef)?E.get(w.rowDef).push(w):E.set(w.rowDef,[w]),t.push(w)}}return t}_getRenderRowsForData(t,n,r){return this._getRowDefs(t,n).map(o=>{const l=r&&r.has(o)?r.get(o):[];if(l.length){const w=l.shift();return w.dataIndex=n,w}return{data:t,rowDef:o,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),rE(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=rE(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=rE(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=rE(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,l)=>{const w=!!l.getColumnsDiff();return o||w},n=this._rowDefs.reduce(t,!1);n&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),n||r||s}_switchDataSource(t){this._data=[],cP(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;cP(this.dataSource)?t=this.dataSource.connect(this):xx(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=wi(this.dataSource)),this._renderChangeSubscription=t.pipe(Yi(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,n)=>this._renderRow(this._headerRowOutlet,t,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,n)=>this._renderRow(this._footerRowOutlet,t,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,n){const r=Array.from(n.columns||[]).map(l=>this._columnDefsByName.get(l)),s=r.map(l=>l.sticky),o=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const n=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);n.push(s.rootNodes[0])}return n}_getRowDefs(t,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(n,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(n,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,n){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:n}}_renderRow(t,n,r,s={}){const o=t.viewContainer.createEmbeddedView(n.template,s,r);return this._renderCellTemplateForItem(n,s),o}_renderCellTemplateForItem(t,n){for(let r of this._getCellTemplates(t))xh.mostRecentCellOutlet&&xh.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let n=0,r=t.length;n<r;n++){const o=t.get(n).context;o.count=r,o.first=0===n,o.last=n===r-1,o.even=n%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[n].dataIndex,o.renderIndex=n):o.index=this._renderRows[n].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,n=>{const r=this._columnDefsByName.get(n);return t.extractCellTemplate(r)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new GSt(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:wi()).pipe(Yi(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(n){const s=r.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(n){return new(n||e)(pt(bd),pt(In),pt(ai),wl("role"),pt(Ya,8),pt(Gi),pt(cr),pt(Ox),pt(sk),pt(mh),pt(uk,12),pt(li,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,s){if(1&n&&(Hn(s,iE,5),Hn(s,yh,5),Hn(s,eE,5),Hn(s,eb,5),Hn(s,ib,5)),2&n){let o;He(o=We())&&(r._noDataRow=o.first),He(o=We())&&(r._contentColumnDefs=o),He(o=We())&&(r._contentRowDefs=o),He(o=We())&&(r._contentHeaderRowDefs=o),He(o=We())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,r){2&n&&Ci("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",qe],fixedLayout:[2,"fixedLayout","fixedLayout",qe]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[xi([{provide:yu,useExisting:e},{provide:Ox,useClass:s7},{provide:sk,useClass:sj},{provide:uk,useValue:null}]),vn,Wi],ngContentSelectors:OSt,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(nr(FSt),Si(0),Si(1,1),Ht(2,LSt,1,0)(3,NSt,7,0)(4,BSt,4,0)),2&n&&(ot(2),Tn(r._isServer?2:-1),ot(),Tn(r._isNativeHtmlTable?3:4))},dependencies:[dk,hk,pk,fk],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return e})();function rE(e,i){return e.concat(Array.from(i))}function oj(e,i){const t=i.toUpperCase();let n=e.viewContainer.element.nativeElement;for(;n;){const r=1===n.nodeType?n.nodeName:null;if(r===t)return n;if("TABLE"===r)break;n=n.parentNode}return null}let jSt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[jP]})}}return e})();const XSt=[[["caption"]],[["colgroup"],["col"]],"*"],YSt=["caption","colgroup, col","*"];function $St(e,i){1&e&&Si(0,2)}function QSt(e,i){1&e&&(J(0,"thead",0),da(1,1),et(),J(2,"tbody",2),da(3,3)(4,4),et(),J(5,"tfoot",0),da(6,5),et())}function KSt(e,i){1&e&&da(0,1)(1,3)(2,4)(3,5)}let kd=(()=>{class e extends nE{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){2&n&&Ci("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[xi([{provide:nE,useExisting:e},{provide:yu,useExisting:e},{provide:sk,useClass:sj},{provide:Ox,useClass:s7},{provide:uk,useValue:null}]),yi,Wi],ngContentSelectors:YSt,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(nr(XSt),Si(0),Si(1,1),Ht(2,$St,1,0)(3,QSt,7,0)(4,KSt,4,0)),2&n&&(ot(2),Tn(r._isServer?2:-1),ot(),Tn(r._isNativeHtmlTable?3:4))},dependencies:[dk,hk,pk,fk],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return e})(),bh=(()=>{class e extends yv{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["","matCellDef",""]],standalone:!0,features:[xi([{provide:yv,useExisting:e}]),yi]})}}return e})(),wh=(()=>{class e extends xv{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[xi([{provide:xv,useExisting:e}]),yi]})}}return e})(),Th=(()=>{class e extends yh{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[xi([{provide:yh,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),yi]})}}return e})(),Ch=(()=>{class e extends nk{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[yi]})}}return e})(),Sh=(()=>{class e extends rk{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[yi]})}}return e})(),Fd=(()=>{class e extends eb{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",qe]},standalone:!0,features:[xi([{provide:eb,useExisting:e}]),vn,yi]})}}return e})(),Od=(()=>{class e extends eE{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[xi([{provide:eE,useExisting:e}]),yi]})}}return e})(),Ld=(()=>{class e extends ok{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[xi([{provide:ok,useExisting:e}]),yi,Wi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&da(0,0)},dependencies:[xh],encapsulation:2})}}return e})(),Nd=(()=>{class e extends ck{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[xi([{provide:ck,useExisting:e}]),yi,Wi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&da(0,0)},dependencies:[xh],encapsulation:2})}}return e})(),rEt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,jSt,rn]})}}return e})();class wp extends vS{get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}constructor(i=[]){super(),this._renderData=new Kr([]),this._filter=new Kr(""),this._internalPageChanges=new Fe,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,n)=>{const r=t[n];if(O7(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(t,n)=>{const r=n.active,s=n.direction;return r&&""!=s?t.sort((o,l)=>{let w=this.sortingDataAccessor(o,r),E=this.sortingDataAccessor(l,r);const D=typeof w,k=typeof E;D!==k&&("number"===D&&(w+=""),"number"===k&&(E+=""));let O=0;return null!=w&&null!=E?w>E?O=1:w<E&&(O=-1):null!=w?O=1:null!=E&&(O=-1),O*("asc"==s?1:-1)}):t},this.filterPredicate=(t,n)=>{const r=Object.keys(t).reduce((o,l)=>o+t[l]+"\u25ec","").toLowerCase(),s=n.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Kr(i),this._updateChangeSubscription()}_updateChangeSubscription(){const i=this._sort?qr(this._sort.sortChange,this._sort.initialized):wi(null),t=this._paginator?qr(this._paginator.page,this._internalPageChanges,this._paginator.initialized):wi(null),r=oh([this._data,this._filter]).pipe(Ri(([l])=>this._filterData(l))),s=oh([r,i]).pipe(Ri(([l])=>this._orderData(l))),o=oh([s,t]).pipe(Ri(([l])=>this._pageData(l)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(l=>this._renderData.next(l))}_filterData(i){return this.filteredData=null==this.filter||""===this.filter?i:i.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;const t=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(t,t+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=i,t.pageIndex>0)){const n=Math.ceil(t.length/t.pageSize)-1||0,r=Math.min(t.pageIndex,n);r!==t.pageIndex&&(t.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}let cj=(()=>{class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(n){return new(n||e)(pt(Kl),pt(ai))}}static{this.\u0275dir=me({type:e})}}return e})(),Tp=(()=>{class e extends cj{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,features:[yi]})}}return e})();const va=new te(""),oEt={provide:va,useExisting:kn(()=>Pl),multi:!0},cEt=new te("");let Pl=(()=>{class e extends cj{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lEt(){const e=wd()?wd().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(Kl),pt(ai),pt(cEt,8))}}static{this.\u0275dir=me({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Ut("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[xi([oEt]),yi]})}}return e})();function Bd(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function hj(e){return null!=e&&"number"==typeof e.length}const ta=new te(""),Vd=new te(""),uEt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xu{static min(i){return function dj(e){return i=>{if(Bd(i.value)||Bd(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t<e?{min:{min:e,actual:i.value}}:null}}(i)}static max(i){return function fj(e){return i=>{if(Bd(i.value)||Bd(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t>e?{max:{max:e,actual:i.value}}:null}}(i)}static required(i){return pj(i)}static requiredTrue(i){return function mj(e){return!0===e.value?null:{required:!0}}(i)}static email(i){return function gj(e){return Bd(e.value)||uEt.test(e.value)?null:{email:!0}}(i)}static minLength(i){return vj(i)}static maxLength(i){return function yj(e){return i=>hj(i.value)&&i.value.length>e?{maxlength:{requiredLength:e,actualLength:i.value.length}}:null}(i)}static pattern(i){return xj(i)}static nullValidator(i){return null}static compose(i){return Ej(i)}static composeAsync(i){return _j(i)}}function pj(e){return Bd(e.value)?{required:!0}:null}function vj(e){return i=>Bd(i.value)||!hj(i.value)?null:i.value.length<e?{minlength:{requiredLength:e,actualLength:i.value.length}}:null}function xj(e){if(!e)return sE;let i,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),i=new RegExp(t)):(t=e.toString(),i=e),n=>{if(Bd(n.value))return null;const r=n.value;return i.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function sE(e){return null}function bj(e){return null!=e}function wj(e){return ux(e)?Zs(e):e}function Tj(e){let i={};return e.forEach(t=>{i=null!=t?{...i,...t}:i}),0===Object.keys(i).length?null:i}function Cj(e,i){return i.map(t=>t(e))}function Sj(e){return e.map(i=>function hEt(e){return!e.validate}(i)?i:t=>i.validate(t))}function Ej(e){if(!e)return null;const i=e.filter(bj);return 0==i.length?null:function(t){return Tj(Cj(t,i))}}function mk(e){return null!=e?Ej(Sj(e)):null}function _j(e){if(!e)return null;const i=e.filter(bj);return 0==i.length?null:function(t){return XW(Cj(t,i).map(wj)).pipe(Ri(Tj))}}function gk(e){return null!=e?_j(Sj(e)):null}function Aj(e,i){return null===e?[i]:Array.isArray(e)?[...e,i]:[e,i]}function Dj(e){return e._rawValidators}function Mj(e){return e._rawAsyncValidators}function vk(e){return e?Array.isArray(e)?e:[e]:[]}function aE(e,i){return Array.isArray(e)?e.includes(i):e===i}function Ij(e,i){const t=vk(i);return vk(e).forEach(r=>{aE(t,r)||t.push(r)}),t}function Rj(e,i){return vk(i).filter(t=>!aE(e,t))}class Pj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=mk(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=gk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class Xo extends Pj{get formDirective(){return null}get path(){return null}}class bu extends Pj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kj{constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Yo=(()=>{class e extends kj{constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(bu,2))}}static{this.\u0275dir=me({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ci("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[yi]})}}return e})(),Cp=(()=>{class e extends kj{constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(Xo,10))}}static{this.\u0275dir=me({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Ci("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[yi]})}}return e})();const nb="VALID",lE="INVALID",bv="PENDING",rb="DISABLED";class wv{}class Oj extends wv{constructor(i,t){super(),this.value=i,this.source=t}}class bk extends wv{constructor(i,t){super(),this.pristine=i,this.source=t}}class wk extends wv{constructor(i,t){super(),this.touched=i,this.source=t}}class cE extends wv{constructor(i,t){super(),this.status=i,this.source=t}}class gEt extends wv{constructor(i){super(),this.source=i}}class vEt extends wv{constructor(i){super(),this.source=i}}function Tk(e){return(uE(e)?e.validators:e)||null}function Ck(e,i){return(uE(i)?i.asyncValidators:e)||null}function uE(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function Lj(e,i,t){const n=e.controls;if(!(i?Object.keys(n):n).length)throw new pe(1e3,"");if(!n[t])throw new pe(1001,"")}function Nj(e,i,t){e._forEachChild((n,r)=>{if(void 0===t[r])throw new pe(1002,"")})}class hE{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=rp(()=>this.statusReactive()),this.statusReactive=au(void 0),this._pristine=rp(()=>this.pristineReactive()),this.pristineReactive=au(!0),this._touched=rp(()=>this.touchedReactive()),this.touchedReactive=au(!1),this._events=new Fe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return kc(this.statusReactive)}set status(i){kc(()=>this.statusReactive.set(i))}get valid(){return this.status===nb}get invalid(){return this.status===lE}get pending(){return this.status==bv}get disabled(){return this.status===rb}get enabled(){return this.status!==rb}get pristine(){return kc(this.pristineReactive)}set pristine(i){kc(()=>this.pristineReactive.set(i))}get dirty(){return!this.pristine}get touched(){return kc(this.touchedReactive)}set touched(i){kc(()=>this.touchedReactive.set(i))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(Ij(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Ij(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Rj(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Rj(i,this._rawAsyncValidators))}hasValidator(i){return aE(this._rawValidators,i)}hasAsyncValidator(i){return aE(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){const t=!1===this.touched;this.touched=!0;const n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched({...i,sourceControl:n}),t&&!1!==i.emitEvent&&this._events.next(new wk(!0,n))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(i))}markAsUntouched(i={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const n=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:n})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n),t&&!1!==i.emitEvent&&this._events.next(new wk(!1,n))}markAsDirty(i={}){const t=!0===this.pristine;this.pristine=!1;const n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty({...i,sourceControl:n}),t&&!1!==i.emitEvent&&this._events.next(new bk(!1,n))}markAsPristine(i={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const n=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),t&&!1!==i.emitEvent&&this._events.next(new bk(!0,n))}markAsPending(i={}){this.status=bv;const t=i.sourceControl??this;!1!==i.emitEvent&&(this._events.next(new cE(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending({...i,sourceControl:t})}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=rb,this.errors=null,this._forEachChild(r=>{r.disable({...i,onlySelf:!0})}),this._updateValue();const n=i.sourceControl??this;!1!==i.emitEvent&&(this._events.next(new Oj(this.value,n)),this._events.next(new cE(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=nb,this._forEachChild(n=>{n.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:t},this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i,t){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nb||this.status===bv)&&this._runAsyncValidator(n,i.emitEvent)}const t=i.sourceControl??this;!1!==i.emitEvent&&(this._events.next(new Oj(this.value,t)),this._events.next(new cE(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity({...i,sourceControl:t})}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rb:nb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,t){if(this.asyncValidator){this.status=bv,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const n=wj(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(i){let t=i;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((n,r)=>n&&n._find(r),this)}getError(i,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,t,n){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||n)&&this._events.next(new cE(this.status,t)),this._parent&&this._parent._updateControlsErrors(i,t,n)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?rb:this.errors?lE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bv)?bv:this._anyControlsHaveStatus(lE)?lE:nb}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,t){const n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,t),r&&this._events.next(new bk(this.pristine,t))}_updateTouched(i={},t){this.touched=this._anyControlsTouched(),this._events.next(new wk(this.touched,t)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,t)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){uE(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function yEt(e){return Array.isArray(e)?mk(e):e||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function xEt(e){return Array.isArray(e)?gk(e):e||null}(this._rawAsyncValidators)}}class Tv extends hE{constructor(i,t,n){super(Tk(t),Ck(n,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,n={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){Nj(this,0,i),Object.keys(i).forEach(n=>{Lj(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(n=>{const r=this.controls[n];r&&r.patchValue(i[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((n,r)=>{n.reset(i?i[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,n)=>(i[n]=t.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&i(n,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const[t,n]of Object.entries(this.controls))if(this.contains(t)&&i(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(i,t){let n=i;return this._forEachChild((r,s)=>{n=t(n,r,s)}),n}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}}class Bj extends Tv{}const Sp=new te("CallSetDisabledState",{providedIn:"root",factory:()=>sb}),sb="always";function dE(e,i){return[...i.path,e]}function ab(e,i,t=sb){Sk(e,i),i.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&i.valueAccessor.setDisabledState?.(e.disabled),function wEt(e,i){i.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Vj(e,i)})}(e,i),function CEt(e,i){const t=(n,r)=>{i.valueAccessor.writeValue(n),r&&i.viewToModelUpdate(n)};e.registerOnChange(t),i._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,i),function TEt(e,i){i.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Vj(e,i),"submit"!==e.updateOn&&e.markAsTouched()})}(e,i),function bEt(e,i){if(i.valueAccessor.setDisabledState){const t=n=>{i.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(t),i._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,i)}function fE(e,i,t=!0){const n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),mE(e,i),e&&(i._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function pE(e,i){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function Sk(e,i){const t=Dj(e);null!==i.validator?e.setValidators(Aj(t,i.validator)):"function"==typeof t&&e.setValidators([t]);const n=Mj(e);null!==i.asyncValidator?e.setAsyncValidators(Aj(n,i.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const r=()=>e.updateValueAndValidity();pE(i._rawValidators,r),pE(i._rawAsyncValidators,r)}function mE(e,i){let t=!1;if(null!==e){if(null!==i.validator){const r=Dj(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==i.validator);s.length!==r.length&&(t=!0,e.setValidators(s))}}if(null!==i.asyncValidator){const r=Mj(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==i.asyncValidator);s.length!==r.length&&(t=!0,e.setAsyncValidators(s))}}}const n=()=>{};return pE(i._rawValidators,n),pE(i._rawAsyncValidators,n),t}function Vj(e,i){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Uj(e,i){Sk(e,i)}function _k(e,i){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}function zj(e,i){e._syncPendingControls(),i.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Ak(e,i){if(!i)return null;let t,n,r;return Array.isArray(i),i.forEach(s=>{s.constructor===Pl?t=s:function _Et(e){return Object.getPrototypeOf(e.constructor)===Tp}(s)?n=s:r=s}),r||n||t||null}const DEt={provide:Xo,useExisting:kn(()=>Ep)},ob=Promise.resolve();let Ep=(()=>{class e extends Xo{get submitted(){return kc(this.submittedReactive)}constructor(t,n,r){super(),this.callSetDisabledState=r,this._submitted=rp(()=>this.submittedReactive()),this.submittedReactive=au(!1),this._directives=new Set,this.ngSubmit=new Oe,this.form=new Tv({},mk(t),gk(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ob.then(()=>{const n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),ab(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ob.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ob.then(()=>{const n=this._findContainer(t.path),r=new Tv({});Uj(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ob.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){ob.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),zj(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(n){return new(n||e)(pt(ta,10),pt(Vd,10),pt(Sp,8))}}static{this.\u0275dir=me({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Ut("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xi([DEt]),yi]})}}return e})();function Gj(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function Hj(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Fs=class extends hE{constructor(i=null,t,n){super(Tk(t),Ck(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Hj(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Gj(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Gj(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){Hj(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},MEt=Fs,PEt={provide:bu,useExisting:kn(()=>lc)},Xj=Promise.resolve();let lc=(()=>{class e extends bu{constructor(t,n,r,s,o,l){super(),this._changeDetectorRef=o,this.callSetDisabledState=l,this.control=new Fs,this._registered=!1,this.name="",this.update=new Oe,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Ak(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_k(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ab(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Xj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const n=t.isDisabled.currentValue,r=0!==n&&qe(n);Xj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?dE(t,this._parent):[t]}static{this.\u0275fac=function(n){return new(n||e)(pt(Xo,9),pt(ta,10),pt(Vd,10),pt(va,10),pt(In,8),pt(Sp,8))}}static{this.\u0275dir=me({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xi([PEt]),yi,lr]})}}return e})(),Cv=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();const kEt={provide:va,useExisting:kn(()=>gE),multi:!0};let gE=(()=>{class e extends Tp{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=n=>{t(""==n?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&Ut("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[xi([kEt]),yi]})}}return e})();const Dk=new te(""),NEt={provide:bu,useExisting:kn(()=>lb)};let lb=(()=>{class e extends bu{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,n,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new Oe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Ak(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const n=t.form.previousValue;n&&fE(n,this,!1),ab(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}_k(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&fE(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static{this.\u0275fac=function(n){return new(n||e)(pt(ta,10),pt(Vd,10),pt(va,10),pt(Dk,8),pt(Sp,8))}}static{this.\u0275dir=me({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[xi([NEt]),yi,lr]})}}return e})();const BEt={provide:Xo,useExisting:kn(()=>wu)};let wu=(()=>{class e extends Xo{get submitted(){return kc(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,n,r){super(),this.callSetDisabledState=r,this._submitted=rp(()=>this._submittedReactive()),this._submittedReactive=au(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Oe,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const n=this.form.get(t.path);return ab(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){fE(t.control||null,t,!1),function AEt(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this._submittedReactive.set(!0),zj(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new gEt(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new vEt(this.form))}_updateDomValue(){this.directives.forEach(t=>{const n=t.control,r=this.form.get(t.path);n!==r&&(fE(n||null,t),(e=>e instanceof Fs)(r)&&(ab(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const n=this.form.get(t.path);Uj(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const n=this.form.get(t.path);n&&function SEt(e,i){return mE(e,i)}(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sk(this.form,this),this._oldForm&&mE(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(n){return new(n||e)(pt(ta,10),pt(Vd,10),pt(Sp,8))}}static{this.\u0275dir=me({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Ut("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xi([BEt]),yi,lr]})}}return e})();const zEt={provide:bu,useExisting:kn(()=>Sv)};let Sv=(()=>{class e extends bu{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,n,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Oe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Ak(0,s)}ngOnChanges(t){this._added||this._setUpControl(),_k(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return dE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||e)(pt(Xo,13),pt(ta,10),pt(Vd,10),pt(va,10),pt(Dk,8))}}static{this.\u0275dir=me({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[xi([zEt]),yi,lr]})}}return e})();let _p=(()=>{class e{constructor(){this._validator=sE}ngOnChanges(t){if(this.inputName in t){const n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):sE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,features:[lr]})}}return e})();const KEt={provide:ta,useExisting:kn(()=>vE),multi:!0};let vE=(()=>{class e extends _p{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=qe,this.createValidator=t=>pj}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&_i("required",r._enabled?"":null)},inputs:{required:"required"},features:[xi([KEt]),yi]})}}return e})();const qEt={provide:ta,useExisting:kn(()=>kk),multi:!0};let kk=(()=>{class e extends _p{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Jj(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>vj(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&_i("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[xi([qEt]),yi]})}}return e})();const e_t={provide:ta,useExisting:kn(()=>xE),multi:!0};let xE=(()=>{class e extends _p{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>xj(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&_i("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[xi([e_t]),yi]})}}return e})(),rX=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({})}}return e})();class sX extends hE{constructor(i,t,n){super(Tk(t),Ck(n,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,n={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(i,t={}){let n=this._adjustIndex(i);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,n={}){let r=this._adjustIndex(i);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){Nj(this,0,i),i.forEach((n,r)=>{Lj(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((n,r)=>{n.reset(i[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,n)=>{i(t,n)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}}function aX(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let bE=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,n=null){const r=this._reduceControls(t);let s={};return aX(n)?s=n:null!==n&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new Tv(r,s)}record(t,n=null){const r=this._reduceControls(t);return new Bj(r,n)}control(t,n,r){let s={};return this.useNonNullable?(aX(n)?s=n:(s.validators=n,s.asyncValidators=r),new Fs(t,{...s,nonNullable:!0})):new Fs(t,n,r)}array(t,n,r){const s=t.map(o=>this._createControl(o));return new sX(s,n,r)}_reduceControls(t){const n={};return Object.keys(t).forEach(r=>{n[r]=this._createControl(t[r])}),n}_createControl(t){return t instanceof Fs||t instanceof hE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Fk=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Sp,useValue:t.callSetDisabledState??sb}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rX]})}}return e})(),i_t=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Dk,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Sp,useValue:t.callSetDisabledState??sb}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rX]})}}return e})();class r_t{constructor(i){this._box=i,this._destroyed=new Fe,this._resizeSubject=new Fe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new dr(t=>{const n=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),n.unsubscribe(),this._elementObservables.delete(i)}}).pipe(Ln(t=>t.some(n=>n.target===i)),function n_t(e,i,t){let n,r=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:i=1/0,refCount:r=!1,scheduler:t}=e):n=e??1/0,YW({connector:()=>new Lx(n,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),Yi(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let oX=(()=>{class e{constructor(){this._observers=new Map,this._ngZone=Jt(li)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new r_t(r)),this._observers.get(r).observe(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const s_t=["notch"],a_t=["matFormFieldNotchedOutline",""],o_t=["*"],l_t=["textField"],c_t=["iconPrefixContainer"],u_t=["textPrefixContainer"],h_t=["iconSuffixContainer"],d_t=["textSuffixContainer"],f_t=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],p_t=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function m_t(e,i){1&e&&ye(0,"span",21)}function g_t(e,i){if(1&e&&(J(0,"label",20),Si(1,1),Ht(2,m_t,1,0,"span",21),et()),2&e){const t=St(2);vt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),_i("for",t._control.disableAutomaticLabeling?null:t._control.id),ot(2),Tn(!t.hideRequiredMarker&&t._control.required?2:-1)}}function v_t(e,i){1&e&&Ht(0,g_t,3,5,"label",20),2&e&&Tn(St()._hasFloatingLabel()?0:-1)}function y_t(e,i){1&e&&ye(0,"div",7)}function x_t(e,i){}function b_t(e,i){1&e&&Ht(0,x_t,0,0,"ng-template",13),2&e&&(St(2),vt("ngTemplateOutlet",Zi(1)))}function w_t(e,i){if(1&e&&(J(0,"div",9),Ht(1,b_t,1,1,null,13),et()),2&e){const t=St();vt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),ot(),Tn(t._forceDisplayInfixLabel()?-1:1)}}function T_t(e,i){1&e&&(J(0,"div",10,2),Si(2,2),et())}function C_t(e,i){1&e&&(J(0,"div",11,3),Si(2,3),et())}function S_t(e,i){}function E_t(e,i){1&e&&Ht(0,S_t,0,0,"ng-template",13),2&e&&(St(),vt("ngTemplateOutlet",Zi(1)))}function __t(e,i){1&e&&(J(0,"div",14,4),Si(2,4),et())}function A_t(e,i){1&e&&(J(0,"div",15,5),Si(2,5),et())}function D_t(e,i){1&e&&ye(0,"div",16)}function M_t(e,i){1&e&&(J(0,"div",18),Si(1,6),et()),2&e&&vt("@transitionMessages",St()._subscriptAnimationState)}function I_t(e,i){if(1&e&&(J(0,"mat-hint",22),ut(1),et()),2&e){const t=St(2);vt("id",t._hintLabelId),ot(),Ke(t.hintLabel)}}function R_t(e,i){if(1&e&&(J(0,"div",19),Ht(1,I_t,2,2,"mat-hint",22),Si(2,7),ye(3,"div",23),Si(4,8),et()),2&e){const t=St();vt("@transitionMessages",t._subscriptAnimationState),ot(),Tn(t.hintLabel?1:-1)}}let ll=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["mat-label"]],standalone:!0})}}return e})(),P_t=0;const lX=new te("MatError");let cX=(()=>{class e{constructor(t,n){this.id="mat-mdc-error-"+P_t++,t||n.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(n){return new(n||e)(wl("aria-live"),pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,r){2&n&&uu("id",r.id)},inputs:{id:"id"},standalone:!0,features:[xi([{provide:lX,useExisting:e}])]})}}return e})(),k_t=0,Ud=(()=>{class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+k_t++}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&(uu("id",r.id),_i("align",null),Ci("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}}return e})();const F_t=new te("MatPrefix"),uX=new te("MatSuffix");let hX=(()=>{class e{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[xi([{provide:uX,useExisting:e}])]})}}return e})();const dX=new te("FloatingLabelParent");let fX=(()=>{class e{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Jt(oX),this._ngZone=Jt(li),this._parent=Jt(dX),this._resizeSubscription=new Pe}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function O_t(e){if(null!==e.offsetParent)return e.scrollWidth;const t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const n=t.scrollWidth;return t.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(n){return new(n||e)(pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&Ci("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return e})();const pX="mdc-line-ripple--active",wE="mdc-line-ripple--deactivating";let mX=(()=>{class e{constructor(t,n){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(wE);"opacity"===r.propertyName&&o&&s.remove(pX,wE)},n.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(wE),t.add(pX)}deactivate(){this._elementRef.nativeElement.classList.add(wE)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(li))}}static{this.\u0275dir=me({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return e})(),gX=(()=>{class e{constructor(t,n){this._elementRef=t,this._ngZone=n,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(li))}}static{this.\u0275cmp=Ge({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&ki(s_t,5),2&n){let s;He(s=We())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&Ci("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Wi],attrs:a_t,ngContentSelectors:o_t,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(nr(),ye(0,"div",1),J(1,"div",2,0),Si(3),et(),ye(4,"div",3))},encapsulation:2,changeDetection:0})}}return e})();const L_t={transitionMessages:xr("transitionMessages",[Bn("enter",oi({opacity:1,transform:"translateY(0%)"})),gn("void => enter",[oi({opacity:0,transform:"translateY(-5px)"}),mn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let TE=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e})}}return e})();const CE=new te("MatFormField"),N_t=new te("MAT_FORM_FIELD_DEFAULT_OPTIONS");let vX=0,kl=(()=>{class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=pa(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const n=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,n,r,s,o,l,w,E){this._elementRef=t,this._changeDetectorRef=n,this._dir=s,this._platform=o,this._defaults=l,this._animationMode=w,this._labelChild=kht(ll),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+vX++,this._hintLabelId="mat-mdc-hint-"+vX++,this._subscriptAnimationState="",this._destroyed=new Fe,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=Jt(On),this.getLabelId=rp(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=rp(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){const n=this._control,r="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(r+t.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(r+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(Yi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),qr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),o2(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Yi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(t){const n=this._control?this._control.ngControl:null;return n&&n[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,l=n?.getBoundingClientRect().width??0,w=r?.getBoundingClientRect().width??0,E=s?.getBoundingClientRect().width??0,D=o?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${l+w}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`,this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${l+w+E+D}px)`)}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(In),pt(li),pt(Ya),pt(cr),pt(N_t,8),pt(Hr,8),pt(Gi))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,r,s){if(1&n&&(H6(s,r._labelChild,ll,5),Hn(s,TE,5),Hn(s,F_t,5),Hn(s,uX,5),Hn(s,lX,5),Hn(s,Ud,5)),2&n){let o;(function W6(e=1){iT(wM()+e)})(),He(o=We())&&(r._formFieldControl=o.first),He(o=We())&&(r._prefixChildren=o),He(o=We())&&(r._suffixChildren=o),He(o=We())&&(r._errorChildren=o),He(o=We())&&(r._hintChildren=o)}},viewQuery:function(n,r){if(1&n&&(ki(l_t,5),ki(c_t,5),ki(u_t,5),ki(h_t,5),ki(d_t,5),ki(fX,5),ki(gX,5),ki(mX,5)),2&n){let s;He(s=We())&&(r._textField=s.first),He(s=We())&&(r._iconPrefixContainer=s.first),He(s=We())&&(r._textPrefixContainer=s.first),He(s=We())&&(r._iconSuffixContainer=s.first),He(s=We())&&(r._textSuffixContainer=s.first),He(s=We())&&(r._floatingLabel=s.first),He(s=We())&&(r._notchedOutline=s.first),He(s=We())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&Ci("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[xi([{provide:CE,useExisting:e},{provide:dX,useExisting:e}]),Wi],ngContentSelectors:p_t,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(1&n){const s=xe();nr(f_t),Ht(0,v_t,1,1,"ng-template",null,0,zg),J(2,"div",6,1),Ut("click",function(l){return zt(s),Gt(r._control.onContainerClick(l))}),Ht(4,y_t,1,0,"div",7),J(5,"div",8),Ht(6,w_t,2,2,"div",9)(7,T_t,3,0,"div",10)(8,C_t,3,0,"div",11),J(9,"div",12),Ht(10,E_t,1,1,null,13),Si(11),et(),Ht(12,__t,3,0,"div",14)(13,A_t,3,0,"div",15),et(),Ht(14,D_t,1,0,"div",16),et(),J(15,"div",17),Ht(16,M_t,2,1,"div",18)(17,R_t,5,2,"div",19),et()}if(2&n){let s;ot(2),Ci("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ot(2),Tn(r._hasOutline()||r._control.disabled?-1:4),ot(2),Tn(r._hasOutline()?6:-1),ot(),Tn(r._hasIconPrefix?7:-1),ot(),Tn(r._hasTextPrefix?8:-1),ot(2),Tn(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),ot(2),Tn(r._hasTextSuffix?12:-1),ot(),Tn(r._hasIconSuffix?13:-1),ot(),Tn(r._hasOutline()?-1:14),ot(),Ci("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),ot(),Tn("error"===(s=r._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[fX,gX,jC,mX,Ud],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[L_t.transitionMessages]},changeDetection:0})}}return e})(),SE=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,hu,EP,rn]})}}return e})();const U_t=["panel"],z_t=["*"];function G_t(e,i){if(1&e){const t=xe();J(0,"div",1,0),Ut("@panelAnimation.done",function(r){return zt(t),Gt(St()._animationDone.next(r))}),Si(2),et()}if(2&e){const t=i.id,n=St();oo(n._classList),Ci("mat-mdc-autocomplete-visible",n.showPanel)("mat-mdc-autocomplete-hidden",!n.showPanel)("mat-primary","primary"===n._color)("mat-accent","accent"===n._color)("mat-warn","warn"===n._color),vt("id",n.id)("@panelAnimation",n.isOpen?"visible":"hidden"),_i("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}const H_t=xr("panelAnimation",[Bn("void, hidden",oi({opacity:0,transform:"scaleY(0.8)"})),gn(":enter, hidden => visible",[UP([mn("0.03s linear",oi({opacity:1})),mn("0.12s cubic-bezier(0, 0, 0.2, 1)",oi({transform:"scaleY(1)"}))])]),gn(":leave, visible => hidden",[mn("0.075s linear",oi({opacity:0}))])]);let W_t=0;class j_t{constructor(i,t){this.source=i,this.option=t}}const bX=new te("mat-autocomplete-default-options",{providedIn:"root",factory:function X_t(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let Y_t=(()=>{class e{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._changeDetectorRef.markForCheck()}set classList(t){this._classList=t,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,n,r,s){this._changeDetectorRef=t,this._elementRef=n,this._defaults=r,this._activeOptionChanges=Pe.EMPTY,this._animationDone=new Oe,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Oe,this.opened=new Oe,this.closed=new Oe,this.optionActivated=new Oe,this.id="mat-autocomplete-"+W_t++,this.inertGroups=s?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new Y7(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const n=new j_t(this,t);this.optionSelected.emit(n)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_skipPredicate(){return!1}static{this.\u0275fac=function(n){return new(n||e)(pt(In),pt(ai),pt(bX),pt(cr))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(n,r,s){if(1&n&&(Hn(s,hh,5),Hn(s,FP,5)),2&n){let o;He(o=We())&&(r.options=o),He(o=We())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(1&n&&(ki(yr,7),ki(U_t,5)),2&n){let s;He(s=We())&&(r.template=s.first),He(s=We())&&(r.panel=s.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",qe],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",qe],requireSelection:[2,"requireSelection","requireSelection",qe],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",qe],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",qe]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[xi([{provide:kP,useExisting:e}]),vn,Wi],ngContentSelectors:z_t,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(n,r){1&n&&(nr(),Ht(0,G_t,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[H_t]},changeDetection:0})}}return e})();const $_t={provide:va,useExisting:kn(()=>TX),multi:!0},wX=new te("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const e=Jt(Ss);return()=>e.scrollStrategies.reposition()}}),K_t={provide:wX,deps:[Ss],useFactory:function Q_t(e){return()=>e.scrollStrategies.reposition()}};let TX=(()=>{class e{constructor(t,n,r,s,o,l,w,E,D,k,O){this._element=t,this._overlay=n,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=o,this._dir=w,this._formField=E,this._document=D,this._viewportRuler=k,this._defaults=O,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Pe.EMPTY,this._breakpointObserver=Jt(_P),this._handsetLandscapeSubscription=Pe.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Fe,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new Fe,this._injector=Jt(On),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=$g(()=>{const L=this.autocomplete?this.autocomplete.options:null;return L?L.changes.pipe(Ma(L),ks(()=>qr(...L.map(U=>U.onSelectionChange)))):this._initialized.pipe(ks(()=>this.optionSelections))}),this._handlePanelKeydown=L=>{(27===L.keyCode&&!co(L)||38===L.keyCode&&co(L,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),L.stopPropagation(),L.preventDefault())},this._trackedModal=null,this._scrollStrategy=l}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&hv(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return qr(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Ln(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Ln(()=>this._overlayAttached)):wi()).pipe(Ri(t=>t instanceof pW?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return qr(Bc(this._document,"click"),Bc(this._document,"auxclick"),Bc(this._document,"touchend")).pipe(Ln(t=>{const n=Wo(t),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(n))&&(!s||!s.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const n=t.keyCode,r=co(t);if(27===n&&!r&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&13===n&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,o=38===n||40===n;9===n||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):o&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(o||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let n=t.target,r=n.value;if("number"===n.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),r){if(this.panelOpen&&!this.autocomplete.requireSelection){const s=this.autocomplete.options?.find(o=>o.selected);s&&r!==this._getDisplayValue(s.value)&&s.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===t.target){const s=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(s)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return qr(new dr(r=>{ao(()=>{r.next()},{injector:this._injector})}),this.autocomplete.options.changes.pipe(cs(()=>this._positionStrategy.reapplyLastPosition()),QP(0))).pipe(ks(()=>this._zone.run(()=>{const r=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),xs(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){const n=this.autocomplete;return n&&n.displayWith?n.displayWith(t):t}_assignOptionValue(t){const n=this._getDisplayValue(t);null==t&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(n??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const n=this.autocomplete,r=t?t.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),n._emitSelectEvent(r),this._element.nativeElement.focus()):n.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),n._animationDone?n._animationDone.pipe(xs(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,n){this.autocomplete?.options?.forEach(r=>{r!==t&&r.selected&&r.deselect(n)})}_openPanelInternal(t=this._element.nativeElement.value){this._attachOverlay(t),this._floatLabel(),this._trackedModal&&MS(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(t){let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new fh(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe("(max-width: 959.98px) and (orientation: landscape)").subscribe(s=>{s.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),n&&!n.hasAttached()&&(n.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new vv({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let o;o="above"===this.position?s:"below"===this.position?n:[...n,...s],t.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;if(t.autoActiveFirstOption){let n=-1;for(let r=0;r<t.options.length;r++)if(!t.options.get(r).disabled){n=r;break}t._keyManager.setActiveItem(n)}else t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const n=this.autocomplete,r=mW(t,n.options,n.optionGroups);if(0===t&&1===r)n._setScrollTop(0);else if(n.panel){const s=n.options.toArray()[t];if(s){const o=s._getHostElement(),l=gW(o.offsetTop,o.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(l)}}}_applyModalPanelOwnership(){const t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const n=this.autocomplete.id;this._trackedModal&&hv(this._trackedModal,"aria-owns",n),MS(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(hv(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(Ss),pt(Or),pt(li),pt(In),pt(wX),pt(Ya,8),pt(CE,9),pt(Gi,8),pt(mh),pt(bX,8))}}static{this.\u0275dir=me({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,r){1&n&&Ut("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(o){return r._handleInput(o)})("keydown",function(o){return r._handleKeydown(o)})("click",function(){return r._handleClick()}),2&n&&_i("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||null==r.autocomplete?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",qe]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[xi([$_t]),vn,lr]})}}return e})(),Z_t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[K_t],imports:[xp,BS,rn,hu,gh,BS,rn]})}}return e})();const CX=rc({passive:!0});let J_t=(()=>{class e{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return al;const n=uo(t),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new Fe,o="cdk-text-field-autofilled",l=w=>{"cdk-text-field-autofill-start"!==w.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===w.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>s.next({target:w.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>s.next({target:w.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,CX),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",l,CX)}}),s}stopMonitoring(t){const n=uo(t),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}static{this.\u0275fac=function(n){return new(n||e)(re(cr),re(li))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),q_t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({})}}return e})();const tAt=new te("MAT_INPUT_VALUE_ACCESSOR"),eAt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let iAt=0,Eh=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=pa(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(xu.required)??!1}set required(t){this._required=pa(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&R7().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=pa(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,r,s,o,l,w,E,D,k){this._elementRef=t,this._platform=n,this.ngControl=r,this._autofillMonitor=E,this._ngZone=D,this._formField=k,this._uid="mat-input-"+iAt++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Fe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>R7().has(U)),this._iOSKeyupListener=U=>{const j=U.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const O=this._elementRef.nativeElement,L=O.nodeName.toLowerCase();this._inputValueAccessor=w||O,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new PP(l,r,o,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=t,t?n.setAttribute("placeholder",t):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){eAt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(cr),pt(bu,10),pt(Ep,8),pt(wu,8),pt(oW),pt(tAt,10),pt(J_t),pt(li),pt(CE,8))}}static{this.\u0275dir=me({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&Ut("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&(uu("id",r.id)("disabled",r.disabled)("required",r.required),_i("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Ci("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[xi([{provide:TE,useExisting:e}]),lr]})}}return e})(),nAt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,SE,SE,q_t,rn]})}}return e})();function rAt(e,i){if(1&e&&(J(0,"mat-label"),ut(1),et()),2&e){const t=St();ot(),Ke(t.binding.title)}}function sAt(e,i){if(1&e){const t=xe();J(0,"button",7),Ut("click",function(){return zt(t),Gt(St().clearInput())}),J(1,"mat-icon"),ut(2,"close"),et()()}}function aAt(e,i){1&e&&(J(0,"mat-option",8),ye(1,"mat-spinner",9),et())}function oAt(e,i){if(1&e&&(J(0,"mat-option",10)(1,"span",11),ut(2),et(),ut(3),et()),2&e){const t=i.$implicit;vt("value",t),ot(2),Ke(t.code),ot(),Je("",t.display," ")}}let Ev=(()=>{class e{static{this.nextId=0}constructor(t){this.terminologyService=t,this.term="",this.selectionChange=new Oe,this.formControl=new MEt,this.loading=!1,this.selectedConcept={},this.stateChanges=new Fe,this.focused=!1,this.ngControl=null,this.errorState=!1,this.controlType="app-autocomplete-binding",this.id="app-autocomplete-binding-"+e.nextId++,this.describedBy="",this.onChange=()=>{},this.onTouched=()=>{}}get empty(){return!this.formControl.value}setDescribedByIds(t){this.describedBy=t.join(" ")}onContainerClick(t){}writeValue(t){this.formControl.setValue(t&&"object"==typeof t&&t.display?t.display:t,{emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnChanges(t){t.term&&(this.term=t.term.currentValue,this.formControl.setValue(this.term&&"object"==typeof this.term&&this.term.display?this.term.display:this.term))}ngOnInit(){this.autoFilter=this.formControl.valueChanges.pipe(vu(300),mp(),ks(t=>t?.length>=3?(this.loading=!0,this.terminologyService.expandValueSet(this.binding.ecl,t,0,50)):wi([])),cs(t=>{this.loading=!1}))}onTermChange(){this.formControl.setValue(this.term)}optionSelected(t){this.selectedConcept=t,this.selectionChange.emit(t),this.onChange(t)}clearInput(){this.formControl.reset(),this.selectedConcept={code:"",display:""},this.selectionChange.emit(this.selectedConcept)}change(t){const n=t?.option?.value;n&&(this.optionSelected({code:n.code,display:n.display}),this.formControl.setValue(n.display))}static{this.\u0275fac=function(n){return new(n||e)(pt(ma))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-autocomplete-binding"]],inputs:{binding:"binding",term:"term"},outputs:{selectionChange:"selectionChange"},features:[xi([{provide:va,useExisting:kn(()=>e),multi:!0},{provide:TE,useExisting:e}]),lr],decls:11,vars:10,consts:[["auto","matAutocomplete"],[4,"ngIf"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["autoActiveFirstOption","",3,"optionSelected"],["disabled","","class","loading",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["disabled","",1,"loading"],["diameter","35"],[3,"value"],[1,"code"]],template:function(n,r){if(1&n){const s=xe();J(0,"mat-form-field"),Ht(1,rAt,2,1,"mat-label",1),ye(2,"input",2),J(3,"mat-hint"),ut(4),et(),Ht(5,sAt,3,0,"button",3),J(6,"mat-autocomplete",4,0),Ut("optionSelected",function(l){return zt(s),Gt(r.change(l))}),Ht(8,aAt,2,0,"mat-option",5)(9,oAt,4,3,"mat-option",6),vs(10,"async"),et()()}if(2&n){let s;const o=Zi(7);ot(),vt("ngIf",r.binding.title),ot(),yd("placeholder",(null==r.formControl.value?null:r.formControl.value.display)||r.binding.title||"Search..."),vt("formControl",r.formControl)("matAutocomplete",o),ot(2),Ke(r.binding.note),ot(),vt("ngIf",r.formControl.value),ot(3),vt("ngIf",r.loading),ot(),vt("ngForOf",null==(s=Jl(10,8,r.autoFilter))||null==s.expansion?null:s.expansion.contains)}},dependencies:[ys,ls,jo,ga,kl,ll,Ud,hX,Y_t,hh,TX,Pd,Eh,Pl,Yo,lb,fR],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}.id-icon[_ngcontent-%COMP%]{margin-left:10px;color:#2e8b57}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}}return e})();function lAt(e,i){1&e&&ye(0,"mat-spinner",20)}function cAt(e,i){1&e&&(J(0,"th",21),ut(1," Date "),et())}function uAt(e,i){if(1&e&&(J(0,"td",22),ut(1),vs(2,"date"),et()),2&e){const t=i.$implicit;ot(),Je(" ",Pc(2,1,t.date,"yyyy-MM-dd")," ")}}function hAt(e,i){1&e&&(J(0,"th",21),ut(1," ConceptId "),et())}function dAt(e,i){if(1&e&&(J(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.code," ")}}function fAt(e,i){1&e&&(J(0,"th",21),ut(1," Term "),et())}function pAt(e,i){1&e&&(J(0,"span",24),ut(1,"Allergy / Intolerance condition"),et())}function mAt(e,i){if(1&e&&(J(0,"td",22),Ht(1,pAt,2,0,"span",23),ut(2),et()),2&e){const t=i.$implicit;ot(),vt("ngIf",t.allergy),ot(),Je(" ",t.display," ")}}function gAt(e,i){1&e&&ye(0,"tr",25)}function vAt(e,i){1&e&&ye(0,"tr",26)}function yAt(e,i){1&e&&(J(0,"th",21),ut(1," ConceptId "),et())}function xAt(e,i){if(1&e&&(J(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.code," ")}}function bAt(e,i){1&e&&(J(0,"th",21),ut(1," Term "),et())}function wAt(e,i){if(1&e&&(J(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.display," ")}}function TAt(e,i){1&e&&ye(0,"tr",25)}function CAt(e,i){1&e&&ye(0,"tr",26)}const SAt=[],EAt=[];let SX=(()=>{class e{constructor(t){this.terminologyService=t,this.problemBinding={ecl:"< 404684003 |Clinical finding|",title:"Search..."},this.eclProblem="< 404684003 |Clinical finding|",this.term="",this.displayedColumns=["date","code","display"],this.dataToDisplay=[...SAt],this.dataSource=new _At(this.dataToDisplay),this.loading=!1,this.displayedColumns2=["code","display"],this.dataToDisplay2=[...EAt],this.dataSource2=new AAt(this.dataToDisplay2)}updateProblem(t){var n=this;return we(function*(){n.selectedProblemSct=t})()}addProblem(t){var n=this;return we(function*(){if(n.selectedProblemSct||t){let r=t||n.selectedProblemSct;if(n.loading=!0,n.term=r.display,r.date=new Date,r.code.indexOf(":")>-1){r.allergy=!0;let s=r.substance;n.dataToDisplay2.find(o=>o.code===s.code)||(n.dataToDisplay2=[...n.dataToDisplay2,s],n.dataSource2.setData(n.dataToDisplay2))}else(yield n.getAllergyData(r))?.expansion?.contains?.length>0&&(r.allergy=!0,n.addAllergySubstanceToList(r));n.dataToDisplay.find(s=>s.code===r.code)||(n.dataToDisplay=[...n.dataToDisplay,r],n.dataSource.setData(n.dataToDisplay)),n.loading=!1,n.term=""}})()}addAllergySubstanceToList(t){var n=this;return we(function*(){(yield n.getAllergySubstance(t))?.expansion?.contains?.forEach(s=>{n.dataToDisplay2.find(o=>o.code===s.code)||(n.dataToDisplay2=[...n.dataToDisplay2,s],n.dataSource2.setData(n.dataToDisplay2))})})()}getAllergyData(t){var n=this;return we(function*(){return Ia((yield n.terminologyService.expandValueSet("<<418038007 |Propensity to adverse reactions to substance| OR <<420134006 |Propensity to adverse reaction (finding)|",t.code,0,1)).pipe(Ri(s=>s)))})()}getAllergySubstance(t){var n=this;return we(function*(){return Ia((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . (246075003 |Causative agent (attribute)| OR 47429007 |Associated with (attribute)|)`,"")).pipe(Ri(s=>s)))})()}static{this.\u0275fac=function(n){return new(n||e)(pt(ma))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-allergies-problem-list"]],decls:60,vars:11,consts:[["substancePopoverMenu","matMenu"],["id","main-card"],[1,"container-space"],[1,"problem-list"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],[1,"container"],[1,"item"],[3,"selectionChange","binding","term"],["mat-flat-button","","color","primary",3,"click"],["diameter","35",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","display"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","35"],["mat-header-cell",""],["mat-cell",""],["class","tag pill",4,"ngIf"],[1,"tag","pill"],["mat-header-row",""],["mat-row",""]],template:function(n,r){if(1&n){const s=xe();J(0,"mat-card",1)(1,"div",2)(2,"div",3)(3,"h4"),ut(4,"Problem List "),J(5,"button",4)(6,"mat-icon"),ut(7,"info"),et()(),J(8,"mat-menu",null,0)(10,"span",5),Ut("click",function(l){return zt(s),Gt(l.stopPropagation())}),J(11,"h4"),ut(12,"Problem list"),et(),J(13,"p"),ut(14,"Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies \u2013 Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource."),et(),J(15,"p"),ut(16,"For practical guidance using SNOMED CT to document hypersensitivity to specific substances in a problem list, it is suggested to map to the appropriate concepts under the 473011001 |Allergic condition (finding)|hierarchies. This is due to the lack of sufficient content under 609433001 |Hypersensitivity disposition (finding)|and 421961002 |Hypersensitivity reaction (disorder)| and that many of the concepts under 609328004 |Allergic disposition (finding)|and 419076005 |Allergic reaction (disorder)| have unclear mechanisms which may actually represent non-allergic hypersensitivity. Please note that SNOMED international does not plan to create new children concepts of hypersensitivity disposition to specific substances unless more than one Member country would submit a request for them to answer to an active use-case."),et(),J(17,"p"),ut(18,"Almost all allergy concepts are modeled by substances in SNOMED CT. A very small number of allergy concepts are modeled by products but with explicit description for the specific intended meaning. Records of allergy to multiple substances or to multi-ingredient products should be recoded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix)."),et(),J(19,"p"),ut(20,"Vaccine allergy is an example where allergy concepts are modeled using a product concept. For example, \u2018Allergy to component of vaccine product (finding)\u2019 with a synonym \u2018vaccine allergy\u2019 has been modeled by vaccine product. The concept represents that allergy is caused by any substance in a vaccine product."),et(),J(21,"p"),ut(22,"To record the level of certainty or verification status, it is recommended to use additional data elements in the EHR information model. Even though it is possible to utilize the SNOMED CT model for \u2018situation with explicit context\u2019 to express certainty, this is not recommended due to potential ambiguity. For example, \u201csuspected penicillin allergy\u201d can mean uncertainty with the condition (is it real allergy?) or with the causative agent (is it penicillin?). Even though SNOMED CT editorial guideline is clear that the first interpretation is correct, it is better to use other methods to represent the uncertainty to avoid confusion."),et(),J(23,"p"),ut(24,"For more information check the "),J(25,"a",6),ut(26,"Implementation Guide"),et(),ut(27," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),J(28,"div",7)(29,"div",8)(30,"app-autocomplete-binding",9),Ut("selectionChange",function(l){return zt(s),Gt(r.updateProblem(l))}),et()(),J(31,"div",8)(32,"button",10),Ut("click",function(){return zt(s),Gt(r.addProblem())}),ut(33,"Add problem"),et()(),J(34,"div",8),Ht(35,lAt,1,0,"mat-spinner",11),et()(),J(36,"table",12),Qi(37,13),Ht(38,cAt,2,0,"th",14)(39,uAt,3,4,"td",15),Ki(),Qi(40,16),Ht(41,hAt,2,0,"th",14)(42,dAt,2,1,"td",15),Ki(),Qi(43,17),Ht(44,fAt,2,0,"th",14)(45,mAt,3,2,"td",15),Ki(),Ht(46,gAt,1,0,"tr",18)(47,vAt,1,0,"tr",19),et()(),J(48,"div",3)(49,"h4"),ut(50,"Substances the patient is allergic to:"),et(),J(51,"table",12),Qi(52,16),Ht(53,yAt,2,0,"th",14)(54,xAt,2,1,"td",15),Ki(),Qi(55,17),Ht(56,bAt,2,0,"th",14)(57,wAt,2,1,"td",15),Ki(),Ht(58,TAt,1,0,"tr",18)(59,CAt,1,0,"tr",19),et()()()()}if(2&n){const s=Zi(9);ot(5),vt("matMenuTriggerFor",s),ot(5),vt("disableRipple",!0),ot(20),vt("binding",r.problemBinding)("term",r.term),ot(5),vt("ngIf",r.loading),ot(),vt("dataSource",r.dataSource),ot(10),vt("matHeaderRowDef",r.displayedColumns),ot(),vt("matRowDefColumns",r.displayedColumns),ot(4),vt("dataSource",r.dataSource2),ot(7),vt("matHeaderRowDef",r.displayedColumns2),ot(),vt("matRowDefColumns",r.displayedColumns2)}},dependencies:[ls,Cs,jo,ga,Rl,oc,vh,Pd,tb,kd,wh,Fd,Th,bh,Od,Ch,Sh,Ld,Nd,Ev,sh],styles:["#main-card[_ngcontent-%COMP%]{padding:10px}app-autocomplete-binding[_ngcontent-%COMP%]{display:block;min-width:500px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin:10px 0;gap:10px}.container-space[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin:10px 0;gap:10px}.problem-list[_ngcontent-%COMP%]{width:60%}.tag[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding-left:10px;padding-right:10px;margin-top:5px}td[_ngcontent-%COMP%]{position:relative}.pill[_ngcontent-%COMP%]{display:inline-block;font-size:10px;background-color:orange;color:#fff;padding:4px 8px;border-radius:20px;position:absolute;top:0;right:0;margin-top:1rem}.mat-column-display[_ngcontent-%COMP%]{min-width:350px}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}}return e})();class _At extends vS{constructor(i){super(),this._dataStream=new Lx,this.setData(i)}connect(){return this._dataStream}disconnect(){}setData(i){this._dataStream.next(i)}}class AAt extends vS{constructor(i){super(),this._dataStream=new Lx,this.setData(i)}connect(){return this._dataStream}disconnect(){}setData(i){this._dataStream.next(i)}}const Ok=["*"];function DAt(e,i){1&e&&Si(0)}const MAt=["tabListContainer"],IAt=["tabList"],RAt=["tabListInner"],PAt=["nextPaginator"],kAt=["previousPaginator"],FAt=e=>({animationDuration:e}),OAt=(e,i)=>({value:e,params:i});function LAt(e,i){}const NAt=["tabBodyWrapper"],BAt=["tabHeader"];function VAt(e,i){}function UAt(e,i){1&e&&Ht(0,VAt,0,0,"ng-template",12),2&e&&vt("cdkPortalOutlet",St().$implicit.templateLabel)}function zAt(e,i){1&e&&ut(0),2&e&&Ke(St().$implicit.textLabel)}function GAt(e,i){if(1&e){const t=xe();J(0,"div",7,2),Ut("click",function(){const r=zt(t),s=r.$implicit,o=r.$index,l=St(),w=Zi(1);return Gt(l._handleClick(s,w,o))})("cdkFocusChange",function(r){const s=zt(t).$index;return Gt(St()._tabFocusChanged(r,s))}),ye(2,"span",8)(3,"div",9),J(4,"span",10)(5,"span",11),Ht(6,UAt,1,1,null,12)(7,zAt,1,1),et()()()}if(2&e){const t=i.$implicit,n=i.$index,r=Zi(1),s=St();oo(t.labelClass),Ci("mdc-tab--active",s.selectedIndex===n),vt("id",s._getTabLabelId(n))("disabled",t.disabled)("fitInkBarToContent",s.fitInkBarToContent),_i("tabIndex",s._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(n))("aria-selected",s.selectedIndex===n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),ot(3),vt("matRippleTrigger",r)("matRippleDisabled",t.disabled||s.disableRipple),ot(3),Tn(t.templateLabel?6:7)}}function HAt(e,i){1&e&&Si(0)}function WAt(e,i){if(1&e){const t=xe();J(0,"mat-tab-body",13),Ut("_onCentered",function(){return zt(t),Gt(St()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return zt(t),Gt(St()._setTabBodyWrapperHeight(r))}),et()}if(2&e){const t=i.$implicit,n=i.$index,r=St();oo(t.bodyClass),Ci("mat-mdc-tab-body-active",r.selectedIndex===n),vt("id",r._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),_i("tabindex",null!=r.contentTabIndex&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))("aria-hidden",r.selectedIndex!==n)}}const jAt=new te("MatTabContent");let XAt=(()=>{class e{constructor(t){this.template=t}static{this.\u0275fac=function(n){return new(n||e)(pt(yr))}}static{this.\u0275dir=me({type:e,selectors:[["","matTabContent",""]],standalone:!0,features:[xi([{provide:jAt,useExisting:e}])]})}}return e})();const YAt=new te("MatTabLabel"),EX=new te("MAT_TAB");let $At=(()=>{class e extends sCt{constructor(t,n,r){super(t,n),this._closestTab=r}static{this.\u0275fac=function(n){return new(n||e)(pt(yr),pt(Or),pt(EX,8))}}static{this.\u0275dir=me({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[xi([{provide:YAt,useExisting:e}]),yi]})}}return e})();const _X=new te("MAT_TAB_GROUP");let _v=(()=>{class e{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}constructor(t,n){this._viewContainerRef=t,this._closestTabGroup=n,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new Fe,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new fh(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static{this.\u0275fac=function(n){return new(n||e)(pt(Or),pt(_X,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-tab"]],contentQueries:function(n,r,s){if(1&n&&(Hn(s,$At,5),Hn(s,XAt,7,yr)),2&n){let o;He(o=We())&&(r.templateLabel=o.first),He(o=We())&&(r._explicitContent=o.first)}},viewQuery:function(n,r){if(1&n&&ki(yr,7),2&n){let s;He(s=We())&&(r._implicitContent=s.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",qe],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[xi([{provide:EX,useExisting:e}]),vn,lr,Wi],ngContentSelectors:Ok,decls:1,vars:0,template:function(n,r){1&n&&(nr(),Ht(0,DAt,1,0,"ng-template"))},encapsulation:2})}}return e})();const Lk="mdc-tab-indicator--active",AX="mdc-tab-indicator--no-transition";class QAt{constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar())}alignToElement(i){const t=this._items.find(r=>r.elementRef.nativeElement===i),n=this._currentItem;if(t!==n&&(n?.deactivateInkBar(),t)){const r=n?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(r),this._currentItem=t}}}let KAt=(()=>{class e{constructor(){this._elementRef=Jt(ai),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const n=this._elementRef.nativeElement;if(!t||!n.getBoundingClientRect||!this._inkBarContentElement)return void n.classList.add(Lk);const r=n.getBoundingClientRect(),s=t.width/r.width,o=t.left-r.left;n.classList.add(AX),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${s})`),n.getBoundingClientRect(),n.classList.remove(AX),n.classList.add(Lk),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Lk)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=t.createElement("span"),r=this._inkBarContentElement=t.createElement("span");n.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",qe]},features:[vn]})}}return e})(),DX=(()=>{class e extends KAt{constructor(t){super(),this.elementRef=t,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(n){return new(n||e)(pt(ai))}}static{this.\u0275dir=me({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,r){2&n&&(_i("aria-disabled",!!r.disabled),Ci("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",qe]},standalone:!0,features:[vn,yi]})}}return e})();const MX=rc({passive:!0});let tDt=(()=>{class e{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const n=isNaN(t)?0:t;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}constructor(t,n,r,s,o,l,w){this._elementRef=t,this._changeDetectorRef=n,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=l,this._animationMode=w,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Fe,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Fe,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Oe,this.indexFocused=new Oe,this._sharedResizeObserver=Jt(oX),this._injector=Jt(On),o.runOutsideAngular(()=>{Bc(t.nativeElement,"mouseleave").pipe(Yi(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Bc(this._previousPaginator.nativeElement,"touchstart",MX).pipe(Yi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Bc(this._nextPaginator.nativeElement,"touchstart",MX).pipe(Yi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:wi("ltr"),n=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(vu(32),Yi(this._destroyed)),r=this._viewportRuler.change(150).pipe(Yi(this._destroyed)),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new MP(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),ao(s,{injector:this._injector}),qr(t,r,n,this._items.changes,this._itemsResized()).pipe(Yi(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?al:this._items.changes.pipe(Ma(this._items),ks(t=>new dr(n=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>n.next(s));return t.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),SP(1),Ln(t=>t.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!co(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const n=this._items?this._items.toArray()[t]:null;if(!n)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=n.elementRef.nativeElement;let l,w;"ltr"==this._getLayoutDirection()?(l=s,w=l+o):(w=this._tabListInner.nativeElement.offsetWidth-s,l=w-o);const E=this.scrollDistance,D=this.scrollDistance+r;l<E?this.scrollDistance-=E-l:w>D&&(this.scrollDistance+=Math.min(w-D,l-E))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const r=this._tabListInner.nativeElement.scrollWidth-this._elementRef.nativeElement.offsetWidth>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=t?t.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),Kx(650,100).pipe(Yi(qr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(t);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(In),pt(mh),pt(Ya,8),pt(li),pt(cr),pt(Hr,8))}}static{this.\u0275dir=me({type:e,inputs:{disablePagination:[2,"disablePagination","disablePagination",qe],selectedIndex:[2,"selectedIndex","selectedIndex",jr]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[vn]})}}return e})(),eDt=(()=>{class e extends tDt{constructor(t,n,r,s,o,l,w){super(t,n,r,s,o,l,w),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new QAt(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(In),pt(mh),pt(Ya,8),pt(li),pt(cr),pt(Hr,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-tab-header"]],contentQueries:function(n,r,s){if(1&n&&Hn(s,DX,4),2&n){let o;He(o=We())&&(r._items=o)}},viewQuery:function(n,r){if(1&n&&(ki(MAt,7),ki(IAt,7),ki(RAt,7),ki(PAt,5),ki(kAt,5)),2&n){let s;He(s=We())&&(r._tabListContainer=s.first),He(s=We())&&(r._tabList=s.first),He(s=We())&&(r._tabListInner=s.first),He(s=We())&&(r._nextPaginator=s.first),He(s=We())&&(r._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,r){2&n&&Ci("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",qe]},standalone:!0,features:[vn,yi,Wi],ngContentSelectors:Ok,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(n,r){if(1&n){const s=xe();nr(),J(0,"div",5,0),Ut("click",function(){return zt(s),Gt(r._handlePaginatorClick("before"))})("mousedown",function(l){return zt(s),Gt(r._handlePaginatorPress("before",l))})("touchend",function(){return zt(s),Gt(r._stopInterval())}),ye(2,"div",6),et(),J(3,"div",7,1),Ut("keydown",function(l){return zt(s),Gt(r._handleKeydown(l))}),J(5,"div",8,2),Ut("cdkObserveContent",function(){return zt(s),Gt(r._onContentChanges())}),J(7,"div",9,3),Si(9),et()()(),J(10,"div",10,4),Ut("mousedown",function(l){return zt(s),Gt(r._handlePaginatorPress("after",l))})("click",function(){return zt(s),Gt(r._handlePaginatorClick("after"))})("touchend",function(){return zt(s),Gt(r._stopInterval())}),ye(12,"div",6),et()}2&n&&(Ci("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),vt("matRippleDisabled",r._disableScrollBefore||r.disableRipple),ot(3),Ci("_mat-animation-noopable","NoopAnimations"===r._animationMode),ot(2),_i("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),ot(5),Ci("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),vt("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[uh,N7],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return e})();const iDt=new te("MAT_TABS_CONFIG"),nDt={translateTab:xr("translateTab",[Bn("center, void, left-origin-center, right-origin-center",oi({transform:"none",visibility:"visible"})),Bn("left",oi({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Bn("right",oi({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),gn("* => left, * => right, left => center, right => center",mn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),gn("void => left-origin-center",[oi({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),mn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),gn("void => right-origin-center",[oi({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),mn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let rDt=(()=>{class e extends ph{constructor(t,n,r,s){super(t,n,s),this._host=r,this._centeringSub=Pe.EMPTY,this._leavingSub=Pe.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ma(this._host._isCenterPosition(this._host._position))).subscribe(t=>{this._host._content&&t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(pt(Qf),pt(Or),pt(kn(()=>IX)),pt(Gi))}}static{this.\u0275dir=me({type:e,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[yi]})}}return e})(),IX=(()=>{class e{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,n,r){this._elementRef=t,this._dir=n,this._dirChangeSubscription=Pe.EMPTY,this._translateTabComplete=new Fe,this._onCentering=new Oe,this._beforeCentering=new Oe,this._afterLeavingCenter=new Oe,this._onCentered=new Oe(!0),this.animationDuration="500ms",this.preserveContent=!1,n&&(this._dirChangeSubscription=n.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const n=this._isCenterPosition(t.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const n=this._getLayoutDirection();return"ltr"==n&&t<=0||"rtl"==n&&t>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(Ya,8),pt(In))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-tab-body"]],viewQuery:function(n,r){if(1&n&&ki(ph,5),2&n){let s;He(s=We())&&(r._portalHost=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Wi],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,r){if(1&n){const s=xe();J(0,"div",1,0),Ut("@translateTab.start",function(l){return zt(s),Gt(r._onTranslateTabStarted(l))})("@translateTab.done",function(l){return zt(s),Gt(r._translateTabComplete.next(l))}),Ht(2,LAt,0,0,"ng-template",2),et()}2&n&&vt("@translateTab",k2(3,OAt,r._position,Al(1,FAt,r.animationDuration)))},dependencies:[rDt,Jx],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[nDt.translateTab]}})}}return e})(),sDt=0,Ap=(()=>{class e{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}get animationDuration(){return this._animationDuration}set animationDuration(t){const n=t+"";this._animationDuration=/^\d+$/.test(n)?t+"ms":n}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&n.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,n,r,s){this._elementRef=t,this._changeDetectorRef=n,this._animationMode=s,this._tabs=new Ju,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Pe.EMPTY,this._tabLabelSubscription=Pe.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Oe,this.focusChange=new Oe,this.animationDone=new Oe,this.selectedTabChange=new Oe(!0),this._isServer=!Jt(cr).isBrowser,this._groupId=sDt++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,null!=r?.contentTabIndex&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===t),n||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-t,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const n=this._tabs.toArray();let r;for(let s=0;s<n.length;s++)if(n[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=n[s];break}!r&&n[t]&&Promise.resolve().then(()=>{n[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ma(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const n=this._tabHeader;n&&(n.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const n=new oDt;return n.index=t,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[t]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=qr(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,n,r){n.focusIndex=r,t.disabled||(this.selectedIndex=r)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,n){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=n)}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(In),pt(iDt,8),pt(Hr,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-tab-group"]],contentQueries:function(n,r,s){if(1&n&&Hn(s,_v,5),2&n){let o;He(o=We())&&(r._allTabs=o)}},viewQuery:function(n,r){if(1&n&&(ki(NAt,5),ki(BAt,5)),2&n){let s;He(s=We())&&(r._tabBodyWrapper=s.first),He(s=We())&&(r._tabHeader=s.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(n,r){2&n&&(oo("mat-"+(r.color||"primary")),$s("--mat-tab-animation-duration",r.animationDuration),Ci("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",qe],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",qe],dynamicHeight:[2,"dynamicHeight","dynamicHeight",qe],selectedIndex:[2,"selectedIndex","selectedIndex",jr],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",jr],disablePagination:[2,"disablePagination","disablePagination",qe],disableRipple:[2,"disableRipple","disableRipple",qe],preserveContent:[2,"preserveContent","preserveContent",qe],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[xi([{provide:_X,useExisting:e}]),vn,Wi],ngContentSelectors:Ok,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(n,r){if(1&n){const s=xe();nr(),J(0,"mat-tab-header",3,0),Ut("indexFocused",function(l){return zt(s),Gt(r._focusChanged(l))})("selectFocusedIndex",function(l){return zt(s),Gt(r.selectedIndex=l)}),sC(2,GAt,8,17,"div",4,rC),et(),Ht(4,HAt,1,0),J(5,"div",5,1),sC(7,WAt,1,13,"mat-tab-body",6,rC),et()}2&n&&(vt("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),ot(2),aC(r._tabs),ot(2),Tn(r._isServer?4:-1),ot(),Ci("_mat-animation-noopable","NoopAnimations"===r._animationMode),ot(2),aC(r._tabs))},dependencies:[eDt,DX,mTt,uh,ph,IX],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return e})();class oDt{}let lDt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,rn]})}}return e})();var Tu=Mt(2578);class cDt{constructor(i,t){this._document=t;const n=this._textarea=this._document.createElement("textarea"),r=n.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",n.setAttribute("aria-hidden","true"),n.value=i,n.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(n)}copy(){const i=this._textarea;let t=!1;try{if(i){const n=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),t=this._document.execCommand("copy"),n&&n.focus()}}catch{}return t}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let Nk=(()=>{class e{constructor(t){this._document=t}copy(t){const n=this.beginCopy(t),r=n.copy();return n.destroy(),r}beginCopy(t){return new cDt(t,this._document)}static{this.\u0275fac=function(n){return new(n||e)(re(Gi))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const uDt=new te("HighlightJs-Config");let EE=(()=>{class e{constructor(t,n,r,s,o){this.el=t,this.ngModel=n,this.doc=r,this.ngZone=o,this.lang="html",this.mode="simple",Object.assign(this,s)}escapeHTML(t){return(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}init(){this.ngZone.runOutsideAngular(()=>{this.destroy();const t=this.el.nativeElement,n=this.code||""+t.innerHTML.trim();if(this.codeEl=this.doc.createElement("default"===this.mode?"div":"pre"),null==this.codeEl)return;const r="simple"===this.mode;r?(this.lang&&(this.codeEl.className=this.lang),this.parentEl=t.parentNode,this.parentEl.insertBefore(this.codeEl,t.nextSibling)):(this.parentEl=t,this.parentEl.innerHTML="",this.parentEl.appendChild(this.codeEl)),this.codeEl.innerHTML=n,hljs.configure({...this.options}),r?hljs.highlightElement(this.codeEl):this.codeEl.querySelectorAll("pre code").forEach(s=>{hljs.highlightElement(s)})})}destroy(){this.codeEl&&this.parentEl&&(this.parentEl.removeChild(this.codeEl),this.codeEl=void 0)}ngAfterViewInit(){this.init(),this.ngModel?this.modelValue$=this.ngModel.valueChanges?.subscribe(t=>{this.code=this.escapeHTML(t),this.init()}):this.initMutation()}ngOnDestroy(){this.destroy(),this.destroyMutation(),this.modelValue$&&this.modelValue$.unsubscribe()}initMutation(){typeof MutationObserver>"u"||this.ngZone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.init.bind(this)),this.observer.observe(this.el.nativeElement,{characterData:!0,childList:!0,subtree:!0})})}destroyMutation(){this.observer&&this.observer.disconnect()}}return e.\u0275fac=function(t){return new(t||e)(pt(ai),pt(lc,8),pt(Gi),pt(uDt,8),pt(li))},e.\u0275dir=me({type:e,selectors:[["","highlight-js",""]],hostVars:2,hostBindings:function(t,n){2&t&&$s("display","simple"===n.mode?"none":null)},inputs:{options:"options",lang:"lang",code:"code",mode:"mode"},exportAs:["highlightJs"],standalone:!0}),e})(),hDt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Hi({type:e}),e.\u0275inj=Ui({imports:[Fk]}),e})();const dDt=["trigger"],fDt=["panel"],pDt=[[["mat-select-trigger"]],"*"],mDt=["mat-select-trigger","*"];function gDt(e,i){if(1&e&&(J(0,"span",4),ut(1),et()),2&e){const t=St();ot(),Ke(t.placeholder)}}function vDt(e,i){1&e&&Si(0)}function yDt(e,i){if(1&e&&(J(0,"span",11),ut(1),et()),2&e){const t=St(2);ot(),Ke(t.triggerValue)}}function xDt(e,i){if(1&e&&(J(0,"span",5),Ht(1,vDt,1,0)(2,yDt,2,1,"span",11),et()),2&e){const t=St();ot(),Tn(t.customTrigger?1:2)}}function bDt(e,i){if(1&e){const t=xe();J(0,"div",12,1),Ut("@transformPanel.done",function(r){return zt(t),Gt(St()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return zt(t),Gt(St()._handleKeydown(r))}),Si(2,1),et()}if(2&e){const t=St();(function s6(e,i,t){Rc(yl,cu,Rg(Ee(),e,i,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),vt("ngClass",t.panelClass)("@transformPanel","showing"),_i("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const wDt={transformPanelWrap:xr("transformPanelWrap",[gn("* => void",zS("@transformPanel",[US()],{optional:!0}))]),transformPanel:xr("transformPanel",[Bn("void",oi({opacity:0,transform:"scale(1, 0.8)"})),gn("void => showing",mn("120ms cubic-bezier(0, 0, 0.2, 1)",oi({opacity:1,transform:"scale(1, 1)"}))),gn("* => void",mn("100ms linear",oi({opacity:0})))])};let RX=0;const PX=new te("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const e=Jt(Ss);return()=>e.scrollStrategies.reposition()}}),CDt=new te("MAT_SELECT_CONFIG"),SDt={provide:PX,deps:[Ss],useFactory:function TDt(e){return()=>e.scrollStrategies.reposition()}},EDt=new te("MatSelectTrigger");class _Dt{constructor(i,t){this.source=i,this.value=t}}let Av=(()=>{class e{_scrollOptionIntoView(t){const n=this.options.toArray()[t];if(n){const r=this.panel.nativeElement,s=mW(t,this.options,this.optionGroups),o=n._getHostElement();r.scrollTop=0===t&&1===s?0:gW(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new _Dt(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(xu.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,r,s,o,l,w,E,D,k,O,L,U,j){this._viewportRuler=t,this._changeDetectorRef=n,this._elementRef=o,this._dir=l,this._parentFormField=D,this.ngControl=k,this._liveAnnouncer=U,this._defaultOptions=j,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(W,Z)=>W===Z,this._uid="mat-select-"+RX++,this._triggerAriaLabelledBy=null,this._destroy=new Fe,this.stateChanges=new Fe,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+RX++,this._panelDoneAnimatingStream=new Fe,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Fe,this.optionSelectionChanges=$g(()=>{const W=this.options;return W?W.changes.pipe(Ma(W),ks(()=>qr(...W.map(Z=>Z.onSelectionChange)))):this._initialized.pipe(ks(()=>this.optionSelectionChanges))}),this.openedChange=new Oe,this._openedStream=this.openedChange.pipe(Ln(W=>W),Ri(()=>{})),this._closedStream=this.openedChange.pipe(Ln(W=>!W),Ri(()=>{})),this.selectionChange=new Oe,this.valueChange=new Oe,this._trackedModal=null,this._skipPredicate=W=>!this.panelOpen&&W.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=j?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=j.typeaheadDebounceInterval),this._errorStateTracker=new PP(s,k,E,w,this.stateChanges),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}ngOnInit(){this._selectionModel=new uP(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(mp(),Yi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Yi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Yi(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Ma(null),Yi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),n=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const n=`${this.id}-panel`;this._trackedModal&&hv(this._trackedModal,"aria-owns",n),MS(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(hv(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const n=t.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&s&&!co(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;o.onKeydown(t);const w=this.selected;w&&l!==w&&this._liveAnnouncer.announce(w.viewValue,1e4)}}_handleOpenKeydown(t){const n=this._keyManager,r=t.keyCode,s=40===r||38===r,o=n.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==r&&32!==r||!n.activeItem||co(t))if(!o&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const l=this.options.some(w=>!w.disabled&&!w.selected);this.options.forEach(w=>{w.disabled||(l?w.select():w.deselect())})}else{const l=n.activeItemIndex;n.onKeydown(t),this._multiple&&s&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}else t.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(xs(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof YS?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Y7(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=qr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Yi(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),qr(...this.options.map(n=>n._stateChanges)).pipe(Yi(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,n){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,t):t.indexOf(n)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let n;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){t=n;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(n){return new(n||e)(pt(mh),pt(In),pt(li),pt(oW),pt(ai),pt(Ya,8),pt(Ep,8),pt(wu,8),pt(CE,8),pt(bu,10),wl("tabindex"),pt(PX),pt(tW),pt(CDt,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-select"]],contentQueries:function(n,r,s){if(1&n&&(Hn(s,EDt,5),Hn(s,hh,5),Hn(s,FP,5)),2&n){let o;He(o=We())&&(r.customTrigger=o.first),He(o=We())&&(r.options=o),He(o=We())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(1&n&&(ki(dDt,5),ki(fDt,5),ki(UW,5)),2&n){let s;He(s=We())&&(r.trigger=s.first),He(s=We())&&(r.panel=s.first),He(s=We())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){1&n&&Ut("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&n&&(_i("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Ci("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",qe],disableRipple:[2,"disableRipple","disableRipple",qe],tabIndex:[2,"tabIndex","tabIndex",t=>null==t?0:jr(t)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",qe],placeholder:"placeholder",required:[2,"required","required",qe],multiple:[2,"multiple","multiple",qe],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",qe],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",jr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[xi([{provide:TE,useExisting:e},{provide:kP,useExisting:e}]),vn,lr,Wi],ngContentSelectors:mDt,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(1&n){const s=xe();nr(pDt),J(0,"div",2,0),Ut("click",function(){return zt(s),Gt(r.open())}),J(3,"div",3),Ht(4,gDt,2,1,"span",4)(5,xDt,3,1,"span",5),et(),J(6,"div",6)(7,"div",7),bl(),J(8,"svg",8),ye(9,"path",9),et()()()(),Ht(10,bDt,3,9,"ng-template",10),Ut("backdropClick",function(){return zt(s),Gt(r.close())})("attach",function(){return zt(s),Gt(r._onAttached())})("detach",function(){return zt(s),Gt(r.close())})}if(2&n){const s=Zi(1);ot(3),_i("id",r._valueId),ot(),Tn(r.empty?4:5),ot(6),vt("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[YS,UW,Td],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[wDt.transformPanel]},changeDetection:0})}}return e})(),kX=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[SDt],imports:[hu,xp,BS,rn,gh,SE,BS,rn]})}}return e})();const ADt=["tooltip"],OX=new te("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const e=Jt(Ss);return()=>e.scrollStrategies.reposition({scrollThrottle:20})}}),MDt={provide:OX,deps:[Ss],useFactory:function DDt(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}},RDt=new te("mat-tooltip-default-options",{providedIn:"root",factory:function IDt(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),LX="tooltip-panel",NX=rc({passive:!0});let _h=(()=>{class e{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=pa(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){const n=pa(t);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Id(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Id(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){const n=this._message;this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,n,r,s,o,l,w,E,D,k,O,L){this._overlay=t,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=l,this._ariaDescriber=w,this._focusMonitor=E,this._dir=k,this._defaultOptions=O,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=LDt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new Fe,this._injector=Jt(On),this._scrollStrategy=D,this._document=L,O&&(this._showDelay=O.showDelay,this._hideDelay=O.hideDelay,O.position&&(this.position=O.position),O.positionAtOrigin&&(this.positionAtOrigin=O.positionAtOrigin),O.touchGestures&&(this.touchGestures=O.touchGestures),O.tooltipClass&&(this.tooltipClass=O.tooltipClass)),k.change.pipe(Yi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Yi(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{t.removeEventListener(n,r,NX)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new mv(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Yi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(t):(n._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof ai)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(Yi(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${LX}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Yi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Yi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Yi(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!co(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const n=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),ao(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:n}}_updateCurrentPositionClass(t){const{overlayY:n,originX:r,originY:s}=t;let o;if(o="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===s?"above":"below",o!==this._currentPosition){const l=this._overlayRef;if(l){const w=`${this._cssClassPrefix}-${LX}-`;l.removePanelClass(w+this._currentPosition),l.addPanelClass(w+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(n=t),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const n=t.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",n],["touchcancel",n])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,NX)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const n=this._elementRef.nativeElement,r=n.style;("on"===t||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(n){return new(n||e)(pt(Ss),pt(ai),pt(Zx),pt(Or),pt(li),pt(cr),pt(H7),pt(sc),pt(OX),pt(Ya),pt(RDt,8),pt(Gi))}}static{this.\u0275dir=me({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){2&n&&Ci("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return e})(),LDt=(()=>{class e{constructor(t,n,r){this._changeDetectorRef=t,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Fe,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const n=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(t?s:r),n.classList.add(t?r:s),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(n);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static{this.\u0275fac=function(n){return new(n||e)(pt(In),pt(ai),pt(Hr,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(1&n&&ki(ADt,7),2&n){let s;He(s=We())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,r){1&n&&Ut("mouseleave",function(o){return r._handleMouseLeave(o)})},standalone:!0,features:[Wi],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,r){if(1&n){const s=xe();J(0,"div",1,0),Ut("animationend",function(l){return zt(s),Gt(r._handleAnimationEnd(l))}),J(2,"div",2),ut(3),et()()}2&n&&(Ci("mdc-tooltip--multiline",r._isMultiline),vt("ngClass",r.tooltipClass),ot(3),Ke(r.message))},dependencies:[Td],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return e})(),BX=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[MDt],imports:[rW,hu,xp,rn,rn,gh]})}}return e})();const NDt=["switch"],BDt=["*"];function VDt(e,i){1&e&&(J(0,"span",10),bl(),J(1,"svg",12),ye(2,"path",13),et(),J(3,"svg",14),ye(4,"path",15),et()())}const UDt=new te("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),zDt={provide:va,useExisting:kn(()=>Bk),multi:!0};class VX{constructor(i,t){this.source=i,this.checked=t}}let GDt=0,Bk=(()=>{class e{_createChangeEvent(t){return new VX(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,l){this._elementRef=t,this._focusMonitor=n,this._changeDetectorRef=r,this.defaults=o,this._onChange=w=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new Oe,this.toggleChange=new Oe,this.tabIndex=parseInt(s)||0,this.color=o.color||"accent",this._noopAnimations="NoopAnimations"===l,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++GDt,this.hideIcon=o.hideIcon??!1,this.disabledInteractive=o.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new VX(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(sc),pt(In),wl("tabindex"),pt(UDt),pt(Hr,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(n,r){if(1&n&&ki(NDt,5),2&n){let s;He(s=We())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(n,r){2&n&&(uu("id",r.id),_i("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),oo(r.color?"mat-"+r.color:""),Ci("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",qe],color:"color",disabled:[2,"disabled","disabled",qe],disableRipple:[2,"disableRipple","disableRipple",qe],tabIndex:[2,"tabIndex","tabIndex",t=>null==t?0:jr(t)],checked:[2,"checked","checked",qe],hideIcon:[2,"hideIcon","hideIcon",qe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",qe]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[xi([zDt,{provide:ta,useExisting:e,multi:!0}]),vn,lr,Wi],ngContentSelectors:BDt,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(n,r){if(1&n){const s=xe();nr(),J(0,"div",1)(1,"button",2,0),Ut("click",function(){return zt(s),Gt(r._handleClick())}),ye(3,"span",3),J(4,"span",4)(5,"span",5)(6,"span",6),ye(7,"span",7),et(),J(8,"span",8),ye(9,"span",9),et(),Ht(10,VDt,5,0,"span",10),et()()(),J(11,"label",11),Ut("click",function(l){return zt(s),Gt(l.stopPropagation())}),Si(12),et()()}if(2&n){const s=Zi(2);vt("labelPosition",r.labelPosition),ot(),Ci("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),vt("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),_i("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),ot(8),vt("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(),Tn(r.hideIcon?-1:10),ot(),vt("for",r.buttonId),_i("id",r._labelId)}},dependencies:[uh,NP],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}}return e})(),jDt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[Bk,rn,rn]})}}return e})();function XDt(e,i){if(1&e){const t=xe();J(0,"button",14),Ut("click",function(){zt(t);const r=St().index;return Gt(St().removeReaction(r))}),J(1,"mat-icon"),ut(2,"close"),et()()}}function YDt(e,i){if(1&e){const t=xe();J(0,"mat-option",15),Ut("click",function(){const r=zt(t).$implicit,s=St().$implicit;return Gt(St().reactionSeveritySelected(s,r))}),ut(1),et()}if(2&e){const t=i.$implicit;vt("value",t),ot(),Ke(t.display)}}function $Dt(e,i){if(1&e){const t=xe();J(0,"div",4)(1,"div",5),Ht(2,XDt,3,0,"button",6),et(),J(3,"div",7)(4,"div",8)(5,"app-autocomplete-binding",9),Ut("selectionChange",function(r){const s=zt(t).$implicit;return Gt(St().reactionManifestationSelected(s,r))}),et()(),J(6,"button",10)(7,"mat-icon"),ut(8,"info"),et()(),J(9,"mat-menu",null,0)(11,"span",11),Ut("click",function(r){return zt(t),Gt(r.stopPropagation())}),J(12,"p"),ut(13,"Terminology binding:"),et(),J(14,"pre"),ut(15),et()()()(),J(16,"mat-form-field",12)(17,"mat-label"),ut(18,"Reaction Severity"),et(),J(19,"mat-select"),Ht(20,YDt,2,2,"mat-option",13),et()(),J(21,"div",7)(22,"div",8)(23,"app-autocomplete-binding",9),Ut("selectionChange",function(r){const s=zt(t).$implicit;return Gt(St().reactionRouteSelected(s,r))}),et()(),J(24,"button",10)(25,"mat-icon"),ut(26,"info"),et()(),J(27,"mat-menu",null,1)(29,"span",11),Ut("click",function(r){return zt(t),Gt(r.stopPropagation())}),J(30,"p"),ut(31,"Terminology binding:"),et(),J(32,"pre"),ut(33),et()()()()()}if(2&e){const t=i.index,n=Zi(10),r=Zi(28),s=St();ot(2),vt("ngIf",t>0),ot(3),vt("binding",s.reactionManifestationBinding),ot(),vt("matMenuTriggerFor",n),ot(5),vt("disableRipple",!0),ot(4),Ke(s.reactionManifestationBinding.ecl),ot(5),vt("ngForOf",s.severityOptions),ot(3),vt("binding",s.routeBinding),ot(),vt("matMenuTriggerFor",r),ot(5),vt("disableRipple",!0),ot(4),Ke(s.routeBinding.ecl)}}let QDt=(()=>{class e{constructor(){this.reactions=[],this.newManifestation=new Oe,this.severityOptions=[{code:"mild",display:"Mild",sctCode:"255604002",sctDisplay:"Mild (qualifier value)"},{code:"moderate",display:"Moderate",sctCode:"6736007",sctDisplay:"Moderate (qualifier value)"},{code:"severe",display:"Severe",sctCode:"24484000",sctDisplay:"Severe (qualifier value)"}],this.selectedSeverity={},this.reactionManifestationBinding={ecl:"<<404684003 |Clinical finding|",title:"Reaction Manifestation"},this.routeBinding={ecl:"<<284009009 |Route of administration value|",title:"Exposure Route"},this.reaction={},this.onChangeCallback=()=>{},this.onTouchedCallback=()=>{}}writeValue(t){void 0!==t&&(this.reactions=t)}setDisabledState(t){}addNewReaction(){this.reactions.push(this.reaction),this.reaction={},this.onChangeCallback(this.reactions)}removeReaction(t){this.reactions.splice(t,1),this.onChangeCallback(this.reactions)}reactionManifestationSelected(t,n){t.manifestation=n,this.newManifestation.emit(n),this.onChangeCallback(this.reactions)}reactionSeveritySelected(t,n){t.severity=n,this.onChangeCallback(this.reactions)}reactionRouteSelected(t,n){t.route=n,this.onChangeCallback(this.reactions)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-allergies-allergy-list-reaction"]],inputs:{reactions:"reactions"},outputs:{newManifestation:"newManifestation"},features:[xi([{provide:va,useExisting:kn(()=>e),multi:!0}])],decls:5,vars:1,consts:[["reactionPopoverMenu","matMenu"],["routePopoverMenu","matMenu"],["class","reaction",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","matTooltip","Add reaction",3,"click"],[1,"reaction"],[1,"button-container"],["mat-icon-button","","color","primary","class","remove","matTooltip","Remove reaction",3,"click",4,"ngIf"],[1,"row-centered"],[1,"small-form-field"],[3,"selectionChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disableRipple"],[1,"form-field"],[3,"value","click",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","matTooltip","Remove reaction",1,"remove",3,"click"],[3,"click","value"]],template:function(n,r){1&n&&(Ht(0,$Dt,34,10,"div",2),J(1,"div")(2,"button",3),Ut("click",function(){return r.addNewReaction()}),J(3,"mat-icon"),ut(4,"add"),et()()()),2&n&&vt("ngForOf",r.reactions)},dependencies:[ys,ls,jo,ga,Rl,oc,vh,kl,ll,hh,Av,_h,Ev],styles:["#main-card[_ngcontent-%COMP%]{padding:10px;width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:flex-start}.row-centered[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center}.column[_ngcontent-%COMP%]{flex:1;margin:5px;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{width:100%}.smallest-form-field[_ngcontent-%COMP%]{width:60%;margin:5px}.small-form-field[_ngcontent-%COMP%]{width:90%;margin:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px;height:36px}.mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:0}.reaction[_ngcontent-%COMP%]{border-radius:10px;background-color:#a9bee9;padding:10px;margin-bottom:10px}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}"]})}}return e})();const KDt=()=>({});function ZDt(e,i){if(1&e){const t=xe();J(0,"mat-option",31),Ut("click",function(){return zt(t),Gt(St().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;vt("value",t),ot(),Ke(t.display)}}function JDt(e,i){if(1&e){const t=xe();J(0,"mat-option",31),Ut("click",function(){return zt(t),Gt(St().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;vt("value",t),ot(),Ke(t.display)}}function qDt(e,i){if(1&e){const t=xe();J(0,"mat-option",31),Ut("click",function(){return zt(t),Gt(St().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;vt("value",t),ot(),Ke(t.display)}}function tMt(e,i){if(1&e){const t=xe();J(0,"app-autocomplete-binding",11),Ut("selectionChange",function(r){return zt(t),Gt(St().substanceSelected(r,!0))}),et()}if(2&e){const t=St();vt("binding",t.substanceBinding)("term",t.selectedSubstanceTerm)}}function eMt(e,i){if(1&e){const t=xe();J(0,"app-autocomplete-binding",11),Ut("selectionChange",function(r){return zt(t),Gt(St().substanceSelected(r))}),et()}if(2&e){const t=St();vt("binding",t.refinedSubstanceBinding)("term",t.selectedSubstanceTerm)}}function iMt(e,i){if(1&e&&(J(0,"pre"),ut(1),et()),2&e){const t=St();ot(),Ke(t.substanceBinding.ecl)}}function nMt(e,i){if(1&e&&(J(0,"pre"),ut(1),et()),2&e){const t=St();ot(),Ke(t.refinedSubstanceBinding.ecl)}}function rMt(e,i){if(1&e){const t=xe();J(0,"mat-option",31),Ut("click",function(){return zt(t),Gt(St().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;vt("value",t),ot(),Ke(t.display)}}function sMt(e,i){if(1&e){const t=xe();J(0,"mat-option",31),Ut("click",function(){return zt(t),Gt(St().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;vt("value",t),ot(),Ke(t.display)}}let aMt=(()=>{class e{constructor(t,n,r){this.terminologyService=t,this.clipboard=n,this._snackBar=r,this.newProblem=new Oe,this.clinicalStatusOptions=[{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"active",display:"Active"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"inactive",display:"Inactive"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"resolved",display:"Resolved"}],this.selectedClinicalStatus=this.clinicalStatusOptions[0],this.verificationStatusOptions=[{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"unconfirmed",display:"Unconfirmed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"presumed",display:"Presumed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"confirmed",display:"Confirmed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"refuted",display:"Refuted"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"entered-in-error",display:"Entered in Error"}],this.selectedVerificationStatus=this.verificationStatusOptions[0],this.intoleranceTypeOptions=[{system:"http://hl7.org/fhir/allergy-intolerance-type",code:"609433001",display:"Hypersensitivity disposition (finding)",fhirCode:"allergy",fhirDisplay:"Allergy"},{system:"http://hl7.org/fhir/allergy-intolerance-type",code:"782197009",display:"Intolerance to substance (finding)",fhirCode:"intolerance",fhirDisplay:"Intolerance"}],this.selectedIntoleranceType=null,this.intoleranceCategoryOptions=[{code:"food",display:"Food"},{code:"medication",display:"Medication"},{code:"environment",display:"Environment"},{code:"biologic",display:"Biologic"}],this.selectedIntoleranceCategories=[],this.selectedIntoleranceCategoriesControl=new Fs(this.selectedIntoleranceCategories),this.criticalityOptions=[{code:"low",display:"Low Risk"},{code:"high",display:"High Risk"},{code:"unable-to-assess",display:"Unable to Assess Risk"}],this.selectedCriticality=null,this.severityOptions=[{code:"mild",display:"Mild",sctCode:"255604002",sctDisplay:"Mild (qualifier value)"},{code:"moderate",display:"Moderate",sctCode:"6736007",sctDisplay:"Moderate (qualifier value)"},{code:"severe",display:"Severe",sctCode:"24484000",sctDisplay:"Severe (qualifier value)"}],this.selectedSeverity={},this.codeBinding={ecl:"<<418038007 |Propensity to adverse reactions to substance| OR <<420134006 |Propensity to adverse reaction (finding)|",title:"Allergy/Intolerance by propensity"},this.selectedCode=null,this.selectedCodeTerm="",this.recordPropensity=!1,this.substanceBinding={ecl:"<<105590001 | Substance (substance) | OR <<373873005 | Pharmaceutical / biologic product (product) |",title:"Allergy/Intolerance substance or product"},this.refinedSubstanceBinding={ecl:"<<105590001 | Substance (substance) |",title:"Allergy/Intolerance substance based on propensity"},this.selectedSubstanceTerm="",this.selectedSubstance=null,this.selectedReactions=[{suibstance:{},manifestation:{},severity:{},route:{}}],this.reactionManifestationBinding={ecl:"<<404684003 |Clinical finding|",title:"Reaction Manifestation"},this.selectedReactionManifestation=null,this.selectedReactionManifestationTerm="",this.routeBinding={ecl:"<<284009009 |Route of administration value|",title:"Exposure Route"},this.selectedRoute=null,this.selectedRouteTerm="",this.outputAllergyBase={resourceType:"AllergyIntolerance",id:"medication",text:{},clinicalStatus:{coding:[]},verificationStatus:{coding:[]},type:"",category:[],criticality:"high",code:{coding:[]},reaction:[{substance:[{coding:[]}],manifestation:[{coding:[]}],exposureRoute:{coding:[]},severity:""}],patient:{reference:"Patient/example"},recordedDate:"2010-03-01",participant:[{function:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"author",display:"Author"}]},actor:{reference:"Practitioner/example"}}]},this.outputAllergy=JSON.parse(JSON.stringify(this.outputAllergyBase)),this.outputAllergyStr=""}ngOnInit(){this.updateAllergyStr()}onReactionsChange(t){this.updateAllergyStr()}clear(){this.selectedClinicalStatus=this.clinicalStatusOptions[0],this.selectedVerificationStatus=this.verificationStatusOptions[0],this.selectedIntoleranceType=null,this.selectedIntoleranceCategories=[],this.selectedIntoleranceCategoriesControl=new Fs(this.selectedIntoleranceCategories),this.selectedCriticality=null,this.selectedSeverity={},this.selectedCode=null,this.selectedCodeTerm="",this.recordPropensity=!1,this.selectedSubstanceTerm="",this.selectedReactionManifestation=null,this.selectedReactionManifestationTerm=" ",this.selectedRoute=null,this.selectedRouteTerm=" ",this.selectedReactions=[{suibstance:{},manifestation:{},severity:{},route:{}}],this.outputAllergy=JSON.parse(JSON.stringify(this.outputAllergyBase)),this.updateAllergyStr(),setTimeout(()=>{this.selectedReactionManifestationTerm="",this.selectedRouteTerm=""},100)}updateAllergyStr(){this.outputAllergy.clinicalStatus.coding=[this.selectedClinicalStatus],this.outputAllergy.verificationStatus.coding=[this.selectedVerificationStatus],this.outputAllergy.type=this.selectedIntoleranceType?this.selectedIntoleranceType.fhirCode:"",this.outputAllergy.category=this.selectedIntoleranceCategories.length?this.selectedIntoleranceCategories.map(t=>t.display):[],this.outputAllergy.criticality=this.selectedCriticality?.code?[this.selectedCriticality.code]:{},this.outputAllergy.reaction=[],this.selectedReactions.forEach(t=>{t.manifestation.code&&(t.manifestation.system="http://snomed.info/sct"),t.route.code&&(t.route.system="http://snomed.info/sct"),this.outputAllergy.reaction.push({substance:[{coding:[this.selectedSubstance]}],manifestation:[{coding:t.manifestation?[t.manifestation]:[{}]}],exposureRoute:{coding:t.route?[t.route]:[{}]},severity:t.severity?t.severity.code:""})}),setTimeout(()=>{this.outputAllergyStr=JSON.stringify(this.outputAllergy,null,2)},100)}substanceSelected(t,n){var r=this;return we(function*(){n&&(r.selectedCodeTerm=""),r.selectedSubstance=t,r.selectedIntoleranceCategories=[],t=Object.assign({system:"http://snomed.info/sct"},t),r.recordPropensity||(r.outputAllergy.code.coding=[t]),r.outputAllergy.reaction[0].substance[0].coding=[t],(yield r.getSubstanceCategories(t))?.expansion?.contains?.forEach(o=>{"762766007"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[0]):"115668003"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[3]):"410942007"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[1]):"57795002"==o.code&&r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[2])}),r.selectedIntoleranceCategoriesControl.setValue(r.selectedIntoleranceCategories),r.updateAllergyStr()})()}propensityRecordChanged(){this.outputAllergy.code.coding=[],this.selectedCode&&this.codeSelected(this.selectedCode)}codeSelected(t){var n=this;return we(function*(){if(t=Object.assign({system:"http://snomed.info/sct"},t)){n.selectedCodeTerm=t.display,n.selectedCode=t,n.recordPropensity&&(n.outputAllergy.code.coding=[t]);let r=yield n.getTypes(t);if(r.expansion?.contains){const o=r.expansion?.contains[0];n.selectedIntoleranceType=n.intoleranceTypeOptions.find(l=>l.code===o.code)}let s=yield n.getAllergySubstance(t);if(s.expansion.contains||(s=yield n.getIntoleranceSubstance(t)),s.expansion?.contains){const o=s.expansion?.contains[0];n.refinedSubstanceBinding.ecl=`<<${o.code} | ${o.display} |`,n.substanceSelected(o),n.selectedSubstanceTerm=o.display}else n.refinedSubstanceBinding.ecl="<<105590001 | Substance (substance) |"}})()}getIntoleranceSubstance(t){var n=this;return we(function*(){return Ia((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . 47429007 |Associated with (attribute)|`,"")).pipe(Ri(s=>s)))})()}getAllergySubstance(t){var n=this;return we(function*(){return Ia((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . 246075003 |Causative agent (attribute)|`,"")).pipe(Ri(s=>s)))})()}getSubstanceCategories(t){var n=this;return we(function*(){return Ia((yield n.terminologyService.expandValueSet(`> ${t.code} |${t.display}| AND (762766007 |Edible substance| OR 115668003 |Biological substance (substance)| OR 410942007 |Drug or medicament (substance)| OR 57795002 |Chemical element|)`,"")).pipe(Ri(s=>s)))})()}getTypes(t){var n=this;return we(function*(){return Ia((yield n.terminologyService.expandValueSet(`> ${t.code} |${t.display}| AND (609433001 |Hypersensitivity disposition| OR 782197009 |Intolerance to substance|)`,"")).pipe(Ri(s=>s)))})()}saveFhirResource(){var t=new Blob([this.outputAllergyStr],{type:"text/plain;charset=utf-8"});(0,Tu.saveAs)(t,"AllergyIntolerance.json")}copyToClipboard(t){this.clipboard.copy(t)}addToProblemsList(){if(this.selectedCode)this.newProblem.emit(this.selectedCode);else if(this.selectedSubstance&&this.selectedIntoleranceType){let t="";"609433001"===this.selectedIntoleranceType.code?t="Allergy to ":"782197009"===this.selectedIntoleranceType.code&&(t="Intolerance to "),t+=this.selectedSubstance.display,this.newProblem.emit({code:`${this.selectedIntoleranceType.code}:246075003=${this.selectedSubstance.code}`,display:t,substance:this.selectedSubstance})}else this._snackBar.openFromComponent(Rr,{duration:1e3,data:"Nothing to add to problem list",panelClass:["yellow-snackbar"]});this.clear()}static{this.\u0275fac=function(n){return new(n||e)(pt(ma),pt(Nk),pt(Rd))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-allergies-allergy-list"]],outputs:{newProblem:"newProblem"},decls:105,vars:30,consts:[["substancePopoverMenu","matMenu"],["codePopoverMenu","matMenu"],["id","main-card"],[1,"row"],[1,"column"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],["mat-flat-button","","color","accent","id","clear",3,"click"],[1,"row-centered"],[1,"smallest-form-field"],[3,"selectionChange","binding","term"],["mat-menu-item","",3,"click","disableRipple"],["matTooltip","Defines wether to use a propensity based model or a substance based model. Defines which one is recorded in the code element of the AllergyIntolerance resource.",3,"ngModelChange","click","ngModel"],[1,"form-field"],[3,"ngModelChange","ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[1,"small-form-field"],[3,"binding","term","selectionChange",4,"ngIf"],[4,"ngIf"],[3,"formControl","multiple"],[3,"ngModelChange","newManifestation","ngModel"],["mat-flat-button","","color","accent",3,"click"],["href","https://hl7.org/FHIR/allergyintolerance.html","target","_blank"],["id","output"],["id","save"],["mat-icon-button","","matTooltip","Download FHIR Resource",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy FHIR Resource",3,"click"],["fontIcon","content_copy"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],[3,"click","value"]],template:function(n,r){if(1&n){const s=xe();J(0,"mat-card",2)(1,"div",3)(2,"div",4)(3,"h4"),ut(4,"Allergy Intolerance Form "),J(5,"button",5)(6,"mat-icon"),ut(7,"info"),et()(),J(8,"mat-menu",null,0)(10,"span",6),Ut("click",function(l){return zt(s),Gt(l.stopPropagation())}),J(11,"h4"),ut(12,"Allergy list"),et(),J(13,"p"),ut(14,"Allergy or intolerance can be recorded in a specific section (e.g., \u201cDrug Allergy and Intolerance\u201d) of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model."),et(),J(15,"p"),ut(16,"In terms of documenting sensitivity type in the allergy list there is the option to map to 609433001 |Hypersensitivity disposition which in SNOMED CT represents both immune-mediated and non-immune mediated hypersensitivity or to map to 609328004 |Allergic disposition (finding)|which is common clinical parlance for what many clinicians would mean by allergic or non-allergic hypersensitivity. In addition, as recommended in the FHIR documentation if one is unclear as to whether a condition represents hypersensitivity or intolerance, one can just omit the type element from the resource."),et(),J(17,"p"),ut(18,"If SNOMED CT concepts are used to document the causative agent, it is preferable to use concepts from the Substance rather than Pharmaceutical/biologic product hierarchy since this will facilitate the downstream use of data, e.g., clinical decision support, data exchange."),et(),J(19,"p"),ut(20,"Almost all allergy and intolerance finding concepts are modeled using substance concepts in SNOMED CT. The SNOMED CT substance hierarchy has grouper concepts that are based on structure (e.g., Macrolide) or disposition (e.g., substance with histamine receptor antagonist mechanism of action). Clinical decision support systems can utilize these grouper concepts to access information at the desired level of granularity. Clinicians can also record a class of substance instead of a specific drug or substance (e.g., angiotensin II receptor antagonist). Note that substance grouper concepts based on therapeutic role (e.g., anticonvulsant) is not recommended for use because they are currently under review and may be retired in future."),et(),J(21,"p"),ut(22,"There are situations in which it is difficult to determine the specific substance as a true cause or most likely cause of a condition. This is the case for allergy/intolerance to a product containing multiple substances."),et(),J(23,"p"),ut(24,"Records of allergy to multiple substances or to multi-ingredient products should be recorded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix)."),et(),J(25,"p"),ut(26,"For more information check the "),J(27,"a",7),ut(28,"Implementation Guide"),et(),ut(29," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),J(30,"button",8),Ut("click",function(){return zt(s),Gt(r.clear())}),ut(31,"Clear"),et(),J(32,"div",9)(33,"div",10)(34,"app-autocomplete-binding",11),Ut("selectionChange",function(l){return zt(s),Gt(r.codeSelected(l))}),et()(),J(35,"button",5)(36,"mat-icon"),ut(37,"info"),et()(),J(38,"mat-menu",null,1)(40,"span",12),Ut("click",function(l){return zt(s),Gt(l.stopPropagation())}),J(41,"p"),ut(42,"Terminology binding:"),et(),J(43,"pre"),ut(44),et()()(),J(45,"mat-slide-toggle",13),Aa("ngModelChange",function(l){return zt(s),ja(r.recordPropensity,l)||(r.recordPropensity=l),Gt(l)}),Ut("click",function(){return zt(s),Gt(r.propensityRecordChanged())}),ut(46," Propensity based model "),et()(),J(47,"mat-form-field",14)(48,"mat-label"),ut(49,"Allergy Intolerance Type"),et(),J(50,"mat-select",15),Aa("ngModelChange",function(l){return zt(s),ja(r.selectedIntoleranceType,l)||(r.selectedIntoleranceType=l),Gt(l)}),Ht(51,ZDt,2,2,"mat-option",16),et()(),J(52,"div",9)(53,"mat-form-field",4)(54,"mat-label"),ut(55,"Clinical Status"),et(),J(56,"mat-select",15),Aa("ngModelChange",function(l){return zt(s),ja(r.selectedClinicalStatus,l)||(r.selectedClinicalStatus=l),Gt(l)}),Ht(57,JDt,2,2,"mat-option",16),et()(),J(58,"mat-form-field",4)(59,"mat-label"),ut(60,"Verification Status"),et(),J(61,"mat-select",15),Aa("ngModelChange",function(l){return zt(s),ja(r.selectedVerificationStatus,l)||(r.selectedVerificationStatus=l),Gt(l)}),Ht(62,qDt,2,2,"mat-option",16),et()()(),J(63,"div",9)(64,"div",17),Ht(65,tMt,1,2,"app-autocomplete-binding",18)(66,eMt,1,2,"app-autocomplete-binding",18),et(),J(67,"button",5)(68,"mat-icon"),ut(69,"info"),et()(),J(70,"mat-menu",null,0)(72,"span",12),Ut("click",function(l){return zt(s),Gt(l.stopPropagation())}),J(73,"p"),ut(74,"Terminology binding:"),et(),Ht(75,iMt,2,1,"pre",19)(76,nMt,2,1,"pre",19),et()()(),J(77,"div",9)(78,"mat-form-field",4)(79,"mat-label"),ut(80,"Substance Category"),et(),J(81,"mat-select",20),Ht(82,rMt,2,2,"mat-option",16),et()(),J(83,"mat-form-field",4)(84,"mat-label"),ut(85,"Allergy Criticality"),et(),J(86,"mat-select",15),Aa("ngModelChange",function(l){return zt(s),ja(r.selectedCriticality,l)||(r.selectedCriticality=l),Gt(l)}),Ht(87,sMt,2,2,"mat-option",16),et()()(),J(88,"app-allergies-allergy-list-reaction",21),Aa("ngModelChange",function(l){return zt(s),ja(r.selectedReactions,l)||(r.selectedReactions=l),Gt(l)}),Ut("ngModelChange",function(l){return zt(s),Gt(r.onReactionsChange(l))})("newManifestation",function(l){return zt(s),Gt(r.newProblem.emit(l))}),et(),J(89,"button",22),Ut("click",function(){return zt(s),Gt(r.addToProblemsList())}),ut(90,"Save"),et()(),J(91,"div",4)(92,"h4"),ut(93,"AllergyIntolerance HL7 FHIR Resource ("),J(94,"a",23),ut(95,"link"),et(),ut(96,")"),et(),J(97,"div",24)(98,"div",25)(99,"button",26),Ut("click",function(){return zt(s),Gt(r.saveFhirResource())}),ye(100,"mat-icon",27),et(),J(101,"button",28),Ut("click",function(){return zt(s),Gt(r.copyToClipboard(r.outputAllergyStr))}),ye(102,"mat-icon",29),et()(),J(103,"textarea",30),ut(104,"                "),et()()()()()}if(2&n){const s=Zi(9),o=Zi(39);ot(5),vt("matMenuTriggerFor",s),ot(5),vt("disableRipple",!0),ot(24),vt("binding",r.codeBinding)("term",r.selectedCodeTerm),ot(),vt("matMenuTriggerFor",o),ot(5),vt("disableRipple",!0),ot(4),Ke(r.codeBinding.ecl),ot(),_a("ngModel",r.recordPropensity),ot(5),_a("ngModel",r.selectedIntoleranceType),ot(),vt("ngForOf",r.intoleranceTypeOptions),ot(5),_a("ngModel",r.selectedClinicalStatus),ot(),vt("ngForOf",r.clinicalStatusOptions),ot(4),_a("ngModel",r.selectedVerificationStatus),ot(),vt("ngForOf",r.verificationStatusOptions),ot(3),vt("ngIf",!r.recordPropensity),ot(),vt("ngIf",r.recordPropensity),ot(),vt("matMenuTriggerFor",s),ot(5),vt("disableRipple",!0),ot(3),vt("ngIf",!r.recordPropensity),ot(),vt("ngIf",r.recordPropensity),ot(5),vt("formControl",r.selectedIntoleranceCategoriesControl)("multiple",!0),ot(),vt("ngForOf",r.intoleranceCategoryOptions),ot(4),_a("ngModel",r.selectedCriticality),ot(),vt("ngForOf",r.criticalityOptions),ot(),_a("ngModel",r.selectedReactions),ot(15),vt("options",Xa(29,KDt))("lang","json")("innerHTML",r.outputAllergyStr,Gf)}},dependencies:[ys,ls,EE,Cs,jo,ga,Rl,oc,vh,kl,ll,hh,Yo,lb,tb,Av,lc,_h,Bk,Ev,QDt],styles:["#main-card[_ngcontent-%COMP%]{padding:10px;width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:flex-start}.row-centered[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center}.column[_ngcontent-%COMP%]{position:relative;flex:1;margin:5px;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{width:100%}.smallest-form-field[_ngcontent-%COMP%]{width:60%;margin:5px}.small-form-field[_ngcontent-%COMP%]{width:90%;margin:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px;height:36px}.mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:0}.reaction[_ngcontent-%COMP%]{border-radius:10px;background-color:#a9bee9;padding:10px}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}#clear[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}}return e})(),oMt=(()=>{class e{constructor(t){this._snackBar=t}addProblem(t){var n=this;return we(function*(){n.allergiesProblemListComponent.addProblem(t),n._snackBar.openFromComponent(Rr,{duration:1e3,data:"Problem list updated",panelClass:["green-snackbar"]})})()}static{this.\u0275fac=function(n){return new(n||e)(pt(Rd))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-allergies"]],viewQuery:function(n,r){if(1&n&&ki(SX,5),2&n){let s;He(s=We())&&(r.allergiesProblemListComponent=s.first)}},decls:31,vars:2,consts:[["substancePopoverMenu","matMenu"],["id","main-panel"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Allergy List Approach (AllergyIntolerance FHIR resource)"],[3,"newProblem"],["label","Problem List Approach (Condition FHIR resource)"]],template:function(n,r){if(1&n){const s=xe();J(0,"div",1)(1,"h3"),ut(2,"Allergy, Hypersensitivity and Intolerance "),J(3,"button",2)(4,"mat-icon"),ut(5,"info"),et()(),J(6,"mat-menu",null,0)(8,"span",3),Ut("click",function(l){return zt(s),Gt(l.stopPropagation())}),J(9,"h4"),ut(10,"Allergy, Hypersensitivity and Intolerance Implementation Demo"),et(),J(11,"p"),ut(12,"This is a demonstration of different implementation approaches for recording Allergies, Hypersensitivity and Intolerance."),et(),J(13,"p")(14,"b"),ut(15,"Allergy list:"),et(),ut(16," allergy or intolerance can be recorded in a specific section of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model."),et(),J(17,"p")(18,"b"),ut(19,"Problem list:"),et(),ut(20," Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies \u2013 Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource."),et(),J(21,"p"),ut(22,"For more information check the "),J(23,"a",4),ut(24,"Implementation Guide"),et(),ut(25," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),J(26,"mat-tab-group",5)(27,"mat-tab",6)(28,"app-allergies-allergy-list",7),Ut("newProblem",function(l){return zt(s),Gt(r.addProblem(l))}),et()(),J(29,"mat-tab",8),ye(30,"app-allergies-problem-list"),et()()()}if(2&n){const s=Zi(7);ot(3),vt("matMenuTriggerFor",s),ot(5),vt("disableRipple",!0)}},dependencies:[jo,ga,Rl,oc,vh,_v,Ap,SX,aMt],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}#guideLink[_ngcontent-%COMP%]{font-size:smaller}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}}return e})();function UX(e){const i=e.cloneNode(!0),t=i.querySelectorAll("[id]"),n=e.nodeName.toLowerCase();i.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===n?HX(e,i):("input"===n||"select"===n||"textarea"===n)&&GX(e,i),zX("canvas",e,i,HX),zX("input, textarea, select",e,i,GX),i}function zX(e,i,t,n){const r=i.querySelectorAll(e);if(r.length){const s=t.querySelectorAll(e);for(let o=0;o<r.length;o++)n(r[o],s[o])}}let cMt=0;function GX(e,i){"file"!==i.type&&(i.value=e.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${cMt++}`)}function HX(e,i){const t=i.getContext("2d");if(t)try{t.drawImage(e,0,0)}catch{}}function Vk(e){const i=e.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function Uk(e,i,t){const{top:n,bottom:r,left:s,right:o}=e;return t>=n&&t<=r&&i>=s&&i<=o}function cb(e,i,t){e.top+=i,e.bottom=e.top+e.height,e.left+=t,e.right=e.left+e.width}function WX(e,i,t,n){const{top:r,right:s,bottom:o,left:l,width:w,height:E}=e,D=w*i,k=E*i;return n>r-k&&n<o+k&&t>l-D&&t<s+D}class jX{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Vk(t)})})}handleScroll(i){const t=Wo(i),n=this.positions.get(t);if(!n)return null;const r=n.scrollPosition;let s,o;if(t===this._document){const E=this.getViewportScrollPosition();s=E.top,o=E.left}else s=t.scrollTop,o=t.scrollLeft;const l=r.top-s,w=r.left-o;return this.positions.forEach((E,D)=>{E.clientRect&&t!==D&&t.contains(D)&&cb(E.clientRect,l,w)}),r.top=s,r.left=o,{top:l,left:w}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function XX(e,i){const t=e.rootNodes;if(1===t.length&&t[0].nodeType===i.ELEMENT_NODE)return t[0];const n=i.createElement("div");return t.forEach(r=>n.appendChild(r)),n}function zk(e,i,t){for(let n in i)if(i.hasOwnProperty(n)){const r=i[n];r?e.setProperty(n,r,t?.has(n)?"important":""):e.removeProperty(n)}return e}function Dv(e,i){const t=i?"":"none";zk(e.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function YX(e,i,t){zk(e.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},t)}function _E(e,i){return i&&"none"!=i?e+" "+i:e}function $X(e,i){e.style.width=`${i.width}px`,e.style.height=`${i.height}px`,e.style.transform=AE(i.left,i.top)}function AE(e,i){return`translate3d(${Math.round(e)}px, ${Math.round(i)}px, 0)`}function QX(e){const i=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*i}function Gk(e,i){return e.getPropertyValue(i).split(",").map(n=>n.trim())}const hMt=new Set(["position"]);class dMt{get element(){return this._preview}constructor(i,t,n,r,s,o,l,w,E){this._document=i,this._rootElement=t,this._direction=n,this._initialDomRect=r,this._previewTemplate=s,this._previewClass=o,this._pickupPositionOnPage=l,this._initialTransform=w,this._zIndex=E}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),KX(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(i){this._preview.style.transform=i}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(i){this._preview.classList.add(i)}getTransitionDuration(){return function uMt(e){const i=getComputedStyle(e),t=Gk(i,"transition-property"),n=t.find(l=>"transform"===l||"all"===l);if(!n)return 0;const r=t.indexOf(n),s=Gk(i,"transition-duration"),o=Gk(i,"transition-delay");return QX(s[r])+QX(o[r])}(this._preview)}addEventListener(i,t){this._preview.addEventListener(i,t)}removeEventListener(i,t){this._preview.removeEventListener(i,t)}_createPreview(){const i=this._previewTemplate,t=this._previewClass,n=i?i.template:null;let r;if(n&&i){const s=i.matchSize?this._initialDomRect:null,o=i.viewContainer.createEmbeddedView(n,i.context);o.detectChanges(),r=XX(o,this._document),this._previewEmbeddedView=o,i.matchSize?$X(r,s):r.style.transform=AE(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=UX(this._rootElement),$X(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return zk(r.style,{"pointer-events":"none",margin:KX(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},hMt),Dv(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}}function KX(e){return"showPopover"in e}const ZX=rc({passive:!0}),DE=rc({passive:!1}),JX=rc({passive:!1,capture:!0}),qX=new Set(["position"]);class pMt{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Dv(t,i)))}constructor(i,t,n,r,s,o){this._config=t,this._document=n,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=au(!1),this._moveEvents=new Fe,this._pointerMoveSubscription=Pe.EMPTY,this._pointerUpSubscription=Pe.EMPTY,this._scrollSubscription=Pe.EMPTY,this._resizeSubscription=Pe.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new Fe,this.started=new Fe,this.released=new Fe,this.ended=new Fe,this.entered=new Fe,this.exited=new Fe,this.dropped=new Fe,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const w=this._getTargetHandle(l);w&&!this._disabledHandles.has(w)&&!this.disabled&&this._initializeDragSequence(w,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const w=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging()){if(Math.abs(w.x-this._pickupPositionOnPage.x)+Math.abs(w.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const L=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),U=this._dropContainer;if(!L)return void this._endDragSequence(l);(!U||!U.isDragging()&&!U.isReceiving())&&(l.cancelable&&l.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(l)))}return}l.cancelable&&l.preventDefault();const E=this._getConstrainedPointerPosition(w);if(this._hasMoved=!0,this._lastKnownPointerPosition=w,this._updatePointerDirectionDelta(E),this._dropContainer)this._updateActiveDropContainer(E,w);else{const D=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,k=this._activeTransform;k.x=E.x-D.x+this._passiveTransform.x,k.y=E.y-D.y+this._passiveTransform.y,this._applyRootElementTransform(k.x,k.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:E,event:l,distance:this._getDragDistance(E),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const w=this._getTargetHandle(l);w&&!this._disabledHandles.has(w)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(i).withParent(t.parentDragRef||null),this._parentPositions=new jX(n),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(n=>uo(n)),this._handles.forEach(n=>Dv(n,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const t=uo(i);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,DE),t.addEventListener("touchstart",this._pointerDown,ZX),t.addEventListener("dragstart",this._nativeDragStart,DE)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?uo(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),Dv(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),Dv(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",eY,JX)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){ub(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._getShadowRoot(),n=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",eY,JX)}),n){const r=this._rootElement,s=r.parentNode,o=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(l,r),this._initialTransform=r.style.transform||"",this._preview=new dMt(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(s,t)),YX(r,!1,qX),this._document.body.appendChild(s.replaceChild(o,r)),this.started.next({source:this,event:i}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(i,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),r=ub(t),s=!r&&0!==t.button,o=this._rootElement,l=Wo(t),w=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),E=r?FS(t):kS(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),n||s||w||E)return;if(this._handles.length){const O=o.style;this._rootElementTapHighlight=O.webkitTapHighlightColor||"",O.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(O=>this._updateOnScroll(O)),this._boundaryElement&&(this._boundaryRect=Vk(this._boundaryElement));const D=this._previewTemplate;this._pickupPositionInElement=D&&D.template&&!D.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,t);const k=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:k.x,y:k.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(i){YX(this._rootElement,!0,qX),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),r=this._getPointerPositionOnPage(i),s=this._getDragDistance(r),o=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:i}),t.drop(this,n,this._initialIndex,this._initialContainer,o,s,r,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:t},{x:n,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,i,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,i,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,i,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,t):this._applyPreviewTransform(i-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const r=o=>{(!o||this._preview&&Wo(o)===this._preview.element&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,t=i?i.template:null;let n;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),n=XX(this._placeholderRef,this._document)):n=UX(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(i,t,n){const r=t===this._rootElement?null:t,s=r?r.getBoundingClientRect():i,o=ub(n)?n.targetTouches[0]:n,l=this._getViewportScrollPosition();return{x:s.left-i.left+(o.pageX-s.left-l.left),y:s.top-i.top+(o.pageY-s.top-l.top)}}_getPointerPositionOnPage(i){const t=this._getViewportScrollPosition(),n=ub(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,r=n.pageX-t.left,s=n.pageY-t.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const l=this._ownerSVGElement.createSVGPoint();return l.x=r,l.y=s,l.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(i){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:w,height:E}=this._getPreviewRect(),D=l.top+o,k=l.bottom-(E-o);n=tY(n,l.left+s,l.right-(w-s)),r=tY(r,D,k)}return{x:n,y:r}}_updatePointerDirectionDelta(i){const{x:t,y:n}=i,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),l=Math.abs(n-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(r.y=n>s.y?1:-1,s.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,Dv(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,DE),i.removeEventListener("touchstart",this._pointerDown,ZX),i.removeEventListener("dragstart",this._nativeDragStart,DE)}_applyRootElementTransform(i,t){const n=1/this.scale,r=AE(i*n,t*n),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=_E(r,this._initialTransform)}_applyPreviewTransform(i,t){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=AE(i,t);this._preview.setTransform(_E(r,n))}_getDragDistance(i){const t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:t}=this._passiveTransform;if(0===i&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const s=r.left-n.left,o=n.right-r.right,l=r.top-n.top,w=n.bottom-r.bottom;r.width>n.width?(s>0&&(i+=s),o>0&&(i-=o)):i=0,r.height>n.height?(l>0&&(t+=l),w>0&&(t-=w)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}_getDragStartDelay(i){const t=this.dragStartDelay;return"number"==typeof t?t:ub(i)?t.touch:t?t.mouse:0}_updateOnScroll(i){const t=this._parentPositions.handleScroll(i);if(t){const n=Wo(i);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&cb(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=SS(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,t){const n=this._previewContainer||"global";if("parent"===n)return i;if("global"===n){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return uo(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(i){return this._handles.find(t=>i.target&&(i.target===t||t.contains(i.target)))}}function tY(e,i,t){return Math.max(i,Math.min(t,e))}function ub(e){return"t"===e.type[0]}function eY(e){e.preventDefault()}function ME(e,i,t){const n=hb(i,e.length-1),r=hb(t,e.length-1);if(n===r)return;const s=e[n],o=r<n?-1:1;for(let l=n;l!==r;l+=o)e[l]=e[l+o];e[r]=s}function hb(e,i){return Math.max(0,Math.min(i,e))}class iY{constructor(i){this._dragDropRegistry=i,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,t,n,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(i,t,n,r);if(-1===o&&s.length>0)return null;const l="horizontal"===this.orientation,w=s.findIndex(W=>W.drag===i),E=s[o],k=E.clientRect,O=w>o?1:-1,L=this._getItemOffsetPx(s[w].clientRect,k,O),U=this._getSiblingOffsetPx(w,s,O),j=s.slice();return ME(s,w,o),s.forEach((W,Z)=>{if(j[Z]===W)return;const rt=W.drag===i,st=rt?L:U,yt=rt?i.getPlaceholderElement():W.drag.getRootElement();W.offset+=st;const Tt=Math.round(W.offset*(1/W.drag.scale));l?(yt.style.transform=_E(`translate3d(${Tt}px, 0, 0)`,W.initialTransform),cb(W.clientRect,0,st)):(yt.style.transform=_E(`translate3d(0, ${Tt}px, 0)`,W.initialTransform),cb(W.clientRect,st,0))}),this._previousSwap.overlaps=Uk(k,t,n),this._previousSwap.drag=E.drag,this._previousSwap.delta=l?r.x:r.y,{previousIndex:w,currentIndex:o}}enter(i,t,n,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(i,t,n):r,o=this._activeDraggables,l=o.indexOf(i),w=i.getPlaceholderElement();let E=o[s];if(E===i&&(E=o[s+1]),!E&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(E=o[0]),l>-1&&o.splice(l,1),E&&!this._dragDropRegistry.isDragging(E)){const D=E.getRootElement();D.parentElement.insertBefore(w,D),o.splice(s,0,i)}else this._element.appendChild(w),o.push(i);w.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables?.forEach(i=>{const t=i.getRootElement();if(t){const n=this._itemPositions.find(r=>r.drag===i)?.initialTransform;t.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===i)}updateOnScroll(i,t){this._itemPositions.forEach(({clientRect:n})=>{cb(n,i,t)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(i){this._element=i}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:Vk(n)}}).sort((t,n)=>i?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_getItemOffsetPx(i,t,n){const r="horizontal"===this.orientation;let s=r?t.left-i.left:t.top-i.top;return-1===n&&(s+=r?t.width-i.width:t.height-i.height),s}_getSiblingOffsetPx(i,t,n){const r="horizontal"===this.orientation,s=t[i].clientRect,o=t[i+-1*n];let l=s[r?"width":"height"]*n;if(o){const w=r?"left":"top",E=r?"right":"bottom";-1===n?l-=o.clientRect[w]-s[E]:l+=s[w]-o.clientRect[E]}return l}_shouldEnterAsFirstChild(i,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const o=n[n.length-1].clientRect;return r?i>=o.right:t>=o.bottom}{const o=n[0].clientRect;return r?i<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(i,t,n,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:l,clientRect:w})=>l!==i&&((!r||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(w.left)&&t<Math.floor(w.right):n>=Math.floor(w.top)&&n<Math.floor(w.bottom))));return-1!==o&&this._sortPredicate(o,i)?o:-1}}class mMt{constructor(i,t){this._document=i,this._dragDropRegistry=t,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(i){const t=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<t.length;n++){const r=t[n];this._relatedNodes.push([r,r.nextSibling])}this.withItems(i)}sort(i,t,n,r){const s=this._getItemIndexFromPointerPosition(i,t,n),o=this._previousSwap;if(-1===s||this._activeItems[s]===i)return null;const l=this._activeItems[s];if(o.drag===l&&o.overlaps&&o.deltaX===r.x&&o.deltaY===r.y)return null;const w=this.getItemIndex(i),E=i.getPlaceholderElement(),D=l.getRootElement();s>w?D.after(E):D.before(E),ME(this._activeItems,w,s);const k=this._getRootNode().elementFromPoint(t,n);return o.deltaX=r.x,o.deltaY=r.y,o.drag=l,o.overlaps=D===k||D.contains(k),{previousIndex:w,currentIndex:s}}enter(i,t,n,r){let s=null==r||r<0?this._getItemIndexFromPointerPosition(i,t,n):r;-1===s&&(s=this._getClosestItemIndexToPointer(i,t,n));const o=this._activeItems[s],l=this._activeItems.indexOf(i);l>-1&&this._activeItems.splice(l,1),o&&!this._dragDropRegistry.isDragging(o)?(this._activeItems.splice(s,0,i),o.getRootElement().before(i.getPlaceholderElement())):(this._activeItems.push(i),this._element.appendChild(i.getPlaceholderElement()))}withItems(i){this._activeItems=i.slice()}withSortPredicate(i){this._sortPredicate=i}reset(){const i=this._element,t=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){const[r,s]=this._relatedNodes[n];r.parentNode===i&&r.nextSibling!==s&&(null===s?i.appendChild(r):s.parentNode===i&&i.insertBefore(r,s))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(i){return this._activeItems.indexOf(i)}updateOnScroll(){this._activeItems.forEach(i=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(i){i!==this._element&&(this._element=i,this._rootNode=void 0)}_getItemIndexFromPointerPosition(i,t,n){const r=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(n)),s=r?this._activeItems.findIndex(o=>{const l=o.getRootElement();return r===l||l.contains(r)}):-1;return-1!==s&&this._sortPredicate(s,i)?s:-1}_getRootNode(){return this._rootNode||(this._rootNode=SS(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(i,t,n){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let r=1/0,s=-1;for(let o=0;o<this._activeItems.length;o++){const l=this._activeItems[o];if(l!==i){const{x:w,y:E}=l.getRootElement().getBoundingClientRect(),D=Math.hypot(t-w,n-E);D<r&&(r=D,s=o)}}return s}}var cc=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(cc||{}),$o=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}($o||{});class gMt{constructor(i,t,n,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Fe,this.entered=new Fe,this.exited=new Fe,this.dropped=new Fe,this.sorted=new Fe,this.receivingStarted=new Fe,this.receivingStopped=new Fe,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Pe.EMPTY,this._verticalScrollDirection=cc.NONE,this._horizontalScrollDirection=$o.NONE,this._stopScrollTimers=new Fe,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),function lMt(e=0,i=Hx){return e<0&&(e=0),Kx(e,e,i)}(0,_W).pipe(Yi(this._stopScrollTimers)).subscribe(()=>{const l=this._scrollNode,w=this.autoScrollStep;this._verticalScrollDirection===cc.UP?l.scrollBy(0,-w):this._verticalScrollDirection===cc.DOWN&&l.scrollBy(0,w),this._horizontalScrollDirection===$o.LEFT?l.scrollBy(-w,0):this._horizontalScrollDirection===$o.RIGHT&&l.scrollBy(w,0)})};const o=this.element=uo(i);this._document=n,this.withOrientation("vertical").withElementContainer(o),t.registerDropContainer(this),this._parentPositions=new jX(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,t,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(i)),this._sortStrategy.enter(i,t,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,t,n,r,s,o,l,w={}){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:l,event:w})}withItems(i){const t=this._draggables;return this._draggables=i,i.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===i.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._direction=i,this._sortStrategy instanceof iY&&(this._sortStrategy.direction=i),this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){if("mixed"===i)this._sortStrategy=new mMt(this._document,this._dragDropRegistry);else{const t=new iY(this._dragDropRegistry);t.direction=this._direction,t.orientation=i,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,n)=>this.sortPredicate(t,n,this)),this}withScrollableParents(i){const t=this._container;return this._scrollableElements=-1===i.indexOf(t)?[t,...i]:i.slice(),this}withElementContainer(i){if(i===this._container)return this;uo(this.element);const n=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(i);return n>-1&&this._scrollableElements.splice(n,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(i),this._cachedShadowRoot=null,this._scrollableElements.unshift(i),this._container=i,this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,t,n,r){if(this.sortingDisabled||!this._domRect||!WX(this._domRect,.05,t,n))return;const s=this._sortStrategy.sort(i,t,n,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,t){if(this.autoScrollDisabled)return;let n,r=cc.NONE,s=$o.NONE;if(this._parentPositions.positions.forEach((o,l)=>{l===this._document||!o.clientRect||n||WX(o.clientRect,.05,i,t)&&([r,s]=function vMt(e,i,t,n,r){const s=sY(i,r),o=aY(i,n);let l=cc.NONE,w=$o.NONE;if(s){const E=e.scrollTop;s===cc.UP?E>0&&(l=cc.UP):e.scrollHeight-E>e.clientHeight&&(l=cc.DOWN)}if(o){const E=e.scrollLeft;"rtl"===t?o===$o.RIGHT?E<0&&(w=$o.RIGHT):e.scrollWidth+E>e.clientWidth&&(w=$o.LEFT):o===$o.LEFT?E>0&&(w=$o.LEFT):e.scrollWidth-E>e.clientWidth&&(w=$o.RIGHT)}return[l,w]}(l,o.clientRect,this._direction,i,t),(r||s)&&(n=l))}),!r&&!s){const{width:o,height:l}=this._viewportRuler.getViewportSize(),w={width:o,height:l,top:0,right:o,bottom:l,left:0};r=sY(w,t),s=aY(w,i),n=window}n&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=n,(r||s)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,t){return null!=this._domRect&&Uk(this._domRect,i,t)}_getSiblingContainerFromPosition(i,t,n){return this._siblings.find(r=>r._canReceive(i,t,n))}_canReceive(i,t,n){if(!this._domRect||!Uk(this._domRect,t,n)||!this.enterPredicate(i,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,n);return!!r&&(r===this._container||this._container.contains(r))}_startReceiving(i,t){const n=this._activeSiblings;!n.has(i)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:t}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(i);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=SS(this._container);this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,i))}}function sY(e,i){const{top:t,bottom:n,height:r}=e,s=.05*r;return i>=t-s&&i<=t+s?cc.UP:i>=n-s&&i<=n+s?cc.DOWN:cc.NONE}function aY(e,i){const{left:t,right:n,width:r}=e,s=.05*r;return i>=t-s&&i<=t+s?$o.LEFT:i>=n-s&&i<=n+s?$o.RIGHT:$o.NONE}const IE=rc({passive:!1,capture:!0}),RE=new Set;let yMt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[Wi],decls:0,vars:0,template:function(n,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}}return e})(),xMt=(()=>{class e{constructor(t,n){this._ngZone=t,this._appRef=Jt(ql),this._environmentInjector=Jt(za),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=au([]),this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Fe,this.pointerUp=new Fe,this.scroll=new Fe,this._preventDefaultWhileDragging=r=>{this._activeDragInstances().length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=n}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,IE)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,IE)}startDragging(t,n){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._loadResets(),this._activeDragInstances.update(r=>[...r,t]),1===this._activeDragInstances().length)){const r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:IE}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:IE}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(t){this._activeDragInstances.update(n=>{const r=n.indexOf(t);return r>-1?(n.splice(r,1),[...n]):n}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){const n=[this.scroll];return t&&t!==this._document&&n.push(new dr(r=>this._ngZone.runOutsideAngular(()=>{const o=l=>{this._activeDragInstances().length&&r.next(l)};return t.addEventListener("scroll",o,!0),()=>{t.removeEventListener("scroll",o,!0)}}))),qr(...n)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,n)=>{this._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}_loadResets(){if(!RE.has(this._appRef)){RE.add(this._appRef);const t=function cvt(e,i){const t=Fn(e),n=i.elementInjector||Xw();return new jy(t).create(n,i.projectableNodes,i.hostElement,i.environmentInjector)}(yMt,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{RE.delete(this._appRef),0===RE.size&&t.destroy()})}}static{this.\u0275fac=function(n){return new(n||e)(re(li),re(Gi))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const bMt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Hk=(()=>{class e{constructor(t,n,r,s){this._document=t,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,n=bMt){return new pMt(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new gMt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(n){return new(n||e)(re(Gi),re(li),re(mh),re(xMt))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const db=new te("CDK_DRAG_PARENT"),oY=new te("CdkDragHandle");let lY=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}constructor(t,n){this.element=t,this._parentDrag=n,this._stateChanges=new Fe,this._disabled=!1,n?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(db,12))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",qe]},standalone:!0,features:[xi([{provide:oY,useExisting:e}]),vn]})}}return e})();const cY=new te("CDK_DRAG_CONFIG"),uY=new te("CdkDropList");let Wk=(()=>{class e{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,n,r,s,o,l,w,E,D,k,O){this.element=t,this.dropContainer=n,this._ngZone=s,this._viewContainerRef=o,this._dir=w,this._changeDetectorRef=D,this._selfHandle=k,this._parentDrag=O,this._destroyed=new Fe,this._handles=new Kr([]),this.scale=1,this.started=new Oe,this.released=new Oe,this.ended=new Oe,this.entered=new Oe,this.exited=new Oe,this.dropped=new Oe,this.moved=new dr(L=>{const U=this._dragRef.moved.pipe(Ri(j=>({source:this,pointerPosition:j.pointerPosition,event:j.event,delta:j.delta,distance:j.distance}))).subscribe(L);return()=>{U.unsubscribe()}}),this._injector=Jt(On),this._dragRef=E.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),l&&this._assignDefaults(l),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this),n._dropListRef.beforeStarted.pipe(Yi(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){ao(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){const n=t.rootElementSelector,r=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const n=this._handles.getValue();n.push(t),this._handles.next(n)}_removeHandle(t){const n=this._handles.getValue(),r=n.indexOf(t);r>-1&&(n.splice(r,1),this._handles.next(n))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let n=t;this.rootElementSelector&&(n=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):uo(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const n=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay="object"==typeof r&&r?r:Id(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe(xs(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){t.withParent(e._dragInstances.find(r=>r.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(t){t.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),t.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(t){const{lockAxis:n,dragStartDelay:r,constrainPosition:s,previewClass:o,boundaryElement:l,draggingDisabled:w,rootElementSelector:E,previewContainer:D}=t;this.disabled=w??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),s&&(this.constrainPosition=s),o&&(this.previewClass=o),l&&(this.boundaryElement=l),E&&(this.rootElementSelector=E),D&&(this.previewContainer=D)}_setupHandlesListener(){this._handles.pipe(cs(t=>{const n=t.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),ks(t=>qr(...t.map(n=>n._stateChanges.pipe(Ma(n))))),Yi(this._destroyed)).subscribe(t=>{const n=this._dragRef,r=t.element.nativeElement;t.disabled?n.disableHandle(r):n.enableHandle(r)})}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(uY,12),pt(Gi),pt(li),pt(Or),pt(cY,8),pt(Ya,8),pt(Hk),pt(In),pt(oY,10),pt(db,12))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){2&n&&Ci("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",qe],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",jr]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[xi([{provide:db,useExisting:e}]),vn,lr]})}}return e})();const jk=new te("CdkDropListGroup");let CMt=0,Xk=(()=>{class e{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}constructor(t,n,r,s,o,l,w){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=o,this._group=l,this._destroyed=new Fe,this.connectedTo=[],this.id="cdk-drop-list-"+CMt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new Oe,this.entered=new Oe,this.exited=new Oe,this.sorted=new Oe,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,w&&this._assignDefaults(w),this._dropListRef.enterPredicate=(E,D)=>this.enterPredicate(E.data,D.data),this._dropListRef.sortPredicate=(E,D,k)=>this.sortPredicate(E,D.data,k.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),l&&l._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,n)=>t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Ma(this._dir.value),Yi(this._destroyed)).subscribe(n=>t.withDirection(n)),t.beforeStarted.subscribe(()=>{const n=Wx(this.connectedTo).map(r=>"string"==typeof r?e._dropLists.find(o=>o.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===n.indexOf(r)&&n.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const r=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(r)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=Id(this.autoScrollStep,2),t.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),qr(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:n,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:o,listOrientation:l}=t;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=l||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(Hk),pt(In),pt(Zx),pt(Ya,8),pt(jk,12),pt(cY,8))}}static{this.\u0275dir=me({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){2&n&&(_i("id",r.id),Ci("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",qe],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",qe],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",qe],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[xi([{provide:jk,useValue:void 0},{provide:uY,useExisting:e}]),vn]})}}return e})(),AMt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[Hk],imports:[gh]})}}return e})();function DMt(e,i){}class PE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let hY=(()=>{class e extends GS{constructor(t,n,r,s,o,l,w,E){super(),this._elementRef=t,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=o,this._ngZone=l,this._overlayRef=w,this._focusMonitor=E,this._platform=Jt(cr),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=Jt(In),this._injector=Jt(On),this._isDestroyed=!1,this.attachDomPortal=D=>{this._portalOutlet.hasAttached();const k=this._portalOutlet.attachDomPortal(D);return this._contentAttached(),k},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const n=this._ariaLabelledByQueue.indexOf(t);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),n}attachTemplatePortal(t){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_trapFocus(){this._isDestroyed||ao(()=>{const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const t=this._config.restoreFocus;let n=null;if("string"==typeof t?n=this._document.querySelector(t):"boolean"==typeof t?n=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(n=t),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=ES(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,n=ES();return t===n||t.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ES()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(IP),pt(Gi,8),pt(PE),pt(PS),pt(li),pt(XS),pt(sc))}}static{this.\u0275cmp=Ge({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&ki(ph,7),2&n){let s;He(s=We())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&_i("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[yi,Wi],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&Ht(0,DMt,0,0,"ng-template",0)},dependencies:[ph],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return e})();class Yk{constructor(i,t){this.overlayRef=i,this.config=t,this.closed=new Fe,this.disableClose=t.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!co(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(i,t){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(i),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",t=""){return this.overlayRef.updateSize({width:i,height:t}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}}const dY=new te("DialogScrollStrategy",{providedIn:"root",factory:()=>{const e=Jt(Ss);return()=>e.scrollStrategies.block()}}),MMt=new te("DialogData"),IMt=new te("DefaultDialogConfig");let PMt=0,fY=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,n,r,s,o,l){this._overlay=t,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Fe,this._afterOpenedAtThisLevel=new Fe,this._ariaHiddenElements=new Map,this.afterAllClosed=$g(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ma(void 0))),this._scrollStrategy=l}open(t,n){(n={...this._defaultOptions||new PE,...n}).id=n.id||"cdk-dialog-"+PMt++,n.id&&this.getDialogById(n.id);const s=this._getOverlayConfig(n),o=this._overlay.create(s),l=new Yk(o,n),w=this._attachContainer(o,l,n);return l.containerInstance=w,this._attachDialogContent(t,l,w,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){$k(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){$k(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),$k(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const n=new vv({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(n.backdropClass=t.backdropClass),n}_attachContainer(t,n,r){const s=r.injector||r.viewContainerRef?.injector,o=[{provide:PE,useValue:r},{provide:Yk,useValue:n},{provide:XS,useValue:t}];let l;r.container?"function"==typeof r.container?l=r.container:(l=r.container.type,o.push(...r.container.providers(r))):l=hY;const w=new mv(l,r.viewContainerRef,On.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return t.attach(w).instance}_attachDialogContent(t,n,r,s){if(t instanceof yr){const o=this._createInjector(s,n,r,void 0);let l={$implicit:s.data,dialogRef:n};s.templateContext&&(l={...l,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new fh(t,null,l,o))}else{const o=this._createInjector(s,n,r,this._injector),l=r.attachComponentPortal(new mv(t,s.viewContainerRef,o,s.componentFactoryResolver));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(t,n,r,s){const o=t.injector||t.viewContainerRef?.injector,l=[{provide:MMt,useValue:t.data},{provide:Yk,useValue:n}];return t.providers&&("function"==typeof t.providers?l.push(...t.providers(n,t,r)):l.push(...t.providers)),t.direction&&(!o||!o.get(Ya,null,{optional:!0}))&&l.push({provide:Ya,useValue:{value:t.direction,change:wi()}}),On.create({parent:o||s,providers:l})}_removeOpenDialog(t,n){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const n=t.parentElement.children;for(let r=n.length-1;r>-1;r--){const s=n[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(n){return new(n||e)(re(Ss),re(On),re(IMt,8),re(e,12),re(jS),re(dY))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $k(e,i){let t=e.length;for(;t--;)i(e[t])}let kMt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[fY],imports:[xp,gv,rW,gv]})}}return e})();function FMt(e,i){}class Qk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Kk="mdc-dialog--open",pY="mdc-dialog--opening",mY="mdc-dialog--closing";let gY=(()=>{class e extends hY{constructor(t,n,r,s,o,l,w,E,D){super(t,n,r,s,o,l,w,D),this._animationMode=E,this._animationStateChanged=new Oe,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?yY(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?yY(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(vY,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(pY,Kk)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Kk),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Kk),this._animationsEnabled?(this._hostElement.style.setProperty(vY,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(mY)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(pY,mY)}_waitForAnimationToComplete(t,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const n=super.attachComponentPortal(t);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(IP),pt(Gi,8),pt(Qk),pt(PS),pt(li),pt(XS),pt(Hr,8),pt(sc))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){2&n&&(uu("id",r._config.id),_i("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ci("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[yi,Wi],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(J(0,"div",0)(1,"div",1),Ht(2,FMt,0,0,"ng-template",2),et()())},dependencies:[ph],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return e})();const vY="--mat-dialog-transition-duration";function yY(e){return null==e?null:"number"==typeof e?e:e.endsWith("ms")?Id(e.substring(0,e.length-2)):e.endsWith("s")?1e3*Id(e.substring(0,e.length-1)):"0"===e?0:null}var kE=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(kE||{});class zd{constructor(i,t,n){this._ref=i,this._containerInstance=n,this._afterOpened=new Fe,this._beforeClosed=new Fe,this._state=kE.OPEN,this.disableClose=t.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Ln(r=>"opened"===r.state),xs(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Ln(r=>"closed"===r.state),xs(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),qr(this.backdropClick(),this.keydownEvents().pipe(Ln(r=>27===r.keyCode&&!this.disableClose&&!co(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),xY(this,"keydown"===r.type?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(Ln(t=>"closing"===t.state),xs(1)).subscribe(t=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=kE.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let t=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?t.left(i.left):t.right(i.right):t.centerHorizontally(),i&&(i.top||i.bottom)?i.top?t.top(i.top):t.bottom(i.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",t=""){return this._ref.updateSize(i,t),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=kE.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function xY(e,i,t){return e._closeInteractionType=i,e.close(t)}const FE=new te("MatMdcDialogData"),NMt=new te("mat-mdc-dialog-default-options"),bY=new te("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const e=Jt(Ss);return()=>e.scrollStrategies.block()}});let VMt=0,Dp=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,n,r,s,o,l,w,E){this._overlay=t,this._defaultOptions=s,this._scrollStrategy=o,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Fe,this._afterOpenedAtThisLevel=new Fe,this.dialogConfigClass=Qk,this.afterAllClosed=$g(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ma(void 0))),this._dialog=n.get(fY),this._dialogRefConstructor=zd,this._dialogContainerType=gY,this._dialogDataToken=FE}open(t,n){let r;(n={...this._defaultOptions||new Qk,...n}).id=n.id||"mat-mdc-dialog-"+VMt++,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:PE,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(o,l,w)=>(r=new this._dialogRefConstructor(o,n,w),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:w},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let n=t.length;for(;n--;)t[n].close()}static{this.\u0275fac=function(n){return new(n||e)(re(Ss),re(On),re(ap,8),re(NMt,8),re(bY),re(e,12),re(jS),re(Hr,8))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),UMt=0,Mv=(()=>{class e{constructor(t,n,r){this.dialogRef=t,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=TY(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const n=t._matDialogClose||t._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(t){xY(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(n){return new(n||e)(pt(zd,8),pt(ai),pt(Dp))}}static{this.\u0275dir=me({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,r){1&n&&Ut("click",function(o){return r._onButtonClick(o)}),2&n&&_i("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[lr]})}}return e})(),wY=(()=>{class e{constructor(t,n,r){this._dialogRef=t,this._elementRef=n,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=TY(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(n){return new(n||e)(pt(zd,8),pt(ai),pt(Dp))}}static{this.\u0275dir=me({type:e,standalone:!0})}}return e})(),Zk=(()=>{class e extends wY{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+UMt++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,r){2&n&&uu("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[yi]})}}return e})(),fb=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[r9([Jx])]})}}return e})(),pb=(()=>{class e extends wY{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(e)))(r||e)}})()}static{this.\u0275dir=me({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,r){2&n&&Ci("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},standalone:!0,features:[yi]})}}return e})();function TY(e,i){let t=e.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?i.find(n=>n.id===t.id):null}let zMt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[Dp],imports:[kMt,xp,gv,rn,rn]})}}return e})(),GMt=(()=>{class e{constructor(t,n){this.dialogRef=t,this.data=n,this.localEcl="",this.localEcl=n.ecl}onNoClick(){this.dialogRef.close()}eclChanged(t){this.data.ecl=t?.detail[0]}static{this.\u0275fac=function(n){return new(n||e)(pt(zd),pt(FE))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-ecl-builder-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"full-height"],["apiurl","https://snowstorm.ihtsdotools.org/snowstorm/snomed-ct","branch","MAIN/2023-01-31","v-on:eclOutput","eclChange",3,"eclOutput","eclstring"],["mat-dialog-actions","",1,"actions"],["mat-flat-button","","color","accent","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(n,r){1&n&&(J(0,"h1",0),ut(1,"ECL Builder"),et(),J(2,"div",1)(3,"snomed-ecl-builder",2),Ut("eclOutput",function(o){return r.eclChanged(o)}),et()(),J(4,"div",3)(5,"button",4),ut(6,"Ok"),et()()),2&n&&(ot(3),yd("eclstring",r.localEcl),ot(2),vt("mat-dialog-close",r.data))},dependencies:[Cs,Mv,Zk,pb,fb],styles:[".full-height[_ngcontent-%COMP%]{height:78%}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})}}return e})();const SY=new te("CdkAccordion");let HMt=0,WMt=(()=>{class e{get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(t,n,r){this.accordion=t,this._changeDetectorRef=n,this._expansionDispatcher=r,this._openCloseAllSubscription=Pe.EMPTY,this.closed=new Oe,this.opened=new Oe,this.destroyed=new Oe,this.expandedChange=new Oe,this.id="cdk-accordion-child-"+HMt++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static{this.\u0275fac=function(n){return new(n||e)(pt(SY,12),pt(In),pt(hP))}}static{this.\u0275dir=me({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",qe],disabled:[2,"disabled","disabled",qe]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[xi([{provide:SY,useValue:void 0}]),vn]})}}return e})(),jMt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({})}}return e})();const XMt=["body"],YMt=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],$Mt=["mat-expansion-panel-header","*","mat-action-row"];function QMt(e,i){}const KMt=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],ZMt=["mat-panel-title","mat-panel-description","*"];function JMt(e,i){1&e&&(J(0,"span",1),bl(),J(1,"svg",2),ye(2,"path",3),et()()),2&e&&vt("@indicatorRotate",St()._getExpandedState())}const EY=new te("MAT_ACCORDION"),_Y="225ms cubic-bezier(0.4,0.0,0.2,1)",AY={indicatorRotate:xr("indicatorRotate",[Bn("collapsed, void",oi({transform:"rotate(0deg)"})),Bn("expanded",oi({transform:"rotate(180deg)"})),gn("expanded <=> collapsed, void => collapsed",mn(_Y))]),bodyExpansion:xr("bodyExpansion",[Bn("collapsed, void",oi({height:"0px",visibility:"hidden"})),Bn("expanded",oi({height:"*",visibility:""})),gn("expanded <=> collapsed, void => collapsed",mn(_Y))])},DY=new te("MAT_EXPANSION_PANEL");let qMt=(()=>{class e{constructor(t,n){this._template=t,this._expansionPanel=n}static{this.\u0275fac=function(n){return new(n||e)(pt(yr),pt(DY,8))}}static{this.\u0275dir=me({type:e,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}}return e})(),tIt=0;const MY=new te("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let IY=(()=>{class e extends WMt{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,n,r,s,o,l,w){super(t,n,r),this._viewContainerRef=s,this._animationMode=l,this._hideToggle=!1,this.afterExpand=new Oe,this.afterCollapse=new Oe,this._inputChanges=new Fe,this._headerId="mat-expansion-panel-header-"+tIt++,this.accordion=t,this._document=o,this._animationsDisabled="NoopAnimations"===l,w&&(this.hideToggle=w.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ma(null),Ln(()=>this.expanded&&!this._portal),xs(1)).subscribe(()=>{this._portal=new fh(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,n=this._body.nativeElement;return t===n||n.contains(t)}return!1}_animationStarted(t){!RY(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){RY(t)||("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static{this.\u0275fac=function(n){return new(n||e)(pt(EY,12),pt(In),pt(hP),pt(Or),pt(Gi),pt(Hr,8),pt(MY,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,s){if(1&n&&Hn(s,qMt,5),2&n){let o;He(o=We())&&(r._lazyContent=o.first)}},viewQuery:function(n,r){if(1&n&&ki(XMt,5),2&n){let s;He(s=We())&&(r._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(n,r){2&n&&Ci("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",qe],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[xi([{provide:EY,useValue:void 0},{provide:DY,useExisting:e}]),vn,yi,lr,Wi],ngContentSelectors:$Mt,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){if(1&n){const s=xe();nr(YMt),Si(0),J(1,"div",1,0),Ut("@bodyExpansion.start",function(l){return zt(s),Gt(r._animationStarted(l))})("@bodyExpansion.done",function(l){return zt(s),Gt(r._animationDone(l))}),J(3,"div",2),Si(4,1),Ht(5,QMt,0,0,"ng-template",3),et(),Si(6,2),et()}2&n&&(ot(),vt("@bodyExpansion",r._getExpandedState())("id",r.id),_i("aria-labelledby",r._headerId),ot(4),vt("cdkPortalOutlet",r._portal))},dependencies:[ph],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[AY.bodyExpansion]},changeDetection:0})}}return e})();function RY(e){return"void"===e.fromState}let eIt=(()=>{class e{constructor(t,n,r,s,o,l,w){this.panel=t,this._element=n,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=l,this._parentChangeSubscription=Pe.EMPTY,this.tabIndex=0;const E=t.accordion?t.accordion._stateChanges.pipe(Ln(D=>!(!D.hideToggle&&!D.togglePosition))):al;this.tabIndex=parseInt(w||"")||0,this._parentChangeSubscription=qr(t.opened,t.closed,E,t._inputChanges.pipe(Ln(D=>!!(D.hideToggle||D.disabled||D.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Ln(()=>t._containsFocus())).subscribe(()=>r.focusVia(n,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:co(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,n){t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(n){return new(n||e)(pt(IY,1),pt(ai),pt(sc),pt(In),pt(MY,8),pt(Hr,8),wl("tabindex"))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(n,r){1&n&&Ut("click",function(){return r._toggle()})("keydown",function(o){return r._keydown(o)}),2&n&&(_i("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),$s("height",r._getHeaderHeight()),Ci("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>null==t?0:jr(t)]},standalone:!0,features:[vn,Wi],ngContentSelectors:ZMt,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,r){1&n&&(nr(KMt),J(0,"span",0),Si(1),Si(2,1),Si(3,2),et(),Ht(4,JMt,3,1,"span",1)),2&n&&(Ci("mat-content-hide-toggle",!r._showToggle()),ot(4),Tn(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[AY.indicatorRotate]},changeDetection:0})}}return e})(),iIt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"],standalone:!0})}}return e})(),nIt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}}return e})(),rIt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,jMt,gv]})}}return e})();function sIt(e,i){if(1&e){const t=xe();J(0,"mat-option",2),Ut("click",function(){return zt(t),Gt(St().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;vt("value",t),ot(),Je(" ",t.display," ")}}let PY=(()=>{class e{constructor(t){this.terminologyService=t,this.selectionChange=new Oe}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>this.options=t.expansion.contains)}optionClicked(){this.selectionChange.emit(this.selectedOptions)}static{this.\u0275fac=function(n){return new(n||e)(pt(ma))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-dropdown-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:7,vars:5,consts:[[3,"ngModelChange","multiple","ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]],template:function(n,r){1&n&&(J(0,"mat-form-field")(1,"mat-label"),ut(2),et(),J(3,"mat-select",0),Aa("ngModelChange",function(o){return ja(r.selectedOptions,o)||(r.selectedOptions=o),o}),Ht(4,sIt,2,2,"mat-option",1),et(),J(5,"mat-hint"),ut(6),et()()),2&n&&(ot(2),Ke(r.binding.title),ot(),vt("multiple","Select (Multiple)"==r.binding.type),_a("ngModel",r.selectedOptions),ot(),vt("ngForOf",r.options),ot(2),Ke(r.binding.note))},dependencies:[ys,kl,ll,Ud,hh,Yo,Av,lc],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}}return e})();const aIt=["input"],oIt=["formField"],lIt=["*"];let kY=0;class FY{constructor(i,t){this.source=i,this.value=t}}const cIt={provide:va,useExisting:kn(()=>Jk),multi:!0},OY=new te("MatRadioGroup"),uIt=new te("mat-radio-default-options",{providedIn:"root",factory:function hIt(){return{color:"accent",disabledInteractive:!1}}});let Jk=(()=>{class e{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+kY++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Oe,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new FY(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static{this.\u0275fac=function(n){return new(n||e)(pt(In))}}static{this.\u0275dir=me({type:e,selectors:[["mat-radio-group"]],contentQueries:function(n,r,s){if(1&n&&Hn(s,OE,5),2&n){let o;He(o=We())&&(r._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",qe],required:[2,"required","required",qe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",qe]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[xi([cIt,{provide:OY,useExisting:e}]),vn]})}}return e})(),OE=(()=>{class e{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(t){this._color=t}get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,l,w,E){this._elementRef=n,this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=o,this._defaultOptions=w,this._ngZone=Jt(li),this._uniqueId="mat-radio-"+ ++kY,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new Oe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=Jt(On),this._onInputClick=D=>{this.disabled&&this.disabledInteractive&&D.preventDefault()},this.radioGroup=t,this._noopAnimations="NoopAnimations"===l,this._disabledInteractive=w?.disabledInteractive??!1,E&&(this.tabIndex=jr(E,0))}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,n)=>{t!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new FY(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let n;if(n=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n,ao(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===r&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static{this.\u0275fac=function(n){return new(n||e)(pt(OY,8),pt(ai),pt(In),pt(sc),pt(hP),pt(Hr,8),pt(uIt,8),wl("tabindex"))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-radio-button"]],viewQuery:function(n,r){if(1&n&&(ki(aIt,5),ki(oIt,7,ai)),2&n){let s;He(s=We())&&(r._inputElement=s.first),He(s=We())&&(r._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(n,r){1&n&&Ut("focus",function(){return r._inputElement.nativeElement.focus()}),2&n&&(_i("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Ci("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",qe],tabIndex:[2,"tabIndex","tabIndex",t=>null==t?0:jr(t)],checked:[2,"checked","checked",qe],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",qe],required:[2,"required","required",qe],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",qe]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[vn,Wi],ngContentSelectors:lIt,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n){const s=xe();nr(),J(0,"div",2,0)(2,"div",3)(3,"div",4),Ut("click",function(l){return zt(s),Gt(r._onTouchTargetClick(l))}),et(),J(4,"input",5,1),Ut("change",function(l){return zt(s),Gt(r._onInputInteraction(l))}),et(),J(6,"div",6),ye(7,"div",7)(8,"div",8),et(),J(9,"div",9),ye(10,"div",10),et()(),J(11,"label",11),Si(12),et()()}2&n&&(vt("labelPosition",r.labelPosition),ot(2),Ci("mdc-radio--disabled",r.disabled),ot(2),vt("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),_i("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),ot(5),vt("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),ot(2),vt("for",r.inputId))},dependencies:[uh,NP],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}}return e})(),dIt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,hu,fv,OE,rn]})}}return e})();function fIt(e,i){if(1&e){const t=xe();J(0,"mat-radio-button",3),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().optionSelected(r))}),ut(1),et()}if(2&e){const t=i.$implicit;vt("value",t.code),ot(),Je(" ",t.display," ")}}let LY=(()=>{class e{constructor(t){this.terminologyService=t,this.selectionChange=new Oe}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>this.options=t.expansion.contains)}optionSelected(t){this.selectionChange.emit(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(ma))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-radios-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:6,vars:3,consts:[["aria-label","Select an option",1,"radio-group"],["class","radio-button",3,"value","click",4,"ngFor","ngForOf"],["id","hint"],[1,"radio-button",3,"click","value"]],template:function(n,r){1&n&&(J(0,"div"),ut(1),et(),J(2,"mat-radio-group",0),Ht(3,fIt,2,2,"mat-radio-button",1),et(),J(4,"div",2),ut(5),et()),2&n&&(ot(),Ke(r.binding.title),ot(2),vt("ngForOf",r.options),ot(2),Ke(r.binding.note))},dependencies:[ys,Jk,OE],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.radio-button[_ngcontent-%COMP%]{margin:0}"]})}}return e})(),NY=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new Oe,this.text=""}ngOnInit(){}onTextChange(t){this.text=t,this.textChange.emit(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(ma))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-textbox-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","placeholder","Enter text...",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(J(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),J(3,"textarea",1),Aa("ngModelChange",function(o){return ja(r.text,o)||(r.text=o),o}),Ut("ngModelChange",function(o){return r.onTextChange(o)}),et(),J(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),Ke(r.binding.title),ot(),_a("ngModel",r.text),ot(2),Ke(r.binding.note))},dependencies:[kl,ll,Ud,Eh,Pl,Yo,lc],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}}return e})();const pIt=["input"],mIt=["label"],gIt=["*"],vIt=new te("mat-checkbox-default-options",{providedIn:"root",factory:BY});function BY(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var ho=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}(ho||{});const yIt={provide:va,useExisting:kn(()=>mb),multi:!0};class xIt{}let bIt=0;const VY=BY();let mb=(()=>{class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const n=new xIt;return n.source=this,n.checked=t,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,l){this._elementRef=t,this._changeDetectorRef=n,this._ngZone=r,this._animationMode=o,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Oe,this.indeterminateChange=new Oe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=ho.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||VY,this.color=this._options.color||VY.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++bIt,this.disabledInteractive=l?.disabledInteractive??!1}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const n=t!=this._indeterminate;this._indeterminate=t,n&&(this._transitionCheckState(this._indeterminate?ho.Indeterminate:this.checked?ho.Checked:ho.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(n!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?(this.disabled&&this.disabledInteractive||!this.disabled&&"noop"===t)&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ho.Checked:ho.Unchecked),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,n){if("NoopAnimations"===this._animationMode)return"";switch(t){case ho.Init:if(n===ho.Checked)return this._animationClasses.uncheckedToChecked;if(n==ho.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ho.Unchecked:return n===ho.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ho.Checked:return n===ho.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ho.Indeterminate:return n===ho.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const n=this._inputElement;n&&(n.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(In),pt(li),wl("tabindex"),pt(Hr,8),pt(vIt,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-checkbox"]],viewQuery:function(n,r){if(1&n&&(ki(pIt,5),ki(mIt,5),ki(uh,5)),2&n){let s;He(s=We())&&(r._inputElement=s.first),He(s=We())&&(r._labelElement=s.first),He(s=We())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,r){2&n&&(uu("id",r.id),_i("tabindex",null)("aria-label",null)("aria-labelledby",null),oo(r.color?"mat-"+r.color:"mat-accent"),Ci("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",qe],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",qe],tabIndex:[2,"tabIndex","tabIndex",t=>null==t?void 0:jr(t)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",qe],checked:[2,"checked","checked",qe],disabled:[2,"disabled","disabled",qe],indeterminate:[2,"indeterminate","indeterminate",qe]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[xi([yIt,{provide:ta,useExisting:e,multi:!0}]),vn,lr,Wi],ngContentSelectors:gIt,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n){const s=xe();nr(),J(0,"div",3),Ut("click",function(l){return zt(s),Gt(r._preventBubblingFromLabel(l))}),J(1,"div",4,0)(3,"div",5),Ut("click",function(){return zt(s),Gt(r._onTouchTargetClick())}),et(),J(4,"input",6,1),Ut("blur",function(){return zt(s),Gt(r._onBlur())})("click",function(){return zt(s),Gt(r._onInputClick())})("change",function(l){return zt(s),Gt(r._onInteractionEvent(l))}),et(),ye(6,"div",7),J(7,"div",8),bl(),J(8,"svg",9),ye(9,"path",10),et(),dy(),ye(10,"div",11),et(),ye(11,"div",12),et(),J(12,"label",13,2),Si(14),et()()}if(2&n){const s=Zi(2);vt("labelPosition",r.labelPosition),ot(4),Ci("mdc-checkbox--selected",r.checked),vt("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),_i("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-disabled",!(!r.disabled||!r.disabledInteractive)||null)("name",r.name)("value",r.value),ot(7),vt("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(),vt("for",r.inputId)}},dependencies:[uh,NP],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return e})(),CIt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[mb,rn,rn]})}}return e})();function SIt(e,i){if(1&e){const t=xe();J(0,"mat-checkbox",3),Ut("click",function(){return zt(t),Gt(St().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;yd("formControlName",t.display),ot(),Je(" ",t.display," ")}}let UY=(()=>{class e{constructor(t,n){this.terminologyService=t,this._formBuilder=n,this.selectionChange=new Oe,this.checkboxes=this._formBuilder.group([]),this.present={display:"Known present (qualifier value)",system:"http://snomed.info/sct",code:"410515003"},this.absent={display:"Known absent (qualifier value)",system:"http://snomed.info/sct",code:"410516002"}}ngOnInit(){this.options=[{display:this.binding.title}],this.options?.forEach(t=>{this.checkboxes.addControl(t.display,this._formBuilder.control(!1))})}optionClicked(){let t=[];t.push({title:this.binding.title,code:this.binding.ecl,value:this.checkboxes.value[this.binding.title]?this.present:this.absent}),this.selectionChange.emit(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(ma),pt(bE))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-checkbox-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:4,vars:3,consts:[[1,"check-group",3,"formGroup"],["class","check","labelPosition","before",3,"formControlName","click",4,"ngFor","ngForOf"],[1,"hint"],["labelPosition","before",1,"check",3,"click","formControlName"]],template:function(n,r){1&n&&(J(0,"form",0),Ht(1,SIt,2,2,"mat-checkbox",1),J(2,"span",2),ut(3),et()()),2&n&&(vt("formGroup",r.checkboxes),ot(),vt("ngForOf",r.options),ot(2),Ke(r.binding.note))},dependencies:[ys,Cv,Yo,Cp,wu,Sv,mb],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.check-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.check[_ngcontent-%COMP%]{margin:0}.hint[_ngcontent-%COMP%]{font-size:.8rem;color:#999;padding:0;margin:0 0 0 5px}"]})}}return e})(),zY=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new Oe,this.value=0}ngOnInit(){}onValueChange(t){this.value=t,this.textChange.emit(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(ma))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-integer-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","type","number","placeholder","Enter integer value...","pattern","^-?[0-9]\\d*$","title","Only integer values are allowed",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(J(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),J(3,"input",1),Aa("ngModelChange",function(o){return ja(r.value,o)||(r.value=o),o}),Ut("ngModelChange",function(o){return r.onValueChange(o)}),et(),J(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),Ke(r.binding.title),ot(),_a("ngModel",r.value),ot(2),Ke(r.binding.note))},dependencies:[kl,ll,Ud,Eh,Pl,gE,Yo,xE,lc],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}}return e})(),GY=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new Oe,this.value=0}ngOnInit(){}onValueChange(t){this.value=t,this.textChange.emit(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(ma))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-decimal-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","type","number","placeholder","Enter decimal value...","pattern","^-?[0-9]*\\.?[0-9]+$","title","Only decimal values are allowed","step","any",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(J(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),J(3,"input",1),Aa("ngModelChange",function(o){return ja(r.value,o)||(r.value=o),o}),Ut("ngModelChange",function(o){return r.onValueChange(o)}),et(),J(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),Ke(r.binding.title),ot(),_a("ngModel",r.value),ot(2),Ke(r.binding.note))},dependencies:[kl,ll,Ud,Eh,Pl,gE,Yo,xE,lc],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}}return e})();function EIt(e,i){if(1&e){const t=xe();J(0,"mat-checkbox",3),Ut("click",function(){return zt(t),Gt(St().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;yd("formControlName",t.display),ot(),Je(" ",t.display," ")}}let HY=(()=>{class e{constructor(t,n){this.terminologyService=t,this._formBuilder=n,this.selectionChange=new Oe,this.checkboxes=this._formBuilder.group([]),this.present={display:"Known present (qualifier value)",system:"http://snomed.info/sct",code:"410515003"},this.absent={display:"Known absent (qualifier value)",system:"http://snomed.info/sct",code:"410516002"}}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>{this.options=t.expansion.contains,this.options?.forEach(n=>{this.checkboxes.addControl(n.display,this._formBuilder.control(!1))})})}optionClicked(){let t=[];this.options?.forEach(n=>{t.push({code:n,value:this.checkboxes.value[n.display]?this.present:this.absent})}),this.selectionChange.emit(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(ma),pt(bE))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-checkbox-multiple-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:6,vars:4,consts:[[1,"check-group",3,"formGroup"],["class","check","labelPosition","after",3,"formControlName","click",4,"ngFor","ngForOf"],[1,"hint"],["labelPosition","after",1,"check",3,"click","formControlName"]],template:function(n,r){1&n&&(J(0,"div"),ut(1),et(),J(2,"form",0),Ht(3,EIt,2,2,"mat-checkbox",1),J(4,"span",2),ut(5),et()()),2&n&&(ot(),Ke(r.binding.title),ot(),vt("formGroup",r.checkboxes),ot(),vt("ngForOf",r.options),ot(2),Ke(r.binding.note))},dependencies:[ys,Cv,Yo,Cp,wu,Sv,mb],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.check-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.check[_ngcontent-%COMP%]{margin:0}.hint[_ngcontent-%COMP%]{font-size:.8rem;color:#999;padding:0;margin:0 0 0 5px}"]})}}return e})();const _It=["newPanel"],AIt=()=>({standalone:!0}),qk=()=>({});function DIt(e,i){1&e&&(J(0,"mat-panel-description"),ut(1," Click to add new binding "),et())}function MIt(e,i){if(1&e){const t=xe();J(0,"button",46),Ut("click",function(){let r;return zt(t),Gt(null==(r=St().newBindingForm.get("title"))?null:r.reset())}),J(1,"mat-icon"),ut(2,"close"),et()()}}function IIt(e,i){1&e&&(J(0,"span"),ut(1,"Restrict to Observables"),et())}function RIt(e,i){1&e&&(J(0,"span"),ut(1,"Open to Observables + Findings + Procedures + Situations"),et())}function PIt(e,i){if(1&e&&(J(0,"mat-option",47),ut(1),et()),2&e){const t=i.$implicit;vt("value",t),ot(),Je(" ",t," ")}}function kIt(e,i){if(1&e){const t=xe();J(0,"button",46),Ut("click",function(){let r;return zt(t),Gt(null==(r=St(2).newBindingForm.get("ecl"))?null:r.reset())}),J(1,"mat-icon"),ut(2,"close"),et()()}}function FIt(e,i){if(1&e){const t=xe();J(0,"mat-form-field",14)(1,"mat-label"),ut(2,"Answer options: ECL Expression"),et(),ye(3,"input",48),J(4,"a",49),Ut("click",function(){let r;zt(t);const s=St();return Gt(s.openEclBuilder(null==(r=s.newBindingForm.get("ecl"))?null:r.value,"ecl"))}),ut(5,"ECL Builder"),et(),Ht(6,kIt,3,0,"button",16),J(7,"mat-error"),ut(8),et()()}if(2&e){let t;const n=St();ot(6),vt("ngIf",null==(t=n.newBindingForm.get("ecl"))?null:t.value),ot(2),Ke(n.getErrorMessage("ecl"))}}function OIt(e,i){1&e&&(J(0,"span"),ut(1,"Restrict to Observables"),et())}function LIt(e,i){1&e&&(J(0,"span"),ut(1,"Open to Observables + Findings + Procedures"),et())}function NIt(e,i){if(1&e){const t=xe();J(0,"mat-form-field",14),ye(1,"app-autocomplete-binding",50),J(2,"a",19),Ut("click",function(){return zt(t),Gt(St().toggleCheckboxBinding())}),Ht(3,OIt,2,0,"span",10)(4,LIt,2,0,"span",10),et(),J(5,"mat-error"),ut(6),et()()}if(2&e){const t=St();ot(),vt("binding",t.checkboxBinding),ot(2),vt("ngIf",t.checkboxBinding.ecl===t.codeBindingAll.ecl),ot(),vt("ngIf",t.checkboxBinding.ecl!=t.codeBindingAll.ecl),ot(2),Ke(t.getErrorMessage("ecl"))}}function BIt(e,i){if(1&e){const t=xe();J(0,"button",46),Ut("click",function(){let r;return zt(t),Gt(null==(r=St(2).newBindingForm.get("note"))?null:r.reset())}),J(1,"mat-icon"),ut(2,"close"),et()()}}function VIt(e,i){if(1&e&&(J(0,"mat-form-field",51)(1,"mat-label"),ut(2,"Note"),et(),ye(3,"input",52),Ht(4,BIt,3,0,"button",16),J(5,"mat-error"),ut(6),et()()),2&e){let t;const n=St();ot(4),vt("ngIf",null==(t=n.newBindingForm.get("note"))?null:t.value),ot(2),Ke(n.getErrorMessage("note"))}}function UIt(e,i){if(1&e){const t=xe();J(0,"button",27),Ut("click",function(){return zt(t),Gt(St().addBinding())}),ut(1,"Add binding"),et()}}function zIt(e,i){if(1&e){const t=xe();J(0,"button",27),Ut("click",function(){zt(t);const r=St();return r.addBinding(),Gt(r.clearOutput())}),ut(1,"Update binding"),et()}}function GIt(e,i){if(1&e){const t=xe();J(0,"button",35),Ut("click",function(){zt(t);const r=St();return Gt(r.showRightContainer=!r.showRightContainer)}),ut(1),et()}if(2&e){const t=St();ot(),Je(" ",t.showRightContainer?"Close data panel":"Open data panel"," ")}}function HIt(e,i){1&e&&(J(0,"button",53),ut(1," Download form "),et()),2&e&&(St(),vt("matMenuTriggerFor",Zi(69)))}function WIt(e,i){if(1&e){const t=xe();J(0,"div",54)(1,"p",55),ut(2),et(),J(3,"button",56),Ut("click",function(){return zt(t),Gt(St().titleEditMode=!0)}),J(4,"mat-icon"),ut(5,"edit"),et()()()}if(2&e){const t=St();ot(2),Ke(t.formTitle)}}function jIt(e,i){if(1&e){const t=xe();J(0,"div",54)(1,"form",57)(2,"mat-form-field")(3,"mat-label"),ut(4,"Title"),et(),J(5,"input",58),Aa("ngModelChange",function(r){zt(t);const s=St();return ja(s.formTitle,r)||(s.formTitle=r),Gt(r)}),Ut("ngModelChange",function(){return zt(t),Gt(St().refreshFhirQuestionnaire())}),et(),J(6,"button",46),Ut("click",function(){return zt(t),Gt(St().formTitle="")}),J(7,"mat-icon"),ut(8,"close"),et()()()(),J(9,"button",56),Ut("click",function(){return zt(t),Gt(St().titleEditMode=!1)}),J(10,"mat-icon"),ut(11,"save"),et()()()}if(2&e){const t=St();ot(5),_a("ngModel",t.formTitle),vt("ngModelOptions",Xa(2,AIt))}}function XIt(e,i){if(1&e){const t=xe();J(0,"app-autocomplete-binding",67),Ut("selectionChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function YIt(e,i){if(1&e){const t=xe();J(0,"app-dropdown-binding",67),Ut("selectionChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function $It(e,i){if(1&e){const t=xe();J(0,"app-radios-binding",67),Ut("selectionChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function QIt(e,i){if(1&e&&(J(0,"span",68),ut(1),et()),2&e){const t=St().$implicit;ot(),Ke(t.title)}}function KIt(e,i){if(1&e){const t=xe();J(0,"app-textbox-binding",69),Ut("textChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function ZIt(e,i){if(1&e){const t=xe();J(0,"app-integer-binding",69),Ut("textChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function JIt(e,i){if(1&e){const t=xe();J(0,"app-decimal-binding",69),Ut("textChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function qIt(e,i){if(1&e){const t=xe();J(0,"app-checkbox-binding",67),Ut("selectionChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function t2t(e,i){if(1&e){const t=xe();J(0,"app-checkbox-multiple-binding",67),Ut("selectionChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function e2t(e,i){if(1&e&&(J(0,"button",70)(1,"mat-icon"),ut(2,"info"),et()()),2&e){const t=St().$implicit;vt("matMenuTriggerFor",Zi(15))("disabled",!t.code&&!t.ecl)}}function i2t(e,i){if(1&e){const t=xe();J(0,"span",6),Ut("click",function(r){return zt(t),Gt(r.stopPropagation())}),J(1,"h4"),ut(2,"Question terminology binding"),et(),J(3,"pre"),ut(4),et()()}if(2&e){const t=St().$implicit;vt("disableRipple",!0),ot(4),sl("",null==t.code?null:t.code.code," |",null==t.code?null:t.code.display,"|")}}function n2t(e,i){if(1&e){const t=xe();J(0,"span",6),Ut("click",function(r){return zt(t),Gt(r.stopPropagation())}),J(1,"h4"),ut(2,"Answer terminology binding"),et(),J(3,"pre"),ut(4),et()()}if(2&e){const t=St().$implicit;vt("disableRipple",!0),ot(4),Ke(t.ecl)}}function r2t(e,i){if(1&e){const t=xe();J(0,"div",59)(1,"div",60)(2,"mat-icon",61),ut(3,"drag_indicator"),et(),Ht(4,XIt,1,1,"app-autocomplete-binding",62)(5,YIt,1,1,"app-dropdown-binding",62)(6,$It,1,1,"app-radios-binding",62)(7,QIt,2,1,"span",63)(8,KIt,1,1,"app-textbox-binding",64)(9,ZIt,1,1,"app-integer-binding",64)(10,JIt,1,1,"app-decimal-binding",64)(11,qIt,1,1,"app-checkbox-binding",62)(12,t2t,1,1,"app-checkbox-multiple-binding",62)(13,e2t,3,2,"button",65),J(14,"mat-menu",null,0),Ht(16,i2t,5,3,"span",66)(17,n2t,5,2,"span",66),et(),J(18,"button",56),Ut("click",function(){const r=zt(t).index;return Gt(St().bindings.splice(r,1))}),J(19,"mat-icon"),ut(20,"delete"),et()(),J(21,"button",56),Ut("click",function(){const r=zt(t).index;return Gt(St().edit(r))}),J(22,"mat-icon"),ut(23,"edit"),et()()()()}if(2&e){const t=i.$implicit;ot(4),vt("ngIf","Autocomplete"==t.type),ot(),vt("ngIf","Select (Single)"==t.type||"Select (Multiple)"==t.type),ot(),vt("ngIf","Options"==t.type),ot(),vt("ngIf","Section header"==t.type),ot(),vt("ngIf","Text box"==t.type),ot(),vt("ngIf","Integer"==t.type),ot(),vt("ngIf","Decimal"==t.type),ot(),vt("ngIf","Checkbox"==t.type),ot(),vt("ngIf","Checkbox multiple"==t.type),ot(),vt("ngIf","Section header"!=t.type),ot(3),vt("ngIf",t.code),ot(),vt("ngIf",t.ecl)}}function s2t(e,i){if(1&e){const t=xe();J(0,"div",74)(1,"button",75),Ut("click",function(){zt(t);const r=St(2);return Gt(r.saveOutput(r.outputStr))}),ye(2,"mat-icon",76),et(),J(3,"button",77),Ut("click",function(){zt(t);const r=St(2);return Gt(r.copyOutputToClipboard(r.outputStr))}),ye(4,"mat-icon",78),et()()}}function a2t(e,i){if(1&e&&(J(0,"div",71),Ht(1,s2t,5,0,"div",72),J(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=St();ot(),vt("ngIf",t.showRightContainer),ot(),vt("options",Xa(4,qk))("lang","json")("innerHTML",t.responseStr,Gf)}}function o2t(e,i){if(1&e){const t=xe();J(0,"div",74)(1,"button",75),Ut("click",function(){zt(t);const r=St(2);return Gt(r.saveBundleOutput(r.responseBundleStr))}),ye(2,"mat-icon",76),et(),J(3,"button",77),Ut("click",function(){zt(t);const r=St(2);return Gt(r.copyOutputToClipboard(r.responseBundleStr))}),ye(4,"mat-icon",78),et()()}}function l2t(e,i){if(1&e&&(J(0,"div",71),Ht(1,o2t,5,0,"div",72),J(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=St();ot(),vt("ngIf",t.showRightContainer),ot(),vt("options",Xa(4,qk))("lang","json")("innerHTML",t.responseBundleStr,Gf)}}function c2t(e,i){if(1&e){const t=xe();J(0,"div",74)(1,"button",75),Ut("click",function(){zt(t);const r=St(2);return Gt(r.saveOutput(r.fhirQuestionnaireStr))}),ye(2,"mat-icon",76),et(),J(3,"button",77),Ut("click",function(){zt(t);const r=St(2);return Gt(r.copyOutputToClipboard(r.fhirQuestionnaireStr))}),ye(4,"mat-icon",78),et()()}}function u2t(e,i){if(1&e&&(J(0,"div",71),Ht(1,c2t,5,0,"div",72),J(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=St();ot(),vt("ngIf",t.showRightContainer),ot(),vt("options",Xa(4,qk))("lang","json")("innerHTML",t.fhirQuestionnaireStr,Gf)}}let h2t=(()=>{class e{constructor(t,n,r){this.terminologyService=t,this.clipboard=n,this.dialog=r,this.formTitle="My new form",this.titleEditMode=!1,this.bindings=[],this.output={},this.outputStr="{}",this.response={},this.responseStr="{}",this.responseBundle={},this.responseBundleStr="{}",this.fhirQuestionnaire={},this.fhirQuestionnaireStr="{}",this.observableBinding={title:"Question code",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)|",value:""},this.codeBindingObservables={title:"Question code (Observables)",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)|",value:""},this.codeBindingAll={title:"Question code",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)| OR << 404684003 |Clinical finding (finding)| OR << 71388002 |Procedure (procedure)| OR << 243796009 |Situation with explicit context (situation)|",value:""},this.codeBinding=this.codeBindingAll,this.checkboxBinding=JSON.parse(JSON.stringify(this.codeBindingAll)),this.example1={title:"Appendicitis data entry form (example)",bindings:[{title:"Diagnosis (type of appendicitis)",type:"Autocomplete",ecl:"<< 74400008 |Appendicitis|",value:"",note:"An autocomplete field to select between all descendants of appendicitis."},{title:"Clinical note",type:"Text box",ecl:"74400008 |Appendicitis|",value:"",note:"A text box for entering free text clinical information."},{title:"Appendicitis type",type:"Select (Single)",ecl:"<< 196781001 |Acute appendicitis with peritonitis (disorder)|",value:"",note:"A single selection dropdown field for a shorter selection of the type of appendicitis."},{title:"Appendicitis type (M)",type:"Select (Multiple)",ecl:"<< 196781001 |Acute appendicitis with peritonitis (disorder)|",value:"",note:"A multiple selection dropdown field for a shorter selection of the type of appendicitis."},{title:"Appendicectomy type",type:"Options",ecl:"<< 174036004 |Emergency appendectomy (procedure)|",value:"",note:"A radio buttons selector for the type of appendicectomy procedure."}]},this.newBindingForm=new Tv({title:new Fs("",[xu.required,xu.maxLength(50)]),code:new Fs("",[]),type:new Fs("",[xu.required]),ecl:new Fs("",[]),value:new Fs("",[]),note:new Fs("",[xu.maxLength(500)])}),this.indexInEdit=-1,this.panelOpenState=!1,this.maxSelectCount=50,this.maxOptionsCount=10,this.controlTypes=["Autocomplete","Select (Single)","Select (Multiple)","Options","Section header","Text box","Integer","Decimal","Checkbox","Checkbox multiple"].sort((s,o)=>s.localeCompare(o)),this.showRightContainer=!1}ngOnInit(){this.checkboxBinding.title=this.checkboxBinding.title.replace("Question","Checkbox")}get stateName(){return this.showRightContainer?"open":"closed"}addBinding(){var t=this;return we(function*(){if(t.newBindingForm.markAllAsTouched(),t.newBindingForm.invalid)return;const{title:n,code:r,type:s,ecl:o,value:l,note:w}=t.newBindingForm.controls;let E={title:n.value,code:r.value,type:s.value,ecl:o.value,value:l.value,note:w.value},D=!1;o.value?typeof E.type?.indexOf("Select")<"u"&&E.type?.indexOf("Select")>-1?(yield t.getEclPreview(o.value)).expansion.contains.length>t.maxSelectCount&&(D=!0,o.setErrors({selectTooManyResults:!0})):(typeof E.type?.indexOf("Options")<"u"&&E.type?.indexOf("Options")>-1||typeof E.type?.indexOf("Checkbox multiple")<"u"&&E.type?.indexOf("Checkbox multiple")>-1)&&(yield t.getEclPreview(o.value)).expansion.contains.length>t.maxOptionsCount&&(D=!0,o.setErrors({optionsTooManyResults:!0})):"Section header"!=E.type&&"Text box"!=E.type&&"Integer"!=E.type&&"Decimal"!=E.type&&(D=!0,o.setErrors({required:!0})),!D&&(t.indexInEdit>-1?t.bindings[t.indexInEdit]=E:t.bindings.push(E),t.newBindingForm.reset(),t.newPanel.close(),t.indexInEdit=-1,setTimeout(()=>{t.refreshFhirQuestionnaire(),t.refreshResponse()},100))})()}refreshFhirQuestionnaire(){this.fhirQuestionnaire={resourceType:"Questionnaire",title:this.formTitle,status:"draft",item:[]},this.bindings.forEach((t,n)=>{const r=this.createItemForBinding(t,n);r&&this.fhirQuestionnaire.item.push(r)}),this.fhirQuestionnaireStr=JSON.stringify(this.fhirQuestionnaire,null,2)}createItemForBinding(t,n){const r=this.initializeBaseItem(t,n);return["Select (Single)","Select (Multiple)","Options","Autocomplete"].includes(t.type)&&(r.extension=this.getExtensionForSelectableTypes(),r.answerValueSet=this.getAnswerValueSet(t)),"Autocomplete"===t.type&&r.extension.push(this.getAutocompleteExtension()),"Select (Multiple)"===t.type&&(r.repeats=!0),r}initializeBaseItem(t,n){const r={linkId:n+1,text:t.title,type:this.getQuestionnaireItemType(t.type)};return t.code&&(r.code=[{system:"http://snomed.info/sct",code:t.code.code,display:t.code.display}]),r}getQuestionnaireItemType(t){switch(t){case"Section header":return"display";case"Select (Single)":case"Select (Multiple)":case"Options":case"Checkbox multiple":case"Autocomplete":return"choice";case"Text box":return"text";case"Integer":return"integer";case"Decimal":return"decimal";default:return console.warn(`Unhandled binding type: ${t}`),null}}getExtensionForSelectableTypes(){return[{url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-preferredTerminologyServer",valueUrl:"https://snowstorm.ihtsdotools.org/fhir"}]}getAutocompleteExtension(){return{url:"http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/questionnaire-item-control",code:"autocomplete",display:"Auto-complete"}]}}}getAnswerValueSet(t){return`http://snomed.info/sct/900000000000207008?fhir_vs=ecl%2F${encodeURIComponent(t.ecl)}`}getEclPreview(t){var n=this;return we(function*(){return Ia((yield n.terminologyService.expandValueSet(t,"")).pipe(Ri(s=>s)))})()}edit(t){this.indexInEdit=t;const n=this.bindings[t];this.newBindingForm.setValue({title:n.title,code:n.code?n.code:"",type:n.type,ecl:n.ecl,value:n.value,note:n.note}),this.newPanel.open()}onDrop(t){ME(this.bindings,t.previousIndex,t.currentIndex)}getErrors(t){const n=this.newBindingForm.get(t);return n?n.errors:null}getErrorMessage(t){const n=this.getErrors(t);if(n){if(n.required)return"This field is required";if(n.maxlength)return`This field must be less than ${n.maxlength.requiredLength} characters`;if(n.selectTooManyResults)return`Too many results (Max = ${this.maxSelectCount})`;if(n.optionsTooManyResults)return`Too many results (Max = ${this.maxOptionsCount})`}return null}refreshResponse(){this.response={};for(let t of this.bindings)this.response[t.title]={},t.code&&(this.response[t.title].code=t.code);for(let[t,n]of Object.entries(this.output))this.output[t].code&&(this.response[t].code=this.output[t].code),this.output[t].value&&(this.response[t].value=this.output[t].value);this.responseStr=JSON.stringify(this.response,null,2),this.refreshResponseBundle()}refreshResponseBundle(){this.responseBundle={resourceType:"Bundle",type:"collection",entry:[]};for(let[t,n]of Object.entries(this.response)){let r=n;const s=r.code?{coding:[{system:"http://snomed.info/sct",code:r.code.code,display:r.code.display}]}:void 0,o=r.value?.code?{coding:[{system:"http://snomed.info/sct",code:r.value.code,display:r.value.display}]}:void 0;let l={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],subject:{reference:"Patient/123"}};l.code=s||{coding:[{system:"http://snomed.info/sct",code:"363788007",display:"Clinical history/examination observable (observable entity)"}]},o&&(l.valueCodeableConcept=o),r.value&&"string"==typeof r.value&&(l.valueString=r.value),(l.valueCodeableConcept||l.valueString)&&this.responseBundle.entry.push(l)}this.responseBundleStr=JSON.stringify(this.responseBundle,null,2)}optionSelected(t,n,r){this.output[t]={code:n,value:r},n||delete this.output[t].code,this.outputStr=JSON.stringify(this.output,null,2),this.refreshResponse()}loadExample1(){this.formTitle=this.example1.title,this.bindings=this.example1.bindings,this.refreshFhirQuestionnaire(),this.clearOutput(),this.refreshResponse()}cancelEdit(){this.newBindingForm.reset(),this.newPanel.close(),this.indexInEdit=-1}clear(){this.bindings=[],this.clearOutput(),this.newBindingForm.reset(),this.formTitle="My new form",this.showRightContainer=!1}clearOutput(){this.output={},this.outputStr="{}";const t=JSON.parse(JSON.stringify(this.bindings));this.bindings=[],this.bindings=t}saveForm(){var t=new Blob([JSON.stringify({title:this.formTitle,bindings:this.bindings},null,2)],{type:"text/plain;charset=utf-8"});(0,Tu.saveAs)(t,`${this.formTitle}.json`)}saveOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,Tu.saveAs)(n,`${this.formTitle}-data.json`)}saveBundleOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,Tu.saveAs)(n,`${this.formTitle}-fhir-bundle.json`)}copyOutputToClipboard(t){this.clipboard.copy(t)}uploadFile(t){if(1!==t.target.files.length)console.error("No file selected");else{const n=new FileReader;n.onloadend=r=>{if(n.result){const s=JSON.parse(n.result?.toString());Array.isArray(s)?(this.bindings=s,this.formTitle="My new form"):(this.bindings=[],this.bindings=s.bindings,this.formTitle=s.title),this.clearOutput(),this.refreshResponse(),this.refreshFhirQuestionnaire()}},n.readAsText(t.target.files[0])}}openEclBuilder(t,n){this.dialog.open(GMt,{data:{ecl:t},width:"80%",height:"80%"}).afterClosed().subscribe(s=>{if(s){const o=this.newBindingForm.get(n);o&&o.setValue(s.ecl)}})}toggleCodeBinding(){this.codeBinding=this.codeBinding===this.codeBindingAll?this.codeBindingObservables:this.codeBindingAll}toggleCheckboxBinding(){this.checkboxBinding=this.checkboxBinding.ecl===this.codeBindingAll.ecl?JSON.parse(JSON.stringify(this.codeBindingObservables)):JSON.parse(JSON.stringify(this.codeBindingAll)),this.checkboxBinding.title=this.checkboxBinding.title.replace("Question","Checkbox")}static{this.\u0275fac=function(n){return new(n||e)(pt(ma),pt(Nk),pt(Dp))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-bindings-sandbox"]],viewQuery:function(n,r){if(1&n&&ki(_It,5),2&n){let s;He(s=We())&&(r.newPanel=s.first)}},decls:94,vars:27,consts:[["substancePopoverMenu","matMenu"],["newPanel",""],["fileInput",""],["demosMenu","matMenu"],["id","main-panel"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disableRipple"],[1,"flex","flex-row","mb-8"],[1,"w-2/3"],[1,"editPanel","w-full","pt-4","pb-4",3,"opened","closed"],[4,"ngIf"],[1,"row",3,"formGroup"],[1,"form-row"],[1,"form-column"],[1,"input-field"],["matInput","","type","text","formControlName","title","placeholder","Enter title..."],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"input-field","autocomplete-field"],["formControlName","code",1,"grow",3,"binding"],["href","javascript:void(0)",1,"bottom-right-link",3,"click"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["class","input-field",4,"ngIf"],["class","input-field full-width",4,"ngIf"],[1,"row"],[1,"grow"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"w-1/3"],[1,"flex","flex-row","gap-4","justify-end","flex-wrap"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["hidden","","type","file","id","file",3,"change"],["mat-flat-button","","color","accent",3,"matMenuTriggerFor",4,"ngIf"],[1,"wide-menu"],["mat-menu-item","",3,"click"],["mat-flat-button","","color","accent",3,"click"],["class","compact-row-container",4,"ngIf"],[1,"row-container"],[1,"row-container-item"],["cdkDropList","",3,"cdkDropListDropped"],["class","output-panel","cdkDrag","",4,"ngFor","ngForOf"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Data collected from form"],["class","output",4,"ngIf"],["label","Data collected (FHIR Bundle)"],["label","FHIR Questionnaire"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],["matInput","","type","text","formControlName","ecl","placeholder","Enter ECL..."],["href","javascript:void(0)",1,"top-right-link",3,"click"],["formControlName","ecl",1,"grow",3,"binding"],[1,"input-field","full-width"],["matInput","","type","text","formControlName","note","placeholder","Enter a description..."],["mat-flat-button","","color","accent",3,"matMenuTriggerFor"],[1,"compact-row-container"],[1,"title"],["mat-icon-button","","color","primary",1,"tool",3,"click"],[1,"row","form-title"],["matInput","","type","text","placeholder","Enter title...",3,"ngModelChange","ngModel","ngModelOptions"],["cdkDrag","",1,"output-panel"],[1,"row","control"],["cdkDragHandle","",1,"tool","drag-handle"],["class","grow",3,"binding","selectionChange",4,"ngIf"],["class","title grow",4,"ngIf"],["class","grow",3,"binding","textChange",4,"ngIf"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled",4,"ngIf"],["mat-menu-item","",3,"disableRipple","click",4,"ngIf"],[1,"grow",3,"selectionChange","binding"],[1,"title","grow"],[1,"grow",3,"textChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled"],[1,"output"],["id","save",4,"ngIf"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["id","save"],["mat-icon-button","","matTooltip","Download",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy",3,"click"],["fontIcon","content_copy"]],template:function(n,r){if(1&n){const s=xe();J(0,"div",4)(1,"h3"),ut(2,"Terminology Bindings Sandbox "),J(3,"button",5)(4,"mat-icon"),ut(5,"info"),et()(),J(6,"mat-menu",null,0)(8,"span",6),Ut("click",function(l){return zt(s),Gt(l.stopPropagation())}),J(9,"h4"),ut(10,"Terminology Bindings Sandbox"),et(),J(11,"p"),ut(12,"This is a sandbox for creating terminology bindings, designed to support education activities."),et()()()(),J(13,"div",7)(14,"div",8)(15,"mat-expansion-panel",9,1),Ut("opened",function(){return zt(s),Gt(r.panelOpenState=!0)})("closed",function(){return zt(s),Gt(r.panelOpenState=!1)}),J(17,"mat-expansion-panel-header")(18,"mat-panel-title")(19,"h4"),ut(20,"New binding:"),et()(),Ht(21,DIt,2,0,"mat-panel-description",10),et(),J(22,"div")(23,"form",11)(24,"div",12)(25,"div",13)(26,"h5"),ut(27,"Question"),et(),J(28,"mat-form-field",14)(29,"mat-label"),ut(30,"Question text"),et(),ye(31,"input",15),Ht(32,MIt,3,0,"button",16),J(33,"mat-error"),ut(34),et()(),J(35,"mat-form-field",17),ye(36,"app-autocomplete-binding",18),J(37,"a",19),Ut("click",function(){return zt(s),Gt(r.toggleCodeBinding())}),Ht(38,IIt,2,0,"span",10)(39,RIt,2,0,"span",10),et(),J(40,"mat-error"),ut(41),et()()(),J(42,"div",13)(43,"h5"),ut(44,"Answer"),et(),J(45,"mat-form-field",14)(46,"mat-label"),ut(47,"Answer Type"),et(),J(48,"mat-select",20),Ht(49,PIt,2,2,"mat-option",21),et(),J(50,"mat-error"),ut(51),et()(),Ht(52,FIt,9,2,"mat-form-field",22)(53,NIt,7,4,"mat-form-field",22),et()(),Ht(54,VIt,7,2,"mat-form-field",23),et(),ye(55,"br"),J(56,"div",24),ye(57,"span",25),Ht(58,UIt,2,0,"button",26)(59,zIt,2,0,"button",26),J(60,"button",27),Ut("click",function(){return zt(s),Gt(r.cancelEdit())}),ut(61,"Cancel"),et()()()()(),J(62,"div",28)(63,"div",29),Ht(64,GIt,2,1,"button",30),J(65,"input",31,2),Ut("change",function(l){return zt(s),Gt(r.uploadFile(l))}),et(),Ht(67,HIt,2,1,"button",32),J(68,"mat-menu",33,3)(70,"button",34),Ut("click",function(){return zt(s),Gt(r.saveForm())}),ut(71,"Download"),et(),J(72,"button",34),Ut("click",function(){return zt(s),Gt(r.saveOutput(r.fhirQuestionnaireStr))}),ut(73,"Download as FHIR Questionnaire"),et()(),J(74,"button",35),Ut("click",function(){return zt(s),Gt(Zi(66).click())}),ut(75,"Upload form"),et(),J(76,"button",35),Ut("click",function(){return zt(s),Gt(r.loadExample1())}),ut(77,"Example"),et(),J(78,"button",35),Ut("click",function(){return zt(s),Gt(r.clear())}),ut(79,"Clear"),et()()()(),Ht(80,WIt,6,1,"div",36)(81,jIt,12,3,"div",36),J(82,"div",37)(83,"div",38)(84,"div",39),Ut("cdkDropListDropped",function(l){return zt(s),Gt(r.onDrop(l))}),Ht(85,r2t,24,12,"div",40),et()(),J(86,"div",38)(87,"mat-tab-group",41)(88,"mat-tab",42),Ht(89,a2t,4,5,"div",43),et(),J(90,"mat-tab",44),Ht(91,l2t,4,5,"div",43),et(),J(92,"mat-tab",45),Ht(93,u2t,4,5,"div",43),et()()()()()}if(2&n){let s;const o=Zi(7);ot(3),vt("matMenuTriggerFor",o),ot(5),vt("disableRipple",!0),ot(13),vt("ngIf",!r.panelOpenState),ot(2),vt("formGroup",r.newBindingForm),ot(9),vt("ngIf",null==(s=r.newBindingForm.get("title"))?null:s.value),ot(2),Ke(r.getErrorMessage("title")),ot(2),vt("binding",r.codeBinding),ot(2),vt("ngIf",r.codeBinding===r.codeBindingAll),ot(),vt("ngIf",r.codeBinding!=r.codeBindingAll),ot(2),Ke(r.getErrorMessage("code")),ot(8),vt("ngForOf",r.controlTypes),ot(2),Ke(r.getErrorMessage("type")),ot(),vt("ngIf","Section header"!=r.newBindingForm.controls.type.value&&"Text box"!=r.newBindingForm.controls.type.value&&"Checkbox"!=r.newBindingForm.controls.type.value&&"Integer"!=r.newBindingForm.controls.type.value&&"Decimal"!=r.newBindingForm.controls.type.value),ot(),vt("ngIf","Checkbox"==r.newBindingForm.controls.type.value),ot(),vt("ngIf","Section header"!=r.newBindingForm.controls.type.value),ot(4),vt("ngIf",-1==r.indexInEdit),ot(),vt("ngIf",r.indexInEdit>-1),ot(5),vt("ngIf",r.bindings.length),ot(3),vt("ngIf",r.bindings.length),ot(13),vt("ngIf",!r.titleEditMode),ot(),vt("ngIf",r.titleEditMode),ot(2),vt("@growShrink",r.stateName),ot(2),vt("ngForOf",r.bindings),ot(),vt("@openClose",r.stateName),ot(3),vt("ngIf",r.bindings.length>0),ot(2),vt("ngIf",r.bindings.length>0),ot(2),vt("ngIf",r.bindings.length>0)}},dependencies:[ys,ls,EE,Xk,Wk,lY,Cs,jo,ga,Rl,oc,vh,kl,ll,cX,hX,hh,Eh,Cv,Pl,Yo,Cp,wu,Sv,_v,Ap,Av,lc,Ep,_h,IY,eIt,nIt,iIt,Ev,PY,LY,NY,UY,zY,GY,HY],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center;gap:10px}.grow[_ngcontent-%COMP%]{flex-grow:4}mat-hint[_ngcontent-%COMP%], mat-error[_ngcontent-%COMP%]{font-size:12px}.editPanel[_ngcontent-%COMP%]{border:1px solid #cccccc00;border-radius:5px;background-color:#a0c8e5}.control[_ngcontent-%COMP%]{margin-bottom:30px}.output-panel[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s}.row[_ngcontent-%COMP%]:hover   .tool[_ngcontent-%COMP%]{opacity:1}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#616161}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;margin-left:2rem}.action-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.compact-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.row-container-item[_ngcontent-%COMP%]{width:100%;padding:10px}.output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.top-right-link[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;font-size:smaller}.form-title[_ngcontent-%COMP%]{margin-left:1rem}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:0!important}.bottom-right-link[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:0;font-size:smaller}.form-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px;width:100%}.form-column[_ngcontent-%COMP%]{flex:1 1 0px;padding-right:10px;padding-left:10px;display:flex;flex-direction:column;width:100%}.input-field.full-width[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-bottom:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"],data:{animation:[xr("openClose",[Bn("open",oi({opacity:1,width:"50%"})),Bn("closed",oi({opacity:0,width:"0"})),gn("open <=> closed",[mn("0.5s")])]),xr("growShrink",[Bn("open",oi({width:"50%"})),Bn("closed",oi({width:"100%"})),gn("open <=> closed",[mn("0.5s")])])]}})}}return e})(),d2t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-prescription-main"]],decls:2,vars:0,template:function(n,r){1&n&&(J(0,"p"),ut(1,"prescription-main works!, no?"),et())}})}}return e})();const f2t=["mat-sort-header",""],p2t=["*"];function m2t(e,i){if(1&e){const t=xe();J(0,"div",2),Ut("@arrowPosition.start",function(){return zt(t),Gt(St()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return zt(t),Gt(St()._disableViewStateAnimation=!1)}),ye(1,"div",3),J(2,"div",4),ye(3,"div",5)(4,"div",6)(5,"div",7),et()()}if(2&e){const t=St();vt("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),ot(2),vt("@indicator",t._getArrowDirectionState()),ot(),vt("@leftPointer",t._getArrowDirectionState()),ot(),vt("@rightPointer",t._getArrowDirectionState())}}const WY=new te("MAT_SORT_DEFAULT_OPTIONS");let Gd=(()=>{class e{get direction(){return this._direction}set direction(t){this._direction=t}constructor(t){this._defaultOptions=t,this._initializedStream=new Lx(1),this.sortables=new Map,this._stateChanges=new Fe,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new Oe,this.initialized=this._initializedStream}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let r=function g2t(e,i){let t=["asc","desc"];return"desc"==e&&t.reverse(),i||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static{this.\u0275fac=function(n){return new(n||e)(pt(WY,8))}}static{this.\u0275dir=me({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",qe],disabled:[2,"matSortDisabled","disabled",qe]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[vn,lr]})}}return e})();const Hd=MTt.ENTERING+" "+DTt.STANDARD_CURVE,Iv={indicator:xr("indicator",[Bn("active-asc, asc",oi({transform:"translateY(0px)"})),Bn("active-desc, desc",oi({transform:"translateY(10px)"})),gn("active-asc <=> active-desc",mn(Hd))]),leftPointer:xr("leftPointer",[Bn("active-asc, asc",oi({transform:"rotate(-45deg)"})),Bn("active-desc, desc",oi({transform:"rotate(45deg)"})),gn("active-asc <=> active-desc",mn(Hd))]),rightPointer:xr("rightPointer",[Bn("active-asc, asc",oi({transform:"rotate(45deg)"})),Bn("active-desc, desc",oi({transform:"rotate(-45deg)"})),gn("active-asc <=> active-desc",mn(Hd))]),arrowOpacity:xr("arrowOpacity",[Bn("desc-to-active, asc-to-active, active",oi({opacity:1})),Bn("desc-to-hint, asc-to-hint, hint",oi({opacity:.54})),Bn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",oi({opacity:0})),gn("* => asc, * => desc, * => active, * => hint, * => void",mn("0ms")),gn("* <=> *",mn(Hd))]),arrowPosition:xr("arrowPosition",[gn("* => desc-to-hint, * => desc-to-active",mn(Hd,pv([oi({transform:"translateY(-25%)"}),oi({transform:"translateY(0)"})]))),gn("* => hint-to-desc, * => active-to-desc",mn(Hd,pv([oi({transform:"translateY(0)"}),oi({transform:"translateY(25%)"})]))),gn("* => asc-to-hint, * => asc-to-active",mn(Hd,pv([oi({transform:"translateY(25%)"}),oi({transform:"translateY(0)"})]))),gn("* => hint-to-asc, * => active-to-asc",mn(Hd,pv([oi({transform:"translateY(0)"}),oi({transform:"translateY(-25%)"})]))),Bn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",oi({transform:"translateY(0)"})),Bn("hint-to-desc, active-to-desc, desc",oi({transform:"translateY(-25%)"})),Bn("hint-to-asc, active-to-asc, asc",oi({transform:"translateY(25%)"}))]),allowChildren:xr("allowChildren",[gn("* <=> *",[zS("@*",US(),{optional:!0})])])};let LE=(()=>{class e{constructor(){this.changes=new Fe}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const y2t={provide:LE,deps:[[new Xu,new Mf,LE]],useFactory:function v2t(e){return e||new LE}};let tF=(()=>{class e{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}constructor(t,n,r,s,o,l,w,E){this._intl=t,this._changeDetectorRef=n,this._sort=r,this._columnDef=s,this._focusMonitor=o,this._elementRef=l,this._ariaDescriber=w,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",E?.arrowPosition&&(this.arrowPosition=E?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const n=!!t;n!==this._showIndicatorHint&&(this._setIndicatorHintVisible(n),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=qr(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(n){return new(n||e)(pt(LE),pt(In),pt(Gd,8),pt("MAT_SORT_HEADER_COLUMN_DEF",8),pt(sc),pt(ai),pt(H7,8),pt(WY,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(n,r){1&n&&Ut("click",function(){return r._handleClick()})("keydown",function(o){return r._handleKeydown(o)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&n&&(_i("aria-sort",r._getAriaSortAttribute()),Ci("mat-sort-header-disabled",r._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",qe],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",qe]},exportAs:["matSortHeader"],standalone:!0,features:[vn,Wi],attrs:f2t,ngContentSelectors:p2t,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(n,r){1&n&&(nr(),J(0,"div",0)(1,"div",1),Si(2),et(),Ht(3,m2t,6,6,"div",2),et()),2&n&&(Ci("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),_i("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),ot(3),Tn(r._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Iv.indicator,Iv.leftPointer,Iv.rightPointer,Iv.arrowOpacity,Iv.arrowPosition,Iv.allowChildren]},changeDetection:0})}}return e})(),x2t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[y2t],imports:[rn]})}}return e})(),b2t=(()=>{class e{saveItem(t,n){localStorage.setItem(t,n)}getItem(t){return localStorage.getItem(t)}removeItem(t){localStorage.removeItem(t)}isLocalStorageSupported(){try{const t="__test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Rv=(()=>{class e{constructor(t,n){this.http=t,this.storageService=n,this.baseUrlSubject=new Kr("https://hapi.fhir.org/baseR4"),this.baseUrl$=this.baseUrlSubject.asObservable(),this.userTagSubject=new Kr(""),this.userTag$=this.userTagSubject.asObservable(),this.initialize()}initialize(){if(this.storageService.isLocalStorageSupported()){const t=this.storageService.getItem("baseUrl");t&&this.baseUrlSubject.next(t);const n=this.storageService.getItem("userTag");n&&this.userTagSubject.next(n)}}setBaseUrl(t){this.baseUrlSubject.next(t),this.storageService.saveItem("baseUrl",t)}getBaseUrl(){return this.baseUrlSubject.getValue()}setUserTag(t){this.userTagSubject.next(t),this.storageService.saveItem("userTag",t)}getUserTag(){return this.userTagSubject.getValue()}postQuestionnaire(t){return this.http.post(`${this.baseUrlSubject.value}/Questionnaire`,t)}getQuestionnairesByTag(t,n){return n||(n=100),this.http.get(`${this.baseUrlSubject.value}/Questionnaire?_tag=${t}&_count=${n}`)}tagQuestionnaire(t,n){return this.http.post(`${this.baseUrlSubject.value}/Questionnaire/${t}/$meta-add`,{resourceType:"Parameters",parameter:[{name:"meta",valueMeta:{tag:[{system:"http://snomed.org/tags",code:n}]}}]})}deleteQuestionnaire(t){return this.http.delete(`${this.baseUrlSubject.value}/Questionnaire/${t}`)}updateOrCreateQuestionnaire(t,n){return t.id?this.http.put(`${this.baseUrlSubject.value}/Questionnaire?_id=${t.id}&_tag=${n}`,t).pipe(Js(s=>404===s.status?this.postQuestionnaire(t):Qg(s))):this.postQuestionnaire(t)}getQuestionnaireHistory(t){return this.http.get(`${this.getBaseUrl()}/Questionnaire/${t}/_history`)}getSpecificQuestionnaireVersion(t,n){return this.http.get(`${this.getBaseUrl()}/Questionnaire/${t}/_history/${n}`)}static{this.\u0275fac=function(n){return new(n||e)(re(Il),re(b2t))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function w2t(e,i){if(1&e&&(J(0,"mat-option",15),ut(1),et()),2&e){const t=i.$implicit;vt("value",t),ot(),Je(" ",t.title," ")}}function T2t(e,i){1&e&&ye(0,"mat-spinner",16)}function C2t(e,i){if(1&e){const t=xe();J(0,"div",17)(1,"span",18),ut(2,"\u2261"),et(),ut(3),J(4,"button",19),Ut("click",function(){const r=zt(t).index;return Gt(St().deleteQuestionnaire(r))}),J(5,"mat-icon"),ut(6,"delete"),et()()()}if(2&e){const t=i.$implicit;ot(3),Je(" ",t.title," ")}}let jY=(()=>{class e{constructor(t,n,r,s){this.fb=t,this.fhirService=n,this.data=r,this.dialogRef=s,this.allQuestionnaires=[],this.availableQuestionnaires=[],this.addedQuestionnaires=[],this.userTag="",this.loading=!1}ngOnInit(){this.questionnaireForm=this.fb.group({selectedQuestionnaire:[{value:"",disabled:!0}],assignedName:[{value:"",disabled:!0}]}),this.data&&(this.addedQuestionnaires=this.data.questionnaires,this.questionnaireForm.get("assignedName")?.setValue(this.data.title)),this.questionnaireForm.get("selectedQuestionnaire"),this.userTag=this.fhirService.getUserTag(),this.loadAvailableQuestionnaires()}updateAvailableQuestionnaires(){this.availableQuestionnaires=this.addedQuestionnaires?this.allQuestionnaires.filter(t=>!this.addedQuestionnaires.some(n=>n.id===t.id)):this.allQuestionnaires,this.availableQuestionnaires=this.availableQuestionnaires.filter(t=>!t.extension||!t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode))}loadAvailableQuestionnaires(){this.loading=!0,this.fhirService.getQuestionnairesByTag(this.userTag).subscribe(t=>{this.allQuestionnaires=t.entry.map(n=>n.resource),this.allQuestionnaires.sort((n,r)=>n.title.localeCompare(r.title)),this.updateAvailableQuestionnaires(),this.loading=!1,this.questionnaireForm?.get("selectedQuestionnaire")?.enable(),this.questionnaireForm?.get("assignedName")?.enable()})}addQuestionnaire(){const t=this.questionnaireForm.value;t.selectedQuestionnaire&&(this.addedQuestionnaires.push({...t.selectedQuestionnaire,assignedName:t.assignedName}),this.questionnaireForm.get("selectedQuestionnaire")?.reset(),this.updateAvailableQuestionnaires())}drop(t){ME(this.addedQuestionnaires,t.previousIndex,t.currentIndex)}deleteQuestionnaire(t){t>-1&&(this.addedQuestionnaires.splice(t,1),this.updateAvailableQuestionnaires())}isSaveDisabled(){return!this.questionnaireForm.get("assignedName")?.value||!this.addedQuestionnaires.length}closeModal(){this.dialogRef.close({title:this.questionnaireForm.get("assignedName")?.value,questionnaires:this.addedQuestionnaires})}static{this.\u0275fac=function(n){return new(n||e)(pt(bE),pt(Rv),pt(FE),pt(zd))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-create-root-module"]],decls:26,vars:6,consts:[[1,"form-layout",3,"formGroup"],[1,"form-row"],[1,"full-width"],["matInput","","formControlName","assignedName"],[1,"half-width"],["formControlName","selectedQuestionnaire"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"add-button",3,"click","disabled"],["diameter","35","class","loading-spinner",4,"ngIf"],[1,"questionnaire-list"],[1,"list",3,"cdkDropListDropped"],["cdkDrag","","class","cdk-drag",4,"ngFor","ngForOf"],[1,"button-container"],["mat-flat-button","","color","primary","mat-dialog-close",""],["mat-flat-button","","color","accent",3,"click","disabled"],[3,"value"],["diameter","35",1,"loading-spinner"],["cdkDrag","",1,"cdk-drag"],[1,"drag-handle"],["mat-icon-button","","aria-label","Delete questionnaire",3,"click"]],template:function(n,r){1&n&&(J(0,"mat-dialog-content")(1,"h2"),ut(2,"Create a modular Questionnaire"),et(),J(3,"form",0)(4,"div",1)(5,"mat-form-field",2)(6,"mat-label"),ut(7,"Assign Name"),et(),ye(8,"input",3),et()(),J(9,"div",1)(10,"mat-form-field",4)(11,"mat-label"),ut(12,"Select Child Questionnaire"),et(),J(13,"mat-select",5),Ht(14,w2t,2,2,"mat-option",6),et()(),J(15,"button",7),Ut("click",function(){return r.addQuestionnaire()}),ut(16,"Add questionnaire"),et(),Ht(17,T2t,1,0,"mat-spinner",8),et()(),J(18,"div",9)(19,"cdk-drop-list",10),Ut("cdkDropListDropped",function(o){return r.drop(o)}),Ht(20,C2t,7,1,"div",11),et()()(),J(21,"mat-dialog-actions",12)(22,"button",13),ut(23,"Cancel"),et(),J(24,"button",14),Ut("click",function(){return r.closeModal()}),ut(25,"Save"),et()()),2&n&&(ot(3),vt("formGroup",r.questionnaireForm),ot(11),vt("ngForOf",r.availableQuestionnaires),ot(),vt("disabled",r.loading),ot(2),vt("ngIf",r.loading),ot(3),vt("ngForOf",r.addedQuestionnaires),ot(4),vt("disabled",r.isSaveDisabled()||r.loading))},dependencies:[ys,ls,Xk,Wk,Cs,jo,ga,kl,ll,hh,Pd,Eh,Cv,Pl,Yo,Cp,wu,Sv,Av,Mv,pb,fb],styles:[".questionnaire-list[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto;border:1px solid #ccc;border-radius:4px;background-color:#f9f9f9;padding:10px}.list[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;background-color:#fff;margin-bottom:10px;padding:10px;display:flex;align-items:center;justify-content:left;box-shadow:0 2px 4px #0000001a}.drag-handle[_ngcontent-%COMP%]{cursor:move;margin-right:15px;font-size:20px;color:#666}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#e0e0e0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.form-layout[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.form-layout[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.form-layout[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{width:50%;margin-right:15px}"]})}}return e})();function S2t(e,i){if(1&e&&(J(0,"mat-option",17),ut(1),et()),2&e){const t=i.$implicit;vt("value",t),ot(),Je(" ",t," ")}}function E2t(e,i){if(1&e){const t=xe();J(0,"mat-form-field",14)(1,"mat-select",16,0),Ut("selectionChange",function(r){return zt(t),Gt(St(2)._changePageSize(r.value))}),sC(3,S2t,2,2,"mat-option",17,rC),et(),J(5,"div",18),Ut("click",function(){return zt(t),Gt(Zi(2).open())}),et()()}if(2&e){const t=St(2);vt("appearance",t._formFieldAppearance)("color",t.color),ot(),vt("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),ot(2),aC(t._displayedPageSizeOptions)}}function _2t(e,i){if(1&e&&(J(0,"div",15),ut(1),et()),2&e){const t=St(2);ot(),Ke(t.pageSize)}}function A2t(e,i){if(1&e&&(J(0,"div",3)(1,"div",13),ut(2),et(),Ht(3,E2t,6,7,"mat-form-field",14)(4,_2t,2,1,"div",15),et()),2&e){const t=St();ot(),_i("id",t._pageSizeLabelId),ot(),Je(" ",t._intl.itemsPerPageLabel," "),ot(),Tn(t._displayedPageSizeOptions.length>1?3:-1),ot(),Tn(t._displayedPageSizeOptions.length<=1?4:-1)}}function D2t(e,i){if(1&e){const t=xe();J(0,"button",19),Ut("click",function(){return zt(t),Gt(St().firstPage())}),bl(),J(1,"svg",8),ye(2,"path",20),et()()}if(2&e){const t=St();vt("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),_i("aria-label",t._intl.firstPageLabel)}}function M2t(e,i){if(1&e){const t=xe();J(0,"button",21),Ut("click",function(){return zt(t),Gt(St().lastPage())}),bl(),J(1,"svg",8),ye(2,"path",22),et()()}if(2&e){const t=St();vt("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),_i("aria-label",t._intl.lastPageLabel)}}let NE=(()=>{class e{constructor(){this.changes=new Fe,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const s=t*n;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+n,r):s+n} of ${r}`}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const R2t={provide:NE,deps:[[new Xu,new Mf,NE]],useFactory:function I2t(e){return e||new NE}},k2t=new te("MAT_PAGINATOR_DEFAULT_OPTIONS");let F2t=0,eF=(()=>{class e{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(n=>jr(n,0)),this._updateDisplayedPageSizeOptions()}constructor(t,n,r){if(this._intl=t,this._changeDetectorRef=n,this._pageSizeLabelId="mat-paginator-page-size-label-"+F2t++,this._isInitialized=!1,this._initializedStream=new Lx(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Oe,this.initialized=this._initializedStream,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:o,hidePageSize:l,showFirstLastButtons:w}=r;null!=s&&(this._pageSize=s),null!=o&&(this._pageSizeOptions=o),null!=l&&(this.hidePageSize=l),null!=w&&(this.showFirstLastButtons=w)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,n)=>t-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(n){return new(n||e)(pt(NE),pt(In),pt(k2t,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",jr],length:[2,"length","length",jr],pageSize:[2,"pageSize","pageSize",jr],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",qe],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",qe],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",qe]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[vn,Wi],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){1&n&&(J(0,"div",1)(1,"div",2),Ht(2,A2t,5,4,"div",3),J(3,"div",4)(4,"div",5),ut(5),et(),Ht(6,D2t,3,5,"button",6),J(7,"button",7),Ut("click",function(){return r.previousPage()}),bl(),J(8,"svg",8),ye(9,"path",9),et()(),dy(),J(10,"button",10),Ut("click",function(){return r.nextPage()}),bl(),J(11,"svg",8),ye(12,"path",11),et()(),Ht(13,M2t,3,5,"button",12),et()()()),2&n&&(ot(2),Tn(r.hidePageSize?-1:2),ot(3),Je(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),ot(),Tn(r.showFirstLastButtons?6:-1),ot(),vt("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),_i("aria-label",r._intl.previousPageLabel),ot(3),vt("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),_i("aria-label",r._intl.nextPageLabel),ot(3),Tn(r.showFirstLastButtons?13:-1))},dependencies:[kl,Av,hh,jo,_h],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}}return e})(),O2t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:[R2t],imports:[VP,kX,BX,eF]})}}return e})(),XY=(()=>{class e{constructor(t,n){this.http=t,this.fhirService=n}generateRootQuestionnaire(t,n){var r=this;return we(function*(){try{let o=yield Ia(r.http.get("assets/questionnaires/root-questionnaire-template.json"));o.title=t;let l=0,w=r.fhirService.getBaseUrl();return r.fhirService.getUserTag(),n.forEach(D=>{l++,D.url=w+"/Questionnaire/"+D.id,o.item.push({linkId:l.toString(),text:D.title,type:"group",required:!1,item:[{extension:[{url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire",valueCanonical:D.url}],linkId:l.toString()+".1",text:"Unable to resolve sub-questionnaire",type:"display"}]})}),o}catch(s){throw console.error("Error generating root questionnaire:",s),s}})()}getRootQuestionnaireData(t){var n=this;return we(function*(){if(!t||!Array.isArray(t.item))throw new Error("Invalid root questionnaire");const r=t.title,s=t.item.filter(l=>"group"===l.type&&l.item&&Array.isArray(l.item)).flatMap(l=>l.item).map(function(){var l=we(function*(w){const E=w.extension?.find(D=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===D.url);return E?n.getQuestionnaireFromUrl(E.valueCanonical):null});return function(w){return l.apply(this,arguments)}}());return{title:r,questionnaires:(yield Promise.all(s)).filter(l=>null!==l)}})()}checkForAssembleRoot(t){return!!(t&&t.extension&&Array.isArray(t.extension))&&t.extension.some(n=>"assemble-root"===n.valueCode)}assembleQuestionnaire(t){var n=this;return we(function*(){if(t=JSON.parse(JSON.stringify(t)),!n.checkForAssembleRoot(t))return null;for(let r of t.item)if("group"==r.type){r.extension=[];for(let s of r.item)if(s.extension&&Array.isArray(s.extension))for(let o of s.extension)if("http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===o.url){let l=yield n.getQuestionnaireFromUrl(o.valueCanonical);l&&(r.item=l.item),r.extension||(r.extension=[]),r.extension.push({url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom",valueCanonical:o.valueCanonical})}}return t.extension=t.extension.filter(r=>"assemble-root"!==r.valueCode),t})()}disassembleQuestionnaire(t){var n=this;return we(function*(){if(!t||!t.item||!Array.isArray(t.item))throw new Error("Invalid root questionnaire");const r=t.title,s=[];for(const o of t.item)if("group"===o.type&&o.extension&&Array.isArray(o.extension)){const l=o.extension.find(w=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom"===w.url);if(l){const w=l.valueCanonical,E=yield n.getQuestionnaireFromUrl(w);E&&s.push(E)}}return{title:r,questionnaires:s}})()}getQuestionnaireFromUrl(t){var n=this;return we(function*(){try{return yield Ia(n.http.get(t))}catch(r){return console.error("Error fetching questionnaire:",r),null}})()}static{this.\u0275fac=function(n){return new(n||e)(re(Il),re(Rv))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const L2t=()=>[5,10,20],N2t=e=>["status-pill",e],B2t=()=>["status-pill","active"],V2t=()=>["status-pill","draft"];function U2t(e,i){1&e&&(J(0,"th",19),ut(1," Title "),et())}function z2t(e,i){if(1&e&&(J(0,"td",20),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.title," ")}}function G2t(e,i){1&e&&(J(0,"th",19),ut(1," Status "),et())}function H2t(e,i){if(1&e&&(J(0,"td",20)(1,"span",21),ut(2),vs(3,"uppercase"),et()()),2&e){const t=i.$implicit;ot(),vt("ngClass",Al(4,N2t,t.status)),ot(),Ke(Jl(3,2,t.status))}}function W2t(e,i){1&e&&(J(0,"th",22),ut(1," Version "),et())}function j2t(e,i){if(1&e&&(J(0,"td",20),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.meta.versionId," ")}}function X2t(e,i){1&e&&(J(0,"th",19),ut(1," Last updated "),et())}function Y2t(e,i){if(1&e&&(J(0,"td",20),ut(1),vs(2,"date"),et()),2&e){const t=i.$implicit;ot(),Je(" ",Pc(2,1,t.meta.lastUpdated,"MMMM d, y, h:mm:ss a")," ")}}function $2t(e,i){1&e&&(J(0,"th",19),ut(1," Type "),et())}function Q2t(e,i){1&e&&(J(0,"span",21),ut(1,"QUESTIONNAIRE"),et()),2&e&&vt("ngClass",Xa(1,B2t))}function K2t(e,i){1&e&&(J(0,"span",21),ut(1,"MODULAR ROOT"),et()),2&e&&vt("ngClass",Xa(1,V2t))}function Z2t(e,i){if(1&e&&(J(0,"td",20),Ht(1,Q2t,2,2,"span",23)(2,K2t,2,2,"span",23),et()),2&e){const t=i.$implicit,n=St();ot(),vt("ngIf",!n.isRootQuestionnaire(t)),ot(),vt("ngIf",n.isRootQuestionnaire(t))}}function J2t(e,i){1&e&&(J(0,"th",22),ut(1," Actions "),et())}function q2t(e,i){if(1&e){const t=xe();J(0,"button",34),Ut("click",function(){zt(t);const r=St().$implicit;return Gt(St().validate(r))}),J(1,"mat-icon"),ut(2,"done"),et()()}if(2&e){const t=St().$implicit;vt("disabled",St().isRootQuestionnaire(t))}}function tRt(e,i){if(1&e){const t=xe();J(0,"button",35),Ut("click",function(){zt(t);const r=St().$implicit;return Gt(St().assemble(r))}),J(1,"mat-icon"),ut(2,"build"),et()()}}function eRt(e,i){if(1&e){const t=xe();J(0,"button",36),Ut("click",function(){zt(t);const r=St().$implicit;return Gt(St().preview(r))}),J(1,"mat-icon"),ut(2,"visibility"),et()()}}function iRt(e,i){if(1&e){const t=xe();J(0,"button",37),Ut("click",function(){zt(t);const r=St().$implicit;return Gt(St().openInNewTab(r))}),J(1,"mat-icon"),ut(2,"open_in_new"),et()()}}function nRt(e,i){if(1&e){const t=xe();J(0,"button",38),Ut("click",function(){zt(t);const r=St().$implicit;return Gt(St().editQuestionnaire(r))}),J(1,"mat-icon"),ut(2,"edit"),et()()}}function rRt(e,i){if(1&e){const t=xe();J(0,"button",39),Ut("click",function(){zt(t);const r=St().$implicit;return Gt(St().openModularQuestionnaireModal(r))}),J(1,"mat-icon"),ut(2,"edit"),et()()}}function sRt(e,i){if(1&e){const t=xe();J(0,"td",20),Ht(1,q2t,3,1,"button",24)(2,tRt,3,0,"button",25)(3,eRt,3,0,"button",26)(4,iRt,3,0,"button",27),J(5,"button",28),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().saveQuestionnaire(r))}),J(6,"mat-icon"),ut(7,"cloud_download"),et()(),Ht(8,nRt,3,0,"button",29)(9,rRt,3,0,"button",30),J(10,"button",31),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().viewHistory(r))}),J(11,"mat-icon"),ut(12,"history"),et()(),J(13,"span",32)(14,"button",33),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().deleteQuestionnaire(r))}),J(15,"mat-icon"),ut(16,"delete"),et()()()()}if(2&e){const t=i.$implicit,n=St();ot(),vt("ngIf",n.config.validate),ot(),vt("ngIf",n.isRootQuestionnaire(t)),ot(),vt("ngIf",n.config.preview&&!n.isRootQuestionnaire(t)),ot(),vt("ngIf",n.config.preview),ot(4),vt("ngIf",!n.isRootQuestionnaire(t)),ot(),vt("ngIf",n.isRootQuestionnaire(t)),ot(),vt("disabled",1==t.meta.versionId),ot(3),yd("matTooltip",n.getDeleteTooltip(t)),ot(),vt("disabled",n.getReferencingQuestionnaires(t).length>0)}}function aRt(e,i){1&e&&ye(0,"tr",40)}function oRt(e,i){1&e&&ye(0,"tr",41)}function lRt(e,i){1&e&&(J(0,"p",42)(1,"i"),ut(2," No questionnaires found. Upload your questionnaires to start. "),et()())}function cRt(e,i){1&e&&ye(0,"mat-spinner",43)}function uRt(e,i){if(1&e){const t=xe();J(0,"button",44),Ut("click",function(){return zt(t),Gt(St().downloadAllQuestionnaires())}),ut(1," Download bundle "),et()}}let YY=(()=>{class e{constructor(t,n,r,s){this.fhirService=t,this.questionnaireService=n,this.dialog=r,this._snackBar=s,this.questionnaireSelected=new Oe,this.validateQuestionnaire=new Oe,this.previewQuestionnaire=new Oe,this.viewQuestionaireHistory=new Oe,this.config={},this.displayedColumns=["title","status","version","lastUpdated","type","actions"],this.dataSource=new wp,this.questionnaires=[],this.loading=!1,this.selectedFhirServer="",this.selectedUserTag="",this.notFound=!1,this.baseUrlChanged=new Fe,this.userTagChanged=new Fe,this.fbUrl="https://formbuilder.nlm.nih.gov",this.blankQuestionnaire={resourceType:"Questionnaire",title:"New Form",status:"draft",item:[{type:"string",linkId:"4009522077787",text:"Item 0"}]}}ngOnInit(){}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.sortingDataAccessor=(t,n)=>{switch(n){case"type":return this.isRootQuestionnaire(t)?"Modular root":"Questionnaire";case"version":return t.meta&&t.meta.versionId?t.meta.versionId:"";case"lastUpdated":return t.meta&&t.meta.lastUpdated?new Date(t.meta.lastUpdated):"";default:return t[n]}},this.selectedUserTag&&this.selectedFhirServer&&this.loadQuestionnaires(),oh([this.fhirService.baseUrl$.pipe(vu(1e3),mp()),this.fhirService.userTag$.pipe(vu(1e3),mp())]).subscribe(([t,n])=>{(this.selectedFhirServer!==t||this.selectedUserTag!==n)&&(this.selectedFhirServer=t,this.selectedUserTag=n,this.selectedUserTag&&this.selectedFhirServer&&this.loadQuestionnaires())})}ngOnChanges(t){}loadQuestionnaires(){this.loading=!0,this.notFound=!1,this.questionnaires=[],this.fhirService.getQuestionnairesByTag(this.selectedUserTag).subscribe(t=>{t.entry?(this.questionnaires=t.entry.map(n=>n.resource),this.dataSource.data=this.questionnaires,this.dataSource.sort=this.sort,this.loading=!1,this.sort.active="title",this.sort.direction="asc",this.sort.sortChange.emit()):(this.questionnaires=[],this.dataSource.data=this.questionnaires,this.loading=!1,this.notFound=!0)})}updateQuestionnairesList(t){const n=this.questionnaires.findIndex(r=>r.id===t.id);-1!==n?(this.questionnaires[n]=t,this.dataSource.data=this.questionnaires):(this.questionnaires.push(t),this.dataSource.data=this.questionnaires)}addQuestionnaire(t){this.updateQuestionnairesList(t)}deleteQuestionnaire(t){this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Deleting Questionnaire...",panelClass:["green-snackbar"]}),this.fhirService.deleteQuestionnaire(t.id).subscribe(()=>{this.questionnaires=this.questionnaires.filter(n=>n.id!==t.id),this.dataSource.data=this.questionnaires,this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire deleted successfully",panelClass:["green-snackbar"]})})}selectQuestionnaire(t){this.questionnaireSelected.emit(t)}validate(t){this.validateQuestionnaire.emit(t)}viewHistory(t){this.viewQuestionaireHistory.emit(t)}preview(t){this.previewQuestionnaire.emit(t)}openInNewTab(t){window.open(this.selectedFhirServer+"/Questionnaire/"+t.id,"_blank")}saveQuestionnaire(t){var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});Tu(n,`${t.title}-v${t.meta.versionId}.json`)}isRootQuestionnaire(t){return!(!t.extension||!Array.isArray(t.extension))&&t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode)}assemble(t){this._snackBar.openFromComponent(Rr,{duration:2e3,data:"Assembling Questionnaire...",panelClass:["green-snackbar"]}),this.questionnaireService.assembleQuestionnaire(t).then(n=>{n.title=t.title+" (assembled)",this.previewQuestionnaire.emit(n),this._snackBar.openFromComponent(Rr,{duration:2e3,data:"Questionnaire ready",panelClass:["green-snackbar"]})}).catch(n=>{console.error("Error assembling questionnaire:",n)})}createQuestionnaire(){let t=this.blankQuestionnaire;t.meta||(t.meta={}),t.meta.tag=[{system:"http://snomed.org/tags",code:this.selectedUserTag,display:this.selectedUserTag},{system:"http://snomed.org/tags",code:"questionnaireManagerTool",display:"questionnaireManagerTool"}],this.editQuestionnaire(t)}editQuestionnaire(t){const n=window.open(this.fbUrl+"/window-open?referrer="+encodeURIComponent(window.location.href));window.addEventListener("message",function s(o){if(o.origin===r.fbUrl){const w=o.data.questionnaire;switch(o.data.type){case"initialized":n?.postMessage({type:"initialQuestionnaire",questionnaire:t},r.fbUrl);break;case"updateQuestionnaire":break;case"closed":r.fhirService.updateOrCreateQuestionnaire(w,r.selectedUserTag).pipe(ic()).subscribe(E=>{r._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire updated successfully",panelClass:["green-snackbar"]}),r.updateQuestionnairesList(E)},E=>{r._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]})})}}},!0);let r=this}openModularQuestionnaireModal(t){var n=this;return we(function*(){let r=yield n.questionnaireService.getRootQuestionnaireData(t);n.dialog.open(jY,{data:r,width:"75%"}).afterClosed().subscribe(o=>{o&&n.handleDialogResult(o,t)})})()}handleDialogResult(t,n){var r=this;return we(function*(){r._snackBar.openFromComponent(Rr,{duration:5e3,data:"Updating questionnaire...",panelClass:["green-snackbar"]});try{let s=yield r.questionnaireService.generateRootQuestionnaire(t.title,t.questionnaires);s&&(n.title=t.title,n.item=s.item,r.addQuestionnaire(n),r.fhirService.updateOrCreateQuestionnaire(n,r.selectedUserTag).pipe(ic()).subscribe(o=>{r._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire updated successfully",panelClass:["green-snackbar"]}),r.updateQuestionnairesList(o)},o=>{r._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]})}))}catch(s){console.error("Error handling dialog result:",s)}})()}downloadAllQuestionnaires(){this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Downloading Questionnaires...",panelClass:["green-snackbar"]}),this.fhirService.getQuestionnairesByTag(this.selectedUserTag).subscribe(t=>{var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});Tu(n,"questionnaires-bundle.json"),this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaires downloaded successfully",panelClass:["green-snackbar"]})})}getReferencingQuestionnaires(t){let r=`${this.fhirService.getBaseUrl()}/Questionnaire/${t.id}`;return this.dataSource.data.filter(o=>o.item&&Array.isArray(o.item)&&o.item.some(l=>l.item&&Array.isArray(l.item)&&l.item.some(w=>w.extension&&Array.isArray(w.extension)&&w.extension.some(E=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===E.url&&E.valueCanonical===r))))}getDeleteTooltip(t){const n=this.getReferencingQuestionnaires(t);return 0===n.length?"Delete Questionnaire":`Cannot delete: Referenced by ${n.map(s=>`"${s.title}"`).join(", ")}`}static{this.\u0275fac=function(n){return new(n||e)(pt(Rv),pt(XY),pt(Dp),pt(Rd))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-list-questionnaires"]],viewQuery:function(n,r){if(1&n&&(ki(eF,5),ki(Gd,5)),2&n){let s;He(s=We())&&(r.paginator=s.first),He(s=We())&&(r.sort=s.first)}},inputs:{config:"config"},outputs:{questionnaireSelected:"questionnaireSelected",validateQuestionnaire:"validateQuestionnaire",previewQuestionnaire:"previewQuestionnaire",viewQuestionaireHistory:"viewQuestionaireHistory"},features:[lr],decls:28,vars:9,consts:[["id","table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","version"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","lastUpdated"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"mat-elevation-z8",3,"pageSizeOptions","pageSize"],["class","not-found",4,"ngIf"],["diameter","35","class","loading-spinner",4,"ngIf"],["id","outer-container"],[1,"download-button-container"],["mat-flat-button","","color","accent","matTooltip","Download all Questionnaires",3,"click",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],["mat-header-cell",""],[3,"ngClass",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Validate Questionnaire",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Assemble Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Preview Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Open resource in new tab",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","Download Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Edit Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Edit Modular Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","View Questionnaire History",1,"action-button",3,"click","disabled"],[3,"matTooltip"],["mat-icon-button","","color","accent",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Validate Questionnaire",1,"action-button",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Assemble Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Preview Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Open resource in new tab",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Edit Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Edit Modular Questionnaire",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"],["diameter","35",1,"loading-spinner"],["mat-flat-button","","color","accent","matTooltip","Download all Questionnaires",3,"click"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"table",1),Qi(2,2),Ht(3,U2t,2,0,"th",3)(4,z2t,2,1,"td",4),Ki(),Qi(5,5),Ht(6,G2t,2,0,"th",3)(7,H2t,4,6,"td",4),Ki(),Qi(8,6),Ht(9,W2t,2,0,"th",7)(10,j2t,2,1,"td",4),Ki(),Qi(11,8),Ht(12,X2t,2,0,"th",3)(13,Y2t,3,4,"td",4),Ki(),Qi(14,9),Ht(15,$2t,2,0,"th",3)(16,Z2t,3,2,"td",4),Ki(),Qi(17,10),Ht(18,J2t,2,0,"th",7)(19,sRt,17,9,"td",4),Ki(),Ht(20,aRt,1,0,"tr",11)(21,oRt,1,0,"tr",12),et(),ye(22,"mat-paginator",13),Ht(23,lRt,3,0,"p",14)(24,cRt,1,0,"mat-spinner",15),et(),J(25,"div",16)(26,"div",17),Ht(27,uRt,2,0,"button",18),et()()),2&n&&(ot(),vt("dataSource",r.dataSource),ot(19),vt("matHeaderRowDef",r.displayedColumns),ot(),vt("matRowDefColumns",r.displayedColumns),ot(),vt("pageSizeOptions",Xa(8,L2t))("pageSize",10),ot(),vt("ngIf",r.notFound&&!r.questionnaires.length),ot(),vt("ngIf",r.loading),ot(3),vt("ngIf",!r.loading&&r.questionnaires.length>0))},dependencies:[Td,ls,Cs,jo,ga,Pd,kd,wh,Fd,Th,bh,Od,Ch,Sh,Ld,Nd,_h,Gd,tF,eF,mR,sh],styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-text[_ngcontent-%COMP%]{flex-grow:1}.list-subtext[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-left:1rem}.action-button[_ngcontent-%COMP%]{margin-left:8px}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:15px;font-size:10px;color:#fff;text-align:center;margin-left:1rem}.status-pill.draft[_ngcontent-%COMP%]{background-color:#007bff}.status-pill.unknown[_ngcontent-%COMP%]{background-color:#ffc107}.status-pill.active[_ngcontent-%COMP%]{background-color:#28a745}.status-pill.retired[_ngcontent-%COMP%]{background-color:#dc3545}#table-container[_ngcontent-%COMP%]{padding-bottom:2rem}.not-found[_ngcontent-%COMP%]{margin-top:2rem}#outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.download-button-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2rem}"]})}}return e})(),hRt=(()=>{class e{constructor(t){this.dialogRef=t,this.listConfig={select:!0}}selectAndDownload(t){this.dialogRef.close(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(zd))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-load-questionnaire-modal"]],decls:7,vars:1,consts:[[3,"questionnaireSelected","config"],["align","end"],["mat-flat-button","","color","accent","mat-dialog-close",""]],template:function(n,r){1&n&&(J(0,"mat-dialog-content")(1,"h2"),ut(2,"Available Questionnaires"),et(),J(3,"app-list-questionnaires",0),Ut("questionnaireSelected",function(o){return r.selectAndDownload(o)}),et()(),J(4,"mat-dialog-actions",1)(5,"button",2),ut(6,"Close"),et()()),2&n&&(ot(3),vt("config",r.listConfig))},dependencies:[Cs,Mv,pb,fb,YY]})}}return e})();const dRt=["settingsForm"];function fRt(e,i){1&e&&(J(0,"mat-error"),ut(1,"Base URL is required"),et())}function pRt(e,i){1&e&&(J(0,"mat-error"),ut(1,"User Tag is required and must be at least 3 characters"),et())}let iF=(()=>{class e{constructor(t,n){this.fhirService=t,this.dialogRef=n,this.baseUrl="",this.userTag=""}ngAfterViewInit(){this.triggerValidation()}triggerValidation(){Object.keys(this.settingsForm.controls).forEach(t=>{const n=this.settingsForm.control.get(t);n?.markAsTouched({onlySelf:!0}),n?.markAsDirty({onlySelf:!0})})}ngOnInit(){this.baseUrl=this.fhirService.getBaseUrl(),this.userTag=this.fhirService.getUserTag()}updateSettings(){this.settingsForm.valid&&(this.fhirService.setBaseUrl(this.baseUrl),this.fhirService.setUserTag(this.userTag),this.dialogRef.close("save"))}static{this.\u0275fac=function(n){return new(n||e)(pt(Rv),pt(zd))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-fhir-server-settings-modal"]],viewQuery:function(n,r){if(1&n&&ki(dRt,5),2&n){let s;He(s=We())&&(r.settingsForm=s.first)}},decls:29,vars:5,consts:[["settingsForm","ngForm"],["baseUrlField","ngModel"],["userTagField","ngModel"],[1,"form-container"],[1,"warning"],[3,"ngSubmit"],["matInput","","name","baseUrl","required","",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","name","userTag","required","","minlength","3",3,"ngModelChange","ngModel"],[1,"button-container"],["mat-flat-button","","color","accent","type","submit",3,"disabled"],["mat-flat-button","","color","primary","mat-dialog-close",""]],template:function(n,r){if(1&n){const s=xe();J(0,"div",3)(1,"h2"),ut(2,"FHIR Server Connection"),et(),J(3,"p"),ut(4,"Manager mode allows you to store questionnares in a FHIR Server. Enter the FHIR server URL and your "),J(5,"b"),ut(6,"User Tag"),et(),ut(7,", this value will be used to identify your questionnaires."),et(),J(8,"p",4),ut(9,"Warning: using the default public FHIR server will not ensure the persistence of your information, always save your questionnaires to your computer as a backup."),et(),J(10,"form",5,0),Ut("ngSubmit",function(){return zt(s),Gt(r.updateSettings())}),J(12,"mat-form-field")(13,"mat-label"),ut(14,"Base URL of the FHIR Server"),et(),J(15,"input",6,1),Aa("ngModelChange",function(l){return zt(s),ja(r.baseUrl,l)||(r.baseUrl=l),Gt(l)}),et(),Ht(17,fRt,2,0,"mat-error",7),et(),J(18,"mat-form-field")(19,"mat-label"),ut(20,"User Tag"),et(),J(21,"input",8,2),Aa("ngModelChange",function(l){return zt(s),ja(r.userTag,l)||(r.userTag=l),Gt(l)}),et(),Ht(23,pRt,2,0,"mat-error",7),et(),J(24,"div",9)(25,"button",10),ut(26,"Open FHIR Repository"),et(),J(27,"button",11),ut(28,"Close"),et()()()()}if(2&n){const s=Zi(11),o=Zi(16),l=Zi(22);ot(15),_a("ngModel",r.baseUrl),ot(2),vt("ngIf",o.invalid&&o.touched),ot(4),_a("ngModel",r.userTag),ot(2),vt("ngIf",l.invalid&&l.touched),ot(2),vt("disabled",!s.valid)}},dependencies:[ls,Cs,kl,ll,cX,Eh,Cv,Pl,Yo,Cp,vE,kk,lc,Ep,Mv],styles:[".form-container[_ngcontent-%COMP%]{margin:auto;padding:20px}mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.warning[_ngcontent-%COMP%]{color:#ff9500;font-weight:lighter;font-style:italic}"]})}}return e})(),nF=(()=>{class e{constructor(t,n){this.data=t,this.dialogRef=n}static{this.\u0275fac=function(n){return new(n||e)(pt(FE),pt(zd))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-confirmation-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"button-container"],["mat-button","",3,"mat-dialog-close"]],template:function(n,r){1&n&&(J(0,"h1",0),ut(1),et(),J(2,"div",1)(3,"p"),ut(4),et()(),J(5,"div",2)(6,"button",3),ut(7,"Yes"),et(),J(8,"button",3),ut(9,"No"),et()()),2&n&&(ot(),Ke(r.data.title),ot(3),Ke(r.data.message),ot(2),vt("mat-dialog-close",!0),ot(2),vt("mat-dialog-close",!1))},dependencies:[Cs,Mv,Zk,pb,fb],encapsulation:2})}}return e})();function mRt(e,i){1&e&&ye(0,"div",2)}const gRt=new te("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let rF=(()=>{class e{constructor(t,n,r,s,o){this._elementRef=t,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=s,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new Oe,this._mode="determinate",this._transitionendHandler=l=>{0===this.animationEnd.observers.length||!l.target||!l.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===s,o&&(o.color&&(this.color=this._defaultColor=o.color),this.mode=o.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=$Y(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=$Y(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(li),pt(In),pt(Hr,8),pt(gRt,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,r){2&n&&(_i("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),oo("mat-"+r.color),Ci("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",jr],bufferValue:[2,"bufferValue","bufferValue",jr],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[vn,Wi],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,r){1&n&&(J(0,"div",0),ye(1,"div",1),Ht(2,mRt,1,0,"div",2),et(),J(3,"div",3),ye(4,"span",4),et(),J(5,"div",5),ye(6,"span",4),et()),2&n&&(ot(),$s("flex-basis",r._getBufferBarFlexBasis()),ot(),Tn("buffer"===r.mode?2:-1),ot(),$s("transform",r._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}}return e})();function $Y(e,i=0,t=100){return Math.max(i,Math.min(t,e))}let yRt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn]})}}return e})();const xRt=["questionnairesList"];function bRt(e,i){if(1&e&&(J(0,"div",19),ye(1,"mat-progress-bar",20),J(2,"div",21),ut(3),et()()),2&e){const t=St();ot(),vt("value",t.validatingProgress),ot(2),Je("",t.validatingProgress,"%")}}function wRt(e,i){if(1&e){const t=xe();J(0,"button",22),Ut("click",function(){return zt(t),Gt(St().saveQuestionnaire())}),ut(1," Save changes "),et()}if(2&e){const t=St();vt("disabled",t.validating||!t.questionnaire)}}function TRt(e,i){1&e&&(J(0,"span"),ut(1,"Run validation"),et())}function CRt(e,i){1&e&&ye(0,"mat-spinner",26)}function SRt(e,i){if(1&e){const t=xe();J(0,"button",23),Ut("click",function(){return zt(t),Gt(St().validate())}),Ht(1,TRt,2,0,"span",24)(2,CRt,1,0,"mat-spinner",25),et()}if(2&e){const t=St();ot(),vt("ngIf",!t.validating),ot(),vt("ngIf",t.validating)}}function ERt(e,i){if(1&e&&(J(0,"span",32),ut(1),et()),2&e){const t=St(2);ot(),Je("Error: ",t.loadResults.error,"")}}function _Rt(e,i){if(1&e&&(J(0,"span",33),ut(1),et()),2&e){const t=St(2);ot(),Je("Inactive: ",t.loadResults.inactive,"")}}function ARt(e,i){if(1&e&&(J(0,"span",34),ut(1),et()),2&e){const t=St(2);ot(),Je("Active: ",t.loadResults.active,"")}}function DRt(e,i){if(1&e&&(J(0,"p",27)(1,"b"),ut(2,"Questionnaire:"),et(),ut(3),J(4,"i"),ut(5),et(),ut(6,") - "),J(7,"span",28),ut(8),et(),ut(9),vs(10,"date"),Ht(11,ERt,2,1,"span",29)(12,_Rt,2,1,"span",30)(13,ARt,2,1,"span",31),et()),2&e){const t=St();ot(3),Je(" ",t.questionnaire.title," ("),ot(2),Ke(t.questionnaire.url),ot(3),Je("",t.dataSource.data.length," bindings"),ot(),sl(" - - Version: ",t.questionnaire.meta.versionId," (",Pc(10,8,t.questionnaire.meta.lastUpdated,"fullDate"),") "),ot(2),vt("ngIf",t.loadResults.total>0),ot(),vt("ngIf",t.loadResults.total>0),ot(),vt("ngIf",t.loadResults.total>0)}}function MRt(e,i){1&e&&(J(0,"th",35),ut(1," # "),et())}function IRt(e,i){if(1&e&&(J(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.order," ")}}function RRt(e,i){1&e&&(J(0,"th",35),ut(1," FHIRPath "),et())}function PRt(e,i){if(1&e&&(J(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.path," ")}}function kRt(e,i){1&e&&(J(0,"th",35),ut(1," Path "),et())}function FRt(e,i){if(1&e&&(J(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.readablePath," ")}}function ORt(e,i){1&e&&(J(0,"th",35),ut(1,"Code "),et())}function LRt(e,i){if(1&e&&(J(0,"td",36)(1,"a",37),ut(2),et()()),2&e){const t=i.$implicit;ot(),pC("href","http://snomed.info/id/",t.code,"",Ay),ot(),Ke(t.code)}}function NRt(e,i){1&e&&(J(0,"th",35),ut(1," Display "),et())}function BRt(e,i){if(1&e&&(J(0,"p",41),ut(1),et()),2&e){const t=St().$implicit;ot(),Je("Concept FSN: ",t.serverDisplay,"")}}function VRt(e,i){1&e&&(J(0,"p",42),ut(1,"Concept is inactive"),et())}function URt(e,i){if(1&e){const t=xe();J(0,"p",43),ut(1),J(2,"button",44),Ut("click",function(){const r=zt(t).$implicit,s=St().$implicit;return Gt(St().replaceInactiveConcept(s,r.replacement))}),J(3,"mat-icon"),ut(4,"arrow_forward"),et()()()}if(2&e){const t=i.$implicit,n=St(2);ot(),sx(" Replacement: ",t.equivalence," to ",t.replacement.code," |",t.replacement.display,"| "),ot(),vt("disabled",n.validating)}}function zRt(e,i){if(1&e&&(J(0,"td",36),ut(1),Ht(2,BRt,2,1,"p",38)(3,VRt,2,0,"p",39)(4,URt,5,4,"p",40),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.display," "),ot(),vt("ngIf",t.serverDisplay),ot(),vt("ngIf","Inactive"==t.status),ot(),vt("ngForOf",t.replacements)}}function GRt(e,i){1&e&&(J(0,"th",35),ut(1," System "),et())}function HRt(e,i){if(1&e&&(J(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.system," ")}}function WRt(e,i){1&e&&(J(0,"th",35),ut(1," Status "),et())}function jRt(e,i){1&e&&(J(0,"span"),ye(1,"mat-progress-bar",45),et())}function XRt(e,i){if(1&e&&(J(0,"span")(1,"span",46),ut(2),et()()),2&e){const t=St().$implicit;ot(),vt("ngClass",t.status),ot(),Ke(t.status)}}function YRt(e,i){if(1&e&&(J(0,"td",36),Ht(1,jRt,2,0,"span",24)(2,XRt,3,2,"span",24),et()),2&e){const t=i.$implicit;ot(),vt("ngIf","Validating"==t.status),ot(),vt("ngIf","Validating"!=t.status)}}function $Rt(e,i){1&e&&ye(0,"tr",47)}function QRt(e,i){1&e&&ye(0,"tr",48)}function KRt(e,i){1&e&&ye(0,"mat-spinner",49)}let ZRt=(()=>{class e{constructor(t,n){this.terminologyService=t,this._snackBar=n,this.questionnaireUpdated=new Oe,this.validatingQuestionnaire=new Oe,this.loading=!1,this.validating=!1,this.displayedColumns=["order","readablePath","code","display","system","status"],this.dataSource=new wp,this.validatingProgress=0,this.orderCounter=0,this.loadResults={total:0,active:0,inactive:0,error:0},this.requiresSave=!1}ngOnChanges(t){t.questionnaire&&(this.questionnaire?this.loadQuestionnaire(this.questionnaire):this.clearQuestionnaire())}clearQuestionnaire(){this.questionnaire=null,this.dataSource.data=[],this.orderCounter=0,this.validatingProgress=0,this.loadResults={total:0,active:0,inactive:0,error:0}}loadQuestionnaire(t){this.loading=!0,this.clearQuestionnaire(),setTimeout(()=>{this.loading=!1,this.questionnaire=t;let n=this.extractObjects(t);this.dataSource.data=n,this.dataSource.sort=this.sort},700)}validate(){var t=this;this.loadResults={total:0,active:0,inactive:0,error:0},this.dataSource.data.forEach(s=>{s.status="Not checked"}),this.validating=!0,this.validatingQuestionnaire.emit(!0);let n=this.dataSource.data.length,r=0;this.asyncForEach(this.dataSource.data,function(){var s=we(function*(o){t.loadResults.total++,o.status="Validating",r++,t.validatingProgress=Math.round(r/n*100);try{const l=yield t.terminologyService.lookupConcept(o.code,o.system).pipe(ic()).toPromise();let w=[],E="";for(const D of l.parameter){if("designation"===D.name){let k="",O="";for(const L of D.part)"value"===L.name&&(k=L.valueString),"use"===L.name&&(O=L.valueCoding?.code);w.push(k),"900000000000003001"===O&&(E=k)}"inactive"===D.name&&(D.valueBoolean?(o.status="Inactive",t.loadResults.inactive++):(o.status="Active",t.loadResults.active++))}if((!o.display||!w.includes(o.display))&&(o.serverDisplay=E),"Inactive"==o.status){const D=yield t.getHistoricalAssociationsTarget("900000000000527005",o.code),k=yield t.getHistoricalAssociationsTarget("900000000000530003",o.code),O=yield t.getHistoricalAssociationsTarget("900000000000523009",o.code),L=yield t.getHistoricalAssociationsTarget("900000000000526001",o.code),U=D.concat(k,O,L);o.replacements=U}}catch{o.status="Error",t.loadResults.error++}});return function(o){return s.apply(this,arguments)}}()).then(()=>{this.validating=!1,this.validatingQuestionnaire.emit(!1)})}getHistoricalAssociationsTarget(t,n){var r=this;return we(function*(){let s=[];const o=r.terminologyService.translate(t,n);let l=yield Ia(o.pipe(Ri(w=>w)));if(l.parameter)for(const w of l.parameter)if("match"===w.name){let E={replacement:{},equivalence:""};for(const D of w.part)"concept"===D.name&&D.valueCoding&&(E.replacement={code:D.valueCoding.code,display:D.valueCoding.display,system:D.valueCoding.system}),"equivalence"===D.name&&D.valueCode&&(E.equivalence=D.valueCode);s.push(E)}return s})()}removeSemanticTag(t){return t.replace(/\s*\([^)]+\)\s*$/,"").trim().toLowerCase()}asyncForEach(t,n){return we(function*(){for(let r=0;r<t.length;r++)yield n(t[r],r,t)})()}extractObjects(t,n="",r=""){let s=[];if("object"!=typeof t||null===t)return s;if(t.text&&(r=r?`${r} -> ${t.text}`:t.text),t.system&&t.system.startsWith("http://snomed.info/sct")&&t.code&&t.display){this.orderCounter++;const o={order:this.orderCounter,system:t.system,code:t.code,display:t.display,path:n,readablePath:r,status:"Not checked"};s.some(l=>l.system===o.system&&l.code===o.code&&l.display===o.display)||s.push(o)}if(Array.isArray(t))for(let o in t)s=s.concat(this.extractObjects(t[o],`${n}[${o}]`,r));else for(let o in t)t.hasOwnProperty(o)&&(s=s.concat(this.extractObjects(t[o],n?`${n}.${o}`:o,r)));if(t.answerValueSet&&t.answerValueSet.startsWith("http")){const l=new URL(t.answerValueSet).searchParams.get("fhir_vs");if(l){const w=decodeURIComponent(l),E=/(\d{5,})(?:\s*\|\s*([^|]*)\s*\|)?/g;let D;for(;null!==(D=E.exec(w));)this.orderCounter++,s.push({order:this.orderCounter,code:D[1],display:D[2]?D[2].trim():void 0,system:"http://snomed.info/sct",path:n+".answerValueSet",readablePath:r+" -> answerValueSet [ECL]",status:"Not checked"})}}return s}replaceInactiveConcept(t,n){this.searchAndReplace(this.questionnaire,t,n,!1)&&(this.requiresSave=!0,this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Inactive reference replaced successfully. Save the questionnaire to persist the changes.",panelClass:["green-snackbar"]}))}saveQuestionnaire(){this.questionnaireUpdated.emit(this.questionnaire)}searchAndReplace(t,n,r,s){if("object"!=typeof t||null===t)return s;if(t.system==n.system&&t.code==n.code&&t.display==n.display&&(t.system=r.system,t.code=r.code,t.display=r.display,s=!0),t.answerValueSet){const o=new URL(t.answerValueSet),l=o.searchParams.get("fhir_vs");if(l){const w=decodeURIComponent(l),E=new RegExp(`(\\s|^)${n.code}(\\s|$|\\|)`,"g");if(E.test(w)){const D=w.replace(E,`$1${r.code}$2`);s=!0;const k=new RegExp(`\\|\\s*${n.display}\\s*\\|`,"g");if(k.test(D)){const O=D.replace(k,`| ${r.display} |`);o.searchParams.set("fhir_vs",encodeURIComponent(O)),t.answerValueSet=o.toString()}o.searchParams.set("fhir_vs",encodeURIComponent(D)),t.answerValueSet=o.toString()}}}if(Array.isArray(t))for(let o in t)s=this.searchAndReplace(t[o],n,r,s);else for(let o in t)t.hasOwnProperty(o)&&(s=this.searchAndReplace(t[o],n,r,s));if(s&&this.dataSource.data)for(let o in this.dataSource.data)this.dataSource.data[o].system==n.system&&this.dataSource.data[o].code==n.code&&this.dataSource.data[o].display==n.display&&(this.dataSource.data[o].system=r.system,this.dataSource.data[o].code=r.code,this.dataSource.data[o].display=r.display,this.dataSource.data[o].status="Active",this.dataSource.data[o].replacements=[]);return s}static{this.\u0275fac=function(n){return new(n||e)(pt(ma),pt(Rd))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-validate-questionnaire"]],viewQuery:function(n,r){if(1&n&&(ki(Gd,5),ki(Ap,5),ki(xRt,5)),2&n){let s;He(s=We())&&(r.sort=s.first),He(s=We())&&(r.tabGroup=s.first),He(s=We())&&(r.questionnairesList=s.first)}},inputs:{questionnaire:"questionnaire"},outputs:{questionnaireUpdated:"questionnaireUpdated",validatingQuestionnaire:"validatingQuestionnaire"},features:[lr],decls:31,vars:8,consts:[[1,"button-container","bottom-spacer"],["class","progress-container",4,"ngIf"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["class","header","id","tab-header",4,"ngIf"],[1,"table-container","mt-4"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","order"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","path"],["matColumnDef","readablePath"],["matColumnDef","code"],["matColumnDef","display"],["matColumnDef","system"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","35","class","loading-spinner",4,"ngIf"],[1,"progress-container"],["mode","determinate",3,"value"],[1,"progress-label"],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-flat-button","","color","accent",3,"click"],[4,"ngIf"],["diameter","20",4,"ngIf"],["diameter","20"],["id","tab-header",1,"header"],[1,"bindingsCount"],["class","mini-pill Error",4,"ngIf"],["class","mini-pill Inactive",4,"ngIf"],["class","mini-pill Active",4,"ngIf"],[1,"mini-pill","Error"],[1,"mini-pill","Inactive"],[1,"mini-pill","Active"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["target","_blank",1,"code-link",3,"href"],["class","server-name",4,"ngIf"],["class","concept-is-inactive",4,"ngIf"],["class","replacement",4,"ngFor","ngForOf"],[1,"server-name"],[1,"concept-is-inactive"],[1,"replacement"],["mat-icon-button","","color","primary","matTooltip","Replace using this concept",3,"click","disabled"],["mode","indeterminate"],[1,"pill",3,"ngClass"],["mat-header-row",""],["mat-row",""],["diameter","35",1,"loading-spinner"]],template:function(n,r){1&n&&(J(0,"div",0),Ht(1,bRt,4,2,"div",1)(2,wRt,2,1,"button",2)(3,SRt,3,2,"button",3),et(),Ht(4,DRt,14,11,"p",4),J(5,"div",5)(6,"table",6),Qi(7,7),Ht(8,MRt,2,0,"th",8)(9,IRt,2,1,"td",9),Ki(),Qi(10,10),Ht(11,RRt,2,0,"th",8)(12,PRt,2,1,"td",9),Ki(),Qi(13,11),Ht(14,kRt,2,0,"th",8)(15,FRt,2,1,"td",9),Ki(),Qi(16,12),Ht(17,ORt,2,0,"th",8)(18,LRt,3,3,"td",9),Ki(),Qi(19,13),Ht(20,NRt,2,0,"th",8)(21,zRt,5,4,"td",9),Ki(),Qi(22,14),Ht(23,GRt,2,0,"th",8)(24,HRt,2,1,"td",9),Ki(),Qi(25,15),Ht(26,WRt,2,0,"th",8)(27,YRt,3,2,"td",9),Ki(),Ht(28,$Rt,1,0,"tr",16)(29,QRt,1,0,"tr",17),et(),Ht(30,KRt,1,0,"mat-spinner",18),et()),2&n&&(ot(),vt("ngIf",r.validating),ot(),vt("ngIf",r.requiresSave),ot(),vt("ngIf",!r.validating&&r.questionnaire),ot(),vt("ngIf",r.questionnaire),ot(2),vt("dataSource",r.dataSource),ot(22),vt("matHeaderRowDef",r.displayedColumns),ot(),vt("matRowDefColumns",r.displayedColumns),ot(),vt("ngIf",r.loading))},dependencies:[Td,ys,ls,Cs,jo,ga,rF,Pd,kd,wh,Fd,Th,bh,Od,Ch,Sh,Ld,Nd,_h,Gd,tF,sh],styles:[".header[_ngcontent-%COMP%]{margin-left:2rem;margin-top:1rem}.table-container[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem;padding-bottom:2rem}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.bottom-spacer[_ngcontent-%COMP%]{margin-bottom:1rem}.pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;font-size:.8rem}.pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mini-pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;text-align:center;font-weight:700;font-size:.9rem;margin-right:2rem;float:right}.mini-pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mini-pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.mini-pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.progress-container[_ngcontent-%COMP%]{margin-top:1rem;position:relative;width:30%}.progress-label[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:60%;transform:translateY(-50%);font-size:.9rem;font-weight:700}.bindingsCount[_ngcontent-%COMP%]{font-size:1rem;font-weight:lighter}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.code-link[_ngcontent-%COMP%]{font-size:.8rem}.server-name[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:maroon}.replacement[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:#00800b;display:flex;align-items:center;font-size:.9rem;margin-left:2rem}.concept-is-inactive[_ngcontent-%COMP%]{color:maroon;font-size:.9rem;margin-bottom:0rem}#myFormContainer[_ngcontent-%COMP%], #tab-header[_ngcontent-%COMP%]{margin-top:1rem}.tab-container[_ngcontent-%COMP%]{padding:2rem}.outgoing-link[_ngcontent-%COMP%]{font-size:.8rem;float:right;margin-right:2rem}"]})}}return e})();const JRt=e=>["status-pill",e],qRt=()=>["status-pill","active"],tPt=()=>["status-pill","draft"];function ePt(e,i){1&e&&(J(0,"th",15),ut(1," Title "),et())}function iPt(e,i){if(1&e&&(J(0,"td",16),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.title," ")}}function nPt(e,i){1&e&&(J(0,"th",15),ut(1," Status "),et())}function rPt(e,i){if(1&e&&(J(0,"td",16)(1,"span",17),ut(2),vs(3,"uppercase"),et()()),2&e){const t=i.$implicit;ot(),vt("ngClass",Al(4,JRt,t.status)),ot(),Ke(Jl(3,2,t.status))}}function sPt(e,i){1&e&&(J(0,"th",15),ut(1," Version "),et())}function aPt(e,i){if(1&e&&(J(0,"td",16),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.meta.versionId," ")}}function oPt(e,i){1&e&&(J(0,"th",15),ut(1," Date "),et())}function lPt(e,i){if(1&e&&(J(0,"td",16)(1,"i"),ut(2),vs(3,"date"),et()()),2&e){const t=i.$implicit;ot(2),Ke(Pc(3,1,t.meta.lastUpdated,"MMMM d, y, h:mm:ss a"))}}function cPt(e,i){1&e&&(J(0,"th",15),ut(1," Type "),et())}function uPt(e,i){1&e&&(J(0,"span",17),ut(1,"QUESTIONNAIRE"),et()),2&e&&vt("ngClass",Xa(1,qRt))}function hPt(e,i){1&e&&(J(0,"span",17),ut(1,"MODULAR ROOT"),et()),2&e&&vt("ngClass",Xa(1,tPt))}function dPt(e,i){if(1&e&&(J(0,"td",16),Ht(1,uPt,2,2,"span",18)(2,hPt,2,2,"span",18),et()),2&e){const t=i.$implicit,n=St();ot(),vt("ngIf",!n.isRootQuestionnaire(t)),ot(),vt("ngIf",n.isRootQuestionnaire(t))}}function fPt(e,i){1&e&&(J(0,"th",19),ut(1," Actions "),et())}function pPt(e,i){if(1&e){const t=xe();J(0,"button",24),Ut("click",function(){zt(t);const r=St().$implicit;return Gt(St().restore(r))}),J(1,"mat-icon"),ut(2,"restore_page"),et()()}}function mPt(e,i){if(1&e){const t=xe();J(0,"td",16)(1,"button",20),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().preview(r))}),J(2,"mat-icon"),ut(3,"visibility"),et()(),J(4,"button",21),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().openInNewTab(r))}),J(5,"mat-icon"),ut(6,"open_in_new"),et()(),J(7,"button",22),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().saveQuestionnaire(r))}),J(8,"mat-icon"),ut(9,"cloud_download"),et()(),Ht(10,pPt,3,0,"button",23),et()}if(2&e){const t=i.$implicit,n=St();ot(10),vt("ngIf",(null==t||null==t.meta?null:t.meta.versionId)!=(null==n.versions[0]||null==n.versions[0].meta?null:n.versions[0].meta.versionId))}}function gPt(e,i){1&e&&ye(0,"tr",25)}function vPt(e,i){1&e&&ye(0,"tr",26)}function yPt(e,i){1&e&&(J(0,"p",27)(1,"i"),ut(2," No questionnaire selected. "),et()())}function xPt(e,i){1&e&&ye(0,"mat-spinner",28)}let bPt=(()=>{class e{constructor(t){this.fhirService=t,this.previewQuestionnaire=new Oe,this.restoreQuestionnaireVersion=new Oe,this.versions=[],this.loading=!1,this.selectedFhirServer="",this.selectedUserTag="",this.displayedColumns=["title","status","version","lastUpdated","type","actions"],this.dataSource=new wp}ngOnChanges(t){t.questionnaire&&t.questionnaire.currentValue&&t.questionnaire.currentValue.id&&this.loadVersions()}ngOnInit(){oh([this.fhirService.baseUrl$.pipe(vu(1e3),mp()),this.fhirService.userTag$.pipe(vu(1e3),mp())]).subscribe(([t,n])=>{(this.selectedFhirServer!==t||this.selectedUserTag!==n)&&(this.selectedFhirServer=t,this.selectedUserTag=n,this.selectedUserTag&&this.selectedFhirServer&&this.loadVersions())})}loadVersions(t){this.versions=[],this.dataSource.data=this.versions,t&&(this.questionnaire=t),this.questionnaire&&(this.loading=!0,this.fhirService.getQuestionnaireHistory(this.questionnaire.id).subscribe(n=>{this.versions=n.entry.map(r=>r.resource),this.dataSource.data=this.versions,this.loading=!1},n=>{this.loading=!1}))}preview(t){this.previewQuestionnaire.emit(t),this.loadVersions()}openInNewTab(t){window.open(this.selectedFhirServer+"/Questionnaire/"+t.id+"/_history/"+t.meta.versionId,"_blank")}saveQuestionnaire(t){var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});Tu(n,`${t.title}-v${t.meta.versionId}.json`)}restore(t){this.restoreQuestionnaireVersion.emit(t)}isRootQuestionnaire(t){return!(!t.extension||!Array.isArray(t.extension))&&t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode)}static{this.\u0275fac=function(n){return new(n||e)(pt(Rv))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-questionnaire-history"]],inputs:{questionnaire:"questionnaire"},outputs:{previewQuestionnaire:"previewQuestionnaire",restoreQuestionnaireVersion:"restoreQuestionnaireVersion"},features:[lr],decls:24,vars:5,consts:[[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","version"],["matColumnDef","lastUpdated"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","not-found",4,"ngIf"],["diameter","35","class","loading-spinner",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],[3,"ngClass",4,"ngIf"],["mat-header-cell",""],["mat-icon-button","","color","accent","matTooltip","Preview Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Open resource in new tab",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Download Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Restore Version",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","Restore Version",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"],["diameter","35",1,"loading-spinner"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"table",1),Qi(2,2),Ht(3,ePt,2,0,"th",3)(4,iPt,2,1,"td",4),Ki(),Qi(5,5),Ht(6,nPt,2,0,"th",3)(7,rPt,4,6,"td",4),Ki(),Qi(8,6),Ht(9,sPt,2,0,"th",3)(10,aPt,2,1,"td",4),Ki(),Qi(11,7),Ht(12,oPt,2,0,"th",3)(13,lPt,4,4,"td",4),Ki(),Qi(14,8),Ht(15,cPt,2,0,"th",3)(16,dPt,3,2,"td",4),Ki(),Qi(17,9),Ht(18,fPt,2,0,"th",10)(19,mPt,11,1,"td",4),Ki(),Ht(20,gPt,1,0,"tr",11)(21,vPt,1,0,"tr",12),et(),Ht(22,yPt,3,0,"p",13)(23,xPt,1,0,"mat-spinner",14),et()),2&n&&(ot(),vt("dataSource",r.dataSource),ot(19),vt("matHeaderRowDef",r.displayedColumns),ot(),vt("matRowDefColumns",r.displayedColumns),ot(),vt("ngIf",!r.questionnaire),ot(),vt("ngIf",r.loading))},dependencies:[Td,ls,jo,ga,Pd,kd,wh,Fd,Th,bh,Od,Ch,Sh,Ld,Nd,_h,Gd,tF,mR,sh],styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-text[_ngcontent-%COMP%]{flex-grow:1}.list-subtext[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-left:1rem}.action-button[_ngcontent-%COMP%]{margin-left:8px}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:15px;font-size:10px;color:#fff;text-align:center;margin-left:1rem}.status-pill.draft[_ngcontent-%COMP%]{background-color:#007bff}.status-pill.unknown[_ngcontent-%COMP%]{background-color:#ffc107}.status-pill.active[_ngcontent-%COMP%]{background-color:#28a745}.status-pill.retired[_ngcontent-%COMP%]{background-color:#dc3545}.not-found[_ngcontent-%COMP%]{margin-top:2rem}#outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.download-button-container[_ngcontent-%COMP%]{margin-top:10px}.table-container[_ngcontent-%COMP%]{margin:2rem;padding-bottom:2rem}"]})}}return e})();const wPt=["questionnairesList"],TPt=["fileInput"],CPt=["questionnaireHistory"];function SPt(e,i){1&e&&(J(0,"span"),ut(1," / Validator"),et())}function EPt(e,i){1&e&&(J(0,"span"),ut(1," / Questionnaires repository"),et())}function _Pt(e,i){if(1&e){const t=xe();J(0,"span",19)(1,"a",20),Ut("click",function(){return zt(t),Gt(St(3).mode="Manager")}),J(2,"mat-icon"),ut(3,"play_arrow"),et(),J(4,"span"),ut(5,"Reconnect to last FHIR Server"),et()()()}}function APt(e,i){if(1&e&&(J(0,"span",19)(1,"span",21),ut(2),J(3,"i"),ut(4),et(),ut(5,'" )'),et()()),2&e){const t=St(3);ot(2),Je(" ( ",t.selectedFhirServer,' as "'),ot(2),Ke(t.selectedUserTag)}}function DPt(e,i){if(1&e){const t=xe();J(0,"div",14)(1,"h3",15),ut(2,"Work with the Questionnaire Manager"),et(),J(3,"p",15),ut(4,"Connect to a FHIR server to store and version your questionnaire resources. Use the integrated questionnaire manager, editor and validator."),et(),J(5,"div",16)(6,"button",17),Ut("click",function(){zt(t);const r=St(2);return r.step1Response="repository",Gt(r.advanceFromStep1())}),ut(7,"Connect to a FHIR Server and Open Repository Manager"),et(),Ht(8,_Pt,6,0,"span",18)(9,APt,6,2,"span",18),et()()}if(2&e){const t=St(2);ot(8),vt("ngIf",t.selectedFhirServer&&t.selectedUserTag),ot(),vt("ngIf",t.selectedFhirServer&&t.selectedUserTag)}}function MPt(e,i){if(1&e){const t=xe();J(0,"div",22)(1,"h3",15),ut(2,"Work with a single questionnaire"),et(),J(3,"p",15),ut(4,"Create, preview or validate a questionnaire you upload from your computer."),et(),J(5,"div",23)(6,"button",17),Ut("click",function(){zt(t);const r=St(2);return r.step1Response="edit",Gt(r.advanceFromStep1())}),ut(7,"Open NLM Form Builder"),et(),J(8,"button",17),Ut("click",function(){zt(t);const r=St(2);return r.step1Response="example",Gt(r.advanceFromStep1())}),ut(9,"Load an example questionnaire"),et(),J(10,"button",17),Ut("click",function(){zt(t);const r=St(2);return r.step1Response="validate",Gt(r.advanceFromStep1())}),ut(11,"Upload and validate a questionnaire"),et()()()}}function IPt(e,i){if(1&e&&(J(0,"div",10)(1,"div",11),Ht(2,DPt,10,2,"div",12)(3,MPt,12,0,"div",13),et()()),2&e){const t=St();ot(2),vt("ngIf","step1"==t.mode),ot(),vt("ngIf","utility"==t.mode)}}function RPt(e,i){if(1&e&&(J(0,"span"),ut(1," Connected to "),J(2,"a",37),ut(3),et(),ut(4,' as "'),J(5,"i"),ut(6),et(),ut(7,'" '),et()),2&e){const t=St(2);ot(2),vt("href",t.selectedFhirServer,Ay),ot(),Ke(t.selectedFhirServer),ot(3),Ke(t.selectedUserTag)}}function PPt(e,i){if(1&e){const t=xe();J(0,"button",26),Ut("click",function(){return zt(t),Gt(St(2).createQuestionnaire())}),ut(1," Create Questionnaire "),et()}2&e&&vt("disabled",St(2).validating)}function kPt(e,i){if(1&e){const t=xe();J(0,"button",26),Ut("click",function(){return zt(t),Gt(St(2).openModularQuestionnaireModal())}),ut(1," Create Modular Questionnaire "),et()}2&e&&vt("disabled",St(2).validating)}function FPt(e,i){if(1&e){const t=xe();J(0,"mat-tab",38)(1,"div",31)(2,"app-list-questionnaires",39,3),Ut("validateQuestionnaire",function(r){return zt(t),Gt(St(2).switchToValidateTab(r))})("previewQuestionnaire",function(r){return zt(t),Gt(St(2).switchToPreviewTab(r))})("viewQuestionaireHistory",function(r){return zt(t),Gt(St(2).switchToHistoryTab(r))}),et()()()}if(2&e){const t=St(2);ot(2),vt("config",t.listConfig)}}function OPt(e,i){if(1&e&&(J(0,"h4"),ut(1),vs(2,"date"),et()),2&e){const t=St(2);ot(),sx("",t.questionnaire.title," - Version: ",t.questionnaire.meta.versionId," (",Pc(2,3,t.questionnaire.meta.lastUpdated,"fullDate"),")")}}function LPt(e,i){if(1&e){const t=xe();J(0,"div")(1,"div",24),Ht(2,RPt,8,3,"span",8),J(3,"input",25,0),Ut("change",function(r){return zt(t),Gt(St().onFileSelected(r))}),et(),J(5,"button",26),Ut("click",function(){return zt(t),Gt(Zi(4).click())}),ut(6," Upload "),et(),J(7,"button",26),Ut("click",function(){return zt(t),Gt(St().saveQuestionnaireToDisk())}),ut(8,"Download"),et(),Ht(9,PPt,2,1,"button",27)(10,kPt,2,1,"button",27),et(),J(11,"mat-tab-group",28),Ut("selectedIndexChange",function(r){return zt(t),Gt(St().onTabChange(r))}),Ht(12,FPt,4,1,"mat-tab",29),J(13,"mat-tab",30)(14,"div",31),Ht(15,OPt,3,6,"h4",8),ye(16,"div",32),et()(),J(17,"mat-tab",33)(18,"app-validate-questionnaire",34,1),Ut("questionnaireUpdated",function(r){return zt(t),Gt(St().saveQuestionnaire(r))})("validatingQuestionnaire",function(r){return zt(t),Gt(St().validating=r)}),et()(),J(20,"mat-tab",35)(21,"app-questionnaire-history",36,2),Ut("previewQuestionnaire",function(r){return zt(t),Gt(St().switchToPreviewTab(r))})("restoreQuestionnaireVersion",function(r){return zt(t),Gt(St().saveQuestionnaire(r))}),et()()()()}if(2&e){const t=St();ot(2),vt("ngIf","Manager"==t.mode),ot(3),vt("disabled",t.validating),ot(2),vt("disabled",t.validating||!t.questionnaire),ot(2),vt("ngIf","Manager"==t.mode),ot(),vt("ngIf","Manager"==t.mode),ot(2),vt("ngIf","Manager"===t.mode),ot(3),vt("ngIf",t.questionnaire),ot(),Ci("hidden",!t.questionnaire),ot(2),vt("questionnaire",t.questionnaire),ot(3),vt("questionnaire",t.questionnaire)}}let NPt=(()=>{class e{constructor(t,n,r,s,o,l,w){this.http=t,this.terminologyService=n,this.fhirService=r,this.questionnaireService=s,this.activatedRoute=o,this.dialog=l,this._snackBar=w,this.loading=!1,this.validating=!1,this.orderCounter=0,this.savingQuestionnaire=!1,this.selectedFhirServer="",this.selectedUserTag="",this.showFhirSetupModal=!1,this.listConfig={validate:!0,preview:!0},this.mode="step1"}ngOnInit(){this.fhirService.baseUrl$.subscribe(t=>{this.selectedFhirServer=t}),this.fhirService.userTag$.subscribe(t=>{this.selectedUserTag=t}),this.activatedRoute.queryParams.subscribe(t=>{this.mode="true"===t.utility?"utility":"step1"}),this.loadScript()}loadScript(){const t=document.createElement("script");t.src="https://clinicaltables.nlm.nih.gov/lforms-versions/36.3.2/webcomponent/lhc-forms.js",t.onload=()=>{const n=document.createElement("script");n.src="https://clinicaltables.nlm.nih.gov/lforms-versions/36.3.2/fhir/R4/lformsFHIR.min.js",n.onload=()=>{},document.head.appendChild(n)},document.head.appendChild(t)}toggleMode(){"Validator"===this.mode?this.dialog.open(iF,{width:"60%",disableClose:!0}).afterClosed().subscribe(n=>{"save"===n&&(this.mode="Manager",setTimeout(()=>{this.tabGroup.selectedIndex=0},500))}):this.mode="Validator"}previewForm(){"Preview"==this.getCurrentTabName()&&(this.questionnaire?LForms.Util.addFormToPage(this.questionnaire,"myFormContainer"):LForms.Util.addFormToPage({},"myFormContainer"))}getFormData(){this.questionnaire&&LForms.Util.getFormData("myFormContainer",!0,!0,!0)}displayHistory(t){t&&this.questionnaireHistory.loadVersions(t)}loadExampleQuestionnaire(){Ia(this.http.get("assets/questionnaires/Carcinoma-of-the-Exocrine-Pancreas-Histopathology-Reporting-Form.R4 (11).json")).then(t=>{this.loadQuestionnaire(t),"Manager"===this.mode&&(this.tabGroup.selectedIndex=1)})}clearQuestionnaire(){this.questionnaire=null,this.orderCounter=0,this.previewForm()}createQuestionnaire(){this.questionnairesList.createQuestionnaire()}loadQuestionnaire(t){this.loading=!0,this.clearQuestionnaire(),setTimeout(()=>{this.loading=!1,this.questionnaire=t,this.previewForm()},700)}saveQuestionnaireToDisk(){var t=new Blob([JSON.stringify(this.questionnaire,null,2)],{type:"text/plain;charset=utf-8"});Tu(t,`${this.questionnaire.title}.json`)}onFileSelected(t){const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const o=JSON.parse(s.target?.result);"Questionnaire"===o.resourceType?(this.loadQuestionnaire(o),setTimeout(()=>{"Manager"===this.mode?this.postCurrentQuestionnaire():this.tabGroup.selectedIndex=1},1e3)):this._snackBar.openFromComponent(Rr,{duration:5e3,data:"The file is not a FHIR Questionnaire Resource",panelClass:["red-snackbar"]})}catch(o){console.error(o),this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Invalid JSON file",panelClass:["red-snackbar"]})}},r.readAsText(n),t.target.value=""}}postCurrentQuestionnaire(){this.postQuestionnaire(this.questionnaire)}postQuestionnaire(t){if(-1!==this.questionnairesList.questionnaires.findIndex(r=>r.title===t.title&&r.id!==t.id))this.dialog.open(nF,{width:"400px",data:{title:"Confirm Action",message:"A questionnaire with the same title and different ID already exists. Do you want to proceed?"}}).afterClosed().subscribe(s=>{s?this.saveQuestionnaire(t):this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire save action cancelled",panelClass:["red-snackbar"]})});else{-1!==this.questionnairesList.questionnaires.findIndex(o=>o.title===t.title&&o.id===t.id&&o.meta?.versionId>=t.meta?.versionId)?this.dialog.open(nF,{width:"400px",data:{title:"Confirm Action",message:"A newer version or identical of this questionnaire already exists. Do you want to proceed?"}}).afterClosed().subscribe(l=>{l?this.saveQuestionnaire(t):this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire save action cancelled",panelClass:["red-snackbar"]})}):this.saveQuestionnaire(t)}}saveQuestionnaire(t){t?(this.savingQuestionnaire=!0,this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Saving Questionnaire...",panelClass:["green-snackbar"]}),t.meta||(t.meta={}),t.meta.tag=[{system:"http://snomed.org/tags",code:this.selectedUserTag,display:this.selectedUserTag},{system:"http://snomed.org/tags",code:"questionnaireManagerTool",display:"questionnaireManagerTool"}],this.fhirService.updateOrCreateQuestionnaire(t,this.selectedUserTag).pipe(ic()).subscribe(n=>{setTimeout(()=>{this.tabGroup.selectedIndex=0,setTimeout(()=>{this.savingQuestionnaire=!1,this.questionnairesList.addQuestionnaire(n)},300)},300),this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire saved successfully",panelClass:["green-snackbar"]})},n=>{this.savingQuestionnaire=!1,this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]}),this.dialog.open(nF,{width:"400px",data:{title:"Save error",message:"This could be an ID conflict. Post again as a new questionnaire?"}}).afterClosed().subscribe(s=>{s?(delete t.id,this.saveQuestionnaire(t)):this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire not saved",panelClass:["red-snackbar"]})})})):this._snackBar.openFromComponent(Rr,{duration:5e3,data:"No questionnaire to save",panelClass:["red-snackbar"]})}listQuestionnaires(){this.fhirService.getQuestionnairesByTag(this.selectedUserTag).pipe(ic()).subscribe(t=>{},t=>{console.error(t)})}openLoadQuestionnairesDialog(){this.dialog.open(hRt,{width:"70%"}).afterClosed().subscribe(n=>{this.loadQuestionnaire(n)})}setFhirServer(){this.fhirService.setBaseUrl(this.selectedFhirServer),this.fhirService.setUserTag(this.selectedUserTag)}setupFhirServer(){this.dialog.open(iF,{width:"60%"})}switchToValidateTab(t){this.loadQuestionnaire(t),this.tabGroup.selectedIndex=2}switchToPreviewTab(t){this.loadQuestionnaire(t),this.tabGroup.selectedIndex=1}switchToHistoryTab(t){this.displayHistory(t),this.tabGroup.selectedIndex=3}advanceFromStep1(){"edit"==this.step1Response?window.open("https://lhcformbuilder.nlm.nih.gov/","_blank"):"validate"==this.step1Response?(this.mode="Validator",setTimeout(()=>{this.uploadInput.nativeElement.click()},200)):"repository"==this.step1Response?this.dialog.open(iF,{width:"60%"}).afterClosed().subscribe(n=>{n&&(this.mode="Manager")}):"example"==this.step1Response?(this.mode="Validator",setTimeout(()=>{this.loadExampleQuestionnaire()},300)):"reconnect"==this.step1Response&&(this.mode="Manager"),this.step1Response=""}getCurrentTabName(){const t=this.tabGroup.selectedIndex;return null!=t?this.tabGroup._tabs.toArray()[t].textLabel:""}onTabChange(t){"Preview"===this.tabGroup._tabs.toArray()[t].textLabel&&setTimeout(()=>{this.previewForm()},300)}openModularQuestionnaireModal(){this.dialog.open(jY,{width:"75%"}).afterClosed().subscribe(n=>{n&&this.questionnaireService.generateRootQuestionnaire(n.title,n.questionnaires).then(r=>{this.postQuestionnaire(r)}).catch(r=>{console.error("Error:",r)})})}static{this.\u0275fac=function(n){return new(n||e)(pt(Il),pt(ma),pt(Rv),pt(XY),pt(nc),pt(Dp),pt(Rd))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-questionnaires-main"]],viewQuery:function(n,r){if(1&n&&(ki(Gd,5),ki(Ap,5),ki(wPt,5),ki(TPt,5),ki(CPt,5)),2&n){let s;He(s=We())&&(r.sort=s.first),He(s=We())&&(r.tabGroup=s.first),He(s=We())&&(r.questionnairesList=s.first),He(s=We())&&(r.uploadInput=s.first),He(s=We())&&(r.questionnaireHistory=s.first)}},decls:11,vars:4,consts:[["fileInput",""],["validateQuestionnaire",""],["questionnaireHistory",""],["questionnairesList",""],[1,"header-container"],[1,"header"],[1,"breadcrumb"],["href","javascript:void(0)",3,"click"],[4,"ngIf"],["id","step1",4,"ngIf"],["id","step1"],[1,"flex","justify-between","pr-4"],["class","w-full border-2 border-blue-200 bg-transparent rounded-lg p-4 m-2 min-h-[500px]",4,"ngIf"],["class","w-full border-2 border-blue-200 bg-transparent rounded-lg p-4 m-2 min-h-[500px] justify-center",4,"ngIf"],[1,"w-full","border-2","border-blue-200","bg-transparent","rounded-lg","p-4","m-2","min-h-[500px]"],[1,"text-center"],[1,"flex","justify-center","flex-col","gap-1","mt-10"],["mat-flat-button","","color","accent",1,"mx-auto","w-auto","flex-none",3,"click"],["class","mx-auto w-auto flex-none",4,"ngIf"],[1,"mx-auto","w-auto","flex-none"],["href","javascript:void(0)","id","reconnect-link",3,"click"],[1,"muted"],[1,"w-full","border-2","border-blue-200","bg-transparent","rounded-lg","p-4","m-2","min-h-[500px]","justify-center"],[1,"flex","justify-center","flex-col","gap-5","mt-10"],[1,"button-container","bottom-spacer"],["type","file","hidden","",3,"change"],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-stretch-tabs","false","mat-align-tabs","start",3,"selectedIndexChange"],["label","My Questionnaires",4,"ngIf"],["label","Preview"],[1,"tab-container"],["id","myFormContainer"],["label","Validate SNOMED Bindings"],[3,"questionnaireUpdated","validatingQuestionnaire","questionnaire"],["label","History"],[3,"previewQuestionnaire","restoreQuestionnaireVersion","questionnaire"],["target","_blank",3,"href"],["label","My Questionnaires"],[3,"validateQuestionnaire","previewQuestionnaire","viewQuestionaireHistory","config"]],template:function(n,r){1&n&&(J(0,"div",4)(1,"h2",5),ut(2," SNOMED CT Terminology Bindings Validator - FHIR Questionnaire Manager "),et(),J(3,"div",6)(4,"span")(5,"a",7),Ut("click",function(){return r.mode="step1"}),ut(6,"Home"),et(),Ht(7,SPt,2,0,"span",8)(8,EPt,2,0,"span",8),et()()(),Ht(9,IPt,4,2,"div",9)(10,LPt,23,11,"div",8)),2&n&&(ot(7),vt("ngIf","Validator"==r.mode),ot(),vt("ngIf","Manager"==r.mode),ot(),vt("ngIf","step1"==r.mode||"utility"==r.mode),ot(),vt("ngIf","Manager"==r.mode||"Validator"==r.mode))},dependencies:[ls,Cs,ga,_v,Ap,YY,ZRt,bPt,sh],styles:[".header[_ngcontent-%COMP%]{margin-left:2rem;margin-top:1rem}.table-container[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.bottom-spacer[_ngcontent-%COMP%]{margin-bottom:1rem}.pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;font-size:.8rem}.pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mini-pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;text-align:center;font-weight:700;font-size:.9rem;margin-right:2rem;float:right}.mini-pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mini-pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.mini-pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.progress-container[_ngcontent-%COMP%]{margin-top:1rem;position:relative;width:30%}.progress-label[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:60%;transform:translateY(-50%);font-size:.9rem;font-weight:700}.bindingsCount[_ngcontent-%COMP%]{font-size:1rem;font-weight:lighter}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.code-link[_ngcontent-%COMP%]{font-size:.8rem}.server-name[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:maroon}.replacement[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:#00800b;display:flex;align-items:center;font-size:.9rem;margin-left:2rem}.concept-is-inactive[_ngcontent-%COMP%]{color:maroon;font-size:.9rem;margin-bottom:0rem}#myFormContainer[_ngcontent-%COMP%], #tab-header[_ngcontent-%COMP%]{margin-top:1rem}.tab-container[_ngcontent-%COMP%]{padding-top:1rem;padding-left:2rem;padding-right:2rem}.outgoing-link[_ngcontent-%COMP%]{font-size:.8rem;float:right;margin-right:2rem}#step1[_ngcontent-%COMP%]{margin-top:2rem;margin-left:2rem;font-size:large}#step1[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{margin-left:2rem;display:flex;flex-direction:column;align-items:flex-start}.step-button-container[_ngcontent-%COMP%]{margin-left:30rem;margin-top:2rem}.breadcrumb[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:2rem}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hidden[_ngcontent-%COMP%]{visibility:hidden}.muted[_ngcontent-%COMP%]{color:#8f9397}#reconnect[_ngcontent-%COMP%]{margin-left:5rem}#reconnect-link[_ngcontent-%COMP%]{display:flex;vertical-align:middle;flex-direction:row}"]})}}return e})();const BPt=e=>({"bg-pink":e});function VPt(e,i){if(1&e&&(J(0,"p",18),ut(1),et()),2&e){const t=St();ot(),Ke(t.studentSubsetDefinition)}}function UPt(e,i){1&e&&ye(0,"mat-spinner",19)}function zPt(e,i){if(1&e&&(J(0,"p",23),ut(1),et()),2&e){const t=St(2);ot(),Ke(t.definitionVsMembersValidationResult)}}function GPt(e,i){if(1&e&&(J(0,"p",23),ut(1),et()),2&e){const t=St(2);ot(),Ke(t.keyConceptValidationResult)}}function HPt(e,i){if(1&e&&(J(0,"div",20)(1,"h3",21),ut(2,"Validation Results"),et(),Ht(3,zPt,2,1,"p",22)(4,GPt,2,1,"p",22),J(5,"p",23),ut(6),et(),J(7,"p",23),ut(8),et()()),2&e){const t=St();ot(3),vt("ngIf",t.selectedAssignment.referenceDefinition),ot(),vt("ngIf",t.selectedAssignment.referenceDefinition),ot(2),Ke(t.membersNotInRefrenceListResult),ot(2),Ke(t.refrenceListVsStudentListResult)}}function WPt(e,i){1&e&&(J(0,"th",33),ut(1,"ID"),et())}function jPt(e,i){if(1&e&&(J(0,"td",34),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(t.referencedComponentId)}}function XPt(e,i){1&e&&(J(0,"th",33),ut(1,"Name"),et())}function YPt(e,i){if(1&e&&(J(0,"td",34),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(t.name)}}function $Pt(e,i){1&e&&(J(0,"th",33),ut(1,"Result"),et())}function QPt(e,i){1&e&&(J(0,"span"),ut(1,"OK"),et())}function KPt(e,i){if(1&e&&(J(0,"span"),ut(1),et()),2&e){const t=St(2).$implicit;ot(),Je(" ",t.customMessage.note," ")}}function ZPt(e,i){1&e&&(J(0,"span"),ut(1," Error "),et())}function JPt(e,i){if(1&e&&(J(0,"span"),Ht(1,QPt,2,0,"span",16)(2,KPt,2,1,"span",16)(3,ZPt,2,0,"span",16),et()),2&e){const t=St().$implicit;ot(),vt("ngIf",null==t||null==t.inReferenceList?null:t.inReferenceList.value),ot(),vt("ngIf",!(null!=t&&null!=t.inReferenceList&&t.inReferenceList.value)&&(null==t||null==t.customMessage?null:t.customMessage.value)),ot(),vt("ngIf",!(null!=t&&null!=t.inReferenceList&&t.inReferenceList.value||null!=t&&null!=t.customMessage&&t.customMessage.value))}}function qPt(e,i){if(1&e&&(J(0,"td",34),Ht(1,JPt,4,3,"span",16),et()),2&e){const t=St(2);ot(),vt("ngIf",t.membersValidationResult)}}function tkt(e,i){1&e&&ye(0,"tr",35)}function ekt(e,i){if(1&e&&ye(0,"tr",36),2&e){const t=i.$implicit,n=St(2);vt("ngClass",Al(1,BPt,!(null!=t.inReferenceList&&t.inReferenceList.value)&&n.membersValidationResult))}}function ikt(e,i){if(1&e&&(J(0,"div",24)(1,"table",25),Qi(2,26),Ht(3,WPt,2,0,"th",27)(4,jPt,2,1,"td",28),Ki(),Qi(5,29),Ht(6,XPt,2,0,"th",27)(7,YPt,2,1,"td",28),Ki(),Qi(8,30),Ht(9,$Pt,2,0,"th",27)(10,qPt,2,1,"td",28),Ki(),Ht(11,tkt,1,0,"tr",31)(12,ekt,1,3,"tr",32),et()()),2&e){const t=St();ot(),vt("dataSource",t.studentSubsetMembersDataSource),ot(10),vt("matHeaderRowDef",t.studentSubsetMembersDisplayedColumns),ot(),vt("matRowDefColumns",t.studentSubsetMembersDisplayedColumns)}}function nkt(e,i){if(1&e){const t=xe();J(0,"button",40),Ut("click",function(){const r=zt(t).$implicit;return Gt(St(2).setAssignment(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Ke(t.name)}}function rkt(e,i){if(1&e&&(J(0,"div")(1,"h3"),ut(2,"Assignment"),et(),J(3,"button",37),ut(4),et(),J(5,"mat-menu",38,2),Ht(7,nkt,2,1,"button",39),et()()),2&e){const t=Zi(6),n=St();ot(3),vt("matMenuTriggerFor",t),ot(),Je("Selected assignment: ",null==n.selectedAssignment?null:n.selectedAssignment.name,""),ot(3),vt("ngForOf",n.assignments)}}function skt(e,i){if(1&e&&(J(0,"h3"),ut(1),et()),2&e){const t=St();ot(),Je(" Assignment: ",null==t.selectedAssignment?null:t.selectedAssignment.name," ")}}function akt(e,i){1&e&&(J(0,"ol")(1,"li"),ut(2,"1- Upload definition file"),et(),J(3,"li"),ut(4,"2- Upload members file"),et(),J(5,"li"),ut(6,"3- Click validate"),et()())}function okt(e,i){1&e&&(J(0,"ol")(1,"li"),ut(2,"1- Upload members file"),et(),J(3,"li"),ut(4,"2- Click validate"),et()())}function lkt(e,i){if(1&e){const t=xe();J(0,"div")(1,"div")(2,"h3"),ut(3,"Reference Data"),et(),J(4,"mat-form-field",41)(5,"mat-label"),ut(6,"Textarea"),et(),J(7,"textarea",42),Aa("ngModelChange",function(r){zt(t);const s=St();return ja(s.assignmentsString,r)||(s.assignmentsString=r),Gt(r)}),et()(),J(8,"button",11),Ut("click",function(){return zt(t),Gt(St().updateAssignments())}),ut(9,"Update Assignments"),et()()()}if(2&e){const t=St();ot(7),_a("ngModel",t.assignmentsString)}}let ckt=(()=>{class e{constructor(t,n,r,s){this.http=t,this.terminologyService=n,this._snackBar=r,this.activatedRoute=s,this.studentSubsetMembersDisplayedColumns=["referencedComponentId","name","result"],this.studentSubsetMembersDataSource=new wp,this.studentSubsetmembers=[],this.studentSubsetDefinition="",this.keyConceptValidationResult="",this.definitionVsMembersValidationResult="",this.membersNotInRefrenceListResult="",this.membersValidationResult=!1,this.refrenceListVsStudentListResult="",this.embeddedMode=!1,this.loading=!1,this.ok="\u2705",this.error="\u{1f7e5}",this.assignments=[{name:"Assignment X",referenceData:[{referencedComponentId:"403197009",name:"Sun-induced wrinkles"},{referencedComponentId:"279002006",name:"Lichenification of skin"},{referencedComponentId:"274672009",name:"Changes in skin texture"},{referencedComponentId:"271767006",name:"Peeling of skin"},{referencedComponentId:"271761007",name:"Scaly skin"},{referencedComponentId:"247434009",name:"Wrinkled skin"}],referenceDefinition:"< 185823004 |Finding of skin texture (finding)|",keyConceptsInECL:[{code:"185823004",display:"Finding of skin texture (finding)"}],customMessages:[{conceptId:"85345005",note:"wrong hierarchy",principle:"wrong hierarchy"},{conceptId:"403197009",note:"wrong hierarchy",principle:"wrong hierarchy"}]}],this.assignmentsString=JSON.stringify(this.assignments),this.selectedAssignment=this.assignments[0],this.referenceDataDisplayedColumns=["referencedComponentId","name"],this.referenceDataDataSource=new wp(this.selectedAssignment.referenceData)}ngOnInit(){var t=this;return we(function*(){const n=yield Ia(t.http.get("assets/definitions/assignments.json"));t.assignments=n,t.assignmentsString=JSON.stringify(t.assignments),t.setAssignment(t.assignments[0]),t.activatedRoute.queryParams.subscribe(r=>{r.assignment&&t.setAssignment(t.assignments.find(s=>s.name===r.assignment)),t.embeddedMode="true"===r.embedded})})()}setAssignment(t){t&&(this.selectedAssignment=t,this.referenceDataDataSource=new wp(this.selectedAssignment.referenceData))}checkStudentECLvsStudentList(){var t=this;return we(function*(){if(!t.studentSubsetDefinition){let r=yield t.terminologyService.expandValueSet(t.studentSubsetDefinition,"").toPromise(),o=0;t.studentSubsetmembers.forEach(l=>{r.expansion.contains.find(E=>E.code===l.referencedComponentId)?l.inStudentECL={value:!0,message:""}:(l.inStudentECL={value:!1,message:""},o++)})}return 0})()}checkStudentECLvsKeyConcept(){if(this.studentSubsetDefinition){console.log("Student ECL not defined");let t=this.studentSubsetDefinition,r=!0;return this.selectedAssignment.keyConceptsInECL.forEach(s=>{t.includes(s.code)||(r=!1)}),r}return!0}checkStudentListVsReferenceList(){let n=this.selectedAssignment.referenceData;this.studentSubsetmembers.forEach(s=>{s.inReferenceList=n.find(l=>l.referencedComponentId===s.referencedComponentId)?{value:!0,message:""}:{value:!1,message:""}})}checkReferenceListVsStudentList(){let t=this.studentSubsetmembers,r=0;return this.selectedAssignment.referenceData.forEach(s=>{t.find(l=>l.referencedComponentId===s.referencedComponentId)?s.inStudentList={value:!0,message:""}:(s.inStudentList={value:!1,message:""},r++)}),r}checkStudentListVsCustomMessages(){let n=this.selectedAssignment.customMessages;this.studentSubsetmembers.forEach(r=>{const s=n.find(o=>o.conceptId===r.referencedComponentId);r.customMessage=s?{value:!0,principle:s.principle,note:s.note}:{value:!1,principle:"",note:""}})}updateAssignments(){this.assignments=JSON.parse(this.assignmentsString),this.setAssignment(this.assignments[0])}validateAssignment(){var t=this;return we(function*(){t.loading=!0,t.keyConceptValidationResult="",t.definitionVsMembersValidationResult="",t.membersValidationResult=!1,t.loading=!0,t.studentSubsetDefinition&&(t.definitionVsMembersValidationResult=(yield t.checkStudentECLvsStudentList())>0?t.error+" The uploaded definition and members files are not in alignment":t.ok+" The uploaded definition and members files are in alignment",t.keyConceptValidationResult=t.checkStudentECLvsKeyConcept()?t.ok+" The definition of your subset includes the key subhierarchy":t.error+" The definition of your subset does not include the key subhierarchy"),t.checkStudentListVsReferenceList();let n=t.studentSubsetmembers.filter(s=>!s.inReferenceList.value).length;t.membersNotInRefrenceListResult=n>0?t.error+" There are "+n+" members in your subset that are not recommended to be included":t.ok+" All members match the recommended list of concepts for the subset",t.checkStudentListVsCustomMessages();let r=t.checkReferenceListVsStudentList();t.refrenceListVsStudentListResult=r>0?t.error+" "+r+" "+(r>1?"concepts are":"concept is")+" missing in the uploaded member list that would be recommended to be included in this subset":t.ok+" All recommended concepts are included in this subset",t.loading=!1,t.membersValidationResult=!0})()}onSubsetmembersFileSelected(t){this.studentSubsetmembers=[],this.studentSubsetMembersDataSource=new wp,this.studentSubsetMembersDataSource.sort=this.sort,this.loading=!0;const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const l=r.result.split("\n"),w=l[0].split("\t");if(w.length<2)throw new Error("Invalid file format");const E=w.indexOf("referencedComponentId"),D=w.indexOf("name");if(E<0||D<0)throw new Error("Invalid file format");const k=[];for(let O=1;O<l.length;O++){const L=l[O].split("\t");if(L.length<2)continue;const U={};U.referencedComponentId=L[E],U.name=L[D],U.result={value:"Not validated",message:""},U.scope={value:"Not validated",message:""},k.push(U)}k.sort((O,L)=>O.name.localeCompare(L.name)),this.studentSubsetmembers=k,this.studentSubsetMembersDataSource.data=k,this.loading=!1}catch(o){this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error reading file: "+o.message,panelClass:["red-snackbar"]}),this.loading=!1}},r.onerror=s=>{this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error reading file: "+s,panelClass:["red-snackbar"]}),this.loading=!1},r.readAsText(n)}else this.loading=!1}onDefinitionFileSelected(t){this.studentSubsetDefinition="",this.loading=!0;const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const w=r.result.replace(/\r/g,"").split("\n"),E=w[0].split("\t");if(E.length<2)throw new Error("Invalid file format");const D=E.indexOf("referencedComponentId"),k=E.indexOf("definition");if(D<0||k<0)throw new Error("Invalid file format");this.studentSubsetDefinition=w[1].split("\t")[k],this.loading=!1}catch(o){this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error reading file: "+o.message,panelClass:["red-snackbar"]}),this.loading=!1}},r.onerror=s=>{this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error reading file: "+s,panelClass:["red-snackbar"]}),this.loading=!1},r.readAsText(n)}else this.loading=!1}static{this.\u0275fac=function(n){return new(n||e)(pt(Il),pt(ma),pt(Rd),pt(nc))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-subset-validator"]],viewQuery:function(n,r){if(1&n&&ki(Gd,5),2&n){let s;He(s=We())&&(r.sort=s.first)}},decls:31,vars:12,consts:[["fileInput",""],["fileInputDefinition",""],["demosMenu","matMenu"],[1,"layout-container"],[1,"left-column"],[1,"upload-controls"],[1,"mb-4"],["class","terminal-style",4,"ngIf"],["type","file",2,"display","none",3,"change"],[1,"buttons-panel"],["mat-flat-button","","color","primary",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click"],["class","spinner","diameter","30",4,"ngIf"],["class","blue-rounded-div",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"right-column"],[4,"ngIf"],[1,"instructions"],[1,"terminal-style"],["diameter","30",1,"spinner"],[1,"blue-rounded-div"],[1,"text-white","mb-1"],["class","validation-result",4,"ngIf"],[1,"validation-result"],[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","referencedComponentId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","result"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass"],["mat-flat-button","","color","accent",3,"matMenuTriggerFor"],[1,"wide-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["appearance","fill"],["matInput","",3,"ngModelChange","ngModel"]],template:function(n,r){if(1&n){const s=xe();J(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3"),ut(4,"Subset Members Validator"),et(),J(5,"p",6),ut(6),et(),Ht(7,VPt,2,1,"p",7),J(8,"input",8,0),Ut("change",function(l){return zt(s),Gt(r.onSubsetmembersFileSelected(l))}),et(),J(10,"input",8,1),Ut("change",function(l){return zt(s),Gt(r.onDefinitionFileSelected(l))}),et(),J(12,"div",9)(13,"button",10),Ut("click",function(){return zt(s),Gt(Zi(11).click())}),ut(14," Upload Definition File "),et(),J(15,"button",11),Ut("click",function(){return zt(s),Gt(Zi(9).click())}),ut(16,"Upload Members File"),et(),J(17,"button",10),Ut("click",function(){return zt(s),Gt(r.validateAssignment())}),ut(18,"Validate"),et(),Ht(19,UPt,1,0,"mat-spinner",12),et(),Ht(20,HPt,9,4,"div",13),et(),Ht(21,ikt,13,3,"div",14),et(),J(22,"div",15),Ht(23,rkt,8,3,"div",16)(24,skt,2,1,"h3",16),J(25,"h3"),ut(26,"Instructions"),et(),J(27,"div",17),Ht(28,akt,7,0,"ol",16)(29,okt,5,0,"ol",16),et(),Ht(30,lkt,10,1,"div",16),et()()}2&n&&(ot(6),Je("Validating against ",r.terminologyService.getFhirUrlParam(),""),ot(),vt("ngIf",r.studentSubsetDefinition),ot(6),vt("disabled",!r.selectedAssignment.referenceDefinition),ot(4),vt("disabled",!r.studentSubsetMembersDataSource.data.length),ot(2),vt("ngIf",r.loading),ot(),vt("ngIf",!r.loading&&r.membersNotInRefrenceListResult),ot(),vt("ngIf",!r.loading&&r.studentSubsetMembersDataSource.data.length),ot(2),vt("ngIf",!r.embeddedMode),ot(),vt("ngIf",r.embeddedMode),ot(4),vt("ngIf",r.selectedAssignment.referenceDefinition),ot(),vt("ngIf",!r.selectedAssignment.referenceDefinition),ot(),vt("ngIf",!r.embeddedMode))},dependencies:[Td,ys,ls,Cs,Rl,oc,vh,kl,ll,Pd,Eh,Pl,Yo,kd,wh,Fd,Th,bh,Od,Ch,Sh,Ld,Nd,lc],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 65px)}.layout-container[_ngcontent-%COMP%]{display:flex;height:100%}.left-column[_ngcontent-%COMP%]{flex:0 0 68%;display:flex;flex-direction:column;height:100%}.right-column[_ngcontent-%COMP%]{flex:0 0 28%}.buttons-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;margin-top:2rem}.upload-controls[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.table-container[_ngcontent-%COMP%]{overflow-y:auto}.upload-controls[_ngcontent-%COMP%]{margin-left:20px}table[_ngcontent-%COMP%]{width:100%}.validation-result[_ngcontent-%COMP%]{font-weight:400;font-size:larger}.blue-rounded-div[_ngcontent-%COMP%]{border-radius:10px;background-color:#4d7fb4;padding:.5rem 3rem 1rem;width:80%;color:#f5f5f5;margin-top:20px}.terminal-style[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;background-color:#000;color:#fff;padding:10px;border-radius:10px;margin-top:20px;width:80%}h4[_ngcontent-%COMP%]{margin-top:10px}.instructions[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;font-weight:lighter;font-size:larger}h3[_ngcontent-%COMP%]{margin-top:10px}.bg-pink[_ngcontent-%COMP%]{background-color:pink}tr.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#aba9a9!important}"]})}}return e})();const QY=function(e){const i=[];let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?i[t++]=r:r<2048?(i[t++]=r>>6|192,i[t++]=63&r|128):55296==(64512&r)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),i[t++]=r>>18|240,i[t++]=r>>12&63|128,i[t++]=r>>6&63|128,i[t++]=63&r|128):(i[t++]=r>>12|224,i[t++]=r>>6&63|128,i[t++]=63&r|128)}return i},KY={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,i){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,l=o?e[r+1]:0,w=r+2<e.length,E=w?e[r+2]:0;let O=(15&l)<<2|E>>6,L=63&E;w||(L=64,o||(O=64)),n.push(t[s>>2],t[(3&s)<<4|l>>4],t[O],t[L])}return n.join("")},encodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(e):this.encodeByteArray(QY(e),i)},decodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(e):function(e){const i=[];let t=0,n=0;for(;t<e.length;){const r=e[t++];if(r<128)i[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[t++];i[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const w=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536;i[n++]=String.fromCharCode(55296+(w>>10)),i[n++]=String.fromCharCode(56320+(1023&w))}else{const s=e[t++],o=e[t++];i[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return i.join("")}(this.decodeStringToByteArray(e,i))},decodeStringToByteArray(e,i){this.init_();const t=i?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<e.length;){const s=t[e.charAt(r++)],l=r<e.length?t[e.charAt(r)]:0;++r;const E=r<e.length?t[e.charAt(r)]:64;++r;const k=r<e.length?t[e.charAt(r)]:64;if(++r,null==s||null==l||null==E||null==k)throw new pkt;n.push(s<<2|l>>4),64!==E&&(n.push(l<<4&240|E>>2),64!==k&&n.push(E<<6&192|k))}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pkt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BE=function(e){return function(e){const i=QY(e);return KY.encodeByteArray(i,!0)}(e).replace(/\./g,"")},VE=()=>{try{return function vkt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=e&&function(e){try{return KY.decodeString(e,!0)}catch(i){console.error("base64Decode failed: ",i)}return null}(e[1]);return i&&JSON.parse(i)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},JY=()=>{var e;return null===(e=VE())||void 0===e?void 0:e.config};class qY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,t)=>{this.resolve=i,this.reject=t})}wrapCallback(i){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof i&&(this.promise.catch(()=>{}),1===i.length?i(t):i(t,n))}}}class Pv extends Error{constructor(i,t,n){super(t),this.code=i,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Pv.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i$.prototype.create)}}class i${constructor(i,t,n){this.service=i,this.serviceName=t,this.errors=n}create(i,...t){const n=t[0]||{},r=`${this.service}/${i}`,s=this.errors[i],o=s?function Dkt(e,i){return e.replace(Mkt,(t,n)=>{const r=i[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error";return new Pv(r,`${this.serviceName}: ${o} (${r}).`,n)}}const Mkt=/\{\$([^}]+)}/g;function gb(e,i){if(e===i)return!0;const t=Object.keys(e),n=Object.keys(i);for(const r of t){if(!n.includes(r))return!1;const s=e[r],o=i[r];if(r$(s)&&r$(o)){if(!gb(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function r$(e){return null!==e&&"object"==typeof e}function Vc(e){return e&&e._delegate?e._delegate:e}class vb{constructor(i,t,n){this.name=i,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}const Mp="[DEFAULT]";class Nkt{constructor(i,t){this.name=i,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const t=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(t)){const n=new qY;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(i){var t;const n=this.normalizeInstanceIdentifier(i?.identifier),r=null!==(t=i?.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,this.shouldAutoInitialize()){if(function Vkt(e){return"EAGER"===e.instantiationMode}(i))try{this.getOrInitializeService({instanceIdentifier:Mp})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(i=Mp){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}delete(){var i=this;return we(function*(){const t=Array.from(i.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(i=Mp){return this.instances.has(i)}getOptions(i=Mp){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:t={}}=i,n=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(i,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(i),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&i(o,r),()=>{s.delete(i)}}invokeOnInitCallbacks(i,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(i,t)}catch{}}getOrInitializeService({instanceIdentifier:i,options:t={}}){let n=this.instances.get(i);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(e=i,e===Mp?void 0:e),options:t}),this.instances.set(i,n),this.instancesOptions.set(i,t),this.invokeOnInitCallbacks(n,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,n)}catch{}var e;return n||null}normalizeInstanceIdentifier(i=Mp){return this.component?this.component.multipleInstances?i:Mp:i}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ukt{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const t=this.getProvider(i.name);if(t.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);t.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const t=new Nkt(i,this);return this.providers.set(i,t),t}getProviders(){return Array.from(this.providers.values())}}const cF=[];var Jn=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Jn||{});const s$={debug:Jn.DEBUG,verbose:Jn.VERBOSE,info:Jn.INFO,warn:Jn.WARN,error:Jn.ERROR,silent:Jn.SILENT},zkt=Jn.INFO,Gkt={[Jn.DEBUG]:"log",[Jn.VERBOSE]:"log",[Jn.INFO]:"info",[Jn.WARN]:"warn",[Jn.ERROR]:"error"},Hkt=(e,i,...t)=>{if(i<e.logLevel)return;const n=(new Date).toISOString(),r=Gkt[i];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`);console[r](`[${n}]  ${e.name}:`,...t)};class a${constructor(i){this.name=i,this._logLevel=zkt,this._logHandler=Hkt,this._userLogHandler=null,cF.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in Jn))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel="string"==typeof i?s$[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if("function"!=typeof i)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,Jn.DEBUG,...i),this._logHandler(this,Jn.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,Jn.VERBOSE,...i),this._logHandler(this,Jn.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,Jn.INFO,...i),this._logHandler(this,Jn.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,Jn.WARN,...i),this._logHandler(this,Jn.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,Jn.ERROR,...i),this._logHandler(this,Jn.ERROR,...i)}}const Wkt=(e,i)=>i.some(t=>e instanceof t);let o$,l$;const c$=new WeakMap,uF=new WeakMap,u$=new WeakMap,hF=new WeakMap,dF=new WeakMap;let fF={get(e,i,t){if(e instanceof IDBTransaction){if("done"===i)return uF.get(e);if("objectStoreNames"===i)return e.objectStoreNames||u$.get(e);if("store"===i)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return jd(e[i])},set:(e,i,t)=>(e[i]=t,!0),has:(e,i)=>e instanceof IDBTransaction&&("done"===i||"store"===i)||i in e};function Zkt(e){return"function"==typeof e?function Kkt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xkt(){return l$||(l$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...i){return e.apply(pF(this),i),jd(c$.get(this))}:function(...i){return jd(e.apply(pF(this),i))}:function(i,...t){const n=e.call(pF(this),i,...t);return u$.set(n,i.sort?i.sort():[i]),jd(n)}}(e):(e instanceof IDBTransaction&&function $kt(e){if(uF.has(e))return;const i=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});uF.set(e,i)}(e),Wkt(e,function jkt(){return o$||(o$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,fF):e)}function jd(e){if(e instanceof IDBRequest)return function Ykt(e){const i=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{t(jd(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return i.then(t=>{t instanceof IDBCursor&&c$.set(t,e)}).catch(()=>{}),dF.set(i,e),i}(e);if(hF.has(e))return hF.get(e);const i=Zkt(e);return i!==e&&(hF.set(e,i),dF.set(i,e)),i}const pF=e=>dF.get(e),qkt=["get","getKey","getAll","getAllKeys","count"],tFt=["put","add","delete","clear"],mF=new Map;function h$(e,i){if(!(e instanceof IDBDatabase)||i in e||"string"!=typeof i)return;if(mF.get(i))return mF.get(i);const t=i.replace(/FromIndex$/,""),n=i!==t,r=tFt.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!qkt.includes(t))return;const s=function(){var o=we(function*(l,...w){const E=this.transaction(l,r?"readwrite":"readonly");let D=E.store;return n&&(D=D.index(w.shift())),(yield Promise.all([D[t](...w),r&&E.done]))[0]});return function(w){return o.apply(this,arguments)}}();return mF.set(i,s),s}!function Qkt(e){fF=e(fF)}(e=>({...e,get:(i,t,n)=>h$(i,t)||e.get(i,t,n),has:(i,t)=>!!h$(i,t)||e.has(i,t)}));class eFt{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function iFt(e){const i=e.getComponent();return"VERSION"===i?.type}(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}return null}).filter(t=>t).join(" ")}}const zE="@firebase/app",Ip=new a$("@firebase/app"),nFt="@firebase/app-compat",rFt="@firebase/analytics-compat",sFt="@firebase/analytics",aFt="@firebase/app-check-compat",oFt="@firebase/app-check",lFt="@firebase/auth",cFt="@firebase/auth-compat",uFt="@firebase/database",hFt="@firebase/database-compat",dFt="@firebase/functions",fFt="@firebase/functions-compat",pFt="@firebase/installations",mFt="@firebase/installations-compat",gFt="@firebase/messaging",vFt="@firebase/messaging-compat",yFt="@firebase/performance",xFt="@firebase/performance-compat",bFt="@firebase/remote-config",wFt="@firebase/remote-config-compat",TFt="@firebase/storage",CFt="@firebase/storage-compat",SFt="@firebase/firestore",EFt="@firebase/vertexai-preview",_Ft="@firebase/firestore-compat",AFt="firebase",GE="[DEFAULT]",MFt={[zE]:"fire-core",[nFt]:"fire-core-compat",[sFt]:"fire-analytics",[rFt]:"fire-analytics-compat",[oFt]:"fire-app-check",[aFt]:"fire-app-check-compat",[lFt]:"fire-auth",[cFt]:"fire-auth-compat",[uFt]:"fire-rtdb",[hFt]:"fire-rtdb-compat",[dFt]:"fire-fn",[fFt]:"fire-fn-compat",[pFt]:"fire-iid",[mFt]:"fire-iid-compat",[gFt]:"fire-fcm",[vFt]:"fire-fcm-compat",[yFt]:"fire-perf",[xFt]:"fire-perf-compat",[bFt]:"fire-rc",[wFt]:"fire-rc-compat",[TFt]:"fire-gcs",[CFt]:"fire-gcs-compat",[SFt]:"fire-fst",[_Ft]:"fire-fst-compat",[EFt]:"fire-vertex","fire-js":"fire-js",[AFt]:"fire-js-all"},Rp=new Map,yb=new Map,xb=new Map;function d$(e,i){try{e.container.addComponent(i)}catch(t){Ip.debug(`Component ${i.name} failed to register with FirebaseApp ${e.name}`,t)}}function HE(e){const i=e.name;if(xb.has(i))return Ip.debug(`There were multiple attempts to register component ${i}.`),!1;xb.set(i,e);for(const t of Rp.values())d$(t,e);for(const t of yb.values())d$(t,e);return!0}const uc=new i$("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class p${constructor(i,t,n){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vb("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw uc.create("app-deleted",{appName:this._name})}}function m$(e,i={}){let t=e;"object"!=typeof i&&(i={name:i});const n=Object.assign({name:GE,automaticDataCollectionEnabled:!1},i),r=n.name;if("string"!=typeof r||!r)throw uc.create("bad-app-name",{appName:String(r)});if(t||(t=JY()),!t)throw uc.create("no-options");const s=Rp.get(r);if(s){if(gb(t,s.options)&&gb(n,s.config))return s;throw uc.create("duplicate-app",{appName:r})}const o=new Ukt(r);for(const w of xb.values())o.addComponent(w);const l=new p$(t,n,o);return Rp.set(r,l),l}function Pp(e,i,t){var n;let r=null!==(n=MFt[e])&&void 0!==n?n:e;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=i.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${i}":`];return s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${i}" contains illegal characters (whitespace or "/")`),void Ip.warn(l.join(" "))}HE(new vb(`${r}-version`,()=>({library:r,version:i}),"VERSION"))}const LFt="firebase-heartbeat-database",NFt=1,bb="firebase-heartbeat-store";let yF=null;function g$(){return yF||(yF=function Jkt(e,i,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(e,i),l=jd(o);return n&&o.addEventListener("upgradeneeded",w=>{n(jd(o.result),w.oldVersion,w.newVersion,jd(o.transaction),w)}),t&&o.addEventListener("blocked",w=>t(w.oldVersion,w.newVersion,w)),l.then(w=>{s&&w.addEventListener("close",()=>s()),r&&w.addEventListener("versionchange",E=>r(E.oldVersion,E.newVersion,E))}).catch(()=>{}),l}(LFt,NFt,{upgrade:(e,i)=>{if(0===i)try{e.createObjectStore(bb)}catch(t){console.warn(t)}}}).catch(e=>{throw uc.create("idb-open",{originalErrorMessage:e.message})})),yF}function xF(){return(xF=we(function*(e){try{const t=(yield g$()).transaction(bb),n=yield t.objectStore(bb).get(y$(e));return yield t.done,n}catch(i){if(i instanceof Pv)Ip.warn(i.message);else{const t=uc.create("idb-get",{originalErrorMessage:i?.message});Ip.warn(t.message)}}})).apply(this,arguments)}function v$(e,i){return bF.apply(this,arguments)}function bF(){return(bF=we(function*(e,i){try{const n=(yield g$()).transaction(bb,"readwrite");yield n.objectStore(bb).put(i,y$(e)),yield n.done}catch(t){if(t instanceof Pv)Ip.warn(t.message);else{const n=uc.create("idb-set",{originalErrorMessage:t?.message});Ip.warn(n.message)}}})).apply(this,arguments)}function y$(e){return`${e.name}!${e.options.appId}`}class zFt{constructor(i){this.container=i,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HFt(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){var i=this;return we(function*(){var t,n;const s=i.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=x$();if((null!=(null===(t=i._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(i._heartbeatsCache=yield i._heartbeatsCachePromise,null!=(null===(n=i._heartbeatsCache)||void 0===n?void 0:n.heartbeats)))&&i._heartbeatsCache.lastSentHeartbeatDate!==o&&!i._heartbeatsCache.heartbeats.some(l=>l.date===o))return i._heartbeatsCache.heartbeats.push({date:o,agent:s}),i._heartbeatsCache.heartbeats=i._heartbeatsCache.heartbeats.filter(l=>{const w=new Date(l.date).valueOf();return Date.now()-w<=2592e6}),i._storage.overwrite(i._heartbeatsCache)})()}getHeartbeatsHeader(){var i=this;return we(function*(){var t;if(null===i._heartbeatsCache&&(yield i._heartbeatsCachePromise),null==(null===(t=i._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===i._heartbeatsCache.heartbeats.length)return"";const n=x$(),{heartbeatsToSend:r,unsentEntries:s}=function GFt(e,i=1024){const t=[];let n=e.slice();for(const r of e){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),b$(t)>i){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),b$(t)>i){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}(i._heartbeatsCache.heartbeats),o=BE(JSON.stringify({version:2,heartbeats:r}));return i._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(i._heartbeatsCache.heartbeats=s,yield i._storage.overwrite(i._heartbeatsCache)):(i._heartbeatsCache.heartbeats=[],i._storage.overwrite(i._heartbeatsCache)),o})()}}function x$(){return(new Date).toISOString().substring(0,10)}class HFt{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return we(function*(){return!!function e$(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function _kt(){return new Promise((e,i)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;i((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){i(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var i=this;return we(function*(){if(yield i._canUseIndexedDBPromise){const n=yield function BFt(e){return xF.apply(this,arguments)}(i.app);return n?.heartbeats?n:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(i){var t=this;return we(function*(){var n;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return v$(t.app,{lastSentHeartbeatDate:null!==(n=i.lastSentHeartbeatDate)&&void 0!==n?n:s.lastSentHeartbeatDate,heartbeats:i.heartbeats})}})()}add(i){var t=this;return we(function*(){var n;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return v$(t.app,{lastSentHeartbeatDate:null!==(n=i.lastSentHeartbeatDate)&&void 0!==n?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...i.heartbeats]})}})()}}function b$(e){return BE(JSON.stringify({version:2,heartbeats:e})).length}!function WFt(e){HE(new vb("platform-logger",i=>new eFt(i),"PRIVATE")),HE(new vb("heartbeat",i=>new zFt(i),"PRIVATE")),Pp(zE,"0.10.6",e),Pp(zE,"0.10.6","esm2017"),Pp("fire-js","")}("");var kp,C$,w$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},T$={};(function(){var e;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(ft,ht,mt){mt||(mt=0);var wt=Array(16);if("string"==typeof ht)for(var Ct=0;16>Ct;++Ct)wt[Ct]=ht.charCodeAt(mt++)|ht.charCodeAt(mt++)<<8|ht.charCodeAt(mt++)<<16|ht.charCodeAt(mt++)<<24;else for(Ct=0;16>Ct;++Ct)wt[Ct]=ht[mt++]|ht[mt++]<<8|ht[mt++]<<16|ht[mt++]<<24;var _t=ft.g[3],Dt=(ht=ft.g[0])+(_t^(mt=ft.g[1])&((Ct=ft.g[2])^_t))+wt[0]+3614090360&4294967295;Dt=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=(mt=(Ct=(_t=(ht=mt+(Dt<<7&4294967295|Dt>>>25))+((Dt=_t+(Ct^ht&(mt^Ct))+wt[1]+3905402710&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Ct+(mt^_t&(ht^mt))+wt[2]+606105819&4294967295)<<17&4294967295|Dt>>>15))+((Dt=mt+(ht^Ct&(_t^ht))+wt[3]+3250441966&4294967295)<<22&4294967295|Dt>>>10))+((Dt=ht+(_t^mt&(Ct^_t))+wt[4]+4118548399&4294967295)<<7&4294967295|Dt>>>25))+((Dt=_t+(Ct^ht&(mt^Ct))+wt[5]+1200080426&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Ct+(mt^_t&(ht^mt))+wt[6]+2821735955&4294967295)<<17&4294967295|Dt>>>15))+((Dt=mt+(ht^Ct&(_t^ht))+wt[7]+4249261313&4294967295)<<22&4294967295|Dt>>>10))+((Dt=ht+(_t^mt&(Ct^_t))+wt[8]+1770035416&4294967295)<<7&4294967295|Dt>>>25))+((Dt=_t+(Ct^ht&(mt^Ct))+wt[9]+2336552879&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Ct+(mt^_t&(ht^mt))+wt[10]+4294925233&4294967295)<<17&4294967295|Dt>>>15))+((Dt=mt+(ht^Ct&(_t^ht))+wt[11]+2304563134&4294967295)<<22&4294967295|Dt>>>10))+((Dt=ht+(_t^mt&(Ct^_t))+wt[12]+1804603682&4294967295)<<7&4294967295|Dt>>>25))+((Dt=_t+(Ct^ht&(mt^Ct))+wt[13]+4254626195&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Ct+(mt^_t&(ht^mt))+wt[14]+2792965006&4294967295)<<17&4294967295|Dt>>>15))+((Dt=mt+(ht^Ct&(_t^ht))+wt[15]+1236535329&4294967295)<<22&4294967295|Dt>>>10))+((Dt=ht+(Ct^_t&(mt^Ct))+wt[1]+4129170786&4294967295)<<5&4294967295|Dt>>>27))+((Dt=_t+(mt^Ct&(ht^mt))+wt[6]+3225465664&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Ct+(ht^mt&(_t^ht))+wt[11]+643717713&4294967295)<<14&4294967295|Dt>>>18))+((Dt=mt+(_t^ht&(Ct^_t))+wt[0]+3921069994&4294967295)<<20&4294967295|Dt>>>12))+((Dt=ht+(Ct^_t&(mt^Ct))+wt[5]+3593408605&4294967295)<<5&4294967295|Dt>>>27))+((Dt=_t+(mt^Ct&(ht^mt))+wt[10]+38016083&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Ct+(ht^mt&(_t^ht))+wt[15]+3634488961&4294967295)<<14&4294967295|Dt>>>18))+((Dt=mt+(_t^ht&(Ct^_t))+wt[4]+3889429448&4294967295)<<20&4294967295|Dt>>>12))+((Dt=ht+(Ct^_t&(mt^Ct))+wt[9]+568446438&4294967295)<<5&4294967295|Dt>>>27))+((Dt=_t+(mt^Ct&(ht^mt))+wt[14]+3275163606&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Ct+(ht^mt&(_t^ht))+wt[3]+4107603335&4294967295)<<14&4294967295|Dt>>>18))+((Dt=mt+(_t^ht&(Ct^_t))+wt[8]+1163531501&4294967295)<<20&4294967295|Dt>>>12))+((Dt=ht+(Ct^_t&(mt^Ct))+wt[13]+2850285829&4294967295)<<5&4294967295|Dt>>>27))+((Dt=_t+(mt^Ct&(ht^mt))+wt[2]+4243563512&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Ct+(ht^mt&(_t^ht))+wt[7]+1735328473&4294967295)<<14&4294967295|Dt>>>18))+((Dt=mt+(_t^ht&(Ct^_t))+wt[12]+2368359562&4294967295)<<20&4294967295|Dt>>>12))+((Dt=ht+(mt^Ct^_t)+wt[5]+4294588738&4294967295)<<4&4294967295|Dt>>>28))+((Dt=_t+(ht^mt^Ct)+wt[8]+2272392833&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Ct+(_t^ht^mt)+wt[11]+1839030562&4294967295)<<16&4294967295|Dt>>>16))+((Dt=mt+(Ct^_t^ht)+wt[14]+4259657740&4294967295)<<23&4294967295|Dt>>>9))+((Dt=ht+(mt^Ct^_t)+wt[1]+2763975236&4294967295)<<4&4294967295|Dt>>>28))+((Dt=_t+(ht^mt^Ct)+wt[4]+1272893353&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Ct+(_t^ht^mt)+wt[7]+4139469664&4294967295)<<16&4294967295|Dt>>>16))+((Dt=mt+(Ct^_t^ht)+wt[10]+3200236656&4294967295)<<23&4294967295|Dt>>>9))+((Dt=ht+(mt^Ct^_t)+wt[13]+681279174&4294967295)<<4&4294967295|Dt>>>28))+((Dt=_t+(ht^mt^Ct)+wt[0]+3936430074&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Ct+(_t^ht^mt)+wt[3]+3572445317&4294967295)<<16&4294967295|Dt>>>16))+((Dt=mt+(Ct^_t^ht)+wt[6]+76029189&4294967295)<<23&4294967295|Dt>>>9))+((Dt=ht+(mt^Ct^_t)+wt[9]+3654602809&4294967295)<<4&4294967295|Dt>>>28))+((Dt=_t+(ht^mt^Ct)+wt[12]+3873151461&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Ct+(_t^ht^mt)+wt[15]+530742520&4294967295)<<16&4294967295|Dt>>>16))+((Dt=mt+(Ct^_t^ht)+wt[2]+3299628645&4294967295)<<23&4294967295|Dt>>>9))+((Dt=ht+(Ct^(mt|~_t))+wt[0]+4096336452&4294967295)<<6&4294967295|Dt>>>26))+((Dt=_t+(mt^(ht|~Ct))+wt[7]+1126891415&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Ct+(ht^(_t|~mt))+wt[14]+2878612391&4294967295)<<15&4294967295|Dt>>>17))+((Dt=mt+(_t^(Ct|~ht))+wt[5]+4237533241&4294967295)<<21&4294967295|Dt>>>11))+((Dt=ht+(Ct^(mt|~_t))+wt[12]+1700485571&4294967295)<<6&4294967295|Dt>>>26))+((Dt=_t+(mt^(ht|~Ct))+wt[3]+2399980690&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Ct+(ht^(_t|~mt))+wt[10]+4293915773&4294967295)<<15&4294967295|Dt>>>17))+((Dt=mt+(_t^(Ct|~ht))+wt[1]+2240044497&4294967295)<<21&4294967295|Dt>>>11))+((Dt=ht+(Ct^(mt|~_t))+wt[8]+1873313359&4294967295)<<6&4294967295|Dt>>>26))+((Dt=_t+(mt^(ht|~Ct))+wt[15]+4264355552&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Ct+(ht^(_t|~mt))+wt[6]+2734768916&4294967295)<<15&4294967295|Dt>>>17))+((Dt=mt+(_t^(Ct|~ht))+wt[13]+1309151649&4294967295)<<21&4294967295|Dt>>>11))+((_t=(ht=mt+((Dt=ht+(Ct^(mt|~_t))+wt[4]+4149444226&4294967295)<<6&4294967295|Dt>>>26))+((Dt=_t+(mt^(ht|~Ct))+wt[11]+3174756917&4294967295)<<10&4294967295|Dt>>>22))^((Ct=_t+((Dt=Ct+(ht^(_t|~mt))+wt[2]+718787259&4294967295)<<15&4294967295|Dt>>>17))|~ht))+wt[9]+3951481745&4294967295,ft.g[0]=ft.g[0]+ht&4294967295,ft.g[1]=ft.g[1]+(Ct+(Dt<<21&4294967295|Dt>>>11))&4294967295,ft.g[2]=ft.g[2]+Ct&4294967295,ft.g[3]=ft.g[3]+_t&4294967295}function o(ft,ht){this.h=ht;for(var mt=[],wt=!0,Ct=ft.length-1;0<=Ct;Ct--){var _t=0|ft[Ct];wt&&_t==ht||(mt[Ct]=_t,wt=!1)}this.g=mt}(function i(ft,ht){function mt(){}mt.prototype=ht.prototype,ft.D=ht.prototype,ft.prototype=new mt,ft.prototype.constructor=ft,ft.C=function(wt,Ct,_t){for(var Dt=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Dt[Ue-2]=arguments[Ue];return ht.prototype[Ct].apply(wt,Dt)}})(n,function t(){this.blockSize=-1}),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.u=function(ft,ht){void 0===ht&&(ht=ft.length);for(var mt=ht-this.blockSize,wt=this.B,Ct=this.h,_t=0;_t<ht;){if(0==Ct)for(;_t<=mt;)r(this,ft,_t),_t+=this.blockSize;if("string"==typeof ft){for(;_t<ht;)if(wt[Ct++]=ft.charCodeAt(_t++),Ct==this.blockSize){r(this,wt),Ct=0;break}}else for(;_t<ht;)if(wt[Ct++]=ft[_t++],Ct==this.blockSize){r(this,wt),Ct=0;break}}this.h=Ct,this.o+=ht},n.prototype.v=function(){var ft=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ft[0]=128;for(var ht=1;ht<ft.length-8;++ht)ft[ht]=0;var mt=8*this.o;for(ht=ft.length-8;ht<ft.length;++ht)ft[ht]=255&mt,mt/=256;for(this.u(ft),ft=Array(16),ht=mt=0;4>ht;++ht)for(var wt=0;32>wt;wt+=8)ft[mt++]=this.g[ht]>>>wt&255;return ft};var l={};function w(ft){return-128<=ft&&128>ft?function s(ft,ht){var mt=l;return Object.prototype.hasOwnProperty.call(mt,ft)?mt[ft]:mt[ft]=ht(ft)}(ft,function(ht){return new o([0|ht],0>ht?-1:0)}):new o([0|ft],0>ft?-1:0)}function E(ft){if(isNaN(ft)||!isFinite(ft))return k;if(0>ft)return W(E(-ft));for(var ht=[],mt=1,wt=0;ft>=mt;wt++)ht[wt]=ft/mt|0,mt*=4294967296;return new o(ht,0)}var k=w(0),O=w(1),L=w(16777216);function U(ft){if(0!=ft.h)return!1;for(var ht=0;ht<ft.g.length;ht++)if(0!=ft.g[ht])return!1;return!0}function j(ft){return-1==ft.h}function W(ft){for(var ht=ft.g.length,mt=[],wt=0;wt<ht;wt++)mt[wt]=~ft.g[wt];return new o(mt,~ft.h).add(O)}function Z(ft,ht){return ft.add(W(ht))}function rt(ft,ht){for(;(65535&ft[ht])!=ft[ht];)ft[ht+1]+=ft[ht]>>>16,ft[ht]&=65535,ht++}function st(ft,ht){this.g=ft,this.h=ht}function yt(ft,ht){if(U(ht))throw Error("division by zero");if(U(ft))return new st(k,k);if(j(ft))return ht=yt(W(ft),ht),new st(W(ht.g),W(ht.h));if(j(ht))return ht=yt(ft,W(ht)),new st(W(ht.g),ht.h);if(30<ft.g.length){if(j(ft)||j(ht))throw Error("slowDivide_ only works with positive integers.");for(var mt=O,wt=ht;0>=wt.l(ft);)mt=Tt(mt),wt=Tt(wt);var Ct=It(mt,1),_t=It(wt,1);for(wt=It(wt,2),mt=It(mt,2);!U(wt);){var Dt=_t.add(wt);0>=Dt.l(ft)&&(Ct=Ct.add(mt),_t=Dt),wt=It(wt,1),mt=It(mt,1)}return ht=Z(ft,Ct.j(ht)),new st(Ct,ht)}for(Ct=k;0<=ft.l(ht);){for(mt=Math.max(1,Math.floor(ft.m()/ht.m())),wt=48>=(wt=Math.ceil(Math.log(mt)/Math.LN2))?1:Math.pow(2,wt-48),Dt=(_t=E(mt)).j(ht);j(Dt)||0<Dt.l(ft);)Dt=(_t=E(mt-=wt)).j(ht);U(_t)&&(_t=O),Ct=Ct.add(_t),ft=Z(ft,Dt)}return new st(Ct,ft)}function Tt(ft){for(var ht=ft.g.length+1,mt=[],wt=0;wt<ht;wt++)mt[wt]=ft.i(wt)<<1|ft.i(wt-1)>>>31;return new o(mt,ft.h)}function It(ft,ht){var mt=ht>>5;ht%=32;for(var wt=ft.g.length-mt,Ct=[],_t=0;_t<wt;_t++)Ct[_t]=0<ht?ft.i(_t+mt)>>>ht|ft.i(_t+mt+1)<<32-ht:ft.i(_t+mt);return new o(Ct,ft.h)}(e=o.prototype).m=function(){if(j(this))return-W(this).m();for(var ft=0,ht=1,mt=0;mt<this.g.length;mt++){var wt=this.i(mt);ft+=(0<=wt?wt:4294967296+wt)*ht,ht*=4294967296}return ft},e.toString=function(ft){if(2>(ft=ft||10)||36<ft)throw Error("radix out of range: "+ft);if(U(this))return"0";if(j(this))return"-"+W(this).toString(ft);for(var ht=E(Math.pow(ft,6)),mt=this,wt="";;){var Ct=yt(mt,ht).g,_t=((0<(mt=Z(mt,Ct.j(ht))).g.length?mt.g[0]:mt.h)>>>0).toString(ft);if(U(mt=Ct))return _t+wt;for(;6>_t.length;)_t="0"+_t;wt=_t+wt}},e.i=function(ft){return 0>ft?0:ft<this.g.length?this.g[ft]:this.h},e.l=function(ft){return j(ft=Z(this,ft))?-1:U(ft)?0:1},e.abs=function(){return j(this)?W(this):this},e.add=function(ft){for(var ht=Math.max(this.g.length,ft.g.length),mt=[],wt=0,Ct=0;Ct<=ht;Ct++){var _t=wt+(65535&this.i(Ct))+(65535&ft.i(Ct)),Dt=(_t>>>16)+(this.i(Ct)>>>16)+(ft.i(Ct)>>>16);wt=Dt>>>16,mt[Ct]=(Dt&=65535)<<16|(_t&=65535)}return new o(mt,-2147483648&mt[mt.length-1]?-1:0)},e.j=function(ft){if(U(this)||U(ft))return k;if(j(this))return j(ft)?W(this).j(W(ft)):W(W(this).j(ft));if(j(ft))return W(this.j(W(ft)));if(0>this.l(L)&&0>ft.l(L))return E(this.m()*ft.m());for(var ht=this.g.length+ft.g.length,mt=[],wt=0;wt<2*ht;wt++)mt[wt]=0;for(wt=0;wt<this.g.length;wt++)for(var Ct=0;Ct<ft.g.length;Ct++){var _t=this.i(wt)>>>16,Dt=65535&this.i(wt),Ue=ft.i(Ct)>>>16,Te=65535&ft.i(Ct);mt[2*wt+2*Ct]+=Dt*Te,rt(mt,2*wt+2*Ct),mt[2*wt+2*Ct+1]+=_t*Te,rt(mt,2*wt+2*Ct+1),mt[2*wt+2*Ct+1]+=Dt*Ue,rt(mt,2*wt+2*Ct+1),mt[2*wt+2*Ct+2]+=_t*Ue,rt(mt,2*wt+2*Ct+2)}for(wt=0;wt<ht;wt++)mt[wt]=mt[2*wt+1]<<16|mt[2*wt];for(wt=ht;wt<2*ht;wt++)mt[wt]=0;return new o(mt,0)},e.A=function(ft){return yt(this,ft).h},e.and=function(ft){for(var ht=Math.max(this.g.length,ft.g.length),mt=[],wt=0;wt<ht;wt++)mt[wt]=this.i(wt)&ft.i(wt);return new o(mt,this.h&ft.h)},e.or=function(ft){for(var ht=Math.max(this.g.length,ft.g.length),mt=[],wt=0;wt<ht;wt++)mt[wt]=this.i(wt)|ft.i(wt);return new o(mt,this.h|ft.h)},e.xor=function(ft){for(var ht=Math.max(this.g.length,ft.g.length),mt=[],wt=0;wt<ht;wt++)mt[wt]=this.i(wt)^ft.i(wt);return new o(mt,this.h^ft.h)},n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,C$=T$.Md5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=E,o.fromString=function D(ft,ht){if(0==ft.length)throw Error("number format error: empty string");if(2>(ht=ht||10)||36<ht)throw Error("radix out of range: "+ht);if("-"==ft.charAt(0))return W(D(ft.substring(1),ht));if(0<=ft.indexOf("-"))throw Error('number format error: interior "-" character');for(var mt=E(Math.pow(ht,8)),wt=k,Ct=0;Ct<ft.length;Ct+=8){var _t=Math.min(8,ft.length-Ct),Dt=parseInt(ft.substring(Ct,Ct+_t),ht);8>_t?(_t=E(Math.pow(ht,_t)),wt=wt.j(_t).add(E(Dt))):wt=(wt=wt.j(mt)).add(E(Dt))}return wt},kp=T$.Integer=o}).apply(typeof w$<"u"?w$:typeof self<"u"?self:typeof window<"u"?window:{});var S$,E$,wb,_$,jE,wF,A$,D$,M$,WE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ah={};(function(){var e,i="function"==typeof Object.defineProperties?Object.defineProperty:function(z,ct,xt){return z==Array.prototype||z==Object.prototype||(z[ct]=xt.value),z},n=function t(z){z=["object"==typeof globalThis&&globalThis,z,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof WE&&WE];for(var ct=0;ct<z.length;++ct){var xt=z[ct];if(xt&&xt.Math==Math)return xt}throw Error("Cannot find global object")}(this);!function r(z,ct){if(ct)t:{var xt=n;z=z.split(".");for(var Rt=0;Rt<z.length-1;Rt++){var ie=z[Rt];if(!(ie in xt))break t;xt=xt[ie]}(ct=ct(Rt=xt[z=z[z.length-1]]))!=Rt&&null!=ct&&i(xt,z,{configurable:!0,writable:!0,value:ct})}}("Array.prototype.values",function(z){return z||function(){return function s(z,ct){z instanceof String&&(z+="");var xt=0,Rt=!1,ie={next:function(){if(!Rt&&xt<z.length){var be=xt++;return{value:ct(be,z[be]),done:!1}}return Rt=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}(this,function(ct,xt){return xt})}});var o=o||{},l=this||self;function w(z){var ct=typeof z;return"array"==(ct="object"!=ct?ct:z?Array.isArray(z)?"array":ct:"null")||"object"==ct&&"number"==typeof z.length}function E(z){var ct=typeof z;return"object"==ct&&null!=z||"function"==ct}function D(z,ct,xt){return z.call.apply(z.bind,arguments)}function k(z,ct,xt){if(!z)throw Error();if(2<arguments.length){var Rt=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,Rt),z.apply(ct,ie)}}return function(){return z.apply(ct,arguments)}}function O(z,ct,xt){return(O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?D:k).apply(null,arguments)}function L(z,ct){var xt=Array.prototype.slice.call(arguments,1);return function(){var Rt=xt.slice();return Rt.push.apply(Rt,arguments),z.apply(this,Rt)}}function U(z,ct){function xt(){}xt.prototype=ct.prototype,z.aa=ct.prototype,z.prototype=new xt,z.prototype.constructor=z,z.Qb=function(Rt,ie,be){for(var pi=Array(arguments.length-2),Vr=2;Vr<arguments.length;Vr++)pi[Vr-2]=arguments[Vr];return ct.prototype[ie].apply(Rt,pi)}}function j(z){const ct=z.length;if(0<ct){const xt=Array(ct);for(let Rt=0;Rt<ct;Rt++)xt[Rt]=z[Rt];return xt}return[]}function W(z,ct){for(let xt=1;xt<arguments.length;xt++){const Rt=arguments[xt];if(w(Rt)){const ie=z.length||0,be=Rt.length||0;z.length=ie+be;for(let pi=0;pi<be;pi++)z[ie+pi]=Rt[pi]}else z.push(Rt)}}function rt(z){return/^[\s\xa0]*$/.test(z)}function st(){var z=l.navigator;return z&&(z=z.userAgent)?z:""}function yt(z){return yt[" "](z),z}yt[" "]=function(){};var Tt=!(-1==st().indexOf("Gecko")||-1!=st().toLowerCase().indexOf("webkit")&&-1==st().indexOf("Edge")||-1!=st().indexOf("Trident")||-1!=st().indexOf("MSIE")||-1!=st().indexOf("Edge"));function It(z,ct,xt){for(const Rt in z)ct.call(xt,z[Rt],Rt,z)}function ht(z){const ct={};for(const xt in z)ct[xt]=z[xt];return ct}const mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wt(z,ct){let xt,Rt;for(let ie=1;ie<arguments.length;ie++){for(xt in Rt=arguments[ie],Rt)z[xt]=Rt[xt];for(let be=0;be<mt.length;be++)xt=mt[be],Object.prototype.hasOwnProperty.call(Rt,xt)&&(z[xt]=Rt[xt])}}function Ct(z){var ct=1;z=z.split(":");const xt=[];for(;0<ct&&z.length;)xt.push(z.shift()),ct--;return z.length&&xt.push(z.join(":")),xt}function _t(z){l.setTimeout(()=>{throw z},0)}function Dt(){var z=ze;let ct=null;return z.g&&(ct=z.g,z.g=z.g.next,z.g||(z.h=null),ct.next=null),ct}var Te=new class Z{constructor(ct,xt){this.i=ct,this.j=xt,this.h=0,this.g=null}get(){let ct;return 0<this.h?(this.h--,ct=this.g,this.g=ct.next,ct.next=null):ct=this.i(),ct}}(()=>new ve,z=>z.reset());class ve{constructor(){this.next=this.g=this.h=null}set(ct,xt){this.h=ct,this.g=xt,this.next=null}reset(){this.next=this.g=this.h=null}}let qt,_e=!1,ze=new class Ue{constructor(){this.h=this.g=null}add(ct,xt){const Rt=Te.get();Rt.set(ct,xt),this.h?this.h.next=Rt:this.g=Rt,this.h=Rt}},Me=()=>{const z=l.Promise.resolve(void 0);qt=()=>{z.then(Ii)}};var Ii=()=>{for(var z;z=Dt();){try{z.h.call(z.g)}catch(xt){_t(xt)}var ct=Te;ct.j(z),100>ct.h&&(ct.h++,z.next=ct.g,ct.g=z)}_e=!1};function ee(){this.s=this.s,this.C=this.C}function Ne(z,ct){this.type=z,this.g=this.target=ct,this.defaultPrevented=!1}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ne.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var z=!1,ct=Object.defineProperty({},"passive",{get:function(){z=!0}});try{const xt=()=>{};l.addEventListener("test",xt,ct),l.removeEventListener("test",xt,ct)}catch{}return z}();function fi(z,ct){if(Ne.call(this,z?z.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,z){var xt=this.type=z.type,Rt=z.changedTouches&&z.changedTouches.length?z.changedTouches[0]:null;if(this.target=z.target||z.srcElement,this.g=ct,ct=z.relatedTarget){if(Tt){t:{try{yt(ct.nodeName);var ie=!0;break t}catch{}ie=!1}ie||(ct=null)}}else"mouseover"==xt?ct=z.fromElement:"mouseout"==xt&&(ct=z.toElement);this.relatedTarget=ct,Rt?(this.clientX=void 0!==Rt.clientX?Rt.clientX:Rt.pageX,this.clientY=void 0!==Rt.clientY?Rt.clientY:Rt.pageY,this.screenX=Rt.screenX||0,this.screenY=Rt.screenY||0):(this.clientX=void 0!==z.clientX?z.clientX:z.pageX,this.clientY=void 0!==z.clientY?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0),this.button=z.button,this.key=z.key||"",this.ctrlKey=z.ctrlKey,this.altKey=z.altKey,this.shiftKey=z.shiftKey,this.metaKey=z.metaKey,this.pointerId=z.pointerId||0,this.pointerType="string"==typeof z.pointerType?z.pointerType:vi[z.pointerType]||"",this.state=z.state,this.i=z,z.defaultPrevented&&fi.aa.h.call(this)}}U(fi,Ne);var vi={2:"touch",3:"pen",4:"mouse"};fi.prototype.h=function(){fi.aa.h.call(this);var z=this.i;z.preventDefault?z.preventDefault():z.returnValue=!1};var hi="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function Qt(z,ct,xt,Rt,ie){this.listener=z,this.proxy=null,this.src=ct,this.type=xt,this.capture=!!Rt,this.ha=ie,this.key=++Ot,this.da=this.fa=!1}function $t(z){z.da=!0,z.listener=null,z.proxy=null,z.src=null,z.ha=null}function Yt(z){this.src=z,this.g={},this.h=0}function Ae(z,ct){var xt=ct.type;if(xt in z.g){var be,Rt=z.g[xt],ie=Array.prototype.indexOf.call(Rt,ct,void 0);(be=0<=ie)&&Array.prototype.splice.call(Rt,ie,1),be&&($t(ct),0==z.g[xt].length&&(delete z.g[xt],z.h--))}}function Ft(z,ct,xt,Rt){for(var ie=0;ie<z.length;++ie){var be=z[ie];if(!be.da&&be.listener==ct&&be.capture==!!xt&&be.ha==Rt)return ie}return-1}Yt.prototype.add=function(z,ct,xt,Rt,ie){var be=z.toString();(z=this.g[be])||(z=this.g[be]=[],this.h++);var pi=Ft(z,ct,Rt,ie);return-1<pi?(ct=z[pi],xt||(ct.fa=!1)):((ct=new Qt(ct,this.src,be,!!Rt,ie)).fa=xt,z.push(ct)),ct};var Di="closure_lm_"+(1e6*Math.random()|0),ni={};function je(z,ct,xt,Rt,ie){if(Rt&&Rt.once)return bi(z,ct,xt,Rt,ie);if(Array.isArray(ct)){for(var be=0;be<ct.length;be++)je(z,ct[be],xt,Rt,ie);return null}return xt=Po(xt),z&&z[hi]?z.K(ct,xt,E(Rt)?!!Rt.capture:!!Rt,ie):ji(z,ct,xt,!1,Rt,ie)}function ji(z,ct,xt,Rt,ie,be){if(!ct)throw Error("Invalid event type");var pi=E(ie)?!!ie.capture:!!ie,Vr=si(z);if(Vr||(z[Di]=Vr=new Yt(z)),(xt=Vr.add(ct,xt,Rt,pi,be)).proxy)return xt;if(Rt=function un(){const ct=qa;return function z(xt){return ct.call(z.src,z.listener,xt)}}(),xt.proxy=Rt,Rt.src=z,Rt.listener=xt,z.addEventListener)De||(ie=pi),void 0===ie&&(ie=!1),z.addEventListener(ct.toString(),Rt,ie);else if(z.attachEvent)z.attachEvent(ms(ct.toString()),Rt);else{if(!z.addListener||!z.removeListener)throw Error("addEventListener and attachEvent are unavailable.");z.addListener(Rt)}return xt}function bi(z,ct,xt,Rt,ie){if(Array.isArray(ct)){for(var be=0;be<ct.length;be++)bi(z,ct[be],xt,Rt,ie);return null}return xt=Po(xt),z&&z[hi]?z.L(ct,xt,E(Rt)?!!Rt.capture:!!Rt,ie):ji(z,ct,xt,!0,Rt,ie)}function ur(z,ct,xt,Rt,ie){if(Array.isArray(ct))for(var be=0;be<ct.length;be++)ur(z,ct[be],xt,Rt,ie);else Rt=E(Rt)?!!Rt.capture:!!Rt,xt=Po(xt),z&&z[hi]?(z=z.i,(ct=String(ct).toString())in z.g&&-1<(xt=Ft(be=z.g[ct],xt,Rt,ie))&&($t(be[xt]),Array.prototype.splice.call(be,xt,1),0==be.length&&(delete z.g[ct],z.h--))):z&&(z=si(z))&&(ct=z.g[ct.toString()],z=-1,ct&&(z=Ft(ct,xt,Rt,ie)),(xt=-1<z?ct[z]:null)&&sr(xt))}function sr(z){if("number"!=typeof z&&z&&!z.da){var ct=z.src;if(ct&&ct[hi])Ae(ct.i,z);else{var xt=z.type,Rt=z.proxy;ct.removeEventListener?ct.removeEventListener(xt,Rt,z.capture):ct.detachEvent?ct.detachEvent(ms(xt),Rt):ct.addListener&&ct.removeListener&&ct.removeListener(Rt),(xt=si(ct))?(Ae(xt,z),0==xt.h&&(xt.src=null,ct[Di]=null)):$t(z)}}}function ms(z){return z in ni?ni[z]:ni[z]="on"+z}function qa(z,ct){if(z.da)z=!0;else{ct=new fi(ct,this);var xt=z.listener,Rt=z.ha||z.src;z.fa&&sr(z),z=xt.call(Rt,ct)}return z}function si(z){return(z=z[Di])instanceof Yt?z:null}var ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function Po(z){return"function"==typeof z?z:(z[ci]||(z[ci]=function(ct){return z.handleEvent(ct)}),z[ci])}function ar(){ee.call(this),this.i=new Yt(this),this.M=this,this.F=null}function Qn(z,ct){var xt,Rt=z.F;if(Rt)for(xt=[];Rt;Rt=Rt.F)xt.push(Rt);if(z=z.M,Rt=ct.type||ct,"string"==typeof ct)ct=new Ne(ct,z);else if(ct instanceof Ne)ct.target=ct.target||z;else{var ie=ct;wt(ct=new Ne(Rt,z),ie)}if(ie=!0,xt)for(var be=xt.length-1;0<=be;be--){var pi=ct.g=xt[be];ie=sa(pi,Rt,!0,ct)&&ie}if(ie=sa(pi=ct.g=z,Rt,!0,ct)&&ie,ie=sa(pi,Rt,!1,ct)&&ie,xt)for(be=0;be<xt.length;be++)ie=sa(pi=ct.g=xt[be],Rt,!1,ct)&&ie}function sa(z,ct,xt,Rt){if(!(ct=z.i.g[String(ct)]))return!0;ct=ct.concat();for(var ie=!0,be=0;be<ct.length;++be){var pi=ct[be];if(pi&&!pi.da&&pi.capture==xt){var Vr=pi.listener,eo=pi.ha||pi.src;pi.fa&&Ae(z.i,pi),ie=!1!==Vr.call(eo,Rt)&&ie}}return ie&&!Rt.defaultPrevented}function ko(z,ct,xt){if("function"==typeof z)xt&&(z=O(z,xt));else{if(!z||"function"!=typeof z.handleEvent)throw Error("Invalid listener argument");z=O(z.handleEvent,z)}return 2147483647<Number(ct)?-1:l.setTimeout(z,ct||0)}function an(z){z.g=ko(()=>{z.g=null,z.i&&(z.i=!1,an(z))},z.l);const ct=z.h;z.h=null,z.m.apply(null,ct)}U(ar,ee),ar.prototype[hi]=!0,ar.prototype.removeEventListener=function(z,ct,xt,Rt){ur(this,z,ct,xt,Rt)},ar.prototype.N=function(){if(ar.aa.N.call(this),this.i){var ct,z=this.i;for(ct in z.g){for(var xt=z.g[ct],Rt=0;Rt<xt.length;Rt++)$t(xt[Rt]);delete z.g[ct],z.h--}}this.F=null},ar.prototype.K=function(z,ct,xt,Rt){return this.i.add(String(z),ct,!1,xt,Rt)},ar.prototype.L=function(z,ct,xt,Rt){return this.i.add(String(z),ct,!0,xt,Rt)};class Ji extends ee{constructor(ct,xt){super(),this.m=ct,this.l=xt,this.h=null,this.i=!1,this.g=null}j(ct){this.h=arguments,this.g?this.i=!0:an(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(z){ee.call(this),this.h=z,this.g={}}U(tr,ee);var Br=[];function Nm(z){It(z.g,function(ct,xt){this.g.hasOwnProperty(xt)&&sr(ct)},z),z.g={}}tr.prototype.N=function(){tr.aa.N.call(this),Nm(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tc=l.JSON.stringify,ed=l.JSON.parse,Bm=class{stringify(z){return l.JSON.stringify(z,void 0)}parse(z){return l.JSON.parse(z,void 0)}};function X0(){}function vD(){}X0.prototype.h=null;var Vm={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _f(){Ne.call(this,"d")}function Cw(){Ne.call(this,"c")}U(_f,Ne),U(Cw,Ne);var id={},yD=null;function Y0(){return yD=yD||new ar}function xD(z){Ne.call(this,id.La,z)}function Um(z){const ct=Y0();Qn(ct,new xD(ct))}function bD(z,ct){Ne.call(this,id.STAT_EVENT,z),this.stat=ct}function to(z){const ct=Y0();Qn(ct,new bD(ct,z))}function $0(z,ct){Ne.call(this,id.Ma,z),this.size=ct}function zm(z,ct){if("function"!=typeof z)throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){z()},ct)}function Gm(){this.g=!0}function Lt(z,ct,xt,Rt){z.info(function(){return"XMLHTTP TEXT ("+ct+"): "+function kt(z,ct){if(!z.g)return ct;if(!ct)return null;try{var xt=JSON.parse(ct);if(xt)for(z=0;z<xt.length;z++)if(Array.isArray(xt[z])){var Rt=xt[z];if(!(2>Rt.length)){var ie=Rt[1];if(Array.isArray(ie)&&!(1>ie.length)){var be=ie[0];if("noop"!=be&&"stop"!=be&&"close"!=be)for(var pi=1;pi<ie.length;pi++)ie[pi]=""}}}return Tc(xt)}catch{return ct}}(z,xt)+(Rt?" "+Rt:"")})}id.La="serverreachability",U(xD,Ne),id.STAT_EVENT="statevent",U(bD,Ne),id.Ma="timingevent",U($0,Ne),Gm.prototype.xa=function(){this.g=!1},Gm.prototype.info=function(){};var ce,Nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ce(){}function oe(z,ct,xt,Rt){this.j=z,this.i=ct,this.l=xt,this.R=Rt||1,this.U=new tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}U(Ce,X0),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},ce=new Ce;var he={},Xe={};function ti(z,ct,xt){z.L=1,z.v=CD(rd(ct)),z.m=xt,z.P=!0,Ei(z,null)}function Ei(z,ct){z.F=Date.now(),qi(z),z.A=rd(z.v);var xt=z.A,Rt=z.R;Array.isArray(Rt)||(Rt=[String(Rt)]),ast(xt.i,"t",Rt),z.C=0,xt=z.j.J,z.h=new ue,z.g=Sst(z.j,xt?ct:null,!z.m),0<z.O&&(z.M=new Ji(O(z.Y,z,z.g),z.O)),ct=z.U,xt=z.g,Rt=z.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Br[0]=ie.toString()),ie=Br);for(var be=0;be<ie.length;be++){var pi=je(xt,ie[be],Rt||ct.handleEvent,!1,ct.h||ct);if(!pi)break;ct.g[pi.key]=pi}ct=z.H?ht(z.H):{},z.m?(z.u||(z.u="POST"),ct["Content-Type"]="application/x-www-form-urlencoded",z.g.ea(z.A,z.u,z.m,ct)):(z.u="GET",z.g.ea(z.A,z.u,null,ct)),Um(),function E3(z,ct,xt,Rt,ie,be){z.info(function(){if(z.g)if(be)for(var pi="",Vr=be.split("&"),eo=0;eo<Vr.length;eo++){var hr=Vr[eo].split("=");if(1<hr.length){var Fo=hr[0];hr=hr[1];var Oo=Fo.split("_");pi=2<=Oo.length&&"type"==Oo[1]?pi+(Fo+"=")+hr+"&":pi+(Fo+"=redacted&")}}else pi=null;else pi=be;return"XMLHTTP REQ ("+Rt+") [attempt "+ie+"]: "+ct+"\n"+xt+"\n"+pi})}(z.i,z.u,z.A,z.l,z.R,z.m)}function ui(z){return!!z.g&&"GET"==z.u&&2!=z.L&&z.j.Ca}function $e(z,ct){var xt=z.C,Rt=ct.indexOf("\n",xt);return-1==Rt?Xe:(xt=Number(ct.substring(xt,Rt)),isNaN(xt)?he:(Rt+=1)+xt>ct.length?Xe:(ct=ct.slice(Rt,Rt+xt),z.C=Rt+xt,ct))}function qi(z){z.S=Date.now()+z.I,Dr(z,z.I)}function Dr(z,ct){if(null!=z.B)throw Error("WatchDog timer not null");z.B=zm(O(z.ba,z),ct)}function Ba(z){z.B&&(l.clearTimeout(z.B),z.B=null)}function Qr(z){0==z.j.G||z.J||bst(z.j,z)}function Ws(z){Ba(z);var ct=z.M;ct&&"function"==typeof ct.ma&&ct.ma(),z.M=null,Nm(z.U),z.g&&(ct=z.g,z.g=null,ct.abort(),ct.ma())}function nd(z,ct){try{var xt=z.j;if(0!=xt.G&&(xt.g==z||_3(xt.h,z)))if(!z.K&&_3(xt.h,z)&&3==xt.G){try{var Rt=xt.Da.g.parse(ct)}catch{Rt=null}if(Array.isArray(Rt)&&3==Rt.length){var ie=Rt;if(0==ie[0]){t:if(!xt.u){if(xt.g){if(!(xt.g.F+3e3<z.F))break t;DD(xt),_D(xt)}I3(xt),to(18)}}else xt.za=ie[1],0<xt.za-xt.T&&37500>ie[2]&&xt.F&&0==xt.v&&!xt.C&&(xt.C=zm(O(xt.Za,xt),6e3));if(1>=Cc(xt.h)&&xt.ca){try{xt.ca()}catch{}xt.ca=void 0}}else jm(xt,11)}else if((z.K||xt.g==z)&&DD(xt),!rt(ct))for(ie=xt.Da.g.parse(ct),ct=0;ct<ie.length;ct++){let hr=ie[ct];if(xt.T=hr[0],hr=hr[1],2==xt.G)if("c"==hr[0]){xt.K=hr[1],xt.ia=hr[2];const Fo=hr[3];null!=Fo&&(xt.la=Fo,xt.j.info("VER="+xt.la));const Oo=hr[4];null!=Oo&&(xt.Aa=Oo,xt.j.info("SVER="+xt.Aa));const J0=hr[5];null!=J0&&"number"==typeof J0&&0<J0&&(xt.L=Rt=1.5*J0,xt.j.info("backChannelRequestTimeoutMs_="+Rt)),Rt=xt;const $c=z.g;if($c){const ID=$c.g?$c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ID){var be=Rt.h;be.g||-1==ID.indexOf("spdy")&&-1==ID.indexOf("quic")&&-1==ID.indexOf("h2")||(be.j=be.l,be.g=new Set,be.h&&(A3(be,be.h),be.h=null))}if(Rt.D){const P3=$c.g?$c.g.getResponseHeader("X-HTTP-Session-Id"):null;P3&&(Rt.ya=P3,ss(Rt.I,Rt.D,P3))}}xt.G=3,xt.l&&xt.l.ua(),xt.ba&&(xt.R=Date.now()-z.F,xt.j.info("Handshake RTT: "+xt.R+"ms"));var pi=z;if((Rt=xt).qa=Cst(Rt,Rt.J?Rt.ia:null,Rt.W),pi.K){Jrt(Rt.h,pi);var Vr=pi,eo=Rt.L;eo&&(Vr.I=eo),Vr.B&&(Ba(Vr),qi(Vr)),Rt.g=pi}else yst(Rt);0<xt.i.length&&AD(xt)}else"stop"!=hr[0]&&"close"!=hr[0]||jm(xt,7);else 3==xt.G&&("stop"==hr[0]||"close"==hr[0]?"stop"==hr[0]?jm(xt,7):M3(xt):"noop"!=hr[0]&&xt.l&&xt.l.ta(hr),xt.v=0)}Um()}catch{}}oe.prototype.ca=function(z){z=z.target;const ct=this.M;ct&&3==sd(z)?ct.j():this.Y(z)},oe.prototype.Y=function(z){try{if(z==this.g)t:{const Oo=sd(this.g);var ct=this.g.Ba();if(this.g.Z(),!(3>Oo)&&(3!=Oo||this.g&&(this.h.h||this.g.oa()||fst(this.g)))){this.J||4!=Oo||7==ct||Um(),Ba(this);var xt=this.g.Z();this.X=xt;e:if(ui(this)){var Rt=fst(this.g);z="";var ie=Rt.length,be=4==sd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ws(this),Qr(this);var pi="";break e}this.h.i=new l.TextDecoder}for(ct=0;ct<ie;ct++)this.h.h=!0,z+=this.h.i.decode(Rt[ct],{stream:!(be&&ct==ie-1)});Rt.length=0,this.h.g+=z,this.C=0,pi=this.h.g}else pi=this.g.oa();if(this.o=200==xt,function At(z,ct,xt,Rt,ie,be,pi){z.info(function(){return"XMLHTTP RESP ("+Rt+") [ attempt "+ie+"]: "+ct+"\n"+xt+"\n"+be+" "+pi})}(this.i,this.u,this.A,this.l,this.R,Oo,xt),this.o){if(this.T&&!this.K){e:{if(this.g){var Vr,eo=this.g;if((Vr=eo.g?eo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Vr)){var hr=Vr;break e}}hr=null}if(!(xt=hr)){this.o=!1,this.s=3,to(12),Ws(this),Qr(this);break t}Lt(this.i,this.l,xt,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nd(this,xt)}if(this.P){let $c;for(xt=!0;!this.J&&this.C<pi.length;){if($c=$e(this,pi),$c==Xe){4==Oo&&(this.s=4,to(14),xt=!1),Lt(this.i,this.l,null,"[Incomplete Response]");break}if($c==he){this.s=4,to(15),Lt(this.i,this.l,pi,"[Invalid Chunk]"),xt=!1;break}Lt(this.i,this.l,$c,null),nd(this,$c)}if(ui(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Oo||0!=pi.length||this.h.h||(this.s=1,to(16),xt=!1),this.o=this.o&&xt,xt){if(0<pi.length&&!this.W){this.W=!0;var Fo=this.j;Fo.g==this&&Fo.ba&&!Fo.M&&(Fo.j.info("Great, no buffering proxy detected. Bytes received: "+pi.length),R3(Fo),Fo.M=!0,to(11))}}else Lt(this.i,this.l,pi,"[Invalid Chunked Response]"),Ws(this),Qr(this)}else Lt(this.i,this.l,pi,null),nd(this,pi);4==Oo&&Ws(this),this.o&&!this.J&&(4==Oo?bst(this.j,this):(this.o=!1,qi(this)))}else(function Bee(z){const ct={};z=(z.g&&2<=sd(z)&&z.g.getAllResponseHeaders()||"").split("\r\n");for(let Rt=0;Rt<z.length;Rt++){if(rt(z[Rt]))continue;var xt=Ct(z[Rt]);const ie=xt[0];if("string"!=typeof(xt=xt[1]))continue;xt=xt.trim();const be=ct[ie]||[];ct[ie]=be,be.push(xt)}!function ft(z,ct){for(const xt in z)ct.call(void 0,z[xt],xt,z)}(ct,function(Rt){return Rt.join(", ")})})(this.g),400==xt&&0<pi.indexOf("Unknown SID")?(this.s=3,to(12)):(this.s=0,to(13)),Ws(this),Qr(this)}}}catch{}},oe.prototype.cancel=function(){this.J=!0,Ws(this)},oe.prototype.ba=function(){this.B=null;const z=Date.now();0<=z-this.S?(function Pt(z,ct){z.info(function(){return"TIMEOUT: "+ct})}(this.i,this.A),2!=this.L&&(Um(),to(17)),Ws(this),this.s=2,Qr(this)):Dr(this,this.S-z)};var Hm=class{constructor(z,ct){this.g=z,this.map=ct}};function Hu(z){this.l=z||10,z=l.PerformanceNavigationTiming?0<(z=l.performance.getEntriesByType("navigation")).length&&("hq"==z[0].nextHopProtocol||"h2"==z[0].nextHopProtocol):!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=z?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Q0(z){return!!z.h||!!z.g&&z.g.size>=z.j}function Cc(z){return z.h?1:z.g?z.g.size:0}function _3(z,ct){return z.h?z.h==ct:!!z.g&&z.g.has(ct)}function A3(z,ct){z.g?z.g.add(ct):z.h=ct}function Jrt(z,ct){z.h&&z.h==ct?z.h=null:z.g&&z.g.has(ct)&&z.g.delete(ct)}function qrt(z){if(null!=z.h)return z.i.concat(z.h.D);if(null!=z.g&&0!==z.g.size){let ct=z.i;for(const xt of z.g.values())ct=ct.concat(xt.D);return ct}return j(z.i)}function tst(z,ct){if(z.forEach&&"function"==typeof z.forEach)z.forEach(ct,void 0);else if(w(z)||"string"==typeof z)Array.prototype.forEach.call(z,ct,void 0);else for(var xt=function See(z){if(z.na&&"function"==typeof z.na)return z.na();if(!z.V||"function"!=typeof z.V){if(typeof Map<"u"&&z instanceof Map)return Array.from(z.keys());if(!(typeof Set<"u"&&z instanceof Set)){if(w(z)||"string"==typeof z){var ct=[];z=z.length;for(var xt=0;xt<z;xt++)ct.push(xt);return ct}ct=[],xt=0;for(const Rt in z)ct[xt++]=Rt;return ct}}}(z),Rt=function Cee(z){if(z.V&&"function"==typeof z.V)return z.V();if(typeof Map<"u"&&z instanceof Map||typeof Set<"u"&&z instanceof Set)return Array.from(z.values());if("string"==typeof z)return z.split("");if(w(z)){for(var ct=[],xt=z.length,Rt=0;Rt<xt;Rt++)ct.push(z[Rt]);return ct}for(Rt in ct=[],xt=0,z)ct[xt++]=z[Rt];return ct}(z),ie=Rt.length,be=0;be<ie;be++)ct.call(void 0,Rt[be],xt&&xt[be],z)}Hu.prototype.cancel=function(){if(this.i=qrt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const z of this.g.values())z.cancel();this.g.clear()}};var est=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wm(z){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,z instanceof Wm){this.h=z.h,wD(this,z.j),this.o=z.o,this.g=z.g,TD(this,z.s),this.l=z.l;var ct=z.i,xt=new _w;xt.i=ct.i,ct.g&&(xt.g=new Map(ct.g),xt.h=ct.h),ist(this,xt),this.m=z.m}else z&&(ct=String(z).match(est))?(this.h=!1,wD(this,ct[1]||"",!0),this.o=Sw(ct[2]||""),this.g=Sw(ct[3]||"",!0),TD(this,ct[4]),this.l=Sw(ct[5]||"",!0),ist(this,ct[6]||"",!0),this.m=Sw(ct[7]||"")):(this.h=!1,this.i=new _w(null,this.h))}function rd(z){return new Wm(z)}function wD(z,ct,xt){z.j=xt?Sw(ct,!0):ct,z.j&&(z.j=z.j.replace(/:$/,""))}function TD(z,ct){if(ct){if(ct=Number(ct),isNaN(ct)||0>ct)throw Error("Bad port number "+ct);z.s=ct}else z.s=null}function ist(z,ct,xt){ct instanceof _w?(z.i=ct,function Ree(z,ct){ct&&!z.j&&(Af(z),z.i=null,z.g.forEach(function(xt,Rt){var ie=Rt.toLowerCase();Rt!=ie&&(rst(this,Rt),ast(this,ie,xt))},z)),z.j=ct}(z.i,z.h)):(xt||(ct=Ew(ct,Mee)),z.i=new _w(ct,z.h))}function ss(z,ct,xt){z.i.set(ct,xt)}function CD(z){return ss(z,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),z}function Sw(z,ct){return z?ct?decodeURI(z.replace(/%25/g,"%2525")):decodeURIComponent(z):""}function Ew(z,ct,xt){return"string"==typeof z?(z=encodeURI(z).replace(ct,_ee),xt&&(z=z.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z):null}function _ee(z){return"%"+((z=z.charCodeAt(0))>>4&15).toString(16)+(15&z).toString(16)}Wm.prototype.toString=function(){var z=[],ct=this.j;ct&&z.push(Ew(ct,nst,!0),":");var xt=this.g;return(xt||"file"==ct)&&(z.push("//"),(ct=this.o)&&z.push(Ew(ct,nst,!0),"@"),z.push(encodeURIComponent(String(xt)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(xt=this.s)&&z.push(":",String(xt))),(xt=this.l)&&(this.g&&"/"!=xt.charAt(0)&&z.push("/"),z.push(Ew(xt,"/"==xt.charAt(0)?Dee:Aee,!0))),(xt=this.i.toString())&&z.push("?",xt),(xt=this.m)&&z.push("#",Ew(xt,Iee)),z.join("")};var nst=/[#\/\?@]/g,Aee=/[#\?:]/g,Dee=/[#\?]/g,Mee=/[#\?@]/g,Iee=/#/g;function _w(z,ct){this.h=this.g=null,this.i=z||null,this.j=!!ct}function Af(z){z.g||(z.g=new Map,z.h=0,z.i&&function Eee(z,ct){if(z){z=z.split("&");for(var xt=0;xt<z.length;xt++){var Rt=z[xt].indexOf("="),ie=null;if(0<=Rt){var be=z[xt].substring(0,Rt);ie=z[xt].substring(Rt+1)}else be=z[xt];ct(be,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}(z.i,function(ct,xt){z.add(decodeURIComponent(ct.replace(/\+/g," ")),xt)}))}function rst(z,ct){Af(z),ct=K0(z,ct),z.g.has(ct)&&(z.i=null,z.h-=z.g.get(ct).length,z.g.delete(ct))}function sst(z,ct){return Af(z),ct=K0(z,ct),z.g.has(ct)}function ast(z,ct,xt){rst(z,ct),0<xt.length&&(z.i=null,z.g.set(K0(z,ct),j(xt)),z.h+=xt.length)}function K0(z,ct){return ct=String(ct),z.j&&(ct=ct.toLowerCase()),ct}function Df(z,ct,xt,Rt,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),Rt(xt)}catch{}}function Fee(){this.g=new Bm}function Oee(z,ct,xt){const Rt=xt||"";try{tst(z,function(ie,be){let pi=ie;E(ie)&&(pi=Tc(ie)),ct.push(Rt+be+"="+encodeURIComponent(pi))})}catch(ie){throw ct.push(Rt+"type="+encodeURIComponent("_badmap")),ie}}function Aw(z){this.l=z.Ub||null,this.j=z.eb||!1}function SD(z,ct){ar.call(this),this.D=z,this.o=ct,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function ost(z){z.j.read().then(z.Pa.bind(z)).catch(z.ga.bind(z))}function Dw(z){z.readyState=4,z.l=null,z.j=null,z.v=null,Mw(z)}function Mw(z){z.onreadystatechange&&z.onreadystatechange.call(z)}function lst(z){let ct="";return It(z,function(xt,Rt){ct+=Rt,ct+=":",ct+=xt,ct+="\r\n"}),ct}function D3(z,ct,xt){t:{for(Rt in xt){var Rt=!1;break t}Rt=!0}Rt||(xt=lst(xt),"string"==typeof z?null!=xt&&encodeURIComponent(String(xt)):ss(z,ct,xt))}function Ds(z){ar.call(this),this.headers=new Map,this.o=z||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_w.prototype).add=function(z,ct){Af(this),this.i=null,z=K0(this,z);var xt=this.g.get(z);return xt||this.g.set(z,xt=[]),xt.push(ct),this.h+=1,this},e.forEach=function(z,ct){Af(this),this.g.forEach(function(xt,Rt){xt.forEach(function(ie){z.call(ct,ie,Rt,this)},this)},this)},e.na=function(){Af(this);const z=Array.from(this.g.values()),ct=Array.from(this.g.keys()),xt=[];for(let Rt=0;Rt<ct.length;Rt++){const ie=z[Rt];for(let be=0;be<ie.length;be++)xt.push(ct[Rt])}return xt},e.V=function(z){Af(this);let ct=[];if("string"==typeof z)sst(this,z)&&(ct=ct.concat(this.g.get(K0(this,z))));else{z=Array.from(this.g.values());for(let xt=0;xt<z.length;xt++)ct=ct.concat(z[xt])}return ct},e.set=function(z,ct){return Af(this),this.i=null,sst(this,z=K0(this,z))&&(this.h-=this.g.get(z).length),this.g.set(z,[ct]),this.h+=1,this},e.get=function(z,ct){return z&&0<(z=this.V(z)).length?String(z[0]):ct},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const z=[],ct=Array.from(this.g.keys());for(var xt=0;xt<ct.length;xt++){var Rt=ct[xt];const be=encodeURIComponent(String(Rt)),pi=this.V(Rt);for(Rt=0;Rt<pi.length;Rt++){var ie=be;""!==pi[Rt]&&(ie+="="+encodeURIComponent(String(pi[Rt]))),z.push(ie)}}return this.i=z.join("&")},U(Aw,X0),Aw.prototype.g=function(){return new SD(this.l,this.j)},Aw.prototype.i=function(z){return function(){return z}}({}),U(SD,ar),(e=SD.prototype).open=function(z,ct){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=z,this.A=ct,this.readyState=1,Mw(this)},e.send=function(z){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ct={headers:this.u,method:this.B,credentials:this.m,cache:void 0};z&&(ct.body=z),(this.D||l).fetch(new Request(this.A,ct)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dw(this)),this.readyState=0},e.Sa=function(z){if(this.g&&(this.l=z,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=z.headers,this.readyState=2,Mw(this)),this.g&&(this.readyState=3,Mw(this),this.g)))if("arraybuffer"===this.responseType)z.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in z){if(this.j=z.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ost(this)}else z.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(z){if(this.g){if(this.o&&z.value)this.response.push(z.value);else if(!this.o){var ct=z.value?z.value:new Uint8Array(0);(ct=this.v.decode(ct,{stream:!z.done}))&&(this.response=this.responseText+=ct)}z.done?Dw(this):Mw(this),3==this.readyState&&ost(this)}},e.Ra=function(z){this.g&&(this.response=this.responseText=z,Dw(this))},e.Qa=function(z){this.g&&(this.response=z,Dw(this))},e.ga=function(){this.g&&Dw(this)},e.setRequestHeader=function(z,ct){this.u.append(z,ct)},e.getResponseHeader=function(z){return this.h&&this.h.get(z.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const z=[],ct=this.h.entries();for(var xt=ct.next();!xt.done;)z.push((xt=xt.value)[0]+": "+xt[1]),xt=ct.next();return z.join("\r\n")},Object.defineProperty(SD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(z){this.m=z?"include":"same-origin"}}),U(Ds,ar);var Lee=/^https?$/i,Nee=["POST","PUT"];function cst(z,ct){z.h=!1,z.g&&(z.j=!0,z.g.abort(),z.j=!1),z.l=ct,z.m=5,ust(z),ED(z)}function ust(z){z.A||(z.A=!0,Qn(z,"complete"),Qn(z,"error"))}function hst(z){if(z.h&&typeof o<"u"&&(!z.v[1]||4!=sd(z)||2!=z.Z()))if(z.u&&4==sd(z))ko(z.Ea,0,z);else if(Qn(z,"readystatechange"),4==sd(z)){z.h=!1;try{const pi=z.Z();t:switch(pi){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ct=!0;break t;default:ct=!1}var xt;if(!(xt=ct)){var Rt;if(Rt=0===pi){var ie=String(z.D).match(est)[1]||null;!ie&&l.self&&l.self.location&&(ie=l.self.location.protocol.slice(0,-1)),Rt=!Lee.test(ie?ie.toLowerCase():"")}xt=Rt}if(xt)Qn(z,"complete"),Qn(z,"success");else{z.m=6;try{var be=2<sd(z)?z.g.statusText:""}catch{be=""}z.l=be+" ["+z.Z()+"]",ust(z)}}finally{ED(z)}}}function ED(z,ct){if(z.g){dst(z);const xt=z.g,Rt=z.v[0]?()=>{}:null;z.g=null,z.v=null,ct||Qn(z,"ready");try{xt.onreadystatechange=Rt}catch{}}}function dst(z){z.I&&(l.clearTimeout(z.I),z.I=null)}function sd(z){return z.g?z.g.readyState:0}function fst(z){try{if(!z.g)return null;if("response"in z.g)return z.g.response;switch(z.H){case"":case"text":return z.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in z.g)return z.g.mozResponseArrayBuffer}return null}catch{return null}}function Iw(z,ct,xt){return xt&&xt.internalChannelParams&&xt.internalChannelParams[z]||ct}function pst(z){this.Aa=0,this.i=[],this.j=new Gm,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Iw("failFast",!1,z),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Iw("baseRetryDelayMs",5e3,z),this.cb=Iw("retryDelaySeedMs",1e4,z),this.Wa=Iw("forwardChannelMaxRetries",2,z),this.wa=Iw("forwardChannelRequestTimeoutMs",2e4,z),this.pa=z&&z.xmlHttpFactory||void 0,this.Xa=z&&z.Tb||void 0,this.Ca=z&&z.useFetchStreams||!1,this.L=void 0,this.J=z&&z.supportsCrossDomainXhr||!1,this.K="",this.h=new Hu(z&&z.concurrentRequestLimit),this.Da=new Fee,this.P=z&&z.fastHandshake||!1,this.O=z&&z.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=z&&z.Rb||!1,z&&z.xa&&this.j.xa(),z&&z.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&z&&z.detectBufferingProxy||!1,this.ja=void 0,z&&z.longPollingTimeout&&0<z.longPollingTimeout&&(this.ja=z.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function M3(z){if(mst(z),3==z.G){var ct=z.U++,xt=rd(z.I);if(ss(xt,"SID",z.K),ss(xt,"RID",ct),ss(xt,"TYPE","terminate"),Rw(z,xt),(ct=new oe(z,z.j,ct)).L=2,ct.v=CD(rd(xt)),xt=!1,l.navigator&&l.navigator.sendBeacon)try{xt=l.navigator.sendBeacon(ct.v.toString(),"")}catch{}!xt&&l.Image&&((new Image).src=ct.v,xt=!0),xt||(ct.g=Sst(ct.j,null),ct.g.ea(ct.v)),ct.F=Date.now(),qi(ct)}Tst(z)}function _D(z){z.g&&(R3(z),z.g.cancel(),z.g=null)}function mst(z){_D(z),z.u&&(l.clearTimeout(z.u),z.u=null),DD(z),z.h.cancel(),z.s&&("number"==typeof z.s&&l.clearTimeout(z.s),z.s=null)}function AD(z){if(!Q0(z.h)&&!z.s){z.s=!0;var ct=z.Ga;qt||Me(),_e||(qt(),_e=!0),ze.add(ct,z),z.B=0}}function gst(z,ct){var xt;xt=ct?ct.l:z.U++;const Rt=rd(z.I);ss(Rt,"SID",z.K),ss(Rt,"RID",xt),ss(Rt,"AID",z.T),Rw(z,Rt),z.m&&z.o&&D3(Rt,z.m,z.o),xt=new oe(z,z.j,xt,z.B+1),null===z.m&&(xt.H=z.o),ct&&(z.i=ct.D.concat(z.i)),ct=vst(z,xt,1e3),xt.I=Math.round(.5*z.wa)+Math.round(.5*z.wa*Math.random()),A3(z.h,xt),ti(xt,Rt,ct)}function Rw(z,ct){z.H&&It(z.H,function(xt,Rt){ss(ct,Rt,xt)}),z.l&&tst({},function(xt,Rt){ss(ct,Rt,xt)})}function vst(z,ct,xt){xt=Math.min(z.i.length,xt);var Rt=z.l?O(z.l.Na,z.l,z):null;t:{var ie=z.i;let be=-1;for(;;){const pi=["count="+xt];-1==be?0<xt?(be=ie[0].g,pi.push("ofs="+be)):be=0:pi.push("ofs="+be);let Vr=!0;for(let eo=0;eo<xt;eo++){let hr=ie[eo].g;const Fo=ie[eo].map;if(hr-=be,0>hr)be=Math.max(0,ie[eo].g-100),Vr=!1;else try{Oee(Fo,pi,"req"+hr+"_")}catch{Rt&&Rt(Fo)}}if(Vr){Rt=pi.join("&");break t}}}return z=z.i.splice(0,xt),ct.D=z,Rt}function yst(z){if(!z.g&&!z.u){z.Y=1;var ct=z.Fa;qt||Me(),_e||(qt(),_e=!0),ze.add(ct,z),z.v=0}}function I3(z){return!(z.g||z.u||3<=z.v||(z.Y++,z.u=zm(O(z.Fa,z),wst(z,z.v)),z.v++,0))}function R3(z){null!=z.A&&(l.clearTimeout(z.A),z.A=null)}function xst(z){z.g=new oe(z,z.j,"rpc",z.Y),null===z.m&&(z.g.H=z.o),z.g.O=0;var ct=rd(z.qa);ss(ct,"RID","rpc"),ss(ct,"SID",z.K),ss(ct,"AID",z.T),ss(ct,"CI",z.F?"0":"1"),!z.F&&z.ja&&ss(ct,"TO",z.ja),ss(ct,"TYPE","xmlhttp"),Rw(z,ct),z.m&&z.o&&D3(ct,z.m,z.o),z.L&&(z.g.I=z.L);var xt=z.g;z=z.ia,xt.L=1,xt.v=CD(rd(ct)),xt.m=null,xt.P=!0,Ei(xt,z)}function DD(z){null!=z.C&&(l.clearTimeout(z.C),z.C=null)}function bst(z,ct){var xt=null;if(z.g==ct){DD(z),R3(z),z.g=null;var Rt=2}else{if(!_3(z.h,ct))return;xt=ct.D,Jrt(z.h,ct),Rt=1}if(0!=z.G)if(ct.o)if(1==Rt){xt=ct.m?ct.m.length:0,ct=Date.now()-ct.F;var ie=z.B;Qn(Rt=Y0(),new $0(Rt,xt)),AD(z)}else yst(z);else if(3==(ie=ct.s)||0==ie&&0<ct.X||!(1==Rt&&function Vee(z,ct){return!(Cc(z.h)>=z.h.j-(z.s?1:0)||(z.s?(z.i=ct.D.concat(z.i),0):1==z.G||2==z.G||z.B>=(z.Va?0:z.Wa)||(z.s=zm(O(z.Ga,z,ct),wst(z,z.B)),z.B++,0)))}(z,ct)||2==Rt&&I3(z)))switch(xt&&0<xt.length&&(ct=z.h,ct.i=ct.i.concat(xt)),ie){case 1:jm(z,5);break;case 4:jm(z,10);break;case 3:jm(z,6);break;default:jm(z,2)}}function wst(z,ct){let xt=z.Ta+Math.floor(Math.random()*z.cb);return z.isActive()||(xt*=2),xt*ct}function jm(z,ct){if(z.j.info("Error code "+ct),2==ct){var xt=O(z.fb,z),Rt=z.Xa;const ie=!Rt;Rt=new Wm(Rt||"//www.google.com/images/cleardot.gif"),l.location&&"http"==l.location.protocol||wD(Rt,"https"),CD(Rt),ie?function Pee(z,ct){const xt=new Gm;if(l.Image){const Rt=new Image;Rt.onload=L(Df,xt,"TestLoadImage: loaded",!0,ct,Rt),Rt.onerror=L(Df,xt,"TestLoadImage: error",!1,ct,Rt),Rt.onabort=L(Df,xt,"TestLoadImage: abort",!1,ct,Rt),Rt.ontimeout=L(Df,xt,"TestLoadImage: timeout",!1,ct,Rt),l.setTimeout(function(){Rt.ontimeout&&Rt.ontimeout()},1e4),Rt.src=z}else ct(!1)}(Rt.toString(),xt):function kee(z,ct){new Gm;const Rt=new AbortController,ie=setTimeout(()=>{Rt.abort(),Df(0,0,!1,ct)},1e4);fetch(z,{signal:Rt.signal}).then(be=>{clearTimeout(ie),Df(0,0,!!be.ok,ct)}).catch(()=>{clearTimeout(ie),Df(0,0,!1,ct)})}(Rt.toString(),xt)}else to(2);z.G=0,z.l&&z.l.sa(ct),Tst(z),mst(z)}function Tst(z){if(z.G=0,z.ka=[],z.l){const ct=qrt(z.h);(0!=ct.length||0!=z.i.length)&&(W(z.ka,ct),W(z.ka,z.i),z.h.i.length=0,j(z.i),z.i.length=0),z.l.ra()}}function Cst(z,ct,xt){var Rt=xt instanceof Wm?rd(xt):new Wm(xt);if(""!=Rt.g)ct&&(Rt.g=ct+"."+Rt.g),TD(Rt,Rt.s);else{var ie=l.location;Rt=ie.protocol,ct=ct?ct+"."+ie.hostname:ie.hostname,ie=+ie.port;var be=new Wm(null);Rt&&wD(be,Rt),ct&&(be.g=ct),ie&&TD(be,ie),xt&&(be.l=xt),Rt=be}return ct=z.ya,(xt=z.D)&&ct&&ss(Rt,xt,ct),ss(Rt,"VER",z.la),Rw(z,Rt),Rt}function Sst(z,ct,xt){if(ct&&!z.J)throw Error("Can't create secondary domain capable XhrIo object.");return(ct=new Ds(z.Ca&&!z.pa?new Aw({eb:xt}):z.pa)).Ha(z.J),ct}function Est(){}function MD(){}function jl(z,ct){ar.call(this),this.g=new pst(ct),this.l=z,this.h=ct&&ct.messageUrlParams||null,z=ct&&ct.messageHeaders||null,ct&&ct.clientProtocolHeaderRequired&&(z?z["X-Client-Protocol"]="webchannel":z={"X-Client-Protocol":"webchannel"}),this.g.o=z,z=ct&&ct.initMessageHeaders||null,ct&&ct.messageContentType&&(z?z["X-WebChannel-Content-Type"]=ct.messageContentType:z={"X-WebChannel-Content-Type":ct.messageContentType}),ct&&ct.va&&(z?z["X-WebChannel-Client-Profile"]=ct.va:z={"X-WebChannel-Client-Profile":ct.va}),this.g.S=z,(z=ct&&ct.Sb)&&!rt(z)&&(this.g.m=z),this.v=ct&&ct.supportsCrossDomainXhr||!1,this.u=ct&&ct.sendRawJson||!1,(ct=ct&&ct.httpSessionIdParam)&&!rt(ct)&&(this.g.D=ct,null!==(z=this.h)&&ct in z&&ct in(z=this.h)&&delete z[ct]),this.j=new Z0(this)}function _st(z){_f.call(this),z.__headers__&&(this.headers=z.__headers__,this.statusCode=z.__status__,delete z.__headers__,delete z.__status__);var ct=z.__sm__;if(ct){t:{for(const xt in ct){z=xt;break t}z=void 0}(this.i=z)&&(z=this.i,ct=null!==ct&&z in ct?ct[z]:void 0),this.data=ct}else this.data=z}function Ast(){Cw.call(this),this.status=1}function Z0(z){this.g=z}(e=Ds.prototype).Ha=function(z){this.J=z},e.ea=function(z,ct,xt,Rt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+z);ct=ct?ct.toUpperCase():"GET",this.D=z,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ce.g(),this.v=function Tw(z){return z.h||(z.h=z.i())}(this.o?this.o:ce),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(ct,String(z),!0),this.B=!1}catch(be){return void cst(this,be)}if(z=xt||"",xt=new Map(this.headers),Rt)if(Object.getPrototypeOf(Rt)===Object.prototype)for(var ie in Rt)xt.set(ie,Rt[ie]);else{if("function"!=typeof Rt.keys||"function"!=typeof Rt.get)throw Error("Unknown input type for opt_headers: "+String(Rt));for(const be of Rt.keys())xt.set(be,Rt.get(be))}Rt=Array.from(xt.keys()).find(be=>"content-type"==be.toLowerCase()),ie=l.FormData&&z instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Nee,ct,void 0))||Rt||ie||xt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,pi]of xt)this.g.setRequestHeader(be,pi);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dst(this),this.u=!0,this.g.send(z),this.u=!1}catch(be){cst(this,be)}},e.abort=function(z){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=z||7,Qn(this,"complete"),Qn(this,"abort"),ED(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ED(this,!0)),Ds.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?hst(this):this.bb())},e.bb=function(){hst(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<sd(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(z){if(this.g){var ct=this.g.responseText;return z&&0==ct.indexOf(z)&&(ct=ct.substring(z.length)),ed(ct)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=pst.prototype).la=8,e.G=1,e.connect=function(z,ct,xt,Rt){to(0),this.W=z,this.H=ct||{},xt&&void 0!==Rt&&(this.H.OSID=xt,this.H.OAID=Rt),this.F=this.X,this.I=Cst(this,null,this.W),AD(this)},e.Ga=function(z){if(this.s)if(this.s=null,1==this.G){if(!z){this.U=Math.floor(1e5*Math.random()),z=this.U++;const ie=new oe(this,this.j,z);let be=this.o;if(this.S&&(be?(be=ht(be),wt(be,this.S)):be=this.S),null!==this.m||this.O||(ie.H=be,be=null),this.P)t:{for(var ct=0,xt=0;xt<this.i.length;xt++){var Rt=this.i[xt];if(void 0===(Rt="__data__"in Rt.map&&"string"==typeof(Rt=Rt.map.__data__)?Rt.length:void 0))break;if(4096<(ct+=Rt)){ct=xt;break t}if(4096===ct||xt===this.i.length-1){ct=xt+1;break t}}ct=1e3}else ct=1e3;ct=vst(this,ie,ct),ss(xt=rd(this.I),"RID",z),ss(xt,"CVER",22),this.D&&ss(xt,"X-HTTP-Session-Id",this.D),Rw(this,xt),be&&(this.O?ct="headers="+encodeURIComponent(String(lst(be)))+"&"+ct:this.m&&D3(xt,this.m,be)),A3(this.h,ie),this.Ua&&ss(xt,"TYPE","init"),this.P?(ss(xt,"$req",ct),ss(xt,"SID","null"),ie.T=!0,ti(ie,xt,null)):ti(ie,xt,ct),this.G=2}}else 3==this.G&&(z?gst(this,z):0==this.i.length||Q0(this.h)||gst(this))},e.Fa=function(){if(this.u=null,xst(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var z=2*this.R;this.j.info("BP detection timer enabled: "+z),this.A=zm(O(this.ab,this),z)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,to(10),_D(this),xst(this))},e.Za=function(){null!=this.C&&(this.C=null,_D(this),I3(this),to(19))},e.fb=function(z){z?(this.j.info("Successfully pinged google.com"),to(2)):(this.j.info("Failed to ping google.com"),to(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Est.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},MD.prototype.g=function(z,ct){return new jl(z,ct)},U(jl,ar),jl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jl.prototype.close=function(){M3(this.g)},jl.prototype.o=function(z){var ct=this.g;if("string"==typeof z){var xt={};xt.__data__=z,z=xt}else this.u&&((xt={}).__data__=Tc(z),z=xt);ct.i.push(new Hm(ct.Ya++,z)),3==ct.G&&AD(ct)},jl.prototype.N=function(){this.g.l=null,delete this.j,M3(this.g),delete this.g,jl.aa.N.call(this)},U(_st,_f),U(Ast,Cw),U(Z0,Est),Z0.prototype.ua=function(){Qn(this.g,"a")},Z0.prototype.ta=function(z){Qn(this.g,new _st(z))},Z0.prototype.sa=function(z){Qn(this.g,new Ast)},Z0.prototype.ra=function(){Qn(this.g,"b")},MD.prototype.createWebChannel=MD.prototype.g,jl.prototype.send=jl.prototype.o,jl.prototype.open=jl.prototype.m,jl.prototype.close=jl.prototype.close,M$=Ah.createWebChannelTransport=function(){return new MD},D$=Ah.getStatEventTarget=function(){return Y0()},A$=Ah.Event=id,wF=Ah.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,jE=Ah.ErrorCode=Nt,Vt.COMPLETE="complete",_$=Ah.EventType=Vt,vD.EventType=Vm,Vm.OPEN="a",Vm.CLOSE="b",Vm.ERROR="c",Vm.MESSAGE="d",ar.prototype.listen=ar.prototype.K,wb=Ah.WebChannel=vD,E$=Ah.FetchXmlHttpFactory=Aw,Ds.prototype.listenOnce=Ds.prototype.L,Ds.prototype.getLastError=Ds.prototype.Ka,Ds.prototype.getLastErrorCode=Ds.prototype.Ba,Ds.prototype.getStatus=Ds.prototype.Z,Ds.prototype.getResponseJson=Ds.prototype.Oa,Ds.prototype.getResponseText=Ds.prototype.oa,Ds.prototype.send=Ds.prototype.ea,Ds.prototype.setWithCredentials=Ds.prototype.Ha,S$=Ah.XhrIo=Ds}).apply(typeof WE<"u"?WE:typeof self<"u"?self:typeof window<"u"?window:{});const I$="@firebase/firestore";class Ra{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Ra.UNAUTHENTICATED=new Ra(null),Ra.GOOGLE_CREDENTIALS=new Ra("google-credentials-uid"),Ra.FIRST_PARTY=new Ra("first-party-uid"),Ra.MOCK_USER=new Ra("mock-user");let kv="10.12.3";const Xd=new a$("@firebase/firestore");function Fv(){return Xd.logLevel}function Be(e,...i){if(Xd.logLevel<=Jn.DEBUG){const t=i.map(TF);Xd.debug(`Firestore (${kv}): ${e}`,...t)}}function Os(e,...i){if(Xd.logLevel<=Jn.ERROR){const t=i.map(TF);Xd.error(`Firestore (${kv}): ${e}`,...t)}}function Fl(e,...i){if(Xd.logLevel<=Jn.WARN){const t=i.map(TF);Xd.warn(`Firestore (${kv}): ${e}`,...t)}}function TF(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return e}}function Ti(e="Unexpected state"){const i=`FIRESTORE (${kv}) INTERNAL ASSERTION FAILED: `+e;throw Os(i),new Error(i)}function Fi(e,i){e||Ti()}function di(e,i){return e}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Pv{constructor(i,t){super(i,t),this.code=i,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ya{constructor(){this.promise=new Promise((i,t)=>{this.resolve=i,this.reject=t})}}class R${constructor(i,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class jFt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,t){i.enqueueRetryable(()=>t(Ra.UNAUTHENTICATED))}shutdown(){}}class XFt{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,t){this.changeListener=t,i.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YFt{constructor(i){this.t=i,this.currentUser=Ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,t){var n=this;let r=this.i;const s=E=>this.i!==r?(r=this.i,t(E)):Promise.resolve();let o=new ya;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ya,i.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const E=o;i.enqueueRetryable(we(function*(){yield E.promise,yield s(n.currentUser)}))},w=E=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(E=>w(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?w(E):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ya)}},0),l()}getToken(){const i=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==i?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Fi("string"==typeof n.accessToken),new R$(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Fi(null===i||"string"==typeof i),new Ra(i)}}class $Ft{constructor(i,t,n){this.l=i,this.h=t,this.P=n,this.type="FirstParty",this.user=Ra.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const i=this.T();return i&&this.I.set("Authorization",i),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class QFt{constructor(i,t,n){this.l=i,this.h=t,this.P=n}getToken(){return Promise.resolve(new $Ft(this.l,this.h,this.P))}start(i,t){i.enqueueRetryable(()=>t(Ra.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P${constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KFt{constructor(i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(i,t){const n=s=>{null!=s.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{i.enqueueRetryable(()=>n(s))};const r=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(t=>t?(Fi("string"==typeof t.token),this.R=t.token,new P$(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ZFt(e){const i=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(e);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(t);else for(let n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}class k${static newId(){const t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=ZFt(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return n}}function cn(e,i){return e<i?-1:e>i?1:0}function Ov(e,i,t){return e.length===i.length&&e.every((n,r)=>t(n,i[r]))}class us{constructor(i,t){if(this.seconds=i,this.nanoseconds=t,t<0)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(i<-62135596800)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return us.fromMillis(Date.now())}static fromDate(i){return us.fromMillis(i.getTime())}static fromMillis(i){const t=Math.floor(i/1e3),n=Math.floor(1e6*(i-1e3*t));return new us(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?cn(this.nanoseconds,i.nanoseconds):cn(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Oi{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Oi(i)}static min(){return new Oi(new us(0,0))}static max(){return new Oi(new us(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tb{constructor(i,t,n){void 0===t?t=0:t>i.length&&Ti(),void 0===n?n=i.length-t:n>i.length-t&&Ti(),this.segments=i,this.offset=t,this.len=n}get length(){return this.len}isEqual(i){return 0===Tb.comparator(this,i)}child(i){const t=this.segments.slice(this.offset,this.limit());return i instanceof Tb?i.forEach(n=>{t.push(n)}):t.push(i),this.construct(t)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==i.get(t))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==i.get(t))return!1;return!0}forEach(i){for(let t=this.offset,n=this.limit();t<n;t++)i(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,t){const n=Math.min(i.length,t.length);for(let r=0;r<n;r++){const s=i.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return i.length<t.length?-1:i.length>t.length?1:0}}class Wn extends Tb{construct(i,t,n){return new Wn(i,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...i){const t=[];for(const n of i){if(n.indexOf("//")>=0)throw new Ve(ge.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(r=>r.length>0))}return new Wn(t)}static emptyPath(){return new Wn([])}}const JFt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hs extends Tb{construct(i,t,n){return new hs(i,t,n)}static isValidIdentifier(i){return JFt.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hs.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hs(["__name__"])}static fromServerFormat(i){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Ve(ge.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<i.length;){const l=i[r];if("\\"===l){if(r+1===i.length)throw new Ve(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const w=i[r+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ve(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);n+=w,r+=2}else"`"===l?(o=!o,r++):"."!==l||o?(n+=l,r++):(s(),r++)}if(s(),o)throw new Ve(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new hs(t)}static emptyPath(){return new hs([])}}class gi{constructor(i){this.path=i}static fromPath(i){return new gi(Wn.fromString(i))}static fromName(i){return new gi(Wn.fromString(i).popFirst(5))}static empty(){return new gi(Wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Wn.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,t){return Wn.comparator(i.path,t.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new gi(new Wn(i.slice()))}}class Ol{constructor(i,t,n){this.readTime=i,this.documentKey=t,this.largestBatchId=n}static min(){return new Ol(Oi.min(),gi.empty(),-1)}static max(){return new Ol(Oi.max(),gi.empty(),-1)}}function SF(e,i){let t=e.readTime.compareTo(i.readTime);return 0!==t?t:(t=gi.comparator(e.documentKey,i.documentKey),0!==t?t:cn(e.largestBatchId,i.largestBatchId))}const N$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}function Yd(e){return EF.apply(this,arguments)}function EF(){return(EF=we(function*(e){if(e.code!==ge.FAILED_PRECONDITION||e.message!==N$)throw e;Be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class se{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(i){return this.next(void 0,i)}next(i,t){return this.callbackAttached&&Ti(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(i,this.result):new se((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(i,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,r)}})}toPromise(){return new Promise((i,t)=>{this.next(i,t)})}wrapUserFunction(i){try{const t=i();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(i,t){return i?this.wrapUserFunction(()=>i(t)):se.resolve(t)}wrapFailure(i,t){return i?this.wrapUserFunction(()=>i(t)):se.reject(t)}static resolve(i){return new se((t,n)=>{t(i)})}static reject(i){return new se((t,n)=>{n(i)})}static waitFor(i){return new se((t,n)=>{let r=0,s=0,o=!1;i.forEach(l=>{++r,l.next(()=>{++s,o&&s===r&&t()},w=>n(w))}),o=!0,s===r&&t()})}static or(i){let t=se.resolve(!1);for(const n of i)t=t.next(r=>r?se.resolve(r):n());return t}static forEach(i,t){const n=[];return i.forEach((r,s)=>{n.push(t.call(this,r,s))}),this.waitFor(n)}static mapArray(i,t){return new se((n,r)=>{const s=i.length,o=new Array(s);let l=0;for(let w=0;w<s;w++){const E=w;t(i[E]).next(D=>{o[E]=D,++l,l===s&&n(o)},D=>r(D))}})}static doWhile(i,t){return new se((n,r)=>{const s=()=>{!0===i()?t().next(()=>{s()},r):n()};s()})}}function $d(e){return"IndexedDbTransactionError"===e.name}let Ll=(()=>{class e{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return e.oe=-1,e})();function Sb(e){return null==e}function Eb(e){return 0===e&&1/e==-1/0}function Q$(e){let i=0;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&i++;return i}function Qd(e,i){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&i(t,e[t])}function Z$(e){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}class Yr{constructor(i,t){this.comparator=i,this.root=t||$a.EMPTY}insert(i,t){return new Yr(this.comparator,this.root.insert(i,t,this.comparator).copy(null,null,$a.BLACK,null,null))}remove(i){return new Yr(this.comparator,this.root.remove(i,this.comparator).copy(null,null,$a.BLACK,null,null))}get(i){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(i,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(i){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(i,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((t,n)=>(i(t,n),!1))}toString(){const i=[];return this.inorderTraversal((t,n)=>(i.push(`${t}:${n}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new $E(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new $E(this.root,i,this.comparator,!1)}getReverseIterator(){return new $E(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new $E(this.root,i,this.comparator,!0)}}class $E{constructor(i,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!i.isEmpty();)if(s=t?n(i.key,t):1,t&&r&&(s*=-1),s<0)i=this.isReverse?i.left:i.right;else{if(0===s){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const t={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class $a{constructor(i,t,n,r,s){this.key=i,this.value=t,this.color=n??$a.RED,this.left=r??$a.EMPTY,this.right=s??$a.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,t,n,r,s){return new $a(i??this.key,t??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,t,n){let r=this;const s=n(i,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(i,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(i,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $a.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,t){let n,r=this;if(t(i,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(i,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(i,r.key)){if(r.right.isEmpty())return $a.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(i,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,$a.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,$a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,t)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ti();const i=this.left.check();if(i!==this.right.check())throw Ti();return i+(this.isRed()?0:1)}}$a.EMPTY=null,$a.RED=!0,$a.BLACK=!1,$a.EMPTY=new class{constructor(){this.size=0}get key(){throw Ti()}get value(){throw Ti()}get color(){throw Ti()}get left(){throw Ti()}get right(){throw Ti()}copy(i,t,n,r,s){return this}insert(i,t,n){return new $a(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(i){this.comparator=i,this.data=new Yr(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((t,n)=>(i(t),!1))}forEachInRange(i,t){const n=this.data.getIteratorFrom(i[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,i[1])>=0)return;t(r.key)}}forEachWhile(i,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!i(n.getNext().key))return}firstAfterOrEqual(i){const t=this.data.getIteratorFrom(i);return t.hasNext()?t.getNext().key:null}getIterator(){return new J$(this.data.getIterator())}getIteratorFrom(i){return new J$(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let t=this;return t.size<i.size&&(t=i,i=this),i.forEach(n=>{t=t.add(n)}),t}isEqual(i){if(!(i instanceof Pr)||this.size!==i.size)return!1;const t=this.data.getIterator(),n=i.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const i=[];return this.forEach(t=>{i.push(t)}),i}toString(){const i=[];return this.forEach(t=>i.push(t)),"SortedSet("+i.toString()+")"}copy(i){const t=new Pr(this.comparator);return t.data=i,t}}class J${constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cl{constructor(i){this.fields=i,i.sort(hs.comparator)}static empty(){return new cl([])}unionWith(i){let t=new Pr(hs.comparator);for(const n of this.fields)t=t.add(n);for(const n of i)t=t.add(n);return new cl(t.toArray())}covers(i){for(const t of this.fields)if(t.isPrefixOf(i))return!0;return!1}isEqual(i){return Ov(this.fields,i.fields,(t,n)=>t.isEqual(n))}}class q$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xa{constructor(i){this.binaryString=i}static fromBase64String(i){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new q$("Invalid base64 string: "+s):s}}(i);return new xa(t)}static fromUint8Array(i){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(i);return new xa(t)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return cn(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}xa.EMPTY_BYTE_STRING=new xa("");const COt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dh(e){if(Fi(!!e),"string"==typeof e){let i=0;const t=COt.exec(e);if(Fi(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),i=Number(r)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:i}}return{seconds:Es(e.seconds),nanos:Es(e.nanos)}}function Es(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Mh(e){return"string"==typeof e?xa.fromBase64String(e):xa.fromUint8Array(e)}function QE(e){var i,t;return"server_timestamp"===(null===(t=((null===(i=e?.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function KE(e){const i=e.mapValue.fields.__previous_value__;return QE(i)?KE(i):i}function _b(e){const i=Dh(e.mapValue.fields.__local_write_time__.timestampValue);return new us(i.seconds,i.nanos)}class SOt{constructor(i,t,n,r,s,o,l,w,E){this.databaseId=i,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=w,this.useFetchStreams=E}}class Np{constructor(i,t){this.projectId=i,this.database=t||"(default)"}static empty(){return new Np("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof Np&&i.projectId===this.projectId&&i.database===this.database}}const Kd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?QE(e)?4:nQ(e)?9007199254740991:10:Ti()}function Eu(e,i){if(e===i)return!0;const t=Zd(e);if(t!==Zd(i))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===i.booleanValue;case 4:return _b(e).isEqual(_b(i));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Dh(r.timestampValue),l=Dh(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(e,i);case 5:return e.stringValue===i.stringValue;case 6:return s=i,Mh(e.bytesValue).isEqual(Mh(s.bytesValue));case 7:return e.referenceValue===i.referenceValue;case 8:return function(r,s){return Es(r.geoPointValue.latitude)===Es(s.geoPointValue.latitude)&&Es(r.geoPointValue.longitude)===Es(s.geoPointValue.longitude)}(e,i);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Es(r.integerValue)===Es(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Es(r.doubleValue),l=Es(s.doubleValue);return o===l?Eb(o)===Eb(l):isNaN(o)&&isNaN(l)}return!1}(e,i);case 9:return Ov(e.arrayValue.values||[],i.arrayValue.values||[],Eu);case 10:return function(r,s){const o=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Q$(o)!==Q$(l))return!1;for(const w in o)if(o.hasOwnProperty(w)&&(void 0===l[w]||!Eu(o[w],l[w])))return!1;return!0}(e,i);default:return Ti()}var s}function Ab(e,i){return void 0!==(e.values||[]).find(t=>Eu(t,i))}function Jd(e,i){if(e===i)return 0;const t=Zd(e),n=Zd(i);if(t!==n)return cn(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return cn(e.booleanValue,i.booleanValue);case 2:return function(s,o){const l=Es(s.integerValue||s.doubleValue),w=Es(o.integerValue||o.doubleValue);return l<w?-1:l>w?1:l===w?0:isNaN(l)?isNaN(w)?0:-1:1}(e,i);case 3:return tQ(e.timestampValue,i.timestampValue);case 4:return tQ(_b(e),_b(i));case 5:return cn(e.stringValue,i.stringValue);case 6:return function(s,o){const l=Mh(s),w=Mh(o);return l.compareTo(w)}(e.bytesValue,i.bytesValue);case 7:return function(s,o){const l=s.split("/"),w=o.split("/");for(let E=0;E<l.length&&E<w.length;E++){const D=cn(l[E],w[E]);if(0!==D)return D}return cn(l.length,w.length)}(e.referenceValue,i.referenceValue);case 8:return function(s,o){const l=cn(Es(s.latitude),Es(o.latitude));return 0!==l?l:cn(Es(s.longitude),Es(o.longitude))}(e.geoPointValue,i.geoPointValue);case 9:return function(s,o){const l=s.values||[],w=o.values||[];for(let E=0;E<l.length&&E<w.length;++E){const D=Jd(l[E],w[E]);if(D)return D}return cn(l.length,w.length)}(e.arrayValue,i.arrayValue);case 10:return function(s,o){if(s===Kd.mapValue&&o===Kd.mapValue)return 0;if(s===Kd.mapValue)return 1;if(o===Kd.mapValue)return-1;const l=s.fields||{},w=Object.keys(l),E=o.fields||{},D=Object.keys(E);w.sort(),D.sort();for(let k=0;k<w.length&&k<D.length;++k){const O=cn(w[k],D[k]);if(0!==O)return O;const L=Jd(l[w[k]],E[D[k]]);if(0!==L)return L}return cn(w.length,D.length)}(e.mapValue,i.mapValue);default:throw Ti()}}function tQ(e,i){if("string"==typeof e&&"string"==typeof i&&e.length===i.length)return cn(e,i);const t=Dh(e),n=Dh(i),r=cn(t.seconds,n.seconds);return 0!==r?r:cn(t.nanos,n.nanos)}function Vv(e){return DF(e)}function DF(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){const n=Dh(t);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mh(e.bytesValue).toBase64():"referenceValue"in e?gi.fromName(e.referenceValue).toString():"geoPointValue"in e?function(t){return`geo(${t.latitude},${t.longitude})`}(e.geoPointValue):"arrayValue"in e?function(t){let n="[",r=!0;for(const s of t.values||[])r?r=!1:n+=",",n+=DF(s);return n+"]"}(e.arrayValue):"mapValue"in e?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${DF(t.fields[o])}`;return r+"}"}(e.mapValue):Ti()}function Bp(e,i){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${i.path.canonicalString()}`}}function MF(e){return!!e&&"integerValue"in e}function Db(e){return!!e&&"arrayValue"in e}function eQ(e){return!!e&&"nullValue"in e}function iQ(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qE(e){return!!e&&"mapValue"in e}function Mb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const i={mapValue:{fields:{}}};return Qd(e.mapValue.fields,(t,n)=>i.mapValue.fields[t]=Mb(n)),i}if(e.arrayValue){const i={arrayValue:{values:[]}};for(let t=0;t<(e.arrayValue.values||[]).length;++t)i.arrayValue.values[t]=Mb(e.arrayValue.values[t]);return i}return Object.assign({},e)}function nQ(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Qa{constructor(i){this.value=i}static empty(){return new Qa({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let t=this.value;for(let n=0;n<i.length-1;++n)if(t=(t.mapValue.fields||{})[i.get(n)],!qE(t))return null;return t=(t.mapValue.fields||{})[i.lastSegment()],t||null}}set(i,t){this.getFieldsMap(i.popLast())[i.lastSegment()]=Mb(t)}setAll(i){let t=hs.emptyPath(),n={},r=[];i.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const w=this.getFieldsMap(t);this.applyChanges(w,n,r),n={},r=[],t=l.popLast()}o?n[l.lastSegment()]=Mb(o):r.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(i){const t=this.field(i.popLast());qE(t)&&t.mapValue.fields&&delete t.mapValue.fields[i.lastSegment()]}isEqual(i){return Eu(this.value,i.value)}getFieldsMap(i){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<i.length;++n){let r=t.mapValue.fields[i.get(n)];qE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[i.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(i,t,n){Qd(t,(r,s)=>i[r]=s);for(const r of n)delete i[r]}clone(){return new Qa(Mb(this.value))}}function aQ(e){const i=[];return Qd(e.fields,(t,n)=>{const r=new hs([t]);if(qE(n)){const s=aQ(n.mapValue).fields;if(0===s.length)i.push(r);else for(const o of s)i.push(r.child(o))}else i.push(r)}),new cl(i)}class ts{constructor(i,t,n,r,s,o,l){this.key=i,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(i){return new ts(i,0,Oi.min(),Oi.min(),Oi.min(),Qa.empty(),0)}static newFoundDocument(i,t,n,r){return new ts(i,1,t,Oi.min(),n,r,0)}static newNoDocument(i,t){return new ts(i,2,t,Oi.min(),Oi.min(),Qa.empty(),0)}static newUnknownDocument(i,t){return new ts(i,3,t,Oi.min(),Oi.min(),Qa.empty(),2)}convertToFoundDocument(i,t){return!this.createTime.isEqual(Oi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=i),this.version=i,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=Qa.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=Qa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oi.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof ts&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new ts(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qd{constructor(i,t){this.position=i,this.inclusive=t}}function oQ(e,i,t){let n=0;for(let r=0;r<e.position.length;r++){const s=i[r],o=e.position[r];if(n=s.field.isKeyField()?gi.comparator(gi.fromName(o.referenceValue),t.key):Jd(o,t.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function lQ(e,i){if(null===e)return null===i;if(null===i||e.inclusive!==i.inclusive||e.position.length!==i.position.length)return!1;for(let t=0;t<e.position.length;t++)if(!Eu(e.position[t],i.position[t]))return!1;return!0}class Ib{constructor(i,t="asc"){this.field=i,this.dir=t}}function AOt(e,i){return e.dir===i.dir&&e.field.isEqual(i.field)}class cQ{}class jn extends cQ{constructor(i,t,n){super(),this.field=i,this.op=t,this.value=n}static create(i,t,n){return i.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(i,t,n):new DOt(i,t,n):"array-contains"===t?new ROt(i,n):"in"===t?new mQ(i,n):"not-in"===t?new POt(i,n):"array-contains-any"===t?new kOt(i,n):new jn(i,t,n)}static createKeyFieldInFilter(i,t,n){return"in"===t?new MOt(i,n):new IOt(i,n)}matches(i){const t=i.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Jd(t,this.value)):null!==t&&Zd(this.value)===Zd(t)&&this.matchesComparison(Jd(t,this.value))}matchesComparison(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Ti()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends cQ{constructor(i,t){super(),this.filters=i,this.op=t,this.ae=null}static create(i,t){return new Er(i,t)}matches(i){return Uv(this)?void 0===this.filters.find(t=>!t.matches(i)):void 0!==this.filters.find(t=>t.matches(i))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((i,t)=>i.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Uv(e){return"and"===e.op}function RF(e){return function uQ(e){for(const i of e.filters)if(i instanceof Er)return!1;return!0}(e)&&Uv(e)}function PF(e){if(e instanceof jn)return e.field.canonicalString()+e.op.toString()+Vv(e.value);if(RF(e))return e.filters.map(i=>PF(i)).join(",");{const i=e.filters.map(t=>PF(t)).join(",");return`${e.op}(${i})`}}function hQ(e,i){return e instanceof jn?(n=e,(r=i)instanceof jn&&n.op===r.op&&n.field.isEqual(r.field)&&Eu(n.value,r.value)):e instanceof Er?function(n,r){return r instanceof Er&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((s,o,l)=>s&&hQ(o,r.filters[l]),!0)}(e,i):void Ti();var n,r}function fQ(e){return e instanceof jn?`${(t=e).field.canonicalString()} ${t.op} ${Vv(t.value)}`:e instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(fQ).join(" ,")+"}"}(e):"Filter";var t}class DOt extends jn{constructor(i,t,n){super(i,t,n),this.key=gi.fromName(n.referenceValue)}matches(i){const t=gi.comparator(i.key,this.key);return this.matchesComparison(t)}}class MOt extends jn{constructor(i,t){super(i,"in",t),this.keys=pQ(0,t)}matches(i){return this.keys.some(t=>t.isEqual(i.key))}}class IOt extends jn{constructor(i,t){super(i,"not-in",t),this.keys=pQ(0,t)}matches(i){return!this.keys.some(t=>t.isEqual(i.key))}}function pQ(e,i){var t;return((null===(t=i.arrayValue)||void 0===t?void 0:t.values)||[]).map(n=>gi.fromName(n.referenceValue))}class ROt extends jn{constructor(i,t){super(i,"array-contains",t)}matches(i){const t=i.data.field(this.field);return Db(t)&&Ab(t.arrayValue,this.value)}}class mQ extends jn{constructor(i,t){super(i,"in",t)}matches(i){const t=i.data.field(this.field);return null!==t&&Ab(this.value.arrayValue,t)}}class POt extends jn{constructor(i,t){super(i,"not-in",t)}matches(i){if(Ab(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=i.data.field(this.field);return null!==t&&!Ab(this.value.arrayValue,t)}}class kOt extends jn{constructor(i,t){super(i,"array-contains-any",t)}matches(i){const t=i.data.field(this.field);return!(!Db(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Ab(this.value.arrayValue,n))}}class FOt{constructor(i,t=null,n=[],r=[],s=null,o=null,l=null){this.path=i,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function kF(e,i=null,t=[],n=[],r=null,s=null,o=null){return new FOt(e,i,t,n,r,s,o)}function Vp(e){const i=di(e);if(null===i.ue){let t=i.path.canonicalString();null!==i.collectionGroup&&(t+="|cg:"+i.collectionGroup),t+="|f:",t+=i.filters.map(n=>PF(n)).join(","),t+="|ob:",t+=i.orderBy.map(n=>{return(s=n).field.canonicalString()+s.dir;var s}).join(","),Sb(i.limit)||(t+="|l:",t+=i.limit),i.startAt&&(t+="|lb:",t+=i.startAt.inclusive?"b:":"a:",t+=i.startAt.position.map(n=>Vv(n)).join(",")),i.endAt&&(t+="|ub:",t+=i.endAt.inclusive?"a:":"b:",t+=i.endAt.position.map(n=>Vv(n)).join(",")),i.ue=t}return i.ue}function Rb(e,i){if(e.limit!==i.limit||e.orderBy.length!==i.orderBy.length)return!1;for(let t=0;t<e.orderBy.length;t++)if(!AOt(e.orderBy[t],i.orderBy[t]))return!1;if(e.filters.length!==i.filters.length)return!1;for(let t=0;t<e.filters.length;t++)if(!hQ(e.filters[t],i.filters[t]))return!1;return e.collectionGroup===i.collectionGroup&&!!e.path.isEqual(i.path)&&!!lQ(e.startAt,i.startAt)&&lQ(e.endAt,i.endAt)}function t_(e){return gi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ih{constructor(i,t=null,n=[],r=[],s=null,o="F",l=null,w=null){this.path=i,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=w,this.ce=null,this.le=null,this.he=null}}function zv(e){return new Ih(e)}function xQ(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function FF(e){return null!==e.collectionGroup}function Gv(e){const i=di(e);if(null===i.ce){i.ce=[];const t=new Set;for(const s of i.explicitOrderBy)i.ce.push(s),t.add(s.field.canonicalString());const n=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Pr(hs.comparator);return o.filters.forEach(w=>{w.getFlattenedFilters().forEach(E=>{E.isInequality()&&(l=l.add(E.field))})}),l})(i).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||i.ce.push(new Ib(s,n))}),t.has(hs.keyField().canonicalString())||i.ce.push(new Ib(hs.keyField(),n))}return i.ce}function po(e){const i=di(e);return i.le||(i.le=function wQ(e,i){if("F"===e.limitType)return kF(e.path,e.collectionGroup,i,e.filters,e.limit,e.startAt,e.endAt);{i=i.map(r=>new Ib(r.field,"desc"===r.dir?"asc":"desc"));const t=e.endAt?new qd(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new qd(e.startAt.position,e.startAt.inclusive):null;return kF(e.path,e.collectionGroup,i,e.filters,e.limit,t,n)}}(i,Gv(e))),i.le}function OF(e,i){const t=e.filters.concat([i]);return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)}function i_(e,i,t){return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),i,t,e.startAt,e.endAt)}function Pb(e,i){return Rb(po(e),po(i))&&e.limitType===i.limitType}function TQ(e){return`${Vp(po(e))}|lt:${e.limitType}`}function Hv(e){return`Query(target=${function(t){let n=t.path.canonicalString();return null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>fQ(r)).join(", ")}]`),Sb(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Vv(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Vv(r)).join(",")),`Target(${n})`}(po(e))}; limitType=${e.limitType})`}function kb(e,i){return i.isFoundDocument()&&function(n,r){const s=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):gi.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,i)&&function(n,r){for(const s of Gv(n))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(e,i)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(e,i)&&(r=i,!((n=e).startAt&&!function(o,l,w){const E=oQ(o,l,w);return o.inclusive?E<=0:E<0}(n.startAt,Gv(n),r)||n.endAt&&!function(o,l,w){const E=oQ(o,l,w);return o.inclusive?E>=0:E>0}(n.endAt,Gv(n),r)));var n,r}function SQ(e){return(i,t)=>{let n=!1;for(const r of Gv(e)){const s=OOt(r,i,t);if(0!==s)return s;n=n||r.field.isKeyField()}return 0}}function OOt(e,i,t){const n=e.field.isKeyField()?gi.comparator(i.key,t.key):function(s,o,l){const w=o.data.field(s),E=l.data.field(s);return null!==w&&null!==E?Jd(w,E):Ti()}(e.field,i,t);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Ti()}}class Rh{constructor(i,t){this.mapKeyFn=i,this.equalsFn=t,this.inner={},this.innerSize=0}get(i){const t=this.mapKeyFn(i),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,i))return s}has(i){return void 0!==this.get(i)}set(i,t){const n=this.mapKeyFn(i),r=this.inner[n];if(void 0===r)return this.inner[n]=[[i,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],i))return void(r[s]=[i,t]);r.push([i,t]),this.innerSize++}delete(i){const t=this.mapKeyFn(i),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],i))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(i){Qd(this.inner,(t,n)=>{for(const[r,s]of n)i(r,s)})}isEmpty(){return Z$(this.inner)}size(){return this.innerSize}}const LOt=new Yr(gi.comparator);function ul(){return LOt}const EQ=new Yr(gi.comparator);function Fb(...e){let i=EQ;for(const t of e)i=i.insert(t.key,t);return i}function _Q(e){let i=EQ;return e.forEach((t,n)=>i=i.insert(t,n.overlayedDocument)),i}function _u(){return Ob()}function AQ(){return Ob()}function Ob(){return new Rh(e=>e.toString(),(e,i)=>e.isEqual(i))}const NOt=new Yr(gi.comparator),BOt=new Pr(gi.comparator);function Cn(...e){let i=BOt;for(const t of e)i=i.add(t);return i}const VOt=new Pr(cn);function DQ(e,i){if(e.useProto3Json){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eb(i)?"-0":i}}function MQ(e){return{integerValue:""+e}}function IQ(e,i){return function z$(e){return"number"==typeof e&&Number.isInteger(e)&&!Eb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(i)?MQ(i):DQ(e,i)}class n_{constructor(){this._=void 0}}function UOt(e,i,t){return e instanceof Wv?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&QE(s)&&(s=KE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,i):e instanceof Up?PQ(e,i):e instanceof zp?kQ(e,i):function(r,s){const o=RQ(r,s),l=FQ(o)+FQ(r.Pe);return MF(o)&&MF(r.Pe)?MQ(l):DQ(r.serializer,l)}(e,i)}function zOt(e,i,t){return e instanceof Up?PQ(e,i):e instanceof zp?kQ(e,i):t}function RQ(e,i){return e instanceof jv?MF(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var n,s}class Wv extends n_{}class Up extends n_{constructor(i){super(),this.elements=i}}function PQ(e,i){const t=OQ(i);for(const n of e.elements)t.some(r=>Eu(r,n))||t.push(n);return{arrayValue:{values:t}}}class zp extends n_{constructor(i){super(),this.elements=i}}function kQ(e,i){let t=OQ(i);for(const n of e.elements)t=t.filter(r=>!Eu(r,n));return{arrayValue:{values:t}}}class jv extends n_{constructor(i,t){super(),this.serializer=i,this.Pe=t}}function FQ(e){return Es(e.integerValue||e.doubleValue)}function OQ(e){return Db(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class HOt{constructor(i,t){this.version=i,this.transformResults=t}}class ds{constructor(i,t){this.updateTime=i,this.exists=t}static none(){return new ds}static exists(i){return new ds(void 0,i)}static updateTime(i){return new ds(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function r_(e,i){return void 0!==e.updateTime?i.isFoundDocument()&&i.version.isEqual(e.updateTime):void 0===e.exists||e.exists===i.isFoundDocument()}class s_{}function LQ(e,i){if(!e.hasLocalMutations||i&&0===i.fields.length)return null;if(null===i)return e.isNoDocument()?new Yv(e.key,ds.none()):new Xv(e.key,e.data,ds.none());{const t=e.data,n=Qa.empty();let r=new Pr(hs.comparator);for(let s of i.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?n.delete(s):n.set(s,o),r=r.add(s)}return new Ph(e.key,n,new cl(r.toArray()),ds.none())}}function WOt(e,i,t){e instanceof Xv?function(r,s,o){const l=r.value.clone(),w=VQ(r.fieldTransforms,s,o.transformResults);l.setAll(w),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,i,t):e instanceof Ph?function(r,s,o){if(!r_(r.precondition,s))return void s.convertToUnknownDocument(o.version);const l=VQ(r.fieldTransforms,s,o.transformResults),w=s.data;w.setAll(BQ(r)),w.setAll(l),s.convertToFoundDocument(o.version,w).setHasCommittedMutations()}(e,i,t):i.convertToNoDocument(t.version).setHasCommittedMutations()}function Nb(e,i,t,n){return e instanceof Xv?function(s,o,l,w){if(!r_(s.precondition,o))return l;const E=s.value.clone(),D=UQ(s.fieldTransforms,w,o);return E.setAll(D),o.convertToFoundDocument(o.version,E).setHasLocalMutations(),null}(e,i,t,n):e instanceof Ph?function(s,o,l,w){if(!r_(s.precondition,o))return l;const E=UQ(s.fieldTransforms,w,o),D=o.data;return D.setAll(BQ(s)),D.setAll(E),o.convertToFoundDocument(o.version,D).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(k=>k.field))}(e,i,t,n):(l=t,r_(e.precondition,o=i)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function jOt(e,i){let t=null;for(const n of e.fieldTransforms){const r=i.data.field(n.field),s=RQ(n.transform,r||null);null!=s&&(null===t&&(t=Qa.empty()),t.set(n.field,s))}return t||null}function NQ(e,i){return e.type===i.type&&!!e.key.isEqual(i.key)&&!!e.precondition.isEqual(i.precondition)&&(r=i.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&Ov(n,r,(s,o)=>function GOt(e,i){return e.field.isEqual(i.field)&&(r=i.transform,(n=e.transform)instanceof Up&&r instanceof Up||n instanceof zp&&r instanceof zp?Ov(n.elements,r.elements,Eu):n instanceof jv&&r instanceof jv?Eu(n.Pe,r.Pe):n instanceof Wv&&r instanceof Wv);var n,r}(s,o))))&&(0===e.type?e.value.isEqual(i.value):1!==e.type||e.data.isEqual(i.data)&&e.fieldMask.isEqual(i.fieldMask));var n,r}class Xv extends s_{constructor(i,t,n,r=[]){super(),this.key=i,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ph extends s_{constructor(i,t,n,r,s=[]){super(),this.key=i,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BQ(e){const i=new Map;return e.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=e.data.field(t);i.set(t,n)}}),i}function VQ(e,i,t){const n=new Map;Fi(e.length===t.length);for(let r=0;r<t.length;r++){const s=e[r],o=s.transform,l=i.data.field(s.field);n.set(s.field,zOt(o,l,t[r]))}return n}function UQ(e,i,t){const n=new Map;for(const r of e){const s=r.transform,o=t.data.field(r.field);n.set(r.field,UOt(s,o,i))}return n}class Yv extends s_{constructor(i,t){super(),this.key=i,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NF extends s_{constructor(i,t){super(),this.key=i,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BF{constructor(i,t,n,r){this.batchId=i,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(i,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(i.key)&&WOt(s,i,n[r])}}applyToLocalView(i,t){for(const n of this.baseMutations)n.key.isEqual(i.key)&&(t=Nb(n,i,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(i.key)&&(t=Nb(n,i,t,this.localWriteTime));return t}applyToLocalDocumentSet(i,t){const n=AQ();return this.mutations.forEach(r=>{const s=i.get(r.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(r.key)?null:l;const w=LQ(o,l);null!==w&&n.set(r.key,w),o.isValidDocument()||o.convertToNoDocument(Oi.min())}),n}keys(){return this.mutations.reduce((i,t)=>i.add(t.key),Cn())}isEqual(i){return this.batchId===i.batchId&&Ov(this.mutations,i.mutations,(t,n)=>NQ(t,n))&&Ov(this.baseMutations,i.baseMutations,(t,n)=>NQ(t,n))}}class VF{constructor(i,t,n,r){this.batch=i,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(i,t,n){Fi(i.mutations.length===n.length);let r=function(){return NOt}();const s=i.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new VF(i,t,n,r)}}class UF{constructor(i,t){this.largestBatchId=i,this.mutation=t}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class XOt{constructor(i,t){this.count=i,this.unchangedNames=t}}var ea,qn;function HQ(e){if(void 0===e)return Os("GRPC error has no .code"),ge.UNKNOWN;switch(e){case ea.OK:return ge.OK;case ea.CANCELLED:return ge.CANCELLED;case ea.UNKNOWN:return ge.UNKNOWN;case ea.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case ea.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case ea.INTERNAL:return ge.INTERNAL;case ea.UNAVAILABLE:return ge.UNAVAILABLE;case ea.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case ea.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case ea.NOT_FOUND:return ge.NOT_FOUND;case ea.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case ea.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case ea.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case ea.ABORTED:return ge.ABORTED;case ea.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case ea.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case ea.DATA_LOSS:return ge.DATA_LOSS;default:return Ti()}}(qn=ea||(ea={}))[qn.OK=0]="OK",qn[qn.CANCELLED=1]="CANCELLED",qn[qn.UNKNOWN=2]="UNKNOWN",qn[qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qn[qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qn[qn.NOT_FOUND=5]="NOT_FOUND",qn[qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",qn[qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",qn[qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",qn[qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qn[qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qn[qn.ABORTED=10]="ABORTED",qn[qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",qn[qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",qn[qn.INTERNAL=13]="INTERNAL",qn[qn.UNAVAILABLE=14]="UNAVAILABLE",qn[qn.DATA_LOSS=15]="DATA_LOSS";const YOt=new kp([4294967295,4294967295],0);function jQ(e){const i=function WQ(){return new TextEncoder}().encode(e),t=new C$;return t.update(i),new Uint8Array(t.digest())}function XQ(e){const i=new DataView(e.buffer),t=i.getUint32(0,!0),n=i.getUint32(4,!0),r=i.getUint32(8,!0),s=i.getUint32(12,!0);return[new kp([t,n],0),new kp([r,s],0)]}class zF{constructor(i,t,n){if(this.bitmap=i,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Bb(`Invalid padding: ${t}`);if(n<0)throw new Bb(`Invalid hash count: ${n}`);if(i.length>0&&0===this.hashCount)throw new Bb(`Invalid hash count: ${n}`);if(0===i.length&&0!==t)throw new Bb(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*i.length-t,this.Te=kp.fromNumber(this.Ie)}Ee(i,t,n){let r=i.add(t.multiply(kp.fromNumber(n)));return 1===r.compare(YOt)&&(r=new kp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(i){return!!(this.bitmap[Math.floor(i/8)]&1<<i%8)}mightContain(i){if(0===this.Ie)return!1;const t=jQ(i),[n,r]=XQ(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);if(!this.de(o))return!1}return!0}static create(i,t,n){const r=i%8==0?0:8-i%8,s=new Uint8Array(Math.ceil(i/8)),o=new zF(s,r,t);return n.forEach(l=>o.insert(l)),o}insert(i){if(0===this.Ie)return;const t=jQ(i),[n,r]=XQ(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);this.Ae(o)}}Ae(i){const t=Math.floor(i/8);this.bitmap[t]|=1<<i%8}}class Bb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vb{constructor(i,t,n,r,s){this.snapshotVersion=i,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(i,t,n){const r=new Map;return r.set(i,Ub.createSynthesizedTargetChangeForCurrentChange(i,t,n)),new Vb(Oi.min(),r,new Yr(cn),ul(),Cn())}}class Ub{constructor(i,t,n,r,s){this.resumeToken=i,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(i,t,n){return new Ub(n,t,Cn(),Cn(),Cn())}}class o_{constructor(i,t,n,r){this.Re=i,this.removedTargetIds=t,this.key=n,this.Ve=r}}class YQ{constructor(i,t){this.targetId=i,this.me=t}}class $Q{constructor(i,t,n=xa.EMPTY_BYTE_STRING,r=null){this.state=i,this.targetIds=t,this.resumeToken=n,this.cause=r}}class QQ{constructor(){this.fe=0,this.ge=ZQ(),this.pe=xa.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(i){i.approximateByteSize()>0&&(this.we=!0,this.pe=i)}Ce(){let i=Cn(),t=Cn(),n=Cn();return this.ge.forEach((r,s)=>{switch(s){case 0:i=i.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ti()}}),new Ub(this.pe,this.ye,i,t,n)}ve(){this.we=!1,this.ge=ZQ()}Fe(i,t){this.we=!0,this.ge=this.ge.insert(i,t)}Me(i){this.we=!0,this.ge=this.ge.remove(i)}xe(){this.fe+=1}Oe(){this.fe-=1,Fi(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $Ot{constructor(i){this.Le=i,this.Be=new Map,this.ke=ul(),this.qe=KQ(),this.Qe=new Yr(cn)}Ke(i){for(const t of i.Re)i.Ve&&i.Ve.isFoundDocument()?this.$e(t,i.Ve):this.Ue(t,i.key,i.Ve);for(const t of i.removedTargetIds)this.Ue(t,i.key,i.Ve)}We(i){this.forEachTarget(i,t=>{const n=this.Ge(t);switch(i.state){case 0:this.ze(t)&&n.De(i.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(i.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(i.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(i.resumeToken));break;default:Ti()}})}forEachTarget(i,t){i.targetIds.length>0?i.targetIds.forEach(t):this.Be.forEach((n,r)=>{this.ze(r)&&t(r)})}He(i){const t=i.targetId,n=i.me.count,r=this.Je(t);if(r){const s=r.target;if(t_(s))if(0===n){const o=new gi(s.path);this.Ue(t,o,ts.newNoDocument(o,Oi.min()))}else Fi(1===n);else{const o=this.Ye(t);if(o!==n){const l=this.Ze(i),w=l?this.Xe(l,i,o):1;0!==w&&(this.je(t),this.Qe=this.Qe.insert(t,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(i){const t=i.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let o,l;try{o=Mh(n).toUint8Array()}catch(w){if(w instanceof q$)return Fl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{l=new zF(o,r,s)}catch(w){return Fl(w instanceof Bb?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return 0===l.Ie?null:l}Xe(i,t,n){return t.me.count===n-this.nt(i,t.targetId)?0:2}nt(i,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;i.mightContain(l)||(this.Ue(t,s,null),r++)}),r}rt(i){const t=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&t_(l.target)){const w=new gi(l.target.path);null!==this.ke.get(w)||this.it(o,w)||this.Ue(o,w,ts.newNoDocument(w,i))}s.be&&(t.set(o,s.Ce()),s.ve())}});let n=Cn();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(w=>{const E=this.Je(w);return!E||"TargetPurposeLimboResolution"===E.purpose||(l=!1,!1)}),l&&(n=n.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(i));const r=new Vb(i,t,this.Qe,this.ke,n);return this.ke=ul(),this.qe=KQ(),this.Qe=new Yr(cn),r}$e(i,t){if(!this.ze(i))return;const n=this.it(i,t.key)?2:0;this.Ge(i).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(i))}Ue(i,t,n){if(!this.ze(i))return;const r=this.Ge(i);this.it(i,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(i)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(i){this.Be.delete(i)}Ye(i){const t=this.Ge(i).Ce();return this.Le.getRemoteKeysForTarget(i).size+t.addedDocuments.size-t.removedDocuments.size}xe(i){this.Ge(i).xe()}Ge(i){let t=this.Be.get(i);return t||(t=new QQ,this.Be.set(i,t)),t}st(i){let t=this.qe.get(i);return t||(t=new Pr(cn),this.qe=this.qe.insert(i,t)),t}ze(i){const t=null!==this.Je(i);return t||Be("WatchChangeAggregator","Detected inactive target",i),t}Je(i){const t=this.Be.get(i);return t&&t.Se?null:this.Le.ot(i)}je(i){this.Be.set(i,new QQ),this.Le.getRemoteKeysForTarget(i).forEach(t=>{this.Ue(i,t,null)})}it(i,t){return this.Le.getRemoteKeysForTarget(i).has(t)}}function KQ(){return new Yr(gi.comparator)}function ZQ(){return new Yr(gi.comparator)}const QOt={asc:"ASCENDING",desc:"DESCENDING"},KOt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZOt={and:"AND",or:"OR"};class JOt{constructor(i,t){this.databaseId=i,this.useProto3Json=t}}function GF(e,i){return e.useProto3Json||Sb(i)?i:{value:i}}function $v(e,i){return e.useProto3Json?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function JQ(e,i){return e.useProto3Json?i.toBase64():i.toUint8Array()}function qOt(e,i){return $v(e,i.toTimestamp())}function Ls(e){return Fi(!!e),Oi.fromTimestamp(function(t){const n=Dh(t);return new us(n.seconds,n.nanos)}(e))}function HF(e,i){return WF(e,i).canonicalString()}function WF(e,i){const t=(r=e,new Wn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===i?t:t.child(i)}function qQ(e){const i=Wn.fromString(e);return Fi(uK(i)),i}function zb(e,i){return HF(e.databaseId,i.path)}function Au(e,i){const t=qQ(i);if(t.get(1)!==e.databaseId.projectId)throw new Ve(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new Ve(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new gi(iK(t))}function tK(e,i){return HF(e.databaseId,i)}function jF(e){return new Wn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iK(e){return Fi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function nK(e,i,t){return{name:zb(e,i),fields:t.value.mapValue.fields}}function sK(e,i){return{documents:[tK(e,i.path)]}}function l_(e,i){const t={structuredQuery:{}},n=i.path;let r;null!==i.collectionGroup?(r=n,t.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=tK(e,r);const s=function(E){if(0!==E.length)return cK(Er.create(E,"and"))}(i.filters);s&&(t.structuredQuery.where=s);const o=function(E){if(0!==E.length)return E.map(D=>{return{field:tf((O=D).field),direction:rLt(O.dir)};var O})}(i.orderBy);o&&(t.structuredQuery.orderBy=o);const l=GF(e,i.limit);return null!==l&&(t.structuredQuery.limit=l),i.startAt&&(t.structuredQuery.startAt={before:(E=i.startAt).inclusive,values:E.position}),i.endAt&&(t.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(i.endAt)),{_t:t,parent:r};var E}function oK(e){let i=function eK(e){const i=qQ(e);return 4===i.length?Wn.emptyPath():iK(i)}(e.parent);const t=e.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){Fi(1===n);const D=t.from[0];D.allDescendants?r=D.collectionId:i=i.child(D.collectionId)}let s=[];t.where&&(s=function(k){const O=lK(k);return O instanceof Er&&RF(O)?O.getFilters():[O]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(O=>{return new Ib(Qv((U=O).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let l=null;t.limit&&(l=function(k){let O;return O="object"==typeof k?k.value:k,Sb(O)?null:O}(t.limit));let w=null;var k;t.startAt&&(w=new qd((k=t.startAt).values||[],!!k.before));let E=null;return t.endAt&&(E=function(k){return new qd(k.values||[],!k.before)}(t.endAt)),function yQ(e,i,t,n,r,s,o,l){return new Ih(e,i,t,n,r,s,o,l)}(i,r,o,s,l,"F",w,E)}function lK(e){return void 0!==e.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Qv(t.unaryFilter.field);return jn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Qv(t.unaryFilter.field);return jn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qv(t.unaryFilter.field);return jn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qv(t.unaryFilter.field);return jn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ti()}}(e):void 0!==e.fieldFilter?jn.create(Qv((t=e).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ti()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==e.compositeFilter?function(t){return Er.create(t.compositeFilter.filters.map(n=>lK(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ti()}}(t.compositeFilter.op))}(e):Ti();var t}function rLt(e){return QOt[e]}function sLt(e){return KOt[e]}function aLt(e){return ZOt[e]}function tf(e){return{fieldPath:e.canonicalString()}}function Qv(e){return hs.fromServerFormat(e.fieldPath)}function cK(e){return e instanceof jn?function(t){if("=="===t.op){if(iQ(t.value))return{unaryFilter:{field:tf(t.field),op:"IS_NAN"}};if(eQ(t.value))return{unaryFilter:{field:tf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(iQ(t.value))return{unaryFilter:{field:tf(t.field),op:"IS_NOT_NAN"}};if(eQ(t.value))return{unaryFilter:{field:tf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tf(t.field),op:sLt(t.op),value:t.value}}}(e):e instanceof Er?function(t){const n=t.getFilters().map(r=>cK(r));return 1===n.length?n[0]:{compositeFilter:{op:aLt(t.op),filters:n}}}(e):Ti()}function oLt(e){const i=[];return e.fields.forEach(t=>i.push(t.canonicalString())),{fieldPaths:i}}function uK(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class kh{constructor(i,t,n,r,s=Oi.min(),o=Oi.min(),l=xa.EMPTY_BYTE_STRING,w=null){this.target=i,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=w}withSequenceNumber(i){return new kh(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(i,t){return new kh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,i,null)}withExpectedCount(i){return new kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,i)}withLastLimboFreeSnapshotVersion(i){return new kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken,this.expectedCount)}}class hK{constructor(i){this.ct=i}}function YF(e){const i=oK({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?i_(i,i.limit,"L"):i}class jp{constructor(){}Pt(i,t){this.It(i,t),t.Tt()}It(i,t){if("nullValue"in i)this.Et(t,5);else if("booleanValue"in i)this.Et(t,10),t.dt(i.booleanValue?1:0);else if("integerValue"in i)this.Et(t,15),t.dt(Es(i.integerValue));else if("doubleValue"in i){const n=Es(i.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Eb(n)?t.dt(0):t.dt(n))}else if("timestampValue"in i){let n=i.timestampValue;this.Et(t,20),"string"==typeof n&&(n=Dh(n)),t.At(`${n.seconds||""}`),t.dt(n.nanos||0)}else if("stringValue"in i)this.Rt(i.stringValue,t),this.Vt(t);else if("bytesValue"in i)this.Et(t,30),t.ft(Mh(i.bytesValue)),this.Vt(t);else if("referenceValue"in i)this.gt(i.referenceValue,t);else if("geoPointValue"in i){const n=i.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in i?nQ(i)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(i.mapValue,t),this.Vt(t)):"arrayValue"in i?(this.wt(i.arrayValue,t),this.Vt(t)):Ti()}Rt(i,t){this.Et(t,25),this.St(i,t)}St(i,t){t.At(i)}yt(i,t){const n=i.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(i,t){const n=i.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(i,t){this.Et(t,37),gi.fromName(i).path.forEach(n=>{this.Et(t,60),this.St(n,t)})}Et(i,t){i.dt(t)}Vt(i){i.dt(2)}}jp.bt=new jp;class mLt{constructor(){this._n=new qF}addToCollectionParentIndex(i,t){return this._n.add(t),se.resolve()}getCollectionParents(i,t){return se.resolve(this._n.getEntries(t))}addFieldIndex(i,t){return se.resolve()}deleteFieldIndex(i,t){return se.resolve()}deleteAllFieldIndexes(i){return se.resolve()}createTargetIndexes(i,t){return se.resolve()}getDocumentsMatchingTarget(i,t){return se.resolve(null)}getIndexType(i,t){return se.resolve(0)}getFieldIndexes(i,t){return se.resolve([])}getNextCollectionGroupToUpdate(i){return se.resolve(null)}getMinOffset(i,t){return se.resolve(Ol.min())}getMinOffsetFromCollectionGroup(i,t){return se.resolve(Ol.min())}updateCollectionGroup(i,t,n){return se.resolve()}updateIndexEntries(i,t){return se.resolve()}}class qF{constructor(){this.index={}}add(i){const t=i.lastSegment(),n=i.popLast(),r=this.index[t]||new Pr(Wn.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(i){const t=i.lastSegment(),n=i.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(i){return(this.index[i]||new Pr(Wn.comparator)).toArray()}}new Uint8Array(0);class mo{constructor(i,t,n){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(i){return new mo(i,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class Yp{constructor(i){this.On=i}next(){return this.On+=2,this.On}static Nn(){return new Yp(0)}static Ln(){return new Yp(-1)}}class FK{constructor(){this.changes=new Rh(i=>i.toString(),(i,t)=>i.isEqual(t)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,t){this.assertNotApplied(),this.changes.set(i,ts.newInvalidDocument(i).setReadTime(t))}getEntry(i,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?se.resolve(n):this.getFromCache(i,t)}getEntries(i,t){return this.getAllFromCache(i,t)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class CLt{constructor(i,t){this.overlayedDocument=i,this.mutatedFields=t}}class VK{constructor(i,t,n,r){this.remoteDocumentCache=i,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(i,t){let n=null;return this.documentOverlayCache.getOverlay(i,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(i,t))).next(r=>(null!==n&&Nb(n.mutation,r,cl.empty(),us.now()),r))}getDocuments(i,t){return this.remoteDocumentCache.getEntries(i,t).next(n=>this.getLocalViewOfDocuments(i,n,Cn()).next(()=>n))}getLocalViewOfDocuments(i,t,n=Cn()){const r=_u();return this.populateOverlays(i,r,t).next(()=>this.computeViews(i,t,r,n).next(s=>{let o=Fb();return s.forEach((l,w)=>{o=o.insert(l,w.overlayedDocument)}),o}))}getOverlayedDocuments(i,t){const n=_u();return this.populateOverlays(i,n,t).next(()=>this.computeViews(i,t,n,Cn()))}populateOverlays(i,t,n){const r=[];return n.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(i,r).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(i,t,n,r){let s=ul();const o=Ob(),l=Ob();return t.forEach((w,E)=>{const D=n.get(E.key);r.has(E.key)&&(void 0===D||D.mutation instanceof Ph)?s=s.insert(E.key,E):void 0!==D?(o.set(E.key,D.mutation.getFieldMask()),Nb(D.mutation,E,D.mutation.getFieldMask(),us.now())):o.set(E.key,cl.empty())}),this.recalculateAndSaveOverlays(i,s).next(w=>(w.forEach((E,D)=>o.set(E,D)),t.forEach((E,D)=>{var k;return l.set(E,new CLt(D,null!==(k=o.get(E))&&void 0!==k?k:null))}),l))}recalculateAndSaveOverlays(i,t){const n=Ob();let r=new Yr((o,l)=>o-l),s=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,t).next(o=>{for(const l of o)l.keys().forEach(w=>{const E=t.get(w);if(null===E)return;let D=n.get(w)||cl.empty();D=l.applyToLocalView(E,D),n.set(w,D);const k=(r.get(l.batchId)||Cn()).add(w);r=r.insert(l.batchId,k)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const w=l.getNext(),E=w.key,D=w.value,k=AQ();D.forEach(O=>{if(!s.has(O)){const L=LQ(t.get(O),n.get(O));null!==L&&k.set(O,L),s=s.add(O)}}),o.push(this.documentOverlayCache.saveOverlays(i,E,k))}return se.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(i,t){return this.remoteDocumentCache.getEntries(i,t).next(n=>this.recalculateAndSaveOverlays(i,n))}getDocumentsMatchingQuery(i,t,n,r){return gi.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(i,t.path):FF(t)?this.getDocumentsMatchingCollectionGroupQuery(i,t,n,r):this.getDocumentsMatchingCollectionQuery(i,t,n,r);var o}getNextDocuments(i,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(i,t,n,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,t,n.largestBatchId,r-s.size):se.resolve(_u());let l=-1,w=s;return o.next(E=>se.forEach(E,(D,k)=>(l<k.largestBatchId&&(l=k.largestBatchId),s.get(D)?se.resolve():this.remoteDocumentCache.getEntry(i,D).next(O=>{w=w.insert(D,O)}))).next(()=>this.populateOverlays(i,E,s)).next(()=>this.computeViews(i,w,E,Cn())).next(D=>({batchId:l,changes:_Q(D)})))})}getDocumentsMatchingDocumentQuery(i,t){return this.getDocument(i,new gi(t)).next(n=>{let r=Fb();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(i,t,n,r){const s=t.collectionGroup;let o=Fb();return this.indexManager.getCollectionParents(i,s).next(l=>se.forEach(l,w=>{const E=(k=t,O=w.child(s),new Ih(O,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt));var k,O;return this.getDocumentsMatchingCollectionQuery(i,E,n,r).next(D=>{D.forEach((k,O)=>{o=o.insert(k,O)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(i,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(i,t.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(i,t,n,s,r))).next(o=>{s.forEach((w,E)=>{const D=E.getKey();null===o.get(D)&&(o=o.insert(D,ts.newInvalidDocument(D)))});let l=Fb();return o.forEach((w,E)=>{const D=s.get(w);void 0!==D&&Nb(D.mutation,E,cl.empty(),us.now()),kb(t,E)&&(l=l.insert(w,E))}),l})}}class SLt{constructor(i){this.serializer=i,this.cr=new Map,this.lr=new Map}getBundleMetadata(i,t){return se.resolve(this.cr.get(t))}saveBundleMetadata(i,t){return this.cr.set(t.id,{id:(r=t).id,version:r.version,createTime:Ls(r.createTime)}),se.resolve();var r}getNamedQuery(i,t){return se.resolve(this.lr.get(t))}saveNamedQuery(i,t){return this.lr.set(t.name,{name:(r=t).name,query:YF(r.bundledQuery),readTime:Ls(r.readTime)}),se.resolve();var r}}class ELt{constructor(){this.overlays=new Yr(gi.comparator),this.hr=new Map}getOverlay(i,t){return se.resolve(this.overlays.get(t))}getOverlays(i,t){const n=_u();return se.forEach(t,r=>this.getOverlay(i,r).next(s=>{null!==s&&n.set(r,s)})).next(()=>n)}saveOverlays(i,t,n){return n.forEach((r,s)=>{this.ht(i,t,s)}),se.resolve()}removeOverlaysForBatchId(i,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(n)),se.resolve()}getOverlaysForCollection(i,t,n){const r=_u(),s=t.length+1,o=new gi(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const w=l.getNext().value,E=w.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===s&&w.largestBatchId>n&&r.set(w.getKey(),w)}return se.resolve(r)}getOverlaysForCollectionGroup(i,t,n,r){let s=new Yr((E,D)=>E-D);const o=this.overlays.getIterator();for(;o.hasNext();){const E=o.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>n){let D=s.get(E.largestBatchId);null===D&&(D=_u(),s=s.insert(E.largestBatchId,D)),D.set(E.getKey(),E)}}const l=_u(),w=s.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((E,D)=>l.set(E,D)),!(l.size()>=r)););return se.resolve(l)}ht(i,t,n){const r=this.overlays.get(n.key);if(null!==r){const o=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new UF(t,n));let s=this.hr.get(t);void 0===s&&(s=Cn(),this.hr.set(t,s)),this.hr.set(t,s.add(n.key))}}class tO{constructor(){this.Pr=new Pr(ka.Ir),this.Tr=new Pr(ka.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(i,t){const n=new ka(i,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(i,t){i.forEach(n=>this.addReference(n,t))}removeReference(i,t){this.Ar(new ka(i,t))}Rr(i,t){i.forEach(n=>this.removeReference(n,t))}Vr(i){const t=new gi(new Wn([])),n=new ka(t,i),r=new ka(t,i+1),s=[];return this.Tr.forEachInRange([n,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(i=>this.Ar(i))}Ar(i){this.Pr=this.Pr.delete(i),this.Tr=this.Tr.delete(i)}gr(i){const t=new gi(new Wn([])),n=new ka(t,i),r=new ka(t,i+1);let s=Cn();return this.Tr.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(i){const t=new ka(i,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&i.isEqual(n.key)}}class ka{constructor(i,t){this.key=i,this.pr=t}static Ir(i,t){return gi.comparator(i.key,t.key)||cn(i.pr,t.pr)}static Er(i,t){return cn(i.pr,t.pr)||gi.comparator(i.key,t.key)}}class _Lt{constructor(i,t){this.indexManager=i,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Pr(ka.Ir)}checkEmpty(i){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(i,t,n,r){const s=this.yr;this.yr++;const o=new BF(s,t,n,r);this.mutationQueue.push(o);for(const l of r)this.wr=this.wr.add(new ka(l.key,s)),this.indexManager.addToCollectionParentIndex(i,l.key.path.popLast());return se.resolve(o)}lookupMutationBatch(i,t){return se.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(i,t){const r=this.br(t+1),s=r<0?0:r;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(i){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,t){const n=new ka(t,0),r=new ka(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([n,r],o=>{const l=this.Sr(o.pr);s.push(l)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(i,t){let n=new Pr(cn);return t.forEach(r=>{const s=new ka(r,0),o=new ka(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{n=n.add(l.pr)})}),se.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(i,t){const n=t.path,r=n.length+1;let s=n;gi.isDocumentKey(s)||(s=s.child(""));const o=new ka(new gi(s),0);let l=new Pr(cn);return this.wr.forEachWhile(w=>{const E=w.key.path;return!!n.isPrefixOf(E)&&(E.length===r&&(l=l.add(w.pr)),!0)},o),se.resolve(this.Dr(l))}Dr(i){const t=[];return i.forEach(n=>{const r=this.Sr(n);null!==r&&t.push(r)}),t}removeMutationBatch(i,t){Fi(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return se.forEach(t.mutations,r=>{const s=new ka(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(i,r.key)}).next(()=>{this.wr=n})}Mn(i){}containsKey(i,t){const n=new ka(t,0),r=this.wr.firstAfterOrEqual(n);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(i){return se.resolve()}Cr(i,t){return this.br(i)}br(i){return 0===this.mutationQueue.length?0:i-this.mutationQueue[0].batchId}Sr(i){const t=this.br(i);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ALt{constructor(i){this.vr=i,this.docs=new Yr(gi.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(i,n.path.popLast())}removeEntry(i){const t=this.docs.get(i);t&&(this.docs=this.docs.remove(i),this.size-=t.size)}getEntry(i,t){const n=this.docs.get(t);return se.resolve(n?n.document.mutableCopy():ts.newInvalidDocument(t))}getEntries(i,t){let n=ul();return t.forEach(r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():ts.newInvalidDocument(r))}),se.resolve(n)}getDocumentsMatchingQuery(i,t,n,r){let s=ul();const o=t.path,l=new gi(o.child("")),w=this.docs.getIteratorFrom(l);for(;w.hasNext();){const{key:E,value:{document:D}}=w.getNext();if(!o.isPrefixOf(E.path))break;E.path.length>o.length+1||SF(new Ol((e=D).readTime,e.key,-1),n)<=0||(r.has(D.key)||kb(t,D))&&(s=s.insert(D.key,D.mutableCopy()))}var e;return se.resolve(s)}getAllFromCollectionGroup(i,t,n,r){Ti()}Fr(i,t){return se.forEach(this.docs,n=>t(n))}newChangeBuffer(i){return new DLt(this)}getSize(i){return se.resolve(this.size)}}class DLt extends FK{constructor(i){super(),this.ar=i}applyChanges(i){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(i,r)):this.ar.removeEntry(n)}),se.waitFor(t)}getFromCache(i,t){return this.ar.getEntry(i,t)}getAllFromCache(i,t){return this.ar.getEntries(i,t)}}class MLt{constructor(i){this.persistence=i,this.Mr=new Rh(t=>Vp(t),Rb),this.lastRemoteSnapshotVersion=Oi.min(),this.highestTargetId=0,this.Or=0,this.Nr=new tO,this.targetCount=0,this.Lr=Yp.Nn()}forEachTarget(i,t){return this.Mr.forEach((n,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(i){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return se.resolve(this.Or)}allocateTargetId(i){return this.highestTargetId=this.Lr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(i,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),se.resolve()}qn(i){this.Mr.set(i.target,i);const t=i.targetId;t>this.highestTargetId&&(this.Lr=new Yp(t),this.highestTargetId=t),i.sequenceNumber>this.Or&&(this.Or=i.sequenceNumber)}addTargetData(i,t){return this.qn(t),this.targetCount+=1,se.resolve()}updateTargetData(i,t){return this.qn(t),se.resolve()}removeTargetData(i,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(i,t,n){let r=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=t&&null===n.get(l.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(i,l.targetId)),r++)}),se.waitFor(s).next(()=>r)}getTargetCount(i){return se.resolve(this.targetCount)}getTargetData(i,t){const n=this.Mr.get(t)||null;return se.resolve(n)}addMatchingKeys(i,t,n){return this.Nr.dr(t,n),se.resolve()}removeMatchingKeys(i,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(i,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(i,t){return this.Nr.Vr(t),se.resolve()}getMatchingKeysForTargetId(i,t){const n=this.Nr.gr(t);return se.resolve(n)}containsKey(i,t){return se.resolve(this.Nr.containsKey(t))}}class eO{constructor(i,t){this.Br={},this.overlays={},this.kr=new Ll(0),this.qr=!1,this.qr=!0,this.referenceDelegate=i(this),this.Qr=new MLt(this),this.indexManager=new mLt,this.remoteDocumentCache=new ALt(n=>this.referenceDelegate.Kr(n)),this.serializer=new hK(t),this.$r=new SLt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let t=this.overlays[i.toKey()];return t||(t=new ELt,this.overlays[i.toKey()]=t),t}getMutationQueue(i,t){let n=this.Br[i.toKey()];return n||(n=new _Lt(t,this.referenceDelegate),this.Br[i.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(i,t,n){Be("MemoryPersistence","Starting transaction:",i);const r=new ILt(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(i,t){return se.or(Object.values(this.Br).map(n=>()=>n.containsKey(i,t)))}}class ILt extends B${constructor(i){super(),this.currentSequenceNumber=i}}class g_{constructor(i){this.persistence=i,this.zr=new tO,this.jr=null}static Hr(i){return new g_(i)}get Jr(){if(this.jr)return this.jr;throw Ti()}addReference(i,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),se.resolve()}removeReference(i,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),se.resolve()}markPotentiallyOrphaned(i,t){return this.Jr.add(t.toString()),se.resolve()}removeTarget(i,t){this.zr.Vr(t.targetId).forEach(r=>this.Jr.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(i,t.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>n.removeTargetData(i,t))}Ur(){this.jr=new Set}Wr(i){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Jr,n=>{const r=gi.fromPath(n);return this.Yr(i,r).next(s=>{s||t.removeEntry(r,Oi.min())})}).next(()=>(this.jr=null,t.apply(i)))}updateLimboDocument(i,t){return this.Yr(i,t).next(n=>{n?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(i){return 0}Yr(i,t){return se.or([()=>se.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(i,t),()=>this.persistence.Gr(i,t)])}}class sO{constructor(i,t,n,r){this.targetId=i,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(i,t){let n=Cn(),r=Cn();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new sO(i,t.fromCache,n,r)}}class PLt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(i){this._documentReadCount+=i}}class zK{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function t$(){return!function Skt(){var e;const i=null===(e=VE())||void 0===e?void 0:e.forceEnvironment;if("node"===i)return!0;if("browser"===i)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function V$(e){const i=e.match(/Android ([\d.]+)/i),t=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(function Wd(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())>0?6:4}initialize(i,t){this.zi=i,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(i,t,n,r){const s={result:null};return this.ji(i,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(i,t,r,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new PLt;return this.Ji(i,t,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(i,t,o,l.size)})}).next(()=>s.result)}Yi(i,t,n,r){return n.documentReadCount<this.Wi?(Fv()<=Jn.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",Hv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),se.resolve()):(Fv()<=Jn.DEBUG&&Be("QueryEngine","Query:",Hv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Fv()<=Jn.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",Hv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(i,po(t))):se.resolve())}ji(i,t){if(xQ(t))return se.resolve(null);let n=po(t);return this.indexManager.getIndexType(i,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=i_(t,null,"F"),n=po(t)),this.indexManager.getDocumentsMatchingTarget(i,n).next(s=>{const o=Cn(...s);return this.zi.getDocuments(i,o).next(l=>this.indexManager.getMinOffset(i,n).next(w=>{const E=this.Zi(t,l);return this.Xi(t,E,o,w.readTime)?this.ji(i,i_(t,null,"F")):this.es(i,E,t,w)}))})))}Hi(i,t,n,r){return xQ(t)||r.isEqual(Oi.min())?se.resolve(null):this.zi.getDocuments(i,n).next(s=>{const o=this.Zi(t,s);return this.Xi(t,o,n,r)?se.resolve(null):(Fv()<=Jn.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hv(t)),this.es(i,o,t,function O$(e,i){const t=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=Oi.fromTimestamp(1e9===n?new us(t+1,0):new us(t,n));return new Ol(r,gi.empty(),i)}(r,-1)).next(l=>l))})}Zi(i,t){let n=new Pr(SQ(i));return t.forEach((r,s)=>{kb(i,s)&&(n=n.add(s))}),n}Xi(i,t,n,r){if(null===i.limit)return!1;if(n.size!==t.size)return!0;const s="F"===i.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(i,t,n){return Fv()<=Jn.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Hv(t)),this.zi.getDocumentsMatchingQuery(i,t,Ol.min(),n)}es(i,t,n,r){return this.zi.getDocumentsMatchingQuery(i,n,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class kLt{constructor(i,t,n,r){this.persistence=i,this.ts=t,this.serializer=r,this.ns=new Yr(cn),this.rs=new Rh(s=>Vp(s),Rb),this.ss=new Map,this.os=i.getRemoteDocumentCache(),this.Qr=i.getTargetCache(),this.$r=i.getBundleCache(),this._s(n)}_s(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new VK(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>i.collect(t,this.ns))}}function HK(e,i){return aO.apply(this,arguments)}function aO(){return(aO=we(function*(e,i){const t=di(e);return yield t.persistence.runTransaction("Handle user change","readonly",n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,t._s(i),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],l=[];let w=Cn();for(const E of r){o.push(E.batchId);for(const D of E.mutations)w=w.add(D.key)}for(const E of s){l.push(E.batchId);for(const D of E.mutations)w=w.add(D.key)}return t.localDocuments.getDocuments(n,w).next(E=>({us:E,removedBatchIds:o,addedBatchIds:l}))})})})).apply(this,arguments)}function WK(e){const i=di(e);return i.persistence.runTransaction("Get last remote snapshot version","readonly",t=>i.Qr.getLastRemoteSnapshotVersion(t))}function LLt(e,i){const t=di(e);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===i&&(i=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,i)))}function e0(e,i,t){return oO.apply(this,arguments)}function oO(){return(oO=we(function*(e,i,t){const n=di(e),r=n.ns.get(i),s=t?"readwrite":"readwrite-primary";try{t||(yield n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!$d(o))throw o;Be("LocalStore",`Failed to update sequence numbers for target ${i}: ${o}`)}n.ns=n.ns.remove(i),n.rs.delete(r.target)})).apply(this,arguments)}function x_(e,i,t){const n=di(e);let r=Oi.min(),s=Cn();return n.persistence.runTransaction("Execute query","readwrite",o=>function(w,E,D){const k=di(w),O=k.rs.get(D);return void 0!==O?se.resolve(k.ns.get(O)):k.Qr.getTargetData(E,D)}(n,o,po(i)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(o,l.targetId).next(w=>{s=w})}).next(()=>n.ts.getDocumentsMatchingQuery(o,i,t?r:Oi.min(),t?s:Cn())).next(l=>(function $K(e,i,t){let n=e.ss.get(i)||Oi.min();t.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),e.ss.set(i,n)}(n,function CQ(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(i),l),{documents:l,hs:s})))}class dO{constructor(){this.activeTargetIds=function LF(){return VOt}()}As(i){this.activeTargetIds=this.activeTargetIds.add(i)}Rs(i){this.activeTargetIds=this.activeTargetIds.delete(i)}ds(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class ZK{constructor(){this.no=new dO,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,t,n){}addLocalQueryTarget(i){return this.no.As(i),this.ro[i]||"not-current"}updateQueryState(i,t,n){this.ro[i]=t}removeLocalQueryTarget(i){this.no.Rs(i)}isLocalQueryTarget(i){return this.no.activeTargetIds.has(i)}clearQueryState(i){delete this.ro[i]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(i){return this.no.activeTargetIds.has(i)}start(){return this.no=new dO,Promise.resolve()}handleUserChange(i,t,n){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}class VLt{io(i){}shutdown(){}}class JK{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(i){this.uo.push(i)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.uo)i(0)}ao(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.uo)i(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let T_=null;function pO(){return null===T_?T_=268435456+Math.round(2147483648*Math.random()):T_++,"0x"+T_.toString(16)}const ULt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zLt{constructor(i){this.lo=i.lo,this.ho=i.ho}Po(i){this.Io=i}To(i){this.Eo=i}Ao(i){this.Ro=i}onMessage(i){this.Vo=i}close(){this.ho()}send(i){this.lo(i)}mo(){this.Io()}fo(){this.Eo()}po(i){this.Ro(i)}yo(i){this.Vo(i)}}const go="WebChannelConnection";class GLt extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+t.host,this.So=`projects/${r}/databases/${s}`,this.bo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(t,n,r,s,o){const l=pO(),w=this.vo(t,n.toUriEncodedString());Be("RestConnection",`Sending RPC '${t}' ${l}:`,w,r);const E={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(E,s,o),this.Mo(t,w,E,r).then(D=>(Be("RestConnection",`Received RPC '${t}' ${l}: `,D),D),D=>{throw Fl("RestConnection",`RPC '${t}' ${l} failed with error: `,D,"url: ",w,"request:",r),D})}xo(t,n,r,s,o,l){return this.Co(t,n,r,s,o)}Fo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+kv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}vo(t,n){return`${this.wo}/v1/${n}:${ULt[t]}`}terminate(){}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams,this.longPollingOptions=i.longPollingOptions}Mo(i,t,n,r){const s=pO();return new Promise((o,l)=>{const w=new S$;w.setWithCredentials(!0),w.listenOnce(_$.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case jE.NO_ERROR:const D=w.getResponseJson();Be(go,`XHR for RPC '${i}' ${s} received:`,JSON.stringify(D)),o(D);break;case jE.TIMEOUT:Be(go,`RPC '${i}' ${s} timed out`),l(new Ve(ge.DEADLINE_EXCEEDED,"Request time out"));break;case jE.HTTP_ERROR:const k=w.getStatus();if(Be(go,`RPC '${i}' ${s} failed with status:`,k,"response text:",w.getResponseText()),k>0){let O=w.getResponseJson();Array.isArray(O)&&(O=O[0]);const L=O?.error;if(L&&L.status&&L.message){const U=function(W){const Z=W.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(Z)>=0?Z:ge.UNKNOWN}(L.status);l(new Ve(U,L.message))}else l(new Ve(ge.UNKNOWN,"Server responded with status "+w.getStatus()))}else l(new Ve(ge.UNAVAILABLE,"Connection failed."));break;default:Ti()}}finally{Be(go,`RPC '${i}' ${s} completed.`)}});const E=JSON.stringify(r);Be(go,`RPC '${i}' ${s} sending request:`,r),w.send(t,"POST",E,n,15)})}Oo(i,t,n){const r=pO(),s=[this.wo,"/","google.firestore.v1.Firestore","/",i,"/channel"],o=M$(),l=D$(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.xmlHttpFactory=new E$({})),this.Fo(w.initMessageHeaders,t,n),w.encodeInitMessageHeaders=!0;const D=s.join("");Be(go,`Creating RPC '${i}' stream ${r}: ${D}`,w);const k=o.createWebChannel(D,w);let O=!1,L=!1;const U=new zLt({lo:W=>{L?Be(go,`Not sending because RPC '${i}' stream ${r} is closed:`,W):(O||(Be(go,`Opening RPC '${i}' stream ${r} transport.`),k.open(),O=!0),Be(go,`RPC '${i}' stream ${r} sending:`,W),k.send(W))},ho:()=>k.close()}),j=(W,Z,rt)=>{W.listen(Z,st=>{try{rt(st)}catch(yt){setTimeout(()=>{throw yt},0)}})};return j(k,wb.EventType.OPEN,()=>{L||(Be(go,`RPC '${i}' stream ${r} transport opened.`),U.mo())}),j(k,wb.EventType.CLOSE,()=>{L||(L=!0,Be(go,`RPC '${i}' stream ${r} transport closed`),U.po())}),j(k,wb.EventType.ERROR,W=>{L||(L=!0,Fl(go,`RPC '${i}' stream ${r} transport errored:`,W),U.po(new Ve(ge.UNAVAILABLE,"The operation could not be completed")))}),j(k,wb.EventType.MESSAGE,W=>{var Z;if(!L){const rt=W.data[0];Fi(!!rt);const yt=rt.error||(null===(Z=rt[0])||void 0===Z?void 0:Z.error);if(yt){Be(go,`RPC '${i}' stream ${r} received error:`,yt);const Tt=yt.status;let It=function(mt){const wt=ea[mt];if(void 0!==wt)return HQ(wt)}(Tt),ft=yt.message;void 0===It&&(It=ge.INTERNAL,ft="Unknown error status: "+Tt+" with message "+yt.message),L=!0,U.po(new Ve(It,ft)),k.close()}else Be(go,`RPC '${i}' stream ${r} received:`,rt),U.yo(rt)}}),j(l,A$.STAT_EVENT,W=>{W.stat===wF.PROXY?Be(go,`RPC '${i}' stream ${r} detected buffering proxy`):W.stat===wF.NOPROXY&&Be(go,`RPC '${i}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{U.fo()},0),U}}function C_(){return typeof document<"u"?document:null}function Kb(e){return new JOt(e,!0)}class mO{constructor(i,t,n=1e3,r=1.5,s=6e4){this.oi=i,this.timerId=t,this.No=n,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(i){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),i())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class tZ{constructor(i,t,n,r,s,o,l,w){this.oi=i,this.Go=n,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=w,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new mO(i,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var i=this;return we(function*(){i.Zo()&&(yield i.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(i){this.s_(),this.stream.send(i)}r_(){var i=this;return we(function*(){if(i.Xo())return i.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(i,t){var n=this;return we(function*(){n.s_(),n.o_(),n.Yo.cancel(),n.jo++,4!==i?n.Yo.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Os(t.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),n.Yo.Ko()):t&&t.code===ge.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.__(),n.stream.close(),n.stream=null),n.state=i,yield n.listener.Ao(t)})()}__(){}auth(){this.state=1;const i=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.jo===t&&this.u_(n,r)},n=>{i(()=>{const r=new Ve(ge.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(r)})})}u_(i,t){const n=this.a_(this.jo);this.stream=this.l_(i,t),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{n(()=>this.c_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}e_(){var i=this;this.state=5,this.Yo.$o(we(function*(){i.state=0,i.start()}))}c_(i){return Be("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}a_(i){return t=>{this.oi.enqueueAndForget(()=>this.jo===i?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HLt extends tZ{constructor(i,t,n,r,s,o){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}l_(i,t){return this.connection.Oo("Listen",i,t)}onMessage(i){this.Yo.reset();const t=function eLt(e,i){let t;if("targetChange"in i){const n="NO_CHANGE"===(E=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Ti(),r=i.targetChange.targetIds||[],s=function(E,D){return E.useProto3Json?(Fi(void 0===D||"string"==typeof D),xa.fromBase64String(D||"")):(Fi(void 0===D||D instanceof Buffer||D instanceof Uint8Array),xa.fromUint8Array(D||new Uint8Array))}(e,i.targetChange.resumeToken),o=i.targetChange.cause,l=o&&function(E){const D=void 0===E.code?ge.UNKNOWN:HQ(E.code);return new Ve(D,E.message||"")}(o);t=new $Q(n,r,s,l||null)}else if("documentChange"in i){const n=i.documentChange,r=Au(e,n.document.name),s=Ls(n.document.updateTime),o=n.document.createTime?Ls(n.document.createTime):Oi.min(),l=new Qa({mapValue:{fields:n.document.fields}}),w=ts.newFoundDocument(r,s,o,l);t=new o_(n.targetIds||[],n.removedTargetIds||[],w.key,w)}else if("documentDelete"in i){const n=i.documentDelete,r=Au(e,n.document),s=n.readTime?Ls(n.readTime):Oi.min(),o=ts.newNoDocument(r,s);t=new o_([],n.removedTargetIds||[],o.key,o)}else if("documentRemove"in i){const n=i.documentRemove,r=Au(e,n.document);t=new o_([],n.removedTargetIds||[],r,null)}else{if(!("filter"in i))return Ti();{const n=i.filter,{count:r=0,unchangedNames:s}=n,o=new XOt(r,s);t=new YQ(n.targetId,o)}}var E;return t}(this.serializer,i),n=function(s){if(!("targetChange"in s))return Oi.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Oi.min():o.readTime?Ls(o.readTime):Oi.min()}(i);return this.listener.h_(t,n)}P_(i){const t={};t.database=jF(this.serializer),t.addTarget=function(s,o){let l;const w=o.target;if(l=t_(w)?{documents:sK(s,w)}:{query:l_(s,w)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=JQ(s,o.resumeToken);const E=GF(s,o.expectedCount);null!==E&&(l.expectedCount=E)}else if(o.snapshotVersion.compareTo(Oi.min())>0){l.readTime=$v(s,o.snapshotVersion.toTimestamp());const E=GF(s,o.expectedCount);null!==E&&(l.expectedCount=E)}return l}(this.serializer,i);const n=function nLt(e,i){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ti()}}(i.purpose);return null==t?null:{"goog-listen-tags":t}}(0,i);n&&(t.labels=n),this.i_(t)}I_(i){const t={};t.database=jF(this.serializer),t.removeTarget=i,this.i_(t)}}class WLt extends tZ{constructor(i,t,n,r,s,o){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(i,t){return this.connection.Oo("Write",i,t)}onMessage(i){if(Fi(!!i.streamToken),this.lastStreamToken=i.streamToken,this.T_){this.Yo.reset();const t=function iLt(e,i){return e&&e.length>0?(Fi(void 0!==i),e.map(t=>function(r,s){let o=Ls(r.updateTime?r.updateTime:s);return o.isEqual(Oi.min())&&(o=Ls(s)),new HOt(o,r.transformResults||[])}(t,i))):[]}(i.writeResults,i.commitTime),n=Ls(i.commitTime);return this.listener.A_(n,t)}return Fi(!i.writeResults||0===i.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const i={};i.database=jF(this.serializer),this.i_(i)}d_(i){const t={streamToken:this.lastStreamToken,writes:i.map(n=>function Gb(e,i){let t;if(i instanceof Xv)t={update:nK(e,i.key,i.value)};else if(i instanceof Yv)t={delete:zb(e,i.key)};else if(i instanceof Ph)t={update:nK(e,i.key,i.data),updateMask:oLt(i.fieldMask)};else{if(!(i instanceof NF))return Ti();t={verify:zb(e,i.key)}}return i.fieldTransforms.length>0&&(t.updateTransforms=i.fieldTransforms.map(n=>function(s,o){const l=o.transform;if(l instanceof Wv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Up)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof zp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof jv)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Ti()}(0,n))),i.precondition.isNone||(t.currentDocument=void 0!==(s=i.precondition).updateTime?{updateTime:qOt(e,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ti()),t;var s}(this.serializer,n))};this.i_(t)}}class jLt extends class{}{constructor(i,t,n,r){super(),this.authCredentials=i,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Ve(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Co(i,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(i,WF(t,n),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(ge.UNKNOWN,s.toString())})}xo(i,t,n,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(i,WF(t,n),r,o,l,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(ge.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class XLt{constructor(i,t){this.asyncQueue=i,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(i){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.S_("Offline")))}set(i){this.C_(),this.g_=0,"Online"===i&&(this.y_=!1),this.S_(i)}S_(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}b_(i){const t=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Os(t),this.y_=!1):Be("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class YLt{constructor(i,t,n,r,s){var o=this;this.localStore=i,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(l=>{n.enqueueAndForget(we(function*(){var w;sf(o)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(w=we(function*(D){const k=di(D);k.M_.add(4),yield n0(k),k.N_.set("Unknown"),k.M_.delete(4),yield Zb(k)}),function E(D){return w.apply(this,arguments)})(o))}))}),this.N_=new XLt(n,r)}}function Zb(e){return gO.apply(this,arguments)}function gO(){return(gO=we(function*(e){if(sf(e))for(const i of e.x_)yield i(!0)})).apply(this,arguments)}function n0(e){return vO.apply(this,arguments)}function vO(){return(vO=we(function*(e){for(const i of e.x_)yield i(!1)})).apply(this,arguments)}function S_(e,i){const t=di(e);t.F_.has(i.targetId)||(t.F_.set(i.targetId,i),bO(t)?xO(t):a0(t).Xo()&&yO(t,i))}function r0(e,i){const t=di(e),n=a0(t);t.F_.delete(i),n.Xo()&&eZ(t,i),0===t.F_.size&&(n.Xo()?n.n_():sf(t)&&t.N_.set("Unknown"))}function yO(e,i){if(e.L_.xe(i.targetId),i.resumeToken.approximateByteSize()>0||i.snapshotVersion.compareTo(Oi.min())>0){const t=e.remoteSyncer.getRemoteKeysForTarget(i.targetId).size;i=i.withExpectedCount(t)}a0(e).P_(i)}function eZ(e,i){e.L_.xe(i),a0(e).I_(i)}function xO(e){e.L_=new $Ot({getRemoteKeysForTarget:i=>e.remoteSyncer.getRemoteKeysForTarget(i),ot:i=>e.F_.get(i)||null,tt:()=>e.datastore.serializer.databaseId}),a0(e).start(),e.N_.w_()}function bO(e){return sf(e)&&!a0(e).Zo()&&e.F_.size>0}function sf(e){return 0===di(e).M_.size}function iZ(e){e.L_=void 0}function $Lt(e){return wO.apply(this,arguments)}function wO(){return(wO=we(function*(e){e.N_.set("Online")})).apply(this,arguments)}function QLt(e){return TO.apply(this,arguments)}function TO(){return(TO=we(function*(e){e.F_.forEach((i,t)=>{yO(e,i)})})).apply(this,arguments)}function KLt(e,i){return CO.apply(this,arguments)}function CO(){return(CO=we(function*(e,i){iZ(e),bO(e)?(e.N_.D_(i),xO(e)):e.N_.set("Unknown")})).apply(this,arguments)}function ZLt(e,i,t){return SO.apply(this,arguments)}function SO(){return SO=we(function*(e,i,t){if(e.N_.set("Online"),i instanceof $Q&&2===i.state&&i.cause)try{yield(n=we(function*(s,o){const l=o.cause;for(const w of o.targetIds)s.F_.has(w)&&(yield s.remoteSyncer.rejectListen(w,l),s.F_.delete(w),s.L_.removeTarget(w))}),function r(s,o){return n.apply(this,arguments)})(e,i)}catch(n){Be("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),n),yield E_(e,n)}else if(i instanceof o_?e.L_.Ke(i):i instanceof YQ?e.L_.He(i):e.L_.We(i),!t.isEqual(Oi.min()))try{const n=yield WK(e.localStore);t.compareTo(n)>=0&&(yield function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const D=s.F_.get(E);D&&s.F_.set(E,D.withResumeToken(w.resumeToken,o))}}),l.targetMismatches.forEach((w,E)=>{const D=s.F_.get(w);if(!D)return;s.F_.set(w,D.withResumeToken(xa.EMPTY_BYTE_STRING,D.snapshotVersion)),eZ(s,w);const k=new kh(D.target,w,E,D.sequenceNumber);yO(s,k)}),s.remoteSyncer.applyRemoteEvent(l)}(e,t))}catch(n){Be("RemoteStore","Failed to raise snapshot:",n),yield E_(e,n)}var n}),SO.apply(this,arguments)}function E_(e,i,t){return EO.apply(this,arguments)}function EO(){return(EO=we(function*(e,i,t){if(!$d(i))throw i;e.M_.add(1),yield n0(e),e.N_.set("Offline"),t||(t=()=>WK(e.localStore)),e.asyncQueue.enqueueRetryable(we(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),e.M_.delete(1),yield Zb(e)}))})).apply(this,arguments)}function nZ(e,i){return i().catch(t=>E_(e,t,i))}function s0(e){return _O.apply(this,arguments)}function _O(){return(_O=we(function*(e){const i=di(e),t=af(i);let n=i.v_.length>0?i.v_[i.v_.length-1].batchId:-1;for(;JLt(i);)try{const r=yield LLt(i.localStore,n);if(null===r){0===i.v_.length&&t.n_();break}n=r.batchId,qLt(i,r)}catch(r){yield E_(i,r)}rZ(i)&&sZ(i)})).apply(this,arguments)}function JLt(e){return sf(e)&&e.v_.length<10}function qLt(e,i){e.v_.push(i);const t=af(e);t.Xo()&&t.E_&&t.d_(i.mutations)}function rZ(e){return sf(e)&&!af(e).Zo()&&e.v_.length>0}function sZ(e){af(e).start()}function tNt(e){return AO.apply(this,arguments)}function AO(){return(AO=we(function*(e){af(e).V_()})).apply(this,arguments)}function eNt(e){return DO.apply(this,arguments)}function DO(){return(DO=we(function*(e){const i=af(e);for(const t of e.v_)i.d_(t.mutations)})).apply(this,arguments)}function iNt(e,i,t){return MO.apply(this,arguments)}function MO(){return(MO=we(function*(e,i,t){const n=e.v_.shift(),r=VF.from(n,i,t);yield nZ(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield s0(e)})).apply(this,arguments)}function nNt(e,i){return IO.apply(this,arguments)}function IO(){return IO=we(function*(e,i){var t;i&&af(e).E_&&(yield(t=we(function*(r,s){if(function GQ(e){switch(e){default:return Ti();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}(l=s.code)&&l!==ge.ABORTED){const o=r.v_.shift();af(r).t_(),yield nZ(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield s0(r)}var l}),function n(r,s){return t.apply(this,arguments)})(e,i)),rZ(e)&&sZ(e)}),IO.apply(this,arguments)}function aZ(e,i){return RO.apply(this,arguments)}function RO(){return(RO=we(function*(e,i){const t=di(e);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const n=sf(t);t.M_.add(3),yield n0(t),n&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(i),t.M_.delete(3),yield Zb(t)})).apply(this,arguments)}function PO(e,i){return kO.apply(this,arguments)}function kO(){return(kO=we(function*(e,i){const t=di(e);i?(t.M_.delete(2),yield Zb(t)):i||(t.M_.add(2),yield n0(t),t.N_.set("Unknown"))})).apply(this,arguments)}function a0(e){return e.B_||(e.B_=function(t,n,r){const s=di(t);return s.f_(),new HLt(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:$Lt.bind(null,e),To:QLt.bind(null,e),Ao:KLt.bind(null,e),h_:ZLt.bind(null,e)}),e.x_.push(function(){var i=we(function*(t){t?(e.B_.t_(),bO(e)?xO(e):e.N_.set("Unknown")):(yield e.B_.stop(),iZ(e))});return function(t){return i.apply(this,arguments)}}())),e.B_}function af(e){return e.k_||(e.k_=function(t,n,r){const s=di(t);return s.f_(),new WLt(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:tNt.bind(null,e),Ao:nNt.bind(null,e),R_:eNt.bind(null,e),A_:iNt.bind(null,e)}),e.x_.push(function(){var i=we(function*(t){t?(e.k_.t_(),yield s0(e)):(yield e.k_.stop(),e.v_.length>0&&(Be("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))});return function(t){return i.apply(this,arguments)}}())),e.k_}class FO{constructor(i,t,n,r,s){this.asyncQueue=i,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,t,n,r,s){const o=Date.now()+n,l=new FO(i,t,o,r,s);return l.start(n),l}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(ge.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o0(e,i){if(Os("AsyncQueue",`${i}: ${e}`),$d(e))return new Ve(ge.UNAVAILABLE,`${i}: ${e}`);throw e}class l0{constructor(i){this.comparator=i?(t,n)=>i(t,n)||gi.comparator(t.key,n.key):(t,n)=>gi.comparator(t.key,n.key),this.keyedMap=Fb(),this.sortedSet=new Yr(this.comparator)}static emptySet(i){return new l0(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const t=this.keyedMap.get(i);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((t,n)=>(i(t),!1))}add(i){const t=this.delete(i.key);return t.copy(t.keyedMap.insert(i.key,i),t.sortedSet.insert(i,null))}delete(i){const t=this.get(i);return t?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(t)):this}isEqual(i){if(!(i instanceof l0)||this.size!==i.size)return!1;const t=this.sortedSet.getIterator(),n=i.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const i=[];return this.forEach(t=>{i.push(t.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,t){const n=new l0;return n.comparator=this.comparator,n.keyedMap=i,n.sortedSet=t,n}}class oZ{constructor(){this.q_=new Yr(gi.comparator)}track(i){const t=i.doc.key,n=this.q_.get(t);n?0!==i.type&&3===n.type?this.q_=this.q_.insert(t,i):3===i.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:i.doc}):2===i.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:i.doc}):2===i.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:i.doc}):1===i.type&&0===n.type?this.q_=this.q_.remove(t):1===i.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===i.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:i.doc}):Ti():this.q_=this.q_.insert(t,i)}Q_(){const i=[];return this.q_.inorderTraversal((t,n)=>{i.push(n)}),i}}class c0{constructor(i,t,n,r,s,o,l,w,E){this.query=i,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(i,t,n,r,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new c0(i,t,l0.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Pb(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const t=this.docChanges,n=i.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class rNt{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(i=>i.G_())}}class sNt{constructor(){this.queries=new Rh(i=>TQ(i),Pb),this.onlineState="Unknown",this.z_=new Set}}function LO(){return(LO=we(function*(e,i){const t=di(e);let n=3;const r=i.query;let s=t.queries.get(r);s?!s.W_()&&i.G_()&&(n=2):(s=new rNt,n=i.G_()?0:1);try{switch(n){case 0:s.K_=yield t.onListen(r,!0);break;case 1:s.K_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){const l=o0(o,`Initialization of query '${Hv(i.query)}' failed`);return void i.onError(l)}t.queries.set(r,s),s.U_.push(i),i.j_(t.onlineState),s.K_&&i.H_(s.K_)&&VO(t)})).apply(this,arguments)}function BO(){return(BO=we(function*(e,i){const t=di(e),n=i.query;let r=3;const s=t.queries.get(n);if(s){const o=s.U_.indexOf(i);o>=0&&(s.U_.splice(o,1),0===s.U_.length?r=i.G_()?0:1:!s.W_()&&i.G_()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}})).apply(this,arguments)}function aNt(e,i){const t=di(e);let n=!1;for(const r of i){const o=t.queries.get(r.query);if(o){for(const l of o.U_)l.H_(r)&&(n=!0);o.K_=r}}n&&VO(t)}function oNt(e,i,t){const n=di(e),r=n.queries.get(i);if(r)for(const s of r.U_)s.onError(t);n.queries.delete(i)}function VO(e){e.z_.forEach(i=>{i.next()})}var UO,lZ;(lZ=UO||(UO={})).J_="default",lZ.Cache="cache";class zO{constructor(i,t,n){this.query=i,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(i){if(!this.options.includeMetadataChanges){const n=[];for(const r of i.docChanges)3!==r.type&&n.push(r);i=new c0(i.query,i.docs,i.oldDocs,n,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let t=!1;return this.Z_?this.ea(i)&&(this.Y_.next(i),t=!0):this.ta(i,this.onlineState)&&(this.na(i),t=!0),this.X_=i,t}onError(i){this.Y_.error(i)}j_(i){this.onlineState=i;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,i)&&(this.na(this.X_),t=!0),t}ta(i,t){return!i.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!i.docs.isEmpty()||i.hasCachedResults||"Offline"===t)}ea(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(i){i=c0.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.Z_=!0,this.Y_.next(i)}G_(){return this.options.source!==UO.Cache}}class hZ{constructor(i){this.key=i}}class dZ{constructor(i){this.key=i}}class fZ{constructor(i,t){this.query=i,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Cn(),this.mutatedKeys=Cn(),this.Ia=SQ(i),this.Ta=new l0(this.Ia)}get Ea(){return this.la}da(i,t){const n=t?t.Aa:new oZ,r=t?t.Ta:this.Ta;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,l=!1;const w="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,E="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(i.inorderTraversal((D,k)=>{const O=r.get(D),L=kb(this.query,k)?k:null,U=!!O&&this.mutatedKeys.has(O.key),j=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let W=!1;O&&L?O.data.isEqual(L.data)?U!==j&&(n.track({type:3,doc:L}),W=!0):this.Ra(O,L)||(n.track({type:2,doc:L}),W=!0,(w&&this.Ia(L,w)>0||E&&this.Ia(L,E)<0)&&(l=!0)):!O&&L?(n.track({type:0,doc:L}),W=!0):O&&!L&&(n.track({type:1,doc:O}),W=!0,(w||E)&&(l=!0)),W&&(L?(o=o.add(L),s=j?s.add(D):s.delete(D)):(o=o.delete(D),s=s.delete(D)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const D="F"===this.query.limitType?o.last():o.first();o=o.delete(D.key),s=s.delete(D.key),n.track({type:1,doc:D})}return{Ta:o,Aa:n,Xi:l,mutatedKeys:s}}Ra(i,t){return i.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(i,t,n,r){const s=this.Ta;this.Ta=i.Ta,this.mutatedKeys=i.mutatedKeys;const o=i.Aa.Q_();o.sort((D,k)=>function(L,U){const j=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ti()}};return j(L)-j(U)}(D.type,k.type)||this.Ia(D.doc,k.doc)),this.Va(n),r=null!=r&&r;const l=t&&!r?this.ma():[],w=0===this.Pa.size&&this.current&&!r?1:0,E=w!==this.ha;return this.ha=w,0!==o.length||E?{snapshot:new c0(this.query,i.Ta,s,o,i.mutatedKeys,0===w,E,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new oZ,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(i){return!this.la.has(i)&&!!this.Ta.has(i)&&!this.Ta.get(i).hasLocalMutations}Va(i){i&&(i.addedDocuments.forEach(t=>this.la=this.la.add(t)),i.modifiedDocuments.forEach(t=>{}),i.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=i.current)}ma(){if(!this.current)return[];const i=this.Pa;this.Pa=Cn(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});const t=[];return i.forEach(n=>{this.Pa.has(n)||t.push(new dZ(n))}),this.Pa.forEach(n=>{i.has(n)||t.push(new hZ(n))}),t}pa(i){this.la=i.hs,this.Pa=Cn();const t=this.da(i.documents);return this.applyChanges(t,!0)}ya(){return c0.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class uNt{constructor(i,t,n){this.query=i,this.targetId=t,this.view=n}}class hNt{constructor(i){this.key=i,this.wa=!1}}class dNt{constructor(i,t,n,r,s,o){this.localStore=i,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Rh(l=>TQ(l),Pb),this.Da=new Map,this.Ca=new Set,this.va=new Yr(gi.comparator),this.Fa=new Map,this.Ma=new tO,this.xa={},this.Oa=new Map,this.Na=Yp.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function fNt(e,i){return GO.apply(this,arguments)}function GO(){return(GO=we(function*(e,i,t=!0){const n=__(e);let r;const s=n.ba.get(i);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield pZ(n,i,t,!0),r})).apply(this,arguments)}function pNt(e,i){return HO.apply(this,arguments)}function HO(){return(HO=we(function*(e,i){const t=__(e);yield pZ(t,i,!0,!1)})).apply(this,arguments)}function pZ(e,i,t,n){return WO.apply(this,arguments)}function WO(){return(WO=we(function*(e,i,t,n){const r=yield function t0(e,i){const t=di(e);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return t.Qr.getTargetData(n,i).next(s=>s?(r=s,se.resolve(r)):t.Qr.allocateTargetId(n).next(o=>(r=new kh(i,o,"TargetPurposeListen",n.currentSequenceNumber),t.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=t.ns.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ns=t.ns.insert(n.targetId,n),t.rs.set(i,n.targetId)),n})}(e.localStore,po(i)),s=r.targetId,o=t?e.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return n&&(l=yield function jO(e,i,t,n,r){return XO.apply(this,arguments)}(e,i,s,"current"===o,r.resumeToken)),e.isPrimaryClient&&t&&S_(e.remoteStore,r),l})).apply(this,arguments)}function XO(){return XO=we(function*(e,i,t,n,r){e.Ba=(k,O,L)=>{return(U=we(function*(W,Z,rt,st){let yt=Z.view.da(rt);yt.Xi&&(yt=yield x_(W.localStore,Z.query,!1).then(({documents:ht})=>Z.view.da(ht,yt)));const Tt=st&&st.targetChanges.get(Z.targetId),It=st&&null!=st.targetMismatches.get(Z.targetId),ft=Z.view.applyChanges(yt,W.isPrimaryClient,Tt,It);return nL(W,Z.targetId,ft.fa),ft.snapshot}),function j(W,Z,rt,st){return U.apply(this,arguments)})(e,k,O,L);var U};const s=yield x_(e.localStore,i,!0),o=new fZ(i,s.hs),l=o.da(s.documents),w=Ub.createSynthesizedTargetChangeForCurrentChange(t,n&&"Offline"!==e.onlineState,r),E=o.applyChanges(l,e.isPrimaryClient,w);nL(e,t,E.fa);const D=new uNt(i,t,o);return e.ba.set(i,D),e.Da.has(t)?e.Da.get(t).push(i):e.Da.set(t,[i]),E.snapshot}),XO.apply(this,arguments)}function mNt(e,i,t){return YO.apply(this,arguments)}function YO(){return(YO=we(function*(e,i,t){const n=di(e),r=n.ba.get(i),s=n.Da.get(r.targetId);if(s.length>1)return n.Da.set(r.targetId,s.filter(o=>!Pb(o,i))),void n.ba.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield e0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),t&&r0(n.remoteStore,r.targetId),u0(n,r.targetId)}).catch(Yd))):(u0(n,r.targetId),yield e0(n.localStore,r.targetId,!0))})).apply(this,arguments)}function gNt(e,i){return $O.apply(this,arguments)}function $O(){return($O=we(function*(e,i){const t=di(e),n=t.ba.get(i),r=t.Da.get(n.targetId);t.isPrimaryClient&&1===r.length&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),r0(t.remoteStore,n.targetId))})).apply(this,arguments)}function QO(){return(QO=we(function*(e,i,t){const n=function pL(e){const i=di(e);return i.remoteStore.remoteSyncer.applySuccessfulWrite=xNt.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=bNt.bind(null,i),i}(e);try{const r=yield function(o,l){const w=di(o),E=us.now(),D=l.reduce((L,U)=>L.add(U.key),Cn());let k,O;return w.persistence.runTransaction("Locally write mutations","readwrite",L=>{let U=ul(),j=Cn();return w.os.getEntries(L,D).next(W=>{U=W,U.forEach((Z,rt)=>{rt.isValidDocument()||(j=j.add(Z))})}).next(()=>w.localDocuments.getOverlayedDocuments(L,U)).next(W=>{k=W;const Z=[];for(const rt of l){const st=jOt(rt,k.get(rt.key).overlayedDocument);null!=st&&Z.push(new Ph(rt.key,st,aQ(st.value.mapValue),ds.exists(!0)))}return w.mutationQueue.addMutationBatch(L,E,Z,l)}).next(W=>{O=W;const Z=W.applyToLocalDocumentSet(k,j);return w.documentOverlayCache.saveOverlays(L,W.batchId,Z)})}).then(()=>({batchId:O.batchId,changes:_Q(k)}))}(n.localStore,i);n.sharedClientState.addPendingMutation(r.batchId),function(o,l,w){let E=o.xa[o.currentUser.toKey()];E||(E=new Yr(cn)),E=E.insert(l,w),o.xa[o.currentUser.toKey()]=E}(n,r.batchId,t),yield Fh(n,r.changes),yield s0(n.remoteStore)}catch(r){const s=o0(r,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function mZ(e,i){return KO.apply(this,arguments)}function KO(){return(KO=we(function*(e,i){const t=di(e);try{const n=yield function OLt(e,i){const t=di(e),n=i.snapshotVersion;let r=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.os.newChangeBuffer({trackRemovals:!0});r=t.ns;const l=[];i.targetChanges.forEach((D,k)=>{const O=r.get(k);if(!O)return;l.push(t.Qr.removeMatchingKeys(s,D.removedDocuments,k).next(()=>t.Qr.addMatchingKeys(s,D.addedDocuments,k)));let L=O.withSequenceNumber(s.currentSequenceNumber);var j,W,Z;null!==i.targetMismatches.get(k)?L=L.withResumeToken(xa.EMPTY_BYTE_STRING,Oi.min()).withLastLimboFreeSnapshotVersion(Oi.min()):D.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(D.resumeToken,n)),r=r.insert(k,L),W=L,Z=D,(0===(j=O).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&l.push(t.Qr.updateTargetData(s,L))});let w=ul(),E=Cn();if(i.documentUpdates.forEach(D=>{i.resolvedLimboDocuments.has(D)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,D))}),l.push(function jK(e,i,t){let n=Cn(),r=Cn();return t.forEach(s=>n=n.add(s)),i.getEntries(e,n).next(s=>{let o=ul();return t.forEach((l,w)=>{const E=s.get(l);w.isFoundDocument()!==E.isFoundDocument()&&(r=r.add(l)),w.isNoDocument()&&w.version.isEqual(Oi.min())?(i.removeEntry(l,w.readTime),o=o.insert(l,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||0===w.version.compareTo(E.version)&&E.hasPendingWrites?(i.addEntry(w),o=o.insert(l,w)):Be("LocalStore","Ignoring outdated watch update for ",l,". Current version:",E.version," Watch version:",w.version)}),{cs:o,ls:r}})}(s,o,i.documentUpdates).next(D=>{w=D.cs,E=D.ls})),!n.isEqual(Oi.min())){const D=t.Qr.getLastRemoteSnapshotVersion(s).next(k=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,n));l.push(D)}return se.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,w,E)).next(()=>w)}).then(s=>(t.ns=r,s))}(t.localStore,i);i.targetChanges.forEach((r,s)=>{const o=t.Fa.get(s);o&&(Fi(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Fi(o.wa):r.removedDocuments.size>0&&(Fi(o.wa),o.wa=!1))}),yield Fh(t,n,i)}catch(n){yield Yd(n)}})).apply(this,arguments)}function gZ(e,i,t){const n=di(e);if(n.isPrimaryClient&&0===t||!n.isPrimaryClient&&1===t){const r=[];n.ba.forEach((s,o)=>{const l=o.view.j_(i);l.snapshot&&r.push(l.snapshot)}),function(o,l){const w=di(o);w.onlineState=l;let E=!1;w.queries.forEach((D,k)=>{for(const O of k.U_)O.j_(l)&&(E=!0)}),E&&VO(w)}(n.eventManager,i),r.length&&n.Sa.h_(r),n.onlineState=i,n.isPrimaryClient&&n.sharedClientState.setOnlineState(i)}}function yNt(e,i,t){return ZO.apply(this,arguments)}function ZO(){return(ZO=we(function*(e,i,t){const n=di(e);n.sharedClientState.updateQueryState(i,"rejected",t);const r=n.Fa.get(i),s=r&&r.key;if(s){let o=new Yr(gi.comparator);o=o.insert(s,ts.newNoDocument(s,Oi.min()));const l=Cn().add(s),w=new Vb(Oi.min(),new Map,new Yr(cn),o,l);yield mZ(n,w),n.va=n.va.remove(s),n.Fa.delete(i),rL(n)}else yield e0(n.localStore,i,!1).then(()=>u0(n,i,t)).catch(Yd)})).apply(this,arguments)}function xNt(e,i){return JO.apply(this,arguments)}function JO(){return(JO=we(function*(e,i){const t=di(e),n=i.batch.batchId;try{const r=yield function FLt(e,i){const t=di(e);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=i.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(l,w,E,D){const k=E.batch,O=k.keys();let L=se.resolve();return O.forEach(U=>{L=L.next(()=>D.getEntry(w,U)).next(j=>{const W=E.docVersions.get(U);Fi(null!==W),j.version.compareTo(W)<0&&(k.applyToRemoteDocument(j,E),j.isValidDocument()&&(j.setReadTime(E.commitVersion),D.addEntry(j)))})}),L.next(()=>l.mutationQueue.removeMutationBatch(w,k))}(t,n,i,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,i.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let w=Cn();for(let E=0;E<l.mutationResults.length;++E)l.mutationResults[E].transformResults.length>0&&(w=w.add(l.batch.mutations[E].key));return w}(i))).next(()=>t.localDocuments.getDocuments(n,r))})}(t.localStore,i);iL(t,n,null),eL(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),yield Fh(t,r)}catch(r){yield Yd(r)}})).apply(this,arguments)}function bNt(e,i,t){return qO.apply(this,arguments)}function qO(){return(qO=we(function*(e,i,t){const n=di(e);try{const r=yield function(o,l){const w=di(o);return w.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let D;return w.mutationQueue.lookupMutationBatch(E,l).next(k=>(Fi(null!==k),D=k.keys(),w.mutationQueue.removeMutationBatch(E,k))).next(()=>w.mutationQueue.performConsistencyCheck(E)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(E,D,l)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,D)).next(()=>w.localDocuments.getDocuments(E,D))})}(n.localStore,i);iL(n,i,t),eL(n,i),n.sharedClientState.updateMutationState(i,"rejected",t),yield Fh(n,r)}catch(r){yield Yd(r)}})).apply(this,arguments)}function eL(e,i){(e.Oa.get(i)||[]).forEach(t=>{t.resolve()}),e.Oa.delete(i)}function iL(e,i,t){const n=di(e);let r=n.xa[n.currentUser.toKey()];if(r){const s=r.get(i);s&&(t?s.reject(t):s.resolve(),r=r.remove(i)),n.xa[n.currentUser.toKey()]=r}}function u0(e,i,t=null){e.sharedClientState.removeLocalQueryTarget(i);for(const n of e.Da.get(i))e.ba.delete(n),t&&e.Sa.ka(n,t);e.Da.delete(i),e.isPrimaryClient&&e.Ma.Vr(i).forEach(n=>{e.Ma.containsKey(n)||vZ(e,n)})}function vZ(e,i){e.Ca.delete(i.path.canonicalString());const t=e.va.get(i);null!==t&&(r0(e.remoteStore,t),e.va=e.va.remove(i),e.Fa.delete(t),rL(e))}function nL(e,i,t){for(const n of t)n instanceof hZ?(e.Ma.addReference(n.key,i),TNt(e,n)):n instanceof dZ?(Be("SyncEngine","Document no longer in limbo: "+n.key),e.Ma.removeReference(n.key,i),e.Ma.containsKey(n.key)||vZ(e,n.key)):Ti()}function TNt(e,i){const t=i.key,n=t.path.canonicalString();e.va.get(t)||e.Ca.has(n)||(Be("SyncEngine","New document in limbo: "+t),e.Ca.add(n),rL(e))}function rL(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const i=e.Ca.values().next().value;e.Ca.delete(i);const t=new gi(Wn.fromString(i)),n=e.Na.next();e.Fa.set(n,new hNt(t)),e.va=e.va.insert(t,n),S_(e.remoteStore,new kh(po(zv(t.path)),n,"TargetPurposeLimboResolution",Ll.oe))}}function Fh(e,i,t){return sL.apply(this,arguments)}function sL(){return sL=we(function*(e,i,t){const n=di(e),r=[],s=[],o=[];var l;n.ba.isEmpty()||(n.ba.forEach((l,w)=>{o.push(n.Ba(w,i,t).then(E=>{var D;if((E||t)&&n.isPrimaryClient){const k=E?!E.fromCache:null===(D=t?.targetChanges.get(w.targetId))||void 0===D?void 0:D.current;n.sharedClientState.updateQueryState(w.targetId,k?"current":"not-current")}if(E){r.push(E);const k=sO.Ki(w.targetId,E);s.push(k)}}))}),yield Promise.all(o),n.Sa.h_(r),yield(l=we(function*(E,D){const k=di(E);try{yield k.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>se.forEach(D,L=>se.forEach(L.qi,U=>k.persistence.referenceDelegate.addReference(O,L.targetId,U)).next(()=>se.forEach(L.Qi,U=>k.persistence.referenceDelegate.removeReference(O,L.targetId,U)))))}catch(O){if(!$d(O))throw O;Be("LocalStore","Failed to update sequence numbers: "+O)}for(const O of D){const L=O.targetId;if(!O.fromCache){const U=k.ns.get(L),W=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);k.ns=k.ns.insert(L,W)}}}),function w(E,D){return l.apply(this,arguments)})(n.localStore,s))}),sL.apply(this,arguments)}function CNt(e,i){return aL.apply(this,arguments)}function aL(){return(aL=we(function*(e,i){const t=di(e);if(!t.currentUser.isEqual(i)){Be("SyncEngine","User change. New user:",i.toKey());const n=yield HK(t.localStore,i);t.currentUser=i,(s=t).Oa.forEach(l=>{l.forEach(w=>{w.reject(new Ve(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Oa.clear(),t.sharedClientState.handleUserChange(i,n.removedBatchIds,n.addedBatchIds),yield Fh(t,n.us)}var s})).apply(this,arguments)}function SNt(e,i){const t=di(e),n=t.Fa.get(i);if(n&&n.wa)return Cn().add(n.key);{let r=Cn();const s=t.Da.get(i);if(!s)return r;for(const o of s){const l=t.ba.get(o);r=r.unionWith(l.view.Ea)}return r}}function __(e){const i=di(e);return i.remoteStore.remoteSyncer.applyRemoteEvent=mZ.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=SNt.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=yNt.bind(null,i),i.Sa.h_=aNt.bind(null,i.eventManager),i.Sa.ka=oNt.bind(null,i.eventManager),i}class h0{constructor(){this.synchronizeTabs=!1}initialize(i){var t=this;return we(function*(){t.serializer=Kb(i.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(i),t.persistence=t.createPersistence(i),yield t.persistence.start(),t.localStore=t.createLocalStore(i),t.gcScheduler=t.createGarbageCollectionScheduler(i,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(i,t.localStore)})()}createGarbageCollectionScheduler(i,t){return null}createIndexBackfillerScheduler(i,t){return null}createLocalStore(i){return function GK(e,i,t,n){return new kLt(e,i,t,n)}(this.persistence,new zK,i.initialUser,this.serializer)}createPersistence(i){return new eO(g_.Hr,this.serializer)}createSharedClientState(i){return new ZK}terminate(){var i=this;return we(function*(){var t,n;null===(t=i.gcScheduler)||void 0===t||t.stop(),null===(n=i.indexBackfillerScheduler)||void 0===n||n.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class d0{initialize(i,t){var n=this;return we(function*(){n.localStore||(n.localStore=i.localStore,n.sharedClientState=i.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!i.synchronizeTabs),n.sharedClientState.onlineStateHandler=r=>gZ(n.syncEngine,r,1),n.remoteStore.remoteSyncer.handleCredentialChange=CNt.bind(null,n.syncEngine),yield PO(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(i){return new sNt}createDatastore(i){const t=Kb(i.databaseInfo.databaseId),n=new GLt(i.databaseInfo);return new jLt(i.authCredentials,i.appCheckCredentials,n,t)}createRemoteStore(i){return n=this.localStore,r=this.datastore,s=i.asyncQueue,o=t=>gZ(this.syncEngine,t,0),l=JK.D()?new JK:new VLt,new YLt(n,r,s,o,l);var n,r,s,o,l}createSyncEngine(i,t){return function(r,s,o,l,w,E,D){const k=new dNt(r,s,o,l,w,E);return D&&(k.La=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,t)}terminate(){var i=this;return we(function*(){var t,n;yield(n=we(function*(s){const o=di(s);Be("RemoteStore","RemoteStore shutting down."),o.M_.add(5),yield n0(o),o.O_.shutdown(),o.N_.set("Unknown")}),function r(s){return n.apply(this,arguments)})(i.remoteStore),null===(t=i.datastore)||void 0===t||t.terminate()})()}}class A_{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Ka(this.observer.next,i)}error(i){this.observer.error?this.Ka(this.observer.error,i):Os("Uncaught Error in snapshot listener:",i.toString())}$a(){this.muted=!0}Ka(i,t){this.muted||setTimeout(()=>{this.muted||i(t)},0)}}class NNt{constructor(i,t,n,r){var s=this;this.authCredentials=i,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ra.UNAUTHENTICATED,this.clientId=k$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var o=we(function*(l){Be("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(n,o=>(Be("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const t=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(we(function*(){try{i._onlineComponents&&(yield i._onlineComponents.terminate()),i._offlineComponents&&(yield i._offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=o0(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function D_(e,i){return gL.apply(this,arguments)}function gL(){return gL=we(function*(e,i){e.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=e.configuration;yield i.initialize(t);let n=t.initialUser;e.setCredentialChangeListener(function(){var r=we(function*(s){n.isEqual(s)||(yield HK(i.localStore,s),n=s)});return function(s){return r.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=i}),gL.apply(this,arguments)}function vL(e,i){return yL.apply(this,arguments)}function yL(){return(yL=we(function*(e,i){e.asyncQueue.verifyOperationInProgress();const t=yield function xL(e){return bL.apply(this,arguments)}(e);Be("FirestoreClient","Initializing OnlineComponentProvider"),yield i.initialize(t,e.configuration),e.setCredentialChangeListener(n=>aZ(i.remoteStore,n)),e.setAppCheckTokenChangeListener((n,r)=>aZ(i.remoteStore,r)),e._onlineComponents=i})).apply(this,arguments)}function bL(){return(bL=we(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield D_(e,e._uninitializedComponentsProvider._offline)}catch(i){const t=i;if(!function TZ(e){return"FirebaseError"===e.name?e.code===ge.FAILED_PRECONDITION||e.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(t))throw t;Fl("Error using user provided cache. Falling back to memory cache: "+t),yield D_(e,new h0)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield D_(e,new h0);return e._offlineComponents})).apply(this,arguments)}function M_(e){return wL.apply(this,arguments)}function wL(){return(wL=we(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield vL(e,e._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield vL(e,new d0))),e._onlineComponents})).apply(this,arguments)}function CL(){return(CL=we(function*(e){const i=yield M_(e),t=i.eventManager;return t.onListen=fNt.bind(null,i.syncEngine),t.onUnlisten=mNt.bind(null,i.syncEngine),t.onFirstRemoteStoreListen=pNt.bind(null,i.syncEngine),t.onLastRemoteStoreUnlisten=gNt.bind(null,i.syncEngine),t})).apply(this,arguments)}function AZ(e,i,t={}){const n=new ya;return e.asyncQueue.enqueueAndForget(we(function*(){return function(s,o,l,w,E){const D=new A_({next:O=>{o.enqueueAndForget(()=>function NO(e,i){return BO.apply(this,arguments)}(s,k)),O.fromCache&&"server"===w.source?E.reject(new Ve(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(O)},error:O=>E.reject(O)}),k=new zO(l,D,{includeMetadataChanges:!0,ra:!0});return function OO(e,i){return LO.apply(this,arguments)}(s,k)}(yield function p0(e){return CL.apply(this,arguments)}(e),e.asyncQueue,i,t,n)})),n.promise}function DZ(e){const i={};return void 0!==e.timeoutSeconds&&(i.timeoutSeconds=e.timeoutSeconds),i}const MZ=new Map;function SL(e,i,t){if(!t)throw new Ve(ge.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${i}.`)}function IZ(e){if(!gi.isDocumentKey(e))throw new Ve(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function RZ(e){if(gi.isDocumentKey(e))throw new Ve(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function I_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const i=(n=e).constructor?n.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var n;return"function"==typeof e?"a function":Ti()}function Vn(e,i){if("_delegate"in e&&(e=e._delegate),!(e instanceof i)){if(i.name===e.constructor.name)throw new Ve(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=I_(e);throw new Ve(ge.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${t}`)}}return e}class kZ{constructor(i){var t,n;if(void 0===i.host){if(void 0!==i.ssl)throw new Ve(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(t=i.ssl)||void 0===t||t;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Ve(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}(function QNt(e,i,t,n){if(!0===i&&!0===n)throw new Ve(ge.INVALID_ARGUMENT,`${e} and ${t} cannot be used together.`)})("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==i.experimentalAutoDetectLongPolling&&!i.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=DZ(null!==(n=i.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ve(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ve(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ve(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===i.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Jb{constructor(i,t,n,r){this._authCredentials=i,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kZ({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Ve(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kZ(i),void 0!==i.credentials&&(this._authCredentials=function(n){if(!n)return new jFt;switch(n.type){case"firstParty":return new QFt(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=MZ.get(t);n&&(Be("ComponentProvider","Removing Datastore"),MZ.delete(t),n.terminate())}(this),Promise.resolve()}}class Ka{constructor(i,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=i}withConverter(i){return new Ka(this.firestore,i,this._query)}}class Ns{constructor(i,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Du(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Ns(this.firestore,i,this._key)}}class Du extends Ka{constructor(i,t,n){super(i,t,zv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Ns(this.firestore,null,new gi(i))}withConverter(i){return new Du(this.firestore,i,this._path)}}function FZ(e,i,...t){if(e=Vc(e),SL("collection","path",i),e instanceof Jb){const n=Wn.fromString(i,...t);return RZ(n),new Du(e,null,n)}{if(!(e instanceof Ns||e instanceof Du))throw new Ve(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wn.fromString(i,...t));return RZ(n),new Du(e.firestore,null,n)}}class JNt{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new mO(this,"async_queue_retry"),this.hu=()=>{const t=C_();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const i=C_();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Pu(),this.Iu(i)}enterRestrictedMode(i){if(!this.ou){this.ou=!0,this.cu=i||!1;const t=C_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(i){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new ya;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(i().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.su.push(i),this.Tu()))}Tu(){var i=this;return we(function*(){if(0!==i.su.length){try{yield i.su[0](),i.su.shift(),i.Yo.reset()}catch(t){if(!$d(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}i.su.length>0&&i.Yo.$o(()=>i.Tu())}})()}Iu(i){const t=this.iu.then(()=>(this.uu=!0,i().catch(n=>{throw this.au=n,this.uu=!1,Os("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(n)),n}).then(n=>(this.uu=!1,n))));return this.iu=t,t}enqueueAfterDelay(i,t,n){this.Pu(),this.lu.indexOf(i)>-1&&(t=0);const r=FO.createAndSchedule(this,i,t,n,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&Ti()}verifyOperationInProgress(){}du(){var i=this;return we(function*(){let t;do{t=i.iu,yield t}while(t!==i.iu)})()}Au(i){for(const t of this._u)if(t.timerId===i)return!0;return!1}Ru(i){return this.du().then(()=>{this._u.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==i&&t.timerId===i)break;return this.du()})}Vu(i){this.lu.push(i)}Eu(i){const t=this._u.indexOf(i);this._u.splice(t,1)}}class kr extends Jb{constructor(i,t,n,r){super(i,t,n,r),this.type="firestore",this._queue=new JNt,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LZ(this),this._firestoreClient.terminate()}}function t4t(e,i){const t="object"==typeof e?e:function FFt(e=GE){const i=Rp.get(e);if(!i&&e===GE&&JY())return m$();if(!i)throw uc.create("no-app",{appName:e});return i}(),n="string"==typeof e?e:i||"(default)",r=function f$(e,i){const t=e.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),e.container.getProvider(i)}(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const s=(e=>{const i=(e=>{var i,t;return null===(t=null===(i=VE())||void 0===i?void 0:i.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!i)return;const t=i.lastIndexOf(":");if(t<=0||t+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);const n=parseInt(i.substring(t+1),10);return"["===i[0]?[i.substring(1,t-1),n]:[i.substring(0,t),n]})("firestore");s&&function KNt(e,i,t,n={}){var r;const s=(e=Vn(e,Jb))._getSettings(),o=`${i}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let l,w;if("string"==typeof n.mockUserToken)l=n.mockUserToken,w=Ra.MOCK_USER;else{l=function Ckt(e,i){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=i||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[BE(JSON.stringify({alg:"none",type:"JWT"})),BE(JSON.stringify(o)),""].join(".")}(n.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const E=n.mockUserToken.sub||n.mockUserToken.user_id;if(!E)throw new Ve(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ra(E)}e._authCredentials=new XFt(new R$(l,w))}}(r,...s)}return r}function bs(e){return e._firestoreClient||LZ(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function LZ(e){var i,t,n;const r=e._freezeSettings(),s=(w=(null===(i=e._app)||void 0===i?void 0:i.options.appId)||"",new SOt(e._databaseId,w,e._persistenceKey,(D=r).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,DZ(D.experimentalLongPollingOptions),D.useFetchStreams));var w,D;e._firestoreClient=new NNt(e._authCredentials,e._appCheckCredentials,e._queue,s),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(n=r.localCache)&&void 0!==n&&n._onlineComponentProvider&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Qp{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Qp(xa.fromBase64String(i))}catch(t){throw new Ve(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(i){return new Qp(xa.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Kp{constructor(...i){for(let t=0;t<i.length;++t)if(0===i[t].length)throw new Ve(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hs(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class m0{constructor(i){this._methodName=i}}class _L{constructor(i,t){if(!isFinite(i)||i<-90||i>90)throw new Ve(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(t)||t<-180||t>180)throw new Ve(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=i,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return cn(this._lat,i._lat)||cn(this._long,i._long)}}const i4t=/^__.*__$/;class n4t{constructor(i,t,n){this.data=i,this.fieldMask=t,this.fieldTransforms=n}toMutation(i,t){return null!==this.fieldMask?new Ph(i,this.data,this.fieldMask,t,this.fieldTransforms):new Xv(i,this.data,t,this.fieldTransforms)}}function UZ(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ti()}}class R_{constructor(i,t,n,r,s,o){this.settings=i,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(i){return new R_(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(i){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(i),r=this.gu({path:n,yu:!1});return r.wu(i),r}Su(i){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(i),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(i){return this.gu({path:void 0,yu:!0})}Du(i){return F_(i,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(i){return void 0!==this.fieldMask.find(t=>i.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>i.isPrefixOf(t.field))}mu(){if(this.path)for(let i=0;i<this.path.length;i++)this.wu(this.path.get(i))}wu(i){if(0===i.length)throw this.Du("Document fields must not be empty");if(UZ(this.fu)&&i4t.test(i))throw this.Du('Document fields cannot begin and end with "__"')}}class r4t{constructor(i,t,n){this.databaseId=i,this.ignoreUndefinedProperties=t,this.serializer=n||Kb(i)}Fu(i,t,n,r=!1){return new R_({fu:i,methodName:t,vu:n,path:hs.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(e){const i=e._freezeSettings(),t=Kb(e._databaseId);return new r4t(e._databaseId,!!i.ignoreUndefinedProperties,t)}function P_(e,i,t,n,r,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,i,t,r);kL("Data must be an object, but it was:",o,n);const l=HZ(n,o);let w,E;if(s.merge)w=new cl(o.fieldMask),E=o.fieldTransforms;else if(s.mergeFields){const D=[];for(const k of s.mergeFields){const O=e1(i,k,t);if(!o.contains(O))throw new Ve(ge.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);jZ(D,O)||D.push(O)}w=new cl(D),E=o.fieldTransforms.filter(k=>w.covers(k.field))}else w=null,E=o.fieldTransforms;return new n4t(new Qa(l),w,E)}function Jp(e,i){if(WZ(e=Vc(e)))return kL("Unsupported field value:",i,e),HZ(e,i);if(e instanceof m0)return function(n,r){if(!UZ(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,i),null;if(void 0===e&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),e instanceof Array){if(i.settings.yu&&4!==i.fu)throw i.Du("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const l of n){let w=Jp(l,r.bu(o));null==w&&(w={nullValue:"NULL_VALUE"}),s.push(w),o++}return{arrayValue:{values:s}}}(e,i)}return function(n,r){if(null===(n=Vc(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return IQ(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const s=us.fromDate(n);return{timestampValue:$v(r.serializer,s)}}if(n instanceof us){const s=new us(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$v(r.serializer,s)}}if(n instanceof _L)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qp)return{bytesValue:JQ(r.serializer,n._byteString)};if(n instanceof Ns){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:HF(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${I_(n)}`)}(e,i)}function HZ(e,i){const t={};return Z$(e)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Qd(e,(n,r)=>{const s=Jp(r,i.pu(n));null!=s&&(t[n]=s)}),{mapValue:{fields:t}}}function WZ(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof us||e instanceof _L||e instanceof Qp||e instanceof Ns||e instanceof m0)}function kL(e,i,t){if(!WZ(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const n=I_(t);throw i.Du("an object"===n?e+" a custom object":e+" "+n)}var r}function e1(e,i,t){if((i=Vc(i))instanceof Kp)return i._internalPath;if("string"==typeof i)return k_(e,i);throw F_("Field path arguments must be of type string or ",e,!1,void 0,t)}const s4t=new RegExp("[~\\*/\\[\\]]");function k_(e,i,t){if(i.search(s4t)>=0)throw F_(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,t);try{return new Kp(...i.split("."))._internalPath}catch{throw F_(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,t)}}function F_(e,i,t,n,r){const s=n&&!n.isEmpty(),o=void 0!==r;let l=`Function ${i}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let w="";return(s||o)&&(w+=" (found",s&&(w+=` in field ${n}`),o&&(w+=` in document ${r}`),w+=")"),new Ve(ge.INVALID_ARGUMENT,l+e+w)}function jZ(e,i){return e.some(t=>t.isEqual(i))}class n1{constructor(i,t,n,r,s){this._firestore=i,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ns(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new a4t(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const t=this._document.data.field(O_("DocumentSnapshot.get",i));if(null!==t)return this._userDataWriter.convertValue(t)}}}class a4t extends n1{data(){return super.data()}}function O_(e,i){return"string"==typeof i?k_(e,i):i instanceof Kp?i._internalPath:i._delegate._internalPath}class FL{}class r1 extends FL{}class s1 extends r1{constructor(i,t,n){super(),this._field=i,this._op=t,this._value=n,this.type="where"}static _create(i,t,n){return new s1(i,t,n)}_apply(i){const t=this._parse(i);return KZ(i._query,t),new Ka(i.firestore,i.converter,OF(i._query,t))}_parse(i){const t=Zp(i.firestore);return function(s,o,l,w,E,D,k){let O;if(E.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ve(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){QZ(k,D);const L=[];for(const U of k)L.push($Z(w,s,U));O={arrayValue:{values:L}}}else O=$Z(w,s,k)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||QZ(k,D),O=function GZ(e,i,t,n=!1){return Jp(t,e.Fu(n?4:3,i))}(l,"where",k,"in"===D||"not-in"===D);return jn.create(E,D,O)}(i._query,0,t,i.firestore._databaseId,this._field,this._op,this._value)}}class g0 extends FL{constructor(i,t){super(),this.type=i,this._queryConstraints=t}static _create(i,t){return new g0(i,t)}_parse(i){const t=this._queryConstraints.map(n=>n._parse(i)).filter(n=>n.getFilters().length>0);return 1===t.length?t[0]:Er.create(t,this._getOperator())}_apply(i){const t=this._parse(i);return 0===t.getFilters().length?i:(function(r,s){let o=r;const l=s.getFlattenedFilters();for(const w of l)KZ(o,w),o=OF(o,w)}(i._query,t),new Ka(i.firestore,i.converter,OF(i._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class OL extends r1{constructor(i,t){super(),this._field=i,this._direction=t,this.type="orderBy"}static _create(i,t){return new OL(i,t)}_apply(i){const t=function(r,s,o){if(null!==r.startAt)throw new Ve(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ve(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ib(s,o)}(i._query,this._field,this._direction);return new Ka(i.firestore,i.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Ih(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(i._query,t))}}class L_ extends r1{constructor(i,t,n){super(),this.type=i,this._limit=t,this._limitType=n}static _create(i,t,n){return new L_(i,t,n)}_apply(i){return new Ka(i.firestore,i.converter,i_(i._query,this._limit,this._limitType))}}function $Z(e,i,t){if("string"==typeof(t=Vc(t))){if(""===t)throw new Ve(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FF(i)&&-1!==t.indexOf("/"))throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=i.path.child(Wn.fromString(t));if(!gi.isDocumentKey(n))throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Bp(e,new gi(n))}if(t instanceof Ns)return Bp(e,t._key);throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${I_(t)}.`)}function QZ(e,i){if(!Array.isArray(e)||0===e.length)throw new Ve(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`)}function KZ(e,i){const t=function(r,s){for(const o of r)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(i.op));if(null!==t)throw new Ve(ge.INVALID_ARGUMENT,t===i.op?`Invalid query. You cannot use more than one '${i.op.toString()}' filter.`:`Invalid query. You cannot use '${i.op.toString()}' filters with '${t.toString()}' filters.`)}class JZ{convertValue(i,t="none"){switch(Zd(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Es(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,t);case 5:return i.stringValue;case 6:return this.convertBytes(Mh(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,t);case 10:return this.convertObject(i.mapValue,t);default:throw Ti()}}convertObject(i,t){return this.convertObjectMap(i.fields,t)}convertObjectMap(i,t="none"){const n={};return Qd(i,(r,s)=>{n[r]=this.convertValue(s,t)}),n}convertGeoPoint(i){return new _L(Es(i.latitude),Es(i.longitude))}convertArray(i,t){return(i.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(i,t){switch(t){case"previous":const n=KE(i);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_b(i));default:return null}}convertTimestamp(i){const t=Dh(i);return new us(t.seconds,t.nanos)}convertDocumentKey(i,t){const n=Wn.fromString(i);Fi(uK(n));const r=new Np(n.get(1),n.get(3)),s=new gi(n.popFirst(5));return r.isEqual(t)||Os(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class qp{constructor(i,t){this.hasPendingWrites=i,this.fromCache=t}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class v0 extends n1{constructor(i,t,n,r,s,o){super(i,t,n,r,o),this._firestore=i,this._firestoreImpl=i,this.metadata=s}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const t=new U_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,t={}){if(this._document){const n=this._document.data.field(O_("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class U_ extends v0{data(i={}){return super.data(i)}}class y0{constructor(i,t,n,r){this._firestore=i,this._userDataWriter=t,this._snapshot=r,this.metadata=new qp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const i=[];return this.forEach(t=>i.push(t)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,t){this._snapshot.docs.forEach(n=>{i.call(t,new U_(this._firestore,this._userDataWriter,n.key,n,new qp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const t=!!i.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new U_(r._firestore,r._userDataWriter,l.doc.key,l.doc,new qp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const w=new U_(r._firestore,r._userDataWriter,l.doc.key,l.doc,new qp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,D=-1;return 0!==l.type&&(E=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),D=o.indexOf(l.doc.key)),{type:d4t(l.type),doc:w,oldIndex:E,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function d4t(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ti()}}class lf extends JZ{constructor(i){super(),this.firestore=i}convertBytes(i){return new Qp(i)}convertReference(i){const t=this.convertDocumentKey(i,this.firestore._databaseId);return new Ns(this.firestore,null,t)}}function p4t(e,i){const t=Vn(e.firestore,kr),n=function ZNt(e,i,...t){if(e=Vc(e),1===arguments.length&&(i=k$.newId()),SL("doc","path",i),e instanceof Jb){const n=Wn.fromString(i,...t);return IZ(n),new Ns(e,null,new gi(n))}{if(!(e instanceof Ns||e instanceof Du))throw new Ve(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wn.fromString(i,...t));return IZ(n),new Ns(e.firestore,e instanceof Du?e.converter:null,new gi(n))}}(e),r=function V_(e,i,t){let n;return n=e?t&&(t.merge||t.mergeFields)?e.toFirestore(i,t):e.toFirestore(i):i,n}(e.converter,i);return function a1(e,i){return function(n,r){const s=new ya;return n.asyncQueue.enqueueAndForget(we(function*(){return function vNt(e,i,t){return QO.apply(this,arguments)}(yield function TL(e){return M_(e).then(i=>i.syncEngine)}(n),r,s)})),s.promise}(bs(e),i)}(t,[P_(Zp(e.firestore),"addDoc",n._key,r,null!==e.converter,{}).toMutation(n._key,ds.exists(!1))]).then(()=>n)}!function(i,t=!0){kv="10.12.3",HE(new vb("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new kr(new YFt(n.getProvider("auth-internal")),new KFt(n.getProvider("app-check-internal")),function(E,D){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ve(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Np(E.options.projectId,D)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Pp(I$,"4.6.4",i),Pp(I$,"4.6.4","esm2017")}();let iJ=(()=>{class e{constructor(t){this.terminologyService=t,this.goals=[{name:"Bronze",score:100},{name:"Silver",score:200},{name:"Gold",score:300},{name:"Platinum",score:400},{name:"Diamond",score:500}],this.difficultyLevels=[{name:"Easy",rules:{maxHitPoints:5,hitpointsAwardedForGuessingfullTerm:1,freeHints:2,pointsPerGuessedLetter:1,goals:this.goals,difficultyBonus:0,endless:!1,maxRoundTime:60}},{name:"Medium",rules:{maxHitPoints:4,hitpointsAwardedForGuessingfullTerm:1,freeHints:1,pointsPerGuessedLetter:2,goals:this.goals,difficultyBonus:50,endless:!1,maxRoundTime:50}},{name:"Hard",rules:{maxHitPoints:3,hitpointsAwardedForGuessingfullTerm:1,freeHints:0,pointsPerGuessedLetter:3,goals:this.goals,difficultyBonus:100,endless:!1,maxRoundTime:40}},{name:"Endless",rules:{maxHitPoints:3,hitpointsAwardedForGuessingfullTerm:1,freeHints:0,pointsPerGuessedLetter:3,goals:this.goals,difficultyBonus:100,endless:!0,maxRoundTime:30}}],this.rules=this.difficultyLevels[0].rules,this.fsn="",this.scg="",this.focusConcepts=[],this.attributePairs=[],this.usedHints=new Set,this.randomLimit=4e3,this.guessResult=new Oe,this.termResult=new Oe,this.game=new Kr(this.initialize())}loadMenu(){this.clearRoundTimer(),this.game.next({...this.game.value,state:"menu"})}getDifficultyLevels(){return this.difficultyLevels}newRound(t){var n=this;return we(function*(){n.clearRoundTimer(),n.game.next({...n.game.value,state:"choosingTerm",score:t?0:n.game.value.score,hitPoints:t?n.rules.maxHitPoints:n.game.value.hitPoints,round:t?1:n.game.value.round+1,remainingTime:n.rules.maxRoundTime});const r=Math.floor(Math.random()*n.randomLimit)+1,s=yield Ia(n.terminologyService.expandValueSet("^ 816080008 |International Patient Summary| {{ C definitionStatus = defined }}","",r,1));n.randomLimit=s.expansion.total-1;const o=yield Ia(n.terminologyService.lookupConcept(s.expansion.contains[0].code));let l=n.extractFSN(o);n.fsn=l||"";let w=n.extractScg(o);n.scg=w||"";let E=n.extractFocusConcepts(w||"");n.focusConcepts=E||[];let D=n.extractAttributePairs(w||"");n.attributePairs=D||[],l?n.initializeRound(l,t):n.initializeRound("No term found"),n.usedHints.clear()})()}extractFSN(t){let n=this.extractTerm(t,"900000000000003001",this.terminologyService.getLang());return n||(n=this.extractTerm(t,"900000000000013009",this.terminologyService.getLang())),n||(n=this.extractTerm(t,"900000000000003001","en")),n}extractTerm(t,n,r){let s="";return t.parameter.forEach(o=>{if("designation"===o.name){let l=o.part.some(E=>"use"===E.name&&E.valueCoding.code===n),w=o.part.some(E=>"language"===E.name&&E.valueCode===r);l&&w&&(s=o.part.find(E=>"value"===E.name)?.valueString)}}),s}extractScg(t){let n;return t.parameter.forEach(r=>{"property"===r.name&&r.part.some(s=>"code"===s.name&&"normalForm"===s.valueString)&&(n=r.part.find(s=>"valueString"===s.name)?.valueString)}),n}extractFocusConcepts(t){const[n]=t.split(":").map(l=>l.trim()),s=n.match(/\d+\|.*?\|/g);return s?s.map(l=>this.transformSnomedConcept(l.trim())||{code:"",display:""}).filter(l=>""!==l.code):[]}extractAttributePairs(t){const n=t.split(":").slice(1).join(":").trim(),r=/(\d+\|.*?\|)\s*=\s*(\d+\|.*?\|)/g;let s;const o=[];for(;null!==(s=r.exec(n));){const l=this.transformSnomedConcept(s[1].trim()),w=this.transformSnomedConcept(s[2].trim());l&&w&&o.push({type:l,target:w})}return o}transformSnomedConcept(t){const r=t.match(/^(\d+)\|(.+?)\|$/);return r?{code:r[1],display:r[2]}:null}initialize(){return{term:"",displayTerm:[],hitPoints:this.rules.maxHitPoints,hintsAvailable:!0,hints:[],state:"menu",score:0,round:0,rules:this.rules,difficultyLevel:"",startTimestamp:0,endTimestamp:0,difficultyBonus:0,livesBonus:0,timeBonus:0,maxRoundTime:0,remainingTime:0}}startGame(t){this.clearRoundTimer(),this.rules=this.difficultyLevels.find(n=>n.name.toLowerCase()===t.toLowerCase())?.rules,this.game.next({term:"",displayTerm:[],hitPoints:this.rules.maxHitPoints,hintsAvailable:!0,hints:[],state:"playing",score:0,round:0,rules:this.rules,difficultyLevel:t,startTimestamp:Date.now(),endTimestamp:0,difficultyBonus:0,livesBonus:0,timeBonus:0,maxRoundTime:this.rules.maxRoundTime,remainingTime:this.rules.maxRoundTime}),this.newRound(!0)}initializeRound(t,n){const r=t.match(/\(([^)]+)\)$/),s=r?r[0]:"",o=s?t.lastIndexOf(s):t.length,l=t.split("").map((w,E)=>E>=o?w:/[a-zA-Z0-9\xe1-\xfa\xf1]/.test(w)?"_":w);this.game.next({...this.game.value,term:t,displayTerm:l,hitPoints:n?this.rules.maxHitPoints:this.game.value.hitPoints,hints:[],state:"playing",score:n?0:this.game.value.score,remainingTime:this.rules.maxRoundTime}),this.startRoundTimer();for(let w=0;w<this.rules.freeHints;w++)this.revealHint(!0)}removeAccents(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}guessLetter(t){let n={...this.game.value},r=!1;const s=n.term.lastIndexOf("("),o=-1!==s?s:n.term.length;if(n.term.split("").forEach((l,w)=>{w<o&&"_"===n.displayTerm[w]&&this.removeAccents(l.toLowerCase())===this.removeAccents(t.toLowerCase())&&(n.displayTerm[w]=l,r=!0,n.score+=this.rules.pointsPerGuessedLetter)}),r){if(this.guessResult.emit({letter:t,result:!0}),-1===n.displayTerm.slice(0,o).indexOf("_")&&"playing"===n.state)if(this.termResult.emit(n.term),this.clearRoundTimer(),n.score>this.goals[this.goals.length-1].score&&!1===this.rules.endless){n.state="won",n.endTimestamp=Date.now(),n.difficultyBonus=this.rules.difficultyBonus,n.livesBonus=10*n.hitPoints;const w=Math.round((n.endTimestamp-n.startTimestamp)/1e3);n.timeBonus=Math.max(0,180-w),n.score+=n.difficultyBonus+n.livesBonus+n.timeBonus}else n.hitPoints=n.hitPoints+this.rules.hitpointsAwardedForGuessingfullTerm,n.hitPoints>this.rules.maxHitPoints&&(n.hitPoints=this.rules.maxHitPoints),setTimeout(()=>{this.newRound()},1500)}else this.guessResult.emit({letter:t,result:!1}),n.hitPoints-=1,n.hitPoints<=0&&(n.hitPoints=0,n.state="gameOver",n.endTimestamp=Date.now(),n.difficultyBonus=this.rules.difficultyBonus,n.score+=n.difficultyBonus,this.clearRoundTimer());this.game.next(n)}revealHint(t){let n={...this.game.value},r="";if(0===this.focusConcepts.length&&0===this.attributePairs.length)return n.hints.push("No more hints available."),void this.game.next(n);let s=this.focusConcepts.length>0,o=this.attributePairs.length>0;if(s&&o&&(s=Math.random()<.5),s){let l=Math.floor(Math.random()*this.focusConcepts.length);r=`One of the parents of this concept is: <i>${this.focusConcepts[l].display}</i>`,this.focusConcepts.splice(l,1)}else if(o){let l=Math.floor(Math.random()*this.attributePairs.length),w=this.attributePairs[l];r=`This concept has a <i>${w.type.display}</i> of <i>${w.target.display}</i>`,this.attributePairs.splice(l,1)}this.usedHints.add(r),n.hints.push(r),t||(n.hitPoints-=1),n.hintsAvailable=this.focusConcepts.length>0||this.attributePairs.length>0,this.game.next(n),n.hitPoints<=0&&(n.hitPoints=0,n.state="gameOver",n.endTimestamp=Date.now(),this.clearRoundTimer(),this.game.next(n))}getGameState(){return this.game.asObservable()}startRoundTimer(){this.roundTimer=setInterval(()=>{const t=this.game.value,n=t.remainingTime-1,r={...t,remainingTime:n};n<=0?(r.remainingTime=0,r.state="gameOver",r.endTimestamp=Date.now(),this.clearRoundTimer(),this.game.next(r)):this.game.next(r)},1e3)}clearRoundTimer(){this.roundTimer&&(clearInterval(this.roundTimer),this.roundTimer=null)}static{this.\u0275fac=function(n){return new(n||e)(re(ma))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),A4t=(()=>{class e{constructor(){this.loadingProgress=new Kr(0)}preloadImages(t){const n=t.map((r,s)=>this.preloadImage(r,t.length,s));return Promise.all(n).then(()=>{this.loadingProgress.next(100)})}preloadImage(t,n,r){return new Promise((s,o)=>{const l=new Image;l.src=t,l.onload=()=>{this.loadingProgress.next((r+1)/n*100),s()},l.onerror=o})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),nJ=(()=>{class e{constructor(){this.db=t4t(),this.scoreLimit=20}addScore(t,n){var r=this;return we(function*(){try{yield p4t(FZ(r.db,t),n)}catch(s){console.error("Error adding document: ",s)}})()}getScores(t){var n=this;return we(function*(){const s=function o4t(e,i,...t){let n=[];i instanceof FL&&n.push(i),n=n.concat(t),function(s){const o=s.filter(w=>w instanceof g0).length,l=s.filter(w=>w instanceof s1).length;if(o>1||o>0&&l>0)throw new Ve(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)e=r._apply(e);return e}(FZ(n.db,t),function l4t(e,i="asc"){const t=i,n=O_("orderBy",e);return OL._create(n,t)}("score","desc"),function c4t(e){return function PZ(e,i){if(i<=0)throw new Ve(ge.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${i}.`)}("limit",e),L_._create("limit",e,"F")}(n.scoreLimit));return(yield function f4t(e){e=Vn(e,Ka);const i=Vn(e.firestore,kr),t=bs(i),n=new lf(i);return function XZ(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ve(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),AZ(t,e._query).then(r=>new y0(i,n,e,r))}(s)).docs.map(l=>({id:l.id,...l.data()}))})()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function D4t(e,i){if(1&e){const t=xe();J(0,"button",4),Ut("click",function(){const r=zt(t).$implicit;return Gt(St(2).guessLetter(r))}),ut(1),et()}if(2&e){const t=i.$implicit,n=St(2);Ci("guessed-correct","correct"===n.guessedLetters[t])("guessed-wrong","wrong"===n.guessedLetters[t]),vt("disabled",n.isLetterGuessed(t)),ot(),Je(" ",t," ")}}function M4t(e,i){if(1&e&&(J(0,"div",2),Ht(1,D4t,2,6,"button",3),et()),2&e){const t=i.$implicit;ot(),vt("ngForOf",t)}}let I4t=(()=>{class e{constructor(){this.keyboardLayout=[["1","2","3","4","5","6","7","8","9","0"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],this.guessedLetters={},this.letterGuessed=new Oe}addGuessedLetter(t,n){this.guessedLetters[t]=n?"correct":"wrong"}guessLetter(t){this.letterGuessed.emit(t)}isLetterGuessed(t){return t in this.guessedLetters}markLetterAsGuessed(t,n){this.guessedLetters[t]=n}reset(){this.guessedLetters={}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-keyboard"]],outputs:{letterGuessed:"letterGuessed"},decls:2,vars:1,consts:[[1,"keyboard-container"],["class","keyboard-row",4,"ngFor","ngForOf"],[1,"keyboard-row"],["mat-button","",3,"guessed-correct","guessed-wrong","disabled","click",4,"ngFor","ngForOf"],["mat-button","",3,"click","disabled"]],template:function(n,r){1&n&&(J(0,"div",0),Ht(1,M4t,2,1,"div",1),et()),2&n&&(ot(),vt("ngForOf",r.keyboardLayout))},dependencies:[ys,Cs],styles:[".keyboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.keyboard-row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:5px;flex-wrap:wrap}button[_ngcontent-%COMP%]{margin:2px;padding:8px 6px;border-radius:8px;border:1px solid #000;transition:background-color .3s ease;min-width:40px;flex:1}button.guessed-correct[_ngcontent-%COMP%]{background-color:green;color:#fff}button.guessed-wrong[_ngcontent-%COMP%]{background-color:red;color:#fff}@media (max-width: 768px){.keyboard-row[_ngcontent-%COMP%]{margin:1px 0}.keyboard-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1px;padding:8px;min-width:0;width:9%;flex:1 1 auto;font-size:14px}}"]})}}return e})(),R4t=(()=>{class e{constructor(){this.tooltipDismissedKey="iosSafariTooltipDismissed"}isIosSafari(){return/iP(ad|od|hone)/i.test(window.navigator.userAgent)&&/Safari/i.test(window.navigator.userAgent)&&!/CriOS/i.test(window.navigator.userAgent)&&!/FxiOS/i.test(window.navigator.userAgent)}tooltipDismissed(){return"true"===localStorage.getItem(this.tooltipDismissedKey)}dismissTooltip(){localStorage.setItem(this.tooltipDismissedKey,"true")}isRunningStandalone(){return"standalone"in window.navigator&&window.navigator.standalone}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function P4t(e,i){if(1&e){const t=xe();J(0,"div",1)(1,"div",2),ut(2," Install this webapp on your iPhone: tap "),J(3,"mat-icon"),ut(4,"ios_share"),et(),ut(5," and then 'Add to Home Screen' "),et(),J(6,"button",3),Ut("click",function(){return zt(t),Gt(St().dismiss())}),J(7,"mat-icon"),ut(8,"close"),et()()()}}let k4t=(()=>{class e{constructor(t){this.platformDetectionService=t,this.isIosSafari=!1,this.tooltipDismissed=!1}ngOnInit(){this.isIosSafari=this.platformDetectionService.isIosSafari(),this.tooltipDismissed=this.platformDetectionService.tooltipDismissed()||this.platformDetectionService.isRunningStandalone()}dismiss(){this.tooltipDismissed=!0,this.platformDetectionService.dismissTooltip()}static{this.\u0275fac=function(n){return new(n||e)(pt(R4t))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-add-to-home"]],decls:1,vars:1,consts:[["class","custom-tooltip",4,"ngIf"],[1,"custom-tooltip"],[1,"tooltip-text"],[1,"tooltip-dismiss-button",3,"click"]],template:function(n,r){1&n&&Ht(0,P4t,9,0,"div",0),2&n&&vt("ngIf",r.isIosSafari&&!r.tooltipDismissed)},dependencies:[ls,ga],styles:['.custom-tooltip[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background:#fff;border-radius:8px;padding:16px;box-shadow:0 4px 8px #0003;display:flex;flex-direction:row;align-items:center;max-width:320px;box-sizing:border-box;z-index:1000}.custom-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-20px;left:50%;transform:translate(-50%);width:0;height:0;border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid white}.tooltip-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-radius:50%;padding:10px;margin-right:16px}.tooltip-text[_ngcontent-%COMP%]{color:#333;font-size:16px}.tooltip-dismiss-button[_ngcontent-%COMP%]{margin-left:auto;background:transparent;border:none;cursor:pointer}.tooltip-dismiss-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;vertical-align:bottom}']})}}return e})(),rJ=(()=>{class e{transform(t,...n){if(!t)return t;const r=Math.floor(t/1e3%60),s=Math.floor(t/6e4%60),o=Math.floor(t/36e5%24),l=0===o&&s<10?s.toString():s<10?"0"+s:s;let D="";return o>0&&(D+=`${o<10?"0"+o:o}h `),(s>0||o>0)&&(D+=`${l}m `),D+=`${0===o&&0===s&&r<10?r.toString():r<10?"0"+r:r}s`,D}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=io({name:"elapsedTime",type:e,pure:!0})}}return e})();const F4t=["keyboard"],sJ=()=>[],O4t=(e,i)=>[e,i],BL=e=>[e],aJ=e=>[e,"shadow-local"],L4t=e=>[e,"trophy-large","shadow-local"];function N4t(e,i){if(1&e&&(J(0,"div",8)(1,"div",9)(2,"div",10),ut(3," Loading... "),et(),ye(4,"mat-progress-bar",11),et()()),2&e){const t=St(2);ot(4),vt("value",t.loadingAssetsProgress)}}function B4t(e,i){1&e&&(J(0,"span")(1,"mat-icon"),ut(2,"favorite"),et()())}function V4t(e,i){1&e&&(J(0,"span")(1,"mat-icon"),ut(2,"favorite_border"),et()())}function U4t(e,i){if(1&e&&(J(0,"span"),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(t)}}function z4t(e,i){if(1&e&&(J(0,"span",33),Ht(1,U4t,2,1,"span",18),et()),2&e){const t=i.$implicit;ot(),vt("ngForOf",t.split(""))}}function G4t(e,i){if(1&e&&(J(0,"div",31),Ht(1,z4t,2,1,"span",32),et()),2&e){const t=St(2).ngIf;ot(),vt("ngForOf",t.displayTerm.join("").split(" "))}}function H4t(e,i){1&e&&(J(0,"div",34)(1,"div",35),ut(2," Choosing a random SNOMED CT concept using the FHIR API "),et(),ye(3,"mat-progress-bar",36),et())}function W4t(e,i){if(1&e){const t=xe();J(0,"div",37),Ut("click",function(){return zt(t),Gt(St(3).revealHint())}),ut(1," Reveal Hint "),et()}}function j4t(e,i){if(1&e){const t=xe();J(0,"div",37),Ut("click",function(){return zt(t),Gt(St(3).loadMenu())}),ut(1," Abandon game "),et()}}function X4t(e,i){1&e&&ye(0,"li",41),2&e&&vt("innerHTML",i.$implicit,Gf)}function Y4t(e,i){if(1&e&&(J(0,"div",38)(1,"div",39)(2,"h2"),ut(3,"Hints:"),et(),J(4,"ul"),Ht(5,X4t,1,1,"li",40),et()()()),2&e){const t=St(2).ngIf;ot(5),vt("ngForOf",t.hints)}}function $4t(e,i){if(1&e&&(J(0,"mat-icon",47),ut(1,"grade"),et()),2&e){const t=St().$implicit;$s("left",St(3).calculateGoalPosition(t.score-5),"%"),vt("ngClass",Al(3,BL,t.name.toLowerCase()))}}function Q4t(e,i){if(1&e&&(J(0,"mat-icon",48),ut(1,"grade"),et()),2&e){const t=St().$implicit;$s("left",St(3).calculateGoalPosition(t.score-1),"%"),vt("ngClass",Al(3,BL,t.name.toLowerCase()))}}function K4t(e,i){if(1&e&&(J(0,"div",49),ut(1),et()),2&e){const t=St().$implicit;$s("left",St(3).calculateGoalPosition(t.score),"%"),vt("ngClass",Al(4,BL,t.name.toLowerCase())),ot(),Je("",t.name," trophy!")}}function Z4t(e,i){if(1&e&&(Qi(0),ye(1,"div",42),Ht(2,$4t,2,5,"mat-icon",43),J(3,"mat-icon",44),ut(4,"emoji_events"),et(),Ht(5,Q4t,2,5,"mat-icon",45)(6,K4t,2,6,"div",46),Ki()),2&e){const t=i.$implicit,n=St(2).ngIf,r=St();ot(),oo(t.name.toLowerCase()),$s("left",r.calculateGoalPosition(t.score),"%"),ot(),vt("ngIf",n.score>=t.score),ot(),$s("left",r.calculateGoalPosition(t.score-3),"%"),vt("ngClass",k2(10,O4t,t.name.toLowerCase(),n.score>=t.score?"trophy-large":"")),ot(2),vt("ngIf",n.score>=t.score),ot(),vt("ngIf",n.score>=t.score)}}function J4t(e,i){if(1&e){const t=xe();J(0,"div")(1,"div",12)(2,"div",13),ye(3,"img",14),J(4,"div",15),ut(5),et()()(),J(6,"div",16)(7,"span",17),ut(8),et(),Ht(9,B4t,3,0,"span",18)(10,V4t,3,0,"span",18),J(11,"span",17),ut(12),et()(),Ht(13,G4t,2,1,"div",19)(14,H4t,4,0,"div",20),J(15,"p",21),ut(16,"Click the keys to guess the letters of the term!"),et(),J(17,"div")(18,"app-keyboard",22,0),Ut("letterGuessed",function(r){return zt(t),Gt(St(2).guessLetter(r))}),et()(),J(20,"div",23),Ht(21,W4t,2,0,"div",24)(22,j4t,2,0,"div",25),et(),Ht(23,Y4t,6,1,"div",26),J(24,"div",27),ut(25," * Hints are generated from the definition of the SNOMED CT concept, retrieved from the FHIR API as an SCG grammar expression "),et(),J(26,"div",28)(27,"h3"),ut(28,"Score Progression"),et(),J(29,"div",29),ye(30,"mat-progress-bar",30),Ht(31,Z4t,7,13,"ng-container",18),et()()()}if(2&e){const t=St().ngIf,n=St();ot(3),vt("@popIn",void 0),ot(2),sl(" ",t.difficultyLevel," - ",n.getLanguageName(n.selectedLanguage)," "),ot(3),sl(" Round: ",t.round," \xa0\xa0\xa0\xa0 Score: ",t.score," \xa0\xa0\xa0\xa0 Life: "),ot(),vt("ngForOf",Xa(16,sJ).constructor(t.hitPoints)),ot(),vt("ngForOf",Xa(17,sJ).constructor(t.rules.maxHitPoints-t.hitPoints)),ot(2),Je(" \xa0\xa0\xa0\xa0 Time to guess: ",t.remainingTime,""),ot(),vt("ngIf","playing"==t.state),ot(),vt("ngIf","choosingTerm"===t.state),ot(3),vt("@shake",n.shakeState),ot(4),vt("ngIf","playing"==t.state&&t.hintsAvailable&&t.hitPoints>1),ot(),vt("ngIf","playing"==t.state),ot(),vt("ngIf",t.hints.length>0&&"playing"==t.state),ot(7),vt("value",n.calculateProgress(t.score)),ot(),vt("ngForOf",n.goals)}}function q4t(e,i){if(1&e){const t=xe();J(0,"div",50),ye(1,"img",51)(2,"img",52),J(3,"p",53)(4,"b"),ut(5,"Welcome to SnoGuess!"),et()(),J(6,"p",53),ut(7," A fun way to learn about SNOMED CT concepts and their definitions. "),et(),J(8,"div",54),Ut("click",function(){return zt(t),Gt(St(2).chooseDifficultyLevel())}),ut(9," New game "),et(),J(10,"div",54),Ut("click",function(){return zt(t),Gt(St(2).showInstructionsPanel())}),ut(11," Instructions "),et(),J(12,"div",55),Ut("click",function(){return zt(t),Gt(St(2).openScoreboard())}),ut(13," High Scores "),et(),J(14,"p",56),ut(15," Playing with terms in the IPS Reference Set in "),J(16,"b"),ut(17),et(),ut(18,", change language: "),et(),J(19,"div",57)(20,"button",58),Ut("click",function(){return zt(t),Gt(St(2).setLanguage("da"))}),ut(21,"DA"),et(),J(22,"button",58),Ut("click",function(){return zt(t),Gt(St(2).setLanguage("de"))}),ut(23,"DE"),et(),J(24,"button",58),Ut("click",function(){return zt(t),Gt(St(2).setLanguage("en"))}),ut(25,"EN"),et(),J(26,"button",58),Ut("click",function(){return zt(t),Gt(St(2).setLanguage("es"))}),ut(27,"ES"),et(),J(28,"button",58),Ut("click",function(){return zt(t),Gt(St(2).setLanguage("et"))}),ut(29,"ET"),et(),J(30,"button",58),Ut("click",function(){return zt(t),Gt(St(2).setLanguage("fi"))}),ut(31,"FI"),et(),J(32,"button",58),Ut("click",function(){return zt(t),Gt(St(2).setLanguage("fr"))}),ut(33,"FR"),et(),J(34,"button",58),Ut("click",function(){return zt(t),Gt(St(2).setLanguage("nl"))}),ut(35,"NL"),et(),J(36,"button",58),Ut("click",function(){return zt(t),Gt(St(2).setLanguage("no"))}),ut(37,"NO"),et(),J(38,"button",58),Ut("click",function(){return zt(t),Gt(St(2).setLanguage("sv"))}),ut(39,"SV"),et()()()}if(2&e){const t=St(2);ot(2),vt("@popIn",void 0),ot(6),vt("@scrollUp",void 0),ot(2),vt("@scrollUp",void 0),ot(2),vt("@scrollUp",void 0),ot(5),Ke(t.getLanguageName(t.selectedLanguage))}}function t3t(e,i){1&e&&(J(0,"span"),ut(1,", Endless"),et())}function e3t(e,i){if(1&e){const t=xe();J(0,"div",62)(1,"div",63),Ut("click",function(){const r=zt(t).$implicit;return Gt(St(3).startGame(r.name))}),ut(2),et(),J(3,"p",64),ut(4),J(5,"mat-icon",65),ut(6,"favorite"),et(),ut(7),J(8,"mat-icon",66),ut(9,"contact_support"),et(),ut(10),J(11,"mat-icon",67),ut(12,"timer"),et(),Ht(13,t3t,2,0,"span",5),et()()}if(2&e){const t=i.$implicit;ot(),vt("@scrollUp",void 0),ot(),Je(" ",t.name," "),ot(),vt("@fadeInDelayed",void 0),ot(),Je(" Life: ",t.rules.maxHitPoints," "),ot(3),Je(", Free hints: ",t.rules.freeHints," "),ot(3),sl(", Points per letter: ",t.rules.pointsPerGuessedLetter,", Time to guess: ",t.rules.maxRoundTime," "),ot(3),vt("ngIf",t.rules.endless)}}function i3t(e,i){if(1&e){const t=xe();J(0,"div",50),ye(1,"img",51)(2,"img",59),J(3,"p",53)(4,"b"),ut(5,"Choose the game difficulty"),et()(),Ht(6,e3t,14,8,"div",60),J(7,"div",61),Ut("click",function(){return zt(t),Gt(St(2).backToMenu())}),ut(8," Back "),et()()}if(2&e){const t=St(2);ot(2),vt("@popIn",void 0),ot(4),vt("ngForOf",t.difficultyLevels),ot(),vt("@scrollUp",void 0)}}function n3t(e,i){if(1&e){const t=xe();J(0,"div",50),ye(1,"img",51)(2,"img",68),J(3,"ul",69)(4,"li",70)(5,"mat-icon"),ut(6,"check"),et(),ut(7,"Click the keys on the screen to guess the letters of the term "),J(8,"mat-icon",71),ut(9,"keyboard"),et()(),J(10,"li",70)(11,"mat-icon"),ut(12,"check"),et(),ut(13,"You have three to five lives, depending on your difficulty level "),J(14,"span",72)(15,"mat-icon"),ut(16,"favorite"),et(),J(17,"mat-icon"),ut(18,"favorite"),et(),J(19,"mat-icon"),ut(20,"favorite"),et()()(),J(21,"li",70)(22,"mat-icon"),ut(23,"check"),et(),ut(24,"There is also a maxmimum time to guess each term "),J(25,"mat-icon",73),ut(26,"timer"),et()(),J(27,"li",70)(28,"mat-icon"),ut(29,"check"),et(),ut(30,"You will loose one life with each wrong guess "),J(31,"mat-icon",72),ut(32,"favorite_border"),et()(),J(33,"li",70)(34,"mat-icon"),ut(35,"check"),et(),ut(36,"The game ends when you run out of lives or time"),J(37,"mat-icon",72),ut(38,"close"),et()(),J(39,"li",70)(40,"mat-icon"),ut(41,"check"),et(),ut(42,"You earn points for each correct guess "),J(43,"mat-icon",71),ut(44,"plus_one"),et()(),J(45,"li",70)(46,"mat-icon"),ut(47,"check"),et(),ut(48,"In Easy mode you get 2 hints for free, and in Medium mode you get one \u{1f4a1} "),et(),J(49,"li",70)(50,"mat-icon"),ut(51,"check"),et(),ut(52,"You can reveal more hints, but each hint it will cost one life "),J(53,"mat-icon",72),ut(54,"favorite_border"),et()(),J(55,"li",70)(56,"mat-icon"),ut(57,"check"),et(),ut(58,"If you guess the whole term you can recover one life"),J(59,"mat-icon",72),ut(60,"favorite"),et()(),J(61,"li",70)(62,"mat-icon"),ut(63,"check"),et(),ut(64,"Keep guessing terms to increase your score and earn trophies "),J(65,"mat-icon",74),ut(66,"emoji_events"),et()(),J(67,"li",70)(68,"mat-icon"),ut(69,"check"),et(),ut(70,"Endless mode will not finish when you reach the Diamond Trophy "),J(71,"mat-icon",75),ut(72,"emoji_events"),et()()(),J(73,"div",76),Ut("click",function(){return zt(t),Gt(St(2).hideInstructionsPanel())}),ut(74," Back "),et()()}2&e&&(ot(2),vt("@popIn",void 0),ot(71),vt("@scrollUp",void 0))}function r3t(e,i){1&e&&(J(0,"div",77),ye(1,"img",78),et()),2&e&&(ot(),vt("@popIn",void 0))}function s3t(e,i){if(1&e&&(J(0,"div"),ut(1),et()),2&e){const t=St(2).ngIf,n=St();ot(),Je(" Trophy: ",n.getMaxTrophyObtained(t.score)," ")}}function a3t(e,i){if(1&e&&(J(0,"div")(1,"mat-icon",88),ut(2,"grade"),et(),ut(3," \xa0\xa0 "),J(4,"mat-icon",88),ut(5,"emoji_events"),et(),ut(6," \xa0 "),J(7,"mat-icon",88),ut(8,"grade"),et()()),2&e){const t=St(2).ngIf,n=St();ot(),vt("ngClass",Al(3,aJ,n.getMaxTrophyObtained(t.score).toLocaleLowerCase())),ot(3),vt("ngClass",Al(5,L4t,n.getMaxTrophyObtained(t.score).toLocaleLowerCase())),ot(3),vt("ngClass",Al(7,aJ,n.getMaxTrophyObtained(t.score).toLocaleLowerCase()))}}function o3t(e,i){1&e&&(J(0,"p",89),ut(1,"Checking high scores..."),et())}function l3t(e,i){if(1&e){const t=xe();J(0,"div",90)(1,"p",91),ut(2," This is a High Score! Save a message to the public leaderboard! "),et(),J(3,"input",92),Aa("ngModelChange",function(r){zt(t);const s=St(3);return ja(s.messageForLeaderboard,r)||(s.messageForLeaderboard=r),Gt(r)}),et(),J(4,"div",93),Ut("click",function(){zt(t);const r=St(2).ngIf;return Gt(St().saveScore(r))}),ut(5," Save "),et(),J(6,"p",94),ut(7,"No personal information is recorded"),et()()}if(2&e){const t=St(3);ot(3),_a("ngModel",t.messageForLeaderboard)}}function c3t(e,i){if(1&e){const t=xe();J(0,"div",50),ye(1,"img",51)(2,"img",79),J(3,"div",80)(4,"div"),ut(5," The term was: "),et(),J(6,"div",81),ut(7),et(),J(8,"div",82),ut(9),et(),J(10,"div",83),ut(11),vs(12,"elapsedTime"),et(),Ht(13,s3t,2,1,"div",5),et(),Ht(14,a3t,9,9,"div",5)(15,o3t,2,0,"p",84)(16,l3t,8,1,"div",85),J(17,"div",86),Ut("click",function(){zt(t);const r=St(2);return r.loadMenu(),Gt(r.chooseDifficultyLevel())}),ut(18," New game "),et(),J(19,"div",86),Ut("click",function(){return zt(t),Gt(St(2).openScoreboard())}),ut(20," High Scores "),et(),J(21,"div",87),Ut("click",function(){return zt(t),Gt(St(2).loadMenu())}),ut(22," Main menu "),et()()}if(2&e){const t=St().ngIf,n=St();ot(2),vt("@popIn",void 0),ot(5),Je(" ",t.term,""),ot(2),sl("",t.round," ",1==t.round?"round":"rounds",""),ot(2),sx(" Final Score: ",t.score," points - Difficulty: ",t.difficultyLevel," - Total time: ",Jl(12,14,t.endTimestamp-t.startTimestamp)," "),ot(2),vt("ngIf",n.getMaxTrophyObtained(t.score)),ot(),vt("ngIf",n.getMaxTrophyObtained(t.score)),ot(),vt("ngIf",n.highScoresLoading),ot(),vt("ngIf",n.highScore),ot(),vt("@scrollUp",void 0),ot(2),vt("@scrollUp",void 0),ot(2),vt("@scrollUp",void 0)}}function u3t(e,i){if(1&e&&(J(0,"span"),ut(1),et()),2&e){const t=St(2).ngIf;ot(),Je("\u2192 Bonus: ",t.livesBonus,"")}}function h3t(e,i){if(1&e&&(J(0,"span"),ut(1),et()),2&e){const t=St(2).ngIf;ot(),Je("\u2192 Bonus: ",t.difficultyBonus,"")}}function d3t(e,i){if(1&e&&(J(0,"span"),ut(1),et()),2&e){const t=St(2).ngIf;ot(),Je("\u2192 Bonus: ",t.timeBonus,"")}}function f3t(e,i){if(1&e){const t=xe();J(0,"div",90)(1,"p",91),ut(2," This is a High Score! Save a message to the public leaderboard! "),et(),J(3,"input",100),Aa("ngModelChange",function(r){zt(t);const s=St(3);return ja(s.messageForLeaderboard,r)||(s.messageForLeaderboard=r),Gt(r)}),et(),J(4,"div",101),Ut("click",function(){zt(t);const r=St(2).ngIf;return Gt(St().saveScore(r))}),ut(5," Save "),et(),J(6,"p",94),ut(7,"No personal information is recorded"),et()()}if(2&e){const t=St(3);ot(3),_a("ngModel",t.messageForLeaderboard)}}function p3t(e,i){if(1&e){const t=xe();J(0,"div",50),ye(1,"img",51)(2,"img",95),J(3,"div",96)(4,"mat-icon",97),ut(5,"grade"),et(),J(6,"mat-icon",97),ut(7,"emoji_events"),et(),J(8,"mat-icon",97),ut(9,"grade"),et()(),J(10,"div",98),ut(11),Ht(12,u3t,2,1,"span",5),et(),J(13,"div",98),ut(14),Ht(15,h3t,2,1,"span",5),et(),J(16,"div",98),ut(17),vs(18,"elapsedTime"),Ht(19,d3t,2,1,"span",5),et(),J(20,"div",99),ut(21),et(),Ht(22,f3t,8,1,"div",85),J(23,"div",86),Ut("click",function(){zt(t);const r=St(2);return r.loadMenu(),Gt(r.chooseDifficultyLevel())}),ut(24," New game "),et(),J(25,"div",86),Ut("click",function(){return zt(t),Gt(St(2).openScoreboard())}),ut(26," High Scores "),et(),J(27,"div",87),Ut("click",function(){return zt(t),Gt(St(2).loadMenu())}),ut(28," Main menu "),et()()}if(2&e){const t=St().ngIf,n=St();ot(2),vt("@popIn",void 0),ot(9),Je("Lives left: ",t.hitPoints," "),ot(),vt("ngIf",t.livesBonus>0),ot(2),Je("Difficulty: ",t.difficultyLevel," "),ot(),vt("ngIf",t.difficultyBonus>0),ot(2),Je("Time: ",Jl(18,12,t.endTimestamp-t.startTimestamp)," "),ot(2),vt("ngIf",t.timeBonus>0),ot(2),Je("Final score: ",t.score,""),ot(),vt("ngIf",n.highScore),ot(),vt("@scrollUp",void 0),ot(2),vt("@scrollUp",void 0),ot(2),vt("@scrollUp",void 0)}}function m3t(e,i){if(1&e&&(J(0,"div",3),Ht(1,N4t,5,1,"div",4)(2,J4t,32,18,"div",5)(3,q4t,40,5,"div",6)(4,i3t,9,3,"div",6)(5,n3t,75,2,"div",6)(6,r3t,2,1,"div",7)(7,c3t,23,16,"div",6)(8,p3t,29,14,"div",6),et()),2&e){const t=i.ngIf,n=St();ot(),vt("ngIf",n.loadingAssets),ot(),vt("ngIf",("playing"==t.state||"choosingTerm"==t.state)&&!n.loadingAssets),ot(),vt("ngIf","menu"===t.state&&!n.chooseDifficulty&&!n.showInstructions&&!n.loadingAssets),ot(),vt("ngIf","menu"===t.state&&n.chooseDifficulty&&!n.showInstructions&&!n.loadingAssets),ot(),vt("ngIf",n.showInstructions),ot(),vt("ngIf",n.termGuessed),ot(),vt("ngIf","gameOver"===t.state),ot(),vt("ngIf","won"==t.state)}}let g3t=(()=>{class e{constructor(t,n,r,s,o){this.snoguessMainService=t,this.preloadService=n,this.terminologyService=r,this.firebaseService=s,this.router=o,this.shakeState="normal",this.termGuessed="",this.goals=[],this.loadingAssetsProgress=0,this.loadingAssets=!0,this.highScoresLoading=!1,this.showInstructions=!1,this.chooseDifficulty=!1,this.currentYear=new Date,this.difficultyLevels=[],this.elapsedTime=0,this.gameInProgress=!1,this.messageForLeaderboard="",this.highScore=!1}ngOnInit(){this.game=this.snoguessMainService.getGameState(),this.difficultyLevels=this.snoguessMainService.getDifficultyLevels(),this.game.subscribe(n=>{"playing"===n.state&&(this.goals=n.rules.goals),("gameOver"===n.state||"won"===n.state)&&(this.stopTimer(),this.highScoresLoading=!0,this.firebaseService.getScores(n.difficultyLevel).then(r=>{this.highScoresLoading=!1,(!r||r.length<20||n.score>r[r.length-1].score)&&(this.highScore=!0)}))}),this.snoguessMainService.guessResult.subscribe(n=>{!1===n.result?(this.keyboard?.addGuessedLetter(n.letter,!1),this.shakeState="shake",setTimeout(()=>this.shakeState="normal",200)):this.keyboard?.addGuessedLetter(n.letter,!0)}),this.snoguessMainService.termResult.subscribe(n=>{n&&(this.keyboard?.reset(),this.termGuessed=n,setTimeout(()=>{this.termGuessed=""},2e3))}),this.preloadService.preloadImages(["assets/img/SI_CT_w_tagline.png","assets/img/snoguess-logo.png","assets/img/congratulations.png","assets/img/correct.png","assets/img/game-over.png","assets/img/instructions.png","assets/img/difficulty.png","assets/img/scoreboard.png"]).then(()=>{setTimeout(()=>{this.loadingAssets=!1,this.loadMenu()},500)}),this.preloadService.loadingProgress.subscribe(n=>{this.loadingAssetsProgress=n}),this.terminologyService.fhirUrlParam$.subscribe(n=>{n&&this.terminologyService.getCodeSystem(n).subscribe(r=>{this.selectedEdition=r?.entry[0]?.resource?.title})}),this.terminologyService.lang$.subscribe(n=>{this.selectedLanguage=n})}loadMenu(){this.snoguessMainService.loadMenu()}backToMenu(){this.chooseDifficulty=!1}showInstructionsPanel(){this.showInstructions=!0}hideInstructionsPanel(){this.showInstructions=!1}chooseDifficultyLevel(){this.chooseDifficulty=!0}startGame(t){this.chooseDifficulty=!1,this.keyboard&&this.keyboard.reset(),this.stopTimer(),this.snoguessMainService.startGame(t),this.startTimer(),this.highScore=!1}guessLetter(t){var n=this;return we(function*(){"playing"===(yield function ukt(e,i){const t="object"==typeof i;return new Promise((n,r)=>{const s=new qo({next:o=>{n(o),s.unsubscribe()},error:r,complete:()=>{t?n(i.defaultValue):r(new Xg)}});e.subscribe(s)})}(n.game))?.state&&n.snoguessMainService.guessLetter(t)})()}revealHint(){this.snoguessMainService.revealHint()}calculateProgress(t){return Math.min(t/this.goals[this.goals.length-1].score*100,100)}calculateGoalPosition(t){return t/this.goals[this.goals.length-1].score*100}findCurrentGoal(t){if(!t||t<this.goals[0].score)return{...this.goals[0],previousGoalScore:0};for(let n=0;n<this.goals.length;n++)if(n===this.goals.length-1||t<this.goals[n+1].score)return{...this.goals[n],previousGoalScore:0===n?0:this.goals[n-1].score};return{...this.goals[this.goals.length-1],previousGoalScore:this.goals[this.goals.length-2].score}}getMaxTrophyObtained(t){let n="";return this.goals.forEach(r=>{t>=r.score&&(n=r.name)}),n}startTimer(){this.elapsedTime=0,this.gameInProgress=!0;const t=Kx(0,1e3).pipe(Ri(n=>this.elapsedTime=n),MW(()=>this.gameInProgress));this.gameTimerSubscription=t.subscribe()}stopTimer(){this.gameInProgress=!1,this.gameTimerSubscription&&this.gameTimerSubscription.unsubscribe()}openScoreboard(t){t||(t=this.difficultyLevels[0].name),this.router.navigate(["/snoguess/scoreboard"],{queryParams:{level:t}})}saveScore(t){let n={score:t.score,numberOfRounds:t.round,difficulty:t.difficultyLevel,elapsed:t.endTimestamp-t.startTimestamp,date:us.now(),message:this.messageForLeaderboard};this.firebaseService.addScore(t.difficultyLevel,n).then(()=>{this.messageForLeaderboard="",this.openScoreboard(t.difficultyLevel)}).catch(r=>{this.messageForLeaderboard="",console.error("Error saving score: ",r),this.loadMenu()})}getLanguageName(t){return{en:"English",es:"Spanish",fr:"French",de:"German",da:"Danish",nl:"Dutch",et:"Estonian",fi:"Finnish",no:"Norwegian",sv:"Swedish"}[t]||t}setLanguage(t){this.terminologyService.setLang(t),this.terminologyService.setFhirUrlParam({en:{lang:"en",fhirUrl:"http://snomed.info/sct/900000000000207008"},es:{lang:"es",fhirUrl:"http://snomed.info/sct/449081005"},fr:{lang:"fr",fhirUrl:"http://snomed.info/sct/11000241103"},de:{lang:"de",fhirUrl:"http://snomed.info/sct/11000274103"},da:{lang:"da",fhirUrl:"http://snomed.info/sct/554471000005108"},nl:{lang:"nl",fhirUrl:"http://snomed.info/sct/11000146104"},et:{lang:"et",fhirUrl:"http://snomed.info/sct/11000181102"},fi:{lang:"fi",fhirUrl:"http://snomed.info/sct/11000229106"},no:{lang:"no",fhirUrl:"http://snomed.info/sct/51000202101"},sv:{lang:"sv",fhirUrl:"http://snomed.info/sct/45991000052106"}}[t].fhirUrl)}static{this.\u0275fac=function(n){return new(n||e)(pt(iJ),pt(A4t),pt(ma),pt(nJ),pt(Ho))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-snoguess-main"]],viewQuery:function(n,r){if(1&n&&ki(F4t,5),2&n){let s;He(s=We())&&(r.keyboard=s.first)}},decls:6,vars:7,consts:[["keyboard",""],["class","snoguess-game",4,"ngIf"],[1,"text-center","mt-8","mb-4"],[1,"snoguess-game"],["class","assets-loading-container",4,"ngIf"],[4,"ngIf"],["class","flex flex-col items-center gap-4",4,"ngIf"],["class","overlay overlay-transparent",4,"ngIf"],[1,"assets-loading-container"],[1,"mt-48","mb-48"],[1,"progress-bar-message","text-center"],["mode","determinate",1,"game-progress-bar",3,"value"],[1,"flex","justify-center","mt-8","mb-8"],[1,"relative","w-1/4"],["src","assets/img/snoguess-logo.png","alt","Game Logo"],[1,"diff-label","absolute","-bottom-3","right-5","italic","text-gray-500"],[1,"hit-points"],[1,"score"],[4,"ngFor","ngForOf"],["class","term-display flex flex-row flex-wrap justify-center gap-8",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"guess-message"],[3,"letterGuessed"],[1,"game-buttons","mt-4"],["class","bg-gradient-to-b from-blue-500 to-gray-500 hover:from-black hover:to-blue-500 border-solid border-2 border-black \n      rounded-3xl pt-1 pb-1 pl-6 pr-6 w-fit text-center cursor-pointer font-bold text-white",3,"click",4,"ngIf"],["class","bg-gradient-to-b from-blue-500 to-gray-500 hover:from-black hover:to-blue-500 border-solid border-2 border-black \n        rounded-3xl pt-1 pb-1 pl-6 pr-6 w-fit text-center cursor-pointer font-bold text-white",3,"click",4,"ngIf"],["class","hints-container",4,"ngIf"],[1,"note"],[1,"score-progression-panel"],[1,"progress-bar-container"],["mode","determinate",3,"value"],[1,"term-display","flex","flex-row","flex-wrap","justify-center","gap-8"],["class","whitespace-nowrap",4,"ngFor","ngForOf"],[1,"whitespace-nowrap"],[1,"loading-container"],[1,"progress-bar-message"],["mode","indeterminate"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pt-1","pb-1","pl-6","pr-6","w-fit","text-center","cursor-pointer","font-bold","text-white",3,"click"],[1,"hints-container"],[1,"hints-callout","text-center"],["class","hint-item",3,"innerHTML",4,"ngFor","ngForOf"],[1,"hint-item",3,"innerHTML"],[1,"goal-indicator"],["class","star-icon left-star",3,"ngClass","left",4,"ngIf"],[1,"trophy-icon",3,"ngClass"],["class","star-icon right-star",3,"ngClass","left",4,"ngIf"],["class","goal-name",3,"left","ngClass",4,"ngIf"],[1,"star-icon","left-star",3,"ngClass"],[1,"star-icon","right-star",3,"ngClass"],[1,"goal-name",3,"ngClass"],[1,"flex","flex-col","items-center","gap-4"],["src","assets/img/SI_CT_w_tagline.png","alt","SNOMED CT Logo",1,"w-1/6"],["src","assets/img/snoguess-logo.png","alt","Game Logo",1,"w-1/3","mt-8"],[1,"text-center","font-light","text-lg"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","text-3xl",3,"click"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-12","text-3xl",3,"click"],[1,"text-center","font-light","italic","text-lg"],[1,"text-center","font-light","italic","text-sm"],["mat-button","",3,"click"],["src","assets/img/difficulty.png","alt","Game Logo",1,"w-1/4","mt-8"],["class","level-container w-full flex flex-col justify-center items-center",4,"ngFor","ngForOf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-12","pr-12","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-2","mb-8","text-3xl",3,"click"],[1,"level-container","w-full","flex","flex-col","justify-center","items-center"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-2","text-3xl",3,"click"],[1,"level-details","text-center","mt-3","flex","flex-row","items-center"],[1,"text-red-500","text-sm"],[1,"text-yellow-500","text-sm"],[1,"text-green-500","text-sm"],["src","assets/img/instructions.png","alt","Game Logo",1,"w-1/4","mt-8","mb-12"],[1,"text-left","instructions-text"],[1,"flex","flex-row","items-center","gap-2"],[1,"text-blue-900"],[1,"text-red-500"],[1,"text-green-500"],[1,"text-yellow-500"],[1,"text-blue-500"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-12","pr-12","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-3xl",3,"click"],[1,"overlay","overlay-transparent"],["src","assets/img/correct.png","alt","Correct",1,"w-1/5","mt-8"],["src","assets/img/game-over.png","alt","Game Logo",1,"w-1/4","mt-8"],[1,"text-xl","text-pretty","text-center"],[1,"font-bold"],[1,"mt-12"],[1,"mt-4"],["class","text-center italic text-gray-500",4,"ngIf"],["class","flex flex-col items-center gap-4 w-full",4,"ngIf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","text-2xl",3,"click"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-2xl",3,"click"],[3,"ngClass"],[1,"text-center","italic","text-gray-500"],[1,"flex","flex-col","items-center","gap-4","w-full"],[1,"font-bold","text-lg","md:text-xl","text-blue-900"],["type","text","placeholder","Type your message here",1,"w-full","md:w-1/2","text-base","md:text-2xl","text-center","bg-blue-50","border-solid","border-2",3,"ngModelChange","ngModel"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pl-4","pr-4","pt-1","pb-1","w-fit","text-center","cursor-pointer","font-bold","text-white","ml-4","md:text-2xl",3,"click"],[1,"text-sm","text-gray-400"],["src","assets/img/congratulations.png","alt","Game Logo",1,"w-1/3","mt-8"],[1,""],[1,"large-icon","diamond","shadow-local"],[1,"text-lg"],[1,"reveal","won"],["type","text","placeholder","Your message here",1,"w-full","md:w-1/2","text-base","md:text-lg",3,"ngModelChange","ngModel"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pl-4","pr-4","pt-1","pb-1","w-fit","text-center","cursor-pointer","font-bold","text-white","ml-4",3,"click"]],template:function(n,r){1&n&&(Ht(0,m3t,9,8,"div",1),vs(1,"async"),J(2,"div",2),ut(3),vs(4,"date"),et(),ye(5,"app-add-to-home")),2&n&&(vt("ngIf",Jl(1,2,r.game)),ot(3),Je(" Copyright \xa9 ",Pc(4,4,r.currentYear,"yyyy")," SNOMED International\n"))},dependencies:[Td,ys,ls,Cs,ga,rF,Pl,Yo,lc,I4t,k4t,fR,sh,rJ],styles:[".snoguess-game[_ngcontent-%COMP%]{padding:20px;border-radius:8px;max-width:80%;margin:auto;box-shadow:0 4px 8px #0000001a;min-height:85vh!important}.term-display[_ngcontent-%COMP%]{font-size:24px;letter-spacing:4px;word-break:break-all;margin-bottom:20px;text-align:center;font-family:monospace}.term-display[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0}.hit-points[_ngcontent-%COMP%]{font-weight:700;color:#d9534f;text-align:center;margin-bottom:2rem}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}button[_ngcontent-%COMP%]{margin-right:8px}.guess-field[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;justify-content:center;gap:10px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000}.overlay-dark[_ngcontent-%COMP%]{background-color:#00000080}.overlay-transparent[_ngcontent-%COMP%]{background-color:#0000}.message[_ngcontent-%COMP%]{font-size:4rem;text-align:center;margin-bottom:20px;font-weight:bolder}.reveal[_ngcontent-%COMP%]{font-size:2rem;text-align:center;margin-bottom:20px;font-weight:bolder}.won[_ngcontent-%COMP%]{color:#4caf50;text-shadow:black 2px 2px 2px}.lost[_ngcontent-%COMP%]{color:#f44336;text-shadow:rgb(0,0,0) 2px 2px 2px}.overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem;padding:10px 20px}.loading-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}.progress-bar-message[_ngcontent-%COMP%]{color:#000;font-size:larger;margin-bottom:10px;font-style:italic;font-weight:lighter}.score[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700}.score-progression-panel[_ngcontent-%COMP%]{margin-top:2rem}.progress-bar-container[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem;position:relative;background-color:#e0e0e0;border-radius:5px}.goal-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;width:2px;height:10px;background-color:#000}.goal-indicator.bronze[_ngcontent-%COMP%]{background-color:#cd7f32}.goal-indicator.silver[_ngcontent-%COMP%]{background-color:silver}.goal-indicator.gold[_ngcontent-%COMP%]{background-color:gold}.goal-indicator.platinum[_ngcontent-%COMP%]{background-color:#e5e4e2}.goal-indicator.diamond[_ngcontent-%COMP%]{background-color:#3b49c4}.trophy-icon[_ngcontent-%COMP%]{position:absolute;bottom:-35px;font-size:24px;width:24px;transition:transform .3s ease}.trophy-large[_ngcontent-%COMP%]{transform:scale(2.5) translate(-2px,3px)}.bronze[_ngcontent-%COMP%]{color:#cd7f32}.silver[_ngcontent-%COMP%]{color:silver}.gold[_ngcontent-%COMP%]{color:gold}.platinum[_ngcontent-%COMP%]{color:#e5e4e2}.diamond[_ngcontent-%COMP%]{color:#3b49c4}.shadow-local[_ngcontent-%COMP%]{text-shadow:black 2px 2px 2px}.star-icon[_ngcontent-%COMP%]{position:absolute;bottom:-40px;font-size:30px;width:30px;transition:transform .3s ease}.left-star[_ngcontent-%COMP%]{transform:translate(-50px)}.right-star[_ngcontent-%COMP%]{transform:translate(30px)}.goal-name[_ngcontent-%COMP%]{position:absolute;bottom:-75px;width:100px;margin-left:-50px;text-align:center;font-size:12px;font-weight:700;color:#000}.large-icon[_ngcontent-%COMP%]{font-size:5rem;width:5rem;height:5rem}.note[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter;margin-top:1rem;text-align:center}.hints-container[_ngcontent-%COMP%]{margin-top:1rem}.hints-callout[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem}.hint-item[_ngcontent-%COMP%]{color:#555;font-size:1em;list-style-type:none;position:relative;padding:5px 0 5px 30px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}li[_ngcontent-%COMP%]{margin-bottom:10px;color:#666;font-size:1.2rem}.guess-message[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-size:1.2rem}.assests-loading-container[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:#fff}.game-progress-bar[_ngcontent-%COMP%]{border-radius:22px;overflow:hidden;background-color:#e0e0e0;box-shadow:0 4px 8px #0003}.game-progress-bar[_ngcontent-%COMP%]   .mat-progress-bar-fill[_ngcontent-%COMP%]:after{background-color:#4caf50;border-radius:22px}.game-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;justify-content:center;gap:10px}.level-details[_ngcontent-%COMP%]{visibility:hidden}.level-container[_ngcontent-%COMP%]:hover   .level-details[_ngcontent-%COMP%]{visibility:visible}@media (max-width: 1300px){.menu-buttons[_ngcontent-%COMP%]{font-size:large}}@media (max-width: 876px){.snoguess-game[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .bg-gradient-to-b[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .hints-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .score-progression-panel[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .guess-field[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:0 auto;box-sizing:border-box;box-shadow:none}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:fit-content!important;margin-bottom:1rem}.snoguess-game[_ngcontent-%COMP%]   .goal-indicator[_ngcontent-%COMP%]{display:none}.snoguess-game[_ngcontent-%COMP%]   .hit-points[_ngcontent-%COMP%]{margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .term-display[_ngcontent-%COMP%]{font-size:20px;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .guess-message[_ngcontent-%COMP%]{font-size:12px}.snoguess-game[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important}.snoguess-game[_ngcontent-%COMP%]   .pt-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pt-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-12[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-12[_ngcontent-%COMP%]{padding:10px}.snoguess-game[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-size:16px}.snoguess-game[_ngcontent-%COMP%]   .diff-label[_ngcontent-%COMP%]{text-align:right}}"],data:{animation:[xr("shake",[gn("normal => shake",mn(200,pv([oi({transform:"translateX(0)"}),oi({transform:"translateX(-10px)"}),oi({transform:"translateX(10px)"}),oi({transform:"translateX(0)"})])))]),xr("popIn",[gn(":enter",[oi({transform:"scale(0.8)",opacity:0}),mn("0.5s cubic-bezier(.8, -0.6, 0.2, 1.5)",oi({transform:"scale(1.3)",opacity:1})),mn("0.2s cubic-bezier(.8, -0.6, 0.2, 1.5)",oi({transform:"scale(1)",opacity:1}))])]),xr("scrollUp",[gn(":enter",[oi({transform:"translateY(100%)",opacity:0}),mn("0.5s ease-out",oi({transform:"translateY(0)",opacity:1}))])]),xr("fadeInDelayed",[gn(":enter",[oi({opacity:0}),mn("1s 0.5s ease-out",oi({opacity:1}))])])]}})}}return e})();const v3t=()=>({});function y3t(e,i){if(1&e){const t=xe();J(0,"li")(1,"a",11),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().findingWithExplicitContextSelected(r))}),ut(2),et()()}if(2&e){const t=i.$implicit;ot(2),Ke(t.display)}}function x3t(e,i){1&e&&(J(0,"th",20),ut(1," Type "),et())}function b3t(e,i){if(1&e&&(J(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.type.display," ")}}function w3t(e,i){1&e&&(J(0,"th",20),ut(1," Target "),et())}function T3t(e,i){if(1&e&&(J(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.target.code," ")}}function C3t(e,i){1&e&&(J(0,"th",20),ut(1," Target "),et())}function S3t(e,i){if(1&e&&(J(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.target.display," ")}}function E3t(e,i){1&e&&ye(0,"tr",22)}function _3t(e,i){1&e&&ye(0,"tr",23)}function A3t(e,i){if(1&e&&(J(0,"div",4)(1,"h3"),ut(2),et(),J(3,"table",12),Qi(4,13),Ht(5,x3t,2,0,"th",14)(6,b3t,2,1,"td",15),Ki(),Qi(7,16),Ht(8,w3t,2,0,"th",14)(9,T3t,2,1,"td",15),Ki(),Qi(10,17),Ht(11,C3t,2,0,"th",14)(12,S3t,2,1,"td",15),Ki(),Ht(13,E3t,1,0,"tr",18)(14,_3t,1,0,"tr",19),et()()),2&e){const t=St();ot(2),Je("Relevant attributes (",t.selectedSituation.display,")"),ot(),vt("dataSource",t.dataSource),ot(10),vt("matHeaderRowDef",t.displayedColumns),ot(),vt("matRowDefColumns",t.displayedColumns)}}function D3t(e,i){if(1&e&&(J(0,"div",4)(1,"h3"),ut(2,"Resource Type"),et(),J(3,"a",24)(4,"span"),ut(5),et(),J(6,"mat-icon"),ut(7,"open_in_new"),et()()()),2&e){const t=St();ot(3),vt("href","https://hl7.org/fhir/R4/"+t.resourceType+".html",Ay),ot(2),Je("FHIR R4 ",t.resourceType,"")}}function M3t(e,i){if(1&e){const t=xe();J(0,"div",25)(1,"button",26),Ut("click",function(){zt(t);const r=St();return Gt(r.saveOutput(r.fhirRepresentationString))}),ye(2,"mat-icon",27),et(),J(3,"button",28),Ut("click",function(){zt(t);const r=St();return Gt(r.copyOutputToClipboard(r.fhirRepresentationString))}),ye(4,"mat-icon",29),et()()}}let I3t=(()=>{class e{constructor(t,n){this.terminologyService=t,this.clipboard=n,this.fhirRepresentationString="{}",this.situationsBinding={title:"Finding with explicit context",type:"Autocomplete",ecl:"<< 413350009 |Finding with explicit context (situation)|",value:"",note:"Select a finding with explicit context"},this.SituationConstants={KnownPresent:{code:"410515003",display:"Known present",selfAndDescendants:[]},KnownAbsent:{code:"410516002",display:"Known absent",selfAndDescendants:[]},SubjectOfRecord:{code:"410604004",display:"Subject of record",selfAndDescendants:[]},PersonInTheFamily:{code:"303071001",display:"Person in the family",selfAndDescendants:[]},InThePast:{code:"410513005",display:"In the past",selfAndDescendants:[]},CurrentOrSpecifiedTime:{code:"410512000",display:"Current or specified time",selfAndDescendants:[]},KnownPossible:{code:"410590009",display:"Known possible",selfAndDescendants:[]}},this.examples=[{code:"160377001",display:"Family history of asthma"},{code:"12147341000119108",display:"History of burn"},{code:"428942009",display:"History of fall"},{code:"300890009",display:"Swelling absent"},{code:"162057007",display:"Nausea present"},{code:"401204006",display:"Suspected autism"}],this.displayedColumns=["type","targetCode","targetDisplay"],this.dataSource=[]}ngOnInit(){this.loadOrUpdateConstants()}loadOrUpdateConstants(){var t=this;return we(function*(){let n=localStorage.getItem("SituationConstants");n?(t.SituationConstants=JSON.parse(n),console.log("Loaded constants from cache.")):(yield t.updateConstantDescendants(),localStorage.setItem("SituationConstants",JSON.stringify(t.SituationConstants)),console.log("Updated constants and cached them."))})()}updateConstantDescendants(){var t=this;return we(function*(){for(const n in t.SituationConstants)if(Object.prototype.hasOwnProperty.call(t.SituationConstants,n)){const r=t.SituationConstants[n];let s=yield Ia(t.terminologyService.expandValueSet("<< "+r.code,"",0,1e3));r.selfAndDescendants=s.expansion.contains.map(o=>o.code)}})()}convertSituationToFhir(t){var n=this;return we(function*(){n.selectedSituation=t,n.fhirRepresentation=null,n.fhirRepresentationString="Loading...",n.dataSource=[],n.resourceType=void 0;let l,w,E,D,r=yield Ia(n.terminologyService.lookupConcept(t.code)),s=n.terminologyService.getNormalForm(r);if(n.terminologyService.parseNormmalForm(s).groups.forEach(k=>{const O=k.find(W=>"408732007"===W.type.code);O&&(n.dataSource=[...n.dataSource,O],w=O.target);const L=k.find(W=>"408729009"===W.type.code);L&&(n.dataSource=[...n.dataSource,L],l=L.target);const U=k.find(W=>"408731000"===W.type.code);U&&(n.dataSource=[...n.dataSource,U],E=U.target);const j=k.find(W=>"246090004"===W.type.code);j&&(n.dataSource=[...n.dataSource,j],D=j.target)}),D){const k=n.SituationConstants.KnownPresent.selfAndDescendants.includes(l?.code),O=n.SituationConstants.SubjectOfRecord.selfAndDescendants.includes(w?.code),L=n.SituationConstants.InThePast.selfAndDescendants.includes(E?.code),U=n.SituationConstants.KnownAbsent.selfAndDescendants.includes(l?.code),j=n.SituationConstants.KnownPossible.selfAndDescendants.includes(l?.code),W=n.SituationConstants.CurrentOrSpecifiedTime.selfAndDescendants.includes(E?.code),Z=n.SituationConstants.PersonInTheFamily.selfAndDescendants.includes(w?.code);k&&O&&L?n.updateFhirRepresentation(n.createFhirCondition(D,"inactive")):k&&O&&W?n.updateFhirRepresentation(n.createFhirCondition(D,"active")):j&&O&&W?n.updateFhirRepresentation(n.createFhirCondition(D,"unconfirmed")):k&&Z?n.updateFhirRepresentation(n.createFamilyMemberHistoryForFinding(D,w)):U&&O&&W?n.updateFhirRepresentation(n.createFhirObservationForAbsentFinding(D)):n.fhirRepresentationString="No FHIR representation for this situation"}else n.fhirRepresentationString="No FHIR representation for this situation"})()}updateFhirRepresentation(t){this.fhirRepresentation=t,this.fhirRepresentationString=JSON.stringify(t,null,2)}findingWithExplicitContextSelected(t){t&&t.code&&this.convertSituationToFhir(t)}createFhirCondition(t,n){return this.resourceType="Condition",{resourceType:"Condition",subject:{reference:"Patient/1234"},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:n}]},code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]}}}createFhirObservationForAbsentFinding(t){return this.resourceType="Observation",{resourceType:"Observation",subject:{reference:"Patient/1234"},status:"registered",code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]},valueCodeableConcept:{coding:[{system:"http://snomed.info/sct",code:"410516002",display:"Known absent"}]}}}createFamilyMemberHistoryForFinding(t,n){return this.resourceType="FamilyMemberHistory",{resourceType:"FamilyMemberHistory",status:"completed",patient:{reference:"Patient/1234"},relationship:{coding:[{system:"http://snomed.info/sct",code:n.code,display:n.display}]},condition:[{code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]}}]}}saveOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,Tu.saveAs)(n,`${this.selectedSituation.display}-fhir.json`)}copyOutputToClipboard(t){this.clipboard.copy(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(ma),pt(Nk))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-situation-map"]],decls:17,vars:9,consts:[[1,"p-8"],[1,"flex","flex-wrap","gap-4"],[1,"w-1/3"],[1,"w-auto",3,"selectionChange","binding"],[1,"mt-8"],[4,"ngFor","ngForOf"],["class","mt-8",4,"ngIf"],[1,"flex-grow"],[1,"output"],["id","save",4,"ngIf"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["href","javascript:void(0);",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","targetCode"],["matColumnDef","targetDisplay"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["target","_blank",1,"flex","flex-row","items-center","gap-2",3,"href"],["id","save"],["mat-icon-button","","matTooltip","Download",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy",3,"click"],["fontIcon","content_copy"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"h2"),ut(2,"Consistent Context Representation for Situations with Explicit Context"),et(),J(3,"div",1)(4,"div",2)(5,"app-autocomplete-binding",3),Ut("selectionChange",function(o){return r.findingWithExplicitContextSelected(o)}),et(),J(6,"h3",4),ut(7,"Examples"),et(),J(8,"ul"),Ht(9,y3t,3,1,"li",5),et(),Ht(10,A3t,15,4,"div",6)(11,D3t,8,2,"div",6),et(),J(12,"div",7)(13,"div",8),Ht(14,M3t,5,0,"div",9),J(15,"textarea",10),ut(16,"                "),et()()()()()),2&n&&(ot(5),vt("binding",r.situationsBinding),ot(4),vt("ngForOf",r.examples),ot(),vt("ngIf",null==r.selectedSituation?null:r.selectedSituation.display),ot(),vt("ngIf",r.resourceType),ot(3),vt("ngIf",r.fhirRepresentationString.length>15),ot(),vt("options",Xa(8,v3t))("lang","json")("innerHTML",r.fhirRepresentationString,Gf))},dependencies:[ys,ls,EE,jo,ga,kd,wh,Fd,Th,bh,Od,Ch,Sh,Ld,Nd,_h,Ev],styles:[".output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem;min-height:45rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}"]})}}return e})(),R3t=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-context-main"]],decls:1,vars:0,template:function(n,r){1&n&&ye(0,"app-situation-map")},dependencies:[I3t]})}}return e})();var P3t=Mt(1867),k3t=Mt.n(P3t);let F3t=(()=>{class e{constructor(){this.filter=new(k3t())}transform(t){return t&&this.filter.clean(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=io({name:"safeText",type:e,pure:!0})}}return e})();function O3t(e,i){if(1&e){const t=xe();J(0,"a",13),Ut("click",function(){zt(t);const r=St().$implicit;return Gt(St().setLevel(r.name))}),ut(1),et()}if(2&e){const t=St().$implicit;ot(),Je(" ",t.name," ")}}function L3t(e,i){if(1&e&&(J(0,"span",14),ut(1),et()),2&e){const t=St().$implicit;ot(),Ke(t.name)}}function N3t(e,i){if(1&e&&(J(0,"span"),Ht(1,O3t,2,1,"a",7)(2,L3t,2,1,"span",8),et()),2&e){const t=i.$implicit,n=St();ot(),vt("ngIf",n.selectedLevel!=t.name),ot(),vt("ngIf",n.selectedLevel==t.name)}}function B3t(e,i){if(1&e){const t=xe();J(0,"a",13),Ut("click",function(){return zt(t),Gt(St().setLevel("scoreboard"))}),ut(1," Legacy "),et()}}function V3t(e,i){1&e&&(J(0,"span",14),ut(1,"Legacy"),et())}function U3t(e,i){1&e&&ye(0,"mat-spinner",15)}function z3t(e,i){1&e&&(J(0,"th",28),ut(1," Position "),et())}function G3t(e,i){if(1&e&&(J(0,"td",29),ut(1),et()),2&e){const t=i.index;ot(),Je(" ",t+1," ")}}function H3t(e,i){1&e&&(J(0,"th",28),ut(1," Message "),et())}function W3t(e,i){if(1&e&&(J(0,"span"),ut(1),vs(2,"safeText"),et()),2&e){const t=St().$implicit;ot(),Ke(Jl(2,1,t.message))}}function j3t(e,i){1&e&&(J(0,"span",31)(1,"i"),ut(2,"No information available (qualifier value)"),et()())}function X3t(e,i){if(1&e&&(J(0,"td",29),Ht(1,W3t,3,3,"span",11)(2,j3t,3,0,"span",30),et()),2&e){const t=i.$implicit;ot(),vt("ngIf",t.message),ot(),vt("ngIf",!t.message)}}function Y3t(e,i){1&e&&(J(0,"th",28),ut(1," Score "),et())}function $3t(e,i){if(1&e&&(J(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.score," ")}}function Q3t(e,i){1&e&&(J(0,"th",28),ut(1," Rounds "),et())}function K3t(e,i){if(1&e&&(J(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.numberOfRounds," ")}}function Z3t(e,i){1&e&&(J(0,"th",28),ut(1," Difficulty "),et())}function J3t(e,i){if(1&e&&(J(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),Je(" ",t.difficulty," ")}}function q3t(e,i){1&e&&(J(0,"th",28),ut(1," Time Played "),et())}function tBt(e,i){if(1&e&&(J(0,"td",29),ut(1),vs(2,"elapsedTime"),et()),2&e){const t=i.$implicit;ot(),Je(" ",Jl(2,1,t.elapsed)," ")}}function eBt(e,i){1&e&&(J(0,"th",28),ut(1," Date "),et())}function iBt(e,i){if(1&e&&(J(0,"td",29),ut(1),vs(2,"date"),et()),2&e){const t=i.$implicit;ot(),Je(" ",Pc(2,1,t.date,"short")," ")}}function nBt(e,i){1&e&&ye(0,"tr",32)}function rBt(e,i){1&e&&ye(0,"tr",33)}function sBt(e,i){if(1&e&&(J(0,"div")(1,"table",16),Qi(2,17),Ht(3,z3t,2,0,"th",18)(4,G3t,2,1,"td",19),Ki(),Qi(5,20),Ht(6,H3t,2,0,"th",18)(7,X3t,3,2,"td",19),Ki(),Qi(8,21),Ht(9,Y3t,2,0,"th",18)(10,$3t,2,1,"td",19),Ki(),Qi(11,22),Ht(12,Q3t,2,0,"th",18)(13,K3t,2,1,"td",19),Ki(),Qi(14,23),Ht(15,Z3t,2,0,"th",18)(16,J3t,2,1,"td",19),Ki(),Qi(17,24),Ht(18,q3t,2,0,"th",18)(19,tBt,3,3,"td",19),Ki(),Qi(20,25),Ht(21,eBt,2,0,"th",18)(22,iBt,3,4,"td",19),Ki(),Ht(23,nBt,1,0,"tr",26)(24,rBt,1,0,"tr",27),et()()),2&e){const t=St();ot(),vt("dataSource",t.dataSource),ot(22),vt("matHeaderRowDef",t.displayedColumns),ot(),vt("matRowDefColumns",t.displayedColumns)}}let aBt=(()=>{class e{constructor(t,n,r,s){this.firebaseService=t,this.router=n,this.snoguessMainService=r,this.route=s,this.displayedColumns=["position","message","difficulty","score","numberOfRounds","secondsPlayed","date"],this.dataSource=[],this.loadingScores=!1,this.difficultyLevels=[],this.selectedLevel=""}ngOnInit(){this.difficultyLevels=this.snoguessMainService.getDifficultyLevels(),this.route.queryParams.subscribe(t=>{const n=t.level;this.selectedLevel=n&&this.difficultyLevels.some(s=>s.name===n)?n:this.difficultyLevels[0].name,this.loadScores(this.selectedLevel),t.refresh&&this.startAutoRefresh()})}ngOnDestroy(){this.stopAutoRefresh()}startAutoRefresh(){this.stopAutoRefresh(),this.intervalId=setInterval(()=>{this.loadScores(this.selectedLevel)},6e4)}stopAutoRefresh(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}setLevel(t){this.selectedLevel=t,this.loadScores(t)}loadScores(t){this.loadingScores=!0,this.firebaseService.getScores(t).then(n=>{this.dataSource=n.map(r=>({...r,date:r.date?r.date.toDate():new Date})),this.loadingScores=!1})}backToGame(){this.router.navigate(["/snoguess"])}static{this.\u0275fac=function(n){return new(n||e)(pt(nJ),pt(Ho),pt(iJ),pt(nc))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-scoreboard"]],decls:19,vars:8,consts:[[1,"flex","flex-col","items-center","gap-4","pt-6","snoguess-game"],["src","assets/img/SI_CT_w_tagline.png","alt","SNOMED CT Logo",1,"w-1/6"],["src","assets/img/scoreboard.png","alt","High Scores",1,"w-1/4","mt-8"],[1,"mb-2","flex","flex-row","items-center","gap-1"],[1,"diamond"],[1,"mb-3","flex","flex-row","items-center","gap-3"],[4,"ngFor","ngForOf"],["href","javascript:void(0)","class","text-blue-500 underline",3,"click",4,"ngIf"],["class","selected-level",4,"ngIf"],[1,"flex","flex-row","items-center","gap-3"],["diameter","50",4,"ngIf"],[4,"ngIf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-2xl",3,"click"],["href","javascript:void(0)",1,"text-blue-500","underline",3,"click"],[1,"selected-level"],["diameter","50"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","message"],["matColumnDef","score"],["matColumnDef","numberOfRounds"],["matColumnDef","difficulty"],["matColumnDef","secondsPlayed"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["class","text-gray-400",4,"ngIf"],[1,"text-gray-400"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(J(0,"div",0),ye(1,"img",1)(2,"img",2),J(3,"div",3)(4,"span"),ut(5,"Messages posted by players!\xa0"),et(),J(6,"mat-icon",4),ut(7,"emoji_events"),et()(),J(8,"div",5),Ht(9,N3t,3,2,"span",6)(10,B3t,2,0,"a",7)(11,V3t,2,0,"span",8),et(),J(12,"div",9)(13,"h3"),ut(14),et()(),Ht(15,U3t,1,0,"mat-spinner",10)(16,sBt,25,3,"div",11),J(17,"div",12),Ut("click",function(){return r.backToGame()}),ut(18," Back to game "),et()()),2&n&&(ot(2),vt("@popIn",void 0),ot(7),vt("ngForOf",r.difficultyLevels),ot(),vt("ngIf","scoreboard"!=r.selectedLevel),ot(),vt("ngIf","scoreboard"==r.selectedLevel),ot(3),Je("Top 20 ",r.selectedLevel," level scores"),ot(),vt("ngIf",r.loadingScores),ot(),vt("ngIf",!r.loadingScores),ot(),vt("@scrollUp",void 0))},dependencies:[ys,ls,ga,Pd,kd,wh,Fd,Th,bh,Od,Ch,Sh,Ld,Nd,sh,rJ,F3t],styles:[".diamond[_ngcontent-%COMP%]{color:#3b49c4}.snoguess-game[_ngcontent-%COMP%]{padding:20px;border-radius:8px;max-width:80%;margin:auto;box-shadow:0 4px 8px #0000001a}@media (max-width: 1300px){.menu-buttons[_ngcontent-%COMP%]{font-size:large}}@media (max-width: 876px){.snoguess-game[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .bg-gradient-to-b[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .hints-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .score-progression-panel[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .guess-field[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:0 auto;box-sizing:border-box;box-shadow:none}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:fit-content!important;margin-bottom:1rem}.snoguess-game[_ngcontent-%COMP%]   .goal-indicator[_ngcontent-%COMP%]{display:none}.snoguess-game[_ngcontent-%COMP%]   .hit-points[_ngcontent-%COMP%]{margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .term-display[_ngcontent-%COMP%]{font-size:20px;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .guess-message[_ngcontent-%COMP%]{font-size:12px}.snoguess-game[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important}.snoguess-game[_ngcontent-%COMP%]   .pt-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pt-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-12[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-12[_ngcontent-%COMP%]{padding:10px}.snoguess-game[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-size:16px}.snoguess-game[_ngcontent-%COMP%]   .diff-label[_ngcontent-%COMP%]{text-align:right}}.selected-level[_ngcontent-%COMP%]{font-weight:700}"],data:{animation:[xr("shake",[gn("normal => shake",mn(200,pv([oi({transform:"translateX(0)"}),oi({transform:"translateX(-10px)"}),oi({transform:"translateX(10px)"}),oi({transform:"translateX(0)"})])))]),xr("popIn",[gn(":enter",[oi({transform:"scale(0.8)",opacity:0}),mn("0.5s cubic-bezier(.8, -0.6, 0.2, 1.5)",oi({transform:"scale(1.3)",opacity:1})),mn("0.2s cubic-bezier(.8, -0.6, 0.2, 1.5)",oi({transform:"scale(1)",opacity:1}))])]),xr("scrollUp",[gn(":enter",[oi({transform:"translateY(100%)",opacity:0}),mn("0.5s ease-out",oi({transform:"translateY(0)",opacity:1}))])]),xr("fadeInDelayed",[gn(":enter",[oi({opacity:0}),mn("1s 0.5s ease-out",oi({opacity:1}))])])]}})}}return e})();var oBt=Mt(4418),lBt=Mt.n(oBt);function x0(e){return e+.5|0}const Oh=(e,i,t)=>Math.max(Math.min(e,t),i);function o1(e){return Oh(x0(2.55*e),0,255)}function uf(e){return Oh(x0(255*e),0,255)}function Lh(e){return Oh(x0(e/2.55)/100,0,1)}function oJ(e){return Oh(x0(100*e),0,100)}const hc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},VL=[..."0123456789ABCDEF"],cBt=e=>VL[15&e],uBt=e=>VL[(240&e)>>4]+VL[15&e],G_=e=>(240&e)>>4==(15&e);const mBt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lJ(e,i,t){const n=i*Math.min(t,1-t),r=(s,o=(s+e/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function gBt(e,i,t){const n=(r,s=(r+e/60)%6)=>t-t*i*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function vBt(e,i,t){const n=lJ(e,1,.5);let r;for(i+t>1&&(r=1/(i+t),i*=r,t*=r),r=0;r<3;r++)n[r]*=1-i-t,n[r]+=i;return n}function UL(e){const t=e.r/255,n=e.g/255,r=e.b/255,s=Math.max(t,n,r),o=Math.min(t,n,r),l=(s+o)/2;let w,E,D;return s!==o&&(D=s-o,E=l>.5?D/(2-s-o):D/(s+o),w=function yBt(e,i,t,n,r){return e===r?(i-t)/n+(i<t?6:0):i===r?(t-e)/n+2:(e-i)/n+4}(t,n,r,D,s),w=60*w+.5),[0|w,E||0,l]}function zL(e,i,t,n){return(Array.isArray(i)?e(i[0],i[1],i[2]):e(i,t,n)).map(uf)}function GL(e,i,t){return zL(lJ,e,i,t)}function cJ(e){return(e%360+360)%360}const uJ={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hJ={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let H_;const _Bt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,HL=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,b0=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function W_(e,i,t){if(e){let n=UL(e);n[i]=Math.max(0,Math.min(n[i]+n[i]*t,0===i?360:1)),n=GL(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function dJ(e,i){return e&&Object.assign(i||{},e)}function fJ(e){var i={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(i={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(i.a=uf(e[3]))):(i=dJ(e,{r:0,g:0,b:0,a:1})).a=uf(i.a),i}function IBt(e){return"r"===e.charAt(0)?function ABt(e){const i=_Bt.exec(e);let n,r,s,t=255;if(i){if(i[7]!==n){const o=+i[7];t=i[8]?o1(o):Oh(255*o,0,255)}return n=+i[1],r=+i[3],s=+i[5],n=255&(i[2]?o1(n):Oh(n,0,255)),r=255&(i[4]?o1(r):Oh(r,0,255)),s=255&(i[6]?o1(s):Oh(s,0,255)),{r:n,g:r,b:s,a:t}}}(e):function wBt(e){const i=mBt.exec(e);let n,t=255;if(!i)return;i[5]!==n&&(t=i[6]?o1(+i[5]):uf(+i[5]));const r=cJ(+i[2]),s=+i[3]/100,o=+i[4]/100;return n="hwb"===i[1]?function xBt(e,i,t){return zL(vBt,e,i,t)}(r,s,o):"hsv"===i[1]?function bBt(e,i,t){return zL(gBt,e,i,t)}(r,s,o):GL(r,s,o),{r:n[0],g:n[1],b:n[2],a:t}}(e)}class w0{constructor(i){if(i instanceof w0)return i;const t=typeof i;let n;"object"===t?n=fJ(i):"string"===t&&(n=function dBt(e){var t,i=e.length;return"#"===e[0]&&(4===i||5===i?t={r:255&17*hc[e[1]],g:255&17*hc[e[2]],b:255&17*hc[e[3]],a:5===i?17*hc[e[4]]:255}:(7===i||9===i)&&(t={r:hc[e[1]]<<4|hc[e[2]],g:hc[e[3]]<<4|hc[e[4]],b:hc[e[5]]<<4|hc[e[6]],a:9===i?hc[e[7]]<<4|hc[e[8]]:255})),t}(i)||function EBt(e){H_||(H_=function SBt(){const e={},i=Object.keys(hJ),t=Object.keys(uJ);let n,r,s,o,l;for(n=0;n<i.length;n++){for(o=l=i[n],r=0;r<t.length;r++)s=t[r],l=l.replace(s,uJ[s]);s=parseInt(hJ[o],16),e[l]=[s>>16&255,s>>8&255,255&s]}return e}(),H_.transparent=[0,0,0,0]);const i=H_[e.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||IBt(i)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var i=dJ(this._rgb);return i&&(i.a=Lh(i.a)),i}set rgb(i){this._rgb=fJ(i)}rgbString(){return this._valid?function DBt(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Lh(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function pBt(e){var i=(e=>G_(e.r)&&G_(e.g)&&G_(e.b)&&G_(e.a))(e)?cBt:uBt;return e?"#"+i(e.r)+i(e.g)+i(e.b)+((e,i)=>e<255?i(e):"")(e.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function CBt(e){if(!e)return;const i=UL(e),t=i[0],n=oJ(i[1]),r=oJ(i[2]);return e.a<255?`hsla(${t}, ${n}%, ${r}%, ${Lh(e.a)})`:`hsl(${t}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(i,t){if(i){const n=this.rgb,r=i.rgb;let s;const o=t===s?.5:t,l=2*o-1,w=n.a-r.a,E=((l*w==-1?l:(l+w)/(1+l*w))+1)/2;s=1-E,n.r=255&E*n.r+s*r.r+.5,n.g=255&E*n.g+s*r.g+.5,n.b=255&E*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(i,t){return i&&(this._rgb=function MBt(e,i,t){const n=b0(Lh(e.r)),r=b0(Lh(e.g)),s=b0(Lh(e.b));return{r:uf(HL(n+t*(b0(Lh(i.r))-n))),g:uf(HL(r+t*(b0(Lh(i.g))-r))),b:uf(HL(s+t*(b0(Lh(i.b))-s))),a:e.a+t*(i.a-e.a)}}(this._rgb,i._rgb,t)),this}clone(){return new w0(this.rgb)}alpha(i){return this._rgb.a=uf(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,t=x0(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=t,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return W_(this._rgb,2,i),this}darken(i){return W_(this._rgb,2,-i),this}saturate(i){return W_(this._rgb,1,i),this}desaturate(i){return W_(this._rgb,1,-i),this}rotate(i){return function TBt(e,i){var t=UL(e);t[0]=cJ(t[0]+i),t=GL(t),e.r=t[0],e.g=t[1],e.b=t[2]}(this._rgb,i),this}}function Nh(){}const RBt=(()=>{let e=0;return()=>e++})();function rr(e){return null==e}function es(e){if(Array.isArray&&Array.isArray(e))return!0;const i=Object.prototype.toString.call(e);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function Xn(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function _s(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function Nl(e,i){return _s(e)?e:i}function Sn(e,i){return typeof e>"u"?i:e}const pJ=(e,i)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*i:+e;function $r(e,i,t){if(e&&"function"==typeof e.call)return e.apply(t,i)}function _r(e,i,t,n){let r,s,o;if(es(e))if(s=e.length,n)for(r=s-1;r>=0;r--)i.call(t,e[r],r);else for(r=0;r<s;r++)i.call(t,e[r],r);else if(Xn(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)i.call(t,e[o[r]],o[r])}function j_(e,i){let t,n,r,s;if(!e||!i||e.length!==i.length)return!1;for(t=0,n=e.length;t<n;++t)if(r=e[t],s=i[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function X_(e){if(es(e))return e.map(X_);if(Xn(e)){const i=Object.create(null),t=Object.keys(e),n=t.length;let r=0;for(;r<n;++r)i[t[r]]=X_(e[t[r]]);return i}return e}function mJ(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function kBt(e,i,t,n){if(!mJ(e))return;const r=i[e],s=t[e];Xn(r)&&Xn(s)?l1(r,s,n):i[e]=X_(s)}function l1(e,i,t){const n=es(i)?i:[i],r=n.length;if(!Xn(e))return e;const s=(t=t||{}).merger||kBt;let o;for(let l=0;l<r;++l){if(o=n[l],!Xn(o))continue;const w=Object.keys(o);for(let E=0,D=w.length;E<D;++E)s(w[E],e,o,t)}return e}function c1(e,i){return l1(e,i,{merger:FBt})}function FBt(e,i,t){if(!mJ(e))return;const n=i[e],r=t[e];Xn(n)&&Xn(r)?c1(n,r):Object.prototype.hasOwnProperty.call(i,e)||(i[e]=X_(r))}const gJ={"":e=>e,x:e=>e.x,y:e=>e.y};function hf(e,i){return(gJ[i]||(gJ[i]=function LBt(e){const i=function OBt(e){const i=e.split("."),t=[];let n="";for(const r of i)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}(e);return t=>{for(const n of i){if(""===n)break;t=t&&t[n]}return t}}(i)))(e)}function WL(e){return e.charAt(0).toUpperCase()+e.slice(1)}const u1=e=>typeof e<"u",df=e=>"function"==typeof e,vJ=(e,i)=>{if(e.size!==i.size)return!1;for(const t of e)if(!i.has(t))return!1;return!0},is=Math.PI,ns=2*is,BBt=ns+is,Y_=Number.POSITIVE_INFINITY,VBt=is/180,Bs=is/2,tm=is/4,yJ=2*is/3,ff=Math.log10,Mu=Math.sign;function h1(e,i,t){return Math.abs(e-i)<t}function xJ(e){const i=Math.round(e);e=h1(e,i,e/1e3)?i:e;const t=Math.pow(10,Math.floor(ff(e))),n=e/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function T0(e){return!isNaN(parseFloat(e))&&isFinite(e)}function bJ(e,i,t){let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n][t],isNaN(s)||(i.min=Math.min(i.min,s),i.max=Math.max(i.max,s))}function Uc(e){return e*(is/180)}function jL(e){return e*(180/is)}function wJ(e){if(!_s(e))return;let i=1,t=0;for(;Math.round(e*i)/i!==e;)i*=10,t++;return t}function TJ(e,i){const t=i.x-e.x,n=i.y-e.y,r=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*is&&(s+=ns),{angle:s,distance:r}}function XL(e,i){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function GBt(e,i){return(e-i+BBt)%ns-is}function Bl(e){return(e%ns+ns)%ns}function d1(e,i,t,n){const r=Bl(e),s=Bl(i),o=Bl(t),l=Bl(s-r),w=Bl(o-r),E=Bl(r-s),D=Bl(r-o);return r===s||r===o||n&&s===o||l>w&&E<D}function Fa(e,i,t){return Math.max(i,Math.min(t,e))}function Bh(e,i,t,n=1e-6){return e>=Math.min(i,t)-n&&e<=Math.max(i,t)+n}function YL(e,i,t){t=t||(o=>e[o]<i);let s,n=e.length-1,r=0;for(;n-r>1;)s=r+n>>1,t(s)?r=s:n=s;return{lo:r,hi:n}}const Vh=(e,i,t,n)=>YL(e,t,n?r=>{const s=e[r][i];return s<t||s===t&&e[r+1][i]===t}:r=>e[r][i]<t),WBt=(e,i,t)=>YL(e,t,n=>e[n][i]>=t),CJ=["push","pop","shift","splice","unshift"];function SJ(e,i){const t=e._chartjs;if(!t)return;const n=t.listeners,r=n.indexOf(i);-1!==r&&n.splice(r,1),!(n.length>0)&&(CJ.forEach(s=>{delete e[s]}),delete e._chartjs)}function EJ(e){const i=new Set(e);return i.size===e.length?e:Array.from(i)}const _J=typeof window>"u"?function(e){return e()}:window.requestAnimationFrame;function AJ(e,i){let t=[],n=!1;return function(...r){t=r,n||(n=!0,_J.call(window,()=>{n=!1,e.apply(i,t)}))}}const $L=e=>"start"===e?"left":"end"===e?"right":"center",vo=(e,i,t)=>"start"===e?i:"end"===e?t:(i+t)/2;function DJ(e,i,t){const n=i.length;let r=0,s=n;if(e._sorted){const{iScale:o,_parsed:l}=e,w=o.axis,{min:E,max:D,minDefined:k,maxDefined:O}=o.getUserBounds();k&&(r=Fa(Math.min(Vh(l,w,E).lo,t?n:Vh(i,w,o.getPixelForValue(E)).lo),0,n-1)),s=O?Fa(Math.max(Vh(l,o.axis,D,!0).hi+1,t?0:Vh(i,w,o.getPixelForValue(D),!0).hi+1),r,n)-r:n-r}return{start:r,count:s}}function MJ(e){const{xScale:i,yScale:t,_scaleRanges:n}=e,r={xmin:i.min,xmax:i.max,ymin:t.min,ymax:t.max};if(!n)return e._scaleRanges=r,!0;const s=n.xmin!==i.min||n.xmax!==i.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,r),s}const $_=e=>0===e||1===e,IJ=(e,i,t)=>-Math.pow(2,10*(e-=1))*Math.sin((e-i)*ns/t),RJ=(e,i,t)=>Math.pow(2,-10*e)*Math.sin((e-i)*ns/t)+1,f1={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Bs),easeOutSine:e=>Math.sin(e*Bs),easeInOutSine:e=>-.5*(Math.cos(is*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>$_(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>$_(e)?e:IJ(e,.075,.3),easeOutElastic:e=>$_(e)?e:RJ(e,.075,.3),easeInOutElastic:e=>$_(e)?e:e<.5?.5*IJ(2*e,.1125,.45):.5+.5*RJ(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let i=1.70158;return(e/=.5)<1?e*e*((1+(i*=1.525))*e-i)*.5:.5*((e-=2)*e*((1+(i*=1.525))*e+i)+2)},easeInBounce:e=>1-f1.easeOutBounce(1-e),easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInOutBounce:e=>e<.5?.5*f1.easeInBounce(2*e):.5*f1.easeOutBounce(2*e-1)+.5};function QL(e){if(e&&"object"==typeof e){const i=e.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function PJ(e){return QL(e)?e:new w0(e)}function KL(e){return QL(e)?e:new w0(e).saturate(.5).darken(.1).hexString()}const QBt=["x","y","borderWidth","radius","tension"],KBt=["color","borderColor","backgroundColor"],kJ=new Map;function p1(e,i,t){return function qBt(e,i){i=i||{};const t=e+JSON.stringify(i);let n=kJ.get(t);return n||(n=new Intl.NumberFormat(e,i),kJ.set(t,n)),n}(i,t).format(e)}const FJ={values:e=>es(e)?e:""+e,numeric(e,i,t){if(0===e)return"0";const n=this.chart.options.locale;let r,s=e;if(t.length>1){const E=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(E<1e-4||E>1e15)&&(r="scientific"),s=function tVt(e,i){let t=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}(e,t)}const o=ff(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),w={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(w,this.options.ticks.format),p1(e,n,w)},logarithmic(e,i,t){if(0===e)return"0";const n=t[i].significand||e/Math.pow(10,Math.floor(ff(e)));return[1,2,3,5,10,15].includes(n)||i>.8*t.length?FJ.numeric.call(this,e,i,t):""}};var Q_={formatters:FJ};const em=Object.create(null),ZL=Object.create(null);function m1(e,i){if(!i)return e;const t=i.split(".");for(let n=0,r=t.length;n<r;++n){const s=t[n];e=e[s]||(e[s]=Object.create(null))}return e}function JL(e,i,t){return"string"==typeof i?l1(m1(e,i),t):l1(m1(e,""),i)}class iVt{constructor(i,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>KL(r.backgroundColor),this.hoverBorderColor=(n,r)=>KL(r.borderColor),this.hoverColor=(n,r)=>KL(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(t)}set(i,t){return JL(this,i,t)}get(i){return m1(this,i)}describe(i,t){return JL(ZL,i,t)}override(i,t){return JL(em,i,t)}route(i,t,n,r){const s=m1(this,i),o=m1(this,n),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const w=this[l],E=o[r];return Xn(w)?Object.assign({},E,w):Sn(w,E)},set(w){this[l]=w}}})}apply(i){i.forEach(t=>t(this))}}var fs=new iVt({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function ZBt(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>"onProgress"!==i&&"onComplete"!==i&&"fn"!==i}),e.set("animations",{colors:{type:"color",properties:KBt},numbers:{type:"number",properties:QBt}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>0|i}}}})},function JBt(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function eVt(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,t)=>t.lineWidth,tickColor:(i,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Q_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&"callback"!==i&&"parser"!==i,_indexable:i=>"borderDash"!==i&&"tickBorderDash"!==i&&"dash"!==i}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:i=>"backdropPadding"!==i&&"callback"!==i,_indexable:i=>"backdropPadding"!==i})}]);function K_(e,i,t,n,r){let s=i[r];return s||(s=i[r]=e.measureText(r).width,t.push(r)),s>n&&(n=s),n}function rVt(e,i,t,n){let r=(n=n||{}).data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==i&&(r=n.data={},s=n.garbageCollect=[],n.font=i),e.save(),e.font=i;let o=0;const l=t.length;let w,E,D,k,O;for(w=0;w<l;w++)if(k=t[w],null==k||es(k)){if(es(k))for(E=0,D=k.length;E<D;E++)O=k[E],null!=O&&!es(O)&&(o=K_(e,r,s,o,O))}else o=K_(e,r,s,o,k);e.restore();const L=s.length/2;if(L>t.length){for(w=0;w<L;w++)delete r[s[w]];s.splice(0,L)}return o}function im(e,i,t){const n=e.currentDevicePixelRatio,r=0!==t?Math.max(t/2,.5):0;return Math.round((i-r)*n)/n+r}function OJ(e,i){!i&&!e||((i=i||e.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,e.width,e.height),i.restore())}function qL(e,i,t,n){LJ(e,i,t,n,null)}function LJ(e,i,t,n,r){let s,o,l,w,E,D,k,O;const L=i.pointStyle,U=i.rotation,j=i.radius;let W=(U||0)*VBt;if(L&&"object"==typeof L&&(s=L.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(t,n),e.rotate(W),e.drawImage(L,-L.width/2,-L.height/2,L.width,L.height),void e.restore();if(!(isNaN(j)||j<=0)){switch(e.beginPath(),L){default:r?e.ellipse(t,n,r/2,j,0,0,ns):e.arc(t,n,j,0,ns),e.closePath();break;case"triangle":D=r?r/2:j,e.moveTo(t+Math.sin(W)*D,n-Math.cos(W)*j),W+=yJ,e.lineTo(t+Math.sin(W)*D,n-Math.cos(W)*j),W+=yJ,e.lineTo(t+Math.sin(W)*D,n-Math.cos(W)*j),e.closePath();break;case"rectRounded":E=.516*j,w=j-E,o=Math.cos(W+tm)*w,k=Math.cos(W+tm)*(r?r/2-E:w),l=Math.sin(W+tm)*w,O=Math.sin(W+tm)*(r?r/2-E:w),e.arc(t-k,n-l,E,W-is,W-Bs),e.arc(t+O,n-o,E,W-Bs,W),e.arc(t+k,n+l,E,W,W+Bs),e.arc(t-O,n+o,E,W+Bs,W+is),e.closePath();break;case"rect":if(!U){w=Math.SQRT1_2*j,D=r?r/2:w,e.rect(t-D,n-w,2*D,2*w);break}W+=tm;case"rectRot":k=Math.cos(W)*(r?r/2:j),o=Math.cos(W)*j,l=Math.sin(W)*j,O=Math.sin(W)*(r?r/2:j),e.moveTo(t-k,n-l),e.lineTo(t+O,n-o),e.lineTo(t+k,n+l),e.lineTo(t-O,n+o),e.closePath();break;case"crossRot":W+=tm;case"cross":k=Math.cos(W)*(r?r/2:j),o=Math.cos(W)*j,l=Math.sin(W)*j,O=Math.sin(W)*(r?r/2:j),e.moveTo(t-k,n-l),e.lineTo(t+k,n+l),e.moveTo(t+O,n-o),e.lineTo(t-O,n+o);break;case"star":k=Math.cos(W)*(r?r/2:j),o=Math.cos(W)*j,l=Math.sin(W)*j,O=Math.sin(W)*(r?r/2:j),e.moveTo(t-k,n-l),e.lineTo(t+k,n+l),e.moveTo(t+O,n-o),e.lineTo(t-O,n+o),W+=tm,k=Math.cos(W)*(r?r/2:j),o=Math.cos(W)*j,l=Math.sin(W)*j,O=Math.sin(W)*(r?r/2:j),e.moveTo(t-k,n-l),e.lineTo(t+k,n+l),e.moveTo(t+O,n-o),e.lineTo(t-O,n+o);break;case"line":o=r?r/2:Math.cos(W)*j,l=Math.sin(W)*j,e.moveTo(t-o,n-l),e.lineTo(t+o,n+l);break;case"dash":e.moveTo(t,n),e.lineTo(t+Math.cos(W)*(r?r/2:j),n+Math.sin(W)*j);break;case!1:e.closePath()}e.fill(),i.borderWidth>0&&e.stroke()}}function Uh(e,i,t){return t=t||.5,!i||e&&e.x>i.left-t&&e.x<i.right+t&&e.y>i.top-t&&e.y<i.bottom+t}function Z_(e,i){e.save(),e.beginPath(),e.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),e.clip()}function J_(e){e.restore()}function sVt(e,i,t,n,r){if(!i)return e.lineTo(t.x,t.y);if("middle"===r){const s=(i.x+t.x)/2;e.lineTo(s,i.y),e.lineTo(s,t.y)}else"after"===r!=!!n?e.lineTo(i.x,t.y):e.lineTo(t.x,i.y);e.lineTo(t.x,t.y)}function aVt(e,i,t,n){if(!i)return e.lineTo(t.x,t.y);e.bezierCurveTo(n?i.cp1x:i.cp2x,n?i.cp1y:i.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function lVt(e,i,t,n,r){if(r.strikethrough||r.underline){const s=e.measureText(n),o=i-s.actualBoundingBoxLeft,l=i+s.actualBoundingBoxRight,E=t+s.actualBoundingBoxDescent,D=r.strikethrough?(t-s.actualBoundingBoxAscent+E)/2:E;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,D),e.lineTo(l,D),e.stroke()}}function cVt(e,i){const t=e.fillStyle;e.fillStyle=i.color,e.fillRect(i.left,i.top,i.width,i.height),e.fillStyle=t}function nm(e,i,t,n,r,s={}){const o=es(i)?i:[i],l=s.strokeWidth>0&&""!==s.strokeColor;let w,E;for(e.save(),e.font=r.string,function oVt(e,i){i.translation&&e.translate(i.translation[0],i.translation[1]),rr(i.rotation)||e.rotate(i.rotation),i.color&&(e.fillStyle=i.color),i.textAlign&&(e.textAlign=i.textAlign),i.textBaseline&&(e.textBaseline=i.textBaseline)}(e,s),w=0;w<o.length;++w)E=o[w],s.backdrop&&cVt(e,s.backdrop),l&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),rr(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(E,t,n,s.maxWidth)),e.fillText(E,t,n,s.maxWidth),lVt(e,t,n,E,s),n+=Number(r.lineHeight);e.restore()}function g1(e,i){const{x:t,y:n,w:r,h:s,radius:o}=i;e.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*is,is,!0),e.lineTo(t,n+s-o.bottomLeft),e.arc(t+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,is,Bs,!0),e.lineTo(t+r-o.bottomRight,n+s),e.arc(t+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Bs,0,!0),e.lineTo(t+r,n+o.topRight),e.arc(t+r-o.topRight,n+o.topRight,o.topRight,0,-Bs,!0),e.lineTo(t+o.topLeft,n)}const uVt=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hVt=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dVt(e,i){const t=(""+e).match(uVt);if(!t||"normal"===t[1])return 1.2*i;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return i*e}const fVt=e=>+e||0;function tN(e,i){const t={},n=Xn(i),r=n?Object.keys(i):i,s=Xn(e)?n?o=>Sn(e[o],e[i[o]]):o=>e[o]:()=>e;for(const o of r)t[o]=fVt(s(o));return t}function NJ(e){return tN(e,{top:"y",right:"x",bottom:"y",left:"x"})}function rm(e){return tN(e,["topLeft","topRight","bottomLeft","bottomRight"])}function yo(e){const i=NJ(e);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function ba(e,i){let t=Sn((e=e||{}).size,(i=i||fs.font).size);"string"==typeof t&&(t=parseInt(t,10));let n=Sn(e.style,i.style);n&&!(""+n).match(hVt)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Sn(e.family,i.family),lineHeight:dVt(Sn(e.lineHeight,i.lineHeight),t),size:t,style:n,weight:Sn(e.weight,i.weight),string:""};return r.string=function nVt(e){return!e||rr(e.size)||rr(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function v1(e,i,t,n){let s,o,l,r=!0;for(s=0,o=e.length;s<o;++s)if(l=e[s],void 0!==l&&(void 0!==i&&"function"==typeof l&&(l=l(i),r=!1),void 0!==t&&es(l)&&(l=l[t%l.length],r=!1),void 0!==l))return n&&!r&&(n.cacheable=!1),l}function pf(e,i){return Object.assign(Object.create(e),i)}function eN(e,i=[""],t,n,r=()=>e[0]){const s=t||e;typeof n>"u"&&(n=GJ("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:r,override:l=>eN([l,...e],i,s,n)};return new Proxy(o,{deleteProperty:(l,w)=>(delete l[w],delete l._keys,delete e[0][w],!0),get:(l,w)=>VJ(l,w,()=>function TVt(e,i,t,n){let r;for(const s of i)if(r=GJ(mVt(s,e),t),typeof r<"u")return iN(e,r)?nN(t,n,e,r):r}(w,i,e,l)),getOwnPropertyDescriptor:(l,w)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],w),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(l,w)=>HJ(l).includes(w),ownKeys:l=>HJ(l),set(l,w,E){const D=l._storage||(l._storage=r());return l[w]=D[w]=E,delete l._keys,!0}})}function C0(e,i,t,n){const r={_cacheable:!1,_proxy:e,_context:i,_subProxy:t,_stack:new Set,_descriptors:BJ(e,n),setContext:s=>C0(e,s,t,n),override:s=>C0(e.override(s),i,t,n)};return new Proxy(r,{deleteProperty:(s,o)=>(delete s[o],delete e[o],!0),get:(s,o,l)=>VJ(s,o,()=>function gVt(e,i,t){const{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=e;let l=n[i];return df(l)&&o.isScriptable(i)&&(l=function vVt(e,i,t,n){const{_proxy:r,_context:s,_subProxy:o,_stack:l}=t;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let w=i(s,o||n);return l.delete(e),iN(e,w)&&(w=nN(r._scopes,r,e,w)),w}(i,l,e,t)),es(l)&&l.length&&(l=function yVt(e,i,t,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=t;if(typeof s.index<"u"&&n(e))return i[s.index%i.length];if(Xn(i[0])){const w=i,E=r._scopes.filter(D=>D!==w);i=[];for(const D of w){const k=nN(E,r,e,D);i.push(C0(k,s,o&&o[e],l))}}return i}(i,l,e,o.isIndexable)),iN(i,l)&&(l=C0(l,r,s&&s[i],o)),l}(s,o,l)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(s,o)=>Reflect.has(e,o),ownKeys:()=>Reflect.ownKeys(e),set:(s,o,l)=>(e[o]=l,delete s[o],!0)})}function BJ(e,i={scriptable:!0,indexable:!0}){const{_scriptable:t=i.scriptable,_indexable:n=i.indexable,_allKeys:r=i.allKeys}=e;return{allKeys:r,scriptable:t,indexable:n,isScriptable:df(t)?t:()=>t,isIndexable:df(n)?n:()=>n}}const mVt=(e,i)=>e?e+WL(i):i,iN=(e,i)=>Xn(i)&&"adapters"!==e&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function VJ(e,i,t){if(Object.prototype.hasOwnProperty.call(e,i)||"constructor"===i)return e[i];const n=t();return e[i]=n,n}function UJ(e,i,t){return df(e)?e(i,t):e}const xVt=(e,i)=>!0===e?i:"string"==typeof e?hf(i,e):void 0;function bVt(e,i,t,n,r){for(const s of i){const o=xVt(t,s);if(o){e.add(o);const l=UJ(o._fallback,t,r);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(!1===o&&typeof n<"u"&&t!==n)return null}return!1}function nN(e,i,t,n){const r=i._rootScopes,s=UJ(i._fallback,t,n),o=[...e,...r],l=new Set;l.add(n);let w=zJ(l,o,t,s||t,n);return!(null===w||typeof s<"u"&&s!==t&&(w=zJ(l,o,s,w,n),null===w))&&eN(Array.from(l),[""],r,s,()=>function wVt(e,i,t){const n=e._getTarget();i in n||(n[i]={});const r=n[i];return es(r)&&Xn(t)?t:r||{}}(i,t,n))}function zJ(e,i,t,n,r){for(;t;)t=bVt(e,i,t,n,r);return t}function GJ(e,i){for(const t of i){if(!t)continue;const n=t[e];if(typeof n<"u")return n}}function HJ(e){let i=e._keys;return i||(i=e._keys=function CVt(e){const i=new Set;for(const t of e)for(const n of Object.keys(t).filter(r=>!r.startsWith("_")))i.add(n);return Array.from(i)}(e._scopes)),i}function WJ(e,i,t,n){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(n);let l,w,E,D;for(l=0,w=n;l<w;++l)E=l+t,D=i[E],o[l]={r:r.parse(hf(D,s),E)};return o}const SVt=Number.EPSILON||1e-14,S0=(e,i)=>i<e.length&&!e[i].skip&&e[i],jJ=e=>"x"===e?"y":"x";function EVt(e,i,t,n){const r=e.skip?i:e,s=i,o=t.skip?i:t,l=XL(s,r),w=XL(o,s);let E=l/(l+w),D=w/(l+w);E=isNaN(E)?0:E,D=isNaN(D)?0:D;const k=n*E,O=n*D;return{previous:{x:s.x-k*(o.x-r.x),y:s.y-k*(o.y-r.y)},next:{x:s.x+O*(o.x-r.x),y:s.y+O*(o.y-r.y)}}}function q_(e,i,t){return Math.max(Math.min(e,t),i)}function IVt(e,i,t,n,r){let s,o,l,w;if(i.spanGaps&&(e=e.filter(E=>!E.skip)),"monotone"===i.cubicInterpolationMode)!function DVt(e,i="x"){const t=jJ(i),n=e.length,r=Array(n).fill(0),s=Array(n);let o,l,w,E=S0(e,0);for(o=0;o<n;++o)if(l=w,w=E,E=S0(e,o+1),w){if(E){const D=E[i]-w[i];r[o]=0!==D?(E[t]-w[t])/D:0}s[o]=l?E?Mu(r[o-1])!==Mu(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}(function _Vt(e,i,t){const n=e.length;let r,s,o,l,w,E=S0(e,0);for(let D=0;D<n-1;++D)if(w=E,E=S0(e,D+1),w&&E){if(h1(i[D],0,SVt)){t[D]=t[D+1]=0;continue}r=t[D]/i[D],s=t[D+1]/i[D],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),t[D]=r*o*i[D],t[D+1]=s*o*i[D])}})(e,r,s),function AVt(e,i,t="x"){const n=jJ(t),r=e.length;let s,o,l,w=S0(e,0);for(let E=0;E<r;++E){if(o=l,l=w,w=S0(e,E+1),!l)continue;const D=l[t],k=l[n];o&&(s=(D-o[t])/3,l[`cp1${t}`]=D-s,l[`cp1${n}`]=k-s*i[E]),w&&(s=(w[t]-D)/3,l[`cp2${t}`]=D+s,l[`cp2${n}`]=k+s*i[E])}}(e,s,i)}(e,r);else{let E=n?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)l=e[s],w=EVt(E,l,e[Math.min(s+1,o-(n?0:1))%o],i.tension),l.cp1x=w.previous.x,l.cp1y=w.previous.y,l.cp2x=w.next.x,l.cp2y=w.next.y,E=l}i.capBezierPoints&&function MVt(e,i){let t,n,r,s,o,l=Uh(e[0],i);for(t=0,n=e.length;t<n;++t)o=s,s=l,l=t<n-1&&Uh(e[t+1],i),s&&(r=e[t],o&&(r.cp1x=q_(r.cp1x,i.left,i.right),r.cp1y=q_(r.cp1y,i.top,i.bottom)),l&&(r.cp2x=q_(r.cp2x,i.left,i.right),r.cp2y=q_(r.cp2y,i.top,i.bottom)))}(e,t)}function rN(){return typeof window<"u"&&typeof document<"u"}function sN(e){let i=e.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function tA(e,i,t){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*i.parentNode[t])):n=e,n}const eA=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),PVt=["top","right","bottom","left"];function sm(e,i,t){const n={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=PVt[r];n[s]=parseFloat(e[i+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const kVt=(e,i,t)=>(e>0||i>0)&&(!t||!t.shadowRoot);function am(e,i){if("native"in e)return e;const{canvas:t,currentDevicePixelRatio:n}=i,r=eA(t),s="border-box"===r.boxSizing,o=sm(r,"padding"),l=sm(r,"border","width"),{x:w,y:E,box:D}=function FVt(e,i){const t=e.touches,n=t&&t.length?t[0]:e,{offsetX:r,offsetY:s}=n;let l,w,o=!1;if(kVt(r,s,e.target))l=r,w=s;else{const E=i.getBoundingClientRect();l=n.clientX-E.left,w=n.clientY-E.top,o=!0}return{x:l,y:w,box:o}}(e,t),k=o.left+(D&&l.left),O=o.top+(D&&l.top);let{width:L,height:U}=i;return s&&(L-=o.width+l.width,U-=o.height+l.height),{x:Math.round((w-k)/L*t.width/n),y:Math.round((E-O)/U*t.height/n)}}const iA=e=>Math.round(10*e)/10;function XJ(e,i,t){const n=i||1,r=Math.floor(e.height*n),s=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||o.height!==r||o.width!==s)&&(e.currentDevicePixelRatio=n,o.height=r,o.width=s,e.ctx.setTransform(n,0,0,n,0,0),!0)}const NVt=function(){let e=!1;try{const i={get passive(){return e=!0,!1}};rN()&&(window.addEventListener("test",null,i),window.removeEventListener("test",null,i))}catch{}return e}();function YJ(e,i){const t=function RVt(e,i){return eA(e).getPropertyValue(i)}(e,i),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function om(e,i,t,n){return{x:e.x+t*(i.x-e.x),y:e.y+t*(i.y-e.y)}}function BVt(e,i,t,n){return{x:e.x+t*(i.x-e.x),y:"middle"===n?t<.5?e.y:i.y:"after"===n?t<1?e.y:i.y:t>0?i.y:e.y}}function VVt(e,i,t,n){const r={x:e.cp2x,y:e.cp2y},s={x:i.cp1x,y:i.cp1y},o=om(e,r,t),l=om(r,s,t),w=om(s,i,t),E=om(o,l,t),D=om(l,w,t);return om(E,D,t)}function E0(e,i,t){return e?function(e,i){return{x:t=>e+e+i-t,setWidth(t){i=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,n)=>t-n,leftForLtr:(t,n)=>t-n}}(i,t):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,i)=>e+i,leftForLtr:(e,i)=>e}}function $J(e,i){let t,n;("ltr"===i||"rtl"===i)&&(t=e.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",i,"important"),e.prevTextDirection=n)}function QJ(e,i){void 0!==i&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",i[0],i[1]))}function KJ(e){return"angle"===e?{between:d1,compare:GBt,normalize:Bl}:{between:Bh,compare:(i,t)=>i-t,normalize:i=>i}}function ZJ({start:e,end:i,count:t,loop:n,style:r}){return{start:e%t,end:i%t,loop:n&&(i-e+1)%t==0,style:r}}function JJ(e,i,t){if(!t)return[e];const{property:n,start:r,end:s}=t,o=i.length,{compare:l,between:w,normalize:E}=KJ(n),{start:D,end:k,loop:O,style:L}=function GVt(e,i,t){const{property:n,start:r,end:s}=t,{between:o,normalize:l}=KJ(n),w=i.length;let O,L,{start:E,end:D,loop:k}=e;if(k){for(E+=w,D+=w,O=0,L=w;O<L&&o(l(i[E%w][n]),r,s);++O)E--,D--;E%=w,D%=w}return D<E&&(D+=w),{start:E,end:D,loop:k,style:e.style}}(e,i,t),U=[];let Z,rt,st,j=!1,W=null;for(let ht=D,mt=D;ht<=k;++ht)rt=i[ht%o],!rt.skip&&(Z=E(rt[n]),Z!==st&&(j=w(Z,r,s),null===W&&(j||w(r,st,Z)&&0!==l(r,st))&&(W=0===l(Z,r)?ht:mt),null!==W&&(!j||0===l(s,Z)||w(s,st,Z))&&(U.push(ZJ({start:W,end:ht,loop:O,count:o,style:L})),W=null),mt=ht,st=Z));return null!==W&&U.push(ZJ({start:W,end:k,loop:O,count:o,style:L})),U}function qJ(e,i){const t=[],n=e.segments;for(let r=0;r<n.length;r++){const s=JJ(n[r],e.points,i);s.length&&t.push(...s)}return t}function eq(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function YVt(e,i){if(!i)return!1;const t=[],n=function(r,s){return QL(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(e,n)!==JSON.stringify(i,n)}class $Vt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,t,n,r){const o=t.duration;t.listeners[r].forEach(l=>l({chart:i,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=_J.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let w,o=s.length-1,l=!1;for(;o>=0;--o)w=s[o],w._active?(w._total>n.duration&&(n.duration=w._total),w.tick(i),l=!0):(s[o]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,n,i,"progress")),s.length||(n.running=!1,this._notify(r,n,i,"complete"),n.initial=!1),t+=s.length}),this._lastDate=i,0===t&&(this._running=!1)}_getAnims(i){const t=this._charts;let n=t.get(i);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(i,n)),n}listen(i,t,n){this._getAnims(i).listeners[t].push(n)}add(i,t){!t||!t.length||this._getAnims(i).items.push(...t)}has(i){return this._getAnims(i).items.length>0}start(i){const t=this._charts.get(i);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(i){if(!this._running)return!1;const t=this._charts.get(i);return!(!t||!t.running||!t.items.length)}stop(i){const t=this._charts.get(i);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(i,t,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var zh=new $Vt;const iq="transparent",QVt={boolean:(e,i,t)=>t>.5?i:e,color(e,i,t){const n=PJ(e||iq),r=n.valid&&PJ(i||iq);return r&&r.valid?r.mix(n,t).hexString():i},number:(e,i,t)=>e+(i-e)*t};class KVt{constructor(i,t,n,r){const s=t[n];r=v1([i.to,r,s,i.from]);const o=v1([i.from,s,r]);this._active=!0,this._fn=i.fn||QVt[i.type||typeof o],this._easing=f1[i.easing]||f1.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(i,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,i.duration)),this._total+=s,this._loop=!!i.loop,this._to=v1([i.to,t,r,i.from]),this._from=v1([i.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const t=i-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,l=this._to;let w;if(this._active=s!==l&&(o||t<n),!this._active)return this._target[r]=l,void this._notify(!0);t<0?this._target[r]=s:(w=t/n%2,w=o&&w>1?2-w:w,w=this._easing(Math.min(1,Math.max(0,w))),this._target[r]=this._fn(s,l,w))}wait(){const i=this._promises||(this._promises=[]);return new Promise((t,n)=>{i.push({res:t,rej:n})})}_notify(i){const t=i?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class nq{constructor(i,t){this._chart=i,this._properties=new Map,this.configure(t)}configure(i){if(!Xn(i))return;const t=Object.keys(fs.animation),n=this._properties;Object.getOwnPropertyNames(i).forEach(r=>{const s=i[r];if(!Xn(s))return;const o={};for(const l of t)o[l]=s[l];(es(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!n.has(l))&&n.set(l,o)})})}_animateOptions(i,t){const n=t.options,r=function JVt(e,i){if(!i)return;let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=i}(i,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&function ZVt(e,i){const t=[],n=Object.keys(i);for(let r=0;r<n.length;r++){const s=e[n[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(i.options.$animations,n).then(()=>{i.options=n},()=>{}),s}_createAnimations(i,t){const n=this._properties,r=[],s=i.$animations||(i.$animations={}),o=Object.keys(t),l=Date.now();let w;for(w=o.length-1;w>=0;--w){const E=o[w];if("$"===E.charAt(0))continue;if("options"===E){r.push(...this._animateOptions(i,t));continue}const D=t[E];let k=s[E];const O=n.get(E);if(k){if(O&&k.active()){k.update(O,D,l);continue}k.cancel()}O&&O.duration?(s[E]=k=new KVt(O,i,E,D),r.push(k)):i[E]=D}return r}update(i,t){if(0===this._properties.size)return void Object.assign(i,t);const n=this._createAnimations(i,t);return n.length?(zh.add(this._chart,n),!0):void 0}}function rq(e,i){const t=e&&e.options||{},n=t.reverse,r=void 0===t.min?i:0,s=void 0===t.max?i:0;return{start:n?s:r,end:n?r:s}}function sq(e,i){const t=[],n=e._getSortedDatasetMetas(i);let r,s;for(r=0,s=n.length;r<s;++r)t.push(n[r].index);return t}function aq(e,i,t,n={}){const r=e.keys,s="single"===n.mode;let o,l,w,E;if(null===i)return;let D=!1;for(o=0,l=r.length;o<l;++o){if(w=+r[o],w===t){if(D=!0,n.all)continue;break}E=e.values[w],_s(E)&&(s||0===i||Mu(i)===Mu(E))&&(i+=E)}return D||n.all?i:0}function aN(e,i){const t=e&&e.options.stacked;return t||void 0===t&&void 0!==i.stack}function r5t(e,i,t){const n=e[i]||(e[i]={});return n[t]||(n[t]={})}function oq(e,i,t,n){for(const r of i.getMatchingVisibleMetas(n).reverse()){const s=e[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function lq(e,i){const{chart:t,_cachedMeta:n}=e,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:l}=n,w=s.axis,E=o.axis,D=function i5t(e,i,t){return`${e.id}.${i.id}.${t.stack||t.type}`}(s,o,n),k=i.length;let O;for(let L=0;L<k;++L){const U=i[L],{[w]:j,[E]:W}=U;O=(U._stacks||(U._stacks={}))[E]=r5t(r,D,j),O[l]=W,O._top=oq(O,o,!0,n.type),O._bottom=oq(O,o,!1,n.type),(O._visualValues||(O._visualValues={}))[l]=W}}function oN(e,i){const t=e.scales;return Object.keys(t).filter(n=>t[n].axis===i).shift()}function y1(e,i){const t=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){i=i||e._parsed;for(const r of i){const s=r._stacks;if(!s||void 0===s[n]||void 0===s[n][t])return;delete s[n][t],void 0!==s[n]._visualValues&&void 0!==s[n]._visualValues[t]&&delete s[n]._visualValues[t]}}}const lN=e=>"reset"===e||"none"===e,cq=(e,i)=>i?e:Object.assign({},e);let mf=(()=>class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=aN(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&y1(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(O,L,U,j)=>"x"===O?L:"r"===O?j:U,o=n.xAxisID=Sn(r.xAxisID,oN(t,"x")),l=n.yAxisID=Sn(r.yAxisID,oN(t,"y")),w=n.rAxisID=Sn(r.rAxisID,oN(t,"r")),E=n.indexAxis,D=n.iAxisID=s(E,o,l,w),k=n.vAxisID=s(E,l,o,w);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(w),n.iScale=this.getScaleForId(D),n.vScale=this.getScaleForId(k)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&SJ(this._data,this),t._stacked&&y1(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Xn(n))this._data=function e5t(e,i){const{iScale:t,vScale:n}=i,r="x"===t.axis?"x":"y",s="x"===n.axis?"x":"y",o=Object.keys(e),l=new Array(o.length);let w,E,D;for(w=0,E=o.length;w<E;++w)D=o[w],l[w]={[r]:D,[s]:e[D]};return l}(n,this._cachedMeta);else if(r!==n){if(r){SJ(r,this);const s=this._cachedMeta;y1(s),s._parsed=[]}n&&Object.isExtensible(n)&&function XBt(e,i){e._chartjs?e._chartjs.listeners.push(i):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),CJ.forEach(t=>{const n="_onData"+WL(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(l=>{"function"==typeof l[n]&&l[n](...s)}),o}})}))}(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=aN(n.vScale,n),n.stack!==r.stack&&(s=!0,y1(n),n.stack=r.stack),this._resyncElements(t),(s||o!==n._stacked)&&(lq(this,n._parsed),n._stacked=aN(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:l}=r,w=o.axis;let k,O,L,E=0===t&&n===s.length||r._sorted,D=t>0&&r._parsed[t-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,L=s;else{L=es(s[t])?this.parseArrayData(r,s,t,n):Xn(s[t])?this.parseObjectData(r,s,t,n):this.parsePrimitiveData(r,s,t,n);const U=()=>null===O[w]||D&&O[w]<D[w];for(k=0;k<n;++k)r._parsed[k+t]=O=L[k],E&&(U()&&(E=!1),D=O);r._sorted=E}l&&lq(this,L)}parsePrimitiveData(t,n,r,s){const{iScale:o,vScale:l}=t,w=o.axis,E=l.axis,D=o.getLabels(),k=o===l,O=new Array(s);let L,U,j;for(L=0,U=s;L<U;++L)j=L+r,O[L]={[w]:k||o.parse(D[j],j),[E]:l.parse(n[j],j)};return O}parseArrayData(t,n,r,s){const{xScale:o,yScale:l}=t,w=new Array(s);let E,D,k,O;for(E=0,D=s;E<D;++E)k=E+r,O=n[k],w[E]={x:o.parse(O[0],k),y:l.parse(O[1],k)};return w}parseObjectData(t,n,r,s){const{xScale:o,yScale:l}=t,{xAxisKey:w="x",yAxisKey:E="y"}=this._parsing,D=new Array(s);let k,O,L,U;for(k=0,O=s;k<O;++k)L=k+r,U=n[L],D[k]={x:o.parse(hf(U,w),L),y:l.parse(hf(U,E),L)};return D}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const o=this._cachedMeta,l=n[t.axis];return aq({keys:sq(this.chart,!0),values:n._stacks[t.axis]._visualValues},l,o.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const o=r[n.axis];let l=null===o?NaN:o;const w=s&&r._stacks[n.axis];s&&w&&(s.values=w,l=aq(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&t===r.iScale,l=s.length,w=this._getOtherScale(t),E=((e,i)=>e&&!i.hidden&&i._stacked&&{keys:sq(this.chart,!0),values:null})(n,r),D={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:k,max:O}=function n5t(e){const{min:i,max:t,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?i:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}(w);let L,U;function j(){U=s[L];const W=U[w.axis];return!_s(U[t.axis])||k>W||O<W}for(L=0;L<l&&(j()||(this.updateRangeFromParsed(D,t,U,E),!o));++L);if(o)for(L=l-1;L>=0;--L)if(!j()){this.updateRangeFromParsed(D,t,U,E);break}return D}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,o,l;for(s=0,o=n.length;s<o;++s)l=n[s][t.axis],_s(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=function t5t(e){let i,t,n,r;return Xn(e)?(i=e.top,t=e.right,n=e.bottom,r=e.left):i=t=n=r=e,{top:i,right:t,bottom:n,left:r,disabled:!1===e}}(Sn(this.options.clip,function qVt(e,i,t){if(!1===t)return!1;const n=rq(e,t),r=rq(i,t);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this._cachedMeta,s=r.data||[],o=this.chart.chartArea,l=[],w=this._drawStart||0,E=this._drawCount||s.length-w,D=this.options.drawActiveElementsOnTop;let k;for(r.dataset&&r.dataset.draw(t,o,w,E),k=w;k<w+E;++k){const O=s[k];O.hidden||(O.active&&D?l.push(O):O.draw(t,o))}for(k=0;k<l.length;++k)l[k].draw(t,o)}getStyle(t,n){const r=n?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=function a5t(e,i,t){return pf(e,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:t,index:i,mode:"default",type:"data"})}(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=function s5t(e,i){return pf(e,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s="active"===n,o=this._cachedDataOpts,l=t+"-"+n,w=o[l],E=this.enableOptionSharing&&u1(r);if(w)return cq(w,E);const D=this.chart.config,k=D.datasetElementScopeKeys(this._type,t),O=s?[`${t}Hover`,"hover",t,""]:[t,""],L=D.getOptionScopes(this.getDataset(),k),U=Object.keys(fs.elements[t]),W=D.resolveNamedOptions(L,U,()=>this.getContext(r,s,n),O);return W.$shared&&(W.$shared=E,o[l]=Object.freeze(cq(W,E))),W}_resolveAnimations(t,n,r){const s=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,w=o[l];if(w)return w;let E;if(!1!==s.options.animation){const k=this.chart.config,O=k.datasetAnimationScopeKeys(this._type,n),L=k.getOptionScopes(this.getDataset(),O);E=k.createResolver(L,this.getContext(t,r,n))}const D=new nq(s,E&&E.animations);return E&&E._cacheable&&(o[l]=Object.freeze(D)),D}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||lN(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:l}}updateElement(t,n,r,s){lN(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!lN(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[w,E,D]of this._syncList)this[w](E,D);this._syncList=[];const s=r.length,o=n.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,n,r=!0){const s=this._cachedMeta,o=s.data,l=t+n;let w;const E=D=>{for(D.length+=n,w=D.length-1;w>=l;w--)D[w]=D[w-n]};for(E(o),w=t;w<l;++w)o[w]=new this.dataElementType;this._parsing&&E(s._parsed),this.parse(t,n),r&&this.updateElements(o,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&y1(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function c5t(e){const i=e.iScale,t=function l5t(e,i){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas(i);let n=[];for(let r=0,s=t.length;r<s;r++)n=n.concat(t[r].controller.getAllParsedValues(e));e._cache.$bar=EJ(n.sort((r,s)=>r-s))}return e._cache.$bar}(i,e.type);let r,s,o,l,n=i._length;const w=()=>{32767===o||-32768===o||(u1(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(r=0,s=t.length;r<s;++r)o=i.getPixelForValue(t[r]),w();for(l=void 0,r=0,s=i.ticks.length;r<s;++r)o=i.getPixelForTick(r),w();return n}function uq(e,i,t,n){return es(e)?function d5t(e,i,t,n){const r=t.parse(e[0],n),s=t.parse(e[1],n),o=Math.min(r,s),l=Math.max(r,s);let w=o,E=l;Math.abs(o)>Math.abs(l)&&(w=l,E=o),i[t.axis]=E,i._custom={barStart:w,barEnd:E,start:r,end:s,min:o,max:l}}(e,i,t,n):i[t.axis]=t.parse(e,n),i}function hq(e,i,t,n){const r=e.iScale,s=e.vScale,o=r.getLabels(),l=r===s,w=[];let E,D,k,O;for(E=t,D=t+n;E<D;++E)O=i[E],k={},k[r.axis]=l||r.parse(o[E],E),w.push(uq(O,k,s,E));return w}function cN(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function m5t(e,i,t,n){let r=i.borderSkipped;const s={};if(!r)return void(e.borderSkipped=s);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:l,reverse:w,top:E,bottom:D}=function p5t(e){let i,t,n,r,s;return e.horizontal?(i=e.base>e.x,t="left",n="right"):(i=e.base<e.y,t="bottom",n="top"),i?(r="end",s="start"):(r="start",s="end"),{start:t,end:n,reverse:i,top:r,bottom:s}}(e);"middle"===r&&t&&(e.enableBorderRadius=!0,(t._top||0)===n?r=E:(t._bottom||0)===n?r=D:(s[dq(D,o,l,w)]=!0,r=E)),s[dq(r,o,l,w)]=!0,e.borderSkipped=s}function dq(e,i,t,n){return n?(e=function g5t(e,i,t){return e===i?t:e===t?i:e}(e,i,t),e=fq(e,t,i)):e=fq(e,i,t),e}function fq(e,i,t){return"start"===e?i:"end"===e?t:e}function v5t(e,{inflateAmount:i},t){e.inflateAmount="auto"===i?1===t?.33:0:i}let y5t=(()=>class e extends mf{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,s){return hq(t,n,r,s)}parseArrayData(t,n,r,s){return hq(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:o,vScale:l}=t,{xAxisKey:w="x",yAxisKey:E="y"}=this._parsing,D="x"===o.axis?w:E,k="x"===l.axis?w:E,O=[];let L,U,j,W;for(L=r,U=r+s;L<U;++L)W=n[L],j={},j[o.axis]=o.parse(hf(W,D),L),O.push(uq(hf(W,k),j,l,L));return O}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const o=r._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,o=this.getParsed(t),l=o._custom,w=cN(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:w}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const o="reset"===s,{index:l,_cachedMeta:{vScale:w}}=this,E=w.getBasePixel(),D=w.isHorizontal(),k=this._getRuler(),{sharedOptions:O,includeOptions:L}=this._getSharedOptions(n,s);for(let U=n;U<n+r;U++){const j=this.getParsed(U),W=o||rr(j[w.axis])?{base:E,head:E}:this._calculateBarValuePixels(U),Z=this._calculateBarIndexPixels(U,k),rt=(j._stacks||{})[w.axis],st={horizontal:D,base:W.base,enableBorderRadius:!rt||cN(j._custom)||l===rt._top||l===rt._bottom,x:D?W.head:Z.center,y:D?Z.center:W.head,height:D?Z.size:Math.abs(W.size),width:D?Math.abs(W.size):Z.size};L&&(st.options=O||this.resolveDataElementOptions(U,t[U].active?"active":s));const yt=st.options||t[U].options;m5t(st,yt,rt,l),v5t(st,yt,k.ratio),this.updateElement(t[U],U,st,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(k=>k.controller.options.grouped),o=r.options.stacked,l=[],w=this._cachedMeta.controller.getParsed(n),E=w&&w[r.axis],D=k=>{const O=k._parsed.find(U=>U[r.axis]===E),L=O&&O[k.vScale.axis];if(rr(L)||isNaN(L))return!0};for(const k of s)if((void 0===n||!D(k))&&((!1===o||-1===l.indexOf(k.stack)||void 0===o&&void 0===k.stack)&&l.push(k.stack),k.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const s=this._getStacks(t,r),o=void 0!==n?s.indexOf(n):-1;return-1===o?s.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let o,l;for(o=0,l=n.data.length;o<l;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const w=t.barThickness;return{min:w||c5t(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:w?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:o,minBarLength:l}}=this,w=o||0,E=this.getParsed(t),D=E._custom,k=cN(D);let j,W,O=E[n.axis],L=0,U=r?this.applyStack(n,E,r):O;U!==O&&(L=U-O,U=O),k&&(O=D.barStart,U=D.barEnd-D.barStart,0!==O&&Mu(O)!==Mu(D.barEnd)&&(L=0),L+=O);const Z=rr(o)||k?L:o;let rt=n.getPixelForValue(Z);if(j=this.chart.getDataVisibility(t)?n.getPixelForValue(L+U):rt,W=j-rt,Math.abs(W)<l){W=function f5t(e,i,t){return 0!==e?Mu(e):(i.isHorizontal()?1:-1)*(i.min>=t?1:-1)}(W,n,w)*l,O===w&&(rt-=W/2);const st=n.getPixelForDecimal(0),yt=n.getPixelForDecimal(1),Tt=Math.min(st,yt),It=Math.max(st,yt);rt=Math.max(Math.min(rt,It),Tt),j=rt+W,r&&!k&&(E._stacks[n.axis]._visualValues[s]=n.getValueForPixel(j)-n.getValueForPixel(rt))}if(rt===n.getPixelForValue(w)){const st=Mu(W)*n.getLineWidthForValue(w)/2;rt+=st,W-=st}return{size:W,base:rt,head:j,center:j+W/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,o=s.skipNull,l=Sn(s.maxBarThickness,1/0);let w,E;if(n.grouped){const D=o?this._getStackCount(t):n.stackCount,k="flex"===s.barThickness?function h5t(e,i,t,n){const r=i.pixels,s=r[e];let o=e>0?r[e-1]:null,l=e<r.length-1?r[e+1]:null;const w=t.categoryPercentage;null===o&&(o=s-(null===l?i.end-i.start:l-s)),null===l&&(l=s+s-o);const E=s-(s-Math.min(o,l))/2*w;return{chunk:Math.abs(l-o)/2*w/n,ratio:t.barPercentage,start:E}}(t,n,s,D):function u5t(e,i,t,n){const r=t.barThickness;let s,o;return rr(r)?(s=i.min*t.categoryPercentage,o=t.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:i.pixels[e]-s/2}}(t,n,s,D),O=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);w=k.start+k.chunk*O+k.chunk/2,E=Math.min(l,k.chunk*k.ratio)}else w=r.getPixelForValue(this.getParsed(t)[r.axis],t),E=Math.min(l,n.min*n.ratio);return{base:w-E/2,head:w+E/2,center:w,size:E}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[n.axis]&&!r[o].hidden&&r[o].draw(this._ctx)}})(),x5t=(()=>class e extends mf{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,s){const o=super.parsePrimitiveData(t,n,r,s);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+r).radius;return o}parseArrayData(t,n,r,s){const o=super.parseArrayData(t,n,r,s);for(let l=0;l<o.length;l++)o[l]._custom=Sn(n[r+l][2],this.resolveDataElementOptions(l+r).radius);return o}parseObjectData(t,n,r,s){const o=super.parseObjectData(t,n,r,s);for(let l=0;l<o.length;l++){const w=n[r+l];o[l]._custom=Sn(w&&w.r&&+w.r,this.resolveDataElementOptions(l+r).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,l=this.getParsed(t),w=s.getLabelForValue(l.x),E=o.getLabelForValue(l.y),D=l._custom;return{label:r[t]||"",value:"("+w+", "+E+(D?", "+D:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,s){const o="reset"===s,{iScale:l,vScale:w}=this._cachedMeta,{sharedOptions:E,includeOptions:D}=this._getSharedOptions(n,s),k=l.axis,O=w.axis;for(let L=n;L<n+r;L++){const U=t[L],j=!o&&this.getParsed(L),W={},Z=W[k]=o?l.getPixelForDecimal(.5):l.getPixelForValue(j[k]),rt=W[O]=o?w.getBasePixel():w.getPixelForValue(j[O]);W.skip=isNaN(Z)||isNaN(rt),D&&(W.options=E||this.resolveDataElementOptions(L,U.active?"active":s),o&&(W.options.radius=0)),this.updateElement(U,L,W,s)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==n&&(s.radius=0),s.radius+=Sn(r&&r._custom,o),s}})(),uN=(()=>class e extends mf{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((o,l)=>{const E=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:E.backgroundColor,strokeStyle:E.borderColor,fontColor:s,lineWidth:E.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let l,w,o=E=>+r[E];if(Xn(r[t])){const{key:E="value"}=this._parsing;o=D=>+hf(r[D],E)}for(l=t,w=t+n;l<w;++l)s._parsed[l]=o(l)}}_getRotation(){return Uc(this.options.rotation-90)}_getCircumference(){return Uc(this.options.circumference)}_getRotationExtents(){let t=ns,n=-ns;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),l=s._getCircumference();t=Math.min(t,o),n=Math.max(n,o+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,w=Math.max((Math.min(r.width,r.height)-l)/2,0),E=Math.min(((e,i)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/i)(this.options.cutout,w),1),D=this._getRingWeight(this.index),{circumference:k,rotation:O}=this._getRotationExtents(),{ratioX:L,ratioY:U,offsetX:j,offsetY:W}=function b5t(e,i,t){let n=1,r=1,s=0,o=0;if(i<ns){const l=e,w=l+i,E=Math.cos(l),D=Math.sin(l),k=Math.cos(w),O=Math.sin(w),L=(st,yt,Tt)=>d1(st,l,w,!0)?1:Math.max(yt,yt*t,Tt,Tt*t),U=(st,yt,Tt)=>d1(st,l,w,!0)?-1:Math.min(yt,yt*t,Tt,Tt*t),j=L(0,E,k),W=L(Bs,D,O),Z=U(is,E,k),rt=U(is+Bs,D,O);n=(j-Z)/2,r=(W-rt)/2,s=-(j+Z)/2,o=-(W+rt)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}(O,k,E),st=Math.max(Math.min((r.width-l)/L,(r.height-l)/U)/2,0),yt=pJ(this.options.radius,st),It=(yt-Math.max(yt*E,0))/this._getVisibleDatasetWeightTotal();this.offsetX=j*yt,this.offsetY=W*yt,s.total=this.calculateTotal(),this.outerRadius=yt-It*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-It*D,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/ns)}updateElements(t,n,r,s){const o="reset"===s,l=this.chart,w=l.chartArea,k=(w.left+w.right)/2,O=(w.top+w.bottom)/2,L=o&&l.options.animation.animateScale,U=L?0:this.innerRadius,j=L?0:this.outerRadius,{sharedOptions:W,includeOptions:Z}=this._getSharedOptions(n,s);let st,rt=this._getRotation();for(st=0;st<n;++st)rt+=this._circumference(st,o);for(st=n;st<n+r;++st){const yt=this._circumference(st,o),Tt=t[st],It={x:k+this.offsetX,y:O+this.offsetY,startAngle:rt,endAngle:rt+yt,circumference:yt,outerRadius:j,innerRadius:U};Z&&(It.options=W||this.resolveDataElementOptions(st,Tt.active?"active":s)),rt+=yt,this.updateElement(Tt,st,It,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s,r=0;for(s=0;s<n.length;s++){const o=t._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ns*(Math.abs(t)/n):0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=p1(this._cachedMeta._parsed[t],r.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,o,l,w,E;if(!t)for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),t=l.data,w=l.controller;break}if(!t)return 0;for(s=0,o=t.length;s<o;++s)E=w.resolveDataElementOptions(s),"inner"!==E.borderAlign&&(n=Math.max(n,E.borderWidth||0,E.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Sn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),w5t=(()=>class e extends mf{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=n,l=this.chart._animationsDisabled;let{start:w,count:E}=DJ(n,s,l);this._drawStart=w,this._drawCount=E,MJ(n)&&(w=0,E=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const D=this.resolveDatasetElementOptions(t);this.options.showLine||(D.borderWidth=0),D.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:D},t),this.updateElements(s,w,E,t)}updateElements(t,n,r,s){const o="reset"===s,{iScale:l,vScale:w,_stacked:E,_dataset:D}=this._cachedMeta,{sharedOptions:k,includeOptions:O}=this._getSharedOptions(n,s),L=l.axis,U=w.axis,{spanGaps:j,segment:W}=this.options,Z=T0(j)?j:Number.POSITIVE_INFINITY,rt=this.chart._animationsDisabled||o||"none"===s,st=n+r,yt=t.length;let Tt=n>0&&this.getParsed(n-1);for(let It=0;It<yt;++It){const ft=t[It],ht=rt?ft:{};if(It<n||It>=st){ht.skip=!0;continue}const mt=this.getParsed(It),wt=rr(mt[U]),Ct=ht[L]=l.getPixelForValue(mt[L],It),_t=ht[U]=o||wt?w.getBasePixel():w.getPixelForValue(E?this.applyStack(w,mt,E):mt[U],It);ht.skip=isNaN(Ct)||isNaN(_t)||wt,ht.stop=It>0&&Math.abs(mt[L]-Tt[L])>Z,W&&(ht.parsed=mt,ht.raw=D.data[It]),O&&(ht.options=k||this.resolveDataElementOptions(It,ft.active?"active":s)),rt||this.updateElement(ft,It,ht,s),Tt=mt}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}})(),pq=(()=>class e extends mf{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((o,l)=>{const E=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:E.backgroundColor,strokeStyle:E.borderColor,fontColor:s,lineWidth:E.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=p1(this._cachedMeta._parsed[t].r,r.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,n,r,s){return WJ.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),w=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-w*this.index,this.innerRadius=this.outerRadius-w}updateElements(t,n,r,s){const o="reset"===s,l=this.chart,E=l.options.animation,D=this._cachedMeta.rScale,k=D.xCenter,O=D.yCenter,L=D.getIndexAngle(0)-.5*is;let j,U=L;const W=360/this.countVisibleElements();for(j=0;j<n;++j)U+=this._computeAngle(j,s,W);for(j=n;j<n+r;j++){const Z=t[j];let rt=U,st=U+this._computeAngle(j,s,W),yt=l.getDataVisibility(j)?D.getDistanceFromCenterForValue(this.getParsed(j).r):0;U=st,o&&(E.animateScale&&(yt=0),E.animateRotate&&(rt=st=L));const Tt={x:k,y:O,innerRadius:0,outerRadius:yt,startAngle:rt,endAngle:st,options:this.resolveDataElementOptions(j,Z.active?"active":s)};this.updateElement(Z,j,Tt,s)}}countVisibleElements(){let n=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?Uc(this.resolveDataElementOptions(t,n).angle||r):0}})();var T5t=Object.freeze({__proto__:null,BarController:y5t,BubbleController:x5t,DoughnutController:uN,LineController:w5t,PieController:(()=>class e extends uN{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:pq,RadarController:(()=>class e extends mf{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,s){return WJ.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta,r=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(r.points=s,"resize"!==t){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:l},t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,r,s){const o=this._cachedMeta.rScale,l="reset"===s;for(let w=n;w<n+r;w++){const E=t[w],D=this.resolveDataElementOptions(w,E.active?"active":s),k=o.getPointPositionForValue(w,this.getParsed(w).r),O=l?o.xCenter:k.x,L=l?o.yCenter:k.y,U={x:O,y:L,angle:k.angle,skip:isNaN(O)||isNaN(L),options:D};this.updateElement(E,w,U,s)}}})(),ScatterController:(()=>class e extends mf{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,l=this.getParsed(t),w=s.getLabelForValue(l.x),E=o.getLabelForValue(l.y);return{label:r[t]||"",value:"("+w+", "+E+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:o,count:l}=DJ(n,r,s);if(this._drawStart=o,this._drawCount=l,MJ(n)&&(o=0,l=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:w,_dataset:E}=n;w._chart=this.chart,w._datasetIndex=this.index,w._decimated=!!E._decimated,w.points=r;const D=this.resolveDatasetElementOptions(t);D.segment=this.options.segment,this.updateElement(w,void 0,{animated:!s,options:D},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,s){const o="reset"===s,{iScale:l,vScale:w,_stacked:E,_dataset:D}=this._cachedMeta,k=this.resolveDataElementOptions(n,s),O=this.getSharedOptions(k),L=this.includeOptions(s,O),U=l.axis,j=w.axis,{spanGaps:W,segment:Z}=this.options,rt=T0(W)?W:Number.POSITIVE_INFINITY,st=this.chart._animationsDisabled||o||"none"===s;let yt=n>0&&this.getParsed(n-1);for(let Tt=n;Tt<n+r;++Tt){const It=t[Tt],ft=this.getParsed(Tt),ht=st?It:{},mt=rr(ft[j]),wt=ht[U]=l.getPixelForValue(ft[U],Tt),Ct=ht[j]=o||mt?w.getBasePixel():w.getPixelForValue(E?this.applyStack(w,ft,E):ft[j],Tt);ht.skip=isNaN(wt)||isNaN(Ct)||mt,ht.stop=Tt>0&&Math.abs(ft[U]-yt[U])>rt,Z&&(ht.parsed=ft,ht.raw=D.data[Tt]),L&&(ht.options=O||this.resolveDataElementOptions(Tt,It.active?"active":s)),st||this.updateElement(It,Tt,ht,s),yt=ft}this.updateSharedOptions(O,s,k)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let w=0;for(let E=n.length-1;E>=0;--E)w=Math.max(w,n[E].size(this.resolveDataElementOptions(E))/2);return w>0&&w}const r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const o=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,l)/2}})()});function lm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hN{static override(i){Object.assign(hN.prototype,i)}options;constructor(i){this.options=i||{}}init(){}formats(){return lm()}parse(){return lm()}format(){return lm()}add(){return lm()}diff(){return lm()}startOf(){return lm()}endOf(){return lm()}}var C5t__date=hN;function S5t(e,i,t,n){const{controller:r,data:s,_sorted:o}=e,l=r._cachedMeta.iScale;if(l&&i===l.axis&&"r"!==i&&o&&s.length){const w=l._reversePixels?WBt:Vh;if(!n)return w(s,i,t);if(r._sharedOptions){const E=s[0],D="function"==typeof E.getRange&&E.getRange(i);if(D){const k=w(s,i,t-D),O=w(s,i,t+D);return{lo:k.lo,hi:O.hi}}}}return{lo:0,hi:s.length-1}}function x1(e,i,t,n,r){const s=e.getSortedVisibleDatasetMetas(),o=t[i];for(let l=0,w=s.length;l<w;++l){const{index:E,data:D}=s[l],{lo:k,hi:O}=S5t(s[l],i,o,r);for(let L=k;L<=O;++L){const U=D[L];U.skip||n(U,E,L)}}}function dN(e,i,t,n,r){const s=[];return!r&&!e.isPointInArea(i)||x1(e,t,i,function(l,w,E){!r&&!Uh(l,e.chartArea,0)||l.inRange(i.x,i.y,n)&&s.push({element:l,datasetIndex:w,index:E})},!0),s}function fN(e,i,t,n,r,s){return s||e.isPointInArea(i)?"r"!==t||n?function A5t(e,i,t,n,r,s){let o=[];const l=function E5t(e){const i=-1!==e.indexOf("x"),t=-1!==e.indexOf("y");return function(n,r){const s=i?Math.abs(n.x-r.x):0,o=t?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(t);let w=Number.POSITIVE_INFINITY;return x1(e,t,i,function E(D,k,O){const L=D.inRange(i.x,i.y,r);if(n&&!L)return;const U=D.getCenterPoint(r);if(!s&&!e.isPointInArea(U)&&!L)return;const W=l(i,U);W<w?(o=[{element:D,datasetIndex:k,index:O}],w=W):W===w&&o.push({element:D,datasetIndex:k,index:O})}),o}(e,i,t,n,r,s):function _5t(e,i,t,n){let r=[];return x1(e,t,i,function s(o,l,w){const{startAngle:E,endAngle:D}=o.getProps(["startAngle","endAngle"],n),{angle:k}=TJ(o,{x:i.x,y:i.y});d1(k,E,D)&&r.push({element:o,datasetIndex:l,index:w})}),r}(e,i,t,r):[]}function mq(e,i,t,n,r){const s=[],o="x"===t?"inXRange":"inYRange";let l=!1;return x1(e,t,i,(w,E,D)=>{w[o]&&w[o](i[t],r)&&(s.push({element:w,datasetIndex:E,index:D}),l=l||w.inRange(i.x,i.y,r))}),n&&!l?[]:s}var D5t={evaluateInteractionItems:x1,modes:{index(e,i,t,n){const r=am(i,e),s=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?dN(e,r,s,n,o):fN(e,r,s,!1,n,o),w=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(E=>{const D=l[0].index,k=E.data[D];k&&!k.skip&&w.push({element:k,datasetIndex:E.index,index:D})}),w):[]},dataset(e,i,t,n){const r=am(i,e),s=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?dN(e,r,s,n,o):fN(e,r,s,!1,n,o);if(l.length>0){const w=l[0].datasetIndex,E=e.getDatasetMeta(w).data;l=[];for(let D=0;D<E.length;++D)l.push({element:E[D],datasetIndex:w,index:D})}return l},point:(e,i,t,n)=>dN(e,am(i,e),t.axis||"xy",n,t.includeInvisible||!1),nearest:(e,i,t,n)=>fN(e,am(i,e),t.axis||"xy",t.intersect,n,t.includeInvisible||!1),x:(e,i,t,n)=>mq(e,am(i,e),"x",t.intersect,n),y:(e,i,t,n)=>mq(e,am(i,e),"y",t.intersect,n)}};const gq=["left","top","right","bottom"];function b1(e,i){return e.filter(t=>t.pos===i)}function vq(e,i){return e.filter(t=>-1===gq.indexOf(t.pos)&&t.box.axis===i)}function w1(e,i){return e.sort((t,n)=>{const r=i?n:t,s=i?t:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function yq(e,i,t,n){return Math.max(e[t],i[t])+Math.max(e[n],i[n])}function xq(e,i){e.top=Math.max(e.top,i.top),e.left=Math.max(e.left,i.left),e.bottom=Math.max(e.bottom,i.bottom),e.right=Math.max(e.right,i.right)}function k5t(e,i,t,n){const{pos:r,box:s}=t,o=e.maxPadding;if(!Xn(r)){t.size&&(e[r]-=t.size);const k=n[t.stack]||{size:0,count:1};k.size=Math.max(k.size,t.horizontal?s.height:s.width),t.size=k.size/k.count,e[r]+=t.size}s.getPadding&&xq(o,s.getPadding());const l=Math.max(0,i.outerWidth-yq(o,e,"left","right")),w=Math.max(0,i.outerHeight-yq(o,e,"top","bottom")),E=l!==e.w,D=w!==e.h;return e.w=l,e.h=w,t.horizontal?{same:E,other:D}:{same:D,other:E}}function O5t(e,i){const t=i.maxPadding;return function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(i[o],t[o])}),s}(e?["left","right"]:["top","bottom"])}function T1(e,i,t,n){const r=[];let s,o,l,w,E,D;for(s=0,o=e.length,E=0;s<o;++s){l=e[s],w=l.box,w.update(l.width||i.w,l.height||i.h,O5t(l.horizontal,i));const{same:k,other:O}=k5t(i,t,l,n);E|=k&&r.length,D=D||O,w.fullSize||r.push(l)}return E&&T1(r,i,t,n)||D}function nA(e,i,t,n,r){e.top=t,e.left=i,e.right=i+n,e.bottom=t+r,e.width=n,e.height=r}function bq(e,i,t,n){const r=t.padding;let{x:s,y:o}=i;for(const l of e){const w=l.box,E=n[l.stack]||{count:1,placed:0,weight:1},D=l.stackWeight/E.weight||1;if(l.horizontal){const k=i.w*D,O=E.size||w.height;u1(E.start)&&(o=E.start),w.fullSize?nA(w,r.left,o,t.outerWidth-r.right-r.left,O):nA(w,i.left+E.placed,o,k,O),E.start=o,E.placed+=k,o=w.bottom}else{const k=i.h*D,O=E.size||w.width;u1(E.start)&&(s=E.start),w.fullSize?nA(w,s,r.top,O,t.outerHeight-r.bottom-r.top):nA(w,s,i.top+E.placed,O,k),E.start=s,E.placed+=k,s=w.right}}i.x=s,i.y=o}var xo={addBox(e,i){e.boxes||(e.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(t){i.draw(t)}}]},e.boxes.push(i)},removeBox(e,i){const t=e.boxes?e.boxes.indexOf(i):-1;-1!==t&&e.boxes.splice(t,1)},configure(e,i,t){i.fullSize=t.fullSize,i.position=t.position,i.weight=t.weight},update(e,i,t,n){if(!e)return;const r=yo(e.options.layout.padding),s=Math.max(i-r.width,0),o=Math.max(t-r.height,0),l=function P5t(e){const i=function M5t(e){const i=[];let t,n,r,s,o,l;for(t=0,n=(e||[]).length;t<n;++t)r=e[t],({position:s,options:{stack:o,stackWeight:l=1}}=r),i.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:l});return i}(e),t=w1(i.filter(E=>E.box.fullSize),!0),n=w1(b1(i,"left"),!0),r=w1(b1(i,"right")),s=w1(b1(i,"top"),!0),o=w1(b1(i,"bottom")),l=vq(i,"x"),w=vq(i,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:r.concat(w).concat(o).concat(l),chartArea:b1(i,"chartArea"),vertical:n.concat(r).concat(w),horizontal:s.concat(o).concat(l)}}(e.boxes),w=l.vertical,E=l.horizontal;_r(e.boxes,j=>{"function"==typeof j.beforeLayout&&j.beforeLayout()});const D=w.reduce((j,W)=>W.box.options&&!1===W.box.options.display?j:j+1,0)||1,k=Object.freeze({outerWidth:i,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/D,hBoxMaxHeight:o/2}),O=Object.assign({},r);xq(O,yo(n));const L=Object.assign({maxPadding:O,w:s,h:o,x:r.left,y:r.top},r),U=function R5t(e,i){const t=function I5t(e){const i={};for(const t of e){const{stack:n,pos:r,stackWeight:s}=t;if(!n||!gq.includes(r))continue;const o=i[n]||(i[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return i}(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=i;let s,o,l;for(s=0,o=e.length;s<o;++s){l=e[s];const{fullSize:w}=l.box,E=t[l.stack],D=E&&l.stackWeight/E.weight;l.horizontal?(l.width=D?D*n:w&&i.availableWidth,l.height=r):(l.width=n,l.height=D?D*r:w&&i.availableHeight)}return t}(w.concat(E),k);T1(l.fullSize,L,k,U),T1(w,L,k,U),T1(E,L,k,U)&&T1(w,L,k,U),function F5t(e){const i=e.maxPadding;function t(n){const r=Math.max(i[n]-e[n],0);return e[n]+=r,r}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}(L),bq(l.leftAndTop,L,k,U),L.x+=L.w,L.y+=L.h,bq(l.rightAndBottom,L,k,U),e.chartArea={left:L.left,top:L.top,right:L.left+L.w,bottom:L.top+L.h,height:L.h,width:L.w},_r(l.chartArea,j=>{const W=j.box;Object.assign(W,e.chartArea),W.update(L.w,L.h,{left:0,top:0,right:0,bottom:0})})}};class wq{acquireContext(i,t){}releaseContext(i){return!1}addEventListener(i,t,n){}removeEventListener(i,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(i,t,n,r){return t=Math.max(0,t||i.width),n=n||i.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(i){return!0}updateConfig(i){}}class L5t extends wq{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const rA="$chartjs",N5t={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Tq=e=>null===e||""===e,Cq=!!NVt&&{passive:!0};function U5t(e,i,t){e&&e.canvas&&e.canvas.removeEventListener(i,t,Cq)}function sA(e,i){for(const t of e)if(t===i||t.contains(i))return!0}function G5t(e,i,t){const n=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||sA(l.addedNodes,n),o=o&&!sA(l.removedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function H5t(e,i,t){const n=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||sA(l.removedNodes,n),o=o&&!sA(l.addedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const C1=new Map;let Sq=0;function Eq(){const e=window.devicePixelRatio;e!==Sq&&(Sq=e,C1.forEach((i,t)=>{t.currentDevicePixelRatio!==e&&i()}))}function X5t(e,i,t){const n=e.canvas,r=n&&sN(n);if(!r)return;const s=AJ((l,w)=>{const E=r.clientWidth;t(l,w),E<r.clientWidth&&t()},window),o=new ResizeObserver(l=>{const w=l[0],E=w.contentRect.width,D=w.contentRect.height;0===E&&0===D||s(E,D)});return o.observe(r),function W5t(e,i){C1.size||window.addEventListener("resize",Eq),C1.set(e,i)}(e,s),o}function pN(e,i,t){t&&t.disconnect(),"resize"===i&&function j5t(e){C1.delete(e),C1.size||window.removeEventListener("resize",Eq)}(e)}function Y5t(e,i,t){const n=e.canvas,r=AJ(s=>{null!==e.ctx&&t(function z5t(e,i){const t=N5t[e.type]||e.type,{x:n,y:r}=am(e,i);return{type:t,chart:i,native:e,x:void 0!==n?n:null,y:void 0!==r?r:null}}(s,e))},e);return function V5t(e,i,t){e&&e.addEventListener(i,t,Cq)}(n,i,r),r}class $5t extends wq{acquireContext(i,t){const n=i&&i.getContext&&i.getContext("2d");return n&&n.canvas===i?(function B5t(e,i){const t=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[rA]={initial:{height:n,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Tq(r)){const s=YJ(e,"width");void 0!==s&&(e.width=s)}if(Tq(n))if(""===e.style.height)e.height=e.width/(i||2);else{const s=YJ(e,"height");void 0!==s&&(e.height=s)}}(i,t),n):null}releaseContext(i){const t=i.canvas;if(!t[rA])return!1;const n=t[rA].initial;["height","width"].forEach(s=>{const o=n[s];rr(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=n.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[rA],!0}addEventListener(i,t,n){this.removeEventListener(i,t),(i.$proxies||(i.$proxies={}))[t]=({attach:G5t,detach:H5t,resize:X5t}[t]||Y5t)(i,t,n)}removeEventListener(i,t){const n=i.$proxies||(i.$proxies={}),r=n[t];r&&(({attach:pN,detach:pN,resize:pN}[t]||U5t)(i,t,r),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,t,n,r){return function LVt(e,i,t,n){const r=eA(e),s=sm(r,"margin"),o=tA(r.maxWidth,e,"clientWidth")||Y_,l=tA(r.maxHeight,e,"clientHeight")||Y_,w=function OVt(e,i,t){let n,r;if(void 0===i||void 0===t){const s=e&&sN(e);if(s){const o=s.getBoundingClientRect(),l=eA(s),w=sm(l,"border","width"),E=sm(l,"padding");i=o.width-E.width-w.width,t=o.height-E.height-w.height,n=tA(l.maxWidth,s,"clientWidth"),r=tA(l.maxHeight,s,"clientHeight")}else i=e.clientWidth,t=e.clientHeight}return{width:i,height:t,maxWidth:n||Y_,maxHeight:r||Y_}}(e,i,t);let{width:E,height:D}=w;if("content-box"===r.boxSizing){const O=sm(r,"border","width"),L=sm(r,"padding");E-=L.width+O.width,D-=L.height+O.height}return E=Math.max(0,E-s.width),D=Math.max(0,n?E/n:D-s.height),E=iA(Math.min(E,o,w.maxWidth)),D=iA(Math.min(D,l,w.maxHeight)),E&&!D&&(D=iA(E/2)),(void 0!==i||void 0!==t)&&n&&w.height&&D>w.height&&(D=w.height,E=iA(Math.floor(D*n))),{width:E,height:D}}(i,t,n,r)}isAttached(i){const t=i&&sN(i);return!(!t||!t.isConnected)}}class Gh{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(i){const{x:t,y:n}=this.getProps(["x","y"],i);return{x:t,y:n}}hasValue(){return T0(this.x)&&T0(this.y)}getProps(i,t){const n=this.$animations;if(!t||!n)return this;const r={};return i.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}}function aA(e,i,t,n,r){const s=Sn(n,0),o=Math.min(Sn(r,e.length),e.length);let w,E,D,l=0;for(t=Math.ceil(t),r&&(w=r-n,t=w/Math.floor(w/t)),D=s;D<0;)l++,D=Math.round(s+l*t);for(E=Math.max(s,0);E<o;E++)E===D&&(i.push(e[E]),l++,D=Math.round(s+l*t))}const _q=(e,i,t)=>"top"===i||"left"===i?e[i]+t:e[i]-t,Aq=(e,i)=>Math.min(i||e,e);function Dq(e,i){const t=[],n=e.length/i,r=e.length;let s=0;for(;s<r;s+=n)t.push(e[Math.floor(s)]);return t}function n8t(e,i,t){const n=e.ticks.length,r=Math.min(i,n-1),s=e._startPixel,o=e._endPixel,l=1e-6;let E,w=e.getPixelForTick(r);if(!(t&&(E=1===n?Math.max(w-s,o-w):0===i?(e.getPixelForTick(1)-w)/2:(w-e.getPixelForTick(r-1))/2,w+=r<i?E:-E,w<s-l||w>o+l)))return w}function S1(e){return e.drawTicks?e.tickLength:0}function Mq(e,i){if(!e.display)return 0;const t=ba(e.font,i),n=yo(e.padding);return(es(e.text)?e.text.length:1)*t.lineHeight+n.height}function o8t(e,i,t){let n=$L(e);return(t&&"right"!==i||!t&&"right"===i)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class cm extends Gh{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,t){return i}getUserBounds(){let{_userMin:i,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return i=Nl(i,Number.POSITIVE_INFINITY),t=Nl(t,Number.NEGATIVE_INFINITY),n=Nl(n,Number.POSITIVE_INFINITY),r=Nl(r,Number.NEGATIVE_INFINITY),{min:Nl(i,n),max:Nl(t,r),minDefined:_s(i),maxDefined:_s(t)}}getMinMax(i){let o,{min:t,max:n,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let w=0,E=l.length;w<E;++w)o=l[w].controller.getMinMax(this,i),r||(t=Math.min(t,o.min)),s||(n=Math.max(n,o.max));return t=s&&t>n?n:t,n=r&&t>n?t:n,{min:Nl(t,Nl(n,t)),max:Nl(n,Nl(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$r(this.options.beforeUpdate,[this])}update(i,t,n){const{beginAtZero:r,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function pVt(e,i,t){const{min:n,max:r}=e,s=pJ(i,(r-n)/2),o=(l,w)=>t&&0===l?0:l+w;return{min:o(n,-Math.abs(s)),max:o(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const w=l<this.ticks.length;this._convertTicksToLabels(w?Dq(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function K5t(e,i){const t=e.options.ticks,n=function Z5t(e){const i=e.options.offset,t=e._tickSize();return Math.floor(Math.min(e._length/t+(i?0:1),e._maxLength/t))}(e),r=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?function q5t(e){const i=[];let t,n;for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}(i):[],o=s.length,l=s[0],w=s[o-1],E=[];if(o>r)return function t8t(e,i,t,n){let o,r=0,s=t[0];for(n=Math.ceil(n),o=0;o<e.length;o++)o===s&&(i.push(e[o]),r++,s=t[r*n])}(i,E,s,o/r),E;const D=function J5t(e,i,t){const n=function e8t(e){const i=e.length;let t,n;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),r=i.length/t;if(!n)return Math.max(r,1);const s=function UBt(e){const i=[],t=Math.sqrt(e);let n;for(n=1;n<t;n++)e%n==0&&(i.push(n),i.push(e/n));return t===(0|t)&&i.push(t),i.sort((r,s)=>r-s).pop(),i}(n);for(let o=0,l=s.length-1;o<l;o++){const w=s[o];if(w>r)return w}return Math.max(r,1)}(s,i,r);if(o>0){let k,O;const L=o>1?Math.round((w-l)/(o-1)):null;for(aA(i,E,D,rr(L)?0:l-L,l),k=0,O=o-1;k<O;k++)aA(i,E,D,s[k],s[k+1]);return aA(i,E,D,w,rr(L)?i.length:w+L),E}return aA(i,E,D),E}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),w&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,n,i=this.options.reverse;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,i=!i),this._startPixel=t,this._endPixel=n,this._reversePixels=i,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$r(this.options.afterUpdate,[this])}beforeSetDimensions(){$r(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$r(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),$r(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$r(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const t=this.options.ticks;let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n],s.label=$r(t.callback,[s.value,n,i],this)}afterTickToLabelConversion(){$r(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$r(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,t=i.ticks,n=Aq(this.ticks.length,i.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let l,w,E,o=r;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const D=this._getLabelSizes(),k=D.widest.width,O=D.highest.height,L=Fa(this.chart.width-k,0,this.maxWidth);l=i.offset?this.maxWidth/n:L/(n-1),k+6>l&&(l=L/(n-(i.offset?.5:1)),w=this.maxHeight-S1(i.grid)-t.padding-Mq(i.title,this.chart.options.font),E=Math.sqrt(k*k+O*O),o=jL(Math.min(Math.asin(Fa((D.highest.height+6)/l,-1,1)),Math.asin(Fa(w/E,-1,1))-Math.asin(Fa(O/E,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){$r(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$r(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const w=Mq(r,t.options.font);if(l?(i.width=this.maxWidth,i.height=S1(s)+w):(i.height=this.maxHeight,i.width=S1(s)+w),n.display&&this.ticks.length){const{first:E,last:D,widest:k,highest:O}=this._getLabelSizes(),L=2*n.padding,U=Uc(this.labelRotation),j=Math.cos(U),W=Math.sin(U);l?i.height=Math.min(this.maxHeight,i.height+(n.mirror?0:W*k.width+j*O.height)+L):i.width=Math.min(this.maxWidth,i.width+(n.mirror?0:j*k.width+W*O.height)+L),this._calculatePadding(E,D,W,j)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,t,n,r){const{ticks:{align:s,padding:o},position:l}=this.options,w=0!==this.labelRotation,E="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const D=this.getPixelForTick(0)-this.left,k=this.right-this.getPixelForTick(this.ticks.length-1);let O=0,L=0;w?E?(O=r*i.width,L=n*t.height):(O=n*i.height,L=r*t.width):"start"===s?L=t.width:"end"===s?O=i.width:"inner"!==s&&(O=i.width/2,L=t.width/2),this.paddingLeft=Math.max((O-D+o)*this.width/(this.width-D),0),this.paddingRight=Math.max((L-k+o)*this.width/(this.width-k),0)}else{let D=t.height/2,k=i.height/2;"start"===s?(D=0,k=i.height):"end"===s&&(D=t.height,k=0),this.paddingTop=D+o,this.paddingBottom=k+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$r(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:t}=this.options;return"top"===t||"bottom"===t||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),t=0,n=i.length;t<n;t++)rr(i[t].label)&&(i.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Dq(n,t)),this._labelSizes=i=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,t,n){const{ctx:r,_longestTextCache:s}=this,o=[],l=[],w=Math.floor(t/Aq(t,n));let k,O,L,U,j,W,Z,rt,st,yt,Tt,E=0,D=0;for(k=0;k<t;k+=w){if(U=i[k].label,j=this._resolveTickFontOptions(k),r.font=W=j.string,Z=s[W]=s[W]||{data:{},gc:[]},rt=j.lineHeight,st=yt=0,rr(U)||es(U)){if(es(U))for(O=0,L=U.length;O<L;++O)Tt=U[O],!rr(Tt)&&!es(Tt)&&(st=K_(r,Z.data,Z.gc,st,Tt),yt+=rt)}else st=K_(r,Z.data,Z.gc,st,U),yt=rt;o.push(st),l.push(yt),E=Math.max(st,E),D=Math.max(yt,D)}!function r8t(e,i){_r(e,t=>{const n=t.gc,r=n.length/2;let s;if(r>i){for(s=0;s<r;++s)delete t.data[n[s]];n.splice(0,r)}})}(s,t);const It=o.indexOf(E),ft=l.indexOf(D),ht=mt=>({width:o[mt]||0,height:l[mt]||0});return{first:ht(0),last:ht(t-1),widest:ht(It),highest:ht(ft),widths:o,heights:l}}getLabelForValue(i){return i}getPixelForValue(i,t){return NaN}getValueForPixel(i){}getPixelForTick(i){const t=this.ticks;return i<0||i>t.length-1?null:this.getPixelForValue(t[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const t=this._startPixel+i*this._length;return function HBt(e){return Fa(e,-32768,32767)}(this._alignToPixels?im(this.chart,t,0):t)}getDecimalForPixel(i){const t=(i-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:t}=this;return i<0&&t<0?t:i>0&&t>0?i:0}getContext(i){const t=this.ticks||[];if(i>=0&&i<t.length){const n=t[i];return n.$context||(n.$context=function a8t(e,i,t){return pf(e,{tick:t,index:i,type:"tick"})}(this.getContext(),i,n))}return this.$context||(this.$context=function s8t(e,i){return pf(e,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,t=Uc(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=i.autoSkipPadding||0,l=s?s.widest.width+o:0,w=s?s.highest.height+o:0;return this.isHorizontal()?w*n>l*r?l/n:w/r:w*r<l*n?w/n:l/r}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:l}=r,w=s.offset,E=this.isHorizontal(),k=this.ticks.length+(w?1:0),O=S1(s),L=[],U=l.setContext(this.getContext()),j=U.display?U.width:0,W=j/2,Z=function(ve){return im(n,ve,j)};let rt,st,yt,Tt,It,ft,ht,mt,wt,Ct,_t,Dt;if("top"===o)rt=Z(this.bottom),ft=this.bottom-O,mt=rt-W,Ct=Z(i.top)+W,Dt=i.bottom;else if("bottom"===o)rt=Z(this.top),Ct=i.top,Dt=Z(i.bottom)-W,ft=rt+W,mt=this.top+O;else if("left"===o)rt=Z(this.right),It=this.right-O,ht=rt-W,wt=Z(i.left)+W,_t=i.right;else if("right"===o)rt=Z(this.left),wt=i.left,_t=Z(i.right)-W,It=rt+W,ht=this.left+O;else if("x"===t){if("center"===o)rt=Z((i.top+i.bottom)/2+.5);else if(Xn(o)){const ve=Object.keys(o)[0];rt=Z(this.chart.scales[ve].getPixelForValue(o[ve]))}Ct=i.top,Dt=i.bottom,ft=rt+W,mt=ft+O}else if("y"===t){if("center"===o)rt=Z((i.left+i.right)/2);else if(Xn(o)){const ve=Object.keys(o)[0];rt=Z(this.chart.scales[ve].getPixelForValue(o[ve]))}It=rt-W,ht=It-O,wt=i.left,_t=i.right}const Ue=Sn(r.ticks.maxTicksLimit,k),Te=Math.max(1,Math.ceil(k/Ue));for(st=0;st<k;st+=Te){const ve=this.getContext(st),qt=s.setContext(ve),_e=l.setContext(ve),ze=qt.lineWidth,Me=qt.color,Ii=_e.dash||[],ee=_e.dashOffset,Ne=qt.tickWidth,De=qt.tickColor,fi=qt.tickBorderDash||[],vi=qt.tickBorderDashOffset;yt=n8t(this,st,w),void 0!==yt&&(Tt=im(n,yt,ze),E?It=ht=wt=_t=Tt:ft=mt=Ct=Dt=Tt,L.push({tx1:It,ty1:ft,tx2:ht,ty2:mt,x1:wt,y1:Ct,x2:_t,y2:Dt,width:ze,color:Me,borderDash:Ii,borderDashOffset:ee,tickWidth:Ne,tickColor:De,tickBorderDash:fi,tickBorderDashOffset:vi}))}return this._ticksLength=k,this._borderValue=rt,L}_computeLabelItems(i){const t=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),l=this.ticks,{align:w,crossAlign:E,padding:D,mirror:k}=s,O=S1(n.grid),L=O+D,U=k?-D:L,j=-Uc(this.labelRotation),W=[];let Z,rt,st,yt,Tt,It,ft,ht,mt,wt,Ct,_t,Dt="middle";if("top"===r)It=this.bottom-U,ft=this._getXAxisLabelAlignment();else if("bottom"===r)It=this.top+U,ft=this._getXAxisLabelAlignment();else if("left"===r){const Te=this._getYAxisLabelAlignment(O);ft=Te.textAlign,Tt=Te.x}else if("right"===r){const Te=this._getYAxisLabelAlignment(O);ft=Te.textAlign,Tt=Te.x}else if("x"===t){if("center"===r)It=(i.top+i.bottom)/2+L;else if(Xn(r)){const Te=Object.keys(r)[0];It=this.chart.scales[Te].getPixelForValue(r[Te])+L}ft=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)Tt=(i.left+i.right)/2-L;else if(Xn(r)){const Te=Object.keys(r)[0];Tt=this.chart.scales[Te].getPixelForValue(r[Te])}ft=this._getYAxisLabelAlignment(O).textAlign}"y"===t&&("start"===w?Dt="top":"end"===w&&(Dt="bottom"));const Ue=this._getLabelSizes();for(Z=0,rt=l.length;Z<rt;++Z){st=l[Z],yt=st.label;const Te=s.setContext(this.getContext(Z));ht=this.getPixelForTick(Z)+s.labelOffset,mt=this._resolveTickFontOptions(Z),wt=mt.lineHeight,Ct=es(yt)?yt.length:1;const ve=Ct/2,qt=Te.color,_e=Te.textStrokeColor,ze=Te.textStrokeWidth;let Ii,Me=ft;if(o?(Tt=ht,"inner"===ft&&(Me=Z===rt-1?this.options.reverse?"left":"right":0===Z?this.options.reverse?"right":"left":"center"),_t="top"===r?"near"===E||0!==j?-Ct*wt+wt/2:"center"===E?-Ue.highest.height/2-ve*wt+wt:wt/2-Ue.highest.height:"near"===E||0!==j?wt/2:"center"===E?Ue.highest.height/2-ve*wt:Ue.highest.height-Ct*wt,k&&(_t*=-1),0!==j&&!Te.showLabelBackdrop&&(Tt+=wt/2*Math.sin(j))):(It=ht,_t=(1-Ct)*wt/2),Te.showLabelBackdrop){const ee=yo(Te.backdropPadding),Ne=Ue.heights[Z],De=Ue.widths[Z];let fi=_t-ee.top,vi=0-ee.left;switch(Dt){case"middle":fi-=Ne/2;break;case"bottom":fi-=Ne}switch(ft){case"center":vi-=De/2;break;case"right":vi-=De;break;case"inner":Z===rt-1?vi-=De:Z>0&&(vi-=De/2)}Ii={left:vi,top:fi,width:De+ee.width,height:Ne+ee.height,color:Te.backdropColor}}W.push({label:yt,font:mt,textOffset:_t,options:{rotation:j,color:qt,strokeColor:_e,strokeWidth:ze,textAlign:Me,textBaseline:Dt,translation:[Tt,It],backdrop:Ii}})}return W}_getXAxisLabelAlignment(){const{position:i,ticks:t}=this.options;if(-Uc(this.labelRotation))return"top"===i?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(i){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,l=i+s,w=this._getLabelSizes().widest.width;let E,D;return"left"===t?r?(D=this.right+s,"near"===n?E="left":"center"===n?(E="center",D+=w/2):(E="right",D+=w)):(D=this.right-l,"near"===n?E="right":"center"===n?(E="center",D-=w/2):(E="left",D=this.left)):"right"===t?r?(D=this.left+s,"near"===n?E="right":"center"===n?(E="center",D-=w/2):(E="left",D-=w)):(D=this.left+l,"near"===n?E="left":"center"===n?(E="center",D+=w/2):(E="right",D=this.right)):E="right",{textAlign:E,x:D}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:t},left:n,top:r,width:s,height:o}=this;t&&(i.save(),i.fillStyle=t,i.fillRect(n,r,s,o),i.restore())}getLineWidthForValue(i){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===i);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(i){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let s,o;const l=(w,E,D)=>{!D.width||!D.color||(n.save(),n.lineWidth=D.width,n.strokeStyle=D.color,n.setLineDash(D.borderDash||[]),n.lineDashOffset=D.borderDashOffset,n.beginPath(),n.moveTo(w.x,w.y),n.lineTo(E.x,E.y),n.stroke(),n.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const w=r[s];t.drawOnChartArea&&l({x:w.x1,y:w.y1},{x:w.x2,y:w.y2},w),t.drawTicks&&l({x:w.tx1,y:w.ty1},{x:w.tx2,y:w.ty2},{color:w.tickColor,width:w.tickWidth,borderDash:w.tickBorderDash,borderDashOffset:w.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,w=this._borderValue;let E,D,k,O;this.isHorizontal()?(E=im(i,this.left,o)-o/2,D=im(i,this.right,l)+l/2,k=O=w):(k=im(i,this.top,o)-o/2,O=im(i,this.bottom,l)+l/2,E=D=w),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(E,k),t.lineTo(D,O),t.stroke(),t.restore()}drawLabels(i){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Z_(n,r);const s=this.getLabelItems(i);for(const o of s)nm(n,o.label,0,o.textOffset,o.font,o.options);r&&J_(n)}drawTitle(){const{ctx:i,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=ba(n.font),o=yo(n.padding),l=n.align;let w=s.lineHeight/2;"bottom"===t||"center"===t||Xn(t)?(w+=o.bottom,es(n.text)&&(w+=s.lineHeight*(n.text.length-1))):w+=o.top;const{titleX:E,titleY:D,maxWidth:k,rotation:O}=function l8t(e,i,t,n){const{top:r,left:s,bottom:o,right:l,chart:w}=e,{chartArea:E,scales:D}=w;let O,L,U,k=0;const j=o-r,W=l-s;if(e.isHorizontal()){if(L=vo(n,s,l),Xn(t)){const Z=Object.keys(t)[0];U=D[Z].getPixelForValue(t[Z])+j-i}else U="center"===t?(E.bottom+E.top)/2+j-i:_q(e,t,i);O=l-s}else{if(Xn(t)){const Z=Object.keys(t)[0];L=D[Z].getPixelForValue(t[Z])-W+i}else L="center"===t?(E.left+E.right)/2-W+i:_q(e,t,i);U=vo(n,o,r),k="left"===t?-Bs:Bs}return{titleX:L,titleY:U,maxWidth:O,rotation:k}}(this,w,t,l);nm(i,n.text,0,0,s,{color:n.color,maxWidth:k,rotation:O,textAlign:o8t(l,t,r),textBaseline:"middle",translation:[E,D]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,t=i.ticks&&i.ticks.z||0,n=Sn(i.grid&&i.grid.z,-1),r=Sn(i.border&&i.border.z,0);return this._isVisible()&&this.draw===cm.prototype.draw?[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(i){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const l=t[s];l[n]===this.id&&(!i||l.type===i)&&r.push(l)}return r}_resolveTickFontOptions(i){return ba(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class oA{constructor(i,t,n){this.type=i,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const t=Object.getPrototypeOf(i);let n;(function h8t(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,s=i.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+i);return s in r||(r[s]=i,function c8t(e,i,t){const n=l1(Object.create(null),[t?fs.get(t):{},fs.get(i),e.defaults]);fs.set(i,n),e.defaultRoutes&&function u8t(e,i){Object.keys(i).forEach(t=>{const n=t.split("."),r=n.pop(),s=[e].concat(n).join("."),o=i[t].split("."),l=o.pop(),w=o.join(".");fs.route(s,r,w,l)})}(i,e.defaultRoutes),e.descriptors&&fs.describe(i,e.descriptors)}(i,o,n),this.override&&fs.override(i.id,i.overrides)),o}get(i){return this.items[i]}unregister(i){const t=this.items,n=i.id,r=this.scope;n in t&&delete t[n],r&&n in fs[r]&&(delete fs[r][n],this.override&&delete em[n])}}class d8t{constructor(){this.controllers=new oA(mf,"datasets",!0),this.elements=new oA(Gh,"elements"),this.plugins=new oA(Object,"plugins"),this.scales=new oA(cm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,t,n){[...t].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(i,s,r):_r(r,o=>{const l=n||this._getRegistryForType(o);this._exec(i,l,o)})})}_exec(i,t,n){const r=WL(i);$r(n["before"+r],[],n),t[i](n),$r(n["after"+r],[],n)}_getRegistryForType(i){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(i))return n}return this.plugins}_get(i,t,n){const r=t.get(i);if(void 0===r)throw new Error('"'+i+'" is not a registered '+n+".");return r}}var Iu=new d8t;class f8t{constructor(){this._init=[]}notify(i,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const s=r?this._descriptors(i).filter(r):this._descriptors(i),o=this._notify(s,i,t,n);return"afterDestroy"===t&&(this._notify(s,i,"stop"),this._notify(this._init,i,"uninstall")),o}_notify(i,t,n,r){r=r||{};for(const s of i){const o=s.plugin;if(!1===$r(o[n],[t,r,s.options],o)&&r.cancelable)return!1}return!0}invalidate(){rr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),t}_createDescriptors(i,t){const n=i&&i.config,r=Sn(n.options&&n.options.plugins,{}),s=function p8t(e){const i={},t=[],n=Object.keys(Iu.plugins.items);for(let s=0;s<n.length;s++)t.push(Iu.getPlugin(n[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];-1===t.indexOf(o)&&(t.push(o),i[o.id]=!0)}return{plugins:t,localIds:i}}(n);return!1!==r||t?function g8t(e,{plugins:i,localIds:t},n,r){const s=[],o=e.getContext();for(const l of i){const w=l.id,E=m8t(n[w],r);null!==E&&s.push({plugin:l,options:v8t(e.config,{plugin:l,local:t[w]},E,o)})}return s}(i,s,r,t):[]}_notifyStateChanges(i){const t=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(l=>!o.some(w=>l.plugin.id===w.plugin.id));this._notify(r(t,n),i,"stop"),this._notify(r(n,t),i,"start")}}function m8t(e,i){return i||!1!==e?!0===e?{}:e:null}function v8t(e,{plugin:i,local:t},n,r){const s=e.pluginScopeKeys(i),o=e.getOptionScopes(n,s);return t&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mN(e,i){return((i.datasets||{})[e]||{}).indexAxis||i.indexAxis||(fs.datasets[e]||{}).indexAxis||"x"}function Iq(e){if("x"===e||"y"===e||"r"===e)return e}function b8t(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function gN(e,...i){if(Iq(e))return e;for(const t of i){const n=t.axis||b8t(t.position)||e.length>1&&Iq(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Rq(e,i,t){if(t[i+"AxisID"]===e)return{axis:i}}function Pq(e){const i=e.options||(e.options={});i.plugins=Sn(i.plugins,{}),i.scales=function T8t(e,i){const t=em[e.type]||{scales:{}},n=i.scales||{},r=mN(e.type,i),s=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!Xn(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const w=gN(o,l,function w8t(e,i){if(i.data&&i.data.datasets){const t=i.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(t.length)return Rq(e,"x",t[0])||Rq(e,"y",t[0])}return{}}(o,e),fs.scales[l.type]),E=function x8t(e,i){return e===i?"_index_":"_value_"}(w,r),D=t.scales||{};s[o]=c1(Object.create(null),[{axis:w},l,D[w],D[E]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,w=o.indexAxis||mN(l,i),D=(em[l]||{}).scales||{};Object.keys(D).forEach(k=>{const O=function y8t(e,i){let t=e;return"_index_"===e?t=i:"_value_"===e&&(t="x"===i?"y":"x"),t}(k,w),L=o[O+"AxisID"]||O;s[L]=s[L]||Object.create(null),c1(s[L],[{axis:O},n[L],D[k]])})}),Object.keys(s).forEach(o=>{const l=s[o];c1(l,[fs.scales[l.type],fs.scale])}),s}(e,i)}function kq(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Fq=new Map,Oq=new Set;function lA(e,i){let t=Fq.get(e);return t||(t=i(),Fq.set(e,t),Oq.add(t)),t}const E1=(e,i,t)=>{const n=hf(i,t);void 0!==n&&e.add(n)};class S8t{constructor(i){this._config=function C8t(e){return(e=e||{}).data=kq(e.data),Pq(e),e}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=kq(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),Pq(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return lA(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,t){return lA(`${i}.transition.${t}`,()=>[[`datasets.${i}.transitions.${t}`,`transitions.${t}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,t){return lA(`${i}-${t}`,()=>[[`datasets.${i}.elements.${t}`,`datasets.${i}`,`elements.${t}`,""]])}pluginScopeKeys(i){const t=i.id;return lA(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,t){const n=this._scopeCache;let r=n.get(i);return(!r||t)&&(r=new Map,n.set(i,r)),r}getOptionScopes(i,t,n){const{options:r,type:s}=this,o=this._cachedScopes(i,n),l=o.get(t);if(l)return l;const w=new Set;t.forEach(D=>{i&&(w.add(i),D.forEach(k=>E1(w,i,k))),D.forEach(k=>E1(w,r,k)),D.forEach(k=>E1(w,em[s]||{},k)),D.forEach(k=>E1(w,fs,k)),D.forEach(k=>E1(w,ZL,k))});const E=Array.from(w);return 0===E.length&&E.push(Object.create(null)),Oq.has(t)&&o.set(t,E),E}chartOptionScopes(){const{options:i,type:t}=this;return[i,em[t]||{},fs.datasets[t]||{},{type:t},fs,ZL]}resolveNamedOptions(i,t,n,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=Lq(this._resolverCache,i,r);let w=o;(function _8t(e,i){const{isScriptable:t,isIndexable:n}=BJ(e);for(const r of i){const s=t(r),o=n(r),l=(o||s)&&e[r];if(s&&(df(l)||E8t(l))||o&&es(l))return!0}return!1})(o,t)&&(s.$shared=!1,w=C0(o,n=df(n)?n():n,this.createResolver(i,n,l)));for(const E of t)s[E]=w[E];return s}createResolver(i,t,n=[""],r){const{resolver:s}=Lq(this._resolverCache,i,n);return Xn(t)?C0(s,t,void 0,r):s}}function Lq(e,i,t){let n=e.get(i);n||(n=new Map,e.set(i,n));const r=t.join();let s=n.get(r);return s||(s={resolver:eN(i,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(r,s)),s}const E8t=e=>Xn(e)&&Object.getOwnPropertyNames(e).some(i=>df(e[i])),D8t=["top","bottom","left","right","chartArea"];function Nq(e,i){return"top"===e||"bottom"===e||-1===D8t.indexOf(e)&&"x"===i}function Bq(e,i){return function(t,n){return t[e]===n[e]?t[i]-n[i]:t[e]-n[e]}}function Vq(e){const i=e.chart,t=i.options.animation;i.notifyPlugins("afterRender"),$r(t&&t.onComplete,[e],i)}function M8t(e){const i=e.chart,t=i.options.animation;$r(t&&t.onProgress,[e],i)}function Uq(e){return rN()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const cA={},zq=e=>{const i=Uq(e);return Object.values(cA).filter(t=>t.canvas===i).pop()};function I8t(e,i,t){const n=Object.keys(e);for(const r of n){const s=+r;if(s>=i){const o=e[r];delete e[r],(t>0||s>i)&&(e[s+t]=o)}}}function uA(e,i,t){return e.options.clip?e[t]:i[t]}let vN=(()=>class e{static defaults=fs;static instances=cA;static overrides=em;static registry=Iu;static version="4.4.7";static getChart=zq;static register(...t){Iu.add(...t),Gq()}static unregister(...t){Iu.remove(...t),Gq()}constructor(t,n){const r=this.config=new S8t(n),s=Uq(t),o=zq(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function Q5t(e){return!rN()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?L5t:$5t}(s)),this.platform.updateConfig(r);const w=this.platform.acquireContext(s,l.aspectRatio),E=w&&w.canvas,D=E&&E.height,k=E&&E.width;this.id=RBt(),this.ctx=w,this.canvas=E,this.width=k,this.height=D,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new f8t,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function YBt(e,i){let t;return function(...n){return i?(clearTimeout(t),t=setTimeout(e,i,n)):e.apply(this,n),i}}(O=>this.update(O),l.resizeDelay||0),this._dataChanges=[],cA[this.id]=this,w&&E?(zh.listen(this,"complete",Vq),zh.listen(this,"progress",M8t),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:o}=this;return rr(t)?n&&o?o:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Iu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():XJ(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return OJ(this.canvas,this.ctx),this}stop(){return zh.stop(this),this}resize(t,n){zh.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,l=this.platform.getMaximumSize(this.canvas,t,n,r.maintainAspectRatio&&this.aspectRatio),w=r.devicePixelRatio||this.platform.getDevicePixelRatio(),E=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,XJ(this,w,!0)&&(this.notifyPlugins("resize",{size:l}),$r(r.onResize,[this,l],this),this.attached&&this._doResize(E)&&this.render())}ensureScalesHaveIDs(){_r(this.options.scales||{},(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((l,w)=>(l[w]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const w=n[l],E=gN(l,w),D="r"===E,k="x"===E;return{options:w,dposition:D?"chartArea":k?"bottom":"left",dtype:D?"radialLinear":k?"category":"linear"}}))),_r(o,l=>{const w=l.options,E=w.id,D=gN(E,w),k=Sn(w.type,l.dtype);(void 0===w.position||Nq(w.position,D)!==Nq(l.dposition))&&(w.position=l.dposition),s[E]=!0;let O=null;E in r&&r[E].type===k?O=r[E]:(O=new(Iu.getScale(k))({id:E,type:k,ctx:this.ctx,chart:this}),r[O.id]=O),O.init(w,t)}),_r(s,(l,w)=>{l||delete r[w]}),_r(r,l=>{xo.configure(this,l,l.options),xo.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,o)=>s.index-o.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Bq("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{0===n.filter(o=>o===r._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const o=n[r];let l=this.getDatasetMeta(r);const w=o.type||this.config.type;if(l.type&&l.type!==w&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=w,l.indexAxis=o.indexAxis||mN(w,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const E=Iu.getController(w),{datasetElementType:D,dataElementType:k}=fs.datasets[w];Object.assign(E,{dataElementType:Iu.getElement(k),datasetElementType:D&&Iu.getElement(D)}),l.controller=new E(this,r),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){_r(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let D=0,k=this.data.datasets.length;D<k;D++){const{controller:O}=this.getDatasetMeta(D),L=!s&&-1===o.indexOf(O);O.buildOrUpdateElements(L),l=Math.max(+O.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||_r(o,D=>{D.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Bq("z","_idx"));const{_active:w,_lastEvent:E}=this;E?this._eventHandler(E,!0):w.length&&this._updateHoverStyles(w,w,!0),this.render()}_updateScales(){_r(this.scales,t=>{xo.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!vJ(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:o}of n)I8t(t,s,"_removeElements"===r?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(t.filter(l=>l[0]===o).map((l,w)=>w+","+l.splice(1).join(","))),s=r(0);for(let o=1;o<n;o++)if(!vJ(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;xo.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],_r(this.boxes,s=>{r&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,df(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(zh.has(this)?this.attached&&!zh.running(this)&&zh.start(this):(this.draw(),Vq({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];(!t||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r=t._clip,s=!r.disabled,o=function P8t(e,i){const{xScale:t,yScale:n}=e;return t&&n?{left:uA(t,i,"left"),right:uA(t,i,"right"),top:uA(n,i,"top"),bottom:uA(n,i,"bottom")}:i}(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",l)&&(s&&Z_(n,{left:!1===r.left?0:o.left-r.left,right:!1===r.right?this.width:o.right+r.right,top:!1===r.top?0:o.top-r.top,bottom:!1===r.bottom?this.height:o.bottom+r.bottom}),t.controller.draw(),s&&J_(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return Uh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const o=D5t.modes[n];return"function"==typeof o?o(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=pf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return"boolean"==typeof r.hidden?!r.hidden:!n.hidden}setDatasetVisibility(t,n){this.getDatasetMeta(t).hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);u1(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),l.update(o,{visible:r}),this.update(w=>w.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),zh.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),OJ(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete cA[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},s=(o,l,w)=>{o.offsetX=l,o.offsetY=w,this._eventHandler(o)};_r(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(E,D)=>{n.addEventListener(this,E,D),t[E]=D},s=(E,D)=>{t[E]&&(n.removeEventListener(this,E,D),delete t[E])},o=(E,D)=>{this.canvas&&this.resize(E,D)};let l;const w=()=>{s("attach",w),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",w)},n.isAttached(this.canvas)?w():l()}unbindEvents(){_r(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},_r(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let o,l,w,E;for("dataset"===n&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),w=0,E=t.length;w<E;++w){l=t[w];const D=l&&this.getDatasetMeta(l.datasetIndex).controller;D&&D[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:o,index:l})=>{const w=this.getDatasetMeta(o);if(!w)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:w.data[l],index:l}});!j_(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return 1===this._plugins._cache.filter(n=>n.plugin.id===t).length}_updateHoverStyles(t,n,r){const s=this.options.hover,o=(E,D)=>E.filter(k=>!D.some(O=>k.datasetIndex===O.datasetIndex&&k.index===O.index)),l=o(n,t),w=r?t:o(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),w.length&&s.mode&&this.updateHoverStyle(w,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",r,s))return;const o=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:o}=this,w=this._getActiveElements(t,s,r,n),E=function NBt(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(t),D=function R8t(e,i,t,n){return t&&"mouseout"!==e.type?n?i:e:null}(t,this._lastEvent,r,E);r&&(this._lastEvent=null,$r(o.onHover,[t,w,this],this),E&&$r(o.onClick,[t,w,this],this));const k=!j_(w,s);return(k||n)&&(this._active=w,this._updateHoverStyles(w,s,n)),this._lastEvent=D,k}_getActiveElements(t,n,r,s){if("mouseout"===t.type)return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}})();function Gq(){return _r(vN.instances,e=>e._plugins.invalidate())}function _0(e,i,t,n){return{x:t+e*Math.cos(i),y:n+e*Math.sin(i)}}function hA(e,i,t,n,r,s){const{x:o,y:l,startAngle:w,pixelMargin:E,innerRadius:D}=i,k=Math.max(i.outerRadius+n+t-E,0),O=D>0?D+n+t+E:0;let L=0;const U=r-w;if(n){const qt=((D>0?D-n:0)+(k>0?k-n:0))/2;L=(U-(0!==qt?U*qt/(qt+n):U))/2}const W=(U-Math.max(.001,U*k-t/is)/k)/2,Z=w+W+L,rt=r-W-L,{outerStart:st,outerEnd:yt,innerStart:Tt,innerEnd:It}=function O8t(e,i,t,n){const r=function F8t(e){return tN(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),s=(t-i)/2,o=Math.min(s,n*i/2),l=w=>{const E=(t-Math.min(s,w))*n/2;return Fa(w,0,Math.min(s,E))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:Fa(r.innerStart,0,o),innerEnd:Fa(r.innerEnd,0,o)}}(i,O,k,rt-Z),ft=k-st,ht=k-yt,mt=Z+st/ft,wt=rt-yt/ht,Ct=O+Tt,_t=O+It,Dt=Z+Tt/Ct,Ue=rt-It/_t;if(e.beginPath(),s){const Te=(mt+wt)/2;if(e.arc(o,l,k,mt,Te),e.arc(o,l,k,Te,wt),yt>0){const ze=_0(ht,wt,o,l);e.arc(ze.x,ze.y,yt,wt,rt+Bs)}const ve=_0(_t,rt,o,l);if(e.lineTo(ve.x,ve.y),It>0){const ze=_0(_t,Ue,o,l);e.arc(ze.x,ze.y,It,rt+Bs,Ue+Math.PI)}const qt=(rt-It/O+(Z+Tt/O))/2;if(e.arc(o,l,O,rt-It/O,qt,!0),e.arc(o,l,O,qt,Z+Tt/O,!0),Tt>0){const ze=_0(Ct,Dt,o,l);e.arc(ze.x,ze.y,Tt,Dt+Math.PI,Z-Bs)}const _e=_0(ft,Z,o,l);if(e.lineTo(_e.x,_e.y),st>0){const ze=_0(ft,mt,o,l);e.arc(ze.x,ze.y,st,Z-Bs,mt)}}else{e.moveTo(o,l);const Te=Math.cos(mt)*k+o,ve=Math.sin(mt)*k+l;e.lineTo(Te,ve);const qt=Math.cos(wt)*k+o,_e=Math.sin(wt)*k+l;e.lineTo(qt,_e)}e.closePath()}function Hq(e,i,t=i){e.lineCap=Sn(t.borderCapStyle,i.borderCapStyle),e.setLineDash(Sn(t.borderDash,i.borderDash)),e.lineDashOffset=Sn(t.borderDashOffset,i.borderDashOffset),e.lineJoin=Sn(t.borderJoinStyle,i.borderJoinStyle),e.lineWidth=Sn(t.borderWidth,i.borderWidth),e.strokeStyle=Sn(t.borderColor,i.borderColor)}function V8t(e,i,t){e.lineTo(t.x,t.y)}function Wq(e,i,t={}){const n=e.length,{start:r=0,end:s=n-1}=t,{start:o,end:l}=i,w=Math.max(r,o),E=Math.min(s,l);return{count:n,start:w,loop:i.loop,ilen:E<w&&!(r<o&&s<o||r>l&&s>l)?n+E-w:E-w}}function z8t(e,i,t,n){const{points:r,options:s}=i,{count:o,start:l,loop:w,ilen:E}=Wq(r,t,n),D=function U8t(e){return e.stepped?sVt:e.tension||"monotone"===e.cubicInterpolationMode?aVt:V8t}(s);let L,U,j,{move:k=!0,reverse:O}=n||{};for(L=0;L<=E;++L)U=r[(l+(O?E-L:L))%o],!U.skip&&(k?(e.moveTo(U.x,U.y),k=!1):D(e,j,U,O,s.stepped),j=U);return w&&(U=r[(l+(O?E:0))%o],D(e,j,U,O,s.stepped)),!!w}function G8t(e,i,t,n){const r=i.points,{count:s,start:o,ilen:l}=Wq(r,t,n),{move:w=!0,reverse:E}=n||{};let O,L,U,j,W,Z,D=0,k=0;const rt=yt=>(o+(E?l-yt:yt))%s,st=()=>{j!==W&&(e.lineTo(D,W),e.lineTo(D,j),e.lineTo(D,Z))};for(w&&(L=r[rt(0)],e.moveTo(L.x,L.y)),O=0;O<=l;++O){if(L=r[rt(O)],L.skip)continue;const yt=L.x,Tt=L.y,It=0|yt;It===U?(Tt<j?j=Tt:Tt>W&&(W=Tt),D=(k*D+yt)/++k):(st(),e.lineTo(yt,Tt),U=It,k=0,j=W=Tt),Z=Tt}st()}function yN(e){const i=e.options;return e._decimated||e._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?z8t:G8t}const X8t="function"==typeof Path2D;let dA=(()=>class e extends Gh{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(IVt(this._points,r,t,r.spanGaps?this._loop:this._fullLoop,n),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function jVt(e,i){const t=e.points,n=e.options.spanGaps,r=t.length;if(!r)return[];const s=!!e._loop,{start:o,end:l}=function HVt(e,i,t,n){let r=0,s=i-1;if(t&&!n)for(;r<i&&!e[r].skip;)r++;for(;r<i&&e[r].skip;)r++;for(r%=i,t&&(s+=r);s>r&&e[s%i].skip;)s--;return s%=i,{start:r,end:s}}(t,r,s,n);return function tq(e,i,t,n){return n&&n.setContext&&t?function XVt(e,i,t,n){const r=e._chart.getContext(),s=eq(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,w=t.length,E=[];let D=s,k=i[0].start,O=k;function L(U,j,W,Z){const rt=l?-1:1;if(U!==j){for(U+=w;t[U%w].skip;)U-=rt;for(;t[j%w].skip;)j+=rt;U%w!=j%w&&(E.push({start:U%w,end:j%w,loop:W,style:Z}),D=Z,k=j%w)}}for(const U of i){k=l?k:U.start;let W,j=t[k%w];for(O=k+1;O<=U.end;O++){const Z=t[O%w];W=eq(n.setContext(pf(r,{type:"segment",p0:j,p1:Z,p0DataIndex:(O-1)%w,p1DataIndex:O%w,datasetIndex:o}))),YVt(W,D)&&L(k,O-1,U.loop,D),j=Z,D=W}k<O-1&&L(k,O-1,U.loop,D)}return E}(e,i,t,n):i}(e,!0===n?[{start:o,end:l,loop:s}]:function WVt(e,i,t,n){const r=e.length,s=[];let w,o=i,l=e[i];for(w=i+1;w<=t;++w){const E=e[w%r];E.skip||E.stop?l.skip||(s.push({start:i%r,end:(w-1)%r,loop:n=!1}),i=o=E.stop?w:null):(o=w,l.skip&&(i=w)),l=E}return null!==o&&s.push({start:i%r,end:o%r,loop:n}),s}(t,o,l<o?l+r:l,!!e._fullLoop&&0===o&&l===r-1),t,i)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,r=t.length;return r&&this.points[t[r-1].end]}interpolate(t,n){const r=this.options,s=t[n],o=this.points,l=qJ(this,{property:n,start:s,end:s});if(!l.length)return;const w=[],E=function H8t(e){return e.stepped?BVt:e.tension||"monotone"===e.cubicInterpolationMode?VVt:om}(r);let D,k;for(D=0,k=l.length;D<k;++D){const{start:O,end:L}=l[D],U=o[O],j=o[L];if(U===j){w.push(U);continue}const Z=E(U,j,Math.abs((s-U[n])/(j[n]-U[n])),r.stepped);Z[n]=t[n],w.push(Z)}return 1===w.length?w[0]:w}pathSegment(t,n,r){return yN(this)(t,this,n,r)}path(t,n,r){const s=this.segments,o=yN(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const w of s)l&=o(t,this,w,{start:n,end:n+r-1});return!!l}draw(t,n,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Y8t(e,i,t,n){X8t&&!i.options.segment?function W8t(e,i,t,n){let r=i._path;r||(r=i._path=new Path2D,i.path(r,t,n)&&r.closePath()),Hq(e,i.options),e.stroke(r)}(e,i,t,n):function j8t(e,i,t,n){const{segments:r,options:s}=i,o=yN(i);for(const l of r)Hq(e,s,l.style),e.beginPath(),o(e,i,l,{start:t,end:t+n-1})&&e.closePath(),e.stroke()}(e,i,t,n)}(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function jq(e,i,t,n){const r=e.options,{[t]:s}=e.getProps([t],n);return Math.abs(i-s)<r.radius+r.hitRadius}let $8t=(()=>class e extends Gh{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return jq(this,t,"x",n)}inYRange(t,n){return jq(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){let n=(t=t||this.options||{}).radius||0;return n=Math.max(n,n&&t.hoverRadius||0),2*(n+(n&&t.borderWidth||0))}draw(t,n){const r=this.options;this.skip||r.radius<.1||!Uh(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,qL(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}})();function Xq(e,i){const{x:t,y:n,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],i);let l,w,E,D,k;return e.horizontal?(k=o/2,l=Math.min(t,r),w=Math.max(t,r),E=n-k,D=n+k):(k=s/2,l=t-k,w=t+k,E=Math.min(n,r),D=Math.max(n,r)),{left:l,top:E,right:w,bottom:D}}function gf(e,i,t,n){return e?0:Fa(i,t,n)}function xN(e,i,t,n){const r=null===i,s=null===t,l=e&&!(r&&s)&&Xq(e,n);return l&&(r||Bh(i,l.left,l.right))&&(s||Bh(t,l.top,l.bottom))}function q8t(e,i){e.rect(i.x,i.y,i.w,i.h)}function bN(e,i,t={}){const n=e.x!==t.x?-i:0,r=e.y!==t.y?-i:0;return{x:e.x+n,y:e.y+r,w:e.w+((e.x+e.w!==t.x+t.w?i:0)-n),h:e.h+((e.y+e.h!==t.y+t.h?i:0)-r),radius:e.radius}}var e9t=Object.freeze({__proto__:null,ArcElement:class B8t extends Gh{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:i=>"borderDash"!==i};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,t,n){const r=this.getProps(["x","y"],n),{angle:s,distance:o}=TJ(r,{x:i,y:t}),{startAngle:l,endAngle:w,innerRadius:E,outerRadius:D,circumference:k}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),O=(this.options.spacing+this.options.borderWidth)/2,L=Sn(k,w-l),U=d1(s,l,w)&&l!==w,j=L>=ns||U,W=Bh(o,E+O,D+O);return j&&W}getCenterPoint(i){const{x:t,y:n,startAngle:r,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:w,spacing:E}=this.options,D=(r+s)/2,k=(o+l+E+w)/2;return{x:t+Math.cos(D)*k,y:n+Math.sin(D)*k}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:t,circumference:n}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>ns?Math.floor(n/ns):0,0===n||this.innerRadius<0||this.outerRadius<0)return;i.save();const l=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(l)*r,Math.sin(l)*r);const E=r*(1-Math.sin(Math.min(is,n||0)));i.fillStyle=t.backgroundColor,i.strokeStyle=t.borderColor,function L8t(e,i,t,n,r){const{fullCircles:s,startAngle:o,circumference:l}=i;let w=i.endAngle;if(s){hA(e,i,t,n,w,r);for(let E=0;E<s;++E)e.fill();isNaN(l)||(w=o+(l%ns||ns))}hA(e,i,t,n,w,r),e.fill()}(i,this,E,s,o),function N8t(e,i,t,n,r){const{fullCircles:s,startAngle:o,circumference:l,options:w}=i,{borderWidth:E,borderJoinStyle:D,borderDash:k,borderDashOffset:O}=w,L="inner"===w.borderAlign;if(!E)return;e.setLineDash(k||[]),e.lineDashOffset=O,L?(e.lineWidth=2*E,e.lineJoin=D||"round"):(e.lineWidth=E,e.lineJoin=D||"bevel");let U=i.endAngle;if(s){hA(e,i,t,n,U,r);for(let j=0;j<s;++j)e.stroke();isNaN(l)||(U=o+(l%ns||ns))}L&&function k8t(e,i,t){const{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:l,innerRadius:w}=i;let E=r/l;e.beginPath(),e.arc(s,o,l,n-E,t+E),w>r?(E=r/w,e.arc(s,o,w,t+E,n-E,!0)):e.arc(s,o,r,t+Bs,n-Bs),e.closePath(),e.clip()}(e,i,U),s||(hA(e,i,t,n,U,r),e.stroke())}(i,this,E,s,o),i.restore()}},BarElement:class t9t extends Gh{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=function Z8t(e){const i=Xq(e),t=i.right-i.left,n=i.bottom-i.top,r=function Q8t(e,i,t){const r=e.borderSkipped,s=NJ(e.options.borderWidth);return{t:gf(r.top,s.top,0,t),r:gf(r.right,s.right,0,i),b:gf(r.bottom,s.bottom,0,t),l:gf(r.left,s.left,0,i)}}(e,t/2,n/2),s=function K8t(e,i,t){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=rm(r),o=Math.min(i,t),l=e.borderSkipped,w=n||Xn(r);return{topLeft:gf(!w||l.top||l.left,s.topLeft,0,o),topRight:gf(!w||l.top||l.right,s.topRight,0,o),bottomLeft:gf(!w||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:gf(!w||l.bottom||l.right,s.bottomRight,0,o)}}(e,t/2,n/2);return{outer:{x:i.left,y:i.top,w:t,h:n,radius:s},inner:{x:i.left+r.l,y:i.top+r.t,w:t-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),l=function J8t(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}(o.radius)?g1:q8t;i.save(),(o.w!==s.w||o.h!==s.h)&&(i.beginPath(),l(i,bN(o,t,s)),i.clip(),l(i,bN(s,-t,o)),i.fillStyle=n,i.fill("evenodd")),i.beginPath(),l(i,bN(s,t)),i.fillStyle=r,i.fill(),i.restore()}inRange(i,t,n){return xN(this,i,t,n)}inXRange(i,t){return xN(this,i,null,t)}inYRange(i,t){return xN(this,null,i,t)}getCenterPoint(i){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],i);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}},LineElement:dA,PointElement:$8t});const wN=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Yq=wN.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function $q(e){return wN[e%wN.length]}function Qq(e){return Yq[e%Yq.length]}function Kq(e){let i;for(i in e)if(e[i].borderColor||e[i].backgroundColor)return!0;return!1}var l9t={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,i,t){if(!t.enabled)return;const{data:{datasets:n},options:r}=e.config,{elements:s}=r,o=Kq(n)||function a9t(e){return e&&(e.borderColor||e.backgroundColor)}(r)||s&&Kq(s)||function o9t(){return"rgba(0,0,0,0.1)"!==fs.borderColor||"rgba(0,0,0,0.1)"!==fs.backgroundColor}();if(!t.forceOverride&&o)return;const l=function s9t(e){let i=0;return(t,n)=>{const r=e.getDatasetMeta(n).controller;r instanceof uN?i=function n9t(e,i){return e.backgroundColor=e.data.map(()=>$q(i++)),i}(t,i):r instanceof pq?i=function r9t(e,i){return e.backgroundColor=e.data.map(()=>Qq(i++)),i}(t,i):r&&(i=function i9t(e,i){return e.borderColor=$q(i),e.backgroundColor=Qq(i),++i}(t,i))}}(e);n.forEach(l)}};function Zq(e){if(e._decimated){const i=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function Jq(e){e.data.datasets.forEach(i=>{Zq(i)})}var d9t={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,i,t)=>{if(!t.enabled)return void Jq(e);const n=e.width;e.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:l}=r,w=e.getDatasetMeta(s),E=o||r.data;if("y"===v1([l,e.options.indexAxis])||!w.controller.supportsDecimation)return;const D=e.scales[w.xAxisID];if("linear"!==D.type&&"time"!==D.type||e.options.parsing)return;let U,{start:k,count:O}=function h9t(e,i){const t=i.length;let r,n=0;const{iScale:s}=e,{min:o,max:l,minDefined:w,maxDefined:E}=s.getUserBounds();return w&&(n=Fa(Vh(i,s.axis,o).lo,0,t-1)),r=E?Fa(Vh(i,s.axis,l).hi+1,n,t)-n:t-n,{start:n,count:r}}(w,E);if(O<=(t.threshold||4*n))Zq(r);else{switch(rr(o)&&(r._data=E,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(j){this._data=j}})),t.algorithm){case"lttb":U=function c9t(e,i,t,n,r){const s=r.samples||n;if(s>=t)return e.slice(i,i+t);const o=[],l=(t-2)/(s-2);let w=0;const E=i+t-1;let k,O,L,U,j,D=i;for(o[w++]=e[D],k=0;k<s-2;k++){let rt,W=0,Z=0;const st=Math.floor((k+1)*l)+1+i,yt=Math.min(Math.floor((k+2)*l)+1,t)+i,Tt=yt-st;for(rt=st;rt<yt;rt++)W+=e[rt].x,Z+=e[rt].y;W/=Tt,Z/=Tt;const It=Math.floor(k*l)+1+i,ft=Math.min(Math.floor((k+1)*l)+1,t)+i,{x:ht,y:mt}=e[D];for(L=U=-1,rt=It;rt<ft;rt++)U=.5*Math.abs((ht-W)*(e[rt].y-mt)-(ht-e[rt].x)*(Z-mt)),U>L&&(L=U,O=e[rt],j=rt);o[w++]=O,D=j}return o[w++]=e[E],o}(E,k,O,n,t);break;case"min-max":U=function u9t(e,i,t,n){let o,l,w,E,D,k,O,L,U,j,r=0,s=0;const W=[],rt=e[i].x,yt=e[i+t-1].x-rt;for(o=i;o<i+t;++o){l=e[o],w=(l.x-rt)/yt*n,E=l.y;const Tt=0|w;if(Tt===D)E<U?(U=E,k=o):E>j&&(j=E,O=o),r=(s*r+l.x)/++s;else{const It=o-1;if(!rr(k)&&!rr(O)){const ft=Math.min(k,O),ht=Math.max(k,O);ft!==L&&ft!==It&&W.push({...e[ft],x:r}),ht!==L&&ht!==It&&W.push({...e[ht],x:r})}o>0&&It!==L&&W.push(e[It]),W.push(l),D=Tt,s=0,U=j=E,k=O=L=o}}return W}(E,k,O,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=U}})},destroy(e){Jq(e)}};function TN(e,i,t,n){if(n)return;let r=i[e],s=t[e];return"angle"===e&&(r=Bl(r),s=Bl(s)),{property:e,start:r,end:s}}function CN(e,i,t){for(;i>e;i--){const n=t[i];if(!isNaN(n.x)&&!isNaN(n.y))break}return i}function qq(e,i,t,n){return e&&i?n(e[t],i[t]):e?e[t]:i?i[t]:0}function ttt(e,i){let t=[],n=!1;return es(e)?(n=!0,t=e):t=function p9t(e,i){const{x:t=null,y:n=null}=e||{},r=i.points,s=[];return i.segments.forEach(({start:o,end:l})=>{l=CN(o,l,r);const w=r[o],E=r[l];null!==n?(s.push({x:w.x,y:n}),s.push({x:E.x,y:n})):null!==t&&(s.push({x:t,y:w.y}),s.push({x:t,y:E.y}))}),s}(e,i),t.length?new dA({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function ett(e){return e&&!1!==e.fill}function m9t(e,i,t){let r=e[i].fill;const s=[i];let o;if(!t)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!_s(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function g9t(e,i,t){const n=function b9t(e){const i=e.options,t=i.fill;let n=Sn(t&&t.target,t);return void 0===n&&(n=!!i.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}(e);if(Xn(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return _s(r)&&Math.floor(r)===r?function v9t(e,i,t,n){return("-"===e||"+"===e)&&(t=i+t),!(t===i||t<0||t>=n)&&t}(n[0],i,r,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function C9t(e,i,t){const n=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:l,point:w}=S9t(s,i,"x");if(!(!w||o&&l))if(o)n.unshift(w);else if(e.push(w),!l)break}e.push(...n)}function S9t(e,i,t){const n=e.interpolate(i,t);if(!n)return{};const r=n[t],s=e.segments,o=e.points;let l=!1,w=!1;for(let E=0;E<s.length;E++){const D=s[E],k=o[D.start][t],O=o[D.end][t];if(Bh(r,k,O)){l=r===k,w=r===O;break}}return{first:l,last:w,point:n}}class itt{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,t,n){const{x:r,y:s,radius:o}=this;return i.arc(r,s,o,(t=t||{start:0,end:ns}).end,t.start,!0),!n.bounds}interpolate(i){const{x:t,y:n,radius:r}=this,s=i.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function SN(e,i,t){const n=function E9t(e){const{chart:i,fill:t,line:n}=e;if(_s(t))return function _9t(e,i){const t=e.getDatasetMeta(i);return t&&e.isDatasetVisible(i)?t.dataset:null}(i,t);if("stack"===t)return function w9t(e){const{scale:i,index:t,line:n}=e,r=[],s=n.segments,o=n.points,l=function T9t(e,i){const t=[],n=e.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const s=n[r];if(s.index===i)break;s.hidden||t.unshift(s.dataset)}return t}(i,t);l.push(ttt({x:null,y:i.bottom},n));for(let w=0;w<s.length;w++){const E=s[w];for(let D=E.start;D<=E.end;D++)C9t(r,o[D],l)}return new dA({points:r,options:{}})}(e);if("shape"===t)return!0;const r=function A9t(e){return(e.scale||{}).getPointPositionForValue?function M9t(e){const{scale:i,fill:t}=e,n=i.options,r=i.getLabels().length,s=n.reverse?i.max:i.min,o=function x9t(e,i,t){let n;return n="start"===e?t:"end"===e?i.options.reverse?i.min:i.max:Xn(e)?e.value:i.getBaseValue(),n}(t,i,s),l=[];if(n.grid.circular){const w=i.getPointPositionForValue(0,s);return new itt({x:w.x,y:w.y,radius:i.getDistanceFromCenterForValue(o)})}for(let w=0;w<r;++w)l.push(i.getPointPositionForValue(w,o));return l}(e):function D9t(e){const{scale:i={},fill:t}=e,n=function y9t(e,i){let t=null;return"start"===e?t=i.bottom:"end"===e?t=i.top:Xn(e)?t=i.getPixelForValue(e.value):i.getBasePixel&&(t=i.getBasePixel()),t}(t,i);if(_s(n)){const r=i.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}(e)}(e);return r instanceof itt?r:ttt(r,n)}(i),{line:r,scale:s,axis:o}=i,l=r.options,w=l.fill,E=l.backgroundColor,{above:D=E,below:k=E}=w||{};n&&r.points.length&&(Z_(e,t),function I9t(e,i){const{line:t,target:n,above:r,below:s,area:o,scale:l}=i,w=t._loop?"angle":i.axis;e.save(),"x"===w&&s!==r&&(ntt(e,n,o.top),rtt(e,{line:t,target:n,color:r,scale:l,property:w}),e.restore(),e.save(),ntt(e,n,o.bottom)),rtt(e,{line:t,target:n,color:s,scale:l,property:w}),e.restore()}(e,{line:r,target:n,above:D,below:k,area:t,scale:s,axis:o}),J_(e))}function ntt(e,i,t){const{segments:n,points:r}=i;let s=!0,o=!1;e.beginPath();for(const l of n){const{start:w,end:E}=l,D=r[w],k=r[CN(w,E,r)];s?(e.moveTo(D.x,D.y),s=!1):(e.lineTo(D.x,t),e.lineTo(D.x,D.y)),o=!!i.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(k.x,t)}e.lineTo(i.first().x,t),e.closePath(),e.clip()}function rtt(e,i){const{line:t,target:n,property:r,color:s,scale:o}=i,l=function f9t(e,i,t){const n=e.segments,r=e.points,s=i.points,o=[];for(const l of n){let{start:w,end:E}=l;E=CN(w,E,r);const D=TN(t,r[w],r[E],l.loop);if(!i.segments){o.push({source:l,target:D,start:r[w],end:r[E]});continue}const k=qJ(i,D);for(const O of k){const L=TN(t,s[O.start],s[O.end],O.loop),U=JJ(l,r,L);for(const j of U)o.push({source:j,target:O,start:{[t]:qq(D,L,"start",Math.max)},end:{[t]:qq(D,L,"end",Math.min)}})}}return o}(t,n,r);for(const{source:w,target:E,start:D,end:k}of l){const{style:{backgroundColor:O=s}={}}=w,L=!0!==n;e.save(),e.fillStyle=O,R9t(e,o,L&&TN(r,D,k)),e.beginPath();const U=!!t.pathSegment(e,w);let j;if(L){U?e.closePath():stt(e,n,k,r);const W=!!n.pathSegment(e,E,{move:U,reverse:!0});j=U&&W,j||stt(e,n,D,r)}e.closePath(),e.fill(j?"evenodd":"nonzero"),e.restore()}}function R9t(e,i,t){const{top:n,bottom:r}=i.chart.chartArea,{property:s,start:o,end:l}=t||{};"x"===s&&(e.beginPath(),e.rect(o,n,l-o,r-n),e.clip())}function stt(e,i,t,n){const r=i.interpolate(t,n);r&&e.lineTo(r.x,r.y)}var P9t={id:"filler",afterDatasetsUpdate(e,i,t){const n=(e.data.datasets||[]).length,r=[];let s,o,l,w;for(o=0;o<n;++o)s=e.getDatasetMeta(o),l=s.dataset,w=null,l&&l.options&&l instanceof dA&&(w={visible:e.isDatasetVisible(o),index:o,fill:g9t(l,o,n),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=w,r.push(w);for(o=0;o<n;++o)w=r[o],w&&!1!==w.fill&&(w.fill=m9t(r,o,t.propagate))},beforeDraw(e,i,t){const n="beforeDraw"===t.drawTime,r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&SN(e.ctx,l,s))}},beforeDatasetsDraw(e,i,t){if("beforeDatasetsDraw"!==t.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const s=n[r].$filler;ett(s)&&SN(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,i,t){const n=i.meta.$filler;!ett(n)||"beforeDatasetDraw"!==t.drawTime||SN(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const att=(e,i)=>{let{boxHeight:t=i,boxWidth:n=i}=e;return e.usePointStyle&&(t=Math.min(t,i),n=e.pointStyleWidth||Math.min(n,i)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(i,t)}};class ott extends Gh{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,t,n){this.maxWidth=i,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let t=$r(i.generateLabels,[this.chart],this)||[];i.filter&&(t=t.filter(n=>i.filter(n,this.chart.data))),i.sort&&(t=t.sort((n,r)=>i.sort(n,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:i,ctx:t}=this;if(!i.display)return void(this.width=this.height=0);const n=i.labels,r=ba(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:w}=att(n,s);let E,D;t.font=r.string,this.isHorizontal()?(E=this.maxWidth,D=this._fitRows(o,s,l,w)+10):(D=this.maxHeight,E=this._fitCols(o,r,l,w)+10),this.width=Math.min(E,i.maxWidth||this.maxWidth),this.height=Math.min(D,i.maxHeight||this.maxHeight)}_fitRows(i,t,n,r){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,w=this.legendHitBoxes=[],E=this.lineWidths=[0],D=r+l;let k=i;s.textAlign="left",s.textBaseline="middle";let O=-1,L=-D;return this.legendItems.forEach((U,j)=>{const W=n+t/2+s.measureText(U.text).width;(0===j||E[E.length-1]+W+2*l>o)&&(k+=D,E[E.length-(j>0?0:1)]=0,L+=D,O++),w[j]={left:0,top:L,row:O,width:W,height:r},E[E.length-1]+=W+l}),k}_fitCols(i,t,n,r){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,w=this.legendHitBoxes=[],E=this.columnSizes=[],D=o-i;let k=l,O=0,L=0,U=0,j=0;return this.legendItems.forEach((W,Z)=>{const{itemWidth:rt,itemHeight:st}=function F9t(e,i,t,n,r){const s=function O9t(e,i,t,n){let r=e.text;return r&&"string"!=typeof r&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),i+t.size/2+n.measureText(r).width}(n,e,i,t),o=function L9t(e,i,t){let n=e;return"string"!=typeof i.text&&(n=ltt(i,t)),n}(r,n,i.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,s,W,r);Z>0&&L+st+2*l>D&&(k+=O+l,E.push({width:O,height:L}),U+=O+l,j++,O=L=0),w[Z]={left:U,top:L,col:j,width:rt,height:st},O=Math.max(O,rt),L+=st+l}),k+=O,E.push({width:O,height:L}),k}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,o=E0(s,this.left,this.width);if(this.isHorizontal()){let l=0,w=vo(n,this.left+r,this.right-this.lineWidths[l]);for(const E of t)l!==E.row&&(l=E.row,w=vo(n,this.left+r,this.right-this.lineWidths[l])),E.top+=this.top+i+r,E.left=o.leftForLtr(o.x(w),E.width),w+=E.width+r}else{let l=0,w=vo(n,this.top+i+r,this.bottom-this.columnSizes[l].height);for(const E of t)E.col!==l&&(l=E.col,w=vo(n,this.top+i+r,this.bottom-this.columnSizes[l].height)),E.top=w,E.left+=this.left+r,E.left=o.leftForLtr(o.x(E.left),E.width),w+=E.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;Z_(i,this),this._draw(),J_(i)}}_draw(){const{options:i,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:o}=i,l=fs.color,w=E0(i.rtl,this.left,this.width),E=ba(o.font),{padding:D}=o,k=E.size,O=k/2;let L;this.drawTitle(),r.textAlign=w.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=E.string;const{boxWidth:U,boxHeight:j,itemHeight:W}=att(o,k),st=this.isHorizontal(),yt=this._computeTitleHeight();L=st?{x:vo(s,this.left+D,this.right-n[0]),y:this.top+D+yt,line:0}:{x:this.left+D,y:vo(s,this.top+yt+D,this.bottom-t[0].height),line:0},$J(this.ctx,i.textDirection);const Tt=W+D;this.legendItems.forEach((It,ft)=>{r.strokeStyle=It.fontColor,r.fillStyle=It.fontColor;const ht=r.measureText(It.text).width,mt=w.textAlign(It.textAlign||(It.textAlign=o.textAlign)),wt=U+O+ht;let Ct=L.x,_t=L.y;w.setWidth(this.width),st?ft>0&&Ct+wt+D>this.right&&(_t=L.y+=Tt,L.line++,Ct=L.x=vo(s,this.left+D,this.right-n[L.line])):ft>0&&_t+Tt>this.bottom&&(Ct=L.x=Ct+t[L.line].width+D,L.line++,_t=L.y=vo(s,this.top+yt+D,this.bottom-t[L.line].height)),function(It,ft,ht){if(isNaN(U)||U<=0||isNaN(j)||j<0)return;r.save();const mt=Sn(ht.lineWidth,1);if(r.fillStyle=Sn(ht.fillStyle,l),r.lineCap=Sn(ht.lineCap,"butt"),r.lineDashOffset=Sn(ht.lineDashOffset,0),r.lineJoin=Sn(ht.lineJoin,"miter"),r.lineWidth=mt,r.strokeStyle=Sn(ht.strokeStyle,l),r.setLineDash(Sn(ht.lineDash,[])),o.usePointStyle){const wt={radius:j*Math.SQRT2/2,pointStyle:ht.pointStyle,rotation:ht.rotation,borderWidth:mt},Ct=w.xPlus(It,U/2);LJ(r,wt,Ct,ft+O,o.pointStyleWidth&&U)}else{const wt=ft+Math.max((k-j)/2,0),Ct=w.leftForLtr(It,U),_t=rm(ht.borderRadius);r.beginPath(),Object.values(_t).some(Dt=>0!==Dt)?g1(r,{x:Ct,y:wt,w:U,h:j,radius:_t}):r.rect(Ct,wt,U,j),r.fill(),0!==mt&&r.stroke()}r.restore()}(w.x(Ct),_t,It),Ct=((e,i,t,n)=>e===(n?"left":"right")?t:"center"===e?(i+t)/2:i)(mt,Ct+U+O,st?Ct+wt:this.right,i.rtl),function(It,ft,ht){nm(r,ht.text,It,ft+W/2,E,{strikethrough:ht.hidden,textAlign:w.textAlign(ht.textAlign)})}(w.x(Ct),_t,It),st?L.x+=wt+D:L.y+="string"!=typeof It.text?ltt(It,E.lineHeight)+D:Tt}),QJ(this.ctx,i.textDirection)}drawTitle(){const i=this.options,t=i.title,n=ba(t.font),r=yo(t.padding);if(!t.display)return;const s=E0(i.rtl,this.left,this.width),o=this.ctx,l=t.position,E=r.top+n.size/2;let D,k=this.left,O=this.width;if(this.isHorizontal())O=Math.max(...this.lineWidths),D=this.top+E,k=vo(i.align,k,this.right-O);else{const U=this.columnSizes.reduce((j,W)=>Math.max(j,W.height),0);D=E+vo(i.align,this.top,this.bottom-U-i.labels.padding-this._computeTitleHeight())}const L=vo(l,k,k+O);o.textAlign=s.textAlign($L(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,nm(o,t.text,L,D,n)}_computeTitleHeight(){const i=this.options.title,t=ba(i.font),n=yo(i.padding);return i.display?t.lineHeight+n.height:0}_getLegendItemAt(i,t){let n,r,s;if(Bh(i,this.left,this.right)&&Bh(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],Bh(i,r.left,r.left+r.width)&&Bh(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(i){const t=this.options;if(!function N9t(e,i){return!(("mousemove"!==e&&"mouseout"!==e||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==e&&"mouseup"!==e))}(i.type,t))return;const n=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const r=this._hoveredItem,s=((e,i)=>null!==e&&null!==i&&e.datasetIndex===i.datasetIndex&&e.index===i.index)(r,n);r&&!s&&$r(t.onLeave,[i,r,this],this),this._hoveredItem=n,n&&!s&&$r(t.onHover,[i,n,this],this)}else n&&$r(t.onClick,[i,n,this],this)}}function ltt(e,i){return i*(e.text?e.text.length:0)}var B9t={id:"legend",_element:ott,start(e,i,t){const n=e.legend=new ott({ctx:e.ctx,options:t,chart:e});xo.configure(e,n,t),xo.addBox(e,n)},stop(e){xo.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,i,t){const n=e.legend;xo.configure(e,n,t),n.options=t},afterUpdate(e){const i=e.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(e,i){i.replay||e.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,i,t){const n=i.datasetIndex,r=t.chart;r.isDatasetVisible(n)?(r.hide(n),i.hidden=!0):(r.show(n),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const i=e.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(w=>{const E=w.controller.getStyle(t?0:void 0),D=yo(E.borderWidth);return{text:i[w.index].label,fillStyle:E.backgroundColor,fontColor:s,hidden:!w.visible,lineCap:E.borderCapStyle,lineDash:E.borderDash,lineDashOffset:E.borderDashOffset,lineJoin:E.borderJoinStyle,lineWidth:(D.width+D.height)/4,strokeStyle:E.borderColor,pointStyle:n||E.pointStyle,rotation:E.rotation,textAlign:r||E.textAlign,borderRadius:o&&(l||E.borderRadius),datasetIndex:w.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class EN extends Gh{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=t;const r=es(n.text)?n.text.length:1;this._padding=yo(n.padding);const s=r*ba(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:t,left:n,bottom:r,right:s,options:o}=this,l=o.align;let E,D,k,w=0;return this.isHorizontal()?(D=vo(l,n,s),k=t+i,E=s-n):("left"===o.position?(D=n+i,k=vo(l,r,t),w=-.5*is):(D=s-i,k=vo(l,t,r),w=.5*is),E=r-t),{titleX:D,titleY:k,maxWidth:E,rotation:w}}draw(){const i=this.ctx,t=this.options;if(!t.display)return;const n=ba(t.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:w,rotation:E}=this._drawArgs(s);nm(i,t.text,0,0,n,{color:t.color,maxWidth:w,rotation:E,textAlign:$L(t.align),textBaseline:"middle",translation:[o,l]})}}var U9t={id:"title",_element:EN,start(e,i,t){!function V9t(e,i){const t=new EN({ctx:e.ctx,options:i,chart:e});xo.configure(e,t,i),xo.addBox(e,t),e.titleBlock=t}(e,t)},stop(e){xo.removeBox(e,e.titleBlock),delete e.titleBlock},beforeUpdate(e,i,t){const n=e.titleBlock;xo.configure(e,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fA=new WeakMap;var z9t={id:"subtitle",start(e,i,t){const n=new EN({ctx:e.ctx,options:t,chart:e});xo.configure(e,n,t),xo.addBox(e,n),fA.set(e,n)},stop(e){xo.removeBox(e,fA.get(e)),fA.delete(e)},beforeUpdate(e,i,t){const n=fA.get(e);xo.configure(e,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _1={average(e){if(!e.length)return!1;let i,t,n=new Set,r=0,s=0;for(i=0,t=e.length;i<t;++i){const l=e[i].element;if(l&&l.hasValue()){const w=l.tooltipPosition();n.add(w.x),r+=w.y,++s}}return 0!==s&&0!==n.size&&{x:[...n].reduce((l,w)=>l+w)/n.size,y:r/s}},nearest(e,i){if(!e.length)return!1;let s,o,l,t=i.x,n=i.y,r=Number.POSITIVE_INFINITY;for(s=0,o=e.length;s<o;++s){const w=e[s].element;if(w&&w.hasValue()){const D=XL(i,w.getCenterPoint());D<r&&(r=D,l=w)}}if(l){const w=l.tooltipPosition();t=w.x,n=w.y}return{x:t,y:n}}};function Ru(e,i){return i&&(es(i)?Array.prototype.push.apply(e,i):e.push(i)),e}function Hh(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function G9t(e,i){const{element:t,datasetIndex:n,index:r}=i,s=e.getDatasetMeta(n).controller,{label:o,value:l}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:t}}function ctt(e,i){const t=e.chart.ctx,{body:n,footer:r,title:s}=e,{boxWidth:o,boxHeight:l}=i,w=ba(i.bodyFont),E=ba(i.titleFont),D=ba(i.footerFont),k=s.length,O=r.length,L=n.length,U=yo(i.padding);let j=U.height,W=0,Z=n.reduce((yt,Tt)=>yt+Tt.before.length+Tt.lines.length+Tt.after.length,0);Z+=e.beforeBody.length+e.afterBody.length,k&&(j+=k*E.lineHeight+(k-1)*i.titleSpacing+i.titleMarginBottom),Z&&(j+=L*(i.displayColors?Math.max(l,w.lineHeight):w.lineHeight)+(Z-L)*w.lineHeight+(Z-1)*i.bodySpacing),O&&(j+=i.footerMarginTop+O*D.lineHeight+(O-1)*i.footerSpacing);let rt=0;const st=function(yt){W=Math.max(W,t.measureText(yt).width+rt)};return t.save(),t.font=E.string,_r(e.title,st),t.font=w.string,_r(e.beforeBody.concat(e.afterBody),st),rt=i.displayColors?o+2+i.boxPadding:0,_r(n,yt=>{_r(yt.before,st),_r(yt.lines,st),_r(yt.after,st)}),rt=0,t.font=D.string,_r(e.footer,st),t.restore(),W+=U.width,{width:W,height:j}}function j9t(e,i,t,n){const{x:r,width:s}=t,{width:o,chartArea:{left:l,right:w}}=e;let E="center";return"center"===n?E=r<=(l+w)/2?"left":"right":r<=s/2?E="left":r>=o-s/2&&(E="right"),function W9t(e,i,t,n){const{x:r,width:s}=n,o=t.caretSize+t.caretPadding;if("left"===e&&r+s+o>i.width||"right"===e&&r-s-o<0)return!0}(E,e,i,t)&&(E="center"),E}function utt(e,i,t){const n=t.yAlign||i.yAlign||function H9t(e,i){const{y:t,height:n}=i;return t<n/2?"top":t>e.height-n/2?"bottom":"center"}(e,t);return{xAlign:t.xAlign||i.xAlign||j9t(e,i,t,n),yAlign:n}}function htt(e,i,t,n){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:l,yAlign:w}=t,E=r+s,{topLeft:D,topRight:k,bottomLeft:O,bottomRight:L}=rm(o);let U=function X9t(e,i){let{x:t,width:n}=e;return"right"===i?t-=n:"center"===i&&(t-=n/2),t}(i,l);const j=function Y9t(e,i,t){let{y:n,height:r}=e;return"top"===i?n+=t:n-="bottom"===i?r+t:r/2,n}(i,w,E);return"center"===w?"left"===l?U+=E:"right"===l&&(U-=E):"left"===l?U-=Math.max(D,O)+r:"right"===l&&(U+=Math.max(k,L)+r),{x:Fa(U,0,n.width-i.width),y:Fa(j,0,n.height-i.height)}}function pA(e,i,t){const n=yo(t.padding);return"center"===i?e.x+e.width/2:"right"===i?e.x+e.width-n.right:e.x+n.left}function dtt(e){return Ru([],Hh(e))}function ftt(e,i){const t=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return t?e.override(t):e}const ptt={beforeTitle:Nh,title(e){if(e.length>0){const i=e[0],t=i.chart.data.labels,n=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(n>0&&i.dataIndex<n)return t[i.dataIndex]}return""},afterTitle:Nh,beforeBody:Nh,beforeLabel:Nh,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let i=e.dataset.label||"";i&&(i+=": ");const t=e.formattedValue;return rr(t)||(i+=t),i},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Nh,afterBody:Nh,beforeFooter:Nh,footer:Nh,afterFooter:Nh};function hl(e,i,t,n){const r=e[i].call(t,n);return typeof r>"u"?ptt[i].call(t,n):r}let mtt=(()=>class e extends Gh{static positioners=_1;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,o=new nq(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function $9t(e,i,t){return pf(e,{tooltip:i,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=hl(r,"beforeTitle",this,t),o=hl(r,"title",this,t),l=hl(r,"afterTitle",this,t);let w=[];return w=Ru(w,Hh(s)),w=Ru(w,Hh(o)),w=Ru(w,Hh(l)),w}getBeforeBody(t,n){return dtt(hl(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return _r(t,o=>{const l={before:[],lines:[],after:[]},w=ftt(r,o);Ru(l.before,Hh(hl(w,"beforeLabel",this,o))),Ru(l.lines,hl(w,"label",this,o)),Ru(l.after,Hh(hl(w,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,n){return dtt(hl(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=hl(r,"beforeFooter",this,t),o=hl(r,"footer",this,t),l=hl(r,"afterFooter",this,t);let w=[];return w=Ru(w,Hh(s)),w=Ru(w,Hh(o)),w=Ru(w,Hh(l)),w}_createItems(t){const n=this._active,r=this.chart.data,s=[],o=[],l=[];let E,D,w=[];for(E=0,D=n.length;E<D;++E)w.push(G9t(this.chart,n[E]));return t.filter&&(w=w.filter((k,O,L)=>t.filter(k,O,L,r))),t.itemSort&&(w=w.sort((k,O)=>t.itemSort(k,O,r))),_r(w,k=>{const O=ftt(t.callbacks,k);s.push(hl(O,"labelColor",this,k)),o.push(hl(O,"labelPointStyle",this,k)),l.push(hl(O,"labelTextColor",this,k))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=w,w}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(s.length){const w=_1[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const E=this._size=ctt(this,r),D=Object.assign({},w,E),k=utt(this.chart,r,D),O=htt(r,D,k,this.chart);this.xAlign=k.xAlign,this.yAlign=k.yAlign,o={opacity:1,x:O.x,y:O.y,width:E.width,height:E.height,caretX:w.x,caretY:w.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const o=this.getCaretPosition(t,r,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:w}=r,{topLeft:E,topRight:D,bottomLeft:k,bottomRight:O}=rm(w),{x:L,y:U}=t,{width:j,height:W}=n;let Z,rt,st,yt,Tt,It;return"center"===o?(Tt=U+W/2,"left"===s?(Z=L,rt=Z-l,yt=Tt+l,It=Tt-l):(Z=L+j,rt=Z+l,yt=Tt-l,It=Tt+l),st=Z):(rt="left"===s?L+Math.max(E,k)+l:"right"===s?L+j-Math.max(D,O)-l:this.caretX,"top"===o?(yt=U,Tt=yt-l,Z=rt-l,st=rt+l):(yt=U+W,Tt=yt+l,Z=rt+l,st=rt-l),It=yt),{x1:Z,x2:rt,x3:st,y1:yt,y2:Tt,y3:It}}drawTitle(t,n,r){const s=this.title,o=s.length;let l,w,E;if(o){const D=E0(r.rtl,this.x,this.width);for(t.x=pA(this,r.titleAlign,r),n.textAlign=D.textAlign(r.titleAlign),n.textBaseline="middle",l=ba(r.titleFont),w=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,E=0;E<o;++E)n.fillText(s[E],D.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+w,E+1===o&&(t.y+=r.titleMarginBottom-w)}}_drawColorBox(t,n,r,s,o){const l=this.labelColors[r],w=this.labelPointStyles[r],{boxHeight:E,boxWidth:D}=o,k=ba(o.bodyFont),O=pA(this,"left",o),L=s.x(O),j=n.y+(E<k.lineHeight?(k.lineHeight-E)/2:0);if(o.usePointStyle){const W={radius:Math.min(D,E)/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:1},Z=s.leftForLtr(L,D)+D/2,rt=j+E/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,qL(t,W,Z,rt),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,qL(t,W,Z,rt)}else{t.lineWidth=Xn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const W=s.leftForLtr(L,D),Z=s.leftForLtr(s.xPlus(L,1),D-2),rt=rm(l.borderRadius);Object.values(rt).some(st=>0!==st)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,g1(t,{x:W,y:j,w:D,h:E,radius:rt}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),g1(t,{x:Z,y:j+1,w:D-2,h:E-2,radius:rt}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(W,j,D,E),t.strokeRect(W,j,D,E),t.fillStyle=l.backgroundColor,t.fillRect(Z,j+1,D-2,E-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:w,boxHeight:E,boxWidth:D,boxPadding:k}=r,O=ba(r.bodyFont);let L=O.lineHeight,U=0;const j=E0(r.rtl,this.x,this.width),W=function(mt){n.fillText(mt,j.x(t.x+U),t.y+L/2),t.y+=L+o},Z=j.textAlign(l);let rt,st,yt,Tt,It,ft,ht;for(n.textAlign=l,n.textBaseline="middle",n.font=O.string,t.x=pA(this,Z,r),n.fillStyle=r.bodyColor,_r(this.beforeBody,W),U=w&&"right"!==Z?"center"===l?D/2+k:D+2+k:0,Tt=0,ft=s.length;Tt<ft;++Tt){for(rt=s[Tt],st=this.labelTextColors[Tt],n.fillStyle=st,_r(rt.before,W),yt=rt.lines,w&&yt.length&&(this._drawColorBox(n,t,Tt,j,r),L=Math.max(O.lineHeight,E)),It=0,ht=yt.length;It<ht;++It)W(yt[It]),L=O.lineHeight;_r(rt.after,W)}U=0,L=O.lineHeight,_r(this.afterBody,W),t.y-=o}drawFooter(t,n,r){const s=this.footer,o=s.length;let l,w;if(o){const E=E0(r.rtl,this.x,this.width);for(t.x=pA(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=E.textAlign(r.footerAlign),n.textBaseline="middle",l=ba(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,w=0;w<o;++w)n.fillText(s[w],E.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:o,yAlign:l}=this,{x:w,y:E}=t,{width:D,height:k}=r,{topLeft:O,topRight:L,bottomLeft:U,bottomRight:j}=rm(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(w+O,E),"top"===l&&this.drawCaret(t,n,r,s),n.lineTo(w+D-L,E),n.quadraticCurveTo(w+D,E,w+D,E+L),"center"===l&&"right"===o&&this.drawCaret(t,n,r,s),n.lineTo(w+D,E+k-j),n.quadraticCurveTo(w+D,E+k,w+D-j,E+k),"bottom"===l&&this.drawCaret(t,n,r,s),n.lineTo(w+U,E+k),n.quadraticCurveTo(w,E+k,w,E+k-U),"center"===l&&"left"===o&&this.drawCaret(t,n,r,s),n.lineTo(w,E+O),n.quadraticCurveTo(w,E,w+O,E),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const l=_1[t.position].call(this,this._active,this._eventPosition);if(!l)return;const w=this._size=ctt(this,t),E=Object.assign({},l,this._size),D=utt(n,t,E),k=htt(t,E,D,n);(s._to!==k.x||o._to!==k.y)&&(this.xAlign=D.xAlign,this.yAlign=D.yAlign,this.width=w.width,this.height=w.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,k))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=yo(n.padding);n.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,s,n),$J(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),QJ(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:w,index:E})=>{const D=this.chart.getDatasetMeta(w);if(!D)throw new Error("Cannot find a dataset at index "+w);return{datasetIndex:w,element:D.data[E],index:E}}),o=!j_(r,s),l=this._positionChanged(s,n);(o||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,r),w=this._positionChanged(l,t),E=n||!j_(l,o)||w;return E&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),E}_getActiveElements(t,n,r,s){const o=this.options;if("mouseout"===t.type)return[];if(!s)return n.filter(w=>this.chart.data.datasets[w.datasetIndex]&&void 0!==this.chart.getDatasetMeta(w.datasetIndex).controller.getParsed(w.index));const l=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:r,caretY:s,options:o}=this,l=_1[o.position].call(this,t,n);return!1!==l&&(r!==l.x||s!==l.y)}})();var K9t=Object.freeze({__proto__:null,Colors:l9t,Decimation:d9t,Filler:P9t,Legend:B9t,SubTitle:z9t,Title:U9t,Tooltip:{id:"tooltip",_element:mtt,positioners:_1,afterInit(e,i,t){t&&(e.tooltip=new mtt({chart:e,options:t}))},beforeUpdate(e,i,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,i,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){const i=e.tooltip;if(i&&i._willRender()){const t={tooltip:i};if(!1===e.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;i.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,i){e.tooltip&&e.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,i)=>i.bodyFont.size,boxWidth:(e,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ptt},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function gtt(e){const i=this.getLabels();return e>=0&&e<i.length?i[e]:e}let t6t=(()=>class e extends cm{static id="category";static defaults={ticks:{callback:gtt}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:o}of n)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(rr(t))return null;const r=this.getLabels();return((e,i)=>null===e?null:Fa(Math.round(e),0,i))(n=isFinite(n)&&r[n]===t?n:function J9t(e,i,t,n){const r=e.indexOf(i);return-1===r?((e,i,t,n)=>("string"==typeof i?(t=e.push(i)-1,n.unshift({index:t,label:i})):isNaN(i)&&(t=null),t))(e,i,t,n):r!==e.lastIndexOf(i)?t:r}(r,t,Sn(n,t),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let o=this.getLabels();o=0===t&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return gtt.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}})();function vtt(e,i,{horizontal:t,minRotation:n}){const r=Uc(n),s=(t?Math.sin(r):Math.cos(r))||.001;return Math.min(i/s,.75*i*(""+e).length)}class mA extends cm{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,t){return rr(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const o=w=>r=t?r:w,l=w=>s=n?s:w;if(i){const w=Mu(r),E=Mu(s);w<0&&E<0?l(0):w>0&&E>0&&o(0)}if(r===s){let w=0===s?1:Math.abs(.05*s);l(s+w),i||o(r-w)}this.min=r,this.max=s}getTickLimit(){const i=this.options.ticks;let r,{maxTicksLimit:t,stepSize:n}=i;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,t=i.ticks;let n=this.getTickLimit();n=Math.max(2,n);const o=function e6t(e,i){const t=[],{bounds:r,step:s,min:o,max:l,precision:w,count:E,maxTicks:D,maxDigits:k,includeBounds:O}=e,L=s||1,U=D-1,{min:j,max:W}=i,Z=!rr(o),rt=!rr(l),st=!rr(E),yt=(W-j)/(k+1);let It,ft,ht,mt,Tt=xJ((W-j)/U/L)*L;if(Tt<1e-14&&!Z&&!rt)return[{value:j},{value:W}];mt=Math.ceil(W/Tt)-Math.floor(j/Tt),mt>U&&(Tt=xJ(mt*Tt/U/L)*L),rr(w)||(It=Math.pow(10,w),Tt=Math.ceil(Tt*It)/It),"ticks"===r?(ft=Math.floor(j/Tt)*Tt,ht=Math.ceil(W/Tt)*Tt):(ft=j,ht=W),Z&&rt&&s&&function zBt(e,i){const t=Math.round(e);return t-i<=e&&t+i>=e}((l-o)/s,Tt/1e3)?(mt=Math.round(Math.min((l-o)/Tt,D)),Tt=(l-o)/mt,ft=o,ht=l):st?(ft=Z?o:ft,ht=rt?l:ht,mt=E-1,Tt=(ht-ft)/mt):(mt=(ht-ft)/Tt,mt=h1(mt,Math.round(mt),Tt/1e3)?Math.round(mt):Math.ceil(mt));const wt=Math.max(wJ(Tt),wJ(ft));It=Math.pow(10,rr(w)?wt:w),ft=Math.round(ft*It)/It,ht=Math.round(ht*It)/It;let Ct=0;for(Z&&(O&&ft!==o?(t.push({value:o}),ft<o&&Ct++,h1(Math.round((ft+Ct*Tt)*It)/It,o,vtt(o,yt,e))&&Ct++):ft<o&&Ct++);Ct<mt;++Ct){const _t=Math.round((ft+Ct*Tt)*It)/It;if(rt&&_t>l)break;t.push({value:_t})}return rt&&O&&ht!==l?t.length&&h1(t[t.length-1].value,l,vtt(l,yt,e))?t[t.length-1].value=l:t.push({value:l}):(!rt||ht===l)&&t.push({value:ht}),t}({maxTicks:n,bounds:i.bounds,min:i.min,max:i.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===i.bounds&&bJ(o,this,"value"),i.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const i=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&i.length){const r=(n-t)/Math.max(i.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(i){return p1(i,this.chart.options.locale,this.options.ticks.format)}}const A1=e=>Math.floor(ff(e)),um=(e,i)=>Math.pow(10,A1(e)+i);function ytt(e){return e/Math.pow(10,A1(e))==1}function xtt(e,i,t){const n=Math.pow(10,t),r=Math.floor(e/n);return Math.ceil(i/n)-r}function _N(e){const i=e.ticks;if(i.display&&e.display){const t=yo(i.backdropPadding);return Sn(i.font&&i.font.size,fs.font.size)+t.height}return 0}function a6t(e,i,t){return t=es(t)?t:[t],{w:rVt(e,i.string,t),h:t.length*i.lineHeight}}function btt(e,i,t,n,r){return e===n||e===r?{start:i-t/2,end:i+t/2}:e<n||e>r?{start:i-t,end:i}:{start:i,end:i+t}}function l6t(e,i,t,n,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let l=0,w=0;n.start<i.l?(l=(i.l-n.start)/s,e.l=Math.min(e.l,i.l-l)):n.end>i.r&&(l=(n.end-i.r)/s,e.r=Math.max(e.r,i.r+l)),r.start<i.t?(w=(i.t-r.start)/o,e.t=Math.min(e.t,i.t-w)):r.end>i.b&&(w=(r.end-i.b)/o,e.b=Math.max(e.b,i.b+w))}function c6t(e,i,t){const n=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:l}=t,w=e.getPointPosition(i,n+r+o,s),E=Math.round(jL(Bl(w.angle+Bs))),D=function p6t(e,i,t){return 90===t||270===t?e-=i/2:(t>270||t<90)&&(e-=i),e}(w.y,l.h,E),k=function d6t(e){return 0===e||180===e?"center":e<180?"left":"right"}(E),O=function f6t(e,i,t){return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(w.x,l.w,k);return{visible:!0,x:w.x,y:D,textAlign:k,left:O,top:D,right:O+l.w,bottom:D+l.h}}function u6t(e,i){if(!i)return!0;const{left:t,top:n,right:r,bottom:s}=e;return!(Uh({x:t,y:n},i)||Uh({x:t,y:s},i)||Uh({x:r,y:n},i)||Uh({x:r,y:s},i))}function m6t(e,i,t){const{left:n,top:r,right:s,bottom:o}=t,{backdropColor:l}=i;if(!rr(l)){const w=rm(i.borderRadius),E=yo(i.backdropPadding);e.fillStyle=l;const D=n-E.left,k=r-E.top,O=s-n+E.width,L=o-r+E.height;Object.values(w).some(U=>0!==U)?(e.beginPath(),g1(e,{x:D,y:k,w:O,h:L,radius:w}),e.fill()):e.fillRect(D,k,O,L)}}function wtt(e,i,t,n){const{ctx:r}=e;if(t)r.arc(e.xCenter,e.yCenter,i,0,ns);else{let s=e.getPointPosition(0,i);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=e.getPointPosition(o,i),r.lineTo(s.x,s.y)}}const gA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dl=Object.keys(gA);function Ttt(e,i){return e-i}function Ctt(e,i){if(rr(i))return null;const t=e._adapter,{parser:n,round:r,isoWeekday:s}=e._parseOpts;let o=i;return"function"==typeof n&&(o=n(o)),_s(o)||(o="string"==typeof n?t.parse(o,n):t.parse(o)),null===o?null:(r&&(o="week"!==r||!T0(s)&&!0!==s?t.startOf(o,r):t.startOf(o,"isoWeek",s)),+o)}function Stt(e,i,t,n){const r=dl.length;for(let s=dl.indexOf(e);s<r-1;++s){const o=gA[dl[s]];if(o.common&&Math.ceil((t-i)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=n)return dl[s]}return dl[r-1]}function Ett(e,i,t){if(t){if(t.length){const{lo:n,hi:r}=YL(t,i);e[t[n]>=i?t[n]:t[r]]=!0}}else e[i]=!0}function _tt(e,i,t){const n=[],r={},s=i.length;let o,l;for(o=0;o<s;++o)l=i[o],r[l]=o,n.push({value:l,major:!1});return 0!==s&&t?function T6t(e,i,t,n){const r=e._adapter,s=+r.startOf(i[0].value,n),o=i[i.length-1].value;let l,w;for(l=s;l<=o;l=+r.add(l,1,n))w=t[l],w>=0&&(i[w].major=!0);return i}(e,n,r,t):n}let AN=(()=>class e extends cm{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new C5t__date(t.adapters.date);s.init(n),c1(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return void 0===t?null:Ctt(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:w}=this.getUserBounds();function E(D){!l&&!isNaN(D.min)&&(s=Math.min(s,D.min)),!w&&!isNaN(D.max)&&(o=Math.max(o,D.max))}(!l||!w)&&(E(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&E(this.getMinMax(!1))),s=_s(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),o=_s(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,w=function jBt(e,i,t){let n=0,r=e.length;for(;n<r&&e[n]<i;)n++;for(;r>n&&e[r-1]>t;)r--;return n>0||r<e.length?e.slice(n,r):e}(s,o,this.max);return this._unit=n.unit||(r.autoSkip?Stt(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):function b6t(e,i,t,n,r){for(let s=dl.length-1;s>=dl.indexOf(t);s--){const o=dl[s];if(gA[o].common&&e._adapter.diff(r,n,o)>=i-1)return o}return dl[t?dl.indexOf(t):0]}(this,w.length,n.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function w6t(e){for(let i=dl.indexOf(e)+1,t=dl.length;i<t;++i)if(gA[dl[i]].common)return dl[i]}(this._unit):void 0,this.initOffsets(s),t.reverse&&w.reverse(),_tt(this,w,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s,o,n=0,r=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),n=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),r=1===t.length?o:(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Fa(n,0,l),r=Fa(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,o=s.time,l=o.unit||Stt(o.minUnit,n,r,this._getLabelCapacity(n)),w=Sn(s.ticks.stepSize,1),E="week"===l&&o.isoWeekday,D=T0(E)||!0===E,k={};let L,U,O=n;if(D&&(O=+t.startOf(O,"isoWeek",E)),O=+t.startOf(O,D?"day":l),t.diff(r,n,l)>1e5*w)throw new Error(n+" and "+r+" are too far apart with stepSize of "+w+" "+l);const j="data"===s.ticks.source&&this.getDataTimestamps();for(L=O,U=0;L<r;L=+t.add(L,w,l),U++)Ett(k,L,j);return(L===r||"ticks"===s.bounds||1===U)&&Ett(k,L,j),Object.keys(k).sort(Ttt).map(W=>+W)}getLabelForValue(t){const r=this.options.time;return this._adapter.format(t,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(t,n){return this._adapter.format(t,n||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,n,r,s){const o=this.options,l=o.ticks.callback;if(l)return $r(l,[t,n,r],this);const w=o.time.displayFormats,E=this._unit,D=this._majorUnit,O=D&&w[D],L=r[n];return this._adapter.format(t,s||(D&&O&&L&&L.major?O:E&&w[E]))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=Uc(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),l=Math.sin(s),w=this._resolveTickFontOptions(0).size;return{w:r*o+w*l,h:r*l+w*o}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,o=this._tickFormatFunction(t,0,_tt(this,[t],this._majorUnit),s),l=this._getLabelSize(o),w=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return w>0?w:1}getDataTimestamps(){let n,r,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(Ctt(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return EJ(t.sort(Ttt))}})();function vA(e,i,t){let s,o,l,w,n=0,r=e.length-1;t?(i>=e[n].pos&&i<=e[r].pos&&({lo:n,hi:r}=Vh(e,"pos",i)),({pos:s,time:l}=e[n]),({pos:o,time:w}=e[r])):(i>=e[n].time&&i<=e[r].time&&({lo:n,hi:r}=Vh(e,"time",i)),({time:s,pos:l}=e[n]),({time:o,pos:w}=e[r]));const E=o-s;return E?l+(w-l)*(i-s)/E:l}const _6t=["radarCanvas"],Att=e=>({left:e});function A6t(e,i){if(1&e&&(J(0,"div",11)(1,"div",12),ut(2),et()()),2&e){const t=i.$implicit,n=St();vt("ngStyle",Al(2,Att,n.getMarkerPosition(t.value)+"%")),ot(2),Ke(t.value)}}function D6t(e,i){if(1&e&&(J(0,"span",13),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(t.label)}}function M6t(e,i){if(1&e&&(J(0,"td"),ut(1),vs(2,"titlecase"),et()),2&e){const t=St(2).$implicit,n=St(2).$implicit,r=St();_i("rowspan",r.getKpaRowSpan(r.maturityResponse,n,t)),ot(),Je(" ",Jl(2,2,r.getKpaName(t))," ")}}function I6t(e,i){if(1&e&&(J(0,"td"),ut(1),vs(2,"number"),et()),2&e){const t=St(2).$implicit,n=St(2).$implicit,r=St();_i("rowspan",r.getKpaRowSpan(r.maturityResponse,n,t)),ot(),Je(" ",Pc(2,2,r.calculateAverage(r.getQuestions(r.maturityResponse,n,t)),"1.2-2")," ")}}function R6t(e,i){if(1&e&&(Qi(0),J(1,"tr"),Ht(2,M6t,3,4,"td",14)(3,I6t,3,5,"td",14),et(),Ki()),2&e){const t=i.index,n=St(4);ot(2),vt("ngIf",n.isFirstRowInKpa(t)),ot(),vt("ngIf",n.isFirstRowInKpa(t))}}function P6t(e,i){if(1&e&&(Qi(0),Ht(1,R6t,4,2,"ng-container",9),vs(2,"keyvalue"),Ki()),2&e){const t=i.$implicit,n=St(2).$implicit,r=St();ot(),vt("ngForOf",Jl(2,1,r.getQuestions(r.maturityResponse,n,t)))}}function k6t(e,i){if(1&e&&(Qi(0),Ht(1,P6t,3,3,"ng-container",9),Ki()),2&e){const t=St().$implicit,n=St();ot(),vt("ngForOf",n.getKpas(n.maturityResponse,t))}}function F6t(e,i){if(1&e&&(Qi(0),Ht(1,k6t,2,1,"ng-container",14),Ki()),2&e){const t=i.$implicit,n=St();ot(),vt("ngIf",t==n.maturityResponse.selectedStakeholder)}}vN.register(T5t,e9t,K9t,Object.freeze({__proto__:null,CategoryScale:t6t,LinearScale:class i6t extends mA{static id="linear";static defaults={ticks:{callback:Q_.formatters.numeric}};determineDataLimits(){const{min:i,max:t}=this.getMinMax(!0);this.min=_s(i)?i:0,this.max=_s(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),t=i?this.width:this.height,n=Uc(this.options.ticks.minRotation),r=(i?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}},LogarithmicScale:class s6t extends cm{static id="logarithmic";static defaults={ticks:{callback:Q_.formatters.logarithmic,major:{enabled:!0}}};constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,t){const n=mA.prototype.parse.apply(this,[i,t]);if(0!==n)return _s(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:i,max:t}=this.getMinMax(!0);this.min=_s(i)?Math.max(0,i):null,this.max=_s(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_s(this._userMin)&&(this.min=i===um(this.min,0)?um(this.min,-1):um(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const s=l=>n=i?n:l,o=l=>r=t?r:l;n===r&&(n<=0?(s(1),o(10)):(s(um(n,-1)),o(um(r,1)))),n<=0&&s(um(r,-1)),r<=0&&o(um(n,1)),this.min=n,this.max=r}buildTicks(){const i=this.options,n=function r6t(e,{min:i,max:t}){i=Nl(e.min,i);const n=[],r=A1(i);let s=function n6t(e,i){let n=A1(i-e);for(;xtt(e,i,n)>10;)n++;for(;xtt(e,i,n)<10;)n--;return Math.min(n,A1(e))}(i,t),o=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),w=r>s?Math.pow(10,r):0,E=Math.round((i-w)*o)/o,D=Math.floor((i-w)/l/10)*l*10;let k=Math.floor((E-D)/Math.pow(10,s)),O=Nl(e.min,Math.round((w+D+k*Math.pow(10,s))*o)/o);for(;O<t;)n.push({value:O,major:ytt(O),significand:k}),k>=10?k=k<15?15:20:k++,k>=20&&(s++,k=2,o=s>=0?1:o),O=Math.round((w+D+k*Math.pow(10,s))*o)/o;const L=Nl(e.max,O);return n.push({value:L,major:ytt(L),significand:k}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&bJ(n,this,"value"),i.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(i){return void 0===i?"0":p1(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=ff(i),this._valueRange=ff(this.max)-ff(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(ff(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const t=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+t*this._valueRange)}},RadialLinearScale:class x6t extends mA{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Q_.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:i=>i,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=yo(_N(this.options)/2),t=this.width=this.maxWidth-i.width,n=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+t/2+i.left),this.yCenter=Math.floor(this.top+n/2+i.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:i,max:t}=this.getMinMax(!1);this.min=_s(i)&&!isNaN(i)?i:0,this.max=_s(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_N(this.options))}generateTickLabels(i){mA.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((t,n)=>{const r=$r(this.options.pointLabels.callback,[t,n],this);return r||0===r?r:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const i=this.options;i.display&&i.pointLabels.display?function o6t(e){const i={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},i),n=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,l=o.centerPointLabels?is/s:0;for(let w=0;w<s;w++){const E=o.setContext(e.getPointLabelContext(w));r[w]=E.padding;const D=e.getPointPosition(w,e.drawingArea+r[w],l),k=ba(E.font),O=a6t(e.ctx,k,e._pointLabels[w]);n[w]=O;const L=Bl(e.getIndexAngle(w)+l),U=Math.round(jL(L));l6t(t,i,L,btt(U,D.x,O.w,0,180),btt(U,D.y,O.h,90,270))}e.setCenterPoint(i.l-t.l,t.r-i.r,i.t-t.t,t.b-i.b),e._pointLabelItems=function h6t(e,i,t){const n=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:l}=s.pointLabels,w={extra:_N(s)/2,additionalAngle:o?is/r:0};let E;for(let D=0;D<r;D++){w.padding=t[D],w.size=i[D];const k=c6t(e,D,w);n.push(k),"auto"===l&&(k.visible=u6t(k,E),k.visible&&(E=k))}return n}(e,n,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,t,n,r){this.xCenter+=Math.floor((i-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,t,n,r))}getIndexAngle(i){return Bl(i*(ns/(this._pointLabels.length||1))+Uc(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(rr(i))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*t:(i-this.min)*t}getValueForDistanceFromCenter(i){if(rr(i))return NaN;const t=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(i){const t=this._pointLabels||[];if(i>=0&&i<t.length){const n=t[i];return function y6t(e,i,t){return pf(e,{label:t,index:i,type:"pointLabel"})}(this.getContext(),i,n)}}getPointPosition(i,t,n=0){const r=this.getIndexAngle(i)-Bs+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(i,t){return this.getPointPosition(i,this.getDistanceFromCenterForValue(t))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[i];return{left:t,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:i,grid:{circular:t}}=this.options;if(i){const n=this.ctx;n.save(),n.beginPath(),wtt(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=i,n.fill(),n.restore()}}drawGrid(){const i=this.ctx,t=this.options,{angleLines:n,grid:r,border:s}=t,o=this._pointLabels.length;let l,w,E;if(t.pointLabels.display&&function g6t(e,i){const{ctx:t,options:{pointLabels:n}}=e;for(let r=i-1;r>=0;r--){const s=e._pointLabelItems[r];if(!s.visible)continue;const o=n.setContext(e.getPointLabelContext(r));m6t(t,o,s);const l=ba(o.font),{x:w,y:E,textAlign:D}=s;nm(t,e._pointLabels[r],w,E+l.lineHeight/2,l,{color:o.color,textAlign:D,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach((D,k)=>{if(0!==k||0===k&&this.min<0){w=this.getDistanceFromCenterForValue(D.value);const O=this.getContext(k),L=r.setContext(O),U=s.setContext(O);!function v6t(e,i,t,n,r){const s=e.ctx,o=i.circular,{color:l,lineWidth:w}=i;!o&&!n||!l||!w||t<0||(s.save(),s.strokeStyle=l,s.lineWidth=w,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),wtt(e,t,o,n),s.closePath(),s.stroke(),s.restore())}(this,L,w,o,U)}}),n.display){for(i.save(),l=o-1;l>=0;l--){const D=n.setContext(this.getPointLabelContext(l)),{color:k,lineWidth:O}=D;!O||!k||(i.lineWidth=O,i.strokeStyle=k,i.setLineDash(D.borderDash),i.lineDashOffset=D.borderDashOffset,w=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),E=this.getPointPosition(l,w),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(E.x,E.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,o;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(r),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((l,w)=>{if(0===w&&this.min>=0&&!t.reverse)return;const E=n.setContext(this.getContext(w)),D=ba(E.font);if(s=this.getDistanceFromCenterForValue(this.ticks[w].value),E.showLabelBackdrop){i.font=D.string,o=i.measureText(l.label).width,i.fillStyle=E.backdropColor;const k=yo(E.backdropPadding);i.fillRect(-o/2-k.left,-s-D.size/2-k.top,o+k.width,D.size+k.height)}nm(i,l.label,0,-s,D,{color:E.color,strokeColor:E.textStrokeColor,strokeWidth:E.textStrokeWidth})}),i.restore()}drawTitle(){}},TimeScale:AN,TimeSeriesScale:class C6t extends AN{static id="timeseries";static defaults=AN.defaults;constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(i);this._minPos=vA(t,this.min),this._tableRange=vA(t,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:t,max:n}=this,r=[],s=[];let o,l,w,E,D;for(o=0,l=i.length;o<l;++o)E=i[o],E>=t&&E<=n&&r.push(E);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,l=r.length;o<l;++o)D=r[o+1],w=r[o-1],E=r[o],Math.round((D+w)/2)!==E&&s.push({time:E,pos:o/(l-1)});return s}_generate(){const i=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(i)||!n.length)&&n.splice(0,0,i),(!n.includes(t)||1===n.length)&&n.push(t),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return i=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,i=this._cache.all=i,i}getDecimalForValue(i){return(vA(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const t=this._offsets,n=this.getDecimalForPixel(i)/t.factor-t.end;return vA(this._table,n*this._tableRange+this._minPos,!0)}}}));let O6t=(()=>{class e{constructor(){this.allQuestions=[],this.resultsScale=[{value:1,label:"Basic"},{value:2,label:"Limited"},{value:3,label:"Advanced"},{value:4,label:"Integrated"},{value:5,label:"Optimizing"}]}ngAfterViewInit(){this.maturityResponse&&this.generateChart()}ngOnChanges(t){this.radarCanvas&&t.maturityResponse&&this.maturityResponse&&this.generateChart()}generateChart(){this.chart&&this.chart.destroy();const t={};Object.entries(this.maturityResponse).forEach(([o,l])=>{const[w,E,D]=o.split(".");w&&E&&D&&w===this.maturityResponse.selectedStakeholder&&(t[E]=t[E]||{sum:0,count:0},t[E].sum+=l||0,t[E].count+=1)});const n=Array.from(new Set(Object.keys(this.maturityResponse).filter(o=>o.startsWith(this.maturityResponse.selectedStakeholder)).map(o=>o.split(".")[1]))),r=n.map(o=>this.getKpaName(o)||o),s=[{label:this.getStakeholderName(),data:n.map(o=>t[o]?t[o].sum/t[o].count:0),backgroundColor:"rgba(54, 162, 235, 0.3)",borderColor:"rgba(54, 162, 235, 1)",pointBackgroundColor:"rgba(54, 162, 235, 1)",pointBorderColor:"#fff"}];this.chart=new vN(this.radarCanvas.nativeElement,{type:"radar",data:{labels:r,datasets:s},options:{aspectRatio:2,responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Maturity Results by Stakeholder and KPA"}},scales:{r:{pointLabels:{padding:5},suggestedMin:0,suggestedMax:5,ticks:{stepSize:1}}}}})}getStakeholders(t){return Array.from(new Set(Object.keys(t).map(n=>n.split(".")[0])))}getKpas(t,n){return Array.from(new Set(Object.keys(t).filter(r=>r.startsWith(n)).map(r=>r.split(".")[1])))}getStakeholderName(){return this.allQuestions[0].stakeholderName}getKpaName(t){const n=this.allQuestions.find(r=>r.kpaId===t);return n?n.kpaName:null}getQuestions(t,n,r){return Object.keys(t).filter(s=>s.startsWith(`${n}.${r}`)).reduce((s,o)=>(s[o.split(".").slice(2).join(".")]=t[o],s),{})}getStakeholderRowSpan(t,n){return this.getKpas(t,n).reduce((s,o)=>s+this.getKpaRowSpan(t,n,o),0)}getKpaRowSpan(t,n,r){return Object.keys(t).filter(s=>s.startsWith(`${n}.${r}`)).length}isFirstRowInStakeholder(t,n,r){const s=this.getKpas(this.maturityResponse,n).indexOf(r);return 0===t&&0===s}isFirstRowInKpa(t){return 0===t}calculateAverage(t){const n=Object.values(t).filter(s=>null!==s),r=n.reduce((s,o)=>s+o,0);return n.length>0?r/n.length:0}calculateOverallAverage(t){const n={},r=["selectedStakeholder","name","author","timestamp","selectedKpas"];for(const l in t)if(t.hasOwnProperty(l)&&null!==t[l]&&!r.includes(l)){const w=l.split(".")[1];n[w]||(n[w]=[]),n[w].push(t[l])}const s=Object.keys(n).filter(l=>n[l].length>0).map(l=>{const w=n[l];return w.reduce((E,D)=>E+D,0)/w.length});return s.length>0?s.reduce((l,w)=>l+w,0)/s.length:0}getScaleLabel(t){return t=Math.floor(t),this.resultsScale.find(n=>n.value===t)?.label||""}getMarkerPosition(t){return t<1&&(t=1),t>5&&(t=5),(t-1)/4*100}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-maturity-results"]],viewQuery:function(n,r){if(1&n&&ki(_6t,5),2&n){let s;He(s=We())&&(r.radarCanvas=s.first)}},inputs:{maturityResponse:"maturityResponse",allQuestions:"allQuestions"},features:[lr],decls:24,vars:15,consts:[["radarCanvas",""],[1,"centered-box"],[1,"score-scale-container"],[1,"score-scale"],[1,"score-marker",3,"ngStyle"],["class","score-tick",3,"ngStyle",4,"ngFor","ngForOf"],[1,"score-scale-labels"],["class","level-label",4,"ngFor","ngForOf"],[1,"bordered-table"],[4,"ngFor","ngForOf"],[1,"chart-container"],[1,"score-tick",3,"ngStyle"],[1,"score-tick-label"],[1,"level-label"],[4,"ngIf"]],template:function(n,r){1&n&&(J(0,"h3",1),ut(1),vs(2,"number"),et(),ye(3,"br"),J(4,"div",2)(5,"div",3),ye(6,"div",4),Ht(7,A6t,3,4,"div",5),et(),J(8,"div",6),Ht(9,D6t,2,1,"span",7),vs(10,"slice"),et()(),J(11,"table",8)(12,"thead")(13,"tr")(14,"th"),ut(15,"KPA"),et(),J(16,"th"),ut(17,"Maturity score"),et()()(),J(18,"tbody"),Ht(19,F6t,2,1,"ng-container",9),et()(),J(20,"div",10),ye(21,"canvas",null,0),et(),ye(23,"br")),2&n&&(ot(),sl(" ",Pc(2,6,r.calculateOverallAverage(r.maturityResponse),"1.2-2")," - ",r.getScaleLabel(r.calculateOverallAverage(r.maturityResponse)),"\n"),ot(5),vt("ngStyle",Al(13,Att,"calc("+r.getMarkerPosition(r.calculateOverallAverage(r.maturityResponse))+"% - 3px)")),ot(),vt("ngForOf",r.resultsScale),ot(2),vt("ngForOf",vU(10,9,r.resultsScale,0,r.resultsScale.length-1)),ot(10),vt("ngForOf",r.getStakeholders(r.maturityResponse)))},dependencies:[ys,ls,qz,nG,iG,pR,tG],styles:[".bordered-table[_ngcontent-%COMP%]{border:1px solid #000;border-collapse:collapse;width:100%}.bordered-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .bordered-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #000;padding:4px}.chart-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.centered-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:2px solid #000;padding:10px;margin:20px auto;width:fit-content;box-shadow:0 0 10px #0000001a}.score-scale-container[_ngcontent-%COMP%]{position:relative;width:100%;margin:1rem 0}.score-scale[_ngcontent-%COMP%]{position:relative;height:20px;width:100%;border-radius:4px;background:linear-gradient(to right,#c03700,#d47f00,#dfc500 66%,#417505)}.score-marker[_ngcontent-%COMP%]{position:absolute;top:-5px;width:6px;height:30px;background-color:#2821eb;transition:left .3s ease;border-radius:2px}.score-tick[_ngcontent-%COMP%]{position:absolute;top:0;width:1px;height:8px;background-color:#000;transform:translateY(-8px)}.score-tick-label[_ngcontent-%COMP%]{position:absolute;top:-20px;left:-4px;font-weight:700;font-size:small}.score-scale-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem;width:100%}.level-label[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:small;flex:1}"]})}}return e})();function L6t(e,i){if(1&e&&(J(0,"mat-radio-button",17),ut(1),J(2,"p",18),ut(3),et()()),2&e){const t=i.$implicit;vt("value",t.id),ot(),Je(" ",t.name," "),ot(2),Je(" ",t.description,"")}}function N6t(e,i){1&e&&(J(0,"div",19),ut(1," Please select a stakeholder. "),et())}function B6t(e,i){if(1&e&&(J(0,"div")(1,"h2"),ut(2,"Stakeholder Description"),et(),J(3,"mat-form-field",20)(4,"mat-label"),ut(5),vs(6,"titlecase"),et(),ye(7,"input",21),J(8,"mat-hint"),ut(9,"Stakeholder name to be included in the final assessment report. This information is not stored."),et()(),J(10,"mat-form-field",22)(11,"mat-label"),ut(12,"User name "),et(),ye(13,"input",23),J(14,"mat-hint"),ut(15,"User name to be included in the final assessment report. This information is not stored."),et()()()),2&e){let t;const n=St(2);ot(5),Je("",Jl(6,3,null==(t=n.getStakeHolder(n.responseForm.controls.selectedStakeholder.value))?null:t.name)," name "),ot(2),vt("formControl",n.nameControl),ot(6),vt("formControl",n.authorControl)}}function V6t(e,i){if(1&e){const t=xe();J(0,"div",6)(1,"div",7)(2,"h2"),ut(3,"Select Stakeholder"),et(),J(4,"div",2)(5,"div",8)(6,"mat-radio-group",9),Ht(7,L6t,4,3,"mat-radio-button",10),et(),Ht(8,N6t,2,0,"div",11),et(),J(9,"div",12),Ht(10,B6t,16,5,"div",13),et()(),J(11,"div",14)(12,"button",15),Ut("click",function(){return zt(t),Gt(St().onStakeholderSelected())}),ut(13," Start "),et(),J(14,"input",16,1),Ut("change",function(r){return zt(t),Gt(St().loadState(r))}),et(),J(16,"button",3),Ut("click",function(){return zt(t),Gt(Zi(15).click())}),ut(17,"Upload assessment"),et()()()()}if(2&e){const t=St();ot(),vt("formGroup",t.responseForm),ot(5),vt("formControl",t.currentControl)("@questionAnimation",t.animationState),ot(),vt("ngForOf",t.maturityQuestions.stakeHolders),ot(),vt("ngIf",(null==t.responseForm.controls.selectedStakeholder?null:t.responseForm.controls.selectedStakeholder.invalid)&&(null==t.responseForm.controls.selectedStakeholder?null:t.responseForm.controls.selectedStakeholder.touched)),ot(2),vt("ngIf",!t.responseForm.controls.selectedStakeholder.invalid),ot(2),vt("disabled",t.responseForm.controls.selectedStakeholder.invalid)}}function U6t(e,i){if(1&e&&(J(0,"mat-checkbox",30),ut(1),ye(2,"br"),J(3,"span",31),ut(4),et()()),2&e){const t=St().$implicit;vt("formControl",St(3).getKpaControl(t.id)),ot(),Je(" ",t.name,""),ot(3),Ke(t.description)}}function z6t(e,i){if(1&e&&(J(0,"div",28),Ht(1,U6t,5,3,"mat-checkbox",29),et()),2&e){const t=i.$implicit,n=St(3);ot(),vt("ngIf",n.getKpaControl(t.id))}}function G6t(e,i){if(1&e){const t=xe();J(0,"button",15),Ut("click",function(){return zt(t),Gt(St(3).filterKpasAndGoNext())}),ut(1," Next "),et()}2&e&&vt("disabled",St(3).currentControl.invalid)}function H6t(e,i){if(1&e){const t=xe();J(0,"div",7)(1,"h2"),ut(2),et(),J(3,"section",25)(4,"h4"),ut(5,"Select Relevant Key Process Areas:"),et(),Ht(6,z6t,2,1,"div",26),et(),J(7,"div",14),Ht(8,G6t,2,1,"button",27),et(),J(9,"div",14)(10,"button",3),Ut("click",function(){return zt(t),Gt(St(2).startOver())}),ut(11," Restart assessment "),et()()()}if(2&e){const t=St(2);vt("formGroup",t.responseForm),ot(2),sl("Stakeholder: ",t.nameControl.value," (",t.allQuestions[t.currentQuestionIndex+1].stakeholderName,")"),ot(4),vt("ngForOf",t.currentKpas),ot(2),vt("ngIf",t.currentQuestionIndex<t.allQuestions.length-1)}}function W6t(e,i){if(1&e&&(J(0,"div",6),Ht(1,H6t,12,5,"div",24),et()),2&e){const t=St();ot(),vt("ngIf",t.currentQuestionIndex<t.allQuestions.length)}}function j6t(e,i){1&e&&(J(0,"mat-icon",40),ut(1," help_outline "),et()),2&e&&vt("matTooltip",St().$implicit.example)}function X6t(e,i){if(1&e&&(J(0,"mat-radio-button",37)(1,"div",38),ut(2),Ht(3,j6t,2,1,"mat-icon",39),et()()),2&e){const t=i.$implicit;vt("value",t.score),ot(2),Je(" ",t.text," "),ot(),vt("ngIf",t.example)}}function Y6t(e,i){1&e&&(J(0,"div",19),ut(1," Please select an option for this question. "),et())}function $6t(e,i){if(1&e){const t=xe();J(0,"button",15),Ut("click",function(){return zt(t),Gt(St(3).goToPreviousQuestion())}),ut(1," Back "),et()}2&e&&vt("disabled",St(3).currentQuestionIndex<1)}function Q6t(e,i){if(1&e){const t=xe();J(0,"button",15),Ut("click",function(){return zt(t),Gt(St(3).goToNextQuestion())}),ut(1," Next "),et()}2&e&&vt("disabled",St(3).currentControl.invalid)}function K6t(e,i){if(1&e){const t=xe();J(0,"button",41),Ut("click",function(){return zt(t),Gt(St(3).submitStakeholderResponses())}),ut(1," Submit "),et()}2&e&&vt("disabled",St(3).currentControl.invalid)}function Z6t(e,i){if(1&e){const t=xe();J(0,"div",7)(1,"h2"),ut(2),et(),ye(3,"mat-progress-bar",32),J(4,"div",33),ut(5),et(),J(6,"h3"),ut(7),et(),J(8,"p",34),ut(9),et(),J(10,"mat-radio-group",9),Ht(11,X6t,4,3,"mat-radio-button",35),et(),Ht(12,Y6t,2,0,"div",11),J(13,"div",14),Ht(14,$6t,2,1,"button",27)(15,Q6t,2,1,"button",27)(16,K6t,2,1,"button",36),et(),J(17,"div",14)(18,"button",3),Ut("click",function(){return zt(t),Gt(St(2).startOver())}),ut(19," Restart assessment "),et()()()}if(2&e){const t=St(2);vt("formGroup",t.responseForm),ot(2),sl("Stakeholder: ",t.nameControl.value," (",t.allQuestions[t.currentQuestionIndex].stakeholderName,")"),ot(),vt("value",(t.currentQuestionIndex+1)/(t.allQuestions.length+1)*100),ot(2),sl("Question ",t.currentQuestionIndex+1," of ",t.allQuestions.length,""),ot(2),Je("Key Process Area: ",t.allQuestions[t.currentQuestionIndex].kpaName,""),ot(),vt("@questionAnimation",t.animationState),ot(),Ke(t.allQuestions[t.currentQuestionIndex].question.question),ot(),vt("formControl",t.currentControl)("@questionAnimation",t.animationState),ot(),vt("ngForOf",t.allQuestions[t.currentQuestionIndex].question.options),ot(),vt("ngIf",(null==t.currentControl?null:t.currentControl.invalid)&&(null==t.currentControl?null:t.currentControl.touched)),ot(2),vt("ngIf",t.currentQuestionIndex>0),ot(),vt("ngIf",t.currentQuestionIndex<t.allQuestions.length-1),ot(),vt("ngIf",t.currentQuestionIndex===t.allQuestions.length-1)}}function J6t(e,i){if(1&e&&(J(0,"div",6),Ht(1,Z6t,20,16,"div",24),et()),2&e){const t=St();ot(),vt("ngIf",t.currentQuestionIndex<t.allQuestions.length)}}function q6t(e,i){if(1&e&&(J(0,"span"),ut(1),et()),2&e){const t=St(2);ot(),Je("by ",t.authorControl.value,", ")}}function tUt(e,i){if(1&e){const t=xe();J(0,"div",6)(1,"div",42)(2,"h2"),ut(3),et(),J(4,"h3"),ut(5,"Maturity assessment results"),et(),J(6,"p",43),ut(7,"Assessment conducted "),Ht(8,q6t,2,1,"span",13),ut(9),vs(10,"date"),et(),J(11,"p",44),ut(12,"Based on your responses, the maturity level of the stakeholder is:"),et(),ye(13,"app-maturity-results",45),J(14,"div",14)(15,"button",15),Ut("click",function(){return zt(t),Gt(St().goToPreviousQuestion())}),ut(16," Back "),et(),J(17,"button",3),Ut("click",function(){return zt(t),Gt(St().startOver())}),ut(18," Start over "),et()(),J(19,"div",14)(20,"button",3),Ut("click",function(){return zt(t),Gt(St().saveState())}),ut(21,"Save results"),et()()()()}if(2&e){const t=St();ot(),vt("@questionAnimation",t.animationState),ot(2),sl("Stakeholder: ",t.nameControl.value," (",t.allQuestions[t.currentQuestionIndex-1].stakeholderName,")"),ot(5),vt("ngIf",t.authorControl.value),ot(),Je(" on ",Pc(10,8,t.timestampControl.value,"medium")," "),ot(4),vt("maturityResponse",t.responseForm.value)("allQuestions",t.allQuestions),ot(2),vt("disabled",t.currentQuestionIndex<1)}}let eUt=(()=>{class e{constructor(t,n,r){this.http=t,this.fb=n,this.dialog=r,this.baseMaturityQuestions={},this.maturityQuestions={},this.allQuestions=[],this.currentQuestionIndex=-2,this.selectedStakeholder=null,this.animationState="enter",this.currentKpas=[],this.responseForm=this.fb.group({selectedStakeholder:new Fs(null,xu.required)}),this.currentControl=this.responseForm.controls.selectedStakeholder}ngOnInit(){var t=this;return we(function*(){t.baseMaturityQuestions=yield Ia(t.http.get("assets/maturity/maturityLevels.json")),t.initializeForm()})()}initializeForm(){var t=this;return we(function*(){t.maturityQuestions=lBt()(t.baseMaturityQuestions),t.nameControl=new Fs(null),t.authorControl=new Fs(null),t.timestampControl=new Fs((new Date).toISOString()),t.responseForm=t.fb.group({selectedStakeholder:new Fs(null,xu.required),name:t.nameControl,author:t.authorControl,timestamp:t.timestampControl}),t.currentControl=t.responseForm.controls.selectedStakeholder,t.maturityQuestions.stakeHolders.forEach(n=>{n.kpas.forEach(r=>{r.questions.forEach(s=>{const o=[n.id,r.id,s.id].join(".");t.responseForm.addControl(o,new Fs(null,xu.required))})})})})()}onStakeholderSelected(){this.animationState="leave",setTimeout(()=>{const t=this.responseForm.get("selectedStakeholder")?.value;this.selectedStakeholder=this.getStakeHolder(t);const n=this.fb.group({});this.selectedStakeholder.kpas.forEach(r=>{n.addControl(r.id,this.fb.control(!0))}),this.responseForm.addControl("selectedKpas",n),this.currentKpas=this.selectedStakeholder.kpas,this.flattenQuestions(),this.currentQuestionIndex++,this.animationState="enter"},200)}getKpaControl(t){return this.responseForm.get("selectedKpas")?.get(t)}getStakeHolder(t){return this.maturityQuestions.stakeHolders.find(r=>r.id===t)}flattenQuestions(){this.allQuestions=[],this.selectedStakeholder&&this.selectedStakeholder.kpas.forEach(t=>{t.questions.forEach(n=>{const r=[this.selectedStakeholder.id,t.id,n.id].join(".");this.allQuestions.push({stakeholderName:this.selectedStakeholder.name,kpaName:t.name,kpaId:t.id,question:n,questionFullPath:r})})})}filterKpasAndGoNext(){this.animationState="leave";const t=this.responseForm.get("selectedKpas"),n=Object.keys(t.controls).filter(r=>t.get(r)?.value);this.selectedStakeholder.kpas.forEach(r=>{n.includes(r.id)||r.questions.forEach(s=>{const o=[this.selectedStakeholder.id,r.id,s.id].join(".");this.responseForm.contains(o)&&this.responseForm.removeControl(o)})}),this.allQuestions=this.allQuestions.filter(r=>n.includes(r.kpaId)),setTimeout(()=>{this.currentQuestionIndex++,this.allQuestions.length>0&&(this.currentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath]),this.animationState="enter"},200)}goToNextQuestion(){this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex++,this.currentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath],this.animationState="enter"},200)}goToPreviousQuestion(){this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex--,this.currentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath],this.animationState="enter"},200)}startOver(){this.currentQuestionIndex=-2,this.responseForm.reset(),this.currentKpas=[],this.selectedStakeholder=null,this.allQuestions=[],this.initializeForm()}uploadSpecification(t){if(1!==t.target.files.length)console.error("No file selected");else{const n=new FileReader;n.onloadend=r=>{if(n.result){const s=JSON.parse(n.result?.toString());this.maturityQuestions=s}},n.readAsText(t.target.files[0])}}downloadSpecification(){const t=JSON.stringify(this.maturityQuestions,null,2),n="data:application/json;charset=utf-8,"+encodeURIComponent(t),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download","maturity_specification.json"),s.click()}submitStakeholderResponses(){this.timestampControl.setValue((new Date).toISOString()),this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex++,this.animationState="enter"},200)}getStakeholderFormGroup(t){return this.responseForm.get(t)}getKpas(t){return this.getStakeHolder(t).kpas}getUnansweredCount(t){let n=0;const r=this.responseForm.get(t);return r&&Object.keys(r.controls).forEach(s=>{const o=r.get(s);o&&Object.keys(o.controls).forEach(l=>{const w=o.get(l);w&&w.invalid&&n++})}),n}saveState(){const t={selectedStakeholder:this.responseForm.get("selectedStakeholder")?.value,selectedKpas:this.responseForm.get("selectedKpas")?.value,responses:this.responseForm.value,currentQuestionIndex:this.currentQuestionIndex,currentControl:this.currentControl?.value,animationState:this.animationState,name:this.nameControl.value,author:this.authorControl.value,timestamp:this.timestampControl.value,allQuestions:this.allQuestions},n=new Blob([JSON.stringify(t)],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download="maturity-assessment-results.json",r.click()}loadState(t){if(1!==t.target.files.length)return void console.error("No file selected");const n=new FileReader;n.onloadend=()=>{if(!n.result)return void console.error("FileReader result is empty");const r=JSON.parse(n.result.toString());this.responseForm.reset(),this.currentQuestionIndex=-2,this.allQuestions=[],this.selectedStakeholder=null,this.currentKpas=[],this.initializeForm().then(()=>{this.nameControl.setValue(r.name),this.authorControl.setValue(r.author),this.timestampControl.setValue(r.timestamp);const s=r.selectedStakeholder,o=r.selectedKpas||{};this.responseForm.get("selectedStakeholder")?.setValue(s);const l=this.fb.group({}),w=this.getStakeHolder(s);this.selectedStakeholder=w,w?.kpas&&w.kpas.forEach(k=>{l.addControl(k.id,this.fb.control(!!o[k.id]))}),this.responseForm.setControl("selectedKpas",l),this.selectedStakeholder?.kpas&&this.selectedStakeholder.kpas.forEach(k=>{k.questions.forEach(O=>{const L=[this.selectedStakeholder.id,k.id,O.id].join(".");this.responseForm.contains(L)||this.responseForm.addControl(L,new Fs(null,xu.required))})});const E=Object.keys(o).filter(k=>o[k]);this.selectedStakeholder?.kpas&&this.selectedStakeholder.kpas.forEach(k=>{E.includes(k.id)||k.questions.forEach(O=>{const L=[this.selectedStakeholder.id,k.id,O.id].join(".");this.responseForm.contains(L)&&this.responseForm.removeControl(L)})}),this.flattenQuestions(),this.allQuestions=this.allQuestions.filter(k=>E.includes(k.kpaId));const D=r.responses||{};Object.keys(D).forEach(k=>{this.responseForm.contains(k)&&this.responseForm.controls[k].setValue(D[k])}),this.currentQuestionIndex=r.currentQuestionIndex||-2,this.animationState=r.animationState||"enter"})},n.readAsText(t.target.files[0])}static{this.\u0275fac=function(n){return new(n||e)(pt(Il),pt(bE),pt(Dp))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-maturity-main"]],decls:11,vars:4,consts:[["fileInput",""],["fileInputState",""],[1,"flex","flex-row","gap-4","justify-end","flex-wrap","p-2"],["mat-flat-button","","color","primary",3,"click"],["hidden","","type","file","id","file",3,"change"],["class","question-flow-container",4,"ngIf"],[1,"question-flow-container"],[1,"question-container",3,"formGroup"],[1,"flex-1"],[1,"options-container",3,"formControl"],["class","mb-5",3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"flex-1","mb-10"],[4,"ngIf"],[1,"button-container"],["mat-flat-button","","color","primary",3,"click","disabled"],["hidden","","type","file","id","fileState",3,"change"],[1,"mb-5",3,"value"],[1,"stakeholder-description"],[1,"error-message"],[1,"w-full"],["matInput","","placeholder","Enter stakeholder name...",3,"formControl"],[1,"w-full","mt-10"],["matInput","","placeholder","Enter the name of the user conducting the assessment...",3,"formControl"],["class","question-container",3,"formGroup",4,"ngIf"],[1,"example-section","mt-10"],["class","kpa-checkbox",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"kpa-checkbox"],[3,"formControl",4,"ngIf"],[3,"formControl"],[1,"kpa-description"],["mode","determinate",1,"progress-bar",3,"value"],[1,"progress-message"],[1,"question-text"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],[3,"value"],[1,"mat-radio-label-content"],["matTooltipPosition","right",3,"matTooltip",4,"ngIf"],["matTooltipPosition","right",3,"matTooltip"],["mat-flat-button","","color","accent",3,"click","disabled"],[1,"question-container"],[1,"text-center"],[1,"text-center","mt-10","text-lg"],[3,"maturityResponse","allQuestions"]],template:function(n,r){if(1&n){const s=xe();J(0,"div",2)(1,"button",3),Ut("click",function(){return zt(s),Gt(r.downloadSpecification())}),ut(2,"Download Maturiry Spec"),et(),J(3,"input",4,0),Ut("change",function(l){return zt(s),Gt(r.uploadSpecification(l))}),et(),J(5,"button",3),Ut("click",function(){return zt(s),Gt(Zi(4).click())}),ut(6,"Upload Maturity Spec"),et()(),Ht(7,V6t,18,7,"div",5)(8,W6t,2,1,"div",5)(9,J6t,2,1,"div",5)(10,tUt,22,11,"div",5)}2&n&&(ot(7),vt("ngIf",-2===r.currentQuestionIndex),ot(),vt("ngIf",-1===r.currentQuestionIndex),ot(),vt("ngIf",r.currentQuestionIndex>=0&&r.currentQuestionIndex<r.allQuestions.length),ot(),vt("ngIf",r.currentQuestionIndex==r.allQuestions.length))},dependencies:[ys,ls,Cs,ga,rF,kl,ll,Ud,Eh,Pl,Yo,Cp,lb,wu,_h,Jk,OE,mb,O6t,pR,sh],styles:[".question-flow-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;margin:16px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 4px #0000001a}.question-container[_ngcontent-%COMP%]{width:100%;max-width:75%;padding:24px;background-color:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 6px #0000001a;margin-bottom:16px}.question-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.5rem;color:#333;text-align:center}.question-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.2rem;color:#555;text-align:center}.question-text[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:16px;color:#333;text-align:justify}.kpa-description[_ngcontent-%COMP%]{font-size:.9rem;color:#757272}.kpa-checkbox[_ngcontent-%COMP%]{margin-bottom:10px}.options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.mat-radio-button[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.error-message[_ngcontent-%COMP%]{margin-top:8px;font-size:.85rem;color:#d32f2f;text-align:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-bottom:16px}.progress-bar[_ngcontent-%COMP%]{margin-top:20px;height:8px}.progress-message[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:.9rem;font-style:italic;margin-bottom:20px}.mat-radio-button[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.mat-radio-label-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:8px}.example-text[_ngcontent-%COMP%]{font-size:.9rem;color:gray}.mat-icon[_ngcontent-%COMP%]{font-size:16px;margin-left:10px}.stakeholder-description[_ngcontent-%COMP%]{font-size:.9rem;color:#757272}button[mat-raised-button][_ngcontent-%COMP%]{margin-top:16px;font-size:.9rem;text-transform:uppercase}button[mat-raised-button][color=primary][_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}button[mat-raised-button][color=primary][_ngcontent-%COMP%]:disabled{background-color:#9e9e9e;color:#fff;cursor:not-allowed}button[mat-raised-button][color=accent][_ngcontent-%COMP%]{background-color:#ff4081;color:#fff}button[mat-raised-button][color=accent][_ngcontent-%COMP%]:hover{background-color:#f50057}@media (max-width: 768px){.question-container[_ngcontent-%COMP%]{padding:16px}.question-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.question-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.question-text[_ngcontent-%COMP%]{font-size:.9rem}}"],data:{animation:[xr("questionAnimation",[Bn("enter",oi({opacity:1})),Bn("leave",oi({opacity:0})),gn("enter => leave",[mn("200ms ease-in-out",oi({opacity:0}))]),gn("leave => enter",[oi({opacity:0}),mn("200ms ease-in-out",oi({opacity:1}))])])]}})}}return e})(),Dtt=(()=>{class e{constructor(){this.demos=[{name:"Clinical User Interface Demo",subtitle:"Clinical demo",type:"external",url:"http://snomed.org/ui",description:"A simulation of clinical data entry on an EHR using SNOMED FHIR Terminology services"},{name:"Allergies",subtitle:"Clinical demo",type:"internal",url:"/allergies",description:"A SNOMED / FHIR implementation demo of recording Allergy / Intollerance details, from Allergies Clinical Reference Group"},{name:"Terminology Bindings Sandbox",subtitle:"Learning demo",type:"internal",url:"/sandbox",description:"A sandbox for learning and testing terminology bindings"},{name:"SNOMED Maps Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-icd-maps",description:"A SNOMED / ICD-10 maps demonstration, including complex map rules execution"},{name:"Post-coordination Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-postcoordination",description:"A SNOMED post-coordination demonstration, with new prototype Postcoordination Terminology server SNOWSTORM X"},{name:"IPS Terminology Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-ips/",description:"A demonstration of the International Patient Summary (IPS) terminology, including the IPS SNOMED CT refset"},{name:"SNOMED & FHIR Questionnaires Manager Application",subtitle:"Application",type:"internal",url:"/questionnaires",description:"An application to manage a FHIR Questionnaires repository, with SNOMED CT bindings"},{name:"SNOMED & FHIR Questionnaires Utilities",subtitle:"Utilities",type:"internal",url:"/questionnaires",queryParams:{utility:!0},description:"Utilities for working with FHIR Questionnaires, including SNOMED CT bindings"},{name:"Context Representation Transformations",subtitle:"Learning demo",type:"internal",url:"/context",description:"A demonstration of the transformation of context representations from SNOMED to FHIR Resources"},{name:"SNOMED and LLMs (AI Demo)",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/openai-demo/",description:"This demo uses OpenAI ChatGPT API to demonstrate the use of SNOMED CT with Language Model Models (LLMs). A developer key for the OpenAI API is required."},{name:"Snoguess (A SNOMED game)",subtitle:"Game",type:"internal",url:"/snoguess",description:"A SNOMED term guessing game, learn about SNOMED content while having fun and competing to achieve the highest score"},{name:"SNOMED Implementation Roadmap Generator",subtitle:"Tool",type:"external",url:"https://ihtsdo.github.io/roadmap-generator",description:"A tool designed to promote and support the creation of implementation roadmaps for the adoption of SNOMED CT in countries, regions or organizations."}]}getDemos(){return this.demos}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function iUt(e,i){if(1&e){const t=xe();J(0,"div",8)(1,"mat-card",9)(2,"mat-card-header")(3,"mat-card-subtitle"),ut(4),et(),J(5,"mat-card-title"),ut(6),et()(),J(7,"mat-card-content")(8,"p"),ut(9),et()(),J(10,"mat-card-actions")(11,"button",10),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().navigate(r))}),ut(12,"OPEN"),et()()()()}if(2&e){const t=i.$implicit;ot(4),Ke(t.subtitle),ot(2),Ke(t.name),ot(3),Ke(t.description)}}let Mtt=(()=>{class e{constructor(t,n,r){this.router=t,this.route=n,this.menuService=r,this.demos=[]}ngOnInit(){this.demos=this.menuService.getDemos()}navigate(t){if("internal"===t.type){let n=t.queryParams,r=this.route.snapshot.queryParams;n=n?{...r,...n}:r,this.router.navigate([t.url],{queryParams:n})}else this.openInNewTab(t.url)}openInNewTab(t){window.open(t,"_blank")}static{this.\u0275fac=function(n){return new(n||e)(pt(Ho),pt(nc),pt(Dtt))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-home"]],decls:17,vars:1,consts:[[1,"main-panel"],[1,"intro"],["href","https://github.com/IHTSDO/sct-implementation-demonstrator","target","_blank"],["href","https://confluence.ihtsdotools.org/display/CP/Clinical+Engagement","target","_blank"],[1,"demos-panel"],["class","demo-card-wrapper",4,"ngFor","ngForOf"],[1,"center-image"],["src","assets/img/SI_CT_Logo_Delivered_By.png","alt","SNOMED Logo",1,"transparent-image"],[1,"demo-card-wrapper"],[1,"demo-card"],["mat-button","","color","accent",3,"click"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"h1"),ut(2,"SNOMED CT Implementation Demonstrators"),et(),J(3,"p",1),ut(4,"Welcome to our collection of SNOMED CT Implementation Demonstrators! This curated selection of demos showcases the diverse ways SNOMED CT can be implemented across different use cases. Each demonstration is "),J(5,"a",2),ut(6,"open source"),et(),ut(7,", free to explore, and easy to replicate, providing a hands-on learning experience for developers, implementers, and healthcare professionals."),et(),J(8,"p",1),ut(9,"These implementation demos have been created through the collaboration and expertise of the "),J(10,"a",3),ut(11,"global SNOMED CT community of clinical experts"),et(),ut(12,", reflecting best practices and innovative use cases. Whether you\u2019re just getting started with SNOMED CT or looking to deepen your understanding, you\u2019ll find valuable insights here. Explore, learn, and join us in advancing healthcare interoperability."),et(),J(13,"div",4),Ht(14,iUt,13,3,"div",5),et(),J(15,"div",6),ye(16,"img",7),et()()),2&n&&(ot(14),vt("ngForOf",r.demos))},dependencies:[ys,Cs,tb,tk,JP,ek,qP,ZP],styles:[".main-panel[_ngcontent-%COMP%]{padding:2rem;height:calc(100vh - 70px)}.intro[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.demos-panel[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;margin-top:3rem}.demo-card-wrapper[_ngcontent-%COMP%]{width:300px}.demo-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}mat-card-title[_ngcontent-%COMP%]{word-wrap:break-word;font-size:large;font-weight:700}mat-card-content[_ngcontent-%COMP%]{padding:1rem;margin-bottom:2rem}mat-card-actions[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding-top:10px;margin-top:auto}.center-image[_ngcontent-%COMP%]{text-align:center;margin-top:4rem;margin-left:20%;margin-right:20%}.transparent-image[_ngcontent-%COMP%]{opacity:.5}"]})}}return e})();function nUt(e,i){if(1&e){const t=xe();J(0,"app-autocomplete-binding",9),Ut("selectionChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function rUt(e,i){if(1&e){const t=xe();J(0,"app-dropdown-binding",9),Ut("selectionChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function sUt(e,i){if(1&e){const t=xe();J(0,"app-radios-binding",9),Ut("selectionChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function aUt(e,i){if(1&e&&(J(0,"span",10),ut(1),et()),2&e){const t=St().$implicit;ot(),Ke(t.title)}}function oUt(e,i){if(1&e){const t=xe();J(0,"app-textbox-binding",11),Ut("textChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function lUt(e,i){if(1&e){const t=xe();J(0,"app-integer-binding",11),Ut("textChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function cUt(e,i){if(1&e){const t=xe();J(0,"app-decimal-binding",11),Ut("textChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function uUt(e,i){if(1&e){const t=xe();J(0,"app-checkbox-binding",9),Ut("selectionChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function hUt(e,i){if(1&e){const t=xe();J(0,"app-checkbox-multiple-binding",9),Ut("selectionChange",function(r){zt(t);const s=St().$implicit;return Gt(St().optionSelected(s.title,s.code,r))}),et()}2&e&&vt("binding",St().$implicit)}function dUt(e,i){if(1&e&&(J(0,"button",12)(1,"mat-icon"),ut(2,"info"),et()()),2&e){const t=St().$implicit;vt("matMenuTriggerFor",Zi(13))("disabled",!t.code&&!t.ecl)}}function fUt(e,i){if(1&e){const t=xe();J(0,"span",13),Ut("click",function(r){return zt(t),Gt(r.stopPropagation())}),J(1,"h4"),ut(2,"Question terminology binding"),et(),J(3,"pre"),ut(4),et()()}if(2&e){const t=St().$implicit;vt("disableRipple",!0),ot(4),sl("",null==t.code?null:t.code.code," |",null==t.code?null:t.code.display,"|")}}function pUt(e,i){if(1&e){const t=xe();J(0,"span",13),Ut("click",function(r){return zt(t),Gt(r.stopPropagation())}),J(1,"h4"),ut(2,"Answer terminology binding"),et(),J(3,"pre"),ut(4),et()()}if(2&e){const t=St().$implicit;vt("disableRipple",!0),ot(4),Ke(t.ecl)}}function mUt(e,i){if(1&e&&(J(0,"div",2)(1,"div",3),Ht(2,nUt,1,1,"app-autocomplete-binding",4)(3,rUt,1,1,"app-dropdown-binding",4)(4,sUt,1,1,"app-radios-binding",4)(5,aUt,2,1,"span",5)(6,oUt,1,1,"app-textbox-binding",6)(7,lUt,1,1,"app-integer-binding",6)(8,cUt,1,1,"app-decimal-binding",6)(9,uUt,1,1,"app-checkbox-binding",4)(10,hUt,1,1,"app-checkbox-multiple-binding",4)(11,dUt,3,2,"button",7),J(12,"mat-menu",null,0),Ht(14,fUt,5,3,"span",8)(15,pUt,5,2,"span",8),et()()()),2&e){const t=i.$implicit;ot(2),vt("ngIf","Autocomplete"==t.type),ot(),vt("ngIf","Select (Single)"==t.type||"Select (Multiple)"==t.type),ot(),vt("ngIf","Options"==t.type),ot(),vt("ngIf","Section header"==t.type),ot(),vt("ngIf","Text box"==t.type),ot(),vt("ngIf","Integer"==t.type),ot(),vt("ngIf","Decimal"==t.type),ot(),vt("ngIf","Checkbox"==t.type),ot(),vt("ngIf","Checkbox multiple"==t.type),ot(),vt("ngIf","Section header"!=t.type),ot(3),vt("ngIf",t.code),ot(),vt("ngIf",t.ecl)}}let gUt=(()=>{class e{constructor(){this.output={},this.outputStr="{}",this.response={},this.responseStr="{}",this.responseBundle={},this.responseBundleStr="{}"}optionSelected(t,n,r){this.output[t]={code:n,value:r},n||delete this.output[t].code,this.outputStr=JSON.stringify(this.output,null,2),this.refreshResponse()}refreshResponse(){this.response={};for(let t of this.spec.bindings)this.response[t.title]={},t.code&&(this.response[t.title].code=t.code);for(let[t,n]of Object.entries(this.output))this.output[t].code&&(this.response[t].code=this.output[t].code),this.output[t].value&&(this.response[t].value=this.output[t].value);this.responseStr=JSON.stringify(this.response,null,2),this.refreshResponseBundle()}refreshResponseBundle(){this.responseBundle={resourceType:"Bundle",type:"collection",entry:[]};for(let[t,n]of Object.entries(this.response)){let r=n;const s=r.code?{coding:[{system:"http://snomed.info/sct",code:r.code.code,display:r.code.display}]}:void 0,o=r.value?.code?{coding:[{system:"http://snomed.info/sct",code:r.value.code,display:r.value.display}]}:void 0;let l={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],subject:{reference:"Patient/123"}};l.code=s||{coding:[{system:"http://snomed.info/sct",code:"363788007",display:"Clinical history/examination observable (observable entity)"}]},o&&(l.valueCodeableConcept=o),r.value&&"string"==typeof r.value&&(l.valueString=r.value),(l.valueCodeableConcept||l.valueString)&&this.responseBundle.entry.push(l)}this.responseBundleStr=JSON.stringify(this.responseBundle,null,2)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-bindings-viewer"]],inputs:{spec:"spec"},decls:3,vars:2,consts:[["substancePopoverMenu","matMenu"],["class","output-panel",4,"ngFor","ngForOf"],[1,"output-panel"],[1,"row","control"],["class","grow",3,"binding","selectionChange",4,"ngIf"],["class","title grow",4,"ngIf"],["class","grow",3,"binding","textChange",4,"ngIf"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled",4,"ngIf"],["mat-menu-item","",3,"disableRipple","click",4,"ngIf"],[1,"grow",3,"selectionChange","binding"],[1,"title","grow"],[1,"grow",3,"textChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled"],["mat-menu-item","",3,"click","disableRipple"]],template:function(n,r){1&n&&(J(0,"h2"),ut(1),et(),Ht(2,mUt,16,12,"div",1)),2&n&&(ot(),Ke(r.spec.title),ot(),vt("ngForOf",r.spec.bindings))},dependencies:[ys,ls,jo,ga,Rl,oc,vh,Ev,PY,LY,NY,UY,zY,GY,HY],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center;gap:10px}.grow[_ngcontent-%COMP%]{flex-grow:4}mat-hint[_ngcontent-%COMP%], mat-error[_ngcontent-%COMP%]{font-size:12px}.editPanel[_ngcontent-%COMP%]{border:1px solid #cccccc00;border-radius:5px;background-color:#a0c8e5}.control[_ngcontent-%COMP%]{margin-bottom:30px}.output-panel[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s}.row[_ngcontent-%COMP%]:hover   .tool[_ngcontent-%COMP%]{opacity:1}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#616161}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;margin-left:2rem}.action-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.compact-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.row-container-item[_ngcontent-%COMP%]{width:100%;padding:10px}.output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.top-right-link[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;font-size:smaller}.form-title[_ngcontent-%COMP%]{margin-left:1rem}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:0!important}.bottom-right-link[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:0;font-size:smaller}.form-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px;width:100%}.form-column[_ngcontent-%COMP%]{flex:1 1 0px;padding-right:10px;padding-left:10px;display:flex;flex-direction:column;width:100%}.input-field.full-width[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-bottom:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"]})}}return e})();function vUt(e,i){if(1&e&&(J(0,"mat-tab",7)(1,"div",8),ye(2,"app-bindings-viewer",9),et()()),2&e){const t=i.$implicit;yd("label",t.spec.title),ot(2),vt("spec",t.spec)}}let yUt=(()=>{class e{constructor(t){this.http=t,this.emptySpec={},this.specs=[{specFile:"Example-spec.json",spec:this.emptySpec},{specFile:"Example-spec-2.json",spec:this.emptySpec}]}ngOnInit(){var t=this;this.specs.forEach(function(){var n=we(function*(r){const s=yield Ia(t.http.get("assets/specs/ncpt/"+r.specFile));console.log(s),r.spec=s});return function(r){return n.apply(this,arguments)}}())}static{this.\u0275fac=function(n){return new(n||e)(pt(Il))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-ncpt"]],decls:20,vars:3,consts:[["substancePopoverMenu","matMenu"],[1,"outer-container"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/display/WIPnutsig/SNOMED+CT+Implementation+Guide+for+the+Nutrition+Care+Process+Terminology","target","_blank"],["mat-stretch-tabs","false","mat-align-tabs","start"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"container"],[3,"spec"]],template:function(n,r){if(1&n){const s=xe();J(0,"div",1)(1,"h3"),ut(2,"SNOMED CT - NCPT Implementation Demonstrator "),J(3,"button",2)(4,"mat-icon"),ut(5,"info"),et()(),J(6,"mat-menu",null,0)(8,"span",3),Ut("click",function(l){return zt(s),Gt(l.stopPropagation())}),J(9,"h4"),ut(10,"SNOMED CT - NCPT Implementation Demonstrator"),et(),J(11,"p"),ut(12,"This is a demonstration of the use of SNOMED CT for coding clinical information related to the Nutrition Care Process."),et(),J(13,"p"),ut(14,"For more information check the "),J(15,"a",4),ut(16," Implementation Guide"),et(),ut(17,"."),et()()()(),J(18,"mat-tab-group",5),Ht(19,vUt,3,2,"mat-tab",6),et()()}if(2&n){const s=Zi(7);ot(3),vt("matMenuTriggerFor",s),ot(5),vt("disableRipple",!0),ot(11),vt("ngForOf",r.specs)}},dependencies:[ys,jo,ga,Rl,oc,vh,_v,Ap,gUt],styles:[".outer-container[_ngcontent-%COMP%]{margin:1rem;width:calc(100% - 2rem)}.container[_ngcontent-%COMP%]{margin:2rem;width:calc(100% - 4rem)}"]})}}return e})();const xUt=()=>["/reports"];function bUt(e,i){1&e&&(J(0,"div",4),ut(1," Loading...\n"),et())}let Itt=(()=>{class e{constructor(t,n,r){this.http=t,this.renderer=n,this.elementRef=r,this.loading=!0}ngOnInit(){this.http.get("assets/reports/fsn_changes_with_details.html",{responseType:"text"}).subscribe(t=>{this.loading=!1;const n=this.elementRef.nativeElement.querySelector("#chart-container");n.innerHTML=t,n.querySelectorAll("script").forEach(s=>{const o=this.renderer.createElement("script");o.type=s.type||"text/javascript",s.src?o.src=s.src:o.text=s.textContent||"",this.renderer.appendChild(n,o)})})}static{this.\u0275fac=function(n){return new(n||e)(pt(Il),pt(Kl),pt(ai))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-fsn-changes"]],decls:5,vars:3,consts:[[1,"pt-5","pl-10"],["mat-flat-button","","color","primary",3,"routerLink"],["class","mt-20 ml-10",4,"ngIf"],["id","chart-container",1,"mb-20"],[1,"mt-20","ml-10"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"button",1),ut(2,"Back to reports"),et()(),Ht(3,bUt,2,0,"div",2),ye(4,"div",3)),2&n&&(ot(),vt("routerLink",Xa(2,xUt)),ot(2),vt("ngIf",r.loading))},dependencies:[ls,ov,Cs],styles:["#chart-container[_ngcontent-%COMP%]{padding:10px}"]})}}return e})();const wUt=()=>["/reports"];function TUt(e,i){1&e&&(J(0,"div",4),ut(1," Loading...\n"),et())}let CUt=(()=>{class e{constructor(t,n,r){this.http=t,this.renderer=n,this.elementRef=r,this.loading=!0}ngOnInit(){this.http.get("assets/reports/detect_inactivations_by_reason.html",{responseType:"text"}).subscribe(t=>{this.loading=!1;const n=this.elementRef.nativeElement.querySelector("#chart-container");n.innerHTML=t,n.querySelectorAll("script").forEach(s=>{const o=this.renderer.createElement("script");o.type=s.type||"text/javascript",s.src?o.src=s.src:o.text=s.textContent||"",this.renderer.appendChild(n,o)})})}static{this.\u0275fac=function(n){return new(n||e)(pt(Il),pt(Kl),pt(ai))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-inactivations-report"]],decls:5,vars:3,consts:[[1,"pt-5","pl-10"],["mat-flat-button","","color","primary",3,"routerLink"],["class","mt-20 ml-10",4,"ngIf"],["id","chart-container"],[1,"mt-20","ml-10"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"button",1),ut(2,"Back to reports"),et()(),Ht(3,TUt,2,0,"div",2),ye(4,"div",3)),2&n&&(ot(),vt("routerLink",Xa(2,wUt)),ot(2),vt("ngIf",r.loading))},dependencies:[ls,ov,Cs],styles:["#chart-container[_ngcontent-%COMP%]{padding:10px}"]})}}return e})();function SUt(e,i){if(1&e){const t=xe();J(0,"div",12)(1,"mat-card",13)(2,"mat-card-header")(3,"mat-card-subtitle"),ut(4),et(),J(5,"mat-card-title"),ut(6),et()(),J(7,"mat-card-content")(8,"p"),ut(9),et()(),J(10,"mat-card-actions")(11,"button",14),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().navigate(r))}),ut(12,"OPEN"),et()()()()}if(2&e){const t=i.$implicit;ot(4),Ke(t.subtitle),ot(2),Ke(t.name),ot(3),Ke(t.description)}}let EUt=(()=>{class e{constructor(t,n){this.router=t,this.route=n,this.reports=[{type:"external",name:"RF2 History Mechanism",subtitle:"Specification Guide",url:"https://confluence.ihtsdotools.org/display/DOCRELFMT/3.1.5+History+Mechanism",description:"How SNOMED terminology changes are represented in the release files."},{type:"external",name:"Historical Associations Refset",subtitle:"Specification Guide",url:"https://confluence.ihtsdotools.org/display/DOCRELFMT/5.2.5.1+Historical+Association+Reference+Sets",description:"How SNOMED represents historical associations linking active components with inactive ones."},{type:"external",name:"Editorial Conventions for Changes in Components",subtitle:"Editorial Guide",url:"https://confluence.ihtsdotools.org/display/EDUEG/Changes+to+Components",description:"An educational resource outlining policies for managing terminology changes."},{type:"external",name:"Translation Maintenance Advice",subtitle:"Translation Management Guide",url:"https://confluence.ihtsdotools.org/display/DOCMANAGETRANS/5.+Maintenance+of+a+Translation",description:"Recommendations for managing translations, adapting to changes in international concepts and descriptions."},{type:"external",name:"Managing Inactivations in the Authoring Platform",subtitle:"User Guide",url:"https://confluence.ihtsdotools.org/display/SIAPUG/Inactivation+-+Descriptions%2C+Relationships%2C+and+Concepts",description:"Step by step guides on how to perform content inactivations in the Authoring Platform."},{type:"external",name:"Managing Inactivations in the Refset & Translation Tool",subtitle:"User Guide",url:"https://confluence.ihtsdotools.org/display/REFSET/Migration",description:"Features in the Refset & Translation Tool that support content migration between releases and the replacement of inactive content in refsets."},{type:"external",name:"Managing Inactivations in Snap2Snomed",subtitle:"User Guide",url:"https://confluence.ihtsdotools.org/display/S2SUG/Appendix+A+-+FAQs",description:"How inactive content is reported in Snap2Snomed and how the tool supports replacement selection."},{type:"external",name:"History Supplements in ECL",subtitle:"User Guide",url:"https://confluence.ihtsdotools.org/display/DOCECL/6.11+History+Supplements",description:"How history supplements can be applied to an expression constraint to include relevant inactive concepts in the results."},{type:"external",name:"Release Management Home",subtitle:"Release Notes",url:"https://confluence.ihtsdotools.org/display/RMT/SNOMED+International+Release+Management+Home",description:"Information on past and upcoming SNOMED Releases and access to Releases Notes describing content changes."},{type:"external",name:"Last International Release Statistics",subtitle:"Changes Report",url:"https://browser.ihtsdotools.org/qa/#/SNOMEDCT",description:"Descriptive statistics from the latest release of the International Edition of SNOMED CT."},{type:"internal",name:"FSN Changes",subtitle:"Changes Report",url:"reports/fsn",description:"This report displays changes to the FSN of concepts over time."},{type:"internal",name:"Inactivations",subtitle:"Changes Report",url:"reports/inactivations",description:"This report displays concept inactivations over time."},{type:"internal",name:"New Concepts",subtitle:"Changes Report",url:"reports/new-concepts",description:"This report displays newly added concepts over time."}]}navigate(t){if("internal"===t.type){let n=t.queryParams,r=this.route.snapshot.queryParams;n=n?{...r,...n}:r,this.router.navigate([t.url],{queryParams:n})}else this.openInNewTab(t.url)}openInNewTab(t){window.open(t,"_blank")}static{this.\u0275fac=function(n){return new(n||e)(pt(Ho),pt(nc))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-reports-main"]],decls:23,vars:1,consts:[[1,"main-panel"],[1,"draft-banner"],[1,"mb-1"],[1,"text-gray-500"],[1,"text-container"],[1,"intro"],[1,"text-sm"],["href","https://pmc.ncbi.nlm.nih.gov/articles/PMC3415631/","target","_blank"],[1,"demos-panel"],["class","demo-card-wrapper",4,"ngFor","ngForOf"],[1,"center-image"],["src","assets/img/SI_CT_Logo_Delivered_By.png","alt","SNOMED Logo",1,"transparent-image"],[1,"demo-card-wrapper"],[1,"demo-card"],["mat-button","","color","accent",3,"click"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"div",1)(2,"strong"),ut(3,"Draft Version:"),et(),ut(4," This page is a work in progress and for internal review only. "),et(),J(5,"h1",2),ut(6,"SNOMED CT as an evolving terminology"),et(),J(7,"h4",3),ut(8,"Supporting the management of terminology changes in clinical implementations"),et(),J(9,"div",4)(10,"p",5),ut(11,"Maintaining the integrity and usefulness of a clinical terminology like SNOMED CT requires continuous updates, including concept modifications and inactivations. These updates ensure that the terminology remains aligned with clinical practice and evolving medical knowledge while supporting interoperability across health systems. This page provides detailed information about SNOMED CT content changes, offering transparency for implementers, terminology managers, and system developers who depend on up-to-date SNOMED CT content for clinical decision support, coding, and analytics."),et(),J(12,"p",5),ut(13,"This aligns with the principle of graceful evolution, which emphasizes that terminologies should change in a way that minimizes disruption to users. SNOMED CT follows this principle by ensuring that inactivated concepts have clear historical relationships to their replacements, FSN changes history is fully tracked, and new concepts integrate seamlessly into existing hierarchies. "),J(14,"span",6)(15,"a",7),ut(16," Cimino J. J. (1998). Desiderata for controlled medical vocabularies in the twenty-first century. Methods of information in medicine, 37(4-5), 394\u2013403. "),et()()(),J(17,"p",5),ut(18,"While this information exists in the RF2 release files, it is spread across multiple tables and requires complex queries to interpret. These guides, tools, and reports are key in the maintenance of SNOMED extensions, helping implementers identify the volume of changes over time and track updates efficiently, and update extension content to ensure that SNOMED CT remains a reliable and evolving global standard while minimizing the impact of inevitable terminology changes. "),et()(),J(19,"div",8),Ht(20,SUt,13,3,"div",9),et(),J(21,"div",10),ye(22,"img",11),et()()),2&n&&(ot(20),vt("ngForOf",r.reports))},dependencies:[ys,Cs,tb,tk,JP,ek,qP,ZP],styles:[".main-panel[_ngcontent-%COMP%]{padding:2rem;height:calc(100vh - 70px)}.intro[_ngcontent-%COMP%]{font-size:1.1rem;text-align:justify;margin-bottom:10px;line-height:1.2}.demos-panel[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;margin-top:3rem}.demo-card-wrapper[_ngcontent-%COMP%]{width:300px}.demo-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}mat-card-title[_ngcontent-%COMP%]{word-wrap:break-word;font-size:large;font-weight:700}mat-card-content[_ngcontent-%COMP%]{padding:1rem;margin-bottom:2rem}mat-card-actions[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding-top:10px;margin-top:auto}.center-image[_ngcontent-%COMP%]{text-align:center;margin-top:4rem;margin-left:20%;margin-right:20%}.transparent-image[_ngcontent-%COMP%]{opacity:.5}.text-container[_ngcontent-%COMP%]{text-align:justify;padding:1rem 2rem;background-color:#fff;border:1px solid #e0e0e0}.draft-banner[_ngcontent-%COMP%]{background-color:#fc0;color:#333;text-align:center;font-weight:700;padding:10px;font-size:1rem;border-bottom:2px solid #e6b800;position:relative;margin-bottom:1rem}"]})}}return e})();const _Ut=()=>["/reports"];function AUt(e,i){1&e&&(J(0,"div",4),ut(1," Loading...\n"),et())}let DUt=(()=>{class e{constructor(t,n,r){this.http=t,this.renderer=n,this.elementRef=r,this.loading=!0}ngOnInit(){this.http.get("assets/reports/new_concepts_by_semantic_tag.html",{responseType:"text"}).subscribe(t=>{this.loading=!1;const n=this.elementRef.nativeElement.querySelector("#chart-container");n.innerHTML=t,n.querySelectorAll("script").forEach(s=>{const o=this.renderer.createElement("script");o.type=s.type||"text/javascript",s.src?o.src=s.src:o.text=s.textContent||"",this.renderer.appendChild(n,o)})})}static{this.\u0275fac=function(n){return new(n||e)(pt(Il),pt(Kl),pt(ai))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-inactivations-report"]],decls:5,vars:3,consts:[[1,"pt-5","pl-10"],["mat-flat-button","","color","primary",3,"routerLink"],["class","mt-20 ml-10",4,"ngIf"],["id","chart-container"],[1,"mt-20","ml-10"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"button",1),ut(2,"Back to reports"),et()(),Ht(3,AUt,2,0,"div",2),ye(4,"div",3)),2&n&&(ot(),vt("routerLink",Xa(2,_Ut)),ot(2),vt("ngIf",r.loading))},dependencies:[ls,ov,Cs],styles:["#chart-container[_ngcontent-%COMP%]{padding:10px}"]})}}return e})();var Rtt=Mt(3945),yA=Mt.n(Rtt);class DN extends yA().GameObjects.Rectangle{constructor(i,t,n,r=1,s=65280){super(i,t,n,40,40,s),this.inQueue=!1,this.queuePosition=0,this.queueStartTime=0,this.hitPoints=5,this.previousX=0,this.info={},this.speed=1,this.sceneRef=i,i.add.existing(this),i.physics.add.existing(this),this.body.setCollideWorldBounds(!0),this.body.setImmovable(!1),this.spriteType=r}walkTo(i,t){if(0===i.length)return void t();const n=r=>{if(r>=i.length)return void t();const s=i[r];this.sceneRef.tweens.add({targets:this,x:s.x,y:s.y,duration:s.duration/this.speed,ease:"Linear",onUpdate:()=>{},onComplete:()=>{n(r+1)}}),this.sceneRef.tweens.add({targets:this,yoyo:!0,repeat:s.duration/150,duration:150,onComplete:()=>{}})};n(0)}hurt(){this.hitPoints--;const i=this.sceneRef.add.text(this.x,this.y-10,"-1",{fontSize:"20px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5);this.sceneRef.tweens.add({targets:i,y:this.y-100,alpha:0,duration:3500/this.speed,ease:"Power2",onComplete:()=>i.destroy()}),this.hitPoints<=0&&this.destroy()}say(i,t=2e3){this.calloutText&&this.calloutText.destroy(),this.calloutLine&&this.calloutLine.destroy(),this.calloutText=this.sceneRef.add.text(this.x,this.y-50,i,{fontSize:"16px",color:"#ffffff",backgroundColor:"#000000",padding:{x:5,y:2},align:"center"}).setOrigin(.5).setDepth(10),this.calloutLine=this.sceneRef.add.line(this.x+5,this.y+10,0,0,10,-35,16777215).setLineWidth(1.5).setDepth(9),this.sceneRef.tweens.add({targets:[this.calloutText,this.calloutLine],alpha:0,duration:500/this.speed,delay:t,onComplete:()=>{this.calloutText?.destroy(),this.calloutText=void 0,this.calloutLine?.destroy()}})}}class MUt extends DN{constructor(i,t,n,r=1,s=[]){if(super(i,t,n,r,16711680),this.clinicalData={},this.dxOptions=[],this.setScale(.5),this.dxOptions=i.cache.json.get("diagnosisData"),this.clinicalData.age=Phaser.Math.Between(18,100),this.clinicalData.diagnosis=[],s&&s.length>0)this.clinicalData.diagnosis=s;else{const o=Phaser.Math.Between(1,2);for(let l=0;l<o;l++){const w=Phaser.Utils.Array.GetRandom(this.dxOptions);w.status="none",this.clinicalData.diagnosis.includes(w)||this.clinicalData.diagnosis.push(w)}}this.setInteractive({useHandCursor:!0}),this.on("pointerover",()=>this.showDiagnosis()),this.on("pointerout",()=>this.hideDiagnosis())}showDiagnosis(){this.diagnosisText&&this.diagnosisText.destroy();let i=this.clinicalData.diagnosis.map(t=>t.display).join("\n");i||(i="No diagnosis available"),this.diagnosisText=this.sceneRef.add.text(this.x,this.y-50,i,{fontSize:"14px",color:"#ffffff",backgroundColor:"#000000",padding:{x:5,y:2},align:"center"}).setOrigin(.5).setDepth(10)}hideDiagnosis(){this.diagnosisText?.destroy(),this.diagnosisText=void 0}}class Ptt extends DN{constructor(i,t,n,r,s){super(i,t,n,2,16776960),this.triageRules=[],this.setScale(.5),this.triageRules=r,this.gameService=s,this.setInteractive({useHandCursor:!0})}setTriageRules(i){this.triageRules=i}triagePatient(i,t){return new Promise(n=>{this.gameService.checkPatientDiagnosisVsEcl(i,t).then(r=>{n(r.length>0)})})}}class IUt extends DN{constructor(i,t,n,r,s){super(i,t,n,2,255),this.specialityEcl="",this.title="",this.busy=!1,this.setScale(.5),this.specialityEcl=r,this.gameService=s,this.setInteractive({useHandCursor:!0})}setSpecialityEcl(i){this.specialityEcl=i}setTitle(i){this.title=i}setBusy(i){this.busy=i}isBusy(){return this.busy}attendPatient(i){return new Promise(t=>{this.gameService.checkPatientDiagnosisVsEcl(i,this.specialityEcl).then(n=>{n.length>0?(i.clinicalData.diagnosis.forEach(r=>{n.find(s=>s.code===r.code)&&(r.status="treated")}),t(!0)):t(!1)})})}}class RUt{constructor(i){this.terminologyService=i}checkPatientDiagnosisVsEcl(i,t){return new Promise((n,r)=>{let s=0,o="";i?.clinicalData.diagnosis.forEach((l,w)=>{"treated"!==l.status&&(s++,o+=s>1?` OR ${l.code}`:` ${l.code}`)}),0!==s?this.terminologyService.expandValueSetUsingCache(t=t+" AND ("+o+" )","").subscribe(l=>{n(l.expansion?.total>0?l.expansion.contains:[])},l=>{r(l)}):n([])})}}class PUt extends Phaser.Scene{constructor(i){super({key:"CdstdScene"}),this.terminologyService=i,this.maxPatients=10,this.spawnedPatients=0,this.patientsInQueue=0,this.outsideQueue=[],this.insideQueue=[],this.goodTriage=0,this.badTriage=0,this.diagnosisData=[],this.admitting=!1,this.lastTriageTime=0,this.speedMultiplier=1,this.admissionEcl="( << 386661006 |Fever| OR << 22253000 |Pain (finding)| )",this.internalTriageRules=[{ecl:"<< 386661006",doctorIndex:1},{ecl:"<< 22253000",doctorIndex:0},{ecl:"<< 22253000",doctorIndex:0}],this.attendingDoctors=[{x:130,y:207,title:"Cardiologist",ecl:"(<< 106063007 |Cardiovascular finding (finding)| OR << 29857009 |Chest pain (finding)|)"},{x:130,y:140,title:"Infectologist",ecl:"<< 386661006 |Fever (finding)|"}],this.gameService=new RUt(i),this.terminologyService.setSnowstormFhirBase("https://snowstorm-lite.nw.r.appspot.com/fhir")}setSpeedMultiplier(i){this.speedMultiplier=i}getSelectedSpeed(){return this.speedMultiplier}preload(){this.load.json("diagnosisData","assets/cdstd/Data/dx_1.json")}create(){this.input.keyboard?.on("keydown-ENTER",()=>{this.internalTriage()}),this.input?.keyboard?.on("keydown-A",()=>{this.testNextPatientForAdmission()}),this.diagnosisData=this.cache.json.get("diagnosisData"),this.scoreText=this.add.text(750,10,`Patients: ${this.spawnedPatients}`,{fontSize:"20px",color:"#ffffff",fontStyle:"bold"}).setOrigin(1,0),this.input.enabled=!0,this.outsideQueue=[],this.goodTriage=0,this.spawnedPatients=0,this.patients=this.physics.add.group(),this.addDoctors(),this.gatekeeper=new Ptt(this,315,190,[{ecl:this.admissionEcl,doctorIndex:0}],this.gameService),this.gatekeeper.setInteractive({useHandCursor:!0}),this.gatekeeper.on("pointerdown",()=>{this.openEclEditor(this.gatekeeper)}),this.add.existing(this.gatekeeper),this.wall=this.add.line(0,0,270,480,650,480,16777215).setLineWidth(10).setOrigin(0,0),this.physics.add.existing(this.wall,!0),this.spawnPatient(),this.scheduleRandomPatientSpawn()}update(){this.patients.getChildren().forEach(t=>{if(!t.active)return;t.previousX=t.x}),this.scoreText.setText(`Patients: ${this.spawnedPatients} Effectiveness: ${(this.spawnedPatients-this.badTriage)/this.spawnedPatients*100}%`),this.admitting&&this.testNextPatientForAdmission();const i=Date.now();this.insideQueue.length>0&&this.attendingDoctors.every(t=>!t.character.busy)&&i-this.lastTriageTime>=2e3&&(this.lastTriageTime=Date.now(),this.time.delayedCall(1e3,()=>{}))}openEclEditor(i){this.scene.pause(),this.scene.launch("EclEditorScene",{rules:i.triageRules,callback:t=>{i.setTriageRules(t)}})}scheduleRandomPatientSpawn(){if(this.spawnedPatients<this.maxPatients){const i=Phaser.Math.Between(2,5);this.time.addEvent({delay:i,callback:()=>{this.spawnPatient(),this.scheduleRandomPatientSpawn()},callbackScope:this})}}addDoctors(){this.internalTriageDoctor=new Ptt(this,270,350,this.internalTriageRules,this.gameService),this.internalTriageDoctor.setInteractive({useHandCursor:!0}),this.internalTriageDoctor.on("pointerdown",()=>{this.openEclEditor(this.internalTriageDoctor)}),this.attendingDoctors.forEach(i=>{const t=new IUt(this,i.x,i.y,i.ecl,this.gameService);t.setTitle(i.title),t.setBusy(!1),i.character=t})}spawnPatient(){const i=new MUt(this,80,10,Phaser.Math.Between(1,3));this.outsideQueue.push(i),i.queuePosition=this.outsideQueue.length,i.walkTo([{x:80,y:533,duration:500},{x:330+30*i.queuePosition,y:533,duration:500}],()=>{this.patientsInQueue++,this.time.delayedCall(100,()=>{}),this.patientsInQueue===this.maxPatients&&this.queueComplete()}),i.setActive(!0).setVisible(!0),this.patients.add(i),this.spawnedPatients++,this.physics.add.collider(i,this.wall)}queueComplete(){this.gatekeeper.walkTo([{x:315,y:350,duration:200},{x:240,y:350,duration:200},{x:240,y:533,duration:200},{x:310,y:533,duration:200}],()=>{this.gatekeeper.say("We will start soon",1100)})}testNextPatientForAdmission(){if(0===this.outsideQueue.length)return;const i=this.outsideQueue.shift();i&&(this.admitting=!1,this.gatekeeper.say("How do you feel?",1e3),this.time.delayedCall(1500,()=>{let t="I have been feeling with:\n";t+=i.clinicalData.diagnosis.map(n=>n.display).join("\n"),i.say(t,1800),this.time.delayedCall(2e3,()=>{this.gatekeeper.triagePatient(i,this.gatekeeper.triageRules[0].ecl).then(n=>{n?(this.gatekeeper.say("Go in...",1500),this.time.delayedCall(1500,()=>{this.enterHospital(i),this.advanceQueue(this.outsideQueue),this.time.delayedCall(1e3,()=>{})})):(this.gatekeeper.say("Go home...",1500),this.time.delayedCall(500,()=>{this.walkAway(i),this.advanceQueue(this.outsideQueue),this.time.delayedCall(1e3,()=>{})}))})})}))}walkToInternalTriage(i){i.walkTo([{x:310,y:350,duration:500}],()=>{})}enterHospital(i){this.insideQueue.push(i),i.queuePosition=this.insideQueue.length;let t=Phaser.Math.Between(350,500),n=Phaser.Math.Between(330,380);i.walkTo([{x:240,y:i.y,duration:500},{x:240,y:350,duration:500},{x:t,y:n,duration:500}],()=>{this.time.delayedCall(100,()=>{})})}walkAway(i){let t=[];i.y<500&&(t.push({x:240,y:i.y,duration:500}),t.push({x:240,y:560,duration:500}));let n=Phaser.Math.Between(0,1);t.push({x:800*n,y:560,duration:1e3}),i.walkTo(t,()=>{this.time.delayedCall(100,()=>{i.destroy()})})}advanceQueue(i){if(0===i.length)return;const t=i[0].x-60;i.forEach((n,r)=>{n.queuePosition=r+1,n.walkTo([{x:t+30*n.queuePosition,y:n.y,duration:500}],()=>{})})}internalTriage(){var i=this;return we(function*(){if(0===i.insideQueue.length)return;const t=i.insideQueue.shift();let n=!1;if(t){i.walkToInternalTriage(t);for(let r of i.internalTriageRules){const s=i.attendingDoctors[r.doctorIndex].character;if(s.busy)continue;let o=!1;if(o=yield i.internalTriageDoctor.triagePatient(t,r.ecl),o){n=!0,i.internalTriageDoctor.say(`Go to the ${s?.title}`,1e3),i.time.delayedCall(1e3,()=>{const l=[{x:240,y:t.y,duration:200},{x:240,y:s.y,duration:300},{x:s.x+30,y:s.y,duration:300}];s.busy=!0,t.walkTo(l,()=>{i.attendPatient(t,s)})});break}}n||(i.internalTriageDoctor.say("We can't help you...",1e3),i.time.delayedCall(1e3,()=>{i.walkAway(t)})),t.active||i.addToInsideQueue(t)}})()}addToInsideQueue(i){this.insideQueue.push(i),i.queuePosition=this.insideQueue.length,i.walkTo([{x:280+20*i.queuePosition,y:350,duration:500/this.speedMultiplier}],()=>{}),console.log(`Patient re-added to insideQueue at position ${i.queuePosition}`)}attendPatient(i,t){t.busy=!0,this.time.delayedCall(1e3,()=>{this.checkPatientDiagnosisVsEcl(i,t.specialityEcl).then(n=>{n.length>0?(i.clinicalData.diagnosis.forEach(r=>{n.find(s=>s.code===r.code)&&(r.status="treated")}),i.clinicalData.diagnosis.find(r=>"admitted"===r.status)?(t.say(`${t.title}\nGo to the next doctor`,1e3),this.time.delayedCall(1e3,()=>{this.enterHospital(i),t.busy=!1})):(t.say(`${t.title}\nHave a nice day`,1e3),this.time.delayedCall(1e3,()=>{this.goodTriage++,this.walkAway(i),t.busy=!1}))):i.clinicalData.diagnosis.find(r=>"admitted"===r.status)?(t.say(`${t.title}\nI can't help with this, but go to the next doctor`,1e3),this.time.delayedCall(1e3,()=>{this.enterHospital(i),t.busy=!1})):(t.say(`${t.title}\nI can't help you...`,1e3),this.time.delayedCall(1e3,()=>{this.badTriage++,this.walkAway(i),t.busy=!1}))})})}gameOver(){this.add.text(400,350,"Game Over",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,400,"Press R to Restart",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5),this.physics.pause();const i=this.input?.keyboard?.addKey("R");i?i.once("down",()=>{this.time.removeAllEvents(),this.tweens.killAll(),this.scene.restart()}):console.error("Keyboard input is not available.")}checkPatientDiagnosisVsEcl(i,t){return new Promise((n,r)=>{let s=0,o="";i?.clinicalData.diagnosis.forEach((l,w)=>{"treated"!==l.status&&(s++,o+=s>1?` OR ${l.code}`:` ${l.code}`)}),0!==s?this.terminologyService.expandValueSetUsingCache(t=t+" AND ("+o+" )","").subscribe(l=>{n(l.expansion?.total>0?l.expansion.contains:[])},l=>{r(l)}):n([])})}}class kUt extends yA().Scene{constructor(){super({key:"UIScene",active:!0}),this.gamePaused=!1,this.speedButtons=[],this.speedLevels=[1,2,4,16],this.activeSpeedIndex=0}preload(){this.load.image("pauseButton","assets/cdstd/Objects/Buttons/button_pause.png"),this.load.image("unpauseButton","assets/cdstd/Objects/Buttons/button_unpause.png")}create(){this.pauseButton=this.add.image(75,50,"pauseButton").setInteractive(),this.pauseButton.on("pointerdown",()=>this.togglePause()),this.speedLevels.forEach((i,t)=>{const n=this.add.text(150+60*t,35,`${i}x`,{fontSize:"18px",color:t===this.activeSpeedIndex?"#ff0":"#fff",backgroundColor:"#000",padding:{x:10,y:5}}).setInteractive().on("pointerdown",()=>this.setSpeed(t));this.speedButtons.push(n)})}togglePause(){const i=this.scene.get("CdstdScene");this.gamePaused?(i.scene.resume(),this.gamePaused=!1,this.pauseButton.setTexture("pauseButton")):(i.scene.pause(),this.gamePaused=!0,this.pauseButton.setTexture("unpauseButton"))}setSpeed(i){this.activeSpeedIndex=i,this.speedButtons.forEach((n,r)=>{n.setStyle({color:r===this.activeSpeedIndex?"#ff0":"#fff"})});const t=this.scene.get("CdstdScene");t&&t.setSpeedMultiplier(this.speedLevels[this.activeSpeedIndex])}}class FUt extends Rtt.Scene{constructor(){super({key:"EclEditorScene"}),this.lineHeight=25,this.maxLines=3}init(i){console.log("EclEditorScene init",i),this.rules=i.rules,this.updateCallback=i.callback}create(){const i=this.cameras.main.width/2,t=this.cameras.main.height/2;console.log("EclEditorScene create",this.rules);const n=90*this.rules.length+50;this.overlay=this.add.rectangle(i,t,this.cameras.main.width,this.cameras.main.height,0,.5).setDepth(100),this.inputBox=this.add.rectangle(i,t,700,500,3355443,.9).setOrigin(.5).setDepth(101),this.rules.forEach((r,s)=>{const o=t-n/2+90*s+40;this.add.text(i-320,o,`Doctor ${r.doctorIndex}:`,{fontSize:"16px",color:"#ffcc00"}).setOrigin(0,.5).setDepth(102);let l=this.add.text(i-200,o,r.ecl,{fontSize:"16px",color:"#ffffff",backgroundColor:"#000000",padding:{x:5,y:5},wordWrap:{width:500},fixedWidth:500,fixedHeight:this.lineHeight*this.maxLines}).setOrigin(0,.5).setDepth(102);const w=this.add.rectangle(i+145,o+15,80,30,4474060).setOrigin(.5).setDepth(102).setInteractive({useHandCursor:!0});let E=this.add.text(i+145,o+15,"Copy",{fontSize:"14px",color:"#ffffff"}).setOrigin(.5).setDepth(103);w.on("pointerdown",()=>{navigator.clipboard.writeText(r.ecl).then(()=>{w.setFillStyle(52224),E.setText("Copied!"),this.time.delayedCall(1e3,()=>{w.setFillStyle(4474060),E.setText("Copy")})})});const D=this.add.rectangle(i+245,o+15,80,30,31436).setOrigin(.5).setDepth(102).setInteractive({useHandCursor:!0});this.add.text(i+245,o+15,"Paste",{fontSize:"14px",color:"#ffffff"}).setOrigin(.5).setDepth(103),D.on("pointerdown",()=>{navigator.clipboard.readText().then(k=>{r.ecl=k,l.setText(k)})})}),this.closeButton=this.add.rectangle(735,65,30,30,16711680).setOrigin(.5).setDepth(102).setInteractive({useHandCursor:!0}),this.add.text(735,65,"\u2715",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5).setDepth(103),this.closeButton.on("pointerdown",()=>this.closeEclEditor()),this.confirmButton=this.add.rectangle(i,520,100,30,65280).setOrigin(.5).setDepth(102).setInteractive({useHandCursor:!0}),this.add.text(i,520,"OK",{fontSize:"16px",color:"#000000"}).setOrigin(.5).setDepth(103),this.confirmButton.on("pointerdown",()=>this.confirmEclChange())}confirmEclChange(){this.updateCallback(this.rules),this.closeEclEditor()}closeEclEditor(){this.scene.resume("CdstdScene"),this.scene.stop()}}const OUt=["gameContainer"];let LUt=(()=>{class e{constructor(t){this.terminologyService=t}ngOnInit(){const t=new kUt,n=new FUt,r=new PUt(this.terminologyService),s={type:yA().AUTO,width:800,height:600,parent:this.gameContainer.nativeElement,scene:[r,t,n],physics:{default:"arcade",arcade:{debug:!1}}};this.game=new(yA().Game)(s)}ngOnDestroy(){this.game&&this.game.destroy(!0)}static{this.\u0275fac=function(n){return new(n||e)(pt(ma))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-triage-game"]],viewQuery:function(n,r){if(1&n&&ki(OUt,7),2&n){let s;He(s=We())&&(r.gameContainer=s.first)}},decls:2,vars:0,consts:[["gameContainer",""]],template:function(n,r){1&n&&ye(0,"div",null,0)}})}}return e})(),NUt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-loinc-order"]],decls:2,vars:0,template:function(n,r){1&n&&(J(0,"p"),ut(1,"loinc-order works!"),et())}})}}return e})(),BUt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-loinc-results"]],decls:2,vars:0,template:function(n,r){1&n&&(J(0,"p"),ut(1,"loinc-results works!"),et())}})}}return e})();const VUt=[{path:"",component:Mtt},{path:"home",component:Mtt},{path:"allergies",component:oMt},{path:"sandbox",component:h2t},{path:"prescription",component:d2t},{path:"questionnaires",component:NPt},{path:"implementation-course/subset-validator",component:ckt},{path:"snoguess",component:g3t},{path:"snoguess/scoreboard",component:aBt},{path:"context",component:R3t},{path:"maturity",component:eUt},{path:"ncpt",component:yUt},{path:"triage",component:LUt},{path:"fsn",component:Itt},{path:"reports/fsn",component:Itt},{path:"reports/inactivations",component:CUt},{path:"reports/new-concepts",component:DUt},{path:"reports",component:EUt},{path:"loinc",component:(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-loinc-main"]],decls:8,vars:0,consts:[[1,"container"],[1,"tab-group"],["label","Order"],["label","Results"]],template:function(n,r){1&n&&(J(0,"div",0)(1,"h2"),ut(2,"LOINC Ontology Demonstrator"),et(),J(3,"mat-tab-group",1)(4,"mat-tab",2),ye(5,"app-loinc-order"),et(),J(6,"mat-tab",3),ye(7,"app-loinc-results"),et()()())},dependencies:[_v,Ap,NUt,BUt],styles:[".container[_ngcontent-%COMP%]{padding:1rem;width:100%;min-width:100%}"]})}}return e})()},{path:"**",redirectTo:""}];let UUt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[i7.forRoot(VUt,{useHash:!0}),i7]})}}return e})();const zUt=[{title:"GROUP 1",description:"The first group of bindings in the coding demonstration",bindings:[{title:"Medicinal product + groupers",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                        [0..0] 1142139005 |Count of base of active ingredient| = *,\n                        [0..0] 411116001 |Has manufactured dose form| = *,\n                        [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, contain at least provided ingredientes (open world assuption), no information on form."},{title:"Gender",type:"dropdown",ecl:"< 365873007 |Gender finding (finding)|",value:"",note:"Patient gender."},{title:"Medicinal product form + groupers",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    [0..0] 1142139005 |Count of base of active ingredient| = *,\n                    411116001 |Has manufactured dose form| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, with form details."}]},{title:"GROUP 2",description:"The second group of bindings in the coding demonstration",bindings:[{title:"Medicinal product only",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    1142139005 |Count of base of active ingredient| = *,\n                    [0..0] 411116001 |Has manufactured dose form| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, containing only the provided ingredientes (close world assuption), with no information on form."},{title:"Medicinal product form only",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    1142139005 |Count of base of active ingredient| = *,\n                    411116001 |Has manufactured dose form| = *,\n                    [0..0] 732943007 |Has basis of strength substance (attribute)| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, with form details, containing only the provided ingredientes (close world assuption)."}]}];let GUt=(()=>{class e{constructor(){}getCodingSpec(){return zUt}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var En,D1={version:"0.20.2"},wa=1200,hm=1252,HUt=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],MN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},xA=function(e){-1!=HUt.indexOf(e)&&(hm=MN[0]=e)},dc=function(e){wa=e,xA(e)};var M1=function(i){return String.fromCharCode(i)},IN=function(i){return String.fromCharCode(i)},Vs=null,bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function TA(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0,w=0,E=0;E<e.length;)s=(t=e.charCodeAt(E++))>>2,o=(3&t)<<4|(n=e.charCodeAt(E++))>>4,l=(15&n)<<2|(r=e.charCodeAt(E++))>>6,w=63&r,isNaN(n)?l=w=64:isNaN(r)&&(w=64),i+=bo.charAt(s)+bo.charAt(o)+bo.charAt(l)+bo.charAt(w);return i}function Vl(e){var i="",s=0,o=0,l=0,w=0;"data:"==e.slice(0,5)&&(E=e.slice(0,1024).indexOf(";base64,"))>-1&&(e=e.slice(E+8)),e=e.replace(/[^\w\+\/\=]/g,"");for(var E=0;E<e.length;)s=bo.indexOf(e.charAt(E++)),o=bo.indexOf(e.charAt(E++)),i+=String.fromCharCode(s<<2|o>>4),64!==(l=bo.indexOf(e.charAt(E++)))&&(i+=String.fromCharCode((15&o)<<4|l>>2)),64!==(w=bo.indexOf(e.charAt(E++)))&&(i+=String.fromCharCode((3&l)<<6|w));return i}var Rn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Pu=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(i,t){return t?new Buffer(i,t):new Buffer(i)}:Buffer.from.bind(Buffer)}return function(){}}(),I1=function(){if(typeof Buffer>"u")return!1;var e=Pu([65,0]);return!!e&&1==e.toString("utf16le").length}();function vf(e){return Rn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Ltt(e){return Rn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Qo=function(i){return Rn?Pu(i,"binary"):i.split("").map(function(t){return 255&t.charCodeAt(0)})};function R1(e){if(typeof ArrayBuffer>"u")return Qo(e);for(var i=new ArrayBuffer(e.length),t=new Uint8Array(i),n=0;n!=e.length;++n)t[n]=255&e.charCodeAt(n);return i}function ku(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var i=[],t=0;t<e.length;++t)i[t]=String.fromCharCode(e[t]);return i.join("")}var Us=Rn?function(e){return Buffer.concat(e.map(function(i){return Buffer.isBuffer(i)?i:Pu(i)}))}:function(e){if(typeof Uint8Array<"u"){var i=0,t=0;for(i=0;i<e.length;++i)t+=e[i].length;var n=new Uint8Array(t),r=0;for(i=0,t=0;i<e.length;t+=r,++i)r=e[i].length,e[i]instanceof Uint8Array?n.set(e[i],t):n.set("string"==typeof e[i]?new Uint8Array(Qo(e[i])):new Uint8Array(e[i]),t);return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},wo=/\u0000/g,P1=/[\u0001-\u0006]/g;function D0(e){for(var i="",t=e.length-1;t>=0;)i+=e.charAt(t--);return i}function zc(e,i){var t=""+e;return t.length>=i?t:Zn("0",i-t.length)+t}function PN(e,i){var t=""+e;return t.length>=i?t:Zn(" ",i-t.length)+t}function CA(e,i){var t=""+e;return t.length>=i?t:t+Zn(" ",i-t.length)}var Ntt=Math.pow(2,32);function M0(e,i){return e>Ntt||e<-Ntt?function ZUt(e,i){var t=""+Math.round(e);return t.length>=i?t:Zn("0",i-t.length)+t}(e,i):function JUt(e,i){var t=""+e;return t.length>=i?t:Zn("0",i-t.length)+t}(Math.round(e),i)}function SA(e,i){return e.length>=7+(i=i||0)&&103==(32|e.charCodeAt(i))&&101==(32|e.charCodeAt(i+1))&&110==(32|e.charCodeAt(i+2))&&101==(32|e.charCodeAt(i+3))&&114==(32|e.charCodeAt(i+4))&&97==(32|e.charCodeAt(i+5))&&108==(32|e.charCodeAt(i+6))}var Btt=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],kN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Ni={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},Vtt={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},tzt={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function EA(e,i,t){for(var n=e<0?-1:1,r=e*n,s=0,o=1,l=0,w=1,E=0,D=0,k=Math.floor(r);E<i&&(l=(k=Math.floor(r))*o+s,D=k*E+w,!(r-k<5e-8));)r=1/(r-k),s=o,o=l,w=E,E=D;if(D>i&&(E>i?(D=w,l=s):(D=E,l=o)),!t)return[0,n*l,D];var O=Math.floor(n*l/D);return[O,n*l-O*D,D]}function Fu(e,i,t){if(e>2958465||e<0)return null;e=function ezt(e){var i=e.toPrecision(16);if(i.indexOf("e")>-1){var t=i.slice(0,i.indexOf("e"));return(t=t.indexOf(".")>-1?t.slice(0,"0."==t.slice(0,2)?17:16):t.slice(0,15)+Zn("0",t.length-15))+i.slice(i.indexOf("e"))}var n=i.indexOf(".")>-1?i.slice(0,"0."==i.slice(0,2)?17:16):i.slice(0,15)+Zn("0",i.length-15);return Number(n)}(e);var n=0|e,r=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:r,u:86400*(e-n)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),i&&i.date1904&&(n+=1462),l.u>.9999&&(l.u=0,86400==++r&&(l.T=r=0,++n,++l.D)),60===n)o=t?[1317,10,29]:[1900,2,29],s=3;else if(0===n)o=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var w=new Date(1900,0,1);w.setDate(w.getDate()+n-1),o=[w.getFullYear(),w.getMonth()+1,w.getDate()],s=w.getDay(),n<60&&(s=(s+6)%7),t&&(s=function szt(e,i){i[0]-=581;var t=e.getDay();return e<60&&(t=(t+6)%7),t}(w,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=r%60,r=Math.floor(r/60),l.M=r%60,r=Math.floor(r/60),l.H=r,l.q=s,l}function FN(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function dm(e,i){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):function k1(e){var t,i=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=i>=-4&&i<=-1?e.toPrecision(10+i):Math.abs(i)<=9?function nzt(e){var i=e<0?12:11,t=FN(e.toFixed(12));return t.length<=i||(t=e.toPrecision(10)).length<=i?t:e.toExponential(5)}(e):10===i?e.toFixed(10).substr(0,12):function rzt(e){var i=FN(e.toFixed(11));return i.length>(e<0?12:11)||"0"===i||"-0"===i?e.toPrecision(6):i}(e),FN(function izt(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return fl(14,ws(e,i&&i.date1904),i)}throw new Error("unsupported value in General format: "+e)}function azt(e,i,t,n){var w,r="",s=0,o=0,l=t.y,E=0;switch(e){case 98:l=t.y+543;case 121:switch(i.length){case 1:case 2:w=l%100,E=2;break;default:w=l%1e4,E=4}break;case 109:switch(i.length){case 1:case 2:w=t.m,E=i.length;break;case 3:return kN[t.m-1][1];case 5:return kN[t.m-1][0];default:return kN[t.m-1][2]}break;case 100:switch(i.length){case 1:case 2:w=t.d,E=i.length;break;case 3:return Btt[t.q][0];default:return Btt[t.q][1]}break;case 104:switch(i.length){case 1:case 2:w=1+(t.H+11)%12,E=i.length;break;default:throw"bad hour format: "+i}break;case 72:switch(i.length){case 1:case 2:w=t.H,E=i.length;break;default:throw"bad hour format: "+i}break;case 77:switch(i.length){case 1:case 2:w=t.M,E=i.length;break;default:throw"bad minute format: "+i}break;case 115:if("s"!=i&&"ss"!=i&&".0"!=i&&".00"!=i&&".000"!=i)throw"bad second format: "+i;return 0!==t.u||"s"!=i&&"ss"!=i?(o=n>=2?3===n?1e3:100:1===n?10:1,(s=Math.round(o*(t.S+t.u)))>=60*o&&(s=0),"s"===i?0===s?"0":""+s/o:(r=zc(s,2+n),"ss"===i?r.substr(0,2):"."+r.substr(2,i.length-1))):zc(t.S,i.length);case 90:switch(i){case"[h]":case"[hh]":w=24*t.D+t.H;break;case"[m]":case"[mm]":w=60*(24*t.D+t.H)+t.M;break;case"[s]":case"[ss]":w=60*(60*(24*t.D+t.H)+t.M)+(0==n?Math.round(t.S+t.u):t.S);break;default:throw"bad abstime format: "+i}E=3===i.length?1:2;break;case 101:w=l,E=1}return E>0?zc(w,E):""}function Wh(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var Utt=/%/g;function ztt(e,i){var t,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==i)return"0.0E+0";if(i<0)return"-"+ztt(e,-i);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(i)*Math.LOG10E)%r;if(s<0&&(s+=r),-1===(t=(i/Math.pow(10,s)).toPrecision(n+1+(r+s)%r)).indexOf("e")){var o=Math.floor(Math.log(i)*Math.LOG10E);for(-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);"0."===t.substr(0,2);)t=(t=t.charAt(0)+t.substr(2,r)+"."+t.substr(2+r)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,w,E,D){return w+E+D.substr(0,(r+s)%r)+"."+D.substr(s)+"E"})}else t=i.toExponential(n);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var Gtt=/# (\?+)( ?)\/( ?)(\d+)/,Htt=/^#*0*\.([0#]+)/,Wtt=/\)[^)]*[0#]/,jtt=/\(###\) ###\\?-####/;function Ko(e){for(var t,i="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:i+=" ";break;case 48:i+="0";break;default:i+=String.fromCharCode(t)}return i}function Xtt(e,i){var t=Math.pow(10,i);return""+Math.round(e*t)/t}function Ytt(e,i){var t=e-Math.floor(e),n=Math.pow(10,i);return i<(""+Math.round(t*n)).length?0:Math.round(t*n)}function fc(e,i,t){if(40===e.charCodeAt(0)&&!i.match(Wtt)){var n=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?fc("n",n,t):"("+fc("n",n,-t)+")"}if(44===i.charCodeAt(i.length-1))return function lzt(e,i,t){for(var n=i.length-1;44===i.charCodeAt(n-1);)--n;return jh(e,i.substr(0,n),t/Math.pow(10,3*(i.length-n)))}(e,i,t);if(-1!==i.indexOf("%"))return function ozt(e,i,t){var n=i.replace(Utt,""),r=i.length-n.length;return jh(e,n,t*Math.pow(10,2*r))+Zn("%",r)}(e,i,t);if(-1!==i.indexOf("E"))return ztt(i,t);if(36===i.charCodeAt(0))return"$"+fc(e,i.substr(" "==i.charAt(1)?2:1),t);var r,s,o,l,w=Math.abs(t),E=t<0?"-":"";if(i.match(/^00+$/))return E+M0(w,i.length);if(i.match(/^[#?]+$/))return"0"===(r=M0(t,0))&&(r=""),r.length>i.length?r:Ko(i.substr(0,i.length-r.length))+r;if(s=i.match(Gtt))return function czt(e,i,t){var n=parseInt(e[4],10),r=Math.round(i*n),s=Math.floor(r/n),o=r-s*n,l=n;return t+(0===s?"":""+s)+" "+(0===o?Zn(" ",e[1].length+1+e[4].length):PN(o,e[1].length)+e[2]+"/"+e[3]+zc(l,e[4].length))}(s,w,E);if(i.match(/^#+0+$/))return E+M0(w,i.length-i.indexOf("0"));if(s=i.match(Htt))return r=Xtt(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Ko(s[1])).replace(/\.$/,"."+Ko(s[1])).replace(/\.(\d*)$/,function(U,j){return"."+j+Zn("0",Ko(s[1]).length-j.length)}),-1!==i.indexOf("0.")?r:r.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),s=i.match(/^(0*)\.(#*)$/))return E+Xtt(w,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=i.match(/^#{1,3},##0(\.?)$/))return E+Wh(M0(w,0));if(s=i.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+fc(e,i,-t):Wh(""+(Math.floor(t)+function hzt(e,i){return i<(""+Math.round((e-Math.floor(e))*Math.pow(10,i))).length?1:0}(t,s[1].length)))+"."+zc(Ytt(t,s[1].length),s[1].length);if(s=i.match(/^#,#*,#0/))return fc(e,i.replace(/^#,#*,/,""),t);if(s=i.match(/^([0#]+)(\\?-([0#]+))+$/))return r=D0(fc(e,i.replace(/[\\-]/g,""),t)),o=0,D0(D0(i.replace(/\\/g,"")).replace(/[0#]/g,function(U){return o<r.length?r.charAt(o++):"0"===U?"0":""}));if(i.match(jtt))return"("+(r=fc(e,"##########",t)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var D="";if(s=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=EA(w,Math.pow(10,o)-1,!1),r=""+E," "==(D=jh("n",s[1],l[1])).charAt(D.length-1)&&(D=D.substr(0,D.length-1)+"0"),r+=D+s[2]+"/"+s[3],(D=CA(l[2],o)).length<s[4].length&&(D=Ko(s[4].substr(s[4].length-D.length))+D),r+=D;if(s=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),E+((l=EA(w,Math.pow(10,o)-1,!0))[0]||(l[1]?"":"0"))+" "+(l[1]?PN(l[1],o)+s[2]+"/"+s[3]+CA(l[2],o):Zn(" ",2*o+1+s[2].length+s[3].length));if(s=i.match(/^[#0?]+$/))return r=M0(t,0),i.length<=r.length?r:Ko(i.substr(0,i.length-r.length))+r;if(s=i.match(/^([#0?]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var k=i.indexOf(".")-o,O=i.length-r.length-k;return Ko(i.substr(0,k)+r+i.substr(i.length-O))}if(s=i.match(/^00,000\.([#0]*0)$/))return o=Ytt(t,s[1].length),t<0?"-"+fc(e,i,-t):Wh(function dzt(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(U){return"00,"+(U.length<3?zc(0,3-U.length):"")+U})+"."+zc(o,s[1].length);switch(i){case"###,##0.00":return fc(e,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var L=Wh(M0(w,0));return"0"!==L?E+L:"";case"###,###.00":return fc(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return fc(e,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+i+"|")}function $tt(e,i){var t,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==i)return"0.0E+0";if(i<0)return"-"+$tt(e,-i);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(i)*Math.LOG10E)%r;if(s<0&&(s+=r),!(t=(i/Math.pow(10,s)).toPrecision(n+1+(r+s)%r)).match(/[Ee]/)){var o=Math.floor(Math.log(i)*Math.LOG10E);-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,w,E,D){return w+E+D.substr(0,(r+s)%r)+"."+D.substr(s)+"E"})}else t=i.toExponential(n);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Ou(e,i,t){if(40===e.charCodeAt(0)&&!i.match(Wtt)){var n=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ou("n",n,t):"("+Ou("n",n,-t)+")"}if(44===i.charCodeAt(i.length-1))return function fzt(e,i,t){for(var n=i.length-1;44===i.charCodeAt(n-1);)--n;return jh(e,i.substr(0,n),t/Math.pow(10,3*(i.length-n)))}(e,i,t);if(-1!==i.indexOf("%"))return function pzt(e,i,t){var n=i.replace(Utt,""),r=i.length-n.length;return jh(e,n,t*Math.pow(10,2*r))+Zn("%",r)}(e,i,t);if(-1!==i.indexOf("E"))return $tt(i,t);if(36===i.charCodeAt(0))return"$"+Ou(e,i.substr(" "==i.charAt(1)?2:1),t);var r,s,o,l,w=Math.abs(t),E=t<0?"-":"";if(i.match(/^00+$/))return E+zc(w,i.length);if(i.match(/^[#?]+$/))return r=""+t,0===t&&(r=""),r.length>i.length?r:Ko(i.substr(0,i.length-r.length))+r;if(s=i.match(Gtt))return function uzt(e,i,t){return t+(0===i?"":""+i)+Zn(" ",e[1].length+2+e[4].length)}(s,w,E);if(i.match(/^#+0+$/))return E+zc(w,i.length-i.indexOf("0"));if(s=i.match(Htt))return r=(r=(""+t).replace(/^([^\.]+)$/,"$1."+Ko(s[1])).replace(/\.$/,"."+Ko(s[1]))).replace(/\.(\d*)$/,function(U,j){return"."+j+Zn("0",Ko(s[1]).length-j.length)}),-1!==i.indexOf("0.")?r:r.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),s=i.match(/^(0*)\.(#*)$/))return E+(""+w).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=i.match(/^#{1,3},##0(\.?)$/))return E+Wh(""+w);if(s=i.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ou(e,i,-t):Wh(""+t)+"."+Zn("0",s[1].length);if(s=i.match(/^#,#*,#0/))return Ou(e,i.replace(/^#,#*,/,""),t);if(s=i.match(/^([0#]+)(\\?-([0#]+))+$/))return r=D0(Ou(e,i.replace(/[\\-]/g,""),t)),o=0,D0(D0(i.replace(/\\/g,"")).replace(/[0#]/g,function(U){return o<r.length?r.charAt(o++):"0"===U?"0":""}));if(i.match(jtt))return"("+(r=Ou(e,"##########",t)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var D="";if(s=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=EA(w,Math.pow(10,o)-1,!1),r=""+E," "==(D=jh("n",s[1],l[1])).charAt(D.length-1)&&(D=D.substr(0,D.length-1)+"0"),r+=D+s[2]+"/"+s[3],(D=CA(l[2],o)).length<s[4].length&&(D=Ko(s[4].substr(s[4].length-D.length))+D),r+=D;if(s=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),E+((l=EA(w,Math.pow(10,o)-1,!0))[0]||(l[1]?"":"0"))+" "+(l[1]?PN(l[1],o)+s[2]+"/"+s[3]+CA(l[2],o):Zn(" ",2*o+1+s[2].length+s[3].length));if(s=i.match(/^[#0?]+$/))return i.length<=(r=""+t).length?r:Ko(i.substr(0,i.length-r.length))+r;if(s=i.match(/^([#0]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var k=i.indexOf(".")-o,O=i.length-r.length-k;return Ko(i.substr(0,k)+r+i.substr(i.length-O))}if(s=i.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Ou(e,i,-t):Wh(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(U){return"00,"+(U.length<3?zc(0,3-U.length):"")+U})+"."+zc(0,s[1].length);switch(i){case"###,###":case"##,###":case"#,###":var L=Wh(""+w);return"0"!==L?E+L:"";default:if(i.match(/\.[0#?]*$/))return Ou(e,i.slice(0,i.lastIndexOf(".")),t)+Ko(i.slice(i.lastIndexOf(".")))}throw new Error("unsupported format |"+i+"|")}function jh(e,i,t){return(0|t)===t?Ou(e,i,t):fc(e,i,t)}var Qtt=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ul(e){for(var i=0,t="",n="";i<e.length;)switch(t=e.charAt(i)){case"G":SA(e,i)&&(i+=6),i++;break;case'"':for(;34!==e.charCodeAt(++i)&&i<e.length;);++i;break;case"\\":case"_":i+=2;break;case"@":++i;break;case"B":case"b":if("1"===e.charAt(i+1)||"2"===e.charAt(i+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(i,3).toUpperCase()||"AM/PM"===e.substr(i,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===e.substr(i,5).toUpperCase())return!0;++i;break;case"[":for(n=t;"]"!==e.charAt(i++)&&i<e.length;)n+=e.charAt(i);if(n.match(Qtt))return!0;break;case".":case"0":case"#":for(;i<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++i))>-1||"\\"==t&&"-"==e.charAt(i+1)&&"0#".indexOf(e.charAt(i+2))>-1););break;case"?":for(;e.charAt(++i)===t;);break;case"*":++i,(" "==e.charAt(i)||"*"==e.charAt(i))&&++i;break;case"(":case")":++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;);break;default:++i}return!1}var Ktt=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Ztt(e,i){if(null==i)return!1;var t=parseFloat(i[2]);switch(i[1]){case"=":if(e==t)return!0;break;case">":if(e>t)return!0;break;case"<":if(e<t)return!0;break;case"<>":if(e!=t)return!0;break;case">=":if(e>=t)return!0;break;case"<=":if(e<=t)return!0}return!1}function fl(e,i,t){null==t&&(t={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&t.dateNF?t.dateNF:e;break;case"number":null==(n=14==e&&t.dateNF?t.dateNF:(null!=t.table?t.table:Ni)[e])&&(n=t.table&&t.table[Vtt[e]]||Ni[Vtt[e]]),null==n&&(n=tzt[e]||"General")}if(SA(n,0))return dm(i,t);i instanceof Date&&(i=ws(i,t.date1904));var r=function vzt(e,i){var t=function mzt(e){for(var i=[],t=!1,n=0,r=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:i[i.length]=e.substr(r,n-r),r=n+1}if(i[i.length]=e.substr(r),!0===t)throw new Error("Format |"+e+"| unterminated string ");return i}(e),n=t.length,r=t[n-1].indexOf("@");if(n<4&&r>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if("number"!=typeof i)return[4,4===t.length||r>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=r>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=r>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=r>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"]}var s=i>0?t[0]:i<0?t[1]:t[2];if(-1===t[0].indexOf("[")&&-1===t[1].indexOf("["))return[n,s];if(null!=t[0].match(/\[[=<>]/)||null!=t[1].match(/\[[=<>]/)){var o=t[0].match(Ktt),l=t[1].match(Ktt);return Ztt(i,o)?[n,t[0]]:Ztt(i,l)?[n,t[1]]:[n,t[null!=o&&null!=l?2:1]]}return[n,s]}(n,i);if(SA(r[1]))return dm(i,t);if(!0===i)i="TRUE";else if(!1===i)i="FALSE";else if(""===i||null==i)return"";return function gzt(e,i,t,n){for(var E,D,k,r=[],s="",o=0,l="",w="t",O="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!SA(e,o))throw new Error("unrecognized character "+l+" in "+e);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";34!==(k=e.charCodeAt(++o))&&o<e.length;)s+=String.fromCharCode(k);r[r.length]={t:"t",v:s},++o;break;case"\\":var L=e.charAt(++o);r[r.length]={t:"("===L||")"===L?L:"t",v:L},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:i},++o;break;case"B":case"b":if("1"===e.charAt(o+1)||"2"===e.charAt(o+1)){if(null==E&&null==(E=Fu(i,t,"2"===e.charAt(o+1))))return"";r[r.length]={t:"X",v:e.substr(o,2)},w=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(i<0||null==E&&null==(E=Fu(i,t)))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;"m"===l&&"h"===w.toLowerCase()&&(l="M"),"h"===l&&(l=O),r[r.length]={t:l,v:s},w=l;break;case"A":case"a":case"\u4e0a":var j={t:l,v:l};if(null==E&&(E=Fu(i,t)),"A/P"===e.substr(o,3).toUpperCase()?(null!=E&&(j.v=E.H>=12?e.charAt(o+2):l),j.t="T",O="h",o+=3):"AM/PM"===e.substr(o,5).toUpperCase()?(null!=E&&(j.v=E.H>=12?"PM":"AM"),j.t="T",o+=5,O="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(o,5).toUpperCase()?(null!=E&&(j.v=E.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),j.t="T",o+=5,O="h"):(j.t="t",++o),null==E&&"T"===j.t)return"";r[r.length]=j,w=l;break;case"[":for(s=l;"]"!==e.charAt(o++)&&o<e.length;)s+=e.charAt(o);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(Qtt)){if(null==E&&null==(E=Fu(i,t)))return"";r[r.length]={t:"Z",v:s.toLowerCase()},w=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ul(e)||(r[r.length]={t:"t",v:s}));break;case".":if(null!=E){for(s=l;++o<e.length&&"0"===(l=e.charAt(o));)s+=l;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;r[r.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;r[r.length]={t:l,v:s},w=l;break;case"*":++o,(" "==e.charAt(o)||"*"==e.charAt(o))&&++o;break;case"(":case")":r[r.length]={t:1===n?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:l,v:l},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(l))throw new Error("unrecognized character "+l+" in "+e);r[r.length]={t:"t",v:l},++o}var rt,st,W=0,Z=0;for(o=r.length-1,w="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=O,w="h",W<1&&(W=1);break;case"s":(rt=r[o].v.match(/\.0+$/))&&(Z=Math.max(Z,rt[0].length-1),W=4),W<3&&(W=3);case"d":case"y":case"e":w=r[o].t;break;case"M":w=r[o].t,W<2&&(W=2);break;case"m":"s"===w&&(r[o].t="M",W<2&&(W=2));break;case"X":break;case"Z":W<1&&r[o].v.match(/[Hh]/)&&(W=1),W<2&&r[o].v.match(/[Mm]/)&&(W=2),W<3&&r[o].v.match(/[Ss]/)&&(W=3)}switch(W){case 0:break;case 1:case 2:case 3:E.u>=.5&&(E.u=0,++E.S),E.S>=60&&(E.S=0,++E.M),E.M>=60&&(E.M=0,++E.H),E.H>=24&&(E.H=0,++E.D,(st=Fu(E.D)).u=E.u,st.S=E.S,st.M=E.M,st.H=E.H,E=st);break;case 4:switch(Z){case 1:E.u=Math.round(10*E.u)/10;break;case 2:E.u=Math.round(100*E.u)/100;break;case 3:E.u=Math.round(1e3*E.u)/1e3}E.u>=1&&(E.u=0,++E.S),E.S>=60&&(E.S=0,++E.M),E.M>=60&&(E.M=0,++E.H),E.H>=24&&(E.H=0,++E.D,(st=Fu(E.D)).u=E.u,st.S=E.S,st.M=E.M,st.H=E.H,E=st)}var Tt,yt="";for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=azt(r[o].t.charCodeAt(0),r[o].v,E,Z),r[o].t="t";break;case"n":case"?":for(Tt=o+1;null!=r[Tt]&&("?"===(l=r[Tt].t)||"D"===l||(" "===l||"t"===l)&&null!=r[Tt+1]&&("?"===r[Tt+1].t||"t"===r[Tt+1].t&&"/"===r[Tt+1].v)||"("===r[o].t&&(" "===l||"n"===l||")"===l)||"t"===l&&("/"===r[Tt].v||" "===r[Tt].v&&null!=r[Tt+1]&&"?"==r[Tt+1].t));)r[o].v+=r[Tt].v,r[Tt]={v:"",t:";"},++Tt;yt+=r[o].v,o=Tt-1;break;case"G":r[o].t="t",r[o].v=dm(i,t)}var ft,ht,It="";if(yt.length>0){40==yt.charCodeAt(0)?(ft=i<0&&45===yt.charCodeAt(0)?-i:i,ht=jh("n",yt,ft)):(ht=jh("n",yt,ft=i<0&&n>1?-i:i),ft<0&&r[0]&&"t"==r[0].t&&(ht=ht.substr(1),r[0].v="-"+r[0].v)),Tt=ht.length-1;var mt=r.length;for(o=0;o<r.length;++o)if(null!=r[o]&&"t"!=r[o].t&&r[o].v.indexOf(".")>-1){mt=o;break}var wt=r.length;if(mt===r.length&&-1===ht.indexOf("E")){for(o=r.length-1;o>=0;--o)null==r[o]||-1==="n?".indexOf(r[o].t)||(Tt>=r[o].v.length-1?r[o].v=ht.substr(1+(Tt-=r[o].v.length),r[o].v.length):Tt<0?r[o].v="":(r[o].v=ht.substr(0,Tt+1),Tt=-1),r[o].t="t",wt=o);Tt>=0&&wt<r.length&&(r[wt].v=ht.substr(0,Tt+1)+r[wt].v)}else if(mt!==r.length&&-1===ht.indexOf("E")){for(Tt=ht.indexOf(".")-1,o=mt;o>=0;--o)if(null!=r[o]&&-1!=="n?".indexOf(r[o].t)){for(D=r[o].v.indexOf(".")>-1&&o===mt?r[o].v.indexOf(".")-1:r[o].v.length-1,It=r[o].v.substr(D+1);D>=0;--D)Tt>=0&&("0"===r[o].v.charAt(D)||"#"===r[o].v.charAt(D))&&(It=ht.charAt(Tt--)+It);r[o].v=It,r[o].t="t",wt=o}for(Tt>=0&&wt<r.length&&(r[wt].v=ht.substr(0,Tt+1)+r[wt].v),Tt=ht.indexOf(".")+1,o=mt;o<r.length;++o)if(null!=r[o]&&(-1!=="n?(".indexOf(r[o].t)||o===mt)){for(D=r[o].v.indexOf(".")>-1&&o===mt?r[o].v.indexOf(".")+1:0,It=r[o].v.substr(0,D);D<r[o].v.length;++D)Tt<ht.length&&(It+=ht.charAt(Tt++));r[o].v=It,r[o].t="t",wt=o}}}for(o=0;o<r.length;++o)null!=r[o]&&"n?".indexOf(r[o].t)>-1&&(r[o].v=jh(r[o].t,r[o].v,ft=n>1&&i<0&&o>0&&"-"===r[o-1].v?-i:i),r[o].t="t");var Ct="";for(o=0;o!==r.length;++o)null!=r[o]&&(Ct+=r[o].v);return Ct}(r[1],i,t,r[0])}function ON(e,i){if("number"!=typeof i){i=+i||-1;for(var t=0;t<392;++t)if(null!=Ni[t]){if(Ni[t]==e){i=t;break}}else i<0&&(i=t);i<0&&(i=391)}return Ni[i]=e,i}function F1(e){for(var i=0;392!=i;++i)void 0!==e[i]&&ON(e[i],i)}function I0(){Ni=function qUt(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var _A=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,wzt={"d.m":"d\\.m"};function yf(e,i){return ON(wzt[e]||e,i)}var Xh,qtt=function(){var e={version:"1.2.0"},t=function i(){for(var ft=0,ht=new Array(256),mt=0;256!=mt;++mt)ht[mt]=ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=mt)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1;return typeof Int32Array<"u"?new Int32Array(ht):ht}(),r=function n(ft){var ht=0,mt=0,wt=0,Ct=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(wt=0;256!=wt;++wt)Ct[wt]=ft[wt];for(wt=0;256!=wt;++wt)for(mt=ft[wt],ht=256+wt;ht<4096;ht+=256)mt=Ct[ht]=mt>>>8^ft[255&mt];var _t=[];for(wt=1;16!=wt;++wt)_t[wt-1]=typeof Int32Array<"u"&&"function"==typeof Ct.subarray?Ct.subarray(256*wt,256*wt+256):Ct.slice(256*wt,256*wt+256);return _t}(t),s=r[0],o=r[1],l=r[2],w=r[3],E=r[4],D=r[5],k=r[6],O=r[7],L=r[8],U=r[9],j=r[10],W=r[11],Z=r[12],rt=r[13],st=r[14];return e.table=t,e.bstr=function yt(ft,ht){for(var mt=~ht,wt=0,Ct=ft.length;wt<Ct;)mt=mt>>>8^t[255&(mt^ft.charCodeAt(wt++))];return~mt},e.buf=function Tt(ft,ht){for(var mt=~ht,wt=ft.length-15,Ct=0;Ct<wt;)mt=st[ft[Ct++]^255&mt]^rt[ft[Ct++]^mt>>8&255]^Z[ft[Ct++]^mt>>16&255]^W[ft[Ct++]^mt>>>24]^j[ft[Ct++]]^U[ft[Ct++]]^L[ft[Ct++]]^O[ft[Ct++]]^k[ft[Ct++]]^D[ft[Ct++]]^E[ft[Ct++]]^w[ft[Ct++]]^l[ft[Ct++]]^o[ft[Ct++]]^s[ft[Ct++]]^t[ft[Ct++]];for(wt+=15;Ct<wt;)mt=mt>>>8^t[255&(mt^ft[Ct++])];return~mt},e.str=function It(ft,ht){for(var mt=~ht,wt=0,Ct=ft.length,_t=0,Dt=0;wt<Ct;)(_t=ft.charCodeAt(wt++))<128?mt=mt>>>8^t[255&(mt^_t)]:_t<2048?mt=(mt=mt>>>8^t[255&(mt^(192|_t>>6&31))])>>>8^t[255&(mt^(128|63&_t))]:_t>=55296&&_t<57344?(_t=64+(1023&_t),Dt=1023&ft.charCodeAt(wt++),mt=(mt=(mt=(mt=mt>>>8^t[255&(mt^(240|_t>>8&7))])>>>8^t[255&(mt^(128|_t>>2&63))])>>>8^t[255&(mt^(128|Dt>>6&15|(3&_t)<<4))])>>>8^t[255&(mt^(128|63&Dt))]):mt=(mt=(mt=mt>>>8^t[255&(mt^(224|_t>>12&15))])>>>8^t[255&(mt^(128|_t>>6&63))])>>>8^t[255&(mt^(128|63&_t))];return~mt},e}(),Vi=function(){var w,i={};function n(At){if("/"==At.charAt(At.length-1))return-1===At.slice(0,-1).indexOf("/")?At:n(At.slice(0,-1));var Lt=At.lastIndexOf("/");return-1===Lt?At:At.slice(0,Lt+1)}function r(At){if("/"==At.charAt(At.length-1))return r(At.slice(0,-1));var Lt=At.lastIndexOf("/");return-1===Lt?At:At.slice(Lt+1)}function s(At,Lt){"string"==typeof Lt&&(Lt=new Date(Lt));var Pt=Lt.getHours();Pt=(Pt=Pt<<6|Lt.getMinutes())<<5|Lt.getSeconds()>>>1,At.write_shift(2,Pt);var kt=Lt.getFullYear()-1980;kt=(kt=kt<<4|Lt.getMonth()+1)<<5|Lt.getDate(),At.write_shift(2,kt)}function l(At){Ca(At,0);for(var Lt={},Pt=0;At.l<=At.length-4;){var kt=At.read_shift(2),Nt=At.read_shift(2),Vt=At.l+Nt,ce={};switch(kt){case 21589:1&(Pt=At.read_shift(1))&&(ce.mtime=At.read_shift(4)),Nt>5&&(2&Pt&&(ce.atime=At.read_shift(4)),4&Pt&&(ce.ctime=At.read_shift(4))),ce.mtime&&(ce.mt=new Date(1e3*ce.mtime));break;case 1:var Ce=At.read_shift(4),oe=At.read_shift(4);ce.usz=oe*Math.pow(2,32)+Ce,Ce=At.read_shift(4),oe=At.read_shift(4),ce.csz=oe*Math.pow(2,32)+Ce}At.l=Vt,Lt[kt]=ce}return Lt}function E(){return w||(w=Xh)}function D(At,Lt){if(80==At[0]&&75==At[1])return Tw(At,Lt);if(109==(32|At[0])&&105==(32|At[1]))return function Um(At,Lt){if("mime-version:"!=ze(At.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var Pt=Lt&&Lt.root||"",kt=(Rn&&Buffer.isBuffer(At)?At.toString("binary"):ze(At)).split("\r\n"),Nt=0,Vt="";for(Nt=0;Nt<kt.length;++Nt)if(/^Content-Location:/i.test(Vt=kt[Nt])&&(Vt=Vt.slice(Vt.indexOf("file")),Pt||(Pt=Vt.slice(0,Vt.lastIndexOf("/")+1)),Vt.slice(0,Pt.length)!=Pt))for(;Pt.length>0&&(Pt=(Pt=Pt.slice(0,Pt.length-1)).slice(0,Pt.lastIndexOf("/")+1),Vt.slice(0,Pt.length)!=Pt););var ce=(kt[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var Ce="--"+(ce[1]||""),he={FileIndex:[],FullPaths:[]};ft(he);var Xe,ti=0;for(Nt=0;Nt<kt.length;++Nt){var Ei=kt[Nt];Ei!==Ce&&Ei!==Ce+"--"||(ti++&&xD(he,kt.slice(Xe,Nt),Pt),Xe=Nt)}return he}(At,Lt);if(At.length<512)throw new Error("CFB file size "+At.length+" < 512");var Pt,Nt,Vt,ce,Ce,oe,kt=512,ue=[],he=At.slice(0,512);Ca(he,0);var Xe=function k(At){if(80==At[At.l]&&75==At[At.l+1])return[0,0];At.chk(Ue,"Header Signature: "),At.l+=16;var Lt=At.read_shift(2,"u");return[At.read_shift(2,"u"),Lt]}(he);switch(Pt=Xe[0]){case 3:kt=512;break;case 4:kt=4096;break;case 0:if(0==Xe[1])return Tw(At,Lt);default:throw new Error("Major Version: Expected 3 or 4 saw "+Pt)}512!==kt&&Ca(he=At.slice(0,kt),28);var ti=At.slice(0,kt);!function O(At,Lt){var Pt;switch(At.l+=2,Pt=At.read_shift(2)){case 9:if(3!=Lt)throw new Error("Sector Shift: Expected 9 saw "+Pt);break;case 12:if(4!=Lt)throw new Error("Sector Shift: Expected 12 saw "+Pt);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Pt)}At.chk("0600","Mini Sector Shift: "),At.chk("000000000000","Reserved: ")}(he,Pt);var Ei=he.read_shift(4,"i");if(3===Pt&&0!==Ei)throw new Error("# Directory Sectors: Expected 0 saw "+Ei);he.l+=4,ce=he.read_shift(4,"i"),he.l+=4,he.chk("00100000","Mini Stream Cutoff Size: "),Ce=he.read_shift(4,"i"),Nt=he.read_shift(4,"i"),oe=he.read_shift(4,"i"),Vt=he.read_shift(4,"i");for(var ui=-1,$e=0;$e<109&&!((ui=he.read_shift(4,"i"))<0);++$e)ue[$e]=ui;var qi=function L(At,Lt){for(var Pt=Math.ceil(At.length/Lt)-1,kt=[],Nt=1;Nt<Pt;++Nt)kt[Nt-1]=At.slice(Nt*Lt,(Nt+1)*Lt);return kt[Pt-1]=At.slice(Pt*Lt),kt}(At,kt);W(oe,Vt,qi,kt,ue);var Dr=function rt(At,Lt,Pt,kt){var Nt=At.length,Vt=[],ce=[],Ce=[],oe=[],ue=kt-1,he=0,Xe=0,ti=0,Ei=0;for(he=0;he<Nt;++he)if(Ce=[],(ti=he+Lt)>=Nt&&(ti-=Nt),!ce[ti]){oe=[];var ui=[];for(Xe=ti;Xe>=0;){ui[Xe]=!0,ce[Xe]=!0,Ce[Ce.length]=Xe,oe.push(At[Xe]);var $e=Pt[Math.floor(4*Xe/kt)];if(kt<4+(Ei=4*Xe&ue))throw new Error("FAT boundary crossed: "+Xe+" 4 "+kt);if(!At[$e]||ui[Xe=vm(At[$e],Ei)])break}Vt[ti]={nodes:Ce,data:Tet([oe])}}return Vt}(qi,ce,ue,kt);ce<Dr.length&&(Dr[ce].name="!Directory"),Nt>0&&Ce!==Dt&&(Dr[Ce].name="!MiniFAT"),Dr[ue[0]].name="!FAT",Dr.fat_addrs=ue,Dr.ssz=kt;var Qr=[],Ws=[],nd=[];(function st(At,Lt,Pt,kt,Nt,Vt,ce,Ce){for(var Ei,oe=0,ue=kt.length?2:0,he=Lt[At].data,Xe=0,ti=0;Xe<he.length;Xe+=128){var ui=he.slice(Xe,Xe+128);Ca(ui,64),ti=ui.read_shift(2),Ei=PA(ui,0,ti-ue),kt.push(Ei);var $e={name:Ei,type:ui.read_shift(1),color:ui.read_shift(1),L:ui.read_shift(4,"i"),R:ui.read_shift(4,"i"),C:ui.read_shift(4,"i"),clsid:ui.read_shift(16),state:ui.read_shift(4,"i"),start:0,size:0};0!==ui.read_shift(2)+ui.read_shift(2)+ui.read_shift(2)+ui.read_shift(2)&&($e.ct=yt(ui,ui.l-8)),0!==ui.read_shift(2)+ui.read_shift(2)+ui.read_shift(2)+ui.read_shift(2)&&($e.mt=yt(ui,ui.l-8)),$e.start=ui.read_shift(4,"i"),$e.size=ui.read_shift(4,"i"),$e.size<0&&$e.start<0&&($e.size=$e.type=0,$e.start=Dt,$e.name=""),5===$e.type?(oe=$e.start,Nt>0&&oe!==Dt&&(Lt[oe].name="!StreamData")):$e.size>=4096?($e.storage="fat",void 0===Lt[$e.start]&&(Lt[$e.start]=Z(Pt,$e.start,Lt.fat_addrs,Lt.ssz)),Lt[$e.start].name=$e.name,$e.content=Lt[$e.start].data.slice(0,$e.size)):($e.storage="minifat",$e.size<0?$e.size=0:oe!==Dt&&$e.start!==Dt&&Lt[oe]&&($e.content=j($e,Lt[oe].data,(Lt[Ce]||{}).data))),$e.content&&Ca($e.content,0),Vt[Ei]=$e,ce.push($e)}})(ce,Dr,qi,Qr,Nt,{},Ws,Ce),function U(At,Lt,Pt){for(var kt=0,Nt=0,Vt=0,ce=0,Ce=0,oe=Pt.length,ue=[],he=[];kt<oe;++kt)ue[kt]=he[kt]=kt,Lt[kt]=Pt[kt];for(;Ce<he.length;++Ce)Nt=At[kt=he[Ce]].L,Vt=At[kt].R,ce=At[kt].C,ue[kt]===kt&&(-1!==Nt&&ue[Nt]!==Nt&&(ue[kt]=ue[Nt]),-1!==Vt&&ue[Vt]!==Vt&&(ue[kt]=ue[Vt])),-1!==ce&&(ue[ce]=kt),-1!==Nt&&kt!=ue[kt]&&(ue[Nt]=ue[kt],he.lastIndexOf(Nt)<Ce&&he.push(Nt)),-1!==Vt&&kt!=ue[kt]&&(ue[Vt]=ue[kt],he.lastIndexOf(Vt)<Ce&&he.push(Vt));for(kt=1;kt<oe;++kt)ue[kt]===kt&&(-1!==Vt&&ue[Vt]!==Vt?ue[kt]=ue[Vt]:-1!==Nt&&ue[Nt]!==Nt&&(ue[kt]=ue[Nt]));for(kt=1;kt<oe;++kt)if(0!==At[kt].type){if((Ce=kt)!=ue[Ce])do{Lt[kt]=Lt[Ce=ue[Ce]]+"/"+Lt[kt]}while(0!==Ce&&-1!==ue[Ce]&&Ce!=ue[Ce]);ue[kt]=-1}for(Lt[0]+="/",kt=1;kt<oe;++kt)2!==At[kt].type&&(Lt[kt]+="/")}(Ws,nd,Qr),Qr.shift();var Hm={FileIndex:Ws,FullPaths:nd};return Lt&&Lt.raw&&(Hm.raw={header:ti,sectors:qi}),Hm}function j(At,Lt,Pt){for(var Nt=At.size,Vt=[],ce=At.start;Pt&&Nt>0&&ce>=0;)Vt.push(Lt.slice(ce*_t,ce*_t+_t)),Nt-=_t,ce=vm(Pt,4*ce);return 0===Vt.length?le(0):Us(Vt).slice(0,At.size)}function W(At,Lt,Pt,kt,Nt){var Vt=Dt;if(At===Dt){if(0!==Lt)throw new Error("DIFAT chain shorter than expected")}else if(-1!==At){var ce=Pt[At],Ce=(kt>>>2)-1;if(!ce)return;for(var oe=0;oe<Ce&&(Vt=vm(ce,4*oe))!==Dt;++oe)Nt.push(Vt);Lt>=1&&W(vm(ce,kt-4),Lt-1,Pt,kt,Nt)}}function Z(At,Lt,Pt,kt,Nt){var Vt=[],ce=[];Nt||(Nt=[]);var Ce=kt-1,oe=0,ue=0;for(oe=Lt;oe>=0;){Nt[oe]=!0,Vt[Vt.length]=oe,ce.push(At[oe]);var he=Pt[Math.floor(4*oe/kt)];if(kt<4+(ue=4*oe&Ce))throw new Error("FAT boundary crossed: "+oe+" 4 "+kt);if(!At[he])break;oe=vm(At[he],ue)}return{nodes:Vt,data:Tet([ce])}}function yt(At,Lt){return new Date(1e3*(La(At,Lt+4)/1e7*Math.pow(2,32)+La(At,Lt)/1e7-11644473600))}function ft(At,Lt){var Pt=Lt||{},kt=Pt.root||"Root Entry";if(At.FullPaths||(At.FullPaths=[]),At.FileIndex||(At.FileIndex=[]),At.FullPaths.length!==At.FileIndex.length)throw new Error("inconsistent CFB structure");0===At.FullPaths.length&&(At.FullPaths[0]=kt+"/",At.FileIndex[0]={name:kt,type:5}),Pt.CLSID&&(At.FileIndex[0].clsid=Pt.CLSID),function ht(At){var Lt="\x01Sh33tJ5";if(!Vi.find(At,"/"+Lt)){var Pt=le(4);Pt[0]=55,Pt[1]=Pt[3]=50,Pt[2]=54,At.FileIndex.push({name:Lt,type:2,content:Pt,size:4,L:69,R:69,C:69}),At.FullPaths.push(At.FullPaths[0]+Lt),mt(At)}}(At)}function mt(At,Lt){ft(At);for(var Pt=!1,kt=!1,Nt=At.FullPaths.length-1;Nt>=0;--Nt){var Vt=At.FileIndex[Nt];switch(Vt.type){case 0:kt?Pt=!0:(At.FileIndex.pop(),At.FullPaths.pop());break;case 1:case 2:case 5:kt=!0,isNaN(Vt.R*Vt.L*Vt.C)&&(Pt=!0),Vt.R>-1&&Vt.L>-1&&Vt.R==Vt.L&&(Pt=!0);break;default:Pt=!0}}if(Pt||Lt){var ce=new Date(1987,1,19),Ce=0,oe=Object.create?Object.create(null):{},ue=[];for(Nt=0;Nt<At.FullPaths.length;++Nt)oe[At.FullPaths[Nt]]=!0,0!==At.FileIndex[Nt].type&&ue.push([At.FullPaths[Nt],At.FileIndex[Nt]]);for(Nt=0;Nt<ue.length;++Nt){var he=n(ue[Nt][0]);for(kt=oe[he];!kt;){for(;n(he)&&!oe[n(he)];)he=n(he);ue.push([he,{name:r(he).replace("/",""),type:1,clsid:ve,ct:ce,mt:ce,content:null}]),oe[he]=!0,kt=oe[he=n(ue[Nt][0])]}}for(ue.sort(function(Ei,ui){return function t(At,Lt){for(var Pt=At.split("/"),kt=Lt.split("/"),Nt=0,Vt=0,ce=Math.min(Pt.length,kt.length);Nt<ce;++Nt){if(Vt=Pt[Nt].length-kt[Nt].length)return Vt;if(Pt[Nt]!=kt[Nt])return Pt[Nt]<kt[Nt]?-1:1}return Pt.length-kt.length}(Ei[0],ui[0])}),At.FullPaths=[],At.FileIndex=[],Nt=0;Nt<ue.length;++Nt)At.FullPaths[Nt]=ue[Nt][0],At.FileIndex[Nt]=ue[Nt][1];for(Nt=0;Nt<ue.length;++Nt){var Xe=At.FileIndex[Nt],ti=At.FullPaths[Nt];if(Xe.name=r(ti).replace("/",""),Xe.L=Xe.R=Xe.C=-(Xe.color=1),Xe.size=Xe.content?Xe.content.length:0,Xe.start=0,Xe.clsid=Xe.clsid||ve,0===Nt)Xe.C=ue.length>1?1:-1,Xe.size=0,Xe.type=5;else if("/"==ti.slice(-1)){for(Ce=Nt+1;Ce<ue.length&&n(At.FullPaths[Ce])!=ti;++Ce);for(Xe.C=Ce>=ue.length?-1:Ce,Ce=Nt+1;Ce<ue.length&&n(At.FullPaths[Ce])!=n(ti);++Ce);Xe.R=Ce>=ue.length?-1:Ce,Xe.type=1}else n(At.FullPaths[Nt+1]||"")==n(ti)&&(Xe.R=Nt+1),Xe.type=2}}}function wt(At,Lt){var Pt=Lt||{};if("mad"==Pt.fileType)return function bD(At,Lt){for(var Pt=Lt||{},kt=Pt.boundary||"SheetJS",Nt=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(kt="------="+kt).slice(2)+'"',"","",""],Vt=At.FullPaths[0],ce=Vt,Ce=At.FileIndex[0],oe=1;oe<At.FullPaths.length;++oe)if(ce=At.FullPaths[oe].slice(Vt.length),(Ce=At.FileIndex[oe]).size&&Ce.content&&"\x01Sh33tJ5"!=ce){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(qi){return"_x"+qi.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(qi){return"_u"+qi.charCodeAt(0).toString(16)+"_"});for(var ue=Ce.content,he=Rn&&Buffer.isBuffer(ue)?ue.toString("binary"):ze(ue),Xe=0,ti=Math.min(1024,he.length),Ei=0,ui=0;ui<=ti;++ui)(Ei=he.charCodeAt(ui))>=32&&Ei<128&&++Xe;var $e=Xe>=4*ti/5;Nt.push(kt),Nt.push("Content-Location: "+(Pt.root||"file:///C:/SheetJS/")+ce),Nt.push("Content-Transfer-Encoding: "+($e?"quoted-printable":"base64")),Nt.push("Content-Type: "+Cw(Ce,ce)),Nt.push(""),Nt.push($e?yD(he):id(he))}return Nt.push(kt+"--\r\n"),Nt.join("\r\n")}(At,Pt);if("zip"===(mt(At),Pt.fileType))return function Vm(At,Lt){var Pt=Lt||{},kt=[],Nt=[],Vt=le(1),ce=Pt.compression?8:0,Ce=0,ue=0,he=0,Xe=0,ti=0,Ei=At.FullPaths[0],ui=Ei,$e=At.FileIndex[0],qi=[],Dr=0;for(ue=1;ue<At.FullPaths.length;++ue)if(ui=At.FullPaths[ue].slice(Ei.length),($e=At.FileIndex[ue]).size&&$e.content&&"\x01Sh33tJ5"!=ui){var Ba=Xe,Qr=le(ui.length);for(he=0;he<ui.length;++he)Qr.write_shift(1,127&ui.charCodeAt(he));Qr=Qr.slice(0,Qr.l),qi[ti]="string"==typeof $e.content?qtt.bstr($e.content,0):qtt.buf($e.content,0);var Ws="string"==typeof $e.content?Qo($e.content):$e.content;8==ce&&(Ws=De(Ws)),(Vt=le(30)).write_shift(4,67324752),Vt.write_shift(2,20),Vt.write_shift(2,Ce),Vt.write_shift(2,ce),$e.mt?s(Vt,$e.mt):Vt.write_shift(4,0),Vt.write_shift(-4,8&Ce?0:qi[ti]),Vt.write_shift(4,8&Ce?0:Ws.length),Vt.write_shift(4,8&Ce?0:$e.content.length),Vt.write_shift(2,Qr.length),Vt.write_shift(2,0),Xe+=Vt.length,kt.push(Vt),Xe+=Qr.length,kt.push(Qr),Xe+=Ws.length,kt.push(Ws),8&Ce&&((Vt=le(12)).write_shift(-4,qi[ti]),Vt.write_shift(4,Ws.length),Vt.write_shift(4,$e.content.length),Xe+=Vt.l,kt.push(Vt)),(Vt=le(46)).write_shift(4,33639248),Vt.write_shift(2,0),Vt.write_shift(2,20),Vt.write_shift(2,Ce),Vt.write_shift(2,ce),Vt.write_shift(4,0),Vt.write_shift(-4,qi[ti]),Vt.write_shift(4,Ws.length),Vt.write_shift(4,$e.content.length),Vt.write_shift(2,Qr.length),Vt.write_shift(2,0),Vt.write_shift(2,0),Vt.write_shift(2,0),Vt.write_shift(2,0),Vt.write_shift(4,0),Vt.write_shift(4,Ba),Dr+=Vt.l,Nt.push(Vt),Dr+=Qr.length,Nt.push(Qr),++ti}return(Vt=le(22)).write_shift(4,101010256),Vt.write_shift(2,0),Vt.write_shift(2,0),Vt.write_shift(2,ti),Vt.write_shift(2,ti),Vt.write_shift(4,Dr),Vt.write_shift(4,Xe),Vt.write_shift(2,0),Us([Us(kt),Us(Nt),Vt])}(At,Pt);var kt=function(Ei){for(var ui=0,$e=0,qi=0;qi<Ei.FileIndex.length;++qi){var Dr=Ei.FileIndex[qi];if(Dr.content){var Ba=Dr.content.length;Ba>0&&(Ba<4096?ui+=Ba+63>>6:$e+=Ba+511>>9)}}for(var Qr=Ei.FullPaths.length+3>>2,nd=ui+127>>7,Hm=(ui+7>>3)+$e+Qr+nd,Hu=Hm+127>>7,Q0=Hu<=109?0:Math.ceil((Hu-109)/127);Hm+Hu+Q0+127>>7>Hu;)Q0=++Hu<=109?0:Math.ceil((Hu-109)/127);var Cc=[1,Q0,Hu,nd,Qr,$e,ui,0];return Ei.FileIndex[0].size=ui<<6,Cc[7]=(Ei.FileIndex[0].start=Cc[0]+Cc[1]+Cc[2]+Cc[3]+Cc[4]+Cc[5])+(Cc[6]+7>>3),Cc}(At),Nt=le(kt[7]<<9),Vt=0,ce=0;for(Vt=0;Vt<8;++Vt)Nt.write_shift(1,Te[Vt]);for(Vt=0;Vt<8;++Vt)Nt.write_shift(2,0);for(Nt.write_shift(2,62),Nt.write_shift(2,3),Nt.write_shift(2,65534),Nt.write_shift(2,9),Nt.write_shift(2,6),Vt=0;Vt<3;++Vt)Nt.write_shift(2,0);for(Nt.write_shift(4,0),Nt.write_shift(4,kt[2]),Nt.write_shift(4,kt[0]+kt[1]+kt[2]+kt[3]-1),Nt.write_shift(4,0),Nt.write_shift(4,4096),Nt.write_shift(4,kt[3]?kt[0]+kt[1]+kt[2]-1:Dt),Nt.write_shift(4,kt[3]),Nt.write_shift(-4,kt[1]?kt[0]-1:Dt),Nt.write_shift(4,kt[1]),Vt=0;Vt<109;++Vt)Nt.write_shift(-4,Vt<kt[2]?kt[1]+Vt:-1);if(kt[1])for(ce=0;ce<kt[1];++ce){for(;Vt<236+127*ce;++Vt)Nt.write_shift(-4,Vt<kt[2]?kt[1]+Vt:-1);Nt.write_shift(-4,ce===kt[1]-1?Dt:ce+1)}var Ce=function(Ei){for(ce+=Ei;Vt<ce-1;++Vt)Nt.write_shift(-4,Vt+1);Ei&&(++Vt,Nt.write_shift(-4,Dt))};for(ce=Vt=0,ce+=kt[1];Vt<ce;++Vt)Nt.write_shift(-4,qt.DIFSECT);for(ce+=kt[2];Vt<ce;++Vt)Nt.write_shift(-4,qt.FATSECT);Ce(kt[3]),Ce(kt[4]);for(var oe=0,ue=0,he=At.FileIndex[0];oe<At.FileIndex.length;++oe)(he=At.FileIndex[oe]).content&&!((ue=he.content.length)<4096)&&(he.start=ce,Ce(ue+511>>9));for(Ce(kt[6]+7>>3);511&Nt.l;)Nt.write_shift(-4,qt.ENDOFCHAIN);for(ce=Vt=0,oe=0;oe<At.FileIndex.length;++oe)(he=At.FileIndex[oe]).content&&(ue=he.content.length)&&!(ue>=4096)&&(he.start=ce,Ce(ue+63>>6));for(;511&Nt.l;)Nt.write_shift(-4,qt.ENDOFCHAIN);for(Vt=0;Vt<kt[4]<<2;++Vt){var Xe=At.FullPaths[Vt];if(Xe&&0!==Xe.length){he=At.FileIndex[Vt],0===Vt&&(he.start=he.size?he.start-1:Dt);var ti=0===Vt&&Pt.root||he.name;if(ti.length>31&&(console.error("Name "+ti+" will be truncated to "+ti.slice(0,31)),ti=ti.slice(0,31)),ue=2*(ti.length+1),Nt.write_shift(64,ti,"utf16le"),Nt.write_shift(2,ue),Nt.write_shift(1,he.type),Nt.write_shift(1,he.color),Nt.write_shift(-4,he.L),Nt.write_shift(-4,he.R),Nt.write_shift(-4,he.C),he.clsid)Nt.write_shift(16,he.clsid,"hex");else for(oe=0;oe<4;++oe)Nt.write_shift(4,0);Nt.write_shift(4,he.state||0),Nt.write_shift(4,0),Nt.write_shift(4,0),Nt.write_shift(4,0),Nt.write_shift(4,0),Nt.write_shift(4,he.start),Nt.write_shift(4,he.size),Nt.write_shift(4,0)}else{for(oe=0;oe<17;++oe)Nt.write_shift(4,0);for(oe=0;oe<3;++oe)Nt.write_shift(4,-1);for(oe=0;oe<12;++oe)Nt.write_shift(4,0)}}for(Vt=1;Vt<At.FileIndex.length;++Vt)if((he=At.FileIndex[Vt]).size>=4096)if(Nt.l=he.start+1<<9,Rn&&Buffer.isBuffer(he.content))he.content.copy(Nt,Nt.l,0,he.size),Nt.l+=he.size+511&-512;else{for(oe=0;oe<he.size;++oe)Nt.write_shift(1,he.content[oe]);for(;511&oe;++oe)Nt.write_shift(1,0)}for(Vt=1;Vt<At.FileIndex.length;++Vt)if((he=At.FileIndex[Vt]).size>0&&he.size<4096)if(Rn&&Buffer.isBuffer(he.content))he.content.copy(Nt,Nt.l,0,he.size),Nt.l+=he.size+63&-64;else{for(oe=0;oe<he.size;++oe)Nt.write_shift(1,he.content[oe]);for(;63&oe;++oe)Nt.write_shift(1,0)}if(Rn)Nt.l=Nt.length;else for(;Nt.l<Nt.length;)Nt.write_shift(1,0);return Nt}i.version="1.2.2";var Ii,_t=64,Dt=-2,Ue="d0cf11e0a1b11ae1",Te=[208,207,17,224,161,177,26,225],ve="00000000000000000000000000000000",qt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Dt,FREESECT:-1,HEADER_SIGNATURE:Ue,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ve,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ze(At){for(var Lt=new Array(At.length),Pt=0;Pt<At.length;++Pt)Lt[Pt]=String.fromCharCode(At[Pt]);return Lt.join("")}function De(At){return Ii?Ii.deflateRawSync(At):ko(At)}for(var At,Lt,fi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],vi=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],hi=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Qt=typeof Uint8Array<"u",$t=Qt?new Uint8Array(256):[],Yt=0;Yt<256;++Yt)$t[Yt]=(void 0,255&((Lt=139536&((At=Yt)<<1|At<<11)|558144&(At<<5|At<<15))>>16|Lt>>8|Lt));function Ae(At,Lt){var Pt=$t[255&At];return Lt<=8?Pt>>>8-Lt:(Pt=Pt<<8|$t[At>>8&255],Lt<=16?Pt>>>16-Lt:(Pt=Pt<<8|$t[At>>16&255])>>>24-Lt)}function Ft(At,Lt){var Pt=7&Lt,kt=Lt>>>3;return(At[kt]|(Pt<=6?0:At[kt+1]<<8))>>>Pt&3}function Di(At,Lt){var Pt=7&Lt,kt=Lt>>>3;return(At[kt]|(Pt<=5?0:At[kt+1]<<8))>>>Pt&7}function je(At,Lt){var Pt=7&Lt,kt=Lt>>>3;return(At[kt]|(Pt<=3?0:At[kt+1]<<8))>>>Pt&31}function ji(At,Lt){var Pt=7&Lt,kt=Lt>>>3;return(At[kt]|(Pt<=1?0:At[kt+1]<<8))>>>Pt&127}function un(At,Lt,Pt){var kt=7&Lt,Nt=Lt>>>3,ce=At[Nt]>>>kt;return Pt<8-kt||(ce|=At[Nt+1]<<8-kt,Pt<16-kt)||(ce|=At[Nt+2]<<16-kt,Pt<24-kt)||(ce|=At[Nt+3]<<24-kt),ce&(1<<Pt)-1}function bi(At,Lt,Pt){var kt=7&Lt,Nt=Lt>>>3;return kt<=5?At[Nt]|=(7&Pt)<<kt:(At[Nt]|=Pt<<kt&255,At[Nt+1]=(7&Pt)>>8-kt),Lt+3}function ur(At,Lt,Pt){return At[Lt>>>3]|=Pt=(1&Pt)<<(7&Lt),Lt+1}function sr(At,Lt,Pt){var Nt=Lt>>>3;return At[Nt]|=255&(Pt<<=7&Lt),At[Nt+1]=Pt>>>=8,Lt+8}function ms(At,Lt,Pt){var Nt=Lt>>>3;return At[Nt]|=255&(Pt<<=7&Lt),At[Nt+1]=255&(Pt>>>=8),At[Nt+2]=Pt>>>8,Lt+16}function qa(At,Lt){var Pt=At.length,kt=2*Pt>Lt?2*Pt:Lt+5,Nt=0;if(Pt>=Lt)return At;if(Rn){var Vt=Ltt(kt);if(At.copy)At.copy(Vt);else for(;Nt<At.length;++Nt)Vt[Nt]=At[Nt];return Vt}if(Qt){var ce=new Uint8Array(kt);if(ce.set)ce.set(At);else for(;Nt<Pt;++Nt)ce[Nt]=At[Nt];return ce}return At.length=kt,At}function si(At){for(var Lt=new Array(At),Pt=0;Pt<At;++Pt)Lt[Pt]=0;return Lt}function ci(At,Lt,Pt){var kt=1,Nt=0,Vt=0,ce=0,Ce=0,oe=At.length,ue=Qt?new Uint16Array(32):si(32);for(Vt=0;Vt<32;++Vt)ue[Vt]=0;for(Vt=oe;Vt<Pt;++Vt)At[Vt]=0;oe=At.length;var he=Qt?new Uint16Array(oe):si(oe);for(Vt=0;Vt<oe;++Vt)ue[Nt=At[Vt]]++,kt<Nt&&(kt=Nt),he[Vt]=0;for(ue[0]=0,Vt=1;Vt<=kt;++Vt)ue[Vt+16]=Ce=Ce+ue[Vt-1]<<1;for(Vt=0;Vt<oe;++Vt)0!=(Ce=At[Vt])&&(he[Vt]=ue[Ce+16]++);var Xe=0;for(Vt=0;Vt<oe;++Vt)if(0!=(Xe=At[Vt]))for(Ce=Ae(he[Vt],kt)>>kt-Xe,ce=(1<<kt+4-Xe)-1;ce>=0;--ce)Lt[Ce|ce<<Xe]=15&Xe|Vt<<4;return kt}var Po=Qt?new Uint16Array(512):si(512),ar=Qt?new Uint16Array(32):si(32);if(!Qt){for(var Qn=0;Qn<512;++Qn)Po[Qn]=0;for(Qn=0;Qn<32;++Qn)ar[Qn]=0}!function(){for(var At=[],Lt=0;Lt<32;Lt++)At.push(5);ci(At,ar,32);var Pt=[];for(Lt=0;Lt<=143;Lt++)Pt.push(8);for(;Lt<=255;Lt++)Pt.push(9);for(;Lt<=279;Lt++)Pt.push(7);for(;Lt<=287;Lt++)Pt.push(8);ci(Pt,Po,288)}();var sa=function(){for(var Lt=Qt?new Uint8Array(32768):[],Pt=0,kt=0;Pt<hi.length-1;++Pt)for(;kt<hi[Pt+1];++kt)Lt[kt]=Pt;for(;kt<32768;++kt)Lt[kt]=29;var Nt=Qt?new Uint8Array(259):[];for(Pt=0,kt=0;Pt<vi.length-1;++Pt)for(;kt<vi[Pt+1];++kt)Nt[kt]=Pt;return function(oe,ue){return oe.length<8?function Vt(Ce,oe){for(var ue=0;ue<Ce.length;){var he=Math.min(65535,Ce.length-ue);for(oe.write_shift(1,+(ue+he==Ce.length)),oe.write_shift(2,he),oe.write_shift(2,65535&~he);he-- >0;)oe[oe.l++]=Ce[ue++]}return oe.l}(oe,ue):function ce(Ce,oe){for(var ue=0,he=0,Xe=Qt?new Uint16Array(32768):[];he<Ce.length;){var ti=Math.min(65535,Ce.length-he);if(ti<10){for(7&(ue=bi(oe,ue,+(he+ti==Ce.length)))&&(ue+=8-(7&ue)),oe.l=ue/8|0,oe.write_shift(2,ti),oe.write_shift(2,65535&~ti);ti-- >0;)oe[oe.l++]=Ce[he++];ue=8*oe.l}else{ue=bi(oe,ue,+(he+ti==Ce.length)+2);for(var Ei=0;ti-- >0;){var ui=Ce[he],$e=-1,qi=0;if(($e=Xe[Ei=32767&(Ei<<5^ui)])&&(($e|=-32768&he)>he&&($e-=32768),$e<he))for(;Ce[$e+qi]==Ce[he+qi]&&qi<250;)++qi;if(qi>2){(ui=Nt[qi])<=22?ue=sr(oe,ue,$t[ui+1]>>1)-1:(sr(oe,ue,3),sr(oe,ue+=5,$t[ui-23]>>5),ue+=3);var Dr=ui<8?0:ui-4>>2;Dr>0&&(ms(oe,ue,qi-vi[ui]),ue+=Dr),ue=sr(oe,ue,$t[ui=Lt[he-$e]]>>3),ue-=3;var Ba=ui<4?0:ui-2>>1;Ba>0&&(ms(oe,ue,he-$e-hi[ui]),ue+=Ba);for(var Qr=0;Qr<qi;++Qr)Xe[Ei]=32767&he,Ei=32767&(Ei<<5^Ce[he]),++he;ti-=qi-1}else ui<=143?ui+=48:ue=ur(oe,ue,1),ue=sr(oe,ue,$t[ui]),Xe[Ei]=32767&he,++he}ue=sr(oe,ue,0)-1}}return oe.l=(ue+7)/8|0,oe.l}(oe,ue)}}();function ko(At){var Lt=le(50+Math.floor(1.1*At.length)),Pt=sa(At,Lt);return Lt.slice(0,Pt)}var an=Qt?new Uint16Array(32768):si(32768),Ji=Qt?new Uint16Array(32768):si(32768),tr=Qt?new Uint16Array(128):si(128),Br=1,Nm=1;function Tc(At,Lt){var Pt=je(At,Lt)+257,kt=je(At,Lt+=5)+1,Nt=function ni(At,Lt){var Pt=7&Lt,kt=Lt>>>3;return(At[kt]|(Pt<=4?0:At[kt+1]<<8))>>>Pt&15}(At,Lt+=5)+4;Lt+=4;for(var Vt=0,ce=Qt?new Uint8Array(19):si(19),Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=1,ue=Qt?new Uint8Array(8):si(8),he=Qt?new Uint8Array(8):si(8),Xe=ce.length,ti=0;ti<Nt;++ti)ce[fi[ti]]=Vt=Di(At,Lt),oe<Vt&&(oe=Vt),ue[Vt]++,Lt+=3;var Ei=0;for(ue[0]=0,ti=1;ti<=oe;++ti)he[ti]=Ei=Ei+ue[ti-1]<<1;for(ti=0;ti<Xe;++ti)0!=(Ei=ce[ti])&&(Ce[ti]=he[Ei]++);var ui=0;for(ti=0;ti<Xe;++ti)if(0!=(ui=ce[ti])){Ei=$t[Ce[ti]]>>8-ui;for(var $e=(1<<7-ui)-1;$e>=0;--$e)tr[Ei|$e<<ui]=7&ui|ti<<3}var qi=[];for(oe=1;qi.length<Pt+kt;)switch(Ei=tr[ji(At,Lt)],Lt+=7&Ei,Ei>>>=3){case 16:for(Vt=3+Ft(At,Lt),Lt+=2,Ei=qi[qi.length-1];Vt-- >0;)qi.push(Ei);break;case 17:for(Vt=3+Di(At,Lt),Lt+=3;Vt-- >0;)qi.push(0);break;case 18:for(Vt=11+ji(At,Lt),Lt+=7;Vt-- >0;)qi.push(0);break;default:qi.push(Ei),oe<Ei&&(oe=Ei)}var Dr=qi.slice(0,Pt),Ba=qi.slice(Pt);for(ti=Pt;ti<286;++ti)Dr[ti]=0;for(ti=kt;ti<30;++ti)Ba[ti]=0;return Br=ci(Dr,an,286),Nm=ci(Ba,Ji,30),Lt}function Bm(At,Lt){var kt=function ed(At,Lt){if(3==At[0]&&!(3&At[1]))return[vf(Lt),2];for(var Pt=0,kt=0,Nt=Ltt(Lt||1<<18),Vt=0,ce=Nt.length>>>0,Ce=0,oe=0;!(1&kt);)if(kt=Di(At,Pt),Pt+=3,kt>>>1)for(kt>>1==1?(Ce=9,oe=5):(Pt=Tc(At,Pt),Ce=Br,oe=Nm);;){!Lt&&ce<Vt+32767&&(ce=(Nt=qa(Nt,Vt+32767)).length);var he=un(At,Pt,Ce),Xe=kt>>>1==1?Po[he]:an[he];if(Pt+=15&Xe,(Xe>>>=4)>>>8&255){if(256==Xe)break;var ti=(Xe-=257)<8?0:Xe-4>>2;ti>5&&(ti=0);var Ei=Vt+vi[Xe];ti>0&&(Ei+=un(At,Pt,ti),Pt+=ti),he=un(At,Pt,oe),Pt+=15&(Xe=kt>>>1==1?ar[he]:Ji[he]);var ui=(Xe>>>=4)<4?0:Xe-2>>1,$e=hi[Xe];for(ui>0&&($e+=un(At,Pt,ui),Pt+=ui),!Lt&&ce<Ei&&(ce=(Nt=qa(Nt,Ei+100)).length);Vt<Ei;)Nt[Vt]=Nt[Vt-$e],++Vt}else Nt[Vt++]=Xe}else{7&Pt&&(Pt+=8-(7&Pt));var ue=At[Pt>>>3]|At[1+(Pt>>>3)]<<8;if(Pt+=32,ue>0)for(!Lt&&ce<Vt+ue&&(ce=(Nt=qa(Nt,Vt+ue)).length);ue-- >0;)Nt[Vt++]=At[Pt>>>3],Pt+=8}return Lt?[Nt,Pt+7>>>3]:[Nt.slice(0,Vt),Pt+7>>>3]}(At.slice(At.l||0),Lt);return At.l+=kt[1],kt[0]}function X0(At,Lt){if(!At)throw new Error(Lt);typeof console<"u"&&console.error(Lt)}function Tw(At,Lt){var Pt=At;Ca(Pt,0);var Vt={FileIndex:[],FullPaths:[]};ft(Vt,{root:Lt.root});for(var ce=Pt.length-4;(80!=Pt[ce]||75!=Pt[ce+1]||5!=Pt[ce+2]||6!=Pt[ce+3])&&ce>=0;)--ce;Pt.l=ce+4,Pt.l+=4;var Ce=Pt.read_shift(2);Pt.l+=6;var oe=Pt.read_shift(4);for(Pt.l=oe,ce=0;ce<Ce;++ce){Pt.l+=20;var ue=Pt.read_shift(4),he=Pt.read_shift(4),Xe=Pt.read_shift(2),ti=Pt.read_shift(2),Ei=Pt.read_shift(2);Pt.l+=8;var ui=Pt.read_shift(4),$e=l(Pt.slice(Pt.l+Xe,Pt.l+Xe+ti));Pt.l+=Xe+ti+Ei;var qi=Pt.l;Pt.l=ui+4,$e&&$e[1]&&(($e[1]||{}).usz&&(he=$e[1].usz),($e[1]||{}).csz&&(ue=$e[1].csz)),vD(Pt,ue,he,Vt,$e),Pt.l=qi}return Vt}function vD(At,Lt,Pt,kt,Nt){At.l+=2;var Vt=At.read_shift(2),ce=At.read_shift(2),Ce=function o(At){var Lt=65535&At.read_shift(2),Pt=65535&At.read_shift(2),kt=new Date,Nt=31&Pt,Vt=15&(Pt>>>=5);Pt>>>=4,kt.setMilliseconds(0),kt.setFullYear(Pt+1980),kt.setMonth(Vt-1),kt.setDate(Nt);var ce=31&Lt,Ce=63&(Lt>>>=5);return kt.setHours(Lt>>>=6),kt.setMinutes(Ce),kt.setSeconds(ce<<1),kt}(At);if(8257&Vt)throw new Error("Unsupported ZIP encryption");At.read_shift(4);for(var ue=At.read_shift(4),he=At.read_shift(4),Xe=At.read_shift(2),ti=At.read_shift(2),Ei="",ui=0;ui<Xe;++ui)Ei+=String.fromCharCode(At[At.l++]);if(ti){var $e=l(At.slice(At.l,At.l+ti));($e[21589]||{}).mt&&(Ce=$e[21589].mt),($e[1]||{}).usz&&(he=$e[1].usz),($e[1]||{}).csz&&(ue=$e[1].csz),Nt&&((Nt[21589]||{}).mt&&(Ce=Nt[21589].mt),(Nt[1]||{}).usz&&(he=$e[1].usz),(Nt[1]||{}).csz&&(ue=$e[1].csz))}At.l+=ti;var qi=At.slice(At.l,At.l+ue);switch(ce){case 8:qi=function Ne(At,Lt){if(!Ii)return Bm(At,Lt);var kt=new(0,Ii.InflateRaw),Nt=kt._processChunk(At.slice(At.l),kt._finishFlushFlag);return At.l+=kt.bytesRead,Nt}(At,he);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Dr=!1;8&Vt&&(134695760==At.read_shift(4)&&(At.read_shift(4),Dr=!0),ue=At.read_shift(4),he=At.read_shift(4)),ue!=Lt&&X0(Dr,"Bad compressed size: "+Lt+" != "+ue),he!=Pt&&X0(Dr,"Bad uncompressed size: "+Pt+" != "+he),$0(kt,Ei,qi,{unsafe:!0,mt:Ce})}var _f={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Cw(At,Lt){if(At.ctype)return At.ctype;var Pt=At.name||"",kt=Pt.match(/\.([^\.]+)$/);return kt&&_f[kt[1]]||Lt&&(kt=(Pt=Lt).match(/[\.\\]([^\.\\])+$/))&&_f[kt[1]]?_f[kt[1]]:"application/octet-stream"}function id(At){for(var Lt=TA(At),Pt=[],kt=0;kt<Lt.length;kt+=76)Pt.push(Lt.slice(kt,kt+76));return Pt.join("\r\n")+"\r\n"}function yD(At){var Lt=At.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var he=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(1==he.length?"0"+he:he)});"\n"==(Lt=Lt.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(Lt="=0D"+Lt.slice(1));for(var Pt=[],kt=(Lt=Lt.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),Nt=0;Nt<kt.length;++Nt){var Vt=kt[Nt];if(0!=Vt.length)for(var ce=0;ce<Vt.length;){var Ce=76,oe=Vt.slice(ce,ce+Ce);"="==oe.charAt(Ce-1)?Ce--:"="==oe.charAt(Ce-2)?Ce-=2:"="==oe.charAt(Ce-3)&&(Ce-=3),oe=Vt.slice(ce,ce+Ce),(ce+=Ce)<Vt.length&&(oe+="="),Pt.push(oe)}else Pt.push("")}return Pt.join("\r\n")}function xD(At,Lt,Pt){for(var ce,kt="",Nt="",Vt="",Ce=0;Ce<10;++Ce){var oe=Lt[Ce];if(!oe||oe.match(/^\s*$/))break;var ue=oe.match(/^([^:]*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":kt=ue[2].trim();break;case"content-type":Vt=ue[2].trim();break;case"content-transfer-encoding":Nt=ue[2].trim()}}switch(++Ce,Nt.toLowerCase()){case"base64":ce=Qo(Vl(Lt.slice(Ce).join("")));break;case"quoted-printable":ce=function Y0(At){for(var Lt=[],Pt=0;Pt<At.length;++Pt){for(var kt=At[Pt];Pt<=At.length&&"="==kt.charAt(kt.length-1);)kt=kt.slice(0,kt.length-1)+At[++Pt];Lt.push(kt)}for(var Nt=0;Nt<Lt.length;++Nt)Lt[Nt]=Lt[Nt].replace(/[=][0-9A-Fa-f]{2}/g,function(Vt){return String.fromCharCode(parseInt(Vt.slice(1),16))});return Qo(Lt.join("\r\n"))}(Lt.slice(Ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Nt)}var he=$0(At,kt.slice(Pt.length),ce,{unsafe:!0});Vt&&(he.ctype=Vt)}function $0(At,Lt,Pt,kt){var Nt=kt&&kt.unsafe;Nt||ft(At);var Vt=!Nt&&Vi.find(At,Lt);if(!Vt){var ce=At.FullPaths[0];Lt.slice(0,ce.length)==ce?ce=Lt:("/"!=ce.slice(-1)&&(ce+="/"),ce=(ce+Lt).replace("//","/")),Vt={name:r(Lt),type:2},At.FileIndex.push(Vt),At.FullPaths.push(ce),Nt||Vi.utils.cfb_gc(At)}return Vt.content=Pt,Vt.size=Pt?Pt.length:0,kt&&(kt.CLSID&&(Vt.clsid=kt.CLSID),kt.mt&&(Vt.mt=kt.mt),kt.ct&&(Vt.ct=kt.ct)),Vt}return i.find=function Ct(At,Lt){var Pt=At.FullPaths.map(function(oe){return oe.toUpperCase()}),kt=Pt.map(function(oe){var ue=oe.split("/");return ue[ue.length-("/"==oe.slice(-1)?2:1)]}),Nt=!1;47===Lt.charCodeAt(0)?(Nt=!0,Lt=Pt[0].slice(0,-1)+Lt):Nt=-1!==Lt.indexOf("/");var Vt=Lt.toUpperCase(),ce=!0===Nt?Pt.indexOf(Vt):kt.indexOf(Vt);if(-1!==ce)return At.FileIndex[ce];var Ce=!Vt.match(P1);for(Vt=Vt.replace(wo,""),Ce&&(Vt=Vt.replace(P1,"!")),ce=0;ce<Pt.length;++ce)if((Ce?Pt[ce].replace(P1,"!"):Pt[ce]).replace(wo,"")==Vt||(Ce?kt[ce].replace(P1,"!"):kt[ce]).replace(wo,"")==Vt)return At.FileIndex[ce];return null},i.read=function It(At,Lt){var Pt=Lt&&Lt.type;switch(Pt||Rn&&Buffer.isBuffer(At)&&(Pt="buffer"),Pt||"base64"){case"file":return function Tt(At,Lt){return E(),D(w.readFileSync(At),Lt)}(At,Lt);case"base64":return D(Qo(Vl(At)),Lt);case"binary":return D(Qo(At),Lt)}return D(At,Lt)},i.parse=D,i.write=function Me(At,Lt){var Pt=wt(At,Lt);switch(Lt&&Lt.type||"buffer"){case"file":return E(),w.writeFileSync(Lt.filename,Pt),Pt;case"binary":return"string"==typeof Pt?Pt:ze(Pt);case"base64":return TA("string"==typeof Pt?Pt:ze(Pt));case"buffer":if(Rn)return Buffer.isBuffer(Pt)?Pt:Pu(Pt);case"array":return"string"==typeof Pt?Qo(Pt):Pt}return Pt},i.writeFile=function _e(At,Lt,Pt){E();var kt=wt(At,Pt);w.writeFileSync(Lt,kt)},i.utils={cfb_new:function to(At){var Lt={};return ft(Lt,At),Lt},cfb_add:$0,cfb_del:function zm(At,Lt){ft(At);var Pt=Vi.find(At,Lt);if(Pt)for(var kt=0;kt<At.FileIndex.length;++kt)if(At.FileIndex[kt]==Pt)return At.FileIndex.splice(kt,1),At.FullPaths.splice(kt,1),!0;return!1},cfb_mov:function Gm(At,Lt,Pt){ft(At);var kt=Vi.find(At,Lt);if(kt)for(var Nt=0;Nt<At.FileIndex.length;++Nt)if(At.FileIndex[Nt]==kt)return At.FileIndex[Nt].name=r(Pt),At.FullPaths[Nt]=Pt,!0;return!1},cfb_gc:function E3(At){mt(At,!0)},ReadShift:U1,CheckField:Oet,prep_blob:Ca,bconcat:Us,use_zlib:function ee(At){try{var Pt=new(0,At.InflateRaw);if(Pt._processChunk(new Uint8Array([3,0]),Pt._finishFlushFlag),!Pt.bytesRead)throw new Error("zlib does not expose bytesRead");Ii=At}catch(kt){console.error("cannot use native zlib: "+(kt.message||kt))}},_deflateRaw:ko,_inflateRaw:Bm,consts:qt},i}();function tet(e){return"string"==typeof e?R1(e):Array.isArray(e)?function QUt(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function O1(e,i,t){if(typeof Xh<"u"&&Xh.writeFileSync)return t?Xh.writeFileSync(e,i,t):Xh.writeFileSync(e,i);if(typeof Deno<"u"){if(t&&"string"==typeof i)switch(t){case"utf8":i=new TextEncoder(t).encode(i);break;case"binary":i=R1(i);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(e,i)}var n="utf8"==t?Lu(i):i;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var r=new Blob([tet(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}else if(typeof URL<"u"&&!URL.createObjectURL&&"object"==typeof chrome){var l="data:application/octet-stream;base64,"+function $Ut(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0,w=0,E=0;E<e.length;)s=(t=e[E++])>>2,o=(3&t)<<4|(n=e[E++])>>4,l=(15&n)<<2|(r=e[E++])>>6,w=63&r,isNaN(n)?l=w=64:isNaN(r)&&(w=64),i+=bo.charAt(s)+bo.charAt(o)+bo.charAt(l)+bo.charAt(w);return i}(new Uint8Array(tet(n)));return chrome.downloads.download({url:l,filename:e,saveAs:!0})}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var w=File(e);return w.open("w"),w.encoding="binary",Array.isArray(i)&&(i=ku(i)),w.write(i),w.close(),i}catch(E){if(!E.message||-1==E.message.indexOf("onstruct"))throw E}throw new Error("cannot save file "+e)}function rs(e){for(var i=Object.keys(e),t=[],n=0;n<i.length;++n)Object.prototype.hasOwnProperty.call(e,i[n])&&t.push(i[n]);return t}function eet(e,i){for(var t=[],n=rs(e),r=0;r!==n.length;++r)null==t[e[n[r]][i]]&&(t[e[n[r]][i]]=n[r]);return t}function AA(e){for(var i=[],t=rs(e),n=0;n!==t.length;++n)i[e[t[n]]]=t[n];return i}function DA(e){for(var i=[],t=rs(e),n=0;n!==t.length;++n)i[e[t[n]]]=parseInt(t[n],10);return i}var iet=Date.UTC(1899,11,30,0,0,0),Ezt=Date.UTC(1899,11,31,0,0,0),_zt=Date.UTC(1904,0,1,0,0,0);function ws(e,i){var n=(e.getTime()-iet)/864e5;return i?(n-=1462)<-1402?n-1:n:n<60?n-1:n}function Yh(e){if(e>=60&&e<61)return e;var i=new Date;return i.setTime(24*(e>60?e:e+1)*60*60*1e3+iet),i}var Dzt=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,Mzt=/^(\d+)-(\d+)-(\d+)$/,net=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function ps(e,i){if(e instanceof Date)return e;var t=e.match(Dzt);return t?new Date((i?_zt:Ezt)+1e3*(60*(60*parseInt(t[1],10)+parseInt(t[2],10))+(t[3]?parseInt(t[3].slice(1),10):0))+(t[4]?parseInt((t[4]+"000").slice(1,4),10):0)):(t=e.match(Mzt))?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],0,0,0,0)):(t=e.match(net))?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4],+t[5],t[6]&&parseInt(t[6].slice(1),10)||0,t[7]&&parseInt((t[7]+"0000").slice(1,4),10)||0)):new Date(e)}function fm(e,i){if(Rn&&Buffer.isBuffer(e)){if(i&&I1){if(255==e[0]&&254==e[1])return Lu(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Lu(function Ftt(e){for(var i=[],t=0;t<e.length>>1;++t)i[t]=String.fromCharCode(e.charCodeAt(2*t+1)+(e.charCodeAt(2*t)<<8));return i.join("")}(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(i){if(255==e[0]&&254==e[1])return Lu(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Lu(new TextDecoder("utf-16be").decode(e.slice(2)))}var t={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return t[s]||s})}catch{}var n=[],r=0;try{for(r=0;r<e.length-65536;r+=65536)n.push(String.fromCharCode.apply(0,e.slice(r,r+65536)));n.push(String.fromCharCode.apply(0,e.slice(r)))}catch{try{for(;r<e.length-16384;r+=16384)n.push(String.fromCharCode.apply(0,e.slice(r,r+16384)));n.push(String.fromCharCode.apply(0,e.slice(r)))}catch{for(;r!=e.length;++r)n.push(String.fromCharCode(e[r]))}}return n.join("")}function br(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=br(e[t]));return i}function Zn(e,i){for(var t="";t.length<i;)t+=e;return t}function zl(e){var i=Number(e);if(!isNaN(i))return isFinite(i)?i:NaN;if(!/\d/.test(e))return i;var t=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return isNaN(i=Number(n))&&(n=n.replace(/[(]([^()]*)[)]/,function(r,s){return t=-t,s}),isNaN(i=Number(n)))?i:i/t}var Izt=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,Rzt=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,Pzt=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,kzt=-177984e5==new Date("6/9/69 00:00 UTC").valueOf(),Lzt=["january","february","march","april","may","june","july","august","september","october","november","december"];function L1(e){if(Pzt.test(e))return-1==e.indexOf("Z")?MA(new Date(e)):new Date(e);var i=e.toLowerCase(),t=i.replace(/\s+/g," ").trim(),n=t.match(Izt);if(n)return function Fzt(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],+e[4],1e3*parseFloat(e[3]))):new Date(Date.UTC(1899,11,31,"p"==e[7]?12:0,+e[1],+e[2],1e3*parseFloat(e[3]))):e[5]?new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],+e[5],e[6]?1e3*parseFloat(e[6]):0)):new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),0,0,0))}(n);if(n=t.match(Rzt))return function Ozt(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[4],1e3*parseFloat(e[3]))):new Date(Date.UTC(1899,11,31,0,+e[1],+e[2],1e3*parseFloat(e[3]))):e[5]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[5],e[6]?1e3*parseFloat(e[6]):0)):new Date(Date.UTC(1899,11,31,+e[1],+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1],0,0,0))}(n);if(n=t.match(net))return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var r=new Date(kzt&&-1==e.indexOf("UTC")?e+" UTC":e),s=new Date(NaN),o=r.getYear(),w=(r.getMonth(),r.getDate());if(isNaN(w))return s;if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Lzt.indexOf(i))return s}else if(i.replace(/[ap]m?/,"").match(/[a-z]/))return s;return o<0||o>8099||e.match(/[^-0-9:,\/\\\ ]/)?s:r}function pm(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function MA(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function yn(e,i,t){if(e.FullPaths){var n;if("string"==typeof t)return n=Rn?Pu(t):function KUt(e){for(var i=[],t=0,n=e.length+250,r=vf(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)r[t++]=o;else if(o<2048)r[t++]=192|o>>6&31,r[t++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var l=1023&e.charCodeAt(++s);r[t++]=240|o>>8&7,r[t++]=128|o>>2&63,r[t++]=128|l>>6&15|(3&o)<<4,r[t++]=128|63&l}else r[t++]=224|o>>12&15,r[t++]=128|o>>6&63,r[t++]=128|63&o;t>n&&(i.push(r.slice(0,t)),t=0,r=vf(65535),n=65530)}return i.push(r.slice(0,t)),Us(i)}(t),Vi.utils.cfb_add(e,i,n);Vi.utils.cfb_add(e,i,t)}else e.file(i,t)}function VN(){return Vi.utils.cfb_new()}var zs='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',UN=AA({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),zN=/[&<>'"]/g,Xzt=/[\u0000-\u0008\u000b-\u001f\uFFFE-\uFFFF]/g;function _n(e){return(e+"").replace(zN,function(t){return UN[t]}).replace(Xzt,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function fet(e){return _n(e).replace(/ /g,"_x0020_")}var pet=/[\u0000-\u001f]/g;function B1(e){return(e+"").replace(zN,function(t){return UN[t]}).replace(/\n/g,"<br/>").replace(pet,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function GN(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0;t<e.length;)(n=e.charCodeAt(t++))<128?i+=String.fromCharCode(n):(r=e.charCodeAt(t++),n>191&&n<224?(o=(31&n)<<6,o|=63&r,i+=String.fromCharCode(o)):(s=e.charCodeAt(t++),n<240?i+=String.fromCharCode((15&n)<<12|(63&r)<<6|63&s):(l=((7&n)<<18|(63&r)<<12|(63&s)<<6|63&(o=e.charCodeAt(t++)))-65536,i+=String.fromCharCode(55296+(l>>>10&1023)),i+=String.fromCharCode(56320+(1023&l)))));return i}function get(e){var t,n,l,i=vf(2*e.length),r=1,s=0,o=0;for(n=0;n<e.length;n+=r)r=1,(l=e.charCodeAt(n))<128?t=l:l<224?(t=64*(31&l)+(63&e.charCodeAt(n+1)),r=2):l<240?(t=4096*(15&l)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),r=3):(r=4,t=262144*(7&l)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(i[s++]=255&o,i[s++]=o>>>8,o=0),i[s++]=t%256,i[s++]=t>>>8;return i.slice(0,s).toString("ucs2")}function vet(e){return Pu(e,"binary").toString("utf8")}var IA="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",wr=Rn&&(vet(IA)==GN(IA)&&vet||get(IA)==GN(IA)&&get)||GN,Lu=Rn?function(e){return Pu(e,"utf8").toString("binary")}:function(e){for(var i=[],t=0,n=0,r=0;t<e.length;)switch(n=e.charCodeAt(t++),!0){case n<128:i.push(String.fromCharCode(n));break;case n<2048:i.push(String.fromCharCode(192+(n>>6))),i.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,r=e.charCodeAt(t++)-56320+(n<<10),i.push(String.fromCharCode(240+(r>>18&7))),i.push(String.fromCharCode(144+(r>>12&63))),i.push(String.fromCharCode(128+(r>>6&63))),i.push(String.fromCharCode(128+(63&r)));break;default:i.push(String.fromCharCode(224+(n>>12))),i.push(String.fromCharCode(128+(n>>6&63))),i.push(String.fromCharCode(128+(63&n)))}return i.join("")},bet=/(^\s|\s$|\n)/;function Ja(e,i){return"<"+e+(i.match(bet)?' xml:space="preserve"':"")+">"+i+"</"+e+">"}function V1(e){return rs(e).map(function(i){return" "+i+'="'+e[i]+'"'}).join("")}function ii(e,i,t){return"<"+e+(null!=t?V1(t):"")+(null!=i?(i.match(bet)?' xml:space="preserve"':"")+">"+i+"</"+e:"/")+">"}function HN(e,i){try{return e.toISOString().replace(/\.\d*/,"")}catch(t){if(i)throw t}return""}var Ta={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},gm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Gl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"},wet=function(e){for(var i=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,s=e[0][n].length;r<s;r+=10240)i.push.apply(i,e[0][n].slice(r,r+10240));return i},Tet=Rn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(i){return Buffer.isBuffer(i)?i:Pu(i)})):wet(e)}:wet,Cet=function(e,i,t){for(var n=[],r=i;r<t;r+=2)n.push(String.fromCharCode($h(e,r)));return n.join("").replace(wo,"")},PA=Rn?function(e,i,t){return Buffer.isBuffer(e)&&I1?e.toString("utf16le",i,t).replace(wo,""):Cet(e,i,t)}:Cet,Eet=function(e,i,t){for(var n=[],r=i;r<i+t;++r)n.push(("0"+e[r].toString(16)).slice(-2));return n.join("")},_et=Rn?function(e,i,t){return Buffer.isBuffer(e)?e.toString("hex",i,i+t):Eet(e,i,t)}:Eet,Aet=function(e,i,t){for(var n=[],r=i;r<t;r++)n.push(String.fromCharCode(k0(e,r)));return n.join("")},P0=Rn?function(i,t,n){return Buffer.isBuffer(i)?i.toString("utf8",t,n):Aet(i,t,n)}:Aet,Det=function(e,i){var t=La(e,i);return t>0?P0(e,i+4,i+4+t-1):""},WN=Det,Met=function(e,i){var t=La(e,i);return t>0?P0(e,i+4,i+4+t-1):""},jN=Met,Iet=function(e,i){var t=2*La(e,i);return t>0?P0(e,i+4,i+4+t-1):""},XN=Iet,Ret=function(i,t){var n=La(i,t);return n>0?PA(i,t+4,t+4+n):""},YN=Ret,Pet=function(e,i){var t=La(e,i);return t>0?P0(e,i+4,i+4+t):""},$N=Pet,ket=function(e,i){return function Jzt(e,i){for(var t=1-2*(e[i+7]>>>7),n=((127&e[i+7])<<4)+(e[i+6]>>>4&15),r=15&e[i+6],s=5;s>=0;--s)r=256*r+e[i+s];return 2047==n?0==r?t*(1/0):NaN:(0==n?n=-1022:(n-=1023,r+=Math.pow(2,52)),t*Math.pow(2,n-52)*r)}(e,i)},kA=ket,QN=function(i){return Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array};Rn&&(WN=function(i,t){if(!Buffer.isBuffer(i))return Det(i,t);var n=i.readUInt32LE(t);return n>0?i.toString("utf8",t+4,t+4+n-1):""},jN=function(i,t){if(!Buffer.isBuffer(i))return Met(i,t);var n=i.readUInt32LE(t);return n>0?i.toString("utf8",t+4,t+4+n-1):""},XN=function(i,t){if(!Buffer.isBuffer(i)||!I1)return Iet(i,t);var n=2*i.readUInt32LE(t);return i.toString("utf16le",t+4,t+4+n-1)},YN=function(i,t){if(!Buffer.isBuffer(i)||!I1)return Ret(i,t);var n=i.readUInt32LE(t);return i.toString("utf16le",t+4,t+4+n)},$N=function(i,t){if(!Buffer.isBuffer(i))return Pet(i,t);var n=i.readUInt32LE(t);return i.toString("utf8",t+4,t+4+n)},kA=function(i,t){return Buffer.isBuffer(i)?i.readDoubleLE(t):ket(i,t)},QN=function(i){return Buffer.isBuffer(i)||Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array}),typeof En<"u"&&function Fet(){PA=function(e,i,t){return En.utils.decode(1200,e.slice(i,t)).replace(wo,"")},P0=function(e,i,t){return En.utils.decode(65001,e.slice(i,t))},WN=function(e,i){var t=La(e,i);return t>0?En.utils.decode(hm,e.slice(i+4,i+4+t-1)):""},jN=function(e,i){var t=La(e,i);return t>0?En.utils.decode(wa,e.slice(i+4,i+4+t-1)):""},XN=function(e,i){var t=2*La(e,i);return t>0?En.utils.decode(1200,e.slice(i+4,i+4+t-1)):""},YN=function(e,i){var t=La(e,i);return t>0?En.utils.decode(1200,e.slice(i+4,i+4+t)):""},$N=function(e,i){var t=La(e,i);return t>0?En.utils.decode(65001,e.slice(i+4,i+4+t)):""}}();var k0=function(e,i){return e[i]},$h=function(e,i){return 256*e[i+1]+e[i]},tGt=function(e,i){var t=256*e[i+1]+e[i];return t<32768?t:-1*(65535-t+1)},La=function(e,i){return e[i+3]*(1<<24)+(e[i+2]<<16)+(e[i+1]<<8)+e[i]},vm=function(e,i){return e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]},eGt=function(e,i){return e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]};function U1(e,i){var n,r,o,l,w,E,t="",s=[];switch(i){case"dbcs":if(E=this.l,Rn&&Buffer.isBuffer(this)&&I1)t=this.slice(this.l,this.l+2*e).toString("utf16le");else for(w=0;w<e;++w)t+=String.fromCharCode($h(this,E)),E+=2;e*=2;break;case"utf8":t=P0(this,this.l,this.l+e);break;case"utf16le":t=PA(this,this.l,this.l+(e*=2));break;case"wstr":if(!(typeof En<"u"))return U1.call(this,e,"dbcs");t=En.utils.decode(wa,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":t=WN(this,this.l),e=4+La(this,this.l);break;case"lpstr-cp":t=jN(this,this.l),e=4+La(this,this.l);break;case"lpwstr":t=XN(this,this.l),e=4+2*La(this,this.l);break;case"lpp4":e=4+La(this,this.l),t=YN(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+La(this,this.l),t=$N(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,t="";0!==(o=k0(this,this.l+e++));)s.push(M1(o));t=s.join("");break;case"_wstr":for(e=0,t="";0!==(o=$h(this,this.l+e));)s.push(M1(o)),e+=2;e+=2,t=s.join("");break;case"dbcs-cont":for(t="",E=this.l,w=0;w<e;++w){if(this.lens&&-1!==this.lens.indexOf(E))return o=k0(this,E),this.l=E+1,l=U1.call(this,e-w,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(M1($h(this,E))),E+=2}t=s.join(""),e*=2;break;case"cpstr":if(typeof En<"u"){t=En.utils.decode(wa,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(t="",E=this.l,w=0;w!=e;++w){if(this.lens&&-1!==this.lens.indexOf(E))return o=k0(this,E),this.l=E+1,l=U1.call(this,e-w,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(M1(k0(this,E))),E+=1}t=s.join("");break;default:switch(e){case 1:return n=k0(this,this.l),this.l++,n;case 2:return n=("i"===i?tGt:$h)(this,this.l),this.l+=2,n;case 4:case-4:return"i"!==i&&128&this[this.l+3]?(r=La(this,this.l),this.l+=4,r):(n=(e>0?vm:eGt)(this,this.l),this.l+=4,n);case 8:case-8:if("f"===i)return r=8==e?kA(this,this.l):kA([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:t=_et(this,this.l,e)}}return this.l+=e,t}var iGt=function(e,i,t){e[t]=255&i,e[t+1]=i>>>8&255,e[t+2]=i>>>16&255,e[t+3]=i>>>24&255},nGt=function(e,i,t){e[t]=255&i,e[t+1]=i>>8&255,e[t+2]=i>>16&255,e[t+3]=i>>24&255},rGt=function(e,i,t){e[t]=255&i,e[t+1]=i>>>8&255};function sGt(e,i,t){var n=0,r=0;if("dbcs"===t){for(r=0;r!=i.length;++r)rGt(this,i.charCodeAt(r),this.l+2*r);n=2*i.length}else if("sbcs"===t||"cpstr"==t)if(typeof En<"u"&&874==hm){for(r=0;r!=i.length;++r){var s=En.utils.encode(hm,i.charAt(r));this[this.l+r]=s[0]}n=i.length}else if(typeof En<"u"&&"cpstr"==t){if((s=En.utils.encode(wa,i)).length==i.length)for(r=0;r<i.length;++r)0==s[r]&&0!=i.charCodeAt(r)&&(s[r]=95);if(s.length==2*i.length)for(r=0;r<i.length;++r)0==s[2*r]&&0==s[2*r+1]&&0!=i.charCodeAt(r)&&(s[2*r]=95);for(r=0;r<s.length;++r)this[this.l+r]=s[r];n=s.length}else{for(i=i.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=i.length;++r)this[this.l+r]=255&i.charCodeAt(r);n=i.length}else{if("hex"===t){for(;r<e;++r)this[this.l++]=parseInt(i.slice(2*r,2*r+2),16)||0;return this}if("utf16le"===t){var o=Math.min(this.l+e,this.length);for(r=0;r<Math.min(i.length,e);++r){var l=i.charCodeAt(r);this[this.l++]=255&l,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&i;break;case 2:n=2,this[this.l]=255&i,this[this.l+1]=255&(i>>>=8);break;case 3:n=3,this[this.l]=255&i,this[this.l+1]=255&(i>>>=8),this[this.l+2]=255&(i>>>=8);break;case 4:n=4,iGt(this,i,this.l);break;case 8:if(n=8,"f"===t){!function qzt(e,i,t){var n=(i<0||1/i==-1/0?1:0)<<7,r=0,s=0,o=n?-i:i;isFinite(o)?0==o?r=s=0:(r=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(i)?26985:0);for(var l=0;l<=5;++l,s/=256)e[t+l]=255&s;e[t+6]=(15&r)<<4|15&s,e[t+7]=r>>4|n}(this,i,this.l);break}case 16:break;case-4:n=4,nGt(this,i,this.l)}}return this.l+=n,this}function Oet(e,i){var t=_et(this,this.l,e.length>>1);if(t!==e)throw new Error(i+"Expected "+e+" saw "+t);this.l+=e.length>>1}function Ca(e,i){e.l=i,e.read_shift=U1,e.chk=Oet,e.write_shift=sGt}function To(e,i){e.l+=i}function le(e){var i=vf(e);return Ca(i,0),i}function Co(){var e=[],i=Rn?256:2048,t=function(E){var D=le(E);return Ca(D,0),D},n=t(i),r=function(){n&&(n.l&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n)),n=null)},s=function(E){return n&&E<n.length-n.l?n:(r(),n=t(Math.max(E+1,i)))};return{next:s,push:function(E){r(),null==(n=E).l&&(n.l=n.length),s(i)},end:function(){return r(),Us(e)},_bufs:e}}function Re(e,i,t,n){var s,r=+i;if(!isNaN(r)){n||(n=cw[r].p||(t||[]).length||0),s=1+(r>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);r<=127?o.write_shift(1,r):(o.write_shift(1,128+(127&r)),o.write_shift(1,r>>7));for(var l=0;4!=l;++l){if(!(n>=128)){o.write_shift(1,n);break}o.write_shift(1,128+(127&n)),n>>=7}n>0&&QN(t)&&e.push(t)}}function z1(e,i,t){var n=br(e);if(i.s?(n.cRel&&(n.c+=i.s.c),n.rRel&&(n.r+=i.s.r)):(n.cRel&&(n.c+=i.c),n.rRel&&(n.r+=i.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Let(e,i,t){var n=br(e);return n.s=z1(n.s,i.s,t),n.e=z1(n.e,i.s,t),n}function G1(e,i){if(e.cRel&&e.c<0)for(e=br(e);e.c<0;)e.c+=i>8?16384:256;if(e.rRel&&e.r<0)for(e=br(e);e.r<0;)e.r+=i>8?1048576:i>5?65536:16384;var t=Pn(e);return!e.cRel&&null!=e.cRel&&(t=function lGt(e){return e.replace(/^([A-Z])/,"$$$1")}(t)),!e.rRel&&null!=e.rRel&&(t=function aGt(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(t)),t}function KN(e,i){return 0!=e.s.r||e.s.rRel||e.e.r!=(i.biff>=12?1048575:i.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(i.biff>=12?16383:255)||e.e.cRel?G1(e.s,i.biff)+":"+G1(e.e,i.biff):(e.s.rRel?"":"$")+Un(e.s.r)+":"+(e.e.rRel?"":"$")+Un(e.e.r):(e.s.cRel?"":"$")+xn(e.s.c)+":"+(e.e.cRel?"":"$")+xn(e.e.c)}function ZN(e){return parseInt(function oGt(e){return e.replace(/\$(\d+)$/,"$1")}(e),10)-1}function Un(e){return""+(e+1)}function JN(e){for(var i=function cGt(e){return e.replace(/^\$([A-Z])/,"$1")}(e),t=0,n=0;n!==i.length;++n)t=26*t+i.charCodeAt(n)-64;return t-1}function xn(e){if(e<0)throw new Error("invalid column "+e);var i="";for(++e;e;e=Math.floor((e-1)/26))i=String.fromCharCode((e-1)%26+65)+i;return i}function Tr(e){for(var i=0,t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=48&&r<=57?i=10*i+(r-48):r>=65&&r<=90&&(t=26*t+(r-64))}return{c:t-1,r:i-1}}function Pn(e){for(var i=e.c+1,t="";i;i=(i-1)/26|0)t=String.fromCharCode((i-1)%26+65)+t;return t+(e.r+1)}function Sa(e){var i=e.indexOf(":");return-1==i?{s:Tr(e),e:Tr(e)}:{s:Tr(e.slice(0,i)),e:Tr(e.slice(i+1))}}function bn(e,i){return typeof i>"u"||"number"==typeof i?bn(e.s,e.e):("string"!=typeof e&&(e=Pn(e)),"string"!=typeof i&&(i=Pn(i)),e==i?e:e+":"+i)}function H1(e){var i=Sa(e);return"$"+xn(i.s.c)+"$"+Un(i.s.r)+":$"+xn(i.e.c)+"$"+Un(i.e.r)}function W1(e,i){if(!(e||i&&i.biff<=5&&i.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e.replace(/'/g,"''")+"'":e}function $n(e){var i={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,r=0,s=e.length;for(t=0;n<s&&!((r=e.charCodeAt(n)-64)<1||r>26);++n)t=26*t+r;for(i.s.c=--t,t=0;n<s&&!((r=e.charCodeAt(n)-48)<0||r>9);++n)t=10*t+r;if(i.s.r=--t,n===s||10!=r)return i.e.c=i.s.c,i.e.r=i.s.r,i;for(++n,t=0;n!=s&&!((r=e.charCodeAt(n)-64)<1||r>26);++n)t=26*t+r;for(i.e.c=--t,t=0;n!=s&&!((r=e.charCodeAt(n)-48)<0||r>9);++n)t=10*t+r;return i.e.r=--t,i}function Nu(e,i,t){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&t&&t.dateNF&&(e.z=t.dateNF),"e"==e.t?vc[e.v]||e.v:function Net(e,i){var t="d"==e.t&&i instanceof Date;if(null!=e.z)try{return e.w=fl(e.z,t?ws(i):i)}catch{}try{return e.w=fl((e.XF||{}).numFmtId||(t?14:0),t?ws(i):i)}catch{return""+i}}(e,null==i?e.v:i))}function xf(e,i){var t=i&&i.sheet?i.sheet:"Sheet1",n={};return n[t]=e,{SheetNames:[t],Sheets:n}}function Bet(e,i,t){var n=t||{},r=e?null!=e["!data"]:n.dense;null!=Vs&&null==r&&(r=Vs);var s=e||{};r&&!s["!data"]&&(s["!data"]=[]);var o=0,l=0;if(s&&null!=n.origin)if("number"==typeof n.origin)o=n.origin;else{var w="string"==typeof n.origin?Tr(n.origin):n.origin;o=w.r,l=w.c}var E={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var D=$n(s["!ref"]);E.s.c=D.s.c,E.s.r=D.s.r,E.e.c=Math.max(E.e.c,D.e.c),E.e.r=Math.max(E.e.r,D.e.r),-1==o&&(E.e.r=o=s["!ref"]?D.e.r+1:0)}else E.s.c=E.e.c=E.s.r=E.e.r=0;for(var k=[],O=!1,L=0;L!=i.length;++L)if(i[L]){if(!Array.isArray(i[L]))throw new Error("aoa_to_sheet expects an array of arrays");var U=o+L,j=""+(U+1);r&&(s["!data"][U]||(s["!data"][U]=[]),k=s["!data"][U]);for(var W=0;W!=i[L].length;++W)if(!(typeof i[L][W]>"u")){var Z={v:i[L][W]},rt=l+W;if(E.s.r>U&&(E.s.r=U),E.s.c>rt&&(E.s.c=rt),E.e.r<U&&(E.e.r=U),E.e.c<rt&&(E.e.c=rt),O=!0,!i[L][W]||"object"!=typeof i[L][W]||Array.isArray(i[L][W])||i[L][W]instanceof Date)if(Array.isArray(Z.v)&&(Z.f=i[L][W][1],Z.v=Z.v[0]),null===Z.v)if(Z.f)Z.t="n";else if(n.nullError)Z.t="e",Z.v=0;else{if(!n.sheetStubs)continue;Z.t="z"}else"number"==typeof Z.v?Z.t="n":"boolean"==typeof Z.v?Z.t="b":Z.v instanceof Date?(Z.z=n.dateNF||Ni[14],n.UTC||(Z.v=MA(Z.v)),n.cellDates?(Z.t="d",Z.w=fl(Z.z,ws(Z.v,n.date1904))):(Z.t="n",Z.v=ws(Z.v,n.date1904),Z.w=fl(Z.z,Z.v))):Z.t="s";else Z=i[L][W];if(r)k[rt]&&k[rt].z&&(Z.z=k[rt].z),k[rt]=Z;else{var st=xn(rt)+j;s[st]&&s[st].z&&(Z.z=s[st].z),s[st]=Z}}}return O&&E.s.c<104e5&&(s["!ref"]=bn(E)),s}function F0(e,i){return Bet(null,e,i)}function Gc(e,i){return i||(i=le(4)),i.write_shift(4,e),i}function So(e){var i=e.read_shift(4);return 0===i?"":e.read_shift(i,"dbcs")}function Ea(e,i){var t=!1;return null==i&&(t=!0,i=le(4+2*e.length)),i.write_shift(4,e.length),e.length>0&&i.write_shift(0,e,"dbcs"),t?i.slice(0,i.l):i}function fGt(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function qN(e,i){var t=e.l,n=e.read_shift(1),r=So(e),s=[],o={t:r,h:r};if(1&n){for(var l=e.read_shift(4),w=0;w!=l;++w)s.push(fGt(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=t+i,o}var gGt=qN;function gc(e){var i=e.read_shift(4),t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:i,iStyleRef:t}}function ym(e,i){return null==i&&(i=le(8)),i.write_shift(-4,e.c),i.write_shift(3,e.iStyleRef||e.s),i.write_shift(1,0),i}function xm(e){var i=e.read_shift(2);return i+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:i}}function bm(e,i){return null==i&&(i=le(4)),i.write_shift(3,e.iStyleRef||e.s),i.write_shift(1,0),i}var yGt=So,Vet=Ea;function FA(e){var i=e.read_shift(4);return 0===i||4294967295===i?"":e.read_shift(i,"dbcs")}function j1(e,i){var t=!1;return null==i&&(t=!0,i=le(127)),i.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&i.write_shift(0,e,"dbcs"),t?i.slice(0,i.l):i}var xGt=So,t4=FA,e4=j1;function OA(e){var i=e.slice(e.l,e.l+4),t=1&i[0],n=2&i[0];e.l+=4;var r=0===n?kA([0,0,0,0,252&i[0],i[1],i[2],i[3]],0):vm(i,0)>>2;return t?r/100:r}function Uet(e,i){null==i&&(i=le(4));var t=0,n=0,r=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:r==(0|r)&&r>=-(1<<29)&&r<1<<29&&(n=1,t=1),!n)throw new Error("unsupported RkNumber "+e);i.write_shift(-4,((t?r:e)<<2)+(t+2))}function zet(e){var i={s:{},e:{}};return i.s.r=e.read_shift(4),i.e.r=e.read_shift(4),i.s.c=e.read_shift(4),i.e.c=e.read_shift(4),i}var wm=zet,O0=function bGt(e,i){return i||(i=le(16)),i.write_shift(4,e.s.r),i.write_shift(4,e.e.r),i.write_shift(4,e.s.c),i.write_shift(4,e.e.c),i};function Eo(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Tm(e,i){return(i||le(8)).write_shift(8,e,"f")}function LA(e,i){if(i||(i=le(8)),!e||e.auto)return i.write_shift(4,0),i.write_shift(4,0),i;null!=e.index?(i.write_shift(1,2),i.write_shift(1,e.index)):null!=e.theme?(i.write_shift(1,6),i.write_shift(1,e.theme)):(i.write_shift(1,5),i.write_shift(1,0));var t=e.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),i.write_shift(2,t),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),i.write_shift(1,parseInt(n.slice(0,2),16)),i.write_shift(1,parseInt(n.slice(2,4),16)),i.write_shift(1,parseInt(n.slice(4,6),16)),i.write_shift(1,255)}else i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0);return i}var r4={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},s4={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function PGt(e){return e.map(function(i){return[i>>16&255,i>>8&255,255&i]})}var Cm=br(PGt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),vc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},X1={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},a4=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],o4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},UA={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Xet(e,i,t){var s,n=function Szt(e){for(var i=[],t=rs(e),n=0;n!==t.length;++n)null==i[e[t[n]]]&&(i[e[t[n]]]=[]),i[e[t[n]]].push(t[n]);return i}(o4),r=[];t||(r[r.length]=zs,r[r.length]=ii("Types",null,{xmlns:Ta.CT,"xmlns:xsd":Ta.xsd,"xmlns:xsi":Ta.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(E){return ii("Default",null,{Extension:E[0],ContentType:E[1]})})));var o=function(E){e[E]&&e[E].length>0&&(r[r.length]=ii("Override",null,{PartName:("/"==(s=e[E][0])[0]?"":"/")+s,ContentType:UA[E][i.bookType]||UA[E].xlsx}))},l=function(E){(e[E]||[]).forEach(function(D){r[r.length]=ii("Override",null,{PartName:("/"==D[0]?"":"/")+D,ContentType:UA[E][i.bookType]||UA[E].xlsx})})},w=function(E){(e[E]||[]).forEach(function(D){r[r.length]=ii("Override",null,{PartName:("/"==D[0]?"":"/")+D,ContentType:n[E][0]})})};return o("workbooks"),l("sheets"),l("charts"),w("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(w),w("vba"),w("comments"),w("threadedcomments"),w("drawings"),l("metadata"),w("people"),!t&&r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var wn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",CONN:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Y1(e){var i=e.lastIndexOf("/");return e.slice(0,i+1)+"_rels/"+e.slice(i+1)+".rels"}function L0(e){var i=[zs,ii("Relationships",null,{xmlns:Ta.RELS})];return rs(e["!id"]).forEach(function(t){i[i.length]=ii("Relationship",null,e["!id"][t])}),i.length>2&&(i[i.length]="</Relationships>",i[1]=i[1].replace("/>",">")),i.join("")}function vr(e,i,t,n,r,s){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),i<0)for(i=e["!idx"];e["!id"]["rId"+i];++i);if(e["!idx"]=i+1,r.Id="rId"+i,r.Type=n,r.Target=t,s?r.TargetMode=s:[wn.HLINK,wn.XPATH,wn.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+i);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,i}function Yet(e,i,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+i+'"/>\n',"  </rdf:Description>\n"].join("")}function BGt(e,i){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+i+'"/>\n',"  </rdf:Description>\n"].join("")}function $et(e,i){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+D1.version+"</meta:generator></office:meta></office:document-meta>"}var Kh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function c4(e,i,t,n,r){null!=r[e]||null==i||""===i||(r[e]=i,i=_n(i),n[n.length]=t?ii(e,i,t):Ja(e,i))}function Ket(e,i){var t=i||{},n=[zs,ii("cp:coreProperties",null,{"xmlns:cp":Ta.CORE_PROPS,"xmlns:dc":Ta.dc,"xmlns:dcterms":Ta.dcterms,"xmlns:dcmitype":Ta.dcmitype,"xmlns:xsi":Ta.xsi})],r={};if(!e&&!t.Props)return n.join("");e&&(null!=e.CreatedDate&&c4("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:HN(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r),null!=e.ModifiedDate&&c4("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:HN(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r));for(var s=0;s!=Kh.length;++s){var o=Kh[s],l=t.Props&&null!=t.Props[o[1]]?t.Props[o[1]]:e?e[o[1]]:null;!0===l?l="1":!1===l?l="0":"number"==typeof l&&(l=String(l)),null!=l&&c4(o[0],l,null,n,r)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Sm=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Zet=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function qet(e){var i=[],t=ii;return e||(e={}),e.Application="SheetJS",i[i.length]=zs,i[i.length]=ii("Properties",null,{xmlns:Ta.EXT_PROPS,"xmlns:vt":Ta.vt}),Sm.forEach(function(n){if(void 0!==e[n[1]]){var r;switch(n[2]){case"string":r=_n(String(e[n[1]]));break;case"bool":r=e[n[1]]?"true":"false"}void 0!==r&&(i[i.length]=t(n[0],r))}}),i[i.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),i[i.length]=t("TitlesOfParts",t("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+_n(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}function tit(e){var i=[zs,ii("Properties",null,{xmlns:Ta.CUST_PROPS,"xmlns:vt":Ta.vt})];if(!e)return i.join("");var t=1;return rs(e).forEach(function(r){++t,i[i.length]=ii("property",function Zzt(e,i){switch(typeof e){case"string":var t=ii("vt:lpwstr",_n(e));return i&&(t=t.replace(/&quot;/g,"_x0022_")),t;case"number":return ii((0|e)==e?"vt:i4":"vt:r8",_n(String(e)));case"boolean":return ii("vt:bool",e?"true":"false")}if(e instanceof Date)return ii("vt:filetime",HN(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:_n(r)})}),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}var u4={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function ait(e,i){var t=le(4),n=le(4);switch(t.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,i);break;case 5:(n=le(8)).write_shift(8,i,"f");break;case 11:n.write_shift(4,i?1:0);break;case 64:n=function XGt(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var s=(n*=1e7)/Math.pow(2,32)|0;s>0&&(n%=Math.pow(2,32),r+=s);var o=le(8);return o.write_shift(4,n),o.write_shift(4,r),o}(i);break;case 31:case 80:for((n=le(4+2*(i.length+1)+(i.length%2?0:2))).write_shift(4,i.length+1),n.write_shift(0,i,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+i)}return Us([t,n])}var lit=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function qGt(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function cit(e,i,t){var n=le(8),r=[],s=[],o=8,l=0,w=le(8),E=le(8);if(w.write_shift(4,2),w.write_shift(4,1200),E.write_shift(4,1),s.push(w),r.push(E),o+=8+w.length,!i){(E=le(8)).write_shift(4,0),r.unshift(E);var D=[le(4)];for(D[0].write_shift(4,e.length),l=0;l<e.length;++l){var k=e[l][0];for((w=le(8+2*(k.length+1)+(k.length%2?0:2))).write_shift(4,l+2),w.write_shift(4,k.length+1),w.write_shift(0,k,"dbcs");w.l!=w.length;)w.write_shift(1,0);D.push(w)}w=Us(D),s.unshift(w),o+=8+w.length}for(l=0;l<e.length;++l)if((!i||i[e[l][0]])&&!(lit.indexOf(e[l][0])>-1||Zet.indexOf(e[l][0])>-1)&&null!=e[l][1]){var O=e[l][1],L=0;if(i){var U=t[L=+i[e[l][0]]];if("version"==U.p&&"string"==typeof O){var j=O.split(".");O=(+j[0]<<16)+(+j[1]||0)}w=ait(U.t,O)}else{var W=qGt(O);-1==W&&(W=31,O=String(O)),w=ait(W,O)}s.push(w),(E=le(8)).write_shift(4,i?L:2+l),r.push(E),o+=8+w.length}var Z=8*(s.length+1);for(l=0;l<s.length;++l)r[l].write_shift(4,Z),Z+=s[l].length;return n.write_shift(4,o),n.write_shift(4,s.length),Us([n].concat(r).concat(s))}function hit(e,i,t,n,r,s){var o=le(r?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Vi.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,i,"hex"),o.write_shift(4,r?68:48);var w=cit(e,t,n);if(l.push(w),r){var E=cit(r,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+w.length),l.push(E)}return Us(l)}function _o(e,i){return i||(i=le(2)),i.write_shift(2,+!!e),i}function As(e){return e.read_shift(2,"u")}function yc(e,i){return i||(i=le(2)),i.write_shift(2,e),i}function pit(e,i,t){return t||(t=le(2)),t.write_shift(1,"e"==i?+e:+!!e),t.write_shift(1,"e"==i?1:0),t}function N0(e,i,t){var n=e.read_shift(t&&t.biff>=12?2:1),r="sbcs-cont",s=wa;t&&t.biff>=8&&(wa=1200),t&&8!=t.biff?12==t.biff&&(r="wstr"):e.read_shift(1)&&(r="dbcs-cont"),t.biff>=2&&t.biff<=5&&(r="cpstr");var l=n?e.read_shift(n,r):"";return wa=s,l}function nHt(e){var i=e.t||"",n=le(3);n.write_shift(2,i.length),n.write_shift(1,1);var r=le(2*i.length);return r.write_shift(2*i.length,i,"utf16le"),Us([n,r])}function mit(e,i,t){return t||(t=le(3+2*e.length)),t.write_shift(2,e.length),t.write_shift(1,1),t.write_shift(31,e,"utf16le"),t}function git(e,i){i||(i=le(6+2*e.length)),i.write_shift(4,1+e.length);for(var t=0;t<e.length;++t)i.write_shift(2,e.charCodeAt(t));return i.write_shift(2,0),i}function cHt(e){var i=le(512),t=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var r=n.indexOf("#"),s=r>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3}i.write_shift(4,2),i.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)i.write_shift(4,o[t]);if(28==s)git(n=n.slice(1),i);else if(2&s){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)i.write_shift(1,parseInt(o[t],16));var l=r>-1?n.slice(0,r):n;for(i.write_shift(4,2*(l.length+1)),t=0;t<l.length;++t)i.write_shift(2,l.charCodeAt(t));i.write_shift(2,0),8&s&&git(r>-1?n.slice(r+1):"",i)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)i.write_shift(1,parseInt(o[t],16));for(var w=0;"../"==n.slice(3*w,3*w+3)||"..\\"==n.slice(3*w,3*w+3);)++w;for(i.write_shift(2,w),i.write_shift(4,n.length-3*w+1),t=0;t<n.length-3*w;++t)i.write_shift(1,255&n.charCodeAt(t+3*w));for(i.write_shift(1,0),i.write_shift(2,65535),i.write_shift(2,57005),t=0;t<6;++t)i.write_shift(4,0)}return i.slice(0,i.l)}function Am(e,i,t,n){return n||(n=le(6)),n.write_shift(2,e),n.write_shift(2,i),n.write_shift(2,t||0),n}function dHt(e,i,t){var n=t.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function HA(e){var i=e.read_shift(2),t=e.read_shift(2);return{s:{c:e.read_shift(2),r:i},e:{c:e.read_shift(2),r:t}}}function bit(e,i){return i||(i=le(8)),i.write_shift(2,e.s.r),i.write_shift(2,e.e.r),i.write_shift(2,e.s.c),i.write_shift(2,e.e.c),i}function p4(e,i,t){var n=1536,r=16;switch(t.bookType){case"biff8":case"xla":break;case"biff5":n=1280,r=8;break;case"biff4":n=4,r=6;break;case"biff3":n=3,r=6;break;case"biff2":n=2,r=4;break;default:throw new Error("unsupported BIFF version")}var s=le(r);return s.write_shift(2,n),s.write_shift(2,i),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function SHt(e,i){var t=!i||i.biff>=8?2:1,n=le(8+t*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),i.biff>=8&&n.write_shift(1,1),n.write_shift(t*e.name.length,e.name,i.biff<8?"sbcs":"utf16le");var r=n.slice(0,n.l);return r.l=n.l,r}function HHt(e,i,t,n){var r=t&&5==t.biff;n||(n=le(r?3+i.length:5+2*i.length)),n.write_shift(2,e),n.write_shift(r?1:2,i.length),r||n.write_shift(1,1),n.write_shift((r?1:2)*i.length,i,r?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return null==s.l&&(s.l=s.length),s}function Eit(e,i,t,n){var r=t&&5==t.biff;n||(n=le(r?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,i<<4));var s=0;return e.numFmtId>0&&r&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),r||n.write_shift(4,0),n.write_shift(2,0),n}function _it(e){var i=le(12);return i.l++,i.write_shift(1,e.numFmtId),i.l+=10,i}var e7t=_it;function m4(e,i,t,n,r,s){var o=le(8);return Am(e,i,n,o),pit(t,s,o),o}function g4(e,i,t,n){var r=le(6+(n||e.length));return r.write_shift(2,i),r.write_shift(2,t),r.write_shift(2,n||e.length),r.write_shift(e.length,e,"sbcs"),r}function T7t(e){var i=le(24),t=Tr(e[0]);i.write_shift(2,t.r),i.write_shift(2,t.r),i.write_shift(2,t.c),i.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)i.write_shift(1,parseInt(n[r],16));return Us([i,cHt(e[1])])}function S7t(e){var i=e[1].Tooltip,t=le(10+2*(i.length+1));t.write_shift(2,2048);var n=Tr(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r=0;r<i.length;++r)t.write_shift(2,i.charCodeAt(r));return t.write_shift(2,0),t}function K1(e,i,t,n,r){return e||(e=le(7)),e.write_shift(2,i),e.write_shift(2,t),e.write_shift(1,n||0),e.write_shift(1,r||0),e.write_shift(1,0),e}var v4=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},i=AA({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,w){var E=w||{};E.dateNF||(E.dateNF="yyyymmdd");var D=F0(function t(l,w){var E=[],D=vf(1);switch(w.type){case"base64":D=Qo(Vl(l));break;case"binary":D=Qo(l);break;case"buffer":case"array":D=l}Ca(D,0);var k=D.read_shift(1),O=!!(136&k),L=!1,U=!1;switch(k){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:L=!0,O=!0;break;case 140:U=!0;break;default:throw new Error("DBF Unsupported Version: "+k.toString(16))}var j=0,W=521;2==k&&(j=D.read_shift(2)),D.l+=3,2!=k&&(j=D.read_shift(4)),j>1048576&&(j=1e6),2!=k&&(W=D.read_shift(2));var Z=D.read_shift(2),rt=w.codepage||1252;2!=k&&(D.l+=16,D.read_shift(1),0!==D[D.l]&&(rt=e[D[D.l]]),D.l+=1,D.l+=2),U&&(D.l+=36);for(var st=[],yt={},Tt=Math.min(D.length,2==k?521:W-10-(L?264:0)),It=U?32:11;D.l<Tt&&13!=D[D.l];)switch(yt={},yt.name=(typeof En<"u"?En.utils.decode(rt,D.slice(D.l,D.l+It)):ku(D.slice(D.l,D.l+It))).replace(/[\u0000\r\n][\S\s]*$/g,""),D.l+=It,yt.type=String.fromCharCode(D.read_shift(1)),2!=k&&!U&&(yt.offset=D.read_shift(4)),yt.len=D.read_shift(1),2==k&&(yt.offset=D.read_shift(2)),yt.dec=D.read_shift(1),yt.name.length&&st.push(yt),2!=k&&(D.l+=U?13:14),yt.type){case"B":(!L||8!=yt.len)&&w.WTF&&console.log("Skipping "+yt.name+":"+yt.type);break;case"G":case"P":w.WTF&&console.log("Skipping "+yt.name+":"+yt.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+yt.type)}if(13!==D[D.l]&&(D.l=W-1),13!==D.read_shift(1))throw new Error("DBF Terminator not found "+D.l+" "+D[D.l]);D.l=W;var ft=0,ht=0;for(E[0]=[],ht=0;ht!=st.length;++ht)E[0][ht]=st[ht].name;for(;j-- >0;)if(42!==D[D.l])for(++D.l,E[++ft]=[],ht=0,ht=0;ht!=st.length;++ht){var mt=D.slice(D.l,D.l+st[ht].len);D.l+=st[ht].len,Ca(mt,0);var wt=typeof En<"u"?En.utils.decode(rt,mt):ku(mt);switch(st[ht].type){case"C":wt.trim().length&&(E[ft][ht]=wt.replace(/([^\s])\s+$/,"$1"));break;case"D":8===wt.length?(E[ft][ht]=new Date(Date.UTC(+wt.slice(0,4),+wt.slice(4,6)-1,+wt.slice(6,8),0,0,0,0)),w&&w.UTC||(E[ft][ht]=pm(E[ft][ht]))):E[ft][ht]=wt;break;case"F":E[ft][ht]=parseFloat(wt.trim());break;case"+":case"I":E[ft][ht]=U?2147483648^mt.read_shift(-4,"i"):mt.read_shift(4,"i");break;case"L":switch(wt.trim().toUpperCase()){case"Y":case"T":E[ft][ht]=!0;break;case"N":case"F":E[ft][ht]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+wt+"|")}break;case"M":if(!O)throw new Error("DBF Unexpected MEMO for type "+k.toString(16));E[ft][ht]="##MEMO##"+(U?parseInt(wt.trim(),10):mt.read_shift(4));break;case"N":(wt=wt.replace(/\u0000/g,"").trim())&&"."!=wt&&(E[ft][ht]=+wt||0);break;case"@":E[ft][ht]=new Date(mt.read_shift(-8,"f")-621356832e5);break;case"T":var Ct=mt.read_shift(4),_t=mt.read_shift(4);if(0==Ct&&0==_t)break;E[ft][ht]=new Date(864e5*(Ct-2440588)+_t),w&&w.UTC||(E[ft][ht]=pm(E[ft][ht]));break;case"Y":E[ft][ht]=mt.read_shift(4,"i")/1e4+mt.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":E[ft][ht]=-mt.read_shift(-8,"f");break;case"B":if(L&&8==st[ht].len){E[ft][ht]=mt.read_shift(8,"f");break}case"G":case"P":mt.l+=st[ht].len;break;case"0":if("_NullFlags"===st[ht].name)break;default:throw new Error("DBF Unsupported data type "+st[ht].type)}}else D.l+=Z;if(2!=k&&D.l<D.length&&26!=D[D.l++])throw new Error("DBF EOF Marker missing "+(D.l-1)+" of "+D.length+" "+D[D.l-1].toString(16));return w&&w.sheetRows&&(E=E.slice(0,w.sheetRows)),w.DBF=st,E}(l,E),E);return D["!cols"]=E.DBF.map(function(k){return{wch:k.len,DBF:k}}),delete E.DBF,D}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function r(l,w){try{var E=xf(n(l,w),w);return E.bookType="dbf",E}catch(D){if(w&&w.WTF)throw D}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function o(l,w){if(!l["!ref"])throw new Error("Cannot export empty sheet to DBF");var E=w||{},D=wa;if(+E.codepage>=0&&dc(+E.codepage),"string"==E.type)throw new Error("Cannot write DBF to JS string");var k=Co(),O=$4(l,{header:1,raw:!0,cellDates:!0}),L=O[0],U=O.slice(1),j=l["!cols"]||[],W=0,Z=0,rt=0,st=1;for(W=0;W<L.length;++W)if(((j[W]||{}).DBF||{}).name)L[W]=j[W].DBF.name,++rt;else if(null!=L[W]){if(++rt,"number"==typeof L[W]&&(L[W]=L[W].toString(10)),"string"!=typeof L[W])throw new Error("DBF Invalid column name "+L[W]+" |"+typeof L[W]+"|");if(L.indexOf(L[W])!==W)for(Z=0;Z<1024;++Z)if(-1==L.indexOf(L[W]+"_"+Z)){L[W]+="_"+Z;break}}var yt=$n(l["!ref"]),Tt=[],It=[],ft=[];for(W=0;W<=yt.e.c-yt.s.c;++W){var ht="",mt="",wt=0,Ct=[];for(Z=0;Z<U.length;++Z)null!=U[Z][W]&&Ct.push(U[Z][W]);if(0!=Ct.length&&null!=L[W]){for(Z=0;Z<Ct.length;++Z){switch(typeof Ct[Z]){case"number":mt="B";break;case"string":default:mt="C";break;case"boolean":mt="L";break;case"object":mt=Ct[Z]instanceof Date?"D":"C"}wt=Math.max(wt,(typeof En<"u"&&"string"==typeof Ct[Z]?En.utils.encode(hm,Ct[Z]):String(Ct[Z])).length),ht=ht&&ht!=mt?"C":mt}wt>250&&(wt=250),"C"==(mt=((j[W]||{}).DBF||{}).type)&&j[W].DBF.len>wt&&(wt=j[W].DBF.len),"B"==ht&&"N"==mt&&(ht="N",ft[W]=j[W].DBF.dec,wt=j[W].DBF.len),It[W]="C"==ht||"N"==mt?wt:s[ht]||0,st+=It[W],Tt[W]=ht}else Tt[W]="?"}var _t=k.next(32);for(_t.write_shift(4,318902576),_t.write_shift(4,U.length),_t.write_shift(2,296+32*rt),_t.write_shift(2,st),W=0;W<4;++W)_t.write_shift(4,0);var Dt=+i[wa]||3;for(_t.write_shift(4,Dt<<8),e[Dt]!=+E.codepage&&(E.codepage&&console.error("DBF Unsupported codepage "+wa+", using 1252"),wa=1252),W=0,Z=0;W<L.length;++W)if(null!=L[W]){var Ue=k.next(32),Te=(L[W].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Ue.write_shift(1,Te,"sbcs"),Ue.write_shift(1,"?"==Tt[W]?"C":Tt[W],"sbcs"),Ue.write_shift(4,Z),Ue.write_shift(1,It[W]||s[Tt[W]]||0),Ue.write_shift(1,ft[W]||0),Ue.write_shift(1,2),Ue.write_shift(4,0),Ue.write_shift(1,0),Ue.write_shift(4,0),Ue.write_shift(4,0),Z+=It[W]||s[Tt[W]]||0}var ve=k.next(264);for(ve.write_shift(4,13),W=0;W<65;++W)ve.write_shift(4,0);for(W=0;W<U.length;++W){var qt=k.next(st);for(qt.write_shift(1,0),Z=0;Z<L.length;++Z)if(null!=L[Z])switch(Tt[Z]){case"L":qt.write_shift(1,null==U[W][Z]?63:U[W][Z]?84:70);break;case"B":qt.write_shift(8,U[W][Z]||0,"f");break;case"N":var _e="0";for("number"==typeof U[W][Z]&&(_e=U[W][Z].toFixed(ft[Z]||0)),_e.length>It[Z]&&(_e=_e.slice(0,It[Z])),rt=0;rt<It[Z]-_e.length;++rt)qt.write_shift(1,32);qt.write_shift(1,_e,"sbcs");break;case"D":U[W][Z]?(qt.write_shift(4,("0000"+U[W][Z].getFullYear()).slice(-4),"sbcs"),qt.write_shift(2,("00"+(U[W][Z].getMonth()+1)).slice(-2),"sbcs"),qt.write_shift(2,("00"+U[W][Z].getDate()).slice(-2),"sbcs")):qt.write_shift(8,"00000000","sbcs");break;case"C":var ze=qt.l,Me=String(null!=U[W][Z]?U[W][Z]:"").slice(0,It[Z]);for(qt.write_shift(1,Me,"cpstr"),ze+=It[Z]-qt.l,rt=0;rt<ze;++rt)qt.write_shift(1,32)}}return wa=D,k.next(1).write_shift(1,26),k.end()}}}(),Fit=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},i=new RegExp("\x1bN("+rs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{i=new RegExp("\x1bN("+rs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var t=function(L,U){var j=e[U];return"number"==typeof j?IN(j):j},n=function(L,U,j){var W=U.charCodeAt(0)-32<<4|j.charCodeAt(0)-48;return 59==W?L:IN(W)};e["|"]=254;function o(L,U){var _t,j=L.split(/[\n\r]+/),W=-1,Z=-1,rt=0,st=0,yt=[],Tt=[],It=null,ft={},ht=[],mt=[],wt=[],Ct=0,Dt={Workbook:{WBProps:{},Names:[]}};for(+U.codepage>=0&&dc(+U.codepage);rt!==j.length;++rt){Ct=0;var qt,Ue=j[rt].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(i,t),Te=Ue.replace(/;;/g,"\0").split(";").map(function(Yt){return Yt.replace(/\u0000/g,";")});if(Ue.length>0)switch(Te[0]){case"ID":case"E":case"B":case"W":break;case"O":for(st=1;st<Te.length;++st)if("V"===Te[st].charAt(0)){var _e=parseInt(Te[st].slice(1),10);_e>=1&&_e<=4&&(Dt.Workbook.WBProps.date1904=!0)}break;case"P":"P"===Te[1].charAt(0)&&Tt.push(Ue.slice(3).replace(/;;/g,";"));break;case"NN":var ze={Sheet:0};for(st=1;st<Te.length;++st)switch(Te[st].charAt(0)){case"N":ze.Name=Te[st].slice(1);break;case"E":ze.Ref=(U&&U.sheet||"Sheet1")+"!"+Mm(Te[st].slice(1))}Dt.Workbook.Names.push(ze);break;case"C":var Me=!1,Ii=!1,ee=!1,Ne=!1,De=-1,fi=-1,vi="",hi="z",Ot="";for(st=1;st<Te.length;++st)switch(Te[st].charAt(0)){case"A":Ot=Te[st].slice(1);break;case"X":Z=parseInt(Te[st].slice(1),10)-1,Ii=!0;break;case"Y":for(W=parseInt(Te[st].slice(1),10)-1,Ii||(Z=0),_t=yt.length;_t<=W;++_t)yt[_t]=[];break;case"K":'"'===(qt=Te[st].slice(1)).charAt(0)?(qt=qt.slice(1,qt.length-1),hi="s"):"TRUE"===qt||"FALSE"===qt?(qt="TRUE"===qt,hi="b"):"#"==qt.charAt(0)&&null!=X1[qt]?(hi="e",qt=X1[qt]):isNaN(zl(qt))||(qt=zl(qt),hi="n",null!==It&&Ul(It)&&U.cellDates&&(hi="number"==typeof(qt=Yh(Dt.Workbook.WBProps.date1904?qt+1462:qt))?"n":"d")),typeof En<"u"&&"string"==typeof qt&&"string"!=(U||{}).type&&(U||{}).codepage&&(qt=En.utils.decode(U.codepage,qt)),Me=!0;break;case"E":Ne=!0,vi=Mm(Te[st].slice(1),{r:W,c:Z});break;case"S":ee=!0;break;case"G":break;case"R":De=parseInt(Te[st].slice(1),10)-1;break;case"C":fi=parseInt(Te[st].slice(1),10)-1;break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Ue)}if(Me&&(yt[W][Z]?(yt[W][Z].t=hi,yt[W][Z].v=qt):yt[W][Z]={t:hi,v:qt},It&&(yt[W][Z].z=It),!1!==U.cellText&&It&&(yt[W][Z].w=fl(yt[W][Z].z,yt[W][Z].v,{date1904:Dt.Workbook.WBProps.date1904})),It=null),ee){if(Ne)throw new Error("SYLK shared formula cannot have own formula");var Qt=De>-1&&yt[De][fi];if(!Qt||!Qt[1])throw new Error("SYLK shared formula cannot find base");vi=Zit(Qt[1],{r:W-De,c:Z-fi})}vi&&(yt[W][Z]?yt[W][Z].f=vi:yt[W][Z]={t:"n",f:vi}),Ot&&(yt[W][Z]||(yt[W][Z]={t:"z"}),yt[W][Z].c=[{a:"SheetJSYLK",t:Ot}]);break;case"F":var $t=0;for(st=1;st<Te.length;++st)switch(Te[st].charAt(0)){case"X":Z=parseInt(Te[st].slice(1),10)-1,++$t;break;case"Y":for(W=parseInt(Te[st].slice(1),10)-1,_t=yt.length;_t<=W;++_t)yt[_t]=[];break;case"M":Ct=parseInt(Te[st].slice(1),10)/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":It=Tt[parseInt(Te[st].slice(1),10)];break;case"W":for(wt=Te[st].slice(1).split(" "),_t=parseInt(wt[0],10);_t<=parseInt(wt[1],10);++_t)Ct=parseInt(wt[2],10),mt[_t-1]=0===Ct?{hidden:!0}:{wch:Ct};break;case"C":mt[Z=parseInt(Te[st].slice(1),10)-1]||(mt[Z]={});break;case"R":ht[W=parseInt(Te[st].slice(1),10)-1]||(ht[W]={}),Ct>0?(ht[W].hpt=Ct,ht[W].hpx=V0(Ct)):0===Ct&&(ht[W].hidden=!0);break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Ue)}$t<1&&(It=null);break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Ue)}}return ht.length>0&&(ft["!rows"]=ht),mt.length>0&&(ft["!cols"]=mt),mt.forEach(function(Yt){wf(Yt)}),U&&U.sheetRows&&(yt=yt.slice(0,U.sheetRows)),[yt,ft,Dt]}function w(L,U,j,W,Z,rt){var st="C;Y"+(j+1)+";X"+(W+1)+";K";switch(L.t){case"n":st+=L.v||0,L.f&&!L.F&&(st+=";E"+ZA(L.f,{r:j,c:W}));break;case"b":st+=L.v?"TRUE":"FALSE";break;case"e":st+=L.w||vc[L.v]||L.v;break;case"d":st+=ws(ps(L.v,rt),rt);break;case"s":st+='"'+(null==L.v?"":String(L.v)).replace(/"/g,"").replace(/;/g,";;")+'"'}return st}function E(L,U,j){return"C;Y"+(U+1)+";X"+(j+1)+";A"+function(L){return L.replace(/\n/g,"\x1b :").replace(/\r/g,"\x1b =")}(L.map(function(Z){return Z.t}).join(""))}return{to_workbook:function l(L,U){var j=function s(L,U){switch(U.type){case"base64":return o(Vl(L),U);case"binary":return o(L,U);case"buffer":return o(Rn&&Buffer.isBuffer(L)?L.toString("binary"):ku(L),U);case"array":return o(fm(L),U)}throw new Error("Unrecognized type "+U.type)}(L,U),W=j[0],Z=j[1],rt=j[2],st=br(U);st.date1904=(((rt||{}).Workbook||{}).WBProps||{}).date1904;var yt=F0(W,st);rs(Z).forEach(function(It){yt[It]=Z[It]});var Tt=xf(yt,U);return rs(rt).forEach(function(It){Tt[It]=rt[It]}),Tt.bookType="sylk",Tt},from_sheet:function O(L,U,j){U||(U={}),U._formats=["General"];var st,W=["ID;PSheetJS;N;E"],Z=[],rt=$n(L["!ref"]||"A1"),yt=null!=L["!data"],Tt="\r\n",It=(((j||{}).Workbook||{}).WBProps||{}).date1904;W.push("P;PGeneral");var ht=rt.s.r,mt=rt.s.c,wt=[];if(L["!ref"])for(ht=rt.s.r;ht<=rt.e.r;++ht)if(!yt||L["!data"][ht]){for(wt=[],mt=rt.s.c;mt<=rt.e.c;++mt)(st=yt?L["!data"][ht][mt]:L[xn(mt)+Un(ht)])&&st.c&&wt.push(E(st.c,ht,mt));wt.length&&Z.push(wt.join(Tt))}if(L["!ref"])for(ht=rt.s.r;ht<=rt.e.r;++ht)if(!yt||L["!data"][ht]){for(wt=[],mt=rt.s.c;mt<=rt.e.c;++mt)if((st=yt?L["!data"][ht][mt]:L[xn(mt)+Un(ht)])&&(null!=st.v||st.f&&!st.F)){if("General"!=(st.z||("d"==st.t?Ni[14]:"General"))){var Ct=U._formats.indexOf(st.z);-1==Ct&&(U._formats.push(st.z),Ct=U._formats.length-1,W.push("P;P"+st.z.replace(/;/g,";;"))),wt.push("F;P"+Ct+";Y"+(ht+1)+";X"+(mt+1))}wt.push(w(st,0,ht,mt,0,It))}Z.push(wt.join(Tt))}return W.push("F;P0;DG0G8;M255"),L["!cols"]&&function D(L,U){U.forEach(function(j,W){var Z="F;W"+(W+1)+" "+(W+1)+" ";j.hidden?Z+="0":("number"==typeof j.width&&!j.wpx&&(j.wpx=J1(j.width)),"number"==typeof j.wpx&&!j.wch&&(j.wch=q1(j.wpx)),"number"==typeof j.wch&&(Z+=Math.round(j.wch)))," "!=Z.charAt(Z.length-1)&&L.push(Z)})}(W,L["!cols"]),L["!rows"]&&function k(L,U){U.forEach(function(j,W){var Z="F;";j.hidden?Z+="M0;":j.hpt?Z+="M"+20*j.hpt+";":j.hpx&&(Z+="M"+20*tw(j.hpx)+";"),Z.length>2&&L.push(Z+"R"+(W+1))})}(W,L["!rows"]),L["!ref"]&&W.push("B;Y"+(rt.e.r-rt.s.r+1)+";X"+(rt.e.c-rt.s.c+1)+";D"+[rt.s.c,rt.s.r,rt.e.c,rt.e.r].join(" ")),W.push("O;L;D;B"+(It?";V4":"")+";K47;G100 0.001"),delete U._formats,W.join(Tt)+Tt+Z.join(Tt)+Tt+"E"+Tt}}}(),Oit=function(){function i(l,w){for(var E=l.split("\n"),D=-1,k=-1,O=0,L=[];O!==E.length;++O)if("BOT"!==E[O].trim()){if(!(D<0)){for(var U=E[O].trim().split(","),j=U[0],W=U[1],Z=E[++O]||"";1&(Z.match(/["]/g)||[]).length&&O<E.length-1;)Z+="\n"+E[++O];switch(Z=Z.trim(),+j){case-1:if("BOT"===Z){L[++D]=[],k=0;continue}if("EOD"!==Z)throw new Error("Unrecognized DIF special command "+Z);break;case 0:"TRUE"===Z?L[D][k]=!0:"FALSE"===Z?L[D][k]=!1:isNaN(zl(W))?isNaN(L1(W).getDate())?L[D][k]=W:(L[D][k]=ps(W),w&&w.UTC||(L[D][k]=pm(L[D][k]))):L[D][k]=zl(W),++k;break;case 1:(Z=(Z=Z.slice(1,Z.length-1)).replace(/""/g,'"'))&&Z.match(/^=".*"$/)&&(Z=Z.slice(2,-1)),L[D][k++]=""!==Z?Z:null}if("EOD"===Z)break}}else L[++D]=[],k=0;return w&&w.sheetRows&&(L=L.slice(0,w.sheetRows)),L}function t(l,w){return F0(function e(l,w){switch(w.type){case"base64":return i(Vl(l),w);case"binary":return i(l,w);case"buffer":return i(Rn&&Buffer.isBuffer(l)?l.toString("binary"):ku(l),w);case"array":return i(fm(l),w)}throw new Error("Unrecognized type "+w.type)}(l,w),w)}function r(l,w){return"0,"+String(l)+"\r\n"+w}function s(l){return'1,0\r\n"'+l.replace(/"/g,'""')+'"'}return{to_workbook:function n(l,w){var E=xf(t(l,w),w);return E.bookType="dif",E},to_sheet:t,from_sheet:function o(l){if(!l["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var E=$n(l["!ref"]),D=null!=l["!data"],k=['TABLE\r\n0,1\r\n"sheetjs"\r\n',"VECTORS\r\n0,"+(E.e.r-E.s.r+1)+'\r\n""\r\n',"TUPLES\r\n0,"+(E.e.c-E.s.c+1)+'\r\n""\r\n','DATA\r\n0,0\r\n""\r\n'],O=E.s.r;O<=E.e.r;++O){for(var L=D?l["!data"][O]:[],U="-1,0\r\nBOT\r\n",j=E.s.c;j<=E.e.c;++j){var W=D?L&&L[j]:l[Pn({r:O,c:j})];if(null!=W){switch(W.t){case"n":U+=null!=W.w?"0,"+W.w+"\r\nV":null!=W.v?r(W.v,"V"):null==W.f||W.F?'1,0\r\n""':s("="+W.f);break;case"b":U+=W.v?r(1,"TRUE"):r(0,"FALSE");break;case"s":U+=s(isNaN(+W.v)?W.v:'="'+W.v+'"');break;case"d":W.w||(W.w=fl(W.z||Ni[14],ws(ps(W.v)))),U+=r(W.w,"V");break;default:U+='1,0\r\n""'}U+="\r\n"}else U+='1,0\r\n""\r\n'}k.push(U)}return k.join("")+"-1,0\r\nEOD"}}}(),Lit=function(){function e(k){return k.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function i(k){return k.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(k,O){return F0(function t(k,O){for(var L=k.split("\n"),U=-1,j=-1,W=0,Z=[];W!==L.length;++W){var rt=L[W].trim().split(":");if("cell"===rt[0]){var st=Tr(rt[1]);if(Z.length<=st.r)for(U=Z.length;U<=st.r;++U)Z[U]||(Z[U]=[]);switch(U=st.r,j=st.c,rt[2]){case"t":Z[U][j]=e(rt[3]);break;case"v":Z[U][j]=+rt[3];break;case"vtf":var yt=rt[rt.length-1];case"vtc":Z[U][j]="nl"===rt[3]?!!+rt[4]:+rt[4],"vtf"==rt[2]&&(Z[U][j]=[Z[U][j],yt])}}}return O&&O.sheetRows&&(Z=Z.slice(0,O.sheetRows)),Z}(k,O),O)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),w="--SocialCalcSpreadsheetControlSave--";function E(k){if(!k||!k["!ref"])return"";for(var U,O=[],L=[],j="",W=Sa(k["!ref"]),Z=null!=k["!data"],rt=W.s.r;rt<=W.e.r;++rt)for(var st=W.s.c;st<=W.e.c;++st)if(j=Pn({r:rt,c:st}),(U=Z?(k["!data"][rt]||[])[st]:k[j])&&null!=U.v&&"z"!==U.t){switch(L=["cell",j,"t"],U.t){case"s":case"str":L.push(i(U.v));break;case"n":U.f?(L[2]="vtf",L[3]="n",L[4]=U.v,L[5]=i(U.f)):(L[2]="v",L[3]=U.v);break;case"b":L[2]="vt"+(U.f?"f":"c"),L[3]="nl",L[4]=U.v?"1":"0",L[5]=i(U.f||(U.v?"TRUE":"FALSE"));break;case"d":var yt=ws(ps(U.v));L[2]="vtc",L[3]="nd",L[4]=""+yt,L[5]=U.w||fl(U.z||Ni[14],yt);break;case"e":continue}O.push(L.join(":"))}return O.push("sheet:c:"+(W.e.c-W.s.c+1)+":r:"+(W.e.r-W.s.r+1)+":tvf:1"),O.push("valueformat:1:text-wiki"),O.join("\n")}return{to_workbook:function r(k,O){return xf(n(k,O),O)},to_sheet:n,from_sheet:function D(k){return[s,o,l,o,E(k),w].join("\n")}}}(),B0=function(){function e(D,k,O,L,U){U.raw?k[O][L]=D:""===D||(k[O][L]="TRUE"===D||"FALSE"!==D&&(isNaN(zl(D))?isNaN(L1(D).getDate())?D:ps(D):zl(D)))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(D){for(var k={},O=!1,L=0,U=0;L<D.length;++L)34==(U=D.charCodeAt(L))?O=!O:!O&&U in t&&(k[U]=(k[U]||0)+1);for(L in U=[],k)Object.prototype.hasOwnProperty.call(k,L)&&U.push([k[L],L]);if(!U.length)for(L in k=n)Object.prototype.hasOwnProperty.call(k,L)&&U.push([k[L],L]);return U.sort(function(j,W){return j[0]-W[0]||n[j[1]]-n[W[1]]}),t[U.pop()[1]]||44}function o(D,k){return!k||!k.PRN||k.FS||"sep="==D.slice(0,4)||D.indexOf("\t")>=0||D.indexOf(",")>=0||D.indexOf(";")>=0?function s(D,k){var O=k||{},L="";null!=Vs&&null==O.dense&&(O.dense=Vs);var U={};O.dense&&(U["!data"]=[]);var j={s:{c:0,r:0},e:{c:0,r:0}};"sep="==D.slice(0,4)?13==D.charCodeAt(5)&&10==D.charCodeAt(6)?(L=D.charAt(4),D=D.slice(7)):13==D.charCodeAt(5)||10==D.charCodeAt(5)?(L=D.charAt(4),D=D.slice(6)):L=r(D.slice(0,1024)):L=O&&O.FS?O.FS:r(D.slice(0,1024));var W=0,Z=0,rt=0,st=0,yt=0,Tt=L.charCodeAt(0),It=!1,ft=0,ht=D.charCodeAt(0),mt=null!=O.dateNF?function xzt(e){var i="number"==typeof e?Ni[e]:e;return i=i.replace(_A,"(\\d+)"),_A.lastIndex=0,new RegExp("^"+i+"$")}(O.dateNF):null;function wt(){var Ct=D.slice(st,yt);"\r"==Ct.slice(-1)&&(Ct=Ct.slice(0,-1));var _t={};if('"'==Ct.charAt(0)&&'"'==Ct.charAt(Ct.length-1)&&(Ct=Ct.slice(1,-1).replace(/""/g,'"')),!1!==O.cellText&&(_t.w=Ct),0===Ct.length)_t.t="z";else if(O.raw)_t.t="s",_t.v=Ct;else if(0===Ct.trim().length)_t.t="s",_t.v=Ct;else if(61==Ct.charCodeAt(0))34==Ct.charCodeAt(1)&&34==Ct.charCodeAt(Ct.length-1)?(_t.t="s",_t.v=Ct.slice(2,-1).replace(/""/g,'"')):function oXt(e){return 1!=e.length}(Ct)?(_t.t="s",_t.f=Ct.slice(1),_t.v=Ct):(_t.t="s",_t.v=Ct);else if("TRUE"==Ct)_t.t="b",_t.v=!0;else if("FALSE"==Ct)_t.t="b",_t.v=!1;else if(isNaN(rt=zl(Ct)))if(!isNaN((rt=L1(Ct)).getDate())||mt&&Ct.match(mt)){if(_t.z=O.dateNF||Ni[14],mt&&Ct.match(mt)){var Dt=function bzt(e,i,t){var n=-1,r=-1,s=-1,o=-1,l=-1,w=-1;(i.match(_A)||[]).forEach(function(k,O){var L=parseInt(t[O+1],10);switch(k.toLowerCase().charAt(0)){case"y":n=L;break;case"d":s=L;break;case"h":o=L;break;case"s":w=L;break;case"m":o>=0?l=L:r=L}}),_A.lastIndex=0,w>=0&&-1==l&&r>=0&&(l=r,r=-1);var E=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==E.length&&(E="0"+E),8==E.length&&(E="20"+E);var D=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(w>=0?w:0)).slice(-2);return-1==o&&-1==l&&-1==w?E:-1==n&&-1==r&&-1==s?D:E+"T"+D}(0,O.dateNF,Ct.match(mt)||[]);rt=ps(Dt),O&&!1===O.UTC&&(rt=pm(rt))}else O&&!1===O.UTC?rt=pm(rt):!1!==O.cellText&&O.dateNF&&(_t.w=fl(_t.z,rt));O.cellDates?(_t.t="d",_t.v=rt):(_t.t="n",_t.v=ws(rt)),O.cellNF||delete _t.z}else _t.t="s",_t.v=Ct;else _t.t="n",_t.v=rt;if("z"==_t.t||(O.dense?(U["!data"][W]||(U["!data"][W]=[]),U["!data"][W][Z]=_t):U[Pn({c:Z,r:W})]=_t),ht=D.charCodeAt(st=yt+1),j.e.c<Z&&(j.e.c=Z),j.e.r<W&&(j.e.r=W),ft==Tt)++Z;else if(Z=0,++W,O.sheetRows&&O.sheetRows<=W)return!0}t:for(;yt<D.length;++yt)switch(ft=D.charCodeAt(yt)){case 34:34===ht&&(It=!It);break;case 13:if(It)break;10==D.charCodeAt(yt+1)&&++yt;case Tt:case 10:if(!It&&wt())break t}return yt-st>0&&wt(),U["!ref"]=bn(j),U}(D,k):F0(function i(D,k){var O=k||{},L=[];if(!D||0===D.length)return L;for(var U=D.split(/[\r\n]/),j=U.length-1;j>=0&&0===U[j].length;)--j;for(var W=10,Z=0,rt=0;rt<=j;++rt)-1==(Z=U[rt].indexOf(" "))?Z=U[rt].length:Z++,W=Math.max(W,Z);for(rt=0;rt<=j;++rt){L[rt]=[];var st=0;for(e(U[rt].slice(0,W).trim(),L,rt,st,O),st=1;st<=(U[rt].length-W)/10+1;++st)e(U[rt].slice(W+10*(st-1),W+10*st).trim(),L,rt,st,O)}return O.sheetRows&&(L=L.slice(0,O.sheetRows)),L}(D,k),k)}function l(D,k){var O="",L="string"==k.type?[0,0,0,0]:function W4(e,i){var t="";switch((i||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=Vl(e.slice(0,12));break;case"binary":t=e;break;default:throw new Error("Unrecognized type "+(i&&i.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}(D,k);switch(k.type){case"base64":O=Vl(D);break;case"binary":case"string":O=D;break;case"buffer":O=65001==k.codepage?D.toString("utf8"):k.codepage&&typeof En<"u"?En.utils.decode(k.codepage,D):Rn&&Buffer.isBuffer(D)?D.toString("binary"):ku(D);break;case"array":O=fm(D);break;default:throw new Error("Unrecognized type "+k.type)}return 239==L[0]&&187==L[1]&&191==L[2]?O=wr(O.slice(3)):"string"!=k.type&&"buffer"!=k.type&&65001==k.codepage?O=wr(O):"binary"==k.type&&typeof En<"u"&&k.codepage&&(O=En.utils.decode(k.codepage,En.utils.encode(28591,O))),"socialcalc:version:"==O.slice(0,19)?Lit.to_sheet("string"==k.type?O:wr(O),k):o(O,k)}return{to_workbook:function w(D,k){return xf(l(D,k),k)},to_sheet:l,from_sheet:function E(D){var k=[];if(!D["!ref"])return"";for(var L,O=$n(D["!ref"]),U=null!=D["!data"],j=O.s.r;j<=O.e.r;++j){for(var W=[],Z=O.s.c;Z<=O.e.c;++Z){var rt=Pn({r:j,c:Z});if((L=U?(D["!data"][j]||[])[Z]:D[rt])&&null!=L.v){for(var st=(L.w||(Nu(L),L.w)||"").slice(0,10);st.length<10;)st+=" ";W.push(st+(0===Z?" ":""))}else W.push("          ")}k.push(W.join(""))}return k.join("\n")}}}(),Dm=function(){function e(Ot,Qt,$t){if(Ot){Ca(Ot,Ot.l||0);for(var Yt=$t.Enum||Ne;Ot.l<Ot.length;){var Ae=Ot.read_shift(2),Ft=Yt[Ae]||Yt[65535],Di=Ot.read_shift(2),ni=Ot.l+Di,je=Ft.f&&Ft.f(Ot,Di,$t);if(Ot.l=ni,Qt(je,Ft,Ae))return}}}var t=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function n(Ot,Qt){if(!Ot)return Ot;var $t=Qt||{};null!=Vs&&null==$t.dense&&($t.dense=Vs);var Yt={},Ae="Sheet1",Ft="",Di=0,ni={},je=[],ji=[],un=[];$t.dense&&(un=Yt["!data"]=[]);var bi={s:{r:0,c:0},e:{r:0,c:0}},ur=$t.sheetRows||0,sr={};if(81==Ot[4]&&80==Ot[5]&&87==Ot[6])return function hi(Ot,Qt){Ca(Ot,0);var $t=Qt||{};null!=Vs&&null==$t.dense&&($t.dense=Vs);var Yt={};$t.dense&&(Yt["!data"]=[]);var Ae=[],Ft="",ni={s:{r:-1,c:-1},e:{r:-1,c:-1}},je=0,ji=0,un=0,bi=0,ur={SheetNames:[],Sheets:{}},sr=[];t:for(;Ot.l<Ot.length;){var ms=Ot.read_shift(2),qa=Ot.read_shift(2),si=Ot.slice(Ot.l,Ot.l+qa);switch(Ca(si,0),ms){case 1:if(962023505!=si.read_shift(4))throw"Bad QPW9 BOF!";break;case 2:break t;case 8:case 1025:case 1026:case 1032:default:break;case 10:for(var ci=si.read_shift(4),Po=(si.length-si.l)/ci|0,ar=0;ar<ci;++ar){var Qn=si.l+Po,sa={};si.l+=2,sa.numFmtId=si.read_shift(2),fi[sa.numFmtId]&&(sa.z=fi[sa.numFmtId]),si.l=Qn,sr.push(sa)}break;case 1031:for(si.l+=12;si.l<si.length;)je=si.read_shift(2),ji=si.read_shift(1),Ae.push(si.read_shift(je,"cstr"));break;case 1537:var ko=si.read_shift(2);Yt={},$t.dense&&(Yt["!data"]=[]),ni.s.c=si.read_shift(2),ni.e.c=si.read_shift(2),ni.s.r=si.read_shift(4),ni.e.r=si.read_shift(4),si.l+=4,si.l+2<si.length&&(je=si.read_shift(2),ji=si.read_shift(1),Ft=0==je?"":si.read_shift(je,"cstr")),Ft||(Ft=xn(ko));break;case 1538:if(ni.s.c>255||ni.s.r>999999)break;ni.e.c<ni.s.c&&(ni.e.c=ni.s.c),ni.e.r<ni.s.r&&(ni.e.r=ni.s.r),Yt["!ref"]=bn(ni),gw(ur,Yt,Ft);break;case 2561:un=si.read_shift(2),ni.e.c<un&&(ni.e.c=un),ni.s.c>un&&(ni.s.c=un),bi=si.read_shift(4),ni.s.r>bi&&(ni.s.r=bi),bi=si.read_shift(4),ni.e.r<bi&&(ni.e.r=bi);break;case 3073:bi=si.read_shift(4),je=si.read_shift(4),ni.s.r>bi&&(ni.s.r=bi),ni.e.r<bi+je-1&&(ni.e.r=bi+je-1);for(var an=xn(un);si.l<si.length;){var Ji={t:"z"},tr=si.read_shift(1),Br=-1;128&tr&&(Br=si.read_shift(2));var Nm=64&tr?si.read_shift(2)-1:0;switch(31&tr){case 0:case 1:break;case 2:Ji={t:"n",v:si.read_shift(2)};break;case 3:Ji={t:"n",v:si.read_shift(2,"i")};break;case 4:Ji={t:"n",v:OA(si)};break;case 5:Ji={t:"n",v:si.read_shift(8,"f")};break;case 7:Ji={t:"s",v:Ae[ji=si.read_shift(4)-1]};break;case 8:Ji={t:"n",v:si.read_shift(8,"f")},si.l+=2,si.l+=4,isNaN(Ji.v)&&(Ji={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(31&tr)}-1!=Br&&(sr[Br-1]||{}).z&&(Ji.z=sr[Br-1].z);var Tc=0;if(32&tr)switch(31&tr){case 2:case 7:Tc=si.read_shift(2);break;case 3:Tc=si.read_shift(2,"i");break;default:throw"Unsupported delta for QPW cell type "+(31&tr)}if($t.sheetStubs||"z"!=Ji.t){var ed=br(Ji);"n"==Ji.t&&Ji.z&&Ul(Ji.z)&&$t.cellDates&&(ed.v=Yh(Ji.v),ed.t="number"==typeof ed.v?"n":"d"),null!=Yt["!data"]?(Yt["!data"][bi]||(Yt["!data"][bi]=[]),Yt["!data"][bi][un]=ed):Yt[an+Un(bi)]=ed}for(++bi,--je;Nm-- >0&&je>=0;){if(32&tr)switch(31&tr){case 2:Ji={t:"n",v:Ji.v+Tc&65535};break;case 3:(Ji={t:"n",v:Ji.v+Tc&65535}).v>32767&&(Ji.v-=65536);break;case 7:Ji={t:"s",v:Ae[ji=ji+Tc>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(31&tr)}else switch(31&tr){case 1:Ji={t:"z"};break;case 2:Ji={t:"n",v:si.read_shift(2)};break;case 7:Ji={t:"s",v:Ae[ji=si.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(31&tr)}!$t.sheetStubs&&"z"==Ji.t||(null!=Yt["!data"]?(Yt["!data"][bi]||(Yt["!data"][bi]=[]),Yt["!data"][bi][un]=Ji):Yt[an+Un(bi)]=Ji),++bi,--je}}break;case 3074:un=si.read_shift(2),bi=si.read_shift(4);var Bm=vi(si);null!=Yt["!data"]?(Yt["!data"][bi]||(Yt["!data"][bi]=[]),Yt["!data"][bi][un]={t:"s",v:Bm}):Yt[xn(un)+Un(bi)]={t:"s",v:Bm}}Ot.l+=qa}return ur}(Ot,Qt);if(0==Ot[2]&&(8==Ot[3]||9==Ot[3])&&Ot.length>=16&&5==Ot[14]&&108===Ot[15])throw new Error("Unsupported Works 3 for Mac file");if(2==Ot[2])$t.Enum=Ne,e(Ot,function(ci,Po,ar){switch(ar){case 0:$t.vers=ci,ci>=4096&&($t.qpro=!0);break;case 255:$t.vers=ci,$t.works=!0;break;case 6:bi=ci;break;case 204:ci&&(Ft=ci);break;case 222:Ft=ci;break;case 15:case 51:(!$t.qpro&&!$t.works||51==ar)&&ci[1].v.charCodeAt(0)<48&&(ci[1].v=ci[1].v.slice(1)),($t.works||$t.works2)&&(ci[1].v=ci[1].v.replace(/\r\n/g,"\n"));case 13:case 14:case 16:!(112&~ci[2])&&(15&ci[2])>1&&(15&ci[2])<15&&(ci[1].z=$t.dateNF||t[(15&ci[2])-1]||Ni[14],$t.cellDates&&(ci[1].v=Yh(ci[1].v),ci[1].t="number"==typeof ci[1].v?"n":"d")),$t.qpro&&ci[3]>Di&&(Yt["!ref"]=bn(bi),ni[Ae]=Yt,je.push(Ae),Yt={},$t.dense&&(un=Yt["!data"]=[]),bi={s:{r:0,c:0},e:{r:0,c:0}},Di=ci[3],Ae=Ft||"Sheet"+(Di+1),Ft="");var Qn=$t.dense?(un[ci[0].r]||[])[ci[0].c]:Yt[Pn(ci[0])];if(Qn){Qn.t=ci[1].t,Qn.v=ci[1].v,null!=ci[1].z&&(Qn.z=ci[1].z),null!=ci[1].f&&(Qn.f=ci[1].f),sr=Qn;break}$t.dense?(un[ci[0].r]||(un[ci[0].r]=[]),un[ci[0].r][ci[0].c]=ci[1]):Yt[Pn(ci[0])]=ci[1],sr=ci[1];break;case 21509:$t.works2=!0;break;case 21506:5281==ci&&(sr.z="hh:mm:ss",$t.cellDates&&"n"==sr.t&&(sr.v=Yh(sr.v),sr.t="number"==typeof sr.v?"n":"d"))}},$t);else{if(26!=Ot[2]&&14!=Ot[2])throw new Error("Unrecognized LOTUS BOF "+Ot[2]);$t.Enum=De,14==Ot[2]&&($t.qpro=!0,Ot.l=0),e(Ot,function(ci,Po,ar){switch(ar){case 204:Ae=ci;break;case 22:ci[1].v.charCodeAt(0)<48&&(ci[1].v=ci[1].v.slice(1)),ci[1].v=ci[1].v.replace(/\x0F./g,function(Qn){return String.fromCharCode(Qn.charCodeAt(1)-32)}).replace(/\r\n/g,"\n");case 23:case 24:case 25:case 37:case 39:case 40:if(ci[3]>Di&&(Yt["!ref"]=bn(bi),ni[Ae]=Yt,je.push(Ae),Yt={},$t.dense&&(un=Yt["!data"]=[]),bi={s:{r:0,c:0},e:{r:0,c:0}},Ae="Sheet"+((Di=ci[3])+1)),ur>0&&ci[0].r>=ur)break;$t.dense?(un[ci[0].r]||(un[ci[0].r]=[]),un[ci[0].r][ci[0].c]=ci[1]):Yt[Pn(ci[0])]=ci[1],bi.e.c<ci[0].c&&(bi.e.c=ci[0].c),bi.e.r<ci[0].r&&(bi.e.r=ci[0].r);break;case 27:ci[14e3]&&(ji[ci[14e3][0]]=ci[14e3][1]);break;case 1537:ji[ci[0]]=ci[1],ci[0]==Di&&(Ae=ci[1])}},$t)}if(Yt["!ref"]=bn(bi),ni[Ft||Ae]=Yt,je.push(Ft||Ae),!ji.length)return{SheetNames:je,Sheets:ni};for(var ms={},qa=[],si=0;si<ji.length;++si)ni[je[si]]?(qa.push(ji[si]||je[si]),ms[ji[si]]=ni[ji[si]]||ni[je[si]]):(qa.push(ji[si]),ms[ji[si]]={"!ref":"A1"});return{SheetNames:qa,Sheets:ms}}function D(Ot,Qt,$t){var Yt=[{c:0,r:0},{t:"n",v:0},0,0];return $t.qpro&&20768!=$t.vers?(Yt[0].c=Ot.read_shift(1),Yt[3]=Ot.read_shift(1),Yt[0].r=Ot.read_shift(2),Ot.l+=2):$t.works?(Yt[0].c=Ot.read_shift(2),Yt[0].r=Ot.read_shift(2),Yt[2]=Ot.read_shift(2)):(Yt[2]=Ot.read_shift(1),Yt[0].c=Ot.read_shift(2),Yt[0].r=Ot.read_shift(2)),Yt}function k(Ot){return Ot.z&&Ul(Ot.z)?240|(t.indexOf(Ot.z)+1||2):255}function L(Ot,Qt,$t){var Yt=le(7+$t.length);Yt.write_shift(1,255),Yt.write_shift(2,Qt),Yt.write_shift(2,Ot),Yt.write_shift(1,39);for(var Ae=0;Ae<Yt.length;++Ae){var Ft=$t.charCodeAt(Ae);Yt.write_shift(1,Ft>=128?95:Ft)}return Yt.write_shift(1,0),Yt}function W(Ot,Qt,$t){var Yt=le(7);return Yt.write_shift(1,k($t)),Yt.write_shift(2,Qt),Yt.write_shift(2,Ot),Yt.write_shift(2,$t.v,"i"),Yt}function rt(Ot,Qt,$t){var Yt=le(13);return Yt.write_shift(1,k($t)),Yt.write_shift(2,Qt),Yt.write_shift(2,Ot),Yt.write_shift(8,$t.v,"f"),Yt}function yt(Ot,Qt,$t){var Yt=32768&Qt;return Qt=(Yt?Ot:0)+((Qt&=-32769)>=8192?Qt-16384:Qt),(Yt?"":"$")+($t?xn(Qt):Un(Qt))}var Tt={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},It=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function ht(Ot){var Qt=[{c:0,r:0},{t:"n",v:0},0];return Qt[0].r=Ot.read_shift(2),Qt[3]=Ot[Ot.l++],Qt[0].c=Ot[Ot.l++],Qt}function wt(Ot,Qt,$t,Yt){var Ae=le(6+Yt.length);Ae.write_shift(2,Ot),Ae.write_shift(1,$t),Ae.write_shift(1,Qt),Ae.write_shift(1,39);for(var Ft=0;Ft<Yt.length;++Ft){var Di=Yt.charCodeAt(Ft);Ae.write_shift(1,Di>=128?95:Di)}return Ae.write_shift(1,0),Ae}function _t(Ot,Qt){var $t=ht(Ot),Yt=Ot.read_shift(4),Ae=Ot.read_shift(4),Ft=Ot.read_shift(2);if(65535==Ft)return 0===Yt&&3221225472===Ae?($t[1].t="e",$t[1].v=15):0===Yt&&3489660928===Ae?($t[1].t="e",$t[1].v=42):$t[1].v=0,$t;var Di=32768&Ft;return Ft=(32767&Ft)-16446,$t[1].v=(1-2*Di)*(Ae*Math.pow(2,Ft+32)+Yt*Math.pow(2,Ft)),$t}function Dt(Ot,Qt,$t,Yt){var Ae=le(14);if(Ae.write_shift(2,Ot),Ae.write_shift(1,$t),Ae.write_shift(1,Qt),0==Yt)return Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(2,65535),Ae;var Ft=0,Di=0,je=0;return Yt<0&&(Ft=1,Yt=-Yt),Di=0|Math.log2(Yt),2147483648&(je=(Yt/=Math.pow(2,Di-31))>>>0)||(++Di,je=(Yt/=2)>>>0),Yt-=je,je|=2147483648,je>>>=0,Yt*=Math.pow(2,32),Ae.write_shift(4,Yt>>>0),Ae.write_shift(4,je),Ae.write_shift(2,Di+=16383+(Ft?32768:0)),Ae}function ve(Ot,Qt){var $t=ht(Ot),Yt=Ot.read_shift(8,"f");return $t[1].v=Yt,$t}function _e(Ot,Qt){return 0==Ot[Ot.l+Qt-1]?Ot.read_shift(Qt,"cstr"):""}function ee(Ot,Qt){var $t=le(5+Ot.length);$t.write_shift(2,14e3),$t.write_shift(2,Qt);for(var Yt=0;Yt<Ot.length;++Yt){var Ae=Ot.charCodeAt(Yt);$t[$t.l++]=Ae>127?95:Ae}return $t[$t.l++]=0,$t}var Ne={0:{n:"BOF",f:As},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function w(Ot,Qt,$t){var Yt={s:{c:0,r:0},e:{c:0,r:0}};return 8==Qt&&$t.qpro?(Yt.s.c=Ot.read_shift(1),Ot.l++,Yt.s.r=Ot.read_shift(2),Yt.e.c=Ot.read_shift(1),Ot.l++,Yt.e.r=Ot.read_shift(2),Yt):(Yt.s.c=Ot.read_shift(2),Yt.s.r=Ot.read_shift(2),12==Qt&&$t.qpro&&(Ot.l+=2),Yt.e.c=Ot.read_shift(2),Yt.e.r=Ot.read_shift(2),12==Qt&&$t.qpro&&(Ot.l+=2),65535==Yt.s.c&&(Yt.s.c=Yt.e.c=Yt.s.r=Yt.e.r=0),Yt)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function j(Ot,Qt,$t){var Yt=D(Ot,0,$t);return Yt[1].v=Ot.read_shift(2,"i"),Yt}},14:{n:"NUMBER",f:function Z(Ot,Qt,$t){var Yt=D(Ot,0,$t);return Yt[1].v=Ot.read_shift(8,"f"),Yt}},15:{n:"LABEL",f:function O(Ot,Qt,$t){var Yt=Ot.l+Qt,Ae=D(Ot,0,$t);if(Ae[1].t="s",20768==(65534&$t.vers)){Ot.l++;var Ft=Ot.read_shift(1);return Ae[1].v=Ot.read_shift(Ft,"utf8"),Ae}return $t.qpro&&Ot.l++,Ae[1].v=Ot.read_shift(Yt-Ot.l,"cstr"),Ae}},16:{n:"FORMULA",f:function st(Ot,Qt,$t){var Yt=Ot.l+Qt,Ae=D(Ot,0,$t);if(Ae[1].v=Ot.read_shift(8,"f"),$t.qpro)Ot.l=Yt;else{var Ft=Ot.read_shift(2);(function ft(Ot,Qt){Ca(Ot,0);for(var $t=[],Yt=0,Ae="",Ft="",Di="",ni="";Ot.l<Ot.length;){var je=Ot[Ot.l++];switch(je){case 0:$t.push(Ot.read_shift(8,"f"));break;case 1:Ft=yt(Qt[0].c,Ot.read_shift(2),!0),Ae=yt(Qt[0].r,Ot.read_shift(2),!1),$t.push(Ft+Ae);break;case 2:var ji=yt(Qt[0].c,Ot.read_shift(2),!0),un=yt(Qt[0].r,Ot.read_shift(2),!1);Ft=yt(Qt[0].c,Ot.read_shift(2),!0),Ae=yt(Qt[0].r,Ot.read_shift(2),!1),$t.push(ji+un+":"+Ft+Ae);break;case 3:if(Ot.l<Ot.length)return void console.error("WK1 premature formula end");break;case 4:$t.push("("+$t.pop()+")");break;case 5:$t.push(Ot.read_shift(2));break;case 6:for(var bi="";je=Ot[Ot.l++];)bi+=String.fromCharCode(je);$t.push('"'+bi.replace(/"/g,'""')+'"');break;case 8:$t.push("-"+$t.pop());break;case 23:$t.push("+"+$t.pop());break;case 22:$t.push("NOT("+$t.pop()+")");break;case 20:case 21:ni=$t.pop(),Di=$t.pop(),$t.push(["AND","OR"][je-20]+"("+Di+","+ni+")");break;default:if(je<32&&It[je])ni=$t.pop(),Di=$t.pop(),$t.push(Di+It[je]+ni);else{if(!Tt[je])return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16));if(69==(Yt=Tt[je][1])&&(Yt=Ot[Ot.l++]),Yt>$t.length)return void console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+$t.join("|")+"|");var ur=$t.slice(-Yt);$t.length-=Yt,$t.push(Tt[je][0]+"("+ur.join(",")+")")}}}1==$t.length?Qt[1].f=""+$t[0]:console.error("WK1 bad formula parse |"+$t.join("|")+"|")})(Ot.slice(Ot.l,Ot.l+Ft),Ae),Ot.l+=Ft}return Ae}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:function U(Ot,Qt,$t){var Yt=Ot.l+Qt,Ae=D(Ot,0,$t);if(Ae[1].t="s",20768==$t.vers){var Ft=Ot.read_shift(1);return Ae[1].v=Ot.read_shift(Ft,"utf8"),Ae}return Ae[1].v=Ot.read_shift(Yt-Ot.l,"cstr"),Ae}},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:_e},222:{n:"SHEETNAMELP",f:function ze(Ot,Qt){var $t=Ot[Ot.l++];$t>Qt-1&&($t=Qt-1);for(var Yt="";Yt.length<$t;)Yt+=String.fromCharCode(Ot[Ot.l++]);return Yt}},255:{n:"BOF",f:As},21506:{n:"WKSNF",f:As},65535:{n:""}},De={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function mt(Ot,Qt){var $t=ht(Ot);return $t[1].t="s",$t[1].v=Ot.read_shift(Qt-4,"cstr"),$t}},23:{n:"NUMBER17",f:_t},24:{n:"NUMBER18",f:function Ct(Ot,Qt){var $t=ht(Ot);$t[1].v=Ot.read_shift(2);var Yt=$t[1].v>>1;if(1&$t[1].v)switch(7&Yt){case 0:Yt=5e3*(Yt>>3);break;case 1:Yt=500*(Yt>>3);break;case 2:Yt=(Yt>>3)/20;break;case 3:Yt=(Yt>>3)/200;break;case 4:Yt=(Yt>>3)/2e3;break;case 5:Yt=(Yt>>3)/2e4;break;case 6:Yt=(Yt>>3)/16;break;case 7:Yt=(Yt>>3)/64}return $t[1].v=Yt,$t}},25:{n:"FORMULA19",f:function Ue(Ot,Qt){var $t=_t(Ot);return Ot.l+=Qt-14,$t}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function Ii(Ot,Qt){for(var $t={},Yt=Ot.l+Qt;Ot.l<Yt;){var Ae=Ot.read_shift(2);if(14e3==Ae){for($t[Ae]=[0,""],$t[Ae][0]=Ot.read_shift(2);Ot[Ot.l];)$t[Ae][1]+=String.fromCharCode(Ot[Ot.l]),Ot.l++;Ot.l++}}return $t}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function Te(Ot,Qt){var $t=ht(Ot),Yt=Ot.read_shift(4);return $t[1].v=Yt>>6,$t}},38:{n:"??"},39:{n:"NUMBER27",f:ve},40:{n:"FORMULA28",f:function qt(Ot,Qt){var $t=ve(Ot);return Ot.l+=Qt-12,$t}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:_e},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function Me(Ot,Qt,$t){if($t.qpro&&!(Qt<21)){var Yt=Ot.read_shift(1);return Ot.l+=17,Ot.l+=1,Ot.l+=2,[Yt,Ot.read_shift(Qt-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},fi={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function vi(Ot){var Qt=Ot.read_shift(2),$t=Ot.read_shift(1);if(0!=$t)throw"unsupported QPW string type "+$t.toString(16);return Ot.read_shift(Qt,"sbcs-cont")}return{sheet_to_wk1:function r(Ot,Qt){var $t=Qt||{};if(+$t.codepage>=0&&dc(+$t.codepage),"string"==$t.type)throw new Error("Cannot write WK1 to JS string");var Yt=Co();if(!Ot["!ref"])throw new Error("Cannot export empty sheet to WK1");var Ae=$n(Ot["!ref"]),Ft=null!=Ot["!data"],Di=[];Le(Yt,0,function o(Ot){var Qt=le(2);return Qt.write_shift(2,Ot),Qt}(1030)),Le(Yt,6,function E(Ot){var Qt=le(8);return Qt.write_shift(2,Ot.s.c),Qt.write_shift(2,Ot.s.r),Qt.write_shift(2,Ot.e.c),Qt.write_shift(2,Ot.e.r),Qt}(Ae));for(var ni=Math.min(Ae.e.r,8191),je=Ae.s.c;je<=Ae.e.c;++je)Di[je]=xn(je);for(var ji=Ae.s.r;ji<=ni;++ji){var un=Un(ji);for(je=Ae.s.c;je<=Ae.e.c;++je){var bi=Ft?(Ot["!data"][ji]||[])[je]:Ot[Di[je]+un];if(bi&&"z"!=bi.t)switch(bi.t){case"n":(0|bi.v)==bi.v&&bi.v>=-32768&&bi.v<=32767?Le(Yt,13,W(ji,je,bi)):Le(Yt,14,rt(ji,je,bi));break;case"d":var ur=ws(bi.v);(0|ur)==ur&&ur>=-32768&&ur<=32767?Le(Yt,13,W(ji,je,{t:"n",v:ur,z:bi.z||Ni[14]})):Le(Yt,14,rt(ji,je,{t:"n",v:ur,z:bi.z||Ni[14]}));break;default:Le(Yt,15,L(ji,je,Nu(bi).slice(0,239)))}}}return Le(Yt,1),Yt.end()},book_to_wk3:function s(Ot,Qt){var $t=Qt||{};if(+$t.codepage>=0&&dc(+$t.codepage),"string"==$t.type)throw new Error("Cannot write WK3 to JS string");var Yt=Co();Le(Yt,0,function l(Ot){var Qt=le(26);Qt.write_shift(2,4096),Qt.write_shift(2,4),Qt.write_shift(4,0);for(var $t=0,Yt=0,Ae=0,Ft=0;Ft<Ot.SheetNames.length;++Ft){var ni=Ot.Sheets[Ot.SheetNames[Ft]];if(ni&&ni["!ref"]){++Ae;var je=Sa(ni["!ref"]);$t<je.e.r&&($t=je.e.r),Yt<je.e.c&&(Yt=je.e.c)}}return $t>8191&&($t=8191),Qt.write_shift(2,$t),Qt.write_shift(1,Ae),Qt.write_shift(1,Yt),Qt.write_shift(2,0),Qt.write_shift(2,0),Qt.write_shift(1,1),Qt.write_shift(1,2),Qt.write_shift(4,0),Qt.write_shift(4,0),Qt}(Ot));for(var Ae=0,Ft=0;Ae<Ot.SheetNames.length;++Ae)(Ot.Sheets[Ot.SheetNames[Ae]]||{})["!ref"]&&Le(Yt,27,ee(Ot.SheetNames[Ae],Ft++));var Di=0;for(Ae=0;Ae<Ot.SheetNames.length;++Ae){var ni=Ot.Sheets[Ot.SheetNames[Ae]];if(ni&&ni["!ref"]){for(var je=$n(ni["!ref"]),ji=null!=ni["!data"],un=[],bi=Math.min(je.e.r,8191),ur=je.s.r;ur<=bi;++ur)for(var sr=Un(ur),ms=je.s.c;ms<=je.e.c;++ms){ur===je.s.r&&(un[ms]=xn(ms));var si=ji?(ni["!data"][ur]||[])[ms]:ni[un[ms]+sr];si&&"z"!=si.t&&("n"==si.t?Le(Yt,23,Dt(ur,ms,Di,si.v)):Le(Yt,22,wt(ur,ms,Di,Nu(si).slice(0,239))))}++Di}}return Le(Yt,1),Yt.end()},to_workbook:function i(Ot,Qt){switch(Qt.type){case"base64":return n(Qo(Vl(Ot)),Qt);case"binary":return n(Qo(Ot),Qt);case"buffer":case"array":return n(Ot,Qt)}throw"Unsupported type "+Qt.type}}}(),rWt=/^\s|\s$|[\t\n\r]/,cWt=function mGt(e,i){var t=!1;return null==i&&(t=!0,i=le(15+4*e.t.length)),i.write_shift(1,0),Ea(e.t,i),t?i.slice(0,i.l):i};function x4(e){var t,s,i=0,n=function Nit(e){if(typeof En<"u")return En.utils.encode(hm,e);for(var i=[],t=e.split(""),n=0;n<t.length;++n)i[n]=t[n].charCodeAt(0);return i}(e),r=n.length+1;for((t=vf(r))[0]=n.length,s=1;s!=r;++s)t[s]=n[s-1];for(s=r-1;s>=0;--s)i=((16384&i?1:0)|i<<1&32767)^t[s];return 52811^i}function Z1(e){for(var i=0,t=1;3!=i;++i)t=256*t+(e[i]>255?255:e[i]<0?0:e[i]);return t.toString(16).toUpperCase().slice(1)}var Do=6;function J1(e){return Math.floor((e+Math.round(128/Do)/256)*Do)}function q1(e){return Math.floor((e-5)/Do*100+.5)/100}function YA(e){return Math.round((e*Do+5)/Do*256)/256}function wf(e){e.width?(e.wpx=J1(e.width),e.wch=q1(e.wpx),e.MDW=Do):e.wpx?(e.wch=q1(e.wpx),e.width=YA(e.wch),e.MDW=Do):"number"==typeof e.wch&&(e.width=YA(e.wch),e.wpx=J1(e.width),e.MDW=Do),e.customWidth&&delete e.customWidth}var Git=96;function tw(e){return 96*e/Git}function V0(e){return e*Git/96}function $Wt(e,i,t){t||(t=le(6+4*i.length)),t.write_shift(2,e),Ea(i,t);var n=t.length>t.l?t.slice(0,t.l):t;return null==t.l&&(t.l=t.length),n}var T4,ZWt=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],JWt=To;function Hit(e,i){i||(i=le(84)),T4||(T4=AA(ZWt));var t=T4[e.patternType];null==t&&(t=40),i.write_shift(4,t);var n=0;if(40!=t)for(LA({auto:1},i),LA({auto:1},i);n<12;++n)i.write_shift(4,0);else{for(;n<4;++n)i.write_shift(4,0);for(;n<12;++n)i.write_shift(4,0)}return i.length>i.l?i.slice(0,i.l):i}function Wit(e,i,t){return t||(t=le(16)),t.write_shift(2,i||0),t.write_shift(2,e.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function ew(e,i){return i||(i=le(10)),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(4,0),i}var tjt=To;function pjt(e,i){var t=Co();return Re(t,278),function sjt(e,i){if(i){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&++t}),0!=t&&(Re(e,615,Gc(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&Re(e,44,$Wt(r,i[r]))}),Re(e,616))}}(t,e.SSF),function ajt(e){Re(e,611,Gc(1)),Re(e,43,function KWt(e,i){i||(i=le(153)),i.write_shift(2,20*e.sz),function CGt(e,i){i||(i=le(2)),i.write_shift(1,(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0)),i.write_shift(1,0)}(e,i),i.write_shift(2,e.bold?700:400);var t=0;"superscript"==e.vertAlign?t=1:"subscript"==e.vertAlign&&(t=2),i.write_shift(2,t),i.write_shift(1,e.underline||0),i.write_shift(1,e.family||0),i.write_shift(1,e.charset||0),i.write_shift(1,0),LA(e.color,i);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),i.write_shift(1,n),Ea(e.name,i),i.length>i.l?i.slice(0,i.l):i}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Re(e,612)}(t),function ojt(e){Re(e,603,Gc(2)),Re(e,45,Hit({patternType:"none"})),Re(e,45,Hit({patternType:"gray125"})),Re(e,604)}(t),function ljt(e){Re(e,613,Gc(1)),Re(e,46,function ejt(e,i){return i||(i=le(51)),i.write_shift(1,0),ew(0,i),ew(0,i),ew(0,i),ew(0,i),ew(0,i),i.length>i.l?i.slice(0,i.l):i}()),Re(e,614)}(t),function cjt(e){Re(e,626,Gc(1)),Re(e,47,Wit({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Re(e,627)}(t),function ujt(e,i){Re(e,617,Gc(i.length)),i.forEach(function(t){Re(e,47,Wit(t,0))}),Re(e,618)}(t,i.cellXfs),function hjt(e){Re(e,619,Gc(1)),Re(e,48,function ijt(e,i){return i||(i=le(52)),i.write_shift(4,e.xfId),i.write_shift(2,1),i.write_shift(1,+e.builtinId),i.write_shift(1,0),j1(e.name||"",i),i.length>i.l?i.slice(0,i.l):i}({xfId:0,builtinId:0,name:"Normal"})),Re(e,620)}(t),function djt(e){Re(e,505,Gc(0)),Re(e,506)}(t),function fjt(e){Re(e,508,function njt(e,i,t){var n=le(2052);return n.write_shift(4,e),j1(i,n),j1(t,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),Re(e,509)}(t),Re(t,279),t.end()}function C4(e,i){if(i&&i.themeXLSX)return i.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var t=[zs];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Xit(e,i,t){var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[ii("xml",null,{"xmlns:v":Gl.v,"xmlns:o":Gl.o,"xmlns:x":Gl.x,"xmlns:mv":Gl.mv}).replace(/\/>/,">"),ii("o:shapelayout",ii("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"})],o=65536*e,l=i||[];return l.length>0&&s.push(ii("v:shapetype",[ii("v:stroke",null,{joinstyle:"miter"}),ii("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202",coordsize:n.join(","),"o:spt":202,path:r})),l.forEach(function(w){++o,s.push(function Hjt(e,i){var n=Tr(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var s="gradient"==r.type?ii("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,o=ii("v:fill",s,r);return["<v:shape"+V1({id:"_x0000_s"+i,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",o,ii("v:shadow",null,{on:"t",obscured:"t"}),ii("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ja("x:Anchor",[n.c+1,0,n.r+1,0,n.c+3,20,n.r+5,20].join(",")),Ja("x:AutoFill","False"),Ja("x:Row",String(n.r)),Ja("x:Column",String(n.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"].join("")}(w,o))}),s.push("</xml>"),s.join("")}function jjt(e){var i=[zs,ii("comments",null,{xmlns:gm[0]})],t=[];return i.push("<authors>"),e.forEach(function(n){n[1].forEach(function(r){var s=_n(r.a);-1==t.indexOf(s)&&(t.push(s),i.push("<author>"+s+"</author>")),r.T&&r.ID&&-1==t.indexOf("tc="+r.ID)&&(t.push("tc="+r.ID),i.push("<author>tc="+r.ID+"</author>"))})}),0==t.length&&(t.push("SheetJ5"),i.push("<author>SheetJ5</author>")),i.push("</authors>"),i.push("<commentList>"),e.forEach(function(n){var r=0,s=[],o=0;if(n[1][0]&&n[1][0].T&&n[1][0].ID&&(r=t.indexOf("tc="+n[1][0].ID)),n[1].forEach(function(E){E.a&&(r=t.indexOf(_n(E.a))),E.T&&++o,s.push(null==E.t?"":_n(E.t))}),0===o)n[1].forEach(function(E){i.push('<comment ref="'+n[0]+'" authorId="'+t.indexOf(_n(E.a))+'"><text>'),i.push(Ja("t",null==E.t?"":_n(E.t))),i.push("</text></comment>")});else{n[1][0]&&n[1][0].T&&n[1][0].ID&&(r=t.indexOf("tc="+n[1][0].ID)),i.push('<comment ref="'+n[0]+'" authorId="'+r+'"><text>');for(var l="Comment:\n    "+s[0]+"\n",w=1;w<s.length;++w)l+="Reply:\n    "+s[w]+"\n";i.push(Ja("t",_n(l))),i.push("</text></comment>")}}),i.push("</commentList>"),i.length>2&&(i[i.length]="</comments>",i[1]=i[1].replace("/>",">")),i.join("")}function $it(e,i,t){var n=[zs,ii("ThreadedComments",null,{xmlns:Ta.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var s="";(r[1]||[]).forEach(function(o,l){if(o.T){o.a&&-1==i.indexOf(o.a)&&i.push(o.a);var w={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};0==l?s=w.id:w.parentId=s,o.ID=w.id,o.a&&(w.personId="{54EE7950-7262-4200-6969-"+("000000000000"+i.indexOf(o.a)).slice(-12)+"}"),n.push(ii("threadedComment",Ja("text",o.t||""),w))}else delete o.ID})}),n.push("</ThreadedComments>"),n.join("")}function Qit(e){var i=[zs,ii("personList",null,{xmlns:Ta.TCMNT,"xmlns:x":gm[0]}).replace(/[\/]>/,">")];return e.forEach(function(t,n){i.push(ii("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),i.push("</personList>"),i.join("")}var Kjt=So;function Kit(e){return Ea(e.slice(0,54))}function Jjt(e){var i=Co(),t=[];return Re(i,628),Re(i,630),e.forEach(function(n){n[1].forEach(function(r){t.indexOf(r.a)>-1||(t.push(r.a.slice(0,54)),Re(i,632,Kit(r.a)),r.T&&r.ID&&-1==t.indexOf("tc="+r.ID)&&(t.push("tc="+r.ID),Re(i,632,Kit("tc="+r.ID))))})}),Re(i,631),Re(i,633),e.forEach(function(n){n[1].forEach(function(r){var s=-1;r.ID&&(s=t.indexOf("tc="+r.ID)),-1==s&&n[1][0].T&&n[1][0].ID&&(s=t.indexOf("tc="+n[1][0].ID)),-1==s&&(s=t.indexOf(r.a)),r.iauthor=s;var o={s:Tr(n[0]),e:Tr(n[0])};Re(i,635,function Qjt(e,i){return null==i&&(i=le(36)),i.write_shift(4,e[1].iauthor),O0(e[0],i),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i}([o,r])),r.t&&r.t.length>0&&Re(i,637,function vGt(e,i){var t=!1;return null==i&&(t=!0,i=le(23+4*e.t.length)),i.write_shift(1,1),Ea(e.t,i),i.write_shift(4,1),function pGt(e,i){i||(i=le(4)),i.write_shift(2,e.ich||0),i.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},i),t?i.slice(0,i.l):i}(r)),Re(i,636),delete r.iauthor})}),Re(i,634),Re(i,629),i.end()}var iXt=["xlsb","xlsm","xlam","biff8","xla"],Mm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,i={r:0,c:0};function t(n,r,s,o){var l=!1,w=!1;0==s.length?w=!0:"["==s.charAt(0)&&(w=!0,s=s.slice(1,-1)),0==o.length?l=!0:"["==o.charAt(0)&&(l=!0,o=o.slice(1,-1));var E=s.length>0?0|parseInt(s,10):0,D=o.length>0?0|parseInt(o,10):0;return l?D+=i.c:--D,w?E+=i.r:--E,r+(l?"":"$")+xn(D)+(w?"":"$")+Un(E)}return function(r,s){return i=s,r.replace(e,t)}}(),KA=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{KA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var ZA=function(){return function(i,t){return i.replace(KA,function(n,r,s,o,l,w){var E=JN(o)-(s?0:t.c),D=ZN(w)-(l?0:t.r);return r+"R"+("$"==l?D+1:0==D?"":"["+D+"]")+"C"+("$"==s?E+1:0==E?"":"["+E+"]")})}}();function Zit(e,i){return e.replace(KA,function(t,n,r,s,o,l){return n+("$"==r?r+s:xn(JN(s)+i.c))+("$"==o?o+l:Un(ZN(l)+i.r))})}function ra(e){e.l+=1}function Tf(e,i){var t=e.read_shift(1==i?1:2);return[16383&t,t>>14&1,t>>15&1]}function tnt(e,i,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return ent(e);12==t.biff&&(n=4)}var r=e.read_shift(n),s=e.read_shift(n),o=Tf(e,2),l=Tf(e,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function ent(e){var i=Tf(e,2),t=Tf(e,2),n=e.read_shift(1),r=e.read_shift(1);return{s:{r:i[0],c:n,cRel:i[1],rRel:i[2]},e:{r:t[0],c:r,cRel:t[1],rRel:t[2]}}}function int(e,i,t){if(t&&t.biff>=2&&t.biff<=5)return function cXt(e){var i=Tf(e,2),t=e.read_shift(1);return{r:i[0],c:t,cRel:i[1],rRel:i[2]}}(e);var n=e.read_shift(t&&12==t.biff?4:2),r=Tf(e,2);return{r:n,c:r[0],cRel:r[1],rRel:r[2]}}function uXt(e){var i=e.read_shift(2),t=e.read_shift(2);return{r:i,c:255&t,fQuoted:!!(16384&t),cRel:t>>15,rRel:t>>15}}function nnt(e){var i=1&e[e.l+1];return e.l+=4,[i,1]}function rnt(e){return[e.read_shift(1),e.read_shift(1)]}function VXt(e,i){var t=[e.read_shift(1)];if(12==i)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2}switch(t[0]){case 4:t[1]=function Gs(e,i){return 1===e.read_shift(i)}(e,1)?"TRUE":"FALSE",12!=i&&(e.l+=7);break;case 37:case 16:t[1]=vc[e[e.l]],e.l+=12==i?4:8;break;case 0:e.l+=8;break;case 1:t[1]=Eo(e);break;case 2:t[1]=function _m(e,i,t){if(t.biff>5)return function Q1(e,i,t){var n=e.read_shift(t&&2==t.biff?1:2);return 0===n?(e.l++,""):function Em(e,i,t){if(t){if(t.biff>=2&&t.biff<=5)return e.read_shift(i,"cpstr");if(t.biff>=12)return e.read_shift(i,"dbcs-cont")}var r=e.read_shift(1);return e.read_shift(i,0===r?"sbcs-cont":"dbcs-cont")}(e,n,t)}(e,0,t);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:i>0&&i<8?2:i});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function UXt(e,i,t){for(var n=e.read_shift(12==t.biff?4:2),r=[],s=0;s!=n;++s)r.push((12==t.biff?wm:HA)(e,8));return r}function zXt(e,i,t){var n=0,r=0;12==t.biff?(n=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),n=1+e.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,0==--r&&(r=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=r;++l)o[s][l]=VXt(e,t.biff);return o}function iw(e,i,t){return e.l+=2,[uXt(e)]}function S4(e){return e.l+=6,[]}function snt(e){return e.l+=2,[As(e),1&e.read_shift(2)]}var oYt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],ant={1:{n:"PtgExp",f:function kXt(e,i,t){return e.l++,t&&12==t.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(t&&2==t.biff?1:2)]}},2:{n:"PtgTbl",f:To},3:{n:"PtgAdd",f:ra},4:{n:"PtgSub",f:ra},5:{n:"PtgMul",f:ra},6:{n:"PtgDiv",f:ra},7:{n:"PtgPower",f:ra},8:{n:"PtgConcat",f:ra},9:{n:"PtgLt",f:ra},10:{n:"PtgLe",f:ra},11:{n:"PtgEq",f:ra},12:{n:"PtgGe",f:ra},13:{n:"PtgGt",f:ra},14:{n:"PtgNe",f:ra},15:{n:"PtgIsect",f:ra},16:{n:"PtgUnion",f:ra},17:{n:"PtgRange",f:ra},18:{n:"PtgUplus",f:ra},19:{n:"PtgUminus",f:ra},20:{n:"PtgPercent",f:ra},21:{n:"PtgParen",f:ra},22:{n:"PtgMissArg",f:ra},23:{n:"PtgStr",f:function BXt(e,i,t){return e.l++,N0(e,0,t)}},26:{n:"PtgSheet",f:function uYt(e,i,t){return e.l+=5,e.l+=2,e.l+=2==t.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function hYt(e,i,t){return e.l+=2==t.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function FXt(e){return e.l++,vc[e.read_shift(1)]}},29:{n:"PtgBool",f:function LXt(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function OXt(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function NXt(e){return e.l++,Eo(e)}},32:{n:"PtgArray",f:function yXt(e,i,t){var n=(96&e[e.l++])>>5;return e.l+=2==t.biff?6:12==t.biff?14:7,[n]}},33:{n:"PtgFunc",f:function MXt(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(t&&t.biff<=3?1:2);return[HYt[r],unt[r],n]}},34:{n:"PtgFuncVar",f:function IXt(e,i,t){var n=e[e.l++],r=e.read_shift(1),s=t&&t.biff<=3?[88==n?-1:0,e.read_shift(1)]:function RXt(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[r,(0===s[0]?unt:GYt)[s[1]]]}},35:{n:"PtgName",f:function GXt(e,i,t){var n=e.read_shift(1)>>>5&3,s=e.read_shift(!t||t.biff>=8?4:2);switch(t.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,s]}},36:{n:"PtgRef",f:function _Xt(e,i,t){var n=(96&e[e.l])>>5;return e.l+=1,[n,int(e,0,t)]}},37:{n:"PtgArea",f:function fXt(e,i,t){return[(96&e[e.l++])>>5,tnt(e,0,t)]}},38:{n:"PtgMemArea",f:function jXt(e,i,t){var n=e.read_shift(1)>>>5&3;return e.l+=t&&2==t.biff?3:4,[n,e.read_shift(t&&2==t.biff?1:2)]}},39:{n:"PtgMemErr",f:To},40:{n:"PtgMemNoMem",f:To},41:{n:"PtgMemFunc",f:function XXt(e,i,t){return[e.read_shift(1)>>>5&3,e.read_shift(t&&2==t.biff?1:2)]}},42:{n:"PtgRefErr",f:function YXt(e,i,t){var n=e.read_shift(1)>>>5&3;return e.l+=4,t.biff<8&&e.l--,12==t.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function mXt(e,i,t){var n=(96&e[e.l++])>>5;return e.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function AXt(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=function hXt(e,i,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return function dXt(e){var i=e.read_shift(2),t=e.read_shift(1),n=(32768&i)>>15,r=(16384&i)>>14;return i&=16383,1==n&&i>=8192&&(i-=16384),1==r&&t>=128&&(t-=256),{r:i,c:t,cRel:r,rRel:n}}(e);var r=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(16384&s)>>14,l=(32768&s)>>15;if(s&=16383,1==l)for(;r>524287;)r-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r,c:s,cRel:o,rRel:l}}(e,0,t);return[n,r]}},45:{n:"PtgAreaN",f:function vXt(e,i,t){var n=(96&e[e.l++])>>5,r=function lXt(e,i,t){if(t.biff<8)return ent(e);var n=e.read_shift(12==t.biff?4:2),r=e.read_shift(12==t.biff?4:2),s=Tf(e,2),o=Tf(e,2);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,t);return[n,r]}},46:{n:"PtgMemAreaN",f:function dYt(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function fYt(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function HXt(e,i,t){return 5==t.biff?function WXt(e){var i=e.read_shift(1)>>>5&3,t=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[i,t,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function DXt(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(2);return t&&5==t.biff&&(e.l+=12),[n,r,int(e,0,t)]}},59:{n:"PtgArea3d",f:function pXt(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2,"i");if(t&&5===t.biff)e.l+=12;return[n,r,tnt(e,0,t)]}},60:{n:"PtgRefErr3d",f:function $Xt(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[n,r]}},61:{n:"PtgAreaErr3d",f:function gXt(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2),s=8;if(t)switch(t.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[n,r]}},255:{}},mYt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},gYt={1:{n:"PtgElfLel",f:snt},2:{n:"PtgElfRw",f:iw},3:{n:"PtgElfCol",f:iw},6:{n:"PtgElfRwV",f:iw},7:{n:"PtgElfColV",f:iw},10:{n:"PtgElfRadical",f:iw},11:{n:"PtgElfRadicalS",f:S4},13:{n:"PtgElfColS",f:S4},15:{n:"PtgElfColSV",f:S4},16:{n:"PtgElfRadicalLel",f:snt},25:{n:"PtgList",f:function lYt(e){e.l+=2;var i=e.read_shift(2),t=e.read_shift(2),n=e.read_shift(4),r=e.read_shift(2),s=e.read_shift(2);return{ixti:i,coltype:3&t,rt:oYt[t>>2&31],idx:n,c:r,C:s}}},29:{n:"PtgSxName",f:function cYt(e){return e.l+=2,[e.read_shift(4)]}},255:{}},vYt={0:{n:"PtgAttrNoop",f:function pYt(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function CXt(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=t&&2==t.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function wXt(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(t&&2==t.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function xXt(e,i,t){e.l+=2;for(var n=e.read_shift(t&&2==t.biff?1:2),r=[],s=0;s<=n;++s)r.push(e.read_shift(t&&2==t.biff?1:2));return r}},8:{n:"PtgAttrGoto",f:function bXt(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(t&&2==t.biff?1:2)]}},16:{n:"PtgAttrSum",f:function PXt(e,i,t){e.l+=t&&2==t.biff?3:4}},32:{n:"PtgAttrBaxcel",f:nnt},33:{n:"PtgAttrBaxcel",f:nnt},64:{n:"PtgAttrSpace",f:function SXt(e){return e.read_shift(2),rnt(e)}},65:{n:"PtgAttrSpaceSemi",f:function EXt(e){return e.read_shift(2),rnt(e)}},128:{n:"PtgAttrIfError",f:function TXt(e){var i=255&e[e.l+1]?1:0;return e.l+=2,[i,e.read_shift(2)]}},255:{}};function nw(e,i,t,n){if(n.biff<8)return To(e,i);for(var r=e.l+i,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=zXt(e,0,n),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=UXt(e,0,n),s.push(t[o][2]);break;case"PtgExp":n&&12==n.biff&&(t[o][1][1]=e.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return 0!=(i=r-e.l)&&s.push(To(e,i)),s}function yYt(e){for(var i=[],t=0;t<e.length;++t){for(var n=e[t],r=[],s=0;s<n.length;++s){var o=n[s];r.push(o?2===o[0]?'"'+o[1].replace(/"/g,'""')+'"':o[1]:"")}i.push(r.join(","))}return i.join(";")}var xYt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function bYt(e,i){var t=e.lastIndexOf("!"),n=i.lastIndexOf("!");return-1==t&&-1==n?e+":"+i:t>0&&n>0&&e.slice(0,t).toLowerCase()==i.slice(0,n).toLowerCase()?e+":"+i.slice(n+1):(console.error("Cannot hydrate range",e,i),e+":"+i)}function ont(e,i,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[i]))return e.SheetNames[i];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[i];if(t.biff<8)return i>1e4&&(i-=65536),i<0&&(i=-i),0==i?"":e.XTI[i-1];if(!n)return"SH33TJSERR1";var r="";if(t.biff>8)switch(e[n[0]][0]){case 357:return r=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?r:r+":"+e.SheetNames[n[2]];case 358:return null!=t.SID?e.SheetNames[t.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return r=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?r:r+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(r=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?r:r+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function lnt(e,i,t){var n=ont(e,i,t);return"#REF"==n?n:W1(n,t)}function Mo(e,i,t,n,r){var w,E,D,L,s=r&&r.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],k=0,O=0,U="";if(!e[0]||!e[0][0])return"";for(var j=-1,W="",Z=0,rt=e[0].length;Z<rt;++Z){var st=e[0][Z];switch(st[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(w=l.pop(),E=l.pop(),j>=0){switch(e[0][j][1][0]){case 0:W=Zn(" ",e[0][j][1][1]);break;case 1:W=Zn("\r",e[0][j][1][1]);break;default:if(W="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][j][1][0])}E+=W,j=-1}l.push(E+xYt[st[0]]+w);break;case"PtgIsect":w=l.pop(),E=l.pop(),l.push(E+" "+w);break;case"PtgUnion":w=l.pop(),E=l.pop(),l.push(E+","+w);break;case"PtgRange":w=l.pop(),E=l.pop(),l.push(bYt(E,w));break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":D=z1(st[1][1],o,r),l.push(G1(D,s));break;case"PtgRefN":D=t?z1(st[1][1],t,r):st[1][1],l.push(G1(D,s));break;case"PtgRef3d":k=st[1][1],D=z1(st[1][2],o,r),U=lnt(n,k,r),l.push(U+"!"+G1(D,s));break;case"PtgFunc":case"PtgFuncVar":var Tt=st[1][0],It=st[1][1];Tt||(Tt=0);var ft=0==(Tt&=127)?[]:l.slice(-Tt);l.length-=Tt,"User"===It&&(It=ft.shift()),l.push(It+"("+ft.join(",")+")");break;case"PtgBool":l.push(st[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":l.push(st[1]);break;case"PtgNum":l.push(String(st[1]));break;case"PtgStr":l.push('"'+st[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":L=Let(st[1][1],t?{s:t}:o,r),l.push(KN(L,r));break;case"PtgArea":L=Let(st[1][1],o,r),l.push(KN(L,r));break;case"PtgArea3d":L=st[1][2],U=lnt(n,k=st[1][1],r),l.push(U+"!"+KN(L,r));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgName":var ht=(n.names||[])[(O=st[1][2])-1]||(n[0]||[])[O],mt=ht?ht.Name:"SH33TJSNAME"+String(O);mt&&"_xlfn."==mt.slice(0,6)&&!r.xlfn&&(mt=mt.slice(6)),l.push(mt);break;case"PtgNameX":var Ct,wt=st[1][1];if(O=st[1][2],!(r.biff<=5)){var _t="";if(14849==((n[wt]||[])[0]||[])[0]||(1025==((n[wt]||[])[0]||[])[0]?n[wt][O]&&n[wt][O].itab>0&&(_t=n.SheetNames[n[wt][O].itab-1]+"!"):_t=n.SheetNames[O-1]+"!"),n[wt]&&n[wt][O])_t+=n[wt][O].Name;else if(n[0]&&n[0][O])_t+=n[0][O].Name;else{var Dt=(ont(n,wt,r)||"").split(";;");Dt[O-1]?_t=Dt[O-1]:_t+="SH33TJSERRX"}l.push(_t);break}wt<0&&(wt=-wt),n[wt]&&(Ct=n[wt][O]),Ct||(Ct={Name:"SH33TJSERRY"}),l.push(Ct.Name);break;case"PtgParen":var Ue="(",Te=")";if(j>=0){switch(W="",e[0][j][1][0]){case 2:Ue=Zn(" ",e[0][j][1][1])+Ue;break;case 3:Ue=Zn("\r",e[0][j][1][1])+Ue;break;case 4:Te=Zn(" ",e[0][j][1][1])+Te;break;case 5:Te=Zn("\r",e[0][j][1][1])+Te;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][j][1][0])}j=-1}l.push(Ue+l.pop()+Te);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":l.push("#REF!");break;case"PtgExp":var ve={c:t.c,r:t.r};if(n.sharedf[Pn(D={c:st[1][1],r:st[1][0]})]){var qt=n.sharedf[Pn(D)];l.push(Mo(qt,0,ve,n,r))}else{var _e=!1;for(w=0;w!=n.arrayf.length;++w)if(!(D.c<(E=n.arrayf[w])[0].s.c||D.c>E[0].e.c||D.r<E[0].s.r||D.r>E[0].e.r)){l.push(Mo(E[1],0,ve,n,r)),_e=!0;break}_e||l.push(st[1])}break;case"PtgArray":l.push("{"+yYt(st[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":j=Z;break;case"PtgMissArg":l.push("");break;case"PtgList":l.push("Table"+st[1].idx+"[#"+st[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(st))}if(3!=r.biff&&j>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][Z][0])){var Me=!0;switch((st=e[0][j])[1][0]){case 4:Me=!1;case 0:W=Zn(" ",st[1][1]);break;case 5:Me=!1;case 1:W=Zn("\r",st[1][1]);break;default:if(W="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+st[1][0])}l.push((Me?W:"")+l.pop()+(Me?"":W)),j=-1}}if(l.length>1&&r.WTF)throw new Error("bad formula stack");return"TRUE"==l[0]||"FALSE"!=l[0]&&l[0]}function JA(e,i,t){var n=e.read_shift(4),r=function rw(e,i,t){for(var r,s,n=e.l+i,o=[];n!=e.l;)i=n-e.l,r=ant[s=e[e.l]]||ant[mYt[s]],(24===s||25===s)&&(r=(24===s?gYt:vYt)[e[e.l+1]]),r&&r.f?o.push([r.n,r.f(e,i,t)]):To(e,i);return o}(e,n,t),s=e.read_shift(4);return[r,s>0?nw(e,s,r,t):null]}var DYt=JA,qA=JA,MYt=JA,IYt=JA;function cnt(e){if((0|e)==e&&e<Math.pow(2,16)&&e>=0){var i=le(11);return i.write_shift(4,3),i.write_shift(1,30),i.write_shift(2,e),i.write_shift(4,0),i}var t=le(17);return t.write_shift(4,11),t.write_shift(1,31),t.write_shift(8,e),t.write_shift(4,0),t}var zYt=function UYt(e,i){if("number"==typeof e)return cnt(e);if("boolean"==typeof e)return function PYt(e){var i=le(10);return i.write_shift(4,2),i.write_shift(1,29),i.write_shift(1,e?1:0),i.write_shift(4,0),i}(e);if(/^#(DIV\/0!|GETTING_DATA|N\/A|NAME\?|NULL!|NUM!|REF!|VALUE!)$/.test(e))return function RYt(e){var i=le(10);return i.write_shift(4,2),i.write_shift(1,28),i.write_shift(1,e),i.write_shift(4,0),i}(+X1[e]);if(e.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function FYt(e){var i=Tr(e),t=le(15);return t.write_shift(4,7),t.write_shift(1,36),t.write_shift(4,i.r),t.write_shift(2,i.c|("$"==e.charAt(0)?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),t.write_shift(4,0),t}(e);if(e.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function NYt(e){var i=e.split(":"),t=i[0],n=le(23);n.write_shift(4,15);var r=Tr(t=i[0]);return n.write_shift(1,36),n.write_shift(4,r.r),n.write_shift(2,r.c|("$"==t.charAt(0)?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),r=Tr(t=i[1]),n.write_shift(1,36),n.write_shift(4,r.r),n.write_shift(2,r.c|("$"==t.charAt(0)?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),n.write_shift(1,17),n.write_shift(4,0),n}(e);if(e.match(/^#REF!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function VYt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=Sa(e),s=le(23);return s.write_shift(4,15),s.write_shift(1,59),s.write_shift(2,2+i.SheetNames.map(function(o){return o.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,r.s.r),s.write_shift(4,r.e.r),s.write_shift(2,r.s.c),s.write_shift(2,r.e.c),s.write_shift(4,0),s}(e,i);if(e.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function OYt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t),r=Tr(e=e.slice(t+1));"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var s=le(17);return s.write_shift(4,9),s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(o){return o.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,r.r),s.write_shift(2,r.c|("$"==e.charAt(0)?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),s.write_shift(4,0),s}(e,i);if(e.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function BYt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=e.split(":"),s=le(27);s.write_shift(4,19);var o=r[0],l=Tr(o);return s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(w){return w.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,l.r),s.write_shift(2,l.c|("$"==o.charAt(0)?0:1)<<14|(o.match(/\$\d/)?0:1)<<15),l=Tr(o=r[1]),s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(w){return w.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,l.r),s.write_shift(2,l.c|("$"==o.charAt(0)?0:1)<<14|(o.match(/\$\d/)?0:1)<<15),s.write_shift(1,17),s.write_shift(4,0),s}(e,i);if(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!#REF!$/.test(e))return function LYt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=le(17);return r.write_shift(4,9),r.write_shift(1,60),r.write_shift(2,2+i.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(n.toLowerCase())),r.write_shift(4,0),r.write_shift(2,0),r.write_shift(4,0),r}(e,i);if(/^".*"$/.test(e))return function kYt(e){var i=le(7);i.write_shift(4,3+2*e.length),i.write_shift(1,23),i.write_shift(2,e.length);var t=le(2*e.length);t.write_shift(2*e.length,e,"utf16le");var n=le(4);return n.write_shift(4,0),Us([i,t,n])}(e);if(/^[+-]\d+$/.test(e))return cnt(parseInt(e,10));throw"Formula |"+e+"| not supported for XLSB"},GYt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},unt={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},HYt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function WYt(e){return("of:="+e.replace(KA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function dnt(e){return e.replace(/!/,".").replace(/:/,":.")}var aw=typeof Map<"u";function A4(e,i,t){var n=0,r=e.length;if(t){if(aw?t.has(i):Object.prototype.hasOwnProperty.call(t,i))for(var s=aw?t.get(i):t[i];n<s.length;++n)if(e[s[n]].t===i)return e.Count++,s[n]}else for(;n<r;++n)if(e[n].t===i)return e.Count++,n;return e[r]={t:i},e.Count++,e.Unique++,t&&(aw?(t.has(i)||t.set(i,[]),t.get(i).push(r)):(Object.prototype.hasOwnProperty.call(t,i)||(t[i]=[]),t[i].push(r))),r}function tD(e,i){var t={min:e+1,max:e+1},n=-1;return i.MDW&&(Do=i.MDW),null!=i.width?t.customWidth=1:null!=i.wpx?n=q1(i.wpx):null!=i.wch&&(n=i.wch),n>-1?(t.width=YA(n),t.customWidth=1):null!=i.width&&(t.width=i.width),i.hidden&&(t.hidden=!0),null!=i.level&&(t.outlineLevel=t.level=i.level),t}function Im(e,i){if(e){var t=[.7,.7,.75,.75,.3,.3];"xlml"==i&&(t=[1,1,1,1,.5,.5]),null==e.left&&(e.left=t[0]),null==e.right&&(e.right=t[1]),null==e.top&&(e.top=t[2]),null==e.bottom&&(e.bottom=t[3]),null==e.header&&(e.header=t[4]),null==e.footer&&(e.footer=t[5])}}function Cf(e,i,t){var n=t.revssf[null!=i.z?i.z:"General"],r=60,s=e.length;if(null==n&&t.ssf)for(;r<392;++r)if(null==t.ssf[r]){yf(i.z,r),t.ssf[r]=i.z,t.revssf[i.z]=n=r;break}for(r=0;r!=s;++r)if(e[r].numFmtId===n)return r;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function jYt(e,i,t){if(e&&e["!ref"]){var n=$n(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+e["!ref"])}}var n$t=["objects","scenarios","selectLockedCells","selectUnlockedCells"],r$t=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function g$t(e,i,t,n,r,s,o){if(e.c&&t["!comments"].push([i,e.c]),(void 0===e.v||"z"===e.t&&!(n||{}).sheetStubs)&&"string"!=typeof e.f&&typeof e.z>"u")return"";var l="",w=e.t,E=e.v;if("z"!==e.t)switch(e.t){case"b":l=e.v?"1":"0";break;case"n":isNaN(e.v)?(e.t="e",l=vc[e.v=36]):isFinite(e.v)?l=""+e.v:(e.t="e",l=vc[e.v=7]);break;case"e":l=vc[e.v];break;case"d":if(n&&n.cellDates){var D=ps(e.v,o);l=D.toISOString(),D.getUTCFullYear()<1900&&(l=l.slice(l.indexOf("T")+1).replace("Z",""))}else(e=br(e)).t="n",l=""+(e.v=ws(ps(e.v,o),o));typeof e.z>"u"&&(e.z=Ni[14]);break;default:l=e.v}var k="z"==e.t||null==e.v?"":Ja("v",_n(l)),O={r:i},L=Cf(n.cellXfs,e,n);switch(0!==L&&(O.s=L),e.t){case"n":case"z":break;case"d":O.t="d";break;case"b":O.t="b";break;case"e":O.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){k=Ja("v",""+A4(n.Strings,e.v,n.revStrings)),O.t="s";break}O.t="str"}if(e.t!=w&&(e.t=w,e.v=E),"string"==typeof e.f&&e.f){var U=e.F&&e.F.slice(0,i.length)==i?{t:"array",ref:e.F}:null;k=ii("f",_n(e.f),U)+(null!=e.v?k:"")}return e.l&&(e.l.display=_n(l),t["!links"].push([i,e.l])),e.D&&(O.cm=1),ii("c",k,O)}function x$t(e,i,t,n){var o,r=[zs,ii("worksheet",null,{xmlns:gm[0],"xmlns:r":Ta.r})],l="",w=t.Sheets[t.SheetNames[e]];null==w&&(w={});var E=w["!ref"]||"A1",D=$n(E);if(D.e.c>16383||D.e.r>1048575){if(i.WTF)throw new Error("Range "+E+" exceeds format limit A1:XFD1048576");D.e.c=Math.min(D.e.c,16383),D.e.r=Math.min(D.e.c,1048575),E=bn(D)}n||(n={}),w["!comments"]=[];var k=[];(function i$t(e,i,t,n,r){var s=!1,o={},l=null;if("xlsx"!==n.bookType&&i.vbaraw){var w=i.SheetNames[t];try{i.Workbook&&(w=i.Workbook.Sheets[t].CodeName||w)}catch{}s=!0,o.codeName=Lu(_n(w))}if(e&&e["!outline"]){var E={summaryBelow:1,summaryRight:1};e["!outline"].above&&(E.summaryBelow=0),e["!outline"].left&&(E.summaryRight=0),l=(l||"")+ii("outlinePr",null,E)}!s&&!l||(r[r.length]=ii("sheetPr",l,o))})(w,t,e,i,r),r[r.length]=ii("dimension",null,{ref:E}),r[r.length]=function m$t(e,i,t,n){var r={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ii("sheetViews",ii("sheetView",null,r),{})}(0,0,0,t),i.sheetFormat&&(r[r.length]=ii("sheetFormatPr",null,{defaultRowHeight:i.sheetFormat.defaultRowHeight||"16",baseColWidth:i.sheetFormat.baseColWidth||"10",outlineLevelRow:i.sheetFormat.outlineLevelRow||"7"})),null!=w["!cols"]&&w["!cols"].length>0&&(r[r.length]=function u$t(e,i){for(var n,t=["<cols>"],r=0;r!=i.length;++r)(n=i[r])&&(t[t.length]=ii("col",null,tD(r,n)));return t[t.length]="</cols>",t.join("")}(0,w["!cols"])),r[o=r.length]="<sheetData/>",w["!links"]=[],null!=w["!ref"]&&(l=function y$t(e,i,t,n){var w,W,r=[],s=[],o=$n(e["!ref"]),l="",E="",D=[],k=0,O=0,L=e["!rows"],U=null!=e["!data"],j={r:E},Z=-1,rt=(((n||{}).Workbook||{}).WBProps||{}).date1904;for(O=o.s.c;O<=o.e.c;++O)D[O]=xn(O);for(k=o.s.r;k<=o.e.r;++k){for(s=[],E=Un(k),O=o.s.c;O<=o.e.c;++O){w=D[O]+E;var st=U?(e["!data"][k]||[])[O]:e[w];void 0!==st&&null!=(l=g$t(st,w,e,i,0,0,rt))&&s.push(l)}(s.length>0||L&&L[k])&&(j={r:E},L&&L[k]&&((W=L[k]).hidden&&(j.hidden=1),Z=-1,W.hpx?Z=tw(W.hpx):W.hpt&&(Z=W.hpt),Z>-1&&(j.ht=Z,j.customHeight=1),W.level&&(j.outlineLevel=W.level)),r[r.length]=ii("row",s.join(""),j))}if(L)for(;k<L.length;++k)L&&L[k]&&(j={r:k+1},(W=L[k]).hidden&&(j.hidden=1),Z=-1,W.hpx?Z=tw(W.hpx):W.hpt&&(Z=W.hpt),Z>-1&&(j.ht=Z,j.customHeight=1),W.level&&(j.outlineLevel=W.level),r[r.length]=ii("row","",j));return r.join("")}(w,i,0,t),l.length>0&&(r[r.length]=l)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),w["!protect"]&&(r[r.length]=function s$t(e){var i={sheet:1};return n$t.forEach(function(t){null!=e[t]&&e[t]&&(i[t]="1")}),r$t.forEach(function(t){null!=e[t]&&!e[t]&&(i[t]="0")}),e.password&&(i.password=x4(e.password).toString(16).toUpperCase()),ii("sheetProtection",null,i)}(w["!protect"])),null!=w["!autofilter"]&&(r[r.length]=function d$t(e,i,t,n){var r="string"==typeof e.ref?e.ref:bn(e.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=Sa(r);o.s.r==o.e.r&&(o.e.r=Sa(i["!ref"]).e.r,r=bn(o));for(var l=0;l<s.length;++l){var w=s[l];if("_xlnm._FilterDatabase"==w.Name&&w.Sheet==n){w.Ref=W1(t.SheetNames[n])+"!"+H1(r);break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+r}),ii("autoFilter",null,{ref:r})}(w["!autofilter"],w,t,e)),null!=w["!merges"]&&w["!merges"].length>0&&(r[r.length]=function t$t(e){if(0===e.length)return"";for(var i='<mergeCells count="'+e.length+'">',t=0;t!=e.length;++t)i+='<mergeCell ref="'+bn(e[t])+'"/>';return i+"</mergeCells>"}(w["!merges"]));var L,O=-1,U=-1;return w["!links"].length>0&&(r[r.length]="<hyperlinks>",w["!links"].forEach(function(j){j[1].Target&&(L={ref:j[0]},"#"!=j[1].Target.charAt(0)&&(U=vr(n,-1,_n(j[1].Target).replace(/#[\s\S]*$/,""),wn.HLINK),L["r:id"]="rId"+U),(O=j[1].Target.indexOf("#"))>-1&&(L.location=_n(j[1].Target.slice(O+1))),j[1].Tooltip&&(L.tooltip=_n(j[1].Tooltip)),L.display=j[1].display,r[r.length]=ii("hyperlink",null,L))}),r[r.length]="</hyperlinks>"),delete w["!links"],null!=w["!margins"]&&(r[r.length]=function l$t(e){return Im(e),ii("pageMargins",null,e)}(w["!margins"])),(!i||i.ignoreEC||null==i.ignoreEC)&&(r[r.length]=Ja("ignoredErrors",ii("ignoredError",null,{numberStoredAsText:1,sqref:E}))),k.length>0&&(U=vr(n,-1,"../drawings/drawing"+(e+1)+".xml",wn.DRAW),r[r.length]=ii("drawing",null,{"r:id":"rId"+U}),w["!drawing"]=k),w["!comments"].length>0&&(U=vr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",wn.VML),r[r.length]=ii("legacyDrawing",null,{"r:id":"rId"+U}),w["!legacy"]=U),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function T$t(e,i,t,n){var r=function w$t(e,i,t){var n=le(145),r=(t["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;r.hpx?s=20*tw(r.hpx):r.hpt&&(s=20*r.hpt),n.write_shift(2,s),n.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,w=n.l;n.l+=4;for(var E={r:e,c:0},D=null!=t["!data"],k=0;k<16;++k)if(!(i.s.c>k+1<<10||i.e.c<k<<10)){for(var O=-1,L=-1,U=k<<10;U<k+1<<10;++U)E.c=U,(D?(t["!data"][E.r]||[])[E.c]:t[Pn(E)])&&(O<0&&(O=U),L=U);O<0||(++l,n.write_shift(4,O),n.write_shift(4,L))}var W=n.l;return n.l=w,n.write_shift(4,l),n.l=W,n.length>n.l?n.slice(0,n.l):n}(n,t,i);(r.length>17||(i["!rows"]||[])[n])&&Re(e,0,r)}var C$t=wm,S$t=O0;function M4(e,i,t){return null==t&&(t=le(9)),ym(i,t),t.write_shift(1,e.v),t}function I4(e,i,t){return null==t&&(t=le(8)),bm(i,t),t.write_shift(1,e.v),t.write_shift(2,0),t.write_shift(1,0),t}var rQt=wm,sQt=O0,gnt=["left","right","top","bottom","header","footer"];function TQt(e,i,t,n,r,s,o,l){var w={r:t,c:n};if(i.c&&s["!comments"].push([Pn(w),i.c]),void 0===i.v)return!1;var E="";switch(i.t){case"b":E=i.v?"1":"0";break;case"d":(i=br(i)).z=i.z||Ni[14],i.v=ws(ps(i.v,l),l),i.t="n";break;case"n":case"e":E=""+i.v;break;default:E=i.v}switch(w.s=Cf(r.cellXfs,i,r),i.l&&s["!links"].push([Pn(w),i.l]),i.t){case"s":case"str":return r.bookSST?(E=A4(r.Strings,null==i.v?"":String(i.v),r.revStrings),w.t="s",w.v=E,o?Re(e,18,function z$t(e,i,t){return null==t&&(t=le(8)),bm(i,t),t.write_shift(4,i.v),t}(0,w)):Re(e,7,function V$t(e,i,t){return null==t&&(t=le(12)),ym(i,t),t.write_shift(4,i.v),t}(0,w))):(w.t="str",o?Re(e,17,function q$t(e,i,t){var n=null==e.v?"":String(e.v);return null==t&&(t=le(8+4*n.length)),bm(i,t),Ea(n,t),t.length>t.l?t.slice(0,t.l):t}(i,w)):Re(e,6,function Z$t(e,i,t){var n=null==e.v?"":String(e.v);return null==t&&(t=le(12+4*e.v.length)),ym(i,t),Ea(n,t),t.length>t.l?t.slice(0,t.l):t}(i,w))),!0;case"n":return i.v==(0|i.v)&&i.v>-1e3&&i.v<1e3?o?Re(e,13,function $$t(e,i,t){return null==t&&(t=le(8)),bm(i,t),Uet(e.v,t),t}(i,w)):Re(e,2,function X$t(e,i,t){return null==t&&(t=le(12)),ym(i,t),Uet(e.v,t),t}(i,w)):isNaN(i.v)?o?Re(e,14,I4({t:"e",v:36},w)):Re(e,3,M4({t:"e",v:36},w)):isFinite(i.v)?o?Re(e,16,function W$t(e,i,t){return null==t&&(t=le(12)),bm(i,t),Tm(e.v,t),t}(i,w)):Re(e,5,function H$t(e,i,t){return null==t&&(t=le(16)),ym(i,t),Tm(e.v,t),t}(i,w)):o?Re(e,14,I4({t:"e",v:7},w)):Re(e,3,M4({t:"e",v:7},w)),!0;case"b":return w.t="b",o?Re(e,15,function O$t(e,i,t){return null==t&&(t=le(5)),bm(i,t),t.write_shift(1,e.v?1:0),t}(i,w)):Re(e,4,function k$t(e,i,t){return null==t&&(t=le(9)),ym(i,t),t.write_shift(1,e.v?1:0),t}(i,w)),!0;case"e":return w.t="e",o?Re(e,14,I4(i,w)):Re(e,3,M4(i,w)),!0}return o?Re(e,12,function R$t(e,i,t){return null==t&&(t=le(4)),bm(i,t)}(0,w)):Re(e,1,function M$t(e,i,t){return null==t&&(t=le(8)),ym(i,t)}(0,w)),!0}function PQt(e,i,t,n){var r=Co(),s=t.SheetNames[e],o=t.Sheets[s]||{},l=s;try{t&&t.Workbook&&(l=t.Workbook.Sheets[e].CodeName||l)}catch{}var w=$n(o["!ref"]||"A1");if(w.e.c>16383||w.e.r>1048575){if(i.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");w.e.c=Math.min(w.e.c,16383),w.e.r=Math.min(w.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Re(r,129),(t.vbaraw||o["!outline"])&&Re(r,147,function A$t(e,i,t){null==t&&(t=le(84+4*e.length));var n=192;i&&(i.above&&(n&=-65),i.left&&(n&=-129)),t.write_shift(1,n);for(var r=1;r<3;++r)t.write_shift(1,0);return LA({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),Vet(e,t),t.slice(0,t.l)}(l,o["!outline"])),Re(r,148,S$t(w)),function IQt(e,i,t){Re(e,133),Re(e,137,function gQt(e,i,t){null==t&&(t=le(30));var n=924;return(((i||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}(0,t)),Re(e,138),Re(e,134)}(r,0,t.Workbook),function EQt(e,i){!i||!i["!cols"]||(Re(e,390),i["!cols"].forEach(function(t,n){t&&Re(e,60,function dQt(e,i,t){null==t&&(t=le(18));var n=tD(e,i);t.write_shift(-4,e),t.write_shift(-4,e),t.write_shift(4,256*(n.width||10)),t.write_shift(4,0);var r=0;return i.hidden&&(r|=1),"number"==typeof n.width&&(r|=2),i.level&&(r|=i.level<<8),t.write_shift(2,r),t}(n,t))}),Re(e,391))}(r,o),function CQt(e,i,t,n,r){var s=$n(i["!ref"]||"A1"),l="",w=[],E=(((r||{}).Workbook||{}).WBProps||{}).date1904;Re(e,145);var D=null!=i["!data"],k=s.e.r;i["!rows"]&&(k=Math.max(s.e.r,i["!rows"].length-1));for(var O=s.s.r;O<=k;++O){l=Un(O),T$t(e,i,s,O);var L=!1;if(O<=s.e.r)for(var U=s.s.c;U<=s.e.c;++U){O===s.s.r&&(w[U]=xn(U));var j=D?(i["!data"][O]||[])[U]:i[w[U]+l];L=!!j&&TQt(e,j,O,U,n,i,L,E)}}Re(e,146)}(r,o,0,i,t),function RQt(e,i){i["!protect"]&&Re(e,535,function yQt(e,i){return null==i&&(i=le(66)),i.write_shift(2,e.password?x4(e.password):0),i.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){i.write_shift(4,t[1]?null==e[t[0]]||e[t[0]]?0:1:null!=e[t[0]]&&e[t[0]]?0:1)}),i}(i["!protect"]))}(r,o),function MQt(e,i,t,n){if(i["!autofilter"]){var r=i["!autofilter"],s="string"==typeof r.ref?r.ref:bn(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,l=Sa(s);l.s.r==l.e.r&&(l.e.r=Sa(i["!ref"]).e.r,s=bn(l));for(var w=0;w<o.length;++w){var E=o[w];if("_xlnm._FilterDatabase"==E.Name&&E.Sheet==n){E.Ref=W1(t.SheetNames[n])+"!"+H1(s);break}}w==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:W1(t.SheetNames[n])+"!"+H1(s)}),Re(e,161,O0($n(s))),Re(e,162)}}(r,o,t,e),function SQt(e,i){!i||!i["!merges"]||(Re(e,177,function aQt(e,i){return null==i&&(i=le(4)),i.write_shift(4,e),i}(i["!merges"].length)),i["!merges"].forEach(function(t){Re(e,176,sQt(t))}),Re(e,178))}(r,o),function AQt(e,i,t){i["!links"].forEach(function(n){if(n[1].Target){var r=vr(t,-1,n[1].Target.replace(/#[\s\S]*$/,""),wn.HLINK);Re(e,494,function lQt(e,i){var t=le(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));O0({s:Tr(e[0]),e:Tr(e[0])},t),e4("rId"+i,t);var n=e[1].Target.indexOf("#");return Ea((-1==n?"":e[1].Target.slice(n+1))||"",t),Ea(e[1].Tooltip||"",t),Ea("",t),t.slice(0,t.l)}(n,r))}}),delete i["!links"]}(r,o,n),o["!margins"]&&Re(r,476,function pQt(e,i){return null==i&&(i=le(48)),Im(e),gnt.forEach(function(t){Tm(e[t],i)}),i}(o["!margins"])),(!i||i.ignoreEC||null==i.ignoreEC)&&function _Qt(e,i){!i||!i["!ref"]||(Re(e,648),Re(e,649,function vQt(e){var i=le(24);return i.write_shift(4,4),i.write_shift(4,1),O0(e,i),i}($n(i["!ref"]))),Re(e,650))}(r,o),function DQt(e,i,t,n){if(i["!comments"].length>0){var r=vr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",wn.VML);Re(e,551,e4("rId"+r)),i["!legacy"]=r}}(r,o,e,n),Re(r,130),r.end()}var R4=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],GQt=":][*?/\\".split("");function bnt(e,i){try{if(""==e)throw new Error("Sheet name cannot be blank");if(e.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(39==e.charCodeAt(0)||39==e.charCodeAt(e.length-1))throw new Error("Sheet name cannot start or end with apostrophe (')");if("history"==e.toLowerCase())throw new Error("Sheet name cannot be 'History'");GQt.forEach(function(t){if(-1!=e.indexOf(t))throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(t){if(i)return!1;throw t}return!0}function $Qt(e,i){return i||(i=le(127)),i.write_shift(4,e.Hidden),i.write_shift(4,e.iTabID),e4(e.strRelID,i),Ea(e.name.slice(0,31),i),i.length>i.l?i.slice(0,i.l):i}function lKt(e,i){var t=Co();return Re(t,131),Re(t,128,function iKt(e,i){i||(i=le(127));for(var t=0;4!=t;++t)i.write_shift(4,0);return Ea("SheetJS",i),Ea(D1.version,i),Ea(D1.version,i),Ea("7262",i),i.length>i.l?i.slice(0,i.l):i}()),Re(t,153,function KQt(e,i){i||(i=le(72));var t=0;return e&&(e.date1904&&(t|=1),e.filterPrivacy&&(t|=8)),i.write_shift(4,t),i.write_shift(4,0),Vet(e&&e.CodeName||"ThisWorkbook",i),i.slice(0,i.l)}(e.Workbook&&e.Workbook.WBProps||null)),function rKt(e,i){if(i.Workbook&&i.Workbook.Sheets){for(var t=i.Workbook.Sheets,n=0,r=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&-1==r?r=n:1==t[n].Hidden&&-1==s&&(s=n);s>r||(Re(e,135),Re(e,158,function nKt(e,i){return i||(i=le(29)),i.write_shift(-4,0),i.write_shift(-4,460),i.write_shift(4,28800),i.write_shift(4,17600),i.write_shift(4,500),i.write_shift(4,e),i.write_shift(4,e),i.write_shift(1,120),i.length>i.l?i.slice(0,i.l):i}(r)),Re(e,136))}}(t,e),function eKt(e,i){Re(e,143);for(var t=0;t!=i.SheetNames.length;++t)Re(e,156,$Qt({Hidden:i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[t]&&i.Workbook.Sheets[t].Hidden||0,iTabID:t+1,strRelID:"rId"+(t+1),name:i.SheetNames[t]}));Re(e,144)}(t,e),function oKt(e,i){Re(e,353),Re(e,357),Re(e,362,function aKt(e){var i=e.SheetNames.length,t=le(12*i+28);t.write_shift(4,i+2),t.write_shift(4,0),t.write_shift(4,-2),t.write_shift(4,-2),t.write_shift(4,0),t.write_shift(4,-1),t.write_shift(4,-1);for(var n=0;n<i;++n)t.write_shift(4,0),t.write_shift(4,n),t.write_shift(4,n);return t}(i)),Re(e,354)}(t,e),(e.Workbook||{}).Names&&function sKt(e,i){!i.Workbook||!i.Workbook.Names||i.Workbook.Names.forEach(function(t){try{if(14&t.Flags)return;Re(e,39,function qQt(e,i){var t=le(9),n=0,r=e.Name;a4.indexOf(r)>-1&&(n|=32,r=r.slice(6)),t.write_shift(4,n),t.write_shift(1,0),t.write_shift(4,null==e.Sheet?4294967295:e.Sheet);var s=[t,Ea(r),zYt(e.Ref,i)];if(e.Comment)s.push(j1(e.Comment));else{var o=le(4);o.write_shift(4,4294967295),s.push(o)}return Us(s)}(t,i))}catch{console.error("Could not serialize defined name "+JSON.stringify(t))}})}(t,e),Re(t,132),t.end()}function Snt(e){return ii("NamedRange",null,{"ss:Name":"_xlnm."==e.Name.slice(0,6)?e.Name.slice(6):e.Name,"ss:RefersTo":"="+ZA(e.Ref,{r:0,c:0})})}function OKt(e,i,t,n,r,s,o){if(!e||null==e.v&&null==e.f)return"";var l={};if(e.f&&(l["ss:Formula"]="="+_n(ZA(e.f,o))),e.F&&e.F.slice(0,i.length)==i){var w=Tr(e.F.slice(i.length+1));l["ss:ArrayRange"]="RC:R"+(w.r==o.r?"":"["+(w.r-o.r)+"]")+"C"+(w.c==o.c?"":"["+(w.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=_n(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=_n(e.l.Tooltip))),t["!merges"])for(var E=t["!merges"],D=0;D!=E.length;++D)E[D].s.c!=o.c||E[D].s.r!=o.r||(E[D].e.c>E[D].s.c&&(l["ss:MergeAcross"]=E[D].e.c-E[D].s.c),E[D].e.r>E[D].s.r&&(l["ss:MergeDown"]=E[D].e.r-E[D].s.r));var k="",O="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":k="Number",O=String(e.v);break;case"b":k="Boolean",O=e.v?"1":"0";break;case"e":k="Error",O=vc[e.v];break;case"d":k="DateTime",O=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||Ni[14]);break;case"s":k="String",O=function Yzt(e){return(e+"").replace(zN,function(t){return UN[t]}).replace(pet,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}(e.v||"")}var L=Cf(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+L),l["ss:Index"]=o.c+1;var j="z"==e.t?"":'<Data ss:Type="'+k+'">'+(null!=e.v?O:"")+"</Data>";return(e.c||[]).length>0&&(j+=function FKt(e){return e.map(function(i){var t=function $zt(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}(i.t||""),n=ii("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"}),r={};return i.a&&(r["ss:Author"]=i.a),e.hidden||(r["ss:ShowAlways"]="1"),ii("Comment",n,r)}).join("")}(e.c)),ii("Cell",j,l)}function LKt(e,i){var t='<Row ss:Index="'+(e+1)+'"';return i&&(i.hpt&&!i.hpx&&(i.hpx=V0(i.hpt)),i.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+i.hpx+'"'),i.hidden&&(t+=' ss:Hidden="1"')),t+">"}function BKt(e,i,t){var n=[],s=t.Sheets[t.SheetNames[e]],o=s?function PKt(e,i,t,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var r=n.Workbook.Names,s=[],o=0;o<r.length;++o){var l=r[o];l.Sheet==t&&(l.Name.match(/^_xlfn\./)||s.push(Snt(l)))}return s.join("")}(s,0,e,t):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?function NKt(e,i){if(!e["!ref"])return"";var r=$n(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(W,Z){wf(W);var rt=!!W.width,st=tD(Z,W),yt={"ss:Index":Z+1};rt&&(yt["ss:Width"]=J1(st.width)),W.hidden&&(yt["ss:Hidden"]="1"),l.push(ii("Column",null,yt))});for(var w=null!=e["!data"],E=r.s.r;E<=r.e.r;++E){for(var D=[LKt(E,(e["!rows"]||[])[E])],k=r.s.c;k<=r.e.c;++k){var O=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>k||s[o].s.r>E||s[o].e.c<k||s[o].e.r<E)){(s[o].s.c!=k||s[o].s.r!=E)&&(O=!0);break}if(!O){var L={r:E,c:k},U=xn(k)+Un(E);D.push(OKt(w?(e["!data"][E]||[])[k]:e[U],U,e,i,0,0,L))}}D.push("</Row>"),D.length>2&&l.push(D.join(""))}return l.join("")}(s,i):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(function kKt(e,i,t,n){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(ii("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(ii("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(ii("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)r.push(ii("Visible",1==n.Workbook.Sheets[t].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&(!n.Workbook.Sheets[s]||n.Workbook.Sheets[s].Hidden);++s);s==t&&r.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push(Ja("ProtectContents","True")),e["!protect"].objects&&r.push(Ja("ProtectObjects","True")),e["!protect"].scenarios&&r.push(Ja("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null!=e["!protect"].selectUnlockedCells&&!e["!protect"].selectUnlockedCells&&r.push(Ja("EnableSelection","UnlockedCells")):r.push(Ja("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),0==r.length?"":ii("WorksheetOptions",r.join(""),{xmlns:Gl.x})}(s,0,e,t)),s["!autofilter"]&&n.push('<AutoFilter x:Range="'+ZA(H1(s["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),n.join("")}function VKt(e,i){i||(i={}),e.SSF||(e.SSF=br(Ni)),e.SSF&&(I0(),F1(e.SSF),i.revssf=DA(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF,i.cellXfs=[],Cf(i.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(function DKt(e,i){var t=[];return e.Props&&t.push(function WGt(e,i){var t=[];return rs(u4).map(function(n){for(var r=0;r<Kh.length;++r)if(Kh[r][1]==n)return Kh[r];for(r=0;r<Sm.length;++r)if(Sm[r][1]==n)return Sm[r];throw n}).forEach(function(n){if(null!=e[n[1]]){var r=i&&i.Props&&null!=i.Props[n[1]]?i.Props[n[1]]:e[n[1]];"date"===n[2]&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof r?r=String(r):!0===r||!1===r?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),t.push(Ja(u4[n[1]]||n[1],r))}}),ii("DocumentProperties",t.join(""),{xmlns:Gl.o})}(e.Props,i)),e.Custprops&&t.push(function jGt(e,i){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",r=[];return e&&rs(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<Kh.length;++o)if(s==Kh[o][1])return;for(o=0;o<Sm.length;++o)if(s==Sm[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var l=e[s],w="string";"number"==typeof l?(w="float",l=String(l)):!0===l||!1===l?(w="boolean",l=l?"1":"0"):l=String(l),r.push(ii(fet(s),l,{"dt:dt":w}))}}),i&&rs(i).forEach(function(s){if(Object.prototype.hasOwnProperty.call(i,s)&&(!e||!Object.prototype.hasOwnProperty.call(e,s))){var o=i[s],l="string";"number"==typeof o?(l="float",o=String(o)):!0===o||!1===o?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),r.push(ii(fet(s),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Gl.o+'">'+r.join("")+"</"+n+">"}(e.Props,e.Custprops)),t.join("")}(e,i)),t.push(function MKt(e){return(((e||{}).Workbook||{}).WBProps||{}).date1904?'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><Date1904/></ExcelWorkbook>':""}(e)),t.push(""),t.push("");for(var n=0;n<e.SheetNames.length;++n)t.push(ii("Worksheet",BKt(n,i,e),{"ss:Name":_n(e.SheetNames[n])}));return t[2]=function IKt(e,i){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return i.cellXfs.forEach(function(n,r){var s=[];s.push(ii("NumberFormat",null,{"ss:Format":_n(Ni[n.numFmtId])}));var o={"ss:ID":"s"+(21+r)};t.push(ii("Style",s.join(""),o))}),ii("Styles",t.join(""))}(0,i),t[3]=function RKt(e){if(!((e||{}).Workbook||{}).Names)return"";for(var i=e.Workbook.Names,t=[],n=0;n<i.length;++n){var r=i[n];null==r.Sheet&&(r.Name.match(/^_xlfn\./)||t.push(Snt(r)))}return ii("Names",t.join(""))}(e),zs+ii("Workbook",t.join(""),{xmlns:Gl.ss,"xmlns:o":Gl.o,"xmlns:x":Gl.x,"xmlns:ss":Gl.ss,"xmlns:dt":Gl.dt,"xmlns:html":Gl.html})}var lw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};var cw={0:{f:function b$t(e,i){var t={},n=e.l+i;t.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,7&s&&(t.level=7&s),16&s&&(t.hidden=!0),32&s&&(t.hpt=r/20),t}},1:{f:function D$t(e){return[gc(e)]}},2:{f:function j$t(e){return[gc(e),OA(e),"n"]}},3:{f:function L$t(e){return[gc(e),e.read_shift(1),"e"]}},4:{f:function P$t(e){return[gc(e),e.read_shift(1),"b"]}},5:{f:function G$t(e){return[gc(e),Eo(e),"n"]}},6:{f:function K$t(e){return[gc(e),So(e),"str"]}},7:{f:function B$t(e){return[gc(e),e.read_shift(4),"s"]}},8:{f:function nQt(e,i,t){var n=e.l+i,r=gc(e);r.r=t["!row"];var o=[r,So(e),"str"];if(t.cellFormula){e.l+=2;var l=qA(e,n-e.l,t);o[3]=Mo(l,0,r,t.supbooks,t)}else e.l=n;return o}},9:{f:function iQt(e,i,t){var n=e.l+i,r=gc(e);r.r=t["!row"];var o=[r,Eo(e),"n"];if(t.cellFormula){e.l+=2;var l=qA(e,n-e.l,t);o[3]=Mo(l,0,r,t.supbooks,t)}else e.l=n;return o}},10:{f:function tQt(e,i,t){var n=e.l+i,r=gc(e);r.r=t["!row"];var o=[r,e.read_shift(1),"b"];if(t.cellFormula){e.l+=2;var l=qA(e,n-e.l,t);o[3]=Mo(l,0,r,t.supbooks,t)}else e.l=n;return o}},11:{f:function eQt(e,i,t){var n=e.l+i,r=gc(e);r.r=t["!row"];var o=[r,e.read_shift(1),"e"];if(t.cellFormula){e.l+=2;var l=qA(e,n-e.l,t);o[3]=Mo(l,0,r,t.supbooks,t)}else e.l=n;return o}},12:{f:function I$t(e){return[xm(e)]}},13:{f:function Y$t(e){return[xm(e),OA(e),"n"]}},14:{f:function N$t(e){return[xm(e),e.read_shift(1),"e"]}},15:{f:function F$t(e){return[xm(e),e.read_shift(1),"b"]}},16:{f:function mnt(e){return[xm(e),Eo(e),"n"]}},17:{f:function J$t(e){return[xm(e),So(e),"str"]}},18:{f:function U$t(e){return[xm(e),e.read_shift(4),"s"]}},19:{f:qN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function JQt(e,i,t){var n=e.l+i,r=e.read_shift(4);e.l+=1;var l,s=e.read_shift(4),o=xGt(e),w="";try{l=MYt(e,0,t);try{w=FA(e)}catch{}}catch{console.error("Could not parse defined name "+o)}32&r&&(o="_xlnm."+o),e.l=n;var E={Name:o,Ptg:l,Flags:r};return s<268435455&&(E.Sheet=s),w&&(E.Comment=w),E}},40:{},42:{},43:{f:function QWt(e,i,t){var n={};n.sz=e.read_shift(2)/20;var r=function TGt(e){var i=e.read_shift(1);return e.l++,{fBold:1&i,fItalic:2&i,fUnderline:4&i,fStrikeout:8&i,fOutline:16&i,fShadow:32&i,fCondense:64&i,fExtend:128&i}}(e);switch(r.fItalic&&(n.italic=1),r.fCondense&&(n.condense=1),r.fExtend&&(n.extend=1),r.fShadow&&(n.shadow=1),r.fOutline&&(n.outline=1),r.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var o=e.read_shift(1);0!=o&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var w=e.read_shift(1);switch(w>0&&(n.charset=w),e.l++,n.color=function wGt(e){var i={},n=e.read_shift(1)>>>1,r=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),w=e.read_shift(1);switch(e.l++,n){case 0:i.auto=1;break;case 1:i.index=r;var E=Cm[r];E&&(i.rgb=Z1(E));break;case 2:i.rgb=Z1([o,l,w]);break;case 3:i.theme=r}return 0!=s&&(i.tint=s>0?s/32767:s/32768),i}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=So(e),n}},44:{f:function YWt(e,i){return[e.read_shift(2),So(e)]}},45:{f:JWt},46:{f:tjt},47:{f:function qWt(e,i){var t=e.l+i,n=e.read_shift(2),r=e.read_shift(2);return e.l=t,{ixfe:n,numFmtId:r}}},48:{},49:{f:function dGt(e){return e.read_shift(4,"i")}},50:{},51:{f:function Djt(e){for(var i=[],t=e.read_shift(4);t-- >0;)i.push([e.read_shift(4),e.read_shift(4)]);return i}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function kit(e,i,t){if(!t.cellStyles)return To(e,i);var n=t&&t.biff>=12?4:2,r=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),w=e.read_shift(2);2==n&&(e.l+=2);var E={s:r,e:s,w:o,ixfe:l,flags:w};return(t.biff>=5||!t.biff)&&(E.level=w>>8&7),E}},62:{f:function Q$t(e){return[gc(e),qN(e),"is"]}},63:{f:function Bjt(e){var i={};i.i=e.read_shift(4);var t={};t.r=e.read_shift(4),t.c=e.read_shift(4),i.r=Pn(t);var n=e.read_shift(1);return 2&n&&(i.l="1"),8&n&&(i.a="1"),i}},64:{f:function xQt(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:To,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function mQt(e){var i=e.read_shift(2);return e.l+=28,{RTL:32&i}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function _$t(e,i){var t={},n=e[e.l];return++e.l,t.above=!(64&n),t.left=!(128&n),e.l+=18,t.name=yGt(e,i-19),t}},148:{f:C$t,p:16},151:{f:function cQt(){}},152:{},153:{f:function QQt(e,i){var t={},n=e.read_shift(4);t.defaultThemeVersion=e.read_shift(4);var r=i>8?So(e):"";return r.length>0&&(t.CodeName=r),t.autoCompressPictures=!!(65536&n),t.backupFile=!!(64&n),t.checkCompatibility=!!(4096&n),t.date1904=!!(1&n),t.filterPrivacy=!!(8&n),t.hidePivotFieldList=!!(1024&n),t.promptedSolutions=!!(16&n),t.publishItems=!!(2048&n),t.refreshAllConnections=!!(262144&n),t.saveExternalLinkValues=!!(128&n),t.showBorderUnselectedTables=!!(4&n),t.showInkAnnotation=!!(32&n),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(32768&n),t.updateLinks=["userSet","never","always"][n>>8&3],t}},154:{},155:{},156:{f:function YQt(e,i){var t={};return t.Hidden=e.read_shift(4),t.iTabID=e.read_shift(4),t.strRelID=t4(e,i-8),t.name=So(e),t}},157:{},158:{},159:{T:1,f:function aWt(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:wm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:rQt},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function _jt(e,i){return{flags:e.read_shift(4),version:e.read_shift(4),name:So(e)}}},336:{T:-1},337:{f:function Rjt(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:t4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function Iit(e,i,t){if(t.biff<8||!(t.biff>8)&&i==e[e.l]+(3==e[e.l+1]?1:0)+1)return function Rit(e,i,t){3==e[e.l+1]&&e[e.l]++;var n=N0(e,0,t);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,t);for(var n=[],r=e.l+i,s=e.read_shift(t.biff>8?4:2);0!=s--;)n.push(dHt(e,0,t));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return n}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function uQt(e,i,t){var n=e.l+i,r=zet(e),s=e.read_shift(1),o=[r];if(o[2]=s,t.cellFormula){var l=DYt(e,n-e.l,t);o[1]=l}else e.l=n;return o}},427:{f:function hQt(e,i,t){var n=e.l+i,s=[wm(e,16)];if(t.cellFormula){var o=IYt(e,n-e.l,t);s[1]=o,e.l=n}else e.l=n;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function fQt(e){var i={};return gnt.forEach(function(t){i[t]=Eo(e)}),i}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function E$t(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function oQt(e,i){var t=e.l+i,n=wm(e,16),r=FA(e),s=So(e),o=So(e),l=So(e);e.l=t;var w={rfx:n,relId:r,loc:s,display:l};return o&&(w.Tooltip=o),w}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:t4},551:{f:FA},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Kjt},633:{T:1},634:{T:-1},635:{T:1,f:function $jt(e){var i={};i.iauthor=e.read_shift(4);var t=wm(e,16);return i.rfx=t.s,i.ref=Pn(t.s),e.l+=16,i}},636:{T:-1},637:{f:gGt},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function LQt(e,i){return e.l+=10,{name:So(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function bQt(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Le(e,i,t,n){var r=i;if(!isNaN(r)){var s=n||(t||[]).length||0,o=e.next(4);o.write_shift(2,r),o.write_shift(2,s),s>0&&QN(t)&&e.push(t)}}function L4(e,i,t,n){var r=le(9);return K1(r,e,i),pit(t,n||"b",r),r}function Ent(e,i){i.forEach(function(t){var n=t[0].map(function(s){return s.t}).join("");if(n.length<=2048)return Le(e,28,g4(n,t[1],t[2]));Le(e,28,g4(n.slice(0,2048),t[1],t[2],n.length));for(var r=2048;r<n.length;r+=2048)Le(e,28,g4(n.slice(r,Math.min(r+2048,n.length)),-1,-1,Math.min(2048,n.length-r)))})}function QKt(e,i,t,n,r,s){var o=0;null!=i.z&&-1==(o=r._BIFF2FmtTable.indexOf(i.z))&&(r._BIFF2FmtTable.push(i.z),o=r._BIFF2FmtTable.length-1);var l=0;if(null!=i.z){for(;l<r.cellXfs.length&&r.cellXfs[l].numFmtId!=o;++l);l==r.cellXfs.length&&r.cellXfs.push({numFmtId:o})}if(null!=i.v)switch(i.t){case"d":case"n":var w="d"==i.t?ws(ps(i.v,s),s):i.v;return void(2==r.biff&&w==(0|w)&&w>=0&&w<65536?Le(e,2,function G7t(e,i,t,n,r){var s=le(9);return K1(s,e,i,n||0,r||0),s.write_shift(2,t),s}(t,n,w,l,o)):isNaN(w)?Le(e,5,L4(t,n,36,"e")):isFinite(w)?Le(e,3,function U7t(e,i,t,n,r){var s=le(15);return K1(s,e,i,n||0,r||0),s.write_shift(8,t,"f"),s}(t,n,w,l,o)):Le(e,5,L4(t,n,7,"e")));case"b":case"e":return void Le(e,5,L4(t,n,i.v,i.t));case"s":case"str":return void Le(e,4,function $Kt(e,i,t){var n=le(8+2*t.length);return K1(n,e,i),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(t,n,null==i.v?"":String(i.v).slice(0,255)))}Le(e,1,K1(null,t,n))}var jc=1,xc=[];function aZt(e,i,t,n,r,s){var o=16+Cf(r.cellXfs,i,r);if(null!=i.v||i.bf)if(i.bf)Le(e,6,function AYt(e,i,t,n,r){var s=Am(i,t,r),o=function _Yt(e){if(null==e){var i=le(8);return i.write_shift(1,3),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,65535),i}return Tm("number"==typeof e?e:0)}(e.v),l=le(6);l.write_shift(2,33),l.write_shift(4,0);for(var E=le(e.bf.length),D=0;D<e.bf.length;++D)E[D]=e.bf[D];return Us([s,o,l,E])}(i,t,n,0,o));else switch(i.t){case"d":case"n":var l="d"==i.t?ws(ps(i.v,s),s):i.v;isNaN(l)?Le(e,517,m4(t,n,36,o,0,"e")):isFinite(l)?Le(e,515,function l7t(e,i,t,n){var r=le(14);return Am(e,i,n,r),Tm(t,r),r}(t,n,l,o)):Le(e,517,m4(t,n,7,o,0,"e"));break;case"b":case"e":Le(e,517,m4(t,n,i.v,o,0,i.t));break;case"s":case"str":r.bookSST?Le(e,253,function VHt(e,i,t,n){var r=le(10);return Am(e,i,n,r),r.write_shift(4,t),r}(t,n,A4(r.Strings,null==i.v?"":String(i.v),r.revStrings),o)):Le(e,516,function zHt(e,i,t,n,r){var s=!r||8==r.biff,o=le(+s+8+(1+s)*t.length);return Am(e,i,n,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}(t,n,(null==i.v?"":String(i.v)).slice(0,255),o,r));break;default:Le(e,513,Am(t,n,o))}else Le(e,513,Am(t,n,o))}function oZt(e,i,t){var D,n=Co(),r=t.SheetNames[e],s=t.Sheets[r]||{},o=(t||{}).Workbook||{},l=(o.Sheets||[])[e]||{},w=null!=s["!data"],E=8==i.biff,k="",O=[],L=$n(s["!ref"]||"A1"),U=E?65536:16384;if(L.e.c>255||L.e.r>=U){if(i.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");L.e.c=Math.min(L.e.c,255),L.e.r=Math.min(L.e.c,U-1)}Le(n,2057,p4(0,16,i)),Le(n,13,yc(1)),Le(n,12,yc(100)),Le(n,15,_o(!0)),Le(n,17,_o(!1)),Le(n,16,Tm(.001)),Le(n,95,_o(!0)),Le(n,42,_o(!1)),Le(n,43,_o(!1)),Le(n,130,yc(1)),Le(n,128,function s7t(e){var i=le(8);return i.write_shift(4,0),i.write_shift(2,e[0]?e[0]+1:0),i.write_shift(2,e[1]?e[1]+1:0),i}([0,0])),Le(n,131,_o(!1)),Le(n,132,_o(!1)),E&&function sZt(e,i){if(i){var t=0;i.forEach(function(n,r){++t<=256&&n&&Le(e,125,function I7t(e,i){var t=le(12);t.write_shift(2,i),t.write_shift(2,i),t.write_shift(2,256*e.width),t.write_shift(2,0);var n=0;return e.hidden&&(n|=1),t.write_shift(1,n),t.write_shift(1,n=e.level||0),t.write_shift(2,0),t}(tD(r,n),r))})}}(n,s["!cols"]),Le(n,512,function YHt(e,i){var t=8!=i.biff&&i.biff?2:4,n=le(2*t+6);return n.write_shift(t,e.s.r),n.write_shift(t,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(L,i));var j=(((t||{}).Workbook||{}).WBProps||{}).date1904;E&&(s["!links"]=[]);for(var W=L.s.c;W<=L.e.c;++W)O[W]=xn(W);for(var Z=[],rt=[],st=L.s.r;st<=L.e.r;++st)for(w&&(rt=s["!data"][st]||[]),k=Un(st),W=L.s.c;W<=L.e.c;++W){D=O[W]+k;var yt=w?rt[W]:s[D];yt&&(aZt(n,yt,st,W,i,j),E&&yt.l&&s["!links"].push([D,yt.l]),yt.c&&Z.push([yt.c,st,W]))}var Tt=l.CodeName||l.name||r;return E?function qKt(e,i){var o,t=[],n=0,r=Co(),s=jc;i.forEach(function(w,E){var D="",k=w[0].map(function(st){return st.a&&!D&&(D=st.a),st.t}).join("");++jc;var O=le(150);O.write_shift(2,15),O.write_shift(2,61444),O.write_shift(4,150),O.write_shift(2,3234),O.write_shift(2,61450),O.write_shift(4,8),O.write_shift(4,jc),O.write_shift(4,2560),O.write_shift(2,227),O.write_shift(2,61451),O.write_shift(4,84),O.write_shift(2,128),O.write_shift(4,0),O.write_shift(2,139),O.write_shift(4,2),O.write_shift(2,191),O.write_shift(4,524296),O.write_shift(2,344),O.l+=4,O.write_shift(2,385),O.write_shift(4,134217808),O.write_shift(2,387),O.write_shift(4,134217808),O.write_shift(2,389),O.write_shift(4,268435700),O.write_shift(2,447),O.write_shift(4,1048592),O.write_shift(2,448),O.write_shift(4,134217809),O.write_shift(2,451),O.write_shift(4,268435700),O.write_shift(2,513),O.write_shift(4,134217809),O.write_shift(2,515),O.write_shift(4,268435700),O.write_shift(2,575),O.write_shift(4,196609),O.write_shift(2,959),O.write_shift(4,131072|(w[0].hidden?2:0)),O.l+=2,O.write_shift(2,61456),O.write_shift(4,18),O.write_shift(2,3),O.write_shift(2,w[2]+2),O.l+=2,O.write_shift(2,w[1]+1),O.l+=2,O.write_shift(2,w[2]+4),O.l+=2,O.write_shift(2,w[1]+5),O.l+=2,O.l+=2,O.write_shift(2,61457),O.l+=4,O.l=150,0==E?o=O:Le(r,236,O),n+=150;var L=le(52);L.write_shift(2,21),L.write_shift(2,18),L.write_shift(2,25),L.write_shift(2,jc),L.write_shift(2,0),L.l=22,L.write_shift(2,13),L.write_shift(2,22),L.write_shift(4,1651663474),L.write_shift(4,2503426821),L.write_shift(4,2150634280),L.write_shift(4,1768515844+256*jc),L.write_shift(2,0),L.write_shift(4,0),L.l+=4,Le(r,93,L);var U=le(8);U.l+=2,U.write_shift(2,61453),U.l+=4,Le(r,236,U),n+=8;var j=le(18);j.write_shift(2,18),j.l+=8,j.write_shift(2,k.length),j.write_shift(2,16),j.l+=4,Le(r,438,j);var W=le(1+k.length);W.write_shift(1,0),W.write_shift(k.length,k,"sbcs"),Le(r,60,W);var Z=le(16);Z.l+=8,Z.write_shift(2,k.length),Z.l+=6,Le(r,60,Z);var rt=le(12+D.length);rt.write_shift(2,w[1]),rt.write_shift(2,w[2]),rt.write_shift(2,0|(w[0].hidden?0:2)),rt.write_shift(2,jc),rt.write_shift(2,D.length),rt.write_shift(1,0),rt.write_shift(D.length,D,"sbcs"),rt.l++,t.push(rt)});var l=le(80);l.write_shift(2,15),l.write_shift(2,61442),l.write_shift(4,n+l.length-8),l.write_shift(2,16),l.write_shift(2,61448),l.write_shift(4,8),l.write_shift(4,i.length+1),l.write_shift(4,jc),l.write_shift(2,15),l.write_shift(2,61443),l.write_shift(4,n+48),l.write_shift(2,15),l.write_shift(2,61444),l.write_shift(4,40),l.write_shift(2,1),l.write_shift(2,61449),l.write_shift(4,16),l.l+=16,l.write_shift(2,2),l.write_shift(2,61450),l.write_shift(4,8),l.write_shift(4,s),l.write_shift(4,5),Le(e,236,o?Us([l,o]):l),e.push(r.end()),t.forEach(function(w){Le(e,28,w)}),xc.push([s,i.length+1,jc]),++jc}(n,Z):Ent(n,Z),E&&Le(n,574,function FHt(e){var i=le(18),t=1718;return e&&e.RTL&&(t|=64),i.write_shift(2,t),i.write_shift(4,0),i.write_shift(4,64),i.write_shift(4,0),i.write_shift(4,0),i}((o.Views||[])[0])),E&&(s["!merges"]||[]).length&&Le(n,229,function g7t(e){var i=le(2+8*e.length);i.write_shift(2,e.length);for(var t=0;t<e.length;++t)bit(e[t],i);return i}(s["!merges"])),E&&function rZt(e,i){for(var t=0;t<i["!links"].length;++t){var n=i["!links"][t];Le(e,440,T7t(n)),n[1].Tooltip&&Le(e,2048,S7t(n))}delete i["!links"]}(n,s),Le(n,442,mit(Tt)),E&&function iZt(e,i){var t=le(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Le(e,2151,t),(t=le(39)).write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),bit($n(i["!ref"]||"A1"),t),t.write_shift(4,4),Le(e,2152,t)}(n,s),Le(n,10),n.end()}function lZt(e,i,t){var n=Co(),r=(e||{}).Workbook||{},s=r.Sheets||[],o=r.WBProps||{},l=8==t.biff,w=5==t.biff;Le(n,2057,p4(0,5,t)),"xla"==t.bookType&&Le(n,135),Le(n,225,l?yc(1200):null),Le(n,193,function tHt(e,i){i||(i=le(e));for(var t=0;t<e;++t)i.write_shift(1,0);return i}(2)),w&&Le(n,191),w&&Le(n,192),Le(n,226),Le(n,92,function wHt(e,i){var t=!i||8==i.biff,n=le(t?112:54);for(n.write_shift(8==i.biff?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}(0,t)),Le(n,66,yc(l?1200:1252)),l&&Le(n,353,yc(0)),l&&Le(n,448),Le(n,317,function k7t(e){for(var i=le(2*e),t=0;t<e;++t)i.write_shift(2,t+1);return i}(e.SheetNames.length)),l&&e.vbaraw&&Le(n,211),l&&e.vbaraw&&Le(n,442,mit(o.CodeName||"ThisWorkbook")),Le(n,156,yc(17)),Le(n,25,_o(!1)),Le(n,18,_o(!1)),Le(n,19,yc(0)),l&&Le(n,431,_o(!1)),l&&Le(n,444,yc(0)),Le(n,61,function PHt(){var e=le(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),Le(n,64,_o(!1)),Le(n,141,yc(0)),Le(n,34,_o("true"==function zQt(e){return e.Workbook&&e.Workbook.WBProps&&function gr(e){switch(e){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),Le(n,14,_o(!0)),l&&Le(n,439,_o(!1)),Le(n,218,yc(0)),function tZt(e,i,t){Le(e,49,function NHt(e,i){var t=e.name||"Arial",n=i&&5==i.biff,s=le(n?15+t.length:16+2*t.length);return s.write_shift(2,20*(e.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}(n,0,t),function eZt(e,i,t){i&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&Le(e,1054,HHt(r,i[r],t))})}(n,e.SSF,t),function nZt(e,i){for(var t=0;t<16;++t)Le(e,224,Eit({numFmtId:0,style:!0},0,i));i.cellXfs.forEach(function(n){Le(e,224,Eit(n,0,i))})}(n,t),l&&Le(n,352,_o(!1));var D=n.end(),k=Co();l&&Le(k,140,function _7t(e){return e||(e=le(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),l&&xc.length&&Le(k,235,function JKt(){var e=le(82+8*xc.length);e.write_shift(2,15),e.write_shift(2,61440),e.write_shift(4,74+8*xc.length),e.write_shift(2,0),e.write_shift(2,61446),e.write_shift(4,16+8*xc.length),e.write_shift(4,jc),e.write_shift(4,xc.length+1);for(var i=0,t=0;t<xc.length;++t)i+=xc[t]&&xc[t][1]||0;return e.write_shift(4,i),e.write_shift(4,xc.length),xc.forEach(function(n){e.write_shift(4,n[0]),e.write_shift(4,n[2])}),e.write_shift(2,51),e.write_shift(2,61451),e.write_shift(4,18),e.write_shift(2,191),e.write_shift(4,524296),e.write_shift(2,385),e.write_shift(4,134217793),e.write_shift(2,448),e.write_shift(4,134217792),e.write_shift(2,64),e.write_shift(2,61726),e.write_shift(4,16),e.write_shift(4,134217741),e.write_shift(4,134217740),e.write_shift(4,134217751),e.write_shift(4,268435703),e}()),l&&t.Strings&&function YKt(e,i,t,n){var r=n||(t||[]).length||0;if(r<=8224)return Le(e,i,t,r);var s=i;if(!isNaN(s)){for(var o=t.parts||[],l=0,w=0,E=0;E+(o[l]||8224)<=8224;)E+=o[l]||8224,l++;var D=e.next(4);for(D.write_shift(2,s),D.write_shift(2,E),e.push(t.slice(w,w+E)),w+=E;w<r;){for((D=e.next(4)).write_shift(2,60),E=0;E+(o[l]||8224)<=8224;)E+=o[l]||8224,l++;D.write_shift(2,E),e.push(t.slice(w,w+E)),w+=E}}}(k,252,function _Ht(e){var t=le(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=nHt(e[r]);var s=Us([t].concat(n));return s.parts=[t.length].concat(n.map(function(o){return o.length})),s}(t.Strings)),Le(k,10);var O=k.end(),L=Co(),U=0,j=0;for(j=0;j<e.SheetNames.length;++j)U+=(l?12:11)+(l?2:1)*e.SheetNames[j].length;var W=D.length+U+O.length;for(j=0;j<e.SheetNames.length;++j)Le(L,133,SHt({pos:W,hs:(s[j]||{}).Hidden||0,dt:0,name:e.SheetNames[j]},t)),W+=i[j].length;var rt=L.end();if(U!=rt.length)throw new Error("BS8 "+U+" != "+rt.length);var st=[];return D.length&&st.push(D),rt.length&&st.push(rt),O.length&&st.push(O),Us(st)}function _nt(e,i){for(var t=0;t<=e.SheetNames.length;++t){var n=e.Sheets[e.SheetNames[t]];n&&n["!ref"]&&Sa(n["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}var s=i||{};switch(s.biff||2){case 8:case 5:return function cZt(e,i){var t=i||{},n=[];e&&!e.SSF&&(e.SSF=br(Ni)),e&&e.SSF&&(I0(),F1(e.SSF),t.revssf=DA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),jc=1,xc=[],t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,H4(t),t.cellXfs=[],Cf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)n[n.length]=oZt(r,t,e);return n.unshift(lZt(e,n,t)),Us(n)}(e,i);case 4:case 3:case 2:return function ZKt(e,i){for(var t=i||{},n=Co(),r=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==t.sheet&&(r=s);if(0==r&&t.sheet&&e.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);Le(n,4==t.biff?1033:3==t.biff?521:9,p4(0,16,t)),((e.Workbook||{}).WBProps||{}).date1904&&Le(n,34,_o(!0)),t.cellXfs=[{numFmtId:0}],t._BIFF2FmtTable=["General"],t._Fonts=[];var o=Co();return function KKt(e,i,t,n,r){var s=null!=i["!data"],o=$n(i["!ref"]||"A1"),l="",w=[];if(o.e.c>255||o.e.r>16383){if(n.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383)}for(var E=(((r||{}).Workbook||{}).WBProps||{}).date1904,D=[],k=[],O=o.s.c;O<=o.e.c;++O)w[O]=xn(O);for(var L=o.s.r;L<=o.e.r;++L)for(s&&(D=i["!data"][L]||[]),l=Un(L),O=o.s.c;O<=o.e.c;++O){var U=s?D[O]:i[w[O]+l];U&&(QKt(e,U,L,O,n,E),U.c&&k.push([U.c,L,O]))}Ent(e,k)}(o,e.Sheets[e.SheetNames[r]],0,t,e),t._BIFF2FmtTable.forEach(function(l){t.biff<=3?Le(n,30,function jHt(e){var i=le(1+e.length);return i.write_shift(1,e.length),i.write_shift(e.length,e,"sbcs"),i}(l)):Le(n,1054,function XHt(e){var i=le(3+e.length);return i.l+=2,i.write_shift(1,e.length),i.write_shift(e.length,e,"sbcs"),i}(l))}),t.cellXfs.forEach(function(l){switch(t.biff){case 2:Le(n,67,function t7t(e){var i=le(4);return i.l+=2,i.write_shift(1,e.numFmtId),i.l++,i}(l));break;case 3:Le(n,579,_it(l));break;case 4:Le(n,1091,e7t(l))}}),delete t._BIFF2FmtTable,delete t.cellXfs,delete t._Fonts,n.push(o.end()),Le(n,10),n.end()}(e,i)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Dnt(e,i,t,n){for(var r=e["!merges"]||[],s=[],o={},l=null!=e["!data"],w=i.s.c;w<=i.e.c;++w){for(var E=0,D=0,k=0;k<r.length;++k)if(!(r[k].s.r>t||r[k].s.c>w||r[k].e.r<t||r[k].e.c<w)){if(r[k].s.r<t||r[k].s.c<w){E=-1;break}E=r[k].e.r-r[k].s.r+1,D=r[k].e.c-r[k].s.c+1;break}if(!(E<0)){var O=xn(w)+Un(t),L=l?(e["!data"][t]||[])[w]:e[O],U=L&&null!=L.v&&(L.h||B1(L.w||(Nu(L),L.w)||""))||"";o={},E>1&&(o.rowspan=E),D>1&&(o.colspan=D),n.editable?U='<span contenteditable="true">'+U+"</span>":L&&(o["data-t"]=L&&L.t||"z",null!=L.v&&(o["data-v"]=B1(L.v instanceof Date?L.v.toISOString():L.v)),null!=L.z&&(o["data-z"]=L.z),L.l&&"#"!=(L.l.Target||"#").charAt(0)&&(U='<a href="'+B1(L.l.Target)+'">'+U+"</a>")),o.id=(n.id||"sjs")+"-"+O,s.push(ii("td",U,o))}}return"<tr>"+s.join("")+"</tr>"}var Mnt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Int="</body></html>";function Pnt(e,i){var t=i||{},r=null!=t.footer?t.footer:Int,s=[null!=t.header?t.header:Mnt],o=Sa(e["!ref"]||"A1");if(s.push(function Rnt(e,i,t){return[].join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}(0,0,t)),e["!ref"])for(var l=o.s.r;l<=o.e.r;++l)s.push(Dnt(e,o,l,t));return s.push("</table>"+r),s.join("")}var pZt=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),i="<office:document-styles "+V1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return zs+i}}();function mZt(e,i){var t="number",n="",r={"style:name":i},s="",o=0;t:if((e=e.replace(/"[$]"/g,"$")).indexOf(";")>-1&&(console.error("Unsupported ODS Style Map exported.  Using first branch of "+e),e=e.slice(0,e.indexOf(";"))),"@"!=e){if(e.indexOf(/\$/)>-1&&(t="currency"),'"'==e[o]){for(s="";'"'!=e[++o]||'"'==e[++o];)s+=e[o];"*"==e[1+--o]?(o++,n+="<number:fill-character>"+_n(s.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+_n(s.replace(/""/g,'"'))+"</number:text>",e=e.slice(o+1),o=0}var l=e.match(/# (\?+)\/(\?+)/);if(l)n+=ii("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":l[1].length,"number:max-denominator-value":Math.max(+l[1].replace(/./g,"9"),+l[2].replace(/./g,"9"))});else if(l=e.match(/# (\?+)\/(\d+)/))n+=ii("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":l[1].length,"number:denominator-value":+l[2]});else if(l=e.match(/\b(\d+)(|\.\d+)%/))t="percentage",n+=ii("number:number",null,{"number:decimal-places":l[2]&&l.length-1||0,"number:min-decimal-places":l[2]&&l.length-1||0,"number:min-integer-digits":l[1].length})+"<number:text>%</number:text>";else{var w=!1;if(["y","m","d"].indexOf(e[0])>-1){t="date";e:for(;o<e.length;++o)switch(s=e[o].toLowerCase()){case"h":case"s":w=!0,--o;break e;case"m":i:for(var E=o+1;E<e.length;++E)switch(e[E]){case"y":case"d":break i;case"h":case"s":w=!0,--o;break e}case"y":case"d":for(;(e[++o]||"").toLowerCase()==s[0];)s+=s[0];switch(--o,s){case"y":case"yy":n+="<number:year/>";break;case"yyy":case"yyyy":n+='<number:year number:style="long"/>';break;case"mmmmm":console.error("ODS has no equivalent of format |mmmmm|");case"m":case"mm":case"mmm":case"mmmm":n+='<number:month number:style="'+(s.length%2?"short":"long")+'" number:textual="'+(s.length>=3?"true":"false")+'"/>';break;case"d":case"dd":n+='<number:day number:style="'+(s.length%2?"short":"long")+'"/>';break;case"ddd":case"dddd":n+='<number:day-of-week number:style="'+(s.length%2?"short":"long")+'"/>'}break;case'"':for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+_n(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"\\":n+="<number:text>"+_n(s=e[++o])+"</number:text>";break;case"/":case":":n+="<number:text>"+_n(s)+"</number:text>";break;default:console.error("unrecognized character "+s+" in ODF format "+e)}if(!w)break t;e=e.slice(o+1),o=0}if(e.match(/^\[?[hms]/))for("number"==t&&(t="time"),e.match(/\[/)&&(e=e.replace(/[\[\]]/g,""),r["number:truncate-on-overflow"]="false");o<e.length;++o)switch(s=e[o].toLowerCase()){case"h":case"m":case"s":for(;(e[++o]||"").toLowerCase()==s[0];)s+=s[0];switch(--o,s){case"h":case"hh":n+='<number:hours number:style="'+(s.length%2?"short":"long")+'"/>';break;case"m":case"mm":n+='<number:minutes number:style="'+(s.length%2?"short":"long")+'"/>';break;case"s":case"ss":if("."==e[o+1])do{s+=e[o+1],++o}while("0"==e[o+1]);n+='<number:seconds number:style="'+(s.match("ss")?"long":"short")+'"'+(s.match(/\./)?' number:decimal-places="'+(s.match(/0+/)||[""])[0].length+'"':"")+"/>"}break;case'"':for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+_n(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"/":case":":n+="<number:text>"+_n(s)+"</number:text>";break;case"a":if("a/p"==e.slice(o,o+3).toLowerCase()){n+="<number:am-pm/>",o+=2;break}if("am/pm"==e.slice(o,o+5).toLowerCase()){n+="<number:am-pm/>",o+=4;break}default:console.error("unrecognized character "+s+" in ODF format "+e)}else{if(e.indexOf(/\$/)>-1&&(t="currency"),"$"==e[0]&&(n+='<number:currency-symbol number:language="en" number:country="US">$</number:currency-symbol>',e=e.slice(1),o=0),'"'==e[o=0]){for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];"*"==e[1+--o]?(o++,n+="<number:fill-character>"+_n(s.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+_n(s.replace(/""/g,'"'))+"</number:text>",e=e.slice(o+1),o=0}var D=e.match(/([#0][0#,]*)(\.[0#]*|)(E[+]?0*|)/i);if(D&&D[0]){var k=D[1].replace(/,/g,"");n+="<number:"+(D[3]?"scientific-":"")+'number number:min-integer-digits="'+(-1==k.indexOf("0")?"0":k.length-k.indexOf("0"))+'"'+(D[0].indexOf(",")>-1?' number:grouping="true"':"")+(D[2]&&' number:decimal-places="'+(D[2].length-1)+'"'||' number:decimal-places="0"')+(D[3]&&D[3].indexOf("+")>-1?' number:forced-exponent-sign="true"':"")+(D[3]?' number:min-exponent-digits="'+D[3].match(/0+/)[0].length+'"':"")+"></number:"+(D[3]?"scientific-":"")+"number>",o=D.index+D[0].length}else console.error("Could not find numeric part of "+e);if('"'==e[o]){for(s="";'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+_n(s.replace(/""/g,'"'))+"</number:text>"}}}}else t="text",n="<number:text-content/>";return n?ii("number:"+t+"-style",n,r):(console.error("Could not generate ODS number format for |"+e+"|"),"")}function Unt(e,i,t){for(var n=[],r=0;r<e.length;++r){var s=e[r];s&&s.Sheet==(-1==t?null:t)&&n.push(s)}return n.length?"      <table:named-expressions>\n"+n.map(function(o){var l=(-1==t?"$":"")+dnt(o.Ref);return"        "+ii("table:named-range",null,{"table:name":o.Name,"table:cell-range-address":l,"table:base-cell-address":l.replace(/[\.][^\.]*$/,".$A$1")})}).join("\n")+"\n      </table:named-expressions>\n":""}var znt=function(){var e=function(r,s){return _n(r).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,s?"<text:line-break/>":"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},i="          <table:table-cell />\n",t=function(r,s,o,l,w,E){var D=[];D.push('      <table:table table:name="'+_n(s.SheetNames[o])+'" table:style-name="ta1">\n');var k=0,O=0,L=Sa(r["!ref"]||"A1"),U=r["!merges"]||[],j=0,W=null!=r["!data"];if(r["!cols"])for(O=0;O<=L.e.c;++O)D.push("        <table:table-column"+(r["!cols"][O]?' table:style-name="co'+r["!cols"][O].ods+'"':"")+"></table:table-column>\n");var rt=r["!rows"]||[];for(k=0;k<L.s.r;++k)D.push("        <table:table-row"+(rt[k]?' table:style-name="ro'+rt[k].ods+'"':"")+"></table:table-row>\n");for(;k<=L.e.r;++k){for(D.push("        <table:table-row"+(rt[k]?' table:style-name="ro'+rt[k].ods+'"':"")+">\n"),O=0;O<L.s.c;++O)D.push(i);for(;O<=L.e.c;++O){var st=!1,yt={},Tt="";for(j=0;j!=U.length;++j)if(!(U[j].s.c>O||U[j].s.r>k||U[j].e.c<O||U[j].e.r<k)){(U[j].s.c!=O||U[j].s.r!=k)&&(st=!0),yt["table:number-columns-spanned"]=U[j].e.c-U[j].s.c+1,yt["table:number-rows-spanned"]=U[j].e.r-U[j].s.r+1;break}if(st)D.push("          <table:covered-table-cell/>\n");else{var It=Pn({r:k,c:O}),ft=W?(r["!data"][k]||[])[O]:r[It];if(ft&&ft.f&&(yt["table:formula"]=_n(WYt(ft.f)),ft.F&&ft.F.slice(0,It.length)==It)){var ht=Sa(ft.F);yt["table:number-matrix-columns-spanned"]=ht.e.c-ht.s.c+1,yt["table:number-matrix-rows-spanned"]=ht.e.r-ht.s.r+1}if(ft){switch(ft.t){case"b":Tt=ft.v?"TRUE":"FALSE",yt["office:value-type"]="boolean",yt["office:boolean-value"]=ft.v?"true":"false";break;case"n":Tt=ft.w||String(ft.v||0),yt["office:value-type"]="float",yt["office:value"]=ft.v||0;break;case"s":case"str":Tt=null==ft.v?"":ft.v,yt["office:value-type"]="string";break;case"d":Tt=ft.w||ps(ft.v,E).toISOString(),yt["office:value-type"]="date",yt["office:date-value"]=ps(ft.v,E).toISOString(),yt["table:style-name"]="ce1";break;default:D.push(i);continue}var mt=e(Tt);if(ft.l&&ft.l.Target){var wt=ft.l.Target;"#"!=(wt="#"==wt.charAt(0)?"#"+dnt(wt.slice(1)):wt).charAt(0)&&!wt.match(/^\w+:/)&&(wt="../"+wt),mt=ii("text:a",mt,{"xlink:href":wt.replace(/&/g,"&amp;")})}w[ft.z]&&(yt["table:style-name"]="ce"+w[ft.z].slice(1));var Ct=ii("text:p",mt,{});if(ft.c){for(var _t="",Dt="",Ue={},Te=0;Te<ft.c.length;++Te)!_t&&ft.c[Te].a&&(_t=ft.c[Te].a),Dt+="<text:p>"+e(ft.c[Te].t)+"</text:p>";ft.c.hidden||(Ue["office:display"]=!0),Ct=ii("office:annotation",Dt,Ue)+Ct}D.push("          "+ii("table:table-cell",Ct,yt)+"\n")}else D.push(i)}}D.push("        </table:table-row>\n")}return(s.Workbook||{}).Names&&D.push(Unt(s.Workbook.Names,0,o)),D.push("      </table:table>\n"),D.join("")};return function(s,o){var l=[zs],w=V1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),E=V1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==o.bookType?(l.push("<office:document"+w+E+">\n"),l.push($et().replace(/<office:document-meta[^<>]*?>/,"").replace(/<\/office:document-meta>/,"")+"\n")):l.push("<office:document-content"+w+">\n");var D=function(r,s){r.push(" <office:automatic-styles>\n");var o=0;s.SheetNames.map(function(D){return s.Sheets[D]}).forEach(function(D){if(D&&D["!cols"])for(var k=0;k<D["!cols"].length;++k)if(D["!cols"][k]){var O=D["!cols"][k];if(null==O.width&&null==O.wpx&&null==O.wch)continue;wf(O),O.ods=o;var L=D["!cols"][k].wpx+"px";r.push('  <style:style style:name="co'+o+'" style:family="table-column">\n'),r.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+L+'"/>\n'),r.push("  </style:style>\n"),++o}});var l=0;s.SheetNames.map(function(D){return s.Sheets[D]}).forEach(function(D){if(D&&D["!rows"])for(var k=0;k<D["!rows"].length;++k)if(D["!rows"][k]){D["!rows"][k].ods=l;var O=D["!rows"][k].hpx+"px";r.push('  <style:style style:name="ro'+l+'" style:family="table-row">\n'),r.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+O+'"/>\n'),r.push("  </style:style>\n"),++l}}),r.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),r.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),r.push("  </style:style>\n"),r.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),r.push('   <number:month number:style="long"/>\n'),r.push("   <number:text>/</number:text>\n"),r.push('   <number:day number:style="long"/>\n'),r.push("   <number:text>/</number:text>\n"),r.push("   <number:year/>\n"),r.push("  </number:date-style>\n");var w={},E=69;return s.SheetNames.map(function(D){return s.Sheets[D]}).forEach(function(D){if(D){var k=null!=D["!data"];if(D["!ref"])for(var O=Sa(D["!ref"]),L=0;L<=O.e.r;++L)for(var U=0;U<=O.e.c;++U){var j=k?(D["!data"][L]||[])[U]:D[Pn({r:L,c:U})];if(j&&j.z&&"general"!=j.z.toLowerCase()&&!w[j.z]){var W=mZt(j.z,"N"+E);W&&(w[j.z]="N"+E,++E,r.push(W+"\n"))}}}}),r.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),rs(w).forEach(function(D){r.push('<style:style style:name="ce'+w[D].slice(1)+'" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="'+w[D]+'"/>\n')}),r.push(" </office:automatic-styles>\n"),w}(l,s);l.push("  <office:body>\n"),l.push("    <office:spreadsheet>\n"),((s.Workbook||{}).WBProps||{}).date1904&&l.push('      <table:calculation-settings table:case-sensitive="false" table:search-criteria-must-apply-to-whole-cell="true" table:use-wildcards="true" table:use-regular-expressions="false" table:automatic-find-labels="false">\n        <table:null-date table:date-value="1904-01-01"/>\n      </table:calculation-settings>\n');for(var k=0;k!=s.SheetNames.length;++k)l.push(t(s.Sheets[s.SheetNames[k]],s,k,0,D,((s.Workbook||{}).WBProps||{}).date1904));return(s.Workbook||{}).Names&&l.push(Unt(s.Workbook.Names,0,-1)),l.push("    </office:spreadsheet>\n"),l.push("  </office:body>\n"),l.push("fods"==o.bookType?"</office:document>":"</office:document-content>"),l.join("")}}();function Gnt(e,i){if("fods"==i.bookType)return znt(e,i);var t=VN(),n="",r=[],s=[];return yn(t,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),yn(t,n="content.xml",znt(e,i)),r.push([n,"text/xml"]),s.push([n,"ContentFile"]),yn(t,n="styles.xml",pZt(e,i)),r.push([n,"text/xml"]),s.push([n,"StylesFile"]),yn(t,n="meta.xml",zs+$et()),r.push([n,"text/xml"]),s.push([n,"MetadataFile"]),yn(t,n="manifest.rdf",function VGt(e){var i=[zs];i.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var t=0;t!=e.length;++t)i.push(Yet(e[t][0],e[t][1])),i.push(BGt("",e[t][0]));return i.push(Yet("","Document","pkg")),i.push("</rdf:RDF>"),i.join("")}(s)),r.push([n,"application/rdf+xml"]),yn(t,n="META-INF/manifest.xml",function NGt(e){var i=[zs];i.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),i.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var t=0;t<e.length;++t)i.push('  <manifest:file-entry manifest:full-path="'+e[t][0]+'" manifest:media-type="'+e[t][1]+'"/>\n');return i.push("</manifest:manifest>"),i.join("")}(r)),t}var Hs=function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":("function"==typeof Buffer.from?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}}();function Jh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Xc(e){return typeof TextDecoder<"u"?(new TextDecoder).decode(e):wr(ku(e))}function Jo(e){return typeof TextEncoder<"u"?(new TextEncoder).encode(e):Qo(Lu(e))}function Sf(e){for(var i=0,t=0;t<e.length;++t)i+=e[t].length;var n=new Uint8Array(i),r=0;for(t=0;t<e.length;++t){var s=e[t],o=s.length;if(o<250)for(var l=0;l<o;++l)n[r++]=s[l];else n.set(s,r),r+=o}return n}function hw(e,i){var t=i.l,n=127&e[t];t:if(e[t++]>=128&&(n|=(127&e[t])<<7,e[t++]<128||(n|=(127&e[t])<<14,e[t++]<128)||(n|=(127&e[t])<<21,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,28),++t,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,35),++t,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,42),++t,e[t++]<128)))break t;return i.l=t,n}function Mi(e){var i=new Uint8Array(7);i[0]=127&e;var t=1;t:if(e>127){if(i[t-1]|=128,i[t]=e>>7&127,++t,e<=16383||(i[t-1]|=128,i[t]=e>>14&127,++t,e<=2097151)||(i[t-1]|=128,i[t]=e>>21&127,++t,e<=268435455)||(i[t-1]|=128,i[t]=e/256>>>21&127,++t,e<=34359738367)||(i[t-1]|=128,i[t]=e/65536>>>21&127,++t,e<=4398046511103))break t;i[t-1]|=128,i[t]=e/16777216>>>21&127,++t}return i[Hs](0,t)}function Hnt(e){for(var i={l:0},t=[];i.l<e.length;)t.push(hw(e,i));return t}function Wnt(e){return Sf(e.map(function(i){return Mi(i)}))}function zn(e){var i=0,t=127&e[i];return e[i++]<128||(t|=(127&e[i])<<7,e[i++]<128)||(t|=(127&e[i])<<14,e[i++]<128)||(t|=(127&e[i])<<21,e[i++]<128)||(t|=(15&e[i])<<28),t}function mi(e){for(var i=[],t={l:0};t.l<e.length;){var n=t.l,r=hw(e,t),s=7&r;r=r/8|0;var o,l=t.l;switch(s){case 0:for(;e[l++]>=128;);o=e[Hs](t.l,l),t.l=l;break;case 1:o=e[Hs](l,l+8),t.l=l+8;break;case 2:var w=hw(e,t);o=e[Hs](t.l,t.l+w),t.l+=w;break;case 5:o=e[Hs](l,l+4),t.l=l+4;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(n))}var E={data:o,type:s};null==i[r]&&(i[r]=[]),i[r].push(E)}return i}function Li(e){var i=[];return e.forEach(function(t,n){0!=n&&t.forEach(function(r){r.data&&(i.push(Mi(8*n+r.type)),2==r.type&&i.push(Mi(r.data.length)),i.push(r.data))})}),Sf(i)}function Rm(e,i){return e?.map(function(t){return i(t.data)})||[]}function dw(e){for(var i,t=[],n={l:0};n.l<e.length;){var r=hw(e,n),s=mi(e[Hs](n.l,n.l+r));n.l+=r;var o={id:zn(s[1][0].data),messages:[]};s[2].forEach(function(l){var w=mi(l.data),E=zn(w[3][0].data);o.messages.push({meta:w,data:e[Hs](n.l,n.l+E)}),n.l+=E}),null!=(i=s[3])&&i[0]&&(o.merge=zn(s[3][0].data)>>>0>0),t.push(o)}return t}function z0(e){var i=[];return e.forEach(function(t){var n=[[],[{data:Mi(t.id),type:0}],[]];null!=t.merge&&(n[3]=[{data:Mi(+!!t.merge),type:0}]);var r=[];t.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:Mi(o.data.length)}],n[2].push({data:Li(o.meta),type:2})});var s=Li(n);i.push(Mi(s.length)),i.push(s),r.forEach(function(o){return i.push(o)})}),Sf(i)}function yZt(e,i){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var t={l:0},n=hw(i,t),r=[],s=t.l;s<i.length;){var o=3&i[s];if(0!=o){var E=0,D=0;if(1==o?(D=4+(i[s]>>2&7),E=(224&i[s++])<<3,E|=i[s++]):(D=1+(i[s++]>>2),2==o?(E=i[s]|i[s+1]<<8,s+=2):(E=(i[s]|i[s+1]<<8|i[s+2]<<16|i[s+3]<<24)>>>0,s+=4)),0==E)throw new Error("Invalid offset 0");for(var k=r.length-1,O=E;k>=0&&O>=r[k].length;)O-=r[k].length,--k;if(k<0){if(0!=O)throw new Error("Invalid offset beyond length");O=r[k=0].length}if(D<O)r.push(r[k][Hs](r[k].length-O,r[k].length-O+D));else{for(O>0&&(r.push(r[k][Hs](r[k].length-O)),D-=O),++k;D>=r[k].length;)r.push(r[k]),D-=r[k].length,++k;D&&r.push(r[k][Hs](0,D))}r.length>25&&(r=[Sf(r)])}else{var l=i[s++]>>2;if(l<60)++l;else{var w=l-59;l=i[s],w>1&&(l|=i[s+1]<<8),w>2&&(l|=i[s+2]<<16),w>3&&(l|=i[s+3]<<24),l>>>=0,l++,s+=w}r.push(i[Hs](s,s+l)),s+=l}}for(var L=0,U=0;U<r.length;++U)L+=r[U].length;if(L!=n)throw new Error("Unexpected length: ".concat(L," != ").concat(n));return r}function fw(e){Array.isArray(e)&&(e=new Uint8Array(e));for(var i=[],t=0;t<e.length;){var n=e[t++],r=e[t]|e[t+1]<<8|e[t+2]<<16;i.push.apply(i,yZt(n,e[Hs](t+=3,t+r))),t+=r}if(t!==e.length)throw new Error("data is not a valid framed stream!");return 1==i.length?i[0]:Sf(i)}function G0(e){for(var i=[],t=0;t<e.length;){var n=Math.min(e.length-t,268435455),r=new Uint8Array(4);i.push(r);var s=Mi(n),o=s.length;i.push(s),n<=60?(o++,i.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,i.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,i.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,i.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,i.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),i.push(e[Hs](t,t+n)),o+=n,r[0]=0,r[1]=255&o,r[2]=o>>8&255,r[3]=o>>16&255,t+=n}return Sf(i)}function N4(e,i){var t=new Uint8Array(32),n=Jh(t),r=12,s=0;switch(t[0]=5,e.t){case"n":if(e.z&&Ul(e.z)){t[1]=5,n.setFloat64(r,(Yh(e.v+1462).getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break}t[1]=2,function vZt(e,i,t){var n=Math.floor(0==t?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-16,r=t/Math.pow(10,n-6176);e[i+15]|=n>>7,e[i+14]|=(127&n)<<1;for(var s=0;r>=1;++s,r/=256)e[i+s]=255&r;e[i+15]|=t>=0?0:128}(t,r,e.v),s|=1,r+=16;break;case"b":t[1]=6,n.setFloat64(r,e.v?1:0,!0),s|=2,r+=8;break;case"s":var o=null==e.v?"":String(e.v);if(e.l){var l=i.rsst.findIndex(function(E){var D;return E.v==o&&E.l==(null==(D=e.l)?void 0:D.Target)});-1==l&&(i.rsst[l=i.rsst.length]={v:o,l:e.l.Target}),t[1]=9,n.setUint32(r,l,!0),s|=16,r+=4}else{var w=i.sst.indexOf(o);-1==w&&(i.sst[w=i.sst.length]=o),t[1]=3,n.setUint32(r,w,!0),s|=8,r+=4}break;case"d":t[1]=5,n.setFloat64(r,(e.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break;case"z":t[1]=0;break;default:throw"unsupported cell type "+e.t}return e.c&&(i.cmnt.push(function _Zt(e){for(var i={a:"",t:"",replies:[]},t=0;t<e.length;++t)0==t?(i.a=e[t].a,i.t=e[t].t):i.replies.push({a:e[t].a,t:e[t].t});return i}(e.c)),n.setUint32(r,i.cmnt.length-1,!0),s|=524288,r+=4),n.setUint32(8,s,!0),t[Hs](0,r)}function B4(e,i){var t=new Uint8Array(32),n=Jh(t),r=12,s=0,o="";switch(t[0]=4,e.t){case"n":case"b":case"d":case"e":case"z":break;case"s":if(o=null==e.v?"":String(e.v),e.l){var l=i.rsst.findIndex(function(E){var D;return E.v==o&&E.l==(null==(D=e.l)?void 0:D.Target)});-1==l&&(i.rsst[l=i.rsst.length]={v:o,l:e.l.Target}),t[1]=9,n.setUint32(r,l,!0),s|=512,r+=4}break;default:throw"unsupported cell type "+e.t}switch(e.c&&(n.setUint32(r,i.cmnt.length-1,!0),s|=4096,r+=4),e.t){case"n":t[1]=2,n.setFloat64(r,e.v,!0),s|=32,r+=8;break;case"b":t[1]=6,n.setFloat64(r,e.v?1:0,!0),s|=32,r+=8;break;case"s":if(o=null==e.v?"":String(e.v),!e.l){var w=i.sst.indexOf(o);-1==w&&(i.sst[w=i.sst.length]=o),t[1]=3,n.setUint32(r,w,!0),s|=16,r+=4}break;case"d":t[1]=5,n.setFloat64(r,(e.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=64,r+=8;break;case"z":t[1]=0;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),t[Hs](0,r)}function Gn(e){return zn(mi(e)[1][0].data)}function Io(e){return Li([[],[{type:0,data:Mi(e)}]])}function Ro(e,i){var t,n=null!=(t=e.messages[0].meta[5])&&t[0]?Hnt(e.messages[0].meta[5][0].data):[];-1==n.indexOf(i)&&(n.push(i),e.messages[0].meta[5]=[{type:2,data:Wnt(n)}])}function qh(e,i){var t,n=null!=(t=e.messages[0].meta[5])&&t[0]?Hnt(e.messages[0].meta[5][0].data):[];e.messages[0].meta[5]=[{type:2,data:Wnt(n.filter(function(r){return r!=i}))}]}function RZt(e,i,t){var n,r,s,o=[[],[{type:0,data:Mi(0)}],[{type:0,data:Mi(0)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Mi(5)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Mi(1)}]];if(null==(n=o[6])||!n[0]||null==(r=o[7])||!r[0])throw"Mutation only works on post-BNC storages!";var l=0;if(o[7][0].data.length<2*e.length){var w=new Uint8Array(2*e.length);w.set(o[7][0].data),o[7][0].data=w}if(o[4][0].data.length<2*e.length){var E=new Uint8Array(2*e.length);E.set(o[4][0].data),o[4][0].data=E}for(var D=Jh(o[7][0].data),k=0,O=[],L=Jh(o[4][0].data),U=0,j=[],W=t?4:1,Z=0;Z<e.length;++Z)if(null!=e[Z]&&("z"!=e[Z].t||null!=(s=e[Z].c)&&s.length)&&"e"!=e[Z].t){var rt,st;switch(D.setUint16(2*Z,k/W,!0),L.setUint16(2*Z,U/W,!0),e[Z].t){case"d":if(e[Z].v instanceof Date){rt=N4(e[Z],i),st=B4(e[Z],i);break}rt=N4(e[Z],i),st=B4(e[Z],i);break;case"s":case"n":case"b":case"z":rt=N4(e[Z],i),st=B4(e[Z],i);break;default:throw new Error("Unsupported value "+e[Z])}O.push(rt),k+=rt.length,j.push(st),U+=st.length,++l}else D.setUint16(2*Z,65535,!0),L.setUint16(2*Z,65535);for(o[2][0].data=Mi(l),o[5][0].data=Mi(5);Z<o[7][0].data.length/2;++Z)D.setUint16(2*Z,65535,!0),L.setUint16(2*Z,65535,!0);return o[6][0].data=Sf(O),o[3][0].data=Sf(j),o[8]=[{type:0,data:Mi(t?1:0)}],o}function U4(e,i){return{meta:[[],[{type:0,data:Mi(e)}]],data:i}}function Vu(e,i){i.last||(i.last=927262);for(var t=i.last;t<2e6;++t)if(!i[t])return i[i.last=t]=e,t;throw new Error("Too many messages")}function iD(e,i,t){return Li([[],[{type:0,data:Mi(1)}],[],[{type:5,data:new Uint8Array(Float32Array.from([e/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([i/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([t/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([1]).buffer)}],[],[],[],[],[],[{type:0,data:Mi(1)}]])}function Ynt(e){switch(e){case 0:return iD(99,222,171);case 1:return iD(162,197,240);case 2:return iD(255,189,189)}return iD(255*Math.random(),255*Math.random(),255*Math.random())}function Ar(e,i,t,n){var r=Vi.find(e,i[t].location);if(!r)throw"Could not find ".concat(i[t].location," in Numbers template");var s=dw(fw(r.content));n(s.find(function(l){return l.id==t}),s),r.content=G0(z0(s)),r.size=r.content.length}function Uu(e,i,t){var n=Vi.find(e,i[t].location);if(!n)throw"Could not find ".concat(i[t].location," in Numbers template");return dw(fw(n.content)).find(function(o){return o.id==t})}function z4(e,i,t){e[3].push({type:2,data:Li([[],[{type:0,data:Mi(i)}],[{type:2,data:Jo(t.replace(/-[\s\S]*$/,""))}],[{type:2,data:Jo(t)}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Mi(0)}],[],[{type:0,data:Mi(0)}]])}),e[1]=[{type:0,data:Mi(Math.max(i+1,zn(e[1][0].data)))}]}function km(e,i,t,n,r,s){s||(s=Vu({deps:[],location:"",type:i},r));var o="".concat(n,"-").concat(s,".iwa");r[s].location="Root Entry"+o,Vi.utils.cfb_add(e,o,G0(z0([{id:s,messages:[U4(i,Li(t))]}])));var l=o.replace(/^[\/]/,"").replace(/^Index\//,"").replace(/\.iwa$/,"");return Ar(e,r,2,function(w){var E=mi(w.messages[0].data);z4(E,s||0,l),w.messages[0].data=Li(E)}),s}function ml(e,i,t,n){var r=i[t].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=e[3].findIndex(function(l){var w,E,D=mi(l.data);return null!=(w=D[3])&&w[0]?Xc(D[3][0].data)==r:!(null==(E=D[2])||!E[0]||Xc(D[2][0].data)!=r)}),o=mi(e[3][s].data);o[6]||(o[6]=[]),(Array.isArray(n)?n:[n]).forEach(function(l){o[6].push({type:2,data:Li([[],[{type:0,data:Mi(l)}]])})}),e[3][s].data=Li(o)}var $nt=!0;function H4(e){!function Qnt(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Znt(e,i){e&&!e.SSF&&(e.SSF=br(Ni)),e&&e.SSF&&(I0(),F1(e.SSF),i.revssf=DA(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,aw?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var t="xml",n=iXt.indexOf(i.bookType)>-1,r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};H4(i=i||{});var s=VN(),o="",l=0;if(i.cellXfs=[],Cf(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),yn(s,o="docProps/core.xml",Ket(e.Props,i)),r.coreprops.push(o),vr(i.rels,2,o,wn.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var w=[],E=0;E<e.SheetNames.length;++E)2!=(e.Workbook.Sheets[E]||{}).Hidden&&w.push(e.SheetNames[E]);e.Props.SheetNames=w}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,yn(s,o,qet(e.Props)),r.extprops.push(o),vr(i.rels,3,o,wn.EXT_PROPS),e.Custprops!==e.Props&&rs(e.Custprops||{}).length>0&&(yn(s,o="docProps/custom.xml",tit(e.Custprops)),r.custprops.push(o),vr(i.rels,4,o,wn.CUST_PROPS));var D=["SheetJ5"];for(i.tcid=0,l=1;l<=e.SheetNames.length;++l){var k={"!id":{}},O=e.Sheets[e.SheetNames[l-1]];if(yn(s,o="xl/worksheets/sheet"+l+"."+t,x$t(l-1,i,e,k)),r.sheets.push(o),vr(i.wbrels,-1,"worksheets/sheet"+l+"."+t,wn.WS[0]),O){var U=O["!comments"],j=!1,W="";if(U&&U.length>0){var Z=!1;U.forEach(function(rt){rt[1].forEach(function(st){1==st.T&&(Z=!0)})}),Z&&(yn(s,W="xl/threadedComments/threadedComment"+l+".xml",$it(U,D,i)),r.threadedcomments.push(W),vr(k,-1,"../threadedComments/threadedComment"+l+".xml",wn.TCMNT)),yn(s,W="xl/comments"+l+"."+t,jjt(U)),r.comments.push(W),vr(k,-1,"../comments"+l+"."+t,wn.CMNT),j=!0}O["!legacy"]&&j&&yn(s,"xl/drawings/vmlDrawing"+l+".vml",Xit(l,O["!comments"])),delete O["!comments"],delete O["!legacy"]}k["!id"].rId1&&yn(s,Y1(o),L0(k))}return null!=i.Strings&&i.Strings.length>0&&(yn(s,o="xl/sharedStrings."+t,function sWt(e,i){if(!i.bookSST)return"";var t=[zs];t[t.length]=ii("sst",null,{xmlns:gm[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var r=e[n],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),"string"!=typeof r.t&&(r.t=String(r.t)),r.t.match(rWt)&&(s+=' xml:space="preserve"'),s+=">"+_n(r.t)+"</t>"),t[t.length]=s+="</si>"}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}(i.Strings,i)),r.strs.push(o),vr(i.wbrels,-1,"sharedStrings."+t,wn.SST)),yn(s,o="xl/workbook."+t,function XQt(e){var i=[zs];i[i.length]=ii("workbook",null,{xmlns:gm[0],"xmlns:r":Ta.r});var t=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(R4.forEach(function(l){null!=e.Workbook.WBProps[l[0]]&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),i[i.length]=ii("workbookPr",null,n);var r=e.Workbook&&e.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(i[i.length]="<bookViews>",s=0;s!=e.SheetNames.length&&r[s]&&r[s].Hidden;++s);s==e.SheetNames.length&&(s=0),i[i.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',i[i.length]="</bookViews>"}for(i[i.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:_n(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}i[i.length]=ii("sheet",null,o)}return i[i.length]="</sheets>",t&&(i[i.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var w={name:l.Name};l.Comment&&(w.comment=l.Comment),null!=l.Sheet&&(w.localSheetId=""+l.Sheet),l.Hidden&&(w.hidden="1"),l.Ref&&(i[i.length]=ii("definedName",_n(l.Ref),w))}),i[i.length]="</definedNames>"),i.length>2&&(i[i.length]="</workbook>",i[1]=i[1].replace("/>",">")),i.join("")}(e)),r.workbooks.push(o),vr(i.rels,1,o,wn.WB),yn(s,o="xl/theme/theme1.xml",C4(e.Themes,i)),r.themes.push(o),vr(i.wbrels,-1,"theme/theme1.xml",wn.THEME),yn(s,o="xl/styles."+t,function XWt(e,i){var n,t=[zs,ii("styleSheet",null,{xmlns:gm[0],"xmlns:vt":Ta.vt})];return e.SSF&&null!=(n=function GWt(e){var i=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)null!=e[n]&&(i[i.length]=ii("numFmt",null,{numFmtId:n,formatCode:_n(e[n])}))}),1===i.length?"":(i[i.length]="</numFmts>",i[0]=ii("numFmts",null,{count:i.length-2}).replace("/>",">"),i.join(""))}(e.SSF))&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function WWt(e){var i=[];return i[i.length]=ii("cellXfs",null),e.forEach(function(t){i[i.length]=ii("xf",null,t)}),i[i.length]="</cellXfs>",2===i.length?"":(i[0]=ii("cellXfs",null,{count:i.length-2}).replace("/>",">"),i.join(""))}(i.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}(e,i)),r.styles.push(o),vr(i.wbrels,-1,"styles."+t,wn.STY),e.vbaraw&&n&&(yn(s,o="xl/vbaProject.bin",e.vbaraw),r.vba.push(o),vr(i.wbrels,-1,"vbaProject.bin",wn.VBA)),yn(s,o="xl/metadata."+t,function Ljt(){var e=[zs];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}()),r.metadata.push(o),vr(i.wbrels,-1,"metadata."+t,wn.XLMETA),D.length>1&&(yn(s,o="xl/persons/person.xml",Qit(D)),r.people.push(o),vr(i.wbrels,-1,"persons/person.xml",wn.PEOPLE)),yn(s,"[Content_Types].xml",Xet(r,i)),yn(s,"_rels/.rels",L0(i.rels)),yn(s,"xl/_rels/workbook.xml.rels",L0(i.wbrels)),delete i.revssf,delete i.ssf,s}function trt(e,i){switch(i.type){case"base64":case"binary":break;case"buffer":case"array":i.type="";break;case"file":return O1(i.file,Vi.write(e,{type:Rn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");default:throw new Error("Unrecognized type "+i.type)}return Vi.write(e,i)}function QZt(e,i){switch(i.bookType){case"ods":return Gnt(e,i);case"numbers":return function kZt(e,i){if(!i||!i.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=Vi.read(i.numbers,{type:"base64"}),n=function PZt(e){var i={},t=[];return e.FileIndex.map(function(n,r){return[n,e.FullPaths[r]]}).forEach(function(n){var r=n[0],s=n[1];2==r.type&&r.name.match(/\.iwa/)&&0==r.content[0]&&dw(fw(r.content)).forEach(function(o){t.push(o.id),i[o.id]={deps:[],location:s,type:zn(o.messages[0].meta[1][0].data)}})}),e.FileIndex.forEach(function(n){n.name.match(/\.iwa/)&&0==n.content[0]&&dw(fw(n.content)).forEach(function(r){r.messages.forEach(function(s){[5,6].forEach(function(o){s.meta[o]&&s.meta[o].forEach(function(l){i[r.id].deps.push(zn(l.data))})})})})}),i}(t),r=Uu(t,n,1);if(null==r)throw"Could not find message ".concat(1," in Numbers template");var s=Rm(mi(r.messages[0].data)[1],Gn);if(s.length>1)throw new Error("Template NUMBERS file must have exactly one sheet");return e.SheetNames.forEach(function(o,l){l>=1&&(function OZt(e,i,t){var n=-1,r=-1,s={};Ar(e,i,1,function(w,E){var D=mi(w.messages[0].data);n=Gn(mi(w.messages[0].data)[1][0].data),r=Vu({deps:[1],location:i[n].location,type:2},i),s[n]=r,Ro(w,r),D[1].push({type:2,data:Io(r)});var k=Uu(e,i,n);k.id=r,i[1].location==i[r].location?E.push(k):Ar(e,i,r,function(O,L){return L.push(k)}),w.messages[0].data=Li(D)});var o=-1;Ar(e,i,r,function(w,E){for(var D=mi(w.messages[0].data),k=3;k<=69;++k)delete D[k];var O=Rm(D[2],Gn);O.forEach(function(U){return qh(w,U)}),o=Vu({deps:[r],location:i[O[0]].location,type:i[O[0]].type},i),Ro(w,o),s[O[0]]=o,D[2]=[{type:2,data:Io(o)}];var L=Uu(e,i,O[0]);L.id=o,i[O[0]].location==i[r].location?E.push(L):(Ar(e,i,2,function(U){var j=mi(U.messages[0].data);ml(j,i,r,o),U.messages[0].data=Li(j)}),Ar(e,i,o,function(U,j){return j.push(L)})),w.messages[0].data=Li(D)});var l=-1;Ar(e,i,o,function(w,E){for(var D=mi(w.messages[0].data),k=mi(D[1][0].data),O=3;O<=69;++O)delete k[O];var L=Gn(k[2][0].data);k[2][0].data=Io(s[L]),D[1][0].data=Li(k);var U=Gn(D[2][0].data);qh(w,U),Ro(w,l=Vu({deps:[o],location:i[U].location,type:i[U].type},i)),s[U]=l,D[2][0].data=Io(l);var j=Uu(e,i,U);j.id=l,i[o].location==i[l].location?E.push(j):Ar(e,i,l,function(W,Z){return Z.push(j)}),w.messages[0].data=Li(D)}),Ar(e,i,l,function(w,E){var D,k,O=mi(w.messages[0].data),U=Xc(O[1][0].data).replace(/-[A-Z0-9]*/,"-".concat(("0000"+t.toString(16)).slice(-4)));if(O[1][0].data=Jo(U),[12,13,29,31,32,33,39,44,47,81,82,84].forEach(function(Tt){return delete O[Tt]}),O[45]){var W=Gn(mi(O[45][0].data)[1][0].data);qh(w,W),delete O[45]}O[70]&&(null==(D=mi(O[70][0].data)[2])||D.forEach(function(Tt){var It=mi(Tt.data);[2,3].map(function(ft){return It[ft][0]}).forEach(function(ft){var ht=mi(ft.data);if(ht[8]){var mt=Gn(ht[8][0].data);qh(w,mt)}})}),delete O[70]),[46,30,34,35,36,38,48,49,60,61,62,63,64,71,72,73,74,75,85,86,87,88,89].forEach(function(Tt){if(O[Tt]){var It=Gn(O[Tt][0].data);delete O[Tt],qh(w,It)}});var rt=mi(O[4][0].data);[2,4,5,6,11,12,13,15,16,17,18,19,20,21,22].forEach(function(Tt){var It;if(null!=(It=rt[Tt])&&It[0]){var ft=Gn(rt[Tt][0].data),ht=Vu({deps:[l],location:i[ft].location,type:i[ft].type},i);qh(w,ft),Ro(w,ht),s[ft]=ht;var mt=Uu(e,i,ft);if(mt.id=ht,i[ft].location==i[l].location)E.push(mt);else{i[ht].location=i[ft].location.replace(ft.toString(),ht.toString()),i[ht].location==i[ft].location&&(i[ht].location=i[ht].location.replace(/\.iwa/,"-".concat(ht,".iwa"))),Vi.utils.cfb_add(e,i[ht].location,G0(z0([mt])));var wt=i[ht].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Ar(e,i,2,function(Ct){var _t=mi(Ct.messages[0].data);z4(_t,ht,wt),ml(_t,i,l,ht),Ct.messages[0].data=Li(_t)})}rt[Tt][0].data=Io(ht)}});var st=mi(rt[1][0].data);null==(k=st[2])||k.forEach(function(Tt){var It=Gn(Tt.data),ft=Vu({deps:[l],location:i[It].location,type:i[It].type},i);qh(w,It),Ro(w,ft),s[It]=ft;var ht=Uu(e,i,It);if(ht.id=ft,i[It].location==i[l].location)E.push(ht);else{i[ft].location=i[It].location.replace(It.toString(),ft.toString()),i[ft].location==i[It].location&&(i[ft].location=i[ft].location.replace(/\.iwa/,"-".concat(ft,".iwa"))),Vi.utils.cfb_add(e,i[ft].location,G0(z0([ht])));var mt=i[ft].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Ar(e,i,2,function(wt){var Ct=mi(wt.messages[0].data);z4(Ct,ft,mt),ml(Ct,i,l,ft),wt.messages[0].data=Li(Ct)})}Tt.data=Io(ft)}),rt[1][0].data=Li(st);var yt=mi(rt[3][0].data);yt[1].forEach(function(Tt){var It=mi(Tt.data),ft=Gn(It[2][0].data),ht=s[ft];if(!s[ft]){ht=Vu({deps:[l],location:"",type:i[ft].type},i),i[ht].location="Root Entry/Index/Tables/Tile-".concat(ht,".iwa"),s[ft]=ht;var mt=Uu(e,i,ft);mt.id=ht,qh(w,ft),Ro(w,ht),Vi.utils.cfb_add(e,"/Index/Tables/Tile-".concat(ht,".iwa"),G0(z0([mt]))),Ar(e,i,2,function(wt){var Ct=mi(wt.messages[0].data);Ct[3].push({type:2,data:Li([[],[{type:0,data:Mi(ht)}],[{type:2,data:Jo("Tables/Tile")}],[{type:2,data:Jo("Tables/Tile-".concat(ht))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Mi(0)}],[],[{type:0,data:Mi(0)}]])}),Ct[1]=[{type:0,data:Mi(Math.max(ht+1,zn(Ct[1][0].data)))}],ml(Ct,i,l,ht),wt.messages[0].data=Li(Ct)})}It[2][0].data=Io(ht),Tt.data=Li(It)}),rt[3][0].data=Li(yt),O[4][0].data=Li(rt),w.messages[0].data=Li(O)})}(t,n,l+1),r=Uu(t,n,1),s=Rm(mi(r.messages[0].data)[1],Gn)),function LZt(e,i,t,n,r,s){var o=[];Ar(e,i,s,function(E){var D=mi(E.messages[0].data);D[1]=[{type:2,data:Jo(n)}],o=Rm(D[2],Gn),E.messages[0].data=Li(D)});var w=Gn(mi(Uu(e,i,o[0]).messages[0].data)[2][0].data);Ar(e,i,w,function(E,D){return function NZt(e,i,t,n,r,s){if(!t["!ref"])throw new Error("Cannot export empty sheet to NUMBERS");var o=Sa(t["!ref"]);o.s.r=o.s.c=0;var l=!1;o.e.c>999&&(l=!0,o.e.c=999),o.e.r>999999&&(l=!0,o.e.r=999999),l&&console.error("Truncating to ".concat(bn(o)));var w=[];if(t["!data"])w=t["!data"];else{for(var E=[],D=0;D<=o.e.c;++D)E[D]=xn(D);for(var k=0;k<=o.e.r;++k){w[k]=[];var O=""+(k+1);for(D=0;D<=o.e.c;++D){var L=t[E[D]+O];L&&(w[k][D]=L)}}}var U={cmnt:[{a:"~54ee77S~",t:"... the people who are crazy enough to think they can change the world, are the ones who do."}],ferr:[],fmla:[],nfmt:[],ofmt:[],rsst:[{v:"~54ee77S~",l:"https://sheetjs.com/"}],sst:["~Sh33tJ5~"]},j=mi(n.messages[0].data);j[6][0].data=Mi(o.e.r+1),j[7][0].data=Mi(o.e.c+1),delete j[46];var W=mi(j[4][0].data),Z=Gn(mi(W[1][0].data)[2][0].data);Ar(e,i,Z,function(ee,Ne){var De,fi=mi(ee.messages[0].data);if(null!=(De=fi?.[2])&&De[0])for(var vi=0;vi<w.length;++vi){var hi=mi(fi[2][0].data);hi[1][0].data=Mi(vi),hi[4][0].data=Mi(w[vi].length),fi[2][vi]={type:fi[2][0].type,data:Li(hi)}}ee.messages[0].data=Li(fi)});var rt=Gn(W[2][0].data);Ar(e,i,rt,function(ee,Ne){for(var De=mi(ee.messages[0].data),fi=0;fi<=o.e.c;++fi){var vi=mi(De[2][0].data);vi[1][0].data=Mi(fi),vi[4][0].data=Mi(o.e.r+1),De[2][fi]={type:De[2][0].type,data:Li(vi)}}ee.messages[0].data=Li(De)});var st=mi(W[9][0].data);st[1]=[];var yt=mi(W[3][0].data),Tt=256;yt[2]=[{type:0,data:Mi(Tt)}];var De,It=Gn(mi(yt[1][0].data)[2][0].data),ft=(De=mi(Uu(e,i,2).messages[0].data)[3].filter(function(fi){return zn(mi(fi.data)[1][0].data)==It}),De?.length?zn(mi(De[0].data)[12][0].data):0);Vi.utils.cfb_del(e,i[It].location),Ar(e,i,2,function(ee){var Ne=mi(ee.messages[0].data);Ne[3]=Ne[3].filter(function(De){return zn(mi(De.data)[1][0].data)!=It}),function FZt(e,i,t,n){var r=i[t].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=e[3].findIndex(function(l){var w,E,D=mi(l.data);return null!=(w=D[3])&&w[0]?Xc(D[3][0].data)==r:!(null==(E=D[2])||!E[0]||Xc(D[2][0].data)!=r)}),o=mi(e[3][s].data);o[6]||(o[6]=[]),o[6]=o[6].filter(function(l){return zn(mi(l.data)[1][0].data)!=n}),e[3][s].data=Li(o)}(Ne,i,s,It),ee.messages[0].data=Li(Ne)}),qh(n,It),yt[1]=[];for(var ht=Math.ceil((o.e.r+1)/Tt),mt=0;mt<ht;++mt){var wt=Vu({deps:[],location:"",type:6002},i);i[wt].location="Root Entry/Index/Tables/Tile-".concat(wt,".iwa");for(var Ct=[[],[{type:0,data:Mi(0)}],[{type:0,data:Mi(Math.min(o.e.r+1,(mt+1)*Tt))}],[{type:0,data:Mi(0)}],[{type:0,data:Mi(Math.min((mt+1)*Tt,o.e.r+1)-mt*Tt)}],[],[{type:0,data:Mi(5)}],[{type:0,data:Mi(1)}],[{type:0,data:Mi($nt?1:0)}]],_t=mt*Tt;_t<=Math.min(o.e.r,(mt+1)*Tt-1);++_t){var Dt=RZt(w[_t],U,$nt);Dt[1][0].data=Mi(_t-mt*Tt),Ct[5].push({data:Li(Dt),type:2})}yt[1].push({type:2,data:Li([[],[{type:0,data:Mi(mt)}],[{type:2,data:Io(wt)}]])});var Te=G0(z0([{id:wt,messages:[U4(6002,Li(Ct))]}]));Vi.utils.cfb_add(e,"/Index/Tables/Tile-".concat(wt,".iwa"),Te),Ar(e,i,2,function(ee){var Ne=mi(ee.messages[0].data);Ne[3].push({type:2,data:Li([[],[{type:0,data:Mi(wt)}],[{type:2,data:Jo("Tables/Tile")}],[{type:2,data:Jo("Tables/Tile-".concat(wt))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Mi(0)}],[],[{type:0,data:Mi(ft)}]])}),Ne[1]=[{type:0,data:Mi(Math.max(wt+1,zn(Ne[1][0].data)))}],ml(Ne,i,s,wt),ee.messages[0].data=Li(Ne)}),Ro(n,wt),st[1].push({type:2,data:Li([[],[{type:0,data:Mi(mt*Tt)}],[{type:0,data:Mi(mt)}]])})}if(W[3][0].data=Li(yt),W[9][0].data=Li(st),W[10]=[{type:2,data:new Uint8Array([])}],t["!merges"]){var ve=Vu({type:6144,deps:[s],location:i[s].location},i);r.push({id:ve,messages:[U4(6144,Li([[],t["!merges"].map(function(ee){return{type:2,data:Li([[],[{type:2,data:Li([[],[{type:5,data:new Uint8Array(new Uint16Array([ee.s.r,ee.s.c]).buffer)}]])}],[{type:2,data:Li([[],[{type:5,data:new Uint8Array(new Uint16Array([ee.e.r-ee.s.r+1,ee.e.c-ee.s.c+1]).buffer)}]])}]])}})]))]}),W[13]=[{type:2,data:Io(ve)}],Ar(e,i,2,function(ee){var Ne=mi(ee.messages[0].data);ml(Ne,i,s,ve),ee.messages[0].data=Li(Ne)}),Ro(n,ve)}else delete W[13];var qt=Gn(W[4][0].data);Ar(e,i,qt,function(ee){var Ne=mi(ee.messages[0].data);Ne[3]=[],U.sst.forEach(function(De,fi){0!=fi&&Ne[3].push({type:2,data:Li([[],[{type:0,data:Mi(fi)}],[{type:0,data:Mi(1)}],[{type:2,data:Jo(De)}]])})}),ee.messages[0].data=Li(Ne)});var _e=Gn(W[17][0].data);if(Ar(e,i,_e,function(ee){var Ne=mi(ee.messages[0].data);Ne[3]=[];var De=[904980,903835,903815,903845];U.rsst.forEach(function(fi,vi){if(0!=vi){var hi=[[],[{type:0,data:new Uint8Array([5])}],[],[{type:2,data:Jo(fi.v)}]];hi[10]=[{type:0,data:new Uint8Array([1])}],hi[19]=[{type:2,data:new Uint8Array([10,6,8,0,18,2,101,110])}],hi[5]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,155,149,55])}],hi[2]=[{type:2,data:new Uint8Array([8,148,158,55])}],hi[6]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],hi[7]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,135,149,55])}],hi[8]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,165,149,55])}],hi[14]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],hi[24]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}];var Ot=Vu({deps:[],location:"",type:2001},i),Qt=[];if(fi.l){var $t=km(e,2032,[[],[],[{type:2,data:Jo(fi.l)}]],"/Index/Tables/DataList",i);hi[11]=[];var Yt=[[],[]];Yt[1]||(Yt[1]=[]),Yt[1].push({type:2,data:Li([[],[{type:0,data:Mi(0)}],[{type:2,data:Io($t)}]])}),hi[11][0]={type:2,data:Li(Yt)},Qt.push($t)}km(e,2001,hi,"/Index/Tables/DataList",i,Ot),Ar(e,i,Ot,function(Ft){De.forEach(function(Di){return Ro(Ft,Di)}),Qt.forEach(function(Di){return Ro(Ft,Di)})});var Ae=km(e,6218,[[],[{type:2,data:Io(Ot)}],[],[{type:2,data:new Uint8Array([13,255,255,255,0,18,10,16,255,255,1,24,255,255,255,255,7])}]],"/Index/Tables/DataList",i);Ar(e,i,Ae,function(Ft){return Ro(Ft,Ot)}),Ne[3].push({type:2,data:Li([[],[{type:0,data:Mi(vi)}],[{type:0,data:Mi(1)}],[],[],[],[],[],[],[{type:2,data:Io(Ae)}]])}),Ro(ee,Ae),Ar(e,i,2,function(Ft){var Di=mi(Ft.messages[0].data);ml(Di,i,_e,Ae),ml(Di,i,Ae,Ot),ml(Di,i,Ot,Qt),ml(Di,i,Ot,De),Ft.messages[0].data=Li(Di)})}}),ee.messages[0].data=Li(Ne)}),U.cmnt.length>1){var ze=Gn(W[19][0].data),Me={},Ii=0;Ar(e,i,ze,function(ee){var Ne=mi(ee.messages[0].data);Ne[3]=[],U.cmnt.forEach(function(De,fi){if(0!=fi){var vi=[];De.replies&&De.replies.forEach(function(Qt){Me[Qt.a||""]||(Me[Qt.a||""]=km(e,212,[[],[{type:2,data:Jo(Qt.a||"")}],[{type:2,data:Ynt(++Ii)}],[],[{type:0,data:Mi(0)}]],"/Index/Tables/DataList",i));var $t=Me[Qt.a||""],Yt=km(e,3056,[[],[{type:2,data:Jo(Qt.t||"")}],[{type:2,data:Li([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:Io($t)}]],"/Index/Tables/DataList",i);Ar(e,i,Yt,function(Ae){return Ro(Ae,$t)}),vi.push(Yt),Ar(e,i,2,function(Ae){var Ft=mi(Ae.messages[0].data);ml(Ft,i,Yt,$t),Ae.messages[0].data=Li(Ft)})}),Me[De.a||""]||(Me[De.a||""]=km(e,212,[[],[{type:2,data:Jo(De.a||"")}],[{type:2,data:Ynt(++Ii)}],[],[{type:0,data:Mi(0)}]],"/Index/Tables/DataList",i));var hi=Me[De.a||""],Ot=km(e,3056,[[],[{type:2,data:Jo(De.t||"")}],[{type:2,data:Li([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:Io(hi)}],vi.map(function(Qt){return{type:2,data:Io(Qt)}}),[{type:2,data:Li([[],[{type:0,data:Mi(fi)}],[{type:0,data:Mi(0)}]])}]],"/Index/Tables/DataList",i);Ar(e,i,Ot,function(Qt){Ro(Qt,hi),vi.forEach(function($t){return Ro(Qt,$t)})}),Ne[3].push({type:2,data:Li([[],[{type:0,data:Mi(fi)}],[{type:0,data:Mi(1)}],[],[],[],[],[],[],[],[{type:2,data:Io(Ot)}]])}),Ro(ee,Ot),Ar(e,i,2,function(Qt){var $t=mi(Qt.messages[0].data);ml($t,i,ze,Ot),ml($t,i,Ot,hi),vi.length&&ml($t,i,Ot,vi),Qt.messages[0].data=Li($t)})}}),Ne[2][0].data=Mi(U.cmnt.length+1),ee.messages[0].data=Li(Ne)})}j[4][0].data=Li(W),n.messages[0].data=Li(j)}(e,i,t,E,D,w)})}(t,n,e.Sheets[o],o,0,s[l])}),t}(e,i);case"xlsb":return function HZt(e,i){e&&!e.SSF&&(e.SSF=br(Ni)),e&&e.SSF&&(I0(),F1(e.SSF),i.revssf=DA(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,aw?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var t="bin",r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};H4(i=i||{});var s=VN(),o="",l=0;if(i.cellXfs=[],Cf(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),yn(s,o="docProps/core.xml",Ket(e.Props,i)),r.coreprops.push(o),vr(i.rels,2,o,wn.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var w=[],E=0;E<e.SheetNames.length;++E)2!=(e.Workbook.Sheets[E]||{}).Hidden&&w.push(e.SheetNames[E]);e.Props.SheetNames=w}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,yn(s,o,qet(e.Props)),r.extprops.push(o),vr(i.rels,3,o,wn.EXT_PROPS),e.Custprops!==e.Props&&rs(e.Custprops||{}).length>0&&(yn(s,o="docProps/custom.xml",tit(e.Custprops)),r.custprops.push(o),vr(i.rels,4,o,wn.CUST_PROPS));var D=["SheetJ5"];for(i.tcid=0,l=1;l<=e.SheetNames.length;++l){var k={"!id":{}},O=e.Sheets[e.SheetNames[l-1]];if(yn(s,o="xl/worksheets/sheet"+l+"."+t,PQt(l-1,i,e,k)),r.sheets.push(o),vr(i.wbrels,-1,"worksheets/sheet"+l+"."+t,wn.WS[0]),O){var U=O["!comments"],j=!1,W="";if(U&&U.length>0){var Z=!1;U.forEach(function(st){st[1].forEach(function(yt){1==yt.T&&(Z=!0)})}),Z&&(yn(s,W="xl/threadedComments/threadedComment"+l+".xml",$it(U,D,i)),r.threadedcomments.push(W),vr(k,-1,"../threadedComments/threadedComment"+l+".xml",wn.TCMNT)),yn(s,W="xl/comments"+l+"."+t,Jjt(U)),r.comments.push(W),vr(k,-1,"../comments"+l+"."+t,wn.CMNT),j=!0}O["!legacy"]&&j&&yn(s,"xl/drawings/vmlDrawing"+l+".vml",Xit(l,O["!comments"])),delete O["!comments"],delete O["!legacy"]}k["!id"].rId1&&yn(s,Y1(o),L0(k))}return null!=i.Strings&&i.Strings.length>0&&(yn(s,o="xl/sharedStrings."+t,function uWt(e){var i=Co();Re(i,159,function lWt(e,i){return i||(i=le(8)),i.write_shift(4,e.Count),i.write_shift(4,e.Unique),i}(e));for(var t=0;t<e.length;++t)Re(i,19,cWt(e[t]));return Re(i,160),i.end()}(i.Strings)),r.strs.push(o),vr(i.wbrels,-1,"sharedStrings."+t,wn.SST)),yn(s,o="xl/workbook."+t,lKt(e)),r.workbooks.push(o),vr(i.rels,1,o,wn.WB),yn(s,o="xl/theme/theme1.xml",C4(e.Themes,i)),r.themes.push(o),vr(i.wbrels,-1,"theme/theme1.xml",wn.THEME),yn(s,o="xl/styles."+t,pjt(e,i)),r.styles.push(o),vr(i.wbrels,-1,"styles."+t,wn.STY),e.vbaraw&&(yn(s,o="xl/vbaProject.bin",e.vbaraw),r.vba.push(o),vr(i.wbrels,-1,"vbaProject.bin",wn.VBA)),yn(s,o="xl/metadata."+t,function Fjt(){var e=Co();return Re(e,332),Re(e,334,Gc(1)),Re(e,335,function Ajt(e){var i=le(12+2*e.name.length);return i.write_shift(4,e.flags),i.write_shift(4,e.version),Ea(e.name,i),i.slice(0,i.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Re(e,336),Re(e,339,function Ijt(e,i){var t=le(8+2*i.length);return t.write_shift(4,e),Ea(i,t),t.slice(0,t.l)}(1,"XLDAPR")),Re(e,52),Re(e,35,Gc(514)),Re(e,4096,Gc(0)),Re(e,4097,yc(1)),Re(e,36),Re(e,53),Re(e,340),Re(e,337,function Pjt(e,i){var t=le(8);return t.write_shift(4,e),t.write_shift(4,i?1:0),t}(1,!0)),Re(e,51,function Mjt(e){var i=le(4+8*e.length);i.write_shift(4,e.length);for(var t=0;t<e.length;++t)i.write_shift(4,e[t][0]),i.write_shift(4,e[t][1]);return i}([[1,0]])),Re(e,338),Re(e,333),e.end()}()),r.metadata.push(o),vr(i.wbrels,-1,"metadata."+t,wn.XLMETA),D.length>1&&(yn(s,o="xl/persons/person.xml",Qit(D)),r.people.push(o),vr(i.wbrels,-1,"persons/person.xml",wn.PEOPLE)),yn(s,"[Content_Types].xml",Xet(r,i)),yn(s,"_rels/.rels",L0(i.rels)),yn(s,"xl/_rels/workbook.bin.rels",L0(i.wbrels)),delete i.revssf,delete i.ssf,s}(e,i);default:return Znt(e,i)}}function zu(e,i,t){t||(t="");var n=t+e;switch(i.type){case"base64":return TA(Lu(n));case"binary":return Lu(n);case"string":return e;case"file":return O1(i.file,n,"utf8");case"buffer":return Rn?Pu(n,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(n):zu(n,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}function nD(e,i){switch(i.type){case"string":case"base64":case"binary":for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return"base64"==i.type?TA(t):"string"==i.type?wr(t):t;case"file":return O1(i.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+i.type)}}function pw(e,i){(function bA(){dc(1200),function WUt(){xA(1252)}()})(),function wnt(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");!function HQt(e,i,t){e.forEach(function(n,r){bnt(n);for(var s=0;s<r;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var o=i&&i[r]&&i[r].CodeName||n;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}(e.SheetNames,e.Workbook&&e.Workbook.Sheets||[],!!e.vbaraw);for(var t=0;t<e.SheetNames.length;++t)jYt(e.Sheets[e.SheetNames[t]],0,t);e.SheetNames.forEach(function(n,r){var s=e.Sheets[n];if(s&&s["!autofilter"]){var o;e.Workbook||(e.Workbook={}),e.Workbook.Names||(e.Workbook.Names=[]),e.Workbook.Names.forEach(function(w){"_xlnm._FilterDatabase"==w.Name&&w.Sheet==r&&(o=w)});var l=W1(n)+"!"+H1(s["!autofilter"].ref);o?o.Ref=l:e.Workbook.Names.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:l})}})}(e);var t=br(i||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),"array"==t.type){t.type="binary";var n=pw(e,t);return t.type="array",R1(n)}var r=0;if(t.sheet&&(r="number"==typeof t.sheet?t.sheet:e.SheetNames.indexOf(t.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return zu(VKt(e,t),t);case"slk":case"sylk":return zu(Fit.from_sheet(e.Sheets[e.SheetNames[r]],t,e),t);case"htm":case"html":return zu(Pnt(e.Sheets[e.SheetNames[r]],t),t);case"txt":return function qZt(e,i){switch(i.type){case"base64":return function YUt(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0,w=0,E=0;E<e.length;)(t=e.charCodeAt(E++))>255&&(t=95),s=t>>2,(n=e.charCodeAt(E++))>255&&(n=95),o=(3&t)<<4|n>>4,(r=e.charCodeAt(E++))>255&&(r=95),l=(15&n)<<2|r>>6,w=63&r,isNaN(n)?l=w=64:isNaN(r)&&(w=64),i+=bo.charAt(s)+bo.charAt(o)+bo.charAt(l)+bo.charAt(w);return i}(e);case"binary":case"string":return e;case"file":return O1(i.file,e,"binary");case"buffer":return Rn?Pu(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}(art(e.Sheets[e.SheetNames[r]],t),t);case"csv":return zu(Q4(e.Sheets[e.SheetNames[r]],t),t,"\ufeff");case"dif":return zu(Oit.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"dbf":return nD(v4.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"prn":return zu(B0.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"rtf":return zu(function IWt(e){var t=["{\\rtf1\\ansi"];if(!e["!ref"])return t[0]+"}";for(var r,n=$n(e["!ref"]),s=null!=e["!data"],o=[],l=n.s.r;l<=n.e.r;++l){t.push("\\trowd\\trautofit1");for(var w=n.s.c;w<=n.e.c;++w)t.push("\\cellx"+(w+1));for(t.push("\\pard\\intbl"),s&&(o=e["!data"][l]||[]),w=n.s.c;w<=n.e.c;++w){var E=Pn({r:l,c:w});(r=s?o[w]:e[E])&&(null!=r.v||r.f&&!r.F)?(t.push(" "+(r.w||(Nu(r),r.w)||"").replace(/[\r\n]/g,"\\par ")),t.push("\\cell")):t.push(" \\cell")}t.push("\\pard\\intbl\\row")}return t.join("")+"}"}(e.Sheets[e.SheetNames[r]]),t);case"eth":return zu(Lit.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"fods":return zu(Gnt(e,t),t);case"wk1":return nD(Dm.sheet_to_wk1(e.Sheets[e.SheetNames[r]],t),t);case"wk3":return nD(Dm.book_to_wk3(e,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),nD(_nt(e,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),function JZt(e,i){var t=i||{};return trt(function XKt(e,i){var t=i||{},n=Vi.utils.cfb_new({root:"R"}),r="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":r="/Workbook",t.biff=8;break;case"biff5":r="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Vi.utils.cfb_add(n,r,_nt(e,t)),8==t.biff&&(e.Props||e.Custprops)&&function jKt(e,i){var o,t=[],n=[],r=[],s=0,l=eet(r4,"n"),w=eet(s4,"n");if(e.Props)for(o=rs(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?t:Object.prototype.hasOwnProperty.call(w,o[s])?n:r).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=rs(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?t:Object.prototype.hasOwnProperty.call(w,o[s])?n:r).push([o[s],e.Custprops[o[s]]]);var E=[];for(s=0;s<r.length;++s)lit.indexOf(r[s][0])>-1||Zet.indexOf(r[s][0])>-1||null!=r[s][1]&&E.push(r[s]);n.length&&Vi.utils.cfb_add(i,"/\x05SummaryInformation",hit(n,lw.SI,w,s4)),(t.length||E.length)&&Vi.utils.cfb_add(i,"/\x05DocumentSummaryInformation",hit(t,lw.DSI,l,r4,E.length?E:null,lw.UDI))}(e,n),8==t.biff&&e.vbaraw&&function eXt(e,i){i.FullPaths.forEach(function(t,n){if(0!=n){var r=t.replace(/^[\/]*[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==r.slice(-1)&&Vi.utils.cfb_add(e,r,i.FileIndex[n].content)}})}(n,Vi.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}(e,t),t)}(e,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function KZt(e,i){var t=br(i||{});return function ert(e,i){var t={},n=Rn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(i.compression&&(t.compression="DEFLATE"),i.password)t.type=n;else switch(i.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+i.type)}var r=e.FullPaths?Vi.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!i.compression}):e.generate(t);if(typeof Deno<"u"&&"string"==typeof r){if("binary"==i.type||"base64"==i.type)return r;r=new Uint8Array(R1(r))}return i.password&&typeof encrypt_agile<"u"?trt(encrypt_agile(r,i.password),i):"file"===i.type?O1(i.file,r):"string"==i.type?wr(r):r}(QZt(e,t),t)}(e,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function nrt(e,i,t,n,r,s,o){var l=Un(t),w=o.defval,E=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),D=!0,k=null!=e["!data"],O=1===r?[]:{};if(1!==r)if(Object.defineProperty)try{Object.defineProperty(O,"__rowNum__",{value:t,enumerable:!1})}catch{O.__rowNum__=t}else O.__rowNum__=t;if(!k||e["!data"][t])for(var L=i.s.c;L<=i.e.c;++L){var U=k?(e["!data"][t]||[])[L]:e[n[L]+l];if(null!=U&&void 0!==U.t){var j=U.v;switch(U.t){case"z":if(null==j)break;continue;case"e":j=0==j?null:void 0;break;case"s":case"b":case"n":if(!U.z||!Ul(U.z)||"number"==typeof(j=Yh(j)))break;case"d":o&&(o.UTC||!1===o.raw)||(j=pm(new Date(j)));break;default:throw new Error("unrecognized type "+U.t)}if(null!=s[L]){if(null==j)if("e"==U.t&&null===j)O[s[L]]=null;else if(void 0!==w)O[s[L]]=w;else{if(!E||null!==j)continue;O[s[L]]=null}else O[s[L]]=("n"===U.t&&"boolean"==typeof o.rawNumbers?o.rawNumbers:E)?j:Nu(U,j,o);null!=j&&(D=!1)}}else{if(void 0===w)continue;null!=s[L]&&(O[s[L]]=w)}}return{row:O,isempty:D}}function $4(e,i){if(null==e||null==e["!ref"])return[];var t={t:"n",v:0},n=0,r=1,s=[],o=0,l="",w={s:{r:0,c:0},e:{r:0,c:0}},E=i||{},D=null!=E.range?E.range:e["!ref"];switch(1===E.header?n=1:"A"===E.header?n=2:Array.isArray(E.header)?n=3:null==E.header&&(n=0),typeof D){case"string":w=$n(D);break;case"number":(w=$n(e["!ref"])).s.r=D;break;default:w=D}n>0&&(r=0);var k=Un(w.s.r),O=[],L=[],U=0,j=0,W=null!=e["!data"],Z=w.s.r,rt=0,st={};W&&!e["!data"][Z]&&(e["!data"][Z]=[]);var yt=E.skipHidden&&e["!cols"]||[],Tt=E.skipHidden&&e["!rows"]||[];for(rt=w.s.c;rt<=w.e.c;++rt)if(!(yt[rt]||{}).hidden)switch(O[rt]=xn(rt),t=W?e["!data"][Z][rt]:e[O[rt]+k],n){case 1:s[rt]=rt-w.s.c;break;case 2:s[rt]=O[rt];break;case 3:s[rt]=E.header[rt-w.s.c];break;default:if(null==t&&(t={w:"__EMPTY",t:"s"}),l=o=Nu(t,null,E),j=st[o]||0){do{l=o+"_"+j++}while(st[l]);st[o]=j,st[l]=1}else st[o]=1;s[rt]=l}for(Z=w.s.r+r;Z<=w.e.r;++Z)if(!(Tt[Z]||{}).hidden){var It=nrt(e,w,Z,O,n,s,E);(!1===It.isempty||(1===n?!1!==E.blankrows:E.blankrows))&&(L[U++]=It.row)}return L.length=U,L}var rrt=/"/g;function srt(e,i,t,n,r,s,o,l){for(var w=!0,E=[],D="",k=Un(t),O=null!=e["!data"],L=O&&e["!data"][t]||[],U=i.s.c;U<=i.e.c;++U)if(n[U]){var j=O?L[U]:e[n[U]+k];if(null==j)D="";else if(null!=j.v){w=!1,D=""+(l.rawNumbers&&"n"==j.t?j.v:Nu(j,null,l));for(var W=0,Z=0;W!==D.length;++W)if((Z=D.charCodeAt(W))===r||Z===s||34===Z||l.forceQuotes){D='"'+D.replace(rrt,'""')+'"';break}"ID"==D&&(D='"ID"')}else null==j.f||j.F?D="":(w=!1,(D="="+j.f).indexOf(",")>=0&&(D='"'+D.replace(rrt,'""')+'"'));E.push(D)}if(l.strip)for(;""===E[E.length-1];)--E.length;return!1===l.blankrows&&w?null:E.join(o)}function Q4(e,i){var t=[],n=i??{};if(null==e||null==e["!ref"])return"";for(var r=$n(e["!ref"]),s=void 0!==n.FS?n.FS:",",o=s.charCodeAt(0),l=void 0!==n.RS?n.RS:"\n",w=l.charCodeAt(0),E="",D=[],k=n.skipHidden&&e["!cols"]||[],O=n.skipHidden&&e["!rows"]||[],L=r.s.c;L<=r.e.c;++L)(k[L]||{}).hidden||(D[L]=xn(L));for(var U=0,j=r.s.r;j<=r.e.r;++j)(O[j]||{}).hidden||null!=(E=srt(e,r,j,D,o,w,s,n))&&(E||!1!==n.blankrows)&&t.push((U++?l:"")+E);return t.join("")}function art(e,i){i||(i={}),i.FS="\t",i.RS="\n";var t=Q4(e,i);return typeof En>"u"||"string"==i.type?t:"\xff\xfe"+En.utils.encode(1200,t,"str")}function ort(e,i,t){var n=t||{},r=e?null!=e["!data"]:n.dense;null!=Vs&&null==r&&(r=Vs);var s=+!n.skipHeader,o=e||{};!e&&r&&(o["!data"]=[]);var l=0,w=0;if(o&&null!=n.origin)if("number"==typeof n.origin)l=n.origin;else{var E="string"==typeof n.origin?Tr(n.origin):n.origin;l=E.r,w=E.c}var D={s:{c:0,r:0},e:{c:w,r:l+i.length-1+s}};if(o["!ref"]){var k=$n(o["!ref"]);D.e.c=Math.max(D.e.c,k.e.c),D.e.r=Math.max(D.e.r,k.e.r),-1==l&&(D.e.r=(l=k.e.r+1)+i.length-1+s)}else-1==l&&(l=0,D.e.r=i.length-1+s);var O=n.header||[],L=0,U=[];i.forEach(function(W,Z){r&&!o["!data"][l+Z+s]&&(o["!data"][l+Z+s]=[]),r&&(U=o["!data"][l+Z+s]),rs(W).forEach(function(rt){-1==(L=O.indexOf(rt))&&(O[L=O.length]=rt);var st=W[rt],yt="z",Tt="",It=r?"":xn(w+L)+Un(l+Z+s),ft=r?U[w+L]:o[It];!st||"object"!=typeof st||st instanceof Date?("number"==typeof st?yt="n":"boolean"==typeof st?yt="b":"string"==typeof st?yt="s":st instanceof Date?(yt="d",n.UTC||(st=MA(st)),n.cellDates||(yt="n",st=ws(st)),Tt=null!=ft&&ft.z&&Ul(ft.z)?ft.z:n.dateNF||Ni[14]):null===st&&n.nullError&&(yt="e",st=0),ft?(ft.t=yt,ft.v=st,delete ft.w,delete ft.R,Tt&&(ft.z=Tt)):r?U[w+L]=ft={t:yt,v:st}:o[It]=ft={t:yt,v:st},Tt&&(ft.z=Tt)):r?U[w+L]=st:o[It]=st})}),D.e.c=Math.max(D.e.c,w+O.length-1);var j=Un(l);if(r&&!o["!data"][l]&&(o["!data"][l]=[]),s)for(L=0;L<O.length;++L)r?o["!data"][l][L+w]={t:"s",v:O[L]}:o[xn(L+w)+j]={t:"s",v:O[L]};return o["!ref"]=bn(D),o}function gw(e,i,t,n){var r=1;if(!t)for(;r<=65535&&-1!=e.SheetNames.indexOf(t="Sheet"+r);++r,t=void 0);if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(t)>=0&&t.length<32){var s=t.match(/\d+$/);r=s&&+s[0]||0;var o=s&&t.slice(0,s.index)||t;for(++r;r<=65535&&-1!=e.SheetNames.indexOf(t=o+r);++r);}if(bnt(t),e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return e.SheetNames.push(t),e.Sheets[t]=i,t}var crt_json_to_sheet=function nJt(e,i){return ort(null,e,i)};let vJt=(()=>{class e{constructor(){}exportAsExcelFile(t,n){const o=pw({Sheets:{data:crt_json_to_sheet(t)},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(o,n)}saveAsExcelFile(t,n){const r=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Tu.saveAs(r,n+"_export_"+(new Date).getTime()+".xlsx")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const yJt=["*",[["mat-toolbar-row"]]],xJt=["*","mat-toolbar-row"];let bJt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=me({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return e})(),wJt=(()=>{class e{constructor(t,n,r){this._elementRef=t,this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(cr),pt(Gi))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-toolbar"]],contentQueries:function(n,r,s){if(1&n&&Hn(s,bJt,5),2&n){let o;He(o=We())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,r){2&n&&(oo(r.color?"mat-"+r.color:""),Ci("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Wi],ngContentSelectors:xJt,decls:2,vars:0,template:function(n,r){1&n&&(nr(yJt),Si(0),Si(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return e})(),TJt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,rn]})}}return e})();const urt=["*"],CJt=["content"],SJt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],EJt=["mat-drawer","mat-drawer-content","*"];function _Jt(e,i){if(1&e){const t=xe();J(0,"div",1),Ut("click",function(){return zt(t),Gt(St()._onBackdropClicked())}),et()}2&e&&Ci("mat-drawer-shown",St()._isShowingBackdrop())}function AJt(e,i){1&e&&(J(0,"mat-drawer-content"),Si(1,2),et())}const DJt={transformDrawer:xr("transform",[Bn("open, open-instant",oi({transform:"none",visibility:"visible"})),Bn("void",oi({"box-shadow":"none",visibility:"hidden"})),gn("void => open-instant",mn("0ms")),gn("void <=> open, open-instant => void",mn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},MJt=new te("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function IJt(){return!1}}),hrt=new te("MAT_DRAWER_CONTAINER");let Z4=(()=>{class e extends Jx{constructor(t,n,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(n){return new(n||e)(pt(In),pt(kn(()=>frt)),pt(ai),pt(Zx),pt(li))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,r){2&n&&$s("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[xi([{provide:Jx,useExisting:e}]),yi,Wi],ngContentSelectors:urt,decls:1,vars:0,template:function(n,r){1&n&&(nr(),Si(0))},encapsulation:2,changeDetection:0})}}return e})(),drt=(()=>{class e{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=pa(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=pa(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(pa(t))}constructor(t,n,r,s,o,l,w,E){this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=l,this._doc=w,this._container=E,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Fe,this._animationEnd=new Fe,this._animationState="void",this.openedChange=new Oe(!0),this._openedStream=this.openedChange.pipe(Ln(D=>D),Ri(()=>{})),this.openedStart=this._animationStarted.pipe(Ln(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),ZC(void 0)),this._closedStream=this.openedChange.pipe(Ln(D=>!D),Ri(()=>{})),this.closedStart=this._animationStarted.pipe(Ln(D=>D.fromState!==D.toState&&"void"===D.toState),ZC(void 0)),this._destroyed=new Fe,this.onPositionChanged=new Oe,this._modeChanged=new Fe,this._injector=Jt(On),this._changeDetectorRef=Jt(In),this.openedChange.pipe(Yi(this._destroyed)).subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Bc(this._elementRef.nativeElement,"keydown").pipe(Ln(D=>27===D.keyCode&&!this.disableClose&&!co(D)),Yi(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.subscribe(D=>{const{fromState:k,toState:O}=D;(0===O.indexOf("open")&&"void"===k||"void"===O&&0===k.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":ao(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof t.focus&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,n,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(xs(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;const n=this._elementRef.nativeElement,r=n.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}static{this.\u0275fac=function(n){return new(n||e)(pt(ai),pt(IP),pt(sc),pt(cr),pt(li),pt(PS),pt(Gi,8),pt(hrt,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(1&n&&ki(CJt,5),2&n){let s;He(s=We())&&(r._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){1&n&&fC("@transform.start",function(o){return r._animationStarted.next(o)})("@transform.done",function(o){return r._animationEnd.next(o)}),2&n&&(lC("@transform",r._animationState),_i("align",null),Ci("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[Wi],ngContentSelectors:urt,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){1&n&&(nr(),J(0,"div",1,0),Si(2),et())},dependencies:[Jx],encapsulation:2,data:{animation:[DJt.transformDrawer]},changeDetection:0})}}return e})(),frt=(()=>{class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=pa(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:pa(t)}get scrollable(){return this._userContent||this._content}constructor(t,n,r,s,o,l=!1,w){this._dir=t,this._element=n,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=w,this._drawers=new Ju,this.backdropClick=new Oe,this._destroyed=new Fe,this._doCheckSubject=new Fe,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Fe,this._injector=Jt(On),t&&t.change.pipe(Yi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Yi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(Ma(this._allDrawers),Yi(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ma(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(vu(10),Yi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();n+=r,t-=r}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Ln(n=>n.fromState!==n.toState),Yi(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Yi(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Yi(this._drawers.changes)).subscribe(()=>{ao(()=>{this._validateDrawers()},{injector:this._injector,phase:Jf.Read})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Yi(qr(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static{this.\u0275fac=function(n){return new(n||e)(pt(Ya,8),pt(ai),pt(li),pt(In),pt(mh),pt(MJt),pt(Hr,8))}}static{this.\u0275cmp=Ge({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,s){if(1&n&&(Hn(s,Z4,5),Hn(s,drt,5)),2&n){let o;He(o=We())&&(r._content=o.first),He(o=We())&&(r._allDrawers=o)}},viewQuery:function(n,r){if(1&n&&ki(Z4,5),2&n){let s;He(s=We())&&(r._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){2&n&&Ci("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[xi([{provide:hrt,useExisting:e}]),Wi],ngContentSelectors:EJt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){1&n&&(nr(SJt),Ht(0,_Jt,1,2,"div",0),Si(1),Si(2,1),Ht(3,AJt,2,0,"mat-drawer-content")),2&n&&(Tn(r.hasBackdrop?0:-1),ot(3),Tn(r._content?-1:3))},dependencies:[Z4],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return e})(),RJt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,gh,gh,rn]})}}return e})();function PJt(e,i){if(1&e){const t=xe();J(0,"button",19),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().navigate(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Ke(t.name)}}function kJt(e,i){if(1&e){const t=xe();J(0,"button",19),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().setFhirServer(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Ke(t.name)}}function FJt(e,i){if(1&e){const t=xe();J(0,"button",19),Ut("click",function(){const r=zt(t).$implicit;return Gt(St(2).setEdition(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Ke(t.resource.version)}}function OJt(e,i){if(1&e&&(Qi(0),J(1,"button",20),ut(2),et(),J(3,"mat-menu",null,5)(5,"span",16),ut(6,"Versions / Releases"),et(),Ht(7,FJt,2,1,"button",15),et(),Ki()),2&e){const t=i.$implicit,n=Zi(4);ot(),vt("matMenuTriggerFor",n),ot(),Ke(t.editionName),ot(5),vt("ngForOf",t.editions)}}function LJt(e,i){if(1&e){const t=xe();J(0,"button",19),Ut("click",function(){const r=zt(t).$implicit;return Gt(St().setLanguage(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Ke(t)}}function NJt(e,i){if(1&e){const t=xe();J(0,"button",19),Ut("click",function(){const r=zt(t).$implicit;return Gt(St(2).navigate(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Ke(t.name)}}function BJt(e,i){if(1&e){const t=xe();J(0,"button",19),Ut("click",function(){const r=zt(t).$implicit;return Gt(St(2).setFhirServer(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Ke(t.name)}}function VJt(e,i){if(1&e){const t=xe();J(0,"button",19),Ut("click",function(){const r=zt(t).$implicit;return Gt(St(3).setEdition(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Ke(t.resource.version)}}function UJt(e,i){if(1&e&&(Qi(0),J(1,"button",20),ut(2),et(),J(3,"mat-menu",null,5)(5,"span",16),ut(6,"Versions / Releases"),et(),Ht(7,VJt,2,1,"button",15),et(),Ki()),2&e){const t=i.$implicit,n=Zi(4);ot(),vt("matMenuTriggerFor",n),ot(),Ke(t.editionName),ot(5),vt("ngForOf",t.editions)}}function zJt(e,i){if(1&e){const t=xe();J(0,"button",19),Ut("click",function(){const r=zt(t).$implicit;return Gt(St(2).setLanguage(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Ke(t)}}function GJt(e,i){if(1&e){const t=xe();J(0,"mat-toolbar")(1,"button",21),Ut("click",function(){return zt(t),St(),Gt(Zi(2).toggle())}),J(2,"mat-icon"),ut(3,"menu"),et()(),J(4,"a",22),Ut("click",function(){return zt(t),Gt(St().navigate({url:"home",type:"internal"}))}),ye(5,"img",23),et(),J(6,"span",24),ut(7,"SNOMED CT Implementation Demos"),et(),J(8,"span",25),ut(9,"Implementation Demos"),et(),ye(10,"span",26),J(11,"button",27),ut(12,"Select Demonstrator"),et(),J(13,"mat-menu",14,6),Ht(15,NJt,2,1,"button",15),et(),J(16,"button",28),ut(17),et(),J(18,"mat-menu",null,7),Ht(20,BJt,2,1,"button",15),et(),J(21,"button",28),ut(22),et(),J(23,"mat-menu",14,8)(25,"span",16),ut(26,"Editions"),et(),Ht(27,UJt,8,3,"ng-container",17),et(),J(28,"button",28),ut(29),et(),J(30,"mat-menu",null,9),Ht(32,zJt,2,1,"button",15),et(),J(33,"a",29)(34,"mat-icon"),ut(35,"info"),et()()()}if(2&e){const t=Zi(14),n=Zi(19),r=Zi(24),s=Zi(31),o=St();ot(11),vt("matMenuTriggerFor",t),ot(4),vt("ngForOf",o.demos),ot(),vt("matMenuTriggerFor",n),ot(),Je("FHIR Server: ",o.selectedServer.name,""),ot(3),vt("ngForOf",o.fhirServers),ot(),vt("matMenuTriggerFor",r),ot(),Ke(o.selectedEdition),ot(5),vt("ngForOf",o.editionsDetails),ot(),vt("matMenuTriggerFor",s),ot(),Ke(o.selectedLanguage),ot(3),vt("ngForOf",o.languages)}}let HJt=(()=>{class e{constructor(t,n,r,s,o,l){this.codingSpecService=t,this.excelService=n,this.terminologyService=r,this.router=s,this.menuService=o,this.activatedRoute=l,this.title="sct-implementation-demonstrator",this.bindingsForExport=[],this.editions=[],this.editionsDetails=[],this.languages=["da","de","en","es","et","fi","fr","nl","no","sv"],this.selectedEdition="Edition",this.selectedLanguage="en",this.fhirServers=[{name:"SNOMED Dev IS",url:"https://dev-is-browser.ihtsdotools.org/fhir"},{name:"SNOMED Public",url:"https://snowstorm.ihtsdotools.org/fhir"},{name:"SNOMED Dev 2",url:"https://snowstorm-temp.kaicode.io/fhir"},{name:"SNOMED Lite Demo",url:"https://snowstorm-lite.nw.r.appspot.com/fhir"}],this.selectedServer=this.fhirServers[1],this.embeddedMode=!1,this.demos=[],this.router.events.subscribe(w=>{w instanceof pu&&gtag("config","G-7SK998GPMX",{page_path:w.urlAfterRedirects})})}ngOnInit(){this.demos=this.menuService.getDemos(),this.setFhirServer(this.selectedServer),this.bindingsForExport=[];let t=this.codingSpecService.getCodingSpec();for(const n of t)for(const r of n.bindings)this.bindingsForExport.push({section:n.title,title:r.title,ecl:r.ecl.replace(/\s\s+/g," ")});this.activatedRoute.queryParams.subscribe(n=>{this.embeddedMode="true"===n.embedded,n.edition?this.updateCodeSystemOptions(n.edition):this.updateCodeSystemOptions()}),this.terminologyService.lang$.subscribe(n=>{this.selectedLanguage=n}),this.terminologyService.fhirUrlParam$.subscribe(n=>{this.editions?.length>0&&this.editions.forEach(r=>{r.resource.version===n&&(this.selectedEdition=r.resource.title?.replace("SNOMED CT release ",""))})})}navigate(t){"internal"===t.type?this.router.navigate([t.url],{queryParams:t.queryParams}):this.openInNewTab(t.url)}openInNewTab(t){window.open(t,"_blank")}updateCodeSystemOptions(t){this.terminologyService.getCodeSystems().subscribe(n=>{this.editionsDetails=[],this.editions=n.entry;let r=new Set;this.editions.forEach(o=>{r.add(o.resource.title)}),r.forEach(o=>{this.editionsDetails.push({editionName:o,editions:this.editions.filter(l=>l.resource.title.includes(o)).sort(this.compare)})});let s=this.editionsDetails.findIndex(o=>"International Edition"===o.editionName);t?this.editions.forEach(o=>{o.resource.version===t&&this.setEdition(o)}):this.setEdition(s>=0?this.editionsDetails[s].editions[0]:this.editions[0])})}compare(t,n){return t.resource.date<n.resource.date?1:t.resource.date>n.resource.date?-1:0}setFhirServer(t){this.selectedServer=t,this.terminologyService.setSnowstormFhirBase(t.url),this.selectedEdition="Edition",this.editions=[],this.editionsDetails=[],this.updateCodeSystemOptions()}setEdition(t){this.selectedEdition=t.resource.title?.replace("SNOMED CT release ",""),this.terminologyService.setFhirUrlParam(t.resource.version)}setLanguage(t){this.selectedLanguage=t,this.terminologyService.setLang(t)}static{this.\u0275fac=function(n){return new(n||e)(pt(GUt),pt(vJt),pt(ma),pt(Ho),pt(Dtt),pt(nc))}}static{this.\u0275cmp=Ge({type:e,selectors:[["app-root"]],decls:28,vars:12,consts:[["drawer",""],["demosMenuN","matMenu"],["serverMenuN","matMenu"],["editionsMenuN","matMenu"],["menuN","matMenu"],["sub_menu","matMenu"],["demosMenu","matMenu"],["serverMenu","matMenu"],["editionsMenu","matMenu"],["menu","matMenu"],["autosize","",1,"example-container"],["mode","over",1,"example-sidenav"],[1,"flex","flex-col","justify-center"],["mat-button","",3,"matMenuTriggerFor"],[1,"wide-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"ml-4"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-icon-button","","id","menu-button",3,"click"],["href","javascript:void(0)",3,"click"],["src","assets/img/small_logo.png","id","logo"],["id","title"],["id","short-title"],[1,"example-spacer"],["mat-flat-button","","color","accent",1,"bar-button",3,"matMenuTriggerFor"],["mat-flat-button","","color","primary",1,"bar-button",3,"matMenuTriggerFor"],["mat-flat-button","","href","https://github.com/IHTSDO/sct-implementation-demonstrator","target","_blank","color","primary","id","info-button"]],template:function(n,r){if(1&n&&(J(0,"mat-drawer-container",10)(1,"mat-drawer",11,0)(3,"div",12)(4,"button",13),ut(5,"Select Demonstrator"),et(),J(6,"mat-menu",14,1),Ht(8,PJt,2,1,"button",15),et(),J(9,"button",13),ut(10),et(),J(11,"mat-menu",null,2),Ht(13,kJt,2,1,"button",15),et(),J(14,"button",13),ut(15),et(),J(16,"mat-menu",14,3)(18,"span",16),ut(19,"Editions"),et(),Ht(20,OJt,8,3,"ng-container",17),et(),J(21,"button",13),ut(22),et(),J(23,"mat-menu",null,4),Ht(25,LJt,2,1,"button",15),et()()(),Ht(26,GJt,36,11,"mat-toolbar",18),ye(27,"router-outlet"),et()),2&n){const s=Zi(7),o=Zi(12),l=Zi(17),w=Zi(24);ot(4),vt("matMenuTriggerFor",s),ot(4),vt("ngForOf",r.demos),ot(),vt("matMenuTriggerFor",o),ot(),Je("FHIR Server: ",r.selectedServer.name,""),ot(3),vt("ngForOf",r.fhirServers),ot(),vt("matMenuTriggerFor",l),ot(),Je("Edition: ",r.selectedEdition,""),ot(5),vt("ngForOf",r.editionsDetails),ot(),vt("matMenuTriggerFor",w),ot(),Je("Language: ",r.selectedLanguage,""),ot(3),vt("ngForOf",r.languages),ot(),vt("ngIf",!r.embeddedMode)}},dependencies:[ys,ls,JR,wJt,KTt,Cs,jo,ga,Rl,oc,vh,drt,frt],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#434a55;color:#fff;font-size:1.8rem;font-weight:700}button[_ngcontent-%COMP%]{font-weight:700;font-size:medium}.bar-button[_ngcontent-%COMP%]{margin-left:15px}#title[_ngcontent-%COMP%]{margin-left:15px;font-size:1.4rem}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a[_ngcontent-%COMP%]{margin-left:15px}  .mat-mdc-menu-panel{max-width:fit-content!important;overflow-x:hidden!important}.mat-mdc-unelevated-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%], .mat-mdc-raised-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{margin:0!important}#demo-selector[_ngcontent-%COMP%]{margin:5px 15px;padding:10px}#menu-button[_ngcontent-%COMP%], #short-title[_ngcontent-%COMP%]{display:none}#logo[_ngcontent-%COMP%]{height:4rem}@media (max-width: 768px){#title[_ngcontent-%COMP%]{display:none}#short-title[_ngcontent-%COMP%]{display:block;margin-left:15px;font-size:.9rem}#logo[_ngcontent-%COMP%]{height:3.5rem}#info-button[_ngcontent-%COMP%]{display:none}}@media (max-width: 1200px){.bar-button[_ngcontent-%COMP%]{display:none}#menu-button[_ngcontent-%COMP%]{display:block}}"]})}}return e})();function prt(e){return new pe(3e3,!1)}function Ef(e){switch(e.length){case 0:return new $x;case 1:return e[0];default:return new SW(e)}}function mrt(e,i,t=new Map,n=new Map){const r=[],s=[];let o=-1,l=null;if(i.forEach(w=>{const E=w.get("offset"),D=E==o,k=D&&l||new Map;w.forEach((O,L)=>{let U=L,j=O;if("offset"!==L)switch(U=e.normalizePropertyName(U,r),j){case"!":j=t.get(L);break;case dh:j=n.get(L);break;default:j=e.normalizeStyleValue(L,U,j,r)}k.set(U,j)}),D||s.push(k),l=k,o=E}),r.length)throw function dqt(){return new pe(3502,!1)}();return s}function J4(e,i,t,n){switch(i){case"start":e.onStart(()=>n(t&&q4(t,"start",e)));break;case"done":e.onDone(()=>n(t&&q4(t,"done",e)));break;case"destroy":e.onDestroy(()=>n(t&&q4(t,"destroy",e)))}}function q4(e,i,t){const s=t3(e.element,e.triggerName,e.fromState,e.toState,i||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),o=e._data;return null!=o&&(s._data=o),s}function t3(e,i,t,n,r="",s=0,o){return{element:e,triggerName:i,fromState:t,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function Hl(e,i,t){let n=e.get(i);return n||e.set(i,n=t),n}function grt(e){const i=e.indexOf(":");return[e.substring(1,i),e.slice(i+1)]}const Sqt=typeof document>"u"?null:document.documentElement;function e3(e){const i=e.parentNode||e.host||null;return i===Sqt?null:i}let Fm=null,vrt=!1;function yrt(e,i){for(;i;){if(i===e)return!0;i=e3(i)}return!1}function xrt(e,i,t){if(t)return Array.from(e.querySelectorAll(i));const n=e.querySelector(i);return n?[n]:[]}let n3=(()=>{class e{validateStyleProperty(t){return function _qt(e){Fm||(Fm=function Aqt(){return typeof document<"u"?document.body:null}()||{},vrt=!!Fm.style&&"WebkitAppearance"in Fm.style);let i=!0;return Fm.style&&!function Eqt(e){return"ebkit"==e.substring(1,6)}(e)&&(i=e in Fm.style,!i&&vrt&&(i="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Fm.style)),i}(t)}containsElement(t,n){return yrt(t,n)}getParentElement(t){return e3(t)}query(t,n,r){return xrt(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,s,o,l=[],w){return new $x(r,s)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})();class r3{static{this.NOOP=new n3}}class s3{}const Mqt=1e3,a3="ng-enter",sD="ng-leave",aD="ng-trigger",oD=".ng-trigger",wrt="ng-animating",o3=".ng-animating";function td(e){if("number"==typeof e)return e;const i=e.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:l3(parseFloat(i[1]),i[2])}function l3(e,i){return"s"===i?e*Mqt:e}function lD(e,i,t){return e.hasOwnProperty("duration")?e:function Rqt(e,i,t){let r,s=0,o="";if("string"==typeof e){const l=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return i.push(prt()),{duration:0,delay:0,easing:""};r=l3(parseFloat(l[1]),l[2]);const w=l[3];null!=w&&(s=l3(parseFloat(w),l[4]));const E=l[5];E&&(o=E)}else r=e;if(!t){let l=!1,w=i.length;r<0&&(i.push(function WJt(){return new pe(3100,!1)}()),l=!0),s<0&&(i.push(function jJt(){return new pe(3101,!1)}()),l=!0),l&&i.splice(w,0,prt())}return{duration:r,delay:s,easing:o}}(e,i,t)}function Gu(e,i,t){i.forEach((n,r)=>{const s=u3(r);t&&!t.has(r)&&t.set(r,e.style[s]),e.style[s]=n})}function Om(e,i){i.forEach((t,n)=>{const r=u3(n);e.style[r]=""})}function vw(e){return Array.isArray(e)?1==e.length?e[0]:function JTt(e,i=null){return{type:sn.Sequence,steps:e,options:i}}(e):e}const c3=new RegExp("{{\\s*(.+?)\\s*}}","g");function Crt(e){let i=[];if("string"==typeof e){let t;for(;t=c3.exec(e);)i.push(t[1]);c3.lastIndex=0}return i}function yw(e,i,t){const n=`${e}`,r=n.replace(c3,(s,o)=>{let l=i[o];return null==l&&(t.push(function YJt(){return new pe(3003,!1)}()),l=""),l.toString()});return r==n?e:r}const Fqt=/-+([a-z0-9])/g;function u3(e){return e.replace(Fqt,(...i)=>i[1].toUpperCase())}function Wl(e,i,t){switch(i.type){case sn.Trigger:return e.visitTrigger(i,t);case sn.State:return e.visitState(i,t);case sn.Transition:return e.visitTransition(i,t);case sn.Sequence:return e.visitSequence(i,t);case sn.Group:return e.visitGroup(i,t);case sn.Animate:return e.visitAnimate(i,t);case sn.Keyframes:return e.visitKeyframes(i,t);case sn.Style:return e.visitStyle(i,t);case sn.Reference:return e.visitReference(i,t);case sn.AnimateChild:return e.visitAnimateChild(i,t);case sn.AnimateRef:return e.visitAnimateRef(i,t);case sn.Query:return e.visitQuery(i,t);case sn.Stagger:return e.visitStagger(i,t);default:throw function $Jt(){return new pe(3004,!1)}()}}function h3(e,i){return window.getComputedStyle(e)[i]}const Nqt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Srt extends s3{normalizePropertyName(i,t){return u3(i)}normalizeStyleValue(i,t,n,r){let s="";const o=n.toString().trim();if(Nqt.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function QJt(){return new pe(3005,!1)}())}return o+s}}const cD="*";const uD=new Set(["true","1"]),hD=new Set(["false","0"]);function Ert(e,i){const t=uD.has(e)||hD.has(e),n=uD.has(i)||hD.has(i);return(r,s)=>{let o=e==cD||e==r,l=i==cD||i==s;return!o&&t&&"boolean"==typeof r&&(o=r?uD.has(e):hD.has(e)),!l&&n&&"boolean"==typeof s&&(l=s?uD.has(i):hD.has(i)),o&&l}}const zqt=new RegExp("s*:selfs*,?","g");function d3(e,i,t,n){return new Gqt(e).build(i,t,n)}class Gqt{constructor(i){this._driver=i}build(i,t,n){const r=new jqt(t);return this._resetContextStyleTimingState(r),Wl(this,vw(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,t){let n=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==i.name.charAt(0)&&t.errors.push(function KJt(){return new pe(3006,!1)}()),i.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==sn.State){const w=l,E=w.name;E.toString().split(/\s*,\s*/).forEach(D=>{w.name=D,s.push(this.visitState(w,t))}),w.name=E}else if(l.type==sn.Transition){const w=this.visitTransition(l,t);n+=w.queryCount,r+=w.depCount,o.push(w)}else t.errors.push(function ZJt(){return new pe(3007,!1)}())}),{type:sn.Trigger,name:i.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(i,t){const n=this.visitStyle(i.styles,t),r=i.options&&i.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};n.styles.forEach(l=>{l instanceof Map&&l.forEach(w=>{Crt(w).forEach(E=>{o.hasOwnProperty(E)||s.add(E)})})}),s.size&&t.errors.push(function JJt(){return new pe(3008,!1)}(0,s.values()))}return{type:sn.State,name:i.name,style:n,options:r?{params:r}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const n=Wl(this,vw(i.animation),t),r=function Bqt(e,i){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(n=>function Vqt(e,i,t){if(":"==e[0]){const w=function Uqt(e,i){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return i.push(function lqt(){return new pe(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof w)return void i.push(w);e=w}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function oqt(){return new pe(3015,!1)}()),i;const r=n[1],s=n[2],o=n[3];i.push(Ert(r,o)),"<"==s[0]&&(r!=cD||o!=cD)&&i.push(Ert(o,r))}(n,t,i)):t.push(e),t}(i.expr,t.errors);return{type:sn.Transition,matchers:r,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Lm(i.options)}}visitSequence(i,t){return{type:sn.Sequence,steps:i.steps.map(n=>Wl(this,n,t)),options:Lm(i.options)}}visitGroup(i,t){const n=t.currentTime;let r=0;const s=i.steps.map(o=>{t.currentTime=n;const l=Wl(this,o,t);return r=Math.max(r,t.currentTime),l});return t.currentTime=r,{type:sn.Group,steps:s,options:Lm(i.options)}}visitAnimate(i,t){const n=function Yqt(e,i){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return f3(lD(e,i).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=f3(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=lD(t,i);return f3(r.duration,r.delay,r.easing)}(i.timings,t.errors);t.currentAnimateTimings=n;let r,s=i.styles?i.styles:oi({});if(s.type==sn.Keyframes)r=this.visitKeyframes(s,t);else{let o=i.styles,l=!1;if(!o){l=!0;const E={};n.easing&&(E.easing=n.easing),o=oi(E)}t.currentTime+=n.duration+n.delay;const w=this.visitStyle(o,t);w.isEmptyStep=l,r=w}return t.currentAnimateTimings=null,{type:sn.Animate,timings:n,style:r,options:null}}visitStyle(i,t){const n=this._makeStyleAst(i,t);return this._validateStyleAst(n,t),n}_makeStyleAst(i,t){const n=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let l of r)"string"==typeof l?l===dh?n.push(l):t.errors.push(new pe(3002,!1)):n.push(new Map(Object.entries(l)));let s=!1,o=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(o=l.get("easing"),l.delete("easing")),!s))for(let w of l.values())if(w.toString().indexOf("{{")>=0){s=!0;break}}),{type:sn.Style,styles:n,easing:o,offset:i.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(i,t){const n=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),i.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,w)=>{const E=t.collectedStyles.get(t.currentQuerySelector),D=E.get(w);let k=!0;D&&(s!=r&&s>=D.startTime&&r<=D.endTime&&(t.errors.push(function tqt(){return new pe(3010,!1)}()),k=!1),s=D.startTime),k&&E.set(w,{startTime:s,endTime:r}),t.options&&function kqt(e,i,t){const n=i.params||{},r=Crt(e);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||t.push(function XJt(){return new pe(3001,!1)}())})}(l,t.options,t.errors)})})}visitKeyframes(i,t){const n={type:sn.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function eqt(){return new pe(3011,!1)}()),n;let s=0;const o=[];let l=!1,w=!1,E=0;const D=i.steps.map(Z=>{const rt=this._makeStyleAst(Z,t);let st=null!=rt.offset?rt.offset:function Xqt(e){if("string"==typeof e)return null;let i=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;i=parseFloat(t.get("offset")),t.delete("offset")}return i}(rt.styles),yt=0;return null!=st&&(s++,yt=rt.offset=st),w=w||yt<0||yt>1,l=l||yt<E,E=yt,o.push(yt),rt});w&&t.errors.push(function iqt(){return new pe(3012,!1)}()),l&&t.errors.push(function nqt(){return new pe(3200,!1)}());const k=i.steps.length;let O=0;s>0&&s<k?t.errors.push(function rqt(){return new pe(3202,!1)}()):0==s&&(O=1/(k-1));const L=k-1,U=t.currentTime,j=t.currentAnimateTimings,W=j.duration;return D.forEach((Z,rt)=>{const st=O>0?rt==L?1:O*rt:o[rt],yt=st*W;t.currentTime=U+j.delay+yt,j.duration=yt,this._validateStyleAst(Z,t),Z.offset=st,n.styles.push(Z)}),n}visitReference(i,t){return{type:sn.Reference,animation:Wl(this,vw(i.animation),t),options:Lm(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:sn.AnimateChild,options:Lm(i.options)}}visitAnimateRef(i,t){return{type:sn.AnimateRef,animation:this.visitReference(i.animation,t),options:Lm(i.options)}}visitQuery(i,t){const n=t.currentQuerySelector,r=i.options||{};t.queryCount++,t.currentQuery=i;const[s,o]=function Hqt(e){const i=!!e.split(/\s*,\s*/).find(t=>":self"==t);return i&&(e=e.replace(zqt,"")),e=e.replace(/@\*/g,oD).replace(/@\w+/g,t=>oD+"-"+t.slice(1)).replace(/:animating/g,o3),[e,i]}(i.selector);t.currentQuerySelector=n.length?n+" "+s:s,Hl(t.collectedStyles,t.currentQuerySelector,new Map);const l=Wl(this,vw(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:sn.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:l,originalSelector:i.selector,options:Lm(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function sqt(){return new pe(3013,!1)}());const n="full"===i.timings?{duration:0,delay:0,easing:"full"}:lD(i.timings,t.errors,!0);return{type:sn.Stagger,animation:Wl(this,vw(i.animation),t),timings:n,options:null}}}class jqt{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lm(e){return e?(e={...e}).params&&(e.params=function Wqt(e){return e?{...e}:null}(e.params)):e={},e}function f3(e,i,t){return{duration:e,delay:i,easing:t}}function p3(e,i,t,n,r,s,o=null,l=!1){return{type:1,element:e,keyframes:i,preStyleProps:t,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:l}}class dD{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Kqt=new RegExp(":enter","g"),Jqt=new RegExp(":leave","g");function m3(e,i,t,n,r,s=new Map,o=new Map,l,w,E=[]){return(new qqt).buildKeyframes(e,i,t,n,r,s,o,l,w,E)}class qqt{buildKeyframes(i,t,n,r,s,o,l,w,E,D=[]){E=E||new dD;const k=new g3(i,t,E,r,s,D,[]);k.options=w;const O=w.delay?td(w.delay):0;k.currentTimeline.delayNextStep(O),k.currentTimeline.setStyles([o],null,k.errors,w),Wl(this,n,k);const L=k.timelines.filter(U=>U.containsAnimation());if(L.length&&l.size){let U;for(let j=L.length-1;j>=0;j--){const W=L[j];if(W.element===t){U=W;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([l],null,k.errors,w)}return L.length?L.map(U=>U.buildKeyframes()):[p3(t,[],[],[],0,O,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const n=t.subInstructions.get(t.element);if(n){const r=t.createSubContext(i.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=i}visitAnimateRef(i,t){const n=t.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],t,n),this.visitReference(i.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=i}_applyAnimationRefDelays(i,t,n){for(const r of i){const s=r?.delay;if(s){const o="number"==typeof s?s:td(yw(s,r?.params??{},t.errors));n.delayNextStep(o)}}}_visitSubInstructions(i,t,n){let s=t.currentTimeline.currentTime;const o=null!=n.duration?td(n.duration):null,l=null!=n.delay?td(n.delay):null;return 0!==o&&i.forEach(w=>{const E=t.appendInstructionToTimeline(w,o,l);s=Math.max(s,E.duration+E.delay)}),s}visitReference(i,t){t.updateOptions(i.options,!0),Wl(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const n=t.subContextCount;let r=t;const s=i.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){r.previousNode.type==sn.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fD);const o=td(s.delay);r.delayNextStep(o)}i.steps.length&&(i.steps.forEach(o=>Wl(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const n=[];let r=t.currentTimeline.currentTime;const s=i.options&&i.options.delay?td(i.options.delay):0;i.steps.forEach(o=>{const l=t.createSubContext(i.options);s&&l.delayNextStep(s),Wl(this,o,l),r=Math.max(r,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const n=i.strValue;return lD(t.params?yw(n,t.params,t.errors):n,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const n=t.currentAnimateTimings=this._visitTiming(i.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const s=i.style;s.type==sn.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const s=r&&r.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(s):n.setStyles(i.styles,s,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,s=n.duration,l=t.createSubContext().currentTimeline;l.easing=n.easing,i.styles.forEach(w=>{l.forwardTime((w.offset||0)*s),l.setStyles(w.styles,w.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(r+s),t.previousNode=i}visitQuery(i,t){const n=t.currentTimeline.currentTime,r=i.options||{},s=r.delay?td(r.delay):0;s&&(t.previousNode.type===sn.Style||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fD);let o=n;const l=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=l.length;let w=null;l.forEach((E,D)=>{t.currentQueryIndex=D;const k=t.createSubContext(i.options,E);s&&k.delayNextStep(s),E===t.element&&(w=k.currentTimeline),Wl(this,i.animation,k),k.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,k.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const n=t.parentContext,r=t.currentTimeline,s=i.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let w=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":w=l-w;break;case"full":w=n.currentStaggerTime}const D=t.currentTimeline;w&&D.delayNextStep(w);const k=D.currentTime;Wl(this,i.animation,t),t.previousNode=i,n.currentStaggerTime=r.currentTime-k+(r.startTime-n.currentTimeline.startTime)}}const fD={};class g3{constructor(i,t,n,r,s,o,l,w){this._driver=i,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new pD(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const n=i;let r=this.options;null!=n.duration&&(r.duration=td(n.duration)),null!=n.delay&&(r.delay=td(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=yw(s[l],o,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const n=i.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return i}createSubContext(i=null,t,n){const r=t||this.element,s=new g3(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(i),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(i){return this.previousNode=fD,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,n){const r={duration:t??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},s=new tte(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,n,r,s,o){let l=[];if(r&&l.push(this.element),i.length>0){i=(i=i.replace(Kqt,"."+this._enterClassName)).replace(Jqt,"."+this._leaveClassName);let E=this._driver.query(this.element,i,1!=n);0!==n&&(E=n<0?E.slice(E.length+n,E.length):E.slice(0,n)),l.push(...E)}return!s&&0==l.length&&o.push(function aqt(){return new pe(3014,!1)}()),l}}class pD{constructor(i,t,n,r){this._driver=i,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new pD(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles.set(i,t),this._globalTimelineStyles.set(i,t),this._styleSummary.set(i,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||dh),this._currentKeyframe.set(t,dh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,n,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function ete(e,i){const t=new Map;let n;return e.forEach(r=>{if("*"===r){n??=i.keys();for(let s of n)t.set(s,dh)}else for(let[s,o]of r)t.set(s,o)}),t}(i,this._globalTimelineStyles);for(let[l,w]of o){const E=yw(w,s,n);this._pendingStyles.set(l,E),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??dh),this._updateStyle(l,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,t)=>{this._currentKeyframe.set(t,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,i)}))}snapshotCurrentStyles(){for(let[i,t]of this._localTimelineStyles)this._pendingStyles.set(i,t),this._updateStyle(i,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((t,n)=>{const r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,w)=>{const E=new Map([...this._backFill,...l]);E.forEach((D,k)=>{"!"===D?i.add(k):D===dh&&t.add(k)}),n||E.set("offset",w/this.duration),r.push(E)});const s=[...i.values()],o=[...t.values()];if(n){const l=r[0],w=new Map(l);l.set("offset",0),w.set("offset",1),r=[l,w]}return p3(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class tte extends pD{constructor(i,t,n,r,s,o,l=!1){super(i,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=n+t,l=t/o,w=new Map(i[0]);w.set("offset",0),s.push(w);const E=new Map(i[0]);E.set("offset",Drt(l)),s.push(E);const D=i.length-1;for(let k=1;k<=D;k++){let O=new Map(i[k]);const L=O.get("offset");O.set("offset",Drt((t+L*n)/o)),s.push(O)}n=o,t=0,r="",i=s}return p3(this.element,i,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function Drt(e,i=3){const t=Math.pow(10,i-1);return Math.round(e*t)/t}function Mrt(e,i,t,n,r,s,o,l,w,E,D,k,O){return{type:0,element:e,triggerName:i,isRemovalTransition:r,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:l,queriedElements:w,preStyleProps:E,postStyleProps:D,totalTime:k,errors:O}}const v3={};class Irt{constructor(i,t,n){this._triggerName=i,this.ast=t,this._stateStyles=n}match(i,t,n,r){return function ite(e,i,t,n,r){return e.some(s=>s(i,t,n,r))}(this.ast.matchers,i,t,n,r)}buildStyles(i,t,n){let r=this._stateStyles.get("*");return void 0!==i&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(t,n):new Map}build(i,t,n,r,s,o,l,w,E,D){const k=[],O=this.ast.options&&this.ast.options.params||v3,U=this.buildStyles(n,l&&l.params||v3,k),j=w&&w.params||v3,W=this.buildStyles(r,j,k),Z=new Set,rt=new Map,st=new Map,yt="void"===r,Tt={params:Rrt(j,O),delay:this.ast.options?.delay},It=D?[]:m3(i,t,this.ast.animation,s,o,U,W,Tt,E,k);let ft=0;return It.forEach(ht=>{ft=Math.max(ht.duration+ht.delay,ft)}),k.length?Mrt(t,this._triggerName,n,r,yt,U,W,[],[],rt,st,ft,k):(It.forEach(ht=>{const mt=ht.element,wt=Hl(rt,mt,new Set);ht.preStyleProps.forEach(_t=>wt.add(_t));const Ct=Hl(st,mt,new Set);ht.postStyleProps.forEach(_t=>Ct.add(_t)),mt!==t&&Z.add(mt)}),Mrt(t,this._triggerName,n,r,yt,U,W,It,[...Z.values()],rt,st,ft))}}function Rrt(e,i){const t={...i};return Object.entries(e).forEach(([n,r])=>{null!=r&&(t[n]=r)}),t}class nte{constructor(i,t,n){this.styles=i,this.defaultParams=t,this.normalizer=n}buildStyles(i,t){const n=new Map,r=Rrt(i,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,l)=>{o&&(o=yw(o,r,t));const w=this.normalizer.normalizePropertyName(l,t);o=this.normalizer.normalizeStyleValue(l,w,o,t),n.set(l,o)})}),n}}class ste{constructor(i,t,n){this.name=i,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new nte(r.style,r.options&&r.options.params||{},n))}),Prt(this.states,"true","1"),Prt(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Irt(i,r,this.states))}),this.fallbackTransition=function ate(e,i){return new Irt(e,{type:sn.Transition,animation:{type:sn.Sequence,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,n,r){return this.transitionFactories.find(o=>o.match(i,t,n,r))||null}matchStyles(i,t,n){return this.fallbackTransition.buildStyles(i,t,n)}}function Prt(e,i,t){e.has(i)?e.has(t)||e.set(t,e.get(i)):e.has(t)&&e.set(i,e.get(t))}const ote=new dD;class lte{constructor(i,t,n){this.bodyNode=i,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,t){const n=[],s=d3(this._driver,t,n,[]);if(n.length)throw function fqt(){return new pe(3503,!1)}();this._animations.set(i,s)}_buildPlayer(i,t,n){const r=i.element,s=mrt(this._normalizer,i.keyframes,t,n);return this._driver.animate(r,s,i.duration,i.delay,i.easing,[],!0)}create(i,t,n={}){const r=[],s=this._animations.get(i);let o;const l=new Map;if(s?(o=m3(this._driver,t,s,a3,sD,new Map,new Map,n,ote,r),o.forEach(D=>{const k=Hl(l,D.element,new Map);D.postStyleProps.forEach(O=>k.set(O,null))})):(r.push(function pqt(){return new pe(3300,!1)}()),o=[]),r.length)throw function mqt(){return new pe(3504,!1)}();l.forEach((D,k)=>{D.forEach((O,L)=>{D.set(L,this._driver.computeStyle(k,L,dh))})});const E=Ef(o.map(D=>{const k=l.get(D.element);return this._buildPlayer(D,new Map,k)}));return this._playersById.set(i,E),E.onDestroy(()=>this.destroy(i)),this.players.push(E),E}destroy(i){const t=this._getPlayer(i);t.destroy(),this._playersById.delete(i);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(i){const t=this._playersById.get(i);if(!t)throw function gqt(){return new pe(3301,!1)}();return t}listen(i,t,n,r){const s=t3(t,"","","");return J4(this._getPlayer(i),n,s,r),()=>{}}command(i,t,n,r){if("register"==n)return void this.register(i,r[0]);if("create"==n)return void this.create(i,t,r[0]||{});const s=this._getPlayer(i);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i)}}}const krt="ng-animate-queued",y3="ng-animate-disabled",fte=[],Frt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yc="__ng_removed";class x3{get params(){return this.options.params}constructor(i,t=""){this.namespaceId=t;const n=i&&i.hasOwnProperty("value");if(this.value=function yte(e){return e??null}(n?i.value:i),n){const{value:s,...o}=i;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const t=i.params;if(t){const n=this.options.params;Object.keys(t).forEach(r=>{null==n[r]&&(n[r]=t[r])})}}}const xw="void",b3=new x3(xw);class mte{constructor(i,t,n){this.id=i,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,wc(t,this._hostClassName)}listen(i,t,n,r){if(!this._triggers.has(t))throw function vqt(){return new pe(3302,!1)}();if(null==n||0==n.length)throw function yqt(){return new pe(3303,!1)}();if(!function xte(e){return"start"==e||"done"==e}(n))throw function xqt(){return new pe(3400,!1)}();const s=Hl(this._elementListeners,i,[]),o={name:t,phase:n,callback:r};s.push(o);const l=Hl(this._engine.statesByElement,i,new Map);return l.has(t)||(wc(i,aD),wc(i,aD+"-"+t),l.set(t,b3)),()=>{this._engine.afterFlush(()=>{const w=s.indexOf(o);w>=0&&s.splice(w,1),this._triggers.has(t)||l.delete(t)})}}register(i,t){return!this._triggers.has(i)&&(this._triggers.set(i,t),!0)}_getTrigger(i){const t=this._triggers.get(i);if(!t)throw function bqt(){return new pe(3401,!1)}();return t}trigger(i,t,n,r=!0){const s=this._getTrigger(t),o=new w3(this.id,t,i);let l=this._engine.statesByElement.get(i);l||(wc(i,aD),wc(i,aD+"-"+t),this._engine.statesByElement.set(i,l=new Map));let w=l.get(t);const E=new x3(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&w&&E.absorbOptions(w.options),l.set(t,E),w||(w=b3),E.value!==xw&&w.value===E.value){if(!function Tte(e,i){const t=Object.keys(e),n=Object.keys(i);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!i.hasOwnProperty(s)||e[s]!==i[s])return!1}return!0}(w.params,E.params)){const j=[],W=s.matchStyles(w.value,w.params,j),Z=s.matchStyles(E.value,E.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Om(i,W),Gu(i,Z)})}return}const O=Hl(this._engine.playersByElement,i,[]);O.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let L=s.matchTransition(w.value,E.value,i,E.params),U=!1;if(!L){if(!r)return;L=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:L,fromState:w,toState:E,player:o,isFallbackTransition:U}),U||(wc(i,krt),o.onStart(()=>{W0(i,krt)})),o.onDone(()=>{let j=this.players.indexOf(o);j>=0&&this.players.splice(j,1);const W=this._engine.playersByElement.get(i);if(W){let Z=W.indexOf(o);Z>=0&&W.splice(Z,1)}}),this.players.push(o),O.push(o),o}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(t=>t.delete(i)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const n=this._engine.driver.query(i,oD,!0);n.forEach(r=>{if(r[Yc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,t,n,r){const s=this._engine.statesByElement.get(i),o=new Map;if(s){const l=[];if(s.forEach((w,E)=>{if(o.set(E,w.value),this._triggers.has(E)){const D=this.trigger(i,E,xw,r);D&&l.push(D)}}),l.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,o),n&&Ef(l).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(t&&n){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const w=this._triggers.get(o).fallbackTransition,E=n.get(o)||b3,D=new x3(xw),k=new w3(this.id,o,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:w,fromState:E,toState:D,player:k,isFallbackTransition:!0})})}}removeNode(i,t){const n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(i):[];if(s&&s.length)r=!0;else{let o=i;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)n.markElementAsRemoved(this.id,i,!1,t);else{const s=i[Yc];(!s||s===Frt)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,t))}}insertNode(i,t){wc(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==n.triggerName){const w=t3(s,n.triggerName,n.fromState.value,n.toState.value);w._data=i,J4(n.player,l.phase,w,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class gte{_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}constructor(i,t,n){this.bodyNode=i,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,t){const n=new mte(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,t){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,l=this.driver.getParentElement(t);for(;l;){const w=r.get(l);if(w){const E=n.indexOf(w);n.splice(E+1,0,i),o=!0;break}l=this.driver.getParentElement(l)}o||n.unshift(i)}else n.push(i);return r.set(t,i),i}register(i,t){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,t)),n}registerTrigger(i,t,n){let r=this._namespaceLookup[i];r&&r.register(t,n)&&this.totalAnimations++}destroy(i,t){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,n=this.statesByElement.get(i);if(n)for(let r of n.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(i,t,n,r){if(mD(t)){const s=this._fetchNamespace(i);if(s)return s.trigger(t,n,r),!0}return!1}insertNode(i,t,n,r){if(!mD(t))return;const s=t[Yc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(i){const o=this._fetchNamespace(i);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),wc(i,y3)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),W0(i,y3))}removeNode(i,t,n){if(mD(t)){const r=i?this._fetchNamespace(i):null;r?r.removeNode(t,n):this.markElementAsRemoved(i,t,!1,n);const s=this.namespacesByHostElement.get(t);s&&s.id!==i&&s.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(i,t,n,r,s){this.collectedLeaveElements.push(t),t[Yc]={namespaceId:i,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(i,t,n,r,s){return mD(t)?this._fetchNamespace(i).listen(t,n,r,s):()=>{}}_buildInstruction(i,t,n,r,s){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,r,i.fromState.options,i.toState.options,t,s)}destroyInnerAnimations(i){let t=this.driver.query(i,oD,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,o3,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Ef(this.players).onDone(()=>i());i()})}processLeaveNode(i){const t=i[Yc];if(t&&t.setForRemoval){if(i[Yc]=Frt,t.namespaceId){this.destroyInnerAnimations(i);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,t.setForRemoval)}i.classList?.contains(y3)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)wc(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,i)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?Ef(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(i){throw function wqt(){return new pe(3402,!1)}()}_flushAnimations(i,t){const n=new dD,r=[],s=new Map,o=[],l=new Map,w=new Map,E=new Map,D=new Set;this.disabledNodes.forEach(ve=>{D.add(ve);const qt=this.driver.query(ve,".ng-animate-queued",!0);for(let _e=0;_e<qt.length;_e++)D.add(qt[_e])});const k=this.bodyNode,O=Array.from(this.statesByElement.keys()),L=Nrt(O,this.collectedEnterElements),U=new Map;let j=0;L.forEach((ve,qt)=>{const _e=a3+j++;U.set(qt,_e),ve.forEach(ze=>wc(ze,_e))});const W=[],Z=new Set,rt=new Set;for(let ve=0;ve<this.collectedLeaveElements.length;ve++){const qt=this.collectedLeaveElements[ve],_e=qt[Yc];_e&&_e.setForRemoval&&(W.push(qt),Z.add(qt),_e.hasAnimation?this.driver.query(qt,".ng-star-inserted",!0).forEach(ze=>Z.add(ze)):rt.add(qt))}const st=new Map,yt=Nrt(O,Array.from(Z));yt.forEach((ve,qt)=>{const _e=sD+j++;st.set(qt,_e),ve.forEach(ze=>wc(ze,_e))}),i.push(()=>{L.forEach((ve,qt)=>{const _e=U.get(qt);ve.forEach(ze=>W0(ze,_e))}),yt.forEach((ve,qt)=>{const _e=st.get(qt);ve.forEach(ze=>W0(ze,_e))}),W.forEach(ve=>{this.processLeaveNode(ve)})});const Tt=[],It=[];for(let ve=this._namespaceList.length-1;ve>=0;ve--)this._namespaceList[ve].drainQueuedTransitions(t).forEach(_e=>{const ze=_e.player,Me=_e.element;if(Tt.push(ze),this.collectedEnterElements.length){const hi=Me[Yc];if(hi&&hi.setForMove){if(hi.previousTriggersValues&&hi.previousTriggersValues.has(_e.triggerName)){const Ot=hi.previousTriggersValues.get(_e.triggerName),Qt=this.statesByElement.get(_e.element);if(Qt&&Qt.has(_e.triggerName)){const $t=Qt.get(_e.triggerName);$t.value=Ot,Qt.set(_e.triggerName,$t)}}return void ze.destroy()}}const Ii=!k||!this.driver.containsElement(k,Me),ee=st.get(Me),Ne=U.get(Me),De=this._buildInstruction(_e,n,Ne,ee,Ii);if(De.errors&&De.errors.length)return void It.push(De);if(Ii)return ze.onStart(()=>Om(Me,De.fromStyles)),ze.onDestroy(()=>Gu(Me,De.toStyles)),void r.push(ze);if(_e.isFallbackTransition)return ze.onStart(()=>Om(Me,De.fromStyles)),ze.onDestroy(()=>Gu(Me,De.toStyles)),void r.push(ze);const fi=[];De.timelines.forEach(hi=>{hi.stretchStartingKeyframe=!0,this.disabledNodes.has(hi.element)||fi.push(hi)}),De.timelines=fi,n.append(Me,De.timelines),o.push({instruction:De,player:ze,element:Me}),De.queriedElements.forEach(hi=>Hl(l,hi,[]).push(ze)),De.preStyleProps.forEach((hi,Ot)=>{if(hi.size){let Qt=w.get(Ot);Qt||w.set(Ot,Qt=new Set),hi.forEach(($t,Yt)=>Qt.add(Yt))}}),De.postStyleProps.forEach((hi,Ot)=>{let Qt=E.get(Ot);Qt||E.set(Ot,Qt=new Set),hi.forEach(($t,Yt)=>Qt.add(Yt))})});if(It.length){const ve=[];It.forEach(qt=>{ve.push(function Tqt(){return new pe(3505,!1)}())}),Tt.forEach(qt=>qt.destroy()),this.reportError(ve)}const ft=new Map,ht=new Map;o.forEach(ve=>{const qt=ve.element;n.has(qt)&&(ht.set(qt,qt),this._beforeAnimationBuild(ve.player.namespaceId,ve.instruction,ft))}),r.forEach(ve=>{const qt=ve.element;this._getPreviousPlayers(qt,!1,ve.namespaceId,ve.triggerName,null).forEach(ze=>{Hl(ft,qt,[]).push(ze),ze.destroy()})});const mt=W.filter(ve=>Vrt(ve,w,E)),wt=new Map;Lrt(wt,this.driver,rt,E,dh).forEach(ve=>{Vrt(ve,w,E)&&mt.push(ve)});const _t=new Map;L.forEach((ve,qt)=>{Lrt(_t,this.driver,new Set(ve),w,"!")}),mt.forEach(ve=>{const qt=wt.get(ve),_e=_t.get(ve);wt.set(ve,new Map([...qt?.entries()??[],..._e?.entries()??[]]))});const Dt=[],Ue=[],Te={};o.forEach(ve=>{const{element:qt,player:_e,instruction:ze}=ve;if(n.has(qt)){if(D.has(qt))return _e.onDestroy(()=>Gu(qt,ze.toStyles)),_e.disabled=!0,_e.overrideTotalTime(ze.totalTime),void r.push(_e);let Me=Te;if(ht.size>1){let ee=qt;const Ne=[];for(;ee=ee.parentNode;){const De=ht.get(ee);if(De){Me=De;break}Ne.push(ee)}Ne.forEach(De=>ht.set(De,Me))}const Ii=this._buildAnimation(_e.namespaceId,ze,ft,s,_t,wt);if(_e.setRealPlayer(Ii),Me===Te)Dt.push(_e);else{const ee=this.playersByElement.get(Me);ee&&ee.length&&(_e.parentPlayer=Ef(ee)),r.push(_e)}}else Om(qt,ze.fromStyles),_e.onDestroy(()=>Gu(qt,ze.toStyles)),Ue.push(_e),D.has(qt)&&r.push(_e)}),Ue.forEach(ve=>{const qt=s.get(ve.element);if(qt&&qt.length){const _e=Ef(qt);ve.setRealPlayer(_e)}}),r.forEach(ve=>{ve.parentPlayer?ve.syncPlayerEvents(ve.parentPlayer):ve.destroy()});for(let ve=0;ve<W.length;ve++){const qt=W[ve],_e=qt[Yc];if(W0(qt,sD),_e&&_e.hasAnimation)continue;let ze=[];if(l.size){let Ii=l.get(qt);Ii&&Ii.length&&ze.push(...Ii);let ee=this.driver.query(qt,o3,!0);for(let Ne=0;Ne<ee.length;Ne++){let De=l.get(ee[Ne]);De&&De.length&&ze.push(...De)}}const Me=ze.filter(Ii=>!Ii.destroyed);Me.length?bte(this,qt,Me):this.processLeaveNode(qt)}return W.length=0,Dt.forEach(ve=>{this.players.push(ve),ve.onDone(()=>{ve.destroy();const qt=this.players.indexOf(ve);this.players.splice(qt,1)}),ve.play()}),Dt}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,n,r,s){let o=[];if(t){const l=this.playersByQueriedElement.get(i);l&&(o=l)}else{const l=this.playersByElement.get(i);if(l){const w=!s||s==xw;l.forEach(E=>{E.queued||!w&&E.triggerName!=r||o.push(E)})}}return(n||r)&&(o=o.filter(l=>!(n&&n!=l.namespaceId||r&&r!=l.triggerName))),o}_beforeAnimationBuild(i,t,n){const s=t.element,o=t.isRemovalTransition?void 0:i,l=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const E=w.element,D=E!==s,k=Hl(n,E,[]);this._getPreviousPlayers(E,D,o,l,t.toState).forEach(L=>{const U=L.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),L.destroy(),k.push(L)})}Om(s,t.fromStyles)}_buildAnimation(i,t,n,r,s,o){const l=t.triggerName,w=t.element,E=[],D=new Set,k=new Set,O=t.timelines.map(U=>{const j=U.element;D.add(j);const W=j[Yc];if(W&&W.removedBeforeQueried)return new $x(U.duration,U.delay);const Z=j!==w,rt=function wte(e){const i=[];return Brt(e,i),i}((n.get(j)||fte).map(ft=>ft.getRealPlayer())).filter(ft=>!!ft.element&&ft.element===j),st=s.get(j),yt=o.get(j),Tt=mrt(this._normalizer,U.keyframes,st,yt),It=this._buildPlayer(U,Tt,rt);if(U.subTimeline&&r&&k.add(j),Z){const ft=new w3(i,l,j);ft.setRealPlayer(It),E.push(ft)}return It});E.forEach(U=>{Hl(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function vte(e,i,t){let n=e.get(i);if(n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&e.delete(i)}return n}(this.playersByQueriedElement,U.element,U))}),D.forEach(U=>wc(U,wrt));const L=Ef(O);return L.onDestroy(()=>{D.forEach(U=>W0(U,wrt)),Gu(w,t.toStyles)}),k.forEach(U=>{Hl(r,U,[]).push(L)}),L}_buildPlayer(i,t,n){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,n):new $x(i.duration,i.delay)}}class w3{constructor(i,t,n){this.namespaceId=i,this.triggerName=t,this.element=n,this._player=new $x,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>J4(i,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){Hl(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function mD(e){return e&&1===e.nodeType}function Ort(e,i){const t=e.style.display;return e.style.display=i??"none",t}function Lrt(e,i,t,n,r){const s=[];t.forEach(w=>s.push(Ort(w)));const o=[];n.forEach((w,E)=>{const D=new Map;w.forEach(k=>{const O=i.computeStyle(E,k,r);D.set(k,O),(!O||0==O.length)&&(E[Yc]=pte,o.push(E))}),e.set(E,D)});let l=0;return t.forEach(w=>Ort(w,s[l++])),o}function Nrt(e,i){const t=new Map;if(e.forEach(l=>t.set(l,[])),0==i.length)return t;const r=new Set(i),s=new Map;function o(l){if(!l)return 1;let w=s.get(l);if(w)return w;const E=l.parentNode;return w=t.has(E)?E:r.has(E)?1:o(E),s.set(l,w),w}return i.forEach(l=>{const w=o(l);1!==w&&t.get(w).push(l)}),t}function wc(e,i){e.classList?.add(i)}function W0(e,i){e.classList?.remove(i)}function bte(e,i,t){Ef(t).onDone(()=>e.processLeaveNode(i))}function Brt(e,i){for(let t=0;t<e.length;t++){const n=e[t];n instanceof SW?Brt(n.players,i):i.push(n)}}function Vrt(e,i,t){const n=t.get(e);if(!n)return!1;let r=i.get(e);return r?n.forEach(s=>r.add(s)):i.set(e,n),t.delete(e),!0}class bw{constructor(i,t,n){this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new gte(i.body,t,n),this._timelineEngine=new lte(i.body,t,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(i,t,n,r,s){const o=i+"-"+r;let l=this._triggerCache[o];if(!l){const w=[],D=d3(this._driver,s,w,[]);if(w.length)throw function hqt(){return new pe(3404,!1)}();l=function rte(e,i,t){return new ste(e,i,t)}(r,D,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,r,l)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,n,r){this._transitionEngine.insertNode(i,t,n,r)}onRemove(i,t,n){this._transitionEngine.removeNode(i,t,n)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,n,r){if("@"==n.charAt(0)){const[s,o]=grt(n);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(i,t,n,r)}listen(i,t,n,r,s){if("@"==n.charAt(0)){const[o,l]=grt(n);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(i,t,n,r,s)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}class ww{static{this.initialStylesByElement=new WeakMap}constructor(i,t,n){this._element=i,this._startStyles=t,this._endStyles=n,this._state=0;let r=ww.initialStylesByElement.get(i);r||ww.initialStylesByElement.set(i,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Gu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gu(this._element,this._initialStyles),this._endStyles&&(Gu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ww.initialStylesByElement.delete(this._element),this._startStyles&&(Om(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Om(this._element,this._endStyles),this._endStyles=null),Gu(this._element,this._initialStyles),this._state=3)}}function T3(e){let i=null;return e.forEach((t,n)=>{(function Ste(e){return"display"===e||"position"===e})(n)&&(i=i||new Map,i.set(n,t))}),i}class Urt{constructor(i,t,n,r){this.element=i,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const t=[];return i.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(i,t,n){return i.animate(this._convertKeyframesToObject(t),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&i.set(r,this._finished?n:h3(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){const t="start"===i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class zrt{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,t){return yrt(i,t)}getParentElement(i){return e3(i)}query(i,t,n){return xrt(i,t,n)}computeStyle(i,t,n){return h3(i,t)}animate(i,t,n,r,s,o=[]){const w={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(w.easing=s);const E=new Map,D=o.filter(L=>L instanceof Urt);(function Oqt(e,i){return 0===e||0===i})(n,r)&&D.forEach(L=>{L.currentSnapshot.forEach((U,j)=>E.set(j,U))});let k=function Pqt(e){return e.length?e[0]instanceof Map?e:e.map(i=>new Map(Object.entries(i))):[]}(t).map(L=>new Map(L));k=function Lqt(e,i,t){if(t.size&&i.length){let n=i[0],r=[];if(t.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<i.length;s++){let o=i[s];r.forEach(l=>o.set(l,h3(e,l)))}}return i}(i,k,E);const O=function Cte(e,i){let t=null,n=null;return Array.isArray(i)&&i.length?(t=T3(i[0]),i.length>1&&(n=T3(i[i.length-1]))):i instanceof Map&&(t=T3(i)),t||n?new ww(e,t,n):null}(i,k);return new Urt(i,k,w,O)}}const Grt="@.disabled";class Hrt{constructor(i,t,n,r){this.namespaceId=i,this.delegate=t,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,n,r=!0){this.delegate.insertBefore(i,t,n),this.engine.onInsert(this.namespaceId,t,i,r)}removeChild(i,t,n){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,n,r){this.delegate.setAttribute(i,t,n,r)}removeAttribute(i,t,n){this.delegate.removeAttribute(i,t,n)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,n,r){this.delegate.setStyle(i,t,n,r)}removeStyle(i,t,n){this.delegate.removeStyle(i,t,n)}setProperty(i,t,n){"@"==t.charAt(0)&&t==Grt?this.disableAnimations(i,!!n):this.delegate.setProperty(i,t,n)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,n){return this.delegate.listen(i,t,n)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class Ete extends Hrt{constructor(i,t,n,r,s){super(t,n,r,s),this.factory=i,this.namespaceId=t}setProperty(i,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Grt?this.disableAnimations(i,n=void 0===n||!!n):this.engine.process(this.namespaceId,i,t.slice(1),n):this.delegate.setProperty(i,t,n)}listen(i,t,n){if("@"==t.charAt(0)){const r=function _te(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(i);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Ate(e){const i=e.indexOf(".");return[e.substring(0,i),e.slice(i+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,n,l)})}return this.delegate.listen(i,t,n)}}class Dte{constructor(i,t,n){this.delegate=i,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(i,t){const r=this.delegate.createRenderer(i,t);if(!i||!t?.data?.animation){const E=this._rendererCache;let D=E.get(r);return D||(D=new Hrt("",r,this.engine,()=>E.delete(r)),E.set(r,D)),D}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,i);const l=E=>{Array.isArray(E)?E.forEach(l):this.engine.registerTrigger(s,o,i,E.name,E)};return t.data.animation.forEach(l),new Ete(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,t,n){if(i>=0&&i<this._microtaskId)return void this._zone.run(()=>t(n));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),r.push([t,n])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const Wrt=[{provide:s3,useFactory:function Ite(){return new Srt}},{provide:bw,useClass:(()=>{class e extends bw{constructor(t,n,r){super(t,n,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(n){return new(n||e)(re(Gi),re(r3),re(s3))}}static{this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}}return e})()},{provide:GT,useFactory:function Rte(e,i,t){return new Dte(e,i,t)},deps:[_R,bw,li]}],C3=[{provide:r3,useFactory:()=>new zrt},{provide:Hr,useValue:"BrowserAnimations"},...Wrt],jrt=[{provide:r3,useClass:n3},{provide:Hr,useValue:"NoopAnimations"},...Wrt];let Pte=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?jrt:C3}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({providers:C3,imports:[IG]})}}return e})(),kte=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,rn]})}}return e})(),cee=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[EP,hu,rn,fv,fW,kte]})}}return e})(),xee=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e})}static{this.\u0275inj=Ui({imports:[rn,fv]})}}return e})();Pp("firebase","10.12.3","app"),m$({apiKey:"AIzaSyAFjiIuMBA1IpTrw__WdkQiK5PKht4_go8",authDomain:"snoguess-e4d1c.firebaseapp.com",projectId:"snoguess-e4d1c",storageBucket:"snoguess-e4d1c.appspot.com",messagingSenderId:"289449411190",appId:"1:289449411190:web:49ff68411f9e5148f11557"});let Tee=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=Hi({type:e,bootstrap:[HJt]})}static{this.\u0275inj=Ui({providers:[mwt(fp(Ad.LegacyInterceptors,[{provide:T7,useFactory:rwt},{provide:Bx,useExisting:T7,multi:!0}]))],imports:[IG,hDt,UUt,Pte,AMt,TJt,VP,sSt,xSt,$Ct,yRt,SE,Z_t,ESt,nAt,i_t,lDt,kSt,rEt,kX,Fk,BX,jDt,rIt,dIt,zMt,CIt,cee,x2t,Fk,RJt,xee,O2t]})}}return e})();Tyt().bootstrapModule(Tee).catch(e=>console.error(e))},1867:(Wt,de,Mt)=>{const jt=Mt(6293).a,Xt=Mt(7687).array;Wt.exports=class S{constructor(a={}){Object.assign(this,{list:a.emptyList&&[]||Array.prototype.concat.apply(jt,[Xt,a.list||[]]),exclude:a.exclude||[],splitRegex:a.splitRegex||/\b/,placeHolder:a.placeHolder||"*",regex:a.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:a.replaceRegex||/\w/g})}isProfane(a){return this.list.filter(y=>{const C=new RegExp(`\\b${y.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(y.toLowerCase())&&C.test(a)}).length>0||!1}replaceWord(a){return a.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(a){return a.split(this.splitRegex).map(y=>this.isProfane(y)?this.replaceWord(y):y).join(this.splitRegex.exec(a)[0])}addWords(){let a=Array.from(arguments);this.list.push(...a),a.map(y=>y.toLowerCase()).forEach(y=>{this.exclude.includes(y)&&this.exclude.splice(this.exclude.indexOf(y),1)})}removeWords(){this.exclude.push(...Array.from(arguments).map(a=>a.toLowerCase()))}}},8402:Wt=>{Wt.exports=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"]},7687:(Wt,de,Mt)=>{Wt.exports={object:Mt(424),array:Mt(8402),regex:Mt(6658)}},424:Wt=>{Wt.exports={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1}},6658:Wt=>{Wt.exports=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi},2578:function(Wt,de){var Mt,Xt;void 0!==(Xt="function"==typeof(Mt=function(){"use strict";function P(d,c,h){var p=new XMLHttpRequest;p.open("GET",d),p.responseType="blob",p.onload=function(){f(p.response,c,h)},p.onerror=function(){console.error("could not download file")},p.send()}function a(d){var c=new XMLHttpRequest;c.open("HEAD",d,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function y(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(c)}}var C="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,g=C.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=C.saveAs||("object"!=typeof window||window!==C?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(d,c,h){var p=C.URL||C.webkitURL,u=document.createElement("a");u.download=c=c||d.name||"download",u.rel="noopener","string"==typeof d?(u.href=d,u.origin===location.origin?y(u):a(u.href)?P(d,c,h):y(u,u.target="_blank")):(u.href=p.createObjectURL(d),setTimeout(function(){p.revokeObjectURL(u.href)},4e4),setTimeout(function(){y(u)},0))}:"msSaveOrOpenBlob"in navigator?function(d,c,h){if(c=c||d.name||"download","string"!=typeof d)navigator.msSaveOrOpenBlob(function S(d,c){return typeof c>"u"?c={autoBom:!1}:"object"!=typeof c&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\ufeff",d],{type:d.type}):d}(d,h),c);else if(a(d))P(d,c,h);else{var p=document.createElement("a");p.href=d,p.target="_blank",setTimeout(function(){y(p)})}}:function(d,c,h,p){if((p=p||open("","_blank"))&&(p.document.title=p.document.body.innerText="downloading..."),"string"==typeof d)return P(d,c,h);var u="application/octet-stream"===d.type,m=/constructor/i.test(C.HTMLElement)||C.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||u&&m||g)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var _=x.result;_=v?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=_:location=_,p=null},x.readAsDataURL(d)}else{var b=C.URL||C.webkitURL,T=b.createObjectURL(d);p?p.location=T:location.href=T,p=null,setTimeout(function(){b.revokeObjectURL(T)},4e4)}});C.saveAs=f.saveAs=f,Wt.exports=f})?Mt.apply(de,[]):Mt)&&(Wt.exports=Xt)},5013:(Wt,de,Mt)=>{var S=Mt(4385)(Mt(1464),"DataView");Wt.exports=S},3028:(Wt,de,Mt)=>{var jt=Mt(6399),Xt=Mt(1483),S=Mt(3434),P=Mt(5230),a=Mt(3718);function y(C){var g=-1,f=null==C?0:C.length;for(this.clear();++g<f;){var d=C[g];this.set(d[0],d[1])}}y.prototype.clear=jt,y.prototype.delete=Xt,y.prototype.get=S,y.prototype.has=P,y.prototype.set=a,Wt.exports=y},5752:(Wt,de,Mt)=>{var jt=Mt(3643),Xt=Mt(7103),S=Mt(62),P=Mt(1610),a=Mt(1090);function y(C){var g=-1,f=null==C?0:C.length;for(this.clear();++g<f;){var d=C[g];this.set(d[0],d[1])}}y.prototype.clear=jt,y.prototype.delete=Xt,y.prototype.get=S,y.prototype.has=P,y.prototype.set=a,Wt.exports=y},1012:(Wt,de,Mt)=>{var S=Mt(4385)(Mt(1464),"Map");Wt.exports=S},752:(Wt,de,Mt)=>{var jt=Mt(1891),Xt=Mt(2759),S=Mt(7766),P=Mt(322),a=Mt(7258);function y(C){var g=-1,f=null==C?0:C.length;for(this.clear();++g<f;){var d=C[g];this.set(d[0],d[1])}}y.prototype.clear=jt,y.prototype.delete=Xt,y.prototype.get=S,y.prototype.has=P,y.prototype.set=a,Wt.exports=y},1339:(Wt,de,Mt)=>{var S=Mt(4385)(Mt(1464),"Promise");Wt.exports=S},7814:(Wt,de,Mt)=>{var S=Mt(4385)(Mt(1464),"Set");Wt.exports=S},6898:(Wt,de,Mt)=>{var jt=Mt(5752),Xt=Mt(8945),S=Mt(8425),P=Mt(5280),a=Mt(324),y=Mt(4516);function C(g){var f=this.__data__=new jt(g);this.size=f.size}C.prototype.clear=Xt,C.prototype.delete=S,C.prototype.get=P,C.prototype.has=a,C.prototype.set=y,Wt.exports=C},8516:(Wt,de,Mt)=>{var jt=Mt(1464);Wt.exports=jt.Symbol},2737:(Wt,de,Mt)=>{var jt=Mt(1464);Wt.exports=jt.Uint8Array},2248:(Wt,de,Mt)=>{var S=Mt(4385)(Mt(1464),"WeakMap");Wt.exports=S},5558:Wt=>{Wt.exports=function de(Mt,jt){for(var Xt=-1,S=null==Mt?0:Mt.length;++Xt<S&&!1!==jt(Mt[Xt],Xt,Mt););return Mt}},2873:Wt=>{Wt.exports=function de(Mt,jt){for(var Xt=-1,S=null==Mt?0:Mt.length,P=0,a=[];++Xt<S;){var y=Mt[Xt];jt(y,Xt,Mt)&&(a[P++]=y)}return a}},8548:(Wt,de,Mt)=>{var jt=Mt(9695),Xt=Mt(6265),S=Mt(9812),P=Mt(3151),a=Mt(8426),y=Mt(1028),g=Object.prototype.hasOwnProperty;Wt.exports=function f(d,c){var h=S(d),p=!h&&Xt(d),u=!h&&!p&&P(d),m=!h&&!p&&!u&&y(d),v=h||p||u||m,x=v?jt(d.length,String):[],b=x.length;for(var T in d)(c||g.call(d,T))&&(!v||!("length"==T||u&&("offset"==T||"parent"==T)||m&&("buffer"==T||"byteLength"==T||"byteOffset"==T)||a(T,b)))&&x.push(T);return x}},6319:Wt=>{Wt.exports=function de(Mt,jt){for(var Xt=-1,S=jt.length,P=Mt.length;++Xt<S;)Mt[P+Xt]=jt[Xt];return Mt}},9220:(Wt,de,Mt)=>{var jt=Mt(4399),Xt=Mt(2651),P=Object.prototype.hasOwnProperty;Wt.exports=function a(y,C,g){var f=y[C];(!P.call(y,C)||!Xt(f,g)||void 0===g&&!(C in y))&&jt(y,C,g)}},6316:(Wt,de,Mt)=>{var jt=Mt(2651);Wt.exports=function Xt(S,P){for(var a=S.length;a--;)if(jt(S[a][0],P))return a;return-1}},8336:(Wt,de,Mt)=>{var jt=Mt(3190),Xt=Mt(2561);Wt.exports=function S(P,a){return P&&jt(a,Xt(a),P)}},6303:(Wt,de,Mt)=>{var jt=Mt(3190),Xt=Mt(7674);Wt.exports=function S(P,a){return P&&jt(a,Xt(a),P)}},4399:(Wt,de,Mt)=>{var jt=Mt(4678);Wt.exports=function Xt(S,P,a){"__proto__"==P&&jt?jt(S,P,{configurable:!0,enumerable:!0,value:a,writable:!0}):S[P]=a}},5052:(Wt,de,Mt)=>{var jt=Mt(6898),Xt=Mt(5558),S=Mt(9220),P=Mt(8336),a=Mt(6303),y=Mt(7697),C=Mt(5820),g=Mt(5308),f=Mt(7491),d=Mt(3539),c=Mt(9088),h=Mt(828),p=Mt(9900),u=Mt(9686),m=Mt(2870),v=Mt(9812),x=Mt(3151),b=Mt(6879),T=Mt(3278),_=Mt(4257),A=Mt(2561),M=Mt(7674),N="[object Arguments]",H="[object Function]",lt="[object Object]",Ye={};Ye[N]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object DataView]"]=Ye["[object Boolean]"]=Ye["[object Date]"]=Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye[lt]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object Symbol]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Error]"]=Ye[H]=Ye["[object WeakMap]"]=!1,Wt.exports=function Pe(Qe,Se,ei,ri,Bi,tn){var on,ln=1&Se,hn=2&Se,Mr=4&Se;if(ei&&(on=Bi?ei(Qe,ri,Bi,tn):ei(Qe)),void 0!==on)return on;if(!T(Qe))return Qe;var Ur=v(Qe);if(Ur){if(on=p(Qe),!ln)return C(Qe,on)}else{var dn=h(Qe),or=dn==H||"[object GeneratorFunction]"==dn;if(x(Qe))return y(Qe,ln);if(dn==lt||dn==N||or&&!Bi){if(on=hn||or?{}:m(Qe),!ln)return hn?f(Qe,a(on,Qe)):g(Qe,P(on,Qe))}else{if(!Ye[dn])return Bi?Qe:{};on=u(Qe,dn,ln)}}tn||(tn=new jt);var Fr=tn.get(Qe);if(Fr)return Fr;tn.set(Qe,on),_(Qe)?Qe.forEach(function(js){on.add(Pe(js,Se,ei,js,Qe,tn))}):b(Qe)&&Qe.forEach(function(js,Va){on.set(Va,Pe(js,Se,ei,Va,Qe,tn))});var Xl=Ur?void 0:(Mr?hn?c:d:hn?M:A)(Qe);return Xt(Xl||Qe,function(js,Va){Xl&&(js=Qe[Va=js]),S(on,Va,Pe(js,Se,ei,Va,Qe,tn))}),on}},9593:(Wt,de,Mt)=>{var jt=Mt(3278),Xt=Object.create;Wt.exports=function(){function P(){}return function(a){if(!jt(a))return{};if(Xt)return Xt(a);P.prototype=a;var y=new P;return P.prototype=void 0,y}}()},9926:(Wt,de,Mt)=>{var jt=Mt(6319),Xt=Mt(9812);Wt.exports=function S(P,a,y){var C=a(P);return Xt(P)?C:jt(C,y(P))}},1057:(Wt,de,Mt)=>{var jt=Mt(8516),Xt=Mt(8488),S=Mt(3327),y=jt?jt.toStringTag:void 0;Wt.exports=function C(g){return null==g?void 0===g?"[object Undefined]":"[object Null]":y&&y in Object(g)?Xt(g):S(g)}},8313:(Wt,de,Mt)=>{var jt=Mt(1057),Xt=Mt(7433);Wt.exports=function P(a){return Xt(a)&&"[object Arguments]"==jt(a)}},6095:(Wt,de,Mt)=>{var jt=Mt(828),Xt=Mt(7433);Wt.exports=function P(a){return Xt(a)&&"[object Map]"==jt(a)}},298:(Wt,de,Mt)=>{var jt=Mt(8653),Xt=Mt(8401),S=Mt(3278),P=Mt(8020),y=/^\[object .+?Constructor\]$/,c=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Wt.exports=function h(p){return!(!S(p)||Xt(p))&&(jt(p)?c:y).test(P(p))}},1889:(Wt,de,Mt)=>{var jt=Mt(828),Xt=Mt(7433);Wt.exports=function P(a){return Xt(a)&&"[object Set]"==jt(a)}},8068:(Wt,de,Mt)=>{var jt=Mt(1057),Xt=Mt(8845),S=Mt(7433),B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Arguments]"]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object Boolean]"]=B["[object DataView]"]=B["[object Date]"]=B["[object Error]"]=B["[object Function]"]=B["[object Map]"]=B["[object Number]"]=B["[object Object]"]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object WeakMap]"]=!1,Wt.exports=function G(Q){return S(Q)&&Xt(Q.length)&&!!B[jt(Q)]}},3809:(Wt,de,Mt)=>{var jt=Mt(3164),Xt=Mt(6199),P=Object.prototype.hasOwnProperty;Wt.exports=function a(y){if(!jt(y))return Xt(y);var C=[];for(var g in Object(y))P.call(y,g)&&"constructor"!=g&&C.push(g);return C}},1194:(Wt,de,Mt)=>{var jt=Mt(3278),Xt=Mt(3164),S=Mt(908),a=Object.prototype.hasOwnProperty;Wt.exports=function y(C){if(!jt(C))return S(C);var g=Xt(C),f=[];for(var d in C)"constructor"==d&&(g||!a.call(C,d))||f.push(d);return f}},9695:Wt=>{Wt.exports=function de(Mt,jt){for(var Xt=-1,S=Array(Mt);++Xt<Mt;)S[Xt]=jt(Xt);return S}},2502:Wt=>{Wt.exports=function de(Mt){return function(jt){return Mt(jt)}}},6220:(Wt,de,Mt)=>{var jt=Mt(2737);Wt.exports=function Xt(S){var P=new S.constructor(S.byteLength);return new jt(P).set(new jt(S)),P}},7697:(Wt,de,Mt)=>{Wt=Mt.nmd(Wt);var jt=Mt(1464),Xt=de&&!de.nodeType&&de,S=Xt&&Wt&&!Wt.nodeType&&Wt,a=S&&S.exports===Xt?jt.Buffer:void 0,y=a?a.allocUnsafe:void 0;Wt.exports=function C(g,f){if(f)return g.slice();var d=g.length,c=y?y(d):new g.constructor(d);return g.copy(c),c}},5942:(Wt,de,Mt)=>{var jt=Mt(6220);Wt.exports=function Xt(S,P){var a=P?jt(S.buffer):S.buffer;return new S.constructor(a,S.byteOffset,S.byteLength)}},8466:Wt=>{var de=/\w*$/;Wt.exports=function Mt(jt){var Xt=new jt.constructor(jt.source,de.exec(jt));return Xt.lastIndex=jt.lastIndex,Xt}},4511:(Wt,de,Mt)=>{var jt=Mt(8516),Xt=jt?jt.prototype:void 0,S=Xt?Xt.valueOf:void 0;Wt.exports=function P(a){return S?Object(S.call(a)):{}}},1334:(Wt,de,Mt)=>{var jt=Mt(6220);Wt.exports=function Xt(S,P){var a=P?jt(S.buffer):S.buffer;return new S.constructor(a,S.byteOffset,S.length)}},5820:Wt=>{Wt.exports=function de(Mt,jt){var Xt=-1,S=Mt.length;for(jt||(jt=Array(S));++Xt<S;)jt[Xt]=Mt[Xt];return jt}},3190:(Wt,de,Mt)=>{var jt=Mt(9220),Xt=Mt(4399);Wt.exports=function S(P,a,y,C){var g=!y;y||(y={});for(var f=-1,d=a.length;++f<d;){var c=a[f],h=C?C(y[c],P[c],c,y,P):void 0;void 0===h&&(h=P[c]),g?Xt(y,c,h):jt(y,c,h)}return y}},5308:(Wt,de,Mt)=>{var jt=Mt(3190),Xt=Mt(181);Wt.exports=function S(P,a){return jt(P,Xt(P),a)}},7491:(Wt,de,Mt)=>{var jt=Mt(3190),Xt=Mt(5254);Wt.exports=function S(P,a){return jt(P,Xt(P),a)}},336:(Wt,de,Mt)=>{var jt=Mt(1464);Wt.exports=jt["__core-js_shared__"]},4678:(Wt,de,Mt)=>{var jt=Mt(4385),Xt=function(){try{var S=jt(Object,"defineProperty");return S({},"",{}),S}catch{}}();Wt.exports=Xt},8657:Wt=>{var de="object"==typeof global&&global&&global.Object===Object&&global;Wt.exports=de},3539:(Wt,de,Mt)=>{var jt=Mt(9926),Xt=Mt(181),S=Mt(2561);Wt.exports=function P(a){return jt(a,S,Xt)}},9088:(Wt,de,Mt)=>{var jt=Mt(9926),Xt=Mt(5254),S=Mt(7674);Wt.exports=function P(a){return jt(a,S,Xt)}},9038:(Wt,de,Mt)=>{var jt=Mt(3329);Wt.exports=function Xt(S,P){var a=S.__data__;return jt(P)?a["string"==typeof P?"string":"hash"]:a.map}},4385:(Wt,de,Mt)=>{var jt=Mt(298),Xt=Mt(8737);Wt.exports=function S(P,a){var y=Xt(P,a);return jt(y)?y:void 0}},6902:(Wt,de,Mt)=>{var Xt=Mt(2852)(Object.getPrototypeOf,Object);Wt.exports=Xt},8488:(Wt,de,Mt)=>{var jt=Mt(8516),Xt=Object.prototype,S=Xt.hasOwnProperty,P=Xt.toString,a=jt?jt.toStringTag:void 0;Wt.exports=function y(C){var g=S.call(C,a),f=C[a];try{C[a]=void 0;var d=!0}catch{}var c=P.call(C);return d&&(g?C[a]=f:delete C[a]),c}},181:(Wt,de,Mt)=>{var jt=Mt(2873),Xt=Mt(2260),P=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;Wt.exports=a?function(C){return null==C?[]:(C=Object(C),jt(a(C),function(g){return P.call(C,g)}))}:Xt},5254:(Wt,de,Mt)=>{var jt=Mt(6319),Xt=Mt(6902),S=Mt(181),P=Mt(2260);Wt.exports=Object.getOwnPropertySymbols?function(C){for(var g=[];C;)jt(g,S(C)),C=Xt(C);return g}:P},828:(Wt,de,Mt)=>{var jt=Mt(5013),Xt=Mt(1012),S=Mt(1339),P=Mt(7814),a=Mt(2248),y=Mt(1057),C=Mt(8020),g="[object Map]",d="[object Promise]",c="[object Set]",h="[object WeakMap]",p="[object DataView]",u=C(jt),m=C(Xt),v=C(S),x=C(P),b=C(a),T=y;(jt&&T(new jt(new ArrayBuffer(1)))!=p||Xt&&T(new Xt)!=g||S&&T(S.resolve())!=d||P&&T(new P)!=c||a&&T(new a)!=h)&&(T=function(_){var A=y(_),M="[object Object]"==A?_.constructor:void 0,I=M?C(M):"";if(I)switch(I){case u:return p;case m:return g;case v:return d;case x:return c;case b:return h}return A}),Wt.exports=T},8737:Wt=>{Wt.exports=function de(Mt,jt){return Mt?.[jt]}},6399:(Wt,de,Mt)=>{var jt=Mt(8247);Wt.exports=function Xt(){this.__data__=jt?jt(null):{},this.size=0}},1483:Wt=>{Wt.exports=function de(Mt){var jt=this.has(Mt)&&delete this.__data__[Mt];return this.size-=jt?1:0,jt}},3434:(Wt,de,Mt)=>{var jt=Mt(8247),P=Object.prototype.hasOwnProperty;Wt.exports=function a(y){var C=this.__data__;if(jt){var g=C[y];return"__lodash_hash_undefined__"===g?void 0:g}return P.call(C,y)?C[y]:void 0}},5230:(Wt,de,Mt)=>{var jt=Mt(8247),S=Object.prototype.hasOwnProperty;Wt.exports=function P(a){var y=this.__data__;return jt?void 0!==y[a]:S.call(y,a)}},3718:(Wt,de,Mt)=>{var jt=Mt(8247);Wt.exports=function S(P,a){var y=this.__data__;return this.size+=this.has(P)?0:1,y[P]=jt&&void 0===a?"__lodash_hash_undefined__":a,this}},9900:Wt=>{var Mt=Object.prototype.hasOwnProperty;Wt.exports=function jt(Xt){var S=Xt.length,P=new Xt.constructor(S);return S&&"string"==typeof Xt[0]&&Mt.call(Xt,"index")&&(P.index=Xt.index,P.input=Xt.input),P}},9686:(Wt,de,Mt)=>{var jt=Mt(6220),Xt=Mt(5942),S=Mt(8466),P=Mt(4511),a=Mt(1334);Wt.exports=function F(N,V,B){var G=N.constructor;switch(V){case"[object ArrayBuffer]":return jt(N);case"[object Boolean]":case"[object Date]":return new G(+N);case"[object DataView]":return Xt(N,B);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(N,B);case"[object Map]":case"[object Set]":return new G;case"[object Number]":case"[object String]":return new G(N);case"[object RegExp]":return S(N);case"[object Symbol]":return P(N)}}},2870:(Wt,de,Mt)=>{var jt=Mt(9593),Xt=Mt(6902),S=Mt(3164);Wt.exports=function P(a){return"function"!=typeof a.constructor||S(a)?{}:jt(Xt(a))}},8426:Wt=>{var Mt=/^(?:0|[1-9]\d*)$/;Wt.exports=function jt(Xt,S){var P=typeof Xt;return!!(S=S??9007199254740991)&&("number"==P||"symbol"!=P&&Mt.test(Xt))&&Xt>-1&&Xt%1==0&&Xt<S}},3329:Wt=>{Wt.exports=function de(Mt){var jt=typeof Mt;return"string"==jt||"number"==jt||"symbol"==jt||"boolean"==jt?"__proto__"!==Mt:null===Mt}},8401:(Wt,de,Mt)=>{var P,jt=Mt(336),Xt=(P=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";Wt.exports=function S(P){return!!Xt&&Xt in P}},3164:Wt=>{var de=Object.prototype;Wt.exports=function Mt(jt){var Xt=jt&&jt.constructor;return jt===("function"==typeof Xt&&Xt.prototype||de)}},3643:Wt=>{Wt.exports=function de(){this.__data__=[],this.size=0}},7103:(Wt,de,Mt)=>{var jt=Mt(6316),S=Array.prototype.splice;Wt.exports=function P(a){var y=this.__data__,C=jt(y,a);return!(C<0||(C==y.length-1?y.pop():S.call(y,C,1),--this.size,0))}},62:(Wt,de,Mt)=>{var jt=Mt(6316);Wt.exports=function Xt(S){var P=this.__data__,a=jt(P,S);return a<0?void 0:P[a][1]}},1610:(Wt,de,Mt)=>{var jt=Mt(6316);Wt.exports=function Xt(S){return jt(this.__data__,S)>-1}},1090:(Wt,de,Mt)=>{var jt=Mt(6316);Wt.exports=function Xt(S,P){var a=this.__data__,y=jt(a,S);return y<0?(++this.size,a.push([S,P])):a[y][1]=P,this}},1891:(Wt,de,Mt)=>{var jt=Mt(3028),Xt=Mt(5752),S=Mt(1012);Wt.exports=function P(){this.size=0,this.__data__={hash:new jt,map:new(S||Xt),string:new jt}}},2759:(Wt,de,Mt)=>{var jt=Mt(9038);Wt.exports=function Xt(S){var P=jt(this,S).delete(S);return this.size-=P?1:0,P}},7766:(Wt,de,Mt)=>{var jt=Mt(9038);Wt.exports=function Xt(S){return jt(this,S).get(S)}},322:(Wt,de,Mt)=>{var jt=Mt(9038);Wt.exports=function Xt(S){return jt(this,S).has(S)}},7258:(Wt,de,Mt)=>{var jt=Mt(9038);Wt.exports=function Xt(S,P){var a=jt(this,S),y=a.size;return a.set(S,P),this.size+=a.size==y?0:1,this}},8247:(Wt,de,Mt)=>{var Xt=Mt(4385)(Object,"create");Wt.exports=Xt},6199:(Wt,de,Mt)=>{var Xt=Mt(2852)(Object.keys,Object);Wt.exports=Xt},908:Wt=>{Wt.exports=function de(Mt){var jt=[];if(null!=Mt)for(var Xt in Object(Mt))jt.push(Xt);return jt}},512:(Wt,de,Mt)=>{Wt=Mt.nmd(Wt);var jt=Mt(8657),Xt=de&&!de.nodeType&&de,S=Xt&&Wt&&!Wt.nodeType&&Wt,a=S&&S.exports===Xt&&jt.process,y=function(){try{return S&&S.require&&S.require("util").types||a&&a.binding&&a.binding("util")}catch{}}();Wt.exports=y},3327:Wt=>{var Mt=Object.prototype.toString;Wt.exports=function jt(Xt){return Mt.call(Xt)}},2852:Wt=>{Wt.exports=function de(Mt,jt){return function(Xt){return Mt(jt(Xt))}}},1464:(Wt,de,Mt)=>{var jt=Mt(8657),Xt="object"==typeof self&&self&&self.Object===Object&&self,S=jt||Xt||Function("return this")();Wt.exports=S},8945:(Wt,de,Mt)=>{var jt=Mt(5752);Wt.exports=function Xt(){this.__data__=new jt,this.size=0}},8425:Wt=>{Wt.exports=function de(Mt){var jt=this.__data__,Xt=jt.delete(Mt);return this.size=jt.size,Xt}},5280:Wt=>{Wt.exports=function de(Mt){return this.__data__.get(Mt)}},324:Wt=>{Wt.exports=function de(Mt){return this.__data__.has(Mt)}},4516:(Wt,de,Mt)=>{var jt=Mt(5752),Xt=Mt(1012),S=Mt(752);Wt.exports=function a(y,C){var g=this.__data__;if(g instanceof jt){var f=g.__data__;if(!Xt||f.length<199)return f.push([y,C]),this.size=++g.size,this;g=this.__data__=new S(f)}return g.set(y,C),this.size=g.size,this}},8020:Wt=>{var Mt=Function.prototype.toString;Wt.exports=function jt(Xt){if(null!=Xt){try{return Mt.call(Xt)}catch{}try{return Xt+""}catch{}}return""}},4418:(Wt,de,Mt)=>{var jt=Mt(5052);Wt.exports=function P(a){return jt(a,5)}},2651:Wt=>{Wt.exports=function de(Mt,jt){return Mt===jt||Mt!=Mt&&jt!=jt}},6265:(Wt,de,Mt)=>{var jt=Mt(8313),Xt=Mt(7433),S=Object.prototype,P=S.hasOwnProperty,a=S.propertyIsEnumerable,y=jt(function(){return arguments}())?jt:function(C){return Xt(C)&&P.call(C,"callee")&&!a.call(C,"callee")};Wt.exports=y},9812:Wt=>{Wt.exports=Array.isArray},7291:(Wt,de,Mt)=>{var jt=Mt(8653),Xt=Mt(8845);Wt.exports=function S(P){return null!=P&&Xt(P.length)&&!jt(P)}},3151:(Wt,de,Mt)=>{Wt=Mt.nmd(Wt);var jt=Mt(1464),Xt=Mt(5710),S=de&&!de.nodeType&&de,P=S&&Wt&&!Wt.nodeType&&Wt,y=P&&P.exports===S?jt.Buffer:void 0;Wt.exports=(y?y.isBuffer:void 0)||Xt},8653:(Wt,de,Mt)=>{var jt=Mt(1057),Xt=Mt(3278);Wt.exports=function C(g){if(!Xt(g))return!1;var f=jt(g);return"[object Function]"==f||"[object GeneratorFunction]"==f||"[object AsyncFunction]"==f||"[object Proxy]"==f}},8845:Wt=>{Wt.exports=function Mt(jt){return"number"==typeof jt&&jt>-1&&jt%1==0&&jt<=9007199254740991}},6879:(Wt,de,Mt)=>{var jt=Mt(6095),Xt=Mt(2502),S=Mt(512),P=S&&S.isMap,a=P?Xt(P):jt;Wt.exports=a},3278:Wt=>{Wt.exports=function de(Mt){var jt=typeof Mt;return null!=Mt&&("object"==jt||"function"==jt)}},7433:Wt=>{Wt.exports=function de(Mt){return null!=Mt&&"object"==typeof Mt}},4257:(Wt,de,Mt)=>{var jt=Mt(1889),Xt=Mt(2502),S=Mt(512),P=S&&S.isSet,a=P?Xt(P):jt;Wt.exports=a},1028:(Wt,de,Mt)=>{var jt=Mt(8068),Xt=Mt(2502),S=Mt(512),P=S&&S.isTypedArray,a=P?Xt(P):jt;Wt.exports=a},2561:(Wt,de,Mt)=>{var jt=Mt(8548),Xt=Mt(3809),S=Mt(7291);Wt.exports=function P(a){return S(a)?jt(a):Xt(a)}},7674:(Wt,de,Mt)=>{var jt=Mt(8548),Xt=Mt(1194),S=Mt(7291);Wt.exports=function P(a){return S(a)?jt(a,!0):Xt(a)}},2260:Wt=>{Wt.exports=function de(){return[]}},5710:Wt=>{Wt.exports=function de(){return!1}},3945:function(Wt){var jt;jt=()=>(()=>{var de={50792:S=>{"use strict";var P=Object.prototype.hasOwnProperty,a="~";function y(){}function C(c,h,p){this.fn=c,this.context=h,this.once=p||!1}function g(c,h,p,u,m){if("function"!=typeof p)throw new TypeError("The listener must be a function");var v=new C(p,u||c,m),x=a?a+h:h;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],v]:c._events[x].push(v):(c._events[x]=v,c._eventsCount++),c}function f(c,h){0==--c._eventsCount?c._events=new y:delete c._events[h]}function d(){this._events=new y,this._eventsCount=0}Object.create&&(y.prototype=Object.create(null),(new y).__proto__||(a=!1)),d.prototype.eventNames=function(){var p,u,h=[];if(0===this._eventsCount)return h;for(u in p=this._events)P.call(p,u)&&h.push(a?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var u=this._events[a?a+h:h];if(!u)return[];if(u.fn)return[u.fn];for(var m=0,v=u.length,x=new Array(v);m<v;m++)x[m]=u[m].fn;return x},d.prototype.listenerCount=function(h){var u=this._events[a?a+h:h];return u?u.fn?1:u.length:0},d.prototype.emit=function(h,p,u,m,v,x){var b=a?a+h:h;if(!this._events[b])return!1;var A,M,T=this._events[b],_=arguments.length;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),_){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,p),!0;case 3:return T.fn.call(T.context,p,u),!0;case 4:return T.fn.call(T.context,p,u,m),!0;case 5:return T.fn.call(T.context,p,u,m,v),!0;case 6:return T.fn.call(T.context,p,u,m,v,x),!0}for(M=1,A=new Array(_-1);M<_;M++)A[M-1]=arguments[M];T.fn.apply(T.context,A)}else{var R,I=T.length;for(M=0;M<I;M++)switch(T[M].once&&this.removeListener(h,T[M].fn,void 0,!0),_){case 1:T[M].fn.call(T[M].context);break;case 2:T[M].fn.call(T[M].context,p);break;case 3:T[M].fn.call(T[M].context,p,u);break;case 4:T[M].fn.call(T[M].context,p,u,m);break;default:if(!A)for(R=1,A=new Array(_-1);R<_;R++)A[R-1]=arguments[R];T[M].fn.apply(T[M].context,A)}}return!0},d.prototype.on=function(h,p,u){return g(this,h,p,u,!1)},d.prototype.once=function(h,p,u){return g(this,h,p,u,!0)},d.prototype.removeListener=function(h,p,u,m){var v=a?a+h:h;if(!this._events[v])return this;if(!p)return f(this,v),this;var x=this._events[v];if(x.fn)x.fn===p&&(!m||x.once)&&(!u||x.context===u)&&f(this,v);else{for(var b=0,T=[],_=x.length;b<_;b++)(x[b].fn!==p||m&&!x[b].once||u&&x[b].context!==u)&&T.push(x[b]);T.length?this._events[v]=1===T.length?T[0]:T:f(this,v)}return this},d.prototype.removeAllListeners=function(h){var p;return h?this._events[p=a?a+h:h]&&f(this,p):(this._events=new y,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=a,d.EventEmitter=d,S.exports=d},11517:(S,P,a)=>{var y=a(38829);S.exports=function(g,f,d,c){for(var h=g[0],p=1;p<g.length;p++){var u=g[p];y(u,h,f,d,c),h=u}return g}},80318:(S,P,a)=>{var y=a(66979);S.exports=function(g,f,d,c,h){return y(g,"angle",f,d,c,h)}},60757:S=>{S.exports=function(a,y,C){for(var g=0;g<a.length;g++)y.call(C,a[g]);return a}},69927:S=>{S.exports=function(a,y,C){void 0===C&&(C=0);for(var g=C;g<a.length;g++){var f=a[g],d=!0;for(var c in y)f[c]!==y[c]&&(d=!1);if(d)return f}return null}},32265:S=>{S.exports=function(a,y,C){void 0===C&&(C=0);for(var g=a.length-1;g>=C;g--){var f=a[g],d=!0;for(var c in y)f[c]!==y[c]&&(d=!1);if(d)return f}return null}},94420:(S,P,a)=>{var y=a(11879),C=a(60461),g=a(95540),f=a(29747),c=new(a(41481))({sys:{queueDepthSort:f,events:{once:f}}},0,0,1,1).setOrigin(0,0);S.exports=function(p,u){void 0===u&&(u={});var m=u.hasOwnProperty("width"),v=u.hasOwnProperty("height"),x=g(u,"width",-1),b=g(u,"height",-1),T=g(u,"cellWidth",1),_=g(u,"cellHeight",T),A=g(u,"position",C.TOP_LEFT),M=g(u,"x",0),I=g(u,"y",0),R=0,F=0,N=x*T,V=b*_;c.setPosition(M,I),c.setSize(T,_);for(var B=0;B<p.length;B++)if(y(p[B],c,A),m&&-1===x)c.x+=T;else if(v&&-1===b)c.y+=_;else if(v&&!m){if(F+=_,c.y+=_,F===V&&(F=0,R+=T,c.y=I,c.x+=T,R===N))break}else if(R+=T,c.x+=T,R===N&&(R=0,F+=_,c.x=M,c.y+=_,F===V))break;return p}},41721:(S,P,a)=>{var y=a(66979);S.exports=function(g,f,d,c,h){return y(g,"alpha",f,d,c,h)}},67285:(S,P,a)=>{var y=a(66979);S.exports=function(g,f,d,c,h){return y(g,"x",f,d,c,h)}},9074:(S,P,a)=>{var y=a(66979);S.exports=function(g,f,d,c,h,p,u){return null==d&&(d=f),y(g,"x",f,c,p,u),y(g,"y",d,h,p,u)}},75222:(S,P,a)=>{var y=a(66979);S.exports=function(g,f,d,c,h){return y(g,"y",f,d,c,h)}},22983:S=>{S.exports=function(a,y,C,g){void 0===C&&(C=0),void 0===g&&(g=6.28);for(var f=C,d=(g-C)/a.length,c=y.x,h=y.y,p=y.radius,u=0;u<a.length;u++)a[u].x=c+p*Math.cos(f),a[u].y=h+p*Math.sin(f),f+=d;return a}},95253:S=>{S.exports=function(a,y,C,g){void 0===C&&(C=0),void 0===g&&(g=6.28);for(var f=C,d=(g-C)/a.length,c=y.width/2,h=y.height/2,p=0;p<a.length;p++)a[p].x=y.x+c*Math.cos(f),a[p].y=y.y+h*Math.sin(f),f+=d;return a}},88505:(S,P,a)=>{var y=a(15258),C=a(26708);S.exports=function(f,d,c){var h;h=c?C(d,c,f.length):y(d,f.length);for(var p=0;p<f.length;p++){var u=f[p],m=h[p];u.x=m.x,u.y=m.y}return f}},41346:(S,P,a)=>{var y=a(14649),C=a(86003),g=a(49498);S.exports=function(d,c,h){void 0===h&&(h=0);var p=y(c,!1,d.length);h>0?C(p,h):h<0&&g(p,Math.abs(h));for(var u=0;u<d.length;u++)d[u].x=p[u].x,d[u].y=p[u].y;return d}},11575:(S,P,a)=>{var y=a(84993);S.exports=function(g,f,d){var c=y({x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2},d),h=y({x1:f.x2,y1:f.y2,x2:f.x3,y2:f.y3},d),p=y({x1:f.x3,y1:f.y3,x2:f.x1,y2:f.y1},d);c.pop(),h.pop(),p.pop();for(var u=(c=c.concat(h,p)).length/g.length,m=0,v=0;v<g.length;v++){var x=g[v],b=c[Math.floor(m)];x.x=b.x,x.y=b.y,m+=u}return g}},29953:S=>{S.exports=function(a,y,C){for(var g=0;g<a.length;g++){var f=a[g];f.anims&&f.anims.play(y,C)}return a}},66979:S=>{S.exports=function(a,y,C,g,f,d){void 0===g&&(g=0),void 0===f&&(f=0),void 0===d&&(d=1);var c,h=0,p=a.length;if(1===d)for(c=f;c<p;c++)a[c][y]+=C+h*g,h++;else for(c=f;c>=0;c--)a[c][y]+=C+h*g,h++;return a}},43967:S=>{S.exports=function(a,y,C,g,f,d){void 0===g&&(g=0),void 0===f&&(f=0),void 0===d&&(d=1);var c,h=0,p=a.length;if(1===d)for(c=f;c<p;c++)a[c][y]=C+h*g,h++;else for(c=f;c>=0;c--)a[c][y]=C+h*g,h++;return a}},88926:(S,P,a)=>{var y=a(28176);S.exports=function(g,f){for(var d=0;d<g.length;d++)y(f,g[d]);return g}},33286:(S,P,a)=>{var y=a(24820);S.exports=function(g,f){for(var d=0;d<g.length;d++)y(f,g[d]);return g}},96e3:(S,P,a)=>{var y=a(65822);S.exports=function(g,f){for(var d=0;d<g.length;d++)y(f,g[d]);return g}},28789:(S,P,a)=>{var y=a(26597);S.exports=function(g,f){for(var d=0;d<g.length;d++)y(f,g[d]);return g}},97154:(S,P,a)=>{var y=a(90260);S.exports=function(g,f){for(var d=0;d<g.length;d++)y(f,g[d]);return g}},20510:(S,P,a)=>{var y=a(66979);S.exports=function(g,f,d,c,h){return y(g,"rotation",f,d,c,h)}},91051:(S,P,a)=>{var y=a(1163),C=a(20339);S.exports=function(f,d,c){for(var h=d.x,p=d.y,u=0;u<f.length;u++){var m=f[u];y(m,h,p,c,Math.max(1,C(m.x,m.y,h,p)))}return f}},76332:(S,P,a)=>{var y=a(1163);S.exports=function(g,f,d,c){var h=f.x,p=f.y;if(0===c)return g;for(var u=0;u<g.length;u++)y(g[u],h,p,d,c);return g}},61619:(S,P,a)=>{var y=a(66979);S.exports=function(g,f,d,c,h){return y(g,"scaleX",f,d,c,h)}},94868:(S,P,a)=>{var y=a(66979);S.exports=function(g,f,d,c,h,p,u){return null==d&&(d=f),y(g,"scaleX",f,c,p,u),y(g,"scaleY",d,h,p,u)}},95532:(S,P,a)=>{var y=a(66979);S.exports=function(g,f,d,c,h){return y(g,"scaleY",f,d,c,h)}},8689:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h){return y(g,"alpha",f,d,c,h)}},2645:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c){return y(g,"blendMode",f,0,d,c)}},32372:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h){return y(g,"depth",f,d,c,h)}},85373:S=>{S.exports=function(a,y,C){for(var g=0;g<a.length;g++)a[g].setInteractive(y,C);return a}},81583:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h,p,u){return null==d&&(d=f),y(g,"originX",f,c,p,u),y(g,"originY",d,h,p,u),g.forEach(function(m){m.updateDisplayOrigin()}),g}},79939:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h){return y(g,"rotation",f,d,c,h)}},2699:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h,p,u){return null==d&&(d=f),y(g,"scaleX",f,c,p,u),y(g,"scaleY",d,h,p,u)}},98739:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h){return y(g,"scaleX",f,d,c,h)}},98476:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h){return y(g,"scaleY",f,d,c,h)}},6207:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h,p,u){return null==d&&(d=f),y(g,"scrollFactorX",f,c,p,u),y(g,"scrollFactorY",d,h,p,u)}},6607:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h){return y(g,"scrollFactorX",f,d,c,h)}},72248:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h){return y(g,"scrollFactorY",f,d,c,h)}},14036:S=>{S.exports=function(a,y,C,g,f){for(var d=0;d<a.length;d++)a[d].setTint(y,C,g,f);return a}},50159:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c){return y(g,"visible",f,0,d,c)}},77597:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h){return y(g,"x",f,d,c,h)}},83194:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h,p,u){return null==d&&(d=f),y(g,"x",f,c,p,u),y(g,"y",d,h,p,u)}},67678:(S,P,a)=>{var y=a(43967);S.exports=function(g,f,d,c,h){return y(g,"y",f,d,c,h)}},35850:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c,h){void 0===c&&(c=0),void 0===h&&(h=new y);var p,u,m=g.length;if(1===m)p=g[0].x,u=g[0].y,g[0].x=f,g[0].y=d;else{var v=1,x=0;0===c&&(x=m-1,v=m-2),p=g[x].x,u=g[x].y,g[x].x=f,g[x].y=d;for(var b=0;b<m;b++)if(!(v>=m||-1===v)){var T=g[v],_=T.x,A=T.y;T.x=p,T.y=u,p=_,u=A,0===c?v--:v++}}return h.x=p,h.y=u,h}},8628:(S,P,a)=>{var y=a(33680);S.exports=function(g){return y(g)}},21837:(S,P,a)=>{var y=a(7602);S.exports=function(g,f,d,c,h){void 0===h&&(h=!1);var u,p=Math.abs(c-d)/g.length;if(h)for(u=0;u<g.length;u++)g[u][f]+=y(u*p,d,c);else for(u=0;u<g.length;u++)g[u][f]=y(u*p,d,c);return g}},21910:(S,P,a)=>{var y=a(54261);S.exports=function(g,f,d,c,h){void 0===h&&(h=!1);var u,p=Math.abs(c-d)/g.length;if(h)for(u=0;u<g.length;u++)g[u][f]+=y(u*p,d,c);else for(u=0;u<g.length;u++)g[u][f]=y(u*p,d,c);return g}},62054:S=>{S.exports=function(a,y,C,g,f){if(void 0===f&&(f=!1),0===a.length)return a;if(1===a.length)return f?a[0][y]+=(g+C)/2:a[0][y]=(g+C)/2,a;var c,d=Math.abs(g-C)/(a.length-1);if(f)for(c=0;c<a.length;c++)a[c][y]+=c*d+C;else for(c=0;c<a.length;c++)a[c][y]=c*d+C;return a}},79815:S=>{S.exports=function(a){for(var y=0;y<a.length;y++)a[y].visible=!a[y].visible;return a}},39665:(S,P,a)=>{var y=a(15994);S.exports=function(g,f,d){void 0===d&&(d=0);for(var c=0;c<g.length;c++){var h=g[c];h.x=y(h.x,f.left-d,f.right+d),h.y=y(h.y,f.top-d,f.bottom+d)}return g}},61061:(S,P,a)=>{S.exports={AlignTo:a(11517),Angle:a(80318),Call:a(60757),GetFirst:a(69927),GetLast:a(32265),GridAlign:a(94420),IncAlpha:a(41721),IncX:a(67285),IncXY:a(9074),IncY:a(75222),PlaceOnCircle:a(22983),PlaceOnEllipse:a(95253),PlaceOnLine:a(88505),PlaceOnRectangle:a(41346),PlaceOnTriangle:a(11575),PlayAnimation:a(29953),PropertyValueInc:a(66979),PropertyValueSet:a(43967),RandomCircle:a(88926),RandomEllipse:a(33286),RandomLine:a(96e3),RandomRectangle:a(28789),RandomTriangle:a(97154),Rotate:a(20510),RotateAround:a(91051),RotateAroundDistance:a(76332),ScaleX:a(61619),ScaleXY:a(94868),ScaleY:a(95532),SetAlpha:a(8689),SetBlendMode:a(2645),SetDepth:a(32372),SetHitArea:a(85373),SetOrigin:a(81583),SetRotation:a(79939),SetScale:a(2699),SetScaleX:a(98739),SetScaleY:a(98476),SetScrollFactor:a(6207),SetScrollFactorX:a(6607),SetScrollFactorY:a(72248),SetTint:a(14036),SetVisible:a(50159),SetX:a(77597),SetXY:a(83194),SetY:a(67678),ShiftPosition:a(35850),Shuffle:a(8628),SmootherStep:a(21910),SmoothStep:a(21837),Spread:a(62054),ToggleVisible:a(79815),WrapInRectangle:a(39665)}},42099:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(74943),f=a(81957),d=a(41138),c=a(35154),h=a(90126),p=new C({initialize:function(m,v,x){this.manager=m,this.key=v,this.type="frame",this.frames=this.getFrames(m.textureManager,c(x,"frames",[]),c(x,"defaultTextureKey",null),c(x,"sortFrames",!0)),this.frameRate=c(x,"frameRate",null),this.duration=c(x,"duration",null),this.skipMissedFrames=c(x,"skipMissedFrames",!0),this.delay=c(x,"delay",0),this.repeat=c(x,"repeat",0),this.repeatDelay=c(x,"repeatDelay",0),this.yoyo=c(x,"yoyo",!1),this.showBeforeDelay=c(x,"showBeforeDelay",!1),this.showOnStart=c(x,"showOnStart",!1),this.hideOnComplete=c(x,"hideOnComplete",!1),this.randomFrame=c(x,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(g.PAUSE_ALL,this.pause,this),this.manager.on(g.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(u,m,v,x){null===v&&null===x?(u.frameRate=24,u.duration=24/m*1e3):v&&null===x?(u.duration=v,u.frameRate=m/(v/1e3)):(u.frameRate=x,u.duration=m/x*1e3),u.msPerFrame=1e3/u.frameRate},addFrame:function(u){return this.addFrameAt(this.frames.length,u)},addFrameAt:function(u,m){var v=this.getFrames(this.manager.textureManager,m);if(v.length>0){if(0===u)this.frames=v.concat(this.frames);else if(u===this.frames.length)this.frames=this.frames.concat(v);else{var x=this.frames.slice(0,u),b=this.frames.slice(u);this.frames=x.concat(v,b)}this.updateFrameSequence()}return this},checkFrame:function(u){return u>=0&&u<this.frames.length},getFirstTick:function(u){u.accumulator=0,u.nextTick=u.currentFrame.duration?u.currentFrame.duration:u.msPerFrame},getFrameAt:function(u){return this.frames[u]},getFrames:function(u,m,v,x){void 0===x&&(x=!0);var T,_,M,I,b=[],A=1;if("string"==typeof m){if(!u.exists(I=m))return console.warn('Texture "%s" not found',I),b;var F=u.get(I).getFrameNames();x&&h(F),m=[],F.forEach(function(H){m.push({key:I,frame:H})})}if(!Array.isArray(m)||0===m.length)return b;for(M=0;M<m.length;M++){var N=m[M],V=c(N,"key",v);if(V){var B=c(N,"frame",0),G=u.getFrame(V,B);if(!G){console.warn('Texture "%s" not found',V);continue}(_=new d(V,B,A,G)).duration=c(N,"duration",0),_.isFirst=!T,T&&(T.nextFrame=_,_.prevFrame=T),b.push(_),T=_,A++}}if(b.length>0){_.isLast=!0,_.nextFrame=b[0],b[0].prevFrame=_;var Q=1/(b.length-1);for(M=0;M<b.length;M++)b[M].progress=M*Q}return b},getNextTick:function(u){u.accumulator-=u.nextTick,u.nextTick=u.currentFrame.duration?u.currentFrame.duration:u.msPerFrame},getFrameByProgress:function(u){return u=y(u,0,1),f(u,this.frames,"progress")},nextFrame:function(u){var m=u.currentFrame;m.isLast?u.yoyo?this.handleYoyoFrame(u,!1):u.repeatCounter>0?u.inReverse&&u.forward?u.forward=!1:this.repeatAnimation(u):u.complete():this.updateAndGetNextTick(u,m.nextFrame)},handleYoyoFrame:function(u,m){if(m||(m=!1),u.inReverse===!m&&u.repeatCounter>0)return(0===u.repeatDelay||u.pendingRepeat)&&(u.forward=m),void this.repeatAnimation(u);u.inReverse===m||0!==u.repeatCounter?(u.forward=m,this.updateAndGetNextTick(u,m?u.currentFrame.nextFrame:u.currentFrame.prevFrame)):u.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(u){var m=u.currentFrame;m.isFirst?u.yoyo?this.handleYoyoFrame(u,!0):u.repeatCounter>0?(u.inReverse&&!u.forward||(u.forward=!0),this.repeatAnimation(u)):u.complete():this.updateAndGetNextTick(u,m.prevFrame)},updateAndGetNextTick:function(u,m){u.setCurrentFrame(m),this.getNextTick(u)},removeFrame:function(u){var m=this.frames.indexOf(u);return-1!==m&&this.removeFrameAt(m),this},removeFrameAt:function(u){return this.frames.splice(u,1),this.updateFrameSequence(),this},repeatAnimation:function(u){if(2===u._pendingStop){if(0===u._pendingStopValue)return u.stop();u._pendingStopValue--}u.repeatDelay>0&&!u.pendingRepeat?(u.pendingRepeat=!0,u.accumulator-=u.nextTick,u.nextTick+=u.repeatDelay):(u.repeatCounter--,u.setCurrentFrame(u.forward?u.currentFrame.nextFrame:u.currentFrame.prevFrame),u.isPlaying&&(this.getNextTick(u),u.handleRepeat()))},toJSON:function(){var u={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(m){u.frames.push(m.toJSON())}),u},updateFrameSequence:function(){for(var v,u=this.frames.length,m=1/(u-1),x=0;x<u;x++)(v=this.frames[x]).index=x+1,v.isFirst=!1,v.isLast=!1,v.progress=x*m,0===x?(v.isFirst=!0,1===u?(v.isLast=!0,v.nextFrame=v,v.prevFrame=v):(v.isLast=!1,v.prevFrame=this.frames[u-1],v.nextFrame=this.frames[x+1])):x===u-1&&u>1?(v.isLast=!0,v.prevFrame=this.frames[u-2],v.nextFrame=this.frames[0]):u>1&&(v.prevFrame=this.frames[x-1],v.nextFrame=this.frames[x+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(g.PAUSE_ALL,this.pause,this),this.manager.off(g.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var u=0;u<this.frames.length;u++)this.frames[u].destroy();this.frames=[],this.manager=null}});S.exports=p},41138:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c,h,p){void 0===p&&(p=!1),this.textureKey=f,this.textureFrame=d,this.index=c,this.frame=h,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=p},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});S.exports=C},60848:(S,P,a)=>{var y=a(42099),C=a(83419),g=a(90330),f=a(50792),d=a(74943),c=a(8443),h=a(95540),p=a(35154),u=a(36383),m=a(20283),v=a(41836),x=new C({Extends:f,initialize:function(T){f.call(this),this.game=T,this.textureManager=null,this.globalTimeScale=1,this.anims=new g,this.mixes=new g,this.paused=!1,this.name="AnimationManager",T.events.once(c.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(c.DESTROY,this.destroy,this)},addMix:function(b,T,_){var A=this.anims,M=this.mixes,I="string"==typeof b?b:b.key,R="string"==typeof T?T:T.key;if(A.has(I)&&A.has(R)){var F=M.get(I);F||(F={}),F[R]=_,M.set(I,F)}return this},removeMix:function(b,T){var _=this.mixes,A="string"==typeof b?b:b.key,M=_.get(A);if(M)if(T){var I="string"==typeof T?T:T.key;M.hasOwnProperty(I)&&delete M[I]}else T||_.delete(A);return this},getMix:function(b,T){var M="string"==typeof T?T:T.key,I=this.mixes.get("string"==typeof b?b:b.key);return I&&I.hasOwnProperty(M)?I[M]:0},add:function(b,T){return this.anims.has(b)?(console.warn("Animation key exists: "+b),this):(T.key=b,this.anims.set(b,T),this.emit(d.ADD_ANIMATION,b,T),this)},exists:function(b){return this.anims.has(b)},createFromAseprite:function(b,T,_){var A=[],M=this.game.cache.json.get(b);if(!M)return console.warn("No Aseprite data found for: "+b),A;var I=this,R=p(M,"meta",null),F=p(M,"frames",null);return R&&F&&p(R,"frameTags",[]).forEach(function(V){var B=[],G=h(V,"name",null),Q=h(V,"from",0),H=h(V,"to",0),K=h(V,"direction","forward");if(G&&(!T||T&&T.indexOf(G)>-1)){for(var tt=0,at=Q;at<=H;at++){var lt=at.toString(),q=F[lt];if(q){var it=h(q,"duration",u.MAX_SAFE_INTEGER);B.push({key:b,frame:lt,duration:it}),tt+=it}}"reverse"===K&&(B=B.reverse());var X,Y={key:G,frames:B,duration:tt,yoyo:"pingpong"===K};_?_.anims&&(X=_.anims.create(Y)):X=I.create(Y),X&&A.push(X)}}),A},create:function(b){var T=b.key,_=!1;return T&&((_=this.get(T))?console.warn("AnimationManager key already exists: "+T):(_=new y(this,T,b),this.anims.set(T,_),this.emit(d.ADD_ANIMATION,T,_))),_},fromJSON:function(b,T){void 0===T&&(T=!1),T&&this.anims.clear(),"string"==typeof b&&(b=JSON.parse(b));var _=[];if(b.hasOwnProperty("anims")&&Array.isArray(b.anims)){for(var A=0;A<b.anims.length;A++)_.push(this.create(b.anims[A]));b.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=b.globalTimeScale)}else b.hasOwnProperty("key")&&"frame"===b.type&&_.push(this.create(b));return _},generateFrameNames:function(b,T){var _=p(T,"prefix",""),A=p(T,"start",0),M=p(T,"end",0),I=p(T,"suffix",""),R=p(T,"zeroPad",0),F=p(T,"outputArray",[]),N=p(T,"frames",!1);if(!this.textureManager.exists(b))return console.warn('Texture "%s" not found',b),F;var B,V=this.textureManager.get(b);if(!V)return F;if(T)for(N||(N=m(A,M)),B=0;B<N.length;B++){var G=_+v(N[B],R,"0",1)+I;V.has(G)?F.push({key:b,frame:G}):console.warn('Frame "%s" not found in texture "%s"',G,b)}else for(N=V.getFrameNames(),B=0;B<N.length;B++)F.push({key:b,frame:N[B]});return F},generateFrameNumbers:function(b,T){var _=p(T,"start",0),A=p(T,"end",-1),M=p(T,"first",!1),I=p(T,"outputArray",[]),R=p(T,"frames",!1);if(!this.textureManager.exists(b))return console.warn('Texture "%s" not found',b),I;var F=this.textureManager.get(b);if(!F)return I;M&&F.has(M)&&I.push({key:b,frame:M}),R||(-1===A&&(A=F.frameTotal-2),R=m(_,A));for(var N=0;N<R.length;N++){var V=R[N];F.has(V)?I.push({key:b,frame:V}):console.warn('Frame "%s" not found in texture "%s"',V,b)}return I},get:function(b){return this.anims.get(b)},getAnimsFromTexture:function(b){for(var _=this.textureManager.get(b).key,A=this.anims.getArray(),M=[],I=0;I<A.length;I++)for(var R=A[I],F=R.frames,N=0;N<F.length;N++)if(F[N].textureKey===_){M.push(R.key);break}return M},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(d.PAUSE_ALL)),this},play:function(b,T){Array.isArray(T)||(T=[T]);for(var _=0;_<T.length;_++)T[_].anims.play(b);return this},staggerPlay:function(b,T,_,A){void 0===_&&(_=0),void 0===A&&(A=!0),Array.isArray(T)||(T=[T]);var M=T.length;A||M--;for(var I=0;I<T.length;I++){var R=_<0?Math.abs(_)*(M-I):_*I;T[I].anims.playAfterDelay(b,R)}return this},remove:function(b){var T=this.get(b);return T&&(this.emit(d.REMOVE_ANIMATION,b,T),this.anims.delete(b),this.removeMix(b)),T},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(d.RESUME_ALL)),this},toJSON:function(b){var T={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==b&&""!==b?T.anims.push(this.anims.get(b).toJSON()):this.anims.each(function(_,A){T.anims.push(A.toJSON())}),T},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});S.exports=x},9674:(S,P,a)=>{var y=a(42099),C=a(30976),g=a(83419),f=a(90330),d=a(74943),c=a(95540),h=new g({initialize:function(u){this.parent=u,this.animationManager=u.scene.sys.anims,this.animationManager.on(d.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0},chain:function(p){var u=this.parent;if(void 0===p)return this.nextAnimsQueue.length=0,this.nextAnim=null,u;Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var v=p[m];this.nextAnim?this.nextAnimsQueue.push(v):this.nextAnim=v}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(p){this.isPlaying&&this.stop();var u=this.animationManager,m="string"==typeof p?p:c(p,"key",null),v=this.exists(m)?this.get(m):u.get(m);if(v){this.currentAnim=v;var x=v.getTotalFrames(),b=c(p,"frameRate",v.frameRate),T=c(p,"duration",v.duration);v.calculateDuration(this,x,T,b),this.delay=c(p,"delay",v.delay),this.repeat=c(p,"repeat",v.repeat),this.repeatDelay=c(p,"repeatDelay",v.repeatDelay),this.yoyo=c(p,"yoyo",v.yoyo),this.showBeforeDelay=c(p,"showBeforeDelay",v.showBeforeDelay),this.showOnStart=c(p,"showOnStart",v.showOnStart),this.hideOnComplete=c(p,"hideOnComplete",v.hideOnComplete),this.skipMissedFrames=c(p,"skipMissedFrames",v.skipMissedFrames),this.randomFrame=c(p,"randomFrame",v.randomFrame),this.timeScale=c(p,"timeScale",this.timeScale);var _=c(p,"startFrame",0);_>x&&(_=0),this.randomFrame&&(_=C(0,x-1));var A=v.frames[_];0===_&&!this.forward&&(A=v.getLastFrame()),this.currentFrame=A}else console.warn("Missing animation: "+m);return this.parent},pause:function(p){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==p&&this.setCurrentFrame(p),this.parent},resume:function(p){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==p&&this.setCurrentFrame(p),this.parent},playAfterDelay:function(p,u){if(this.isPlaying){var m=this.nextAnim;m&&this.nextAnimsQueue.unshift(m),this.nextAnim=p,this._pendingStop=1,this._pendingStopValue=u}else this.delayCounter=u,this.play(p,!0);return this.parent},playAfterRepeat:function(p,u){if(void 0===u&&(u=1),this.isPlaying){var m=this.nextAnim;m&&this.nextAnimsQueue.unshift(m),-1!==this.repeatCounter&&u>this.repeatCounter&&(u=this.repeatCounter),this.nextAnim=p,this._pendingStop=2,this._pendingStopValue=u}else this.play(p);return this.parent},play:function(p,u){void 0===u&&(u=!1);var m=this.currentAnim;if(u&&this.isPlaying&&m.key===("string"==typeof p?p:p.key))return this.parent;if(m&&this.isPlaying){var b=this.animationManager.getMix(m.key,p);if(b>0)return this.playAfterDelay(p,b)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p)},playReverse:function(p,u){return void 0===u&&(u=!1),u&&this.isPlaying&&this.currentAnim.key===("string"==typeof p?p:p.key)?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p))},startAnimation:function(p){this.load(p);var u=this.currentAnim,m=this.parent;return u&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,u.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),m},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(d.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(d.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(d.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(d.ANIMATION_COMPLETE,d.ANIMATION_COMPLETE_KEY)},emitEvents:function(p,u){var m=this.currentAnim;if(m){var v=this.currentFrame,x=this.parent,b=v.textureFrame;x.emit(p,m,v,x,b),u&&x.emit(u+m.key,m,v,x,b)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var p=this.currentFrame;if(!p)return 0;var u=p.progress;return this.inReverse&&(u*=-1),u},setProgress:function(p){return this.forward||(p=1-p),this.setCurrentFrame(this.currentAnim.getFrameByProgress(p)),this.parent},setRepeat:function(p){return this.repeatCounter=-1===p?Number.MAX_VALUE:p,this.parent},globalRemove:function(p,u){void 0===u&&(u=this.currentAnim),this.isPlaying&&u.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(p,u){void 0===p&&(p=!1),void 0===u&&(u=!1);var m=this.currentAnim,v=this.parent;return m?(u&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),m.getFirstTick(this),this.emitEvents(d.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!p,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(m.frames[0]),this.parent):v},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(p)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(p)}return this.parent},stopAfterDelay:function(p){return this._pendingStop=1,this._pendingStopValue=p,this.parent},stopAfterRepeat:function(p){return void 0===p&&(p=1),-1!==this.repeatCounter&&p>this.repeatCounter&&(p=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=p,this.parent},stopOnFrame:function(p){return this._pendingStop=3,this._pendingStopValue=p,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(p,u){var m=this.currentAnim;if(this.isPlaying&&m&&!m.paused){if(this.accumulator+=u*this.timeScale*this.animationManager.globalTimeScale,1===this._pendingStop&&(this._pendingStopValue-=u,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?m.nextFrame(this):m.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var v=0;do{this.forward?m.nextFrame(this):m.previousFrame(this),v++}while(this.isPlaying&&this.accumulator>this.nextTick&&v<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(p){var u=this.parent;return this.currentFrame=p,u.texture=p.frame.texture,u.frame=p.frame,u.isCropped&&u.frame.updateCropUVs(u._crop,u.flipX,u.flipY),p.setAlpha&&(u.alpha=p.alpha),u.setSizeToFrame(),u._originComponent&&(p.frame.customPivot?u.setOrigin(p.frame.pivotX,p.frame.pivotY):u.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(d.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===p&&this.stop()),u},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(p){return this.anims?this.anims.get(p):null},exists:function(p){return!!this.anims&&this.anims.has(p)},create:function(p){var u=p.key,m=!1;return u&&((m=this.get(u))?console.warn("Animation key already exists: "+u):(m=new y(this,u,p),this.anims||(this.anims=new f),this.anims.set(u,m))),m},createFromAseprite:function(p,u){return this.animationManager.createFromAseprite(p,u,this.parent)},generateFrameNames:function(p,u){return this.animationManager.generateFrameNames(p,u)},generateFrameNumbers:function(p,u){return this.animationManager.generateFrameNumbers(p,u)},remove:function(p){var u=this.get(p);return u&&(this.currentAnim===u&&this.stop(),this.anims.delete(p)),u},destroy:function(){this.animationManager.off(d.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});S.exports=h},57090:S=>{S.exports="add"},25312:S=>{S.exports="animationcomplete"},89580:S=>{S.exports="animationcomplete-"},52860:S=>{S.exports="animationrepeat"},63850:S=>{S.exports="animationrestart"},99085:S=>{S.exports="animationstart"},28087:S=>{S.exports="animationstop"},1794:S=>{S.exports="animationupdate"},52562:S=>{S.exports="pauseall"},57953:S=>{S.exports="remove"},68339:S=>{S.exports="resumeall"},74943:(S,P,a)=>{S.exports={ADD_ANIMATION:a(57090),ANIMATION_COMPLETE:a(25312),ANIMATION_COMPLETE_KEY:a(89580),ANIMATION_REPEAT:a(52860),ANIMATION_RESTART:a(63850),ANIMATION_START:a(99085),ANIMATION_STOP:a(28087),ANIMATION_UPDATE:a(1794),PAUSE_ALL:a(52562),REMOVE_ANIMATION:a(57953),RESUME_ALL:a(68339)}},60421:(S,P,a)=>{S.exports={Animation:a(42099),AnimationFrame:a(41138),AnimationManager:a(60848),AnimationState:a(9674),Events:a(74943)}},2161:(S,P,a)=>{var y=a(83419),C=a(90330),g=a(50792),f=a(24736),d=new y({initialize:function(){this.entries=new C,this.events=new g},add:function(c,h){return this.entries.set(c,h),this.events.emit(f.ADD,this,c,h),this},has:function(c){return this.entries.has(c)},exists:function(c){return this.entries.has(c)},get:function(c){return this.entries.get(c)},remove:function(c){var h=this.get(c);return h&&(this.entries.delete(c),this.events.emit(f.REMOVE,this,c,h.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});S.exports=d},24047:(S,P,a)=>{var y=a(2161),C=a(83419),g=a(8443),f=new C({initialize:function(c){this.game=c,this.binary=new y,this.bitmapFont=new y,this.json=new y,this.physics=new y,this.shader=new y,this.audio=new y,this.video=new y,this.text=new y,this.html=new y,this.obj=new y,this.tilemap=new y,this.xml=new y,this.custom={},this.game.events.once(g.DESTROY,this.destroy,this)},addCustom:function(d){return this.custom.hasOwnProperty(d)||(this.custom[d]=new y),this.custom[d]},destroy:function(){for(var d=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],c=0;c<d.length;c++)this[d[c]].destroy(),this[d[c]]=null;for(var h in this.custom)this.custom[h].destroy();this.custom=null,this.game=null}});S.exports=f},51464:S=>{S.exports="add"},59261:S=>{S.exports="remove"},24736:(S,P,a)=>{S.exports={ADD:a(51464),REMOVE:a(59261)}},83388:(S,P,a)=>{S.exports={BaseCache:a(2161),CacheManager:a(24047),Events:a(24736)}},71911:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(39506),f=a(50792),d=a(19715),c=a(87841),h=a(61340),p=a(80333),u=a(26099),m=new y({Extends:f,Mixins:[C.AlphaSingle,C.Visible],initialize:function(x,b,T,_){void 0===x&&(x=0),void 0===b&&(b=0),void 0===T&&(T=0),void 0===_&&(_=0),f.call(this),this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new c,this.dirty=!0,this._x=x,this._y=b,this._width=T,this._height=_,this._bounds=new c,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new h,this.transparent=!0,this.backgroundColor=p("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new u(T/2,_/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(v){this.renderList.push(v)},setOrigin:function(v,x){return void 0===v&&(v=.5),void 0===x&&(x=v),this.originX=v,this.originY=x,this},getScroll:function(v,x,b){void 0===b&&(b=new u);var _=.5*this.height;return b.x=v-.5*this.width,b.y=x-_,this.useBounds&&(b.x=this.clampX(b.x),b.y=this.clampY(b.y)),b},centerOnX:function(v){var x=.5*this.width;return this.midPoint.x=v,this.scrollX=v-x,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(v){var x=.5*this.height;return this.midPoint.y=v,this.scrollY=v-x,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(v,x){return this.centerOnX(v),this.centerOnY(x),this},centerToBounds:function(){if(this.useBounds){var v=this._bounds,x=.5*this.width,b=.5*this.height;this.midPoint.set(v.centerX,v.centerY),this.scrollX=v.centerX-x,this.scrollY=v.centerY-b}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(v){if(this.disableCull)return v;var x=this.matrix.matrix,b=x[0],T=x[1],_=x[2],A=x[3],M=b*A-T*_;if(!M)return v;var I=x[4],R=x[5],F=this.scrollX,N=this.scrollY,G=this.y,Q=G+this.height,H=this.x,K=H+this.width,tt=this.culledObjects,at=v.length;M=1/M,tt.length=0;for(var lt=0;lt<at;++lt){var q=v[lt];if(q.hasOwnProperty("width")&&!q.parentContainer){var it=q.width,Y=q.height,X=q.x-F*q.scrollFactorX-it*q.originX,nt=q.y-N*q.scrollFactorY-Y*q.originY;(X+it)*b+(nt+Y)*_+I>H&&X*b+nt*_+I<K&&(X+it)*T+(nt+Y)*A+R>G&&X*T+nt*A+R<Q&&tt.push(q)}else tt.push(q)}return tt},getWorldPoint:function(v,x,b){void 0===b&&(b=new u);var T=this.matrix.matrix,_=T[0],A=T[1],M=T[2],I=T[3],R=T[4],F=T[5],N=_*I-A*M;if(!N)return b.x=v,b.y=x,b;var V=I*(N=1/N),B=-A*N,G=-M*N,Q=_*N,H=(M*F-I*R)*N,K=(A*R-_*F)*N,tt=Math.cos(this.rotation),at=Math.sin(this.rotation),it=this.scrollX,Y=this.scrollY,X=v+(it*tt-Y*at)*this.zoomX,nt=x+(it*at+Y*tt)*this.zoomY;return b.x=X*V+nt*G+H,b.y=X*B+nt*Q+K,b},ignore:function(v){var x=this.id;Array.isArray(v)||(v=[v]);for(var b=0;b<v.length;b++){var T=v[b];Array.isArray(T)?this.ignore(T):T.isParent?this.ignore(T.getChildren()):T.cameraFilter|=x}return this},clampX:function(v){var x=this._bounds,b=this.displayWidth,T=x.x+(b-this.width)/2,_=Math.max(T,T+x.width-b);return v<T?v=T:v>_&&(v=_),v},clampY:function(v){var x=this._bounds,b=this.displayHeight,T=x.y+(b-this.height)/2,_=Math.max(T,T+x.height-b);return v<T?v=T:v>_&&(v=_),v},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(v){return void 0===v&&(v=0),this.rotation=g(v),this},setBackgroundColor:function(v){return void 0===v&&(v="rgba(0,0,0,0)"),this.backgroundColor=p(v),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(v,x,b,T,_){return void 0===_&&(_=!1),this._bounds.setTo(v,x,b,T),this.dirty=!0,this.useBounds=!0,_?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(v){void 0===v&&(v=new c);var x=this._bounds;return v.setTo(x.x,x.y,x.width,x.height),v},setName:function(v){return void 0===v&&(v=""),this.name=v,this},setPosition:function(v,x){return void 0===x&&(x=v),this.x=v,this.y=x,this},setRotation:function(v){return void 0===v&&(v=0),this.rotation=v,this},setRoundPixels:function(v){return this.roundPixels=v,this},setScene:function(v,x){void 0===x&&(x=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=v,this.isSceneCamera=x;var b=v.sys;return this.sceneManager=b.game.scene,this.scaleManager=b.scale,this.cameraManager=b.cameras,this.updateSystem(),this},setScroll:function(v,x){return void 0===x&&(x=v),this.scrollX=v,this.scrollY=x,this},setSize:function(v,x){return void 0===x&&(x=v),this.width=v,this.height=x,this},setViewport:function(v,x,b,T){return this.x=v,this.y=x,this.width=b,this.height=T,this},setZoom:function(v,x){return void 0===v&&(v=1),void 0===x&&(x=v),0===v&&(v=.001),0===x&&(x=.001),this.zoomX=v,this.zoomY=x,this},setMask:function(v,x){return void 0===x&&(x=!0),this.mask=v,this._maskCamera=x?this.cameraManager.default:this,this},clearMask:function(v){return void 0===v&&(v=!1),v&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var v={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(v.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),v},update:function(){},setIsSceneCamera:function(v){return this.isSceneCamera=v,this},updateSystem:function(){if(this.scaleManager&&this.isSceneCamera){var v=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,x=this.sceneManager;v&&!this._customViewport?x.customViewports++:!v&&this._customViewport&&x.customViewports--,this.dirty=!0,this._customViewport=v}},destroy:function(){this.emit(d.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(v){this._x=v,this.updateSystem()}},y:{get:function(){return this._y},set:function(v){this._y=v,this.updateSystem()}},width:{get:function(){return this._width},set:function(v){this._width=v,this.updateSystem()}},height:{get:function(){return this._height},set:function(v){this._height=v,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(v){v!==this._scrollX&&(this._scrollX=v,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(v){v!==this._scrollY&&(this._scrollY=v,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(v){this._zoomX=v,this._zoomY=v,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(v){this._zoomX=v,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(v){this._zoomY=v,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});S.exports=m},38058:(S,P,a)=>{var y=a(71911),C=a(67502),g=a(45319),f=a(83419),d=a(31401),c=a(20052),h=a(19715),p=a(28915),u=a(87841),m=a(26099),v=new f({Extends:y,Mixins:[d.PostPipeline],initialize:function(b,T,_,A){y.call(this,b,T,_,A),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new c.Fade(this),this.flashEffect=new c.Flash(this),this.shakeEffect=new c.Shake(this),this.panEffect=new c.Pan(this),this.rotateToEffect=new c.RotateTo(this),this.zoomEffect=new c.Zoom(this),this.lerp=new m(1,1),this.followOffset=new m,this.deadzone=null,this._follow=null},setDeadzone:function(x,b){if(void 0===x)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=x,this.deadzone.height=b):this.deadzone=new u(0,0,x,b),this._follow){var T=this.width/2,_=this.height/2,A=this._follow.x-this.followOffset.x,M=this._follow.y-this.followOffset.y;this.midPoint.set(A,M),this.scrollX=A-T,this.scrollY=M-_}C(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(x,b,T,_,A,M){return this.fadeEffect.start(!1,x,b,T,_,!0,A,M)},fadeOut:function(x,b,T,_,A,M){return this.fadeEffect.start(!0,x,b,T,_,!0,A,M)},fadeFrom:function(x,b,T,_,A,M,I){return this.fadeEffect.start(!1,x,b,T,_,A,M,I)},fade:function(x,b,T,_,A,M,I){return this.fadeEffect.start(!0,x,b,T,_,A,M,I)},flash:function(x,b,T,_,A,M,I){return this.flashEffect.start(x,b,T,_,A,M,I)},shake:function(x,b,T,_,A){return this.shakeEffect.start(x,b,T,_,A)},pan:function(x,b,T,_,A,M,I){return this.panEffect.start(x,b,T,_,A,M,I)},rotateTo:function(x,b,T,_,A,M,I){return this.rotateToEffect.start(x,b,T,_,A,M,I)},zoomTo:function(x,b,T,_,A,M){return this.zoomEffect.start(x,b,T,_,A,M)},preRender:function(){this.renderList.length=0;var x=this.width,b=this.height,T=.5*x,_=.5*b,A=this.zoomX,M=this.zoomY,I=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(A)&&Number.isInteger(M);var R=x*this.originX,F=b*this.originY,N=this._follow,V=this.deadzone,B=this.scrollX,G=this.scrollY;V&&C(V,this.midPoint.x,this.midPoint.y);var Q=!1;if(N&&!this.panEffect.isRunning){var H=this.lerp,K=N.x-this.followOffset.x,tt=N.y-this.followOffset.y;V?(K<V.x?B=p(B,B-(V.x-K),H.x):K>V.right&&(B=p(B,B+(K-V.right),H.x)),tt<V.y?G=p(G,G-(V.y-tt),H.y):tt>V.bottom&&(G=p(G,G+(tt-V.bottom),H.y))):(B=p(B,K-R,H.x),G=p(G,tt-F,H.y)),Q=!0}this.roundPixels&&(B=Math.floor(B),G=Math.floor(G)),this.useBounds&&(B=this.clampX(B),G=this.clampY(G)),this.scrollX=B,this.scrollY=G;var at=B+T,lt=G+_;this.midPoint.set(at,lt);var q=Math.floor(x/A+.5),it=Math.floor(b/M+.5),Y=Math.floor(at-q/2+.5),X=Math.floor(lt-it/2+.5);this.worldView.setTo(Y,X,q,it),I.applyITRS(Math.floor(this.x+R+.5),Math.floor(this.y+F+.5),this.rotation,A,M),I.translate(-R,-F),this.shakeEffect.preRender(),Q&&this.emit(h.FOLLOW_UPDATE,this,N)},setLerp:function(x,b){return void 0===x&&(x=1),void 0===b&&(b=x),this.lerp.set(x,b),this},setFollowOffset:function(x,b){return void 0===x&&(x=0),void 0===b&&(b=0),this.followOffset.set(x,b),this},startFollow:function(x,b,T,_,A,M){void 0===b&&(b=!1),void 0===T&&(T=1),void 0===_&&(_=T),void 0===A&&(A=0),void 0===M&&(M=A),this._follow=x,this.roundPixels=b,T=g(T,0,1),_=g(_,0,1),this.lerp.set(T,_),this.followOffset.set(A,M);var I=this.width/2,R=this.height/2,F=x.x-A,N=x.y-M;return this.midPoint.set(F,N),this.scrollX=F-I,this.scrollY=N-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(x,b){this.visible&&(this.rotateToEffect.update(x,b),this.panEffect.update(x,b),this.zoomEffect.update(x,b),this.shakeEffect.update(x,b),this.flashEffect.update(x,b),this.fadeEffect.update(x,b))},destroy:function(){this.resetFX(),y.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});S.exports=v},32743:(S,P,a)=>{var y=a(38058),C=a(83419),g=a(95540),f=a(37277),d=a(37303),c=a(97480),h=a(44594),p=new C({initialize:function(m){this.scene=m,this.systems=m.sys,this.roundPixels=m.sys.game.config.roundPixels,this.cameras=[],m.sys.events.once(h.BOOT,this.boot,this),m.sys.events.on(h.START,this.start,this)},boot:function(){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new y(0,0,u.scale.width,u.scale.height).setScene(this.scene),u.game.scale.on(c.RESIZE,this.onResize,this),this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){if(!this.main){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0]}var m=this.systems.events;m.on(h.UPDATE,this.update,this),m.once(h.SHUTDOWN,this.shutdown,this)},add:function(u,m,v,x,b,T){void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=this.scene.sys.scale.width),void 0===x&&(x=this.scene.sys.scale.height),void 0===b&&(b=!1),void 0===T&&(T="");var _=new y(u,m,v,x);return _.setName(T),_.setScene(this.scene),_.setRoundPixels(this.roundPixels),_.id=this.getNextID(),this.cameras.push(_),b&&(this.main=_),_},addExisting:function(u,m){return void 0===m&&(m=!1),-1===this.cameras.indexOf(u)?(u.id=this.getNextID(),u.setRoundPixels(this.roundPixels),this.cameras.push(u),m&&(this.main=u),u):null},getNextID:function(){for(var u=this.cameras,m=1,v=0;v<32;v++){for(var x=!1,b=0;b<u.length;b++){var T=u[b];T&&T.id===m&&(x=!0)}if(!x)return m;m<<=1}return 0},getTotal:function(u){void 0===u&&(u=!1);for(var m=0,v=this.cameras,x=0;x<v.length;x++)(!u||u&&v[x].visible)&&m++;return m},fromJSON:function(u){Array.isArray(u)||(u=[u]);for(var m=this.scene.sys.scale.width,v=this.scene.sys.scale.height,x=0;x<u.length;x++){var b=u[x],T=g(b,"x",0),_=g(b,"y",0),A=g(b,"width",m),M=g(b,"height",v),I=this.add(T,_,A,M);I.name=g(b,"name",""),I.zoom=g(b,"zoom",1),I.rotation=g(b,"rotation",0),I.scrollX=g(b,"scrollX",0),I.scrollY=g(b,"scrollY",0),I.roundPixels=g(b,"roundPixels",!1),I.visible=g(b,"visible",!0);var R=g(b,"backgroundColor",!1);R&&I.setBackgroundColor(R);var F=g(b,"bounds",null);if(F){var N=g(F,"x",0),V=g(F,"y",0),B=g(F,"width",m),G=g(F,"height",v);I.setBounds(N,V,B,G)}}return this},getCamera:function(u){for(var m=this.cameras,v=0;v<m.length;v++)if(m[v].name===u)return m[v];return null},getCamerasBelowPointer:function(u){for(var m=this.cameras,v=u.x,x=u.y,b=[],T=0;T<m.length;T++){var _=m[T];_.visible&&_.inputEnabled&&d(_,v,x)&&b.unshift(_)}return b},remove:function(u,m){void 0===m&&(m=!0),Array.isArray(u)||(u=[u]);for(var v=0,x=this.cameras,b=0;b<u.length;b++){var T=x.indexOf(u[b]);-1!==T&&(m?x[T].destroy():x[T].renderList=[],x.splice(T,1),v++)}return!this.main&&x[0]&&(this.main=x[0]),v},render:function(u,m){for(var v=this.scene,x=this.cameras,b=0;b<x.length;b++){var T=x[b];if(T.visible&&T.alpha>0){T.preRender();var _=this.getVisibleChildren(m.getChildren(),T);u.render(v,_,T)}}},getVisibleChildren:function(u,m){return u.filter(function(v){return v.willRender(m)})},resetAll:function(){for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(u,m){for(var v=0;v<this.cameras.length;v++)this.cameras[v].update(u,m)},onResize:function(u,m,v,x,b){for(var T=0;T<this.cameras.length;T++){var _=this.cameras[T];0===_._x&&0===_._y&&_._width===x&&_._height===b&&_.setSize(m.width,m.height)}},resize:function(u,m){for(var v=0;v<this.cameras.length;v++)this.cameras[v].setSize(u,m)},shutdown:function(){this.main=void 0;for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();this.cameras=[];var m=this.systems.events;m.off(h.UPDATE,this.update,this),m.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(h.START,this.start,this),this.systems.events.off(h.DESTROY,this.destroy,this),this.systems.game.scale.off(c.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});f.register("CameraManager",p,"cameras"),S.exports=p},5020:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(19715),f=new C({initialize:function(c){this.camera=c,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0},start:function(d,c,h,p,u,m,v,x){return void 0===d&&(d=!0),void 0===c&&(c=1e3),void 0===h&&(h=0),void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=!1),void 0===v&&(v=null),void 0===x&&(x=this.camera.scene),!m&&this.isRunning||(this.isRunning=!0,this.isComplete=!1,this.duration=c,this.direction=d,this.progress=0,this.red=h,this.green=p,this.blue=u,this.alpha=d?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=x,this.camera.emit(d?g.FADE_OUT_START:g.FADE_IN_START,this.camera,this,c,h,p,u)),this.camera},update:function(d,c){this.isRunning&&(this._elapsed+=c,this.progress=y(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(d){if(!this.isRunning&&!this.isComplete)return!1;var c=this.camera;return d.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",d.fillRect(c.x,c.y,c.width,c.height),!0},postRenderWebGL:function(d,c){if(!this.isRunning&&!this.isComplete)return!1;var h=this.camera;return d.drawFillRect(h.x,h.y,h.width,h.height,c(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0,this.camera.emit(this.direction?g.FADE_OUT_COMPLETE:g.FADE_IN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});S.exports=f},10662:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(19715),f=new C({initialize:function(c){this.camera=c,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0},start:function(d,c,h,p,u,m,v){return void 0===d&&(d=250),void 0===c&&(c=255),void 0===h&&(h=255),void 0===p&&(p=255),void 0===u&&(u=!1),void 0===m&&(m=null),void 0===v&&(v=this.camera.scene),!u&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.red=c,this.green=h,this.blue=p,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=m,this._onUpdateScope=v,this.camera.emit(g.FLASH_START,this.camera,this,d,c,h,p)),this.camera},update:function(d,c){this.isRunning&&(this._elapsed+=c,this.progress=y(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(d){if(!this.isRunning)return!1;var c=this.camera;return d.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",d.fillRect(c.x,c.y,c.width,c.height),!0},postRenderWebGL:function(d,c){if(!this.isRunning)return!1;var h=this.camera;return d.drawFillRect(h.x,h.y,h.width,h.height,c(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(g.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});S.exports=f},20359:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(62640),f=a(19715),d=a(26099),c=new C({initialize:function(p){this.camera=p,this.isRunning=!1,this.duration=0,this.source=new d,this.current=new d,this.destination=new d,this.progress=0,this._elapsed=0},start:function(h,p,u,m,v,x,b){void 0===u&&(u=1e3),void 0===m&&(m=g.Linear),void 0===v&&(v=!1),void 0===x&&(x=null),void 0===b&&(b=this.camera.scene);var T=this.camera;return!v&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source.set(T.scrollX,T.scrollY),this.destination.set(h,p),T.getScroll(h,p,this.current),"string"==typeof m&&g.hasOwnProperty(m)?this.ease=g[m]:"function"==typeof m&&(this.ease=m),this._elapsed=0,this._onUpdate=x,this._onUpdateScope=b,this.camera.emit(f.PAN_START,this.camera,this,u,h,p)),T},update:function(h,p){if(this.isRunning){this._elapsed+=p;var u=y(this._elapsed/this.duration,0,1);this.progress=u;var m=this.camera;if(this._elapsed<this.duration){var v=this.ease(u);m.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*v,b=this.source.y+(this.current.y-this.source.y)*v;m.setScroll(x,b),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,m,u,x,b)}else m.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,m,u,m.scrollX,m.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});S.exports=c},34208:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(19715),f=a(62640),d=new C({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.progress=0,this._elapsed=0,this.clockwise=!0,this.shortestPath=!1},start:function(c,h,p,u,m,v,x){void 0===p&&(p=1e3),void 0===u&&(u=f.Linear),void 0===m&&(m=!1),void 0===v&&(v=null),void 0===x&&(x=this.camera.scene),void 0===h&&(h=!1),this.shortestPath=h;var b=c;c<0?(b=-1*c,this.clockwise=!1):this.clockwise=!0;var T=360*Math.PI/180;b-=Math.floor(b/T)*T;var _=this.camera;if(!m&&this.isRunning)return _;if(this.isRunning=!0,this.duration=p,this.progress=0,this.source=_.rotation,this.destination=b,"string"==typeof u&&f.hasOwnProperty(u)?this.ease=f[u]:"function"==typeof u&&(this.ease=u),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=x,this.shortestPath){var A,M;(A=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+T)-this.source)<(M=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+T)-this.destination)?this.clockwise=!0:A>M&&(this.clockwise=!1)}return this.camera.emit(g.ROTATE_START,this.camera,this,p,b),_},update:function(c,h){if(this.isRunning){this._elapsed+=h;var p=y(this._elapsed/this.duration,0,1);this.progress=p;var u=this.camera;if(this._elapsed<this.duration){var m=this.ease(p);this.current=u.rotation;var v,x=360*Math.PI/180,b=this.destination,T=this.current;!1===this.clockwise&&(b=this.current,T=this.destination),v=b>=T?Math.abs(b-T):Math.abs(b+x)-T;var _;u.rotation=_=this.clockwise?u.rotation+v*m:u.rotation-v*m,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,p,_)}else u.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,p,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(g.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});S.exports=d},30330:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(19715),f=a(26099),d=new C({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.intensity=new f,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0},start:function(c,h,p,u,m){return void 0===c&&(c=100),void 0===h&&(h=.05),void 0===p&&(p=!1),void 0===u&&(u=null),void 0===m&&(m=this.camera.scene),!p&&this.isRunning||(this.isRunning=!0,this.duration=c,this.progress=0,"number"==typeof h?this.intensity.set(h):this.intensity.set(h.x,h.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=u,this._onUpdateScope=m,this.camera.emit(g.SHAKE_START,this.camera,this,c,h)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(c,h){if(this.isRunning)if(this._elapsed+=h,this.progress=y(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var p=this.intensity,u=this.camera.width,m=this.camera.height,v=this.camera.zoom;this._offsetX=(Math.random()*p.x*u*2-p.x*u)*v,this._offsetY=(Math.random()*p.y*m*2-p.y*m)*v,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(g.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});S.exports=d},45641:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(62640),f=a(19715),d=new C({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.progress=0,this._elapsed=0},start:function(c,h,p,u,m,v){void 0===h&&(h=1e3),void 0===p&&(p=g.Linear),void 0===u&&(u=!1),void 0===m&&(m=null),void 0===v&&(v=this.camera.scene);var x=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.source=x.zoom,this.destination=c,"string"==typeof p&&g.hasOwnProperty(p)?this.ease=g[p]:"function"==typeof p&&(this.ease=p),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=v,this.camera.emit(f.ZOOM_START,this.camera,this,h,c)),x},update:function(c,h){this.isRunning&&(this._elapsed+=h,this.progress=y(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});S.exports=d},20052:(S,P,a)=>{S.exports={Fade:a(5020),Flash:a(10662),Pan:a(20359),Shake:a(30330),RotateTo:a(34208),Zoom:a(45641)}},16438:S=>{S.exports="cameradestroy"},32726:S=>{S.exports="camerafadeincomplete"},87807:S=>{S.exports="camerafadeinstart"},45917:S=>{S.exports="camerafadeoutcomplete"},95666:S=>{S.exports="camerafadeoutstart"},47056:S=>{S.exports="cameraflashcomplete"},91261:S=>{S.exports="cameraflashstart"},45047:S=>{S.exports="followupdate"},81927:S=>{S.exports="camerapancomplete"},74264:S=>{S.exports="camerapanstart"},54419:S=>{S.exports="postrender"},79330:S=>{S.exports="prerender"},93183:S=>{S.exports="camerarotatecomplete"},80112:S=>{S.exports="camerarotatestart"},62252:S=>{S.exports="camerashakecomplete"},86017:S=>{S.exports="camerashakestart"},539:S=>{S.exports="camerazoomcomplete"},51892:S=>{S.exports="camerazoomstart"},19715:(S,P,a)=>{S.exports={DESTROY:a(16438),FADE_IN_COMPLETE:a(32726),FADE_IN_START:a(87807),FADE_OUT_COMPLETE:a(45917),FADE_OUT_START:a(95666),FLASH_COMPLETE:a(47056),FLASH_START:a(91261),FOLLOW_UPDATE:a(45047),PAN_COMPLETE:a(81927),PAN_START:a(74264),POST_RENDER:a(54419),PRE_RENDER:a(79330),ROTATE_COMPLETE:a(93183),ROTATE_START:a(80112),SHAKE_COMPLETE:a(62252),SHAKE_START:a(86017),ZOOM_COMPLETE:a(539),ZOOM_START:a(51892)}},87969:(S,P,a)=>{S.exports={Camera:a(38058),BaseCamera:a(71911),CameraManager:a(32743),Effects:a(20052),Events:a(19715)}},63091:(S,P,a)=>{var y=a(83419),C=a(35154),g=new y({initialize:function(d){this.camera=C(d,"camera",null),this.left=C(d,"left",null),this.right=C(d,"right",null),this.up=C(d,"up",null),this.down=C(d,"down",null),this.zoomIn=C(d,"zoomIn",null),this.zoomOut=C(d,"zoomOut",null),this.zoomSpeed=C(d,"zoomSpeed",.01),this.minZoom=C(d,"minZoom",.001),this.maxZoom=C(d,"maxZoom",1e3),this.speedX=0,this.speedY=0;var c=C(d,"speed",null);"number"==typeof c?(this.speedX=c,this.speedY=c):(this.speedX=C(d,"speed.x",0),this.speedY=C(d,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(f){return this.camera=f,this},update:function(f){if(this.active){void 0===f&&(f=1);var d=this.camera;this.up&&this.up.isDown?d.scrollY-=this.speedY*f|0:this.down&&this.down.isDown&&(d.scrollY+=this.speedY*f|0),this.left&&this.left.isDown?d.scrollX-=this.speedX*f|0:this.right&&this.right.isDown&&(d.scrollX+=this.speedX*f|0),this.zoomIn&&this.zoomIn.isDown?(d.zoom-=this.zoomSpeed,d.zoom<this.minZoom&&(d.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(d.zoom+=this.zoomSpeed,d.zoom>this.maxZoom&&(d.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});S.exports=g},58818:(S,P,a)=>{var y=a(83419),C=a(35154),g=new y({initialize:function(d){this.camera=C(d,"camera",null),this.left=C(d,"left",null),this.right=C(d,"right",null),this.up=C(d,"up",null),this.down=C(d,"down",null),this.zoomIn=C(d,"zoomIn",null),this.zoomOut=C(d,"zoomOut",null),this.zoomSpeed=C(d,"zoomSpeed",.01),this.minZoom=C(d,"minZoom",.001),this.maxZoom=C(d,"maxZoom",1e3),this.accelX=0,this.accelY=0;var c=C(d,"acceleration",null);"number"==typeof c?(this.accelX=c,this.accelY=c):(this.accelX=C(d,"acceleration.x",0),this.accelY=C(d,"acceleration.y",0)),this.dragX=0,this.dragY=0;var h=C(d,"drag",null);"number"==typeof h?(this.dragX=h,this.dragY=h):(this.dragX=C(d,"drag.x",0),this.dragY=C(d,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var p=C(d,"maxSpeed",null);"number"==typeof p?(this.maxSpeedX=p,this.maxSpeedY=p):(this.maxSpeedX=C(d,"maxSpeed.x",0),this.maxSpeedY=C(d,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(f){return this.camera=f,this},update:function(f){if(this.active){void 0===f&&(f=1);var d=this.camera;this._speedX>0?(this._speedX-=this.dragX*f,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*f,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*f,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*f,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this._zoom=this.zoomIn&&this.zoomIn.isDown?-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this.zoomSpeed:0,0!==this._speedX&&(d.scrollX-=this._speedX*f|0),0!==this._speedY&&(d.scrollY-=this._speedY*f|0),0!==this._zoom&&(d.zoom+=this._zoom,d.zoom<this.minZoom?d.zoom=this.minZoom:d.zoom>this.maxZoom&&(d.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});S.exports=g},38865:(S,P,a)=>{S.exports={FixedKeyControl:a(63091),SmoothedKeyControl:a(58818)}},26638:(S,P,a)=>{S.exports={Controls:a(38865),Scene2D:a(87969)}},8054:(S,P,a)=>{var y={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:a(10312),ScaleModes:a(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};S.exports=y},69547:(S,P,a)=>{var y=a(83419),C=a(8054),g=a(42363),f=a(82264),d=a(95540),c=a(35154),h=a(41212),p=a(29747),u=a(75508),m=a(36060),v=a(80333),x=new y({initialize:function(T){void 0===T&&(T={});var M=c(T,"scale",null);this.width=c(M,"width",1024,T),this.height=c(M,"height",768,T),this.zoom=c(M,"zoom",1,T),this.parent=c(M,"parent",void 0,T),this.scaleMode=c(M,M?"mode":"scaleMode",0,T),this.expandParent=c(M,"expandParent",!0,T),this.autoRound=c(M,"autoRound",!1,T),this.autoCenter=c(M,"autoCenter",0,T),this.resizeInterval=c(M,"resizeInterval",500,T),this.fullscreenTarget=c(M,"fullscreenTarget",null,T),this.minWidth=c(M,"min.width",0,T),this.maxWidth=c(M,"max.width",0,T),this.minHeight=c(M,"min.height",0,T),this.maxHeight=c(M,"max.height",0,T),this.snapWidth=c(M,"snap.width",0,T),this.snapHeight=c(M,"snap.height",0,T),this.renderType=c(T,"type",C.AUTO),this.canvas=c(T,"canvas",null),this.context=c(T,"context",null),this.canvasStyle=c(T,"canvasStyle",null),this.customEnvironment=c(T,"customEnvironment",!1),this.sceneConfig=c(T,"scene",null),this.seed=c(T,"seed",[(Date.now()*Math.random()).toString()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=c(T,"title",""),this.gameURL=c(T,"url","https://phaser.io/"+C.LOG_VERSION),this.gameVersion=c(T,"version",""),this.autoFocus=c(T,"autoFocus",!0),this.stableSort=c(T,"stableSort",-1),-1===this.stableSort&&(this.stableSort=f.browser.es2019?1:0),f.features.stableSort=this.stableSort,this.domCreateContainer=c(T,"dom.createContainer",!1),this.domPointerEvents=c(T,"dom.pointerEvents","none"),this.inputKeyboard=c(T,"input.keyboard",!0),this.inputKeyboardEventTarget=c(T,"input.keyboard.target",window),this.inputKeyboardCapture=c(T,"input.keyboard.capture",[]),this.inputMouse=c(T,"input.mouse",!0),this.inputMouseEventTarget=c(T,"input.mouse.target",null),this.inputMousePreventDefaultDown=c(T,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=c(T,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=c(T,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=c(T,"input.mouse.preventDefaultWheel",!0),this.inputTouch=c(T,"input.touch",f.input.touch),this.inputTouchEventTarget=c(T,"input.touch.target",null),this.inputTouchCapture=c(T,"input.touch.capture",!0),this.inputActivePointers=c(T,"input.activePointers",1),this.inputSmoothFactor=c(T,"input.smoothFactor",0),this.inputWindowEvents=c(T,"input.windowEvents",!0),this.inputGamepad=c(T,"input.gamepad",!1),this.inputGamepadEventTarget=c(T,"input.gamepad.target",window),this.disableContextMenu=c(T,"disableContextMenu",!1),this.audio=c(T,"audio",{}),this.hideBanner=!1===c(T,"banner",null),this.hidePhaser=c(T,"banner.hidePhaser",!1),this.bannerTextColor=c(T,"banner.text","#ffffff"),this.bannerBackgroundColor=c(T,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=c(T,"fps",null),this.disablePreFX=c(T,"disablePreFX",!1),this.disablePostFX=c(T,"disablePostFX",!1);var I=c(T,"render",null);this.pipeline=c(I,"pipeline",null,T),this.autoMobilePipeline=c(I,"autoMobilePipeline",!0,T),this.defaultPipeline=c(I,"defaultPipeline",m.MULTI_PIPELINE,T),this.antialias=c(I,"antialias",!0,T),this.antialiasGL=c(I,"antialiasGL",!0,T),this.mipmapFilter=c(I,"mipmapFilter","",T),this.desynchronized=c(I,"desynchronized",!1,T),this.roundPixels=c(I,"roundPixels",!1,T),this.pixelArt=c(I,"pixelArt",1!==this.zoom,T),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=c(I,"transparent",!1,T),this.clearBeforeRender=c(I,"clearBeforeRender",!0,T),this.preserveDrawingBuffer=c(I,"preserveDrawingBuffer",!1,T),this.premultipliedAlpha=c(I,"premultipliedAlpha",!0,T),this.failIfMajorPerformanceCaveat=c(I,"failIfMajorPerformanceCaveat",!1,T),this.powerPreference=c(I,"powerPreference","default",T),this.batchSize=c(I,"batchSize",4096,T),this.maxTextures=c(I,"maxTextures",-1,T),this.maxLights=c(I,"maxLights",10,T);var R=c(T,"backgroundColor",0);this.backgroundColor=v(R),this.transparent&&(this.backgroundColor=v(0),this.backgroundColor.alpha=0),this.preBoot=c(T,"callbacks.preBoot",p),this.postBoot=c(T,"callbacks.postBoot",p),this.physics=c(T,"physics",{}),this.defaultPhysicsSystem=c(this.physics,"default",!1),this.loaderBaseURL=c(T,"loader.baseURL",""),this.loaderPath=c(T,"loader.path",""),this.loaderMaxParallelDownloads=c(T,"loader.maxParallelDownloads",f.os.android?6:32),this.loaderCrossOrigin=c(T,"loader.crossOrigin",void 0),this.loaderResponseType=c(T,"loader.responseType",""),this.loaderAsync=c(T,"loader.async",!0),this.loaderUser=c(T,"loader.user",""),this.loaderPassword=c(T,"loader.password",""),this.loaderTimeout=c(T,"loader.timeout",0),this.loaderMaxRetries=c(T,"loader.maxRetries",2),this.loaderWithCredentials=c(T,"loader.withCredentials",!1),this.loaderImageLoadType=c(T,"loader.imageLoadType","XHR"),this.loaderLocalScheme=c(T,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=c(T,"fx.glow.quality",.1),this.glowFXDistance=c(T,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var F=c(T,"plugins",null),N=g.DefaultScene;F&&(Array.isArray(F)?this.defaultPlugins=F:h(F)&&(this.installGlobalPlugins=d(F,"global",[]),this.installScenePlugins=d(F,"scene",[]),Array.isArray(F.default)?N=F.default:Array.isArray(F.defaultMerge)&&(N=N.concat(F.defaultMerge)))),this.defaultPlugins=N;var V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=c(T,"images.default",V+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=c(T,"images.missing",V+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=c(T,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=C.WEBGL:window.FORCE_CANVAS&&(this.renderType=C.CANVAS))}});S.exports=x},86054:(S,P,a)=>{var y=a(20623),C=a(27919),g=a(8054),f=a(89357);S.exports=function(c){var h=c.config;if((h.customEnvironment||h.canvas)&&h.renderType===g.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!h.customEnvironment&&!h.canvas&&h.renderType!==g.HEADLESS)if(h.renderType===g.AUTO&&(h.renderType=f.webGL?g.WEBGL:g.CANVAS),h.renderType===g.WEBGL){if(!f.webGL)throw new Error("Cannot create WebGL context, aborting.")}else{if(h.renderType!==g.CANVAS)throw new Error("Unknown value for renderer type: "+h.renderType);if(!f.canvas)throw new Error("Cannot create Canvas context, aborting.")}h.antialias||C.disableSmoothing();var v,x,p=c.scale.baseSize,u=p.width,m=p.height;h.canvas?(c.canvas=h.canvas,c.canvas.width=u,c.canvas.height=m):c.canvas=C.create(c,u,m,h.renderType),h.canvasStyle&&(c.canvas.style=h.canvasStyle),h.antialias||y.setCrisp(c.canvas),h.renderType!==g.HEADLESS&&(v=a(68627),x=a(74797),h.renderType===g.WEBGL?c.renderer=new x(c):(c.renderer=new v(c),c.context=c.renderer.gameContext))}},96391:(S,P,a)=>{var y=a(8054);S.exports=function(g){var f=g.config;if(!f.hideBanner){var d="WebGL";f.renderType===y.CANVAS?d="Canvas":f.renderType===y.HEADLESS&&(d="Headless");var p,c=f.audio,h=g.device.audio;if(p=h.webAudio&&!c.disableWebAudio?"Web Audio":c.noAudio||!h.webAudio&&!h.audioData?"No Audio":"HTML5 Audio",g.device.browser.ie)window.console&&console.log("Phaser v"+y.VERSION+" / https://phaser.io");else{var v,u="",m=[u];Array.isArray(f.bannerBackgroundColor)?(f.bannerBackgroundColor.forEach(function(b){u=u.concat("%c "),m.push("background: "+b),v=b}),m[m.length-1]="color: "+f.bannerTextColor+"; background: "+v):(u=u.concat("%c "),m.push("color: "+f.bannerTextColor+"; background: "+f.bannerBackgroundColor)),m.push("background: transparent"),f.gameTitle&&(u=u.concat(f.gameTitle),f.gameVersion&&(u=u.concat(" v"+f.gameVersion)),f.hidePhaser||(u=u.concat(" / "))),f.hidePhaser||(u=u.concat("Phaser v"+y.VERSION+" ("+d+" | "+p+")")),u=u.concat(" %c "+f.gameURL),m[0]=u,console.log.apply(console,m)}}}},50127:(S,P,a)=>{var y=a(40366),C=a(60848),g=a(24047),f=a(27919),d=a(83419),c=a(69547),h=a(83719),p=a(86054),u=a(45893),m=a(96391),v=a(82264),x=a(57264),b=a(50792),T=a(8443),_=a(7003),A=a(37277),M=a(77332),I=a(76531),R=a(60903),F=a(69442),N=a(17130),V=a(65898),B=a(51085),G=a(14747),H=new d({initialize:function(tt){this.config=new c(tt),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new b,this.anims=new C(this),this.textures=new N(this),this.cache=new g(this),this.registry=new u(this,new b),this.input=new _(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=v,this.scale=new I(this,this.config),this.sound=null,this.sound=G.create(this),this.loop=new V(this,this.config.fps),this.plugins=new M(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,x(this.boot.bind(this))},boot:function(){A.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),p(this),h(this),m(this),y(this.canvas,this.config.parent),this.textures.once(F.READY,this.texturesReady,this),this.events.emit(T.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(T.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.loop.start(this.renderer?this.step.bind(this):this.headlessStep.bind(this)),B(this);var K=this.events;K.on(T.HIDDEN,this.onHidden,this),K.on(T.VISIBLE,this.onVisible,this),K.on(T.BLUR,this.onBlur,this),K.on(T.FOCUS,this.onFocus,this)},step:function(K,tt){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var at=this.events;at.emit(T.PRE_STEP,K,tt),at.emit(T.STEP,K,tt),this.scene.update(K,tt),at.emit(T.POST_STEP,K,tt);var lt=this.renderer;lt.preRender(),at.emit(T.PRE_RENDER,lt,K,tt),this.scene.render(lt),lt.postRender(),at.emit(T.POST_RENDER,lt,K,tt)}},headlessStep:function(K,tt){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var at=this.events;at.emit(T.PRE_STEP,K,tt),at.emit(T.STEP,K,tt),this.scene.update(K,tt),at.emit(T.POST_STEP,K,tt),this.scene.isProcessing=!1,at.emit(T.PRE_RENDER,null,K,tt),at.emit(T.POST_RENDER,null,K,tt)}},onHidden:function(){this.loop.pause(),this.events.emit(T.PAUSE)},pause:function(){var K=this.isPaused;this.isPaused=!0,K||this.events.emit(T.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(T.RESUME,this.loop.pauseDuration)},resume:function(){var K=this.isPaused;this.isPaused=!1,K&&this.events.emit(T.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(K,tt){void 0===tt&&(tt=!1),this.pendingDestroy=!0,this.removeCanvas=K,this.noReturn=tt},runDestroy:function(){this.scene.destroy(),this.events.emit(T.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(f.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});S.exports=H},65898:(S,P,a)=>{var y=a(83419),C=a(35154),g=a(29747),f=a(43092),d=new y({initialize:function(h,p){this.game=h,this.raf=new f,this.started=!1,this.running=!1,this.minFps=C(p,"min",5),this.targetFps=C(p,"target",60),this.fpsLimit=C(p,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=g,this.forceSetTimeOut=C(p,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=C(p,"deltaHistory",10),this.panicMax=C(p,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=C(p,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var c=window.performance.now();this.time=c,this.lastTime=c,this.nextFpsUpdate=c+1e3,this.framesThisSecond=0;for(var h=0;h<this.deltaSmoothingMax;h++)this.deltaHistory[h]=Math.min(this._target,this.deltaHistory[h]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(c){if(this.started)return this;this.started=!0,this.running=!0;for(var h=0;h<this.deltaSmoothingMax;h++)this.deltaHistory[h]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=c;var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target)},smoothDelta:function(c){var h=this.deltaIndex,p=this.deltaHistory,u=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,c=Math.min(c,this._target)),c>this._min&&(c=p[h],c=Math.min(c,this._min)),p[h]=c,this.deltaIndex++,this.deltaIndex>=u&&(this.deltaIndex=0);for(var m=0,v=0;v<u;v++)m+=p[v];return m/u},updateFPS:function(c){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=c+1e3,this.framesThisSecond=0},stepLimitFPS:function(c){this.now=c;var h=Math.max(0,c-this.lastTime);this.rawDelta=h,this.time+=this.rawDelta,this.smoothStep&&(h=this.smoothDelta(h)),this.delta+=h,c>=this.nextFpsUpdate&&this.updateFPS(c),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(c,this.delta),this.delta=0),this.lastTime=c,this.frame++},step:function(c){this.now=c;var h=Math.max(0,c-this.lastTime);this.rawDelta=h,this.time+=this.rawDelta,this.smoothStep&&(h=this.smoothDelta(h)),this.delta=h,c>=this.nextFpsUpdate&&this.updateFPS(c),this.framesThisSecond++,this.callback(c,h),this.lastTime=c,this.frame++},tick:function(){var c=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(c):this.step(c)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(c){void 0===c&&(c=!1);var h=window.performance.now();if(!this.running){c&&(this.startTime+=-this.lastTime+(this.lastTime+h));var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=h+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});S.exports=d},51085:(S,P,a)=>{var y=a(8443);S.exports=function(g){var f,d=g.events;void 0!==document.hidden?f="visibilitychange":["webkit","moz","ms"].forEach(function(p){void 0!==document[p+"Hidden"]&&(document.hidden=function(){return document[p+"Hidden"]},f=p+"visibilitychange")}),f&&document.addEventListener(f,function(p){document.hidden||"pause"===p.type?d.emit(y.HIDDEN):d.emit(y.VISIBLE)},!1),window.onblur=function(){d.emit(y.BLUR)},window.onfocus=function(){d.emit(y.FOCUS)},window.focus&&g.config.autoFocus&&window.focus()}},97217:S=>{S.exports="blur"},47548:S=>{S.exports="boot"},19814:S=>{S.exports="contextlost"},68446:S=>{S.exports="destroy"},41700:S=>{S.exports="focus"},25432:S=>{S.exports="hidden"},65942:S=>{S.exports="pause"},59211:S=>{S.exports="postrender"},47789:S=>{S.exports="poststep"},39066:S=>{S.exports="prerender"},460:S=>{S.exports="prestep"},16175:S=>{S.exports="ready"},42331:S=>{S.exports="resume"},11966:S=>{S.exports="step"},32969:S=>{S.exports="systemready"},94830:S=>{S.exports="visible"},8443:(S,P,a)=>{S.exports={BLUR:a(97217),BOOT:a(47548),CONTEXT_LOST:a(19814),DESTROY:a(68446),FOCUS:a(41700),HIDDEN:a(25432),PAUSE:a(65942),POST_RENDER:a(59211),POST_STEP:a(47789),PRE_RENDER:a(39066),PRE_STEP:a(460),READY:a(16175),RESUME:a(42331),STEP:a(11966),SYSTEM_READY:a(32969),VISIBLE:a(94830)}},42857:(S,P,a)=>{S.exports={Config:a(69547),CreateRenderer:a(86054),DebugHeader:a(96391),Events:a(8443),TimeStep:a(65898),VisibilityHandler:a(51085)}},99584:(S,P,a)=>{var y=a(5290),C=a(27919),g=a(35154);S.exports=function(d){var c=g(d,"data",[]),h=g(d,"canvas",null),p=g(d,"palette",y),u=g(d,"pixelWidth",1),m=g(d,"pixelHeight",u),v=g(d,"resizeCanvas",!0),x=g(d,"clearCanvas",!0),b=g(d,"preRender",null),T=g(d,"postRender",null),_=Math.floor(Math.abs(c[0].length*u)),A=Math.floor(Math.abs(c.length*m));h||(h=C.create2D(this,_,A),v=!1,x=!1),v&&(h.width=_,h.height=A);var M=h.getContext("2d",{willReadFrequently:!0});x&&M.clearRect(0,0,_,A),b&&b(h,M);for(var I=0;I<c.length;I++)for(var R=c[I],F=0;F<R.length;F++){var N=R[F];"."!==N&&" "!==N&&(M.fillStyle=p[N],M.fillRect(F*u,I*m,u,m))}return T&&T(h,M),h}},15822:(S,P,a)=>{S.exports={GenerateTexture:a(99584),Palettes:a(57763)}},5290:S=>{S.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:S=>{S.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:S=>{S.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:S=>{S.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:S=>{S.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(S,P,a)=>{S.exports={ARNE16:a(5290),C64:a(23816),CGA:a(9866),JMP:a(77552),MSX:a(92259)}},46728:(S,P,a)=>{var y=a(83419),C=a(36316),g=a(80021),f=a(26099),d=new y({Extends:g,initialize:function(h,p,u,m){g.call(this,"CubicBezierCurve"),Array.isArray(h)&&(m=new f(h[6],h[7]),u=new f(h[4],h[5]),p=new f(h[2],h[3]),h=new f(h[0],h[1])),this.p0=h,this.p1=p,this.p2=u,this.p3=m},getStartPoint:function(c){return void 0===c&&(c=new f),c.copy(this.p0)},getResolution:function(c){return c},getPoint:function(c,h){void 0===h&&(h=new f);var p=this.p0,u=this.p1,m=this.p2,v=this.p3;return h.set(C(c,p.x,u.x,m.x,v.x),C(c,p.y,u.y,m.y,v.y))},draw:function(c,h){void 0===h&&(h=32);var p=this.getPoints(h);c.beginPath(),c.moveTo(this.p0.x,this.p0.y);for(var u=1;u<p.length;u++)c.lineTo(p[u].x,p[u].y);return c.strokePath(),c},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});d.fromJSON=function(c){var h=c.points,p=new f(h[0],h[1]),u=new f(h[2],h[3]),m=new f(h[4],h[5]),v=new f(h[6],h[7]);return new d(p,u,m,v)},S.exports=d},80021:(S,P,a)=>{var y=a(83419),C=a(19217),g=a(87841),f=a(26099),d=new y({initialize:function(h){this.type=h,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new f,this._tmpVec2B=new f},draw:function(c,h){return void 0===h&&(h=32),c.strokePoints(this.getPoints(h))},getBounds:function(c,h){c||(c=new g),void 0===h&&(h=16);var p=this.getLength();h>p&&(h=p/2);var u=Math.max(1,Math.round(p/h));return C(this.getSpacedPoints(u),c)},getDistancePoints:function(c){var h=this.getLength(),p=Math.max(1,h/c);return this.getSpacedPoints(p)},getEndPoint:function(c){return void 0===c&&(c=new f),this.getPointAt(1,c)},getLength:function(){var c=this.getLengths();return c[c.length-1]},getLengths:function(c){if(void 0===c&&(c=this.arcLengthDivisions),this.cacheArcLengths.length===c+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var p,h=[],u=this.getPoint(0,this._tmpVec2A),m=0;h.push(0);for(var v=1;v<=c;v++)m+=(p=this.getPoint(v/c,this._tmpVec2B)).distance(u),h.push(m),u.copy(p);return this.cacheArcLengths=h,h},getPointAt:function(c,h){var p=this.getUtoTmapping(c);return this.getPoint(p,h)},getPoints:function(c,h,p){void 0===p&&(p=[]),c||(c=h?this.getLength()/h:this.defaultDivisions);for(var u=0;u<=c;u++)p.push(this.getPoint(u/c));return p},getRandomPoint:function(c){return void 0===c&&(c=new f),this.getPoint(Math.random(),c)},getSpacedPoints:function(c,h,p){void 0===p&&(p=[]),c||(c=h?this.getLength()/h:this.defaultDivisions);for(var u=0;u<=c;u++){var m=this.getUtoTmapping(u/c,null,c);p.push(this.getPoint(m))}return p},getStartPoint:function(c){return void 0===c&&(c=new f),this.getPointAt(0,c)},getTangent:function(c,h){void 0===h&&(h=new f);var p=1e-4,u=c-p,m=c+p;return u<0&&(u=0),m>1&&(m=1),this.getPoint(u,this._tmpVec2A),this.getPoint(m,h),h.subtract(this._tmpVec2A).normalize()},getTangentAt:function(c,h){var p=this.getUtoTmapping(c);return this.getTangent(p,h)},getTFromDistance:function(c,h){return c<=0?0:this.getUtoTmapping(0,c,h)},getUtoTmapping:function(c,h,p){var x,u=this.getLengths(p),m=0,v=u.length;x=h?Math.min(h,u[v-1]):c*u[v-1];for(var _,b=0,T=v-1;b<=T;)if((_=u[m=Math.floor(b+(T-b)/2)]-x)<0)b=m+1;else{if(!(_>0)){T=m;break}T=m-1}if(u[m=T]===x)return m/(v-1);var A=u[m];return(m+(x-A)/(u[m+1]-A))/(v-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});S.exports=d},73825:(S,P,a)=>{var y=a(83419),C=a(80021),g=a(39506),f=a(35154),d=a(43396),c=a(26099),h=new y({Extends:C,initialize:function(u,m,v,x,b,T,_,A){if("object"==typeof u){var M=u;u=f(M,"x",0),m=f(M,"y",0),v=f(M,"xRadius",0),x=f(M,"yRadius",v),b=f(M,"startAngle",0),T=f(M,"endAngle",360),_=f(M,"clockwise",!1),A=f(M,"rotation",0)}else void 0===x&&(x=v),void 0===b&&(b=0),void 0===T&&(T=360),void 0===_&&(_=!1),void 0===A&&(A=0);C.call(this,"EllipseCurve"),this.p0=new c(u,m),this._xRadius=v,this._yRadius=x,this._startAngle=g(b),this._endAngle=g(T),this._clockwise=_,this._rotation=g(A)},getStartPoint:function(p){return void 0===p&&(p=new c),this.getPoint(0,p)},getResolution:function(p){return 2*p},getPoint:function(p,u){void 0===u&&(u=new c);for(var m=2*Math.PI,v=this._endAngle-this._startAngle,x=Math.abs(v)<Number.EPSILON;v<0;)v+=m;for(;v>m;)v-=m;v<Number.EPSILON&&(v=x?0:m),this._clockwise&&!x&&(v===m?v=-m:v-=m);var b=this._startAngle+p*v,T=this.p0.x+this._xRadius*Math.cos(b),_=this.p0.y+this._yRadius*Math.sin(b);if(0!==this._rotation){var A=Math.cos(this._rotation),M=Math.sin(this._rotation),I=T-this.p0.x,R=_-this.p0.y;T=I*A-R*M+this.p0.x,_=I*M+R*A+this.p0.y}return u.set(T,_)},setXRadius:function(p){return this.xRadius=p,this},setYRadius:function(p){return this.yRadius=p,this},setWidth:function(p){return this.xRadius=p/2,this},setHeight:function(p){return this.yRadius=p/2,this},setStartAngle:function(p){return this.startAngle=p,this},setEndAngle:function(p){return this.endAngle=p,this},setClockwise:function(p){return this.clockwise=p,this},setRotation:function(p){return this.rotation=p,this},x:{get:function(){return this.p0.x},set:function(p){this.p0.x=p}},y:{get:function(){return this.p0.y},set:function(p){this.p0.y=p}},xRadius:{get:function(){return this._xRadius},set:function(p){this._xRadius=p}},yRadius:{get:function(){return this._yRadius},set:function(p){this._yRadius=p}},startAngle:{get:function(){return d(this._startAngle)},set:function(p){this._startAngle=g(p)}},endAngle:{get:function(){return d(this._endAngle)},set:function(p){this._endAngle=g(p)}},clockwise:{get:function(){return this._clockwise},set:function(p){this._clockwise=p}},angle:{get:function(){return d(this._rotation)},set:function(p){this._rotation=g(p)}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:d(this._startAngle),endAngle:d(this._endAngle),clockwise:this._clockwise,rotation:d(this._rotation)}}});h.fromJSON=function(p){return new h(p)},S.exports=h},33951:(S,P,a)=>{var y=a(83419),C=a(80021),g=a(19217),f=a(87841),d=a(26099),c=new y({Extends:C,initialize:function(p,u){C.call(this,"LineCurve"),Array.isArray(p)&&(u=new d(p[2],p[3]),p=new d(p[0],p[1])),this.p0=p,this.p1=u,this.arcLengthDivisions=1},getBounds:function(h){return void 0===h&&(h=new f),g([this.p0,this.p1],h)},getStartPoint:function(h){return void 0===h&&(h=new d),h.copy(this.p0)},getResolution:function(h){return void 0===h&&(h=1),h},getPoint:function(h,p){return void 0===p&&(p=new d),1===h?p.copy(this.p1):(p.copy(this.p1).subtract(this.p0).scale(h).add(this.p0),p)},getPointAt:function(h,p){return this.getPoint(h,p)},getTangent:function(h,p){return void 0===p&&(p=new d),p.copy(this.p1).subtract(this.p0).normalize(),p},getUtoTmapping:function(h,p,u){var m;if(p){var v=this.getLengths(u),x=v[v.length-1];m=Math.min(p,x)/x}else m=h;return m},draw:function(h){return h.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),h},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});c.fromJSON=function(h){var p=h.points,u=new d(p[0],p[1]),m=new d(p[2],p[3]);return new c(u,m)},S.exports=c},14744:(S,P,a)=>{var y=a(83419),C=a(80021),g=a(32112),f=a(26099),d=new y({Extends:C,initialize:function(h,p,u){C.call(this,"QuadraticBezierCurve"),Array.isArray(h)&&(u=new f(h[4],h[5]),p=new f(h[2],h[3]),h=new f(h[0],h[1])),this.p0=h,this.p1=p,this.p2=u},getStartPoint:function(c){return void 0===c&&(c=new f),c.copy(this.p0)},getResolution:function(c){return c},getPoint:function(c,h){void 0===h&&(h=new f);var p=this.p0,u=this.p1,m=this.p2;return h.set(g(c,p.x,u.x,m.x),g(c,p.y,u.y,m.y))},draw:function(c,h){void 0===h&&(h=32);var p=this.getPoints(h);c.beginPath(),c.moveTo(this.p0.x,this.p0.y);for(var u=1;u<p.length;u++)c.lineTo(p[u].x,p[u].y);return c.strokePath(),c},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});d.fromJSON=function(c){var h=c.points,p=new f(h[0],h[1]),u=new f(h[2],h[3]),m=new f(h[4],h[5]);return new d(p,u,m)},S.exports=d},42534:(S,P,a)=>{var y=a(87842),C=a(83419),g=a(80021),f=a(26099),d=new C({Extends:g,initialize:function(h){void 0===h&&(h=[]),g.call(this,"SplineCurve"),this.points=[],this.addPoints(h)},addPoints:function(c){for(var h=0;h<c.length;h++){var p=new f;"number"==typeof c[h]?(p.x=c[h],p.y=c[h+1],h++):Array.isArray(c[h])?(p.x=c[h][0],p.y=c[h][1]):(p.x=c[h].x,p.y=c[h].y),this.points.push(p)}return this},addPoint:function(c,h){var p=new f(c,h);return this.points.push(p),p},getStartPoint:function(c){return void 0===c&&(c=new f),c.copy(this.points[0])},getResolution:function(c){return c*this.points.length},getPoint:function(c,h){void 0===h&&(h=new f);var p=this.points,u=(p.length-1)*c,m=Math.floor(u),v=u-m,x=p[0===m?m:m-1],b=p[m],T=p[m>p.length-2?p.length-1:m+1],_=p[m>p.length-3?p.length-1:m+2];return h.set(y(v,x.x,b.x,T.x,_.x),y(v,x.y,b.y,T.y,_.y))},toJSON:function(){for(var c=[],h=0;h<this.points.length;h++)c.push(this.points[h].x),c.push(this.points[h].y);return{type:this.type,points:c}}});d.fromJSON=function(c){return new d(c.points)},S.exports=d},25410:(S,P,a)=>{S.exports={Path:a(46669),MoveTo:a(68618),CubicBezier:a(46728),Curve:a(80021),Ellipse:a(73825),Line:a(33951),QuadraticBezier:a(14744),Spline:a(42534)}},68618:(S,P,a)=>{var y=a(83419),C=a(26099),g=new y({initialize:function(d,c){this.active=!1,this.p0=new C(d,c)},getPoint:function(f,d){return void 0===d&&(d=new C),d.copy(this.p0)},getPointAt:function(f,d){return this.getPoint(f,d)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});S.exports=g},46669:(S,P,a)=>{var y=a(83419),C=a(46728),g=a(73825),f=a(39429),d=a(33951),c=a(68618),h=a(14744),p=a(87841),u=a(42534),m=a(26099),v=a(36383),x=new y({initialize:function(T,_){void 0===T&&(T=0),void 0===_&&(_=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new m,this._tmpVec2A=new m,this._tmpVec2B=new m,"object"==typeof T?this.fromJSON(T):this.startPoint.set(T,_)},add:function(b){return this.curves.push(b),this},circleTo:function(b,T,_){return void 0===T&&(T=!1),this.ellipseTo(b,b,0,360,T,_)},closePath:function(){var b=this.curves[0].getPoint(0),T=this.curves[this.curves.length-1].getPoint(1);return b.equals(T)||this.curves.push(new d(T,b)),this},cubicBezierTo:function(b,T,_,A,M,I){var F,N,V,R=this.getEndPoint();return b instanceof m?(F=b,N=T,V=_):(F=new m(_,A),N=new m(M,I),V=new m(b,T)),this.add(new C(R,F,N,V))},quadraticBezierTo:function(b,T,_,A){var I,R,M=this.getEndPoint();return b instanceof m?(I=b,R=T):(I=new m(_,A),R=new m(b,T)),this.add(new h(M,I,R))},draw:function(b,T){for(var _=0;_<this.curves.length;_++){var A=this.curves[_];A.active&&A.draw(b,T)}return b},ellipseTo:function(b,T,_,A,M,I){var R=new g(0,0,b,T,_,A,M,I),F=this.getEndPoint(this._tmpVec2A),N=R.getStartPoint(this._tmpVec2B);return F.subtract(N),R.x=F.x,R.y=F.y,this.add(R)},fromJSON:function(b){this.curves=[],this.cacheLengths=[],this.startPoint.set(b.x,b.y),this.autoClose=b.autoClose;for(var T=0;T<b.curves.length;T++){var _=b.curves[T];switch(_.type){case"LineCurve":this.add(d.fromJSON(_));break;case"EllipseCurve":this.add(g.fromJSON(_));break;case"SplineCurve":this.add(u.fromJSON(_));break;case"CubicBezierCurve":this.add(C.fromJSON(_));break;case"QuadraticBezierCurve":this.add(h.fromJSON(_))}}return this},getBounds:function(b,T){void 0===b&&(b=new p),void 0===T&&(T=16),b.x=Number.MAX_VALUE,b.y=Number.MAX_VALUE;for(var _=new p,A=v.MIN_SAFE_INTEGER,M=v.MIN_SAFE_INTEGER,I=0;I<this.curves.length;I++){var R=this.curves[I];R.active&&(R.getBounds(_,T),b.x=Math.min(b.x,_.x),b.y=Math.min(b.y,_.y),A=Math.max(A,_.right),M=Math.max(M,_.bottom))}return b.right=A,b.bottom=M,b},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var b=[],T=0,_=0;_<this.curves.length;_++)T+=this.curves[_].getLength(),b.push(T);return this.cacheLengths=b,b},getCurveAt:function(b){for(var T=b*this.getLength(),_=this.getCurveLengths(),A=0;A<_.length;){if(_[A]>=T)return this.curves[A];A++}return null},getEndPoint:function(b){return void 0===b&&(b=new m),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,b):b.copy(this.startPoint),b},getLength:function(){var b=this.getCurveLengths();return b[b.length-1]},getPoint:function(b,T){void 0===T&&(T=new m);for(var _=b*this.getLength(),A=this.getCurveLengths(),M=0;M<A.length;){if(A[M]>=_){var I=A[M]-_,R=this.curves[M],F=R.getLength();return R.getPointAt(0===F?0:1-I/F,T)}M++}return null},getPoints:function(b,T){!b&&!T&&(b=this.defaultDivisions);for(var A,_=[],M=0;M<this.curves.length;M++){var I=this.curves[M];if(I.active)for(var R=I.getResolution(b),F=I.getPoints(R,T),N=0;N<F.length;N++){var V=F[N];A&&A.equals(V)||(_.push(V),A=V)}}return this.autoClose&&_.length>1&&!_[_.length-1].equals(_[0])&&_.push(_[0]),_},getRandomPoint:function(b){return void 0===b&&(b=new m),this.getPoint(Math.random(),b)},getSpacedPoints:function(b){void 0===b&&(b=40);for(var T=[],_=0;_<=b;_++)T.push(this.getPoint(_/b));return this.autoClose&&T.push(T[0]),T},getStartPoint:function(b){return void 0===b&&(b=new m),b.copy(this.startPoint)},getTangent:function(b,T){void 0===T&&(T=new m);for(var _=b*this.getLength(),A=this.getCurveLengths(),M=0;M<A.length;){if(A[M]>=_){var I=A[M]-_,R=this.curves[M],F=R.getLength();return R.getTangentAt(0===F?0:1-I/F,T)}M++}return null},lineTo:function(b,T){b instanceof m?this._tmpVec2B.copy(b):"object"==typeof b?this._tmpVec2B.setFromObject(b):this._tmpVec2B.set(b,T);var _=this.getEndPoint(this._tmpVec2A);return this.add(new d([_.x,_.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(b){return b.unshift(this.getEndPoint()),this.add(new u(b))},moveTo:function(b,T){return this.add(b instanceof m?new c(b.x,b.y):new c(b,T))},toJSON:function(){for(var b=[],T=0;T<this.curves.length;T++)b.push(this.curves[T].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:b}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});f.register("path",function(b,T){return new x(b,T)}),S.exports=x},45893:(S,P,a)=>{var y=a(83419),C=a(24882),g=new y({initialize:function(d,c){this.parent=d,this.events=c,c||(this.events=d.events?d.events:d),this.list={},this.values={},this._frozen=!1,!d.hasOwnProperty("sys")&&this.events&&this.events.once(C.DESTROY,this.destroy,this)},get:function(f){var d=this.list;if(Array.isArray(f)){for(var c=[],h=0;h<f.length;h++)c.push(d[f[h]]);return c}return d[f]},getAll:function(){var f={};for(var d in this.list)this.list.hasOwnProperty(d)&&(f[d]=this.list[d]);return f},query:function(f){var d={};for(var c in this.list)this.list.hasOwnProperty(c)&&c.match(f)&&(d[c]=this.list[c]);return d},set:function(f,d){if(this._frozen)return this;if("string"==typeof f)return this.setValue(f,d);for(var c in f)this.setValue(c,f[c]);return this},inc:function(f,d){if(this._frozen)return this;void 0===d&&(d=1);var c=this.get(f);return void 0===c&&(c=0),this.set(f,c+d),this},toggle:function(f){return this._frozen||this.set(f,!this.get(f)),this},setValue:function(f,d){if(this._frozen)return this;if(this.has(f))this.values[f]=d;else{var c=this,h=this.list,p=this.events,u=this.parent;Object.defineProperty(this.values,f,{enumerable:!0,configurable:!0,get:function(){return h[f]},set:function(m){if(!c._frozen){var v=h[f];h[f]=m,p.emit(C.CHANGE_DATA,u,f,m,v),p.emit(C.CHANGE_DATA_KEY+f,u,m,v)}}}),h[f]=d,p.emit(C.SET_DATA,u,f,d)}return this},each:function(f,d){for(var c=[this.parent,null,void 0],h=1;h<arguments.length;h++)c.push(arguments[h]);for(var p in this.list)c[1]=p,c[2]=this.list[p],f.apply(d,c);return this},merge:function(f,d){for(var c in void 0===d&&(d=!0),f)f.hasOwnProperty(c)&&(d||!d&&!this.has(c))&&this.setValue(c,f[c]);return this},remove:function(f){if(this._frozen)return this;if(!Array.isArray(f))return this.removeValue(f);for(var d=0;d<f.length;d++)this.removeValue(f[d]);return this},removeValue:function(f){if(this.has(f)){var d=this.list[f];delete this.list[f],delete this.values[f],this.events.emit(C.REMOVE_DATA,this.parent,f,d)}return this},pop:function(f){var d=void 0;return!this._frozen&&this.has(f)&&(d=this.list[f],delete this.list[f],delete this.values[f],this.events.emit(C.REMOVE_DATA,this.parent,f,d)),d},has:function(f){return this.list.hasOwnProperty(f)},setFreeze:function(f){return this._frozen=f,this},reset:function(){for(var f in this.list)delete this.list[f],delete this.values[f];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(C.CHANGE_DATA),this.events.off(C.SET_DATA),this.events.off(C.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(f){this._frozen=!!f}},count:{get:function(){var f=0;for(var d in this.list)void 0!==this.list[d]&&f++;return f}}});S.exports=g},63646:(S,P,a)=>{var y=a(83419),C=a(45893),g=a(37277),f=a(44594),d=new y({Extends:C,initialize:function(h){C.call(this,h,h.sys.events),this.scene=h,this.systems=h.sys,h.sys.events.once(f.BOOT,this.boot,this),h.sys.events.on(f.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){C.prototype.destroy.call(this),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});g.register("DataManagerPlugin",d,"data"),S.exports=d},10700:S=>{S.exports="changedata"},93608:S=>{S.exports="changedata-"},60883:S=>{S.exports="destroy"},69780:S=>{S.exports="removedata"},22166:S=>{S.exports="setdata"},24882:(S,P,a)=>{S.exports={CHANGE_DATA:a(10700),CHANGE_DATA_KEY:a(93608),DESTROY:a(60883),REMOVE_DATA:a(69780),SET_DATA:a(22166)}},44965:(S,P,a)=>{S.exports={DataManager:a(45893),DataManagerPlugin:a(63646),Events:a(24882)}},7098:(S,P,a)=>{var y=a(84148),C={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};S.exports=function g(){if("function"==typeof importScripts)return C;C.audioData=!!window.Audio,C.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var f=document.createElement("audio"),d=!!f.canPlayType;try{if(d){var c=function(u,m){var v=f.canPlayType("audio/"+u).replace(/^no$/,"");return m?!(!v&&!f.canPlayType("audio/"+m).replace(/^no$/,"")):!!v};if(C.ogg=c('ogg; codecs="vorbis"'),C.opus=c('ogg; codecs="opus"',"opus"),C.mp3=c("mpeg"),C.wav=c("wav"),C.m4a=c("x-m4a"),C.aac=c("aac"),C.flac=c("flac","x-flac"),C.webm=c('webm; codecs="vorbis"'),""!==f.canPlayType('audio/mp4; codecs="ec-3"'))if(y.edge)C.dolby=!0;else if(y.safari&&y.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var h=parseInt(RegExp.$1,10),p=parseInt(RegExp.$2,10);(10===h&&p>=11||h>10)&&(C.dolby=!0)}}}catch{}return C}()},84148:(S,P,a)=>{var y=a(25892),C={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};S.exports=function g(){var f=navigator.userAgent;return/Edg\/\d+/.test(f)?(C.edge=!0,C.es2019=!0):/OPR/.test(f)?(C.opera=!0,C.es2019=!0):/Chrome\/(\d+)/.test(f)&&!y.windowsPhone?(C.chrome=!0,C.chromeVersion=parseInt(RegExp.$1,10),C.es2019=C.chromeVersion>69):/Firefox\D+(\d+)/.test(f)?(C.firefox=!0,C.firefoxVersion=parseInt(RegExp.$1,10),C.es2019=C.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(f)&&y.iOS?(C.mobileSafari=!0,C.es2019=!0):/MSIE (\d+\.\d+);/.test(f)?(C.ie=!0,C.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(f)&&!y.windowsPhone?(C.safari=!0,C.safariVersion=parseInt(RegExp.$1,10),C.es2019=C.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(f)&&(C.ie=!0,C.trident=!0,C.tridentVersion=parseInt(RegExp.$1,10),C.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(f)&&(C.silk=!0),C}()},89289:(S,P,a)=>{var y=a(27919),C={supportInverseAlpha:!1,supportNewBlendModes:!1};S.exports=function d(){return"function"!=typeof importScripts&&void 0!==document&&(C.supportNewBlendModes=function g(){var c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",h="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",p=new Image;return p.onload=function(){var u=new Image;u.onload=function(){var v=y.create2D(u,6).getContext("2d",{willReadFrequently:!0});if(v.globalCompositeOperation="multiply",v.drawImage(p,0,0),v.drawImage(u,2,0),!v.getImageData(2,0,1,1))return!1;var x=v.getImageData(2,0,1,1).data;y.remove(u),C.supportNewBlendModes=255===x[0]&&0===x[1]&&0===x[2]},u.src=c+"/wCKxvRF"+h},p.src=c+"AP804Oa6"+h,!1}(),C.supportInverseAlpha=function f(){var h=y.create2D(this,2).getContext("2d",{willReadFrequently:!0});h.fillStyle="rgba(10, 20, 30, 0.5)",h.fillRect(0,0,1,1);var p=h.getImageData(0,0,1,1);if(null===p)return!1;h.putImageData(p,1,0);var u=h.getImageData(1,0,1,1),m=u.data[0]===p.data[0]&&u.data[1]===p.data[1]&&u.data[2]===p.data[2]&&u.data[3]===p.data[3];return y.remove(this),m}()),C}()},89357:(S,P,a)=>{var y=a(25892),C=a(84148),g=a(27919),f={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};S.exports=function c(){if("function"==typeof importScripts)return f;f.canvas=!!window.CanvasRenderingContext2D;try{f.localStorage=!!localStorage.getItem}catch{f.localStorage=!1}f.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),f.fileSystem=!!window.requestFileSystem;var h=!1;return f.webGL=function(){if(window.WebGLRenderingContext)try{var u=g.createWebGL(this),m=u.getContext("webgl")||u.getContext("experimental-webgl"),v=g.create2D(this),b=v.getContext("2d",{willReadFrequently:!0}).createImageData(1,1);return h=b.data instanceof Uint8ClampedArray,g.remove(u),g.remove(v),!!m}catch{return!1}return!1}(),f.worker=!!window.Worker,f.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,f.getUserMedia=f.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,C.firefox&&C.firefoxVersion<21&&(f.getUserMedia=!1),!y.iOS&&(C.ie||C.firefox||C.chrome)&&(f.canvasBitBltShift=!0),(C.safari||C.mobileSafari)&&(f.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(f.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(f.littleEndian=function d(){var h=new ArrayBuffer(4),p=new Uint8Array(h),u=new Uint32Array(h);return p[0]=161,p[1]=178,p[2]=195,p[3]=212,3569595041===u[0]||2712847316!==u[0]&&null}()),f.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&null!==f.littleEndian&&h,f}()},91639:S=>{var P={available:!1,cancel:"",keyboard:!1,request:""};S.exports=function a(){if("function"==typeof importScripts)return P;var y,C="Fullscreen",g="FullScreen",f=["request"+C,"request"+g,"webkitRequest"+C,"webkitRequest"+g,"msRequest"+C,"msRequest"+g,"mozRequest"+g,"mozRequest"+C];for(y=0;y<f.length;y++)if(document.documentElement[f[y]]){P.available=!0,P.request=f[y];break}var d=["cancel"+g,"exit"+C,"webkitCancel"+g,"webkitExit"+C,"msCancel"+g,"msExit"+C,"mozCancel"+g,"mozExit"+C];if(P.available)for(y=0;y<d.length;y++)if(document[d[y]]){P.cancel=d[y];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(P.keyboard=!0),Object.defineProperty(P,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),P}()},31784:(S,P,a)=>{var y=a(84148),C={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};S.exports=function g(){return"function"==typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(C.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(C.mspointer=!0),navigator.getGamepads&&(C.gamepads=!0),"onwheel"in window||y.ie&&"WheelEvent"in window?C.wheelEvent="wheel":"onmousewheel"in window?C.wheelEvent="mousewheel":y.firefox&&"MouseScrollEvent"in window&&(C.wheelEvent="DOMMouseScroll")),C}()},25892:S=>{var P={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};S.exports=function a(){if("function"==typeof importScripts)return P;var y=navigator.userAgent;/Windows/.test(y)?P.windows=!0:/Mac OS/.test(y)&&!/like Mac OS/.test(y)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(P.iOS=!0,P.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),P.iOSVersion=parseInt(RegExp.$1,10)):P.macOS=!0:/Android/.test(y)?P.android=!0:/Linux/.test(y)?P.linux=!0:/iP[ao]d|iPhone/i.test(y)?(P.iOS=!0,navigator.appVersion.match(/OS (\d+)/),P.iOSVersion=parseInt(RegExp.$1,10),P.iPhone=-1!==y.toLowerCase().indexOf("iphone"),P.iPad=-1!==y.toLowerCase().indexOf("ipad")):/Kindle/.test(y)||/\bKF[A-Z][A-Z]+/.test(y)||/Silk.*Mobile Safari/.test(y)?P.kindle=!0:/CrOS/.test(y)&&(P.chromeOS=!0),(/Windows Phone/i.test(y)||/IEMobile/i.test(y))&&(P.android=!1,P.iOS=!1,P.macOS=!1,P.windows=!0,P.windowsPhone=!0);var C=/Silk/.test(y);return(P.windows||P.macOS||P.linux&&!C||P.chromeOS)&&(P.desktop=!0),(P.windowsPhone||/Windows NT/i.test(y)&&/Touch/i.test(y))&&(P.desktop=!1),navigator.standalone&&(P.webApp=!0),"function"!=typeof importScripts&&(void 0!==window.cordova&&(P.cordova=!0),void 0!==window.ejecta&&(P.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(P.node=!0),P.node&&"object"==typeof process.versions&&(P.nodeWebkit=!!process.versions["node-webkit"],P.electron=!!process.versions.electron),/Crosswalk/.test(y)&&(P.crosswalk=!0),P.pixelRatio=window.devicePixelRatio||1,P}()},43267:(S,P,a)=>{var y=a(95540),C={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};S.exports=function g(){if("function"==typeof importScripts)return C;var f=document.createElement("video"),d=!!f.canPlayType,c=/^no$/;try{d&&(f.canPlayType('video/ogg; codecs="theora"').replace(c,"")&&(C.ogg=!0),f.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(c,"")&&(C.h264=!0,C.mp4=!0),f.canPlayType("video/x-m4v").replace(c,"")&&(C.m4v=!0),f.canPlayType('video/webm; codecs="vp8, vorbis"').replace(c,"")&&(C.webm=!0),f.canPlayType('video/webm; codecs="vp9"').replace(c,"")&&(C.vp9=!0),f.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(c,"")&&(C.hls=!0))}catch{}return f.parentNode&&f.parentNode.removeChild(f),C.getVideoURL=function(h){Array.isArray(h)||(h=[h]);for(var p=0;p<h.length;p++){var m,u=y(h[p],"url",h[p]);if(0===u.indexOf("blob:"))return{url:u,type:""};if(m=0===u.indexOf("data:")?u.split(",")[0].match(/\/(.*?);/):u.match(/\.([a-zA-Z0-9]+)($|\?)/),m=y(h[p],"type",m?m[1]:"").toLowerCase(),C[m])return{url:u,type:m}}return null},C}()},82264:(S,P,a)=>{S.exports={os:a(25892),browser:a(84148),features:a(89357),input:a(31784),audio:a(7098),video:a(43267),fullscreen:a(91639),canvasFeatures:a(89289)}},89422:(S,P,a)=>{var y=a(83419),C=new Float32Array(20),g=new y({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(f){return this._matrix.set(f),this._dirty=!0,this},reset:function(){var f=this._matrix;return f.fill(0),f[0]=1,f[6]=1,f[12]=1,f[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var f=this._data;return this._dirty&&(f.set(this._matrix),f[4]/=255,f[9]/=255,f[14]/=255,f[19]/=255,this._dirty=!1),f},brightness:function(f,d){return void 0===f&&(f=0),void 0===d&&(d=!1),this.multiply([f,0,0,0,0,0,f,0,0,0,0,0,f,0,0,0,0,0,1,0],d)},saturate:function(f,d){void 0===f&&(f=0),void 0===d&&(d=!1);var c=2*f/3+1,h=-.5*(c-1);return this.multiply([c,h,h,0,0,h,c,h,0,0,h,h,c,0,0,0,0,0,1,0],d)},desaturate:function(f){return void 0===f&&(f=!1),this.saturate(-1,f)},hue:function(f,d){void 0===f&&(f=0),void 0===d&&(d=!1),f=f/180*Math.PI;var c=Math.cos(f),h=Math.sin(f),p=.213,u=.715,m=.072;return this.multiply([p+c*(1-p)+h*-p,u+c*-u+h*-u,m+c*-m+h*(1-m),0,0,p+c*-p+.143*h,u+c*(1-u)+.14*h,m+c*-m+-.283*h,0,0,p+c*-p+-.787*h,u+c*-u+h*u,m+c*(1-m)+h*m,0,0,0,0,0,1,0],d)},grayscale:function(f,d){return void 0===f&&(f=1),void 0===d&&(d=!1),this.saturate(-f,d)},blackWhite:function(f){return void 0===f&&(f=!1),this.multiply(g.BLACK_WHITE,f)},contrast:function(f,d){void 0===f&&(f=0),void 0===d&&(d=!1);var c=f+1,h=-.5*(c-1);return this.multiply([c,0,0,0,h,0,c,0,0,h,0,0,c,0,h,0,0,0,1,0],d)},negative:function(f){return void 0===f&&(f=!1),this.multiply(g.NEGATIVE,f)},desaturateLuminance:function(f){return void 0===f&&(f=!1),this.multiply(g.DESATURATE_LUMINANCE,f)},sepia:function(f){return void 0===f&&(f=!1),this.multiply(g.SEPIA,f)},night:function(f,d){return void 0===f&&(f=.1),void 0===d&&(d=!1),this.multiply([-2*f,-f,0,0,0,-f,0,f,0,0,0,f,2*f,0,0,0,0,0,1,0],d)},lsd:function(f){return void 0===f&&(f=!1),this.multiply(g.LSD,f)},brown:function(f){return void 0===f&&(f=!1),this.multiply(g.BROWN,f)},vintagePinhole:function(f){return void 0===f&&(f=!1),this.multiply(g.VINTAGE,f)},kodachrome:function(f){return void 0===f&&(f=!1),this.multiply(g.KODACHROME,f)},technicolor:function(f){return void 0===f&&(f=!1),this.multiply(g.TECHNICOLOR,f)},polaroid:function(f){return void 0===f&&(f=!1),this.multiply(g.POLAROID,f)},shiftToBGR:function(f){return void 0===f&&(f=!1),this.multiply(g.SHIFT_BGR,f)},multiply:function(f,d){void 0===d&&(d=!1),d||this.reset();var c=this._matrix,h=C;return h.set(c),c.set([h[0]*f[0]+h[1]*f[5]+h[2]*f[10]+h[3]*f[15],h[0]*f[1]+h[1]*f[6]+h[2]*f[11]+h[3]*f[16],h[0]*f[2]+h[1]*f[7]+h[2]*f[12]+h[3]*f[17],h[0]*f[3]+h[1]*f[8]+h[2]*f[13]+h[3]*f[18],h[0]*f[4]+h[1]*f[9]+h[2]*f[14]+h[3]*f[19]+h[4],h[5]*f[0]+h[6]*f[5]+h[7]*f[10]+h[8]*f[15],h[5]*f[1]+h[6]*f[6]+h[7]*f[11]+h[8]*f[16],h[5]*f[2]+h[6]*f[7]+h[7]*f[12]+h[8]*f[17],h[5]*f[3]+h[6]*f[8]+h[7]*f[13]+h[8]*f[18],h[5]*f[4]+h[6]*f[9]+h[7]*f[14]+h[8]*f[19]+h[9],h[10]*f[0]+h[11]*f[5]+h[12]*f[10]+h[13]*f[15],h[10]*f[1]+h[11]*f[6]+h[12]*f[11]+h[13]*f[16],h[10]*f[2]+h[11]*f[7]+h[12]*f[12]+h[13]*f[17],h[10]*f[3]+h[11]*f[8]+h[12]*f[13]+h[13]*f[18],h[10]*f[4]+h[11]*f[9]+h[12]*f[14]+h[13]*f[19]+h[14],h[15]*f[0]+h[16]*f[5]+h[17]*f[10]+h[18]*f[15],h[15]*f[1]+h[16]*f[6]+h[17]*f[11]+h[18]*f[16],h[15]*f[2]+h[16]*f[7]+h[17]*f[12]+h[18]*f[17],h[15]*f[3]+h[16]*f[8]+h[17]*f[13]+h[18]*f[18],h[15]*f[4]+h[16]*f[9]+h[17]*f[14]+h[18]*f[19]+h[19]]),this._dirty=!0,this}});g.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],g.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],g.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],g.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],g.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],g.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],g.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],g.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],g.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],g.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],g.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],S.exports=g},51767:(S,P,a)=>{var y=a(83419),C=a(29747),g=new y({initialize:function(d,c,h){this._rgb=[0,0,0],this.onChangeCallback=C,this.dirty=!1,this.set(d,c,h)},set:function(f,d,c){return void 0===f&&(f=0),void 0===d&&(d=0),void 0===c&&(c=0),this._rgb=[f,d,c],this.onChange(),this},equals:function(f,d,c){var h=this._rgb;return h[0]===f&&h[1]===d&&h[2]===c},onChange:function(){this.dirty=!0;var f=this._rgb;this.onChangeCallback.call(this,f[0],f[1],f[2])},r:{get:function(){return this._rgb[0]},set:function(f){this._rgb[0]=f,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(f){this._rgb[1]=f,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(f){this._rgb[2]=f,this.onChange()}},destroy:function(){this.onChangeCallback=null}});S.exports=g},60461:S=>{S.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},54312:(S,P,a)=>{var y=a(62235),C=a(35893),g=a(86327),f=a(88417);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,C(h)+p),g(c,y(h)+u),c}},46768:(S,P,a)=>{var y=a(62235),C=a(26541),g=a(86327),f=a(385);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,C(h)-p),g(c,y(h)+u),c}},35827:(S,P,a)=>{var y=a(62235),C=a(54380),g=a(86327),f=a(40136);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,C(h)+p),g(c,y(h)+u),c}},46871:(S,P,a)=>{var y=a(66786),C=a(35893),g=a(7702);S.exports=function(d,c,h,p){return void 0===h&&(h=0),void 0===p&&(p=0),y(d,C(c)+h,g(c)+p),d}},5198:(S,P,a)=>{var y=a(7702),C=a(26541),g=a(20786),f=a(385);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,C(h)-p),g(c,y(h)+u),c}},11879:(S,P,a)=>{var y=a(60461),C=[];C[y.BOTTOM_CENTER]=a(54312),C[y.BOTTOM_LEFT]=a(46768),C[y.BOTTOM_RIGHT]=a(35827),C[y.CENTER]=a(46871),C[y.LEFT_CENTER]=a(5198),C[y.RIGHT_CENTER]=a(80503),C[y.TOP_CENTER]=a(89698),C[y.TOP_LEFT]=a(922),C[y.TOP_RIGHT]=a(21373),C[y.LEFT_BOTTOM]=C[y.BOTTOM_LEFT],C[y.LEFT_TOP]=C[y.TOP_LEFT],C[y.RIGHT_BOTTOM]=C[y.BOTTOM_RIGHT],C[y.RIGHT_TOP]=C[y.TOP_RIGHT],S.exports=function(f,d,c,h,p){return C[c](f,d,h,p)}},80503:(S,P,a)=>{var y=a(7702),C=a(54380),g=a(20786),f=a(40136);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,C(h)+p),g(c,y(h)+u),c}},89698:(S,P,a)=>{var y=a(35893),C=a(17717),g=a(88417),f=a(66737);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),g(c,y(h)+p),f(c,C(h)-u),c}},922:(S,P,a)=>{var y=a(26541),C=a(17717),g=a(385),f=a(66737);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),g(c,y(h)-p),f(c,C(h)-u),c}},21373:(S,P,a)=>{var y=a(54380),C=a(17717),g=a(40136),f=a(66737);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),g(c,y(h)+p),f(c,C(h)-u),c}},91660:(S,P,a)=>{S.exports={BottomCenter:a(54312),BottomLeft:a(46768),BottomRight:a(35827),Center:a(46871),LeftCenter:a(5198),QuickSet:a(11879),RightCenter:a(80503),TopCenter:a(89698),TopLeft:a(922),TopRight:a(21373)}},71926:(S,P,a)=>{var y=a(60461),C=a(79291),g={In:a(91660),To:a(16694)};g=C(!1,g,y),S.exports=g},21578:(S,P,a)=>{var y=a(62235),C=a(35893),g=a(88417),f=a(66737);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),g(c,C(h)+p),f(c,y(h)+u),c}},10210:(S,P,a)=>{var y=a(62235),C=a(26541),g=a(385),f=a(66737);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),g(c,C(h)-p),f(c,y(h)+u),c}},82341:(S,P,a)=>{var y=a(62235),C=a(54380),g=a(40136),f=a(66737);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),g(c,C(h)+p),f(c,y(h)+u),c}},87958:(S,P,a)=>{var y=a(62235),C=a(26541),g=a(86327),f=a(40136);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,C(h)-p),g(c,y(h)+u),c}},40080:(S,P,a)=>{var y=a(7702),C=a(26541),g=a(20786),f=a(40136);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,C(h)-p),g(c,y(h)+u),c}},88466:(S,P,a)=>{var y=a(26541),C=a(17717),g=a(40136),f=a(66737);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),g(c,y(h)-p),f(c,C(h)-u),c}},38829:(S,P,a)=>{var y=a(60461),C=[];C[y.BOTTOM_CENTER]=a(21578),C[y.BOTTOM_LEFT]=a(10210),C[y.BOTTOM_RIGHT]=a(82341),C[y.LEFT_BOTTOM]=a(87958),C[y.LEFT_CENTER]=a(40080),C[y.LEFT_TOP]=a(88466),C[y.RIGHT_BOTTOM]=a(19211),C[y.RIGHT_CENTER]=a(34609),C[y.RIGHT_TOP]=a(48741),C[y.TOP_CENTER]=a(49440),C[y.TOP_LEFT]=a(81288),C[y.TOP_RIGHT]=a(61323),S.exports=function(f,d,c,h,p){return C[c](f,d,h,p)}},19211:(S,P,a)=>{var y=a(62235),C=a(54380),g=a(86327),f=a(385);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,C(h)+p),g(c,y(h)+u),c}},34609:(S,P,a)=>{var y=a(7702),C=a(54380),g=a(20786),f=a(385);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,C(h)+p),g(c,y(h)+u),c}},48741:(S,P,a)=>{var y=a(54380),C=a(17717),g=a(385),f=a(66737);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),g(c,y(h)+p),f(c,C(h)-u),c}},49440:(S,P,a)=>{var y=a(35893),C=a(17717),g=a(86327),f=a(88417);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,y(h)+p),g(c,C(h)-u),c}},81288:(S,P,a)=>{var y=a(26541),C=a(17717),g=a(86327),f=a(385);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,y(h)-p),g(c,C(h)-u),c}},61323:(S,P,a)=>{var y=a(54380),C=a(17717),g=a(86327),f=a(40136);S.exports=function(c,h,p,u){return void 0===p&&(p=0),void 0===u&&(u=0),f(c,y(h)+p),g(c,C(h)-u),c}},16694:(S,P,a)=>{S.exports={BottomCenter:a(21578),BottomLeft:a(10210),BottomRight:a(82341),LeftBottom:a(87958),LeftCenter:a(40080),LeftTop:a(88466),QuickSet:a(38829),RightBottom:a(19211),RightCenter:a(34609),RightTop:a(48741),TopCenter:a(49440),TopLeft:a(81288),TopRight:a(61323)}},66786:(S,P,a)=>{var y=a(88417),C=a(20786);S.exports=function(f,d,c){return y(f,d),C(f,c)}},62235:S=>{S.exports=function(a){return a.y+a.height-a.height*a.originY}},72873:(S,P,a)=>{var y=a(62235),C=a(26541),g=a(54380),f=a(17717),d=a(87841);S.exports=function(h,p){void 0===p&&(p=new d);var u=C(h),m=f(h);return p.x=u,p.y=m,p.width=g(h)-u,p.height=y(h)-m,p}},35893:S=>{S.exports=function(a){return a.x-a.width*a.originX+.5*a.width}},7702:S=>{S.exports=function(a){return a.y-a.height*a.originY+.5*a.height}},26541:S=>{S.exports=function(a){return a.x-a.width*a.originX}},87431:S=>{S.exports=function(a){return a.width*a.originX}},46928:S=>{S.exports=function(a){return a.height*a.originY}},54380:S=>{S.exports=function(a){return a.x+a.width-a.width*a.originX}},17717:S=>{S.exports=function(a){return a.y-a.height*a.originY}},86327:S=>{S.exports=function(a,y){return a.y=y-a.height+a.height*a.originY,a}},88417:S=>{S.exports=function(a,y){return a.x=y+a.width*a.originX-.5*a.width,a}},20786:S=>{S.exports=function(a,y){return a.y=y+a.height*a.originY-.5*a.height,a}},385:S=>{S.exports=function(a,y){return a.x=y+a.width*a.originX,a}},40136:S=>{S.exports=function(a,y){return a.x=y-a.width+a.width*a.originX,a}},66737:S=>{S.exports=function(a,y){return a.y=y+a.height*a.originY,a}},58724:(S,P,a)=>{S.exports={CenterOn:a(66786),GetBottom:a(62235),GetBounds:a(72873),GetCenterX:a(35893),GetCenterY:a(7702),GetLeft:a(26541),GetOffsetX:a(87431),GetOffsetY:a(46928),GetRight:a(54380),GetTop:a(17717),SetBottom:a(86327),SetCenterX:a(88417),SetCenterY:a(20786),SetLeft:a(385),SetRight:a(40136),SetTop:a(66737)}},20623:S=>{S.exports={setCrisp:function(a){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(C){a.style["image-rendering"]=C}),a.style.msInterpolationMode="nearest-neighbor",a},setBicubic:function(a){return a.style["image-rendering"]="auto",a.style.msInterpolationMode="bicubic",a}}},27919:(S,P,a)=>{var c,u,v,y=a(8054),C=a(68703),g=[],f=!1;S.exports=(v=function(){var _=0;return g.forEach(function(A){A.parent&&_++}),_},{create2D:function(_,A,M){return c(_,A,M,y.CANVAS)},create:c=function(_,A,M,I,R){void 0===A&&(A=1),void 0===M&&(M=1),void 0===I&&(I=y.CANVAS),void 0===R&&(R=!1);var F,N=u(I);return null===N?(N={parent:_,canvas:document.createElement("canvas"),type:I},I===y.CANVAS&&g.push(N),F=N.canvas):(N.parent=_,F=N.canvas),R&&(N.parent=F),F.width=A,F.height=M,f&&I===y.CANVAS&&C.disable(F.getContext("2d",{willReadFrequently:!1})),F},createWebGL:function(_,A,M){return c(_,A,M,y.WEBGL)},disableSmoothing:function(){f=!0},enableSmoothing:function(){f=!1},first:u=function(_){if(void 0===_&&(_=y.CANVAS),_===y.WEBGL)return null;for(var A=0;A<g.length;A++){var M=g[A];if(!M.parent&&M.type===_)return M}return null},free:function(){return g.length-v()},pool:g,remove:function(_){var A=_ instanceof HTMLCanvasElement;g.forEach(function(M){(A&&M.canvas===_||!A&&M.parent===_)&&(M.parent=null,M.canvas.width=1,M.canvas.height=1)})},total:v})},68703:S=>{var y,P="";S.exports={disable:function(d){return""===P&&(P=y(d)),P&&(d[P]=!1),d},enable:function(d){return""===P&&(P=y(d)),P&&(d[P]=!0),d},getPrefix:y=function(d){for(var c=["i","webkitI","msI","mozI","oI"],h=0;h<c.length;h++){var p=c[h]+"mageSmoothingEnabled";if(p in d)return p}return null},isEnabled:function(d){return null!==P?d[P]:null}}},65208:S=>{S.exports=function(a,y){return void 0===y&&(y="none"),a.style.msTouchAction=y,a.style["ms-touch-action"]=y,a.style["touch-action"]=y,a}},91610:S=>{S.exports=function(a,y){return void 0===y&&(y="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(g){a.style[g+"user-select"]=y}),a.style["-webkit-touch-callout"]=y,a.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",a}},26253:(S,P,a)=>{S.exports={CanvasInterpolation:a(20623),CanvasPool:a(27919),Smoothing:a(68703),TouchAction:a(65208),UserSelect:a(91610)}},40987:(S,P,a)=>{var y=a(83419),C=a(37589),g=a(1e3),f=a(7537),d=a(87837),c=new y({initialize:function(p,u,m,v){void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(p,u,m,v)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(h,p,u,m,v){return void 0===m&&(m=255),void 0===v&&(v=!0),this._locked=!0,this.red=h,this.green=p,this.blue=u,this.alpha=m,this._locked=!1,this.update(v)},setGLTo:function(h,p,u,m){return void 0===m&&(m=1),this._locked=!0,this.redGL=h,this.greenGL=p,this.blueGL=u,this.alphaGL=m,this._locked=!1,this.update(!0)},setFromRGB:function(h){return this._locked=!0,this.red=h.r,this.green=h.g,this.blue=h.b,h.hasOwnProperty("a")&&(this.alpha=h.a),this._locked=!1,this.update(!0)},setFromHSV:function(h,p,u){return f(h,p,u,this)},update:function(h){if(void 0===h&&(h=!1),this._locked)return this;var p=this.r,u=this.g,m=this.b,v=this.a;return this._color=C(p,u,m),this._color32=g(p,u,m,v),this._rgba="rgba("+p+","+u+","+m+","+v/255+")",h&&d(p,u,m,this),this},updateHSV:function(){return d(this.r,this.g,this.b,this),this},clone:function(){return new c(this.r,this.g,this.b,this.a)},gray:function(h){return this.setTo(h,h,h)},random:function(h,p){void 0===h&&(h=0),void 0===p&&(p=255);var u=Math.floor(h+Math.random()*(p-h)),m=Math.floor(h+Math.random()*(p-h)),v=Math.floor(h+Math.random()*(p-h));return this.setTo(u,m,v)},randomGray:function(h,p){void 0===h&&(h=0),void 0===p&&(p=255);var u=Math.floor(h+Math.random()*(p-h));return this.setTo(u,u,u)},saturate:function(h){return this.s+=h/100,this},desaturate:function(h){return this.s-=h/100,this},lighten:function(h){return this.v+=h/100,this},darken:function(h){return this.v-=h/100,this},brighten:function(h){var p=this.r,u=this.g,m=this.b;return p=Math.max(0,Math.min(255,p-Math.round(-h/100*255))),u=Math.max(0,Math.min(255,u-Math.round(-h/100*255))),m=Math.max(0,Math.min(255,m-Math.round(-h/100*255))),this.setTo(p,u,m)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(h){this.gl[0]=Math.min(Math.abs(h),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(h){this.gl[1]=Math.min(Math.abs(h),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(h){this.gl[2]=Math.min(Math.abs(h),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(h){this.gl[3]=Math.min(Math.abs(h),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(h){h=Math.floor(Math.abs(h)),this.r=Math.min(h,255),this.gl[0]=h/255,this.update(!0)}},green:{get:function(){return this.g},set:function(h){h=Math.floor(Math.abs(h)),this.g=Math.min(h,255),this.gl[1]=h/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(h){h=Math.floor(Math.abs(h)),this.b=Math.min(h,255),this.gl[2]=h/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(h){h=Math.floor(Math.abs(h)),this.a=Math.min(h,255),this.gl[3]=h/255,this.update()}},h:{get:function(){return this._h},set:function(h){this._h=h,f(h,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(h){this._s=h,f(this._h,h,this._v,this)}},v:{get:function(){return this._v},set:function(h){this._v=h,f(this._h,this._s,h,this)}}});S.exports=c},92728:(S,P,a)=>{var y=a(37589);S.exports=function(g){void 0===g&&(g=1024);var c,f=[],d=255,h=255,p=0,u=0;for(c=0;c<=d;c++)f.push({r:h,g:c,b:u,color:y(h,c,u)});for(p=255,c=d;c>=0;c--)f.push({r:c,g:p,b:u,color:y(c,p,u)});for(h=0,c=0;c<=d;c++,p--)f.push({r:h,g:p,b:c,color:y(h,p,c)});for(p=0,u=255,c=0;c<=d;c++,u--,h++)f.push({r:h,g:p,b:u,color:y(h,p,u)});if(1024===g)return f;var m=[],v=0,x=1024/g;for(c=0;c<g;c++)m.push(f[Math.floor(v)]),v+=x;return m}},91588:S=>{S.exports=function(a){var y={r:a>>16&255,g:a>>8&255,b:255&a,a:255};return a>16777215&&(y.a=a>>>24),y}},62957:S=>{S.exports=function(a){var y=a.toString(16);return 1===y.length?"0"+y:y}},37589:S=>{S.exports=function(a,y,C){return a<<16|y<<8|C}},1e3:S=>{S.exports=function(a,y,C,g){return g<<24|a<<16|y<<8|C}},62183:(S,P,a)=>{var y=a(40987),C=a(89528);S.exports=function(f,d,c){var h=c,p=c,u=c;if(0!==d){var m=c<.5?c*(1+d):c+d-c*d,v=2*c-m;h=C(v,m,f+1/3),p=C(v,m,f),u=C(v,m,f-1/3)}return(new y).setGLTo(h,p,u,1)}},27939:(S,P,a)=>{var y=a(7537);S.exports=function(g,f){void 0===g&&(g=1),void 0===f&&(f=1);for(var d=[],c=0;c<=359;c++)d.push(y(c/359,g,f));return d}},7537:(S,P,a)=>{var y=a(37589);function C(f,d,c,h){var p=(f+6*d)%6,u=Math.min(p,4-p,1);return Math.round(255*(h-h*c*Math.max(0,u)))}S.exports=function(f,d,c,h){void 0===d&&(d=1),void 0===c&&(c=1);var p=C(5,f,d,c),u=C(3,f,d,c),m=C(1,f,d,c);return h?h.setTo?h.setTo(p,u,m,h.alpha,!0):(h.r=p,h.g=u,h.b=m,h.color=y(p,u,m),h):{r:p,g:u,b:m,color:y(p,u,m)}}},70238:(S,P,a)=>{var y=a(40987);S.exports=function(g){var f=new y;g=g.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(u,m,v,x){return m+m+v+v+x+x});var d=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(g);if(d){var c=parseInt(d[1],16),h=parseInt(d[2],16),p=parseInt(d[3],16);f.setTo(c,h,p)}return f}},89528:S=>{S.exports=function(a,y,C){return C<0&&(C+=1),C>1&&(C-=1),C<.16666666666666666?a+6*(y-a)*C:C<.5?y:C<.6666666666666666?a+(y-a)*(.6666666666666666-C)*6:a}},30100:(S,P,a)=>{var y=a(40987),C=a(90664);S.exports=function(f){var d=C(f);return new y(d.r,d.g,d.b,d.a)}},90664:S=>{S.exports=function(a){return a>16777215?{a:a>>>24,r:a>>16&255,g:a>>8&255,b:255&a}:{a:255,r:a>>16&255,g:a>>8&255,b:255&a}}},13699:(S,P,a)=>{var y=a(28915),C=function(d,c,h,p,u,m,v,x){void 0===v&&(v=100),void 0===x&&(x=0);var b=x/v;return{r:y(d,p,b),g:y(c,u,b),b:y(h,m,b)}};S.exports={RGBWithRGB:C,ColorWithRGB:function(d,c,h,p,u,m){return void 0===u&&(u=100),void 0===m&&(m=0),C(d.r,d.g,d.b,c,h,p,u,m)},ColorWithColor:function(d,c,h,p){return void 0===h&&(h=100),void 0===p&&(p=0),C(d.r,d.g,d.b,c.r,c.g,c.b,h,p)}}},68957:(S,P,a)=>{var y=a(40987);S.exports=function(g){return new y(g.r,g.g,g.b,g.a)}},87388:(S,P,a)=>{var y=a(40987);S.exports=function(g){var f=new y,d=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(g.toLowerCase());if(d){var c=parseInt(d[1],10),h=parseInt(d[2],10),p=parseInt(d[3],10),u=void 0!==d[4]?parseFloat(d[4]):1;f.setTo(c,h,p,255*u)}return f}},87837:S=>{S.exports=function(a,y,C,g){void 0===g&&(g={h:0,s:0,v:0}),a/=255,y/=255,C/=255;var f=Math.min(a,y,C),d=Math.max(a,y,C),c=d-f,h=0,p=0===d?0:c/d,u=d;return d!==f&&(d===a?h=(y-C)/c+(y<C?6:0):d===y?h=(C-a)/c+2:d===C&&(h=(a-y)/c+4),h/=6),g.hasOwnProperty("_h")?(g._h=h,g._s=p,g._v=u):(g.h=h,g.s=p,g.v=u),g}},75723:(S,P,a)=>{var y=a(62957);S.exports=function(g,f,d,c,h){return void 0===c&&(c=255),void 0===h&&(h="#"),"#"===h?"#"+((1<<24)+(g<<16)+(f<<8)+d).toString(16).slice(1,7):"0x"+y(c)+y(g)+y(f)+y(d)}},85386:(S,P,a)=>{var y=a(30976),C=a(40987);S.exports=function(f,d){return void 0===f&&(f=0),void 0===d&&(d=255),new C(y(f,d),y(f,d),y(f,d))}},80333:(S,P,a)=>{var y=a(70238),C=a(30100),g=a(68957),f=a(87388);S.exports=function(c){switch(typeof c){case"string":return"rgb"===c.substr(0,3).toLowerCase()?f(c):y(c);case"number":return C(c);case"object":return g(c)}}},3956:(S,P,a)=>{var y=a(40987);y.ColorSpectrum=a(92728),y.ColorToRGBA=a(91588),y.ComponentToHex=a(62957),y.GetColor=a(37589),y.GetColor32=a(1e3),y.HexStringToColor=a(70238),y.HSLToColor=a(62183),y.HSVColorWheel=a(27939),y.HSVToRGB=a(7537),y.HueToComponent=a(89528),y.IntegerToColor=a(30100),y.IntegerToRGB=a(90664),y.Interpolate=a(13699),y.ObjectToColor=a(68957),y.RandomRGB=a(85386),y.RGBStringToColor=a(87388),y.RGBToHSV=a(87837),y.RGBToString=a(75723),y.ValueToColor=a(80333),S.exports=y},27460:(S,P,a)=>{S.exports={Align:a(71926),BaseShader:a(73894),Bounds:a(58724),Canvas:a(26253),Color:a(3956),ColorMatrix:a(89422),Masks:a(69781),RGB:a(51767)}},6858:(S,P,a)=>{var y=a(83419),C=a(39429),g=new y({initialize:function(d,c,h,p,u,m){c||(c=d.sys.make.image({x:h,y:p,key:u,frame:m,add:!1})),this.bitmapMask=c,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(f){this.bitmapMask=f},preRenderWebGL:function(f,d,c){f.pipelines.BITMAPMASK_PIPELINE.beginMask(this,d,c)},postRenderWebGL:function(f,d,c){f.pipelines.BITMAPMASK_PIPELINE.endMask(this,d,c)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});C.register("bitmapMask",function(f,d,c,h,p){return new g(this.scene,f,d,c,h,p)}),S.exports=g},80661:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d){this.geometryMask=d,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(g){return this.geometryMask=g,this},setInvertAlpha:function(g){return void 0===g&&(g=!0),this.invertAlpha=g,this},preRenderWebGL:function(g,f,d){var c=g.gl;g.flush(),0===g.maskStack.length&&(c.enable(c.STENCIL_TEST),c.clear(c.STENCIL_BUFFER_BIT),g.maskCount=0),g.currentCameraMask.mask!==this&&(g.currentMask.mask=this),g.maskStack.push({mask:this,camera:d}),this.applyStencil(g,d,!0),g.maskCount++},applyStencil:function(g,f,d){var c=g.gl,h=this.geometryMask,p=g.maskCount;c.colorMask(!1,!1,!1,!1),d?(c.stencilFunc(c.EQUAL,p,255),c.stencilOp(c.KEEP,c.KEEP,c.INCR),p++):(c.stencilFunc(c.EQUAL,p+1,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)),this.level=p,h.renderWebGL(g,h,f),g.flush(),c.colorMask(!0,!0,!0,!0),c.stencilOp(c.KEEP,c.KEEP,c.KEEP),c.stencilFunc(this.invertAlpha?c.NOTEQUAL:c.EQUAL,p,255)},postRenderWebGL:function(g){var f=g.gl;g.maskStack.pop(),g.maskCount--,g.flush();var d=g.currentMask;if(0===g.maskStack.length)d.mask=null,f.disable(f.STENCIL_TEST);else{var c=g.maskStack[g.maskStack.length-1];c.mask.applyStencil(g,c.camera,!1),g.currentCameraMask.mask!==c.mask?(d.mask=c.mask,d.camera=c.camera):d.mask=null}},preRenderCanvas:function(g,f,d){var c=this.geometryMask;g.currentContext.save(),c.renderCanvas(g,c,d,null,null,!0),g.currentContext.clip()},postRenderCanvas:function(g){g.currentContext.restore()},destroy:function(){this.geometryMask=null}});S.exports=C},69781:(S,P,a)=>{S.exports={BitmapMask:a(6858),GeometryMask:a(80661)}},73894:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c,h){(!d||""===d)&&(d=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),(!c||""===c)&&(c=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===h&&(h=null),this.key=f,this.fragmentSrc=d,this.vertexSrc=c,this.uniforms=h}});S.exports=C},40366:S=>{S.exports=function(a,y){var C;if(y)"string"==typeof y?C=document.getElementById(y):"object"==typeof y&&1===y.nodeType&&(C=y);else if(a.parentElement||null===y)return a;return C||(C=document.body),C.appendChild(a),a}},83719:(S,P,a)=>{var y=a(40366);S.exports=function(g){var f=g.config;if(f.parent&&f.domCreateContainer){var d=document.createElement("div");d.style.cssText=["display: block;","width: "+g.scale.width+"px;","height: "+g.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+f.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),g.domContainer=d,y(d,f.parent)}}},57264:(S,P,a)=>{var y=a(25892);S.exports=function(g){if("complete"!==document.readyState&&"interactive"!==document.readyState){var f=function(){document.removeEventListener("deviceready",f,!0),document.removeEventListener("DOMContentLoaded",f,!0),window.removeEventListener("load",f,!0),g()};document.body?y.cordova?document.addEventListener("deviceready",f,!1):(document.addEventListener("DOMContentLoaded",f,!0),window.addEventListener("load",f,!0)):window.setTimeout(f,20)}else g()}},57811:S=>{S.exports=function(a){if(!a)return window.innerHeight;var y=Math.abs(window.orientation),C={w:0,h:0},g=document.createElement("div");return g.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(g),C.w=90===y?g.offsetHeight:window.innerWidth,C.h=90===y?window.innerWidth:g.offsetHeight,document.documentElement.removeChild(g),g=null,90!==Math.abs(window.orientation)?C.h:C.w}},45818:(S,P,a)=>{var y=a(13560);S.exports=function(g,f){var d=window.screen,c=!!d&&(d.orientation||d.mozOrientation||d.msOrientation);return c&&"string"==typeof c.type?c.type:"string"==typeof c?c:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?y.ORIENTATION.PORTRAIT:y.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?y.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?y.ORIENTATION.LANDSCAPE:void 0:f>g?y.ORIENTATION.PORTRAIT:y.ORIENTATION.LANDSCAPE}},74403:S=>{S.exports=function(a){var y;return""!==a&&("string"==typeof a?y=document.getElementById(a):a&&1===a.nodeType&&(y=a)),y||(y=document.body),y}},56836:S=>{S.exports=function(a){var y="";try{window.DOMParser?y=(new DOMParser).parseFromString(a,"text/xml"):(y=new ActiveXObject("Microsoft.XMLDOM")).loadXML(a)}catch{y=null}return y&&y.documentElement&&!y.getElementsByTagName("parsererror").length?y:null}},35846:S=>{S.exports=function(a){a.parentNode&&a.parentNode.removeChild(a)}},43092:(S,P,a)=>{var y=a(83419),C=a(29747),g=new y({initialize:function(){this.isRunning=!1,this.callback=C,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var d=this;this.step=function c(h){d.callback(h),d.isRunning&&(d.timeOutID=window.requestAnimationFrame(c))},this.stepTimeout=function c(){d.isRunning&&(d.timeOutID=window.setTimeout(c,d.delay)),d.callback(window.performance.now())}},start:function(f,d,c){this.isRunning||(this.callback=f,this.isSetTimeOut=d,this.delay=c,this.isRunning=!0,this.timeOutID=d?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=C}});S.exports=g},84902:(S,P,a)=>{var y={AddToDOM:a(40366),DOMContentLoaded:a(57264),GetInnerHeight:a(57811),GetScreenOrientation:a(45818),GetTarget:a(74403),ParseXML:a(56836),RemoveFromDOM:a(35846),RequestAnimationFrame:a(43092)};S.exports=y},47565:(S,P,a)=>{var y=a(83419),C=a(50792),g=a(37277),f=new y({Extends:C,initialize:function(){C.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});g.register("EventEmitter",f,"events"),S.exports=f},93055:(S,P,a)=>{S.exports={EventEmitter:a(47565)}},20122:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h){void 0===h&&(h=1),C.call(this,g.BARREL,c),this.amount=h}});S.exports=f},32251:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u,m,v,x){void 0===p&&(p=1),void 0===u&&(u=1),void 0===m&&(m=1),void 0===v&&(v=1),void 0===x&&(x=4),C.call(this,g.BLOOM,c),this.steps=x,this.offsetX=p,this.offsetY=u,this.blurStrength=m,this.strength=v,this.glcolor=[1,1,1],null!=h&&(this.color=h)},color:{get:function(){var d=this.glcolor;return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var c=this.glcolor;c[0]=(d>>16&255)/255,c[1]=(d>>8&255)/255,c[2]=(255&d)/255}}});S.exports=f},9047:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u,m,v,x){void 0===h&&(h=0),void 0===p&&(p=2),void 0===u&&(u=2),void 0===m&&(m=1),void 0===x&&(x=4),C.call(this,g.BLUR,c),this.quality=h,this.x=p,this.y=u,this.steps=x,this.strength=m,this.glcolor=[1,1,1],null!=v&&(this.color=v)},color:{get:function(){var d=this.glcolor;return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var c=this.glcolor;c[0]=(d>>16&255)/255,c[1]=(d>>8&255)/255,c[2]=(255&d)/255}}});S.exports=f},27885:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u,m,v,x,b){void 0===h&&(h=.5),void 0===p&&(p=1),void 0===u&&(u=.2),void 0===m&&(m=!1),void 0===v&&(v=1),void 0===x&&(x=1),void 0===b&&(b=1),C.call(this,g.BOKEH,c),this.radius=h,this.amount=p,this.contrast=u,this.isTiltShift=m,this.strength=b,this.blurX=v,this.blurY=x}});S.exports=f},12578:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u,m,v){void 0===h&&(h=8),void 0===m&&(m=1),void 0===v&&(v=.005),C.call(this,g.CIRCLE,c),this.scale=m,this.feather=v,this.thickness=h,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],null!=p&&(this.color=p),null!=u&&(this.backgroundColor=u)},color:{get:function(){var d=this.glcolor;return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var c=this.glcolor;c[0]=(d>>16&255)/255,c[1]=(d>>8&255)/255,c[2]=(255&d)/255}},backgroundColor:{get:function(){var d=this.glcolor2;return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var c=this.glcolor2;c[0]=(d>>16&255)/255,c[1]=(d>>8&255)/255,c[2]=(255&d)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(d){this.glcolor2[3]=d}}});S.exports=f},15802:(S,P,a)=>{var y=a(83419),C=a(89422),g=a(14811),f=new y({Extends:C,initialize:function(c){C.call(this),this.type=g.COLOR_MATRIX,this.gameObject=c,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});S.exports=f},72898:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d){this.type=f,this.gameObject=d,this.active=!0},setActive:function(g){return this.active=g,this},destroy:function(){this.gameObject=null,this.active=!1}});S.exports=C},44553:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u){void 0===h&&(h="__WHITE"),void 0===p&&(p=.005),void 0===u&&(u=.005),C.call(this,g.DISPLACEMENT,c),this.x=p,this.y=u,this.setTexture(h)},setTexture:function(d){var c=this.gameObject.scene.sys.textures.getFrame(d);return c&&(this.glTexture=c.glTexture),this}});S.exports=f},68531:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u,m){void 0===p&&(p=4),void 0===u&&(u=0),void 0===m&&(m=!1),C.call(this,g.GLOW,c),this.outerStrength=p,this.innerStrength=u,this.knockout=m,this.glcolor=[1,1,1,1],void 0!==h&&(this.color=h)},color:{get:function(){var d=this.glcolor;return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var c=this.glcolor;c[0]=(d>>16&255)/255,c[1]=(d>>8&255)/255,c[2]=(255&d)/255}}});S.exports=f},37102:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u,m,v,x,b,T){void 0===u&&(u=.2),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=1),void 0===T&&(T=0),C.call(this,g.GRADIENT,c),this.alpha=u,this.size=T,this.fromX=m,this.fromY=v,this.toX=x,this.toY=b,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],null!=h&&(this.color1=h),null!=p&&(this.color2=p)},color1:{get:function(){var d=this.glcolor1;return(d[0]<<16)+(d[1]<<8)+(0|d[2])},set:function(d){var c=this.glcolor1;c[0]=d>>16&255,c[1]=d>>8&255,c[2]=255&d}},color2:{get:function(){var d=this.glcolor2;return(d[0]<<16)+(d[1]<<8)+(0|d[2])},set:function(d){var c=this.glcolor2;c[0]=d>>16&255,c[1]=d>>8&255,c[2]=255&d}}});S.exports=f},86886:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h){void 0===h&&(h=1),C.call(this,g.PIXELATE,c),this.amount=h}});S.exports=f},92322:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u,m,v,x,b){void 0===h&&(h=0),void 0===p&&(p=0),void 0===u&&(u=.1),void 0===m&&(m=1),void 0===x&&(x=6),void 0===b&&(b=1),C.call(this,g.SHADOW,c),this.x=h,this.y=p,this.decay=u,this.power=m,this.glcolor=[0,0,0,1],this.samples=x,this.intensity=b,void 0!==v&&(this.color=v)},color:{get:function(){var d=this.glcolor;return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var c=this.glcolor;c[0]=(d>>16&255)/255,c[1]=(d>>8&255)/255,c[2]=(255&d)/255}}});S.exports=f},39563:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u,m){void 0===h&&(h=.5),void 0===p&&(p=.5),void 0===u&&(u=3),void 0===m&&(m=!1),C.call(this,g.SHINE,c),this.speed=h,this.lineWidth=p,this.gradient=u,this.reveal=m}});S.exports=f},56448:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u,m){void 0===h&&(h=.5),void 0===p&&(p=.5),void 0===u&&(u=.5),void 0===m&&(m=.5),C.call(this,g.VIGNETTE,c),this.x=h,this.y=p,this.radius=u,this.strength=m}});S.exports=f},38433:(S,P,a)=>{var y=a(83419),C=a(72898),g=a(14811),f=new y({Extends:C,initialize:function(c,h,p,u,m){void 0===h&&(h=.1),void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=!1),C.call(this,g.WIPE,c),this.progress=0,this.wipeWidth=h,this.direction=p,this.axis=u,this.reveal=m}});S.exports=f},14811:S=>{S.exports={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19}},66064:(S,P,a)=>{var y=a(79291),C=a(14811),g={Barrel:a(20122),Controller:a(72898),Bloom:a(32251),Blur:a(9047),Bokeh:a(27885),Circle:a(12578),ColorMatrix:a(15802),Displacement:a(44553),Glow:a(68531),Gradient:a(37102),Pixelate:a(86886),Shadow:a(92322),Shine:a(39563),Vignette:a(56448),Wipe:a(38433)};g=y(!1,g,C),S.exports=g},25305:(S,P,a)=>{var y=a(10312),C=a(23568);S.exports=function(f,d,c){d.x=C(c,"x",0),d.y=C(c,"y",0),d.depth=C(c,"depth",0),d.flipX=C(c,"flipX",!1),d.flipY=C(c,"flipY",!1);var h=C(c,"scale",null);"number"==typeof h?d.setScale(h):null!==h&&(d.scaleX=C(h,"x",1),d.scaleY=C(h,"y",1));var p=C(c,"scrollFactor",null);"number"==typeof p?d.setScrollFactor(p):null!==p&&(d.scrollFactorX=C(p,"x",1),d.scrollFactorY=C(p,"y",1)),d.rotation=C(c,"rotation",0);var u=C(c,"angle",null);null!==u&&(d.angle=u),d.alpha=C(c,"alpha",1);var m=C(c,"origin",null);if("number"==typeof m)d.setOrigin(m);else if(null!==m){var v=C(m,"x",.5),x=C(m,"y",.5);d.setOrigin(v,x)}return d.blendMode=C(c,"blendMode",y.NORMAL),d.visible=C(c,"visible",!0),C(c,"add",!0)&&f.sys.displayList.add(d),d.preUpdate&&f.sys.updateList.add(d),d}},13059:(S,P,a)=>{var y=a(23568);S.exports=function(g,f){var d=y(f,"anims",null);if(null===d)return g;if("string"==typeof d)g.anims.play(d);else if("object"==typeof d){var c=g.anims,h=y(d,"key",void 0);if(h){var p=y(d,"startFrame",void 0),u=y(d,"delay",0),m=y(d,"repeat",0),v=y(d,"repeatDelay",0),x=y(d,"yoyo",!1),b=y(d,"play",!1),T=y(d,"delayedPlay",0),_={key:h,delay:u,repeat:m,repeatDelay:v,yoyo:x,startFrame:p};b?c.play(_):T>0?c.playAfterDelay(_,T):c.load(_)}}return g}},8050:(S,P,a)=>{var y=a(83419),C=a(73162),g=a(37277),f=a(51708),d=a(44594),c=a(19186),h=new y({Extends:C,initialize:function(u){C.call(this,u),this.sortChildrenFlag=!1,this.scene=u,this.systems=u.sys,this.events=u.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.events.once(d.DESTROY,this.destroy,this)},addChildCallback:function(p){p.displayList&&p.displayList!==this&&p.removeFromDisplayList(),p.parentContainer&&p.parentContainer.remove(p),p.displayList||(this.queueDepthSort(),p.displayList=this,p.emit(f.ADDED_TO_SCENE,p,this.scene),this.events.emit(d.ADDED_TO_SCENE,p,this.scene))},removeChildCallback:function(p){this.queueDepthSort(),p.displayList=null,p.emit(f.REMOVED_FROM_SCENE,p,this.scene),this.events.emit(d.REMOVED_FROM_SCENE,p,this.scene)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(c(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(p,u){return p._depth-u._depth},getChildren:function(){return this.list},shutdown:function(){for(var p=this.list;p.length;)p[0].destroy(!0);this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});g.register("DisplayList",h,"displayList"),S.exports=h},95643:(S,P,a)=>{var y=a(83419),C=a(53774),g=a(45893),f=a(50792),d=a(51708),c=a(44594),h=new y({Extends:f,initialize:function(u,m){f.call(this),this.scene=u,this.displayList=null,this.type=m,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(d.ADDED_TO_SCENE,this.addedToScene,this),this.on(d.REMOVED_FROM_SCENE,this.removedFromScene,this),u.sys.queueDepthSort()},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},setState:function(p){return this.state=p,this},setDataEnabled:function(){return this.data||(this.data=new g(this)),this},setData:function(p,u){return this.data||(this.data=new g(this)),this.data.set(p,u),this},incData:function(p,u){return this.data||(this.data=new g(this)),this.data.inc(p,u),this},toggleData:function(p){return this.data||(this.data=new g(this)),this.data.toggle(p),this},getData:function(p){return this.data||(this.data=new g(this)),this.data.get(p)},setInteractive:function(p,u,m){return this.scene.sys.input.enable(this,p,u,m),this},disableInteractive:function(p){return void 0===p&&(p=!1),this.scene.sys.input.disable(this,p),this},removeInteractive:function(p){return void 0===p&&(p=!1),this.scene.sys.input.clear(this),p&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return C(this)},willRender:function(p){return!(this.displayList&&this.displayList.active&&!this.displayList.willRender(p)||h.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&p.id)},getIndexList:function(){for(var p=this,u=this.parentContainer,m=[];u&&(m.unshift(u.getIndex(p)),p=u,u.parentContainer);)u=u.parentContainer;return m.unshift(this.displayList?this.displayList.getIndex(p):this.scene.sys.displayList.getIndex(p)),m},addToDisplayList:function(p){return void 0===p&&(p=this.scene.sys.displayList),this.displayList&&this.displayList!==p&&this.removeFromDisplayList(),p.exists(this)||(this.displayList=p,p.add(this,!0),p.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),p.events.emit(c.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var p=this.displayList||this.scene.sys.displayList;return p&&p.exists(this)&&(p.remove(this,!0),p.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),p.events.emit(c.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var p=null;return this.parentContainer?p=this.parentContainer.list:this.displayList&&(p=this.displayList.list),p},destroy:function(p){!this.scene||this.ignoreDestroy||(void 0===p&&(p=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(d.DESTROY,this,p),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});h.RENDER_MASK=15,S.exports=h},44603:(S,P,a)=>{var y=a(83419),C=a(37277),g=a(44594),f=new y({initialize:function(c){this.scene=c,this.systems=c.sys,this.events=c.sys.events,this.events.once(g.BOOT,this.boot,this),this.events.on(g.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(g.DESTROY,this.destroy,this)},start:function(){this.events.once(g.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(g.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});f.register=function(d,c){f.prototype.hasOwnProperty(d)||(f.prototype[d]=c)},f.remove=function(d){f.prototype.hasOwnProperty(d)&&delete f.prototype[d]},C.register("GameObjectCreator",f,"make"),S.exports=f},39429:(S,P,a)=>{var y=a(83419),C=a(37277),g=a(44594),f=new y({initialize:function(c){this.scene=c,this.systems=c.sys,this.events=c.sys.events,this.events.once(g.BOOT,this.boot,this),this.events.on(g.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(g.DESTROY,this.destroy,this)},start:function(){this.events.once(g.SHUTDOWN,this.shutdown,this)},existing:function(d){return(d.renderCanvas||d.renderWebGL)&&this.displayList.add(d),d.preUpdate&&this.updateList.add(d),d},shutdown:function(){this.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(g.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});f.register=function(d,c){f.prototype.hasOwnProperty(d)||(f.prototype[d]=c)},f.remove=function(d){f.prototype.hasOwnProperty(d)&&delete f.prototype[d]},C.register("GameObjectFactory",f,"add"),S.exports=f},91296:(S,P,a)=>{var y=a(61340),C=new y,g=new y,f=new y,d={camera:C,sprite:g,calc:f};S.exports=function(h,p,u){var m=C,v=g,x=f;return v.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),m.copyFrom(p.matrix),u?(m.multiplyWithOffset(u,-p.scrollX*h.scrollFactorX,-p.scrollY*h.scrollFactorY),v.e=h.x,v.f=h.y):(v.e-=p.scrollX*h.scrollFactorX,v.f-=p.scrollY*h.scrollFactorY),m.multiply(v,x),d}},45027:(S,P,a)=>{var y=a(83419),C=a(25774),g=a(37277),f=a(44594),d=new y({Extends:C,initialize:function(h){C.call(this),this.checkQueue=!0,this.scene=h,this.systems=h.sys,h.sys.events.once(f.BOOT,this.boot,this),h.sys.events.on(f.START,this.start,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){var c=this.systems.events;c.on(f.PRE_UPDATE,this.update,this),c.on(f.UPDATE,this.sceneUpdate,this),c.once(f.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(c,h){for(var p=this._active,u=p.length,m=0;m<u;m++){var v=p[m];v.active&&v.preUpdate.call(v,c,h)}},shutdown:function(){for(var c=this._active.length;c--;)this._active[c].destroy(!0);for(c=this._pending.length;c--;)this._pending[c].destroy(!0);for(c=this._destroy.length;c--;)this._destroy[c].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var h=this.systems.events;h.off(f.PRE_UPDATE,this.update,this),h.off(f.UPDATE,this.sceneUpdate,this),h.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});g.register("UpdateList",d,"updateList"),S.exports=d},3217:S=>{S.exports=function(a,y,C,g,f,d,c,h,p,u,m,v,x,b,T){var _=C.x-y.displayOriginX+f,A=C.y-y.displayOriginY+d,M=_+C.w,I=A+C.h,R=c.a,F=c.b,N=c.c,V=c.d,B=c.e,G=c.f,Q=_*R+A*N+B,H=_*F+A*V+G,K=_*R+I*N+B,tt=_*F+I*V+G,at=M*R+I*N+B,lt=M*F+I*V+G,q=M*R+A*N+B,it=M*F+A*V+G;h&&(Q=Math.round(Q),H=Math.round(H),K=Math.round(K),tt=Math.round(tt),at=Math.round(at),lt=Math.round(lt),q=Math.round(q),it=Math.round(it)),a.batchQuad(y,Q,H,K,tt,at,lt,q,it,g.u0,g.v0,g.u1,g.v1,p,u,m,v,x,b,T)}},53048:S=>{S.exports=function(a,y,C,g){if(void 0===C&&(C=!1),void 0===g)return{local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var Y,X,nt,f=a.text,d=f.length,c=a.maxWidth,h=a.wordWrapCharCode,p=Number.MAX_VALUE,u=Number.MAX_VALUE,m=0,v=0,x=a.fontData.chars,b=a.fontData.lineHeight,T=a.letterSpacing,_=a.lineSpacing,A=0,M=0,I=0,R=null,F=a._align,N=0,V=0,B=a.fontSize/a.fontData.size,G=B*a.scaleX,Q=B*a.scaleY,H=null,K=0,tt=[],at=Number.MAX_VALUE,lt=0,q=0,it=0,dt=[],gt=[],bt=null,Et=function(Mr,Ur){for(var dn=0,or=0;or<Mr.length;or++){var Fr=Mr.charCodeAt(or),Ts=Ur.chars[Fr];Ts&&(dn+=Ts.xAdvance)}return dn*G};if(c>0){nt=f.split("\n");var Bt=[];for(Y=0;Y<nt.length;Y++){var Kt=nt[Y],Zt="",ne="",ae="",fe="";for(X=0;X<Kt.length;X++)I=Kt.charCodeAt(X),Zt+=Kt[X],(I===h||X===Kt.length-1)&&(Et(fe=ae+Zt,a.fontData)<=c?ae=fe:(ne=ne.slice(0,-1),ne+=(ne?"\n":"")+ae,ae=Zt),Zt="");ne=ne.slice(0,-1),Bt.push(ne+=(ne?"\n":"")+ae)}f=Bt.join("\n"),g.wrappedText=f,d=f.length}var Ye=0;for(Y=0;Y<d;Y++)if(10!==(I=f.charCodeAt(Y))){if(R=x[I]){if(N=A,null!==H){var Pe=R.kerning[K];N+=void 0!==Pe?Pe:0}p>N&&(p=N),u>(V=M)&&(u=V);var Qe=N+R.xAdvance,Se=V+b;m<Qe&&(m=Qe),v<Se&&(v=Se);var ei=R.xOffset+R.xAdvance+(void 0!==Pe?Pe:0);I===h?null!==bt&&(dt.push({word:bt.word,i:bt.i,x:bt.x*G,y:bt.y*Q,w:bt.w*G,h:bt.h*Q}),bt=null):(null===bt&&(bt={word:"",i:Ye,x:A,y:M,w:0,h:b}),bt.word=bt.word.concat(f[Y]),bt.w+=ei),gt.push({i:Ye,idx:Y,char:f[Y],code:I,x:(R.xOffset+N)*B,y:(R.yOffset+M)*B,w:R.width*B,h:R.height*B,t:M*B,r:Qe*B,b:b*B,line:q,glyph:R}),A+=R.xAdvance+T+(void 0!==Pe?Pe:0),H=R,K=I,it=Qe*B,Ye++}}else null!==bt&&(dt.push({word:bt.word,i:bt.i,x:bt.x*G,y:bt.y*Q,w:bt.w*G,h:bt.h*Q}),bt=null),H=null,tt[q]=it,it>lt&&(lt=it),it<at&&(at=it),it=0,A=0,M=(b+_)*++q;if(null!==bt&&dt.push({word:bt.word,i:bt.i,x:bt.x*G,y:bt.y*Q,w:bt.w*G,h:bt.h*Q}),tt[q]=it,it>lt&&(lt=it),it<at&&(at=it),F>0)for(var ri=0;ri<gt.length;ri++){var Bi=gt[ri];if(1===F){var tn=(lt-tt[Bi.line])/2;Bi.x+=tn,Bi.r+=tn}else if(2===F){var on=lt-tt[Bi.line];Bi.x+=on,Bi.r+=on}}var ln=g.local,hn=g.global;return nt=g.lines,ln.x=p*B,ln.y=u*B,ln.width=m*B,ln.height=v*B,hn.x=a.x-a._displayOriginX+p*G,hn.y=a.y-a._displayOriginY+u*Q,hn.width=m*G,hn.height=v*Q,nt.shortest=at,nt.longest=lt,nt.lengths=tt,y&&(ln.x=Math.ceil(ln.x),ln.y=Math.ceil(ln.y),ln.width=Math.ceil(ln.width),ln.height=Math.ceil(ln.height),hn.x=Math.ceil(hn.x),hn.y=Math.ceil(hn.y),hn.width=Math.ceil(hn.width),hn.height=Math.ceil(hn.height),nt.shortest=Math.ceil(at),nt.longest=Math.ceil(lt)),C&&(a._displayOriginX=a.originX*ln.width,a._displayOriginY=a.originY*ln.height,hn.x=a.x-a._displayOriginX*a.scaleX,hn.y=a.y-a._displayOriginY*a.scaleY,y&&(hn.x=Math.ceil(hn.x),hn.y=Math.ceil(hn.y))),g.words=dt,g.characters=gt,g.lines.height=b,g.scale=B,g.scaleX=a.scaleX,g.scaleY=a.scaleY,g}},61327:(S,P,a)=>{var y=a(21859);S.exports=function(g,f,d,c,h,p,u){var m=g.sys.textures.get(d),v=m.get(c),x=g.sys.cache.xml.get(h);if(v&&x){var b=y(x,v,p,u,m);return g.sys.cache.bitmapFont.add(f,{data:b,texture:d,frame:c,fromAtlas:!0}),!0}return!1}},6925:(S,P,a)=>{var y=a(35154);S.exports=function(g,f){var d=f.width,c=f.height,h=Math.floor(d/2),p=Math.floor(c/2),u=y(f,"chars","");if(""!==u){var m=y(f,"image",""),v=g.sys.textures.getFrame(m),x=v.cutX,b=v.cutY,T=v.source.width,_=v.source.height,A=y(f,"offset.x",0),M=y(f,"offset.y",0),I=y(f,"spacing.x",0),R=y(f,"spacing.y",0),F=y(f,"lineSpacing",0),N=y(f,"charsPerRow",null);null===N&&(N=T/d)>u.length&&(N=u.length);for(var V=A,B=M,G={retroFont:!0,font:m,size:d,lineHeight:c+F,chars:{}},Q=0,H=0;H<u.length;H++){var K=u.charCodeAt(H);G.chars[K]={x:V,y:B,width:d,height:c,centerX:h,centerY:p,xOffset:0,yOffset:0,xAdvance:d,data:{},kerning:{},u0:(x+V)/T,v0:(b+B)/_,u1:(x+V+d)/T,v1:(b+B+c)/_},++Q===N?(Q=0,V=A,B+=c+R):V+=d+I}return{data:G,frame:null,texture:m}}}},21859:S=>{function P(y,C){return parseInt(y.getAttribute(C),10)}S.exports=function(y,C,g,f,d){void 0===g&&(g=0),void 0===f&&(f=0);var c=C.cutX,h=C.cutY,p=C.source.width,u=C.source.height,m=C.sourceIndex,v={},x=y.getElementsByTagName("info")[0],b=y.getElementsByTagName("common")[0];v.font=x.getAttribute("face"),v.size=P(x,"size"),v.lineHeight=P(b,"lineHeight")+f,v.chars={};var T=y.getElementsByTagName("char"),_=void 0!==C&&C.trimmed;if(_)var A=C.height,M=C.width;for(var I=0;I<T.length;I++){var R=T[I],F=P(R,"id"),N=String.fromCharCode(F),V=P(R,"x"),B=P(R,"y"),G=P(R,"width"),Q=P(R,"height");_&&(V<M&&(M=V),B<A&&(A=B)),_&&0!==A&&0!==M&&(V-=C.x,B-=C.y);var H=(c+V)/p,K=(h+B)/u,tt=(c+V+G)/p,at=(h+B+Q)/u;if(v.chars[F]={x:V,y:B,width:G,height:Q,centerX:Math.floor(G/2),centerY:Math.floor(Q/2),xOffset:P(R,"xoffset"),yOffset:P(R,"yoffset"),xAdvance:P(R,"xadvance")+g,data:{},kerning:{},u0:H,v0:K,u1:tt,v1:at},d&&0!==G&&0!==Q){var lt=d.add(N,m,V,B,G,Q);lt&&lt.setUVs(G,Q,H,K,tt,at)}}var q=y.getElementsByTagName("kerning");for(I=0;I<q.length;I++){var it=q[I],Y=P(it,"first"),X=P(it,"second"),nt=P(it,"amount");v.chars[X].kerning[Y]=nt}return v}},196:(S,P,a)=>{var y=a(87662),C=a(79291),g={Parse:a(6925)};g=C(!1,g,y),S.exports=g},87662:S=>{S.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},2638:(S,P,a)=>{var y=a(22186),C=a(83419),g=a(12310),f=new C({Extends:y,Mixins:[g],initialize:function(c,h,p,u,m,v,x){y.call(this,c,h,p,u,m,v,x),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(d,c){return this.cropWidth=d,this.cropHeight=c,this},setDisplayCallback:function(d){return this.displayCallback=d,this},setScrollX:function(d){return this.scrollX=d,this},setScrollY:function(d){return this.scrollY=d,this}});S.exports=f},86741:(S,P,a)=>{var y=a(20926);S.exports=function(g,f,d,c){var h=f._text,p=h.length,u=g.currentContext;if(0!==p&&y(g,u,f,d,c)){d.addToRenderList(f);var m=f.fromAtlas?f.frame:f.texture.frames.__BASE,v=f.displayCallback,x=f.callbackData,b=f.fontData.chars,T=f.fontData.lineHeight,_=f._letterSpacing,A=0,M=0,I=0,R=null,F=0,N=0,V=0,B=0,G=0,Q=0,H=null,K=0,tt=f.frame.source.image,at=m.cutX,lt=m.cutY,q=0,it=0,Y=f._fontSize/f.fontData.size,X=f._align,nt=0,dt=0;f.getTextBounds(!1);var gt=f._bounds.lines;1===X?dt=(gt.longest-gt.lengths[0])/2:2===X&&(dt=gt.longest-gt.lengths[0]),u.translate(-f.displayOriginX,-f.displayOriginY);var bt=d.roundPixels;f.cropWidth>0&&f.cropHeight>0&&(u.beginPath(),u.rect(0,0,f.cropWidth,f.cropHeight),u.clip());for(var Et=0;Et<p;Et++)if(it=Y,q=0,10!==(I=h.charCodeAt(Et))){if(R=b[I]){if(F=at+R.x,N=lt+R.y,V=R.width,B=R.height,G=R.xOffset+A-f.scrollX,Q=R.yOffset+M-f.scrollY,null!==H){var Bt=R.kerning[K];G+=void 0!==Bt?Bt:0}if(v){x.index=Et,x.charCode=I,x.x=G,x.y=Q,x.scale=it,x.rotation=q,x.data=R.data;var Kt=v(x);G=Kt.x,Q=Kt.y,it=Kt.scale,q=Kt.rotation}G*=it,Q*=it,G+=dt,A+=R.xAdvance+_+(void 0!==Bt?Bt:0),H=R,K=I,0!==V&&0!==B&&32!==I&&(bt&&(G=Math.round(G),Q=Math.round(Q)),u.save(),u.translate(G,Q),u.rotate(q),u.scale(it,it),u.drawImage(tt,F,N,V,B,0,0,V,B),u.restore())}}else nt++,1===X?dt=(gt.longest-gt.lengths[nt])/2:2===X&&(dt=gt.longest-gt.lengths[nt]),A=0,M+=T,H=null;u.restore()}}},11164:(S,P,a)=>{var y=a(2638),C=a(25305),g=a(44603),f=a(23568);g.register("dynamicBitmapText",function(d,c){void 0===d&&(d={});var h=f(d,"font",""),p=f(d,"text",""),u=f(d,"size",!1),m=new y(this.scene,0,0,h,p,u);return void 0!==c&&(d.add=c),C(this.scene,m,d),m})},72566:(S,P,a)=>{var y=a(2638);a(39429).register("dynamicBitmapText",function(g,f,d,c,h){return this.displayList.add(new y(this.scene,g,f,d,c,h))})},12310:(S,P,a)=>{var C,g;a(29747),C=a(73482),g=a(86741),S.exports={renderWebGL:C,renderCanvas:g}},73482:(S,P,a)=>{var y=a(91296),C=a(61340),g=a(70554),f=new C;S.exports=function(c,h,p,u){var m=h.text,v=m.length;if(0!==v){p.addToRenderList(h);var x=c.pipelines.set(h.pipeline,h),b=y(h,p,u);c.pipelines.preBatch(h);var T=b.sprite,_=b.calc,A=f,M=h.cropWidth>0||h.cropHeight>0;M&&(x.flush(),c.pushScissor(_.tx,_.ty,h.cropWidth*_.scaleX,h.cropHeight*_.scaleY));var q,X,R=h.frame.glTexture,F=h.tintFill,N=g.getTintAppendFloatAlpha(h.tintTopLeft,p.alpha*h._alphaTL),V=g.getTintAppendFloatAlpha(h.tintTopRight,p.alpha*h._alphaTR),B=g.getTintAppendFloatAlpha(h.tintBottomLeft,p.alpha*h._alphaBL),G=g.getTintAppendFloatAlpha(h.tintBottomRight,p.alpha*h._alphaBR),Q=x.setGameObject(h),H=0,K=0,tt=0,at=0,lt=h.letterSpacing,it=0,Y=0,nt=h.scrollX,dt=h.scrollY,gt=h.fontData,bt=gt.chars,Et=gt.lineHeight,Bt=h.fontSize/gt.size,Kt=0,Zt=h._align,ne=0,ae=0,fe=h.getTextBounds(!1);h.maxWidth>0&&(v=(m=fe.wrappedText).length);var ke=h._bounds.lines;1===Zt?ae=(ke.longest-ke.lengths[0])/2:2===Zt&&(ae=ke.longest-ke.lengths[0]);for(var Ye=p.roundPixels,Pe=h.displayCallback,Qe=h.callbackData,Se=0;Se<v;Se++)if(10!==(tt=m.charCodeAt(Se))){if(q=bt[tt]){Y=q.height;var ei=q.xOffset+H-nt,ri=q.yOffset+K-dt;if(null!==X){var Bi=q.kerning[at]||0;ei+=Bi,H+=Bi}if(H+=q.xAdvance+lt,X=q,at=tt,0!==(it=q.width)&&0!==Y&&32!==tt){if(Bt=h.fontSize/h.fontData.size,Kt=0,Pe){Qe.color=0,Qe.tint.topLeft=N,Qe.tint.topRight=V,Qe.tint.bottomLeft=B,Qe.tint.bottomRight=G,Qe.index=Se,Qe.charCode=tt,Qe.x=ei,Qe.y=ri,Qe.scale=Bt,Qe.rotation=Kt,Qe.data=q.data;var tn=Pe(Qe);ei=tn.x,ri=tn.y,Bt=tn.scale,Kt=tn.rotation,tn.color?(N=tn.color,V=tn.color,B=tn.color,G=tn.color):(N=tn.tint.topLeft,V=tn.tint.topRight,B=tn.tint.bottomLeft,G=tn.tint.bottomRight),N=g.getTintAppendFloatAlpha(N,p.alpha*h._alphaTL),V=g.getTintAppendFloatAlpha(V,p.alpha*h._alphaTR),B=g.getTintAppendFloatAlpha(B,p.alpha*h._alphaBL),G=g.getTintAppendFloatAlpha(G,p.alpha*h._alphaBR)}ei*=Bt,ri*=Bt,ei-=h.displayOriginX,A.applyITRS(ei+=ae,ri-=h.displayOriginY,Kt,Bt,Bt),_.multiply(A,T);var on=q.u0,ln=q.v0,hn=q.u1,Mr=q.v1,or=T.e,Fr=T.f,Ts=Y*T.c+T.e,Xl=Y*T.d+T.f,js=it*T.a+Y*T.c+T.e,Va=it*T.b+Y*T.d+T.f,qo=it*T.a+T.e,Yl=it*T.b+T.f;Ye&&(or=Math.round(or),Fr=Math.round(Fr),Ts=Math.round(Ts),Xl=Math.round(Xl),js=Math.round(js),Va=Math.round(Va),qo=Math.round(qo),Yl=Math.round(Yl)),x.shouldFlush(6)&&(x.flush(),Q=x.setGameObject(h)),x.batchQuad(h,or,Fr,Ts,Xl,js,Va,qo,Yl,on,ln,hn,Mr,N,V,B,G,F,R,Q)}}}else ne++,1===Zt?ae=(ke.longest-ke.lengths[ne])/2:2===Zt&&(ae=ke.longest-ke.lengths[ne]),H=0,K+=Et,X=null;M&&(x.flush(),c.popScissor()),c.pipelines.postBatch(h)}}},22186:(S,P,a)=>{var y=a(83419),C=a(45319),g=a(31401),f=a(95643),d=a(53048),c=a(61327),h=a(21859),p=a(87841),u=a(18658),m=new y({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Tint,g.Transform,g.Visible,u],initialize:function(x,b,T,_,A,M,I){void 0===A&&(A=""),void 0===I&&(I=0),f.call(this,x,"BitmapText"),this.font=_;var R=this.scene.sys.cache.bitmapFont.get(_);if(!R)throw new Error("Invalid BitmapText key: "+_);this.fontData=R.data,this._text="",this._fontSize=M||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=I,this._bounds=d(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(b,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(A)},setLeftAlign:function(){return this._align=m.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=m.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=m.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(v){return this._fontSize=v,this._dirty=!0,this},setLetterSpacing:function(v){return void 0===v&&(v=0),this._letterSpacing=v,this._dirty=!0,this},setLineSpacing:function(v){return void 0===v&&(v=0),this.lineSpacing=v,this},setText:function(v){return!v&&0!==v&&(v=""),Array.isArray(v)&&(v=v.join("\n")),v!==this.text&&(this._text=v.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(v,x,b,T){return void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=0),void 0===T&&(T=.5),this.dropShadowX=v,this.dropShadowY=x,this.dropShadowColor=b,this.dropShadowAlpha=T,this},setCharacterTint:function(v,x,b,T,_,A,M){void 0===v&&(v=0),void 0===x&&(x=1),void 0===b&&(b=!1),void 0===T&&(T=-1),void 0===_&&(_=T,A=T,M=T);var I=this.text.length;-1===x&&(x=I),v<0&&(v=I+v),v=C(v,0,I-1);for(var R=C(v+x,v,I),F=this.charColors,N=v;N<R;N++){var V=F[N];if(-1===T)F[N]=null;else{var B=b?1:0;V?(V.tintEffect=B,V.tintTL=T,V.tintTR=_,V.tintBL=A,V.tintBR=M):F[N]={tintEffect:B,tintTL:T,tintTR:_,tintBL:A,tintBR:M}}}return this},setWordTint:function(v,x,b,T,_,A,M){void 0===x&&(x=1);for(var R=this.getTextBounds().words,F="number"==typeof v,N=0,V=0;V<R.length;V++){var B=R[V];if((F&&V===v||!F&&B.word===v)&&(this.setCharacterTint(B.i,B.word.length,b,T,_,A,M),++N===x))return this}return this},getTextBounds:function(v){var x=this._bounds;return(this._dirty||v||this.scaleX!==x.scaleX||this.scaleY!==x.scaleY)&&(d(this,v,!0,x),this._dirty=!1),x},getCharacterAt:function(v,x,b){for(var T=this.getLocalPoint(v,x,null,b),A=this.getTextBounds().characters,M=new p,I=0;I<A.length;I++){var R=A[I];if(M.setTo(R.x,R.t,R.r-R.x,R.b),M.contains(T.x,T.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(v,x,b){void 0===x&&(x=this._fontSize),void 0===b&&(b=this._align);var T=this.scene.sys.cache.bitmapFont.get(v);return T&&(this.font=v,this.fontData=T.data,this._fontSize=x,this._align=b,this.fromAtlas=!0===T.fromAtlas,this.setTexture(T.texture,T.frame),d(this,!1,!0,this._bounds)),this},setMaxWidth:function(v,x){return this._maxWidth=v,this._dirty=!0,void 0!==x&&(this.wordWrapCharCode=x),this},align:{set:function(v){this._align=v,this._dirty=!0},get:function(){return this._align}},text:{set:function(v){this.setText(v)},get:function(){return this._text}},fontSize:{set:function(v){this._fontSize=v,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(v){this._letterSpacing=v,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(v){this._lineSpacing=v,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(v){this._maxWidth=v,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var v=g.ToJSON(this);return v.data={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align},v},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});m.ALIGN_LEFT=0,m.ALIGN_CENTER=1,m.ALIGN_RIGHT=2,m.ParseFromAtlas=c,m.ParseXMLBitmapFont=h,S.exports=m},37289:(S,P,a)=>{var y=a(20926);S.exports=function(g,f,d,c){var h=f._text,p=h.length,u=g.currentContext;if(0!==p&&y(g,u,f,d,c)){d.addToRenderList(f);var m=f.fromAtlas?f.frame:f.texture.frames.__BASE,v=f.fontData.chars,x=f.fontData.lineHeight,b=f._letterSpacing,T=f._lineSpacing,_=0,A=0,M=0,I=null,R=0,F=0,N=0,V=0,B=0,G=0,Q=null,H=0,K=m.source.image,tt=m.cutX,at=m.cutY,lt=f._fontSize/f.fontData.size,q=f._align,it=0,Y=0,X=f.getTextBounds(!1);f.maxWidth>0&&(p=(h=X.wrappedText).length);var nt=f._bounds.lines;1===q?Y=(nt.longest-nt.lengths[0])/2:2===q&&(Y=nt.longest-nt.lengths[0]),u.translate(-f.displayOriginX,-f.displayOriginY);for(var dt=d.roundPixels,gt=0;gt<p;gt++)if(10!==(M=h.charCodeAt(gt))){if(I=v[M]){if(R=tt+I.x,F=at+I.y,V=I.height,B=I.xOffset+_,G=I.yOffset+A,null!==Q){var bt=I.kerning[H];B+=void 0!==bt?bt:0}B*=lt,G*=lt,B+=Y,_+=I.xAdvance+b+(void 0!==bt?bt:0),Q=I,H=M,0!==(N=I.width)&&0!==V&&32!==M&&(dt&&(B=Math.round(B),G=Math.round(G)),u.save(),u.translate(B,G),u.scale(lt,lt),u.drawImage(K,R,F,N,V,0,0,N,V),u.restore())}}else it++,1===q?Y=(nt.longest-nt.lengths[it])/2:2===q&&(Y=nt.longest-nt.lengths[it]),_=0,A+=x+T,Q=null;u.restore()}}},57336:(S,P,a)=>{var y=a(22186),C=a(25305),g=a(44603),f=a(23568),d=a(35154);g.register("bitmapText",function(c,h){void 0===c&&(c={});var p=d(c,"font",""),u=f(c,"text",""),m=f(c,"size",!1),v=d(c,"align",0),x=new y(this.scene,0,0,p,u,m,v);return void 0!==h&&(c.add=h),C(this.scene,x,c),x})},34914:(S,P,a)=>{var y=a(22186);a(39429).register("bitmapText",function(g,f,d,c,h,p){return this.displayList.add(new y(this.scene,g,f,d,c,h,p))})},18658:(S,P,a)=>{var C,g;a(29747),C=a(33590),g=a(37289),S.exports={renderWebGL:C,renderCanvas:g}},33590:(S,P,a)=>{var y=a(3217),C=a(91296),g=a(70554);S.exports=function(d,c,h,p){if(0!==c._text.length){h.addToRenderList(c);var v=d.pipelines.set(c.pipeline,c),x=C(c,h,p).calc;d.pipelines.preBatch(c);var Q,H,K,b=h.roundPixels,T=h.alpha,_=c.charColors,A=c.tintFill,M=g.getTintAppendFloatAlpha,I=M(c.tintTopLeft,T*c._alphaTL),R=M(c.tintTopRight,T*c._alphaTR),F=M(c.tintBottomLeft,T*c._alphaBL),N=M(c.tintBottomRight,T*c._alphaBR),V=c.frame.glTexture,B=v.setGameObject(c),tt=c.getTextBounds(!1).characters,at=c.dropShadowX,lt=c.dropShadowY;if(0!==at||0!==lt){var it=c.dropShadowColor,Y=c.dropShadowAlpha,X=M(it,T*Y*c._alphaTL),nt=M(it,T*Y*c._alphaTR),dt=M(it,T*Y*c._alphaBL),gt=M(it,T*Y*c._alphaBR);for(Q=0;Q<tt.length;Q++)K=(H=tt[Q]).glyph,32!==H.code&&0!==K.width&&0!==K.height&&y(v,c,H,K,at,lt,x,b,X,nt,dt,gt,1,V,B)}for(Q=0;Q<tt.length;Q++)if(K=(H=tt[Q]).glyph,32!==H.code&&0!==K.width&&0!==K.height)if(v.shouldFlush(6)&&(v.flush(),B=v.setGameObject(c)),_[H.i]){var bt=_[H.i],Et=bt.tintEffect,Bt=M(bt.tintTL,T*c._alphaTL),Kt=M(bt.tintTR,T*c._alphaTR),Zt=M(bt.tintBL,T*c._alphaBL),ne=M(bt.tintBR,T*c._alphaBR);y(v,c,H,K,0,0,x,b,Bt,Kt,Zt,ne,Et,V,B)}else y(v,c,H,K,0,0,x,b,I,R,F,N,A,V,B);d.pipelines.postBatch(c)}}},6107:(S,P,a)=>{var y=a(48011),C=a(46590),g=a(83419),f=a(31401),d=a(4327),c=a(95643),h=a(73162),p=new g({Extends:c,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Mask,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.Texture,f.Transform,f.Visible,y],initialize:function(m,v,x,b,T){c.call(this,m,"Blitter"),this.setTexture(b,T),this.setPosition(v,x),this.initPipeline(),this.initPostPipeline(),this.children=new h,this.renderList=[],this.dirty=!1},create:function(u,m,v,x,b){void 0===x&&(x=!0),void 0===b&&(b=this.children.length),void 0===v?v=this.frame:v instanceof d||(v=this.texture.get(v));var T=new C(this,u,m,v,x);return this.children.addAt(T,b,!1),this.dirty=!0,T},createFromCallback:function(u,m,v,x){for(var b=this.createMultiple(m,v,x),T=0;T<b.length;T++)u.call(this,b[T],T);return b},createMultiple:function(u,m,v){void 0===m&&(m=this.frame.name),void 0===v&&(v=!0),Array.isArray(m)||(m=[m]);var x=[],b=this;return m.forEach(function(T){for(var _=0;_<u;_++)x.push(b.create(0,0,T,v))}),x},childCanRender:function(u){return u.visible&&u.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});S.exports=p},72396:S=>{S.exports=function(a,y,C,g){var f=y.getRenderList();if(0!==f.length){var d=a.currentContext,c=C.alpha*y.alpha;if(0!==c){C.addToRenderList(y),d.globalCompositeOperation=a.blendModes[y.blendMode],d.imageSmoothingEnabled=!y.frame.source.scaleMode;var h=y.x-C.scrollX*y.scrollFactorX,p=y.y-C.scrollY*y.scrollFactorY;d.save(),g&&g.copyToContext(d);for(var u=C.roundPixels,m=0;m<f.length;m++){var v=f[m],x=v.flipX||v.flipY,b=v.frame,T=b.canvasData,_=b.x,A=b.y,M=1,I=1,R=v.alpha*c;0!==R&&(d.globalAlpha=R,x?(v.flipX&&(M=-1,_-=T.width),v.flipY&&(I=-1,A-=T.height),T.width>0&&T.height>0&&(d.save(),d.translate(v.x+h,v.y+p),d.scale(M,I),d.drawImage(b.source.image,T.x,T.y,T.width,T.height,_,A,T.width,T.height),d.restore())):(u&&(_=Math.round(_),A=Math.round(A)),T.width>0&&T.height>0&&d.drawImage(b.source.image,T.x,T.y,T.width,T.height,_+v.x+h,A+v.y+p,T.width,T.height)))}d.restore()}}}},9403:(S,P,a)=>{var y=a(6107),C=a(25305),g=a(44603),f=a(23568);g.register("blitter",function(d,c){void 0===d&&(d={});var h=f(d,"key",null),p=f(d,"frame",null),u=new y(this.scene,0,0,h,p);return void 0!==c&&(d.add=c),C(this.scene,u,d),u})},12709:(S,P,a)=>{var y=a(6107);a(39429).register("blitter",function(g,f,d,c){return this.displayList.add(new y(this.scene,g,f,d,c))})},48011:(S,P,a)=>{var C,g;a(29747),C=a(99485),g=a(72396),S.exports={renderWebGL:C,renderCanvas:g}},99485:(S,P,a)=>{var y=a(61340),C=a(70554),g=new y;S.exports=function(d,c,h,p){var u=c.getRenderList(),m=h.alpha*c.alpha;if(0!==u.length&&0!==m){h.addToRenderList(c);var v=d.pipelines.set(this.pipeline,c),x=h.scrollX*c.scrollFactorX,b=h.scrollY*c.scrollFactorY,T=g.copyFrom(h.matrix);p&&(T.multiplyWithOffset(p,-x,-b),x=0,b=0);var _=c.x-x,A=c.y-b,M=-1,R=h.roundPixels;d.pipelines.preBatch(c);for(var F=0;F<u.length;F++){var N=u[F],V=N.frame,B=N.alpha*m;if(0!==B){var G=V.width,Q=V.height,H=_+N.x+V.x,K=A+N.y+V.y;N.flipX&&(G*=-1,H+=V.width),N.flipY&&(Q*=-1,K+=V.height);var tt=T.setQuad(H,K,H+G,K+Q,R),at=C.getTintAppendFloatAlpha(N.tint,B);if(V.sourceIndex!==M){var lt=v.setGameObject(c,V);M=V.sourceIndex}v.batchQuad(c,tt[0],tt[1],tt[2],tt[3],tt[4],tt[5],tt[6],tt[7],V.u0,V.v0,V.u1,V.v1,at,at,at,at,!1,V.glTexture,lt)&&(M=-1)}}d.pipelines.postBatch(c)}}},46590:(S,P,a)=>{var y=a(83419),C=a(4327),g=new y({initialize:function(d,c,h,p,u){this.parent=d,this.x=c,this.y=h,this.frame=p,this.data={},this.tint=16777215,this._visible=u,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(f){return this.frame=void 0===f?this.parent.frame:f instanceof C&&f.texture===this.parent.texture?f:this.parent.texture.get(f),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(f,d,c){return this.x=f,this.y=d,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,c&&this.setFrame(c),this},setPosition:function(f,d){return this.x=f,this.y=d,this},setFlipX:function(f){return this.flipX=f,this},setFlipY:function(f){return this.flipY=f,this},setFlip:function(f,d){return this.flipX=f,this.flipY=d,this},setVisible:function(f){return this.visible=f,this},setAlpha:function(f){return this.alpha=f,this},setTint:function(f){return this.tint=f,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(f){this.parent.dirty|=this._visible!==f,this._visible=f}},alpha:{get:function(){return this._alpha},set:function(f){this.parent.dirty|=this._alpha>0!=f>0,this._alpha=f}}});S.exports=g},16005:(S,P,a)=>{var y=a(45319);S.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(f,d,c,h){return void 0===f&&(f=1),void 0===d?this.alpha=f:(this._alphaTL=y(f,0,1),this._alphaTR=y(d,0,1),this._alphaBL=y(c,0,1),this._alphaBR=y(h,0,1)),this},alpha:{get:function(){return this._alpha},set:function(f){var d=y(f,0,1);this._alpha=d,this._alphaTL=d,this._alphaTR=d,this._alphaBL=d,this._alphaBR=d,0===d?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(f){var d=y(f,0,1);this._alphaTL=d,0!==d&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(f){var d=y(f,0,1);this._alphaTR=d,0!==d&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(f){var d=y(f,0,1);this._alphaBL=d,0!==d&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(f){var d=y(f,0,1);this._alphaBR=d,0!==d&&(this.renderFlags|=2)}}}},88509:(S,P,a)=>{var y=a(45319);S.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(f){return void 0===f&&(f=1),this.alpha=f,this},alpha:{get:function(){return this._alpha},set:function(f){var d=y(f,0,1);this._alpha=d,0===d?this.renderFlags&=-3:this.renderFlags|=2}}}},90065:(S,P,a)=>{var y=a(10312);S.exports={_blendMode:y.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(g){"string"==typeof g&&(g=y[g]),(g|=0)>=-1&&(this._blendMode=g)}},setBlendMode:function(g){return this.blendMode=g,this}}},94215:S=>{S.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}},setSize:function(a,y){return this.width=a,this.height=y,this},setDisplaySize:function(a,y){return this.displayWidth=a,this.displayHeight=y,this}}},61683:S=>{S.exports={texture:null,frame:null,isCropped:!1,setCrop:function(a,y,C,g){return void 0===a?this.isCropped=!1:this.frame&&("number"==typeof a?this.frame.setCropUVs(this._crop,a,y,C,g,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY),this.isCropped=!0),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},89272:(S,P,a)=>{var y=a(37105);S.exports={_depth:0,depth:{get:function(){return this._depth},set:function(g){this.displayList&&this.displayList.queueDepthSort(),this._depth=g}},setDepth:function(g){return void 0===g&&(g=0),this.depth=g,this},setToTop:function(){var g=this.getDisplayList();return g&&y.BringToTop(g,this),this},setToBack:function(){var g=this.getDisplayList();return g&&y.SendToBack(g,this),this},setAbove:function(g){var f=this.getDisplayList();return f&&g&&y.MoveAbove(f,this,g),this},setBelow:function(g){var f=this.getDisplayList();return f&&g&&y.MoveBelow(f,this,g),this}}},47059:(S,P,a)=>{var y=a(83419),C=a(66064),g=a(19133),f=new y({initialize:function(c,h){this.gameObject=c,this.isPost=h,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(d){return void 0===d&&(d=0),this.padding=d,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(d){if(!this.isPost){var c=this.gameObject.scene.sys.renderer;c&&c.pipelines?(this.gameObject.pipeline=c.pipelines.FX_PIPELINE,void 0!==d&&(this.padding=d),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var d=this.list,c=0;c<d.length;c++)d[c].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(d){var c;if(this.isPost){var h=this.gameObject.getPostPipeline(String(d.type));for(Array.isArray(h)||(h=[h]),c=0;c<h.length;c++){var p=h[c];if(p.controller===d){this.gameObject.removePostPipeline(p),d.destroy();break}}}else{var u=this.list;for(c=0;c<u.length;c++)u[c]===d&&(g(u,c),d.destroy())}return this.gameObject},disable:function(d){return void 0===d&&(d=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,d&&this.clear(),this.gameObject},add:function(d,c){if(!this.isPost)return this.enabled||this.enable(),this.list.push(d),d;var h=String(d.type);this.gameObject.setPostPipeline(h,c);var p=this.gameObject.getPostPipeline(h);return p?(Array.isArray(p)&&(p=p.pop()),p&&(p.controller=d),d):void 0},addGlow:function(d,c,h,p,u,m){return this.add(new C.Glow(this.gameObject,d,c,h,p),{quality:u,distance:m})},addShadow:function(d,c,h,p,u,m,v){return this.add(new C.Shadow(this.gameObject,d,c,h,p,u,m,v))},addPixelate:function(d){return this.add(new C.Pixelate(this.gameObject,d))},addVignette:function(d,c,h,p){return this.add(new C.Vignette(this.gameObject,d,c,h,p))},addShine:function(d,c,h,p){return this.add(new C.Shine(this.gameObject,d,c,h,p))},addBlur:function(d,c,h,p,u,m){return this.add(new C.Blur(this.gameObject,d,c,h,p,u,m))},addGradient:function(d,c,h,p,u,m,v,x){return this.add(new C.Gradient(this.gameObject,d,c,h,p,u,m,v,x))},addBloom:function(d,c,h,p,u,m){return this.add(new C.Bloom(this.gameObject,d,c,h,p,u,m))},addColorMatrix:function(){return this.add(new C.ColorMatrix(this.gameObject))},addCircle:function(d,c,h,p,u){return this.add(new C.Circle(this.gameObject,d,c,h,p,u))},addBarrel:function(d){return this.add(new C.Barrel(this.gameObject,d))},addDisplacement:function(d,c,h){return this.add(new C.Displacement(this.gameObject,d,c,h))},addWipe:function(d,c,h){return this.add(new C.Wipe(this.gameObject,d,c,h))},addReveal:function(d,c,h){return this.add(new C.Wipe(this.gameObject,d,c,h,!0))},addBokeh:function(d,c,h){return this.add(new C.Bokeh(this.gameObject,d,c,h))},addTiltShift:function(d,c,h,p,u,m){return this.add(new C.Bokeh(this.gameObject,d,c,h,!0,p,u,m))},destroy:function(){this.clear(),this.gameObject=null}});S.exports=f},54434:S=>{S.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,y){return this.flipX=a,this.flipY=y,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},8004:(S,P,a)=>{var y=a(87841),C=a(11520),g=a(26099);S.exports={prepareBoundsOutput:function(d,c){return void 0===c&&(c=!1),0!==this.rotation&&C(d,this.x,this.y,this.rotation),c&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(d.x,d.y,d),d},getCenter:function(d,c){return void 0===d&&(d=new g),d.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,d.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(d,c)},getTopLeft:function(d,c){return d||(d=new g),d.x=this.x-this.displayWidth*this.originX,d.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(d,c)},getTopCenter:function(d,c){return d||(d=new g),d.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,d.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(d,c)},getTopRight:function(d,c){return d||(d=new g),d.x=this.x-this.displayWidth*this.originX+this.displayWidth,d.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(d,c)},getLeftCenter:function(d,c){return d||(d=new g),d.x=this.x-this.displayWidth*this.originX,d.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(d,c)},getRightCenter:function(d,c){return d||(d=new g),d.x=this.x-this.displayWidth*this.originX+this.displayWidth,d.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(d,c)},getBottomLeft:function(d,c){return d||(d=new g),d.x=this.x-this.displayWidth*this.originX,d.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(d,c)},getBottomCenter:function(d,c){return d||(d=new g),d.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,d.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(d,c)},getBottomRight:function(d,c){return d||(d=new g),d.x=this.x-this.displayWidth*this.originX+this.displayWidth,d.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(d,c)},getBounds:function(d){var c,h,p,u,m,v,x,b;if(void 0===d&&(d=new y),this.parentContainer){var T=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(d),T.transformPoint(d.x,d.y,d),c=d.x,h=d.y,this.getTopRight(d),T.transformPoint(d.x,d.y,d),p=d.x,u=d.y,this.getBottomLeft(d),T.transformPoint(d.x,d.y,d),m=d.x,v=d.y,this.getBottomRight(d),T.transformPoint(d.x,d.y,d),x=d.x,b=d.y}else this.getTopLeft(d),c=d.x,h=d.y,this.getTopRight(d),p=d.x,u=d.y,this.getBottomLeft(d),m=d.x,v=d.y,this.getBottomRight(d),x=d.x,b=d.y;return d.x=Math.min(c,p,m,x),d.y=Math.min(h,u,v,b),d.width=Math.max(c,p,m,x)-d.x,d.height=Math.max(h,u,v,b)-d.y,d}}},8573:(S,P,a)=>{var y=a(6858),C=a(80661);S.exports={mask:null,setMask:function(f){return this.mask=f,this},clearMask:function(f){return void 0===f&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(f,d,c,h,p){return void 0===f&&(this.texture||this.shader||this.geom)&&(f=this),new y(this.scene,f,d,c,h,p)},createGeometryMask:function(f){return void 0===f&&("Graphics"===this.type||this.geom)&&(f=this),new C(this.scene,f)}}},27387:S=>{S.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(a){this._displayOriginX=a,this.originX=a/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(a){this._displayOriginY=a,this.originY=a/this.height}},setOrigin:function(a,y){return void 0===a&&(a=.5),void 0===y&&(y=a),this.originX=a,this.originY=y,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(a,y){return void 0===a&&(a=0),void 0===y&&(y=a),this.displayOriginX=a,this.displayOriginY=y,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},37640:(S,P,a)=>{var y=a(39506),C=a(57355),g=a(35154),f=a(86353),d=a(26099);S.exports={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:f.PLAYING_FORWARD,setPath:function(h,p){void 0===p&&(p=this.pathConfig);var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this.path=h,p&&this.startFollow(p),this},setRotateToPath:function(h,p){return void 0===p&&(p=0),this.rotateToPath=h,this.pathRotationOffset=p,this},isFollowing:function(){var h=this.pathTween;return h&&h.isPlaying()},startFollow:function(h,p){void 0===h&&(h={}),void 0===p&&(p=0);var u=this.pathTween;u&&u.isPlaying()&&u.stop(),"number"==typeof h&&(h={duration:h}),h.from=g(h,"from",0),h.to=g(h,"to",1);var m=C(h,"positionOnPath",!1);this.rotateToPath=C(h,"rotateToPath",!1),this.pathRotationOffset=g(h,"rotationOffset",0);var v=g(h,"startAt",p);if(v&&(h.onStart=function(b){var T=b.data[0];T.progress=v,T.elapsed=T.duration*v;var _=T.ease(T.progress);T.current=T.start+(T.end-T.start)*_,T.setTargetValue()}),this.pathOffset||(this.pathOffset=new d(this.x,this.y)),this.pathVector||(this.pathVector=new d),this.pathDelta||(this.pathDelta=new d),this.pathDelta.reset(),h.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(h),this.path.getStartPoint(this.pathOffset),m&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=f.PLAYING_FORWARD,this.rotateToPath){var x=this.path.getPoint(.1);this.rotation=Math.atan2(x.y-this.y,x.x-this.x)+y(this.pathRotationOffset)}return this.pathConfig=h,this},pauseFollow:function(){var h=this.pathTween;return h&&h.isPlaying()&&h.pause(),this},resumeFollow:function(){var h=this.pathTween;return h&&h.isPaused()&&h.resume(),this},stopFollow:function(){var h=this.pathTween;return h&&h.isPlaying()&&h.stop(),this},pathUpdate:function(){var h=this.pathTween;if(h&&h.data){var p=h.data[0],u=this.pathDelta,m=this.pathVector;if(u.copy(m).negate(),p.state===f.COMPLETE)return this.path.getPoint(p.end,m),u.add(m),m.add(this.pathOffset),void this.setPosition(m.x,m.y);if(p.state!==f.PLAYING_FORWARD&&p.state!==f.PLAYING_BACKWARD)return;this.path.getPoint(h.getValue(),m),u.add(m),m.add(this.pathOffset);var v=this.x,x=this.y;this.setPosition(m.x,m.y);var b=this.x-v,T=this.y-x;if(0===b&&0===T)return;if(p.state!==this._prevDirection)return void(this._prevDirection=p.state);this.rotateToPath&&(this.rotation=Math.atan2(T,b)+y(this.pathRotationOffset))}}}},72699:(S,P,a)=>{var y=a(62644);S.exports={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(g){this.pipelineData={};var f=this.scene.sys.renderer;if(!f)return!1;var d=f.pipelines;if(d){void 0===g&&(g=d.default);var c=d.get(g);if(c)return this.defaultPipeline=c,this.pipeline=c,!0}return!1},setPipeline:function(g,f,d){var c=this.scene.sys.renderer;if(!c)return this;var h=c.pipelines;if(h){var p=h.get(g);p&&(this.pipeline=p),f&&(this.pipelineData=d?y(f):f)}return this},setPipelineData:function(g,f){var d=this.pipelineData;return void 0===f?delete d[g]:d[g]=f,this},resetPipeline:function(g){return void 0===g&&(g=!1),this.pipeline=this.defaultPipeline,g&&(this.pipelineData={}),null!==this.pipeline},getPipelineName:function(){return null===this.pipeline?null:this.pipeline.name}}},17581:(S,P,a)=>{var y=a(62644),C=a(47059),g=a(19133);S.exports={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(d){this.postPipelines=[],this.postPipelineData={},this.postFX=new C(this,!0),d&&(this.preFX=new C(this,!1))},setPostPipeline:function(d,c,h){var p=this.scene.sys.renderer;if(!p)return this;var u=p.pipelines;if(u){Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++){var v=u.getPostPipeline(d[m],this,c);v&&this.postPipelines.push(v)}c&&(this.postPipelineData=h?y(c):c)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(d,c){var h=this.postPipelineData;return void 0===c?delete h[d]:h[d]=c,this},getPostPipeline:function(d){for(var c="string"==typeof d,h=this.postPipelines,p=[],u=0;u<h.length;u++){var m=h[u];(c&&m.name===d||!c&&m instanceof d)&&p.push(m)}return 1===p.length?p[0]:p},resetPostPipeline:function(d){void 0===d&&(d=!1);for(var c=this.postPipelines,h=0;h<c.length;h++)c[h].destroy();this.postPipelines=[],this.hasPostPipeline=!1,d&&(this.postPipelineData={})},removePostPipeline:function(d){for(var c="string"==typeof d,h=this.postPipelines,p=h.length-1;p>=0;p--){var u=h[p];(c&&u.name===d||!c&&u===d)&&(u.destroy(),g(h,p))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}}},80227:S=>{S.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(a,y){return void 0===y&&(y=a),this.scrollFactorX=a,this.scrollFactorY=y,this}}},16736:S=>{S.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(a){this.scaleX=a/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(a){this.scaleY=a/this.frame.realHeight}},setSizeToFrame:function(a){a||(a=this.frame),this.width=a.realWidth,this.height=a.realHeight;var y=this.input;return y&&!y.customHitArea&&(y.hitArea.width=this.width,y.hitArea.height=this.height),this},setSize:function(a,y){return this.width=a,this.height=y,this},setDisplaySize:function(a,y){return this.displayWidth=a,this.displayHeight=y,this}}},37726:(S,P,a)=>{var y=a(4327);S.exports={texture:null,frame:null,isCropped:!1,setTexture:function(f,d,c,h){return this.texture=this.scene.sys.textures.get(f),this.setFrame(d,c,h)},setFrame:function(f,d,c){return void 0===d&&(d=!0),void 0===c&&(c=!0),f instanceof y?(this.texture=this.scene.sys.textures.get(f.texture.key),this.frame=f):this.frame=this.texture.get(f),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&d&&this.setSizeToFrame(),this._originComponent&&c&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}}},79812:(S,P,a)=>{var y=a(4327);S.exports={texture:null,frame:null,isCropped:!1,setCrop:function(f,d,c,h){return void 0===f?this.isCropped=!1:this.frame&&("number"==typeof f?this.frame.setCropUVs(this._crop,f,d,c,h,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,f.x,f.y,f.width,f.height,this.flipX,this.flipY),this.isCropped=!0),this},setTexture:function(f,d){return this.texture=this.scene.sys.textures.get(f),this.setFrame(d)},setFrame:function(f,d,c){return void 0===d&&(d=!0),void 0===c&&(c=!0),f instanceof y?(this.texture=this.scene.sys.textures.get(f.texture.key),this.frame=f):this.frame=this.texture.get(f),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&d&&this.setSizeToFrame(),this._originComponent&&c&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},27472:S=>{S.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(a,y,C,g){return void 0===a&&(a=16777215),void 0===y&&(y=a,C=a,g=a),this.tintTopLeft=a,this.tintTopRight=y,this.tintBottomLeft=C,this.tintBottomRight=g,this.tintFill=!1,this},setTintFill:function(a,y,C,g){return this.setTint(a,y,C,g),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(a){this.setTint(a,a,a,a)}},isTinted:{get:function(){var a=16777215;return this.tintFill||this.tintTopLeft!==a||this.tintTopRight!==a||this.tintBottomLeft!==a||this.tintBottomRight!==a}}}},53774:S=>{S.exports=function(a){var y={name:a.name,type:a.type,x:a.x,y:a.y,depth:a.depth,scale:{x:a.scaleX,y:a.scaleY},origin:{x:a.originX,y:a.originY},flipX:a.flipX,flipY:a.flipY,rotation:a.rotation,alpha:a.alpha,visible:a.visible,blendMode:a.blendMode,textureKey:"",frameKey:"",data:{}};return a.texture&&(y.textureKey=a.texture.key,y.frameKey=a.frame.name),y}},16901:(S,P,a)=>{var y=a(36383),C=a(61340),g=a(85955),f=a(86554),d=a(30954),c=a(26099);S.exports={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(u){this._scaleX=u,this._scaleY=u,0===u?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(u){this._scaleX=u,0===u?this.renderFlags&=-5:0!==this._scaleY&&(this.renderFlags|=4)}},scaleY:{get:function(){return this._scaleY},set:function(u){this._scaleY=u,0===u?this.renderFlags&=-5:0!==this._scaleX&&(this.renderFlags|=4)}},angle:{get:function(){return d(this._rotation*y.RAD_TO_DEG)},set:function(u){this.rotation=d(u)*y.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=f(u)}},setPosition:function(u,m,v,x){return void 0===u&&(u=0),void 0===m&&(m=u),void 0===v&&(v=0),void 0===x&&(x=0),this.x=u,this.y=m,this.z=v,this.w=x,this},copyPosition:function(u){return void 0!==u.x&&(this.x=u.x),void 0!==u.y&&(this.y=u.y),void 0!==u.z&&(this.z=u.z),void 0!==u.w&&(this.w=u.w),this},setRandomPosition:function(u,m,v,x){return void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=this.scene.sys.scale.width),void 0===x&&(x=this.scene.sys.scale.height),this.x=u+Math.random()*v,this.y=m+Math.random()*x,this},setRotation:function(u){return void 0===u&&(u=0),this.rotation=u,this},setAngle:function(u){return void 0===u&&(u=0),this.angle=u,this},setScale:function(u,m){return void 0===u&&(u=1),void 0===m&&(m=u),this.scaleX=u,this.scaleY=m,this},setX:function(u){return void 0===u&&(u=0),this.x=u,this},setY:function(u){return void 0===u&&(u=0),this.y=u,this},setZ:function(u){return void 0===u&&(u=0),this.z=u,this},setW:function(u){return void 0===u&&(u=0),this.w=u,this},getLocalTransformMatrix:function(u){return void 0===u&&(u=new C),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(u,m){void 0===u&&(u=new C);var v=this.parentContainer;if(!v)return this.getLocalTransformMatrix(u);for(m||(m=new C),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);v;)m.applyITRS(v.x,v.y,v._rotation,v._scaleX,v._scaleY),m.multiply(u,u),v=v.parentContainer;return u},getLocalPoint:function(u,m,v,x){v||(v=new c),x||(x=this.scene.sys.cameras.main);var b=x.scrollX,T=x.scrollY,_=u+b*this.scrollFactorX-b,A=m+T*this.scrollFactorY-T;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(_,A,v):g(_,A,this.x,this.y,this.rotation,this.scaleX,this.scaleY,v),this._originComponent&&(v.x+=this._displayOriginX,v.y+=this._displayOriginY),v},getParentRotation:function(){for(var u=0,m=this.parentContainer;m;)u+=m.rotation,m=m.parentContainer;return u}}},61340:(S,P,a)=>{var y=a(83419),C=a(36383),g=a(26099),f=new y({initialize:function(c,h,p,u,m,v){void 0===c&&(c=1),void 0===h&&(h=0),void 0===p&&(p=0),void 0===u&&(u=1),void 0===m&&(m=0),void 0===v&&(v=0),this.matrix=new Float32Array([c,h,p,u,m,v,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(d){this.matrix[0]=d}},b:{get:function(){return this.matrix[1]},set:function(d){this.matrix[1]=d}},c:{get:function(){return this.matrix[2]},set:function(d){this.matrix[2]=d}},d:{get:function(){return this.matrix[3]},set:function(d){this.matrix[3]=d}},e:{get:function(){return this.matrix[4]},set:function(d){this.matrix[4]=d}},f:{get:function(){return this.matrix[5]},set:function(d){this.matrix[5]=d}},tx:{get:function(){return this.matrix[4]},set:function(d){this.matrix[4]=d}},ty:{get:function(){return this.matrix[5]},set:function(d){this.matrix[5]=d}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var d=this.matrix,c=d[0],h=d[1],p=d[2],u=d[3];return c||h?h>0?Math.acos(c/this.scaleX):-Math.acos(c/this.scaleX):p||u?C.TAU-(u>0?Math.acos(-p/this.scaleY):-Math.acos(p/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var d=this.matrix;return d[0]=1,d[1]=0,d[2]=0,d[3]=1,d[4]=0,d[5]=0,this},translate:function(d,c){var h=this.matrix;return h[4]=h[0]*d+h[2]*c+h[4],h[5]=h[1]*d+h[3]*c+h[5],this},scale:function(d,c){var h=this.matrix;return h[0]*=d,h[1]*=d,h[2]*=c,h[3]*=c,this},rotate:function(d){var c=Math.sin(d),h=Math.cos(d),p=this.matrix,u=p[0],m=p[1],v=p[2],x=p[3];return p[0]=u*h+v*c,p[1]=m*h+x*c,p[2]=u*-c+v*h,p[3]=m*-c+x*h,this},multiply:function(d,c){var h=this.matrix,p=d.matrix,u=h[0],m=h[1],v=h[2],x=h[3],b=h[4],T=h[5],_=p[0],A=p[1],M=p[2],I=p[3],R=p[4],F=p[5],N=void 0===c?h:c.matrix;return N[0]=_*u+A*v,N[1]=_*m+A*x,N[2]=M*u+I*v,N[3]=M*m+I*x,N[4]=R*u+F*v+b,N[5]=R*m+F*x+T,N},multiplyWithOffset:function(d,c,h){var p=this.matrix,u=d.matrix,m=p[0],v=p[1],x=p[2],b=p[3],A=c*m+h*x+p[4],M=c*v+h*b+p[5],I=u[0],R=u[1],F=u[2],N=u[3],V=u[4],B=u[5];return p[0]=I*m+R*x,p[1]=I*v+R*b,p[2]=F*m+N*x,p[3]=F*v+N*b,p[4]=V*m+B*x+A,p[5]=V*v+B*b+M,this},transform:function(d,c,h,p,u,m){var v=this.matrix,x=v[0],b=v[1],T=v[2],_=v[3],A=v[4],M=v[5];return v[0]=d*x+c*T,v[1]=d*b+c*_,v[2]=h*x+p*T,v[3]=h*b+p*_,v[4]=u*x+m*T+A,v[5]=u*b+m*_+M,this},transformPoint:function(d,c,h){void 0===h&&(h={x:0,y:0});var p=this.matrix,m=p[1],x=p[3],T=p[5];return h.x=d*p[0]+c*p[2]+p[4],h.y=d*m+c*x+T,h},invert:function(){var d=this.matrix,c=d[0],h=d[1],p=d[2],u=d[3],m=d[4],v=d[5],x=c*u-h*p;return d[0]=u/x,d[1]=-h/x,d[2]=-p/x,d[3]=c/x,d[4]=(p*v-u*m)/x,d[5]=-(c*v-h*m)/x,this},copyFrom:function(d){var c=this.matrix;return c[0]=d.a,c[1]=d.b,c[2]=d.c,c[3]=d.d,c[4]=d.e,c[5]=d.f,this},copyFromArray:function(d){var c=this.matrix;return c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],this},copyToContext:function(d){var c=this.matrix;return d.transform(c[0],c[1],c[2],c[3],c[4],c[5]),d},setToContext:function(d){return d.setTransform(this),d},copyToArray:function(d){var c=this.matrix;return void 0===d?d=[c[0],c[1],c[2],c[3],c[4],c[5]]:(d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],d[4]=c[4],d[5]=c[5]),d},setTransform:function(d,c,h,p,u,m){var v=this.matrix;return v[0]=d,v[1]=c,v[2]=h,v[3]=p,v[4]=u,v[5]=m,this},decomposeMatrix:function(){var d=this.decomposedMatrix,c=this.matrix,h=c[0],p=c[1],u=c[2],m=c[3],v=h*m-p*u;if(d.translateX=c[4],d.translateY=c[5],h||p){var x=Math.sqrt(h*h+p*p);d.rotation=p>0?Math.acos(h/x):-Math.acos(h/x),d.scaleX=x,d.scaleY=v/x}else if(u||m){var b=Math.sqrt(u*u+m*m);d.rotation=.5*Math.PI-(m>0?Math.acos(-u/b):-Math.acos(u/b)),d.scaleX=v/b,d.scaleY=b}else d.rotation=0,d.scaleX=0,d.scaleY=0;return d},applyITRS:function(d,c,h,p,u){var m=this.matrix,v=Math.sin(h),x=Math.cos(h);return m[4]=d,m[5]=c,m[0]=x*p,m[1]=v*p,m[2]=-v*u,m[3]=x*u,this},applyInverse:function(d,c,h){void 0===h&&(h=new g);var p=this.matrix,u=p[0],m=p[1],v=p[2],x=p[3],b=p[4],T=p[5],_=1/(u*x+v*-m);return h.x=x*_*d+-v*_*c+(T*v-b*x)*_,h.y=u*_*c+-m*_*d+(-T*u+b*m)*_,h},setQuad:function(d,c,h,p,u,m){void 0===u&&(u=!1),void 0===m&&(m=this.quad);var v=this.matrix,x=v[0],b=v[1],T=v[2],_=v[3],A=v[4],M=v[5],I=d*x+c*T+A,R=d*b+c*_+M,F=d*x+p*T+A,N=d*b+p*_+M,V=h*x+p*T+A,B=h*b+p*_+M,G=h*x+c*T+A,Q=h*b+c*_+M;if(u){var H=Math.floor(I+.5),K=Math.floor(R+.5),tt=H-I,at=K-R;m[0]=H,m[1]=K,m[2]=F+tt,m[3]=N+at,m[4]=V+tt,m[5]=B+at,m[6]=G+tt,m[7]=Q+at}else m[0]=I,m[1]=R,m[2]=F,m[3]=N,m[4]=V,m[5]=B,m[6]=G,m[7]=Q;return m},getX:function(d,c){return d*this.a+c*this.c+this.e},getY:function(d,c){return d*this.b+c*this.d+this.f},getXRound:function(d,c,h){var p=this.getX(d,c);return h&&(p=Math.floor(p+.5)),p},getYRound:function(d,c,h){var p=this.getY(d,c);return h&&(p=Math.floor(p+.5)),p},getCSSMatrix:function(){var d=this.matrix;return"matrix("+d[0]+","+d[1]+","+d[2]+","+d[3]+","+d[4]+","+d[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});S.exports=f},59715:S=>{S.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(y){y?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(y){return this.visible=y,this}}},31401:(S,P,a)=>{S.exports={Alpha:a(16005),AlphaSingle:a(88509),BlendMode:a(90065),ComputedSize:a(94215),Crop:a(61683),Depth:a(89272),Flip:a(54434),FX:a(47059),GetBounds:a(8004),Mask:a(8573),Origin:a(27387),PathFollower:a(37640),Pipeline:a(72699),PostPipeline:a(17581),ScrollFactor:a(80227),Size:a(16736),Texture:a(37726),TextureCrop:a(79812),Tint:a(27472),ToJSON:a(53774),Transform:a(16901),TransformMatrix:a(61340),Visible:a(59715)}},31559:(S,P,a)=>{var y=a(37105),C=a(10312),g=a(83419),f=a(31401),d=a(51708),c=a(95643),h=a(87841),p=a(29959),u=a(36899),m=a(26099),v=new f.TransformMatrix,x=new g({Extends:c,Mixins:[f.AlphaSingle,f.BlendMode,f.ComputedSize,f.Depth,f.Mask,f.PostPipeline,f.Transform,f.Visible,p],initialize:function(T,_,A,M){c.call(this,T,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new f.TransformMatrix,this._sortKey="",this._sysEvents=T.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(_,A),this.setBlendMode(C.SKIP_CHECK),M&&this.add(M)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(b){return void 0===b&&(b=!0),this.exclusive=b,this},getBounds:function(b){if(void 0===b&&(b=new h),b.setTo(this.x,this.y,0,0),this.parentContainer){var _=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);b.setTo(_.x,_.y,0,0)}if(this.list.length>0){var A=this.list,M=new h,I=!1;b.setEmpty();for(var R=0;R<A.length;R++){var F=A[R];F.getBounds&&(F.getBounds(M),I?u(M,b,b):(b.setTo(M.x,M.y,M.width,M.height),I=!0))}}return b},addHandler:function(b){b.once(d.DESTROY,this.onChildDestroyed,this),this.exclusive&&(b.parentContainer&&b.parentContainer.remove(b),b.parentContainer=this,b.removeFromDisplayList(),b.addedToScene())},removeHandler:function(b){b.off(d.DESTROY,this.remove,this),this.exclusive&&(b.parentContainer=null,b.removedFromScene(),b.addToDisplayList())},pointToContainer:function(b,T){void 0===T&&(T=new m),this.parentContainer?this.parentContainer.pointToContainer(b,T):(T.x=b.x,T.y=b.y);var _=v;return _.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),_.invert(),_.transformPoint(b.x,b.y,T),T},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(v,this.localTransform)},add:function(b){return y.Add(this.list,b,this.maxSize,this.addHandler,this),this},addAt:function(b,T){return y.AddAt(this.list,b,T,this.maxSize,this.addHandler,this),this},getAt:function(b){return this.list[b]},getIndex:function(b){return this.list.indexOf(b)},sort:function(b,T){return b?(void 0===T&&(T=function(_,A){return _[b]-A[b]}),y.StableSort(this.list,T),this):this},getByName:function(b){return y.GetFirst(this.list,"name",b)},getRandom:function(b,T){return y.GetRandom(this.list,b,T)},getFirst:function(b,T,_,A){return y.GetFirst(this.list,b,T,_,A)},getAll:function(b,T,_,A){return y.GetAll(this.list,b,T,_,A)},count:function(b,T,_,A){return y.CountAllMatching(this.list,b,T,_,A)},swap:function(b,T){return y.Swap(this.list,b,T),this},moveTo:function(b,T){return y.MoveTo(this.list,b,T),this},moveAbove:function(b,T){return y.MoveAbove(this.list,b,T),this},moveBelow:function(b,T){return y.MoveBelow(this.list,b,T),this},remove:function(b,T){var _=y.Remove(this.list,b,this.removeHandler,this);if(T&&_){Array.isArray(_)||(_=[_]);for(var A=0;A<_.length;A++)_[A].destroy()}return this},removeAt:function(b,T){var _=y.RemoveAt(this.list,b,this.removeHandler,this);return T&&_&&_.destroy(),this},removeBetween:function(b,T,_){var A=y.RemoveBetween(this.list,b,T,this.removeHandler,this);if(_)for(var M=0;M<A.length;M++)A[M].destroy();return this},removeAll:function(b){var T=this.list;if(b){for(var _=0;_<T.length;_++)T[_]&&T[_].scene&&(T[_].off(d.DESTROY,this.onChildDestroyed,this),T[_].destroy());this.list=[]}else y.RemoveBetween(T,0,T.length,this.removeHandler,this);return this},bringToTop:function(b){return y.BringToTop(this.list,b),this},sendToBack:function(b){return y.SendToBack(this.list,b),this},moveUp:function(b){return y.MoveUp(this.list,b),this},moveDown:function(b){return y.MoveDown(this.list,b),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return y.Shuffle(this.list),this},replace:function(b,T,_){return y.Replace(this.list,b,T)&&(this.addHandler(T),this.removeHandler(b),_&&b.destroy()),this},exists:function(b){return this.list.indexOf(b)>-1},setAll:function(b,T,_,A){return y.SetAll(this.list,b,T,_,A),this},each:function(b,T){var A,_=[null],M=this.list.slice(),I=M.length;for(A=2;A<arguments.length;A++)_.push(arguments[A]);for(A=0;A<I;A++)_[0]=M[A],b.apply(T,_);return this},iterate:function(b,T){var A,_=[null];for(A=2;A<arguments.length;A++)_.push(arguments[A]);for(A=0;A<this.list.length;A++)_[0]=this.list[A],b.apply(T,_);return this},setScrollFactor:function(b,T,_){return void 0===T&&(T=b),void 0===_&&(_=!1),this.scrollFactorX=b,this.scrollFactorY=T,_&&(y.SetAll(this.list,"scrollFactorX",b),y.SetAll(this.list,"scrollFactorY",T)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(b){y.Remove(this.list,b),this.exclusive&&(b.parentContainer=null,b.removedFromScene())}});S.exports=x},53584:S=>{S.exports=function(a,y,C,g){C.addToRenderList(y);var f=y.list;if(0!==f.length){var d=y.localTransform;g?(d.loadIdentity(),d.multiply(g),d.translate(y.x,y.y),d.rotate(y.rotation),d.scale(y.scaleX,y.scaleY)):d.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY);var c=-1!==y.blendMode;c||a.setBlendMode(0);var h=y._alpha,p=y.scrollFactorX,u=y.scrollFactorY;y.mask&&y.mask.preRenderCanvas(a,null,C);for(var m=0;m<f.length;m++){var v=f[m];if(v.willRender(C)){var x=v.alpha,b=v.scrollFactorX,T=v.scrollFactorY;!c&&v.blendMode!==a.currentBlendMode&&a.setBlendMode(v.blendMode),v.setScrollFactor(b*p,T*u),v.setAlpha(x*h),v.renderCanvas(a,v,C,d),v.setAlpha(x),v.setScrollFactor(b,T)}}y.mask&&y.mask.postRenderCanvas(a)}}},77143:(S,P,a)=>{var y=a(25305),C=a(31559),g=a(44603),f=a(23568),d=a(95540);g.register("container",function(c,h){void 0===c&&(c={});var p=f(c,"x",0),u=f(c,"y",0),m=d(c,"children",null),v=new C(this.scene,p,u,m);return void 0!==h&&(c.add=h),y(this.scene,v,c),v})},24961:(S,P,a)=>{var y=a(31559);a(39429).register("container",function(g,f,d){return this.displayList.add(new y(this.scene,g,f,d))})},29959:(S,P,a)=>{var C,g;a(29747),C=a(72249),g=a(53584),S.exports={renderWebGL:C,renderCanvas:g}},72249:S=>{S.exports=function(a,y,C,g){C.addToRenderList(y);var f=y.list,d=f.length;if(0!==d){var c=y.localTransform;g?(c.loadIdentity(),c.multiply(g),c.translate(y.x,y.y),c.rotate(y.rotation),c.scale(y.scaleX,y.scaleY)):c.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY),a.pipelines.preBatch(y);var h=-1!==y.blendMode;h||a.setBlendMode(0);for(var p=y.alpha,u=y.scrollFactorX,m=y.scrollFactorY,v=0;v<d;v++){var x=f[v];if(x.willRender(C)){var b,T,_,A;if(void 0!==x.alphaTopLeft)b=x.alphaTopLeft,T=x.alphaTopRight,_=x.alphaBottomLeft,A=x.alphaBottomRight;else{var M=x.alpha;b=M,T=M,_=M,A=M}var I=x.scrollFactorX,R=x.scrollFactorY;!h&&x.blendMode!==a.currentBlendMode&&a.setBlendMode(x.blendMode);var F=x.mask;F&&F.preRenderWebGL(a,x,C);var N=x.type;N!==a.currentType&&(a.newType=!0,a.currentType=N),a.nextTypeMatch=v<d-1&&f[v+1].type===a.currentType,x.setScrollFactor(I*u,R*m),x.setAlpha(b*p,T*p,_*p,A*p),x.renderWebGL(a,x,C,c,y),x.setAlpha(b,T,_,A),x.setScrollFactor(I,R),F&&F.postRenderWebGL(a,C),a.newType=!1}}a.pipelines.postBatch(y)}}},47407:S=>{S.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(441),f=a(95643),d=a(41212),c=a(35846),h=a(44594),p=a(61369),u=new y({Extends:f,Mixins:[C.AlphaSingle,C.BlendMode,C.Depth,C.Origin,C.ScrollFactor,C.Transform,C.Visible,g],initialize:function(v,x,b,T,_,A){f.call(this,v,"DOMElement"),this.parent=v.sys.game.domContainer,this.cache=v.sys.cache.html,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new p,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(x,b),"string"==typeof T?"#"===T[0]?this.setElement(T.substr(1),_,A):this.createElement(T,_,A):T&&this.setElement(T,_,A),v.sys.events.on(h.SLEEP,this.handleSceneEvent,this),v.sys.events.on(h.WAKE,this.handleSceneEvent,this),v.sys.events.on(h.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(m){var v=this.node;v&&(v.style.display=m.settings.visible?"block":"none")},setSkew:function(m,v){return void 0===m&&(m=0),void 0===v&&(v=m),this.skewX=m,this.skewY=v,this},setPerspective:function(m){return this.parent.style.perspective=m+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(m){this.parent.style.perspective=m+"px"}},addListener:function(m){if(this.node){m=m.split(" ");for(var v=0;v<m.length;v++)this.node.addEventListener(m[v],this.handler,!1)}return this},removeListener:function(m){if(this.node){m=m.split(" ");for(var v=0;v<m.length;v++)this.node.removeEventListener(m[v],this.handler)}return this},dispatchNativeEvent:function(m){this.emit(m.type,m)},createElement:function(m,v,x){return this.setElement(document.createElement(m),v,x)},setElement:function(m,v,x){var b;if(this.removeElement(),"string"==typeof m?("#"===m[0]&&(m=m.substr(1)),b=document.getElementById(m)):"object"==typeof m&&1===m.nodeType&&(b=m),!b)return this;if(this.node=b,v&&d(v))for(var T in v)b.style[T]=v[T];else"string"==typeof v&&(b.style=v);return b.style.zIndex="0",b.style.display="inline",b.style.position="absolute",b.phaser=this,this.parent&&this.parent.appendChild(b),x&&(b.innerText=x),this.updateSize()},createFromCache:function(m,v){var x=this.cache.get(m);return x&&this.createFromHTML(x,v),this},createFromHTML:function(m,v){void 0===v&&(v="div"),this.removeElement();var x=document.createElement(v);return this.node=x,x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),x.innerHTML=m,this.updateSize()},removeElement:function(){return this.node&&(c(this.node),this.node=null),this},updateSize:function(){var m=this.node,v=m.getBoundingClientRect();return this.width=m.clientWidth,this.height=m.clientHeight,this.displayWidth=v.width||0,this.displayHeight=v.height||0,this},getChildByProperty:function(m,v){if(this.node)for(var x=this.node.querySelectorAll("*"),b=0;b<x.length;b++)if(x[b][m]===v)return x[b];return null},getChildByID:function(m){return this.getChildByProperty("id",m)},getChildByName:function(m){return this.getChildByProperty("name",m)},setClassName:function(m){return this.node&&(this.node.className=m,this.updateSize()),this},setText:function(m){return this.node&&(this.node.innerText=m,this.updateSize()),this},setHTML:function(m){return this.node&&(this.node.innerHTML=m,this.updateSize()),this},preRender:function(){var m=this.parentContainer,v=this.node;v&&m&&!m.willRender()&&(v.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(h.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(h.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(h.PRE_RENDER,this.preRender,this)}});S.exports=u},49381:(S,P,a)=>{var y=a(47407),C=a(95643),g=a(61340),f=new g,d=new g,c=new g;S.exports=function(p,u,m,v){if(u.node){var x=u.node.style;if(!x||!u.scene.sys.settings.visible||C.RENDER_MASK!==u.renderFlags||0!==u.cameraFilter&&u.cameraFilter&m.id||u.parentContainer&&!u.parentContainer.willRender())return void(x.display="none");var T=u.parentContainer,_=m.alpha*u.alpha;T&&(_*=T.alpha);var A=f,M=d,I=c,R=0,F=0,N="0%",V="0%";v?(M.applyITRS(u.x-(R=u.width*u.scaleX*u.originX),u.y-(F=u.height*u.scaleY*u.originY),u.rotation,u.scaleX,u.scaleY),A.copyFrom(m.matrix),A.multiplyWithOffset(v,-m.scrollX*u.scrollFactorX,-m.scrollY*u.scrollFactorY),M.e=u.x-R,M.f=u.y-F,A.multiply(M,I)):(R=u.width*u.originX,F=u.height*u.originY,M.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),A.copyFrom(m.matrix),N=100*u.originX+"%",V=100*u.originY+"%",M.e-=m.scrollX*u.scrollFactorX,M.f-=m.scrollY*u.scrollFactorY,A.multiply(M,I),I.e-=R,I.f-=F),u.transformOnly||(x.display="block",x.opacity=_,x.zIndex=u._depth,x.pointerEvents=u.pointerEvents,x.mixBlendMode=y[u._blendMode]),x.transform=I.getCSSMatrix()+" skew("+u.skewX+"rad, "+u.skewY+"rad) rotate3d("+u.rotate3d.x+","+u.rotate3d.y+","+u.rotate3d.z+","+u.rotate3d.w+u.rotate3dAngle+")",x.transformOrigin=N+" "+V}}},2611:(S,P,a)=>{var y=a(3069);a(39429).register("dom",function(g,f,d,c,h){var p=new y(this.scene,g,f,d,c,h);return this.displayList.add(p),p})},441:(S,P,a)=>{var C,g;a(29747),C=a(49381),g=a(49381),S.exports={renderWebGL:C,renderCanvas:g}},62980:S=>{S.exports="addedtoscene"},41337:S=>{S.exports="destroy"},44947:S=>{S.exports="removedfromscene"},49358:S=>{S.exports="complete"},35163:S=>{S.exports="created"},97249:S=>{S.exports="error"},19483:S=>{S.exports="locked"},56059:S=>{S.exports="loop"},26772:S=>{S.exports="metadata"},64437:S=>{S.exports="playing"},83411:S=>{S.exports="play"},75780:S=>{S.exports="seeked"},67799:S=>{S.exports="seeking"},63500:S=>{S.exports="stalled"},55541:S=>{S.exports="stop"},53208:S=>{S.exports="textureready"},4992:S=>{S.exports="unlocked"},12:S=>{S.exports="unsupported"},51708:(S,P,a)=>{S.exports={ADDED_TO_SCENE:a(62980),DESTROY:a(41337),REMOVED_FROM_SCENE:a(44947),VIDEO_COMPLETE:a(49358),VIDEO_CREATED:a(35163),VIDEO_ERROR:a(97249),VIDEO_LOCKED:a(19483),VIDEO_LOOP:a(56059),VIDEO_METADATA:a(26772),VIDEO_PLAY:a(83411),VIDEO_PLAYING:a(64437),VIDEO_SEEKED:a(75780),VIDEO_SEEKING:a(67799),VIDEO_STALLED:a(63500),VIDEO_STOP:a(55541),VIDEO_TEXTURE:a(53208),VIDEO_UNLOCKED:a(4992),VIDEO_UNSUPPORTED:a(12)}},42421:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(95643),f=a(64993),d=new y({Extends:g,Mixins:[C.Alpha,C.BlendMode,C.Depth,C.Flip,C.Origin,C.ScrollFactor,C.Size,C.Texture,C.Tint,C.Transform,C.Visible,f],initialize:function(h){g.call(this,h,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});S.exports=d},70217:()=>{},56315:(S,P,a)=>{var y=a(42421);a(39429).register("extern",function(){var g=new y(this.scene);return this.displayList.add(g),g})},64993:(S,P,a)=>{var C,g;a(29747),C=a(80287),g=a(70217),S.exports={renderWebGL:C,renderCanvas:g}},80287:(S,P,a)=>{var y=a(91296);S.exports=function(g,f,d,c){g.pipelines.clear();var h=y(f,d,c).calc;f.render.call(f,g,d,h),g.pipelines.rebind()}},85592:S=>{S.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(S,P,a)=>{var y=a(71911),C=a(83419),g=a(85592),f=a(31401),d=a(8497),c=a(95643),h=a(95540),p=a(35154),u=a(36383),m=a(84503),v=new C({Extends:c,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,m],initialize:function(b,T){var _=p(T,"x",0),A=p(T,"y",0);c.call(this,b,"Graphics"),this.setPosition(_,A),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(T)},setDefaultStyles:function(x){return p(x,"lineStyle",null)&&(this.defaultStrokeWidth=p(x,"lineStyle.width",1),this.defaultStrokeColor=p(x,"lineStyle.color",16777215),this.defaultStrokeAlpha=p(x,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),p(x,"fillStyle",null)&&(this.defaultFillColor=p(x,"fillStyle.color",16777215),this.defaultFillAlpha=p(x,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(x,b,T){return void 0===T&&(T=1),this.commandBuffer.push(g.LINE_STYLE,x,b,T),this._lineWidth=x,this},fillStyle:function(x,b){return void 0===b&&(b=1),this.commandBuffer.push(g.FILL_STYLE,x,b),this},fillGradientStyle:function(x,b,T,_,A,M,I,R){return void 0===A&&(A=1),void 0===M&&(M=A),void 0===I&&(I=A),void 0===R&&(R=A),this.commandBuffer.push(g.GRADIENT_FILL_STYLE,A,M,I,R,x,b,T,_),this},lineGradientStyle:function(x,b,T,_,A,M){return void 0===M&&(M=1),this.commandBuffer.push(g.GRADIENT_LINE_STYLE,x,M,b,T,_,A),this},beginPath:function(){return this.commandBuffer.push(g.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(g.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(g.FILL_PATH),this},fill:function(){return this.commandBuffer.push(g.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(g.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(g.STROKE_PATH),this},fillCircleShape:function(x){return this.fillCircle(x.x,x.y,x.radius)},strokeCircleShape:function(x){return this.strokeCircle(x.x,x.y,x.radius)},fillCircle:function(x,b,T){return this.beginPath(),this.arc(x,b,T,0,u.PI2),this.fillPath(),this},strokeCircle:function(x,b,T){return this.beginPath(),this.arc(x,b,T,0,u.PI2),this.strokePath(),this},fillRectShape:function(x){return this.fillRect(x.x,x.y,x.width,x.height)},strokeRectShape:function(x){return this.strokeRect(x.x,x.y,x.width,x.height)},fillRect:function(x,b,T,_){return this.commandBuffer.push(g.FILL_RECT,x,b,T,_),this},strokeRect:function(x,b,T,_){var A=this._lineWidth/2,M=x-A,I=x+A;return this.beginPath(),this.moveTo(x,b),this.lineTo(x,b+_),this.strokePath(),this.beginPath(),this.moveTo(x+T,b),this.lineTo(x+T,b+_),this.strokePath(),this.beginPath(),this.moveTo(M,b),this.lineTo(I+T,b),this.strokePath(),this.beginPath(),this.moveTo(M,b+_),this.lineTo(I+T,b+_),this.strokePath(),this},fillRoundedRect:function(x,b,T,_,A){void 0===A&&(A=20);var M=A,I=A,R=A,F=A;"number"!=typeof A&&(M=h(A,"tl",20),I=h(A,"tr",20),R=h(A,"bl",20),F=h(A,"br",20));var N=M>=0,V=I>=0,B=R>=0,G=F>=0;return M=Math.abs(M),I=Math.abs(I),R=Math.abs(R),F=Math.abs(F),this.beginPath(),this.moveTo(x+M,b),this.lineTo(x+T-I,b),V?this.arc(x+T-I,b+I,I,-u.TAU,0):this.arc(x+T,b,I,Math.PI,u.TAU,!0),this.lineTo(x+T,b+_-F),G?this.arc(x+T-F,b+_-F,F,0,u.TAU):this.arc(x+T,b+_,F,-u.TAU,Math.PI,!0),this.lineTo(x+R,b+_),B?this.arc(x+R,b+_-R,R,u.TAU,Math.PI):this.arc(x,b+_,R,0,-u.TAU,!0),this.lineTo(x,b+M),N?this.arc(x+M,b+M,M,-Math.PI,-u.TAU):this.arc(x,b,M,u.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(x,b,T,_,A){void 0===A&&(A=20);var M=A,I=A,R=A,F=A,N=Math.min(T,_)/2;"number"!=typeof A&&(M=h(A,"tl",20),I=h(A,"tr",20),R=h(A,"bl",20),F=h(A,"br",20));var V=M>=0,B=I>=0,G=R>=0,Q=F>=0;return M=Math.min(Math.abs(M),N),I=Math.min(Math.abs(I),N),R=Math.min(Math.abs(R),N),F=Math.min(Math.abs(F),N),this.beginPath(),this.moveTo(x+M,b),this.lineTo(x+T-I,b),this.moveTo(x+T-I,b),B?this.arc(x+T-I,b+I,I,-u.TAU,0):this.arc(x+T,b,I,Math.PI,u.TAU,!0),this.lineTo(x+T,b+_-F),this.moveTo(x+T,b+_-F),Q?this.arc(x+T-F,b+_-F,F,0,u.TAU):this.arc(x+T,b+_,F,-u.TAU,Math.PI,!0),this.lineTo(x+R,b+_),this.moveTo(x+R,b+_),G?this.arc(x+R,b+_-R,R,u.TAU,Math.PI):this.arc(x,b+_,R,0,-u.TAU,!0),this.lineTo(x,b+M),this.moveTo(x,b+M),V?this.arc(x+M,b+M,M,-Math.PI,-u.TAU):this.arc(x,b,M,u.TAU,0,!0),this.strokePath(),this},fillPointShape:function(x,b){return this.fillPoint(x.x,x.y,b)},fillPoint:function(x,b,T){return!T||T<1?T=1:(x-=T/2,b-=T/2),this.commandBuffer.push(g.FILL_RECT,x,b,T,T),this},fillTriangleShape:function(x){return this.fillTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},strokeTriangleShape:function(x){return this.strokeTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},fillTriangle:function(x,b,T,_,A,M){return this.commandBuffer.push(g.FILL_TRIANGLE,x,b,T,_,A,M),this},strokeTriangle:function(x,b,T,_,A,M){return this.commandBuffer.push(g.STROKE_TRIANGLE,x,b,T,_,A,M),this},strokeLineShape:function(x){return this.lineBetween(x.x1,x.y1,x.x2,x.y2)},lineBetween:function(x,b,T,_){return this.beginPath(),this.moveTo(x,b),this.lineTo(T,_),this.strokePath(),this},lineTo:function(x,b){return this.commandBuffer.push(g.LINE_TO,x,b),this},moveTo:function(x,b){return this.commandBuffer.push(g.MOVE_TO,x,b),this},strokePoints:function(x,b,T,_){void 0===b&&(b=!1),void 0===T&&(T=!1),void 0===_&&(_=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var A=1;A<_;A++)this.lineTo(x[A].x,x[A].y);return b&&this.lineTo(x[0].x,x[0].y),T&&this.closePath(),this.strokePath(),this},fillPoints:function(x,b,T,_){void 0===b&&(b=!1),void 0===T&&(T=!1),void 0===_&&(_=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var A=1;A<_;A++)this.lineTo(x[A].x,x[A].y);return b&&this.lineTo(x[0].x,x[0].y),T&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(x,b){void 0===b&&(b=32);var T=x.getPoints(b);return this.strokePoints(T,!0)},strokeEllipse:function(x,b,T,_,A){void 0===A&&(A=32);var I=new d(x,b,T,_).getPoints(A);return this.strokePoints(I,!0)},fillEllipseShape:function(x,b){void 0===b&&(b=32);var T=x.getPoints(b);return this.fillPoints(T,!0)},fillEllipse:function(x,b,T,_,A){void 0===A&&(A=32);var I=new d(x,b,T,_).getPoints(A);return this.fillPoints(I,!0)},arc:function(x,b,T,_,A,M,I){return void 0===M&&(M=!1),void 0===I&&(I=0),this.commandBuffer.push(g.ARC,x,b,T,_,A,M,I),this},slice:function(x,b,T,_,A,M,I){return void 0===M&&(M=!1),void 0===I&&(I=0),this.commandBuffer.push(g.BEGIN_PATH),this.commandBuffer.push(g.MOVE_TO,x,b),this.commandBuffer.push(g.ARC,x,b,T,_,A,M,I),this.commandBuffer.push(g.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(g.SAVE),this},restore:function(){return this.commandBuffer.push(g.RESTORE),this},translateCanvas:function(x,b){return this.commandBuffer.push(g.TRANSLATE,x,b),this},scaleCanvas:function(x,b){return this.commandBuffer.push(g.SCALE,x,b),this},rotateCanvas:function(x){return this.commandBuffer.push(g.ROTATE,x),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(x,b,T){var _=this.scene.sys,A=_.game.renderer;void 0===b&&(b=_.scale.width),void 0===T&&(T=_.scale.height),v.TargetCamera.setScene(this.scene),v.TargetCamera.setViewport(0,0,b,T),v.TargetCamera.scrollX=this.x,v.TargetCamera.scrollY=this.y;var M,I,R={willReadFrequently:!0};if("string"==typeof x)if(_.textures.exists(x)){var F=(M=_.textures.get(x)).getSourceImage();F instanceof HTMLCanvasElement&&(I=F.getContext("2d",R))}else I=(M=_.textures.createCanvas(x,b,T)).getSourceImage().getContext("2d",R);else x instanceof HTMLCanvasElement&&(I=x.getContext("2d",R));return I&&(this.renderCanvas(A,this,v.TargetCamera,null,I,!1),M&&M.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});v.TargetCamera=new y,S.exports=v},32768:(S,P,a)=>{var y=a(85592),C=a(20926);S.exports=function(f,d,c,h,p,u){var m=d.commandBuffer,v=m.length,x=p||f.currentContext;if(0!==v&&C(f,x,d,c,h)){c.addToRenderList(d);var _=0,A=0,M=1;x.beginPath();for(var N=0;N<v;++N)switch(m[N]){case y.ARC:x.arc(m[N+1],m[N+2],m[N+3],m[N+4],m[N+5],m[N+6]),N+=7;break;case y.LINE_STYLE:M=m[N+1],x.strokeStyle="rgba("+((16711680&(_=m[N+2]))>>>16)+","+((65280&_)>>>8)+","+(255&_)+","+m[N+3]+")",x.lineWidth=M,N+=3;break;case y.FILL_STYLE:x.fillStyle="rgba("+((16711680&(A=m[N+1]))>>>16)+","+((65280&A)>>>8)+","+(255&A)+","+m[N+2]+")",N+=2;break;case y.BEGIN_PATH:x.beginPath();break;case y.CLOSE_PATH:x.closePath();break;case y.FILL_PATH:u||x.fill();break;case y.STROKE_PATH:u||x.stroke();break;case y.FILL_RECT:u?x.rect(m[N+1],m[N+2],m[N+3],m[N+4]):x.fillRect(m[N+1],m[N+2],m[N+3],m[N+4]),N+=4;break;case y.FILL_TRIANGLE:x.beginPath(),x.moveTo(m[N+1],m[N+2]),x.lineTo(m[N+3],m[N+4]),x.lineTo(m[N+5],m[N+6]),x.closePath(),u||x.fill(),N+=6;break;case y.STROKE_TRIANGLE:x.beginPath(),x.moveTo(m[N+1],m[N+2]),x.lineTo(m[N+3],m[N+4]),x.lineTo(m[N+5],m[N+6]),x.closePath(),u||x.stroke(),N+=6;break;case y.LINE_TO:x.lineTo(m[N+1],m[N+2]),N+=2;break;case y.MOVE_TO:x.moveTo(m[N+1],m[N+2]),N+=2;break;case y.LINE_FX_TO:x.lineTo(m[N+1],m[N+2]),N+=5;break;case y.MOVE_FX_TO:x.moveTo(m[N+1],m[N+2]),N+=5;break;case y.SAVE:x.save();break;case y.RESTORE:x.restore();break;case y.TRANSLATE:x.translate(m[N+1],m[N+2]),N+=2;break;case y.SCALE:x.scale(m[N+1],m[N+2]),N+=2;break;case y.ROTATE:x.rotate(m[N+1]),N+=1;break;case y.GRADIENT_FILL_STYLE:N+=5;break;case y.GRADIENT_LINE_STYLE:N+=6}x.restore()}}},87079:(S,P,a)=>{var y=a(44603),C=a(43831);y.register("graphics",function(g,f){void 0===g&&(g={}),void 0!==f&&(g.add=f);var d=new C(this.scene,g);return g.add&&this.scene.sys.displayList.add(d),d})},1201:(S,P,a)=>{var y=a(43831);a(39429).register("graphics",function(g){return this.displayList.add(new y(this.scene,g))})},84503:(S,P,a)=>{var C,g;a(29747),C=a(77545),a(32768),g=a(32768),S.exports={renderWebGL:C,renderCanvas:g}},77545:(S,P,a)=>{var y=a(85592),C=a(91296),g=a(61340),f=a(70554),d=function(m,v,x){this.x=m,this.y=v,this.width=x},c=function(m,v,x){this.points=[],this.pointsLength=1,this.points[0]=new d(m,v,x)},h=[],p=new g;S.exports=function(m,v,x,b){if(0!==v.commandBuffer.length){x.addToRenderList(v);var T=m.pipelines.set(v.pipeline,v);m.pipelines.preBatch(v);for(var K,_=C(v,x,b).calc,A=p.loadIdentity(),M=v.commandBuffer,I=x.alpha*v.alpha,R=1,F=T.fillTint,N=T.strokeTint,V=0,B=0,G=0,H=2*Math.PI,tt=[],at=0,lt=!0,q=null,it=f.getTintAppendFloatAlpha,Y=0;Y<M.length;Y++)switch(K=M[Y],K){case y.BEGIN_PATH:tt.length=0,q=null,lt=!0;break;case y.CLOSE_PATH:lt=!1,q&&q.points.length&&q.points.push(q.points[0]);break;case y.FILL_PATH:for(at=0;at<tt.length;at++)T.batchFillPath(tt[at].points,A,_);break;case y.STROKE_PATH:for(at=0;at<tt.length;at++)T.batchStrokePath(tt[at].points,R,lt,A,_);break;case y.LINE_STYLE:R=M[++Y];var dt=it(M[++Y],M[++Y]*I);N.TL=dt,N.TR=dt,N.BL=dt,N.BR=dt;break;case y.FILL_STYLE:var Et=it(M[++Y],M[++Y]*I);F.TL=Et,F.TR=Et,F.BL=Et,F.BR=Et;break;case y.GRADIENT_FILL_STYLE:var Bt=M[++Y]*I,Kt=M[++Y]*I,Zt=M[++Y]*I,ne=M[++Y]*I;F.TL=it(M[++Y],Bt),F.TR=it(M[++Y],Kt),F.BL=it(M[++Y],Zt),F.BR=it(M[++Y],ne);break;case y.GRADIENT_LINE_STYLE:R=M[++Y];var ae=M[++Y]*I;N.TL=it(M[++Y],ae),N.TR=it(M[++Y],ae),N.BL=it(M[++Y],ae),N.BR=it(M[++Y],ae);break;case y.ARC:var fe=0,ke=M[++Y],Ye=M[++Y],Pe=M[++Y],Qe=M[++Y],Se=M[++Y],ei=M[++Y],ri=M[++Y];for(Se-=Qe,ei?Se<-H?Se=-H:Se>0&&(Se=Se%H-H):Se>H?Se=H:Se<0&&(Se=H+Se%H),null===q&&(q=new c(ke+Math.cos(Qe)*Pe,Ye+Math.sin(Qe)*Pe,R),tt.push(q),fe+=.01);fe<1+ri;)G=Se*fe+Qe,V=ke+Math.cos(G)*Pe,B=Ye+Math.sin(G)*Pe,q.points.push(new d(V,B,R)),fe+=.01;G=Se+Qe,V=ke+Math.cos(G)*Pe,B=Ye+Math.sin(G)*Pe,q.points.push(new d(V,B,R));break;case y.FILL_RECT:T.batchFillRect(M[++Y],M[++Y],M[++Y],M[++Y],A,_);break;case y.FILL_TRIANGLE:T.batchFillTriangle(M[++Y],M[++Y],M[++Y],M[++Y],M[++Y],M[++Y],A,_);break;case y.STROKE_TRIANGLE:T.batchStrokeTriangle(M[++Y],M[++Y],M[++Y],M[++Y],M[++Y],M[++Y],R,A,_);break;case y.LINE_TO:null!==q?q.points.push(new d(M[++Y],M[++Y],R)):(q=new c(M[++Y],M[++Y],R),tt.push(q));break;case y.MOVE_TO:q=new c(M[++Y],M[++Y],R),tt.push(q);break;case y.SAVE:h.push(A.copyToArray());break;case y.RESTORE:A.copyFromArray(h.pop());break;case y.TRANSLATE:ke=M[++Y],Ye=M[++Y],A.translate(ke,Ye);break;case y.SCALE:ke=M[++Y],Ye=M[++Y],A.scale(ke,Ye);break;case y.ROTATE:A.rotate(M[++Y])}m.pipelines.postBatch(v)}}},26479:(S,P,a)=>{var y=a(61061),C=a(83419),g=a(51708),f=a(50792),d=a(46710),c=a(95540),h=a(35154),p=a(97022),u=a(41212),m=a(88492),v=a(35072),x=a(68287),b=new C({Extends:f,initialize:function(_,A,M){f.call(this),M?A&&!Array.isArray(A)&&(A=[A]):Array.isArray(A)?u(A[0])&&(M=A,A=null):u(A)&&(M=A,A=null),this.scene=_,this.children=new v,this.isParent=!0,this.type="Group",this.classType=c(M,"classType",x),this.name=c(M,"name",""),this.active=c(M,"active",!0),this.maxSize=c(M,"maxSize",-1),this.defaultKey=c(M,"defaultKey",null),this.defaultFrame=c(M,"defaultFrame",null),this.runChildUpdate=c(M,"runChildUpdate",!1),this.createCallback=c(M,"createCallback",null),this.removeCallback=c(M,"removeCallback",null),this.createMultipleCallback=c(M,"createMultipleCallback",null),this.internalCreateCallback=c(M,"internalCreateCallback",null),this.internalRemoveCallback=c(M,"internalRemoveCallback",null),A&&this.addMultiple(A),M&&this.createMultiple(M),this.on(g.ADDED_TO_SCENE,this.addedToScene,this),this.on(g.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(T,_,A,M,I,R){if(void 0===T&&(T=0),void 0===_&&(_=0),void 0===A&&(A=this.defaultKey),void 0===M&&(M=this.defaultFrame),void 0===I&&(I=!0),void 0===R&&(R=!0),this.isFull())return null;var F=new this.classType(this.scene,T,_,A,M);return F.addToDisplayList(this.scene.sys.displayList),F.addToUpdateList(),F.visible=I,F.setActive(R),this.add(F),F},createMultiple:function(T){if(this.isFull())return[];Array.isArray(T)||(T=[T]);var _=[];if(T[0].key)for(var A=0;A<T.length;A++){var M=this.createFromConfig(T[A]);_=_.concat(M)}return _},createFromConfig:function(T){if(this.isFull())return[];this.classType=c(T,"classType",this.classType);var _=c(T,"key",void 0),A=c(T,"frame",null),M=c(T,"visible",!0),I=c(T,"active",!0),R=[];if(void 0===_)return R;Array.isArray(_)||(_=[_]),Array.isArray(A)||(A=[A]);var F=c(T,"repeat",0),N=c(T,"randomKey",!1),V=c(T,"randomFrame",!1),B=c(T,"yoyo",!1),G=c(T,"quantity",!1),Q=c(T,"frameQuantity",1),H=c(T,"max",0),K=m(_,A,{max:H,qty:G||Q,random:N,randomB:V,repeat:F,yoyo:B});T.createCallback&&(this.createCallback=T.createCallback),T.removeCallback&&(this.removeCallback=T.removeCallback),T.internalCreateCallback&&(this.internalCreateCallback=T.internalCreateCallback),T.internalRemoveCallback&&(this.internalRemoveCallback=T.internalRemoveCallback);for(var tt=0;tt<K.length;tt++){var at=this.create(0,0,K[tt].a,K[tt].b,M,I);if(!at)break;R.push(at)}if(p(T,"setXY")){var lt=h(T,"setXY.x",0),q=h(T,"setXY.y",0),it=h(T,"setXY.stepX",0),Y=h(T,"setXY.stepY",0);y.SetXY(R,lt,q,it,Y)}if(p(T,"setRotation")){var X=h(T,"setRotation.value",0),nt=h(T,"setRotation.step",0);y.SetRotation(R,X,nt)}if(p(T,"setScale")){var dt=h(T,"setScale.x",1),gt=h(T,"setScale.y",dt),bt=h(T,"setScale.stepX",0),Et=h(T,"setScale.stepY",0);y.SetScale(R,dt,gt,bt,Et)}if(p(T,"setOrigin")){var Bt=h(T,"setOrigin.x",.5),Kt=h(T,"setOrigin.y",Bt),Zt=h(T,"setOrigin.stepX",0),ne=h(T,"setOrigin.stepY",0);y.SetOrigin(R,Bt,Kt,Zt,ne)}if(p(T,"setAlpha")){var ae=h(T,"setAlpha.value",1),fe=h(T,"setAlpha.step",0);y.SetAlpha(R,ae,fe)}if(p(T,"setDepth")){var ke=h(T,"setDepth.value",0),Ye=h(T,"setDepth.step",0);y.SetDepth(R,ke,Ye)}if(p(T,"setScrollFactor")){var Pe=h(T,"setScrollFactor.x",1),Qe=h(T,"setScrollFactor.y",Pe),Se=h(T,"setScrollFactor.stepX",0),ei=h(T,"setScrollFactor.stepY",0);y.SetScrollFactor(R,Pe,Qe,Se,ei)}var ri=c(T,"hitArea",null),Bi=c(T,"hitAreaCallback",null);ri&&y.SetHitArea(R,ri,Bi);var tn=c(T,"gridAlign",!1);return tn&&y.GridAlign(R,tn),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(T,_){if(this.runChildUpdate&&0!==this.children.size)for(var A=this.children.entries.slice(),M=0;M<A.length;M++){var I=A[M];I.active&&I.update(T,_)}},add:function(T,_){return void 0===_&&(_=!1),this.isFull()||(this.children.set(T),this.internalCreateCallback&&this.internalCreateCallback.call(this,T),this.createCallback&&this.createCallback.call(this,T),_&&(T.addToDisplayList(this.scene.sys.displayList),T.addToUpdateList()),T.on(g.DESTROY,this.remove,this)),this},addMultiple:function(T,_){if(void 0===_&&(_=!1),Array.isArray(T))for(var A=0;A<T.length;A++)this.add(T[A],_);return this},remove:function(T,_,A){return void 0===_&&(_=!1),void 0===A&&(A=!1),this.children.contains(T)?(this.children.delete(T),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,T),this.removeCallback&&this.removeCallback.call(this,T),T.off(g.DESTROY,this.remove,this),A?T.destroy():_&&(T.removeFromDisplayList(),T.removeFromUpdateList()),this):this},clear:function(T,_){void 0===T&&(T=!1),void 0===_&&(_=!1);for(var A=this.children,M=0;M<A.size;M++){var I=A.entries[M];I.off(g.DESTROY,this.remove,this),_?I.destroy():T&&(I.removeFromDisplayList(),I.removeFromUpdateList())}return this.children.clear(),this},contains:function(T){return this.children.contains(T)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(T,_,A,M){return d(this.children.entries,T,_,A,M)},getFirst:function(T,_,A,M,I,R,F){return this.getHandler(!0,1,T,_,A,M,I,R,F)},getFirstNth:function(T,_,A,M,I,R,F,N){return this.getHandler(!0,T,_,A,M,I,R,F,N)},getLast:function(T,_,A,M,I,R,F){return this.getHandler(!1,1,T,_,A,M,I,R,F)},getLastNth:function(T,_,A,M,I,R,F,N){return this.getHandler(!1,T,_,A,M,I,R,F,N)},getHandler:function(T,_,A,M,I,R,F,N,V){void 0===A&&(A=!1),void 0===M&&(M=!1);var B,G,Q=0,H=this.children.entries;if(T)for(G=0;G<H.length;G++)if((B=H[G]).active===A){if(++Q===_)break}else B=null;else for(G=H.length-1;G>=0;G--)if((B=H[G]).active===A){if(++Q===_)break}else B=null;return B?("number"==typeof I&&(B.x=I),"number"==typeof R&&(B.y=R),B):M?this.create(I,R,F,N,V):null},get:function(T,_,A,M,I){return this.getFirst(!1,!0,T,_,A,M,I)},getFirstAlive:function(T,_,A,M,I,R){return this.getFirst(!0,T,_,A,M,I,R)},getFirstDead:function(T,_,A,M,I,R){return this.getFirst(!1,T,_,A,M,I,R)},playAnimation:function(T,_){return y.PlayAnimation(this.children.entries,T,_),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(T){void 0===T&&(T=!0);for(var _=0,A=0;A<this.children.size;A++)this.children.entries[A].active===T&&_++;return _},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var T=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-T},setActive:function(T){return this.active=T,this},setName:function(T){return this.name=T,this},propertyValueSet:function(T,_,A,M,I){return y.PropertyValueSet(this.children.entries,T,_,A,M,I),this},propertyValueInc:function(T,_,A,M,I){return y.PropertyValueInc(this.children.entries,T,_,A,M,I),this},setX:function(T,_){return y.SetX(this.children.entries,T,_),this},setY:function(T,_){return y.SetY(this.children.entries,T,_),this},setXY:function(T,_,A,M){return y.SetXY(this.children.entries,T,_,A,M),this},incX:function(T,_){return y.IncX(this.children.entries,T,_),this},incY:function(T,_){return y.IncY(this.children.entries,T,_),this},incXY:function(T,_,A,M){return y.IncXY(this.children.entries,T,_,A,M),this},shiftPosition:function(T,_,A){return y.ShiftPosition(this.children.entries,T,_,A),this},angle:function(T,_){return y.Angle(this.children.entries,T,_),this},rotate:function(T,_){return y.Rotate(this.children.entries,T,_),this},rotateAround:function(T,_){return y.RotateAround(this.children.entries,T,_),this},rotateAroundDistance:function(T,_,A){return y.RotateAroundDistance(this.children.entries,T,_,A),this},setAlpha:function(T,_){return y.SetAlpha(this.children.entries,T,_),this},setTint:function(T,_,A,M){return y.SetTint(this.children.entries,T,_,A,M),this},setOrigin:function(T,_,A,M){return y.SetOrigin(this.children.entries,T,_,A,M),this},scaleX:function(T,_){return y.ScaleX(this.children.entries,T,_),this},scaleY:function(T,_){return y.ScaleY(this.children.entries,T,_),this},scaleXY:function(T,_,A,M){return y.ScaleXY(this.children.entries,T,_,A,M),this},setDepth:function(T,_){return y.SetDepth(this.children.entries,T,_),this},setBlendMode:function(T){return y.SetBlendMode(this.children.entries,T),this},setHitArea:function(T,_){return y.SetHitArea(this.children.entries,T,_),this},shuffle:function(){return y.Shuffle(this.children.entries),this},kill:function(T){this.children.contains(T)&&T.setActive(!1)},killAndHide:function(T){this.children.contains(T)&&(T.setActive(!1),T.setVisible(!1))},setVisible:function(T,_,A){return y.SetVisible(this.children.entries,T,_,A),this},toggleVisible:function(){return y.ToggleVisible(this.children.entries),this},destroy:function(T,_){void 0===T&&(T=!1),void 0===_&&(_=!1),this.scene&&!this.ignoreDestroy&&(this.emit(g.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(_,T),this.scene=void 0,this.children=void 0)}});S.exports=b},94975:(S,P,a)=>{var y=a(44603),C=a(26479);y.register("group",function(g){return new C(this.scene,null,g)})},3385:(S,P,a)=>{var y=a(26479);a(39429).register("group",function(g,f){return this.updateList.add(new y(this.scene,g,f))})},88571:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(95643),f=a(59819),d=new y({Extends:g,Mixins:[C.Alpha,C.BlendMode,C.Depth,C.Flip,C.GetBounds,C.Mask,C.Origin,C.Pipeline,C.PostPipeline,C.ScrollFactor,C.Size,C.TextureCrop,C.Tint,C.Transform,C.Visible,f],initialize:function(h,p,u,m,v){g.call(this,h,"Image"),this._crop=this.resetCropObject(),this.setTexture(m,v),this.setPosition(p,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});S.exports=d},40652:S=>{S.exports=function(a,y,C,g){C.addToRenderList(y),a.batchSprite(y,y.frame,C,g)}},82459:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(88571);C.register("image",function(d,c){void 0===d&&(d={});var h=g(d,"key",null),p=g(d,"frame",null),u=new f(this.scene,0,0,h,p);return void 0!==c&&(d.add=c),y(this.scene,u,d),u})},2117:(S,P,a)=>{var y=a(88571);a(39429).register("image",function(g,f,d,c){return this.displayList.add(new y(this.scene,g,f,d,c))})},59819:(S,P,a)=>{var C,g;a(29747),C=a(99517),g=a(40652),S.exports={renderWebGL:C,renderCanvas:g}},99517:S=>{S.exports=function(a,y,C,g){C.addToRenderList(y),this.pipeline.batchSprite(y,C,g)}},77856:(S,P,a)=>{var y={Events:a(51708),DisplayList:a(8050),GameObjectCreator:a(44603),GameObjectFactory:a(39429),UpdateList:a(45027),Components:a(31401),GetCalcMatrix:a(91296),BuildGameObject:a(25305),BuildGameObjectAnimation:a(13059),GameObject:a(95643),BitmapText:a(22186),Blitter:a(6107),Bob:a(46590),Container:a(31559),DOMElement:a(3069),DynamicBitmapText:a(2638),Extern:a(42421),Graphics:a(43831),Group:a(26479),Image:a(88571),Layer:a(93595),Particles:a(18404),PathFollower:a(1159),RenderTexture:a(591),RetroFont:a(196),Rope:a(77757),Sprite:a(68287),Text:a(50171),GetTextSize:a(14220),MeasureText:a(79557),TextStyle:a(35762),TileSprite:a(20839),Zone:a(41481),Video:a(18471),Shape:a(17803),Arc:a(23629),Curve:a(89),Ellipse:a(19921),Grid:a(30479),IsoBox:a(61475),IsoTriangle:a(16933),Line:a(57847),Polygon:a(24949),Rectangle:a(74561),Star:a(55911),Triangle:a(36931),Factories:{Blitter:a(12709),Container:a(24961),DOMElement:a(2611),DynamicBitmapText:a(72566),Extern:a(56315),Graphics:a(1201),Group:a(3385),Image:a(2117),Layer:a(20005),Particles:a(676),PathFollower:a(90145),RenderTexture:a(60505),Rope:a(96819),Sprite:a(46409),StaticBitmapText:a(34914),Text:a(68005),TileSprite:a(91681),Zone:a(84175),Video:a(89025),Arc:a(42563),Curve:a(40511),Ellipse:a(1543),Grid:a(34137),IsoBox:a(3933),IsoTriangle:a(49803),Line:a(2481),Polygon:a(64827),Rectangle:a(87959),Star:a(93697),Triangle:a(45245)},Creators:{Blitter:a(9403),Container:a(77143),DynamicBitmapText:a(11164),Graphics:a(87079),Group:a(94975),Image:a(82459),Layer:a(25179),Particles:a(92730),RenderTexture:a(34495),Rope:a(26209),Sprite:a(15567),StaticBitmapText:a(57336),Text:a(71259),TileSprite:a(14167),Zone:a(95261),Video:a(11511)}};y.Shader=a(20071),y.Mesh=a(4703),y.NineSlice=a(28103),y.PointLight=a(80321),y.Plane=a(33663),y.Factories.Shader=a(74177),y.Factories.Mesh=a(9225),y.Factories.NineSlice=a(47521),y.Factories.PointLight=a(71255),y.Factories.Plane=a(30985),y.Creators.Shader=a(54935),y.Creators.Mesh=a(20527),y.Creators.NineSlice=a(28279),y.Creators.PointLight=a(39829),y.Creators.Plane=a(56015),y.Light=a(41432),y.LightsManager=a(61356),y.LightsPlugin=a(88992),S.exports=y},93595:(S,P,a)=>{var y=a(10312),C=a(83419),g=a(31401),f=a(53774),d=a(45893),c=a(50792),h=a(51708),p=a(73162),u=a(33963),m=a(44594),v=a(19186),x=new C({Extends:p,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.PostPipeline,g.Visible,c,u],initialize:function(T,_){p.call(this,T),c.call(this),this.scene=T,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=T.sys,this.events=T.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(y.SKIP_CHECK),_&&this.add(_),T.sys.queueDepthSort()},setActive:function(b){return this.active=b,this},setName:function(b){return this.name=b,this},setState:function(b){return this.state=b,this},setDataEnabled:function(){return this.data||(this.data=new d(this)),this},setData:function(b,T){return this.data||(this.data=new d(this)),this.data.set(b,T),this},incData:function(b,T){return this.data||(this.data=new d(this)),this.data.inc(b,T),this},toggleData:function(b){return this.data||(this.data=new d(this)),this.data.toggle(b),this},getData:function(b){return this.data||(this.data=new d(this)),this.data.get(b)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return f(this)},willRender:function(b){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&b.id)},getIndexList:function(){for(var b=this,T=this.parentContainer,_=[];T&&(_.unshift(T.getIndex(b)),b=T,T.parentContainer);)T=T.parentContainer;return _.unshift(this.displayList.getIndex(b)),_},addChildCallback:function(b){var T=b.displayList;T&&T!==this&&b.removeFromDisplayList(),b.displayList||(this.queueDepthSort(),b.displayList=this,b.emit(h.ADDED_TO_SCENE,b,this.scene),this.events.emit(m.ADDED_TO_SCENE,b,this.scene))},removeChildCallback:function(b){this.queueDepthSort(),b.displayList=null,b.emit(h.REMOVED_FROM_SCENE,b,this.scene),this.events.emit(m.REMOVED_FROM_SCENE,b,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(v(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(b,T){return b._depth-T._depth},getChildren:function(){return this.list},addToDisplayList:function(b){return void 0===b&&(b=this.scene.sys.displayList),this.displayList&&this.displayList!==b&&this.removeFromDisplayList(),b.exists(this)||(this.displayList=b,b.add(this,!0),b.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),b.events.emit(m.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var b=this.displayList||this.scene.sys.displayList;return b.exists(this)&&(b.remove(this,!0),b.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),b.events.emit(m.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(b){if(this.scene&&!this.ignoreDestroy){this.emit(h.DESTROY,this);for(var T=this.list;T.length;)T[0].destroy(b);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});S.exports=x},2956:S=>{S.exports=function(a,y,C){var g=y.list;if(0!==g.length){y.depthSort();var f=-1!==y.blendMode;f||a.setBlendMode(0);var d=y._alpha;y.mask&&y.mask.preRenderCanvas(a,null,C);for(var c=0;c<g.length;c++){var h=g[c];if(h.willRender(C)){var p=h.alpha;!f&&h.blendMode!==a.currentBlendMode&&a.setBlendMode(h.blendMode),h.setAlpha(p*d),h.renderCanvas(a,h,C),h.setAlpha(p)}}y.mask&&y.mask.postRenderCanvas(a)}}},25179:(S,P,a)=>{var y=a(25305),C=a(93595),g=a(44603),f=a(23568);g.register("layer",function(d,c){void 0===d&&(d={});var h=f(d,"children",null),p=new C(this.scene,h);return void 0!==c&&(d.add=c),y(this.scene,p,d),p})},20005:(S,P,a)=>{var y=a(93595);a(39429).register("layer",function(g){return this.displayList.add(new y(this.scene,g))})},33963:(S,P,a)=>{var C,g;a(29747),C=a(15869),g=a(2956),S.exports={renderWebGL:C,renderCanvas:g}},15869:S=>{S.exports=function(a,y,C){var g=y.list,f=g.length;if(0!==f){y.depthSort(),a.pipelines.preBatch(y);var d=-1!==y.blendMode;d||a.setBlendMode(0);for(var c=y.alpha,h=0;h<f;h++){var p=g[h];if(p.willRender(C)){var u,m,v,x;if(void 0!==p.alphaTopLeft)u=p.alphaTopLeft,m=p.alphaTopRight,v=p.alphaBottomLeft,x=p.alphaBottomRight;else{var b=p.alpha;u=b,m=b,v=b,x=b}!d&&p.blendMode!==a.currentBlendMode&&a.setBlendMode(p.blendMode);var T=p.mask;T&&T.preRenderWebGL(a,p,C);var _=p.type;_!==a.currentType&&(a.newType=!0,a.currentType=_),a.nextTypeMatch=h<f-1&&g[h+1].type===a.currentType,p.setAlpha(u*c,m*c,v*c,x*c),p.renderWebGL(a,p,C),p.setAlpha(u,m,v,x),T&&T.postRenderWebGL(a,C),a.newType=!1}}a.pipelines.postBatch(y)}}},41432:(S,P,a)=>{var y=a(96503),C=a(83419),g=a(31401),f=a(51767),d=a(70554),c=new C({Extends:y,Mixins:[g.Origin,g.ScrollFactor,g.Visible],initialize:function(p,u,m,v,x,b,T){y.call(this,p,u,m),this.color=new f(v,x,b),this.intensity=T,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(m)},displayWidth:{get:function(){return this.diameter},set:function(h){this.diameter=h}},displayHeight:{get:function(){return this.diameter},set:function(h){this.diameter=h}},width:{get:function(){return this.diameter},set:function(h){this.diameter=h}},height:{get:function(){return this.diameter},set:function(h){this.diameter=h}},willRender:function(h){return!(c.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&h.id)},setColor:function(h){var p=d.getFloatsFromUintRGB(h);return this.color.set(p[0],p[1],p[2]),this},setIntensity:function(h){return this.intensity=h,this},setRadius:function(h){return this.radius=h,this}});c.RENDER_MASK=15,S.exports=c},61356:(S,P,a)=>{var y=a(81491),C=a(83419),g=a(20339),f=a(41432),d=a(80321),c=a(51767),h=a(19133),p=a(19186),u=a(70554),m=new C({initialize:function(){this.lights=[],this.ambientColor=new c(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(v,x,b,T,_,A){return this.systems.displayList.add(new d(this.scene,v,x,b,T,_,A))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(v){for(var x=this.lights,b=v.worldView,T=[],_=0;_<x.length;_++){var A=x[_];A.willRender(v)&&y(A,b)&&T.push({light:A,distance:g(A.x,A.y,b.centerX,b.centerY)})}return T.length>this.maxLights&&(p(T,this.sortByDistance),T=T.slice(0,this.maxLights)),this.visibleLights=T.length,T},sortByDistance:function(v,x){return v.distance>=x.distance},setAmbientColor:function(v){var x=u.getFloatsFromUintRGB(v);return this.ambientColor.set(x[0],x[1],x[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(v,x,b,T,_){void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=128),void 0===T&&(T=16777215),void 0===_&&(_=1);var A=u.getFloatsFromUintRGB(T),M=new f(v,x,b,A[0],A[1],A[2],_);return this.lights.push(M),M},removeLight:function(v){var x=this.lights.indexOf(v);return x>=0&&h(this.lights,x),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});S.exports=m},88992:(S,P,a)=>{var y=a(83419),C=a(61356),g=a(37277),f=a(44594),d=new y({Extends:C,initialize:function(h){this.scene=h,this.systems=h.sys,h.sys.settings.isBooted||h.sys.events.once(f.BOOT,this.boot,this),C.call(this)},boot:function(){var c=this.systems.events;c.on(f.SHUTDOWN,this.shutdown,this),c.on(f.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});g.register("LightsPlugin",d,"lights"),S.exports=d},4703:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(39506),f=a(83997),d=a(95643),c=a(34684),h=a(92515),p=a(91296),u=a(37867),m=a(29807),v=a(43396),x=a(19186),b=a(25836),T=a(39318),_=new y({Extends:d,Mixins:[C.AlphaSingle,C.BlendMode,C.Depth,C.Mask,C.Pipeline,C.PostPipeline,C.ScrollFactor,C.Size,C.Texture,C.Transform,C.Visible,m],initialize:function(M,I,R,F,N,V,B,G,Q,H,K,tt){void 0===I&&(I=0),void 0===R&&(R=0),void 0===F&&(F="__WHITE"),d.call(this,M,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new b,this.modelScale=new b(1,1,1),this.modelRotation=new b,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new u,this.viewPosition=new b,this.viewMatrix=new u,this.projectionMatrix=new u,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.displayOriginX=0,this.displayOriginY=0;var at=M.sys.renderer;this.setPosition(I,R),this.setTexture(F,N),this.setSize(at.width,at.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(at.width,at.height),V&&this.addVertices(V,B,G,Q,H,K,tt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(A){return this.viewPosition.addScale(b.LEFT,A),this.dirtyCache[10]=1,this},panY:function(A){return this.viewPosition.y+=b.DOWN.y*A,this.dirtyCache[10]=1,this},panZ:function(A){return this.viewPosition.z+=A,this.dirtyCache[10]=1,this},setPerspective:function(A,M,I,R,F){return void 0===I&&(I=45),void 0===R&&(R=.01),void 0===F&&(F=1e3),this.fov=I,this.projectionMatrix.perspective(g(I),A/M,R,F),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(A,M,I,R){return void 0===A&&(A=this.scene.sys.renderer.getAspectRatio()),void 0===M&&(M=1),void 0===I&&(I=-1e3),void 0===R&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-A,A,-M,M,I,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(A){A.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(A,M,I,R,F,N,V,B,G){var H,Q=this.scene.sys.cache.obj.get(A);return Q&&(H=c(Q,this,M,I,R,F,N,V,B,G)),(!H||0===H.verts.length)&&console.warn("Mesh.addVerticesFromObj data empty:",A),this},sortByDepth:function(A,M){return A.depth-M.depth},depthSort:function(){return x(this.faces,this.sortByDepth),this},addVertex:function(A,M,I,R,F,N,V){var B=new T(A,M,I,R,F,N,V);return this.vertices.push(B),B},addFace:function(A,M,I){var R=new f(A,M,I);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(A,M,I,R,F,N,V){var B=h(A,M,I,R,F,N,V);return B?(this.faces=this.faces.concat(B.faces),this.vertices=this.vertices.concat(B.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(A){return this.faces[A]},hasFaceAt:function(A,M,I){void 0===I&&(I=this.scene.sys.cameras.main);for(var R=p(this,I).calc,F=this.faces,N=0;N<F.length;N++)if(F[N].contains(A,M,R))return!0;return!1},getFaceAt:function(A,M,I){void 0===I&&(I=this.scene.sys.cameras.main);for(var R=p(this,I).calc,F=this.faces,N=[],V=0;V<F.length;V++){var B=F[V];B.contains(A,M,R)&&N.push(B)}return x(N,this.sortByDepth)},setDebug:function(A,M){return this.debugGraphic=A,this.debugCallback=A||M?M||this.renderDebug:null,this},isDirty:function(){var A=this.modelPosition,M=this.modelRotation,I=this.modelScale,R=this.dirtyCache,F=A.x,N=A.y,V=A.z,B=M.x,G=M.y,Q=M.z,H=I.x,K=I.y,tt=I.z,at=this.getFaceCount(),lt=R[0],q=R[1],it=R[2],Y=R[3],X=R[4],nt=R[5],dt=R[6],gt=R[7],bt=R[8],Et=R[9];return R[0]=F,R[1]=N,R[2]=V,R[3]=B,R[4]=G,R[5]=Q,R[6]=H,R[7]=K,R[8]=tt,R[9]=at,lt!==F||q!==N||it!==V||Y!==B||X!==G||nt!==Q||dt!==H||gt!==K||bt!==tt||Et!==at},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var A=this.dirtyCache;if(this.ignoreDirtyCache||A[10]||this.isDirty()){var M=this.width,I=this.height,R=this.viewMatrix,F=this.viewPosition;A[10]&&(R.identity(),R.translate(F),R.invert(),A[10]=0);var N=this.transformMatrix;N.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var V=F.z,B=this.faces,G=0;G<B.length;G++)B[G].transformCoordinatesLocal(N,M,I,V);this.depthSort()}},renderDebug:function(A,M){for(var I=A.debugGraphic,R=0;R<M.length;R++){var F=M[R];I.strokeTriangle(F.vertex1.tx,F.vertex1.ty,F.vertex2.tx,F.vertex2.ty,F.vertex3.tx,F.vertex3.ty)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(A){void 0===A&&(A={});var M=function(I,R,F){for(var N=this.faces,V=0;V<N.length;V++)if(N[V].contains(R,F))return!0;return!1}.bind(this);return this.scene.sys.input.enable(this,A,M),this},setTint:function(A){void 0===A&&(A=16777215);for(var M=this.vertices,I=0;I<M.length;I++)M[I].color=A;return this},uvScroll:function(A,M){for(var I=this.faces,R=0;R<I.length;R++)I[R].scrollUV(A,M);return this},uvScale:function(A,M){for(var I=this.faces,R=0;R<I.length;R++)I[R].scaleUV(A,M);return this},tint:{set:function(A){this.setTint(A)}},rotateX:{get:function(){return v(this.modelRotation.x)},set:function(A){this.modelRotation.x=g(A)}},rotateY:{get:function(){return v(this.modelRotation.y)},set:function(A){this.modelRotation.y=g(A)}},rotateZ:{get:function(){return v(this.modelRotation.z)},set:function(A){this.modelRotation.z=g(A)}}});S.exports=_},36488:S=>{S.exports=function(){}},20527:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(35154),d=a(4703);C.register("mesh",function(c,h){void 0===c&&(c={});var p=g(c,"key",null),u=g(c,"frame",null),m=f(c,"vertices",[]),v=f(c,"uvs",[]),x=f(c,"indicies",[]),b=f(c,"containsZ",!1),T=f(c,"normals",[]),_=f(c,"colors",16777215),A=f(c,"alphas",1),M=new d(this.scene,0,0,p,u,m,v,x,b,T,_,A);return void 0!==h&&(c.add=h),y(this.scene,M,c),M})},9225:(S,P,a)=>{var y=a(4703);a(39429).register("mesh",function(g,f,d,c,h,p,u,m,v,x,b){return this.displayList.add(new y(this.scene,g,f,d,c,h,p,u,m,v,x,b))})},29807:(S,P,a)=>{var C,g;a(29747),C=a(48833),g=a(36488),S.exports={renderWebGL:C,renderCanvas:g}},48833:(S,P,a)=>{var y=a(91296);S.exports=function(g,f,d,c){var h=f.faces,p=h.length;if(0!==p){d.addToRenderList(f);var u=g.pipelines.set(f.pipeline,f),m=y(f,d,c).calc;g.pipelines.preBatch(f);for(var v=u.setGameObject(f),x=u.vertexViewF32,b=u.vertexViewU32,T=u.vertexCount*u.currentShader.vertexComponentCount-1,_=f.tintFill,A=[],M=f.debugCallback,I=m.a,R=m.b,F=m.c,N=m.d,V=m.e,B=m.f,G=f.viewPosition.z,Q=f.hideCCW,H=d.roundPixels,K=d.alpha*f.alpha,tt=0,at=0;at<p;at++){var lt=h[at];lt.isInView(d,Q,G,K,I,R,F,N,V,B,H)&&(u.shouldFlush(3)&&(u.flush(),v=u.setGameObject(f),T=u.vertexCount*u.currentShader.vertexComponentCount-1),T=lt.load(x,b,T,v,_),tt++,u.vertexCount+=3,u.currentBatch.count=u.vertexCount-u.currentBatch.start,M&&A.push(lt))}f.totalFrame+=tt,M&&M.call(f,f,A),g.pipelines.postBatch(f)}}},28103:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(95643),f=a(78023),d=a(39318),c=new y({Extends:g,Mixins:[C.AlphaSingle,C.BlendMode,C.Depth,C.GetBounds,C.Mask,C.Origin,C.Pipeline,C.PostPipeline,C.ScrollFactor,C.Texture,C.Transform,C.Visible,f],initialize:function(p,u,m,v,x,b,T,_,A,M,I){g.call(this,p,"NineSlice"),this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.tint=16777215,this.tintFill=!1;var R=p.textures.getFrame(v,x);this.is3Slice=!M&&!I,R&&R.scale9&&(this.is3Slice=R.is3Slice);for(var F=this.is3Slice?18:54,N=0;N<F;N++)this.vertices.push(new d);this.setPosition(u,m),this.setTexture(v,x),this.setSlices(b,T,_,A,M,I,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(h,p,u,m,v,x,b){void 0===u&&(u=10),void 0===m&&(m=10),void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=!1);var T=this.frame,_=!1;if(this.is3Slice&&b&&0!==v&&0!==x&&(_=!0),_)console.warn("Cannot change 9 slice to 3 slice");else{if(T&&T.scale9&&!b){var A=T.data.scale9Borders,M=A.x,I=A.y;u=M,m=T.width-A.w-M,v=I,x=T.height-A.h-I,void 0===h&&(h=T.width),void 0===p&&(p=T.height)}else void 0===h&&(h=256),void 0===p&&(p=256);this._width=h,this._height=p,this.leftWidth=u,this.rightWidth=m,this.topHeight=v,this.bottomHeight=x,this.is3Slice&&(this._height=p=T.height,this.topHeight=p,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var h=this.leftWidth,p=this.rightWidth,u=this.topHeight,m=this.bottomHeight,v=this.frame.width,x=this.frame.height;this.updateQuadUVs(0,0,0,h/v,u/x),this.updateQuadUVs(6,h/v,0,1-p/v,u/x),this.updateQuadUVs(12,1-p/v,0,1,u/x),this.is3Slice||(this.updateQuadUVs(18,0,u/x,h/v,1-m/x),this.updateQuadUVs(24,h/v,u/x,1-p/v,1-m/x),this.updateQuadUVs(30,1-p/v,u/x,1,1-m/x),this.updateQuadUVs(36,0,1-m/x,h/v,1),this.updateQuadUVs(42,h/v,1-m/x,1-p/v,1),this.updateQuadUVs(48,1-p/v,1-m/x,1,1))},updateVertices:function(){var h=this.leftWidth,p=this.rightWidth,u=this.topHeight,m=this.bottomHeight,v=this.width,x=this.height;this.updateQuad(0,-.5,.5,h/v-.5,.5-u/x),this.updateQuad(6,h/v-.5,.5,.5-p/v,.5-u/x),this.updateQuad(12,.5-p/v,.5,.5,.5-u/x),this.is3Slice||(this.updateQuad(18,-.5,.5-u/x,h/v-.5,m/x-.5),this.updateQuad(24,h/v-.5,.5-u/x,.5-p/v,m/x-.5),this.updateQuad(30,.5-p/v,.5-u/x,.5,m/x-.5),this.updateQuad(36,-.5,m/x-.5,h/v-.5,-.5),this.updateQuad(42,h/v-.5,m/x-.5,.5-p/v,-.5),this.updateQuad(48,.5-p/v,m/x-.5,.5,-.5))},updateQuad:function(h,p,u,m,v){var x=this.width,b=this.height,T=this.originX,_=this.originY,A=this.vertices;A[h+0].resize(p,u,x,b,T,_),A[h+1].resize(p,v,x,b,T,_),A[h+2].resize(m,u,x,b,T,_),A[h+3].resize(p,v,x,b,T,_),A[h+4].resize(m,v,x,b,T,_),A[h+5].resize(m,u,x,b,T,_)},updateQuadUVs:function(h,p,u,m,v){var x=this.vertices,b=this.frame,T=b.u0,_=b.v0,A=b.u1,M=b.v1;if(0!==T||1!==A){var I=A-T;p=T+p*I,m=T+m*I}if(0!==_||1!==M){var R=M-_;u=_+u*R,v=_+v*R}x[h+0].setUVs(p,u),x[h+1].setUVs(p,v),x[h+2].setUVs(m,u),x[h+3].setUVs(p,v),x[h+4].setUVs(m,v),x[h+5].setUVs(m,u)},clearTint:function(){return this.setTint(16777215),this},setTint:function(h){return void 0===h&&(h=16777215),this.tint=h,this.tintFill=!1,this},setTintFill:function(h){return this.setTint(h),this.tintFill=!0,this},isTinted:{get:function(){return 16777215!==this.tint}},width:{get:function(){return this._width},set:function(h){this._width=Math.max(h,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(h){this.is3Slice||(this._height=Math.max(h,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,p){this.width=h,this.height=p,this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setDisplaySize:function(h,p){return this.displayWidth=h,this.displayHeight=p,this},originX:{get:function(){return this._originX},set:function(h){this._originX=h,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(h){this._originY=h,this.updateVertices()}},setOrigin:function(h,p){return void 0===h&&(h=.5),void 0===p&&(p=h),this._originX=h,this._originY=p,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var h=this.frame.height;this._height=h,this.topHeight=h,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});S.exports=c},28279:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(35154),d=a(28103);C.register("nineslice",function(c,h){void 0===c&&(c={});var p=g(c,"key",null),u=g(c,"frame",null),m=f(c,"width",256),v=f(c,"height",256),x=f(c,"leftWidth",10),b=f(c,"rightWidth",10),T=f(c,"topHeight",0),_=f(c,"bottomHeight",0),A=new d(this.scene,0,0,p,u,m,v,x,b,T,_);return void 0!==h&&(c.add=h),y(this.scene,A,c),A})},47521:(S,P,a)=>{var y=a(28103);a(39429).register("nineslice",function(g,f,d,c,h,p,u,m,v,x){return this.displayList.add(new y(this.scene,g,f,d,c,h,p,u,m,v,x))})},78023:(S,P,a)=>{var C,g=a(29747);C=a(52230),S.exports={renderWebGL:C,renderCanvas:g}},52230:(S,P,a)=>{var y=a(91296),C=a(70554);S.exports=function(f,d,c,h){var p=d.vertices,u=p.length;if(0!==u){c.addToRenderList(d);var m=f.pipelines.set(d.pipeline,d),v=y(d,c,h,!1).calc;f.pipelines.preBatch(d);var x=m.setGameObject(d),b=m.vertexViewF32,T=m.vertexViewU32,_=m.vertexCount*m.currentShader.vertexComponentCount-1,A=c.roundPixels,M=d.tintFill,R=C.getTintAppendFloatAlpha(d.tint,c.alpha*d.alpha),F=m.vertexAvailable(),N=-1;F<u&&(N=F);for(var V=0;V<u;V++){var B=p[V];V===N&&(m.flush(),x=m.setGameObject(d),_=0),b[++_]=v.getXRound(B.vx,B.vy,A),b[++_]=v.getYRound(B.vx,B.vy,A),b[++_]=B.u,b[++_]=B.v,b[++_]=x,b[++_]=M,T[++_]=R,m.vertexCount++,m.currentBatch.count=m.vertexCount-m.currentBatch.start}f.pipelines.postBatch(d)}}},76472:(S,P,a)=>{var y=a(83419),C=a(44777),g=a(37589),f=a(6113),d=a(91389),c=a(90664),h=new y({Extends:C,initialize:function(u){C.call(this,u,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return null===this.propertyValue?0:9},setMethods:function(){var p=this.propertyValue,u=p,m=this.defaultEmit,v=this.defaultUpdate;if(9===this.method){this.start=p[0],this.ease=f("Linear"),this.interpolation=d("linear"),m=this.easedValueEmit,v=this.easeValueUpdate,u=p[0],this.active=!0;for(var x=0;x<p.length;x++){var b=c(p[x]);this.r.push(b.r),this.g.push(b.g),this.b.push(b.b)}}return this.onEmit=m,this.onUpdate=v,this.current=u,this},setEase:function(p){this.easeName=p,this.ease=f(p)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(p,u,m){var v=this.ease(m),x=this.interpolation(this.r,v),b=this.interpolation(this.g,v),T=this.interpolation(this.b,v),_=g(x,b,T);return this.current=_,_}});S.exports=h},44777:(S,P,a)=>{var y=a(30976),C=a(45319),g=a(83419),f=a(99472),d=a(6113),c=a(95540),h=a(91389),p=a(77720),u=a(15994),m=new g({initialize:function(x,b,T){void 0===T&&(T=!1),this.propertyKey=x,this.propertyValue=b,this.defaultValue=b,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=T,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0},loadConfig:function(v,x){void 0===v&&(v={}),x&&(this.propertyKey=x),this.propertyValue=c(v,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(v){var x;switch(this.method){case 1:case 3:case 8:x=v;break;case 2:this.propertyValue.indexOf(v)>=0&&(x=v);break;case 4:x=p(v,(this.end-this.start)/this.steps),this.counter=x;break;case 5:case 6:case 7:x=C(v,this.start,this.end);break;case 9:x=this.start[0]}return this.current=x,this},getMethod:function(){var v=this.propertyValue;if(null===v)return 0;var x=typeof v;if("number"===x)return 1;if(Array.isArray(v))return 2;if("function"===x)return 3;if("object"===x){if(this.hasBoth(v,"start","end"))return this.has(v,"steps")?4:5;if(this.hasBoth(v,"min","max"))return 6;if(this.has(v,"random"))return 7;if(this.hasEither(v,"onEmit","onUpdate"))return 8;if(this.hasEither(v,"values","interpolation"))return 9}return 0},setMethods:function(){var v=this.propertyValue,x=v,b=this.defaultEmit,T=this.defaultUpdate;switch(this.method){case 1:b=this.staticValueEmit;break;case 2:b=this.randomStaticValueEmit,x=v[0];break;case 3:this._onEmit=v,b=this.proxyEmit;break;case 4:this.start=v.start,this.end=v.end,this.steps=v.steps,this.counter=this.start,this.yoyo=!!this.has(v,"yoyo")&&v.yoyo,this.direction=0,b=this.steppedEmit,x=this.start;break;case 5:this.start=v.start,this.end=v.end;var _=this.has(v,"ease")?v.ease:"Linear";this.ease=d(_,v.easeParams),b=this.has(v,"random")&&v.random?this.randomRangedValueEmit:this.easedValueEmit,T=this.easeValueUpdate,x=this.start;break;case 6:this.start=v.min,this.end=v.max,b=this.has(v,"int")&&v.int?this.randomRangedIntEmit:this.randomRangedValueEmit,x=this.start;break;case 7:var A=v.random;Array.isArray(A)&&(this.start=A[0],this.end=A[1]),b=this.randomRangedIntEmit,x=this.start;break;case 8:this._onEmit=this.has(v,"onEmit")?v.onEmit:this.defaultEmit,this._onUpdate=this.has(v,"onUpdate")?v.onUpdate:this.defaultUpdate,b=this.proxyEmit,T=this.proxyUpdate;break;case 9:this.start=v.values;var M=this.has(v,"ease")?v.ease:"Linear";this.ease=d(M,v.easeParams),this.interpolation=h(v.interpolation),b=this.easedValueEmit,T=this.easeValueUpdate,x=this.start[0]}return this.onEmit=b,this.onUpdate=T,this.current=x,this},has:function(v,x){return v.hasOwnProperty(x)},hasBoth:function(v,x,b){return v.hasOwnProperty(x)&&v.hasOwnProperty(b)},hasEither:function(v,x,b){return v.hasOwnProperty(x)||v.hasOwnProperty(b)},defaultEmit:function(v,x,b){return b},defaultUpdate:function(v,x,b,T){return T},proxyEmit:function(v,x,b){var T=this._onEmit(v,x,b);return this.current=T,T},proxyUpdate:function(v,x,b,T){var _=this._onUpdate(v,x,b,T);return this.current=_,_},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var v=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[v],this.current},randomRangedValueEmit:function(v,x){var b=f(this.start,this.end);return v&&v.data[x]&&(v.data[x].min=b,v.data[x].max=this.end),this.current=b,b},randomRangedIntEmit:function(v,x){var b=y(this.start,this.end);return v&&v.data[x]&&(v.data[x].min=b,v.data[x].max=this.end),this.current=b,b},steppedEmit:function(){var v=this.counter,x=v,b=(this.end-this.start)/this.steps;return this.yoyo?(0===this.direction?(x+=b)>=this.end&&(x=this.end-(x-this.end),this.direction=1):(x-=b)<=this.start&&(x=this.start+(this.start-x),this.direction=0),this.counter=x):this.counter=u(x+b,this.start,this.end),this.current=v,v},easedValueEmit:function(v,x){if(v&&v.data[x]){var b=v.data[x];b.min=this.start,b.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(v,x,b){var _,T=v.data[x],A=this.ease(b);return _=this.interpolation?this.interpolation(this.start,A):(T.max-T.min)*A+T.min,this.current=_,_},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});S.exports=m},24502:(S,P,a)=>{var y=a(83419),C=a(95540),g=a(20286),f=new y({Extends:g,initialize:function(c,h,p,u,m){if("object"==typeof c){var v=c;c=C(v,"x",0),h=C(v,"y",0),p=C(v,"power",0),u=C(v,"epsilon",100),m=C(v,"gravity",50)}else void 0===c&&(c=0),void 0===h&&(h=0),void 0===p&&(p=0),void 0===u&&(u=100),void 0===m&&(m=50);g.call(this,c,h,!0),this._gravity=m,this._power=p*m,this._epsilon=u*u},update:function(d,c){var h=this.x-d.x,p=this.y-d.y,u=h*h+p*p;if(0!==u){var m=Math.sqrt(u);u<this._epsilon&&(u=this._epsilon);var v=this._power*c/(u*m)*100;d.velocityX+=h*v,d.velocityY+=p*v}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(d){this._epsilon=d*d}},power:{get:function(){return this._power/this._gravity},set:function(d){this._power=d*this._gravity}},gravity:{get:function(){return this._gravity},set:function(d){var c=this.power;this._gravity=d,this.power=c}}});S.exports=f},56480:(S,P,a)=>{var y=a(9674),C=a(45319),g=a(83419),f=a(39506),d=a(87841),c=a(11520),h=a(26099),p=new g({initialize:function(m){this.emitter=m,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new h,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=m.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new y(this)),this.bounds=new d},emit:function(u,m,v,x,b,T){return this.emitter.emit(u,m,v,x,b,T)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(u,m){void 0===u&&(u=0),void 0===m&&(m=0),this.x=u,this.y=m},fire:function(u,m){var v=this.emitter,x=v.ops,b=v.getAnim();if(b?this.anims.play(b):(this.frame=v.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(v.getEmitZone(this),this.x+=void 0===u?x.x.onEmit(this,"x"):x.x.steps>0?u+x.x.onEmit(this,"x"):u,this.y+=void 0===m?x.y.onEmit(this,"y"):x.y.steps>0?m+x.y.onEmit(this,"y"):m,this.life=x.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=x.delay.onEmit(this,"delay"),this.holdCurrent=x.hold.onEmit(this,"hold"),this.scaleX=x.scaleX.onEmit(this,"scaleX"),this.scaleY=x.scaleY.active?x.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=x.rotate.onEmit(this,"rotate"),this.rotation=f(this.angle),v.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),0===this.delayCurrent&&v.getDeathZone(this))return this.lifeCurrent=0,!1;var T=x.speedX.onEmit(this,"speedX"),_=x.speedY.active?x.speedY.onEmit(this,"speedY"):T;if(v.radial){var A=f(x.angle.onEmit(this,"angle"));this.velocityX=Math.cos(A)*Math.abs(T),this.velocityY=Math.sin(A)*Math.abs(_)}else if(v.moveTo){var M=x.moveToX.onEmit(this,"moveToX"),I=x.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(M-this.x)/R,this.velocityY=(I-this.y)/R}else this.velocityX=T,this.velocityY=_;return v.acceleration&&(this.accelerationX=x.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=x.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=x.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=x.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=x.bounce.onEmit(this,"bounce"),this.alpha=x.alpha.onEmit(this,"alpha"),this.tint=x.color.active?x.color.onEmit(this,"tint"):x.tint.onEmit(this,"tint"),!0},update:function(u,m,v){if(this.lifeCurrent<=0)return!(this.holdCurrent>0)||(this.holdCurrent-=u,this.holdCurrent<=0);if(this.delayCurrent>0)return this.delayCurrent-=u,!1;this.anims&&this.anims.update(0,u);var x=this.emitter,b=x.ops,T=1-this.lifeCurrent/this.life;if(this.lifeT=T,this.x=b.x.onUpdate(this,"x",T,this.x),this.y=b.y.onUpdate(this,"y",T,this.y),x.moveTo){var _=b.moveToX.onUpdate(this,"moveToX",T,x.moveToX),A=b.moveToY.onUpdate(this,"moveToY",T,x.moveToY),M=this.lifeCurrent/1e3;this.velocityX=(_-this.x)/M,this.velocityY=(A-this.y)/M}return this.computeVelocity(x,u,m,v,T),this.scaleX=b.scaleX.onUpdate(this,"scaleX",T,this.scaleX),this.scaleY=b.scaleY.active?b.scaleY.onUpdate(this,"scaleY",T,this.scaleY):this.scaleX,this.angle=b.rotate.onUpdate(this,"rotate",T,this.angle),this.rotation=f(this.angle),x.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=C(b.alpha.onUpdate(this,"alpha",T,this.alpha),0,1),this.tint=b.color.active?b.color.onUpdate(this,"color",T,this.tint):b.tint.onUpdate(this,"tint",T,this.tint),this.lifeCurrent-=u,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(u,m,v,x,b){var T=u.ops,_=this.velocityX,A=this.velocityY,M=T.accelerationX.onUpdate(this,"accelerationX",b,this.accelerationX),I=T.accelerationY.onUpdate(this,"accelerationY",b,this.accelerationY),R=T.maxVelocityX.onUpdate(this,"maxVelocityX",b,this.maxVelocityX),F=T.maxVelocityY.onUpdate(this,"maxVelocityY",b,this.maxVelocityY);this.bounce=T.bounce.onUpdate(this,"bounce",b,this.bounce),A+=u.gravityY*v+I*v,_=C(_+=u.gravityX*v+M*v,-R,R),A=C(A,-F,F),this.velocityX=_,this.velocityY=A,this.x+=_*v,this.y+=A*v,u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var N=0;N<x.length;N++){var V=x[N];V.active&&V.update(this,m,v,b)}},setSizeToFrame:function(){},getBounds:function(u){void 0===u&&(u=this.emitter.getWorldTransformMatrix());var m=Math.abs(u.scaleX)*this.scaleX,v=Math.abs(u.scaleY)*this.scaleY,x=this.x,b=this.y,T=this.rotation,_=this.frame.width*m/2,A=this.frame.height*v/2,M=this.bounds,I=new h(x-_,b-A),R=new h(x+_,b-A),F=new h(x-_,b+A),N=new h(x+_,b+A);return 0!==T&&(c(I,x,b,T),c(R,x,b,T),c(F,x,b,T),c(N,x,b,T)),u.transformPoint(I.x,I.y,I),u.transformPoint(R.x,R.y,R),u.transformPoint(F.x,F.y,F),u.transformPoint(N.x,N.y,N),M.x=Math.min(I.x,R.x,F.x,N.x),M.y=Math.min(I.y,R.y,F.y,N.y),M.width=Math.max(I.x,R.x,F.x,N.x)-M.x,M.height=Math.max(I.y,R.y,F.y,N.y)-M.y,M},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});S.exports=p},69601:(S,P,a)=>{var y=a(83419),C=a(20286),g=a(87841),f=new y({Extends:C,initialize:function(c,h,p,u,m,v,x,b){void 0===m&&(m=!0),void 0===v&&(v=!0),void 0===x&&(x=!0),void 0===b&&(b=!0),C.call(this,c,h,!0),this.bounds=new g(c,h,p,u),this.collideLeft=m,this.collideRight=v,this.collideTop=x,this.collideBottom=b},update:function(d){var c=this.bounds,h=-d.bounce,p=d.worldPosition;p.x<c.x&&this.collideLeft?(d.x+=c.x-p.x,d.velocityX*=h):p.x>c.right&&this.collideRight&&(d.x-=p.x-c.right,d.velocityX*=h),p.y<c.y&&this.collideTop?(d.y+=c.y-p.y,d.velocityY*=h):p.y>c.bottom&&this.collideBottom&&(d.y-=p.y-c.bottom,d.velocityY*=h)}});S.exports=f},31600:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(53774),f=a(43459),d=a(26388),c=a(19909),h=a(76472),p=a(44777),u=a(20696),m=a(95643),v=a(95540),x=a(26546),b=a(24502),T=a(1985),_=a(97022),A=a(86091),M=a(73162),I=a(20074),R=a(269),F=a(56480),N=a(69601),V=a(68875),B=a(87841),G=a(59996),Q=a(72905),H=a(90668),K=a(19186),tt=a(61340),at=a(26099),lt=a(15994),q=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],it=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Y=new y({Extends:m,Mixins:[C.AlphaSingle,C.BlendMode,C.Depth,C.Mask,C.Pipeline,C.PostPipeline,C.ScrollFactor,C.Texture,C.Transform,C.Visible,H],initialize:function(nt,dt,gt,bt,Et){m.call(this,nt,"ParticleEmitter"),this.particleClass=F,this.config=null,this.ops={accelerationX:new p("accelerationX",0),accelerationY:new p("accelerationY",0),alpha:new p("alpha",1),angle:new p("angle",{min:0,max:360},!0),bounce:new p("bounce",0),color:new h("color"),delay:new p("delay",0,!0),hold:new p("hold",0,!0),lifespan:new p("lifespan",1e3,!0),maxVelocityX:new p("maxVelocityX",1e4),maxVelocityY:new p("maxVelocityY",1e4),moveToX:new p("moveToX",0),moveToY:new p("moveToY",0),quantity:new p("quantity",1,!0),rotate:new p("rotate",0),scaleX:new p("scaleX",1),scaleY:new p("scaleY",1),speedX:new p("speedX",0,!0),speedY:new p("speedY",0,!0),tint:new p("tint",16777215),x:new p("x",0),y:new p("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new at,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new tt,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new M(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(dt,gt),this.setTexture(bt),Et&&this.setConfig(Et)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(X){if(!X)return this;this.config=X;var nt=0,dt="",gt=this.ops;for(nt=0;nt<it.length;nt++)gt[dt=it[nt]].loadConfig(X);for(nt=0;nt<q.length;nt++)_(X,dt=q[nt])&&(this[dt]=v(X,dt));if(this.acceleration=0!==this.accelerationX||0!==this.accelerationY,this.moveTo=0!==this.moveToX&&0!==this.moveToY,_(X,"speed")&&(gt.speedX.loadConfig(X,"speed"),gt.speedY.active=!1),(T(X,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),_(X,"scale")&&(gt.scaleX.loadConfig(X,"scale"),gt.scaleY.active=!1),_(X,"callbackScope")){var bt=v(X,"callbackScope",null);this.emitCallbackScope=bt,this.deathCallbackScope=bt}if(_(X,"emitZone")&&this.addEmitZone(X.emitZone),_(X,"deathZone")&&this.addDeathZone(X.deathZone),_(X,"bounds")){var Et=this.addParticleBounds(X.bounds);Et.collideLeft=v(X,"collideLeft",!0),Et.collideRight=v(X,"collideRight",!0),Et.collideTop=v(X,"collideTop",!0),Et.collideBottom=v(X,"collideBottom",!0)}return _(X,"followOffset")&&this.followOffset.setFromObject(v(X,"followOffset",0)),_(X,"texture")&&this.setTexture(X.texture),_(X,"frame")?this.setEmitterFrame(X.frame):_(X,"anim")&&this.setAnim(X.anim),_(X,"reserve")&&this.reserve(X.reserve),_(X,"advance")&&this.fastForward(X.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(u.START,this),this},updateConfig:function(X){return X&&this.setConfig(this.config?R(this.config,X):X),this},toJSON:function(){var X=g(this),nt=0,dt="";for(nt=0;nt<q.length;nt++)X[dt=q[nt]]=this[dt];var gt=this.ops;for(nt=0;nt<it.length;nt++)gt[dt=it[nt]]&&(X[dt]=gt[dt].toJSON());return gt.speedY.active||(delete X.speedX,X.speed=gt.speedX.toJSON()),this.scaleX===this.scaleY&&(delete X.scaleX,delete X.scaleY,X.scale=gt.scaleX.toJSON()),X},resetCounters:function(X,nt){var dt=this.counters;dt.fill(0),dt[0]=X,nt&&(dt[5]=1)},startFollow:function(X,nt,dt,gt){return void 0===nt&&(nt=0),void 0===dt&&(dt=0),void 0===gt&&(gt=!1),this.follow=X,this.followOffset.set(nt,dt),this.trackVisible=gt,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var dt,X=this.frames,nt=X.length;return 1===nt?dt=X[0]:this.randomFrame?dt=x(X):(dt=X[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===nt&&(this.currentFrame=0))),this.texture.get(dt)},setEmitterFrame:function(X,nt,dt){void 0===nt&&(nt=!0),void 0===dt&&(dt=1),this.randomFrame=nt,this.frameQuantity=dt,this.currentFrame=0;var gt=typeof X;if(this.frames.length=0,Array.isArray(X))this.frames=this.frames.concat(X);else if("string"===gt||"number"===gt)this.frames.push(X);else if("object"===gt){var bt=X;(X=v(bt,"frames",null))&&(this.frames=this.frames.concat(X));var Et=v(bt,"cycle",!1);this.randomFrame=!Et,this.frameQuantity=v(bt,"quantity",dt)}return 1===this.frames.length&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var X=this.anims,nt=X.length;if(0===nt)return null;if(1===nt)return X[0];if(this.randomAnim)return x(X);var dt=X[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=lt(this.currentAnim+1,0,nt)),dt},setAnim:function(X,nt,dt){void 0===nt&&(nt=!0),void 0===dt&&(dt=1),this.randomAnim=nt,this.animQuantity=dt,this.currentAnim=0;var gt=typeof X;if(this.anims.length=0,Array.isArray(X))this.anims=this.anims.concat(X);else if("string"===gt)this.anims.push(X);else if("object"===gt){var bt=X;(X=v(bt,"anims",null))&&(this.anims=this.anims.concat(X));var Et=v(bt,"cycle",!1);this.randomAnim=!Et,this.animQuantity=v(bt,"quantity",dt)}return 1===this.anims.length&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(X){return void 0===X&&(X=!0),this.radial=X,this},addParticleBounds:function(X,nt,dt,gt,bt,Et,Bt,Kt){if("object"==typeof X){var Zt=X;X=Zt.x,nt=Zt.y,dt=_(Zt,"w")?Zt.w:Zt.width,gt=_(Zt,"h")?Zt.h:Zt.height}return this.addParticleProcessor(new N(X,nt,dt,gt,bt,Et,Bt,Kt))},setParticleSpeed:function(X,nt){return void 0===nt&&(nt=X),this.ops.speedX.onChange(X),X===nt?this.ops.speedY.active=!1:this.ops.speedY.onChange(nt),this.radial=!0,this},setParticleScale:function(X,nt){return void 0===X&&(X=1),void 0===nt&&(nt=X),this.ops.scaleX.onChange(X),this.ops.scaleY.onChange(nt),this},setParticleGravity:function(X,nt){return this.gravityX=X,this.gravityY=nt,this},setParticleAlpha:function(X){return this.ops.alpha.onChange(X),this},setParticleTint:function(X){return this.ops.tint.onChange(X),this},setEmitterAngle:function(X){return this.ops.angle.onChange(X),this},setParticleLifespan:function(X){return this.ops.lifespan.onChange(X),this},setQuantity:function(X){return this.quantity=X,this},setFrequency:function(X,nt){return this.frequency=X,this.flowCounter=X>0?X:0,nt&&(this.quantity=nt),this},addDeathZone:function(X){Array.isArray(X)||(X=[X]);for(var nt,dt=[],gt=0;gt<X.length;gt++)if((nt=X[gt])instanceof d)dt.push(nt);else if("function"==typeof nt.contains)nt=new d(nt,!0),dt.push(nt);else{var bt=v(nt,"type","onEnter"),Et=v(nt,"source",null);Et&&"function"==typeof Et.contains&&(nt=new d(Et,"onEnter"===bt),dt.push(nt))}return this.deathZones=this.deathZones.concat(dt),dt},removeDeathZone:function(X){return Q(this.deathZones,X),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(X){Array.isArray(X)||(X=[X]);for(var nt,dt=[],gt=0;gt<X.length;gt++)if((nt=X[gt])instanceof V||nt instanceof c)dt.push(nt);else{var bt=v(nt,"source",null);if(bt){var Et=v(nt,"type","random");if("random"===Et&&"function"==typeof bt.getRandomPoint)nt=new V(bt),dt.push(nt);else if("edge"===Et&&"function"==typeof bt.getPoints){var Bt=v(nt,"quantity",1),Kt=v(nt,"stepRate",0),Zt=v(nt,"yoyo",!1),ne=v(nt,"seamless",!0),ae=v(nt,"total",-1);nt=new c(bt,Bt,Kt,Zt,ne,ae),dt.push(nt)}}}return this.emitZones=this.emitZones.concat(dt),dt},removeEmitZone:function(X){return Q(this.emitZones,X),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(X){var nt=this.emitZones,dt=nt.length;if(0!==dt){var gt=nt[this.zoneIndex];gt.getPoint(X),gt.total>-1&&(this.zoneTotal++,this.zoneTotal===gt.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===dt&&(this.zoneIndex=0)))}},getDeathZone:function(X){for(var nt=this.deathZones,dt=0;dt<nt.length;dt++){var gt=nt[dt];if(gt.willKill(X))return this.emit(u.DEATH_ZONE,this,X,gt),!0}return!1},setEmitZone:function(X){var nt;return(nt=isFinite(X)?X:this.emitZones.indexOf(X))>=0&&(this.zoneIndex=nt),this},addParticleProcessor:function(X){return this.processors.exists(X)||(X.emitter&&X.emitter.removeParticleProcessor(X),this.processors.add(X),X.emitter=this),X},removeParticleProcessor:function(X){return this.processors.exists(X)&&(this.processors.remove(X,!0),X.emitter=null),X},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(X){return this.addParticleProcessor(new b(X))},reserve:function(X){var nt=this.dead;if(this.maxParticles>0){var dt=this.getParticleCount();dt+X>this.maxParticles&&(X=this.maxParticles-(dt+X))}for(var gt=0;gt<X;gt++)nt.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles||this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(X,nt){return void 0===X?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof X&&(this.emitCallback=X,nt&&(this.emitCallbackScope=nt)),this},onParticleDeath:function(X,nt){return void 0===X?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof X&&(this.deathCallback=X,nt&&(this.deathCallbackScope=nt)),this},killAll:function(){for(var X=this.dead,nt=this.alive;nt.length>0;)X.push(nt.pop());return this},forEachAlive:function(X,nt){for(var dt=this.alive,gt=dt.length,bt=0;bt<gt;bt++)X.call(nt,dt[bt],this);return this},forEachDead:function(X,nt){for(var dt=this.dead,gt=dt.length,bt=0;bt<gt;bt++)X.call(nt,dt[bt],this);return this},start:function(X,nt){return void 0===X&&(X=0),this.emitting||(X>0&&this.fastForward(X),this.emitting=!0,this.resetCounters(this.frequency,!0),void 0!==nt&&(this.duration=Math.abs(nt)),this.emit(u.START,this)),this},stop:function(X){return void 0===X&&(X=!1),this.emitting&&(this.emitting=!1,X&&this.killAll(),this.emit(u.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(X,nt){return void 0===X&&(X=""),void 0===nt&&(nt=this.true),this.sortProperty=X,this.sortOrderAsc=nt,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(X){return this.sortCallback=""!==this.sortProperty?this.depthSortCallback:null,this},depthSort:function(){return K(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(X,nt){var dt=this.sortProperty;return this.sortOrderAsc?X[dt]-nt[dt]:nt[dt]-X[dt]},flow:function(X,nt,dt){return void 0===nt&&(nt=1),this.emitting=!1,this.frequency=X,this.quantity=nt,void 0!==dt&&(this.stopAfter=dt),this.start()},explode:function(X,nt,dt){this.frequency=-1,this.resetCounters(-1,!0);var gt=this.emitParticle(X,nt,dt);return this.emit(u.EXPLODE,this,gt),gt},emitParticleAt:function(X,nt,dt){return this.emitParticle(dt,X,nt)},emitParticle:function(X,nt,dt){if(!this.atLimit()){void 0===X&&(X=this.ops.quantity.onEmit());for(var gt=this.dead,bt=this.stopAfter,Et=this.follow?this.follow.x+this.followOffset.x:nt,Bt=this.follow?this.follow.y+this.followOffset.y:dt,Kt=0;Kt<X;Kt++){var Zt=gt.pop();if(Zt||(Zt=new this.particleClass(this)),Zt.fire(Et,Bt)?(this.particleBringToTop?this.alive.push(Zt):this.alive.unshift(Zt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Zt,this)):this.dead.push(Zt),bt>0&&(this.stopCounter++,this.stopCounter>=bt)||this.atLimit())break}return Zt}},fastForward:function(X,nt){void 0===nt&&(nt=1e3/60);var dt=0;for(this.skipping=!0;dt<Math.abs(X);)this.preUpdate(0,nt),dt+=nt;return this.skipping=!1,this},preUpdate:function(X,nt){var dt=(nt*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var gt=this.getProcessors(),bt=this.alive,Et=this.dead,Bt=0,Kt=[],Zt=bt.length;for(Bt=0;Bt<Zt;Bt++){var ne=bt[Bt];ne.update(nt,dt,gt)&&Kt.push({index:Bt,particle:ne})}if((Zt=Kt.length)>0){var ae=this.deathCallback,fe=this.deathCallbackScope;for(Bt=Zt-1;Bt>=0;Bt--){var ke=Kt[Bt];bt.splice(ke.index,1),Et.push(ke.particle),ae&&ae.call(fe,ke.particle),ke.particle.setPosition()}}if(this.emitting||this.skipping){if(0===this.frequency)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=nt;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=nt,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())}else 1===this.completeFlag&&0===bt.length&&(this.completeFlag=0,this.emit(u.COMPLETE,this))},overlap:function(X){for(var nt=this.getWorldTransformMatrix(),dt=this.alive,gt=dt.length,bt=[],Et=0;Et<gt;Et++){var Bt=dt[Et];G(X,Bt.getBounds(nt))&&bt.push(Bt)}return bt},getBounds:function(X,nt,dt,gt){void 0===X&&(X=0),void 0===nt&&(nt=0),void 0===dt&&(dt=1e3/60),void 0===gt&&(gt=new B);var Et,Bt,bt=this.getWorldTransformMatrix(),Kt=this.alive,Zt=!1;if(gt.setTo(0,0,0,0),nt>0){var ne=0;for(this.skipping=!0;ne<Math.abs(nt);){for(this.preUpdate(0,dt),Et=0;Et<Kt.length;Et++)Bt=Kt[Et].getBounds(bt),Zt?I(gt,Bt):(Zt=!0,f(Bt,gt));ne+=dt}this.skipping=!1}else for(Et=0;Et<Kt.length;Et++)Bt=Kt[Et].getBounds(bt),Zt?I(gt,Bt):(Zt=!0,f(Bt,gt));return X>0&&A(gt,X,X),gt},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(X){this.ops.x.onChange(X)}},particleY:{get:function(){return this.ops.y.current},set:function(X){this.ops.y.onChange(X)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(X){this.ops.accelerationX.onChange(X)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(X){this.ops.accelerationY.onChange(X)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(X){this.ops.maxVelocityX.onChange(X)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(X){this.ops.maxVelocityY.onChange(X)}},speed:{get:function(){return this.ops.speedX.current},set:function(X){this.ops.speedX.onChange(X),this.ops.speedY.onChange(X)}},speedX:{get:function(){return this.ops.speedX.current},set:function(X){this.ops.speedX.onChange(X)}},speedY:{get:function(){return this.ops.speedY.current},set:function(X){this.ops.speedY.onChange(X)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(X){this.ops.moveToX.onChange(X)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(X){this.ops.moveToY.onChange(X)}},bounce:{get:function(){return this.ops.bounce.current},set:function(X){this.ops.bounce.onChange(X)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(X){this.ops.scaleX.onChange(X)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(X){this.ops.scaleY.onChange(X)}},particleColor:{get:function(){return this.ops.color.current},set:function(X){this.ops.color.onChange(X)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(X){this.ops.color.setEase(X)}},particleTint:{get:function(){return this.ops.tint.current},set:function(X){this.ops.tint.onChange(X)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(X){this.ops.alpha.onChange(X)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(X){this.ops.lifespan.onChange(X)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(X){this.ops.angle.onChange(X)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(X){this.ops.rotate.onChange(X)}},quantity:{get:function(){return this.ops.quantity.current},set:function(X){this.ops.quantity.onChange(X)}},delay:{get:function(){return this.ops.delay.current},set:function(X){this.ops.delay.onChange(X)}},hold:{get:function(){return this.ops.hold.current},set:function(X){this.ops.hold.onChange(X)}},flowCounter:{get:function(){return this.counters[0]},set:function(X){this.counters[0]=X}},frameCounter:{get:function(){return this.counters[1]},set:function(X){this.counters[1]=X}},animCounter:{get:function(){return this.counters[2]},set:function(X){this.counters[2]=X}},elapsed:{get:function(){return this.counters[3]},set:function(X){this.counters[3]=X}},stopCounter:{get:function(){return this.counters[4]},set:function(X){this.counters[4]=X}},completeFlag:{get:function(){return this.counters[5]},set:function(X){this.counters[5]=X}},zoneIndex:{get:function(){return this.counters[6]},set:function(X){this.counters[6]=X}},zoneTotal:{get:function(){return this.counters[7]},set:function(X){this.counters[7]=X}},currentFrame:{get:function(){return this.counters[8]},set:function(X){this.counters[8]=X}},currentAnim:{get:function(){return this.counters[9]},set:function(X){this.counters[9]=X}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var X,nt=this.ops;for(X=0;X<it.length;X++)nt[it[X]].destroy();for(X=0;X<this.alive.length;X++)this.alive[X].destroy();for(X=0;X<this.dead.length;X++)this.dead[X].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});S.exports=Y},9871:(S,P,a)=>{var y=a(59996),C=a(61340),g=new C,f=new C,d=new C,c=new C;S.exports=function(p,u,m,v){var x=g,b=f,T=d,_=c;v?(_.loadIdentity(),_.multiply(v),_.translate(u.x,u.y),_.rotate(u.rotation),_.scale(u.scaleX,u.scaleY)):_.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var A=p.currentContext,M=m.roundPixels,I=m.alpha,R=u.alpha,F=u.alive,N=F.length,V=u.viewBounds;if(u.visible&&0!==N&&(!V||y(V,m.worldView))){u.sortCallback&&u.depthSort(),m.addToRenderList(u);var B=u.scrollFactorX,G=u.scrollFactorY;A.save(),A.globalCompositeOperation=p.blendModes[u.blendMode];for(var Q=0;Q<N;Q++){var H=F[Q],K=H.alpha*R*I;if(!(K<=0||0===H.scaleX||0===H.scaleY)){T.applyITRS(H.x,H.y,H.rotation,H.scaleX,H.scaleY),x.copyFrom(m.matrix),x.multiplyWithOffset(_,-m.scrollX*B,-m.scrollY*G),T.e=H.x,T.f=H.y,x.multiply(T,b);var tt=H.frame,at=tt.canvasData;if(at.width>0&&at.height>0){var lt=-tt.halfWidth,q=-tt.halfHeight;A.globalAlpha=K,A.save(),b.setToContext(A),M&&(lt=Math.round(lt),q=Math.round(q)),A.imageSmoothingEnabled=!tt.source.scaleMode,A.drawImage(tt.source.image,at.x,at.y,at.width,at.height,lt,q,at.width,at.height),A.restore()}}}A.restore()}}},92730:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(95540),d=a(31600);C.register("particles",function(c,h){void 0===c&&(c={});var p=g(c,"key",null),u=f(c,"config",null),m=new d(this.scene,0,0,p);return void 0!==h&&(c.add=h),y(this.scene,m,c),u&&m.setConfig(u),m})},676:(S,P,a)=>{var y=a(39429),C=a(31600);y.register("particles",function(g,f,d,c){return void 0!==g&&"string"==typeof g&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new C(this.scene,g,f,d,c))})},90668:(S,P,a)=>{var C,g;a(29747),C=a(21188),g=a(9871),S.exports={renderWebGL:C,renderCanvas:g}},21188:(S,P,a)=>{var y=a(59996),C=a(61340),g=a(70554),f=new C,d=new C,c=new C,h=new C;S.exports=function(u,m,v,x){var b=u.pipelines.set(m.pipeline),T=f,_=d,A=c,M=h;x?(M.loadIdentity(),M.multiply(x),M.translate(m.x,m.y),M.rotate(m.rotation),M.scale(m.scaleX,m.scaleY)):M.applyITRS(m.x,m.y,m.rotation,m.scaleX,m.scaleY);var I=g.getTintAppendFloatAlpha,R=v.alpha,F=m.alpha;u.pipelines.preBatch(m);var N=m.alive,V=N.length,B=m.viewBounds;if(0!==V&&(!B||y(B,v.worldView))){m.sortCallback&&m.depthSort(),v.addToRenderList(m),T.copyFrom(v.matrix),T.multiplyWithOffset(M,-v.scrollX*m.scrollFactorX,-v.scrollY*m.scrollFactorY),u.setBlendMode(m.blendMode),m.mask&&(m.mask.preRenderWebGL(u,m,v),u.pipelines.set(m.pipeline));for(var Q,H,G=m.tintFill,K=0;K<V;K++){var tt=N[K],at=tt.alpha*F*R;if(!(at<=0||0===tt.scaleX||0===tt.scaleY)){A.applyITRS(tt.x,tt.y,tt.rotation,tt.scaleX,tt.scaleY),A.e=tt.x,A.f=tt.y,T.multiply(A,_);var lt=tt.frame;lt.glTexture!==H&&(H=lt.glTexture,Q=b.setGameObject(m,lt));var q=-lt.halfWidth,it=-lt.halfHeight,Y=_.setQuad(q,it,q+lt.width,it+lt.height),X=I(tt.tint,at);b.shouldFlush(6)&&(b.flush(),Q=b.setGameObject(m,lt)),b.batchQuad(m,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],lt.u0,lt.v0,lt.u1,lt.v1,X,X,X,X,G,H,Q)}}m.mask&&m.mask.postRenderWebGL(u,v),u.pipelines.postBatch(m)}}},20286:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c){void 0===f&&(f=0),void 0===d&&(d=0),void 0===c&&(c=!0),this.x=f,this.y=d,this.active=c},update:function(){},destroy:function(){this.emitter=null}});S.exports=C},9774:S=>{S.exports="complete"},812:S=>{S.exports="deathzone"},30522:S=>{S.exports="explode"},96695:S=>{S.exports="start"},18677:S=>{S.exports="stop"},20696:(S,P,a)=>{S.exports={COMPLETE:a(9774),DEATH_ZONE:a(812),EXPLODE:a(30522),START:a(96695),STOP:a(18677)}},18404:(S,P,a)=>{S.exports={EmitterColorOp:a(76472),EmitterOp:a(44777),Events:a(20696),GravityWell:a(24502),Particle:a(56480),ParticleBounds:a(69601),ParticleEmitter:a(31600),ParticleProcessor:a(20286),Zones:a(21024)}},26388:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d){this.source=f,this.killOnEnter=d},willKill:function(g){var f=this.source.contains(g.x,g.y);return f&&this.killOnEnter||!f&&!this.killOnEnter}});S.exports=C},19909:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c,h,p,u){void 0===h&&(h=!1),void 0===p&&(p=!0),void 0===u&&(u=-1),this.source=f,this.points=[],this.quantity=d,this.stepRate=c,this.yoyo=h,this.counter=-1,this.seamless=p,this._length=0,this._direction=0,this.total=u,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var g=this.points[0],f=this.points[this.points.length-1];g.x===f.x&&g.y===f.y&&this.points.pop()}var d=this._length;return this._length=this.points.length,this._length<d&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(g){return this.source=g,this.updateSource()},getPoint:function(g){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var f=this.points[this.counter];f&&(g.x=f.x,g.y=f.y)}});S.exports=C},68875:(S,P,a)=>{var y=a(83419),C=a(26099),g=new y({initialize:function(d){this.source=d,this._tempVec=new C,this.total=-1},getPoint:function(f){var d=this._tempVec;this.source.getRandomPoint(d),f.x=d.x,f.y=d.y}});S.exports=g},21024:(S,P,a)=>{S.exports={DeathZone:a(26388),EdgeZone:a(19909),RandomZone:a(68875)}},1159:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(68287),f=new y({Extends:g,Mixins:[C.PathFollower],initialize:function(c,h,p,u,m,v){g.call(this,c,p,u,m,v),this.path=h},preUpdate:function(d,c){this.anims.update(d,c),this.pathUpdate(d)}});S.exports=f},90145:(S,P,a)=>{var y=a(39429),C=a(1159);y.register("follower",function(g,f,d,c,h){var p=new C(this.scene,g,f,d,c,h);return this.displayList.add(p),this.updateList.add(p),p})},33663:(S,P,a)=>{var y=a(9674),C=a(83419),g=a(48803),f=a(90664),d=a(4703),c=a(45650),h=new C({Extends:d,initialize:function(u,m,v,x,b,T,_,A){x||(x="__DEFAULT"),d.call(this,u,m,v,x,b),this.type="Plane",this.anims=new y(this),this._checkerboard=null,this.hideCCW=!1,this.setGridSize(T,_,A),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return.5}},originY:{get:function(){return.5}},setGridSize:function(p,u,m){void 0===p&&(p=8),void 0===u&&(u=8),void 0===m&&(m=!1);var v=!1;return m&&(v=!0),this.gridWidth=p,this.gridHeight=u,this.isTiled=m,this.clear(),g({mesh:this,widthSegments:p,heightSegments:u,isOrtho:!1,tile:m,flipY:v}),this},setSizeToFrame:function(p){void 0===p&&(p=!0);var u=this.frame;if(this.setPerspective(this.width/u.width,this.height/u.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!p)return this;var M,I,m=this.gridWidth,v=this.gridHeight,x=this.vertices,b=u.u0,T=u.u1,_=u.v0,A=u.v1,R=0;if(this.isTiled)for(_=u.v1,A=u.v0,I=0;I<v;I++)for(M=0;M<m;M++)x[R++].setUVs(b,A),x[R++].setUVs(b,_),x[R++].setUVs(T,A),x[R++].setUVs(b,_),x[R++].setUVs(T,_),x[R++].setUVs(T,A);else{var F=m+1,N=v+1,V=T-b,B=A-_,G=[];for(I=0;I<N;I++)for(M=0;M<F;M++)G.push(b+V*(M/m),_+B*(I/v));for(I=0;I<v;I++)for(M=0;M<m;M++){var K=2*(M+F*I),tt=2*(M+F*(I+1)),at=2*(M+1+F*(I+1)),lt=2*(M+1+F*I);x[R++].setUVs(G[K],G[K+1]),x[R++].setUVs(G[tt],G[tt+1]),x[R++].setUVs(G[lt],G[lt+1]),x[R++].setUVs(G[tt],G[tt+1]),x[R++].setUVs(G[at],G[at+1]),x[R++].setUVs(G[lt],G[lt+1])}}return this},setViewHeight:function(p){void 0===p&&(p=this.frame.height);var u=this.fov*(Math.PI/180);this.viewPosition.z=this.height/p/Math.tan(u/2),this.dirtyCache[10]=1},createCheckerboard:function(p,u,m,v,x){void 0===p&&(p=16777215),void 0===u&&(u=255),void 0===m&&(m=255),void 0===v&&(v=255),void 0===x&&(x=128);for(var b=f(p),T=f(u),_=[],A=0;A<16;A++)for(var M=0;M<16;M++)A<8&&M<8||A>7&&M>7?_.push(b.r,b.g,b.b,m):_.push(T.r,T.g,T.b,v);var I=this.scene.sys.textures.addUint8Array(c(),new Uint8Array(_),16,16);return this.removeCheckerboard(),this.setTexture(I),this.setSizeToFrame(),this.setViewHeight(x),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(p,u){return this.anims.play(p,u)},playReverse:function(p,u){return this.anims.playReverse(p,u)},playAfterDelay:function(p,u){return this.anims.playAfterDelay(p,u)},playAfterRepeat:function(p,u){return this.anims.playAfterRepeat(p,u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(p){return this.anims.stopAfterDelay(p)},stopAfterRepeat:function(p){return this.anims.stopAfterRepeat(p)},stopOnFrame:function(p){return this.anims.stopOnFrame(p)},preUpdate:function(p,u){d.prototype.preUpdate.call(this,p,u),this.anims.update(p,u)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});S.exports=h},56015:(S,P,a)=>{var y=a(25305),C=a(13059),g=a(44603),f=a(23568),d=a(35154),c=a(33663);g.register("plane",function(h,p){void 0===h&&(h={});var u=f(h,"key",null),m=f(h,"frame",null),v=d(h,"width",8),x=d(h,"height",8),b=d(h,"tile",!1),T=new c(this.scene,0,0,u,m,v,x,b);void 0!==p&&(h.add=p);var _=d(h,"checkerboard",null);if(_){var A=d(_,"color1",16777215),M=d(_,"color2",255),I=d(_,"alpha1",255),R=d(_,"alpha2",255),F=d(_,"height",128);T.createCheckerboard(A,M,I,R,F)}return y(this.scene,T,h),C(T,h),T})},30985:(S,P,a)=>{var y=a(33663);a(39429).register("plane",function(g,f,d,c,h,p,u){return this.displayList.add(new y(this.scene,g,f,d,c,h,p,u))})},80321:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(95643),f=a(30100),d=a(36060),c=a(67277),h=new y({Extends:g,Mixins:[C.AlphaSingle,C.BlendMode,C.Depth,C.Mask,C.Pipeline,C.PostPipeline,C.ScrollFactor,C.Transform,C.Visible,c],initialize:function(u,m,v,x,b,T,_){void 0===x&&(x=16777215),void 0===b&&(b=128),void 0===T&&(T=1),void 0===_&&(_=.1),g.call(this,u,"PointLight"),this.initPipeline(d.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(m,v),this.color=f(x),this.intensity=T,this.attenuation=_,this.width=2*b,this.height=2*b,this._radius=b},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this.width=2*p,this.height=2*p}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});S.exports=h},39829:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(80321);C.register("pointlight",function(d,c){void 0===d&&(d={});var h=g(d,"color",16777215),p=g(d,"radius",128),u=g(d,"intensity",1),m=g(d,"attenuation",.1),v=new f(this.scene,0,0,h,p,u,m);return void 0!==c&&(d.add=c),y(this.scene,v,d),v})},71255:(S,P,a)=>{var y=a(39429),C=a(80321);y.register("pointlight",function(g,f,d,c,h,p){return this.displayList.add(new C(this.scene,g,f,d,c,h,p))})},67277:(S,P,a)=>{var C,g=a(29747);C=a(57787),S.exports={renderWebGL:C,renderCanvas:g}},57787:(S,P,a)=>{var y=a(91296);S.exports=function(g,f,d,c){d.addToRenderList(f);var h=g.pipelines.set(f.pipeline),p=y(f,d,c).calc,v=-f._radius,x=-f._radius,b=v+f.width,T=x+f.height,_=p.getX(0,0),A=p.getY(0,0),M=p.getX(v,x),I=p.getY(v,x),R=p.getX(v,T),F=p.getY(v,T),N=p.getX(b,T),V=p.getY(b,T),B=p.getX(b,x),G=p.getY(b,x);g.pipelines.preBatch(f),h.batchPointLight(f,d,M,I,R,F,N,V,B,G,_,A),g.pipelines.postBatch(f)}},591:(S,P,a)=>{var y=a(83419),C=a(81320),g=a(88571),f=new y({Extends:g,initialize:function(c,h,p,u,m){void 0===h&&(h=0),void 0===p&&(p=0),void 0===u&&(u=32),void 0===m&&(m=32);var v=new C(c.sys.textures,"",u,m);g.call(this,c,h,p,v),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(d,c){this.width=d,this.height=c,this.texture.setSize(d,c),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=d,h.hitArea.height=c),this},resize:function(d,c){return this.setSize(d,c),this},saveTexture:function(d){var c=this.texture;return c.key=d,c.manager.addDynamicTexture(c)&&(this._saved=!0),c},fill:function(d,c,h,p,u,m){return this.texture.fill(d,c,h,p,u,m),this},clear:function(){return this.texture.clear(),this},stamp:function(d,c,h,p,u){return this.texture.stamp(d,c,h,p,u),this},erase:function(d,c,h){return this.texture.erase(d,c,h),this},draw:function(d,c,h,p,u){return this.texture.draw(d,c,h,p,u),this},drawFrame:function(d,c,h,p,u,m){return this.texture.drawFrame(d,c,h,p,u,m),this},repeat:function(d,c,h,p,u,m,v,x,b){return this.texture.repeat(d,c,h,p,u,m,v,x,b),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(d,c,h,p,u){return this.texture.batchDraw(d,c,h,p,u),this},batchDrawFrame:function(d,c,h,p,u,m){return this.texture.batchDrawFrame(d,c,h,p,u,m),this},endDraw:function(d){return this.texture.endDraw(d),this},snapshotArea:function(d,c,h,p,u,m,v){return this.texture.snapshotArea(d,c,h,p,u,m,v),this},snapshot:function(d,c,h){return this.snapshotArea(0,0,this.width,this.height,d,c,h)},snapshotPixel:function(d,c,h){return this.snapshotArea(d,c,1,1,h,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});S.exports=f},34495:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(591);C.register("renderTexture",function(d,c){void 0===d&&(d={});var h=g(d,"x",0),p=g(d,"y",0),u=g(d,"width",32),m=g(d,"height",32),v=new f(this.scene,h,p,u,m);return void 0!==c&&(d.add=c),y(this.scene,v,d),v})},60505:(S,P,a)=>{var y=a(39429),C=a(591);y.register("renderTexture",function(g,f,d,c){return this.displayList.add(new C(this.scene,g,f,d,c))})},77757:(S,P,a)=>{var y=a(9674),C=a(83419),g=a(31401),f=a(95643),d=a(36060),c=a(38745),h=a(26099),p=new C({Extends:f,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Flip,g.Mask,g.Pipeline,g.PostPipeline,g.Size,g.Texture,g.Transform,g.Visible,g.ScrollFactor,c],initialize:function(m,v,x,b,T,_,A,M,I){void 0===b&&(b="__DEFAULT"),void 0===_&&(_=2),void 0===A&&(A=!0),f.call(this,m,"Rope"),this.anims=new y(this),this.points=_,this.tintFill="__DEFAULT"===b,this.dirty=!1,this.horizontal=A,this._flipX=!1,this._flipY=!1,this._perp=new h,this.debugCallback=null,this.debugGraphic=null,this.setTexture(b,T),this.setPosition(v,x),this.setSizeToFrame(),this.initPipeline(d.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(_)&&this.resizeArrays(_.length),this.setPoints(_,M,I),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,m){var v=this.anims.currentFrame;this.anims.update(u,m),this.anims.currentFrame!==v&&(this.updateUVs(),this.updateVertices())},play:function(u,m,v){return this.anims.play(u,m,v),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(u,m,v){return void 0===u&&(u=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(u,m,v))},setVertical:function(u,m,v){return void 0===u&&(u=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(u,m,v)):this},setTintFill:function(u){return void 0===u&&(u=!1),this.tintFill=u,this},setAlphas:function(u,m){var v=this.points.length;if(v<1)return this;var x=this.alphas;void 0===u?u=[1]:!Array.isArray(u)&&void 0===m&&(u=[u]);var b,T=0;if(void 0!==m)for(b=0;b<v;b++)x[T=2*b]=u,x[T+1]=m;else if(u.length===v)for(b=0;b<v;b++)x[T=2*b]=u[b],x[T+1]=u[b];else{var _=u[0];for(b=0;b<v;b++)u.length>(T=2*b)&&(_=u[T]),x[T]=_,u.length>T+1&&(_=u[T+1]),x[T+1]=_}return this},setColors:function(u){var m=this.points.length;if(m<1)return this;var v=this.colors;void 0===u?u=[16777215]:Array.isArray(u)||(u=[u]);var x,b=0;if(u.length===m)for(x=0;x<m;x++)v[b=2*x]=u[x],v[b+1]=u[x];else{var T=u[0];for(x=0;x<m;x++)u.length>(b=2*x)&&(T=u[b]),v[b]=T,u.length>b+1&&(T=u[b+1]),v[b+1]=T}return this},setPoints:function(u,m,v){if(void 0===u&&(u=2),"number"==typeof u){var b,T,_,x=u;if(x<2&&(x=2),u=[],this.horizontal)for(_=-this.frame.halfWidth,T=this.frame.width/(x-1),b=0;b<x;b++)u.push({x:_+b*T,y:0});else for(_=-this.frame.halfHeight,T=this.frame.height/(x-1),b=0;b<x;b++)u.push({x:0,y:_+b*T})}var A=u.length,M=this.points.length;return A<1?(console.warn("Rope: Not enough points given"),this):(1===A&&(u.unshift({x:0,y:0}),A++),M!==A&&this.resizeArrays(A),this.dirty=!0,this.points=u,this.updateUVs(),null!=m&&this.setColors(m),null!=v&&this.setAlphas(v),this)},updateUVs:function(){for(var u=this.uv,m=this.points.length,v=this.frame.u0,x=this.frame.v0,b=this.frame.u1,T=this.frame.v1,_=(b-v)/(m-1),A=(T-x)/(m-1),M=0;M<m;M++){var R,F,N,V,I=4*M;this.horizontal?(this._flipX?(R=b-M*_,N=b-M*_):(R=v+M*_,N=v+M*_),this._flipY?(F=T,V=x):(F=x,V=T)):(this._flipX?(R=v,N=b):(R=b,N=v),this._flipY?(F=T-M*A,V=T-M*A):(F=x+M*A,V=x+M*A)),u[I+0]=R,u[I+1]=F,u[I+2]=N,u[I+3]=V}return this},resizeArrays:function(u){var m=this.colors,v=this.alphas;this.vertices=new Float32Array(4*u),this.uv=new Float32Array(4*u),m=new Uint32Array(2*u),v=new Float32Array(2*u);for(var x=0;x<2*u;x++)m[x]=16777215,v[x]=1;return this.colors=m,this.alphas=v,this.dirty=!0,this},updateVertices:function(){var u=this._perp,m=this.points,v=this.vertices,x=m.length;if(this.dirty=!1,!(x<1)){for(var b,T=m[0],_=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,A=0;A<x;A++){var M=m[A],I=4*A;u.x=(b=A<x-1?m[A+1]:M).y-T.y,u.y=-(b.x-T.x);var R=u.length();u.x/=R,u.y/=R,u.x*=_,u.y*=_,v[I]=M.x+u.x,v[I+1]=M.y+u.y,v[I+2]=M.x-u.x,v[I+3]=M.y-u.y,T=M}return this}},setDebug:function(u,m){return this.debugGraphic=u,this.debugCallback=u||m?m||this.renderDebugVerts:null,this},renderDebugVerts:function(u,m,v){var x=u.debugGraphic,b=v[0],T=v[1],_=v[2],A=v[3];x.lineBetween(b,T,_,A);for(var M=4;M<m;M+=4){var I=v[M+0],R=v[M+1],F=v[M+2],N=v[M+3];x.lineBetween(b,T,I,R),x.lineBetween(_,A,F,N),x.lineBetween(_,A,I,R),x.lineBetween(I,R,F,N),b=I,T=R,_=F,A=N}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(u){return this._flipX=u,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(u){return this._flipY=u,this.updateUVs()}}});S.exports=p},95262:S=>{S.exports=function(){}},26209:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(35154),d=a(77757);C.register("rope",function(c,h){void 0===c&&(c={});var p=g(c,"key",null),u=g(c,"frame",null),m=g(c,"horizontal",!0),v=f(c,"points",void 0),x=f(c,"colors",void 0),b=f(c,"alphas",void 0),T=new d(this.scene,0,0,p,u,v,m,x,b);return void 0!==h&&(c.add=h),y(this.scene,T,c),T})},96819:(S,P,a)=>{var y=a(77757);a(39429).register("rope",function(g,f,d,c,h,p,u,m){return this.displayList.add(new y(this.scene,g,f,d,c,h,p,u,m))})},38745:(S,P,a)=>{var C,g;a(29747),C=a(20439),g=a(95262),S.exports={renderWebGL:C,renderCanvas:g}},20439:(S,P,a)=>{var y=a(91296),C=a(70554);S.exports=function(f,d,c,h){c.addToRenderList(d);var p=f.pipelines.set(d.pipeline,d),u=y(d,c,h).calc,m=d.vertices,v=d.uv,x=d.colors,b=d.alphas,T=d.alpha,_=C.getTintAppendFloatAlpha,A=c.roundPixels,M=m.length,I=Math.floor(.5*M);p.flush(),f.pipelines.preBatch(d);var R=p.setGameObject(d),F=p.vertexViewF32,N=p.vertexViewU32,V=p.vertexCount*p.currentShader.vertexComponentCount-1,B=0,G=d.tintFill;d.dirty&&d.updateVertices();for(var Q=d.debugCallback,H=[],K=0;K<M;K+=2){var tt=m[K+0],at=m[K+1],lt=tt*u.a+at*u.c+u.e,q=tt*u.b+at*u.d+u.f;A&&(lt=Math.round(lt),q=Math.round(q)),F[++V]=lt,F[++V]=q,F[++V]=v[K+0],F[++V]=v[K+1],F[++V]=R,F[++V]=G,N[++V]=_(x[B],c.alpha*(b[B]*T)),B++,Q&&(H[K+0]=lt,H[K+1]=q)}Q&&Q.call(d,d,M,H),p.vertexCount+=I,p.currentBatch.count=p.vertexCount-p.currentBatch.start,f.pipelines.postBatch(d)}},20071:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(95643),f=a(95540),d=a(79291),c=a(61622),h=a(25479),p=a(61340),u=a(95428),m=a(92503),v=new y({Extends:g,Mixins:[C.ComputedSize,C.Depth,C.GetBounds,C.Mask,C.Origin,C.ScrollFactor,C.Transform,C.Visible,h],initialize:function(b,T,_,A,M,I,R,F){void 0===_&&(_=0),void 0===A&&(A=0),void 0===M&&(M=128),void 0===I&&(I=128),g.call(this,b,"Shader"),this.blendMode=-1;var N=b.sys.renderer;this.renderer=N,this.gl=N.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=N.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=N.width,this._rendererHeight=N.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(_,A),this.setSize(M,I),this.setOrigin(.5,.5),this.setShader(T,R,F),this.renderer.on(m.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(x){return!!this.renderToTexture||!(g.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&x.id)},setRenderToTexture:function(x,b){if(void 0===b&&(b=!1),!this.renderToTexture){var T=this.width,_=this.height,A=this.renderer;this.glTexture=A.createTextureFromSource(null,T,_,0),this.framebuffer=A.createFramebuffer(T,_,this.glTexture,!1),this._rendererWidth=T,this._rendererHeight=_,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),x&&(this.texture=this.scene.sys.textures.addGLTexture(x,this.glTexture))}return this.shader&&(A.pipelines.clear(),this.load(),this.flush(),A.pipelines.rebind()),this},setShader:function(x,b,T){if(this.renderer.contextLost)return this._deferSetShader={key:x,textures:b,textureData:T},this;if(void 0===b&&(b=[]),"string"==typeof x){var _=this.scene.sys.cache.shader;if(!_.has(x))return console.warn("Shader missing: "+x),this;this.shader=_.get(x)}else this.shader=x;var A=this.gl,M=this.renderer;this.program&&M.deleteProgram(this.program);var I=M.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);A.uniformMatrix4fv(A.getUniformLocation(I.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),A.uniformMatrix4fv(A.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),A.uniform2f(A.getUniformLocation(I.webGLProgram,"uResolution"),this.width,this.height),this.program=I;var R=new Date,F={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),60*R.getHours()*60+60*R.getMinutes()+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.uniforms=this.shader.uniforms?d(!0,{},this.shader.uniforms,F):F;for(var N=0;N<4;N++)b[N]&&this.setSampler2D("iChannel"+N,b[N],N,T);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(x){return this.pointer=x,this},projOrtho:function(x,b,T,_){if(this.renderer.contextLost)this._deferProjOrtho={left:x,right:b,bottom:T,top:_};else{var I=1/(x-b),R=1/(T-_),N=this.projectionMatrix;N[0]=-2*I,N[5]=-2*R,N[10]=-.001,N[12]=(x+b)*I,N[13]=(_+T)*R,N[14]=-0;var V=this.program,B=this.gl;this.renderer.setProgram(V),B.uniformMatrix4fv(B.getUniformLocation(V.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=b,this._rendererHeight=T}},initUniforms:function(){var x=this.renderer.glFuncMap,b=this.program;for(var T in this._textureCount=0,this.uniforms){var _=this.uniforms[T],A=_.type,M=x[A];_.uniformLocation=this.renderer.createUniformLocation(b,T),"sampler2D"!==A&&(_.glMatrix=M.matrix,_.glValueLength=M.length,_.glFunc=M.func)}},setSampler2DBuffer:function(x,b,T,_,A,M){void 0===A&&(A=0),void 0===M&&(M={});var I=this.uniforms[x];return I.value=b,M.width=T,M.height=_,I.textureData=M,this._textureCount=A,this.initSampler2D(I),this},setSampler2D:function(x,b,T,_){void 0===T&&(T=0);var A=this.scene.sys.textures;if(A.exists(b)){var M=A.getFrame(b);if(M.glTexture&&M.glTexture.isRenderTexture)return this.setSampler2DBuffer(x,M.glTexture,M.width,M.height,T,_);var I=this.uniforms[x],R=M.source;I.textureKey=b,I.source=R.image,I.value=M.glTexture,R.isGLTexture&&(_||(_={}),_.width=R.width,_.height=R.height),_&&(I.textureData=_),this._textureCount=T,this.initSampler2D(I)}return this},setUniform:function(x,b){return c(this.uniforms,x,b),this},getUniform:function(x){return f(this.uniforms,x,null)},setChannel0:function(x,b){return this.setSampler2D("iChannel0",x,0,b)},setChannel1:function(x,b){return this.setSampler2D("iChannel1",x,1,b)},setChannel2:function(x,b){return this.setSampler2D("iChannel2",x,2,b)},setChannel3:function(x,b){return this.setSampler2D("iChannel3",x,3,b)},initSampler2D:function(x){if(x.value){var b=x.textureData;if(b&&!x.value.isRenderTexture){var T=this.gl,_=x.value,A=T[f(b,"magFilter","linear").toUpperCase()],M=T[f(b,"minFilter","linear").toUpperCase()],I=T[f(b,"wrapS","repeat").toUpperCase()],R=T[f(b,"wrapT","repeat").toUpperCase()],F=T[f(b,"format","rgba").toUpperCase()],N=f(b,"flipY",!1),V=f(b,"width",_.width),B=f(b,"height",_.height),G=f(b,"source",_.pixels);b.repeat&&(I=T.REPEAT,R=T.REPEAT),b.width&&(G=null),_.update(G,V,B,N,I,R,M,A,F)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var T,_,A,M,I,x=this.gl,b=this.uniforms,R=0;for(var F in b)A=(T=b[F]).glFunc,_=T.glValueLength,M=T.uniformLocation,null!==(I=T.value)&&(1===_?T.glMatrix?A.call(x,M.webGLUniformLocation,T.transpose,I):A.call(x,M.webGLUniformLocation,I):2===_?A.call(x,M.webGLUniformLocation,I.x,I.y):3===_?A.call(x,M.webGLUniformLocation,I.x,I.y,I.z):4===_?A.call(x,M.webGLUniformLocation,I.x,I.y,I.z,I.w):"sampler2D"===T.type&&(x.activeTexture(x.TEXTURE0+R),x.bindTexture(x.TEXTURE_2D,I.webGLTexture),x.uniform1i(M.webGLUniformLocation,R),R++))},load:function(x){var b=this.gl,T=this.width,_=this.height,A=this.renderer,M=this.program,I=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,F=-this._displayOriginY;I[0]=x[0],I[1]=x[1],I[4]=x[2],I[5]=x[3],I[8]=x[4],I[9]=x[5],I[12]=I[0]*R+I[4]*F,I[13]=I[1]*R+I[5]*F}b.useProgram(M.webGLProgram),b.uniformMatrix4fv(b.getUniformLocation(M.webGLProgram,"uViewMatrix"),!1,I),b.uniformMatrix4fv(b.getUniformLocation(M.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),b.uniform2f(b.getUniformLocation(M.webGLProgram,"uResolution"),this.width,this.height);var N=this.uniforms,V=N.resolution;V.value.x=T,V.value.y=_,N.time.value=A.game.loop.getDuration();var B=this.pointer;if(B){var G=N.mouse,H=1-B.y/_;G.value.x=(B.x/T).toFixed(2),G.value.y=H.toFixed(2)}this.syncUniforms()},flush:function(){var x=this.width,b=this.height,T=this.program,_=this.gl,A=this.vertexBuffer,M=this.renderer,I=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(M.setFramebuffer(this.framebuffer),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT)),_.bindBuffer(_.ARRAY_BUFFER,A.webGLBuffer);var R=_.getAttribLocation(T.webGLProgram,"inPosition");-1!==R&&(_.enableVertexAttribArray(R),_.vertexAttribPointer(R,2,_.FLOAT,!1,I,0));var F=this.vertexViewF32;F[3]=b,F[4]=x,F[5]=b,F[8]=x,F[9]=b,F[10]=x,_.bufferSubData(_.ARRAY_BUFFER,0,this.bytes.subarray(0,6*I)),_.drawArrays(_.TRIANGLES,0,6),this.renderToTexture&&M.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(null!==this._deferSetShader){var x=this._deferSetShader.key,b=this._deferSetShader.textures,T=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(x,b,T)}if(null!==this._deferProjOrtho){var _=this._deferProjOrtho.left,A=this._deferProjOrtho.right,M=this._deferProjOrtho.bottom,I=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(_,A,M,I)}},preDestroy:function(){var x=this.renderer;x.off(m.RESTORE_WEBGL,this.onContextRestored,this),x.deleteProgram(this.program),x.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(x.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),u(this.uniforms,function(b){x.deleteUniformLocation(b.uniformLocation),b.uniformLocation=null})}});S.exports=v},80464:S=>{S.exports=function(){}},54935:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(20071);C.register("shader",function(d,c){void 0===d&&(d={});var h=g(d,"key",null),p=g(d,"x",0),u=g(d,"y",0),m=g(d,"width",128),v=g(d,"height",128),x=new f(this.scene,h,p,u,m,v);return void 0!==c&&(d.add=c),y(this.scene,x,d),x})},74177:(S,P,a)=>{var y=a(20071);a(39429).register("shader",function(g,f,d,c,h,p,u){return this.displayList.add(new y(this.scene,g,f,d,c,h,p,u))})},25479:(S,P,a)=>{var C,g;a(29747),C=a(19257),g=a(80464),S.exports={renderWebGL:C,renderCanvas:g}},19257:(S,P,a)=>{var y=a(91296);S.exports=function(g,f,d,c){if(f.shader){if(d.addToRenderList(f),g.pipelines.clear(),f.renderToTexture)f.load(),f.flush();else{var h=y(f,d,c).calc;(g.width!==f._rendererWidth||g.height!==f._rendererHeight)&&f.projOrtho(0,g.width,g.height,0),f.load(h.matrix),f.flush()}g.pipelines.rebind()}}},10441:(S,P,a)=>{var y=a(70554);S.exports=function(g,f,d,c,h,p){for(var u=y.getTintAppendFloatAlpha(d.fillColor,d.fillAlpha*c),m=d.pathData,v=d.pathIndexes,x=0;x<v.length;x+=3){var b=2*v[x],T=2*v[x+1],_=2*v[x+2],A=m[b+0]-h,M=m[b+1]-p,I=m[T+0]-h,R=m[T+1]-p,F=m[_+0]-h,N=m[_+1]-p,V=f.getX(A,M),B=f.getY(A,M),G=f.getX(I,R),Q=f.getY(I,R),H=f.getX(F,N),K=f.getY(F,N);g.batchTri(d,V,B,G,Q,H,K,0,0,1,1,u,u,u,2)}}},65960:S=>{S.exports=function(a,y,C,g){var f=C||y.fillColor;a.fillStyle="rgba("+((16711680&f)>>>16)+","+((65280&f)>>>8)+","+(255&f)+","+(g||y.fillAlpha)+")"}},75177:S=>{S.exports=function(a,y,C,g){var f=C||y.strokeColor;a.strokeStyle="rgba("+((16711680&f)>>>16)+","+((65280&f)>>>8)+","+(255&f)+","+(g||y.strokeAlpha)+")",a.lineWidth=y.lineWidth}},17803:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(95643),f=a(23031),d=new y({Extends:g,Mixins:[C.AlphaSingle,C.BlendMode,C.Depth,C.GetBounds,C.Mask,C.Origin,C.Pipeline,C.PostPipeline,C.ScrollFactor,C.Transform,C.Visible],initialize:function(h,p,u){void 0===p&&(p="Shape"),g.call(this,h,p),this.geom=u,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new f,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(c,h){return void 0===h&&(h=1),void 0===c?this.isFilled=!1:(this.fillColor=c,this.fillAlpha=h,this.isFilled=!0),this},setStrokeStyle:function(c,h,p){return void 0===p&&(p=1),void 0===c?this.isStroked=!1:(this.lineWidth=c,this.strokeColor=h,this.strokeAlpha=p,this.isStroked=!0),this},setClosePath:function(c){return this.closePath=c,this},setSize:function(c,h){return this.width=c,this.height=h,this},setDisplaySize:function(c,h){return this.displayWidth=c,this.displayHeight=h,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}}});S.exports=d},34682:(S,P,a)=>{var y=a(70554);S.exports=function(g,f,d,c,h){var p=g.strokeTint,u=y.getTintAppendFloatAlpha(f.strokeColor,f.strokeAlpha*d);p.TL=u,p.TR=u,p.BL=u,p.BR=u;var m=f.pathData,v=m.length-1,x=f.lineWidth,b=x/2,T=m[0]-c,_=m[1]-h;f.closePath||(v-=2);for(var A=2;A<v;A+=2){var M=m[A]-c,I=m[A+1]-h;g.batchLine(T,_,M,I,b,b,x,A-2,!!f.closePath&&A===v-1),T=M,_=I}}},23629:(S,P,a)=>{var y=a(13609),C=a(83419),g=a(39506),f=a(94811),d=a(96503),c=a(36383),h=a(17803),p=new C({Extends:h,Mixins:[y],initialize:function(m,v,x,b,T,_,A,M,I){void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=128),void 0===T&&(T=0),void 0===_&&(_=360),void 0===A&&(A=!1),h.call(this,m,"Arc",new d(0,0,b)),this._startAngle=T,this._endAngle=_,this._anticlockwise=A,this._iterations=.01,this.setPosition(v,x);var R=2*this.geom.radius;this.setSize(R,R),void 0!==M&&this.setFillStyle(M,I),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(u){this._iterations=u,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(u){this.geom.radius=u;var m=2*u;this.setSize(m,m),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(u){this._startAngle=u,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(u){this._endAngle=u,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(u){this._anticlockwise=u,this.updateData()}},setRadius:function(u){return this.radius=u,this},setIterations:function(u){return void 0===u&&(u=.01),this.iterations=u,this},setStartAngle:function(u,m){return this._startAngle=u,void 0!==m&&(this._anticlockwise=m),this.updateData()},setEndAngle:function(u,m){return this._endAngle=u,void 0!==m&&(this._anticlockwise=m),this.updateData()},updateData:function(){var u=this._iterations,m=u,v=this.geom.radius,x=g(this._startAngle),b=g(this._endAngle),_=v,A=v;b-=x,this._anticlockwise?b<-c.PI2?b=-c.PI2:b>0&&(b=b%c.PI2-c.PI2):b>c.PI2?b=c.PI2:b<0&&(b=c.PI2+b%c.PI2);for(var I,M=[_+Math.cos(x)*v,A+Math.sin(x)*v];m<1;)I=b*m+x,M.push(_+Math.cos(I)*v,A+Math.sin(I)*v),m+=u;return I=b+x,M.push(_+Math.cos(I)*v,A+Math.sin(I)*v),M.push(_+Math.cos(x)*v,A+Math.sin(x)*v),this.pathIndexes=f(M),this.pathData=M,this}});S.exports=p},42542:(S,P,a)=>{var y=a(39506),C=a(65960),g=a(75177),f=a(20926);S.exports=function(c,h,p,u){p.addToRenderList(h);var m=c.currentContext;if(f(c,m,h,p,u)){var v=h.radius;m.beginPath(),m.arc(v-h.originX*(2*v),v-h.originY*(2*v),v,y(h._startAngle),y(h._endAngle),h.anticlockwise),h.closePath&&m.closePath(),h.isFilled&&(C(m,h),m.fill()),h.isStroked&&(g(m,h),m.stroke()),m.restore()}}},42563:(S,P,a)=>{var y=a(23629),C=a(39429);C.register("arc",function(g,f,d,c,h,p,u,m){return this.displayList.add(new y(this.scene,g,f,d,c,h,p,u,m))}),C.register("circle",function(g,f,d,c,h){return this.displayList.add(new y(this.scene,g,f,d,0,360,!1,c,h))})},13609:(S,P,a)=>{var C,g;a(29747),C=a(41447),g=a(42542),S.exports={renderWebGL:C,renderCanvas:g}},41447:(S,P,a)=>{var y=a(91296),C=a(10441),g=a(34682);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.pipelines.set(c.pipeline),m=y(c,h,p),v=u.calcMatrix.copyFrom(m.calc),x=c._displayOriginX,b=c._displayOriginY,T=h.alpha*c.alpha;d.pipelines.preBatch(c),c.isFilled&&C(u,v,c,T,x,b),c.isStroked&&g(u,c,T,x,b),d.pipelines.postBatch(c)}},89:(S,P,a)=>{var y=a(83419),C=a(33141),g=a(94811),f=a(87841),d=a(17803),c=new y({Extends:d,Mixins:[C],initialize:function(p,u,m,v,x,b){void 0===u&&(u=0),void 0===m&&(m=0),d.call(this,p,"Curve",v),this._smoothness=32,this._curveBounds=new f,this.closePath=!1,this.setPosition(u,m),void 0!==x&&this.setFillStyle(x,b),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(h){this._smoothness=h,this.updateData()}},setSmoothness:function(h){return this._smoothness=h,this.updateData()},updateData:function(){var h=this._curveBounds,p=this._smoothness;this.geom.getBounds(h,p),this.setSize(h.width,h.height),this.updateDisplayOrigin();for(var u=[],m=this.geom.getPoints(p),v=0;v<m.length;v++)u.push(m[v].x,m[v].y);return u.push(m[0].x,m[0].y),this.pathIndexes=g(u),this.pathData=u,this}});S.exports=c},3170:(S,P,a)=>{var y=a(65960),C=a(75177),g=a(20926);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.currentContext;if(g(d,u,c,h,p)){var m=c._displayOriginX+c._curveBounds.x,v=c._displayOriginY+c._curveBounds.y,x=c.pathData,b=x.length-1,T=x[0]-m,_=x[1]-v;u.beginPath(),u.moveTo(T,_),c.closePath||(b-=2);for(var A=2;A<b;A+=2)u.lineTo(x[A]-m,x[A+1]-v);c.closePath&&u.closePath(),c.isFilled&&(y(u,c),u.fill()),c.isStroked&&(C(u,c),u.stroke()),u.restore()}}},40511:(S,P,a)=>{var y=a(39429),C=a(89);y.register("curve",function(g,f,d,c,h){return this.displayList.add(new C(this.scene,g,f,d,c,h))})},33141:(S,P,a)=>{var C,g;a(29747),C=a(53987),g=a(3170),S.exports={renderWebGL:C,renderCanvas:g}},53987:(S,P,a)=>{var y=a(10441),C=a(91296),g=a(34682);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.pipelines.set(c.pipeline),m=C(c,h,p),v=u.calcMatrix.copyFrom(m.calc),x=c._displayOriginX+c._curveBounds.x,b=c._displayOriginY+c._curveBounds.y,T=h.alpha*c.alpha;d.pipelines.preBatch(c),c.isFilled&&y(u,v,c,T,x,b),c.isStroked&&g(u,c,T,x,b),d.pipelines.postBatch(c)}},19921:(S,P,a)=>{var y=a(83419),C=a(94811),g=a(54205),f=a(8497),d=a(17803),c=new y({Extends:d,Mixins:[g],initialize:function(p,u,m,v,x,b,T){void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=128),void 0===x&&(x=128),d.call(this,p,"Ellipse",new f(v/2,x/2,v,x)),this._smoothness=64,this.setPosition(u,m),this.width=v,this.height=x,void 0!==b&&this.setFillStyle(b,T),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(h){this._smoothness=h,this.updateData()}},setSize:function(h,p){return this.width=h,this.height=p,this.geom.setPosition(h/2,p/2),this.geom.setSize(h,p),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(h){return this._smoothness=h,this.updateData()},updateData:function(){for(var h=[],p=this.geom.getPoints(this._smoothness),u=0;u<p.length;u++)h.push(p[u].x,p[u].y);return h.push(p[0].x,p[0].y),this.pathIndexes=C(h),this.pathData=h,this}});S.exports=c},7930:(S,P,a)=>{var y=a(65960),C=a(75177),g=a(20926);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.currentContext;if(g(d,u,c,h,p)){var m=c._displayOriginX,v=c._displayOriginY,x=c.pathData,b=x.length-1,T=x[0]-m,_=x[1]-v;u.beginPath(),u.moveTo(T,_),c.closePath||(b-=2);for(var A=2;A<b;A+=2)u.lineTo(x[A]-m,x[A+1]-v);u.closePath(),c.isFilled&&(y(u,c),u.fill()),c.isStroked&&(C(u,c),u.stroke()),u.restore()}}},1543:(S,P,a)=>{var y=a(19921);a(39429).register("ellipse",function(g,f,d,c,h,p){return this.displayList.add(new y(this.scene,g,f,d,c,h,p))})},54205:(S,P,a)=>{var C,g;a(29747),C=a(19467),g=a(7930),S.exports={renderWebGL:C,renderCanvas:g}},19467:(S,P,a)=>{var y=a(10441),C=a(91296),g=a(34682);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.pipelines.set(c.pipeline),m=C(c,h,p),v=u.calcMatrix.copyFrom(m.calc),x=c._displayOriginX,b=c._displayOriginY,T=h.alpha*c.alpha;d.pipelines.preBatch(c),c.isFilled&&y(u,v,c,T,x,b),c.isStroked&&g(u,c,T,x,b),d.pipelines.postBatch(c)}},30479:(S,P,a)=>{var y=a(83419),C=a(17803),g=a(26015),f=new y({Extends:C,Mixins:[g],initialize:function(c,h,p,u,m,v,x,b,T,_,A){void 0===h&&(h=0),void 0===p&&(p=0),void 0===u&&(u=128),void 0===m&&(m=128),void 0===v&&(v=32),void 0===x&&(x=32),C.call(this,c,"Grid",null),this.cellWidth=v,this.cellHeight=x,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.setPosition(h,p),this.setSize(u,m),this.setFillStyle(b,T),void 0!==_&&this.setOutlineStyle(_,A),this.updateDisplayOrigin()},setFillStyle:function(d,c){return void 0===c&&(c=1),void 0===d?this.showCells=!1:(this.fillColor=d,this.fillAlpha=c,this.showCells=!0),this},setAltFillStyle:function(d,c){return void 0===c&&(c=1),void 0===d?this.showAltCells=!1:(this.altFillColor=d,this.altFillAlpha=c,this.showAltCells=!0),this},setOutlineStyle:function(d,c){return void 0===c&&(c=1),void 0===d?this.showOutline=!1:(this.outlineFillColor=d,this.outlineFillAlpha=c,this.showOutline=!0),this}});S.exports=f},49912:(S,P,a)=>{var y=a(65960),C=a(75177),g=a(20926);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.currentContext;if(g(d,u,c,h,p)){var m=-c._displayOriginX,v=-c._displayOriginY,x=h.alpha*c.alpha,b=c.width,T=c.height,_=c.cellWidth,A=c.cellHeight,M=Math.ceil(b/_),I=Math.ceil(T/A),R=_,F=A,N=_-(M*_-b),V=A-(I*A-T),G=c.showAltCells,Q=c.showOutline,H=0,K=0,tt=0;if(Q&&(R--,F--,N===_&&N--,V===A&&V--),c.showCells&&c.fillAlpha>0)for(y(u,c),K=0;K<I;K++)for(G&&(tt=K%2),H=0;H<M;H++)G&&tt?tt=0:(tt++,u.fillRect(m+H*_,v+K*A,H<M-1?R:N,K<I-1?F:V));if(G&&c.altFillAlpha>0)for(y(u,c,c.altFillColor,c.altFillAlpha*x),K=0;K<I;K++)for(G&&(tt=K%2),H=0;H<M;H++)!G||tt?(tt=0,u.fillRect(m+H*_,v+K*A,H<M-1?R:N,K<I-1?F:V)):tt=1;if(Q&&c.outlineFillAlpha>0){for(C(u,c,c.outlineFillColor,c.outlineFillAlpha*x),H=1;H<M;H++){var q=H*_;u.beginPath(),u.moveTo(q+m,v),u.lineTo(q+m,T+v),u.stroke()}for(K=1;K<I;K++){var it=K*A;u.beginPath(),u.moveTo(m,it+v),u.lineTo(m+b,it+v),u.stroke()}}u.restore()}}},34137:(S,P,a)=>{var y=a(39429),C=a(30479);y.register("grid",function(g,f,d,c,h,p,u,m,v,x){return this.displayList.add(new C(this.scene,g,f,d,c,h,p,u,m,v,x))})},26015:(S,P,a)=>{var C,g;a(29747),C=a(46161),g=a(49912),S.exports={renderWebGL:C,renderCanvas:g}},46161:(S,P,a)=>{var y=a(91296),C=a(70554);S.exports=function(f,d,c,h){c.addToRenderList(d);var p=f.pipelines.set(d.pipeline),u=y(d,c,h);p.calcMatrix.copyFrom(u.calc).translate(-d._displayOriginX,-d._displayOriginY);var V,B,v=c.alpha*d.alpha,x=d.width,b=d.height,T=d.cellWidth,_=d.cellHeight,A=Math.ceil(x/T),M=Math.ceil(b/_),I=T,R=_,F=T-(A*T-x),N=_-(M*_-b),G=d.showCells,Q=d.showAltCells,H=d.showOutline,K=0,tt=0,at=0;if(H&&(I--,R--,F===T&&F--,N===_&&N--),f.pipelines.preBatch(d),G&&d.fillAlpha>0)for(V=p.fillTint,B=C.getTintAppendFloatAlpha(d.fillColor,d.fillAlpha*v),V.TL=B,V.TR=B,V.BL=B,V.BR=B,tt=0;tt<M;tt++)for(Q&&(at=tt%2),K=0;K<A;K++)Q&&at?at=0:(at++,p.batchFillRect(K*T,tt*_,K<A-1?I:F,tt<M-1?R:N));if(Q&&d.altFillAlpha>0)for(V=p.fillTint,B=C.getTintAppendFloatAlpha(d.altFillColor,d.altFillAlpha*v),V.TL=B,V.TR=B,V.BL=B,V.BR=B,tt=0;tt<M;tt++)for(Q&&(at=tt%2),K=0;K<A;K++)!Q||at?(at=0,p.batchFillRect(K*T,tt*_,K<A-1?I:F,tt<M-1?R:N)):at=1;if(H&&d.outlineFillAlpha>0){var it=p.strokeTint,Y=C.getTintAppendFloatAlpha(d.outlineFillColor,d.outlineFillAlpha*v);for(it.TL=Y,it.TR=Y,it.BL=Y,it.BR=Y,K=1;K<A;K++){var X=K*T;p.batchLine(X,0,X,b,1,1,1,0,!1)}for(tt=1;tt<M;tt++){var nt=tt*_;p.batchLine(0,nt,x,nt,1,1,1,0,!1)}}f.pipelines.postBatch(d)}},61475:(S,P,a)=>{var y=a(99651),C=a(83419),g=a(17803),f=new C({Extends:g,Mixins:[y],initialize:function(c,h,p,u,m,v,x,b){void 0===h&&(h=0),void 0===p&&(p=0),void 0===u&&(u=48),void 0===m&&(m=32),void 0===v&&(v=15658734),void 0===x&&(x=10066329),void 0===b&&(b=13421772),g.call(this,c,"IsoBox",null),this.projection=4,this.fillTop=v,this.fillLeft=x,this.fillRight=b,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(h,p),this.setSize(u,m),this.updateDisplayOrigin()},setProjection:function(d){return this.projection=d,this},setFaces:function(d,c,h){return void 0===d&&(d=!0),void 0===c&&(c=!0),void 0===h&&(h=!0),this.showTop=d,this.showLeft=c,this.showRight=h,this},setFillStyle:function(d,c,h){return this.fillTop=d,this.fillLeft=c,this.fillRight=h,this.isFilled=!0,this}});S.exports=f},11508:(S,P,a)=>{var y=a(65960),C=a(20926);S.exports=function(f,d,c,h){c.addToRenderList(d);var p=f.currentContext;if(C(f,p,d,c,h)&&d.isFilled){var u=d.width,m=d.height,v=u/2,x=u/d.projection;d.showTop&&(y(p,d,d.fillTop),p.beginPath(),p.moveTo(-v,-m),p.lineTo(0,-x-m),p.lineTo(v,-m),p.lineTo(v,-1),p.lineTo(0,x-1),p.lineTo(-v,-1),p.lineTo(-v,-m),p.fill()),d.showLeft&&(y(p,d,d.fillLeft),p.beginPath(),p.moveTo(-v,0),p.lineTo(0,x),p.lineTo(0,x-m),p.lineTo(-v,-m),p.lineTo(-v,0),p.fill()),d.showRight&&(y(p,d,d.fillRight),p.beginPath(),p.moveTo(v,0),p.lineTo(0,x),p.lineTo(0,x-m),p.lineTo(v,-m),p.lineTo(v,0),p.fill()),p.restore()}}},3933:(S,P,a)=>{var y=a(39429),C=a(61475);y.register("isobox",function(g,f,d,c,h,p,u){return this.displayList.add(new C(this.scene,g,f,d,c,h,p,u))})},99651:(S,P,a)=>{var C,g;a(29747),C=a(68149),g=a(11508),S.exports={renderWebGL:C,renderCanvas:g}},68149:(S,P,a)=>{var y=a(91296),C=a(70554);S.exports=function(f,d,c,h){c.addToRenderList(d);var A,M,I,R,F,N,V,B,G,p=f.pipelines.set(d.pipeline),u=y(d,c,h),m=p.calcMatrix.copyFrom(u.calc),v=d.width,x=d.height,b=v/2,T=v/d.projection,_=c.alpha*d.alpha;d.isFilled&&(f.pipelines.preBatch(d),d.showTop&&(A=C.getTintAppendFloatAlpha(d.fillTop,_),M=m.getX(-b,-x),I=m.getY(-b,-x),R=m.getX(0,-T-x),F=m.getY(0,-T-x),N=m.getX(b,-x),V=m.getY(b,-x),B=m.getX(0,T-x),G=m.getY(0,T-x),p.batchQuad(d,M,I,R,F,N,V,B,G,0,0,1,1,A,A,A,A,2)),d.showLeft&&(A=C.getTintAppendFloatAlpha(d.fillLeft,_),M=m.getX(-b,0),I=m.getY(-b,0),R=m.getX(0,T),F=m.getY(0,T),N=m.getX(0,T-x),V=m.getY(0,T-x),B=m.getX(-b,-x),G=m.getY(-b,-x),p.batchQuad(d,M,I,R,F,N,V,B,G,0,0,1,1,A,A,A,A,2)),d.showRight&&(A=C.getTintAppendFloatAlpha(d.fillRight,_),M=m.getX(b,0),I=m.getY(b,0),R=m.getX(0,T),F=m.getY(0,T),N=m.getX(0,T-x),V=m.getY(0,T-x),B=m.getX(b,-x),G=m.getY(b,-x),p.batchQuad(d,M,I,R,F,N,V,B,G,0,0,1,1,A,A,A,A,2)),f.pipelines.postBatch(d))}},16933:(S,P,a)=>{var y=a(83419),C=a(60561),g=a(17803),f=new y({Extends:g,Mixins:[C],initialize:function(c,h,p,u,m,v,x,b,T){void 0===h&&(h=0),void 0===p&&(p=0),void 0===u&&(u=48),void 0===m&&(m=32),void 0===v&&(v=!1),void 0===x&&(x=15658734),void 0===b&&(b=10066329),void 0===T&&(T=13421772),g.call(this,c,"IsoTriangle",null),this.projection=4,this.fillTop=x,this.fillLeft=b,this.fillRight=T,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=v,this.isFilled=!0,this.setPosition(h,p),this.setSize(u,m),this.updateDisplayOrigin()},setProjection:function(d){return this.projection=d,this},setReversed:function(d){return this.isReversed=d,this},setFaces:function(d,c,h){return void 0===d&&(d=!0),void 0===c&&(c=!0),void 0===h&&(h=!0),this.showTop=d,this.showLeft=c,this.showRight=h,this},setFillStyle:function(d,c,h){return this.fillTop=d,this.fillLeft=c,this.fillRight=h,this.isFilled=!0,this}});S.exports=f},79590:(S,P,a)=>{var y=a(65960),C=a(20926);S.exports=function(f,d,c,h){c.addToRenderList(d);var p=f.currentContext;if(C(f,p,d,c,h)&&d.isFilled){var u=d.width,m=d.height,v=u/2,x=u/d.projection,b=d.isReversed;d.showTop&&b&&(y(p,d,d.fillTop),p.beginPath(),p.moveTo(-v,-m),p.lineTo(0,-x-m),p.lineTo(v,-m),p.lineTo(0,x-m),p.fill()),d.showLeft&&(y(p,d,d.fillLeft),p.beginPath(),b?(p.moveTo(-v,-m),p.lineTo(0,x),p.lineTo(0,x-m)):(p.moveTo(-v,0),p.lineTo(0,x),p.lineTo(0,x-m)),p.fill()),d.showRight&&(y(p,d,d.fillRight),p.beginPath(),b?(p.moveTo(v,-m),p.lineTo(0,x),p.lineTo(0,x-m)):(p.moveTo(v,0),p.lineTo(0,x),p.lineTo(0,x-m)),p.fill()),p.restore()}}},49803:(S,P,a)=>{var y=a(39429),C=a(16933);y.register("isotriangle",function(g,f,d,c,h,p,u,m){return this.displayList.add(new C(this.scene,g,f,d,c,h,p,u,m))})},60561:(S,P,a)=>{var C,g;a(29747),C=a(51503),g=a(79590),S.exports={renderWebGL:C,renderCanvas:g}},51503:(S,P,a)=>{var y=a(91296),C=a(70554);S.exports=function(f,d,c,h){c.addToRenderList(d);var p=f.pipelines.set(d.pipeline),u=y(d,c,h),m=p.calcMatrix.copyFrom(u.calc),v=d.width,x=d.height,b=v/2,T=v/d.projection,_=d.isReversed,A=c.alpha*d.alpha;if(d.isFilled){var M,I,R,F,N,V,B;if(f.pipelines.preBatch(d),d.showTop&&_){M=C.getTintAppendFloatAlpha(d.fillTop,A),I=m.getX(-b,-x),R=m.getY(-b,-x),F=m.getX(0,-T-x),N=m.getY(0,-T-x),V=m.getX(b,-x),B=m.getY(b,-x);var G=m.getX(0,T-x),Q=m.getY(0,T-x);p.batchQuad(d,I,R,F,N,V,B,G,Q,0,0,1,1,M,M,M,M,2)}d.showLeft&&(M=C.getTintAppendFloatAlpha(d.fillLeft,A),_?(I=m.getX(-b,-x),R=m.getY(-b,-x),F=m.getX(0,T),N=m.getY(0,T),V=m.getX(0,T-x),B=m.getY(0,T-x)):(I=m.getX(-b,0),R=m.getY(-b,0),F=m.getX(0,T),N=m.getY(0,T),V=m.getX(0,T-x),B=m.getY(0,T-x)),p.batchTri(d,I,R,F,N,V,B,0,0,1,1,M,M,M,2)),d.showRight&&(M=C.getTintAppendFloatAlpha(d.fillRight,A),_?(I=m.getX(b,-x),R=m.getY(b,-x),F=m.getX(0,T),N=m.getY(0,T),V=m.getX(0,T-x),B=m.getY(0,T-x)):(I=m.getX(b,0),R=m.getY(b,0),F=m.getX(0,T),N=m.getY(0,T),V=m.getX(0,T-x),B=m.getY(0,T-x)),p.batchTri(d,I,R,F,N,V,B,0,0,1,1,M,M,M,2)),f.pipelines.postBatch(d)}}},57847:(S,P,a)=>{var y=a(83419),C=a(17803),g=a(23031),f=a(36823),d=new y({Extends:C,Mixins:[f],initialize:function(h,p,u,m,v,x,b,T,_){void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=128),void 0===b&&(b=0),C.call(this,h,"Line",new g(m,v,x,b));var A=Math.max(1,this.geom.right-this.geom.left),M=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(p,u),this.setSize(A,M),void 0!==T&&this.setStrokeStyle(1,T,_),this.updateDisplayOrigin()},setLineWidth:function(c,h){return void 0===h&&(h=c),this._startWidth=c,this._endWidth=h,this.lineWidth=c,this},setTo:function(c,h,p,u){return this.geom.setTo(c,h,p,u),this}});S.exports=d},17440:(S,P,a)=>{var y=a(75177),C=a(20926);S.exports=function(f,d,c,h){c.addToRenderList(d);var p=f.currentContext;if(C(f,p,d,c,h)){var u=d._displayOriginX,m=d._displayOriginY;d.isStroked&&(y(p,d),p.beginPath(),p.moveTo(d.geom.x1-u,d.geom.y1-m),p.lineTo(d.geom.x2-u,d.geom.y2-m),p.stroke()),p.restore()}}},2481:(S,P,a)=>{var y=a(39429),C=a(57847);y.register("line",function(g,f,d,c,h,p,u,m){return this.displayList.add(new C(this.scene,g,f,d,c,h,p,u,m))})},36823:(S,P,a)=>{var C,g;a(29747),C=a(77385),g=a(17440),S.exports={renderWebGL:C,renderCanvas:g}},77385:(S,P,a)=>{var y=a(91296),C=a(70554);S.exports=function(f,d,c,h){c.addToRenderList(d);var p=f.pipelines.set(d.pipeline),u=y(d,c,h);p.calcMatrix.copyFrom(u.calc);var m=d._displayOriginX,v=d._displayOriginY,x=c.alpha*d.alpha;if(f.pipelines.preBatch(d),d.isStroked){var b=p.strokeTint,T=C.getTintAppendFloatAlpha(d.strokeColor,d.strokeAlpha*x);b.TL=T,b.TR=T,b.BL=T,b.BR=T,p.batchLine(d.geom.x1-m,d.geom.y1-v,d.geom.x2-m,d.geom.y2-v,d._startWidth/2,d._endWidth/2,1,0,!1,u.sprite,u.camera)}f.pipelines.postBatch(d)}},24949:(S,P,a)=>{var y=a(90273),C=a(83419),g=a(94811),f=a(13829),d=a(25717),c=a(17803),h=a(5469),p=new C({Extends:c,Mixins:[y],initialize:function(m,v,x,b,T,_){void 0===v&&(v=0),void 0===x&&(x=0),c.call(this,m,"Polygon",new d(b));var A=f(this.geom);this.setPosition(v,x),this.setSize(A.width,A.height),void 0!==T&&this.setFillStyle(T,_),this.updateDisplayOrigin(),this.updateData()},smooth:function(u){void 0===u&&(u=1);for(var m=0;m<u;m++)h(this.geom);return this.updateData()},setTo:function(u){this.geom.setTo(u);var m=f(this.geom);return this.setSize(m.width,m.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var u=[],m=this.geom.points,v=0;v<m.length;v++)u.push(m[v].x,m[v].y);return u.push(m[0].x,m[0].y),this.pathIndexes=g(u),this.pathData=u,this}});S.exports=p},38710:(S,P,a)=>{var y=a(65960),C=a(75177),g=a(20926);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.currentContext;if(g(d,u,c,h,p)){var m=c._displayOriginX,v=c._displayOriginY,x=c.pathData,b=x.length-1,T=x[0]-m,_=x[1]-v;u.beginPath(),u.moveTo(T,_),c.closePath||(b-=2);for(var A=2;A<b;A+=2)u.lineTo(x[A]-m,x[A+1]-v);c.closePath&&u.closePath(),c.isFilled&&(y(u,c),u.fill()),c.isStroked&&(C(u,c),u.stroke()),u.restore()}}},64827:(S,P,a)=>{var y=a(39429),C=a(24949);y.register("polygon",function(g,f,d,c,h){return this.displayList.add(new C(this.scene,g,f,d,c,h))})},90273:(S,P,a)=>{var C,g;a(29747),C=a(73695),g=a(38710),S.exports={renderWebGL:C,renderCanvas:g}},73695:(S,P,a)=>{var y=a(10441),C=a(91296),g=a(34682);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.pipelines.set(c.pipeline),m=C(c,h,p),v=u.calcMatrix.copyFrom(m.calc),x=c._displayOriginX,b=c._displayOriginY,T=h.alpha*c.alpha;d.pipelines.preBatch(c),c.isFilled&&y(u,v,c,T,x,b),c.isStroked&&g(u,c,T,x,b),d.pipelines.postBatch(c)}},74561:(S,P,a)=>{var y=a(83419),C=a(87841),g=a(17803),f=a(95597),d=new y({Extends:g,Mixins:[f],initialize:function(h,p,u,m,v,x,b){void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=128),void 0===v&&(v=128),g.call(this,h,"Rectangle",new C(0,0,m,v)),this.setPosition(p,u),this.setSize(m,v),void 0!==x&&this.setFillStyle(x,b),this.updateDisplayOrigin(),this.updateData()},setSize:function(c,h){this.width=c,this.height=h,this.geom.setSize(c,h),this.updateData(),this.updateDisplayOrigin();var p=this.input;return p&&!p.customHitArea&&(p.hitArea.width=c,p.hitArea.height=h),this},updateData:function(){var c=[],h=this.geom,p=this._tempLine;return h.getLineA(p),c.push(p.x1,p.y1,p.x2,p.y2),h.getLineB(p),c.push(p.x2,p.y2),h.getLineC(p),c.push(p.x2,p.y2),h.getLineD(p),c.push(p.x2,p.y2),this.pathData=c,this}});S.exports=d},48682:(S,P,a)=>{var y=a(65960),C=a(75177),g=a(20926);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.currentContext;if(g(d,u,c,h,p)){var m=c._displayOriginX,v=c._displayOriginY;c.isFilled&&(y(u,c),u.fillRect(-m,-v,c.width,c.height)),c.isStroked&&(C(u,c),u.beginPath(),u.rect(-m,-v,c.width,c.height),u.stroke()),u.restore()}}},87959:(S,P,a)=>{var y=a(39429),C=a(74561);y.register("rectangle",function(g,f,d,c,h,p){return this.displayList.add(new C(this.scene,g,f,d,c,h,p))})},95597:(S,P,a)=>{var C,g;a(29747),C=a(52059),g=a(48682),S.exports={renderWebGL:C,renderCanvas:g}},52059:(S,P,a)=>{var y=a(91296),C=a(34682),g=a(70554);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.pipelines.set(c.pipeline),m=y(c,h,p);u.calcMatrix.copyFrom(m.calc);var v=c._displayOriginX,x=c._displayOriginY,b=h.alpha*c.alpha;if(d.pipelines.preBatch(c),c.isFilled){var T=u.fillTint,_=g.getTintAppendFloatAlpha(c.fillColor,c.fillAlpha*b);T.TL=_,T.TR=_,T.BL=_,T.BR=_,u.batchFillRect(-v,-x,c.width,c.height)}c.isStroked&&C(u,c,b,v,x),d.pipelines.postBatch(c)}},55911:(S,P,a)=>{var y=a(81991),C=a(83419),g=a(94811),f=a(17803),d=new C({Extends:f,Mixins:[y],initialize:function(h,p,u,m,v,x,b,T){void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=5),void 0===v&&(v=32),void 0===x&&(x=64),f.call(this,h,"Star",null),this._points=m,this._innerRadius=v,this._outerRadius=x,this.setPosition(p,u),this.setSize(2*x,2*x),void 0!==b&&this.setFillStyle(b,T),this.updateDisplayOrigin(),this.updateData()},setPoints:function(c){return this._points=c,this.updateData()},setInnerRadius:function(c){return this._innerRadius=c,this.updateData()},setOuterRadius:function(c){return this._outerRadius=c,this.updateData()},points:{get:function(){return this._points},set:function(c){this._points=c,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(c){this._innerRadius=c,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(c){this._outerRadius=c,this.updateData()}},updateData:function(){var c=[],h=this._points,p=this._innerRadius,u=this._outerRadius,m=Math.PI/2*3,v=Math.PI/h,x=u,b=u;c.push(x,b+-u);for(var T=0;T<h;T++)c.push(x+Math.cos(m)*u,b+Math.sin(m)*u),m+=v,c.push(x+Math.cos(m)*p,b+Math.sin(m)*p),m+=v;return c.push(x,b+-u),this.pathIndexes=g(c),this.pathData=c,this}});S.exports=d},64272:(S,P,a)=>{var y=a(65960),C=a(75177),g=a(20926);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.currentContext;if(g(d,u,c,h,p)){var m=c._displayOriginX,v=c._displayOriginY,x=c.pathData,b=x.length-1,T=x[0]-m,_=x[1]-v;u.beginPath(),u.moveTo(T,_),c.closePath||(b-=2);for(var A=2;A<b;A+=2)u.lineTo(x[A]-m,x[A+1]-v);u.closePath(),c.isFilled&&(y(u,c),u.fill()),c.isStroked&&(C(u,c),u.stroke()),u.restore()}}},93697:(S,P,a)=>{var y=a(55911);a(39429).register("star",function(g,f,d,c,h,p,u){return this.displayList.add(new y(this.scene,g,f,d,c,h,p,u))})},81991:(S,P,a)=>{var C,g;a(29747),C=a(57017),g=a(64272),S.exports={renderWebGL:C,renderCanvas:g}},57017:(S,P,a)=>{var y=a(10441),C=a(91296),g=a(34682);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.pipelines.set(c.pipeline),m=C(c,h,p),v=u.calcMatrix.copyFrom(m.calc),x=c._displayOriginX,b=c._displayOriginY,T=h.alpha*c.alpha;d.pipelines.preBatch(c),c.isFilled&&y(u,v,c,T,x,b),c.isStroked&&g(u,c,T,x,b),d.pipelines.postBatch(c)}},36931:(S,P,a)=>{var y=a(83419),C=a(17803),g=a(16483),f=a(96195),d=new y({Extends:C,Mixins:[f],initialize:function(h,p,u,m,v,x,b,T,_,A,M){void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=128),void 0===x&&(x=64),void 0===b&&(b=0),void 0===T&&(T=128),void 0===_&&(_=128),C.call(this,h,"Triangle",new g(m,v,x,b,T,_));var I=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(p,u),this.setSize(I,R),void 0!==A&&this.setFillStyle(A,M),this.updateDisplayOrigin(),this.updateData()},setTo:function(c,h,p,u,m,v){return this.geom.setTo(c,h,p,u,m,v),this.updateData()},updateData:function(){var c=[],h=this.geom,p=this._tempLine;return h.getLineA(p),c.push(p.x1,p.y1,p.x2,p.y2),h.getLineB(p),c.push(p.x2,p.y2),h.getLineC(p),c.push(p.x2,p.y2),this.pathData=c,this}});S.exports=d},85172:(S,P,a)=>{var y=a(65960),C=a(75177),g=a(20926);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.currentContext;if(g(d,u,c,h,p)){var m=c._displayOriginX,v=c._displayOriginY,x=c.geom.x1-m,b=c.geom.y1-v,T=c.geom.x2-m,_=c.geom.y2-v,A=c.geom.x3-m,M=c.geom.y3-v;u.beginPath(),u.moveTo(x,b),u.lineTo(T,_),u.lineTo(A,M),u.closePath(),c.isFilled&&(y(u,c),u.fill()),c.isStroked&&(C(u,c),u.stroke()),u.restore()}}},45245:(S,P,a)=>{var y=a(39429),C=a(36931);y.register("triangle",function(g,f,d,c,h,p,u,m,v,x){return this.displayList.add(new C(this.scene,g,f,d,c,h,p,u,m,v,x))})},96195:(S,P,a)=>{var C,g;a(29747),C=a(83253),g=a(85172),S.exports={renderWebGL:C,renderCanvas:g}},83253:(S,P,a)=>{var y=a(91296),C=a(34682),g=a(70554);S.exports=function(d,c,h,p){h.addToRenderList(c);var u=d.pipelines.set(c.pipeline),m=y(c,h,p);u.calcMatrix.copyFrom(m.calc);var v=c._displayOriginX,x=c._displayOriginY,b=h.alpha*c.alpha;if(d.pipelines.preBatch(c),c.isFilled){var T=u.fillTint,_=g.getTintAppendFloatAlpha(c.fillColor,c.fillAlpha*b);T.TL=_,T.TR=_,T.BL=_,T.BR=_,u.batchFillTriangle(c.geom.x1-v,c.geom.y1-x,c.geom.x2-v,c.geom.y2-x,c.geom.x3-v,c.geom.y3-x,m.sprite,m.camera)}c.isStroked&&C(u,c,b,v,x),d.pipelines.postBatch(c)}},68287:(S,P,a)=>{var y=a(9674),C=a(83419),g=a(31401),f=a(95643),d=a(92751),c=new C({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,d],initialize:function(p,u,m,v,x){f.call(this,p,"Sprite"),this._crop=this.resetCropObject(),this.anims=new y(this),this.setTexture(v,x),this.setPosition(u,m),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(h,p){this.anims.update(h,p)},play:function(h,p){return this.anims.play(h,p)},playReverse:function(h,p){return this.anims.playReverse(h,p)},playAfterDelay:function(h,p){return this.anims.playAfterDelay(h,p)},playAfterRepeat:function(h,p){return this.anims.playAfterRepeat(h,p)},chain:function(h){return this.anims.chain(h)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},toJSON:function(){return g.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});S.exports=c},76552:S=>{S.exports=function(a,y,C,g){C.addToRenderList(y),a.batchSprite(y,y.frame,C,g)}},15567:(S,P,a)=>{var y=a(25305),C=a(13059),g=a(44603),f=a(23568),d=a(68287);g.register("sprite",function(c,h){void 0===c&&(c={});var p=f(c,"key",null),u=f(c,"frame",null),m=new d(this.scene,0,0,p,u);return void 0!==h&&(c.add=h),y(this.scene,m,c),C(m,c),m})},46409:(S,P,a)=>{var y=a(39429),C=a(68287);y.register("sprite",function(g,f,d,c){return this.displayList.add(new C(this.scene,g,f,d,c))})},92751:(S,P,a)=>{var C,g;a(29747),C=a(9409),g=a(76552),S.exports={renderWebGL:C,renderCanvas:g}},9409:S=>{S.exports=function(a,y,C,g){C.addToRenderList(y),y.pipeline.batchSprite(y,C,g)}},14220:S=>{S.exports=function(a,y,C){var f=a.context,d=a.style,c=[],h=0,p=C.length;d.maxLines>0&&d.maxLines<C.length&&(p=d.maxLines),d.syncFont(a.canvas,f);for(var u=a.letterSpacing,m=0;m<p;m++){var v=d.strokeThickness;if(0===u)v+=f.measureText(C[m]).width;else{for(var x=C[m],b=0;b<x.length;b++)v+=f.measureText(x[b]).width;x.length>1&&(v+=u*(x.length-1))}d.wordWrap&&(v-=f.measureText(" ").width),c[m]=Math.ceil(v),h=Math.max(h,c[m])}var T=y.fontSize+d.strokeThickness,_=T*p,A=a.lineSpacing;return p>1&&(_+=A*(p-1)),{width:h,height:_,lines:p,lineWidths:c,lineSpacing:A,lineHeight:T}}},79557:(S,P,a)=>{var y=a(27919);S.exports=function(g){var f=y.create(this),d=f.getContext("2d",{willReadFrequently:!0});g.syncFont(f,d);var c=d.measureText(g.testString);if("actualBoundingBoxAscent"in c){var h=c.actualBoundingBoxAscent,p=c.actualBoundingBoxDescent;return y.remove(f),{ascent:h,descent:p,fontSize:h+p}}var u=Math.ceil(c.width*g.baselineX),m=u,v=2*m;m=m*g.baselineY|0,f.width=u,f.height=v,d.fillStyle="#f00",d.fillRect(0,0,u,v),d.font=g._font,d.textBaseline="alphabetic",d.fillStyle="#000",d.fillText(g.testString,0,m);var x={ascent:0,descent:0,fontSize:0},b=d.getImageData(0,0,u,v);if(!b)return x.ascent=m,x.descent=m+6,x.fontSize=x.ascent+x.descent,y.remove(f),x;var M,I,T=b.data,_=T.length,A=4*u,R=0,F=!1;for(M=0;M<m;M++){for(I=0;I<A;I+=4)if(255!==T[R+I]){F=!0;break}if(F)break;R+=A}for(x.ascent=m-M,R=_-A,F=!1,M=v;M>m;M--){for(I=0;I<A;I+=4)if(255!==T[R+I]){F=!0;break}if(F)break;R-=A}return x.descent=M-m,x.fontSize=x.ascent+x.descent,y.remove(f),x}},50171:(S,P,a)=>{var y=a(40366),C=a(27919),g=a(83419),f=a(31401),d=a(95643),c=a(14220),h=a(35154),p=a(35846),u=a(61771),m=a(35762),v=a(45650),x=new g({Extends:d,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,u],initialize:function(T,_,A,M,I){void 0===_&&(_=0),void 0===A&&(A=0),d.call(this,T,"Text"),this.renderer=T.sys.renderer,this.setPosition(_,A),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=C.create(this),this.style=new m(this,I),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=T.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(M),I&&I.padding&&this.setPadding(I.padding),I&&I.lineSpacing&&this.setLineSpacing(I.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",y(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(b){var T=this.style;if(T.wordWrapCallback){var _=T.wordWrapCallback.call(T.wordWrapCallbackScope,b,this);return Array.isArray(_)&&(_=_.join("\n")),_}return T.wordWrapWidth?T.wordWrapUseAdvanced?this.advancedWordWrap(b,this.context,this.style.wordWrapWidth):this.basicWordWrap(b,this.context,this.style.wordWrapWidth):b},advancedWordWrap:function(b,T,_){for(var A="",M=b.replace(/ +/gi," ").split(this.splitRegExp),I=M.length,R=0;R<I;R++){var F=M[R],N="";if(F=F.replace(/^ *|\s*$/gi,""),T.measureText(F).width<_)A+=F+"\n";else{for(var B=_,G=F.split(" "),Q=0;Q<G.length;Q++){var H=G[Q],K=H+" ",tt=T.measureText(K).width;if(tt>B){if(0===Q){for(var at=K;at.length&&(at=at.slice(0,-1),!((tt=T.measureText(at).width)<=B)););if(!at.length)throw new Error("wordWrapWidth < a single character");var lt=H.substr(at.length);G[Q]=lt,N+=at}var it=G.slice(G[Q].length?Q:Q+1).join(" ").replace(/[ \n]*$/gi,"");M.splice(R+1,0,it),I=M.length;break}N+=K,B-=tt}A+=N.replace(/[ \n]*$/gi,"")+"\n"}}return A.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(b,T,_){for(var A="",M=b.split(this.splitRegExp),I=M.length-1,R=T.measureText(" ").width,F=0;F<=I;F++){for(var N=_,V=M[F].split(" "),B=V.length-1,G=0;G<=B;G++){var Q=V[G],H=T.measureText(Q).width,K=H;G<B&&(K+=R),K>N&&G>0&&(A+="\n",N=_),A+=Q,G<B?(A+=" ",N-=K):N-=H}F<I&&(A+="\n")}return A},getWrappedText:function(b){return void 0===b&&(b=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(b).split(this.splitRegExp)},setText:function(b){return!b&&0!==b&&(b=""),Array.isArray(b)&&(b=b.join("\n")),b!==this._text&&(this._text=b.toString(),this.updateText()),this},appendText:function(b,T){void 0===T&&(T=!0),!b&&0!==b&&(b=""),Array.isArray(b)&&(b=b.join("\n")),b=b.toString();var _=this._text.concat(T?"\n"+b:b);return _!==this._text&&(this._text=_,this.updateText()),this},setStyle:function(b){return this.style.setStyle(b)},setFont:function(b){return this.style.setFont(b)},setFontFamily:function(b){return this.style.setFontFamily(b)},setFontSize:function(b){return this.style.setFontSize(b)},setFontStyle:function(b){return this.style.setFontStyle(b)},setFixedSize:function(b,T){return this.style.setFixedSize(b,T)},setBackgroundColor:function(b){return this.style.setBackgroundColor(b)},setFill:function(b){return this.style.setFill(b)},setColor:function(b){return this.style.setColor(b)},setStroke:function(b,T){return this.style.setStroke(b,T)},setShadow:function(b,T,_,A,M,I){return this.style.setShadow(b,T,_,A,M,I)},setShadowOffset:function(b,T){return this.style.setShadowOffset(b,T)},setShadowColor:function(b){return this.style.setShadowColor(b)},setShadowBlur:function(b){return this.style.setShadowBlur(b)},setShadowStroke:function(b){return this.style.setShadowStroke(b)},setShadowFill:function(b){return this.style.setShadowFill(b)},setWordWrapWidth:function(b,T){return this.style.setWordWrapWidth(b,T)},setWordWrapCallback:function(b,T){return this.style.setWordWrapCallback(b,T)},setAlign:function(b){return this.style.setAlign(b)},setResolution:function(b){return this.style.setResolution(b)},setLineSpacing:function(b){return this.lineSpacing=b,this.updateText()},setLetterSpacing:function(b){return this.letterSpacing=b,this.updateText()},setPadding:function(b,T,_,A){if("object"==typeof b){var M=b,I=h(M,"x",null);null!==I?(b=I,_=I):(b=h(M,"left",0),_=h(M,"right",b));var R=h(M,"y",null);null!==R?(T=R,A=R):(T=h(M,"top",0),A=h(M,"bottom",T))}else void 0===b&&(b=0),void 0===T&&(T=b),void 0===_&&(_=b),void 0===A&&(A=T);return this.padding.left=b,this.padding.top=T,this.padding.right=_,this.padding.bottom=A,this.updateText()},setMaxLines:function(b){return this.style.setMaxLines(b)},setRTL:function(b){void 0===b&&(b=!0);var T=this.style;return T.rtl===b||(T.rtl=b,b?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",y(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),"left"===T.align?T.align="right":"right"===T.align&&(T.align="left")),this},updateText:function(){var b=this.canvas,T=this.context,_=this.style,A=_.resolution,M=_.metrics;_.syncFont(b,T);var I=this._text;(_.wordWrapWidth||_.wordWrapCallback)&&(I=this.runWordWrap(this._text));var V,R=I.split(this.splitRegExp),F=c(this,M,R),N=this.padding;0===_.fixedWidth?(this.width=F.width+N.left+N.right,V=F.width):(this.width=_.fixedWidth,(V=this.width-N.left-N.right)<F.width&&(V=F.width)),this.height=0===_.fixedHeight?F.height+N.top+N.bottom:_.fixedHeight;var B=this.width,G=this.height;this.updateDisplayOrigin(),B*=A,G*=A,B=Math.max(B,1),G=Math.max(G,1),b.width!==B||b.height!==G?(b.width=B,b.height=G,this.frame.setSize(B,G),_.syncFont(b,T),_.rtl&&(T.direction="rtl")):T.clearRect(0,0,B,G),T.save(),T.scale(A,A),_.backgroundColor&&(T.fillStyle=_.backgroundColor,T.fillRect(0,0,B,G)),_.syncStyle(b,T),T.translate(N.left,N.top);for(var Q,H,K=0;K<F.lines;K++){if(Q=_.strokeThickness/2,H=_.strokeThickness/2+K*F.lineHeight+M.ascent,K>0&&(H+=F.lineSpacing*K),_.rtl)Q=B-Q-N.left-N.right;else if("right"===_.align)Q+=V-F.lineWidths[K];else if("center"===_.align)Q+=(V-F.lineWidths[K])/2;else if("justify"===_.align&&F.lineWidths[K]/F.width>=.85){for(var at=F.width-F.lineWidths[K],lt=T.measureText(" ").width,q=R[K].trim(),it=q.split(" "),Y=Math.floor((at+=(R[K].length-q.length)*lt)/lt),X=0;Y>0;)it[X]+=" ",X=(X+1)%(it.length-1||1),--Y;R[K]=it.join(" ")}this.autoRound&&(Q=Math.round(Q),H=Math.round(H));var nt=this.letterSpacing;if(_.strokeThickness&&0===nt&&(_.syncShadow(T,_.shadowStroke),T.strokeText(R[K],Q,H)),_.color)if(_.syncShadow(T,_.shadowFill),0!==nt)for(var dt=0,gt=R[K].split(""),bt=0;bt<gt.length;bt++)_.strokeThickness&&(_.syncShadow(T,_.shadowStroke),T.strokeText(gt[bt],Q+dt,H),_.syncShadow(T,_.shadowFill)),T.fillText(gt[bt],Q+dt,H),dt+=T.measureText(gt[bt]).width+nt;else T.fillText(R[K],Q,H)}T.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(b,this.frame.source.glTexture,!0));var Et=this.input;return Et&&!Et.customHitArea&&(Et.hitArea.width=this.width,Et.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(b){this.setText(b)}},toJSON:function(){var b=f.ToJSON(this),T={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return b.data=T,b},preDestroy:function(){p(this.canvas),C.remove(this.canvas);var b=this.texture;b&&b.destroy()}});S.exports=x},79724:S=>{S.exports=function(a,y,C,g){0===y.width||0===y.height||(C.addToRenderList(y),a.batchSprite(y,y.frame,C,g))}},71259:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(50171);C.register("text",function(d,c){void 0===d&&(d={});var h=g(d,"text",""),p=g(d,"style",null),u=g(d,"padding",null);null!==u&&(p.padding=u);var m=new f(this.scene,0,0,h,p);return void 0!==c&&(d.add=c),y(this.scene,m,d),m.autoRound=g(d,"autoRound",!0),m.resolution=g(d,"resolution",1),m})},68005:(S,P,a)=>{var y=a(50171);a(39429).register("text",function(g,f,d,c){return this.displayList.add(new y(this.scene,g,f,d,c))})},61771:(S,P,a)=>{var C,g;a(29747),C=a(34397),g=a(79724),S.exports={renderWebGL:C,renderCanvas:g}},35762:(S,P,a)=>{var y=a(83419),C=a(23568),g=a(35154),f=a(79557),d={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xc3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},c=new y({initialize:function(p,u){this.parent=p,this.setStyle(u,!1,!0)},setStyle:function(h,p,u){for(var m in void 0===p&&(p=!0),void 0===u&&(u=!1),d){var v=u?d[m][1]:this[m];this[m]="wordWrapCallback"===m||"wordWrapCallbackScope"===m?g(h,d[m][0],v):h&&"fontSize"===m&&"number"==typeof h.fontSize?h.fontSize.toString()+"px":C(h,d[m][0],v)}var x=g(h,"font",null);null!==x&&this.setFont(x,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var b=g(h,"fill",null);null!==b&&(this.color=b);var T=g(h,"metrics",!1);return T?this.metrics={ascent:g(T,"ascent",0),descent:g(T,"descent",0),fontSize:g(T,"fontSize",0)}:(p||!this.metrics)&&(this.metrics=f(this)),p?this.parent.updateText():this.parent},syncFont:function(h,p){p.font=this._font},syncStyle:function(h,p){p.textBaseline="alphabetic",p.fillStyle=this.color,p.strokeStyle=this.stroke,p.lineWidth=this.strokeThickness,p.lineCap="round",p.lineJoin="round"},syncShadow:function(h,p){p?(h.shadowOffsetX=this.shadowOffsetX,h.shadowOffsetY=this.shadowOffsetY,h.shadowColor=this.shadowColor,h.shadowBlur=this.shadowBlur):(h.shadowOffsetX=0,h.shadowOffsetY=0,h.shadowColor=0,h.shadowBlur=0)},update:function(h){return h&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=f(this)),this.parent.updateText()},setFont:function(h,p){void 0===p&&(p=!0);var u=h,m="",v="";if("string"!=typeof h)u=g(h,"fontFamily","Courier"),m=g(h,"fontSize","16px"),v=g(h,"fontStyle","");else{var x=h.split(" "),b=0;v=x.length>2?x[b++]:"",m=x[b++]||"16px",u=x[b++]||"Courier"}return(u!==this.fontFamily||m!==this.fontSize||v!==this.fontStyle)&&(this.fontFamily=u,this.fontSize=m,this.fontStyle=v,p&&this.update(!0)),this.parent},setFontFamily:function(h){return this.fontFamily!==h&&(this.fontFamily=h,this.update(!0)),this.parent},setFontStyle:function(h){return this.fontStyle!==h&&(this.fontStyle=h,this.update(!0)),this.parent},setFontSize:function(h){return"number"==typeof h&&(h=h.toString()+"px"),this.fontSize!==h&&(this.fontSize=h,this.update(!0)),this.parent},setTestString:function(h){return this.testString=h,this.update(!0)},setFixedSize:function(h,p){return this.fixedWidth=h,this.fixedHeight=p,h&&(this.parent.width=h),p&&(this.parent.height=p),this.update(!1)},setBackgroundColor:function(h){return this.backgroundColor=h,this.update(!1)},setFill:function(h){return this.color=h,this.update(!1)},setColor:function(h){return this.color=h,this.update(!1)},setResolution:function(h){return this.resolution=h,this.update(!1)},setStroke:function(h,p){return void 0===p&&(p=this.strokeThickness),void 0===h&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):(this.stroke!==h||this.strokeThickness!==p)&&(this.stroke=h,this.strokeThickness=p,this.update(!0)),this.parent},setShadow:function(h,p,u,m,v,x){return void 0===h&&(h=0),void 0===p&&(p=0),void 0===u&&(u="#000"),void 0===m&&(m=0),void 0===v&&(v=!1),void 0===x&&(x=!0),this.shadowOffsetX=h,this.shadowOffsetY=p,this.shadowColor=u,this.shadowBlur=m,this.shadowStroke=v,this.shadowFill=x,this.update(!1)},setShadowOffset:function(h,p){return void 0===h&&(h=0),void 0===p&&(p=h),this.shadowOffsetX=h,this.shadowOffsetY=p,this.update(!1)},setShadowColor:function(h){return void 0===h&&(h="#000"),this.shadowColor=h,this.update(!1)},setShadowBlur:function(h){return void 0===h&&(h=0),this.shadowBlur=h,this.update(!1)},setShadowStroke:function(h){return this.shadowStroke=h,this.update(!1)},setShadowFill:function(h){return this.shadowFill=h,this.update(!1)},setWordWrapWidth:function(h,p){return void 0===p&&(p=!1),this.wordWrapWidth=h,this.wordWrapUseAdvanced=p,this.update(!1)},setWordWrapCallback:function(h,p){return void 0===p&&(p=null),this.wordWrapCallback=h,this.wordWrapCallbackScope=p,this.update(!1)},setAlign:function(h){return void 0===h&&(h="left"),this.align=h,this.update(!1)},setMaxLines:function(h){return void 0===h&&(h=0),this.maxLines=h,this.update(!1)},getTextMetrics:function(){var h=this.metrics;return{ascent:h.ascent,descent:h.descent,fontSize:h.fontSize}},toJSON:function(){var h={};for(var p in d)h[p]=this[p];return h.metrics=this.getTextMetrics(),h},destroy:function(){this.parent=void 0}});S.exports=c},34397:(S,P,a)=>{var y=a(70554);S.exports=function(g,f,d,c){if(0!==f.width&&0!==f.height){d.addToRenderList(f);var h=f.frame,p=h.width,u=h.height,m=y.getTintAppendFloatAlpha,v=g.pipelines.set(f.pipeline,f),x=v.setTexture2D(h.glTexture,f);v.batchTexture(f,h.glTexture,p,u,f.x,f.y,p/f.style.resolution,u/f.style.resolution,f.scaleX,f.scaleY,f.rotation,f.flipX,f.flipY,f.scrollFactorX,f.scrollFactorY,f.displayOriginX,f.displayOriginY,0,0,p,u,m(f.tintTopLeft,d.alpha*f._alphaTL),m(f.tintTopRight,d.alpha*f._alphaTR),m(f.tintBottomLeft,d.alpha*f._alphaBL),m(f.tintBottomRight,d.alpha*f._alphaBR),f.tintFill,0,0,d,c,!1,x)}}},20839:(S,P,a)=>{var y=a(27919),C=a(83419),g=a(31401),f=a(95643),d=a(98439),c=a(68703),h=a(56295),p=a(45650),u=a(26099),v=new C({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Crop,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Tint,g.Transform,g.Visible,h],initialize:function(b,T,_,A,M,I,R){var F=b.sys.renderer;f.call(this,b,"TileSprite");var N=b.sys.textures.get(I),V=N.get(R);V.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),V=(N=b.sys.textures.get("__MISSING")).get()),"DynamicTexture"===N.type&&(console.warn("TileSprite cannot use Dynamic Texture"),V=(N=b.sys.textures.get("__MISSING")).get()),A&&M?(A=Math.floor(A),M=Math.floor(M)):(A=A||V.width,M=M||V.height),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=F,this.canvas=y.create(this,A,M),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=N,this.displayFrame=V,this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=b.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=d(V.width),this.potHeight=d(V.height),this.fillCanvas=y.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(T,_),this.setSize(A,M),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(x,b){return this.displayTexture=this.scene.sys.textures.get(x),this.setFrame(b)},setFrame:function(x){var b=this.displayTexture.get(x);return this.potWidth=d(b.width),this.potHeight=d(b.height),this.canvas.width=0,b.cutWidth&&b.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=b,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(x,b){return void 0!==x&&(this.tilePositionX=x),void 0!==b&&(this.tilePositionY=b),this},setTileScale:function(x,b){return void 0===x&&(x=this.tileScaleX),void 0===b&&(b=x),this.tileScaleX=x,this.tileScaleY=b,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var x=this.displayFrame;if(x.source.isRenderTexture||x.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var b=this.fillContext,T=this.fillCanvas,_=this.potWidth,A=this.potHeight;(!this.renderer||!this.renderer.gl)&&(_=x.cutWidth,A=x.cutHeight),b.clearRect(0,0,_,A),T.width=_,T.height=A,b.drawImage(x.source.image,x.cutX,x.cutY,x.cutWidth,x.cutHeight,0,0,_,A),this.fillPattern=this.renderer&&this.renderer.gl?this.renderer.canvasToTexture(T,this.fillPattern):b.createPattern(T,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var x=this.canvas;if((x.width!==this.width||x.height!==this.height)&&(x.width=this.width,x.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var b=this.context;this.scene.sys.game.config.antialias||c.disable(b);var T=this._tileScale.x,_=this._tileScale.y,A=this._tilePosition.x,M=this._tilePosition.y;b.clearRect(0,0,this.width,this.height),b.save(),b.scale(T,_),b.translate(-A,-M),b.fillStyle=this.fillPattern,b.fillRect(A,M,this.width/T,this.height/_),b.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),y.remove(this.canvas),y.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var x=this.texture;x&&x.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(x){this._tilePosition.x=x,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(x){this._tilePosition.y=x,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(x){this._tileScale.x=x,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(x){this._tileScale.y=x,this.dirty=!0}}});S.exports=v},46992:S=>{S.exports=function(a,y,C,g){y.updateCanvas(),C.addToRenderList(y),a.batchSprite(y,y.frame,C,g)}},14167:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(20839);C.register("tileSprite",function(d,c){void 0===d&&(d={});var h=g(d,"x",0),p=g(d,"y",0),u=g(d,"width",512),m=g(d,"height",512),v=g(d,"key",""),x=g(d,"frame",""),b=new f(this.scene,h,p,u,m,v,x);return void 0!==c&&(d.add=c),y(this.scene,b,d),b})},91681:(S,P,a)=>{var y=a(20839);a(39429).register("tileSprite",function(g,f,d,c,h,p){return this.displayList.add(new y(this.scene,g,f,d,c,h,p))})},56295:(S,P,a)=>{var C,g;a(29747),C=a(18553),g=a(46992),S.exports={renderWebGL:C,renderCanvas:g}},18553:(S,P,a)=>{var y=a(70554);S.exports=function(g,f,d,c){f.updateCanvas();var h=f.width,p=f.height;if(0!==h&&0!==p){d.addToRenderList(f);var u=y.getTintAppendFloatAlpha,m=g.pipelines.set(f.pipeline,f),v=m.setTexture2D(f.fillPattern,f);m.batchTexture(f,f.fillPattern,f.displayFrame.width*f.tileScaleX,f.displayFrame.height*f.tileScaleY,f.x,f.y,h,p,f.scaleX,f.scaleY,f.rotation,f.flipX,f.flipY,f.scrollFactorX,f.scrollFactorY,f.originX*h,f.originY*p,0,0,h,p,u(f.tintTopLeft,d.alpha*f._alphaTL),u(f.tintTopRight,d.alpha*f._alphaTR),u(f.tintBottomLeft,d.alpha*f._alphaBL),u(f.tintBottomRight,d.alpha*f._alphaBR),f.tintFill,f.tilePositionX%f.displayFrame.width/f.displayFrame.width,f.tilePositionY%f.displayFrame.height/f.displayFrame.height,d,c,!1,v)}}},18471:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(31401),f=a(51708),d=a(8443),c=a(95643),h=a(36383),p=a(14463),u=a(45650),m=a(10247),v=new C({Extends:c,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.TextureCrop,g.Tint,g.Transform,g.Visible,m],initialize:function(b,T,_,A){c.call(this,b,"Video"),this.flipY=!1,this._key=u(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var M=b.sys.game;this._device=M.device.video,this.setPosition(T,_),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),M.events.on(d.PAUSE,this.globalPause,this),M.events.on(d.RESUME,this.globalResume,this);var I=b.sys.sound;I&&I.on(p.GLOBAL_MUTE,this.globalMute,this),A&&this.load(A)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(x){var b=this.scene.sys.cache.video.get(x);return b?(this.cacheKey=x,this.loadHandler(b.url,b.noAudio,b.crossOrigin)):console.warn("No video in cache for key: "+x),this},changeSource:function(x,b,T,_,A){void 0===b&&(b=!0),void 0===T&&(T=!1),this.cacheKey!==x&&(this.load(x),b&&this.play(T,_,A))},getVideoKey:function(){return this.cacheKey},loadURL:function(x,b,T){void 0===b&&(b=!1);var _=this._device.getVideoURL(x);return _?(this.cacheKey="",this.loadHandler(_.url,b,T)):console.warn("No supported video format found for "+x),this},loadMediaStream:function(x,b,T){return this.loadHandler(null,b,T,x)},loadHandler:function(x,b,T,_){b||(b=!1);var A=this.video;if(A?(this.removeLoadEventHandlers(),this.stop()):((A=document.createElement("video")).controls=!1,A.setAttribute("playsinline","playsinline"),A.setAttribute("preload","auto"),A.setAttribute("disablePictureInPicture","true")),b?(A.muted=!0,A.defaultMuted=!0,A.setAttribute("autoplay","autoplay")):(A.muted=!1,A.defaultMuted=!1,A.removeAttribute("autoplay")),T?A.setAttribute("crossorigin",T):A.removeAttribute("crossorigin"),_)if("srcObject"in A)try{A.srcObject=_}catch(I){if("TypeError"!==I.name)throw I;A.src=URL.createObjectURL(_)}else A.src=URL.createObjectURL(_);else A.src=x;this.retry=0,this.video=A,this._playCalled=!1,A.load(),this.addLoadEventHandlers();var M=this.scene.sys.textures.get(this._key);return this.setTexture(M),this},requestVideoFrame:function(x,b){var T=this.video;if(T){var _=b.width,A=b.height,M=this.videoTexture,I=this.videoTextureSource,R=!M||I.source!==T;R?(this._codePaused=T.paused,this._codeMuted=T.muted,M?(I.source=T,I.width=_,I.height=A,M.get().setSize(_,A)):((M=this.scene.sys.textures.create(this._key,T,_,A)).add("__BASE",0,0,0,_,A),this.setTexture(M),this.videoTexture=M,this.videoTextureSource=M.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(f.VIDEO_TEXTURE,this,M)),this.setSizeToFrame(),this.updateDisplayOrigin()):I.update(),this.isStalled=!1,this.metadata=b;var F=b.mediaTime;R&&(this._lastUpdate=F,this.emit(f.VIDEO_CREATED,this,_,A),this.frameReady||(this.frameReady=!0,this.emit(f.VIDEO_PLAY,this))),this._playingMarker?F>=this._markerOut&&(T.loop?(T.currentTime=this._markerIn,this.emit(f.VIDEO_LOOP,this)):(this.stop(!1),this.emit(f.VIDEO_COMPLETE,this))):F<this._lastUpdate&&this.emit(f.VIDEO_LOOP,this),this._lastUpdate=F,this._getFrame?(this.removeEventHandlers(),T.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(x,b,T){void 0===b&&(b=-1),void 0===T&&(T=h.MAX_SAFE_INTEGER);var _=this.video;return!_||this.isPlaying()?(_||console.warn("Video not loaded"),this):(void 0===x&&(x=_.loop),_.loop=x,this._markerIn=b,this._markerOut=T,this._playingMarker=b>-1&&T>b&&T<h.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=_.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var x=this.video;x&&(x.addEventListener("error",this._loadCallbackHandler),x.addEventListener("abort",this._loadCallbackHandler),x.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var x=this.video;x&&(x.removeEventListener("error",this._loadCallbackHandler),x.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var x=this.video;if(x){var b=this._callbacks;for(var T in b)x.addEventListener(T,b[T])}},removeEventHandlers:function(){var x=this.video;if(x){var b=this._callbacks;for(var T in b)x.removeEventListener(T,b[T])}},createPlayPromise:function(x){void 0===x&&(x=!0);var b=this.video,T=b.play();if(void 0!==T){var _=this.playSuccess.bind(this),A=this.playError.bind(this);if(!x){var M=this;A=function(){M.failedPlayAttempts++}}T.then(_).catch(A)}else b.addEventListener("playing",this._callbacks.legacy),x||this.failedPlayAttempts++},addMarker:function(x,b,T){return!isNaN(b)&&b>=0&&!isNaN(T)&&T>b&&(this.markers[x]=[b,T]),this},playMarker:function(x,b){var T=this.markers[x];return T&&this.play(b,T[0],T[1]),this},removeMarker:function(x){return delete this.markers[x],this},snapshot:function(x,b){return void 0===x&&(x=this.width),void 0===b&&(b=this.height),this.snapshotArea(0,0,this.width,this.height,x,b)},snapshotArea:function(x,b,T,_,A,M){void 0===x&&(x=0),void 0===b&&(b=0),void 0===T&&(T=this.width),void 0===_&&(_=this.height),void 0===A&&(A=T),void 0===M&&(M=_);var I=this.video,R=this.snapshotTexture;return R?(R.setSize(A,M),I&&R.context.drawImage(I,x,b,T,_,0,0,A,M)):(R=this.scene.sys.textures.createCanvas(u(),A,M),this.snapshotTexture=R,I&&R.context.drawImage(I,x,b,T,_,0,0,A,M)),R.update()},saveSnapshotTexture:function(x){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,x):this.snapshotTexture=this.scene.sys.textures.createCanvas(x,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(f.VIDEO_UNLOCKED,this));var x=this.scene.sys.sound;x&&x.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(x){var b=x.name;"NotAllowedError"===b?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(f.VIDEO_LOCKED,this)):"NotSupportedError"===b?(this.stop(!1),this.emit(f.VIDEO_UNSUPPORTED,this,x)):(this.stop(!1),this.emit(f.VIDEO_ERROR,this,x))},legacyPlayHandler:function(){var x=this.video;x&&(this.playSuccess(),x.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(f.VIDEO_PLAYING,this)},loadErrorHandler:function(x){this.stop(!1),this.emit(f.VIDEO_ERROR,this,x)},metadataHandler:function(x){this.emit(f.VIDEO_METADATA,this,x)},setSizeToFrame:function(x){x||(x=this.frame),this.width=x.realWidth,this.height=x.realHeight,1!==this.scaleX&&(this.scaleX=this.displayWidth/this.width),1!==this.scaleY&&(this.scaleY=this.displayHeight/this.height);var b=this.input;return b&&!b.customHitArea&&(b.hitArea.width=this.width,b.hitArea.height=this.height),this},stalledHandler:function(x){this.isStalled=!0,this.emit(f.VIDEO_STALLED,this,x)},completeHandler:function(){this._playCalled=!1,this.emit(f.VIDEO_COMPLETE,this)},preUpdate:function(x,b){!this.video||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=b,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(x){var b=this.video;if(b){var T=b.duration;T===1/0||isNaN(T)||this.setCurrentTime(T*x)}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(x){var b=this.video;if(b){if("string"==typeof x){var T=x[0],_=parseFloat(x.substr(1));"+"===T?x=b.currentTime+_:"-"===T&&(x=b.currentTime-_)}b.currentTime=x}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(f.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(f.VIDEO_SEEKED,this)},getProgress:function(){var x=this.video;if(x){var b=x.duration;if(b!==1/0&&!isNaN(b))return x.currentTime/b}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(x){void 0===x&&(x=!0),this._codeMuted=x;var b=this.video;return b&&(b.muted=!!this._systemMuted||x),this},isMuted:function(){return this._codeMuted},globalMute:function(x,b){this._systemMuted=b;var T=this.video;T&&(T.muted=!!this._codeMuted||b)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(x){void 0===x&&(x=!0);var b=this.video;return this._codePaused=x,b&&!b.ended&&(x?b.paused||(this.removeEventHandlers(),b.pause()):x||(this._playCalled?b.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(x){return void 0===x&&(x=1),this.video&&(this.video.volume=y(x,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(x){return this.video&&(this.video.playbackRate=x),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(x){return void 0===x&&(x=!0),this.video&&(this.video.loop=x),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(x,b){return void 0===b&&(b=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,x),this.videoTextureSource.setFlipY(b)),this._key=x,this.flipY=b,!!this.videoTexture},stop:function(x){void 0===x&&(x=!0);var b=this.video;return b&&(this.removeEventHandlers(),b.cancelVideoFrameCallback(this._rfvCallbackId),b.pause()),this.retry=0,this._playCalled=!1,x&&this.emit(f.VIDEO_STOP,this),this},removeVideoElement:function(){var x=this.video;if(x){for(x.parentNode&&x.parentNode.removeChild(x);x.hasChildNodes();)x.removeChild(x.firstChild);x.removeAttribute("autoplay"),x.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var x=this.scene.sys.game.events;x.off(d.PAUSE,this.globalPause,this),x.off(d.RESUME,this.globalResume,this);var b=this.scene.sys.sound;b&&b.off(p.GLOBAL_MUTE,this.globalMute,this)}});S.exports=v},58352:S=>{S.exports=function(a,y,C,g){y.videoTexture&&(C.addToRenderList(y),a.batchSprite(y,y.frame,C,g))}},11511:(S,P,a)=>{var y=a(25305),C=a(44603),g=a(23568),f=a(18471);C.register("video",function(d,c){void 0===d&&(d={});var h=g(d,"key",null),p=new f(this.scene,0,0,h);return void 0!==c&&(d.add=c),y(this.scene,p,d),p})},89025:(S,P,a)=>{var y=a(18471);a(39429).register("video",function(g,f,d){return this.displayList.add(new y(this.scene,g,f,d))})},10247:(S,P,a)=>{var C,g;a(29747),C=a(29849),g=a(58352),S.exports={renderWebGL:C,renderCanvas:g}},29849:S=>{S.exports=function(a,y,C,g){y.videoTexture&&(C.addToRenderList(y),y.pipeline.batchSprite(y,C,g))}},41481:(S,P,a)=>{var y=a(10312),C=a(96503),g=a(87902),f=a(83419),d=a(31401),c=a(95643),h=a(87841),p=a(37303),u=new f({Extends:c,Mixins:[d.Depth,d.GetBounds,d.Origin,d.Transform,d.ScrollFactor,d.Visible],initialize:function(v,x,b,T,_){void 0===T&&(T=1),void 0===_&&(_=T),c.call(this,v,"Zone"),this.setPosition(x,b),this.width=T,this.height=_,this.blendMode=y.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(m){this.scaleX=m/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(m){this.scaleY=m/this.height}},setSize:function(m,v,x){void 0===x&&(x=!0),this.width=m,this.height=v,this.updateDisplayOrigin();var b=this.input;return x&&b&&!b.customHitArea&&(b.hitArea.width=m,b.hitArea.height=v),this},setDisplaySize:function(m,v){return this.displayWidth=m,this.displayHeight=v,this},setCircleDropZone:function(m){return this.setDropZone(new C(0,0,m),g)},setRectangleDropZone:function(m,v){return this.setDropZone(new h(0,0,m,v),p)},setDropZone:function(m,v){return this.input||this.setInteractive(m,v,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(m,v,x){x.addToRenderList(v)},renderWebGL:function(m,v,x){x.addToRenderList(v)}});S.exports=u},95261:(S,P,a)=>{var y=a(44603),C=a(23568),g=a(41481);y.register("zone",function(f){var d=C(f,"x",0),c=C(f,"y",0),h=C(f,"width",1),p=C(f,"height",h);return new g(this.scene,d,c,h,p)})},84175:(S,P,a)=>{var y=a(41481);a(39429).register("zone",function(g,f,d,c){return this.displayList.add(new y(this.scene,g,f,d,c))})},95166:S=>{S.exports=function(a){return a.radius>0?Math.PI*a.radius*a.radius:0}},96503:(S,P,a)=>{var y=a(83419),C=a(87902),g=a(26241),f=a(79124),d=a(23777),c=a(28176),h=new y({initialize:function(u,m,v){void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=0),this.type=d.CIRCLE,this.x=u,this.y=m,this._radius=v,this._diameter=2*v},contains:function(p,u){return C(this,p,u)},getPoint:function(p,u){return g(this,p,u)},getPoints:function(p,u,m){return f(this,p,u,m)},getRandomPoint:function(p){return c(this,p)},setTo:function(p,u,m){return this.x=p,this.y=u,this._radius=m,this._diameter=2*m,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(p,u){return void 0===u&&(u=p),this.x=p,this.y=u,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this._diameter=2*p}},diameter:{get:function(){return this._diameter},set:function(p){this._diameter=p,this._radius=.5*p}},left:{get:function(){return this.x-this._radius},set:function(p){this.x=p+this._radius}},right:{get:function(){return this.x+this._radius},set:function(p){this.x=p-this._radius}},top:{get:function(){return this.y-this._radius},set:function(p){this.y=p+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(p){this.y=p-this._radius}}});S.exports=h},71562:S=>{S.exports=function(a){return Math.PI*a.radius*2}},92110:(S,P,a)=>{var y=a(2141);S.exports=function(g,f,d){return void 0===d&&(d=new y),d.x=g.x+g.radius*Math.cos(f),d.y=g.y+g.radius*Math.sin(f),d}},42250:(S,P,a)=>{var y=a(96503);S.exports=function(g){return new y(g.x,g.y,g.radius)}},87902:S=>{S.exports=function(a,y,C){return a.radius>0&&y>=a.left&&y<=a.right&&C>=a.top&&C<=a.bottom&&(a.x-y)*(a.x-y)+(a.y-C)*(a.y-C)<=a.radius*a.radius}},5698:(S,P,a)=>{var y=a(87902);S.exports=function(g,f){return y(g,f.x,f.y)}},70588:(S,P,a)=>{var y=a(87902);S.exports=function(g,f){return y(g,f.x,f.y)&&y(g,f.right,f.y)&&y(g,f.x,f.bottom)&&y(g,f.right,f.bottom)}},26394:S=>{S.exports=function(a,y){return y.setTo(a.x,a.y,a.radius)}},76278:S=>{S.exports=function(a,y){return a.x===y.x&&a.y===y.y&&a.radius===y.radius}},2074:(S,P,a)=>{var y=a(87841);S.exports=function(g,f){return void 0===f&&(f=new y),f.x=g.left,f.y=g.top,f.width=g.diameter,f.height=g.diameter,f}},26241:(S,P,a)=>{var y=a(92110),C=a(62945),g=a(36383),f=a(2141);S.exports=function(c,h,p){void 0===p&&(p=new f);var u=C(h,0,g.PI2);return y(c,u,p)}},79124:(S,P,a)=>{var y=a(71562),C=a(92110),g=a(62945),f=a(36383);S.exports=function(c,h,p,u){void 0===u&&(u=[]),!h&&p>0&&(h=y(c)/p);for(var m=0;m<h;m++){var v=g(m/h,0,f.PI2);u.push(C(c,v))}return u}},50884:S=>{S.exports=function(a,y,C){return a.x+=y,a.y+=C,a}},39212:S=>{S.exports=function(a,y){return a.x+=y.x,a.y+=y.y,a}},28176:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){void 0===f&&(f=new y);var d=2*Math.PI*Math.random(),c=Math.random()+Math.random(),h=c>1?2-c:c,p=h*Math.cos(d),u=h*Math.sin(d);return f.x=g.x+p*g.radius,f.y=g.y+u*g.radius,f}},88911:(S,P,a)=>{var y=a(96503);y.Area=a(95166),y.Circumference=a(71562),y.CircumferencePoint=a(92110),y.Clone=a(42250),y.Contains=a(87902),y.ContainsPoint=a(5698),y.ContainsRect=a(70588),y.CopyFrom=a(26394),y.Equals=a(76278),y.GetBounds=a(2074),y.GetPoint=a(26241),y.GetPoints=a(79124),y.Offset=a(50884),y.OffsetPoint=a(39212),y.Random=a(28176),S.exports=y},23777:S=>{S.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},78874:S=>{S.exports=function(a){return a.isEmpty()?0:a.getMajorRadius()*a.getMinorRadius()*Math.PI}},92990:S=>{S.exports=function(a){var y=a.width/2,C=a.height/2,g=Math.pow(y-C,2)/Math.pow(y+C,2);return Math.PI*(y+C)*(1+3*g/(10+Math.sqrt(4-3*g)))}},79522:(S,P,a)=>{var y=a(2141);S.exports=function(g,f,d){void 0===d&&(d=new y);var h=g.height/2;return d.x=g.x+g.width/2*Math.cos(f),d.y=g.y+h*Math.sin(f),d}},58102:(S,P,a)=>{var y=a(8497);S.exports=function(g){return new y(g.x,g.y,g.width,g.height)}},81154:S=>{S.exports=function(a,y,C){if(a.width<=0||a.height<=0)return!1;var g=(y-a.x)/a.width,f=(C-a.y)/a.height;return(g*=g)+(f*=f)<.25}},46662:(S,P,a)=>{var y=a(81154);S.exports=function(g,f){return y(g,f.x,f.y)}},1632:(S,P,a)=>{var y=a(81154);S.exports=function(g,f){return y(g,f.x,f.y)&&y(g,f.right,f.y)&&y(g,f.x,f.bottom)&&y(g,f.right,f.bottom)}},65534:S=>{S.exports=function(a,y){return y.setTo(a.x,a.y,a.width,a.height)}},8497:(S,P,a)=>{var y=a(83419),C=a(81154),g=a(90549),f=a(48320),d=a(23777),c=a(24820),h=new y({initialize:function(u,m,v,x){void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),this.type=d.ELLIPSE,this.x=u,this.y=m,this.width=v,this.height=x},contains:function(p,u){return C(this,p,u)},getPoint:function(p,u){return g(this,p,u)},getPoints:function(p,u,m){return f(this,p,u,m)},getRandomPoint:function(p){return c(this,p)},setTo:function(p,u,m,v){return this.x=p,this.y=u,this.width=m,this.height=v,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(p,u){return void 0===u&&(u=p),this.x=p,this.y=u,this},setSize:function(p,u){return void 0===u&&(u=p),this.width=p,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(p){this.x=p+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(p){this.x=p-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(p){this.y=p+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(p){this.y=p-this.height/2}}});S.exports=h},36146:S=>{S.exports=function(a,y){return a.x===y.x&&a.y===y.y&&a.width===y.width&&a.height===y.height}},23694:(S,P,a)=>{var y=a(87841);S.exports=function(g,f){return void 0===f&&(f=new y),f.x=g.left,f.y=g.top,f.width=g.width,f.height=g.height,f}},90549:(S,P,a)=>{var y=a(79522),C=a(62945),g=a(36383),f=a(2141);S.exports=function(c,h,p){void 0===p&&(p=new f);var u=C(h,0,g.PI2);return y(c,u,p)}},48320:(S,P,a)=>{var y=a(92990),C=a(79522),g=a(62945),f=a(36383);S.exports=function(c,h,p,u){void 0===u&&(u=[]),!h&&p>0&&(h=y(c)/p);for(var m=0;m<h;m++){var v=g(m/h,0,f.PI2);u.push(C(c,v))}return u}},73424:S=>{S.exports=function(a,y,C){return a.x+=y,a.y+=C,a}},44808:S=>{S.exports=function(a,y){return a.x+=y.x,a.y+=y.y,a}},24820:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){void 0===f&&(f=new y);var d=Math.random()*Math.PI*2,c=Math.sqrt(Math.random());return f.x=g.x+c*Math.cos(d)*g.width/2,f.y=g.y+c*Math.sin(d)*g.height/2,f}},49203:(S,P,a)=>{var y=a(8497);y.Area=a(78874),y.Circumference=a(92990),y.CircumferencePoint=a(79522),y.Clone=a(58102),y.Contains=a(81154),y.ContainsPoint=a(46662),y.ContainsRect=a(1632),y.CopyFrom=a(65534),y.Equals=a(36146),y.GetBounds=a(23694),y.GetPoint=a(90549),y.GetPoints=a(48320),y.Offset=a(73424),y.OffsetPoint=a(44808),y.Random=a(24820),S.exports=y},55738:(S,P,a)=>{var y=a(23777),C=a(79291),g={Circle:a(88911),Ellipse:a(49203),Intersects:a(91865),Line:a(2529),Mesh:a(73090),Point:a(43711),Polygon:a(58423),Rectangle:a(93232),Triangle:a(84435)};g=C(!1,g,y),S.exports=g},2044:(S,P,a)=>{var y=a(20339);S.exports=function(g,f){return y(g.x,g.y,f.x,f.y)<=g.radius+f.radius}},81491:S=>{S.exports=function(a,y){var C=y.width/2,g=y.height/2,f=Math.abs(a.x-y.x-C),d=Math.abs(a.y-y.y-g);if(f>C+a.radius||d>g+a.radius)return!1;if(f<=C||d<=g)return!0;var p=f-C,u=d-g;return p*p+u*u<=a.radius*a.radius}},63376:(S,P,a)=>{var y=a(2141),C=a(2044);S.exports=function(f,d,c){if(void 0===c&&(c=[]),C(f,d)){var b,T,A,M,h=f.x,p=f.y,u=f.radius,m=d.x,v=d.y,x=d.radius;if(p===v)0==(A=(T=-2*v)*T-4*(b=1)*(m*m+(M=(x*x-u*u-m*m+h*h)/(2*(h-m)))*M-2*m*M+v*v-x*x))?c.push(new y(M,-T/(2*b))):A>0&&(c.push(new y(M,(-T+Math.sqrt(A))/(2*b))),c.push(new y(M,(-T-Math.sqrt(A))/(2*b))));else{var I=(h-m)/(p-v),R=(x*x-u*u-m*m+h*h-v*v+p*p)/(2*(p-v));0==(A=(T=2*p*I-2*R*I-2*h)*T-4*(b=I*I+1)*(h*h+p*p+R*R-u*u-2*p*R))?c.push(new y(M=-T/(2*b),R-M*I)):A>0&&(M=(-T+Math.sqrt(A))/(2*b),c.push(new y(M,R-M*I)),M=(-T-Math.sqrt(A))/(2*b),c.push(new y(M,R-M*I)))}}return c}},97439:(S,P,a)=>{var y=a(4042),C=a(81491);S.exports=function(f,d,c){if(void 0===c&&(c=[]),C(f,d)){var h=d.getLineA(),p=d.getLineB(),u=d.getLineC(),m=d.getLineD();y(h,f,c),y(p,f,c),y(u,f,c),y(m,f,c)}return c}},4042:(S,P,a)=>{var y=a(2141),C=a(80462);S.exports=function(f,d,c){if(void 0===c&&(c=[]),C(f,d)){var V,B,h=f.x1,p=f.y1,b=d.radius,T=f.x2-h,_=f.y2-p,A=h-d.x,M=p-d.y,I=T*T+_*_,R=2*(T*A+_*M),N=R*R-4*I*(A*A+M*M-b*b);if(0===N){var G=-R/(2*I);V=h+G*T,B=p+G*_,G>=0&&G<=1&&c.push(new y(V,B))}else if(N>0){var Q=(-R-Math.sqrt(N))/(2*I);V=h+Q*T,B=p+Q*_,Q>=0&&Q<=1&&c.push(new y(V,B));var H=(-R+Math.sqrt(N))/(2*I);V=h+H*T,B=p+H*_,H>=0&&H<=1&&c.push(new y(V,B))}}return c}},36100:(S,P,a)=>{var y=a(25836);S.exports=function(g,f,d,c){void 0===d&&(d=!1);var F,N,V,h=g.x1,p=g.y1,v=f.x1,x=f.y1,_=g.x2-h,A=g.y2-p,M=f.x2-v,I=f.y2-x,R=_*I-A*M;if(0===R)return null;if(d){if(F=(_*(x-p)+A*(h-v))/(M*A-I*_),0!==_)N=(v+M*F-h)/_;else{if(0===A)return null;N=(x+I*F-p)/A}if(N<0||F<0||F>1)return null;V=N}else{if(N=((p-x)*_-(h-v)*A)/R,(F=((v-h)*I-(x-p)*M)/R)<0||F>1||N<0||N>1)return null;V=F}return void 0===c&&(c=new y),c.set(h+_*V,p+A*V,V)}},3073:(S,P,a)=>{var y=a(36100),C=a(23031),g=a(25836),f=new C,d=new g;S.exports=function(h,p,u,m){void 0===u&&(u=!1),void 0===m&&(m=new g);var v=!1;m.set(),d.set();for(var x=p[p.length-1],b=0;b<p.length;b++){var T=p[b];f.setTo(x.x,x.y,T.x,T.y),x=T,y(h,f,u,d)&&(!v||d.z<m.z)&&(m.copy(d),v=!0)}return v?m:null}},56362:(S,P,a)=>{var y=a(25836),C=a(61369),g=a(3073),f=new y;S.exports=function(c,h,p,u){void 0===u&&(u=new C),Array.isArray(h)||(h=[h]);var m=!1;u.set(),f.set();for(var v=0;v<h.length;v++)g(c,h[v].points,p,f)&&(!m||f.z<u.z)&&(u.set(f.x,f.y,f.z,v),m=!0);return m?u:null}},60646:(S,P,a)=>{var y=a(2141),C=a(76112),g=a(92773);S.exports=function(d,c,h){if(void 0===h&&(h=[]),g(d,c))for(var p=c.getLineA(),u=c.getLineB(),m=c.getLineC(),v=c.getLineD(),x=[new y,new y,new y,new y],b=[C(p,d,x[0]),C(u,d,x[1]),C(m,d,x[2]),C(v,d,x[3])],T=0;T<4;T++)b[T]&&h.push(x[T]);return h}},71147:(S,P,a)=>{var y=a(61369),C=a(56362),f=new(a(23031));function d(p,u,m,v,x){var b=Math.cos(p),T=Math.sin(p);f.setTo(u,m,u+b,m+T);var _=C(f,v,!0);_&&x.push(new y(_.x,_.y,p,_.w))}function c(p,u){return p.z-u.z}S.exports=function(p,u,m){Array.isArray(m)||(m=[m]);for(var v=[],x=[],b=0;b<m.length;b++)for(var T=m[b].points,_=0;_<T.length;_++){var A=Math.atan2(T[_].y-u,T[_].x-p);-1===x.indexOf(A)&&(d(A,p,u,m,v),d(A-1e-5,p,u,m,v),d(A+1e-5,p,u,m,v),x.push(A))}return v.sort(c)}},68389:(S,P,a)=>{var y=a(87841),C=a(59996);S.exports=function(f,d,c){return void 0===c&&(c=new y),C(f,d)&&(c.x=Math.max(f.x,d.x),c.y=Math.max(f.y,d.y),c.width=Math.min(f.right,d.right)-c.x,c.height=Math.min(f.bottom,d.bottom)-c.y),c}},52784:(S,P,a)=>{var y=a(60646),C=a(59996);S.exports=function(f,d,c){if(void 0===c&&(c=[]),C(f,d)){var h=f.getLineA(),p=f.getLineB(),u=f.getLineC(),m=f.getLineD();y(h,d,c),y(p,d,c),y(u,d,c),y(m,d,c)}return c}},26341:(S,P,a)=>{var y=a(89265),C=a(60646);S.exports=function(f,d,c){if(void 0===c&&(c=[]),y(f,d)){var h=d.getLineA(),p=d.getLineB(),u=d.getLineC();C(h,f,c),C(p,f,c),C(u,f,c)}return c}},38720:(S,P,a)=>{var y=a(4042),C=a(67636);S.exports=function(f,d,c){if(void 0===c&&(c=[]),C(f,d)){var h=f.getLineA(),p=f.getLineB(),u=f.getLineC();y(h,d,c),y(p,d,c),y(u,d,c)}return c}},13882:(S,P,a)=>{var y=a(2141),C=a(2822),g=a(76112);S.exports=function(d,c,h){if(void 0===h&&(h=[]),C(d,c))for(var p=d.getLineA(),u=d.getLineB(),m=d.getLineC(),v=[new y,new y,new y],x=[g(p,c,v[0]),g(u,c,v[1]),g(m,c,v[2])],b=0;b<3;b++)x[b]&&h.push(v[b]);return h}},75636:(S,P,a)=>{var y=a(82944),C=a(13882);S.exports=function(f,d,c){if(void 0===c&&(c=[]),y(f,d)){var h=d.getLineA(),p=d.getLineB(),u=d.getLineC();C(f,h,c),C(f,p,c),C(f,u,c)}return c}},80462:(S,P,a)=>{var y=a(87902),g=new(a(2141));S.exports=function(d,c,h){if(void 0===h&&(h=g),y(c,d.x1,d.y1))return h.x=d.x1,h.y=d.y1,!0;if(y(c,d.x2,d.y2))return h.x=d.x2,h.y=d.y2,!0;var p=d.x2-d.x1,u=d.y2-d.y1,x=p*p+u*u,b=p,T=u;if(x>0){var _=((c.x-d.x1)*p+(c.y-d.y1)*u)/x;b*=_,T*=_}return h.x=d.x1+b,h.y=d.y1+T,b*b+T*T<=x&&b*p+T*u>=0&&y(c,h.x,h.y)}},76112:S=>{S.exports=function(a,y,C){var g=a.x1,f=a.y1,d=a.x2,c=a.y2,h=y.x1,p=y.y1,u=y.x2,m=y.y2;if(g===d&&f===c||h===u&&p===m)return!1;var v=(m-p)*(d-g)-(u-h)*(c-f);if(0===v)return!1;var x=((u-h)*(f-p)-(m-p)*(g-h))/v,b=((d-g)*(f-p)-(c-f)*(g-h))/v;return!(x<0||x>1||b<0||b>1||(C&&(C.x=g+x*(d-g),C.y=f+x*(c-f)),0))}},92773:S=>{S.exports=function(a,y){var C=a.x1,g=a.y1,f=a.x2,d=a.y2,c=y.x,h=y.y,p=y.right,u=y.bottom,m=0;if(C>=c&&C<=p&&g>=h&&g<=u||f>=c&&f<=p&&d>=h&&d<=u)return!0;if(C<c&&f>=c){if((m=g+(d-g)*(c-C)/(f-C))>h&&m<=u)return!0}else if(C>p&&f<=p&&(m=g+(d-g)*(p-C)/(f-C))>=h&&m<=u)return!0;if(g<h&&d>=h){if((m=C+(f-C)*(h-g)/(d-g))>=c&&m<=p)return!0}else if(g>u&&d<=u&&(m=C+(f-C)*(u-g)/(d-g))>=c&&m<=p)return!0;return!1}},16204:S=>{S.exports=function(a,y,C){void 0===C&&(C=1);var g=y.x1,f=y.y1,d=y.x2,c=y.y2,h=a.x,p=a.y,u=(d-g)*(d-g)+(c-f)*(c-f);if(0===u)return!1;var m=((h-g)*(d-g)+(p-f)*(c-f))/u;return m<0?Math.sqrt((g-h)*(g-h)+(f-p)*(f-p))<=C:m>=0&&m<=1?Math.abs(((f-p)*(d-g)-(g-h)*(c-f))/u)*Math.sqrt(u)<=C:Math.sqrt((d-h)*(d-h)+(c-p)*(c-p))<=C}},14199:(S,P,a)=>{var y=a(16204);S.exports=function(g,f){if(!y(g,f))return!1;var d=Math.min(f.x1,f.x2),c=Math.max(f.x1,f.x2),h=Math.min(f.y1,f.y2),p=Math.max(f.y1,f.y2);return g.x>=d&&g.x<=c&&g.y>=h&&g.y<=p}},59996:S=>{S.exports=function(a,y){return!(a.width<=0||a.height<=0||y.width<=0||y.height<=0||a.right<y.x||a.bottom<y.y||a.x>y.right||a.y>y.bottom)}},89265:(S,P,a)=>{var y=a(76112),C=a(37303),g=a(48653),f=a(77493);S.exports=function(c,h){if(h.left>c.right||h.right<c.left||h.top>c.bottom||h.bottom<c.top)return!1;var p=h.getLineA(),u=h.getLineB(),m=h.getLineC();if(C(c,p.x1,p.y1)||C(c,p.x2,p.y2)||C(c,u.x1,u.y1)||C(c,u.x2,u.y2)||C(c,m.x1,m.y1)||C(c,m.x2,m.y2))return!0;var v=c.getLineA(),x=c.getLineB(),b=c.getLineC(),T=c.getLineD();if(y(p,v)||y(p,x)||y(p,b)||y(p,T)||y(u,v)||y(u,x)||y(u,b)||y(u,T)||y(m,v)||y(m,x)||y(m,b)||y(m,T))return!0;var _=f(c);return g(h,_,!0).length>0}},84411:S=>{S.exports=function(a,y,C,g,f,d){return void 0===d&&(d=0),!(y>a.right+d||C<a.left-d||g>a.bottom+d||f<a.top-d)}},67636:(S,P,a)=>{var y=a(80462),C=a(10690);S.exports=function(f,d){return!(f.left>d.right||f.right<d.left||f.top>d.bottom||f.bottom<d.top||!(C(f,d.x,d.y)||y(f.getLineA(),d)||y(f.getLineB(),d)||y(f.getLineC(),d)))}},2822:(S,P,a)=>{var y=a(76112);S.exports=function(g,f){return!!(g.contains(f.x1,f.y1)||g.contains(f.x2,f.y2)||y(g.getLineA(),f)||y(g.getLineB(),f)||y(g.getLineC(),f))}},82944:(S,P,a)=>{var y=a(48653),C=a(71694),g=a(76112);S.exports=function(d,c){if(d.left>c.right||d.right<c.left||d.top>c.bottom||d.bottom<c.top)return!1;var h=d.getLineA(),p=d.getLineB(),u=d.getLineC(),m=c.getLineA(),v=c.getLineB(),x=c.getLineC();if(g(h,m)||g(h,v)||g(h,x)||g(p,m)||g(p,v)||g(p,x)||g(u,m)||g(u,v)||g(u,x))return!0;var b=C(d),T=y(c,b,!0);return T.length>0||(b=C(c),(T=y(d,b,!0)).length>0)}},91865:(S,P,a)=>{S.exports={CircleToCircle:a(2044),CircleToRectangle:a(81491),GetCircleToCircle:a(63376),GetCircleToRectangle:a(97439),GetLineToCircle:a(4042),GetLineToLine:a(36100),GetLineToPoints:a(3073),GetLineToPolygon:a(56362),GetLineToRectangle:a(60646),GetRaysFromPointToPolygon:a(71147),GetRectangleIntersection:a(68389),GetRectangleToRectangle:a(52784),GetRectangleToTriangle:a(26341),GetTriangleToCircle:a(38720),GetTriangleToLine:a(13882),GetTriangleToTriangle:a(75636),LineToCircle:a(80462),LineToLine:a(76112),LineToRectangle:a(92773),PointToLine:a(16204),PointToLineSegment:a(14199),RectangleToRectangle:a(59996),RectangleToTriangle:a(89265),RectangleToValues:a(84411),TriangleToCircle:a(67636),TriangleToLine:a(2822),TriangleToTriangle:a(82944)}},91938:S=>{S.exports=function(a){return Math.atan2(a.y2-a.y1,a.x2-a.x1)}},84993:S=>{S.exports=function(a,y,C){void 0===y&&(y=1),void 0===C&&(C=[]);var g=Math.round(a.x1),f=Math.round(a.y1),d=Math.round(a.x2),c=Math.round(a.y2),h=Math.abs(d-g),p=Math.abs(c-f),u=g<d?1:-1,m=f<c?1:-1,v=h-p;C.push({x:g,y:f});for(var x=1;g!==d||f!==c;){var b=v<<1;b>-p&&(v-=p,g+=u),b<h&&(v+=h,f+=m),x%y==0&&C.push({x:g,y:f}),x++}return C}},36469:S=>{S.exports=function(a,y,C){var g=y-(a.x1+a.x2)/2,f=C-(a.y1+a.y2)/2;return a.x1+=g,a.y1+=f,a.x2+=g,a.y2+=f,a}},31116:(S,P,a)=>{var y=a(23031);S.exports=function(g){return new y(g.x1,g.y1,g.x2,g.y2)}},59944:S=>{S.exports=function(a,y){return y.setTo(a.x1,a.y1,a.x2,a.y2)}},59220:S=>{S.exports=function(a,y){return a.x1===y.x1&&a.y1===y.y1&&a.x2===y.x2&&a.y2===y.y2}},78177:(S,P,a)=>{var y=a(35001);S.exports=function(g,f,d){void 0===d&&(d=f);var c=y(g),h=g.x2-g.x1,p=g.y2-g.y1;return f&&(g.x1=g.x1-h/c*f,g.y1=g.y1-p/c*f),d&&(g.x2=g.x2+h/c*d,g.y2=g.y2+p/c*d),g}},26708:(S,P,a)=>{var y=a(52816),C=a(6113),g=a(2141);S.exports=function(d,c,h,p,u){void 0===p&&(p=0),void 0===u&&(u=[]);var A,M,m=[],v=d.x1,x=d.y1,b=d.x2-v,T=d.y2-x,_=C(c,u),I=h-1;for(A=0;A<I;A++)M=_(A/I),m.push(new g(v+b*M,x+T*M));if(M=_(1),m.push(new g(v+b*M,x+T*M)),p>0){var R=m[0],F=[R];for(A=1;A<m.length-1;A++){var N=m[A];y(R,N)>=p&&(F.push(N),R=N)}var V=m[m.length-1];return y(R,V)<p&&F.pop(),F.push(V),F}return m}},32125:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){return void 0===f&&(f=new y),f.x=(g.x1+g.x2)/2,f.y=(g.y1+g.y2)/2,f}},99569:(S,P,a)=>{var y=a(2141);S.exports=function(g,f,d){void 0===d&&(d=new y);var c=g.x1,h=g.y1,p=g.x2,u=g.y2,m=(p-c)*(p-c)+(u-h)*(u-h);if(0===m)return d;var v=((f.x-c)*(p-c)+(f.y-h)*(u-h))/m;return d.x=c+v*(p-c),d.y=h+v*(u-h),d}},34638:(S,P,a)=>{var y=a(36383),C=a(91938),g=a(2141);S.exports=function(d,c){void 0===c&&(c=new g);var h=C(d)-y.TAU;return c.x=Math.cos(h),c.y=Math.sin(h),c}},13151:(S,P,a)=>{var y=a(2141);S.exports=function(g,f,d){return void 0===d&&(d=new y),d.x=g.x1+(g.x2-g.x1)*f,d.y=g.y1+(g.y2-g.y1)*f,d}},15258:(S,P,a)=>{var y=a(35001),C=a(2141);S.exports=function(f,d,c,h){void 0===h&&(h=[]),!d&&c>0&&(d=y(f)/c);for(var p=f.x1,u=f.y1,m=f.x2,v=f.y2,x=0;x<d;x++){var b=x/d;h.push(new C(p+(m-p)*b,u+(v-u)*b))}return h}},26408:S=>{S.exports=function(a,y){var C=a.x1,g=a.y1,f=a.x2,d=a.y2,c=(f-C)*(f-C)+(d-g)*(d-g);return 0!==c&&Math.abs(((g-y.y)*(f-C)-(C-y.x)*(d-g))/c)*Math.sqrt(c)}},98770:S=>{S.exports=function(a){return Math.abs(a.y1-a.y2)}},35001:S=>{S.exports=function(a){return Math.sqrt((a.x2-a.x1)*(a.x2-a.x1)+(a.y2-a.y1)*(a.y2-a.y1))}},23031:(S,P,a)=>{var y=a(83419),C=a(13151),g=a(15258),f=a(23777),d=a(65822),c=a(26099),h=new y({initialize:function(u,m,v,x){void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),this.type=f.LINE,this.x1=u,this.y1=m,this.x2=v,this.y2=x},getPoint:function(p,u){return C(this,p,u)},getPoints:function(p,u,m){return g(this,p,u,m)},getRandomPoint:function(p){return d(this,p)},setTo:function(p,u,m,v){return void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=0),this.x1=p,this.y1=u,this.x2=m,this.y2=v,this},setFromObjects:function(p,u){return this.x1=p.x,this.y1=p.y,this.x2=u.x,this.y2=u.y,this},getPointA:function(p){return void 0===p&&(p=new c),p.set(this.x1,this.y1),p},getPointB:function(p){return void 0===p&&(p=new c),p.set(this.x2,this.y2),p},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(p){this.x1<=this.x2?this.x1=p:this.x2=p}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(p){this.x1>this.x2?this.x1=p:this.x2=p}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(p){this.y1<=this.y2?this.y1=p:this.y2=p}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(p){this.y1>this.y2?this.y1=p:this.y2=p}}});S.exports=h},64795:(S,P,a)=>{var y=a(36383),C=a(15994),g=a(91938);S.exports=function(d){var c=g(d)-y.TAU;return C(c,-Math.PI,Math.PI)}},52616:(S,P,a)=>{var y=a(36383),C=a(91938);S.exports=function(f){return Math.cos(C(f)-y.TAU)}},87231:(S,P,a)=>{var y=a(36383),C=a(91938);S.exports=function(f){return Math.sin(C(f)-y.TAU)}},89662:S=>{S.exports=function(a,y,C){return a.x1+=y,a.y1+=C,a.x2+=y,a.y2+=C,a}},71165:S=>{S.exports=function(a){return-(a.x2-a.x1)/(a.y2-a.y1)}},65822:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){void 0===f&&(f=new y);var d=Math.random();return f.x=g.x1+d*(g.x2-g.x1),f.y=g.y1+d*(g.y2-g.y1),f}},69777:(S,P,a)=>{var y=a(91938),C=a(64795);S.exports=function(f,d){return 2*C(d)-Math.PI-y(f)}},39706:(S,P,a)=>{var y=a(64400);S.exports=function(g,f){return y(g,(g.x1+g.x2)/2,(g.y1+g.y2)/2,f)}},82585:(S,P,a)=>{var y=a(64400);S.exports=function(g,f,d){return y(g,f.x,f.y,d)}},64400:S=>{S.exports=function(a,y,C,g){var f=Math.cos(g),d=Math.sin(g),c=a.x1-y,h=a.y1-C;return a.x1=c*f-h*d+y,a.y1=c*d+h*f+C,a.x2=(c=a.x2-y)*f-(h=a.y2-C)*d+y,a.y2=c*d+h*f+C,a}},62377:S=>{S.exports=function(a,y,C,g,f){return a.x1=y,a.y1=C,a.x2=y+Math.cos(g)*f,a.y2=C+Math.sin(g)*f,a}},71366:S=>{S.exports=function(a){return(a.y2-a.y1)/(a.x2-a.x1)}},10809:S=>{S.exports=function(a){return Math.abs(a.x1-a.x2)}},2529:(S,P,a)=>{var y=a(23031);y.Angle=a(91938),y.BresenhamPoints=a(84993),y.CenterOn=a(36469),y.Clone=a(31116),y.CopyFrom=a(59944),y.Equals=a(59220),y.Extend=a(78177),y.GetEasedPoints=a(26708),y.GetMidPoint=a(32125),y.GetNearestPoint=a(99569),y.GetNormal=a(34638),y.GetPoint=a(13151),y.GetPoints=a(15258),y.GetShortestDistance=a(26408),y.Height=a(98770),y.Length=a(35001),y.NormalAngle=a(64795),y.NormalX=a(52616),y.NormalY=a(87231),y.Offset=a(89662),y.PerpSlope=a(71165),y.Random=a(65822),y.ReflectAngle=a(69777),y.Rotate=a(39706),y.RotateAroundPoint=a(82585),y.RotateAroundXY=a(64400),y.SetToAngle=a(62377),y.Slope=a(71366),y.Width=a(10809),S.exports=y},83997:(S,P,a)=>{var y=a(83419),C=a(87841),g=a(26099);function f(c,h,p,u){var m=c-p,v=h-u;return Math.sqrt(m*m+v*v)}var d=new y({initialize:function(h,p,u){this.vertex1=h,this.vertex2=p,this.vertex3=u,this.bounds=new C,this._inCenter=new g},getInCenter:function(c){void 0===c&&(c=!0);var m,v,x,b,T,_,h=this.vertex1,p=this.vertex2,u=this.vertex3;c?(m=h.x,v=h.y,x=p.x,b=p.y,T=u.x,_=u.y):(m=h.vx,v=h.vy,x=p.vx,b=p.vy,T=u.vx,_=u.vy);var A=f(T,_,x,b),M=f(m,v,T,_),I=f(x,b,m,v),R=A+M+I;return this._inCenter.set((m*A+x*M+T*I)/R,(v*A+b*M+_*I)/R)},contains:function(c,h,p){var u=this.vertex1,m=this.vertex2,v=this.vertex3,x=u.vx,b=u.vy,T=m.vx,_=m.vy,A=v.vx,M=v.vy;if(p){var I=p.a,R=p.b,F=p.c,N=p.d,V=p.e,B=p.f;x=u.vx*I+u.vy*F+V,b=u.vx*R+u.vy*N+B,T=m.vx*I+m.vy*F+V,_=m.vx*R+m.vy*N+B,A=v.vx*I+v.vy*F+V,M=v.vx*R+v.vy*N+B}var G=A-x,Q=M-b,H=T-x,K=_-b,tt=c-x,at=h-b,lt=G*G+Q*Q,q=G*H+Q*K,it=G*tt+Q*at,Y=H*H+K*K,X=H*tt+K*at,nt=lt*Y-q*q,dt=0===nt?0:1/nt,gt=(Y*it-q*X)*dt,bt=(lt*X-q*it)*dt;return gt>=0&&bt>=0&&gt+bt<1},isCounterClockwise:function(c){var h=this.vertex1,p=this.vertex2,u=this.vertex3,m=(p.vx-h.vx)*(u.vy-h.vy)-(p.vy-h.vy)*(u.vx-h.vx);return c<=0?m>=0:m<0},load:function(c,h,p,u,m){return p=this.vertex1.load(c,h,p,u,m),p=this.vertex2.load(c,h,p,u,m),this.vertex3.load(c,h,p,u,m)},transformCoordinatesLocal:function(c,h,p,u){return this.vertex1.transformCoordinatesLocal(c,h,p,u),this.vertex2.transformCoordinatesLocal(c,h,p,u),this.vertex3.transformCoordinatesLocal(c,h,p,u),this},updateBounds:function(){var c=this.vertex1,h=this.vertex2,p=this.vertex3,u=this.bounds;return u.x=Math.min(c.vx,h.vx,p.vx),u.y=Math.min(c.vy,h.vy,p.vy),u.width=Math.max(c.vx,h.vx,p.vx)-u.x,u.height=Math.max(c.vy,h.vy,p.vy)-u.y,this},isInView:function(c,h,p,u,m,v,x,b,T,_,A){this.update(u,m,v,x,b,T,_,A);var M=this.vertex1,I=this.vertex2,R=this.vertex3;if(M.ta<=0&&I.ta<=0&&R.ta<=0||h&&!this.isCounterClockwise(p))return!1;var F=this.bounds;return F.x=Math.min(M.tx,I.tx,R.tx),F.y=Math.min(M.ty,I.ty,R.ty),F.width=Math.max(M.tx,I.tx,R.tx)-F.x,F.height=Math.max(M.ty,I.ty,R.ty)-F.y,!(F.width<=0||F.height<=0||c.width<=0||c.height<=0||F.right<c.x||F.bottom<c.y||F.x>c.x+c.width||F.y>c.y+c.height)},scrollUV:function(c,h){return this.vertex1.scrollUV(c,h),this.vertex2.scrollUV(c,h),this.vertex3.scrollUV(c,h),this},scaleUV:function(c,h){return this.vertex1.scaleUV(c,h),this.vertex2.scaleUV(c,h),this.vertex3.scaleUV(c,h),this},setColor:function(c){return this.vertex1.color=c,this.vertex2.color=c,this.vertex3.color=c,this},update:function(c,h,p,u,m,v,x,b){return this.vertex1.update(h,p,u,m,v,x,b,c),this.vertex2.update(h,p,u,m,v,x,b,c),this.vertex3.update(h,p,u,m,v,x,b,c),this},translate:function(c,h){void 0===h&&(h=0);var p=this.vertex1,u=this.vertex2,m=this.vertex3;return p.x+=c,p.y+=h,u.x+=c,u.y+=h,m.x+=c,m.y+=h,this},x:{get:function(){return this.getInCenter().x},set:function(c){var h=this.getInCenter();this.translate(c-h.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(c){var h=this.getInCenter();this.translate(0,c-h.y)}},alpha:{get:function(){return(this.vertex1.alpha+this.vertex2.alpha+this.vertex3.alpha)/3},set:function(c){this.vertex1.alpha=c,this.vertex2.alpha=c,this.vertex3.alpha=c}},depth:{get:function(){return(this.vertex1.vz+this.vertex2.vz+this.vertex3.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});S.exports=d},48803:(S,P,a)=>{var y=a(83997),C=a(95540),g=a(37867),f=a(25836),d=a(39318),c=new f,h=new f,p=new g;S.exports=function(m){var it,v=C(m,"mesh"),x=C(m,"texture",null),b=C(m,"frame"),T=C(m,"width",1),_=C(m,"height",T),A=C(m,"widthSegments",1),M=C(m,"heightSegments",A),I=C(m,"x",0),R=C(m,"y",0),F=C(m,"z",0),N=C(m,"rotateX",0),V=C(m,"rotateY",0),B=C(m,"rotateZ",0),G=C(m,"zIsUp",!0),Q=C(m,"isOrtho",!!v&&v.dirtyCache[11]),H=C(m,"colors",[16777215]),K=C(m,"alphas",[1]),tt=C(m,"tile",!1),at=C(m,"flipY",!1),lt=C(m,"width",null),q={faces:[],verts:[]};if(c.set(I,R,F),h.set(N,V,B),p.fromRotationXYTranslation(h,c,G),!x&&v)x=v.texture,b||(it=v.frame);else if(v&&"string"==typeof x)x=v.scene.sys.textures.get(x);else if(!x)return q;it||(it=x.get(b)),!lt&&Q&&x&&v&&(T=it.width/v.height,_=it.height/v.height);var ne,ae,Y=T/2,X=_/2,nt=Math.floor(A),dt=Math.floor(M),gt=nt+1,bt=dt+1,Et=T/nt,Bt=_/dt,Kt=[],Zt=[],fe=0,ke=1,Ye=0,Pe=1;it&&(fe=it.u0,ke=it.u1,at?(Ye=it.v1,Pe=it.v0):(Ye=it.v0,Pe=it.v1));var Qe=ke-fe,Se=Pe-Ye;for(ae=0;ae<bt;ae++){var ei=ae*Bt-X;for(ne=0;ne<gt;ne++)Zt.push(ne*Et-Y,-ei),Kt.push(fe+Qe*(ne/nt),Ye+Se*(ae/dt))}Array.isArray(H)||(H=[H]),Array.isArray(K)||(K=[K]);var on=0,ln=0;for(ae=0;ae<dt;ae++)for(ne=0;ne<nt;ne++){var hn=2*(ne+gt*ae),Mr=2*(ne+gt*(ae+1)),Ur=2*(ne+1+gt*(ae+1)),dn=2*(ne+1+gt*ae),or=H[ln],Fr=K[on],Ts=new d(Zt[hn],Zt[hn+1],0,Kt[hn],Kt[hn+1],or,Fr).transformMat4(p),Xl=new d(Zt[Mr],Zt[Mr+1],0,Kt[Mr],Kt[Mr+1],or,Fr).transformMat4(p),js=new d(Zt[dn],Zt[dn+1],0,Kt[dn],Kt[dn+1],or,Fr).transformMat4(p),Va=new d(Zt[Mr],Zt[Mr+1],0,Kt[Mr],Kt[Mr+1],or,Fr).transformMat4(p),qo=new d(Zt[Ur],Zt[Ur+1],0,Kt[Ur],Kt[Ur+1],or,Fr).transformMat4(p),Yl=new d(Zt[dn],Zt[dn+1],0,Kt[dn],Kt[dn+1],or,Fr).transformMat4(p);tt&&(Ts.setUVs(fe,Pe),Xl.setUVs(fe,Ye),js.setUVs(ke,Pe),Va.setUVs(fe,Ye),qo.setUVs(ke,Ye),Yl.setUVs(ke,Pe)),++ln===H.length&&(ln=0),++on===K.length&&(on=0),q.verts.push(Ts,Xl,js,Va,qo,Yl),q.faces.push(new y(Ts,Xl,js),new y(Va,qo,Yl))}return v&&(v.faces=v.faces.concat(q.faces),v.vertices=v.vertices.concat(q.verts)),q}},34684:(S,P,a)=>{var y=a(83997),C=a(37867),g=a(25836),f=a(39318),d=new g,c=new g,h=new C;S.exports=function(u,m,v,x,b,T,_,A,M,I){void 0===v&&(v=1),void 0===x&&(x=0),void 0===b&&(b=0),void 0===T&&(T=0),void 0===_&&(_=0),void 0===A&&(A=0),void 0===M&&(M=0),void 0===I&&(I=!0);var R={faces:[],verts:[]},F=u.materials;d.set(x,b,T),c.set(_,A,M),h.fromRotationXYTranslation(c,d,I);for(var N=0;N<u.models.length;N++)for(var V=u.models[N],B=V.vertices,G=V.textureCoords,Q=V.faces,H=0;H<Q.length;H++){var K=Q[H],tt=K.vertices[0],at=K.vertices[1],lt=K.vertices[2],q=B[tt.vertexIndex],it=B[at.vertexIndex],Y=B[lt.vertexIndex],X=tt.textureCoordsIndex,nt=at.textureCoordsIndex,dt=lt.textureCoordsIndex,gt=-1===X?{u:0,v:1}:G[X],bt=-1===nt?{u:0,v:0}:G[nt],Et=-1===dt?{u:1,v:1}:G[dt],Bt=16777215;""!==K.material&&F[K.material]&&(Bt=F[K.material]);var Kt=new f(q.x*v,q.y*v,q.z*v,gt.u,gt.v,Bt).transformMat4(h),Zt=new f(it.x*v,it.y*v,it.z*v,bt.u,bt.v,Bt).transformMat4(h),ne=new f(Y.x*v,Y.y*v,Y.z*v,Et.u,Et.v,Bt).transformMat4(h);R.verts.push(Kt,Zt,ne),R.faces.push(new y(Kt,Zt,ne))}return m&&(m.faces=m.faces.concat(R.faces),m.vertices=m.vertices.concat(R.verts)),R}},92515:(S,P,a)=>{var y=a(83997),C=a(39318);S.exports=function(f,d,c,h,p,u,m,v){if(void 0===h&&(h=!1),void 0===u&&(u=16777215),void 0===m&&(m=1),void 0===v&&(v=!1),f.length===d.length||h){var b,I,N,V,B,x={faces:[],vertices:[]},G=h?3:2,Q=Array.isArray(u),H=Array.isArray(m);if(Array.isArray(c)&&c.length>0)for(b=0;b<c.length;b++){var K=c[b],tt=2*c[b],at=c[b]*G;I=d[tt+1],v&&(I=1-I),N=0,V=0,B=0,p&&(N=p[at],V=p[at+1],B=h?p[at+2]:0),x.vertices.push(new C(f[at],f[at+1],h?f[at+2]:0,d[tt],I,Q?u[K]:u,H?m[K]:m,N,V,B))}else{var lt=0,q=0;for(b=0;b<f.length;b+=G)N=0,V=0,B=0,p&&(N=p[b],V=p[b+1],B=h?p[b+2]:0),x.vertices.push(new C(f[b],f[b+1],h?f[b+2]:0,d[lt],I=d[lt+1],Q?u[q]:u,H?m[q]:m,N,V,B)),lt+=2,q++}for(b=0;b<x.vertices.length;b+=3)x.faces.push(new y(x.vertices[b],x.vertices[b+1],x.vertices[b+2]));return x}console.warn("GenerateVerts: vertices and uvs count not equal")}},85048:S=>{var P=!0,a="untitled",y="",C="";function g(T){var _=T.indexOf("#");return _>-1?T.substring(0,_):T}function f(T){return 0===T.models.length&&T.models.push({faces:[],name:a,textureCoords:[],vertexNormals:[],vertices:[]}),y="",T.models[T.models.length-1]}function d(T,_){_.models.push({faces:[],name:T.length>=2?T[1]:a,textureCoords:[],vertexNormals:[],vertices:[]}),y=""}function c(T){2===T.length&&(y=T[1])}function h(T,_){var A=T.length,M=A>=2?parseFloat(T[1]):0,I=A>=3?parseFloat(T[2]):0,R=A>=4?parseFloat(T[3]):0;f(_).vertices.push({x:M,y:I,z:R})}function p(T,_){var A=T.length,M=A>=2?parseFloat(T[1]):0,I=A>=3?parseFloat(T[2]):0,R=A>=4?parseFloat(T[3]):0;isNaN(M)&&(M=0),isNaN(I)&&(I=0),isNaN(R)&&(R=0),P&&(I=1-I),f(_).textureCoords.push({u:M,v:I,w:R})}function u(T,_){var A=T.length,M=A>=2?parseFloat(T[1]):0,I=A>=3?parseFloat(T[2]):0,R=A>=4?parseFloat(T[3]):0;f(_).vertexNormals.push({x:M,y:I,z:R})}function m(T,_){var A=T.length-1;if(!(A<3)){for(var M={group:y,material:C,vertices:[]},I=0;I<A;I++){var F=T[I+1].split("/"),N=F.length;if(!(N<1||N>3)){var V=0,B=0,G=0;V=parseInt(F[0],10),N>1&&""!==F[1]&&(B=parseInt(F[1],10)),N>2&&(G=parseInt(F[2],10)),0!==V&&(V<0&&(V=f(_).vertices.length+1+V),M.vertices.push({textureCoordsIndex:B-=1,vertexIndex:V-=1,vertexNormalIndex:G-=1}))}}f(_).faces.push(M)}}function v(T,_){T.length>=2&&_.materialLibraries.push(T[1])}function x(T){T.length>=2&&(C=T[1])}S.exports=function(T,_){void 0===_&&(_=!0),P=_;var A={materials:{},materialLibraries:[],models:[]};y="",C="";for(var M=T.split("\n"),I=0;I<M.length;I++){var F=g(M[I]).replace(/\s\s+/g," ").trim().split(" ");switch(F[0].toLowerCase()){case"o":d(F,A);break;case"g":c(F);break;case"v":h(F,A);break;case"vt":p(F,A);break;case"vn":u(F,A);break;case"f":m(F,A);break;case"mtllib":v(F,A);break;case"usemtl":x(F)}}return A}},61485:(S,P,a)=>{var y=a(37589);S.exports=function(g){for(var f={},d=g.split("\n"),c="",h=0;h<d.length;h++){var p=d[h].trim();if(0!==p.indexOf("#")&&""!==p){var u=p.replace(/\s\s+/g," ").trim().split(" ");switch(u[0].toLowerCase()){case"newmtl":c=u[1];break;case"kd":var m=Math.floor(255*u[1]),v=u.length>=2?Math.floor(255*u[2]):m,x=u.length>=3?Math.floor(255*u[3]):m;f[c]=y(m,v,x)}}}return f}},92570:S=>{S.exports=function(a,y,C,g){var f,d;if(void 0===C&&void 0===g){var c=a.getInCenter();f=c.x,d=c.y}var h=Math.cos(y),p=Math.sin(y),u=a.vertex1,m=a.vertex2,v=a.vertex3,x=u.x-f,b=u.y-d;u.set(x*h-b*p+f,x*p+b*h+d),m.set((x=m.x-f)*h-(b=m.y-d)*p+f,x*p+b*h+d),v.set((x=v.x-f)*h-(b=v.y-d)*p+f,x*p+b*h+d)}},39318:(S,P,a)=>{var y=a(83419),C=a(70554),g=a(25836),f=new y({Extends:g,initialize:function(c,h,p,u,m,v,x,b,T,_){void 0===v&&(v=16777215),void 0===x&&(x=1),void 0===b&&(b=0),void 0===T&&(T=0),void 0===_&&(_=0),g.call(this,c,h,p),this.vx=0,this.vy=0,this.vz=0,this.nx=b,this.ny=T,this.nz=_,this.u=u,this.v=m,this.color=v,this.alpha=x,this.tx=0,this.ty=0,this.ta=0,this.tu=u,this.tv=m},setUVs:function(d,c){return this.u=d,this.v=c,this.tu=d,this.tv=c,this},scrollUV:function(d,c){return this.tu+=d,this.tv+=c,this},scaleUV:function(d,c){return this.tu=this.u*d,this.tv=this.v*c,this},transformCoordinatesLocal:function(d,c,h,p){var u=this.x,m=this.y,v=this.z,x=d.val,T=u*x[1]+m*x[5]+v*x[9]+x[13],_=u*x[2]+m*x[6]+v*x[10]+x[14],A=u*x[3]+m*x[7]+v*x[11]+x[15];this.vx=(u*x[0]+m*x[4]+v*x[8]+x[12])/A*c,this.vy=-T/A*h,this.vz=p<=0?_/A:-_/A},resize:function(d,c,h,p,u,m){return this.x=d,this.y=c,this.vx=this.x*h,this.vy=-this.y*p,this.vz=0,u<.5?this.vx+=h*(.5-u):u>.5&&(this.vx-=h*(u-.5)),m<.5?this.vy+=p*(.5-m):m>.5&&(this.vy-=p*(m-.5)),this},update:function(d,c,h,p,u,m,v,x){var b=this.vx*d+this.vy*h+u,T=this.vx*c+this.vy*p+m;return v&&(b=Math.round(b),T=Math.round(T)),this.tx=b,this.ty=T,this.ta=this.alpha*x,this},load:function(d,c,h,p,u){return d[++h]=this.tx,d[++h]=this.ty,d[++h]=this.tu,d[++h]=this.tv,d[++h]=p,d[++h]=u,c[++h]=C.getTintAppendFloatAlpha(this.color,this.ta),h}});S.exports=f},73090:(S,P,a)=>{var y={Face:a(83997),GenerateGridVerts:a(48803),GenerateObjVerts:a(34684),GenerateVerts:a(92515),ParseObj:a(85048),ParseObjMaterial:a(61485),RotateFace:a(92570),Vertex:a(39318)};S.exports=y},96550:S=>{S.exports=function(a){return a.setTo(Math.ceil(a.x),Math.ceil(a.y))}},99706:(S,P,a)=>{var y=a(2141);S.exports=function(g){return new y(g.x,g.y)}},68010:S=>{S.exports=function(a,y){return y.setTo(a.x,a.y)}},27814:S=>{S.exports=function(a,y){return a.x===y.x&&a.y===y.y}},73565:S=>{S.exports=function(a){return a.setTo(Math.floor(a.x),Math.floor(a.y))}},87555:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){if(void 0===f&&(f=new y),!Array.isArray(g))throw new Error("GetCentroid points argument must be an array");var d=g.length;if(d<1)throw new Error("GetCentroid points array must not be empty");if(1===d)f.x=g[0].x,f.y=g[0].y;else{for(var c=0;c<d;c++)f.x+=g[c].x,f.y+=g[c].y;f.x/=d,f.y/=d}return f}},28793:S=>{S.exports=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)}},44405:S=>{S.exports=function(a){return a.x*a.x+a.y*a.y}},20873:(S,P,a)=>{var y=a(87841);S.exports=function(g,f){void 0===f&&(f=new y);for(var d=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY,u=0;u<g.length;u++){var m=g[u];m.x>d&&(d=m.x),m.x<c&&(c=m.x),m.y>h&&(h=m.y),m.y<p&&(p=m.y)}return f.x=c,f.y=p,f.width=d-c,f.height=h-p,f}},26152:(S,P,a)=>{var y=a(2141);S.exports=function(g,f,d,c){return void 0===d&&(d=0),void 0===c&&(c=new y),c.x=g.x+(f.x-g.x)*d,c.y=g.y+(f.y-g.y)*d,c}},55767:S=>{S.exports=function(a){return a.setTo(a.y,a.x)}},79432:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){return void 0===f&&(f=new y),f.setTo(-g.x,-g.y)}},2141:(S,P,a)=>{var y=a(83419),C=a(23777),g=new y({initialize:function(d,c){void 0===d&&(d=0),void 0===c&&(c=d),this.type=C.POINT,this.x=d,this.y=c},setTo:function(f,d){return void 0===f&&(f=0),void 0===d&&(d=f),this.x=f,this.y=d,this}});S.exports=g},72930:(S,P,a)=>{var y=a(2141),C=a(44405);S.exports=function(f,d,c){void 0===c&&(c=new y);var p=(f.x*d.x+f.y*d.y)/C(d);return 0!==p&&(c.x=p*d.x,c.y=p*d.y),c}},62880:(S,P,a)=>{var y=a(2141);S.exports=function(g,f,d){void 0===d&&(d=new y);var c=g.x*f.x+g.y*f.y;return 0!==c&&(d.x=c*f.x,d.y=c*f.y),d}},15093:(S,P,a)=>{var y=a(28793);S.exports=function(g,f){if(0!==g.x||0!==g.y){var d=y(g);g.x/=d,g.y/=d}return g.x*=f,g.y*=f,g}},43711:(S,P,a)=>{var y=a(2141);y.Ceil=a(96550),y.Clone=a(99706),y.CopyFrom=a(68010),y.Equals=a(27814),y.Floor=a(73565),y.GetCentroid=a(87555),y.GetMagnitude=a(28793),y.GetMagnitudeSq=a(44405),y.GetRectangleFromPoints=a(20873),y.Interpolate=a(26152),y.Invert=a(55767),y.Negative=a(79432),y.Project=a(72930),y.ProjectUnit=a(62880),y.SetMagnitude=a(15093),S.exports=y},12306:(S,P,a)=>{var y=a(25717);S.exports=function(g){return new y(g.points)}},63814:S=>{S.exports=function(a,y,C){for(var g=!1,f=-1,d=a.points.length-1;++f<a.points.length;d=f){var c=a.points[f].x,h=a.points[f].y,u=a.points[d].y;(h<=C&&C<u||u<=C&&C<h)&&y<(a.points[d].x-c)*(C-h)/(u-h)+c&&(g=!g)}return g}},99338:(S,P,a)=>{var y=a(63814);S.exports=function(g,f){return y(g,f.x,f.y)}},94811:S=>{"use strict";function P(q,it,Y){Y=Y||2;var bt,Et,Bt,Kt,Zt,ne,ae,X=it&&it.length,nt=X?it[0]*Y:q.length,dt=a(q,0,nt,Y,!0),gt=[];if(!dt||dt.next===dt.prev)return gt;if(X&&(dt=function h(q,it,Y,X){var dt,gt,Bt,nt=[];for(dt=0,gt=it.length;dt<gt;dt++)(Bt=a(q,it[dt]*X,dt<gt-1?it[dt+1]*X:q.length,X,!1))===Bt.next&&(Bt.steiner=!0),nt.push(_(Bt));for(nt.sort(p),dt=0;dt<nt.length;dt++)Y=u(nt[dt],Y);return Y}(q,it,dt,Y)),q.length>80*Y){bt=Bt=q[0],Et=Kt=q[1];for(var fe=Y;fe<nt;fe+=Y)(Zt=q[fe])<bt&&(bt=Zt),(ne=q[fe+1])<Et&&(Et=ne),Zt>Bt&&(Bt=Zt),ne>Kt&&(Kt=ne);ae=0!==(ae=Math.max(Bt-bt,Kt-Et))?32767/ae:0}return C(dt,gt,Y,bt,Et,ae,0),gt}function a(q,it,Y,X,nt){var dt,gt;if(nt===lt(q,it,Y,X)>0)for(dt=it;dt<Y;dt+=X)gt=K(dt,q[dt],q[dt+1],gt);else for(dt=Y-X;dt>=it;dt-=X)gt=K(dt,q[dt],q[dt+1],gt);return gt&&R(gt,gt.next)&&(tt(gt),gt=gt.next),gt}function y(q,it){if(!q)return q;it||(it=q);var X,Y=q;do{if(X=!1,Y.steiner||!R(Y,Y.next)&&0!==I(Y.prev,Y,Y.next))Y=Y.next;else{if(tt(Y),(Y=it=Y.prev)===Y.next)break;X=!0}}while(X||Y!==it);return it}function C(q,it,Y,X,nt,dt,gt){if(q){!gt&&dt&&function x(q,it,Y,X){var nt=q;do{0===nt.z&&(nt.z=T(nt.x,nt.y,it,Y,X)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next}while(nt!==q);nt.prevZ.nextZ=null,nt.prevZ=null,function b(q){var it,Y,X,nt,dt,gt,bt,Et,Bt=1;do{for(Y=q,q=null,dt=null,gt=0;Y;){for(gt++,X=Y,bt=0,it=0;it<Bt&&(bt++,X=X.nextZ);it++);for(Et=Bt;bt>0||Et>0&&X;)0!==bt&&(0===Et||!X||Y.z<=X.z)?(nt=Y,Y=Y.nextZ,bt--):(nt=X,X=X.nextZ,Et--),dt?dt.nextZ=nt:q=nt,nt.prevZ=dt,dt=nt;Y=X}dt.nextZ=null,Bt*=2}while(gt>1)}(nt)}(q,X,nt,dt);for(var Et,Bt,bt=q;q.prev!==q.next;)if(Et=q.prev,Bt=q.next,dt?f(q,X,nt,dt):g(q))it.push(Et.i/Y|0),it.push(q.i/Y|0),it.push(Bt.i/Y|0),tt(q),q=Bt.next,bt=Bt.next;else if((q=Bt)===bt){gt?1===gt?C(q=d(y(q),it,Y),it,Y,X,nt,dt,2):2===gt&&c(q,it,Y,X,nt,dt):C(y(q),it,Y,X,nt,dt,1);break}}}function g(q){var it=q.prev,Y=q,X=q.next;if(I(it,Y,X)>=0)return!1;for(var nt=it.x,dt=Y.x,gt=X.x,bt=it.y,Et=Y.y,Bt=X.y,Kt=nt<dt?nt<gt?nt:gt:dt<gt?dt:gt,Zt=bt<Et?bt<Bt?bt:Bt:Et<Bt?Et:Bt,ne=nt>dt?nt>gt?nt:gt:dt>gt?dt:gt,ae=bt>Et?bt>Bt?bt:Bt:Et>Bt?Et:Bt,fe=X.next;fe!==it;){if(fe.x>=Kt&&fe.x<=ne&&fe.y>=Zt&&fe.y<=ae&&A(nt,bt,dt,Et,gt,Bt,fe.x,fe.y)&&I(fe.prev,fe,fe.next)>=0)return!1;fe=fe.next}return!0}function f(q,it,Y,X){var nt=q.prev,dt=q,gt=q.next;if(I(nt,dt,gt)>=0)return!1;for(var bt=nt.x,Et=dt.x,Bt=gt.x,Kt=nt.y,Zt=dt.y,ne=gt.y,ae=bt<Et?bt<Bt?bt:Bt:Et<Bt?Et:Bt,fe=Kt<Zt?Kt<ne?Kt:ne:Zt<ne?Zt:ne,ke=bt>Et?bt>Bt?bt:Bt:Et>Bt?Et:Bt,Ye=Kt>Zt?Kt>ne?Kt:ne:Zt>ne?Zt:ne,Pe=T(ae,fe,it,Y,X),Qe=T(ke,Ye,it,Y,X),Se=q.prevZ,ei=q.nextZ;Se&&Se.z>=Pe&&ei&&ei.z<=Qe;){if(Se.x>=ae&&Se.x<=ke&&Se.y>=fe&&Se.y<=Ye&&Se!==nt&&Se!==gt&&A(bt,Kt,Et,Zt,Bt,ne,Se.x,Se.y)&&I(Se.prev,Se,Se.next)>=0||(Se=Se.prevZ,ei.x>=ae&&ei.x<=ke&&ei.y>=fe&&ei.y<=Ye&&ei!==nt&&ei!==gt&&A(bt,Kt,Et,Zt,Bt,ne,ei.x,ei.y)&&I(ei.prev,ei,ei.next)>=0))return!1;ei=ei.nextZ}for(;Se&&Se.z>=Pe;){if(Se.x>=ae&&Se.x<=ke&&Se.y>=fe&&Se.y<=Ye&&Se!==nt&&Se!==gt&&A(bt,Kt,Et,Zt,Bt,ne,Se.x,Se.y)&&I(Se.prev,Se,Se.next)>=0)return!1;Se=Se.prevZ}for(;ei&&ei.z<=Qe;){if(ei.x>=ae&&ei.x<=ke&&ei.y>=fe&&ei.y<=Ye&&ei!==nt&&ei!==gt&&A(bt,Kt,Et,Zt,Bt,ne,ei.x,ei.y)&&I(ei.prev,ei,ei.next)>=0)return!1;ei=ei.nextZ}return!0}function d(q,it,Y){var X=q;do{var nt=X.prev,dt=X.next.next;!R(nt,dt)&&F(nt,X,X.next,dt)&&G(nt,dt)&&G(dt,nt)&&(it.push(nt.i/Y|0),it.push(X.i/Y|0),it.push(dt.i/Y|0),tt(X),tt(X.next),X=q=dt),X=X.next}while(X!==q);return y(X)}function c(q,it,Y,X,nt,dt){var gt=q;do{for(var bt=gt.next.next;bt!==gt.prev;){if(gt.i!==bt.i&&M(gt,bt)){var Et=H(gt,bt);return gt=y(gt,gt.next),Et=y(Et,Et.next),C(gt,it,Y,X,nt,dt,0),void C(Et,it,Y,X,nt,dt,0)}bt=bt.next}gt=gt.next}while(gt!==q)}function p(q,it){return q.x-it.x}function u(q,it){var Y=function m(q,it){var gt,Y=it,X=q.x,nt=q.y,dt=-1/0;do{if(nt<=Y.y&&nt>=Y.next.y&&Y.next.y!==Y.y){var bt=Y.x+(nt-Y.y)*(Y.next.x-Y.x)/(Y.next.y-Y.y);if(bt<=X&&bt>dt&&(dt=bt,gt=Y.x<Y.next.x?Y:Y.next,bt===X))return gt}Y=Y.next}while(Y!==it);if(!gt)return null;var ne,Et=gt,Bt=gt.x,Kt=gt.y,Zt=1/0;Y=gt;do{X>=Y.x&&Y.x>=Bt&&X!==Y.x&&A(nt<Kt?X:dt,nt,Bt,Kt,nt<Kt?dt:X,nt,Y.x,Y.y)&&(ne=Math.abs(nt-Y.y)/(X-Y.x),G(Y,q)&&(ne<Zt||ne===Zt&&(Y.x>gt.x||Y.x===gt.x&&v(gt,Y)))&&(gt=Y,Zt=ne)),Y=Y.next}while(Y!==Et);return gt}(q,it);if(!Y)return it;var X=H(Y,q);return y(X,X.next),y(Y,Y.next)}function v(q,it){return I(q.prev,q,it.prev)<0&&I(it.next,q,q.next)<0}function T(q,it,Y,X,nt){return(q=1431655765&((q=858993459&((q=252645135&((q=16711935&((q=(q-Y)*nt|0)|q<<8))|q<<4))|q<<2))|q<<1))|(it=1431655765&((it=858993459&((it=252645135&((it=16711935&((it=(it-X)*nt|0)|it<<8))|it<<4))|it<<2))|it<<1))<<1}function _(q){var it=q,Y=q;do{(it.x<Y.x||it.x===Y.x&&it.y<Y.y)&&(Y=it),it=it.next}while(it!==q);return Y}function A(q,it,Y,X,nt,dt,gt,bt){return(nt-gt)*(it-bt)>=(q-gt)*(dt-bt)&&(q-gt)*(X-bt)>=(Y-gt)*(it-bt)&&(Y-gt)*(dt-bt)>=(nt-gt)*(X-bt)}function M(q,it){return q.next.i!==it.i&&q.prev.i!==it.i&&!function B(q,it){var Y=q;do{if(Y.i!==q.i&&Y.next.i!==q.i&&Y.i!==it.i&&Y.next.i!==it.i&&F(Y,Y.next,q,it))return!0;Y=Y.next}while(Y!==q);return!1}(q,it)&&(G(q,it)&&G(it,q)&&function Q(q,it){var Y=q,X=!1,nt=(q.x+it.x)/2,dt=(q.y+it.y)/2;do{Y.y>dt!=Y.next.y>dt&&Y.next.y!==Y.y&&nt<(Y.next.x-Y.x)*(dt-Y.y)/(Y.next.y-Y.y)+Y.x&&(X=!X),Y=Y.next}while(Y!==q);return X}(q,it)&&(I(q.prev,q,it.prev)||I(q,it.prev,it))||R(q,it)&&I(q.prev,q,q.next)>0&&I(it.prev,it,it.next)>0)}function I(q,it,Y){return(it.y-q.y)*(Y.x-it.x)-(it.x-q.x)*(Y.y-it.y)}function R(q,it){return q.x===it.x&&q.y===it.y}function F(q,it,Y,X){var nt=V(I(q,it,Y)),dt=V(I(q,it,X)),gt=V(I(Y,X,q)),bt=V(I(Y,X,it));return!!(nt!==dt&&gt!==bt||0===nt&&N(q,Y,it)||0===dt&&N(q,X,it)||0===gt&&N(Y,q,X)||0===bt&&N(Y,it,X))}function N(q,it,Y){return it.x<=Math.max(q.x,Y.x)&&it.x>=Math.min(q.x,Y.x)&&it.y<=Math.max(q.y,Y.y)&&it.y>=Math.min(q.y,Y.y)}function V(q){return q>0?1:q<0?-1:0}function G(q,it){return I(q.prev,q,q.next)<0?I(q,it,q.next)>=0&&I(q,q.prev,it)>=0:I(q,it,q.prev)<0||I(q,q.next,it)<0}function H(q,it){var Y=new at(q.i,q.x,q.y),X=new at(it.i,it.x,it.y),nt=q.next,dt=it.prev;return q.next=it,it.prev=q,Y.next=nt,nt.prev=Y,X.next=Y,Y.prev=X,dt.next=X,X.prev=dt,X}function K(q,it,Y,X){var nt=new at(q,it,Y);return X?(nt.next=X.next,nt.prev=X,X.next.prev=nt,X.next=nt):(nt.prev=nt,nt.next=nt),nt}function tt(q){q.next.prev=q.prev,q.prev.next=q.next,q.prevZ&&(q.prevZ.nextZ=q.nextZ),q.nextZ&&(q.nextZ.prevZ=q.prevZ)}function at(q,it,Y){this.i=q,this.x=it,this.y=Y,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lt(q,it,Y,X){for(var nt=0,dt=it,gt=Y-X;dt<Y;dt+=X)nt+=(q[gt]-q[dt])*(q[dt+1]+q[gt+1]),gt=dt;return nt}P.deviation=function(q,it,Y,X){var nt=it&&it.length,gt=Math.abs(lt(q,0,nt?it[0]*Y:q.length,Y));if(nt)for(var bt=0,Et=it.length;bt<Et;bt++)gt-=Math.abs(lt(q,it[bt]*Y,bt<Et-1?it[bt+1]*Y:q.length,Y));var Zt=0;for(bt=0;bt<X.length;bt+=3){var ne=X[bt]*Y,ae=X[bt+1]*Y,fe=X[bt+2]*Y;Zt+=Math.abs((q[ne]-q[fe])*(q[ae+1]-q[ne+1])-(q[ne]-q[ae])*(q[fe+1]-q[ne+1]))}return 0===gt&&0===Zt?0:Math.abs((Zt-gt)/gt)},P.flatten=function(q){for(var it=q[0][0].length,Y={vertices:[],holes:[],dimensions:it},X=0,nt=0;nt<q.length;nt++){for(var dt=0;dt<q[nt].length;dt++)for(var gt=0;gt<it;gt++)Y.vertices.push(q[nt][dt][gt]);nt>0&&Y.holes.push(X+=q[nt-1].length)}return Y},S.exports=P},13829:(S,P,a)=>{var y=a(87841);S.exports=function(g,f){void 0===f&&(f=new y);for(var u,d=1/0,c=1/0,h=-d,p=-c,m=0;m<g.points.length;m++)u=g.points[m],d=Math.min(d,u.x),c=Math.min(c,u.y),h=Math.max(h,u.x),p=Math.max(p,u.y);return f.x=d,f.y=c,f.width=h-d,f.height=p-c,f}},26173:S=>{S.exports=function(a,y){void 0===y&&(y=[]);for(var C=0;C<a.points.length;C++)y.push(a.points[C].x),y.push(a.points[C].y);return y}},9564:(S,P,a)=>{var y=a(35001),C=a(23031),g=a(30052);S.exports=function(d,c,h,p){void 0===p&&(p=[]);var u=d.points,m=g(d);!c&&h>0&&(c=m/h);for(var v=0;v<c;v++)for(var x=m*(v/c),b=0,T=0;T<u.length;T++){var _=u[T],A=u[(T+1)%u.length],M=new C(_.x,_.y,A.x,A.y),I=y(M);if(!(x<b||x>b+I)){var R=M.getPoint((x-b)/I);p.push(R);break}b+=I}return p}},30052:(S,P,a)=>{var y=a(35001),C=a(23031);S.exports=function(f){for(var d=f.points,c=0,h=0;h<d.length;h++){var p=d[h],u=d[(h+1)%d.length],m=new C(p.x,p.y,u.x,u.y);c+=y(m)}return c}},25717:(S,P,a)=>{var y=a(83419),C=a(63814),g=a(9564),f=a(23777),d=new y({initialize:function(h){this.type=f.POLYGON,this.area=0,this.points=[],h&&this.setTo(h)},contains:function(c,h){return C(this,c,h)},setTo:function(c){if(this.area=0,this.points=[],"string"==typeof c&&(c=c.split(" ")),!Array.isArray(c))return this;for(var h,p=0;p<c.length;p++)h={x:0,y:0},"number"==typeof c[p]||"string"==typeof c[p]?(h.x=parseFloat(c[p]),h.y=parseFloat(c[p+1]),p++):Array.isArray(c[p])?(h.x=c[p][0],h.y=c[p][1]):(h.x=c[p].x,h.y=c[p].y),this.points.push(h);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var h,p,c=0,u=0;u<this.points.length-1;u++)c+=((p=this.points[u+1]).x-(h=this.points[u]).x)*(h.y+p.y);return this.area=.5*-(c+=((h=this.points[0]).x-(p=this.points[this.points.length-1]).x)*(p.y+h.y)),this.area},getPoints:function(c,h,p){return g(this,c,h,p)}});S.exports=d},8133:S=>{S.exports=function(a){return a.points.reverse(),a}},29524:S=>{function P(d,c){var h=d.x-c.x,p=d.y-c.y;return h*h+p*p}function a(d,c,h){var p=c.x,u=c.y,m=h.x-p,v=h.y-u;if(0!==m||0!==v){var x=((d.x-p)*m+(d.y-u)*v)/(m*m+v*v);x>1?(p=h.x,u=h.y):x>0&&(p+=m*x,u+=v*x)}return(m=d.x-p)*m+(v=d.y-u)*v}function C(d,c,h,p,u){for(var v,m=p,x=c+1;x<h;x++){var b=a(d[x],d[c],d[h]);b>m&&(v=x,m=b)}m>p&&(v-c>1&&C(d,c,v,p,u),u.push(d[v]),h-v>1&&C(d,v,h,p,u))}function g(d,c){var h=d.length-1,p=[d[0]];return C(d,0,h,c,p),p.push(d[h]),p}S.exports=function(d,c,h){void 0===c&&(c=1),void 0===h&&(h=!1);var p=d.points;if(p.length>2){var u=c*c;h||(p=function y(d,c){for(var u,h=d[0],p=[h],m=1,v=d.length;m<v;m++)P(u=d[m],h)>c&&(p.push(u),h=u);return h!==u&&p.push(u),p}(p,u)),d.setTo(g(p,u))}return d}},5469:S=>{var P=function(y,C){return y[0]=C[0],y[1]=C[1],y};S.exports=function(y){var C,g=[],f=y.points;for(C=0;C<f.length;C++)g.push([f[C].x,f[C].y]);var d=[];for(g.length>0&&d.push(P([0,0],g[0])),C=0;C<g.length-1;C++){var c=g[C],h=g[C+1],p=c[0],u=c[1],m=h[0],v=h[1];d.push([.85*p+.15*m,.85*u+.15*v]),d.push([.15*p+.85*m,.15*u+.85*v])}return g.length>1&&d.push(P([0,0],g[g.length-1])),y.setTo(d)}},24709:S=>{S.exports=function(a,y,C){for(var g=a.points,f=0;f<g.length;f++)g[f].x+=y,g[f].y+=C;return a}},58423:(S,P,a)=>{var y=a(25717);y.Clone=a(12306),y.Contains=a(63814),y.ContainsPoint=a(99338),y.Earcut=a(94811),y.GetAABB=a(13829),y.GetNumberArray=a(26173),y.GetPoints=a(9564),y.Perimeter=a(30052),y.Reverse=a(8133),y.Simplify=a(29524),y.Smooth=a(5469),y.Translate=a(24709),S.exports=y},62224:S=>{S.exports=function(a){return a.width*a.height}},98615:S=>{S.exports=function(a){return a.x=Math.ceil(a.x),a.y=Math.ceil(a.y),a}},31688:S=>{S.exports=function(a){return a.x=Math.ceil(a.x),a.y=Math.ceil(a.y),a.width=Math.ceil(a.width),a.height=Math.ceil(a.height),a}},67502:S=>{S.exports=function(a,y,C){return a.x=y-a.width/2,a.y=C-a.height/2,a}},65085:(S,P,a)=>{var y=a(87841);S.exports=function(g){return new y(g.x,g.y,g.width,g.height)}},37303:S=>{S.exports=function(a,y,C){return!(a.width<=0||a.height<=0)&&a.x<=y&&a.x+a.width>=y&&a.y<=C&&a.y+a.height>=C}},96553:(S,P,a)=>{var y=a(37303);S.exports=function(g,f){return y(g,f.x,f.y)}},70273:S=>{S.exports=function(a,y){return!(y.width*y.height>a.width*a.height)&&y.x>a.x&&y.x<a.right&&y.right>a.x&&y.right<a.right&&y.y>a.y&&y.y<a.bottom&&y.bottom>a.y&&y.bottom<a.bottom}},43459:S=>{S.exports=function(a,y){return y.setTo(a.x,a.y,a.width,a.height)}},77493:S=>{S.exports=function(a,y){return void 0===y&&(y=[]),y.push({x:a.x,y:a.y}),y.push({x:a.right,y:a.y}),y.push({x:a.right,y:a.bottom}),y.push({x:a.x,y:a.bottom}),y}},9219:S=>{S.exports=function(a,y){return a.x===y.x&&a.y===y.y&&a.width===y.width&&a.height===y.height}},53751:(S,P,a)=>{var y=a(8249);S.exports=function(g,f){var d=y(g);return d<y(f)?g.setSize(f.height*d,f.height):g.setSize(f.width,f.width/d),g.setPosition(f.centerX-g.width/2,f.centerY-g.height/2)}},16088:(S,P,a)=>{var y=a(8249);S.exports=function(g,f){var d=y(g);return d>y(f)?g.setSize(f.height*d,f.height):g.setSize(f.width,f.width/d),g.setPosition(f.centerX-g.width/2,f.centerY-g.height/2)}},80774:S=>{S.exports=function(a){return a.x=Math.floor(a.x),a.y=Math.floor(a.y),a}},83859:S=>{S.exports=function(a){return a.x=Math.floor(a.x),a.y=Math.floor(a.y),a.width=Math.floor(a.width),a.height=Math.floor(a.height),a}},19217:(S,P,a)=>{var y=a(87841),C=a(36383);S.exports=function(f,d){if(void 0===d&&(d=new y),0===f.length)return d;for(var m,v,x,c=Number.MAX_VALUE,h=Number.MAX_VALUE,p=C.MIN_SAFE_INTEGER,u=C.MIN_SAFE_INTEGER,b=0;b<f.length;b++)m=f[b],Array.isArray(m)?(v=m[0],x=m[1]):(v=m.x,x=m.y),c=Math.min(c,v),h=Math.min(h,x),p=Math.max(p,v),u=Math.max(u,x);return d.x=c,d.y=h,d.width=p-c,d.height=u-h,d}},9477:(S,P,a)=>{var y=a(87841);S.exports=function(g,f,d,c,h){return void 0===h&&(h=new y),h.setTo(Math.min(g,d),Math.min(f,c),Math.abs(g-d),Math.abs(f-c))}},8249:S=>{S.exports=function(a){return 0===a.height?NaN:a.width/a.height}},27165:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){return void 0===f&&(f=new y),f.x=g.centerX,f.y=g.centerY,f}},20812:(S,P,a)=>{var y=a(13019),C=a(2141);S.exports=function(f,d,c){if(void 0===c&&(c=new C),d<=0||d>=1)return c.x=f.x,c.y=f.y,c;var h=y(f)*d;return d>.5?(h-=f.width+f.height)<=f.width?(c.x=f.right-h,c.y=f.bottom):(c.x=f.x,c.y=f.bottom-(h-f.width)):h<=f.width?(c.x=f.x+h,c.y=f.y):(c.x=f.right,c.y=f.y+(h-f.width)),c}},34819:(S,P,a)=>{var y=a(20812),C=a(13019);S.exports=function(f,d,c,h){void 0===h&&(h=[]),!d&&c>0&&(d=C(f)/c);for(var p=0;p<d;p++)h.push(y(f,p/d));return h}},51313:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){return void 0===f&&(f=new y),f.x=g.width,f.y=g.height,f}},86091:(S,P,a)=>{var y=a(67502);S.exports=function(g,f,d){var c=g.centerX,h=g.centerY;return g.setSize(g.width+2*f,g.height+2*d),y(g,c,h)}},53951:(S,P,a)=>{var y=a(87841),C=a(59996);S.exports=function(f,d,c){return void 0===c&&(c=new y),C(f,d)?(c.x=Math.max(f.x,d.x),c.y=Math.max(f.y,d.y),c.width=Math.min(f.right,d.right)-c.x,c.height=Math.min(f.bottom,d.bottom)-c.y):c.setEmpty(),c}},14649:(S,P,a)=>{var y=a(13019),C=a(2141);S.exports=function(f,d,c,h){if(void 0===h&&(h=[]),!d&&!c)return h;d?c=Math.round(y(f)/d):d=y(f)/c;for(var p=f.x,u=f.y,m=0,v=0;v<c;v++)switch(h.push(new C(p,u)),m){case 0:(p+=d)>=f.right&&(m=1,u+=p-f.right,p=f.right);break;case 1:(u+=d)>=f.bottom&&(m=2,p-=u-f.bottom,u=f.bottom);break;case 2:(p-=d)<=f.left&&(m=3,u-=f.left-p,p=f.left);break;case 3:(u-=d)<=f.top&&(m=0,u=f.top)}return h}},33595:S=>{S.exports=function(a,y){for(var C=a.x,g=a.right,f=a.y,d=a.bottom,c=0;c<y.length;c++)C=Math.min(C,y[c].x),g=Math.max(g,y[c].x),f=Math.min(f,y[c].y),d=Math.max(d,y[c].y);return a.x=C,a.y=f,a.width=g-C,a.height=d-f,a}},20074:S=>{S.exports=function(a,y){var C=Math.min(a.x,y.x),g=Math.max(a.right,y.right);a.x=C,a.width=g-C;var f=Math.min(a.y,y.y),d=Math.max(a.bottom,y.bottom);return a.y=f,a.height=d-f,a}},92171:S=>{S.exports=function(a,y,C){var g=Math.min(a.x,y),f=Math.max(a.right,y);a.x=g,a.width=f-g;var d=Math.min(a.y,C),c=Math.max(a.bottom,C);return a.y=d,a.height=c-d,a}},42981:S=>{S.exports=function(a,y,C){return a.x+=y,a.y+=C,a}},46907:S=>{S.exports=function(a,y){return a.x+=y.x,a.y+=y.y,a}},60170:S=>{S.exports=function(a,y){return a.x<y.right&&a.right>y.x&&a.y<y.bottom&&a.bottom>y.y}},13019:S=>{S.exports=function(a){return 2*(a.width+a.height)}},85133:(S,P,a)=>{var y=a(2141),C=a(39506);S.exports=function(f,d,c){void 0===c&&(c=new y),d=C(d);var h=Math.sin(d),p=Math.cos(d),u=p>0?f.width/2:f.width/-2,m=h>0?f.height/2:f.height/-2;return Math.abs(u*h)<Math.abs(m*p)?m=u*h/p:u=m*p/h,c.x=u+f.centerX,c.y=m+f.centerY,c}},26597:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){return void 0===f&&(f=new y),f.x=g.x+Math.random()*g.width,f.y=g.y+Math.random()*g.height,f}},86470:(S,P,a)=>{var y=a(30976),C=a(70273),g=a(2141);S.exports=function(d,c,h){if(void 0===h&&(h=new g),C(d,c))switch(y(0,3)){case 0:h.x=d.x+Math.random()*(c.right-d.x),h.y=d.y+Math.random()*(c.top-d.y);break;case 1:h.x=c.x+Math.random()*(d.right-c.x),h.y=c.bottom+Math.random()*(d.bottom-c.bottom);break;case 2:h.x=d.x+Math.random()*(c.x-d.x),h.y=c.y+Math.random()*(d.bottom-c.y);break;case 3:h.x=c.right+Math.random()*(d.right-c.right),h.y=d.y+Math.random()*(c.bottom-d.y)}return h}},87841:(S,P,a)=>{var y=a(83419),C=a(37303),g=a(20812),f=a(34819),d=a(23777),c=a(23031),h=a(26597),p=new y({initialize:function(m,v,x,b){void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=0),this.type=d.RECTANGLE,this.x=m,this.y=v,this.width=x,this.height=b},contains:function(u,m){return C(this,u,m)},getPoint:function(u,m){return g(this,u,m)},getPoints:function(u,m,v){return f(this,u,m,v)},getRandomPoint:function(u){return h(this,u)},setTo:function(u,m,v,x){return this.x=u,this.y=m,this.width=v,this.height=x,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(u,m){return void 0===m&&(m=u),this.x=u,this.y=m,this},setSize:function(u,m){return void 0===m&&(m=u),this.width=u,this.height=m,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(u){return void 0===u&&(u=new c),u.setTo(this.x,this.y,this.right,this.y),u},getLineB:function(u){return void 0===u&&(u=new c),u.setTo(this.right,this.y,this.right,this.bottom),u},getLineC:function(u){return void 0===u&&(u=new c),u.setTo(this.right,this.bottom,this.x,this.bottom),u},getLineD:function(u){return void 0===u&&(u=new c),u.setTo(this.x,this.bottom,this.x,this.y),u},left:{get:function(){return this.x},set:function(u){this.width=u>=this.right?0:this.right-u,this.x=u}},right:{get:function(){return this.x+this.width},set:function(u){this.width=u<=this.x?0:u-this.x}},top:{get:function(){return this.y},set:function(u){this.height=u>=this.bottom?0:this.bottom-u,this.y=u}},bottom:{get:function(){return this.y+this.height},set:function(u){this.height=u<=this.y?0:u-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});S.exports=p},94845:S=>{S.exports=function(a,y){return a.width===y.width&&a.height===y.height}},31730:S=>{S.exports=function(a,y,C){return void 0===C&&(C=y),a.width*=y,a.height*=C,a}},36899:(S,P,a)=>{var y=a(87841);S.exports=function(g,f,d){void 0===d&&(d=new y);var c=Math.min(g.x,f.x),h=Math.min(g.y,f.y),p=Math.max(g.right,f.right)-c,u=Math.max(g.bottom,f.bottom)-h;return d.setTo(c,h,p,u)}},93232:(S,P,a)=>{var y=a(87841);y.Area=a(62224),y.Ceil=a(98615),y.CeilAll=a(31688),y.CenterOn=a(67502),y.Clone=a(65085),y.Contains=a(37303),y.ContainsPoint=a(96553),y.ContainsRect=a(70273),y.CopyFrom=a(43459),y.Decompose=a(77493),y.Equals=a(9219),y.FitInside=a(53751),y.FitOutside=a(16088),y.Floor=a(80774),y.FloorAll=a(83859),y.FromPoints=a(19217),y.FromXY=a(9477),y.GetAspectRatio=a(8249),y.GetCenter=a(27165),y.GetPoint=a(20812),y.GetPoints=a(34819),y.GetSize=a(51313),y.Inflate=a(86091),y.Intersection=a(53951),y.MarchingAnts=a(14649),y.MergePoints=a(33595),y.MergeRect=a(20074),y.MergeXY=a(92171),y.Offset=a(42981),y.OffsetPoint=a(46907),y.Overlaps=a(60170),y.Perimeter=a(13019),y.PerimeterPoint=a(85133),y.Random=a(26597),y.RandomOutside=a(86470),y.SameDimensions=a(94845),y.Scale=a(31730),y.Union=a(36899),S.exports=y},41658:S=>{S.exports=function(a){var y=a.x1,C=a.y1;return Math.abs(((a.x3-y)*(a.y2-C)-(a.x2-y)*(a.y3-C))/2)}},39208:(S,P,a)=>{var y=a(16483);S.exports=function(g,f,d){var c=d*(Math.sqrt(3)/2);return new y(g,f,g+d/2,f+c,g-d/2,f+c)}},39545:(S,P,a)=>{var y=a(94811),C=a(16483);S.exports=function(f,d,c,h,p){void 0===d&&(d=null),void 0===c&&(c=1),void 0===h&&(h=1),void 0===p&&(p=[]);for(var m,v,x,u=y(f,d),R=0;R<u.length;R+=3)p.push(new C(f[2*(m=u[R])]*c,f[2*m+1]*h,f[2*(v=u[R+1])]*c,f[2*v+1]*h,f[2*(x=u[R+2])]*c,f[2*x+1]*h));return p}},90301:(S,P,a)=>{var y=a(16483);S.exports=function(g,f,d,c){return void 0===c&&(c=d),new y(g,f,g,f-c,g+d,f)}},23707:(S,P,a)=>{var y=a(97523),C=a(13584);S.exports=function(f,d,c,h){void 0===h&&(h=y);var p=h(f);return C(f,d-p.x,c-p.y)}},97523:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){return void 0===f&&(f=new y),f.x=(g.x1+g.x2+g.x3)/3,f.y=(g.y1+g.y2+g.y3)/3,f}},24951:(S,P,a)=>{var y=a(26099);function C(f,d,c,h){return f*h-d*c}S.exports=function(f,d){void 0===d&&(d=new y);var c=f.x3,h=f.y3,p=f.x1-c,u=f.y1-h,m=f.x2-c,v=f.y2-h,x=2*C(p,u,m,v),b=C(u,p*p+u*u,v,m*m+v*v),T=C(p,p*p+u*u,m,m*m+v*v);return d.x=c-b/x,d.y=h+T/x,d}},85614:(S,P,a)=>{var y=a(96503);S.exports=function(g,f){void 0===f&&(f=new y);var I,R,d=g.x1,c=g.y1,h=g.x2,p=g.y2,u=g.x3,m=g.y3,v=h-d,x=p-c,b=u-d,T=m-c,_=v*(d+h)+x*(c+p),A=b*(d+u)+T*(c+m),M=2*(v*(m-p)-x*(u-h));if(Math.abs(M)<1e-6){var F=Math.min(d,h,u),N=Math.min(c,p,m);I=.5*(Math.max(d,h,u)-F),R=.5*(Math.max(c,p,m)-N),f.x=F+I,f.y=N+R,f.radius=Math.sqrt(I*I+R*R)}else f.x=(T*_-x*A)/M,f.y=(v*A-b*_)/M,I=f.x-d,R=f.y-c,f.radius=Math.sqrt(I*I+R*R);return f}},74422:(S,P,a)=>{var y=a(16483);S.exports=function(g){return new y(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)}},10690:S=>{S.exports=function(a,y,C){var g=a.x3-a.x1,f=a.y3-a.y1,d=a.x2-a.x1,c=a.y2-a.y1,h=y-a.x1,p=C-a.y1,u=g*g+f*f,m=g*d+f*c,v=g*h+f*p,x=d*d+c*c,b=d*h+c*p,T=u*x-m*m,_=0===T?0:1/T,A=(x*v-m*b)*_,M=(u*b-m*v)*_;return A>=0&&M>=0&&A+M<1}},48653:S=>{S.exports=function(a,y,C,g){void 0===C&&(C=!1),void 0===g&&(g=[]);for(var b,T,_,A,M,I,f=a.x3-a.x1,d=a.y3-a.y1,c=a.x2-a.x1,h=a.y2-a.y1,p=f*f+d*d,u=f*c+d*h,m=c*c+h*h,v=p*m-u*u,x=0===v?0:1/v,R=a.x1,F=a.y1,N=0;N<y.length&&(T=(p*(I=c*(_=y[N].x-R)+h*(A=y[N].y-F))-u*(M=f*_+d*A))*x,!((b=(m*M-u*I)*x)>=0&&T>=0&&b+T<1&&(g.push({x:y[N].x,y:y[N].y}),C)));N++);return g}},96006:(S,P,a)=>{var y=a(10690);S.exports=function(g,f){return y(g,f.x,f.y)}},71326:S=>{S.exports=function(a,y){return y.setTo(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)}},71694:S=>{S.exports=function(a,y){return void 0===y&&(y=[]),y.push({x:a.x1,y:a.y1}),y.push({x:a.x2,y:a.y2}),y.push({x:a.x3,y:a.y3}),y}},33522:S=>{S.exports=function(a,y){return a.x1===y.x1&&a.y1===y.y1&&a.x2===y.x2&&a.y2===y.y2&&a.x3===y.x3&&a.y3===y.y3}},20437:(S,P,a)=>{var y=a(2141),C=a(35001);S.exports=function(f,d,c){void 0===c&&(c=new y);var h=f.getLineA(),p=f.getLineB(),u=f.getLineC();if(d<=0||d>=1)return c.x=h.x1,c.y=h.y1,c;var m=C(h),v=C(p),x=C(u),T=(m+v+x)*d,_=0;return T<m?(c.x=h.x1+(h.x2-h.x1)*(_=T/m),c.y=h.y1+(h.y2-h.y1)*_):T>m+v?(c.x=u.x1+(u.x2-u.x1)*(_=(T-=m+v)/x),c.y=u.y1+(u.y2-u.y1)*_):(c.x=p.x1+(p.x2-p.x1)*(_=(T-=m)/v),c.y=p.y1+(p.y2-p.y1)*_),c}},80672:(S,P,a)=>{var y=a(35001),C=a(2141);S.exports=function(f,d,c,h){void 0===h&&(h=[]);var p=f.getLineA(),u=f.getLineB(),m=f.getLineC(),v=y(p),x=y(u),b=y(m),T=v+x+b;!d&&c>0&&(d=T/c);for(var _=0;_<d;_++){var A=T*(_/d),M=0,I=new C;A<v?(I.x=p.x1+(p.x2-p.x1)*(M=A/v),I.y=p.y1+(p.y2-p.y1)*M):A>v+x?(I.x=m.x1+(m.x2-m.x1)*(M=(A-=v+x)/b),I.y=m.y1+(m.y2-m.y1)*M):(I.x=u.x1+(u.x2-u.x1)*(M=(A-=v)/x),I.y=u.y1+(u.y2-u.y1)*M),h.push(I)}return h}},39757:(S,P,a)=>{var y=a(2141);function C(f,d,c,h){var p=f-c,u=d-h;return Math.sqrt(p*p+u*u)}S.exports=function(f,d){void 0===d&&(d=new y);var c=f.x1,h=f.y1,p=f.x2,u=f.y2,m=f.x3,v=f.y3,x=C(m,v,p,u),b=C(c,h,m,v),T=C(p,u,c,h),_=x+b+T;return d.x=(c*x+p*b+m*T)/_,d.y=(h*x+u*b+v*T)/_,d}},13584:S=>{S.exports=function(a,y,C){return a.x1+=y,a.y1+=C,a.x2+=y,a.y2+=C,a.x3+=y,a.y3+=C,a}},1376:(S,P,a)=>{var y=a(35001);S.exports=function(g){var f=g.getLineA(),d=g.getLineB(),c=g.getLineC();return y(f)+y(d)+y(c)}},90260:(S,P,a)=>{var y=a(2141);S.exports=function(g,f){void 0===f&&(f=new y);var d=g.x2-g.x1,c=g.y2-g.y1,h=g.x3-g.x1,p=g.y3-g.y1,u=Math.random(),m=Math.random();return u+m>=1&&(u=1-u,m=1-m),f.x=g.x1+(d*u+h*m),f.y=g.y1+(c*u+p*m),f}},52172:(S,P,a)=>{var y=a(99614),C=a(39757);S.exports=function(f,d){var c=C(f);return y(f,c.x,c.y,d)}},49907:(S,P,a)=>{var y=a(99614);S.exports=function(g,f,d){return y(g,f.x,f.y,d)}},99614:S=>{S.exports=function(a,y,C,g){var f=Math.cos(g),d=Math.sin(g),c=a.x1-y,h=a.y1-C;return a.x1=c*f-h*d+y,a.y1=c*d+h*f+C,a.x2=(c=a.x2-y)*f-(h=a.y2-C)*d+y,a.y2=c*d+h*f+C,a.x3=(c=a.x3-y)*f-(h=a.y3-C)*d+y,a.y3=c*d+h*f+C,a}},16483:(S,P,a)=>{var y=a(83419),C=a(10690),g=a(20437),f=a(80672),d=a(23777),c=a(23031),h=a(90260),p=new y({initialize:function(m,v,x,b,T,_){void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=0),void 0===T&&(T=0),void 0===_&&(_=0),this.type=d.TRIANGLE,this.x1=m,this.y1=v,this.x2=x,this.y2=b,this.x3=T,this.y3=_},contains:function(u,m){return C(this,u,m)},getPoint:function(u,m){return g(this,u,m)},getPoints:function(u,m,v){return f(this,u,m,v)},getRandomPoint:function(u){return h(this,u)},setTo:function(u,m,v,x,b,T){return void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=0),void 0===T&&(T=0),this.x1=u,this.y1=m,this.x2=v,this.y2=x,this.x3=b,this.y3=T,this},getLineA:function(u){return void 0===u&&(u=new c),u.setTo(this.x1,this.y1,this.x2,this.y2),u},getLineB:function(u){return void 0===u&&(u=new c),u.setTo(this.x2,this.y2,this.x3,this.y3),u},getLineC:function(u){return void 0===u&&(u=new c),u.setTo(this.x3,this.y3,this.x1,this.y1),u},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(u){var m;this.x1-=m=this.x1<=this.x2&&this.x1<=this.x3?this.x1-u:this.x2<=this.x1&&this.x2<=this.x3?this.x2-u:this.x3-u,this.x2-=m,this.x3-=m}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(u){var m;this.x1-=m=this.x1>=this.x2&&this.x1>=this.x3?this.x1-u:this.x2>=this.x1&&this.x2>=this.x3?this.x2-u:this.x3-u,this.x2-=m,this.x3-=m}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(u){var m;this.y1-=m=this.y1<=this.y2&&this.y1<=this.y3?this.y1-u:this.y2<=this.y1&&this.y2<=this.y3?this.y2-u:this.y3-u,this.y2-=m,this.y3-=m}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(u){var m;this.y1-=m=this.y1>=this.y2&&this.y1>=this.y3?this.y1-u:this.y2>=this.y1&&this.y2>=this.y3?this.y2-u:this.y3-u,this.y2-=m,this.y3-=m}}});S.exports=p},84435:(S,P,a)=>{var y=a(16483);y.Area=a(41658),y.BuildEquilateral=a(39208),y.BuildFromPolygon=a(39545),y.BuildRight=a(90301),y.CenterOn=a(23707),y.Centroid=a(97523),y.CircumCenter=a(24951),y.CircumCircle=a(85614),y.Clone=a(74422),y.Contains=a(10690),y.ContainsArray=a(48653),y.ContainsPoint=a(96006),y.CopyFrom=a(71326),y.Decompose=a(71694),y.Equals=a(33522),y.GetPoint=a(20437),y.GetPoints=a(80672),y.InCenter=a(39757),y.Perimeter=a(1376),y.Offset=a(13584),y.Random=a(90260),y.Rotate=a(52172),y.RotateAroundPoint=a(49907),y.RotateAroundXY=a(99614),S.exports=y},74457:S=>{S.exports=function(a,y,C){return{gameObject:a,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:y,hitAreaCallback:C,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}}},84409:S=>{S.exports=function(a,y){return function(C,g,f,d){var c=a.getPixelAlpha(g,f,d.texture.key,d.frame.name);return c&&c>=y}}},7003:(S,P,a)=>{var y=a(83419),C=a(93301),g=a(50792),f=a(8214),d=a(8443),c=a(78970),h=a(85098),p=a(42515),u=a(36210),m=a(61340),v=a(85955),x=new y({initialize:function(T,_){this.game=T,this.config=_,this.enabled=!0,this.events=new g,this.isOver=!0,this.defaultCursor="",this.keyboard=_.inputKeyboard?new c(this):null,this.mouse=_.inputMouse?new h(this):null,this.touch=_.inputTouch?new u(this):null,this.pointers=[],this.pointersTotal=_.inputActivePointers;for(var A=0;A<=this.pointersTotal;A++){var M=new p(this,A);M.smoothFactor=_.inputSmoothFactor,this.pointers.push(M)}this.mousePointer=_.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new m,this._tempMatrix2=new m,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],T.events.once(d.BOOT,this.boot,this)},boot:function(){var b=this.game,T=b.events;this.canvas=b.canvas,this.scaleManager=b.scale,this.events.emit(f.MANAGER_BOOT),T.on(d.PRE_RENDER,this.preRender,this),T.once(d.DESTROY,this.destroy,this)},setCanvasOver:function(b){this.isOver=!0,this.events.emit(f.GAME_OVER,b)},setCanvasOut:function(b){this.isOver=!1,this.events.emit(f.GAME_OUT,b)},preRender:function(){var b=this.game.loop.now,T=this.game.loop.delta,_=this.game.scene.getScenes(!0,!0);this.time=b,this.events.emit(f.MANAGER_UPDATE);for(var A=0;A<_.length;A++){var M=_[A];if(M.sys.input&&M.sys.input.updatePoll(b,T)&&this.globalTopOnly)return}},setDefaultCursor:function(b){this.defaultCursor=b,this.canvas.style.cursor!==b&&(this.canvas.style.cursor=b)},setCursor:function(b){b.cursor&&(this.canvas.style.cursor=b.cursor)},resetCursor:function(b,T){(T||b&&b.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(b){void 0===b&&(b=1);var T=[];this.pointersTotal+b>10&&(b=10-this.pointersTotal);for(var _=0;_<b;_++){var M=new p(this,this.pointers.length);M.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(M),this.pointersTotal++,T.push(M)}return T},updateInputPlugins:function(b,T){var _=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var A=0;A<_.length;A++){var M=_[A];if(M.sys.input&&(M.sys.input.update(b,T)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(b){for(var T=this.pointers,_=[],A=0;A<b.changedTouches.length;A++)for(var M=b.changedTouches[A],I=1;I<T.length;I++){var R=T[I];if(!R.active){R.touchstart(M,b),this.activePointer=R,_.push(R);break}}this.updateInputPlugins(C.TOUCH_START,_)},onTouchMove:function(b){for(var T=this.pointers,_=[],A=0;A<b.changedTouches.length;A++)for(var M=b.changedTouches[A],I=1;I<T.length;I++){var R=T[I];if(R.active&&R.identifier===M.identifier){var N=document.elementFromPoint(M.clientX,M.clientY)===this.canvas;!this.isOver&&N?this.setCanvasOver(b):this.isOver&&!N&&this.setCanvasOut(b),this.isOver&&(R.touchmove(M,b),this.activePointer=R,_.push(R));break}}this.updateInputPlugins(C.TOUCH_MOVE,_)},onTouchEnd:function(b){for(var T=this.pointers,_=[],A=0;A<b.changedTouches.length;A++)for(var M=b.changedTouches[A],I=1;I<T.length;I++){var R=T[I];if(R.active&&R.identifier===M.identifier){R.touchend(M,b),_.push(R);break}}this.updateInputPlugins(C.TOUCH_END,_)},onTouchCancel:function(b){for(var T=this.pointers,_=[],A=0;A<b.changedTouches.length;A++)for(var M=b.changedTouches[A],I=1;I<T.length;I++){var R=T[I];if(R.active&&R.identifier===M.identifier){R.touchcancel(M,b),_.push(R);break}}this.updateInputPlugins(C.TOUCH_CANCEL,_)},onMouseDown:function(b){var T=this.mousePointer;T.down(b),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(C.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(b){var T=this.mousePointer;T.move(b),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(C.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(b){var T=this.mousePointer;T.up(b),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(C.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(b){var T=this.mousePointer;T.wheel(b),this.activePointer=T,this.updateInputPlugins(C.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(b){var T=this.mouse.locked;this.mousePointer.locked=T,this.events.emit(f.POINTERLOCK_CHANGE,b,T)},inputCandidate:function(b,T){var _=b.input;if(!_||!_.enabled||!b.willRender(T))return!1;var A=!0,M=b.parentContainer;if(M)do{if(!M.willRender(T)){A=!1;break}M=M.parentContainer}while(M);return A},hitTest:function(b,T,_,A){void 0===A&&(A=this._tempHitTest);var M=this._tempPoint,I=_.scrollX,R=_.scrollY;A.length=0,_.getWorldPoint(b.x,b.y,M),b.worldX=M.x,b.worldY=M.y;for(var V={x:0,y:0},B=this._tempMatrix,G=this._tempMatrix2,Q=0;Q<T.length;Q++){var H=T[Q];if(this.inputCandidate(H,_)){var K=M.x+I*H.scrollFactorX-I,tt=M.y+R*H.scrollFactorY-R;H.parentContainer?(H.getWorldTransformMatrix(B,G),B.applyInverse(K,tt,V)):v(K,tt,H.x,H.y,H.rotation,H.scaleX,H.scaleY,V),this.pointWithinHitArea(H,V.x,V.y)&&A.push(H)}}return A},pointWithinHitArea:function(b,T,_){T+=b.displayOriginX,_+=b.displayOriginY;var A=b.input;return!(!A||!A.hitAreaCallback(A.hitArea,T,_,b)||(A.localX=T,A.localY=_,0))},pointWithinInteractiveObject:function(b,T,_){return!!b.hitArea&&(_+=b.gameObject.displayOriginY,b.localX=T+=b.gameObject.displayOriginX,b.localY=_,b.hitAreaCallback(b.hitArea,T,_,b))},transformPointer:function(b,T,_,A){var M=b.position,I=b.prevPosition;I.x=M.x,I.y=M.y;var R=this.scaleManager.transformX(T),F=this.scaleManager.transformY(_),N=b.smoothFactor;A&&0!==N?(M.x=R*N+I.x*(1-N),M.y=F*N+I.y*(1-N)):(M.x=R,M.y=F)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(d.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var b=0;b<this.pointers.length;b++)this.pointers[b].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});S.exports=x},48205:(S,P,a)=>{var y=a(96503),C=a(87902),g=a(83419),f=a(93301),d=a(74457),c=a(84409),h=a(20339),p=a(8497),u=a(81154),m=a(8214),v=a(50792),x=a(95540),b=a(23777),T=a(89639),_=a(41212),A=a(37277),M=a(87841),I=a(37303),R=a(44594),F=a(16483),N=a(10690),V=new g({Extends:v,initialize:function(G){v.call(this),this.scene=G,this.systems=G.sys,this.settings=G.sys.settings,this.manager=G.sys.game.input,this.pluginEvents=new v,this.enabled=!0,T.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var Q={cancelled:!1};this._eventContainer={stopPropagation:function(){Q.cancelled=!0}},this._eventData=Q,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,G.sys.events.once(R.BOOT,this.boot,this),G.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(m.BOOT)},start:function(){var B=this.systems.events;B.on(R.TRANSITION_START,this.transitionIn,this),B.on(R.TRANSITION_OUT,this.transitionOut,this),B.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),B.on(R.PRE_UPDATE,this.preUpdate,this),B.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(m.GAME_OUT,this.onGameOut,this),this.manager.events.on(m.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(m.START)},onGameOver:function(B){this.isActive()&&this.emit(m.GAME_OVER,B.timeStamp,B)},onGameOut:function(B){this.isActive()&&this.emit(m.GAME_OUT,B.timeStamp,B)},preUpdate:function(){this.pluginEvents.emit(m.PRE_UPDATE);var B=this._pendingRemoval,G=this._pendingInsertion,Q=B.length;if(0!==Q||0!==G.length){for(var K=this._list,tt=0;tt<Q;tt++){var at=B[tt],lt=K.indexOf(at);lt>-1&&(K.splice(lt,1),this.clear(at,!0))}this._pendingRemoval.length=0,this._list=K.concat(G.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(B){this.manager&&this.manager.setCursor(B)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(B,G){if(!this.isActive())return!1;if(this.pluginEvents.emit(m.UPDATE,B,G),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var Q,K=this.manager.pointers;for(Q=0;Q<K.length;Q++)K[Q].updateMotion();if(0===this._list.length)return!1;var tt=this.pollRate;if(-1===tt)return!1;if(tt>0){if(this._pollTimer-=G,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var at=!1;for(Q=0;Q<K.length;Q++){var lt=0,q=K[Q];this._tempZones=[],this._temp=this.hitTestPointer(q),this.sortGameObjects(this._temp,q),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),lt+=this.processOverOutEvents(q),2===this.getDragState(q)&&this.processDragThresholdEvent(q,B),lt>0&&(at=!0)}return at},update:function(B,G){if(!this.isActive())return!1;for(var Q=!1,H=0;H<G.length;H++){var K=0,tt=G[H];switch(this._tempZones=[],this._temp=this.hitTestPointer(tt),this.sortGameObjects(this._temp,tt),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),B){case f.MOUSE_DOWN:K+=this.processDragDownEvent(tt),K+=this.processDownEvents(tt),K+=this.processOverOutEvents(tt);break;case f.MOUSE_UP:K+=this.processDragUpEvent(tt),K+=this.processUpEvents(tt),K+=this.processOverOutEvents(tt);break;case f.TOUCH_START:K+=this.processDragDownEvent(tt),K+=this.processDownEvents(tt),K+=this.processOverEvents(tt);break;case f.TOUCH_END:case f.TOUCH_CANCEL:K+=this.processDragUpEvent(tt),K+=this.processUpEvents(tt),K+=this.processOutEvents(tt);break;case f.MOUSE_MOVE:case f.TOUCH_MOVE:K+=this.processDragMoveEvent(tt),K+=this.processMoveEvents(tt),K+=this.processOverOutEvents(tt);break;case f.MOUSE_WHEEL:K+=this.processWheelEvent(tt)}K>0&&(Q=!0)}return this._updatedThisFrame=!0,Q},clear:function(B,G){void 0===G&&(G=!1),this.disable(B);var Q=B.input;Q&&(this.removeDebug(B),this.manager.resetCursor(Q),Q.gameObject=void 0,Q.target=void 0,Q.hitArea=void 0,Q.hitAreaCallback=void 0,Q.callbackContext=void 0,B.input=null),G||this.queueForRemoval(B);var H=this._draggable.indexOf(B);return H>-1&&this._draggable.splice(H,1),B},disable:function(B,G){void 0===G&&(G=!1);var Q=B.input;Q&&(Q.enabled=!1,Q.dragState=0);for(var lt,H=this._drag,K=this._over,tt=this.manager,at=0;at<tt.pointers.length;at++)(lt=H[at].indexOf(B))>-1&&H[at].splice(lt,1),(lt=K[at].indexOf(B))>-1&&K[at].splice(lt,1);return G&&this.resetCursor(),this},enable:function(B,G,Q,H){return void 0===H&&(H=!1),B.input?B.input.enabled=!0:this.setHitArea(B,G,Q),B.input&&H&&!B.input.dropZone&&(B.input.dropZone=H),this},hitTestPointer:function(B){for(var G=this.cameras.getCamerasBelowPointer(B),Q=0;Q<G.length;Q++){for(var H=G[Q],K=this.manager.hitTest(B,this._list,H),tt=0;tt<K.length;tt++){var at=K[tt];at.input.dropZone&&this._tempZones.push(at)}if(K.length>0)return B.camera=H,K}return B.camera=G[0],[]},processDownEvents:function(B){var G=0,Q=this._temp,H=this._eventData,K=this._eventContainer;H.cancelled=!1;for(var tt=0;tt<Q.length;tt++){var at=Q[tt];if(at.input&&at.input.enabled&&(G++,at.emit(m.GAMEOBJECT_POINTER_DOWN,B,at.input.localX,at.input.localY,K),H.cancelled||!this.isActive()||at.input&&at.input.enabled&&(this.emit(m.GAMEOBJECT_DOWN,B,at,K),H.cancelled||!this.isActive())))break}return!H.cancelled&&this.isActive()&&(B.downElement===this.manager.game.canvas?this.emit(m.POINTER_DOWN,B,Q):this.emit(m.POINTER_DOWN_OUTSIDE,B)),G},getDragState:function(B){return this._dragState[B.id]},setDragState:function(B,G){this._dragState[B.id]=G},processDragThresholdEvent:function(B,G){var Q=!1,H=this.dragTimeThreshold,K=this.dragDistanceThreshold;if((K>0&&h(B.x,B.y,B.downX,B.downY)>=K||H>0&&G>=B.downTime+H)&&(Q=!0),Q)return this.setDragState(B,3),this.processDragStartList(B)},processDragStartList:function(B){if(3!==this.getDragState(B))return 0;var G=this._drag[B.id];G.length>1&&(G=G.slice(0));for(var Q=0;Q<G.length;Q++){var H=G[Q],K=H.input;K.dragState=2,K.dragStartX=H.x,K.dragStartY=H.y,K.dragStartXGlobal=B.worldX,K.dragStartYGlobal=B.worldY,K.dragStartCamera=B.camera,K.dragX=K.dragStartXGlobal-K.dragStartX,K.dragY=K.dragStartYGlobal-K.dragStartY,H.emit(m.GAMEOBJECT_DRAG_START,B,K.dragX,K.dragY),this.emit(m.DRAG_START,B,H)}return this.setDragState(B,4),G.length},processDragDownEvent:function(B){var G=this._temp;if(0===this._draggable.length||0===G.length||!B.primaryDown||0!==this.getDragState(B))return 0;this.setDragState(B,1);for(var Q=[],H=0;H<G.length;H++){var K=G[H];K.input.draggable&&0===K.input.dragState&&Q.push(K)}return 0===Q.length?(this.setDragState(B,0),0):(Q.length>1&&(this.sortGameObjects(Q,B),this.topOnly&&Q.splice(1)),this._drag[B.id]=Q,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(B,3),this.processDragStartList(B)):(this.setDragState(B,2),0))},processDragMoveEvent:function(B){if(2===this.getDragState(B)&&this.processDragThresholdEvent(B,this.manager.game.loop.now),4!==this.getDragState(B))return 0;var G=this._tempZones,Q=this._drag[B.id];Q.length>1&&(Q=Q.slice(0));for(var H=0;H<Q.length;H++){var K=Q[H],tt=K.input,at=tt.target;if(at){var lt=G.indexOf(at);0===lt?(K.emit(m.GAMEOBJECT_DRAG_OVER,B,at),this.emit(m.DRAG_OVER,B,K,at)):lt>0?(K.emit(m.GAMEOBJECT_DRAG_LEAVE,B,at),this.emit(m.DRAG_LEAVE,B,K,at),tt.target=G[0],K.emit(m.GAMEOBJECT_DRAG_ENTER,B,at=tt.target),this.emit(m.DRAG_ENTER,B,K,at)):(K.emit(m.GAMEOBJECT_DRAG_LEAVE,B,at),this.emit(m.DRAG_LEAVE,B,K,at),G[0]?(tt.target=G[0],K.emit(m.GAMEOBJECT_DRAG_ENTER,B,at=tt.target),this.emit(m.DRAG_ENTER,B,K,at)):tt.target=null)}else!at&&G[0]&&(tt.target=G[0],K.emit(m.GAMEOBJECT_DRAG_ENTER,B,at=tt.target),this.emit(m.DRAG_ENTER,B,K,at));var q,it,Y=B.positionToCamera(tt.dragStartCamera);if(K.parentContainer){var X=Y.x-tt.dragStartXGlobal,nt=Y.y-tt.dragStartYGlobal,dt=K.getParentRotation(),gt=X*Math.cos(dt)+nt*Math.sin(dt),bt=nt*Math.cos(dt)-X*Math.sin(dt);q=(gt*=1/K.parentContainer.scaleX)+tt.dragStartX,it=(bt*=1/K.parentContainer.scaleY)+tt.dragStartY}else q=Y.x-tt.dragX,it=Y.y-tt.dragY;K.emit(m.GAMEOBJECT_DRAG,B,q,it),this.emit(m.DRAG,B,K,q,it)}return Q.length},processDragUpEvent:function(B){var G=this._drag[B.id];G.length>1&&(G=G.slice(0));for(var Q=0;Q<G.length;Q++){var H=G[Q],K=H.input;if(K&&2===K.dragState){K.dragState=0,K.dragX=K.localX-H.displayOriginX,K.dragY=K.localY-H.displayOriginY,K.dragStartCamera=null;var tt=!1,at=K.target;at&&(H.emit(m.GAMEOBJECT_DROP,B,at),this.emit(m.DROP,B,H,at),K.target=null,tt=!0),H.input&&H.input.enabled&&(H.emit(m.GAMEOBJECT_DRAG_END,B,K.dragX,K.dragY,tt),this.emit(m.DRAG_END,B,H,tt))}}return this.setDragState(B,0),G.splice(0),0},processMoveEvents:function(B){var G=0,Q=this._temp,H=this._eventData,K=this._eventContainer;H.cancelled=!1;for(var tt=0;tt<Q.length;tt++){var at=Q[tt];if(at.input&&at.input.enabled&&(G++,at.emit(m.GAMEOBJECT_POINTER_MOVE,B,at.input.localX,at.input.localY,K),H.cancelled||!this.isActive()||at.input&&at.input.enabled&&(this.emit(m.GAMEOBJECT_MOVE,B,at,K),H.cancelled||!this.isActive()||this.topOnly)))break}return!H.cancelled&&this.isActive()&&this.emit(m.POINTER_MOVE,B,Q),G},processWheelEvent:function(B){var G=0,Q=this._temp,H=this._eventData,K=this._eventContainer;H.cancelled=!1;for(var tt=B.deltaX,at=B.deltaY,lt=B.deltaZ,q=0;q<Q.length;q++){var it=Q[q];if(it.input&&it.input.enabled&&(G++,it.emit(m.GAMEOBJECT_POINTER_WHEEL,B,tt,at,lt,K),H.cancelled||!this.isActive()||it.input&&it.input.enabled&&(this.emit(m.GAMEOBJECT_WHEEL,B,it,tt,at,lt,K),H.cancelled||!this.isActive())))break}return!H.cancelled&&this.isActive()&&this.emit(m.POINTER_WHEEL,B,Q,tt,at,lt),G},processOverEvents:function(B){var G=this._temp,Q=0,H=G.length,K=[];if(H>0){var tt=this.manager,at=this._eventData,lt=this._eventContainer;at.cancelled=!1;for(var q=0;q<H;q++){var it=G[q];if(it.input&&it.input.enabled&&(K.push(it),tt.setCursor(it.input),it.emit(m.GAMEOBJECT_POINTER_OVER,B,it.input.localX,it.input.localY,lt),Q++,at.cancelled||!this.isActive()||it.input&&it.input.enabled&&(this.emit(m.GAMEOBJECT_OVER,B,it,lt),at.cancelled||!this.isActive())))break}!at.cancelled&&this.isActive()&&this.emit(m.POINTER_OVER,B,K)}return this._over[B.id]=K,Q},processOutEvents:function(B){var G=this._over[B.id],Q=0,H=G.length;if(H>0){var K=this.manager,tt=this._eventData,at=this._eventContainer;tt.cancelled=!1,this.sortGameObjects(G,B);for(var lt=0;lt<H;lt++){var q=G[lt];if((q=G[lt]).input&&q.input.enabled&&(K.resetCursor(q.input),q.emit(m.GAMEOBJECT_POINTER_OUT,B,at),Q++,tt.cancelled||!this.isActive()||q.input&&q.input.enabled&&(this.emit(m.GAMEOBJECT_OUT,B,q,at),tt.cancelled||!this.isActive())))break}!tt.cancelled&&this.isActive()&&this.emit(m.POINTER_OUT,B,G),this._over[B.id]=[]}return Q},processOverOutEvents:function(B){var Q,H,G=this._temp,K=[],tt=[],at=[],lt=this._over[B.id],q=this._drag[B.id],it=this.manager;for(Q=0;Q<lt.length;Q++)-1===G.indexOf(H=lt[Q])&&-1===q.indexOf(H)?K.push(H):at.push(H);for(Q=0;Q<G.length;Q++)-1===lt.indexOf(H=G[Q])&&tt.push(H);var Y=K.length,X=0,nt=this._eventData,dt=this._eventContainer;if(nt.cancelled=!1,Y>0){for(this.sortGameObjects(K,B),Q=0;Q<Y&&!((H=K[Q]).input&&H.input.enabled&&(it.resetCursor(H.input),H.emit(m.GAMEOBJECT_POINTER_OUT,B,dt),X++,nt.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(m.GAMEOBJECT_OUT,B,H,dt),nt.cancelled||!this.isActive())));Q++);(!nt.cancelled||this.isActive())&&this.emit(m.POINTER_OUT,B,K)}if(Y=tt.length,nt.cancelled=!1,Y>0){for(this.sortGameObjects(tt,B),Q=0;Q<Y&&!((H=tt[Q]).input&&H.input.enabled&&(it.setCursor(H.input),H.emit(m.GAMEOBJECT_POINTER_OVER,B,H.input.localX,H.input.localY,dt),X++,nt.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(m.GAMEOBJECT_OVER,B,H,dt),nt.cancelled||!this.isActive())));Q++);!nt.cancelled&&this.isActive()&&this.emit(m.POINTER_OVER,B,tt)}return lt=at.concat(tt),this._over[B.id]=this.sortGameObjects(lt,B),X},processUpEvents:function(B){var G=this._temp,Q=this._eventData,H=this._eventContainer;Q.cancelled=!1;for(var K=0;K<G.length;K++){var tt=G[K];if(tt.input&&tt.input.enabled&&(tt.emit(m.GAMEOBJECT_POINTER_UP,B,tt.input.localX,tt.input.localY,H),Q.cancelled||!this.isActive()||tt.input&&tt.input.enabled&&(this.emit(m.GAMEOBJECT_UP,B,tt,H),Q.cancelled||!this.isActive())))break}return!Q.cancelled&&this.isActive()&&(B.upElement===this.manager.game.canvas?this.emit(m.POINTER_UP,B,G):this.emit(m.POINTER_UP_OUTSIDE,B)),G.length},forceDownState:function(B,G){this.forceState(B,G,m.GAMEOBJECT_POINTER_DOWN,m.GAMEOBJECT_DOWN,!1)},forceUpState:function(B,G){this.forceState(B,G,m.GAMEOBJECT_POINTER_UP,m.GAMEOBJECT_UP,!1)},forceOverState:function(B,G){this.forceState(B,G,m.GAMEOBJECT_POINTER_OVER,m.GAMEOBJECT_OVER,!0)},forceOutState:function(B,G){this.forceState(B,G,m.GAMEOBJECT_POINTER_OUT,m.GAMEOBJECT_OUT,!1)},forceState:function(B,G,Q,H,K){var tt=this._eventData,at=this._eventContainer;tt.cancelled=!1,G.input&&G.input.enabled&&(G.emit(Q,B,G.input.localX,G.input.localY,at),K&&this.setCursor(G.input),!tt.cancelled&&this.isActive()&&G.input&&G.input.enabled&&this.emit(H,B,G,at))},queueForInsertion:function(B){return-1===this._pendingInsertion.indexOf(B)&&-1===this._list.indexOf(B)&&this._pendingInsertion.push(B),this},queueForRemoval:function(B){return this._pendingRemoval.push(B),this},setDraggable:function(B,G){void 0===G&&(G=!0),Array.isArray(B)||(B=[B]);for(var Q=0;Q<B.length;Q++){var H=B[Q];H.input.draggable=G;var K=this._draggable.indexOf(H);G&&-1===K?this._draggable.push(H):!G&&K>-1&&this._draggable.splice(K,1)}return this},makePixelPerfect:function(B){return void 0===B&&(B=1),c(this.systems.textures,B)},setHitArea:function(B,G,Q){if(void 0===G)return this.setHitAreaFromTexture(B);Array.isArray(B)||(B=[B]);var H=!1,K=!1,tt=!1,at=!1,lt=!1,q=!0;if(_(G)&&Object.keys(G).length){var it=G;if(!B.some(function(bt){return bt.hasOwnProperty("faces")})){G=x(it,"hitArea",null),Q=x(it,"hitAreaCallback",null),lt=x(it,"pixelPerfect",!1);var X=x(it,"alphaTolerance",1);lt&&(G={},Q=this.makePixelPerfect(X))}H=x(it,"draggable",!1),K=x(it,"dropZone",!1),tt=x(it,"cursor",!1),at=x(it,"useHandCursor",!1),(!G||!Q)&&(this.setHitAreaFromTexture(B),q=!1)}else"function"==typeof G&&!Q&&(Q=G,G={});for(var nt=0;nt<B.length;nt++){var dt=B[nt];if(lt&&"Container"===dt.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var gt=dt.input?dt.input:d(dt,G,Q);gt.customHitArea=q,gt.dropZone=K,gt.cursor=at?"pointer":tt,dt.input=gt,H&&this.setDraggable(dt),this.queueForInsertion(dt)}}return this},setHitAreaCircle:function(B,G,Q,H,K){void 0===K&&(K=C);var tt=new y(G,Q,H);return this.setHitArea(B,tt,K)},setHitAreaEllipse:function(B,G,Q,H,K,tt){void 0===tt&&(tt=u);var at=new p(G,Q,H,K);return this.setHitArea(B,at,tt)},setHitAreaFromTexture:function(B,G){void 0===G&&(G=I),Array.isArray(B)||(B=[B]);for(var Q=0;Q<B.length;Q++){var H=B[Q],K=H.frame,tt=0,at=0;H.width?(tt=H.width,at=H.height):K&&(tt=K.realWidth,at=K.realHeight),"Container"!==H.type||0!==tt&&0!==at?0!==tt&&0!==at&&(H.input=d(H,new M(0,0,tt,at),G),this.queueForInsertion(H)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(B,G,Q,H,K,tt){void 0===tt&&(tt=I);var at=new M(G,Q,H,K);return this.setHitArea(B,at,tt)},setHitAreaTriangle:function(B,G,Q,H,K,tt,at,lt){void 0===lt&&(lt=N);var q=new F(G,Q,H,K,tt,at);return this.setHitArea(B,q,lt)},enableDebug:function(B,G){void 0===G&&(G=65280);var Q=B.input;if(!Q||!Q.hitArea)return this;var H=Q.hitArea,K=H.type,tt=Q.hitAreaDebug,at=this.systems.add,lt=this.systems.updateList;tt&&(lt.remove(tt),tt.destroy(),tt=null);var q=0,it=0;switch(K){case b.CIRCLE:tt=at.arc(0,0,H.radius),q=H.x-H.radius,it=H.y-H.radius;break;case b.ELLIPSE:tt=at.ellipse(0,0,H.width,H.height),q=H.x-H.width/2,it=H.y-H.height/2;break;case b.LINE:tt=at.line(0,0,H.x1,H.y1,H.x2,H.y2);break;case b.POLYGON:tt=at.polygon(0,0,H.points);break;case b.RECTANGLE:tt=at.rectangle(0,0,H.width,H.height),q=H.x,it=H.y;break;case b.TRIANGLE:tt=at.triangle(0,0,H.x1,H.y1,H.x2,H.y2,H.x3,H.y3)}return tt&&(tt.isFilled=!1,tt.strokeColor=G,tt.preUpdate=function(){tt.setVisible(B.visible),tt.setStrokeStyle(1/B.scale,tt.strokeColor),tt.setDisplayOrigin(B.displayOriginX,B.displayOriginY);var Y=B.x,X=B.y,nt=B.rotation,dt=B.scaleX,gt=B.scaleY;if(B.parentContainer){var bt=B.getWorldTransformMatrix();Y=bt.tx,X=bt.ty,nt=bt.rotation,dt=bt.scaleX,gt=bt.scaleY}tt.setRotation(nt),tt.setScale(dt,gt),tt.setPosition(Y+q*dt,X+it*gt),tt.setScrollFactor(B.scrollFactorX,B.scrollFactorY),tt.setDepth(B.depth)},lt.add(tt),Q.hitAreaDebug=tt),this},removeDebug:function(B){var G=B.input;return G&&G.hitAreaDebug&&(G.hitAreaDebug.destroy(),G.hitAreaDebug=null),this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(B){return this.pollRate=B,this._pollTimer=0,this},setGlobalTopOnly:function(B){return this.manager.globalTopOnly=B,this},setTopOnly:function(B){return this.topOnly=B,this},sortGameObjects:function(B,G){if(B.length<2||!G.camera)return B;var Q=G.camera.renderList;return B.sort(function(H,K){var tt=Math.max(Q.indexOf(H),0);return Math.max(Q.indexOf(K),0)-tt})},sortDropZones:function(B){return B.length<2?B:(this.scene.sys.depthSort(),B.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(B,G){if(!B.parentContainer&&!G.parentContainer)return this.displayList.getIndex(G)-this.displayList.getIndex(B);if(B.parentContainer===G.parentContainer)return G.parentContainer.getIndex(G)-B.parentContainer.getIndex(B);if(B.parentContainer===G)return-1;if(G.parentContainer===B)return 1;for(var Q=B.getIndexList(),H=G.getIndexList(),K=Math.min(Q.length,H.length),tt=0;tt<K;tt++){var at=Q[tt],lt=H[tt];if(at!==lt)return lt-at}return H.length-Q.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(B){return this.manager.addPointer(B)},setDefaultCursor:function(B){return this.manager.setDefaultCursor(B),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(m.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var B=0;B<10;B++)this._drag[B]=[],this._over[B]=[];this.removeAllListeners();var G=this.manager;G.canvas.style.cursor=G.defaultCursor;var Q=this.systems.events;Q.off(R.TRANSITION_START,this.transitionIn,this),Q.off(R.TRANSITION_OUT,this.transitionOut,this),Q.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),Q.off(R.PRE_UPDATE,this.preUpdate,this),G.events.off(m.GAME_OUT,this.onGameOut,this),G.events.off(m.GAME_OVER,this.onGameOver,this),Q.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var B=this.manager.pointers,G=0;G<B.length;G++)B[G].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(m.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});A.register("InputPlugin",V,"input"),S.exports=V},89639:(S,P,a)=>{var y=a(35154),C={};S.exports={register:function(f,d,c,h,p){C[f]={plugin:d,mapping:c,settingsKey:h,configKey:p}},getPlugin:function(f){return C[f]},install:function(f){var d=f.scene.sys,c=d.settings.input,h=d.game.config;for(var p in C){var u=C[p].plugin,m=C[p].mapping;y(c,C[p].settingsKey,h[C[p].configKey])&&(f[m]=new u(f))}},remove:function(f){C.hasOwnProperty(f)&&delete C[f]}}},42515:(S,P,a)=>{var y=a(31040),C=a(83419),g=a(20339),f=a(43855),d=a(47235),c=a(26099),h=a(25892),p=new C({initialize:function(m,v){this.manager=m,this.id=v,this.camera=null,this.button=0,this.buttons=0,this.position=new c,this.prevPosition=new c,this.midPoint=new c(-1,-1),this.velocity=new c,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===v,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(u){var m=u.getWorldPoint(this.x,this.y);return this.worldX=m.x,this.worldY=m.y,this},positionToCamera:function(u,m){return u.getWorldPoint(this.x,this.y,m)},updateMotion:function(){var u=this.position.x,m=this.position.y,v=this.midPoint.x,x=this.midPoint.y;if(u!==v||m!==x){var b=d(this.motionFactor,v,u),T=d(this.motionFactor,x,m);f(b,u,.1)&&(b=u),f(T,m,.1)&&(T=m),this.midPoint.set(b,T);var _=u-b,A=m-T;this.velocity.set(_,A),this.angle=y(b,T,u,m),this.distance=Math.sqrt(_*_+A*A)}},up:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),0===u.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=u.timeStamp,this.wasTouch=!1)},down:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),0===u.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),h.macOS&&u.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=u.timeStamp),this.wasTouch=!1},move:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.locked&&(this.movementX=u.movementX||u.mozMovementX||u.webkitMovementX||0,this.movementY=u.movementY||u.mozMovementY||u.webkitMovementY||0),this.moveTime=u.timeStamp,this.wasTouch=!1},wheel:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.deltaX=u.deltaX,this.deltaY=u.deltaY,this.deltaZ=u.deltaZ,this.wasTouch=!1},touchstart:function(u,m){u.pointerId&&(this.pointerId=u.pointerId),this.identifier=u.identifier,this.target=u.target,this.active=!0,this.buttons=1,this.event=m,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=m.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(u,m){this.event=m,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.moveTime=m.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(u,m){this.buttons=0,this.event=m,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=m.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(u,m){this.buttons=0,this.event=m,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=m.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.buttons?0===this.button&&!this.isDown:0===this.button},rightButtonReleased:function(){return 0===this.buttons?2===this.button&&!this.isDown:2===this.button},middleButtonReleased:function(){return 0===this.buttons?1===this.button&&!this.isDown:1===this.button},backButtonReleased:function(){return 0===this.buttons?3===this.button&&!this.isDown:3===this.button},forwardButtonReleased:function(){return 0===this.buttons?4===this.button&&!this.isDown:4===this.button},getDistance:function(){return this.isDown?g(this.downX,this.downY,this.x,this.y):g(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?y(this.downX,this.downY,this.x,this.y):y(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(u,m){void 0===u&&(u=10),void 0===m&&(m=[]);for(var v=this.prevPosition.x,x=this.prevPosition.y,b=this.position.x,T=this.position.y,_=0;_<u;_++){var A=1/u*_;m[_]={x:d(A,v,b),y:d(A,x,T)}}return m},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=0===this.id},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},time:{get:function(){return this.event?this.event.timeStamp:0}}});S.exports=p},93301:S=>{S.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},7179:S=>{S.exports="boot"},85375:S=>{S.exports="destroy"},39843:S=>{S.exports="dragend"},23388:S=>{S.exports="dragenter"},16133:S=>{S.exports="drag"},27829:S=>{S.exports="dragleave"},53904:S=>{S.exports="dragover"},56058:S=>{S.exports="dragstart"},2642:S=>{S.exports="drop"},88171:S=>{S.exports="gameobjectdown"},36147:S=>{S.exports="dragend"},71692:S=>{S.exports="dragenter"},96149:S=>{S.exports="drag"},81285:S=>{S.exports="dragleave"},74048:S=>{S.exports="dragover"},21322:S=>{S.exports="dragstart"},49378:S=>{S.exports="drop"},86754:S=>{S.exports="gameobjectmove"},86433:S=>{S.exports="gameobjectout"},60709:S=>{S.exports="gameobjectover"},24081:S=>{S.exports="pointerdown"},11172:S=>{S.exports="pointermove"},18907:S=>{S.exports="pointerout"},95579:S=>{S.exports="pointerover"},35368:S=>{S.exports="pointerup"},26972:S=>{S.exports="wheel"},47078:S=>{S.exports="gameobjectup"},73802:S=>{S.exports="gameobjectwheel"},56718:S=>{S.exports="gameout"},25936:S=>{S.exports="gameover"},27503:S=>{S.exports="boot"},50852:S=>{S.exports="process"},96438:S=>{S.exports="update"},59152:S=>{S.exports="pointerlockchange"},47777:S=>{S.exports="pointerdown"},27957:S=>{S.exports="pointerdownoutside"},19444:S=>{S.exports="pointermove"},54251:S=>{S.exports="pointerout"},18667:S=>{S.exports="pointerover"},27192:S=>{S.exports="pointerup"},24652:S=>{S.exports="pointerupoutside"},45132:S=>{S.exports="wheel"},44512:S=>{S.exports="preupdate"},15757:S=>{S.exports="shutdown"},41637:S=>{S.exports="start"},93802:S=>{S.exports="update"},8214:(S,P,a)=>{S.exports={BOOT:a(7179),DESTROY:a(85375),DRAG_END:a(39843),DRAG_ENTER:a(23388),DRAG:a(16133),DRAG_LEAVE:a(27829),DRAG_OVER:a(53904),DRAG_START:a(56058),DROP:a(2642),GAME_OUT:a(56718),GAME_OVER:a(25936),GAMEOBJECT_DOWN:a(88171),GAMEOBJECT_DRAG_END:a(36147),GAMEOBJECT_DRAG_ENTER:a(71692),GAMEOBJECT_DRAG:a(96149),GAMEOBJECT_DRAG_LEAVE:a(81285),GAMEOBJECT_DRAG_OVER:a(74048),GAMEOBJECT_DRAG_START:a(21322),GAMEOBJECT_DROP:a(49378),GAMEOBJECT_MOVE:a(86754),GAMEOBJECT_OUT:a(86433),GAMEOBJECT_OVER:a(60709),GAMEOBJECT_POINTER_DOWN:a(24081),GAMEOBJECT_POINTER_MOVE:a(11172),GAMEOBJECT_POINTER_OUT:a(18907),GAMEOBJECT_POINTER_OVER:a(95579),GAMEOBJECT_POINTER_UP:a(35368),GAMEOBJECT_POINTER_WHEEL:a(26972),GAMEOBJECT_UP:a(47078),GAMEOBJECT_WHEEL:a(73802),MANAGER_BOOT:a(27503),MANAGER_PROCESS:a(50852),MANAGER_UPDATE:a(96438),POINTER_DOWN:a(47777),POINTER_DOWN_OUTSIDE:a(27957),POINTER_MOVE:a(19444),POINTER_OUT:a(54251),POINTER_OVER:a(18667),POINTER_UP:a(27192),POINTER_UP_OUTSIDE:a(24652),POINTER_WHEEL:a(45132),POINTERLOCK_CHANGE:a(59152),PRE_UPDATE:a(44512),SHUTDOWN:a(15757),START:a(41637),UPDATE:a(93802)}},97421:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d){this.pad=f,this.events=f.events,this.index=d,this.value=0,this.threshold=.1},update:function(g){this.value=g},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});S.exports=C},28884:(S,P,a)=>{var y=a(83419),C=a(92734),g=new y({initialize:function(d,c){this.pad=d,this.events=d.manager,this.index=c,this.value=0,this.threshold=1,this.pressed=!1},update:function(f){this.value=f;var d=this.pad,c=this.index;f>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(C.BUTTON_DOWN,d,this,f),this.pad.emit(C.GAMEPAD_BUTTON_DOWN,c,f,this)):this.pressed&&(this.pressed=!1,this.events.emit(C.BUTTON_UP,d,this,f),this.pad.emit(C.GAMEPAD_BUTTON_UP,c,f,this))},destroy:function(){this.pad=null,this.events=null}});S.exports=g},99125:(S,P,a)=>{var y=a(97421),C=a(28884),g=a(83419),f=a(50792),d=a(26099),c=new g({Extends:f,initialize:function(p,u){f.call(this),this.manager=p,this.pad=u,this.id=u.id,this.index=u.index;for(var m=[],v=0;v<u.buttons.length;v++)m.push(new C(this,v));this.buttons=m;var x=[];for(v=0;v<u.axes.length;v++)x.push(new y(this,v));this.axes=x,this.vibration=u.vibrationActuator;var b={value:0,pressed:!1};this._LCLeft=m[14]?m[14]:b,this._LCRight=m[15]?m[15]:b,this._LCTop=m[12]?m[12]:b,this._LCBottom=m[13]?m[13]:b,this._RCLeft=m[2]?m[2]:b,this._RCRight=m[1]?m[1]:b,this._RCTop=m[3]?m[3]:b,this._RCBottom=m[0]?m[0]:b,this._FBLeftTop=m[4]?m[4]:b,this._FBLeftBottom=m[6]?m[6]:b,this._FBRightTop=m[5]?m[5]:b,this._FBRightBottom=m[7]?m[7]:b;var T={value:0};this._HAxisLeft=x[0]?x[0]:T,this._VAxisLeft=x[1]?x[1]:T,this._HAxisRight=x[2]?x[2]:T,this._VAxisRight=x[3]?x[3]:T,this.leftStick=new d,this.rightStick=new d,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(h){return this.axes[h].getValue()},setAxisThreshold:function(h){for(var p=0;p<this.axes.length;p++)this.axes[p].threshold=h},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(h){return this.buttons[h].value},isButtonDown:function(h){return this.buttons[h].pressed},update:function(h){if(!(h.timestamp<this._created)){var p,u=this.buttons,m=h.buttons,v=u.length;for(p=0;p<v;p++)u[p].update(m[p].value);var x=this.axes,b=h.axes;for(v=x.length,p=0;p<v;p++)x[p].update(b[p]);v>=2&&(this.leftStick.set(x[0].getValue(),x[1].getValue()),v>=4&&this.rightStick.set(x[2].getValue(),x[3].getValue()))}},destroy:function(){var h;for(this.removeAllListeners(),this.manager=null,this.pad=null,h=0;h<this.buttons.length;h++)this.buttons[h].destroy();for(h=0;h<this.axes.length;h++)this.axes[h].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});S.exports=c},56654:(S,P,a)=>{var y=a(83419),C=a(50792),g=a(92734),f=a(99125),d=a(35154),c=a(89639),h=a(8214),p=new y({Extends:C,initialize:function(m){C.call(this),this.scene=m.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=m,this.enabled=!0,this.gamepads=[],this.queue=[],m.pluginEvents.once(h.BOOT,this.boot,this),m.pluginEvents.on(h.START,this.start,this)},boot:function(){var u=this.scene.sys.game,m=this.settings.input,v=u.config;this.enabled=d(m,"gamepad",v.inputGamepad)&&u.device.input.gamepads,this.target=d(m,"gamepad.target",v.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var u=this,m=this.target,v=function(x){x.defaultPrevented||!u.isActive()||(u.refreshPads(),u.queue.push(x))};this.onGamepadHandler=v,m.addEventListener("gamepadconnected",v,!1),m.addEventListener("gamepaddisconnected",v,!1),this.sceneInputPlugin.pluginEvents.on(h.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(h.UPDATE,this.update);for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].removeAllListeners()},disconnectAll:function(){for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].pad.connected=!1},refreshPads:function(){var u=navigator.getGamepads();if(u)for(var m=this.gamepads,v=0;v<u.length;v++){var x=u[v];if(x){var T=x.index,_=m[T];if(_)_.id!==x.id?(_.destroy(),m[T]=new f(this,x)):_.update(x);else{var A=new f(this,x);m[T]=A,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=A):this._pad3=A:this._pad2=A:this._pad1=A}}}else this.disconnectAll()},getAll:function(){for(var u=[],m=this.gamepads,v=0;v<m.length;v++)m[v]&&u.push(m[v]);return u},getPad:function(u){for(var m=this.gamepads,v=0;v<m.length;v++)if(m[v]&&m[v].index===u)return m[v]},update:function(){if(this.enabled){this.refreshPads();var u=this.queue.length;if(0!==u)for(var m=this.queue.splice(0,u),v=0;v<u;v++){var x=m[v],b=this.getPad(x.gamepad.index);"gamepadconnected"===x.type?this.emit(g.CONNECTED,b,x):"gamepaddisconnected"===x.type&&this.emit(g.DISCONNECTED,b,x)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var u=0;u<this.gamepads.length;u++)this.gamepads[u]&&this.gamepads[u].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});c.register("GamepadPlugin",p,"gamepad","gamepad","inputGamepad"),S.exports=p},89651:S=>{S.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:S=>{S.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:S=>{S.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(S,P,a)=>{S.exports={DUALSHOCK_4:a(65294),SNES_USB:a(89651),XBOX_360:a(90089)}},46008:S=>{S.exports="down"},7629:S=>{S.exports="up"},42206:S=>{S.exports="connected"},86544:S=>{S.exports="disconnected"},94784:S=>{S.exports="down"},14325:S=>{S.exports="up"},92734:(S,P,a)=>{S.exports={BUTTON_DOWN:a(46008),BUTTON_UP:a(7629),CONNECTED:a(42206),DISCONNECTED:a(86544),GAMEPAD_BUTTON_DOWN:a(94784),GAMEPAD_BUTTON_UP:a(14325)}},48646:(S,P,a)=>{S.exports={Axis:a(97421),Button:a(28884),Events:a(92734),Gamepad:a(99125),GamepadPlugin:a(56654),Configs:a(64894)}},14350:(S,P,a)=>{var y=a(93301),C=a(79291),g={CreatePixelPerfectHandler:a(84409),CreateInteractiveObject:a(74457),Events:a(8214),Gamepad:a(48646),InputManager:a(7003),InputPlugin:a(48205),InputPluginCache:a(89639),Keyboard:a(51442),Mouse:a(87078),Pointer:a(42515),Touch:a(95618)};g=C(!1,g,y),S.exports=g},78970:(S,P,a)=>{var y=a(72905),C=a(83419),g=a(8443),f=a(8214),d=a(46032),c=a(29747),h=new C({initialize:function(u){this.manager=u,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.onKeyDown=c,this.onKeyUp=c,u.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var p=this.manager.config;this.enabled=p.inputKeyboard,this.target=p.inputKeyboardEventTarget,this.addCapture(p.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(g.POST_STEP,this.postUpdate,this)},startListeners:function(){var p=this;this.onKeyDown=function(m){!m.defaultPrevented&&p.enabled&&p.manager&&(p.queue.push(m),p.manager.events.emit(f.MANAGER_PROCESS),p.preventDefault&&!(m.altKey||m.ctrlKey||m.shiftKey||m.metaKey)&&p.captures.indexOf(m.keyCode)>-1&&m.preventDefault())},this.onKeyUp=function(m){!m.defaultPrevented&&p.enabled&&p.manager&&(p.queue.push(m),p.manager.events.emit(f.MANAGER_PROCESS),p.preventDefault&&!(m.altKey||m.ctrlKey||m.shiftKey||m.metaKey)&&p.captures.indexOf(m.keyCode)>-1&&m.preventDefault())};var u=this.target;u&&(u.addEventListener("keydown",this.onKeyDown,!1),u.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var p=this.target;p.removeEventListener("keydown",this.onKeyDown,!1),p.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(p){"string"==typeof p&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var u=this.captures,m=0;m<p.length;m++){var v=p[m];"string"==typeof v&&(v=d[v.trim().toUpperCase()]),-1===u.indexOf(v)&&u.push(v)}this.preventDefault=u.length>0},removeCapture:function(p){"string"==typeof p&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var u=this.captures,m=0;m<p.length;m++){var v=p[m];"string"==typeof v&&(v=d[v.toUpperCase()]),y(u,v)}this.preventDefault=u.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(g.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});S.exports=h},28846:(S,P,a)=>{var y=a(83419),C=a(50792),g=a(95922),f=a(8443),d=a(35154),c=a(8214),h=a(89639),p=a(30472),u=a(46032),m=a(87960),v=a(74600),x=a(44594),b=a(56583),T=new y({Extends:C,initialize:function(A){C.call(this),this.game=A.systems.game,this.scene=A.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=A,this.manager=A.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,A.pluginEvents.once(c.BOOT,this.boot,this),A.pluginEvents.on(c.START,this.start,this)},boot:function(){var _=this.settings.input;this.enabled=d(_,"keyboard",!0);var A=d(_,"keyboard.capture",null);A&&this.addCaptures(A),this.sceneInputPlugin.pluginEvents.once(c.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(c.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(c.SHUTDOWN,this.shutdown,this),this.game.events.on(f.BLUR,this.resetKeys,this),this.scene.sys.events.on(x.PAUSE,this.resetKeys,this),this.scene.sys.events.on(x.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(_){return this.manager.addCapture(_),this},removeCapture:function(_){return this.manager.removeCapture(_),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:u.UP,down:u.DOWN,left:u.LEFT,right:u.RIGHT,space:u.SPACE,shift:u.SHIFT})},addKeys:function(_,A,M){void 0===A&&(A=!0),void 0===M&&(M=!1);var I={};if("string"==typeof _){_=_.split(",");for(var R=0;R<_.length;R++){var F=_[R].trim();F&&(I[F]=this.addKey(F,A,M))}}else for(var N in _)I[N]=this.addKey(_[N],A,M);return I},addKey:function(_,A,M){void 0===A&&(A=!0),void 0===M&&(M=!1);var I=this.keys;if(_ instanceof p){var R=I.indexOf(_);return R>-1?I[R]=_:I[_.keyCode]=_,A&&this.addCapture(_.keyCode),_.setEmitOnRepeat(M),_}return"string"==typeof _&&(_=u[_.toUpperCase()]),I[_]||(I[_]=new p(this,_),A&&this.addCapture(_),I[_].setEmitOnRepeat(M)),I[_]},removeKey:function(_,A,M){void 0===A&&(A=!1),void 0===M&&(M=!1);var R,I=this.keys;if(_ instanceof p){var F=I.indexOf(_);F>-1&&(R=this.keys[F],this.keys[F]=void 0)}else"string"==typeof _&&(_=u[_.toUpperCase()]);return I[_]&&(R=I[_],I[_]=void 0),R&&(R.plugin=null,M&&this.removeCapture(R.keyCode),A&&R.destroy()),this},removeAllKeys:function(_,A){void 0===_&&(_=!1),void 0===A&&(A=!1);for(var M=this.keys,I=0;I<M.length;I++){var R=M[I];R&&(M[I]=void 0,A&&this.removeCapture(R.keyCode),_&&R.destroy())}return this},createCombo:function(_,A){return new m(this,_,A)},checkDown:function(_,A){if(void 0===A&&(A=0),this.enabled&&_.isDown){var M=b(this.time-_.timeDown,A);if(M>_._tick)return _._tick=M,!0}return!1},update:function(){var _=this.manager.queue,A=_.length;if(this.isActive()&&0!==A)for(var M=this.keys,I=0;I<A;I++){var R=_[I],F=R.keyCode,N=M[F],V=!1;void 0===R.cancelled&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),-1!==R.cancelled&&(F===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=F,this.prevTime=R.timeStamp,this.prevType=R.type,"keydown"===R.type?(N&&(V=N.isDown,N.onDown(R)),!R.cancelled&&(!N||!V)&&(v[F]&&this.emit(g.KEY_DOWN+v[F],R),R.cancelled||this.emit(g.ANY_KEY_DOWN,R))):(N&&N.onUp(R),R.cancelled||(v[F]&&this.emit(g.KEY_UP+v[F],R),R.cancelled||this.emit(g.ANY_KEY_UP,R))),1===R.cancelled&&(R.cancelled=0)))}},resetKeys:function(){for(var _=this.keys,A=0;A<_.length;A++)_[A]&&_[A].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(c.MANAGER_PROCESS,this.update,this),this.game.events.off(f.BLUR,this.resetKeys),this.scene.sys.events.off(x.PAUSE,this.resetKeys,this),this.scene.sys.events.off(x.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var _=this.keys,A=0;A<_.length;A++)_[A]&&_[A].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});h.register("KeyboardPlugin",T,"keyboard","keyboard","inputKeyboard"),S.exports=T},66970:S=>{S.exports=function(a,y){return y.timeLastMatched=a.timeStamp,y.index++,y.index===y.size||(y.current=y.keyCodes[y.index],!1)}},87960:(S,P,a)=>{var y=a(83419),C=a(95922),g=a(95540),f=a(68769),d=a(92803),c=new y({initialize:function(p,u,m){if(void 0===m&&(m={}),u.length<2)return!1;this.manager=p,this.enabled=!0,this.keyCodes=[];for(var v=0;v<u.length;v++){var x=u[v];"string"==typeof x?this.keyCodes.push(x.toUpperCase().charCodeAt(0)):"number"==typeof x?this.keyCodes.push(x):x.hasOwnProperty("keyCode")&&this.keyCodes.push(x.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=g(m,"resetOnWrongKey",!0),this.maxKeyDelay=g(m,"maxKeyDelay",0),this.resetOnMatch=g(m,"resetOnMatch",!1),this.deleteOnMatch=g(m,"deleteOnMatch",!1);var b=this;this.onKeyDown=function(_){!b.matched&&b.enabled&&f(_,b)&&(b.manager.emit(C.COMBO_MATCH,b,_),b.resetOnMatch?d(b):b.deleteOnMatch&&b.destroy())},this.manager.on(C.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(C.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});S.exports=c},68769:(S,P,a)=>{var y=a(66970);S.exports=function(g,f){if(f.matched)return!0;var d=!1,c=!1;return g.keyCode===f.current&&(f.index>0&&f.maxKeyDelay>0?g.timeStamp<=f.timeLastMatched+f.maxKeyDelay&&(c=!0,d=y(g,f)):(c=!0,d=y(g,f))),!c&&f.resetOnWrongKey&&(f.index=0,f.current=f.keyCodes[0]),d&&(f.timeLastMatched=g.timeStamp,f.matched=!0,f.timeMatched=g.timeStamp),d}},92803:S=>{S.exports=function(a){return a.current=a.keyCodes[0],a.index=0,a.timeLastMatched=0,a.matched=!1,a.timeMatched=0,a}},92612:S=>{S.exports="keydown"},23345:S=>{S.exports="keyup"},21957:S=>{S.exports="keycombomatch"},44743:S=>{S.exports="down"},3771:S=>{S.exports="keydown-"},46358:S=>{S.exports="keyup-"},75674:S=>{S.exports="up"},95922:(S,P,a)=>{S.exports={ANY_KEY_DOWN:a(92612),ANY_KEY_UP:a(23345),COMBO_MATCH:a(21957),DOWN:a(44743),KEY_DOWN:a(3771),KEY_UP:a(46358),UP:a(75674)}},51442:(S,P,a)=>{S.exports={Events:a(95922),KeyboardManager:a(78970),KeyboardPlugin:a(28846),Key:a(30472),KeyCodes:a(46032),KeyCombo:a(87960),AdvanceKeyCombo:a(66970),ProcessKeyCombo:a(68769),ResetKeyCombo:a(92803),JustDown:a(90229),JustUp:a(38796),DownDuration:a(37015),UpDuration:a(41170)}},37015:S=>{S.exports=function(a,y){return void 0===y&&(y=50),a.isDown&&a.plugin.game.loop.time-a.timeDown<y}},90229:S=>{S.exports=function(a){return!!a._justDown&&(a._justDown=!1,!0)}},38796:S=>{S.exports=function(a){return!!a._justUp&&(a._justUp=!1,!0)}},30472:(S,P,a)=>{var y=a(83419),C=a(50792),g=a(95922),f=new y({Extends:C,initialize:function(c,h){C.call(this),this.plugin=c,this.keyCode=h,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(d){return this.emitOnRepeat=d,this},onDown:function(d){this.originalEvent=d,this.enabled&&(this.altKey=d.altKey,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.location=d.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(g.DOWN,this,d):(this.isDown=!0,this.isUp=!1,this.timeDown=d.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(g.DOWN,this,d)))},onUp:function(d){this.originalEvent=d,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=d.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(g.UP,this,d))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});S.exports=f},46032:S=>{S.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},74600:(S,P,a)=>{var y=a(46032),C={};for(var g in y)C[y[g]]=g;S.exports=C},41170:S=>{S.exports=function(a,y){return void 0===y&&(y=50),a.isUp&&a.plugin.game.loop.time-a.timeUp<y}},85098:(S,P,a)=>{var y=a(83419),C=a(89357),g=a(8214),f=a(29747),d=new y({initialize:function(h){this.manager=h,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.locked=!1,this.onMouseMove=f,this.onMouseDown=f,this.onMouseUp=f,this.onMouseDownWindow=f,this.onMouseUpWindow=f,this.onMouseOver=f,this.onMouseOut=f,this.onMouseWheel=f,this.pointerLockChange=f,this.isTop=!0,h.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var c=this.manager.config;this.enabled=c.inputMouse,this.target=c.inputMouseEventTarget,this.passive=c.inputMousePassive,this.preventDefaultDown=c.inputMousePreventDefaultDown,this.preventDefaultUp=c.inputMousePreventDefaultUp,this.preventDefaultMove=c.inputMousePreventDefaultMove,this.preventDefaultWheel=c.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,c.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(c){return c.preventDefault(),!1}),this},requestPointerLock:function(){if(C.pointerLock){var c=this.target;c.requestPointerLock=c.requestPointerLock||c.mozRequestPointerLock||c.webkitRequestPointerLock,c.requestPointerLock()}},releasePointerLock:function(){C.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var c=this.target;if(c){var h=this,p=this.manager,u=p.canvas,m=window&&window.focus&&p.game.config.autoFocus;this.onMouseMove=function(x){!x.defaultPrevented&&h.enabled&&p&&p.enabled&&(p.onMouseMove(x),h.preventDefaultMove&&x.preventDefault())},this.onMouseDown=function(x){m&&window.focus(),!x.defaultPrevented&&h.enabled&&p&&p.enabled&&(p.onMouseDown(x),h.preventDefaultDown&&x.target===u&&x.preventDefault())},this.onMouseDownWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&h.enabled&&p&&p.enabled&&x.target!==u&&p.onMouseDown(x)},this.onMouseUp=function(x){!x.defaultPrevented&&h.enabled&&p&&p.enabled&&(p.onMouseUp(x),h.preventDefaultUp&&x.target===u&&x.preventDefault())},this.onMouseUpWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&h.enabled&&p&&p.enabled&&x.target!==u&&p.onMouseUp(x)},this.onMouseOver=function(x){!x.defaultPrevented&&h.enabled&&p&&p.enabled&&p.setCanvasOver(x)},this.onMouseOut=function(x){!x.defaultPrevented&&h.enabled&&p&&p.enabled&&p.setCanvasOut(x)},this.onMouseWheel=function(x){!x.defaultPrevented&&h.enabled&&p&&p.enabled&&p.onMouseWheel(x),h.preventDefaultWheel&&x.target===u&&x.preventDefault()};var v={passive:!0};if(c.addEventListener("mousemove",this.onMouseMove),c.addEventListener("mousedown",this.onMouseDown),c.addEventListener("mouseup",this.onMouseUp),c.addEventListener("mouseover",this.onMouseOver,v),c.addEventListener("mouseout",this.onMouseOut,v),c.addEventListener("wheel",this.onMouseWheel,this.preventDefaultWheel?{passive:!1}:v),window&&p.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,v),window.top.addEventListener("mouseup",this.onMouseUpWindow,v)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,v),window.addEventListener("mouseup",this.onMouseUpWindow,v),this.isTop=!1}C.pointerLock&&(this.pointerLockChange=function(x){var b=h.target;h.locked=document.pointerLockElement===b||document.mozPointerLockElement===b||document.webkitPointerLockElement===b,p.onPointerLockChange(x)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var c=this.target;c.removeEventListener("mousemove",this.onMouseMove),c.removeEventListener("mousedown",this.onMouseDown),c.removeEventListener("mouseup",this.onMouseUp),c.removeEventListener("mouseover",this.onMouseOver),c.removeEventListener("mouseout",this.onMouseOut),window&&((c=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),c.removeEventListener("mouseup",this.onMouseUpWindow)),C.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});S.exports=d},87078:(S,P,a)=>{S.exports={MouseManager:a(85098)}},36210:(S,P,a)=>{var y=a(83419),C=a(8214),g=a(29747),f=new y({initialize:function(c){this.manager=c,this.capture=!0,this.enabled=!1,this.onTouchStart=g,this.onTouchStartWindow=g,this.onTouchMove=g,this.onTouchEnd=g,this.onTouchEndWindow=g,this.onTouchCancel=g,this.onTouchCancelWindow=g,this.isTop=!0,c.events.once(C.MANAGER_BOOT,this.boot,this)},boot:function(){var d=this.manager.config;this.enabled=d.inputTouch,this.target=d.inputTouchEventTarget,this.capture=d.inputTouchCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,d.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(d){return d.preventDefault(),!1}),this},startListeners:function(){var d=this.target;if(d){var c=this,h=this.manager,p=h.canvas,u=window&&window.focus&&h.game.config.autoFocus;this.onTouchMove=function(b){!b.defaultPrevented&&c.enabled&&h&&h.enabled&&(h.onTouchMove(b),c.capture&&b.cancelable&&b.preventDefault())},this.onTouchStart=function(b){u&&window.focus(),!b.defaultPrevented&&c.enabled&&h&&h.enabled&&(h.onTouchStart(b),c.capture&&b.cancelable&&b.target===p&&b.preventDefault())},this.onTouchStartWindow=function(b){!b.defaultPrevented&&c.enabled&&h&&h.enabled&&b.target!==p&&h.onTouchStart(b)},this.onTouchEnd=function(b){!b.defaultPrevented&&c.enabled&&h&&h.enabled&&(h.onTouchEnd(b),c.capture&&b.cancelable&&b.target===p&&b.preventDefault())},this.onTouchEndWindow=function(b){!b.defaultPrevented&&c.enabled&&h&&h.enabled&&b.target!==p&&h.onTouchEnd(b)},this.onTouchCancel=function(b){!b.defaultPrevented&&c.enabled&&h&&h.enabled&&(h.onTouchCancel(b),c.capture&&b.preventDefault())},this.onTouchCancelWindow=function(b){!b.defaultPrevented&&c.enabled&&h&&h.enabled&&h.onTouchCancel(b)};var m=this.capture,v={passive:!0},x={passive:!1};if(d.addEventListener("touchstart",this.onTouchStart,m?x:v),d.addEventListener("touchmove",this.onTouchMove,m?x:v),d.addEventListener("touchend",this.onTouchEnd,m?x:v),d.addEventListener("touchcancel",this.onTouchCancel,m?x:v),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,x),window.top.addEventListener("touchend",this.onTouchEndWindow,x),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,x)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,x),window.addEventListener("touchend",this.onTouchEndWindow,x),window.addEventListener("touchcancel",this.onTouchCancelWindow,x),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var d=this.target;d.removeEventListener("touchstart",this.onTouchStart),d.removeEventListener("touchmove",this.onTouchMove),d.removeEventListener("touchend",this.onTouchEnd),d.removeEventListener("touchcancel",this.onTouchCancel),window&&((d=this.isTop?window.top:window).removeEventListener("touchstart",this.onTouchStartWindow),d.removeEventListener("touchend",this.onTouchEndWindow),d.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});S.exports=f},95618:(S,P,a)=>{S.exports={TouchManager:a(36210)}},41299:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(54899),f=a(95540),d=a(98356),c=a(3374),h=a(84376),p=a(92638),u=new y({initialize:function(v,x){if(this.loader=v,this.cache=f(x,"cache",!1),this.type=f(x,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=f(x,"key",!1);var b=this.key;if(v.prefix&&""!==v.prefix&&(this.key=v.prefix+b),!this.key)throw new Error("Invalid File key: "+this.key);var T=f(x,"url");void 0===T?T=v.path+b+"."+f(x,"extension",""):"string"==typeof T&&!T.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(T=v.path+T),this.url=T,this.src="",this.xhrSettings=p(f(x,"responseType",void 0)),f(x,"xhrSettings",!1)&&(this.xhrSettings=c(this.xhrSettings,f(x,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?C.FILE_POPULATED:C.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=f(x,"config",{}),this.base64="string"==typeof T&&0===T.indexOf("data:"),this.retryAttempts=f(x,"maxRetries",v.maxRetries)},setLink:function(m){this.linkFile=m,m.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===C.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=C.FILE_LOADING,this.src=d(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);0===this.src.indexOf("data:")&&(this.base64=!0),this.xhrLoader=h(this,this.loader.xhr)}},onLoad:function(m,v){var x=m.responseURL&&this.loader.localSchemes.some(function(_){return 0===m.responseURL.indexOf(_)}),T=!(v.target&&200!==v.target.status)||x&&0===v.target.status;4===m.readyState&&m.status>=400&&m.status<=599&&(T=!1),this.state=C.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,T)},onBase64Load:function(m){this.xhrLoader=m,this.state=C.FILE_LOADED,this.percentComplete=1,this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(m){m.lengthComputable&&(this.bytesLoaded=m.loaded,this.bytesTotal=m.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=C.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=C.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=C.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(m){if(this.state!==C.FILE_PENDING_DESTROY){void 0===m&&(m=this.data);var v=this.key,x=this.type;this.loader.emit(g.FILE_COMPLETE,v,x,m),this.loader.emit(g.FILE_KEY_COMPLETE+x+"-"+v,v,x,m),this.loader.flagForRemoval(this),this.state=C.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});u.createObjectURL=function(m,v,x){if("function"==typeof URL)m.src=URL.createObjectURL(v);else{var b=new FileReader;b.onload=function(){m.removeAttribute("crossOrigin"),m.src="data:"+(v.type||x)+";base64,"+b.result.split(",")[1]},b.onerror=m.onerror,b.readAsDataURL(v)}},u.revokeObjectURL=function(m){"function"==typeof URL&&URL.revokeObjectURL(m.src)},S.exports=u},74099:S=>{var P={};S.exports={install:function(y){for(var C in P)y[C]=P[C]},register:function(y,C){P[y]=C},destroy:function(){P={}}}},98356:S=>{S.exports=function(a,y){return!!a.url&&(a.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?a.url:y+a.url)}},74261:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(35072),f=a(50792),d=a(54899),c=a(74099),h=a(95540),p=a(35154),u=a(41212),m=a(37277),v=a(44594),x=a(92638),b=new y({Extends:f,initialize:function(_){f.call(this);var A=_.sys.game.config,M=_.sys.settings.loader;this.scene=_,this.systems=_.sys,this.cacheManager=_.sys.cache,this.textureManager=_.sys.textures,this.sceneManager=_.sys.game.scene,c.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(h(M,"baseURL",A.loaderBaseURL)),this.setPath(h(M,"path",A.loaderPath)),this.setPrefix(h(M,"prefix",A.loaderPrefix)),this.maxParallelDownloads=h(M,"maxParallelDownloads",A.loaderMaxParallelDownloads),this.xhr=x(h(M,"responseType",A.loaderResponseType),h(M,"async",A.loaderAsync),h(M,"user",A.loaderUser),h(M,"password",A.loaderPassword),h(M,"timeout",A.loaderTimeout),h(M,"withCredentials",A.loaderWithCredentials)),this.crossOrigin=h(M,"crossOrigin",A.loaderCrossOrigin),this.imageLoadType=h(M,"imageLoadType",A.loaderImageLoadType),this.localSchemes=h(M,"localScheme",A.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new g,this.inflight=new g,this.queue=new g,this._deleteQueue=new g,this.totalFailed=0,this.totalComplete=0,this.state=C.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=h(M,"maxRetries",A.loaderMaxRetries),_.sys.events.once(v.BOOT,this.boot,this),_.sys.events.on(v.START,this.pluginStart,this)},boot:function(){this.systems.events.once(v.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(v.SHUTDOWN,this.shutdown,this)},setBaseURL:function(T){return void 0===T&&(T=""),""!==T&&"/"!==T.substr(-1)&&(T=T.concat("/")),this.baseURL=T,this},setPath:function(T){return void 0===T&&(T=""),""!==T&&"/"!==T.substr(-1)&&(T=T.concat("/")),this.path=T,this},setPrefix:function(T){return void 0===T&&(T=""),this.prefix=T,this},setCORS:function(T){return this.crossOrigin=T,this},addFile:function(T){Array.isArray(T)||(T=[T]);for(var _=0;_<T.length;_++){var A=T[_];this.keyExists(A)||(this.list.set(A),this.emit(d.ADD,A.key,A.type,this,A),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(T){var _=T.hasCacheConflict();return _||this.list.iterate(function(A){if(A.type===T.type&&A.key===T.key)return _=!0,!1}),!_&&this.isLoading()&&(this.inflight.iterate(function(A){if(A.type===T.type&&A.key===T.key)return _=!0,!1}),this.queue.iterate(function(A){if(A.type===T.type&&A.key===T.key)return _=!0,!1})),_},addPack:function(T,_){if("string"==typeof _){var A=p(T,_);A&&(T={packKey:A})}var M=0,I=this.baseURL,R=this.path,F=this.prefix;for(var N in T)if(Object.prototype.hasOwnProperty.call(T,N)){var V=T[N],B=h(V,"baseURL",I),G=h(V,"path",R),Q=h(V,"prefix",F),H=h(V,"files",null),K=h(V,"defaultType","void");if(Array.isArray(H)){this.setBaseURL(B),this.setPath(G),this.setPrefix(Q);for(var tt=0;tt<H.length;tt++){var at=H[tt],lt=at.hasOwnProperty("type")?at.type:K;this[lt]&&(this[lt](at),M++)}}}return this.setBaseURL(I),this.setPath(R),this.setPrefix(F),M>0},removePack:function(T,_){var F,A=this.systems.anims,M=this.cacheManager,I=this.textureManager,R={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"};if(u(T))F=T;else if(!(F=M.json.get(T)))return void console.warn("Asset Pack not found in JSON cache:",T);for(var N in _&&(F={_:F[_]}),F){var V=F[N],B=h(V,"prefix",""),G=h(V,"files"),Q=h(V,"defaultType");if(Array.isArray(G))for(var H=0;H<G.length;H++){var K=G[H],tt=K.hasOwnProperty("type")?K.type:Q;if(tt){var at=B+K.key;if("animation"===tt&&A.remove(at),"aseprite"!==tt&&"atlas"!==tt&&"atlasXML"!==tt&&"htmlTexture"!==tt&&"image"!==tt&&"multiatlas"!==tt&&"spritesheet"!==tt&&"svg"!==tt&&"texture"!==tt&&"unityAtlas"!==tt||(I.remove(at),R[tt])){if("pack"===tt){this.removePack(at,K.dataKey);continue}if("spine"===tt){var lt=M.custom.spine.get(at);if(!lt)continue;var q=void 0===lt.prefix?"":lt.prefix;M.custom.spine.remove(at);var it=M.custom.spineTextures.get(at);if(!it)continue;M.custom.spineTextures.remove(at);for(var Y=0;Y<it.pages.length;Y++){var nt=q+it.pages[Y].name,dt=at+":"+nt;I.exists(dt)?I.remove(dt):I.remove(nt)}}var gt=R[tt];if(null!==gt){if(!gt){console.warn("Unknown type:",tt);continue}M[gt].remove(at)}}}else console.warn("No type:",K)}}},isLoading:function(){return this.state===C.LOADER_LOADING||this.state===C.LOADER_PROCESSING},isReady:function(){return this.state===C.LOADER_IDLE||this.state===C.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(d.START,this),0===this.list.size?this.loadComplete():(this.state=C.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(v.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(d.PROGRESS,this.progress)},update:function(){this.state===C.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(T){if((T.state===C.FILE_POPULATED||T.state===C.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(T),this.list.delete(T),T.crossOrigin||(T.crossOrigin=this.crossOrigin),T.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(T,_){this.inflight&&(this.inflight.delete(T),this.updateProgress(),_?(this.totalComplete++,this.queue.set(T),this.emit(d.FILE_LOAD,T),T.onProcess()):(this.totalFailed++,this._deleteQueue.set(T),this.emit(d.FILE_LOAD_ERROR,T),this.fileProcessComplete(T)))},fileProcessComplete:function(T){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(T.state===C.FILE_ERRORED?T.multiFile&&T.multiFile.onFileFailed(T):T.state===C.FILE_COMPLETE&&(T.multiFile?T.multiFile.isReadyToProcess()&&(T.multiFile.addToCache(),T.multiFile.pendingDestroy()):(T.addToCache(),T.pendingDestroy())),this.queue.delete(T),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(d.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=C.LOADER_COMPLETE,this.systems.events.off(v.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(d.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(T){this._deleteQueue.set(T)},saveJSON:function(T,_){return this.save(JSON.stringify(T),_)},save:function(T,_,A){void 0===_&&(_="file.json"),void 0===A&&(A="application/json");var M=new Blob([T],{type:A}),I=URL.createObjectURL(M),R=document.createElement("a");return R.download=_,R.textContent="Download "+_,R.href=I,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var T=this.systems.game.config,_=this.systems.settings.loader;this.setBaseURL(h(_,"baseURL",T.loaderBaseURL)),this.setPath(h(_,"path",T.loaderPath)),this.setPrefix(h(_,"prefix",T.loaderPrefix)),this.state=C.LOADER_IDLE},shutdown:function(){this.reset(),this.state=C.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=C.LOADER_DESTROYED,this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});m.register("Loader",b,"load"),S.exports=b},3374:(S,P,a)=>{var y=a(79291),C=a(92638);S.exports=function(f,d){var c=void 0===f?C():y({},f);if(d)for(var h in d)void 0!==d[h]&&(c[h]=d[h]);return c}},26430:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(54899),f=new y({initialize:function(c,h,p,u){var m=[];u.forEach(function(b){b&&m.push(b)}),this.loader=c,this.type=h,this.key=p,c.prefix&&""!==c.prefix&&(this.key=c.prefix+this.key),this.multiKeyIndex=c.multiKeyIndex++,this.files=m,this.state=C.FILE_PENDING,this.complete=!1,this.pending=m.length,this.failed=0,this.config={},this.baseURL=c.baseURL,this.path=c.path,this.prefix=c.prefix;for(var x=0;x<m.length;x++)m[x].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(d){return this.files.push(d),d.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(d){-1!==this.files.indexOf(d)&&this.pending--},onFileFailed:function(d){-1!==this.files.indexOf(d)&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,d.type,d.key))},pendingDestroy:function(){if(this.state!==C.FILE_PENDING_DESTROY){var d=this.key,c=this.type;this.loader.emit(g.FILE_COMPLETE,d,c),this.loader.emit(g.FILE_KEY_COMPLETE+c+"-"+d,d,c),this.loader.flagForRemoval(this);for(var h=0;h<this.files.length;h++)this.files[h].pendingDestroy();this.state=C.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});S.exports=f},84376:(S,P,a)=>{var y=a(3374);S.exports=function(g,f){var d=y(f,g.xhrSettings);if(!g.base64){var p=new XMLHttpRequest;if(p.open("GET",g.src,d.async,d.user,d.password),p.responseType=g.xhrSettings.responseType,p.timeout=d.timeout,d.headers)for(var u in d.headers)p.setRequestHeader(u,d.headers[u]);return d.header&&d.headerValue&&p.setRequestHeader(d.header,d.headerValue),d.requestedWith&&p.setRequestHeader("X-Requested-With",d.requestedWith),d.overrideMimeType&&p.overrideMimeType(d.overrideMimeType),d.withCredentials&&(p.withCredentials=!0),p.onload=g.onLoad.bind(g,p),p.onerror=g.onError.bind(g,p),p.onprogress=g.onProgress.bind(g),p.ontimeout=g.onError.bind(g,p),p.send(),p}var c=g.url.split(";base64,").pop()||g.url.split(",").pop(),h={responseText:atob(c)};g.onBase64Load(h)}},92638:S=>{S.exports=function(a,y,C,g,f,d){return void 0===a&&(a=""),void 0===y&&(y=!0),void 0===C&&(C=""),void 0===g&&(g=""),void 0===f&&(f=0),void 0===d&&(d=!1),{responseType:a,async:y,user:C,password:g,timeout:f,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:d}}},23906:S=>{S.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20}},42155:S=>{S.exports="addfile"},38991:S=>{S.exports="complete"},27540:S=>{S.exports="filecomplete"},87464:S=>{S.exports="filecomplete-"},94486:S=>{S.exports="loaderror"},13035:S=>{S.exports="load"},38144:S=>{S.exports="fileprogress"},97520:S=>{S.exports="postprocess"},85595:S=>{S.exports="progress"},55680:S=>{S.exports="start"},54899:(S,P,a)=>{S.exports={ADD:a(42155),COMPLETE:a(38991),FILE_COMPLETE:a(27540),FILE_KEY_COMPLETE:a(87464),FILE_LOAD_ERROR:a(94486),FILE_LOAD:a(13035),FILE_PROGRESS:a(38144),POST_PROCESS:a(97520),PROGRESS:a(85595),START:a(55680)}},14135:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(518),f=a(54899),d=new y({Extends:g,initialize:function(h,p,u,m,v){g.call(this,h,p,u,m,v),this.type="animationJSON"},onProcess:function(){this.loader.once(f.POST_PROCESS,this.onLoadComplete,this),g.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});C.register("animation",function(c,h,p,u){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new d(this,c[m]));else this.addFile(new d(this,c,h,u,p));return this}),S.exports=d},76272:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(95540),f=a(19550),d=a(41212),c=a(518),h=a(26430),p=new y({Extends:h,initialize:function(m,v,x,b,T,_){var A,M;if(d(v)){var I=v;v=g(I,"key"),A=new f(m,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),M=new c(m,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","json"),xhrSettings:g(I,"atlasXhrSettings")})}else A=new f(m,v,x,T),M=new c(m,v,b,_);h.call(this,m,"atlasjson",v,A.linkFile?[A,M,A.linkFile]:[A,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],m=this.files[1];this.loader.textureManager.addAtlas(u.key,u.data,m.data,this.files[2]?this.files[2].data:null),m.addToCache(),this.complete=!0}}});C.register("aseprite",function(u,m,v,x,b){var T;if(Array.isArray(u))for(var _=0;_<u.length;_++)T=new p(this,u[_]),this.addFile(T.files);else T=new p(this,u,m,v,x,b),this.addFile(T.files);return this}),S.exports=p},38734:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(95540),f=a(19550),d=a(41212),c=a(518),h=a(26430),p=new y({Extends:h,initialize:function(m,v,x,b,T,_){var A,M;if(d(v)){var I=v;v=g(I,"key"),A=new f(m,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),M=new c(m,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","json"),xhrSettings:g(I,"atlasXhrSettings")})}else A=new f(m,v,x,T),M=new c(m,v,b,_);h.call(this,m,"atlasjson",v,A.linkFile?[A,M,A.linkFile]:[A,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0];this.loader.textureManager.addAtlas(u.key,u.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});C.register("atlas",function(u,m,v,x,b){var T;if(Array.isArray(u))for(var _=0;_<u.length;_++)T=new p(this,u[_]),this.addFile(T.files);else T=new p(this,u,m,v,x,b),this.addFile(T.files);return this}),S.exports=p},74599:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(95540),f=a(19550),d=a(41212),c=a(26430),h=a(57318),p=new y({Extends:c,initialize:function(m,v,x,b,T,_){var A,M;if(d(v)){var I=v;v=g(I,"key"),A=new f(m,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),M=new h(m,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","xml"),xhrSettings:g(I,"atlasXhrSettings")})}else A=new f(m,v,x,T),M=new h(m,v,b,_);c.call(this,m,"atlasxml",v,A.linkFile?[A,M,A.linkFile]:[A,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0];this.loader.textureManager.addAtlasXML(u.key,u.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});C.register("atlasXML",function(u,m,v,x,b){var T;if(Array.isArray(u))for(var _=0;_<u.length;_++)T=new p(this,u[_]),this.addFile(T.files);else T=new p(this,u,m,v,x,b),this.addFile(T.files);return this}),S.exports=p},21097:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(89749),h=a(41212),p=new y({Extends:g,initialize:function(m,v,x,b,T){if(h(v)){var _=v;v=d(_,"key"),b=d(_,"xhrSettings"),T=d(_,"context",T)}g.call(this,m,{type:"audio",cache:m.cacheManager.audio,extension:x.type,responseType:"arraybuffer",key:v,url:x.url,xhrSettings:b,config:{context:T}})},onProcess:function(){this.state=C.FILE_PROCESSING;var u=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(m){u.data=m,u.onProcessComplete()},function(m){console.error("Error decoding audio: "+u.key+" - ",m?m.message:null),u.onProcessError()}),this.config.context=null}});p.create=function(u,m,v,x,b){var T=u.systems.game,_=T.config.audio,A=T.device.audio;h(m)&&(v=d(m,"url",[]),x=d(m,"config",{}));var M=p.getAudioURL(T,v);return M?A.webAudio&&!_.disableWebAudio?new p(u,m,M,b,T.sound.context):new c(u,m,M,x):(console.warn('No audio URLs for "%s" can play on this device',m),null)},p.getAudioURL=function(u,m){Array.isArray(m)||(m=[m]);for(var v=0;v<m.length;v++){var x=d(m[v],"url",m[v]);if(0===x.indexOf("blob:")||0===x.indexOf("data:"))return{url:x,type:""};var b=x.match(/\.([a-zA-Z0-9]+)($|\?)/);if(b=d(m[v],"type",b?b[1]:"").toLowerCase(),u.device.audio[b])return{url:x,type:b}}return null},f.register("audio",function(u,m,v,x){var A,b=this.systems.game,_=b.device.audio;if(b.config.audio.noAudio||!_.webAudio&&!_.audioData)return this;if(Array.isArray(u))for(var M=0;M<u.length;M++)(A=p.create(this,u[M]))&&this.addFile(A);else(A=p.create(this,u,m,v,x))&&this.addFile(A);return this}),S.exports=p},89524:(S,P,a)=>{var y=a(21097),C=a(83419),g=a(74099),f=a(95540),d=a(41212),c=a(518),h=a(26430),p=new C({Extends:h,initialize:function(m,v,x,b,T,_,A){if(d(v)){var M=v;v=f(M,"key"),x=f(M,"jsonURL"),b=f(M,"audioURL"),T=f(M,"audioConfig"),_=f(M,"audioXhrSettings"),A=f(M,"jsonXhrSettings")}var I;if(b){var R=y.create(m,v,b,T,_);R&&(I=new c(m,v,x,A),h.call(this,m,"audiosprite",v,[R,I]),this.config.resourceLoad=!1)}else I=new c(m,v,x,A),h.call(this,m,"audiosprite",v,[I]),this.config.resourceLoad=!0,this.config.audioConfig=T,this.config.audioXhrSettings=_},onFileComplete:function(u){if(-1!==this.files.indexOf(u)&&(this.pending--,this.config.resourceLoad&&"json"===u.type&&u.data.hasOwnProperty("resources"))){var v=u.data.resources,x=f(this.config,"audioConfig"),b=f(this.config,"audioXhrSettings"),T=y.create(this.loader,u.key,v,x,b);T&&(this.addToMultiFile(T),this.loader.addFile(T))}},addToCache:function(){if(this.isReadyToProcess()){var m=this.files[1];this.files[0].addToCache(),m.addToCache(),this.complete=!0}}});g.register("audioSprite",function(u,m,v,x,b,T){var I,_=this.systems.game,A=_.config.audio,M=_.device.audio;if(A&&A.noAudio||!M.webAudio&&!M.audioData)return this;if(Array.isArray(u))for(var R=0;R<u.length;R++)(I=new p(this,u[R])).files&&this.addFile(I.files);else(I=new p(this,u,m,v,x,b,T)).files&&this.addFile(I.files);return this})},85722:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x,b){var T="bin";if(c(m)){var _=m;m=d(_,"key"),v=d(_,"url"),x=d(_,"xhrSettings"),T=d(_,"extension",T),b=d(_,"dataType",b)}g.call(this,u,{type:"binary",cache:u.cacheManager.binary,extension:T,responseType:"arraybuffer",key:m,url:v,xhrSettings:x,config:{dataType:b}})},onProcess:function(){this.state=C.FILE_PROCESSING;var p=this.config.dataType;this.data=p?new p(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});f.register("binary",function(p,u,m,v){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new h(this,p[x]));else this.addFile(new h(this,p,u,v,m));return this}),S.exports=h},97025:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(95540),f=a(19550),d=a(41212),c=a(26430),h=a(21859),p=a(57318),u=new y({Extends:c,initialize:function(v,x,b,T,_,A){var M,I;if(d(x)){var R=x;x=g(R,"key"),M=new f(v,{key:x,url:g(R,"textureURL"),extension:g(R,"textureExtension","png"),normalMap:g(R,"normalMap"),xhrSettings:g(R,"textureXhrSettings")}),I=new p(v,{key:x,url:g(R,"fontDataURL"),extension:g(R,"fontDataExtension","xml"),xhrSettings:g(R,"fontDataXhrSettings")})}else M=new f(v,x,b,_),I=new p(v,x,T,A);c.call(this,v,"bitmapfont",x,M.linkFile?[M,I,M.linkFile]:[M,I])},addToCache:function(){if(this.isReadyToProcess()){var m=this.files[0],v=this.files[1];m.addToCache();var x=m.cache.get(m.key),b=h(v.data,m.cache.getFrame(m.key),0,0,x);this.loader.cacheManager.bitmapFont.add(m.key,{data:b,texture:m.key,frame:null}),this.complete=!0}}});C.register("bitmapFont",function(m,v,x,b,T){var _;if(Array.isArray(m))for(var A=0;A<m.length;A++)_=new u(this,m[A]),this.addFile(_.files);else _=new u(this,m,v,x,b,T),this.addFile(_.files);return this}),S.exports=u},16024:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x){var b="css";if(c(m)){var T=m;m=d(T,"key"),v=d(T,"url"),x=d(T,"xhrSettings"),b=d(T,"extension",b)}g.call(this,u,{type:"script",cache:!1,extension:b,responseType:"text",key:m,url:v,xhrSettings:x})},onProcess:function(){this.state=C.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});f.register("css",function(p,u,m){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new h(this,p[v]));else this.addFile(new h(this,p,u,m));return this}),S.exports=h},69559:(S,P,a)=>{var y=a(38734),C=a(85722),g=a(83419),f=a(74099),d=a(95540),c=a(19550),h=a(41212),p=a(518),u=a(31403),m=a(46975),v=a(59327),x=a(26430),b=a(82038),T=a(55222),_=new g({Extends:x,initialize:function(M,I,R,F){if(R.multiAtlasURL){var N=new p(M,{key:I,url:R.multiAtlasURL,xhrSettings:F,config:R});x.call(this,M,"texture",I,[N])}else{var V=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type="ktx"===V.toLowerCase()?"KTX":"PVR");var B=new C(M,{key:I,url:R.textureURL,extension:V,xhrSettings:F,config:R});if(R.atlasURL){var G=new p(M,{key:I,url:R.atlasURL,xhrSettings:F,config:R});x.call(this,M,"texture",I,[B,G])}else x.call(this,M,"texture",I,[B])}this.config=R},onFileComplete:function(A){if(-1!==this.files.indexOf(A)){if(this.pending--,!this.config.multiAtlasURL)return;if("json"===A.type&&A.data.hasOwnProperty("textures")){var I=A.data.textures,R=this.config,F=this.loader,N=F.baseURL,V=F.path,B=F.prefix,G=d(R,"multiBaseURL",this.baseURL),Q=d(R,"multiPath",this.path),H=d(R,"prefix",this.prefix),K=d(R,"textureXhrSettings");G&&F.setBaseURL(G),Q&&F.setPath(Q),H&&F.setPrefix(H);for(var tt=0;tt<I.length;tt++){var at=I[tt].image,lt="CMA"+this.multiKeyIndex+"_"+at,q=new C(F,lt,at,K);if(this.addToMultiFile(q),F.addFile(q),I[tt].normalMap){var it=new C(F,lt,I[tt].normalMap,K);it.type="normalMap",q.setLink(it),this.addToMultiFile(it),F.addFile(it)}}F.setBaseURL(N),F.setPath(V),F.setPrefix(B)}}},addToCache:function(){function A(G){console.warn('Compressed Texture Invalid: "'+N.key+'". '+G)}if(this.isReadyToProcess()){var M=this.config;if(M.multiAtlasURL)this.addMultiToCache();else{var F,I=this.loader.systems.renderer,R=this.loader.textureManager,N=this.files[0],V=this.files[1];"PVR"===M.type?F=b(N.data):"KTX"===M.type&&((F=u(N.data))||A("KTX file contains unsupported format.")),F&&!T(F)&&(A("Texture dimensions failed verification. Check the texture format specifications for "+M.format+" 0x"+F.internalFormat.toString(16)+"."),F=null),F&&!I.supportsCompressedTexture(M.format,F.internalFormat)&&(A("Texture format "+M.format+" with internal format "+F.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),F=null),F&&(F.format=I.getCompressedTextureName(M.format,F.internalFormat),R.addCompressedTexture(N.key,F,V&&V.data?V.data:null))}this.complete=!0}},addMultiToCache:function(){for(var B,A=this.config,M=this.files[0],I=[],R=[],F=[],N=this.loader.systems.renderer,V=this.loader.textureManager,G=1;G<this.files.length;G++){var Q=this.files[G];if("normalMap"!==Q.type)for(var H=Q.key.indexOf("_"),K=Q.key.substr(H+1),tt=Q.data,at=0;at<M.data.textures.length;at++){var lt=M.data.textures[at];if(lt.image===K){"PVR"===A.type?B=b(tt):"KTX"===A.type&&(B=u(tt)),B&&N.supportsCompressedTexture(A.format,B.internalFormat)&&(B.format=N.getCompressedTextureName(A.format,B.internalFormat),R.push(B),I.push(lt),Q.linkFile&&F.push(Q.linkFile.data));break}}}0===F.length&&(F=void 0),V.addAtlasJSONArray(this.key,R,I,F),this.complete=!0}});f.register("texture",function(A,M,I){var R=this.systems.renderer,F=function(V,B,G,Q){var H={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(h(B)){var K=B;B=d(K,"key"),G=d(K,"url"),Q=d(K,"xhrSettings")}var tt=!1;for(var at in G)if(R.supportsCompressedTexture(at)){var lt=G[at];"string"==typeof lt?H.textureURL=lt:H=m(lt,H),H.format=at.toUpperCase(),tt=!0;break}if(tt)if("IMG"===H.format){var q;q=H.multiAtlasURL?new v(V,B,H.multiAtlasURL,H.multiPath,H.multiBaseURL,Q).files:H.atlasURL?new y(V,B,H.textureURL,H.atlasURL,Q).files:new c(V,B,H.textureURL,Q),V.addFile(q)}else{var Y=new _(V,B,H,Q);V.addFile(Y.files)}else console.warn("No supported compressed texture format or IMG fallback",B)};if(Array.isArray(A))for(var N=0;N<A.length;N++)F(this,A[N]);else F(this,A,M,I);return this}),S.exports=_},87674:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(98356),h=a(41212),p=new y({Extends:g,initialize:function(m,v,x,b,T,_){var A="ttf";if(h(v)){var M=v;v=d(M,"key"),x=d(M,"url"),b=d(M,"format","truetype"),T=d(M,"descriptors",null),_=d(M,"xhrSettings"),A=d(M,"extension",A)}else void 0===b&&(b="truetype");g.call(this,m,{type:"font",cache:!1,extension:A,responseType:"text",key:v,url:x,xhrSettings:_}),this.data={format:b,descriptors:T},this.state=C.FILE_POPULATED},onProcess:function(){this.state=C.FILE_PROCESSING,this.src=c(this,this.loader.baseURL);var u,m=this.key,v="url("+this.src+') format("'+this.data.format+'")';u=this.data.descriptors?new FontFace(m,v,this.data.descriptors):new FontFace(m,v);var x=this;u.load().then(function(){document.fonts.add(u),document.body.classList.add("fonts-loaded"),x.onProcessComplete()}).catch(function(){console.warn("Font failed to load",v),x.onProcessComplete()})}});f.register("font",function(u,m,v,x,b){if(Array.isArray(u))for(var T=0;T<u.length;T++)this.addFile(new p(this,u[T]));else this.addFile(new p(this,u,m,v,x,b));return this}),S.exports=p},47931:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=a(73894),p=new y({Extends:g,initialize:function(m,v,x,b,T){var _="glsl";if(c(v)){var A=v;v=d(A,"key"),x=d(A,"url"),b=d(A,"shaderType","fragment"),T=d(A,"xhrSettings"),_=d(A,"extension",_)}else void 0===b&&(b="fragment");g.call(this,m,{type:"glsl",cache:m.cacheManager.shader,extension:_,responseType:"text",key:v,url:x,config:{shaderType:b},xhrSettings:T})},onProcess:function(){this.state=C.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.split("\n"),m=this.extractBlock(u,0);if(m)for(;m;){var v=this.getShaderName(m.header),x=this.getShaderType(m.header),b=this.getShaderUniforms(m.header),T=m.shader;if(this.cache.has(v)){var _=this.cache.get(v);"fragment"===x?_.fragmentSrc=T:_.vertexSrc=T,_.uniforms||(_.uniforms=b)}else this.cache.add(v,"fragment"===x?new h(v,T,"",b):new h(v,"",T,b));m=this.extractBlock(u,m.offset)}else this.cache.add(this.key,"fragment"===this.config.shaderType?new h(this.key,this.data):new h(this.key,"",this.data))},getShaderName:function(u){for(var m=0;m<u.length;m++){var v=u[m].trim();if("name:"===v.substring(0,5))return v.substring(5).trim()}return this.key},getShaderType:function(u){for(var m=0;m<u.length;m++){var v=u[m].trim();if("type:"===v.substring(0,5))return v.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(u){for(var m={},v=0;v<u.length;v++){var x=u[v].trim();if("uniform."===x.substring(0,8)){var b=x.indexOf(":");if(b){var T=x.substring(8,b);try{m[T]=JSON.parse(x.substring(b+1))}catch{console.warn("Invalid uniform JSON: "+T)}}}}return m},extractBlock:function(u,m){for(var v=-1,x=-1,b=-1,T=!1,_=!1,A=[],M=[],I=m;I<u.length;I++){var R=u[I].trim();if("---"===R)if(-1===v)v=I,T=!0;else{if(!T){_=!1;break}x=I,T=!1,_=!0}else T?A.push(R):_&&(M.push(R),b=I)}return T||-1===x?null:{header:A,shader:M.join("\n"),offset:b}}});f.register("glsl",function(u,m,v,x){if(Array.isArray(u))for(var b=0;b<u.length;b++)this.addFile(new p(this,u[b]));else this.addFile(new p(this,u,m,v,x));return this}),S.exports=p},89749:(S,P,a)=>{var y=a(83419),C=a(54899),g=a(41299),f=a(95540),d=a(98356),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x){if(c(m)){var b=m;m=f(b,"key"),x=f(b,"config",x)}g.call(this,u,{type:"audio",cache:u.cacheManager.audio,extension:v.type,key:m,url:v.url,config:x}),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var p=0;p<this.data.length;p++){var u=this.data[p];u.oncanplaythrough=null,u.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(p){var u=p.target;u.oncanplaythrough=null,u.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(C.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var p=this.config&&this.config.instances||1;this.filesTotal=p,this.filesLoaded=0,this.percentComplete=0;for(var u=0;u<p;u++){var m=new Audio;m.dataset||(m.dataset={}),m.dataset.name=this.key+("0"+u).slice(-2),m.dataset.used="false",this.locked?m.dataset.locked="true":(m.dataset.locked="false",m.preload="auto",m.oncanplaythrough=this.onProgress.bind(this),m.onerror=this.onError.bind(this)),this.data.push(m)}for(u=0;u<this.data.length;u++)(m=this.data[u]).src=d(this,this.loader.baseURL),this.locked||m.load();this.locked&&setTimeout(this.onLoad.bind(this))}});S.exports=h},88470:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x){var b="html";if(c(m)){var T=m;m=d(T,"key"),v=d(T,"url"),x=d(T,"xhrSettings"),b=d(T,"extension",b)}g.call(this,u,{type:"text",cache:u.cacheManager.html,extension:b,responseType:"text",key:m,url:v,xhrSettings:x})},onProcess:function(){this.state=C.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});f.register("html",function(p,u,m){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new h(this,p[v]));else this.addFile(new h(this,p,u,m));return this}),S.exports=h},14643:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x,b,T){void 0===x&&(x=512),void 0===b&&(b=512);var _="html";if(c(m)){var A=m;m=d(A,"key"),v=d(A,"url"),T=d(A,"xhrSettings"),_=d(A,"extension",_),x=d(A,"width",x),b=d(A,"height",b)}g.call(this,u,{type:"html",cache:u.textureManager,extension:_,responseType:"text",key:m,url:v,xhrSettings:T,config:{width:x,height:b}})},onProcess:function(){this.state=C.FILE_PROCESSING;var p=this.config.width,u=this.config.height,m=[];m.push('<svg width="'+p+'px" height="'+u+'px" viewBox="0 0 '+p+" "+u+'" xmlns="http://www.w3.org/2000/svg">'),m.push('<foreignObject width="100%" height="100%">'),m.push('<body xmlns="http://www.w3.org/1999/xhtml">'),m.push(this.xhrLoader.responseText),m.push("</body>"),m.push("</foreignObject>"),m.push("</svg>");var v=[m.join("\n")],x=this;try{var b=new window.Blob(v,{type:"image/svg+xml;charset=utf-8"})}catch{return x.state=C.FILE_ERRORED,void x.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){g.revokeObjectURL(x.data),x.onProcessComplete()},this.data.onerror=function(){g.revokeObjectURL(x.data),x.onProcessError()},g.createObjectURL(this.data,b,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});f.register("htmlTexture",function(p,u,m,v,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new h(this,p[b]));else this.addFile(new h(this,p,u,m,v,x));return this}),S.exports=h},19550:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=a(98356),p=new y({Extends:g,initialize:function u(m,v,x,b,T){var A,_="png";if(c(v)){var M=v;v=d(M,"key"),x=d(M,"url"),A=d(M,"normalMap"),b=d(M,"xhrSettings"),_=d(M,"extension",_),T=d(M,"frameConfig")}if(Array.isArray(x)&&(A=x[1],x=x[0]),g.call(this,m,{type:"image",cache:m.textureManager,extension:_,responseType:"blob",key:v,url:x,xhrSettings:b,config:T}),A){var R=new u(m,this.key,A,b,T);R.type="normalMap",this.setLink(R),m.addFile(R)}this.useImageElementLoad="HTMLImageElement"===m.imageLoadType||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=C.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){g.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){g.revokeObjectURL(u.data),u.onProcessError()},g.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var u=this.state;this.state=C.FILE_PROCESSING,u===C.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=C.FILE_LOADING,this.src=h(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){u.state=C.FILE_LOADED,u.loader.nextFile(u,!0)},this.data.onerror=function(){u.loader.nextFile(u,!1)},this.data.src=this.src},addToCache:function(){var u=this.linkFile;u?u.state>=C.FILE_COMPLETE&&("spritesheet"===u.type?u.addToCache():"normalMap"===this.type?this.cache.addImage(this.key,u.data,this.data):this.cache.addImage(this.key,this.data,u.data)):this.cache.addImage(this.key,this.data)}});f.register("image",function(u,m,v){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new p(this,u[x]));else this.addFile(new p(this,u,m,v));return this}),S.exports=p},518:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(35154),h=a(41212),p=new y({Extends:g,initialize:function(m,v,x,b,T){var _="json";if(h(v)){var A=v;v=d(A,"key"),x=d(A,"url"),b=d(A,"xhrSettings"),_=d(A,"extension",_),T=d(A,"dataKey",T)}g.call(this,m,{type:"json",cache:m.cacheManager.json,extension:_,responseType:"text",key:v,url:x,xhrSettings:b,config:T}),h(x)&&(this.data=T?c(x,T):x,this.state=C.FILE_POPULATED)},onProcess:function(){if(this.state!==C.FILE_POPULATED){this.state=C.FILE_PROCESSING;try{var u=JSON.parse(this.xhrLoader.responseText)}catch(v){throw this.onProcessError(),v}var m=this.config;this.data="string"==typeof m?c(u,m,u):u}this.onProcessComplete()}});f.register("json",function(u,m,v,x){if(Array.isArray(u))for(var b=0;b<u.length;b++)this.addFile(new p(this,u[b]));else this.addFile(new p(this,u,m,x,v));return this}),S.exports=p},59327:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(95540),f=a(19550),d=a(41212),c=a(518),h=a(26430),p=new y({Extends:h,initialize:function(m,v,x,b,T,_,A){if(d(v)){var M=v;v=g(M,"key"),x=g(M,"url",!1)?g(M,"url"):g(M,"atlasURL"),_=g(M,"xhrSettings"),b=g(M,"path"),T=g(M,"baseURL"),A=g(M,"textureXhrSettings")}var I=new c(m,v,x,_);h.call(this,m,"multiatlas",v,[I]),this.config.path=b,this.config.baseURL=T,this.config.textureXhrSettings=A},onFileComplete:function(u){if(-1!==this.files.indexOf(u)&&(this.pending--,"json"===u.type&&u.data.hasOwnProperty("textures"))){var v=u.data.textures,x=this.config,b=this.loader,T=b.baseURL,_=b.path,A=b.prefix,M=g(x,"baseURL",this.baseURL),I=g(x,"path",this.path),R=g(x,"prefix",this.prefix),F=g(x,"textureXhrSettings");b.setBaseURL(M),b.setPath(I),b.setPrefix(R);for(var N=0;N<v.length;N++){var V=v[N].image,B="MA"+this.multiKeyIndex+"_"+V,G=new f(b,B,V,F);if(this.addToMultiFile(G),b.addFile(G),v[N].normalMap){var Q=new f(b,B,v[N].normalMap,F);Q.type="normalMap",G.setLink(Q),this.addToMultiFile(Q),b.addFile(Q)}}b.setBaseURL(T),b.setPath(_),b.setPrefix(A)}},addToCache:function(){if(this.isReadyToProcess()){for(var u=this.files[0],m=[],v=[],x=[],b=1;b<this.files.length;b++){var T=this.files[b];if("normalMap"!==T.type)for(var _=T.key.indexOf("_"),A=T.key.substr(_+1),M=T.data,I=0;I<u.data.textures.length;I++){var R=u.data.textures[I];if(R.image===A){v.push(M),m.push(R),T.linkFile&&x.push(T.linkFile.data);break}}}0===x.length&&(x=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,v,m,x),this.complete=!0}}});C.register("multiatlas",function(u,m,v,x,b){var T;if(Array.isArray(u))for(var _=0;_<u.length;_++)T=new p(this,u[_]),this.addFile(T.files);else T=new p(this,u,m,v,x,b),this.addFile(T.files);return this}),S.exports=p},99297:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(95540),f=a(41212),d=a(26430),c=a(34328),h=new y({Extends:d,initialize:function(u,m,v,x){var b="js",T=[];if(f(m)){var _=m;m=g(_,"key"),v=g(_,"url"),x=g(_,"xhrSettings"),b=g(_,"extension",b)}Array.isArray(v)||(v=[v]);for(var A=0;A<v.length;A++){var M=new c(u,{key:m+"_"+A.toString(),url:v[A],extension:b,xhrSettings:x});M.onProcess=function(){this.onProcessComplete()},T.push(M)}d.call(this,u,"scripts",m,T)},addToCache:function(){if(this.isReadyToProcess()){for(var p=0;p<this.files.length;p++){var u=this.files[p];u.data=document.createElement("script"),u.data.language="javascript",u.data.type="text/javascript",u.data.defer=!1,u.data.text=u.xhrLoader.responseText,document.head.appendChild(u.data)}this.complete=!0}}});C.register("scripts",function(p,u,m){var v;if(Array.isArray(p))for(var x=0;x<p.length;x++)v=new h(this,p[x]),this.addFile(v.files);else v=new h(this,p,u,m),this.addFile(v.files);return this}),S.exports=h},41846:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(95540),f=a(41212),d=a(26430),c=a(85048),h=a(61485),p=a(78776),u=new y({Extends:d,initialize:function(v,x,b,T,_,A){var M,I,R=v.cacheManager.obj;if(f(x)){var F=x;x=g(F,"key"),M=new p(v,{key:x,type:"obj",cache:R,url:g(F,"url"),extension:g(F,"extension","obj"),xhrSettings:g(F,"xhrSettings"),config:{flipUV:g(F,"flipUV",_)}}),(T=g(F,"matURL"))&&(I=new p(v,{key:x,type:"mat",cache:R,url:T,extension:g(F,"matExtension","mat"),xhrSettings:g(F,"xhrSettings")}))}else M=new p(v,{key:x,url:b,type:"obj",cache:R,extension:"obj",xhrSettings:A,config:{flipUV:_}}),T&&(I=new p(v,{key:x,url:T,type:"mat",cache:R,extension:"mat",xhrSettings:A}));d.call(this,v,"obj",x,[M,I])},addToCache:function(){if(this.isReadyToProcess()){var m=this.files[0],v=this.files[1],x=c(m.data,m.config.flipUV);v&&(x.materials=h(v.data)),m.cache.add(m.key,x),this.complete=!0}}});C.register("obj",function(m,v,x,b,T){var _;if(Array.isArray(m))for(var A=0;A<m.length;A++)_=new u(this,m[A]),this.addFile(_.files);else _=new u(this,m,v,x,b,T),this.addFile(_.files);return this}),S.exports=u},58610:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(74099),f=a(518),d=new y({Extends:f,initialize:function(h,p,u,m,v){f.call(this,h,p,u,m,v),this.type="packfile"},onProcess:function(){if(this.state!==C.FILE_POPULATED&&(this.state=C.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var c={};c[this.config]=this.data,this.data=c}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});g.register("pack",function(c,h,p,u){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new d(this,c[m]));else this.addFile(new d(this,c,h,u,p));return this}),S.exports=d},48988:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x,b,T){var _="js";if(c(m)){var A=m;m=d(A,"key"),v=d(A,"url"),T=d(A,"xhrSettings"),_=d(A,"extension",_),x=d(A,"start"),b=d(A,"mapping")}g.call(this,u,{type:"plugin",cache:!1,extension:_,responseType:"text",key:m,url:v,xhrSettings:T,config:{start:x,mapping:b}}),"function"==typeof v&&(this.data=v,this.state=C.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,u=this.config,m=d(u,"start",!1),v=d(u,"mapping",null);if(this.state===C.FILE_POPULATED)p.install(this.key,this.data,m,v);else{this.state=C.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var x=p.install(this.key,window[this.key],m,v);(m||v)&&(this.loader.systems[v]=x,this.loader.scene[v]=x)}this.onProcessComplete()}});f.register("plugin",function(p,u,m,v,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new h(this,p[b]));else this.addFile(new h(this,p,u,m,v,x));return this}),S.exports=h},67397:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x,b){var T="svg";if(c(m)){var _=m;m=d(_,"key"),v=d(_,"url"),x=d(_,"svgConfig",{}),b=d(_,"xhrSettings"),T=d(_,"extension",T)}var A={type:"svg",cache:u.textureManager,extension:T,responseType:"text",key:m,url:v,xhrSettings:b,config:{width:d(x,"width"),height:d(x,"height"),scale:d(x,"scale")}};g.call(this,u,A)},onProcess:function(){this.state=C.FILE_PROCESSING;var p=this.xhrLoader.responseText,u=[p],m=this.config.width,v=this.config.height,x=this.config.scale;t:if(m&&v||x){var _=(new DOMParser).parseFromString(p,"text/xml").getElementsByTagName("svg")[0],A=_.hasAttribute("viewBox"),M=parseFloat(_.getAttribute("width")),I=parseFloat(_.getAttribute("height"));if(!A&&M&&I)_.setAttribute("viewBox","0  0 "+M+" "+I);else if(A&&!M&&!I){var R=_.getAttribute("viewBox").split(/\s+|,/);M=R[2],I=R[3]}if(x){if(!M||!I)break t;m=M*x,v=I*x}_.setAttribute("width",m.toString()+"px"),_.setAttribute("height",v.toString()+"px"),u=[(new XMLSerializer).serializeToString(_)]}try{var F=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var N=this,V=!1;this.data.onload=function(){V||g.revokeObjectURL(N.data),N.onProcessComplete()},this.data.onerror=function(){V?N.onProcessError():(V=!0,g.revokeObjectURL(N.data),N.data.src="data:image/svg+xml,"+encodeURIComponent(u.join("")))},g.createObjectURL(this.data,F,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});f.register("svg",function(p,u,m,v){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new h(this,p[x]));else this.addFile(new h(this,p,u,m,v));return this}),S.exports=h},88423:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x){var b="js";if(c(m)){var T=m;m=d(T,"key"),v=d(T,"url"),x=d(T,"xhrSettings"),b=d(T,"extension",b)}g.call(this,u,{type:"text",extension:b,responseType:"text",key:m,url:v,xhrSettings:x})},onProcess:function(){this.state=C.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var p=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),u=eval;this.loader.sceneManager.add(this.key,u(p)),this.complete=!0}});f.register("sceneFile",function(p,u,m){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new h(this,p[v]));else this.addFile(new h(this,p,u,m));return this}),S.exports=h},56812:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x,b,T){var _="js";if(c(m)){var A=m;m=d(A,"key"),v=d(A,"url"),T=d(A,"xhrSettings"),_=d(A,"extension",_),x=d(A,"systemKey"),b=d(A,"sceneKey")}g.call(this,u,{type:"scenePlugin",cache:!1,extension:_,responseType:"text",key:m,url:v,xhrSettings:T,config:{systemKey:x,sceneKey:b}}),"function"==typeof v&&(this.data=v,this.state=C.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,u=this.config,m=this.key,v=d(u,"systemKey",m),x=d(u,"sceneKey",m);this.state===C.FILE_POPULATED?p.installScenePlugin(v,this.data,x,this.loader.scene,!0):(this.state=C.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),p.installScenePlugin(v,window[this.key],x,this.loader.scene,!0)),this.onProcessComplete()}});f.register("scenePlugin",function(p,u,m,v,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new h(this,p[b]));else this.addFile(new h(this,p,u,m,v,x));return this}),S.exports=h},34328:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x,b){var T="js";if(c(m)){var _=m;m=d(_,"key"),v=d(_,"url"),x=d(_,"type","script"),b=d(_,"xhrSettings"),T=d(_,"extension",T)}else void 0===x&&(x="script");g.call(this,u,{type:x,cache:!1,extension:T,responseType:"text",key:m,url:v,xhrSettings:b})},onProcess:function(){this.state=C.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});f.register("script",function(p,u,m,v){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new h(this,p[x]));else this.addFile(new h(this,p,u,m,v));return this}),S.exports=h},85035:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(74099),f=a(19550),d=new y({Extends:f,initialize:function(h,p,u,m,v){f.call(this,h,p,u,v,m),this.type="spritesheet"},addToCache:function(){var c=this.linkFile;c?c.state>=C.FILE_COMPLETE&&("normalMap"===this.type?this.cache.addSpriteSheet(this.key,c.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,c.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});g.register("spritesheet",function(c,h,p,u){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new d(this,c[m]));else this.addFile(new d(this,c,h,p,u));return this}),S.exports=d},78776:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=new y({Extends:g,initialize:function(u,m,v,x){var b="text",T="txt",_=u.cacheManager.text;if(c(m)){var A=m;m=d(A,"key"),v=d(A,"url"),x=d(A,"xhrSettings"),T=d(A,"extension",T),b=d(A,"type",b),_=d(A,"cache",_)}g.call(this,u,{type:b,cache:_,extension:T,responseType:"text",key:m,url:v,xhrSettings:x})},onProcess:function(){this.state=C.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});f.register("text",function(p,u,m){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new h(this,p[v]));else this.addFile(new h(this,p,u,m));return this}),S.exports=h},49477:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=a(80341),p=new y({Extends:g,initialize:function(m,v,x,b){var T="csv";if(c(v)){var _=v;v=d(_,"key"),x=d(_,"url"),b=d(_,"xhrSettings"),T=d(_,"extension",T)}g.call(this,m,{type:"tilemapCSV",cache:m.cacheManager.tilemap,extension:T,responseType:"text",key:v,url:x,xhrSettings:b}),this.tilemapFormat=h.CSV},onProcess:function(){this.state=C.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){this.cache.add(this.key,{format:this.tilemapFormat,data:this.data})}});f.register("tilemapCSV",function(u,m,v){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new p(this,u[x]));else this.addFile(new p(this,u,m,v));return this}),S.exports=p},40807:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(518),f=a(80341),d=new y({Extends:g,initialize:function(h,p,u,m){g.call(this,h,p,u,m),this.type="tilemapJSON",this.cache=h.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:f.WELTMEISTER,data:this.data})}});C.register("tilemapImpact",function(c,h,p){if(Array.isArray(c))for(var u=0;u<c.length;u++)this.addFile(new d(this,c[u]));else this.addFile(new d(this,c,h,p));return this}),S.exports=d},56775:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(518),f=a(80341),d=new y({Extends:g,initialize:function(h,p,u,m){g.call(this,h,p,u,m),this.type="tilemapJSON",this.cache=h.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:f.TILED_JSON,data:this.data})}});C.register("tilemapTiledJSON",function(c,h,p){if(Array.isArray(c))for(var u=0;u<c.length;u++)this.addFile(new d(this,c[u]));else this.addFile(new d(this,c,h,p));return this}),S.exports=d},25771:(S,P,a)=>{var y=a(83419),C=a(74099),g=a(95540),f=a(19550),d=a(41212),c=a(26430),h=a(78776),p=new y({Extends:c,initialize:function(m,v,x,b,T,_){var A,M;if(d(v)){var I=v;v=g(I,"key"),A=new f(m,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),M=new h(m,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","txt"),xhrSettings:g(I,"atlasXhrSettings")})}else A=new f(m,v,x,T),M=new h(m,v,b,_);c.call(this,m,"unityatlas",v,A.linkFile?[A,M,A.linkFile]:[A,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0];this.loader.textureManager.addUnityAtlas(u.key,u.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});C.register("unityAtlas",function(u,m,v,x,b){var T;if(Array.isArray(u))for(var _=0;_<u.length;_++)T=new p(this,u[_]),this.addFile(T.files);else T=new p(this,u,m,v,x,b),this.addFile(T.files);return this}),S.exports=p},33720:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(98356),c=a(95540),h=a(41212),p=new y({Extends:g,initialize:function(m,v,x,b){if(void 0===b&&(b=!1),h(v)){var T=v;v=c(T,"key"),x=c(T,"url",[]),b=c(T,"noAudio",!1)}var _=m.systems.game.device.video.getVideoURL(x);_||console.warn("VideoFile: No supported format for "+v),g.call(this,m,{type:"video",cache:m.cacheManager.video,extension:_.type,key:v,url:_.url,config:{noAudio:b}})},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=d(this,this.loader.baseURL),this.state=C.FILE_LOADED,this.loader.nextFile(this,!0)}});f.register("video",function(u,m,v){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new p(this,u[x]));else this.addFile(new p(this,u,m,v));return this}),S.exports=p},57318:(S,P,a)=>{var y=a(83419),C=a(23906),g=a(41299),f=a(74099),d=a(95540),c=a(41212),h=a(56836),p=new y({Extends:g,initialize:function(m,v,x,b){var T="xml";if(c(v)){var _=v;v=d(_,"key"),x=d(_,"url"),b=d(_,"xhrSettings"),T=d(_,"extension",T)}g.call(this,m,{type:"xml",cache:m.cacheManager.xml,extension:T,responseType:"text",key:v,url:x,xhrSettings:b})},onProcess:function(){this.state=C.FILE_PROCESSING,this.data=h(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});f.register("xml",function(u,m,v){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new p(this,u[x]));else this.addFile(new p(this,u,m,v));return this}),S.exports=p},64589:(S,P,a)=>{S.exports={AnimationJSONFile:a(14135),AsepriteFile:a(76272),AtlasJSONFile:a(38734),AtlasXMLFile:a(74599),AudioFile:a(21097),AudioSpriteFile:a(89524),BinaryFile:a(85722),BitmapFontFile:a(97025),CompressedTextureFile:a(69559),CSSFile:a(16024),FontFile:a(87674),GLSLFile:a(47931),HTML5AudioFile:a(89749),HTMLFile:a(88470),HTMLTextureFile:a(14643),ImageFile:a(19550),JSONFile:a(518),MultiAtlasFile:a(59327),MultiScriptFile:a(99297),OBJFile:a(41846),PackFile:a(58610),PluginFile:a(48988),SceneFile:a(88423),ScenePluginFile:a(56812),ScriptFile:a(34328),SpriteSheetFile:a(85035),SVGFile:a(67397),TextFile:a(78776),TilemapCSVFile:a(49477),TilemapImpactFile:a(40807),TilemapJSONFile:a(56775),UnityAtlasFile:a(25771),VideoFile:a(33720),XMLFile:a(57318)}},57777:(S,P,a)=>{var y=a(23906),C=a(79291),g={Events:a(54899),FileTypes:a(64589),File:a(41299),FileTypesManager:a(74099),GetURL:a(98356),LoaderPlugin:a(74261),MergeXHRSettings:a(3374),MultiFile:a(26430),XHRLoader:a(84376),XHRSettings:a(92638)};g=C(!1,g,y),S.exports=g},53307:S=>{S.exports=function(a){for(var y=0,C=0;C<a.length;C++)y+=+a[C];return y/a.length}},85710:(S,P,a)=>{var y=a(6411);S.exports=function(g,f){return y(g)/y(f)/y(g-f)}},30976:S=>{S.exports=function(a,y){return Math.floor(Math.random()*(y-a+1)+a)}},87842:S=>{S.exports=function(a,y,C,g,f){var d=.5*(g-y),c=.5*(f-C),h=a*a;return(2*C-2*g+d+c)*(a*h)+(-3*C+3*g-2*d-c)*h+d*a+C}},26302:S=>{S.exports=function(a,y,C){void 0===y&&(y=0),void 0===C&&(C=10);var g=Math.pow(C,-y);return Math.ceil(a*g)/g}},45319:S=>{S.exports=function(a,y,C){return Math.max(y,Math.min(C,a))}},39506:(S,P,a)=>{var y=a(36383);S.exports=function(g){return g*y.DEG_TO_RAD}},61241:S=>{S.exports=function(a,y){return Math.abs(a-y)}},38857:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(37867),f=a(29747),d=new g,c=new C({initialize:function h(p,u,m,v){void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v=h.DefaultOrder),this._x=p,this._y=u,this._z=m,this._order=v,this.onChangeCallback=f},x:{get:function(){return this._x},set:function(h){this._x=h,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(h){this._y=h,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(h){this._z=h,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(h){this._order=h,this.onChangeCallback(this)}},set:function(h,p,u,m){return void 0===m&&(m=this._order),this._x=h,this._y=p,this._z=u,this._order=m,this.onChangeCallback(this),this},copy:function(h){return this.set(h.x,h.y,h.z,h.order)},setFromQuaternion:function(h,p,u){return void 0===p&&(p=this._order),void 0===u&&(u=!1),d.fromQuat(h),this.setFromRotationMatrix(d,p,u)},setFromRotationMatrix:function(h,p,u){void 0===p&&(p=this._order),void 0===u&&(u=!1);var m=h.val,v=m[0],x=m[4],b=m[8],T=m[1],_=m[5],A=m[9],M=m[2],I=m[6],R=m[10],F=0,N=0,V=0,B=.99999;switch(p){case"XYZ":N=Math.asin(y(b,-1,1)),Math.abs(b)<B?(F=Math.atan2(-A,R),V=Math.atan2(-x,v)):F=Math.atan2(I,_);break;case"YXZ":F=Math.asin(-y(A,-1,1)),Math.abs(A)<B?(N=Math.atan2(b,R),V=Math.atan2(T,_)):N=Math.atan2(-M,v);break;case"ZXY":F=Math.asin(y(I,-1,1)),Math.abs(I)<B?(N=Math.atan2(-M,R),V=Math.atan2(-x,_)):V=Math.atan2(T,v);break;case"ZYX":N=Math.asin(-y(M,-1,1)),Math.abs(M)<B?(F=Math.atan2(I,R),V=Math.atan2(T,v)):V=Math.atan2(-x,_);break;case"YZX":V=Math.asin(y(T,-1,1)),Math.abs(T)<B?(F=Math.atan2(-A,_),N=Math.atan2(-M,v)):N=Math.atan2(b,R);break;case"XZY":V=Math.asin(-y(x,-1,1)),Math.abs(x)<B?(F=Math.atan2(I,_),N=Math.atan2(b,v)):F=Math.atan2(-A,R)}return this._x=F,this._y=N,this._z=V,this._order=p,u&&this.onChangeCallback(this),this}});c.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],c.DefaultOrder="XYZ",S.exports=c},6411:S=>{S.exports=function(a){if(0===a)return 1;for(var y=a;--a;)y*=a;return y}},99472:S=>{S.exports=function(a,y){return Math.random()*(y-a)+a}},77623:S=>{S.exports=function(a,y,C){void 0===y&&(y=0),void 0===C&&(C=10);var g=Math.pow(C,-y);return Math.floor(a*g)/g}},62945:(S,P,a)=>{var y=a(45319);S.exports=function(g,f,d){return(d-f)*(g=y(g,0,1))+f}},38265:S=>{S.exports=function(a,y){return a/y/1e3}},78702:S=>{S.exports=function(a){return a==parseFloat(a)?!(a%2):void 0}},94883:S=>{S.exports=function(a){return a===parseFloat(a)?!(a%2):void 0}},28915:S=>{S.exports=function(a,y,C){return(y-a)*C+a}},94908:S=>{S.exports=function(a,y,C){return void 0===C&&(C=0),a.clone().lerp(y,C)}},94434:(S,P,a)=>{var C=new(a(83419))({initialize:function(f){this.val=new Float32Array(9),f?this.copy(f):this.identity()},clone:function(){return new C(this)},set:function(g){return this.copy(g)},copy:function(g){var f=this.val,d=g.val;return f[0]=d[0],f[1]=d[1],f[2]=d[2],f[3]=d[3],f[4]=d[4],f[5]=d[5],f[6]=d[6],f[7]=d[7],f[8]=d[8],this},fromMat4:function(g){var f=g.val,d=this.val;return d[0]=f[0],d[1]=f[1],d[2]=f[2],d[3]=f[4],d[4]=f[5],d[5]=f[6],d[6]=f[8],d[7]=f[9],d[8]=f[10],this},fromArray:function(g){var f=this.val;return f[0]=g[0],f[1]=g[1],f[2]=g[2],f[3]=g[3],f[4]=g[4],f[5]=g[5],f[6]=g[6],f[7]=g[7],f[8]=g[8],this},identity:function(){var g=this.val;return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=1,g[5]=0,g[6]=0,g[7]=0,g[8]=1,this},transpose:function(){var g=this.val,f=g[1],d=g[2],c=g[5];return g[1]=g[3],g[2]=g[6],g[3]=f,g[5]=g[7],g[6]=d,g[7]=c,this},invert:function(){var g=this.val,f=g[0],d=g[1],c=g[2],h=g[3],p=g[4],u=g[5],m=g[6],v=g[7],x=g[8],b=x*p-u*v,T=-x*h+u*m,_=v*h-p*m,A=f*b+d*T+c*_;return A?(g[0]=b*(A=1/A),g[1]=(-x*d+c*v)*A,g[2]=(u*d-c*p)*A,g[3]=T*A,g[4]=(x*f-c*m)*A,g[5]=(-u*f+c*h)*A,g[6]=_*A,g[7]=(-v*f+d*m)*A,g[8]=(p*f-d*h)*A,this):null},adjoint:function(){var g=this.val,f=g[0],d=g[1],c=g[2],h=g[3],p=g[4],u=g[5],m=g[6],v=g[7],x=g[8];return g[0]=p*x-u*v,g[1]=c*v-d*x,g[2]=d*u-c*p,g[3]=u*m-h*x,g[4]=f*x-c*m,g[5]=c*h-f*u,g[6]=h*v-p*m,g[7]=d*m-f*v,g[8]=f*p-d*h,this},determinant:function(){var g=this.val,h=g[3],p=g[4],u=g[5],m=g[6],v=g[7],x=g[8];return g[0]*(x*p-u*v)+g[1]*(-x*h+u*m)+g[2]*(v*h-p*m)},multiply:function(g){var f=this.val,d=f[0],c=f[1],h=f[2],p=f[3],u=f[4],m=f[5],v=f[6],x=f[7],b=f[8],T=g.val,_=T[0],A=T[1],M=T[2],I=T[3],R=T[4],F=T[5],N=T[6],V=T[7],B=T[8];return f[0]=_*d+A*p+M*v,f[1]=_*c+A*u+M*x,f[2]=_*h+A*m+M*b,f[3]=I*d+R*p+F*v,f[4]=I*c+R*u+F*x,f[5]=I*h+R*m+F*b,f[6]=N*d+V*p+B*v,f[7]=N*c+V*u+B*x,f[8]=N*h+V*m+B*b,this},translate:function(g){var f=this.val,d=g.x,c=g.y;return f[6]=d*f[0]+c*f[3]+f[6],f[7]=d*f[1]+c*f[4]+f[7],f[8]=d*f[2]+c*f[5]+f[8],this},rotate:function(g){var f=this.val,d=f[0],c=f[1],h=f[2],p=f[3],u=f[4],m=f[5],v=Math.sin(g),x=Math.cos(g);return f[0]=x*d+v*p,f[1]=x*c+v*u,f[2]=x*h+v*m,f[3]=x*p-v*d,f[4]=x*u-v*c,f[5]=x*m-v*h,this},scale:function(g){var f=this.val,d=g.x,c=g.y;return f[0]=d*f[0],f[1]=d*f[1],f[2]=d*f[2],f[3]=c*f[3],f[4]=c*f[4],f[5]=c*f[5],this},fromQuat:function(g){var f=g.x,d=g.y,c=g.z,h=g.w,p=f+f,u=d+d,m=c+c,v=f*p,x=f*u,b=f*m,T=d*u,_=d*m,A=c*m,M=h*p,I=h*u,R=h*m,F=this.val;return F[0]=1-(T+A),F[3]=x+R,F[6]=b-I,F[1]=x-R,F[4]=1-(v+A),F[7]=_+M,F[2]=b+I,F[5]=_-M,F[8]=1-(v+T),this},normalFromMat4:function(g){var f=g.val,d=this.val,c=f[0],h=f[1],p=f[2],u=f[3],m=f[4],v=f[5],x=f[6],b=f[7],T=f[8],_=f[9],A=f[10],M=f[11],I=f[12],R=f[13],F=f[14],N=f[15],V=c*v-h*m,B=c*x-p*m,G=c*b-u*m,Q=h*x-p*v,H=h*b-u*v,K=p*b-u*x,tt=T*R-_*I,at=T*F-A*I,lt=T*N-M*I,q=_*F-A*R,it=_*N-M*R,Y=A*N-M*F,X=V*Y-B*it+G*q+Q*lt-H*at+K*tt;return X?(d[0]=(v*Y-x*it+b*q)*(X=1/X),d[1]=(x*lt-m*Y-b*at)*X,d[2]=(m*it-v*lt+b*tt)*X,d[3]=(p*it-h*Y-u*q)*X,d[4]=(c*Y-p*lt+u*at)*X,d[5]=(h*lt-c*it-u*tt)*X,d[6]=(R*K-F*H+N*Q)*X,d[7]=(F*G-I*K-N*B)*X,d[8]=(I*H-R*G+N*V)*X,this):null}});S.exports=C},37867:(S,P,a)=>{var y=a(83419),C=a(25836),g=1e-6,f=new y({initialize:function(v){this.val=new Float32Array(16),v?this.copy(v):this.identity()},clone:function(){return new f(this)},set:function(m){return this.copy(m)},setValues:function(m,v,x,b,T,_,A,M,I,R,F,N,V,B,G,Q){var H=this.val;return H[0]=m,H[1]=v,H[2]=x,H[3]=b,H[4]=T,H[5]=_,H[6]=A,H[7]=M,H[8]=I,H[9]=R,H[10]=F,H[11]=N,H[12]=V,H[13]=B,H[14]=G,H[15]=Q,this},copy:function(m){var v=m.val;return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},fromArray:function(m){return this.setValues(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(m,v,x){var T=d.fromQuat(x).val,_=v.x,A=v.y,M=v.z;return this.setValues(T[0]*_,T[1]*_,T[2]*_,0,T[4]*A,T[5]*A,T[6]*A,0,T[8]*M,T[9]*M,T[10]*M,0,m.x,m.y,m.z,1)},xyz:function(m,v,x){this.identity();var b=this.val;return b[12]=m,b[13]=v,b[14]=x,this},scaling:function(m,v,x){this.zero();var b=this.val;return b[0]=m,b[5]=v,b[10]=x,b[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var m=this.val,v=m[1],x=m[2],b=m[3],T=m[6],_=m[7],A=m[11];return m[1]=m[4],m[2]=m[8],m[3]=m[12],m[4]=v,m[6]=m[9],m[7]=m[13],m[8]=x,m[9]=T,m[11]=m[14],m[12]=b,m[13]=_,m[14]=A,this},getInverse:function(m){return this.copy(m),this.invert()},invert:function(){var m=this.val,v=m[0],x=m[1],b=m[2],T=m[3],_=m[4],A=m[5],M=m[6],I=m[7],R=m[8],F=m[9],N=m[10],V=m[11],B=m[12],G=m[13],Q=m[14],H=m[15],K=v*A-x*_,tt=v*M-b*_,at=v*I-T*_,lt=x*M-b*A,q=x*I-T*A,it=b*I-T*M,Y=R*G-F*B,X=R*Q-N*B,nt=R*H-V*B,dt=F*Q-N*G,gt=F*H-V*G,bt=N*H-V*Q,Et=K*bt-tt*gt+at*dt+lt*nt-q*X+it*Y;return Et?this.setValues((A*bt-M*gt+I*dt)*(Et=1/Et),(b*gt-x*bt-T*dt)*Et,(G*it-Q*q+H*lt)*Et,(N*q-F*it-V*lt)*Et,(M*nt-_*bt-I*X)*Et,(v*bt-b*nt+T*X)*Et,(Q*at-B*it-H*tt)*Et,(R*it-N*at+V*tt)*Et,(_*gt-A*nt+I*Y)*Et,(x*nt-v*gt-T*Y)*Et,(B*q-G*at+H*K)*Et,(F*at-R*q-V*K)*Et,(A*X-_*dt-M*Y)*Et,(v*dt-x*X+b*Y)*Et,(G*tt-B*lt-Q*K)*Et,(R*lt-F*tt+N*K)*Et):this},adjoint:function(){var m=this.val,v=m[0],x=m[1],b=m[2],T=m[3],_=m[4],A=m[5],M=m[6],I=m[7],R=m[8],F=m[9],N=m[10],V=m[11],B=m[12],G=m[13],Q=m[14],H=m[15];return this.setValues(A*(N*H-V*Q)-F*(M*H-I*Q)+G*(M*V-I*N),-(x*(N*H-V*Q)-F*(b*H-T*Q)+G*(b*V-T*N)),x*(M*H-I*Q)-A*(b*H-T*Q)+G*(b*I-T*M),-(x*(M*V-I*N)-A*(b*V-T*N)+F*(b*I-T*M)),-(_*(N*H-V*Q)-R*(M*H-I*Q)+B*(M*V-I*N)),v*(N*H-V*Q)-R*(b*H-T*Q)+B*(b*V-T*N),-(v*(M*H-I*Q)-_*(b*H-T*Q)+B*(b*I-T*M)),v*(M*V-I*N)-_*(b*V-T*N)+R*(b*I-T*M),_*(F*H-V*G)-R*(A*H-I*G)+B*(A*V-I*F),-(v*(F*H-V*G)-R*(x*H-T*G)+B*(x*V-T*F)),v*(A*H-I*G)-_*(x*H-T*G)+B*(x*I-T*A),-(v*(A*V-I*F)-_*(x*V-T*F)+R*(x*I-T*A)),-(_*(F*Q-N*G)-R*(A*Q-M*G)+B*(A*N-M*F)),v*(F*Q-N*G)-R*(x*Q-b*G)+B*(x*N-b*F),-(v*(A*Q-M*G)-_*(x*Q-b*G)+B*(x*M-b*A)),v*(A*N-M*F)-_*(x*N-b*F)+R*(x*M-b*A))},determinant:function(){var m=this.val,v=m[0],x=m[1],b=m[2],T=m[3],_=m[4],A=m[5],M=m[6],I=m[7],R=m[8],F=m[9],N=m[10],V=m[11],B=m[12],G=m[13],Q=m[14],H=m[15];return(v*A-x*_)*(N*H-V*Q)-(v*M-b*_)*(F*H-V*G)+(v*I-T*_)*(F*Q-N*G)+(x*M-b*A)*(R*H-V*B)-(x*I-T*A)*(R*Q-N*B)+(b*I-T*M)*(R*G-F*B)},multiply:function(m){var v=this.val,x=v[0],b=v[1],T=v[2],_=v[3],A=v[4],M=v[5],I=v[6],R=v[7],F=v[8],N=v[9],V=v[10],B=v[11],G=v[12],Q=v[13],H=v[14],K=v[15],tt=m.val,at=tt[0],lt=tt[1],q=tt[2],it=tt[3];return v[0]=at*x+lt*A+q*F+it*G,v[1]=at*b+lt*M+q*N+it*Q,v[2]=at*T+lt*I+q*V+it*H,v[3]=at*_+lt*R+q*B+it*K,v[4]=(at=tt[4])*x+(lt=tt[5])*A+(q=tt[6])*F+(it=tt[7])*G,v[5]=at*b+lt*M+q*N+it*Q,v[6]=at*T+lt*I+q*V+it*H,v[7]=at*_+lt*R+q*B+it*K,v[8]=(at=tt[8])*x+(lt=tt[9])*A+(q=tt[10])*F+(it=tt[11])*G,v[9]=at*b+lt*M+q*N+it*Q,v[10]=at*T+lt*I+q*V+it*H,v[11]=at*_+lt*R+q*B+it*K,v[12]=(at=tt[12])*x+(lt=tt[13])*A+(q=tt[14])*F+(it=tt[15])*G,v[13]=at*b+lt*M+q*N+it*Q,v[14]=at*T+lt*I+q*V+it*H,v[15]=at*_+lt*R+q*B+it*K,this},multiplyLocal:function(m){var v=this.val,x=m.val;return this.setValues(v[0]*x[0]+v[1]*x[4]+v[2]*x[8]+v[3]*x[12],v[0]*x[1]+v[1]*x[5]+v[2]*x[9]+v[3]*x[13],v[0]*x[2]+v[1]*x[6]+v[2]*x[10]+v[3]*x[14],v[0]*x[3]+v[1]*x[7]+v[2]*x[11]+v[3]*x[15],v[4]*x[0]+v[5]*x[4]+v[6]*x[8]+v[7]*x[12],v[4]*x[1]+v[5]*x[5]+v[6]*x[9]+v[7]*x[13],v[4]*x[2]+v[5]*x[6]+v[6]*x[10]+v[7]*x[14],v[4]*x[3]+v[5]*x[7]+v[6]*x[11]+v[7]*x[15],v[8]*x[0]+v[9]*x[4]+v[10]*x[8]+v[11]*x[12],v[8]*x[1]+v[9]*x[5]+v[10]*x[9]+v[11]*x[13],v[8]*x[2]+v[9]*x[6]+v[10]*x[10]+v[11]*x[14],v[8]*x[3]+v[9]*x[7]+v[10]*x[11]+v[11]*x[15],v[12]*x[0]+v[13]*x[4]+v[14]*x[8]+v[15]*x[12],v[12]*x[1]+v[13]*x[5]+v[14]*x[9]+v[15]*x[13],v[12]*x[2]+v[13]*x[6]+v[14]*x[10]+v[15]*x[14],v[12]*x[3]+v[13]*x[7]+v[14]*x[11]+v[15]*x[15])},premultiply:function(m){return this.multiplyMatrices(m,this)},multiplyMatrices:function(m,v){var x=m.val,b=v.val,T=x[0],_=x[4],A=x[8],M=x[12],I=x[1],R=x[5],F=x[9],N=x[13],V=x[2],B=x[6],G=x[10],Q=x[14],H=x[3],K=x[7],tt=x[11],at=x[15],lt=b[0],q=b[4],it=b[8],Y=b[12],X=b[1],nt=b[5],dt=b[9],gt=b[13],bt=b[2],Et=b[6],Bt=b[10],Kt=b[14],Zt=b[3],ne=b[7],ae=b[11],fe=b[15];return this.setValues(T*lt+_*X+A*bt+M*Zt,I*lt+R*X+F*bt+N*Zt,V*lt+B*X+G*bt+Q*Zt,H*lt+K*X+tt*bt+at*Zt,T*q+_*nt+A*Et+M*ne,I*q+R*nt+F*Et+N*ne,V*q+B*nt+G*Et+Q*ne,H*q+K*nt+tt*Et+at*ne,T*it+_*dt+A*Bt+M*ae,I*it+R*dt+F*Bt+N*ae,V*it+B*dt+G*Bt+Q*ae,H*it+K*dt+tt*Bt+at*ae,T*Y+_*gt+A*Kt+M*fe,I*Y+R*gt+F*Kt+N*fe,V*Y+B*gt+G*Kt+Q*fe,H*Y+K*gt+tt*Kt+at*fe)},translate:function(m){return this.translateXYZ(m.x,m.y,m.z)},translateXYZ:function(m,v,x){var b=this.val;return b[12]=b[0]*m+b[4]*v+b[8]*x+b[12],b[13]=b[1]*m+b[5]*v+b[9]*x+b[13],b[14]=b[2]*m+b[6]*v+b[10]*x+b[14],b[15]=b[3]*m+b[7]*v+b[11]*x+b[15],this},scale:function(m){return this.scaleXYZ(m.x,m.y,m.z)},scaleXYZ:function(m,v,x){var b=this.val;return b[0]=b[0]*m,b[1]=b[1]*m,b[2]=b[2]*m,b[3]=b[3]*m,b[4]=b[4]*v,b[5]=b[5]*v,b[6]=b[6]*v,b[7]=b[7]*v,b[8]=b[8]*x,b[9]=b[9]*x,b[10]=b[10]*x,b[11]=b[11]*x,this},makeRotationAxis:function(m,v){var x=Math.cos(v),b=Math.sin(v),T=1-x,_=m.x,A=m.y,M=m.z,I=T*_,R=T*A;return this.setValues(I*_+x,I*A-b*M,I*M+b*A,0,I*A+b*M,R*A+x,R*M-b*_,0,I*M-b*A,R*M+b*_,T*M*M+x,0,0,0,0,1)},rotate:function(m,v){var x=this.val,b=v.x,T=v.y,_=v.z,A=Math.sqrt(b*b+T*T+_*_);if(Math.abs(A)<g)return this;b*=A=1/A,T*=A,_*=A;var M=Math.sin(m),I=Math.cos(m),R=1-I,F=x[0],N=x[1],V=x[2],B=x[3],G=x[4],Q=x[5],H=x[6],K=x[7],tt=x[8],at=x[9],lt=x[10],q=x[11],dt=b*b*R+I,gt=T*b*R+_*M,bt=_*b*R-T*M,Et=b*T*R-_*M,Bt=T*T*R+I,Kt=_*T*R+b*M,Zt=b*_*R+T*M,ne=T*_*R-b*M,ae=_*_*R+I;return this.setValues(F*dt+G*gt+tt*bt,N*dt+Q*gt+at*bt,V*dt+H*gt+lt*bt,B*dt+K*gt+q*bt,F*Et+G*Bt+tt*Kt,N*Et+Q*Bt+at*Kt,V*Et+H*Bt+lt*Kt,B*Et+K*Bt+q*Kt,F*Zt+G*ne+tt*ae,N*Zt+Q*ne+at*ae,V*Zt+H*ne+lt*ae,B*Zt+K*ne+q*ae,x[12],x[13],x[14],x[15])},rotateX:function(m){var v=this.val,x=Math.sin(m),b=Math.cos(m),T=v[4],_=v[5],A=v[6],M=v[7],I=v[8],R=v[9],F=v[10],N=v[11];return v[4]=T*b+I*x,v[5]=_*b+R*x,v[6]=A*b+F*x,v[7]=M*b+N*x,v[8]=I*b-T*x,v[9]=R*b-_*x,v[10]=F*b-A*x,v[11]=N*b-M*x,this},rotateY:function(m){var v=this.val,x=Math.sin(m),b=Math.cos(m),T=v[0],_=v[1],A=v[2],M=v[3],I=v[8],R=v[9],F=v[10],N=v[11];return v[0]=T*b-I*x,v[1]=_*b-R*x,v[2]=A*b-F*x,v[3]=M*b-N*x,v[8]=T*x+I*b,v[9]=_*x+R*b,v[10]=A*x+F*b,v[11]=M*x+N*b,this},rotateZ:function(m){var v=this.val,x=Math.sin(m),b=Math.cos(m),T=v[0],_=v[1],A=v[2],M=v[3],I=v[4],R=v[5],F=v[6],N=v[7];return v[0]=T*b+I*x,v[1]=_*b+R*x,v[2]=A*b+F*x,v[3]=M*b+N*x,v[4]=I*b-T*x,v[5]=R*b-_*x,v[6]=F*b-A*x,v[7]=N*b-M*x,this},fromRotationTranslation:function(m,v){var x=m.x,b=m.y,T=m.z,_=m.w,A=x+x,M=b+b,I=T+T,R=x*A,F=x*M,N=x*I,V=b*M,B=b*I,G=T*I,Q=_*A,H=_*M,K=_*I;return this.setValues(1-(V+G),F+K,N-H,0,F-K,1-(R+G),B+Q,0,N+H,B-Q,1-(R+V),0,v.x,v.y,v.z,1)},fromQuat:function(m){var v=m.x,x=m.y,b=m.z,T=m.w,_=v+v,A=x+x,M=b+b,I=v*_,R=v*A,F=v*M,N=x*A,V=x*M,B=b*M,G=T*_,Q=T*A,H=T*M;return this.setValues(1-(N+B),R+H,F-Q,0,R-H,1-(I+B),V+G,0,F+Q,V-G,1-(I+N),0,0,0,0,1)},frustum:function(m,v,x,b,T,_){var A=1/(v-m),M=1/(b-x),I=1/(T-_);return this.setValues(2*T*A,0,0,0,0,2*T*M,0,0,(v+m)*A,(b+x)*M,(_+T)*I,-1,0,0,_*T*2*I,0)},perspective:function(m,v,x,b){var T=1/Math.tan(m/2),_=1/(x-b);return this.setValues(T/v,0,0,0,0,T,0,0,0,0,(b+x)*_,-1,0,0,2*b*x*_,0)},perspectiveLH:function(m,v,x,b){return this.setValues(2*x/m,0,0,0,0,2*x/v,0,0,0,0,-b/(x-b),1,0,0,x*b/(x-b),0)},ortho:function(m,v,x,b,T,_){var A=m-v,M=x-b,I=T-_;return this.setValues(-2*(A=0===A?A:1/A),0,0,0,0,-2*(M=0===M?M:1/M),0,0,0,0,2*(I=0===I?I:1/I),0,(m+v)*A,(b+x)*M,(_+T)*I,1)},lookAtRH:function(m,v,x){var b=this.val;return u.subVectors(m,v),0===u.lengthSq()&&(u.z=1),u.normalize(),h.crossVectors(x,u),0===h.lengthSq()&&(1===Math.abs(x.z)?u.x+=1e-4:u.z+=1e-4,u.normalize(),h.crossVectors(x,u)),h.normalize(),p.crossVectors(u,h),b[0]=h.x,b[1]=h.y,b[2]=h.z,b[4]=p.x,b[5]=p.y,b[6]=p.z,b[8]=u.x,b[9]=u.y,b[10]=u.z,this},lookAt:function(m,v,x){var b=m.x,T=m.y,_=m.z,A=x.x,M=x.y,I=x.z,R=v.x,F=v.y,N=v.z;if(Math.abs(b-R)<g&&Math.abs(T-F)<g&&Math.abs(_-N)<g)return this.identity();var V=b-R,B=T-F,G=_-N,Q=1/Math.sqrt(V*V+B*B+G*G),H=M*(G*=Q)-I*(B*=Q),K=I*(V*=Q)-A*G,tt=A*B-M*V;(Q=Math.sqrt(H*H+K*K+tt*tt))?(H*=Q=1/Q,K*=Q,tt*=Q):(H=0,K=0,tt=0);var at=B*tt-G*K,lt=G*H-V*tt,q=V*K-B*H;return(Q=Math.sqrt(at*at+lt*lt+q*q))?(at*=Q=1/Q,lt*=Q,q*=Q):(at=0,lt=0,q=0),this.setValues(H,at,V,0,K,lt,B,0,tt,q,G,0,-(H*b+K*T+tt*_),-(at*b+lt*T+q*_),-(V*b+B*T+G*_),1)},yawPitchRoll:function(m,v,x){this.zero(),d.zero(),c.zero();var b=this.val,T=d.val,_=c.val,A=Math.sin(x),M=Math.cos(x);return b[10]=1,b[15]=1,b[0]=M,b[1]=A,b[4]=-A,b[5]=M,A=Math.sin(v),M=Math.cos(v),T[0]=1,T[15]=1,T[5]=M,T[10]=M,T[9]=-A,T[6]=A,A=Math.sin(m),M=Math.cos(m),_[5]=1,_[15]=1,_[0]=M,_[2]=-A,_[8]=A,_[10]=M,this.multiplyLocal(d),this.multiplyLocal(c),this},setWorldMatrix:function(m,v,x,b,T){return this.yawPitchRoll(m.y,m.x,m.z),d.scaling(x.x,x.y,x.z),c.xyz(v.x,v.y,v.z),this.multiplyLocal(d),this.multiplyLocal(c),b&&this.multiplyLocal(b),T&&this.multiplyLocal(T),this},multiplyToMat4:function(m,v){var x=this.val,b=m.val,T=x[0],_=x[1],A=x[2],M=x[3],I=x[4],R=x[5],F=x[6],N=x[7],V=x[8],B=x[9],G=x[10],Q=x[11],H=x[12],K=x[13],tt=x[14],at=x[15],q=b[1],it=b[2],Y=b[3],X=b[4],nt=b[5],dt=b[6],gt=b[7],bt=b[8],Et=b[9],Bt=b[10],Kt=b[11],Zt=b[12],ne=b[13],ae=b[14],fe=b[15];return v.setValues(b[0]*T+q*I+it*V+Y*H,q*_+q*R+it*B+Y*K,it*A+q*F+it*G+Y*tt,Y*M+q*N+it*Q+Y*at,X*T+nt*I+dt*V+gt*H,X*_+nt*R+dt*B+gt*K,X*A+nt*F+dt*G+gt*tt,X*M+nt*N+dt*Q+gt*at,bt*T+Et*I+Bt*V+Kt*H,bt*_+Et*R+Bt*B+Kt*K,bt*A+Et*F+Bt*G+Kt*tt,bt*M+Et*N+Bt*Q+Kt*at,Zt*T+ne*I+ae*V+fe*H,Zt*_+ne*R+ae*B+fe*K,Zt*A+ne*F+ae*G+fe*tt,Zt*M+ne*N+ae*Q+fe*at)},fromRotationXYTranslation:function(m,v,x){var b=v.x,T=v.y,_=v.z,A=Math.sin(m.x),M=Math.cos(m.x),I=Math.sin(m.y),R=Math.cos(m.y),F=b,N=T,V=_,B=-A,G=0-B*I,Q=0-M*I,H=B*R,K=M*R;return x||(F=R*b+I*_,N=G*b+M*T+H*_,V=Q*b+A*T+K*_),this.setValues(R,G,Q,0,0,M,A,0,I,H,K,0,F,N,V,1)},getMaxScaleOnAxis:function(){var m=this.val;return Math.sqrt(Math.max(m[0]*m[0]+m[1]*m[1]+m[2]*m[2],m[4]*m[4]+m[5]*m[5]+m[6]*m[6],m[8]*m[8]+m[9]*m[9]+m[10]*m[10]))}}),d=new f,c=new f,h=new C,p=new C,u=new C;S.exports=f},86883:S=>{S.exports=function(a,y,C){return Math.min(a+y,C)}},50040:S=>{S.exports=function(a){var y=a.length;if(0===y)return 0;a.sort(function(g,f){return g-f});var C=Math.floor(y/2);return y%2==0?(a[C]+a[C-1])/2:a[C]}},37204:S=>{S.exports=function(a,y,C){return Math.max(a-y,C)}},65201:S=>{S.exports=function(a,y,C,g){void 0===C&&(C=y+1);var f=(a-y)/(C-y);return f>1?void 0!==g?(f=(g-a)/(g-C))<0&&(f=0):f=1:f<0&&(f=0),f}},15746:(S,P,a)=>{var y=a(83419),C=a(94434),g=a(29747),f=a(25836),d=1e-6,c=new Int8Array([1,2,0]),h=new Float32Array([0,0,0]),p=new f(1,0,0),u=new f(0,1,0),m=new f,v=new C,x=new y({initialize:function(T,_,A,M){this.onChangeCallback=g,this.set(T,_,A,M)},x:{get:function(){return this._x},set:function(b){this._x=b,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(b){this._y=b,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(b){this._z=b,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(b){this._w=b,this.onChangeCallback(this)}},copy:function(b){return this.set(b)},set:function(b,T,_,A,M){return void 0===M&&(M=!0),"object"==typeof b?(this._x=b.x||0,this._y=b.y||0,this._z=b.z||0,this._w=b.w||0):(this._x=b||0,this._y=T||0,this._z=_||0,this._w=A||0),M&&this.onChangeCallback(this),this},add:function(b){return this._x+=b.x,this._y+=b.y,this._z+=b.z,this._w+=b.w,this.onChangeCallback(this),this},subtract:function(b){return this._x-=b.x,this._y-=b.y,this._z-=b.z,this._w-=b.w,this.onChangeCallback(this),this},scale:function(b){return this._x*=b,this._y*=b,this._z*=b,this._w*=b,this.onChangeCallback(this),this},length:function(){var b=this.x,T=this.y,_=this.z,A=this.w;return Math.sqrt(b*b+T*T+_*_+A*A)},lengthSq:function(){var b=this.x,T=this.y,_=this.z,A=this.w;return b*b+T*T+_*_+A*A},normalize:function(){var b=this.x,T=this.y,_=this.z,A=this.w,M=b*b+T*T+_*_+A*A;return M>0&&(M=1/Math.sqrt(M),this._x=b*M,this._y=T*M,this._z=_*M,this._w=A*M),this.onChangeCallback(this),this},dot:function(b){return this.x*b.x+this.y*b.y+this.z*b.z+this.w*b.w},lerp:function(b,T){void 0===T&&(T=0);var _=this.x,A=this.y,M=this.z,I=this.w;return this.set(_+T*(b.x-_),A+T*(b.y-A),M+T*(b.z-M),I+T*(b.w-I))},rotationTo:function(b,T){var _=b.x*T.x+b.y*T.y+b.z*T.z;return _<-.999999?(m.copy(p).cross(b).length()<d&&m.copy(u).cross(b),m.normalize(),this.setAxisAngle(m,Math.PI)):_>.999999?this.set(0,0,0,1):(m.copy(b).cross(T),this._x=m.x,this._y=m.y,this._z=m.z,this._w=1+_,this.normalize())},setAxes:function(b,T,_){var A=v.val;return A[0]=T.x,A[3]=T.y,A[6]=T.z,A[1]=_.x,A[4]=_.y,A[7]=_.z,A[2]=-b.x,A[5]=-b.y,A[8]=-b.z,this.fromMat3(v).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(b,T){T*=.5;var _=Math.sin(T);return this.set(_*b.x,_*b.y,_*b.z,Math.cos(T))},multiply:function(b){var T=this.x,_=this.y,A=this.z,M=this.w,I=b.x,R=b.y,F=b.z,N=b.w;return this.set(T*N+M*I+_*F-A*R,_*N+M*R+A*I-T*F,A*N+M*F+T*R-_*I,M*N-T*I-_*R-A*F)},slerp:function(b,T){var _=this.x,A=this.y,M=this.z,I=this.w,R=b.x,F=b.y,N=b.z,V=b.w,B=_*R+A*F+M*N+I*V;B<0&&(B=-B,R=-R,F=-F,N=-N,V=-V);var G=1-T,Q=T;if(1-B>d){var H=Math.acos(B),K=Math.sin(H);G=Math.sin((1-T)*H)/K,Q=Math.sin(T*H)/K}return this.set(G*_+Q*R,G*A+Q*F,G*M+Q*N,G*I+Q*V)},invert:function(){var b=this.x,T=this.y,_=this.z,A=this.w,M=b*b+T*T+_*_+A*A,I=M?1/M:0;return this.set(-b*I,-T*I,-_*I,A*I)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(b){b*=.5;var T=this.x,_=this.y,A=this.z,M=this.w,I=Math.sin(b),R=Math.cos(b);return this.set(T*R+M*I,_*R+A*I,A*R-_*I,M*R-T*I)},rotateY:function(b){b*=.5;var T=this.x,_=this.y,A=this.z,M=this.w,I=Math.sin(b),R=Math.cos(b);return this.set(T*R-A*I,_*R+M*I,A*R+T*I,M*R-_*I)},rotateZ:function(b){b*=.5;var T=this.x,_=this.y,A=this.z,M=this.w,I=Math.sin(b),R=Math.cos(b);return this.set(T*R+_*I,_*R-T*I,A*R+M*I,M*R-A*I)},calculateW:function(){var b=this.x,T=this.y,_=this.z;return this.w=-Math.sqrt(1-b*b-T*T-_*_),this},setFromEuler:function(b,T){var _=b.x/2,A=b.y/2,M=b.z/2,I=Math.cos(_),R=Math.cos(A),F=Math.cos(M),N=Math.sin(_),V=Math.sin(A),B=Math.sin(M);switch(b.order){case"XYZ":this.set(N*R*F+I*V*B,I*V*F-N*R*B,I*R*B+N*V*F,I*R*F-N*V*B,T);break;case"YXZ":this.set(N*R*F+I*V*B,I*V*F-N*R*B,I*R*B-N*V*F,I*R*F+N*V*B,T);break;case"ZXY":this.set(N*R*F-I*V*B,I*V*F+N*R*B,I*R*B+N*V*F,I*R*F-N*V*B,T);break;case"ZYX":this.set(N*R*F-I*V*B,I*V*F+N*R*B,I*R*B-N*V*F,I*R*F+N*V*B,T);break;case"YZX":this.set(N*R*F+I*V*B,I*V*F+N*R*B,I*R*B-N*V*F,I*R*F-N*V*B,T);break;case"XZY":this.set(N*R*F-I*V*B,I*V*F-N*R*B,I*R*B+N*V*F,I*R*F+N*V*B,T)}return this},setFromRotationMatrix:function(b){var Q,T=b.val,_=T[0],A=T[4],M=T[8],I=T[1],R=T[5],F=T[9],N=T[2],V=T[6],B=T[10],G=_+R+B;return G>0?(Q=.5/Math.sqrt(G+1),this.set((V-F)*Q,(M-N)*Q,(I-A)*Q,.25/Q)):_>R&&_>B?(Q=2*Math.sqrt(1+_-R-B),this.set(.25*Q,(A+I)/Q,(M+N)/Q,(V-F)/Q)):R>B?(Q=2*Math.sqrt(1+R-_-B),this.set((A+I)/Q,.25*Q,(F+V)/Q,(M-N)/Q)):(Q=2*Math.sqrt(1+B-_-R),this.set((M+N)/Q,(F+V)/Q,.25*Q,(I-A)/Q)),this},fromMat3:function(b){var A,T=b.val,_=T[0]+T[4]+T[8];if(_>0)A=Math.sqrt(_+1),this.w=.5*A,this._x=(T[7]-T[5])*(A=.5/A),this._y=(T[2]-T[6])*A,this._z=(T[3]-T[1])*A;else{var M=0;T[4]>T[0]&&(M=1),T[8]>T[3*M+M]&&(M=2);var I=c[M],R=c[I];A=Math.sqrt(T[3*M+M]-T[3*I+I]-T[3*R+R]+1),h[M]=.5*A,h[I]=(T[3*I+M]+T[3*M+I])*(A=.5/A),h[R]=(T[3*R+M]+T[3*M+R])*A,this._x=h[0],this._y=h[1],this._z=h[2],this._w=(T[3*R+I]-T[3*I+R])*A}return this.onChangeCallback(this),this}});S.exports=x},43396:(S,P,a)=>{var y=a(36383);S.exports=function(g){return g*y.RAD_TO_DEG}},74362:S=>{S.exports=function(a,y){void 0===y&&(y=1);var C=2*Math.random()*Math.PI;return a.x=Math.cos(C)*y,a.y=Math.sin(C)*y,a}},60706:S=>{S.exports=function(a,y){void 0===y&&(y=1);var C=2*Math.random()*Math.PI,g=2*Math.random()-1,f=Math.sqrt(1-g*g)*y;return a.x=Math.cos(C)*f,a.y=Math.sin(C)*f,a.z=g*y,a}},67421:S=>{S.exports=function(a,y){return void 0===y&&(y=1),a.x=(2*Math.random()-1)*y,a.y=(2*Math.random()-1)*y,a.z=(2*Math.random()-1)*y,a.w=(2*Math.random()-1)*y,a}},36305:S=>{S.exports=function(a,y){var C=a.x,g=a.y;return a.x=C*Math.cos(y)-g*Math.sin(y),a.y=C*Math.sin(y)+g*Math.cos(y),a}},11520:S=>{S.exports=function(a,y,C,g){var f=Math.cos(g),d=Math.sin(g),c=a.x-y,h=a.y-C;return a.x=c*f-h*d+y,a.y=c*d+h*f+C,a}},1163:S=>{S.exports=function(a,y,C,g,f){var d=g+Math.atan2(a.y-C,a.x-y);return a.x=y+f*Math.cos(d),a.y=C+f*Math.sin(d),a}},70336:S=>{S.exports=function(a,y,C,g,f){return a.x=y+f*Math.cos(g),a.y=C+f*Math.sin(g),a}},72678:(S,P,a)=>{var y=a(25836),C=a(37867),g=a(15746),f=new C,d=new g,c=new y;S.exports=function(p,u,m){return d.setAxisAngle(u,m),f.fromRotationTranslation(d,c.set(0,0,0)),p.transformMat4(f)}},2284:S=>{S.exports=function(a){return a>0?Math.ceil(a):Math.floor(a)}},41013:S=>{S.exports=function(a,y,C){void 0===y&&(y=0),void 0===C&&(C=10);var g=Math.pow(C,-y);return Math.round(a*g)/g}},16922:S=>{S.exports=function(a,y,C,g){void 0===y&&(y=1),void 0===C&&(C=1),void 0===g&&(g=1),g*=Math.PI/a;for(var f=[],d=[],c=0;c<a;c++)y+=(C-=y*g)*g,f[c]=C,d[c]=y;return{sin:d,cos:f,length:a}}},7602:S=>{S.exports=function(a,y,C){return a<=y?0:a>=C?1:(a=(a-y)/(C-y))*a*(3-2*a)}},54261:S=>{S.exports=function(a,y,C){return(a=Math.max(0,Math.min(1,(a-y)/(C-y))))*a*a*(a*(6*a-15)+10)}},44408:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c){void 0===c&&(c=new y);var h=0,p=0;return g>0&&g<=f*d&&(h=g>f-1?g-(p=Math.floor(g/f))*f:g),c.set(h,p)}},85955:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c,h,p,u,m){void 0===m&&(m=new y);var v=Math.sin(h),x=Math.cos(h),b=x*p,T=v*p,_=-v*u,A=x*u,M=1/(b*A+_*-T);return m.x=A*M*g+-_*M*f+(c*_-d*A)*M,m.y=b*M*f+-T*M*g+(-c*b+d*T)*M,m}},26099:(S,P,a)=>{var y=a(83419),C=a(43855),g=new y({initialize:function(d,c){this.x=0,this.y=0,"object"==typeof d?(this.x=d.x||0,this.y=d.y||0):(void 0===c&&(c=d),this.x=d||0,this.y=c||0)},clone:function(){return new g(this.x,this.y)},copy:function(f){return this.x=f.x||0,this.y=f.y||0,this},setFromObject:function(f){return this.x=f.x||0,this.y=f.y||0,this},set:function(f,d){return void 0===d&&(d=f),this.x=f,this.y=d,this},setTo:function(f,d){return this.set(f,d)},setToPolar:function(f,d){return null==d&&(d=1),this.x=Math.cos(f)*d,this.y=Math.sin(f)*d,this},equals:function(f){return this.x===f.x&&this.y===f.y},fuzzyEquals:function(f,d){return C(this.x,f.x,d)&&C(this.y,f.y,d)},angle:function(){var f=Math.atan2(this.y,this.x);return f<0&&(f+=2*Math.PI),f},setAngle:function(f){return this.setToPolar(f,this.length())},add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f):(this.x=0,this.y=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(f){var d=f.x-this.x,c=f.y-this.y;return Math.sqrt(d*d+c*c)},distanceSq:function(f){var d=f.x-this.x,c=f.y-this.y;return d*d+c*c},length:function(){var f=this.x,d=this.y;return Math.sqrt(f*f+d*d)},setLength:function(f){return this.normalize().scale(f)},lengthSq:function(){var f=this.x,d=this.y;return f*f+d*d},normalize:function(){var f=this.x,d=this.y,c=f*f+d*d;return c>0&&(c=1/Math.sqrt(c),this.x=f*c,this.y=d*c),this},normalizeRightHand:function(){var f=this.x;return this.x=-1*this.y,this.y=f,this},normalizeLeftHand:function(){var f=this.x;return this.x=this.y,this.y=-1*f,this},dot:function(f){return this.x*f.x+this.y*f.y},cross:function(f){return this.x*f.y-this.y*f.x},lerp:function(f,d){void 0===d&&(d=0);var c=this.x,h=this.y;return this.x=c+d*(f.x-c),this.y=h+d*(f.y-h),this},transformMat3:function(f){var d=this.x,c=this.y,h=f.val;return this.x=h[0]*d+h[3]*c+h[6],this.y=h[1]*d+h[4]*c+h[7],this},transformMat4:function(f){var d=this.x,c=this.y,h=f.val;return this.x=h[0]*d+h[4]*c+h[12],this.y=h[1]*d+h[5]*c+h[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(f){var d=this.length();return d&&d>f&&this.scale(f/d),this},reflect:function(f){return f=f.clone().normalize(),this.subtract(f.scale(2*this.dot(f)))},mirror:function(f){return this.reflect(f).negate()},rotate:function(f){var d=Math.cos(f),c=Math.sin(f);return this.set(d*this.x-c*this.y,c*this.x+d*this.y)},project:function(f){var d=this.dot(f)/f.dot(f);return this.copy(f).scale(d)}});g.ZERO=new g,g.RIGHT=new g(1,0),g.LEFT=new g(-1,0),g.UP=new g(0,-1),g.DOWN=new g(0,1),g.ONE=new g(1,1),S.exports=g},25836:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c){this.x=0,this.y=0,this.z=0,"object"==typeof f?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=d||0,this.z=c||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(g){return this.x=Math.min(this.x,g.x),this.y=Math.min(this.y,g.y),this.z=Math.min(this.z,g.z),this},max:function(g){return this.x=Math.max(this.x,g.x),this.y=Math.max(this.y,g.y),this.z=Math.max(this.z,g.z),this},clone:function(){return new C(this.x,this.y,this.z)},addVectors:function(g,f){return this.x=g.x+f.x,this.y=g.y+f.y,this.z=g.z+f.z,this},subVectors:function(g,f){return this.x=g.x-f.x,this.y=g.y-f.y,this.z=g.z-f.z,this},crossVectors:function(g,f){var d=g.x,c=g.y,h=g.z,p=f.x,u=f.y,m=f.z;return this.x=c*m-h*u,this.y=h*p-d*m,this.z=d*u-c*p,this},equals:function(g){return this.x===g.x&&this.y===g.y&&this.z===g.z},copy:function(g){return this.x=g.x,this.y=g.y,this.z=g.z||0,this},set:function(g,f,d){return"object"==typeof g?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):(this.x=g||0,this.y=f||0,this.z=d||0),this},setFromMatrixPosition:function(g){return this.fromArray(g.val,12)},setFromMatrixColumn:function(g,f){return this.fromArray(g.val,4*f)},fromArray:function(g,f){return void 0===f&&(f=0),this.x=g[f],this.y=g[f+1],this.z=g[f+2],this},add:function(g){return this.x+=g.x,this.y+=g.y,this.z+=g.z||0,this},addScalar:function(g){return this.x+=g,this.y+=g,this.z+=g,this},addScale:function(g,f){return this.x+=g.x*f,this.y+=g.y*f,this.z+=g.z*f||0,this},subtract:function(g){return this.x-=g.x,this.y-=g.y,this.z-=g.z||0,this},multiply:function(g){return this.x*=g.x,this.y*=g.y,this.z*=g.z||1,this},scale:function(g){return isFinite(g)?(this.x*=g,this.y*=g,this.z*=g):(this.x=0,this.y=0,this.z=0),this},divide:function(g){return this.x/=g.x,this.y/=g.y,this.z/=g.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(g){var f=g.x-this.x,d=g.y-this.y,c=g.z-this.z||0;return Math.sqrt(f*f+d*d+c*c)},distanceSq:function(g){var f=g.x-this.x,d=g.y-this.y,c=g.z-this.z||0;return f*f+d*d+c*c},length:function(){var g=this.x,f=this.y,d=this.z;return Math.sqrt(g*g+f*f+d*d)},lengthSq:function(){var g=this.x,f=this.y,d=this.z;return g*g+f*f+d*d},normalize:function(){var g=this.x,f=this.y,d=this.z,c=g*g+f*f+d*d;return c>0&&(c=1/Math.sqrt(c),this.x=g*c,this.y=f*c,this.z=d*c),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z},cross:function(g){var f=this.x,d=this.y,c=this.z,h=g.x,p=g.y,u=g.z;return this.x=d*u-c*p,this.y=c*h-f*u,this.z=f*p-d*h,this},lerp:function(g,f){void 0===f&&(f=0);var d=this.x,c=this.y,h=this.z;return this.x=d+f*(g.x-d),this.y=c+f*(g.y-c),this.z=h+f*(g.z-h),this},applyMatrix3:function(g){var f=this.x,d=this.y,c=this.z,h=g.val;return this.x=h[0]*f+h[3]*d+h[6]*c,this.y=h[1]*f+h[4]*d+h[7]*c,this.z=h[2]*f+h[5]*d+h[8]*c,this},applyMatrix4:function(g){var f=this.x,d=this.y,c=this.z,h=g.val,p=1/(h[3]*f+h[7]*d+h[11]*c+h[15]);return this.x=(h[0]*f+h[4]*d+h[8]*c+h[12])*p,this.y=(h[1]*f+h[5]*d+h[9]*c+h[13])*p,this.z=(h[2]*f+h[6]*d+h[10]*c+h[14])*p,this},transformMat3:function(g){var f=this.x,d=this.y,c=this.z,h=g.val;return this.x=f*h[0]+d*h[3]+c*h[6],this.y=f*h[1]+d*h[4]+c*h[7],this.z=f*h[2]+d*h[5]+c*h[8],this},transformMat4:function(g){var f=this.x,d=this.y,c=this.z,h=g.val;return this.x=h[0]*f+h[4]*d+h[8]*c+h[12],this.y=h[1]*f+h[5]*d+h[9]*c+h[13],this.z=h[2]*f+h[6]*d+h[10]*c+h[14],this},transformCoordinates:function(g){var f=this.x,d=this.y,c=this.z,h=g.val,u=f*h[1]+d*h[5]+c*h[9]+h[13],m=f*h[2]+d*h[6]+c*h[10]+h[14],v=f*h[3]+d*h[7]+c*h[11]+h[15];return this.x=(f*h[0]+d*h[4]+c*h[8]+h[12])/v,this.y=u/v,this.z=m/v,this},transformQuat:function(g){var f=this.x,d=this.y,c=this.z,h=g.x,p=g.y,u=g.z,m=g.w,v=m*f+p*c-u*d,x=m*d+u*f-h*c,b=m*c+h*d-p*f,T=-h*f-p*d-u*c;return this.x=v*m+T*-h+x*-u-b*-p,this.y=x*m+T*-p+b*-h-v*-u,this.z=b*m+T*-u+v*-p-x*-h,this},project:function(g){var f=this.x,d=this.y,c=this.z,h=g.val,u=h[1],m=h[2],b=h[5],T=h[6],M=h[9],I=h[10],N=h[13],V=h[14],G=1/(f*h[3]+d*h[7]+c*h[11]+h[15]);return this.x=(f*h[0]+d*h[4]+c*h[8]+h[12])*G,this.y=(f*u+d*b+c*M+N)*G,this.z=(f*m+d*T+c*I+V)*G,this},projectViewMatrix:function(g,f){return this.applyMatrix4(g).applyMatrix4(f)},unprojectViewMatrix:function(g,f){return this.applyMatrix4(g).applyMatrix4(f)},unproject:function(g,f){var p=g.w,m=p-this.y-1-g.y,v=this.z;return this.x=2*(this.x-g.x)/g.z-1,this.y=2*m/p-1,this.z=2*v-1,this.project(f)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});C.ZERO=new C,C.RIGHT=new C(1,0,0),C.LEFT=new C(-1,0,0),C.UP=new C(0,-1,0),C.DOWN=new C(0,1,0),C.FORWARD=new C(0,0,1),C.BACK=new C(0,0,-1),C.ONE=new C(1,1,1),S.exports=C},61369:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c,h){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof f?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=d||0,this.z=c||0,this.w=h||0)},clone:function(){return new C(this.x,this.y,this.z,this.w)},copy:function(g){return this.x=g.x,this.y=g.y,this.z=g.z||0,this.w=g.w||0,this},equals:function(g){return this.x===g.x&&this.y===g.y&&this.z===g.z&&this.w===g.w},set:function(g,f,d,c){return"object"==typeof g?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0,this.w=g.w||0):(this.x=g||0,this.y=f||0,this.z=d||0,this.w=c||0),this},add:function(g){return this.x+=g.x,this.y+=g.y,this.z+=g.z||0,this.w+=g.w||0,this},subtract:function(g){return this.x-=g.x,this.y-=g.y,this.z-=g.z||0,this.w-=g.w||0,this},scale:function(g){return this.x*=g,this.y*=g,this.z*=g,this.w*=g,this},length:function(){var g=this.x,f=this.y,d=this.z,c=this.w;return Math.sqrt(g*g+f*f+d*d+c*c)},lengthSq:function(){var g=this.x,f=this.y,d=this.z,c=this.w;return g*g+f*f+d*d+c*c},normalize:function(){var g=this.x,f=this.y,d=this.z,c=this.w,h=g*g+f*f+d*d+c*c;return h>0&&(h=1/Math.sqrt(h),this.x=g*h,this.y=f*h,this.z=d*h,this.w=c*h),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z+this.w*g.w},lerp:function(g,f){void 0===f&&(f=0);var d=this.x,c=this.y,h=this.z,p=this.w;return this.x=d+f*(g.x-d),this.y=c+f*(g.y-c),this.z=h+f*(g.z-h),this.w=p+f*(g.w-p),this},multiply:function(g){return this.x*=g.x,this.y*=g.y,this.z*=g.z||1,this.w*=g.w||1,this},divide:function(g){return this.x/=g.x,this.y/=g.y,this.z/=g.z||1,this.w/=g.w||1,this},distance:function(g){var f=g.x-this.x,d=g.y-this.y,c=g.z-this.z||0,h=g.w-this.w||0;return Math.sqrt(f*f+d*d+c*c+h*h)},distanceSq:function(g){var f=g.x-this.x,d=g.y-this.y,c=g.z-this.z||0,h=g.w-this.w||0;return f*f+d*d+c*c+h*h},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(g){var f=this.x,d=this.y,c=this.z,h=this.w,p=g.val;return this.x=p[0]*f+p[4]*d+p[8]*c+p[12]*h,this.y=p[1]*f+p[5]*d+p[9]*c+p[13]*h,this.z=p[2]*f+p[6]*d+p[10]*c+p[14]*h,this.w=p[3]*f+p[7]*d+p[11]*c+p[15]*h,this},transformQuat:function(g){var f=this.x,d=this.y,c=this.z,h=g.x,p=g.y,u=g.z,m=g.w,v=m*f+p*c-u*d,x=m*d+u*f-h*c,b=m*c+h*d-p*f,T=-h*f-p*d-u*c;return this.x=v*m+T*-h+x*-u-b*-p,this.y=x*m+T*-p+b*-h-v*-u,this.z=b*m+T*-u+v*-p-x*-h,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});C.prototype.sub=C.prototype.subtract,C.prototype.mul=C.prototype.multiply,C.prototype.div=C.prototype.divide,C.prototype.dist=C.prototype.distance,C.prototype.distSq=C.prototype.distanceSq,C.prototype.len=C.prototype.length,C.prototype.lenSq=C.prototype.lengthSq,S.exports=C},60417:S=>{S.exports=function(a,y,C){return Math.abs(a-y)<=C}},15994:S=>{S.exports=function(a,y,C){var g=C-y;return y+((a-y)%g+g)%g}},31040:S=>{S.exports=function(a,y,C,g){return Math.atan2(g-y,C-a)}},55495:S=>{S.exports=function(a,y){return Math.atan2(y.y-a.y,y.x-a.x)}},128:S=>{S.exports=function(a,y){return Math.atan2(y.x-a.x,y.y-a.y)}},41273:S=>{S.exports=function(a,y,C,g){return Math.atan2(C-a,g-y)}},1432:(S,P,a)=>{var y=a(36383);S.exports=function(g){return g>Math.PI&&(g-=y.PI2),Math.abs(((g+y.TAU)%y.PI2-y.PI2)%y.PI2)}},12407:S=>{S.exports=function(a){return(a%=2*Math.PI)>=0?a:a+2*Math.PI}},53993:(S,P,a)=>{var y=a(99472);S.exports=function(){return y(-Math.PI,Math.PI)}},86564:(S,P,a)=>{var y=a(99472);S.exports=function(){return y(-180,180)}},90154:(S,P,a)=>{var y=a(12407);S.exports=function(g){return y(g+Math.PI)}},48736:(S,P,a)=>{var y=a(36383);S.exports=function(g,f,d){return void 0===d&&(d=.05),g===f||(Math.abs(f-g)<=d||Math.abs(f-g)>=y.PI2-d?g=f:(Math.abs(f-g)>Math.PI&&(f<g?f+=y.PI2:f-=y.PI2),f>g?g+=d:f<g&&(g-=d))),g}},61430:S=>{S.exports=function(a,y){var C=y-a;return 0===C?0:C-360*Math.floor((C- -180)/360)}},86554:(S,P,a)=>{var y=a(15994);S.exports=function(g){return y(g,-Math.PI,Math.PI)}},30954:(S,P,a)=>{var y=a(15994);S.exports=function(g){return y(g,-180,180)}},25588:(S,P,a)=>{S.exports={Between:a(31040),BetweenPoints:a(55495),BetweenPointsY:a(128),BetweenY:a(41273),CounterClockwise:a(1432),Normalize:a(12407),Random:a(53993),RandomDegrees:a(86564),Reverse:a(90154),RotateTo:a(48736),ShortestBetween:a(61430),Wrap:a(86554),WrapDegrees:a(30954)}},36383:S=>{var P={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};S.exports=P},20339:S=>{S.exports=function(a,y,C,g){var f=a-C,d=y-g;return Math.sqrt(f*f+d*d)}},52816:S=>{S.exports=function(a,y){var C=a.x-y.x,g=a.y-y.y;return Math.sqrt(C*C+g*g)}},64559:S=>{S.exports=function(a,y){var C=a.x-y.x,g=a.y-y.y;return C*C+g*g}},82340:S=>{S.exports=function(a,y,C,g){return Math.max(Math.abs(a-C),Math.abs(y-g))}},14390:S=>{S.exports=function(a,y,C,g,f){return void 0===f&&(f=2),Math.sqrt(Math.pow(C-a,f)+Math.pow(g-y,f))}},2243:S=>{S.exports=function(a,y,C,g){return Math.abs(a-C)+Math.abs(y-g)}},89774:S=>{S.exports=function(a,y,C,g){var f=a-C,d=y-g;return f*f+d*d}},50994:(S,P,a)=>{S.exports={Between:a(20339),BetweenPoints:a(52816),BetweenPointsSquared:a(64559),Chebyshev:a(82340),Power:a(14390),Snake:a(2243),Squared:a(89774)}},62640:(S,P,a)=>{var y=a(54178),C=a(41521),g=a(79980),f=a(85433),d=a(99140),c=a(48857),h=a(81596),p=a(59133),u=a(98516),m=a(35248),v=a(82500),x=a(49752);S.exports={Power0:h,Power1:p.Out,Power2:f.Out,Power3:u.Out,Power4:m.Out,Linear:h,Quad:p.Out,Cubic:f.Out,Quart:u.Out,Quint:m.Out,Sine:v.Out,Expo:c.Out,Circ:g.Out,Elastic:d.Out,Back:y.Out,Bounce:C.Out,Stepped:x,"Quad.easeIn":p.In,"Cubic.easeIn":f.In,"Quart.easeIn":u.In,"Quint.easeIn":m.In,"Sine.easeIn":v.In,"Expo.easeIn":c.In,"Circ.easeIn":g.In,"Elastic.easeIn":d.In,"Back.easeIn":y.In,"Bounce.easeIn":C.In,"Quad.easeOut":p.Out,"Cubic.easeOut":f.Out,"Quart.easeOut":u.Out,"Quint.easeOut":m.Out,"Sine.easeOut":v.Out,"Expo.easeOut":c.Out,"Circ.easeOut":g.Out,"Elastic.easeOut":d.Out,"Back.easeOut":y.Out,"Bounce.easeOut":C.Out,"Quad.easeInOut":p.InOut,"Cubic.easeInOut":f.InOut,"Quart.easeInOut":u.InOut,"Quint.easeInOut":m.InOut,"Sine.easeInOut":v.InOut,"Expo.easeInOut":c.InOut,"Circ.easeInOut":g.InOut,"Elastic.easeInOut":d.InOut,"Back.easeInOut":y.InOut,"Bounce.easeInOut":C.InOut}},1639:S=>{S.exports=function(a,y){return void 0===y&&(y=1.70158),a*a*((y+1)*a-y)}},50099:S=>{S.exports=function(a,y){void 0===y&&(y=1.70158);var C=1.525*y;return(a*=2)<1?a*a*((C+1)*a-C)*.5:.5*((a-=2)*a*((C+1)*a+C)+2)}},41286:S=>{S.exports=function(a,y){return void 0===y&&(y=1.70158),--a*a*((y+1)*a+y)+1}},54178:(S,P,a)=>{S.exports={In:a(1639),Out:a(41286),InOut:a(50099)}},59590:S=>{S.exports=function(a){return(a=1-a)<.36363636363636365?1-7.5625*a*a:a<.7272727272727273?1-(7.5625*(a-=.5454545454545454)*a+.75):a<.9090909090909091?1-(7.5625*(a-=.8181818181818182)*a+.9375):1-(7.5625*(a-=.9545454545454546)*a+.984375)}},41788:S=>{S.exports=function(a){var y=!1;return a<.5?(a=1-2*a,y=!0):a=2*a-1,a<.36363636363636365?a*=7.5625*a:a=a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375,y?.5*(1-a):.5*a+.5}},69905:S=>{S.exports=function(a){return a<.36363636363636365?7.5625*a*a:a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375}},41521:(S,P,a)=>{S.exports={In:a(59590),Out:a(69905),InOut:a(41788)}},91861:S=>{S.exports=function(a){return 1-Math.sqrt(1-a*a)}},4177:S=>{S.exports=function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},57512:S=>{S.exports=function(a){return Math.sqrt(1- --a*a)}},79980:(S,P,a)=>{S.exports={In:a(91861),Out:a(57512),InOut:a(4177)}},51150:S=>{S.exports=function(a){return a*a*a}},82820:S=>{S.exports=function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)}},35033:S=>{S.exports=function(a){return--a*a*a+1}},85433:(S,P,a)=>{S.exports={In:a(51150),Out:a(35033),InOut:a(82820)}},69965:S=>{S.exports=function(a,y,C){if(void 0===y&&(y=.1),void 0===C&&(C=.1),0===a)return 0;if(1===a)return 1;var g=C/4;return y<1?y=1:g=C*Math.asin(1/y)/(2*Math.PI),-y*Math.pow(2,10*(a-=1))*Math.sin((a-g)*(2*Math.PI)/C)}},50665:S=>{S.exports=function(a,y,C){if(void 0===y&&(y=.1),void 0===C&&(C=.1),0===a)return 0;if(1===a)return 1;var g=C/4;return y<1?y=1:g=C*Math.asin(1/y)/(2*Math.PI),(a*=2)<1?y*Math.pow(2,10*(a-=1))*Math.sin((a-g)*(2*Math.PI)/C)*-.5:y*Math.pow(2,-10*(a-=1))*Math.sin((a-g)*(2*Math.PI)/C)*.5+1}},7744:S=>{S.exports=function(a,y,C){if(void 0===y&&(y=.1),void 0===C&&(C=.1),0===a)return 0;if(1===a)return 1;var g=C/4;return y<1?y=1:g=C*Math.asin(1/y)/(2*Math.PI),y*Math.pow(2,-10*a)*Math.sin((a-g)*(2*Math.PI)/C)+1}},99140:(S,P,a)=>{S.exports={In:a(69965),Out:a(7744),InOut:a(50665)}},24590:S=>{S.exports=function(a){return Math.pow(2,10*(a-1))-.001}},87844:S=>{S.exports=function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))}},89433:S=>{S.exports=function(a){return 1-Math.pow(2,-10*a)}},48857:(S,P,a)=>{S.exports={In:a(24590),Out:a(89433),InOut:a(87844)}},48820:(S,P,a)=>{S.exports={Back:a(54178),Bounce:a(41521),Circular:a(79980),Cubic:a(85433),Elastic:a(99140),Expo:a(48857),Linear:a(81596),Quadratic:a(59133),Quartic:a(98516),Quintic:a(35248),Sine:a(82500),Stepped:a(49752)}},7147:S=>{S.exports=function(a){return a}},81596:(S,P,a)=>{S.exports=a(7147)},34826:S=>{S.exports=function(a){return a*a}},20544:S=>{S.exports=function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)}},92029:S=>{S.exports=function(a){return a*(2-a)}},59133:(S,P,a)=>{S.exports={In:a(34826),Out:a(92029),InOut:a(20544)}},64413:S=>{S.exports=function(a){return a*a*a*a}},78137:S=>{S.exports=function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},45840:S=>{S.exports=function(a){return 1- --a*a*a*a}},98516:(S,P,a)=>{S.exports={In:a(64413),Out:a(45840),InOut:a(78137)}},87745:S=>{S.exports=function(a){return a*a*a*a*a}},16509:S=>{S.exports=function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},17868:S=>{S.exports=function(a){return--a*a*a*a*a+1}},35248:(S,P,a)=>{S.exports={In:a(87745),Out:a(17868),InOut:a(16509)}},80461:S=>{S.exports=function(a){return 0===a?0:1===a?1:1-Math.cos(a*Math.PI/2)}},34025:S=>{S.exports=function(a){return 0===a?0:1===a?1:.5*(1-Math.cos(Math.PI*a))}},52768:S=>{S.exports=function(a){return 0===a?0:1===a?1:Math.sin(a*Math.PI/2)}},82500:(S,P,a)=>{S.exports={In:a(80461),Out:a(52768),InOut:a(34025)}},72251:S=>{S.exports=function(a,y){return void 0===y&&(y=1),a<=0?0:a>=1?1:1/y*(1+(y*a|0))}},49752:(S,P,a)=>{S.exports=a(72251)},75698:S=>{S.exports=function(a,y){return void 0===y&&(y=1e-4),Math.ceil(a-y)}},43855:S=>{S.exports=function(a,y,C){return void 0===C&&(C=1e-4),Math.abs(a-y)<C}},25777:S=>{S.exports=function(a,y){return void 0===y&&(y=1e-4),Math.floor(a+y)}},5470:S=>{S.exports=function(a,y,C){return void 0===C&&(C=1e-4),a>y-C}},94977:S=>{S.exports=function(a,y,C){return void 0===C&&(C=1e-4),a<y+C}},48379:(S,P,a)=>{S.exports={Ceil:a(75698),Equal:a(43855),Floor:a(25777),GreaterThan:a(5470),LessThan:a(94977)}},75508:(S,P,a)=>{var y=a(36383),C=a(79291),g={Angle:a(25588),Distance:a(50994),Easing:a(48820),Fuzzy:a(48379),Interpolation:a(38289),Pow2:a(49001),Snap:a(73697),RandomDataGenerator:a(28453),Average:a(53307),Bernstein:a(85710),Between:a(30976),CatmullRom:a(87842),CeilTo:a(26302),Clamp:a(45319),DegToRad:a(39506),Difference:a(61241),Euler:a(38857),Factorial:a(6411),FloatBetween:a(99472),FloorTo:a(77623),FromPercent:a(62945),GetSpeed:a(38265),IsEven:a(78702),IsEvenStrict:a(94883),Linear:a(28915),LinearXY:a(94908),MaxAdd:a(86883),Median:a(50040),MinSub:a(37204),Percent:a(65201),RadToDeg:a(43396),RandomXY:a(74362),RandomXYZ:a(60706),RandomXYZW:a(67421),Rotate:a(36305),RotateAround:a(11520),RotateAroundDistance:a(1163),RotateTo:a(70336),RoundAwayFromZero:a(2284),RoundTo:a(41013),SinCosTableGenerator:a(16922),SmootherStep:a(54261),SmoothStep:a(7602),ToXY:a(44408),TransformXY:a(85955),Within:a(60417),Wrap:a(15994),Vector2:a(26099),Vector3:a(25836),Vector4:a(61369),Matrix3:a(94434),Matrix4:a(37867),Quaternion:a(15746),RotateVec3:a(72678)};g=C(!1,g,y),S.exports=g},89318:(S,P,a)=>{var y=a(85710);S.exports=function(g,f){for(var d=0,c=g.length-1,h=0;h<=c;h++)d+=Math.pow(1-f,c-h)*Math.pow(f,h)*g[h]*y(c,h);return d}},77259:(S,P,a)=>{var y=a(87842);S.exports=function(g,f){var d=g.length-1,c=d*f,h=Math.floor(c);return g[0]===g[d]?(f<0&&(h=Math.floor(c=d*(1+f))),y(c-h,g[(h-1+d)%d],g[h],g[(h+1)%d],g[(h+2)%d])):f<0?g[0]-(y(-c,g[0],g[0],g[1],g[1])-g[0]):f>1?g[d]-(y(c-d,g[d],g[d],g[d-1],g[d-1])-g[d]):y(c-h,g[h?h-1:0],g[h],g[d<h+1?d:h+1],g[d<h+2?d:h+2])}},36316:S=>{S.exports=function(f,d,c,h,p){return function P(f,d){var c=1-f;return c*c*c*d}(f,d)+function a(f,d){var c=1-f;return 3*c*c*f*d}(f,c)+function y(f,d){return 3*(1-f)*f*f*d}(f,h)+function C(f,d){return f*f*f*d}(f,p)}},28392:(S,P,a)=>{var y=a(28915);S.exports=function(g,f){var d=g.length-1,c=d*f,h=Math.floor(c);return f<0?y(g[0],g[1],c):f>1?y(g[d],g[d-1],d-c):y(g[h],g[h+1>d?d:h+1],c-h)}},32112:S=>{S.exports=function(g,f,d,c){return function P(g,f){var d=1-g;return d*d*f}(g,f)+function a(g,f){return 2*(1-g)*g*f}(g,d)+function y(g,f){return g*g*f}(g,c)}},47235:(S,P,a)=>{var y=a(7602);S.exports=function(g,f,d){return f+(d-f)*y(g,0,1)}},50178:(S,P,a)=>{var y=a(54261);S.exports=function(g,f,d){return f+(d-f)*y(g,0,1)}},38289:(S,P,a)=>{S.exports={Bezier:a(89318),CatmullRom:a(77259),CubicBezier:a(36316),Linear:a(28392),QuadraticBezier:a(32112),SmoothStep:a(47235),SmootherStep:a(50178)}},98439:S=>{S.exports=function(a){var y=Math.log(a)/.6931471805599453;return 1<<Math.ceil(y)}},50030:S=>{S.exports=function(a,y){return a>0&&!(a&a-1)&&y>0&&!(y&y-1)}},81230:S=>{S.exports=function(a){return a>0&&!(a&a-1)}},49001:(S,P,a)=>{S.exports={GetNext:a(98439),IsSize:a(50030),IsValue:a(81230)}},28453:(S,P,a)=>{var C=new(a(83419))({initialize:function(f){void 0===f&&(f=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],f&&this.init(f)},rnd:function(){var g=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|g,this.s0=this.s1,this.s1=this.s2,this.s2=g-this.c,this.s2},hash:function(g){var f,d=this.n;g=g.toString();for(var c=0;c<g.length;c++)f=.02519603282416938*(d+=g.charCodeAt(c)),f-=d=f>>>0,d=(f*=d)>>>0,d+=4294967296*(f-=d);return this.n=d,2.3283064365386963e-10*(d>>>0)},init:function(g){"string"==typeof g?this.state(g):this.sow(g)},sow:function(g){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,g)for(var f=0;f<g.length&&null!=g[f];f++){var d=g[f];this.s0-=this.hash(d),this.s0+=~~(this.s0<0),this.s1-=this.hash(d),this.s1+=~~(this.s1<0),this.s2-=this.hash(d),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(g,f){return Math.floor(this.realInRange(0,f-g+1)+g)},between:function(g,f){return Math.floor(this.realInRange(0,f-g+1)+g)},realInRange:function(g,f){return this.frac()*(f-g)+g},normal:function(){return 1-2*this.frac()},uuid:function(){var g="",f="";for(f=g="";g++<36;f+=~g%5|3*g&4?(15^g?8^this.frac()*(20^g?16:4):4).toString(16):"-");return f},pick:function(g){return g[this.integerInRange(0,g.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(g){return g[~~(Math.pow(this.frac(),2)*(g.length-.5)+.5)]},timestamp:function(g,f){return this.realInRange(g||9466848e5,f||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(g){return"string"==typeof g&&g.match(/^!rnd/)&&(g=g.split(","),this.c=parseFloat(g[1]),this.s0=parseFloat(g[2]),this.s1=parseFloat(g[3]),this.s2=parseFloat(g[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(g){for(var d=g.length-1;d>0;d--){var c=Math.floor(this.frac()*(d+1)),h=g[c];g[c]=g[d],g[d]=h}return g}});S.exports=C},63448:S=>{S.exports=function(a,y,C,g){return void 0===C&&(C=0),0===y?a:(a-=C,a=y*Math.ceil(a/y),g?(C+a)/y:C+a)}},56583:S=>{S.exports=function(a,y,C,g){return void 0===C&&(C=0),0===y?a:(a-=C,a=y*Math.floor(a/y),g?(C+a)/y:C+a)}},77720:S=>{S.exports=function(a,y,C,g){return void 0===C&&(C=0),0===y?a:(a-=C,a=y*Math.round(a/y),g?(C+a)/y:C+a)}},73697:(S,P,a)=>{S.exports={Ceil:a(63448),Floor:a(56583),To:a(77720)}},85454:(S,P,a)=>{a(63595);var y=a(8054),C=a(79291),g={Actions:a(61061),Animations:a(60421),BlendModes:a(10312),Cache:a(83388),Cameras:a(26638),Core:a(42857),Class:a(83419),Create:a(15822),Curves:a(25410),Data:a(44965),Display:a(27460),DOM:a(84902),Events:a(93055),FX:a(66064),Game:a(50127),GameObjects:a(77856),Geom:a(55738),Input:a(14350),Loader:a(57777),Math:a(75508),Physics:a(44563),Plugins:a(18922),Renderer:a(36909),Scale:a(93364),ScaleModes:a(29795),Scene:a(97482),Scenes:a(62194),Structs:a(41392),Textures:a(27458),Tilemaps:a(62501),Time:a(90291),Tweens:a(43066),Utils:a(91799)};g.Sound=a(23717),g=C(!1,g,y),S.exports=g,a.g.Phaser=g},71289:(S,P,a)=>{var y=a(83419),C=a(92209),g=a(88571),f=new y({Extends:g,Mixins:[C.Acceleration,C.Angular,C.Bounce,C.Collision,C.Debug,C.Drag,C.Enable,C.Friction,C.Gravity,C.Immovable,C.Mass,C.Pushable,C.Size,C.Velocity],initialize:function(c,h,p,u,m){g.call(this,c,h,p,u,m),this.body=null}});S.exports=f},86689:(S,P,a)=>{var y=a(83419),C=a(39506),g=a(20339),f=a(89774),d=a(66022),c=a(95540),h=a(46975),p=a(72441),u=a(47956),m=a(37277),v=a(44594),x=a(26099),b=a(82248),T=new y({initialize:function(A){this.scene=A,this.systems=A.sys,this.config=this.getConfig(),this._category=1,A.sys.events.once(v.BOOT,this.boot,this),A.sys.events.on(v.START,this.start,this)},boot:function(){this.world=new b(this.scene,this.config),this.add=new d(this.world),this.systems.events.once(v.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new b(this.scene,this.config),this.add=new d(this.world));var _=this.systems.events;c(this.config,"customUpdate",!1)||_.on(v.UPDATE,this.world.update,this.world),_.on(v.POST_UPDATE,this.world.postUpdate,this.world),_.once(v.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(v.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(v.UPDATE,this.world.update,this.world)},getConfig:function(){var _=this.systems.game.config.physics;return h(c(this.systems.settings.physics,"arcade",{}),c(_,"arcade",{}))},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(_,A,M,I,R){return void 0===M&&(M=null),void 0===I&&(I=null),void 0===R&&(R=M),this.world.collideObjects(_,A,M,I,R,!0)},collide:function(_,A,M,I,R){return void 0===M&&(M=null),void 0===I&&(I=null),void 0===R&&(R=M),this.world.collideObjects(_,A,M,I,R,!1)},collideTiles:function(_,A,M,I,R){return this.world.collideTiles(_,A,M,I,R)},overlapTiles:function(_,A,M,I,R){return this.world.overlapTiles(_,A,M,I,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(_,A,M,I,R,F){void 0===I&&(I=60);var N=Math.atan2(M-_.y,A-_.x);return _.body.acceleration.setToPolar(N,I),void 0!==R&&void 0!==F&&_.body.maxVelocity.set(R,F),N},accelerateToObject:function(_,A,M,I,R){return this.accelerateTo(_,A.x,A.y,M,I,R)},closest:function(_,A){A||(A=this.world.bodies.entries);for(var M=Number.MAX_VALUE,I=null,R=_.x,F=_.y,N=A.length,V=0;V<N;V++){var B=A[V],G=B.body||B;if(_!==B&&_!==G&&_!==G.gameObject&&_!==G.center){var Q=f(R,F,G.center.x,G.center.y);Q<M&&(I=B,M=Q)}}return I},furthest:function(_,A){A||(A=this.world.bodies.entries);for(var M=-1,I=null,R=_.x,F=_.y,N=A.length,V=0;V<N;V++){var B=A[V],G=B.body||B;if(_!==B&&_!==G&&_!==G.gameObject&&_!==G.center){var Q=f(R,F,G.center.x,G.center.y);Q>M&&(I=B,M=Q)}}return I},moveTo:function(_,A,M,I,R){void 0===I&&(I=60),void 0===R&&(R=0);var F=Math.atan2(M-_.y,A-_.x);return R>0&&(I=g(_.x,_.y,A,M)/(R/1e3)),_.body.velocity.setToPolar(F,I),F},moveToObject:function(_,A,M,I){return this.moveTo(_,A.x,A.y,M,I)},velocityFromAngle:function(_,A,M){return void 0===A&&(A=60),void 0===M&&(M=new x),M.setToPolar(C(_),A)},velocityFromRotation:function(_,A,M){return void 0===A&&(A=60),void 0===M&&(M=new x),M.setToPolar(_,A)},overlapRect:function(_,A,M,I,R,F){return u(this.world,_,A,M,I,R,F)},overlapCirc:function(_,A,M,I,R){return p(this.world,_,A,M,I,R)},shutdown:function(){if(this.world){var _=this.systems.events;_.off(v.UPDATE,this.world.update,this.world),_.off(v.POST_UPDATE,this.world.postUpdate,this.world),_.off(v.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(v.START,this.start,this),this.scene=null,this.systems=null}});m.register("ArcadePhysics",T,"arcadePhysics"),S.exports=T},13759:(S,P,a)=>{var y=a(83419),C=a(92209),g=a(68287),f=new y({Extends:g,Mixins:[C.Acceleration,C.Angular,C.Bounce,C.Collision,C.Debug,C.Drag,C.Enable,C.Friction,C.Gravity,C.Immovable,C.Mass,C.Pushable,C.Size,C.Velocity],initialize:function(c,h,p,u,m){g.call(this,c,h,p,u,m),this.body=null}});S.exports=f},37742:(S,P,a)=>{var y=a(83419),C=a(78389),g=a(37747),f=a(63012),d=a(43396),c=a(87841),h=a(37303),p=a(95829),u=a(26099),m=new y({Mixins:[C],initialize:function(x,b){var T=64,_=64,M=void 0!==b;M&&b.displayWidth&&(T=b.displayWidth,_=b.displayHeight),M||(b={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=x,this.gameObject=M?b:void 0,this.isBody=!0,this.transform={x:b.x,y:b.y,rotation:b.angle,scaleX:b.scaleX,scaleY:b.scaleY,displayOriginX:b.displayOriginX,displayOriginY:b.displayOriginY},this.debugShowBody=x.defaults.debugShowBody,this.debugShowVelocity=x.defaults.debugShowVelocity,this.debugBodyColor=x.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(b.x-b.scaleX*b.displayOriginX,b.y-b.scaleY*b.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=b.angle,this.preRotation=b.angle,this.width=T,this.height=_,this.sourceWidth=T,this.sourceHeight=_,b.frame&&(this.sourceWidth=b.frame.realWidth,this.sourceHeight=b.frame.realHeight),this.halfWidth=Math.abs(T/2),this.halfHeight=Math.abs(_/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new u,this.newVelocity=new u,this.deltaMax=new u,this.acceleration=new u,this.allowDrag=!0,this.drag=new u,this.allowGravity=!0,this.gravity=new u,this.bounce=new u,this.worldBounce=null,this.customBoundsRectangle=x.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new u(1e4,1e4),this.maxSpeed=-1,this.friction=new u(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=g.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new u(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=p(!1),this.touching=p(!0),this.wasTouching=p(!0),this.blocked=p(!0),this.syncBounds=!1,this.physicsType=g.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=b.scaleX,this._sy=b.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new c,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var v=this.gameObject,x=this.transform;if(v.parentContainer){var b=v.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);x.x=b.tx,x.y=b.ty,x.rotation=d(b.rotation),x.scaleX=b.scaleX,x.scaleY=b.scaleY,x.displayOriginX=v.displayOriginX,x.displayOriginY=v.displayOriginY}else x.x=v.x,x.y=v.y,x.rotation=v.angle,x.scaleX=v.scaleX,x.scaleY=v.scaleY,x.displayOriginX=v.displayOriginX,x.displayOriginY=v.displayOriginY;var T=!1;if(this.syncBounds){var _=v.getBounds(this._bounds);this.width=_.width,this.height=_.height,T=!0}else{var A=Math.abs(x.scaleX),M=Math.abs(x.scaleY);(this._sx!==A||this._sy!==M)&&(this.width=this.sourceWidth*A,this.height=this.sourceHeight*M,this._sx=A,this._sy=M,T=!0)}T&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var v=this.transform;this.position.x=v.x+v.scaleX*(this.offset.x-v.displayOriginX),this.position.y=v.y+v.scaleY*(this.offset.y-v.displayOriginY),this.updateCenter()},resetFlags:function(v){void 0===v&&(v=!1);var x=this.wasTouching,b=this.touching,T=this.blocked;v?p(!0,x):(x.none=b.none,x.up=b.up,x.down=b.down,x.left=b.left,x.right=b.right),p(!0,b),p(!0,T),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(v,x){if(v&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var b=this.position;this.prev.x=b.x,this.prev.y=b.y,this.prevFrame.x=b.x,this.prevFrame.y=b.y}v&&this.update(x)},update:function(v){var x=this.prev,b=this.position,T=this.velocity;if(x.set(b.x,b.y),!this.moves)return this._dx=b.x-x.x,void(this._dy=b.y-x.y);if(this.directControl){var _=this.autoFrame;T.set((b.x-_.x)/v,(b.y-_.y)/v),this.world.updateMotion(this,v),this._dx=b.x-_.x,this._dy=b.y-_.y}else this.world.updateMotion(this,v),this.newVelocity.set(T.x*v,T.y*v),b.add(this.newVelocity),this._dx=b.x-x.x,this._dy=b.y-x.y;var A=T.x,M=T.y;if(this.updateCenter(),this.angle=Math.atan2(M,A),this.speed=Math.sqrt(A*A+M*M),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var I=this.blocked;this.world.emit(f.WORLD_BOUNDS,this,I.up,I.down,I.left,I.right)}},postUpdate:function(){var v=this.position,x=v.x-this.prevFrame.x,b=v.y-this.prevFrame.y,T=this.gameObject;if(this.moves){var _=this.deltaMax.x,A=this.deltaMax.y;0!==_&&0!==x&&(x<0&&x<-_?x=-_:x>0&&x>_&&(x=_)),0!==A&&0!==b&&(b<0&&b<-A?b=-A:b>0&&b>A&&(b=A)),T&&(T.x+=x,T.y+=b)}x<0?this.facing=g.FACING_LEFT:x>0&&(this.facing=g.FACING_RIGHT),b<0?this.facing=g.FACING_UP:b>0&&(this.facing=g.FACING_DOWN),this.allowRotation&&T&&(T.angle+=this.deltaZ()),this._tx=x,this._ty=b,this.autoFrame.set(v.x,v.y)},setBoundsRectangle:function(v){return this.customBoundsRectangle=v||this.world.bounds,this},checkWorldBounds:function(){var v=this.position,x=this.velocity,b=this.blocked,T=this.customBoundsRectangle,_=this.world.checkCollision,A=this.worldBounce?-this.worldBounce.x:-this.bounce.x,M=this.worldBounce?-this.worldBounce.y:-this.bounce.y,I=!1;return v.x<T.x&&_.left?(v.x=T.x,x.x*=A,b.left=!0,I=!0):this.right>T.right&&_.right&&(v.x=T.right-this.width,x.x*=A,b.right=!0,I=!0),v.y<T.y&&_.up?(v.y=T.y,x.y*=M,b.up=!0,I=!0):this.bottom>T.bottom&&_.down&&(v.y=T.bottom-this.height,x.y*=M,b.down=!0,I=!0),I&&(this.blocked.none=!1,this.updateCenter()),I},setOffset:function(v,x){return void 0===x&&(x=v),this.offset.set(v,x),this},setGameObject:function(v,x){return void 0===x&&(x=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=v,v.body&&(v.body=this),this.setSize(),this.world.add(this),this.enable=x,this},setSize:function(v,x,b){void 0===b&&(b=!0);var T=this.gameObject;return T&&(!v&&T.frame&&(v=T.frame.realWidth),!x&&T.frame&&(x=T.frame.realHeight)),this.sourceWidth=v,this.sourceHeight=x,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),b&&T&&T.getCenter&&this.offset.set((T.width-v)/2,(T.height-x)/2),this.isCircle=!1,this.radius=0,this},setCircle:function(v,x,b){return void 0===x&&(x=this.offset.x),void 0===b&&(b=this.offset.y),v>0?(this.isCircle=!0,this.radius=v,this.sourceWidth=2*v,this.sourceHeight=2*v,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(x,b),this.updateCenter()):this.isCircle=!1,this},reset:function(v,x){this.stop();var b=this.gameObject;b&&(b.setPosition(v,x),this.rotation=b.angle,this.preRotation=b.angle);var T=this.position;b&&b.getTopLeft?b.getTopLeft(T):T.set(v,x),this.prev.copy(T),this.prevFrame.copy(T),this.autoFrame.copy(T),b&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(v){return v.x=this.x,v.y=this.y,v.right=this.right,v.bottom=this.bottom,v},hitTest:function(v,x){return this.isCircle?this.radius>0&&v>=this.left&&v<=this.right&&x>=this.top&&x<=this.bottom&&(this.center.x-v)*(this.center.x-v)+(this.center.y-x)*(this.center.y-x)<=this.radius*this.radius:h(this,v,x)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(v){var x=this.position,b=x.x+this.halfWidth,T=x.y+this.halfHeight;this.debugShowBody&&(v.lineStyle(v.defaultStrokeWidth,this.debugBodyColor),this.isCircle?v.strokeCircle(b,T,this.width/2):(this.checkCollision.up&&v.lineBetween(x.x,x.y,x.x+this.width,x.y),this.checkCollision.right&&v.lineBetween(x.x+this.width,x.y,x.x+this.width,x.y+this.height),this.checkCollision.down&&v.lineBetween(x.x,x.y+this.height,x.x+this.width,x.y+this.height),this.checkCollision.left&&v.lineBetween(x.x,x.y,x.x,x.y+this.height))),this.debugShowVelocity&&(v.lineStyle(v.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),v.lineBetween(b,T,b+this.velocity.x/2,T+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(v){return void 0===v&&(v=!0),this.directControl=v,this},setCollideWorldBounds:function(v,x,b,T){void 0===v&&(v=!0),this.collideWorldBounds=v;var _=void 0!==x,A=void 0!==b;return(_||A)&&(this.worldBounce||(this.worldBounce=new u),_&&(this.worldBounce.x=x),A&&(this.worldBounce.y=b)),void 0!==T&&(this.onWorldBounds=T),this},setVelocity:function(v,x){return this.velocity.set(v,x),v=this.velocity.x,x=this.velocity.y,this.speed=Math.sqrt(v*v+x*x),this},setVelocityX:function(v){return this.setVelocity(v,this.velocity.y)},setVelocityY:function(v){return this.setVelocity(this.velocity.x,v)},setMaxVelocity:function(v,x){return this.maxVelocity.set(v,x),this},setMaxVelocityX:function(v){return this.maxVelocity.x=v,this},setMaxVelocityY:function(v){return this.maxVelocity.y=v,this},setMaxSpeed:function(v){return this.maxSpeed=v,this},setSlideFactor:function(v,x){return this.slideFactor.set(v,x),this},setBounce:function(v,x){return this.bounce.set(v,x),this},setBounceX:function(v){return this.bounce.x=v,this},setBounceY:function(v){return this.bounce.y=v,this},setAcceleration:function(v,x){return this.acceleration.set(v,x),this},setAccelerationX:function(v){return this.acceleration.x=v,this},setAccelerationY:function(v){return this.acceleration.y=v,this},setAllowDrag:function(v){return void 0===v&&(v=!0),this.allowDrag=v,this},setAllowGravity:function(v){return void 0===v&&(v=!0),this.allowGravity=v,this},setAllowRotation:function(v){return void 0===v&&(v=!0),this.allowRotation=v,this},setDrag:function(v,x){return this.drag.set(v,x),this},setDamping:function(v){return this.useDamping=v,this},setDragX:function(v){return this.drag.x=v,this},setDragY:function(v){return this.drag.y=v,this},setGravity:function(v,x){return this.gravity.set(v,x),this},setGravityX:function(v){return this.gravity.x=v,this},setGravityY:function(v){return this.gravity.y=v,this},setFriction:function(v,x){return this.friction.set(v,x),this},setFrictionX:function(v){return this.friction.x=v,this},setFrictionY:function(v){return this.friction.y=v,this},setAngularVelocity:function(v){return this.angularVelocity=v,this},setAngularAcceleration:function(v){return this.angularAcceleration=v,this},setAngularDrag:function(v){return this.angularDrag=v,this},setMass:function(v){return this.mass=v,this},setImmovable:function(v){return void 0===v&&(v=!0),this.immovable=v,this},setEnable:function(v){return void 0===v&&(v=!0),this.enable=v,this},processX:function(v,x,b,T){this.x+=v,this.updateCenter(),null!==x&&(this.velocity.x=x*this.slideFactor.x);var _=this.blocked;b&&(_.left=!0,_.none=!1),T&&(_.right=!0,_.none=!1)},processY:function(v,x,b,T){this.y+=v,this.updateCenter(),null!==x&&(this.velocity.y=x*this.slideFactor.y);var _=this.blocked;b&&(_.up=!0,_.none=!1),T&&(_.down=!0,_.none=!1)},x:{get:function(){return this.position.x},set:function(v){this.position.x=v}},y:{get:function(){return this.position.y},set:function(v){this.position.y=v}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});S.exports=m},79342:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c,h,p,u,m){this.world=f,this.name="",this.active=!0,this.overlapOnly=d,this.object1=c,this.object2=h,this.collideCallback=p,this.processCallback=u,this.callbackContext=m},setName:function(g){return this.name=g,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});S.exports=C},66022:(S,P,a)=>{var y=a(71289),C=a(13759),g=a(37742),f=a(83419),d=a(37747),c=a(60758),h=a(72624),p=a(71464),u=new f({initialize:function(v){this.world=v,this.scene=v.scene,this.sys=v.scene.sys},collider:function(m,v,x,b,T){return this.world.addCollider(m,v,x,b,T)},overlap:function(m,v,x,b,T){return this.world.addOverlap(m,v,x,b,T)},existing:function(m,v){return this.world.enableBody(m,v?d.STATIC_BODY:d.DYNAMIC_BODY),m},staticImage:function(m,v,x,b){var T=new y(this.scene,m,v,x,b);return this.sys.displayList.add(T),this.world.enableBody(T,d.STATIC_BODY),T},image:function(m,v,x,b){var T=new y(this.scene,m,v,x,b);return this.sys.displayList.add(T),this.world.enableBody(T,d.DYNAMIC_BODY),T},staticSprite:function(m,v,x,b){var T=new C(this.scene,m,v,x,b);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,d.STATIC_BODY),T},sprite:function(m,v,x,b){var T=new C(this.scene,m,v,x,b);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,d.DYNAMIC_BODY),T},staticGroup:function(m,v){return this.sys.updateList.add(new p(this.world,this.world.scene,m,v))},group:function(m,v){return this.sys.updateList.add(new c(this.world,this.world.scene,m,v))},body:function(m,v,x,b){var T=new g(this.world);return T.position.set(m,v),x&&b&&T.setSize(x,b),this.world.add(T,d.DYNAMIC_BODY),T},staticBody:function(m,v,x,b){var T=new h(this.world);return T.position.set(m,v),x&&b&&T.setSize(x,b),this.world.add(T,d.STATIC_BODY),T},destroy:function(){this.world=null,this.scene=null,this.sys=null}});S.exports=u},79599:S=>{S.exports=function(a){var y=0;if(Array.isArray(a))for(var C=0;C<a.length;C++)y|=a[C];else y=a;return y}},64897:(S,P,a)=>{var y=a(37747);S.exports=function(g,f,d,c){var h=0,p=g.deltaAbsX()+f.deltaAbsX()+c;return 0===g._dx&&0===f._dx?(g.embedded=!0,f.embedded=!0):g._dx>f._dx?(h=g.right-f.x)>p&&!d||!1===g.checkCollision.right||!1===f.checkCollision.left?h=0:(g.touching.none=!1,g.touching.right=!0,f.touching.none=!1,f.touching.left=!0,f.physicsType===y.STATIC_BODY&&!d&&(g.blocked.none=!1,g.blocked.right=!0),g.physicsType===y.STATIC_BODY&&!d&&(f.blocked.none=!1,f.blocked.left=!0)):g._dx<f._dx&&(-(h=g.x-f.width-f.x)>p&&!d||!1===g.checkCollision.left||!1===f.checkCollision.right?h=0:(g.touching.none=!1,g.touching.left=!0,f.touching.none=!1,f.touching.right=!0,f.physicsType===y.STATIC_BODY&&!d&&(g.blocked.none=!1,g.blocked.left=!0),g.physicsType===y.STATIC_BODY&&!d&&(f.blocked.none=!1,f.blocked.right=!0))),g.overlapX=h,f.overlapX=h,h}},45170:(S,P,a)=>{var y=a(37747);S.exports=function(g,f,d,c){var h=0,p=g.deltaAbsY()+f.deltaAbsY()+c;return 0===g._dy&&0===f._dy?(g.embedded=!0,f.embedded=!0):g._dy>f._dy?(h=g.bottom-f.y)>p&&!d||!1===g.checkCollision.down||!1===f.checkCollision.up?h=0:(g.touching.none=!1,g.touching.down=!0,f.touching.none=!1,f.touching.up=!0,f.physicsType===y.STATIC_BODY&&!d&&(g.blocked.none=!1,g.blocked.down=!0),g.physicsType===y.STATIC_BODY&&!d&&(f.blocked.none=!1,f.blocked.up=!0)):g._dy<f._dy&&(-(h=g.y-f.bottom)>p&&!d||!1===g.checkCollision.up||!1===f.checkCollision.down?h=0:(g.touching.none=!1,g.touching.up=!0,f.touching.none=!1,f.touching.down=!0,f.physicsType===y.STATIC_BODY&&!d&&(g.blocked.none=!1,g.blocked.up=!0),g.physicsType===y.STATIC_BODY&&!d&&(f.blocked.none=!1,f.blocked.down=!0))),g.overlapY=h,f.overlapY=h,h}},60758:(S,P,a)=>{var y=a(13759),C=a(83419),g=a(78389),f=a(37747),d=a(95540),c=a(26479),h=a(41212),p=new C({Extends:c,Mixins:[g],initialize:function(m,v,x,b){if(x||b)if(h(x))b=x,x=null,b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(x)&&h(x[0])){var T=this;x.forEach(function(_){_.internalCreateCallback=T.createCallbackHandler,_.internalRemoveCallback=T.removeCallbackHandler,_.classType=d(_,"classType",y)}),b=null}else b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=m,b&&(b.classType=d(b,"classType",y)),this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:d(b,"collideWorldBounds",!1),setBoundsRectangle:d(b,"customBoundsRectangle",null),setAccelerationX:d(b,"accelerationX",0),setAccelerationY:d(b,"accelerationY",0),setAllowDrag:d(b,"allowDrag",!0),setAllowGravity:d(b,"allowGravity",!0),setAllowRotation:d(b,"allowRotation",!0),setDamping:d(b,"useDamping",!1),setBounceX:d(b,"bounceX",0),setBounceY:d(b,"bounceY",0),setDragX:d(b,"dragX",0),setDragY:d(b,"dragY",0),setEnable:d(b,"enable",!0),setGravityX:d(b,"gravityX",0),setGravityY:d(b,"gravityY",0),setFrictionX:d(b,"frictionX",0),setFrictionY:d(b,"frictionY",0),setMaxSpeed:d(b,"maxSpeed",-1),setMaxVelocityX:d(b,"maxVelocityX",1e4),setMaxVelocityY:d(b,"maxVelocityY",1e4),setVelocityX:d(b,"velocityX",0),setVelocityY:d(b,"velocityY",0),setAngularVelocity:d(b,"angularVelocity",0),setAngularAcceleration:d(b,"angularAcceleration",0),setAngularDrag:d(b,"angularDrag",0),setMass:d(b,"mass",1),setImmovable:d(b,"immovable",!1)},c.call(this,v,x,b),this.type="PhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,f.DYNAMIC_BODY);var m=u.body;for(var v in this.defaults)m[v](this.defaults[v])},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},setVelocity:function(u,m,v){void 0===v&&(v=0);for(var x=this.getChildren(),b=0;b<x.length;b++)x[b].body.velocity.set(u+b*v,m+b*v);return this},setVelocityX:function(u,m){void 0===m&&(m=0);for(var v=this.getChildren(),x=0;x<v.length;x++)v[x].body.velocity.x=u+x*m;return this},setVelocityY:function(u,m){void 0===m&&(m=0);for(var v=this.getChildren(),x=0;x<v.length;x++)v[x].body.velocity.y=u+x*m;return this}});S.exports=p},3017:S=>{var P,a,y,C,g,f,d,c,h,p,u,m,v,x,b,T,_,M=function(){return p&&b&&a.blocked.right?(P.processX(-_,d,!1,!0),1):h&&T&&a.blocked.left?(P.processX(_,d,!0),1):v&&T&&P.blocked.right?(a.processX(-_,c,!1,!0),2):m&&b&&P.blocked.left?(a.processX(_,c,!0),2):0},R=function(V){if(y&&C)_*=.5,0===V||3===V?(P.processX(_,g),a.processX(-_,f)):(P.processX(-_,g),a.processX(_,f));else if(y&&!C)0===V||3===V?P.processX(_,d,!0):P.processX(-_,d,!1,!0);else if(!y&&C)0===V||3===V?a.processX(-_,c,!1,!0):a.processX(_,c,!0);else{var B=.5*_;0===V?x?(P.processX(_,0,!0),a.processX(0,null,!1,!0)):v?(P.processX(B,0,!0),a.processX(-B,0,!1,!0)):(P.processX(B,a.velocity.x,!0),a.processX(-B,null,!1,!0)):1===V?u?(P.processX(0,null,!1,!0),a.processX(_,0,!0)):p?(P.processX(-B,0,!1,!0),a.processX(B,0,!0)):(P.processX(-B,null,!1,!0),a.processX(B,P.velocity.x,!0)):2===V?x?(P.processX(-_,0,!1,!0),a.processX(0,null,!0)):m?(P.processX(-B,0,!1,!0),a.processX(B,0,!0)):(P.processX(-B,a.velocity.x,!1,!0),a.processX(B,null,!0)):3===V&&(u?(P.processX(0,null,!0),a.processX(-_,0,!1,!0)):h?(P.processX(B,0,!0),a.processX(-B,0,!1,!0)):(P.processX(B,a.velocity.y,!0),a.processX(-B,null,!1,!0)))}return!0};S.exports={BlockCheck:M,Check:function(){var V=P.velocity.x,B=a.velocity.x,G=Math.sqrt(B*B*a.mass/P.mass)*(B>0?1:-1),Q=Math.sqrt(V*V*P.mass/a.mass)*(V>0?1:-1),H=.5*(G+Q);return g=H+(G-=H)*P.bounce.x,f=H+(Q-=H)*a.bounce.x,h&&T?R(0):m&&b?R(1):p&&b?R(2):!(!v||!T)&&R(3)},Set:function(V,B,G){var Q=(P=V).velocity.x,H=(a=B).velocity.x;return y=P.pushable,h=P._dx<0,p=P._dx>0,u=0===P._dx,b=Math.abs(P.right-a.x)<=Math.abs(a.right-P.x),d=H-Q*P.bounce.x,C=a.pushable,m=a._dx<0,v=a._dx>0,x=0===a._dx,T=!b,c=Q-H*a.bounce.x,_=Math.abs(G),M()},Run:R,RunImmovableBody1:function(V){1===V?a.velocity.x=0:b?a.processX(_,c,!0):a.processX(-_,c,!1,!0),P.moves&&(a.y+=(P.directControl?P.y-P.autoFrame.y:P.y-P.prev.y)*P.friction.y,a._dy=a.y-a.prev.y)},RunImmovableBody2:function(V){2===V?P.velocity.x=0:T?P.processX(_,d,!0):P.processX(-_,d,!1,!0),a.moves&&(P.y+=(a.directControl?a.y-a.autoFrame.y:a.y-a.prev.y)*a.friction.y,P._dy=P.y-P.prev.y)}}},47962:S=>{var P,a,y,C,g,f,d,c,h,p,u,m,v,x,b,T,_,M=function(){return p&&b&&a.blocked.down?(P.processY(-_,d,!1,!0),1):h&&T&&a.blocked.up?(P.processY(_,d,!0),1):v&&T&&P.blocked.down?(a.processY(-_,c,!1,!0),2):m&&b&&P.blocked.up?(a.processY(_,c,!0),2):0},R=function(V){if(y&&C)_*=.5,0===V||3===V?(P.processY(_,g),a.processY(-_,f)):(P.processY(-_,g),a.processY(_,f));else if(y&&!C)0===V||3===V?P.processY(_,d,!0):P.processY(-_,d,!1,!0);else if(!y&&C)0===V||3===V?a.processY(-_,c,!1,!0):a.processY(_,c,!0);else{var B=.5*_;0===V?x?(P.processY(_,0,!0),a.processY(0,null,!1,!0)):v?(P.processY(B,0,!0),a.processY(-B,0,!1,!0)):(P.processY(B,a.velocity.y,!0),a.processY(-B,null,!1,!0)):1===V?u?(P.processY(0,null,!1,!0),a.processY(_,0,!0)):p?(P.processY(-B,0,!1,!0),a.processY(B,0,!0)):(P.processY(-B,null,!1,!0),a.processY(B,P.velocity.y,!0)):2===V?x?(P.processY(-_,0,!1,!0),a.processY(0,null,!0)):m?(P.processY(-B,0,!1,!0),a.processY(B,0,!0)):(P.processY(-B,a.velocity.y,!1,!0),a.processY(B,null,!0)):3===V&&(u?(P.processY(0,null,!0),a.processY(-_,0,!1,!0)):h?(P.processY(B,0,!0),a.processY(-B,0,!1,!0)):(P.processY(B,a.velocity.y,!0),a.processY(-B,null,!1,!0)))}return!0};S.exports={BlockCheck:M,Check:function(){var V=P.velocity.y,B=a.velocity.y,G=Math.sqrt(B*B*a.mass/P.mass)*(B>0?1:-1),Q=Math.sqrt(V*V*P.mass/a.mass)*(V>0?1:-1),H=.5*(G+Q);return g=H+(G-=H)*P.bounce.y,f=H+(Q-=H)*a.bounce.y,h&&T?R(0):m&&b?R(1):p&&b?R(2):!(!v||!T)&&R(3)},Set:function(V,B,G){var Q=(P=V).velocity.y,H=(a=B).velocity.y;return y=P.pushable,h=P._dy<0,p=P._dy>0,u=0===P._dy,b=Math.abs(P.bottom-a.y)<=Math.abs(a.bottom-P.y),d=H-Q*P.bounce.y,C=a.pushable,m=a._dy<0,v=a._dy>0,x=0===a._dy,T=!b,c=Q-H*a.bounce.y,_=Math.abs(G),M()},Run:R,RunImmovableBody1:function(V){1===V?a.velocity.y=0:b?a.processY(_,c,!0):a.processY(-_,c,!1,!0),P.moves&&(a.x+=(P.directControl?P.x-P.autoFrame.x:P.x-P.prev.x)*P.friction.x,a._dx=a.x-a.prev.x)},RunImmovableBody2:function(V){2===V?P.velocity.y=0:T?P.processY(_,d,!0):P.processY(-_,d,!1,!0),a.moves&&(P.x+=(a.directControl?a.x-a.autoFrame.x:a.x-a.prev.x)*a.friction.x,P._dx=P.x-P.prev.x)}}},14087:(S,P,a)=>{var y=a(64897),C=a(3017);S.exports=function(f,d,c,h,p){void 0===p&&(p=y(f,d,c,h));var u=f.immovable,m=d.immovable;if(c||0===p||u&&m||f.customSeparateX||d.customSeparateX)return 0!==p||f.embedded&&d.embedded;var v=C.Set(f,d,p);return u||m?(u?C.RunImmovableBody1(v):m&&C.RunImmovableBody2(v),!0):v>0||C.Check()}},89936:(S,P,a)=>{var y=a(45170),C=a(47962);S.exports=function(f,d,c,h,p){void 0===p&&(p=y(f,d,c,h));var u=f.immovable,m=d.immovable;if(c||0===p||u&&m||f.customSeparateY||d.customSeparateY)return 0!==p||f.embedded&&d.embedded;var v=C.Set(f,d,p);return u||m?(u?C.RunImmovableBody1(v):m&&C.RunImmovableBody2(v),!0):v>0||C.Check()}},95829:S=>{S.exports=function(a,y){return void 0===y&&(y={}),y.none=a,y.up=!1,y.down=!1,y.left=!1,y.right=!1,a||(y.up=!0,y.down=!0,y.left=!0,y.right=!0),y}},72624:(S,P,a)=>{var y=a(87902),C=a(83419),g=a(78389),f=a(37747),d=a(37303),c=a(95829),h=a(26099),p=new C({Mixins:[g],initialize:function(m,v){var x=64,b=64,_=void 0!==v;_&&v.displayWidth&&(x=v.displayWidth,b=v.displayHeight),_||(v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=m,this.gameObject=_?v:void 0,this.isBody=!0,this.debugShowBody=m.defaults.debugShowStaticBody,this.debugBodyColor=m.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(v.x-x*v.originX,v.y-b*v.originY),this.width=x,this.height=b,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=h.ZERO,this.allowGravity=!1,this.gravity=h.ZERO,this.bounce=h.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=c(!1),this.touching=c(!0),this.wasTouching=c(!0),this.blocked=c(!0),this.physicsType=f.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(u,m){return u&&u!==this.gameObject&&(this.gameObject.body=null,u.body=this,this.gameObject=u),m&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var u=this.gameObject;return u.getTopLeft(this.position),this.width=u.displayWidth,this.height=u.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(u,m){return void 0===m&&(m=u),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u,m),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(u,m,v){void 0===v&&(v=!0);var x=this.gameObject;if(x&&x.frame&&(u||(u=x.frame.realWidth),m||(m=x.frame.realHeight)),this.world.staticTree.remove(this),this.width=u,this.height=m,this.halfWidth=Math.floor(u/2),this.halfHeight=Math.floor(m/2),v&&x&&x.getCenter){var b=x.displayWidth/2,T=x.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(b-this.halfWidth,T-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(u,m,v){return void 0===m&&(m=this.offset.x),void 0===v&&(v=this.offset.y),u>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=u,this.width=2*u,this.height=2*u,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,v),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(u,m){var v=this.gameObject;void 0===u&&(u=v.x),void 0===m&&(m=v.y),this.world.staticTree.remove(this),v.setPosition(u,m),v.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,m){return this.isCircle?y(this,u,m):d(this,u,m)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(u){var m=this.position,v=m.x+this.halfWidth,x=m.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?u.strokeCircle(v,x,this.width/2):u.strokeRect(m.x,m.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(u){return u<=0&&(u=.1),this.mass=u,this},x:{get:function(){return this.position.x},set:function(u){this.world.staticTree.remove(this),this.position.x=u,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(u){this.world.staticTree.remove(this),this.position.y=u,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});S.exports=p},71464:(S,P,a)=>{var y=a(13759),C=a(83419),g=a(78389),f=a(37747),d=a(95540),c=a(26479),h=a(41212),p=new C({Extends:c,Mixins:[g],initialize:function(m,v,x,b){x||b?h(x)?(b=x,x=null,b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler,b.createMultipleCallback=this.createMultipleCallbackHandler,b.classType=d(b,"classType",y)):Array.isArray(x)&&h(x[0])?(b=x,x=null,b.forEach(function(T){T.internalCreateCallback=this.createCallbackHandler,T.internalRemoveCallback=this.removeCallbackHandler,T.createMultipleCallback=this.createMultipleCallbackHandler,T.classType=d(T,"classType",y)})):b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:y},this.world=m,this.physicsType=f.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,c.call(this,v,x,b),this.type="StaticPhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,f.STATIC_BODY)},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var u=this.children.entries,m=0;m<u.length;m++)u[m].body.reset();return this}});S.exports=p},82248:(S,P,a)=>{var y=a(55495),C=a(37742),g=a(45319),f=a(83419),d=a(79342),c=a(37747),h=a(20339),p=a(52816),u=a(50792),m=a(63012),v=a(43855),x=a(5470),b=a(94977),T=a(64897),_=a(45170),A=a(96523),M=a(35154),I=a(36383),R=a(25774),F=a(96602),N=a(87841),V=a(59542),B=a(40012),G=a(14087),Q=a(89936),H=a(35072),K=a(72624),tt=a(2483),at=a(61340),lt=a(26099),q=a(15994),it=new f({Extends:u,initialize:function(X,nt){u.call(this),this.scene=X,this.bodies=new H,this.staticBodies=new H,this.pendingDestroy=new H,this.colliders=new R,this.gravity=new lt(M(nt,"gravity.x",0),M(nt,"gravity.y",0)),this.bounds=new N(M(nt,"x",0),M(nt,"y",0),M(nt,"width",X.sys.scale.width),M(nt,"height",X.sys.scale.height)),this.checkCollision={up:M(nt,"checkCollision.up",!0),down:M(nt,"checkCollision.down",!0),left:M(nt,"checkCollision.left",!0),right:M(nt,"checkCollision.right",!0)},this.fps=M(nt,"fps",60),this.fixedStep=M(nt,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=M(nt,"timeScale",1),this.OVERLAP_BIAS=M(nt,"overlapBias",4),this.TILE_BIAS=M(nt,"tileBias",16),this.forceX=M(nt,"forceX",!1),this.isPaused=M(nt,"isPaused",!1),this._total=0,this.drawDebug=M(nt,"debug",!1),this.defaults={debugShowBody:M(nt,"debugShowBody",!0),debugShowStaticBody:M(nt,"debugShowStaticBody",!0),debugShowVelocity:M(nt,"debugShowVelocity",!0),bodyDebugColor:M(nt,"debugBodyColor",16711935),staticBodyDebugColor:M(nt,"debugStaticBodyColor",255),velocityDebugColor:M(nt,"debugVelocityColor",65280)},this.maxEntries=M(nt,"maxEntries",16),this.useTree=M(nt,"useTree",!0),this.tree=new V(this.maxEntries),this.staticTree=new V(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new at,this._tempMatrix2=new at,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(Y,X){void 0===X&&(X=c.DYNAMIC_BODY),Array.isArray(Y)||(Y=[Y]);for(var nt=0;nt<Y.length;nt++){var dt=Y[nt];if(dt.isParent)for(var gt=dt.getChildren(),bt=0;bt<gt.length;bt++){var Et=gt[bt];Et.isParent?this.enable(Et,X):this.enableBody(Et,X)}else this.enableBody(dt,X)}},enableBody:function(Y,X){return void 0===X&&(X=c.DYNAMIC_BODY),Y.hasTransformComponent&&(Y.body||(X===c.DYNAMIC_BODY?Y.body=new C(this,Y):X===c.STATIC_BODY&&(Y.body=new K(this,Y))),this.add(Y.body)),Y},add:function(Y){return Y.physicsType===c.DYNAMIC_BODY?this.bodies.set(Y):Y.physicsType===c.STATIC_BODY&&(this.staticBodies.set(Y),this.staticTree.insert(Y)),Y.enable=!0,Y},disable:function(Y){Array.isArray(Y)||(Y=[Y]);for(var X=0;X<Y.length;X++){var nt=Y[X];if(nt.isParent)for(var dt=nt.getChildren(),gt=0;gt<dt.length;gt++){var bt=dt[gt];bt.isParent?this.disable(bt):this.disableBody(bt.body)}else this.disableBody(nt.body)}},disableBody:function(Y){this.remove(Y),Y.enable=!1},remove:function(Y){Y.physicsType===c.DYNAMIC_BODY?(this.tree.remove(Y),this.bodies.delete(Y)):Y.physicsType===c.STATIC_BODY&&(this.staticBodies.delete(Y),this.staticTree.remove(Y))},createDebugGraphic:function(){var Y=this.scene.sys.add.graphics({x:0,y:0});return Y.setDepth(Number.MAX_VALUE),this.debugGraphic=Y,this.drawDebug=!0,Y},setBounds:function(Y,X,nt,dt,gt,bt,Et,Bt){return this.bounds.setTo(Y,X,nt,dt),void 0!==gt&&this.setBoundsCollision(gt,bt,Et,Bt),this},setBoundsCollision:function(Y,X,nt,dt){return void 0===Y&&(Y=!0),void 0===X&&(X=!0),void 0===nt&&(nt=!0),void 0===dt&&(dt=!0),this.checkCollision.left=Y,this.checkCollision.right=X,this.checkCollision.up=nt,this.checkCollision.down=dt,this},pause:function(){return this.isPaused=!0,this.emit(m.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(m.RESUME),this},addCollider:function(Y,X,nt,dt,gt){void 0===nt&&(nt=null),void 0===dt&&(dt=null),void 0===gt&&(gt=nt);var bt=new d(this,!1,Y,X,nt,dt,gt);return this.colliders.add(bt),bt},addOverlap:function(Y,X,nt,dt,gt){void 0===nt&&(nt=null),void 0===dt&&(dt=null),void 0===gt&&(gt=nt);var bt=new d(this,!0,Y,X,nt,dt,gt);return this.colliders.add(bt),bt},removeCollider:function(Y){return this.colliders.remove(Y),this},setFPS:function(Y){return this.fps=Y,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(Y,X){if(!this.isPaused&&0!==this.bodies.size){var nt,dt=this._frameTime,gt=this._frameTimeMS*this.timeScale;this._elapsed+=X;var bt,Et=this.bodies.entries,Bt=this._elapsed>=gt;for(this.fixedStep||(dt=.001*X,Bt=!0,this._elapsed=0),nt=0;nt<Et.length;nt++)(bt=Et[nt]).enable&&bt.preUpdate(Bt,dt);if(Bt){this._elapsed-=gt,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Et));var Kt=this.colliders.update();for(nt=0;nt<Kt.length;nt++){var Zt=Kt[nt];Zt.active&&Zt.update()}this.emit(m.WORLD_STEP,dt)}for(;this._elapsed>=gt;)this._elapsed-=gt,this.step(dt)}},step:function(Y){var X,nt,dt=this.bodies.entries,gt=dt.length;for(X=0;X<gt;X++)(nt=dt[X]).enable&&nt.update(Y);this.useTree&&(this.tree.clear(),this.tree.load(dt));var bt=this.colliders.update();for(X=0;X<bt.length;X++){var Et=bt[X];Et.active&&Et.update()}this.emit(m.WORLD_STEP,Y),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var Y,X,nt=this.bodies.entries,dt=nt.length,gt=this.bodies,bt=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,Y=0;Y<dt;Y++)(X=nt[Y]).enable&&X.postUpdate();if(this.drawDebug){var Et=this.debugGraphic;for(Et.clear(),Y=0;Y<dt;Y++)(X=nt[Y]).willDrawDebug()&&X.drawDebug(Et);for(dt=(nt=bt.entries).length,Y=0;Y<dt;Y++)(X=nt[Y]).willDrawDebug()&&X.drawDebug(Et)}var Bt=this.pendingDestroy;if(Bt.size>0){var Kt=this.tree,Zt=this.staticTree;for(dt=(nt=Bt.entries).length,Y=0;Y<dt;Y++)(X=nt[Y]).physicsType===c.DYNAMIC_BODY?(Kt.remove(X),gt.delete(X)):X.physicsType===c.STATIC_BODY&&(Zt.remove(X),bt.delete(X)),X.world=void 0,X.gameObject=void 0;Bt.clear()}},updateMotion:function(Y,X){Y.allowRotation&&this.computeAngularVelocity(Y,X),this.computeVelocity(Y,X)},computeAngularVelocity:function(Y,X){var nt=Y.angularVelocity,dt=Y.angularAcceleration,gt=Y.angularDrag,bt=Y.maxAngular;dt?nt+=dt*X:Y.allowDrag&&gt&&(x(nt-(gt*=X),0,.1)?nt-=gt:b(nt+gt,0,.1)?nt+=gt:nt=0),nt=g(nt,-bt,bt),Y.angularVelocity+=nt-Y.angularVelocity,Y.rotation+=Y.angularVelocity*X},computeVelocity:function(Y,X){var nt=Y.velocity.x,dt=Y.acceleration.x,gt=Y.drag.x,bt=Y.maxVelocity.x,Et=Y.velocity.y,Bt=Y.acceleration.y,Kt=Y.drag.y,Zt=Y.maxVelocity.y,ne=Y.speed,ae=Y.maxSpeed,fe=Y.allowDrag,ke=Y.useDamping;Y.allowGravity&&(nt+=(this.gravity.x+Y.gravity.x)*X,Et+=(this.gravity.y+Y.gravity.y)*X),dt?nt+=dt*X:fe&&gt&&(ke?(nt*=gt=Math.pow(gt,X),ne=Math.sqrt(nt*nt+Et*Et),v(ne,0,.001)&&(nt=0)):x(nt-(gt*=X),0,.01)?nt-=gt:b(nt+gt,0,.01)?nt+=gt:nt=0),Bt?Et+=Bt*X:fe&&Kt&&(ke?(Et*=Kt=Math.pow(Kt,X),ne=Math.sqrt(nt*nt+Et*Et),v(ne,0,.001)&&(Et=0)):x(Et-(Kt*=X),0,.01)?Et-=Kt:b(Et+Kt,0,.01)?Et+=Kt:Et=0),nt=g(nt,-bt,bt),Et=g(Et,-Zt,Zt),Y.velocity.set(nt,Et),ae>-1&&Y.velocity.length()>ae&&(Y.velocity.normalize().scale(ae),ne=ae),Y.speed=ne},separate:function(Y,X,nt,dt,gt){var bt,Et,Bt=!1,Kt=!0;if(!Y.enable||!X.enable||Y.checkCollision.none||X.checkCollision.none||!this.intersects(Y,X)||nt&&!1===nt.call(dt,Y.gameObject||Y,X.gameObject||X))return Bt;if(Y.isCircle||X.isCircle){var Zt=this.separateCircle(Y,X,gt);Zt.result?(Bt=!0,Kt=!1):(bt=Zt.x,Et=Zt.y,Kt=!0)}if(Kt){var ne=!1,ae=!1,fe=this.OVERLAP_BIAS;gt?(ne=G(Y,X,gt,fe,bt),ae=Q(Y,X,gt,fe,Et)):this.forceX||Math.abs(this.gravity.y+Y.gravity.y)<Math.abs(this.gravity.x+Y.gravity.x)?(ne=G(Y,X,gt,fe,bt),this.intersects(Y,X)&&(ae=Q(Y,X,gt,fe,Et))):(ae=Q(Y,X,gt,fe,Et),this.intersects(Y,X)&&(ne=G(Y,X,gt,fe,bt))),Bt=ne||ae}return Bt&&(gt?(Y.onOverlap||X.onOverlap)&&this.emit(m.OVERLAP,Y.gameObject,X.gameObject,Y,X):(Y.onCollide||X.onCollide)&&this.emit(m.COLLIDE,Y.gameObject,X.gameObject,Y,X)),Bt},separateCircle:function(Y,X,nt){T(Y,X,!1,0),_(Y,X,!1,0);var gt=X.isCircle,bt=Y.center,Et=X.center,Bt=Y.immovable,Kt=X.immovable,Zt=Y.velocity,ne=X.velocity,ae=0,fe=!0;if(Y.isCircle!==gt){fe=!1;var ke=bt.x,Ye=bt.y,Pe=Y.halfWidth,Qe=X.position.x,Se=X.position.y,ei=X.right,ri=X.bottom;gt&&(ke=Et.x,Ye=Et.y,Pe=X.halfWidth,Qe=Y.position.x,Se=Y.position.y,ei=Y.right,ri=Y.bottom),Ye<Se?ke<Qe?ae=h(ke,Ye,Qe,Se)-Pe:ke>ei&&(ae=h(ke,Ye,ei,Se)-Pe):Ye>ri&&(ke<Qe?ae=h(ke,Ye,Qe,ri)-Pe:ke>ei&&(ae=h(ke,Ye,ei,ri)-Pe)),ae*=-1}else ae=Y.halfWidth+X.halfWidth-p(bt,Et);Y.overlapR=ae,X.overlapR=ae;var Bi=y(bt,Et),tn=(ae+I.EPSILON)*Math.cos(Bi),on=(ae+I.EPSILON)*Math.sin(Bi),ln={overlap:ae,result:!1,x:tn,y:on};if(nt&&(!fe||fe&&0!==ae))return ln.result=!0,ln;if(!fe&&0===ae||Bt&&Kt||Y.customSeparateX||X.customSeparateX)return ln.x=void 0,ln.y=void 0,ln;var hn=!Y.pushable&&!X.pushable;if(fe){var Ur=bt.y-Et.y,dn=Math.sqrt(Math.pow(bt.x-Et.x,2)+Math.pow(Ur,2)),or=(Et.x-bt.x)/dn||0,Fr=(Et.y-bt.y)/dn||0,Ts=2*(Zt.x*or+Zt.y*Fr-ne.x*or-ne.y*Fr)/(Y.mass+X.mass);(Bt||Kt||!Y.pushable||!X.pushable)&&(Ts*=2),!Bt&&Y.pushable&&(Zt.x=Zt.x-Ts/Y.mass*or,Zt.y=Zt.y-Ts/Y.mass*Fr,Zt.multiply(Y.bounce)),!Kt&&X.pushable&&(ne.x=ne.x+Ts/X.mass*or,ne.y=ne.y+Ts/X.mass*Fr,ne.multiply(X.bounce)),!Bt&&!Kt&&(tn*=.5,on*=.5),!Bt||Y.pushable||hn?(Y.x-=tn,Y.y-=on,Y.updateCenter()):(!Kt||X.pushable||hn)&&(X.x+=tn,X.y+=on,X.updateCenter()),ln.result=!0}else!Bt||Y.pushable||hn?(Y.x-=tn,Y.y-=on,Y.updateCenter()):(!Kt||X.pushable||hn)&&(X.x+=tn,X.y+=on,X.updateCenter()),ln.x=void 0,ln.y=void 0;return ln},intersects:function(Y,X){return Y!==X&&(Y.isCircle||X.isCircle?Y.isCircle?X.isCircle?p(Y.center,X.center)<=Y.halfWidth+X.halfWidth:this.circleBodyIntersects(Y,X):this.circleBodyIntersects(X,Y):!(Y.right<=X.left||Y.bottom<=X.top||Y.left>=X.right||Y.top>=X.bottom))},circleBodyIntersects:function(Y,X){var nt=g(Y.center.x,X.left,X.right),dt=g(Y.center.y,X.top,X.bottom);return(Y.center.x-nt)*(Y.center.x-nt)+(Y.center.y-dt)*(Y.center.y-dt)<=Y.halfWidth*Y.halfWidth},overlap:function(Y,X,nt,dt,gt){return void 0===nt&&(nt=null),void 0===dt&&(dt=null),void 0===gt&&(gt=nt),this.collideObjects(Y,X,nt,dt,gt,!0)},collide:function(Y,X,nt,dt,gt){return void 0===nt&&(nt=null),void 0===dt&&(dt=null),void 0===gt&&(gt=nt),this.collideObjects(Y,X,nt,dt,gt,!1)},collideObjects:function(Y,X,nt,dt,gt,bt){var Et,Bt;Y.isParent&&(void 0===Y.physicsType||void 0===X||Y===X)&&(Y=Y.children.entries),X&&X.isParent&&void 0===X.physicsType&&(X=X.children.entries);var Kt=Array.isArray(Y),Zt=Array.isArray(X);if(this._total=0,Kt||Zt)if(!Kt&&Zt)for(Et=0;Et<X.length;Et++)this.collideHandler(Y,X[Et],nt,dt,gt,bt);else if(Kt&&!Zt)if(X)for(Et=0;Et<Y.length;Et++)this.collideHandler(Y[Et],X,nt,dt,gt,bt);else for(Et=0;Et<Y.length;Et++){var ne=Y[Et];for(Bt=Et+1;Bt<Y.length;Bt++)Et!==Bt&&this.collideHandler(ne,Y[Bt],nt,dt,gt,bt)}else for(Et=0;Et<Y.length;Et++)for(Bt=0;Bt<X.length;Bt++)this.collideHandler(Y[Et],X[Bt],nt,dt,gt,bt);else this.collideHandler(Y,X,nt,dt,gt,bt);return this._total>0},collideHandler:function(Y,X,nt,dt,gt,bt){if(void 0===X&&Y.isParent)return this.collideGroupVsGroup(Y,Y,nt,dt,gt,bt);if(!Y||!X)return!1;if(Y.body||Y.isBody){if(X.body||X.isBody)return this.collideSpriteVsSprite(Y,X,nt,dt,gt,bt);if(X.isParent)return this.collideSpriteVsGroup(Y,X,nt,dt,gt,bt);if(X.isTilemap)return this.collideSpriteVsTilemapLayer(Y,X,nt,dt,gt,bt)}else if(Y.isParent){if(X.body||X.isBody)return this.collideSpriteVsGroup(X,Y,nt,dt,gt,bt);if(X.isParent)return this.collideGroupVsGroup(Y,X,nt,dt,gt,bt);if(X.isTilemap)return this.collideGroupVsTilemapLayer(Y,X,nt,dt,gt,bt)}else if(Y.isTilemap){if(X.body||X.isBody)return this.collideSpriteVsTilemapLayer(X,Y,nt,dt,gt,bt);if(X.isParent)return this.collideGroupVsTilemapLayer(X,Y,nt,dt,gt,bt)}},canCollide:function(Y,X){return Y&&X&&!!(Y.collisionMask&X.collisionCategory)&&!!(X.collisionMask&Y.collisionCategory)},collideSpriteVsSprite:function(Y,X,nt,dt,gt,bt){var Et=Y.isBody?Y:Y.body,Bt=X.isBody?X:X.body;return!!this.canCollide(Et,Bt)&&(this.separate(Et,Bt,dt,gt,bt)&&(nt&&nt.call(gt,Y,X),this._total++),!0)},collideSpriteVsGroup:function(Y,X,nt,dt,gt,bt){var Bt,Kt,Zt,Et=Y.isBody?Y:Y.body;if(0!==X.getLength()&&Et&&Et.enable&&!Et.checkCollision.none&&this.canCollide(Et,X))if(this.useTree||X.physicsType===c.STATIC_BODY){var ne=this.treeMinMax;ne.minX=Et.left,ne.minY=Et.top,ne.maxX=Et.right,ne.maxY=Et.bottom;var ae=X.physicsType===c.DYNAMIC_BODY?this.tree.search(ne):this.staticTree.search(ne);for(Kt=ae.length,Bt=0;Bt<Kt;Bt++)Et!==(Zt=ae[Bt])&&Zt.enable&&!Zt.checkCollision.none&&X.contains(Zt.gameObject)&&this.separate(Et,Zt,dt,gt,bt)&&(nt&&nt.call(gt,Et.gameObject,Zt.gameObject),this._total++)}else{var fe=X.getChildren(),ke=X.children.entries.indexOf(Y);for(Kt=fe.length,Bt=0;Bt<Kt;Bt++)(Zt=fe[Bt].body)&&Bt!==ke&&Zt.enable&&this.separate(Et,Zt,dt,gt,bt)&&(nt&&nt.call(gt,Et.gameObject,Zt.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(Y,X,nt,dt,gt,bt){if(!this.canCollide(Y,X))return!1;var Et=Y.getChildren();if(0===Et.length)return!1;for(var Bt=!1,Kt=0;Kt<Et.length;Kt++)(Et[Kt].body||Et[Kt].isBody)&&this.collideSpriteVsTilemapLayer(Et[Kt],X,nt,dt,gt,bt)&&(Bt=!0);return Bt},collideTiles:function(Y,X,nt,dt,gt){return!(0===X.length||Y.body&&!Y.body.enable||Y.isBody&&!Y.enable)&&this.collideSpriteVsTilesHandler(Y,X,nt,dt,gt,!1,!1)},overlapTiles:function(Y,X,nt,dt,gt){return!(0===X.length||Y.body&&!Y.body.enable||Y.isBody&&!Y.enable)&&this.collideSpriteVsTilesHandler(Y,X,nt,dt,gt,!0,!1)},collideSpriteVsTilemapLayer:function(Y,X,nt,dt,gt,bt){var Et=Y.isBody?Y:Y.body;if(!Et.enable||Et.checkCollision.none||!this.canCollide(Et,X))return!1;var Bt=X.layer,ke=A(Et.x-Bt.tileWidth*X.scaleX,Et.y-Bt.tileHeight*X.scaleY,Et.width+Bt.tileWidth*X.scaleX,Et.height+Bt.tileHeight*X.scaleY,bt?null:this.tileFilterOptions,X.scene.cameras.main,X.layer);return 0!==ke.length&&this.collideSpriteVsTilesHandler(Y,ke,nt,dt,gt,bt,!0)},collideSpriteVsTilesHandler:function(Y,X,nt,dt,gt,bt,Et){for(var Kt,ne,Bt=Y.isBody?Y:Y.body,Zt={left:0,right:0,top:0,bottom:0},ae=!1,fe=0;fe<X.length;fe++){var ke=(ne=(Kt=X[fe]).tilemapLayer).tileToWorldXY(Kt.x,Kt.y);Zt.left=ke.x,Zt.top=ke.y,Zt.right=Zt.left+Kt.width*ne.scaleX,Zt.bottom=Zt.top+Kt.height*ne.scaleY,tt(Zt,Bt)&&(!dt||dt.call(gt,Y,Kt))&&F(Kt,Y)&&(bt||B(fe,Bt,Kt,Zt,ne,this.TILE_BIAS,Et))&&(this._total++,ae=!0,nt&&nt.call(gt,Y,Kt),bt&&Bt.onOverlap?this.emit(m.TILE_OVERLAP,Y,Kt,Bt):Bt.onCollide&&this.emit(m.TILE_COLLIDE,Y,Kt,Bt))}return ae},collideGroupVsGroup:function(Y,X,nt,dt,gt,bt){if(0!==Y.getLength()&&0!==X.getLength()&&this.canCollide(Y,X))for(var Et=Y.getChildren(),Bt=0;Bt<Et.length;Bt++)this.collideSpriteVsGroup(Et[Bt],X,nt,dt,gt,bt)},wrap:function(Y,X){Y.body?this.wrapObject(Y,X):Y.getChildren?this.wrapArray(Y.getChildren(),X):Array.isArray(Y)?this.wrapArray(Y,X):this.wrapObject(Y,X)},wrapArray:function(Y,X){for(var nt=0;nt<Y.length;nt++)this.wrapObject(Y[nt],X)},wrapObject:function(Y,X){void 0===X&&(X=0),Y.x=q(Y.x,this.bounds.left-X,this.bounds.right+X),Y.y=q(Y.y,this.bounds.top-X,this.bounds.bottom+X)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});S.exports=it},1093:S=>{S.exports={setAcceleration:function(a,y){return this.body.acceleration.set(a,y),this},setAccelerationX:function(a){return this.body.acceleration.x=a,this},setAccelerationY:function(a){return this.body.acceleration.y=a,this}}},59023:S=>{S.exports={setAngularVelocity:function(a){return this.body.angularVelocity=a,this},setAngularAcceleration:function(a){return this.body.angularAcceleration=a,this},setAngularDrag:function(a){return this.body.angularDrag=a,this}}},62069:S=>{S.exports={setBounce:function(a,y){return this.body.bounce.set(a,y),this},setBounceX:function(a){return this.body.bounce.x=a,this},setBounceY:function(a){return this.body.bounce.y=a,this},setCollideWorldBounds:function(a,y,C,g){return this.body.setCollideWorldBounds(a,y,C,g),this}}},78389:(S,P,a)=>{var y=a(79599);S.exports={setCollisionCategory:function(g){return(this.body?this.body:this).collisionCategory=g,this},willCollideWith:function(g){return!!((this.body?this.body:this).collisionMask&g)},addCollidesWith:function(g){var f=this.body?this.body:this;return f.collisionMask=f.collisionMask|g,this},removeCollidesWith:function(g){var f=this.body?this.body:this;return f.collisionMask=f.collisionMask&~g,this},setCollidesWith:function(g){return(this.body?this.body:this).collisionMask=y(g),this},resetCollisionCategory:function(){var g=this.body?this.body:this;return g.collisionCategory=1,g.collisionMask=2147483647,this}}},87118:S=>{S.exports={setDebug:function(a,y,C){return this.debugShowBody=a,this.debugShowVelocity=y,this.debugBodyColor=C,this},setDebugBodyColor:function(a){return this.body.debugBodyColor=a,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(a){this.body.debugShowBody=a}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(a){this.body.debugShowVelocity=a}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(a){this.body.debugBodyColor=a}}}},52819:S=>{S.exports={setDrag:function(a,y){return this.body.drag.set(a,y),this},setDragX:function(a){return this.body.drag.x=a,this},setDragY:function(a){return this.body.drag.y=a,this},setDamping:function(a){return this.body.useDamping=a,this}}},4074:S=>{S.exports={setDirectControl:function(a){return this.body.setDirectControl(a),this},enableBody:function(a,y,C,g,f){return a&&this.body.reset(y,C),g&&(this.body.gameObject.active=!0),f&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(a,y){return void 0===a&&(a=!1),void 0===y&&(y=!1),this.body.stop(),this.body.enable=!1,a&&(this.body.gameObject.active=!1),y&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},40831:S=>{S.exports={setFriction:function(a,y){return this.body.friction.set(a,y),this},setFrictionX:function(a){return this.body.friction.x=a,this},setFrictionY:function(a){return this.body.friction.y=a,this}}},26775:S=>{S.exports={setGravity:function(a,y){return this.body.gravity.set(a,y),this},setGravityX:function(a){return this.body.gravity.x=a,this},setGravityY:function(a){return this.body.gravity.y=a,this}}},9437:S=>{S.exports={setImmovable:function(a){return void 0===a&&(a=!0),this.body.immovable=a,this}}},30621:S=>{S.exports={setMass:function(a){return this.body.mass=a,this}}},72441:(S,P,a)=>{var y=a(47956),C=a(96503),g=a(2044),f=a(81491);S.exports=function(c,h,p,u,m,v){var x=y(c,h-u,p-u,2*u,2*u,m,v);if(0===x.length)return x;for(var b=new C(h,p,u),T=new C,_=[],A=0;A<x.length;A++){var M=x[A];M.isCircle?(T.setTo(M.center.x,M.center.y,M.halfWidth),g(b,T)&&_.push(M)):f(b,M)&&_.push(M)}return _}},47956:S=>{S.exports=function(a,y,C,g,f,d,c){void 0===d&&(d=!0),void 0===c&&(c=!1);var h=[],p=[],u=a.treeMinMax;if(u.minX=y,u.minY=C,u.maxX=y+g,u.maxY=C+f,c&&(p=a.staticTree.search(u)),d&&a.useTree)h=a.tree.search(u);else if(d){var v={position:{x:y,y:C},left:y,top:C,right:y+g,bottom:C+f,isCircle:!1},x=a.intersects;a.bodies.iterate(function(b){x(b,v)&&h.push(b)})}return p.concat(h)}},62121:S=>{S.exports={setPushable:function(a){return void 0===a&&(a=!0),this.body.pushable=a,this}}},29384:S=>{S.exports={setOffset:function(a,y){return this.body.setOffset(a,y),this},setSize:function(a,y,C){return this.body.setSize(a,y,C),this},setBodySize:function(a,y,C){return this.body.setSize(a,y,C),this},setCircle:function(a,y,C){return this.body.setCircle(a,y,C),this}}},15098:S=>{S.exports={setVelocity:function(a,y){return this.body.setVelocity(a,y),this},setVelocityX:function(a){return this.body.setVelocityX(a),this},setVelocityY:function(a){return this.body.setVelocityY(a),this},setMaxVelocity:function(a,y){return this.body.maxVelocity.set(a,y),this}}},92209:(S,P,a)=>{S.exports={Acceleration:a(1093),Angular:a(59023),Bounce:a(62069),Collision:a(78389),Debug:a(87118),Drag:a(52819),Enable:a(4074),Friction:a(40831),Gravity:a(26775),Immovable:a(9437),Mass:a(30621),OverlapCirc:a(72441),OverlapRect:a(47956),Pushable:a(62121),Size:a(29384),Velocity:a(15098)}},37747:S=>{S.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},20009:S=>{S.exports="collide"},36768:S=>{S.exports="overlap"},60473:S=>{S.exports="pause"},89954:S=>{S.exports="resume"},61804:S=>{S.exports="tilecollide"},7161:S=>{S.exports="tileoverlap"},34689:S=>{S.exports="worldbounds"},16006:S=>{S.exports="worldstep"},63012:(S,P,a)=>{S.exports={COLLIDE:a(20009),OVERLAP:a(36768),PAUSE:a(60473),RESUME:a(89954),TILE_COLLIDE:a(61804),TILE_OVERLAP:a(7161),WORLD_BOUNDS:a(34689),WORLD_STEP:a(16006)}},27064:(S,P,a)=>{var y=a(37747),C=a(79291),g={ArcadePhysics:a(86689),Body:a(37742),Collider:a(79342),Components:a(92209),Events:a(63012),Factory:a(66022),GetCollidesWith:a(79599),GetOverlapX:a(64897),GetOverlapY:a(45170),SeparateX:a(14087),SeparateY:a(89936),Group:a(60758),Image:a(71289),Sprite:a(13759),StaticBody:a(72624),StaticGroup:a(71464),Tilemap:a(55173),World:a(82248)};g=C(!1,g,y),S.exports=g},96602:S=>{S.exports=function(a,y){return a.collisionCallback?!a.collisionCallback.call(a.collisionCallbackContext,y,a):!a.layer.callbacks[a.index]||!a.layer.callbacks[a.index].callback.call(a.layer.callbacks[a.index].callbackContext,y,a)}},36294:S=>{S.exports=function(a,y){y<0?(a.blocked.none=!1,a.blocked.left=!0):y>0&&(a.blocked.none=!1,a.blocked.right=!0),a.position.x-=y,a.updateCenter(),a.velocity.x=0===a.bounce.x?0:-a.velocity.x*a.bounce.x}},67013:S=>{S.exports=function(a,y){y<0?(a.blocked.none=!1,a.blocked.up=!0):y>0&&(a.blocked.none=!1,a.blocked.down=!0),a.position.y-=y,a.updateCenter(),a.velocity.y=0===a.bounce.y?0:-a.velocity.y*a.bounce.y}},40012:(S,P,a)=>{var y=a(21329),C=a(53442),g=a(2483);S.exports=function(d,c,h,p,u,m,v){var x=p.left,b=p.top,T=p.right,_=p.bottom,A=h.faceLeft||h.faceRight,M=h.faceTop||h.faceBottom;if(v||(A=!0,M=!0),!A&&!M)return!1;var I=0,R=0,F=0,N=1;if(c.deltaAbsX()>c.deltaAbsY()?F=-1:c.deltaAbsX()<c.deltaAbsY()&&(N=-1),0!==c.deltaX()&&0!==c.deltaY()&&A&&M&&(F=Math.min(Math.abs(c.position.x-T),Math.abs(c.right-x)),N=Math.min(Math.abs(c.position.y-_),Math.abs(c.bottom-b))),F<N){if(A&&0!==(I=y(c,h,x,T,m,v))&&!g(p,c))return!0;M&&(R=C(c,h,b,_,m,v))}else{if(M&&0!==(R=C(c,h,b,_,m,v))&&!g(p,c))return!0;A&&(I=y(c,h,x,T,m,v))}return 0!==I||0!==R}},21329:(S,P,a)=>{var y=a(36294);S.exports=function(g,f,d,c,h,p){var u=0,m=f.faceLeft,v=f.faceRight,x=f.collideLeft,b=f.collideRight;return p||(m=!0,v=!0,x=!0,b=!0),g.deltaX()<0&&b&&g.checkCollision.left?v&&g.x<c&&(u=g.x-c)<-h&&(u=0):g.deltaX()>0&&x&&g.checkCollision.right&&m&&g.right>d&&(u=g.right-d)>h&&(u=0),0!==u&&(g.customSeparateX?g.overlapX=u:y(g,u)),u}},53442:(S,P,a)=>{var y=a(67013);S.exports=function(g,f,d,c,h,p){var u=0,m=f.faceTop,v=f.faceBottom,x=f.collideUp,b=f.collideDown;return p||(m=!0,v=!0,x=!0,b=!0),g.deltaY()<0&&b&&g.checkCollision.up?v&&g.y<c&&(u=g.y-c)<-h&&(u=0):g.deltaY()>0&&x&&g.checkCollision.down&&m&&g.bottom>d&&(u=g.bottom-d)>h&&(u=0),0!==u&&(g.customSeparateY?g.overlapY=u:y(g,u)),u}},2483:S=>{S.exports=function(a,y){return!(y.right<=a.left||y.bottom<=a.top||y.position.x>=a.right||y.position.y>=a.bottom)}},55173:(S,P,a)=>{var y={ProcessTileCallbacks:a(96602),ProcessTileSeparationX:a(36294),ProcessTileSeparationY:a(67013),SeparateTile:a(40012),TileCheckX:a(21329),TileCheckY:a(53442),TileIntersectsBody:a(2483)};S.exports=y},44563:(S,P,a)=>{S.exports={Arcade:a(27064),Matter:a(3875)}},68174:(S,P,a)=>{var y=a(83419),C=a(26099),g=new y({initialize:function(){this.boundsCenter=new C,this.centerDiff=new C},parseBody:function(f){if(!(f=f.hasOwnProperty("body")?f.body:f).hasOwnProperty("bounds")||!f.hasOwnProperty("centerOfMass"))return!1;var d=this.boundsCenter,c=this.centerDiff,h=f.bounds.max.x-f.bounds.min.x,p=f.bounds.max.y-f.bounds.min.y,u=h*f.centerOfMass.x,m=p*f.centerOfMass.y;return d.set(h/2,p/2),c.set(u-d.x,m-d.y),!0},getTopLeft:function(f,d,c){if(void 0===d&&(d=0),void 0===c&&(c=0),this.parseBody(f)){var h=this.boundsCenter,p=this.centerDiff;return new C(d+h.x+p.x,c+h.y+p.y)}return!1},getTopCenter:function(f,d,c){if(void 0===d&&(d=0),void 0===c&&(c=0),this.parseBody(f)){var p=this.centerDiff;return new C(d+p.x,c+this.boundsCenter.y+p.y)}return!1},getTopRight:function(f,d,c){if(void 0===d&&(d=0),void 0===c&&(c=0),this.parseBody(f)){var h=this.boundsCenter,p=this.centerDiff;return new C(d-(h.x-p.x),c+h.y+p.y)}return!1},getLeftCenter:function(f,d,c){if(void 0===d&&(d=0),void 0===c&&(c=0),this.parseBody(f)){var p=this.centerDiff;return new C(d+this.boundsCenter.x+p.x,c+p.y)}return!1},getCenter:function(f,d,c){if(void 0===d&&(d=0),void 0===c&&(c=0),this.parseBody(f)){var h=this.centerDiff;return new C(d+h.x,c+h.y)}return!1},getRightCenter:function(f,d,c){if(void 0===d&&(d=0),void 0===c&&(c=0),this.parseBody(f)){var p=this.centerDiff;return new C(d-(this.boundsCenter.x-p.x),c+p.y)}return!1},getBottomLeft:function(f,d,c){if(void 0===d&&(d=0),void 0===c&&(c=0),this.parseBody(f)){var h=this.boundsCenter,p=this.centerDiff;return new C(d+h.x+p.x,c-(h.y-p.y))}return!1},getBottomCenter:function(f,d,c){if(void 0===d&&(d=0),void 0===c&&(c=0),this.parseBody(f)){var p=this.centerDiff;return new C(d+p.x,c-(this.boundsCenter.y-p.y))}return!1},getBottomRight:function(f,d,c){if(void 0===d&&(d=0),void 0===c&&(c=0),this.parseBody(f)){var h=this.boundsCenter,p=this.centerDiff;return new C(d-(h.x-p.x),c-(h.y-p.y))}return!1}});S.exports=g},19933:(S,P,a)=>{var y=a(6790);y.Body=a(22562),y.Composite=a(69351),y.World=a(4372),y.Collision=a(52284),y.Detector=a(81388),y.Pairs=a(99561),y.Pair=a(4506),y.Query=a(73296),y.Resolver=a(66272),y.Constraint=a(48140),y.Common=a(53402),y.Engine=a(48413),y.Events=a(35810),y.Sleeping=a(53614),y.Plugin=a(73832),y.Bodies=a(66280),y.Composites=a(74116),y.Axes=a(66615),y.Bounds=a(15647),y.Svg=a(74058),y.Vector=a(31725),y.Vertices=a(41598),y.World.add=y.Composite.add,y.World.remove=y.Composite.remove,y.World.addComposite=y.Composite.addComposite,y.World.addBody=y.Composite.addBody,y.World.addConstraint=y.Composite.addConstraint,y.World.clear=y.Composite.clear,S.exports=y},28137:(S,P,a)=>{var y=a(66280),C=a(83419),g=a(74116),f=a(48140),d=a(74058),c=a(75803),h=a(23181),p=a(34803),u=a(73834),m=a(19496),v=a(85791),x=a(98713),b=a(41598),T=new C({initialize:function(A){this.world=A,this.scene=A.scene,this.sys=A.scene.sys},rectangle:function(_,A,M,I,R){var F=y.rectangle(_,A,M,I,R);return this.world.add(F),F},trapezoid:function(_,A,M,I,R,F){var N=y.trapezoid(_,A,M,I,R,F);return this.world.add(N),N},circle:function(_,A,M,I,R){var F=y.circle(_,A,M,I,R);return this.world.add(F),F},polygon:function(_,A,M,I,R){var F=y.polygon(_,A,M,I,R);return this.world.add(F),F},fromVertices:function(_,A,M,I,R,F,N){"string"==typeof M&&(M=b.fromPath(M));var V=y.fromVertices(_,A,M,I,R,F,N);return this.world.add(V),V},fromPhysicsEditor:function(_,A,M,I,R){void 0===R&&(R=!0);var F=m.parseBody(_,A,M,I);return R&&!this.world.has(F)&&this.world.add(F),F},fromSVG:function(_,A,M,I,R,F){void 0===I&&(I=1),void 0===R&&(R={}),void 0===F&&(F=!0);for(var N=M.getElementsByTagName("path"),V=[],B=0;B<N.length;B++){var G=d.pathToVertices(N[B],30);1!==I&&b.scale(G,I,I),V.push(G)}var Q=y.fromVertices(_,A,V,R);return F&&this.world.add(Q),Q},fromJSON:function(_,A,M,I,R){void 0===I&&(I={}),void 0===R&&(R=!0);var F=v.parseBody(_,A,M,I);return F&&R&&this.world.add(F),F},imageStack:function(_,A,M,I,R,F,N,V,B){void 0===N&&(N=0),void 0===V&&(V=0),void 0===B&&(B={});var G=this.world,Q=this.sys.displayList;B.addToWorld=!1;var H=g.stack(M,I,R,F,N,V,function(K,tt){var at=new h(G,K,tt,_,A,B);return Q.add(at),at.body});return G.add(H),H},stack:function(_,A,M,I,R,F,N){var V=g.stack(_,A,M,I,R,F,N);return this.world.add(V),V},pyramid:function(_,A,M,I,R,F,N){var V=g.pyramid(_,A,M,I,R,F,N);return this.world.add(V),V},chain:function(_,A,M,I,R,F){return g.chain(_,A,M,I,R,F)},mesh:function(_,A,M,I,R){return g.mesh(_,A,M,I,R)},newtonsCradle:function(_,A,M,I,R){var F=g.newtonsCradle(_,A,M,I,R);return this.world.add(F),F},car:function(_,A,M,I,R){var F=g.car(_,A,M,I,R);return this.world.add(F),F},softBody:function(_,A,M,I,R,F,N,V,B,G){var Q=g.softBody(_,A,M,I,R,F,N,V,B,G);return this.world.add(Q),Q},joint:function(_,A,M,I,R){return this.constraint(_,A,M,I,R)},spring:function(_,A,M,I,R){return this.constraint(_,A,M,I,R)},constraint:function(_,A,M,I,R){void 0===I&&(I=1),void 0===R&&(R={}),R.bodyA="body"===_.type?_:_.body,R.bodyB="body"===A.type?A:A.body,isNaN(M)||(R.length=M),R.stiffness=I;var F=f.create(R);return this.world.add(F),F},worldConstraint:function(_,A,M,I){void 0===M&&(M=1),void 0===I&&(I={}),I.bodyB="body"===_.type?_:_.body,isNaN(A)||(I.length=A),I.stiffness=M;var R=f.create(I);return this.world.add(R),R},mouseSpring:function(_){return this.pointerConstraint(_)},pointerConstraint:function(_){void 0===_&&(_={}),_.hasOwnProperty("render")||(_.render={visible:!1});var A=new x(this.scene,this.world,_);return this.world.add(A.constraint),A},image:function(_,A,M,I,R){var F=new h(this.world,_,A,M,I,R);return this.sys.displayList.add(F),F},tileBody:function(_,A){return new u(this.world,_,A)},sprite:function(_,A,M,I,R){var F=new p(this.world,_,A,M,I,R);return this.sys.displayList.add(F),this.sys.updateList.add(F),F},gameObject:function(_,A,M){return c(this.world,_,A,M)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});S.exports=T},75803:(S,P,a)=>{var y=a(31884),C=a(95540),g=a(26099);function f(c){return!!c.get&&"function"==typeof c.get||!!c.set&&"function"==typeof c.set}S.exports=function(c,h,p,u){void 0===p&&(p={}),void 0===u&&(u=!0);var m=h.x,v=h.y;if(h.body={temp:!0,position:{x:m,y:v}},[y.Bounce,y.Collision,y.Force,y.Friction,y.Gravity,y.Mass,y.Sensor,y.SetBody,y.Sleep,y.Static,y.Transform,y.Velocity].forEach(function(T){for(var _ in T)f(T[_])?Object.defineProperty(h,_,{get:T[_].get,set:T[_].set}):Object.defineProperty(h,_,{value:T[_]})}),h.world=c,h._tempVec2=new g(m,v),p.hasOwnProperty("type")&&"body"===p.type)h.setExistingBody(p,u);else{var b=C(p,"shape",null);b||(b="rectangle"),p.addToWorld=u,h.setBody(b,p)}return h}},23181:(S,P,a)=>{var y=a(83419),C=a(31884),g=a(95643),f=a(95540),d=a(88571),c=a(72699),h=a(26099),p=new y({Extends:d,Mixins:[C.Bounce,C.Collision,C.Force,C.Friction,C.Gravity,C.Mass,C.Sensor,C.SetBody,C.Sleep,C.Static,C.Transform,C.Velocity,c],initialize:function(m,v,x,b,T,_){g.call(this,m.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(b,T),this.setSizeToFrame(),this.setOrigin(),this.world=m,this._tempVec2=new h(v,x);var A=f(_,"shape",null);A?this.setBody(A,_):this.setRectangle(this.width,this.height,_),this.setPosition(v,x),this.initPipeline(),this.initPostPipeline(!0)}});S.exports=p},42045:(S,P,a)=>{var y=a(60461),C=a(66615),g=a(66280),f=a(22562),d=a(68174),c=a(15647),h=a(83419),p=a(52284),u=a(53402),m=a(69351),v=a(74116),x=a(48140),b=a(81388),T=a(20339),_=a(28137),A=a(95540),M=a(35154),I=a(46975),R=a(4506),F=a(99561),N=a(37277),V=a(73296),B=a(66272),G=a(44594),Q=a(74058),H=a(31725),K=a(41598),tt=a(68243);u.setDecomp(a(55973));var at=new h({initialize:function(q){this.scene=q,this.systems=q.sys,this.config=this.getConfig(),this.body=f,this.composite=m,this.collision=p,this.detector=b,this.pair=R,this.pairs=F,this.query=V,this.resolver=B,this.constraint=x,this.bodies=g,this.composites=v,this.axes=C,this.bounds=c,this.svg=Q,this.vector=H,this.vertices=K,this.verts=K,this._tempVec2=H.create(),B._restingThresh=M(this.config,"restingThresh",4),B._restingThreshTangent=M(this.config,"restingThreshTangent",6),B._positionDampen=M(this.config,"positionDampen",.9),B._positionWarming=M(this.config,"positionWarming",.8),B._frictionNormalMultiplier=M(this.config,"frictionNormalMultiplier",5),q.sys.events.once(G.BOOT,this.boot,this),q.sys.events.on(G.START,this.start,this)},boot:function(){this.world=new tt(this.scene,this.config),this.add=new _(this.world),this.bodyBounds=new d,this.systems.events.once(G.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new tt(this.scene,this.config),this.add=new _(this.world));var lt=this.systems.events;lt.on(G.UPDATE,this.world.update,this.world),lt.on(G.POST_UPDATE,this.world.postUpdate,this.world),lt.once(G.SHUTDOWN,this.shutdown,this)},getConfig:function(){var lt=this.systems.game.config.physics;return I(A(this.systems.settings.physics,"matter",{}),A(lt,"matter",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(lt,q){this.world.step(lt,q)},containsPoint:function(lt,q,it){lt=this.getMatterBodies(lt);var Y=H.create(q,it);return V.point(lt,Y).length>0},intersectPoint:function(lt,q,it){it=this.getMatterBodies(it);var Y=H.create(lt,q),X=[];return V.point(it,Y).forEach(function(dt){-1===X.indexOf(dt)&&X.push(dt)}),X},intersectRect:function(lt,q,it,Y,X,nt){void 0===X&&(X=!1),nt=this.getMatterBodies(nt);var gt=[];return V.region(nt,{min:{x:lt,y:q},max:{x:lt+it,y:q+Y}},X).forEach(function(Et){-1===gt.indexOf(Et)&&gt.push(Et)}),gt},intersectRay:function(lt,q,it,Y,X,nt){void 0===X&&(X=1),nt=this.getMatterBodies(nt);for(var dt=[],gt=V.ray(nt,H.create(lt,q),H.create(it,Y),X),bt=0;bt<gt.length;bt++)dt.push(gt[bt].body);return dt},intersectBody:function(lt,q){q=this.getMatterBodies(q);for(var it=[],Y=V.collides(lt,q),X=0;X<Y.length;X++){var nt=Y[X];it.push(nt.bodyA===lt?nt.bodyB:nt.bodyA)}return it},overlap:function(lt,q,it,Y,X){void 0===it&&(it=null),void 0===Y&&(Y=null),void 0===X&&(X=it),Array.isArray(lt)||(lt=[lt]),lt=this.getMatterBodies(lt),q=this.getMatterBodies(q);for(var nt=!1,dt=0;dt<lt.length;dt++)for(var gt=lt[dt],bt=V.collides(gt,q),Et=0;Et<bt.length;Et++){var Bt=bt[Et],Kt=Bt.bodyA.id===gt.id?Bt.bodyB:Bt.bodyA;if(!Y||Y.call(X,gt,Kt,Bt))if(nt=!0,it)it.call(X,gt,Kt,Bt);else if(!Y)return!0}return nt},setCollisionCategory:function(lt,q){return(lt=this.getMatterBodies(lt)).forEach(function(it){it.collisionFilter.category=q}),this},setCollisionGroup:function(lt,q){return(lt=this.getMatterBodies(lt)).forEach(function(it){it.collisionFilter.group=q}),this},setCollidesWith:function(lt,q){lt=this.getMatterBodies(lt);var it=0;if(Array.isArray(q))for(var Y=0;Y<q.length;Y++)it|=q[Y];else it=q;return lt.forEach(function(X){X.collisionFilter.mask=it}),this},getMatterBodies:function(lt){if(!lt)return this.world.getAllBodies();Array.isArray(lt)||(lt=[lt]);for(var q=[],it=0;it<lt.length;it++){var Y=lt[it].hasOwnProperty("body")?lt[it].body:lt[it];q.push(Y)}return q},setVelocity:function(lt,q,it){lt=this.getMatterBodies(lt);var Y=this._tempVec2;return Y.x=q,Y.y=it,lt.forEach(function(X){f.setVelocity(X,Y)}),this},setVelocityX:function(lt,q){lt=this.getMatterBodies(lt);var it=this._tempVec2;return it.x=q,lt.forEach(function(Y){it.y=Y.velocity.y,f.setVelocity(Y,it)}),this},setVelocityY:function(lt,q){lt=this.getMatterBodies(lt);var it=this._tempVec2;return it.y=q,lt.forEach(function(Y){it.x=Y.velocity.x,f.setVelocity(Y,it)}),this},setAngularVelocity:function(lt,q){return(lt=this.getMatterBodies(lt)).forEach(function(it){f.setAngularVelocity(it,q)}),this},applyForce:function(lt,q){lt=this.getMatterBodies(lt);var it=this._tempVec2;return lt.forEach(function(Y){it.x=Y.position.x,it.y=Y.position.y,f.applyForce(Y,it,q)}),this},applyForceFromPosition:function(lt,q,it,Y){lt=this.getMatterBodies(lt);var X=this._tempVec2;return lt.forEach(function(nt){void 0===Y&&(Y=nt.angle),X.x=it*Math.cos(Y),X.y=it*Math.sin(Y),f.applyForce(nt,q,X)}),this},applyForceFromAngle:function(lt,q,it){lt=this.getMatterBodies(lt);var Y=this._tempVec2;return lt.forEach(function(X){void 0===it&&(it=X.angle),Y.x=q*Math.cos(it),Y.y=q*Math.sin(it),f.applyForce(X,{x:X.position.x,y:X.position.y},Y)}),this},getConstraintLength:function(lt){var q=lt.pointA.x,it=lt.pointA.y,Y=lt.pointB.x,X=lt.pointB.y;return lt.bodyA&&(q+=lt.bodyA.position.x,it+=lt.bodyA.position.y),lt.bodyB&&(Y+=lt.bodyB.position.x,X+=lt.bodyB.position.y),T(q,it,Y,X)},alignBody:function(lt,q,it,Y){var X;switch(lt=lt.hasOwnProperty("body")?lt.body:lt,Y){case y.TOP_LEFT:case y.LEFT_TOP:X=this.bodyBounds.getTopLeft(lt,q,it);break;case y.TOP_CENTER:X=this.bodyBounds.getTopCenter(lt,q,it);break;case y.TOP_RIGHT:case y.RIGHT_TOP:X=this.bodyBounds.getTopRight(lt,q,it);break;case y.LEFT_CENTER:X=this.bodyBounds.getLeftCenter(lt,q,it);break;case y.CENTER:X=this.bodyBounds.getCenter(lt,q,it);break;case y.RIGHT_CENTER:X=this.bodyBounds.getRightCenter(lt,q,it);break;case y.LEFT_BOTTOM:case y.BOTTOM_LEFT:X=this.bodyBounds.getBottomLeft(lt,q,it);break;case y.BOTTOM_CENTER:X=this.bodyBounds.getBottomCenter(lt,q,it);break;case y.BOTTOM_RIGHT:case y.RIGHT_BOTTOM:X=this.bodyBounds.getBottomRight(lt,q,it)}return X&&f.setPosition(lt,X),this},shutdown:function(){var lt=this.systems.events;this.world&&(lt.off(G.UPDATE,this.world.update,this.world),lt.off(G.POST_UPDATE,this.world.postUpdate,this.world)),lt.off(G.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(G.START,this.start,this),this.scene=null,this.systems=null}});N.register("MatterPhysics",at,"matterPhysics"),S.exports=at},34803:(S,P,a)=>{var y=a(9674),C=a(83419),g=a(31884),f=a(95643),d=a(95540),c=a(72699),h=a(68287),p=a(26099),u=new C({Extends:h,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,c],initialize:function(v,x,b,T,_,A){f.call(this,v.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new y(this),this.setTexture(T,_),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new p(x,b);var M=d(A,"shape",null);M?this.setBody(M,A):this.setRectangle(this.width,this.height,A),this.setPosition(x,b),this.initPipeline(),this.initPostPipeline(!0)}});S.exports=u},73834:(S,P,a)=>{var y=a(66280),C=a(22562),g=a(83419),f=a(31884),d=a(62644),c=a(50792),h=a(95540),p=a(97022),u=a(41598),m=new g({Extends:c,Mixins:[f.Bounce,f.Collision,f.Friction,f.Gravity,f.Mass,f.Sensor,f.Sleep,f.Static],initialize:function(x,b,T){c.call(this),this.tile=b,this.world=x,b.physics.matterBody&&b.physics.matterBody.destroy(),b.physics.matterBody=this;var _=h(T,"body",null),A=h(T,"addToWorld",!0);if(_)this.setBody(_,A);else{var M=b.getCollisionGroup();h(M,"objects",[]).length>0?this.setFromTileCollision(T):this.setFromTileRectangle(T)}if(b.flipX||b.flipY){var R={x:b.getCenterX(),y:b.getCenterY()};C.scale(_,b.flipX?-1:1,b.flipY?-1:1,R)}},setFromTileRectangle:function(v){void 0===v&&(v={}),p(v,"isStatic")||(v.isStatic=!0),p(v,"addToWorld")||(v.addToWorld=!0);var x=this.tile.getBounds(),_=y.rectangle(x.x+x.width/2,x.y+x.height/2,x.width,x.height,v);return this.setBody(_,v.addToWorld),this},setFromTileCollision:function(v){void 0===v&&(v={}),p(v,"isStatic")||(v.isStatic=!0),p(v,"addToWorld")||(v.addToWorld=!0);for(var x=this.tile.tilemapLayer.scaleX,b=this.tile.tilemapLayer.scaleY,T=this.tile.getLeft(),_=this.tile.getTop(),A=this.tile.getCollisionGroup(),M=h(A,"objects",[]),I=[],R=0;R<M.length;R++){var F=M[R],N=T+F.x*x,V=_+F.y*b,B=F.width*x,G=F.height*b,Q=null;if(F.rectangle)Q=y.rectangle(N+B/2,V+G/2,B,G,v);else if(F.ellipse)Q=y.circle(N+B/2,V+G/2,B/2,v);else if(F.polygon||F.polyline){var K=(F.polygon?F.polygon:F.polyline).map(function(q){return{x:q.x*x,y:q.y*b}}),tt=u.create(K),at=u.centre(tt);Q=y.fromVertices(N+=at.x,V+=at.y,tt,v)}Q&&I.push(Q)}if(1===I.length)this.setBody(I[0],v.addToWorld);else if(I.length>1){var lt=d(v);lt.parts=I,this.setBody(C.create(lt),lt.addToWorld)}return this},setBody:function(v,x){return void 0===x&&(x=!0),this.body&&this.removeBody(),this.body=v,this.body.gameObject=this,x&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});S.exports=m},19496:(S,P,a)=>{var y=a(66280),C=a(22562),g=a(53402),f=a(95540),d=a(41598);S.exports={parseBody:function(h,p,u,m){void 0===m&&(m={});for(var v=f(u,"fixtures",[]),x=[],b=0;b<v.length;b++)for(var T=this.parseFixture(v[b]),_=0;_<T.length;_++)x.push(T[_]);var A=g.clone(u,!0);g.extend(A,m,!0),delete A.fixtures,delete A.type;var M=C.create(A);return C.setParts(M,x),C.setPosition(M,{x:h,y:p}),M},parseFixture:function(h){var u,p=g.extend({},!1,h);if(delete p.circle,delete p.vertices,h.circle){var m=f(h.circle,"x"),v=f(h.circle,"y"),x=f(h.circle,"radius");u=[y.circle(m,v,x,p)]}else h.vertices&&(u=this.parseVertices(h.vertices,p));return u},parseVertices:function(h,p){void 0===p&&(p={});for(var u=[],m=0;m<h.length;m++)d.clockwiseSort(h[m]),u.push(C.create(g.extend({position:d.centre(h[m]),vertices:h[m]},p)));return y.flagCoincidentParts(u)}}},85791:(S,P,a)=>{var y=a(66280),C=a(22562);S.exports={parseBody:function(f,d,c,h){void 0===h&&(h={});var p,u=c.vertices;if(1===u.length)h.vertices=u[0],p=C.create(h),y.flagCoincidentParts(p.parts);else{for(var m=[],v=0;v<u.length;v++){var x=C.create({vertices:u[v]});m.push(x)}y.flagCoincidentParts(m),h.parts=m,p=C.create(h)}return p.label=c.label,C.setPosition(p,{x:f,y:d}),p}}},98713:(S,P,a)=>{var y=a(15647),C=a(83419),g=a(69351),f=a(48140),d=a(81388),c=a(1121),h=a(8214),p=a(46975),u=a(53614),m=a(26099),v=a(41598),x=new C({initialize:function(T,_,A){void 0===A&&(A={}),this.scene=T,this.world=_,this.camera=null,this.pointer=null,this.active=!0,this.position=new m,this.body=null,this.part=null,this.constraint=f.create(p(A,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(c.BEFORE_UPDATE,this.update,this),T.sys.input.on(h.POINTER_DOWN,this.onDown,this),T.sys.input.on(h.POINTER_UP,this.onUp,this)},onDown:function(b){this.pointer||(this.pointer=b,this.camera=b.camera)},onUp:function(b){b===this.pointer&&(this.pointer=null)},getBody:function(b){var T=this.position,_=this.constraint;this.camera.getWorldPoint(b.x,b.y,T);for(var A=g.allBodies(this.world.localWorld),M=0;M<A.length;M++){var I=A[M];if(!I.ignorePointer&&y.contains(I.bounds,T)&&d.canCollide(I.collisionFilter,_.collisionFilter)&&this.hitTestBody(I,T))return this.world.emit(c.DRAG_START,I,this.part,this),!0}return!1},hitTestBody:function(b,T){for(var _=this.constraint,A=b.parts.length,I=A>1?1:0;I<A;I++){var R=b.parts[I];if(v.contains(R.vertices,T))return _.pointA=T,_.pointB={x:T.x-b.position.x,y:T.y-b.position.y},_.bodyB=b,_.angleB=b.angle,u.set(b,!1),this.part=R,this.body=b,!0}return!1},update:function(){var b=this.pointer,T=this.body;if(this.active&&b)if(b.isDown||!T){if(b.isDown){if(!this.camera||!T&&!this.getBody(b))return;T=this.body;var _=this.position,A=this.constraint;this.camera.getWorldPoint(b.x,b.y,_),A.pointA.x=_.x,A.pointA.y=_.y,u.set(T,!1),this.world.emit(c.DRAG,T,this)}}else this.stopDrag();else T&&this.stopDrag()},stopDrag:function(){var b=this.body,T=this.constraint;T.bodyB=null,T.pointB=null,this.pointer=null,this.body=null,this.part=null,b&&this.world.emit(c.DRAG_END,b,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(c.BEFORE_UPDATE,this.update),this.scene.sys.input.off(h.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(h.POINTER_UP,this.onUp,this)}});S.exports=x},68243:(S,P,a)=>{var y=a(66280),C=a(22562),g=a(83419),f=a(53402),d=a(69351),c=a(48413),h=a(50792),p=a(1121),u=a(95540),m=a(35154),v=a(22562),x=a(35810),b=a(73834),T=a(4372),_=a(13037),A=a(31725),M=new g({Extends:h,initialize:function(R,F){h.call(this),this.scene=R,this.engine=c.create(F),this.localWorld=this.engine.world;var N=m(F,"gravity",null);N?this.setGravity(N.x,N.y,N.scale):!1===N&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=m(F,"enabled",!0),this.getDelta=m(F,"getDelta",this.update60Hz);var V=u(F,"runner",{}),B=u(V,"fps",!1),G=u(V,"fps",60),Q=u(V,"delta",1e3/G),H=u(V,"deltaMin",1e3/G),K=u(V,"deltaMax",1e3/(.5*G));B||(G=1e3/Q),this.runner={fps:G,deltaSampleSize:u(V,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:u(V,"isFixed",!1),delta:Q,deltaMin:H,deltaMax:K},this.autoUpdate=m(F,"autoUpdate",!0);var tt=m(F,"debug",!1);if(this.drawDebug="object"==typeof tt||tt,this.debugConfig={showAxes:u(tt,"showAxes",!1),showAngleIndicator:u(tt,"showAngleIndicator",!1),angleColor:u(tt,"angleColor",15208787),showBroadphase:u(tt,"showBroadphase",!1),broadphaseColor:u(tt,"broadphaseColor",16757760),showBounds:u(tt,"showBounds",!1),boundsColor:u(tt,"boundsColor",16777215),showVelocity:u(tt,"showVelocity",!1),velocityColor:u(tt,"velocityColor",44783),showCollisions:u(tt,"showCollisions",!1),collisionColor:u(tt,"collisionColor",16094476),showSeparations:u(tt,"showSeparations",!1),separationColor:u(tt,"separationColor",16753920),showBody:u(tt,"showBody",!0),showStaticBody:u(tt,"showStaticBody",!0),showInternalEdges:u(tt,"showInternalEdges",!1),renderFill:u(tt,"renderFill",!1),renderLine:u(tt,"renderLine",!0),fillColor:u(tt,"fillColor",1075465),fillOpacity:u(tt,"fillOpacity",1),lineColor:u(tt,"lineColor",2678297),lineOpacity:u(tt,"lineOpacity",1),lineThickness:u(tt,"lineThickness",1),staticFillColor:u(tt,"staticFillColor",857979),staticLineColor:u(tt,"staticLineColor",1255396),showSleeping:u(tt,"showSleeping",!1),staticBodySleepOpacity:u(tt,"staticBodySleepOpacity",.7),sleepFillColor:u(tt,"sleepFillColor",4605510),sleepLineColor:u(tt,"sleepLineColor",10066585),showSensors:u(tt,"showSensors",!0),sensorFillColor:u(tt,"sensorFillColor",857979),sensorLineColor:u(tt,"sensorLineColor",1255396),showPositions:u(tt,"showPositions",!0),positionSize:u(tt,"positionSize",4),positionColor:u(tt,"positionColor",14697178),showJoint:u(tt,"showJoint",!0),jointColor:u(tt,"jointColor",14737474),jointLineOpacity:u(tt,"jointLineOpacity",1),jointLineThickness:u(tt,"jointLineThickness",2),pinSize:u(tt,"pinSize",4),pinColor:u(tt,"pinColor",4382944),springColor:u(tt,"springColor",14697184),anchorColor:u(tt,"anchorColor",15724527),anchorSize:u(tt,"anchorSize",4),showConvexHulls:u(tt,"showConvexHulls",!1),hullColor:u(tt,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),u(F,"setBounds",!1)){var at=F.setBounds;if("boolean"==typeof at)this.setBounds();else{var lt=u(at,"x",0),q=u(at,"y",0),it=u(at,"width",R.sys.scale.width),Y=u(at,"height",R.sys.scale.height),X=u(at,"thickness",64),nt=u(at,"left",!0),dt=u(at,"right",!0),gt=u(at,"top",!0),bt=u(at,"bottom",!0);this.setBounds(lt,q,it,Y,X,nt,dt,gt,bt)}}},setCompositeRenderStyle:function(I){var V,B,G,R=I.bodies,F=I.constraints,N=I.composites;for(V=0;V<R.length;V++)this.setBodyRenderStyle(B=R[V],(G=B.render).lineColor,G.lineOpacity,G.lineThickness,G.fillColor,G.fillOpacity);for(V=0;V<F.length;V++)this.setConstraintRenderStyle(B=F[V],(G=B.render).lineColor,G.lineOpacity,G.lineThickness,G.pinSize,G.anchorColor,G.anchorSize);for(V=0;V<N.length;V++)this.setCompositeRenderStyle(B=N[V]);return this},setBodyRenderStyle:function(I,R,F,N,V,B){var G=I.render,Q=this.debugConfig;return G?(null==R&&(R=I.isStatic?Q.staticLineColor:Q.lineColor),null==F&&(F=Q.lineOpacity),null==N&&(N=Q.lineThickness),null==V&&(V=I.isStatic?Q.staticFillColor:Q.fillColor),null==B&&(B=Q.fillOpacity),!1!==R&&(G.lineColor=R),!1!==F&&(G.lineOpacity=F),!1!==N&&(G.lineThickness=N),!1!==V&&(G.fillColor=V),!1!==B&&(G.fillOpacity=B),this):this},setConstraintRenderStyle:function(I,R,F,N,V,B,G){var Q=I.render,H=this.debugConfig;if(!Q)return this;if(null==R){var K=Q.type;"line"===K?R=H.jointColor:"pin"===K?R=H.pinColor:"spring"===K&&(R=H.springColor)}return null==F&&(F=H.jointLineOpacity),null==N&&(N=H.jointLineThickness),null==V&&(V=H.pinSize),null==B&&(B=H.anchorColor),null==G&&(G=H.anchorSize),!1!==R&&(Q.lineColor=R),!1!==F&&(Q.lineOpacity=F),!1!==N&&(Q.lineThickness=N),!1!==V&&(Q.pinSize=V),!1!==B&&(Q.anchorColor=B),!1!==G&&(Q.anchorSize=G),this},setEventsProxy:function(){var I=this,R=this.engine,F=this.localWorld;this.drawDebug&&(x.on(F,"compositeModified",function(N){I.setCompositeRenderStyle(N)}),x.on(F,"beforeAdd",function(N){for(var V=[].concat(N.object),B=0;B<V.length;B++){var G=V[B],Q=G.render;"body"===G.type?I.setBodyRenderStyle(G,Q.lineColor,Q.lineOpacity,Q.lineThickness,Q.fillColor,Q.fillOpacity):"composite"===G.type?I.setCompositeRenderStyle(G):"constraint"===G.type&&I.setConstraintRenderStyle(G,Q.lineColor,Q.lineOpacity,Q.lineThickness,Q.pinSize,Q.anchorColor,Q.anchorSize)}})),x.on(F,"beforeAdd",function(N){I.emit(p.BEFORE_ADD,N)}),x.on(F,"afterAdd",function(N){I.emit(p.AFTER_ADD,N)}),x.on(F,"beforeRemove",function(N){I.emit(p.BEFORE_REMOVE,N)}),x.on(F,"afterRemove",function(N){I.emit(p.AFTER_REMOVE,N)}),x.on(R,"beforeUpdate",function(N){I.emit(p.BEFORE_UPDATE,N)}),x.on(R,"afterUpdate",function(N){I.emit(p.AFTER_UPDATE,N)}),x.on(R,"collisionStart",function(N){var B,G,V=N.pairs;V.length>0&&V.map(function(Q){G=Q.bodyB,(B=Q.bodyA).gameObject&&B.gameObject.emit("collide",B,G,Q),G.gameObject&&G.gameObject.emit("collide",G,B,Q),x.trigger(B,"onCollide",{pair:Q}),x.trigger(G,"onCollide",{pair:Q}),B.onCollideCallback&&B.onCollideCallback(Q),G.onCollideCallback&&G.onCollideCallback(Q),B.onCollideWith[G.id]&&B.onCollideWith[G.id](G,Q),G.onCollideWith[B.id]&&G.onCollideWith[B.id](B,Q)}),I.emit(p.COLLISION_START,N,B,G)}),x.on(R,"collisionActive",function(N){var B,G,V=N.pairs;V.length>0&&V.map(function(Q){G=Q.bodyB,(B=Q.bodyA).gameObject&&B.gameObject.emit("collideActive",B,G,Q),G.gameObject&&G.gameObject.emit("collideActive",G,B,Q),x.trigger(B,"onCollideActive",{pair:Q}),x.trigger(G,"onCollideActive",{pair:Q}),B.onCollideActiveCallback&&B.onCollideActiveCallback(Q),G.onCollideActiveCallback&&G.onCollideActiveCallback(Q)}),I.emit(p.COLLISION_ACTIVE,N,B,G)}),x.on(R,"collisionEnd",function(N){var B,G,V=N.pairs;V.length>0&&V.map(function(Q){G=Q.bodyB,(B=Q.bodyA).gameObject&&B.gameObject.emit("collideEnd",B,G,Q),G.gameObject&&G.gameObject.emit("collideEnd",G,B,Q),x.trigger(B,"onCollideEnd",{pair:Q}),x.trigger(G,"onCollideEnd",{pair:Q}),B.onCollideEndCallback&&B.onCollideEndCallback(Q),G.onCollideEndCallback&&G.onCollideEndCallback(Q)}),I.emit(p.COLLISION_END,N,B,G)})},setBounds:function(I,R,F,N,V,B,G,Q,H){return void 0===I&&(I=0),void 0===R&&(R=0),void 0===F&&(F=this.scene.sys.scale.width),void 0===N&&(N=this.scene.sys.scale.height),void 0===V&&(V=64),void 0===B&&(B=!0),void 0===G&&(G=!0),void 0===Q&&(Q=!0),void 0===H&&(H=!0),this.updateWall(B,"left",I-V,R-V,V,N+2*V),this.updateWall(G,"right",I+F,R-V,V,N+2*V),this.updateWall(Q,"top",I,R-V,F,V),this.updateWall(H,"bottom",I,R+N,F,V),this},updateWall:function(I,R,F,N,V,B){var G=this.walls[R];I?(G&&T.remove(this.localWorld,G),this.walls[R]=this.create(F+=V/2,N+=B/2,V,B,{isStatic:!0,friction:0,frictionStatic:0})):(G&&T.remove(this.localWorld,G),this.walls[R]=null)},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(I,R,F){return void 0===I&&(I=0),void 0===R&&(R=1),void 0===F&&(F=.001),this.localWorld.gravity.x=I,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=F,this},create:function(I,R,F,N,V){var B=y.rectangle(I,R,F,N,V);return T.add(this.localWorld,B),B},add:function(I){return T.add(this.localWorld,I),this},remove:function(I,R){Array.isArray(I)||(I=[I]);for(var F=0;F<I.length;F++){var N=I[F];d.remove(this.localWorld,N.body?N.body:N,R)}return this},removeConstraint:function(I,R){return d.remove(this.localWorld,I,R),this},convertTilemapLayer:function(I,R){var F=I.layer,N=I.getTilesWithin(0,0,F.width,F.height,{isColliding:!0});return this.convertTiles(N,R),this},convertTiles:function(I,R){if(0===I.length)return this;for(var F=0;F<I.length;F++)new b(this,I[F],R);return this},nextGroup:function(I){return v.nextGroup(I)},nextCategory:function(){return v.nextCategory()},pause:function(){return this.enabled=!1,this.emit(p.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=f.now(),this.emit(p.RESUME),this},update:function(I){if(this.enabled&&this.autoUpdate){var R=this.engine,F=this.runner,N=f.now(),V=F.delta,B=0,G=I-F.timeLastTick;if((!G||!F.timeLastTick||G>Math.max(_._maxFrameDelta,F.maxFrameTime))&&(G=F.frameDelta||_._frameDeltaFallback),F.frameDeltaSmoothing){F.frameDeltaHistory.push(G),F.frameDeltaHistory=F.frameDeltaHistory.slice(-F.frameDeltaHistorySize);var Q=F.frameDeltaHistory.slice(0).sort(),H=F.frameDeltaHistory.slice(Q.length*_._smoothingLowerBound,Q.length*_._smoothingUpperBound);G=_._mean(H)||G}F.frameDeltaSnapping&&(G=1e3/Math.round(1e3/G)),F.frameDelta=G,F.timeLastTick=I,F.timeBuffer+=F.frameDelta,F.timeBuffer=f.clamp(F.timeBuffer,0,F.frameDelta+V*_._timeBufferMargin),F.lastUpdatesDeferred=0;for(var tt=F.maxUpdates||Math.ceil(F.maxFrameTime/V),at=f.now();V>0&&F.timeBuffer>=V*_._timeBufferMargin;){c.update(R,V),F.timeBuffer-=V,B+=1;var lt=f.now()-N,q=f.now()-at;if(B>=tt||lt+_._elapsedNextEstimate*q/B>F.maxFrameTime){F.lastUpdatesDeferred=Math.round(Math.max(0,F.timeBuffer/V-_._timeBufferMargin));break}}}},step:function(I){c.update(this.engine,I)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(I){var R=I.hasOwnProperty("body")?I.body:I;return null!==d.get(this.localWorld,R.id,R.type)},getAllBodies:function(){return d.allBodies(this.localWorld)},getAllConstraints:function(){return d.allConstraints(this.localWorld)},getAllComposites:function(){return d.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var I=this.debugConfig,R=this.engine,F=this.debugGraphic,N=d.allBodies(this.localWorld);this.debugGraphic.clear(),I.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,F,I.broadphaseColor,.5),I.showBounds&&this.renderBodyBounds(N,F,I.boundsColor,.5),(I.showBody||I.showStaticBody)&&this.renderBodies(N),I.showJoint&&this.renderJoints(),(I.showAxes||I.showAngleIndicator)&&this.renderBodyAxes(N,F,I.showAxes,I.angleColor,.5),I.showVelocity&&this.renderBodyVelocity(N,F,I.velocityColor,1,2),I.showSeparations&&this.renderSeparations(R.pairs.list,F,I.separationColor),I.showCollisions&&this.renderCollisions(R.pairs.list,F,I.collisionColor)}},renderGrid:function(I,R,F,N){R.lineStyle(1,F,N);for(var V=f.keys(I.buckets),B=0;B<V.length;B++){var G=V[B];if(!(I.buckets[G].length<2)){var Q=G.split(/C|R/);R.strokeRect(parseInt(Q[1],10)*I.bucketWidth,parseInt(Q[2],10)*I.bucketHeight,I.bucketWidth,I.bucketHeight)}}return this},renderSeparations:function(I,R,F){R.lineStyle(1,F,1);for(var N=0;N<I.length;N++){var V=I[N];if(V.isActive){var B=V.collision,G=B.bodyA,Q=B.bodyB,H=G.position,K=Q.position,tt=B.penetration,at=G.isStatic||Q.isStatic?1:4;Q.isStatic&&(at=0),R.lineBetween(K.x,K.y,K.x-tt.x*at,K.y-tt.y*at),at=G.isStatic||Q.isStatic?1:4,G.isStatic&&(at=0),R.lineBetween(H.x,H.y,H.x-tt.x*at,H.y-tt.y*at)}}return this},renderCollisions:function(I,R,F){var N,V;for(R.lineStyle(1,F,.5),R.fillStyle(F,1),N=0;N<I.length;N++)if((V=I[N]).isActive)for(var B=0;B<V.contactCount;B++){var Q=V.contacts[B].vertex;Q&&R.fillRect(Q.x-2,Q.y-2,5,5)}for(N=0;N<I.length;N++)if((V=I[N]).isActive){var H=V.collision,K=V.contacts;if(V.contactCount>0){var tt=K[0].vertex.x,at=K[0].vertex.y;2===V.contactCount&&(tt=(K[0].vertex.x+K[1].vertex.x)/2,at=(K[0].vertex.y+K[1].vertex.y)/2),H.bodyB===H.supports[0].body||H.bodyA.isStatic?R.lineBetween(tt-8*H.normal.x,at-8*H.normal.y,tt,at):R.lineBetween(tt+8*H.normal.x,at+8*H.normal.y,tt,at)}}return this},renderBodyBounds:function(I,R,F,N){R.lineStyle(1,F,N);for(var V=0;V<I.length;V++){var B=I[V];if(B.render.visible){var G=B.bounds;if(G)R.strokeRect(G.min.x,G.min.y,G.max.x-G.min.x,G.max.y-G.min.y);else for(var Q=B.parts,H=Q.length>1?1:0;H<Q.length;H++){var K=Q[H];R.strokeRect(K.bounds.min.x,K.bounds.min.y,K.bounds.max.x-K.bounds.min.x,K.bounds.max.y-K.bounds.min.y)}}}return this},renderBodyAxes:function(I,R,F,N,V){R.lineStyle(1,N,V);for(var B=0;B<I.length;B++){var H,K,tt,G=I[B],Q=G.parts;if(G.render.visible)if(F)for(K=Q.length>1?1:0;K<Q.length;K++)for(H=Q[K],tt=0;tt<H.axes.length;tt++){var at=H.axes[tt];R.lineBetween(H.position.x,H.position.y,H.position.x+20*at.x,H.position.y+20*at.y)}else for(K=Q.length>1?1:0;K<Q.length;K++)for(H=Q[K],tt=0;tt<H.axes.length;tt++)R.lineBetween(H.position.x,H.position.y,(H.vertices[0].x+H.vertices[H.vertices.length-1].x)/2,(H.vertices[0].y+H.vertices[H.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(I,R,F,N,V){R.lineStyle(V,F,N);for(var B=0;B<I.length;B++){var G=I[B];G.render.visible&&R.lineBetween(G.position.x,G.position.y,G.position.x+2*(G.position.x-G.positionPrev.x),G.position.y+2*(G.position.y-G.positionPrev.y))}return this},renderBodies:function(I){for(var R=this.debugGraphic,F=this.debugConfig,N=F.showBody,V=F.showStaticBody,B=F.showSleeping,G=F.showInternalEdges,Q=F.showConvexHulls,H=F.renderFill,K=F.renderLine,tt=F.staticBodySleepOpacity,at=F.sleepFillColor,lt=F.sleepLineColor,q=F.hullColor,it=0;it<I.length;it++){var Y=I[it];if(Y.render.visible&&(V||!Y.isStatic)&&(N||Y.isStatic)){var X=Y.render.lineColor,nt=Y.render.lineOpacity,dt=Y.render.lineThickness,gt=Y.render.fillColor,bt=Y.render.fillOpacity;B&&Y.isSleeping&&(Y.isStatic?(nt*=tt,bt*=tt):(X=lt,gt=at)),H||(gt=null),K||(X=null),this.renderBody(Y,R,G,X,nt,dt,gt,bt),Q&&Y.parts.length>1&&this.renderConvexHull(Y,R,q,dt)}}},renderBody:function(I,R,F,N,V,B,G,Q){void 0===N&&(N=null),void 0===V&&(V=null),void 0===B&&(B=1),void 0===G&&(G=null),void 0===Q&&(Q=null);for(var H=this.debugConfig,K=H.sensorFillColor,tt=H.sensorLineColor,at=I.parts,lt=at.length,q=lt>1?1:0;q<lt;q++){var it=at[q],Y=it.render,X=Y.opacity;if(Y.visible&&0!==X&&(!it.isSensor||H.showSensors)){var nt=it.circleRadius;if(R.beginPath(),it.isSensor?(null!==G&&R.fillStyle(K,Q*X),null!==N&&R.lineStyle(B,tt,V*X)):(null!==G&&R.fillStyle(G,Q*X),null!==N&&R.lineStyle(B,N,V*X)),nt)R.arc(it.position.x,it.position.y,nt,0,2*Math.PI);else{var dt=it.vertices,gt=dt.length;R.moveTo(dt[0].x,dt[0].y);for(var bt=1;bt<gt;bt++){var Et=dt[bt];if(!dt[bt-1].isInternal||F?R.lineTo(Et.x,Et.y):R.moveTo(Et.x,Et.y),bt<gt&&Et.isInternal&&!F){var Bt=(bt+1)%gt;R.moveTo(dt[Bt].x,dt[Bt].y)}}R.closePath()}null!==G&&R.fillPath(),null!==N&&R.strokePath()}}if(H.showPositions&&!I.isStatic){var Kt=I.position.x,Zt=I.position.y,ne=Math.ceil(H.positionSize/2);R.fillStyle(H.positionColor,1),R.fillRect(Kt-ne,Zt-ne,H.positionSize,H.positionSize)}return this},renderConvexHull:function(I,R,F,N){if(void 0===N&&(N=1),I.parts.length>1){var G=I.vertices;R.lineStyle(N,F),R.beginPath(),R.moveTo(G[0].x,G[0].y);for(var Q=1;Q<G.length;Q++)R.lineTo(G[Q].x,G[Q].y);R.lineTo(G[0].x,G[0].y),R.strokePath()}return this},renderJoints:function(){for(var I=this.debugGraphic,R=d.allConstraints(this.localWorld),F=0;F<R.length;F++){var N=R[F].render;this.renderConstraint(R[F],I,N.lineColor,N.lineOpacity,N.lineThickness,N.pinSize,N.anchorColor,N.anchorSize)}},renderConstraint:function(I,R,F,N,V,B,G,Q){var H=I.render;if(!H.visible||!I.pointA||!I.pointB)return this;R.lineStyle(V,F,N);var at,lt,K=I.bodyA,tt=I.bodyB;if(at=K?A.add(K.position,I.pointA):I.pointA,"pin"===H.type)R.strokeCircle(at.x,at.y,B);else{if(lt=tt?A.add(tt.position,I.pointB):I.pointB,R.beginPath(),R.moveTo(at.x,at.y),"spring"===H.type)for(var X,q=A.sub(lt,at),it=A.perp(A.normalise(q)),Y=Math.ceil(f.clamp(I.length/5,12,20)),nt=1;nt<Y;nt+=1)R.lineTo(at.x+q.x*(nt/Y)+it.x*(X=nt%2==0?1:-1)*4,at.y+q.y*(nt/Y)+it.y*X*4);R.lineTo(lt.x,lt.y)}return R.strokePath(),H.anchors&&Q>0&&(R.fillStyle(G),R.fillCircle(at.x,at.y,Q),R.fillCircle(lt.x,lt.y,Q)),this},resetCollisionIDs:function(){return C._nextCollidingGroupId=1,C._nextNonCollidingGroupId=-1,C._nextCategory=1,this},shutdown:function(){x.off(this.engine),this.removeAllListeners(),T.clear(this.localWorld,!1),c.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});S.exports=M},70410:S=>{S.exports={setBounce:function(a){return this.body.restitution=a,this}}},66968:S=>{S.exports={setCollisionCategory:function(a){return this.body.collisionFilter.category=a,this},setCollisionGroup:function(a){return this.body.collisionFilter.group=a,this},setCollidesWith:function(a){var y=0;if(Array.isArray(a))for(var C=0;C<a.length;C++)y|=a[C];else y=a;return this.body.collisionFilter.mask=y,this},setOnCollide:function(a){return this.body.onCollideCallback=a,this},setOnCollideEnd:function(a){return this.body.onCollideEndCallback=a,this},setOnCollideActive:function(a){return this.body.onCollideActiveCallback=a,this},setOnCollideWith:function(a,y){Array.isArray(a)||(a=[a]);for(var C=0;C<a.length;C++){var g=a[C].hasOwnProperty("body")?a[C].body:a[C];this.body.setOnCollideWith(g,y)}return this}}},51607:(S,P,a)=>{var y=a(22562);S.exports={applyForce:function(g){return this._tempVec2.set(this.body.position.x,this.body.position.y),y.applyForce(this.body,this._tempVec2,g),this},applyForceFrom:function(g,f){return y.applyForce(this.body,g,f),this},thrust:function(g){var f=this.body.angle;return this._tempVec2.set(g*Math.cos(f),g*Math.sin(f)),y.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(g){var f=this.body.angle-Math.PI/2;return this._tempVec2.set(g*Math.cos(f),g*Math.sin(f)),y.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(g){var f=this.body.angle+Math.PI/2;return this._tempVec2.set(g*Math.cos(f),g*Math.sin(f)),y.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(g){var f=this.body.angle-Math.PI;return this._tempVec2.set(g*Math.cos(f),g*Math.sin(f)),y.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}}},5436:S=>{S.exports={setFriction:function(a,y,C){return this.body.friction=a,void 0!==y&&(this.body.frictionAir=y),void 0!==C&&(this.body.frictionStatic=C),this},setFrictionAir:function(a){return this.body.frictionAir=a,this},setFrictionStatic:function(a){return this.body.frictionStatic=a,this}}},39858:S=>{S.exports={setIgnoreGravity:function(a){return this.body.ignoreGravity=a,this}}},37302:(S,P,a)=>{var y=a(22562),C=a(26099);S.exports={setMass:function(f){return y.setMass(this.body,f),this},setDensity:function(f){return y.setDensity(this.body,f),this},centerOfMass:{get:function(){return new C(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},39132:S=>{S.exports={setSensor:function(a){return this.body.isSensor=a,this},isSensor:function(){return this.body.isSensor}}},57772:(S,P,a)=>{var y=a(66280),C=a(22562),g=a(43855),f=a(95540),d=a(19496),c=a(85791),h=a(41598);S.exports={setRectangle:function(u,m,v){return this.setBody({type:"rectangle",width:u,height:m},v)},setCircle:function(u,m){return this.setBody({type:"circle",radius:u},m)},setPolygon:function(u,m,v){return this.setBody({type:"polygon",sides:m,radius:u},v)},setTrapezoid:function(u,m,v,x){return this.setBody({type:"trapezoid",width:u,height:m,slope:v},x)},setExistingBody:function(u,m){void 0===m&&(m=!0),this.body&&this.world.remove(this.body,!0),this.body=u;for(var v=0;v<u.parts.length;v++)u.parts[v].gameObject=this;var x=this;if(u.destroy=function(){x.world.remove(x.body,!0),x.body.gameObject=null},m&&(this.world.has(u)&&this.world.remove(u,!0),this.world.add(u)),this._originComponent){var b=u.render.sprite.xOffset,T=u.render.sprite.yOffset,A=u.centerOfMass.y;g(u.centerOfMass.x,.5)&&g(A,.5)?this.setOrigin(b+.5,T+.5):this.setOrigin(b+u.centerOffset.x/this.displayWidth,T+u.centerOffset.y/this.displayHeight)}return this},setBody:function(u,m){if(!u)return this;var v;"string"==typeof u&&(u={type:u});var x=f(u,"type","rectangle"),b=f(u,"x",this._tempVec2.x),T=f(u,"y",this._tempVec2.y),_=f(u,"width",this.width),A=f(u,"height",this.height);switch(x){case"rectangle":v=y.rectangle(b,T,_,A,m);break;case"circle":var M=f(u,"radius",Math.max(_,A)/2),I=f(u,"maxSides",25);v=y.circle(b,T,M,m,I);break;case"trapezoid":var R=f(u,"slope",.5);v=y.trapezoid(b,T,_,A,R,m);break;case"polygon":var F=f(u,"sides",5),N=f(u,"radius",Math.max(_,A)/2);v=y.polygon(b,T,F,N,m);break;case"fromVertices":case"fromVerts":var V=f(u,"verts",null);if(V)if("string"==typeof V&&(V=h.fromPath(V)),this.body&&!this.body.hasOwnProperty("temp"))C.setVertices(this.body,V),v=this.body;else{var B=f(u,"flagInternal",!1),G=f(u,"removeCollinear",.01),Q=f(u,"minimumArea",10);v=y.fromVertices(b,T,V,m,B,G,Q)}break;case"fromPhysicsEditor":v=d.parseBody(b,T,u,m);break;case"fromPhysicsTracer":v=c.parseBody(b,T,u,m)}return v&&this.setExistingBody(v,u.addToWorld),this}}},38083:(S,P,a)=>{var y=a(1121),C=a(53614),g=a(35810);S.exports={setToSleep:function(){return C.set(this.body,!0),this},setAwake:function(){return C.set(this.body,!1),this},setSleepThreshold:function(d){return void 0===d&&(d=60),this.body.sleepThreshold=d,this},setSleepEvents:function(d,c){return this.setSleepStartEvent(d),this.setSleepEndEvent(c),this},setSleepStartEvent:function(d){if(d){var c=this.world;g.on(this.body,"sleepStart",function(h){c.emit(y.SLEEP_START,h,this)})}else g.off(this.body,"sleepStart");return this},setSleepEndEvent:function(d){if(d){var c=this.world;g.on(this.body,"sleepEnd",function(h){c.emit(y.SLEEP_END,h,this)})}else g.off(this.body,"sleepEnd");return this}}},90556:(S,P,a)=>{var y=a(22562);S.exports={setStatic:function(g){return y.setStatic(this.body,g),this},isStatic:function(){return this.body.isStatic}}},85436:(S,P,a)=>{var y=a(22562),C=a(36383),g=a(86554),f=a(30954);S.exports={x:{get:function(){return this.body.position.x},set:function(h){this._tempVec2.set(h,this.y),y.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(h){this._tempVec2.set(this.x,h),y.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(h){var p=1/this._scaleX,u=1/this._scaleY;this._scaleX=h,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,y.scale(this.body,p,u),y.scale(this.body,h,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(h){var p=1/this._scaleX,u=1/this._scaleY;this._scaleY=h,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,y.scale(this.body,p,u),y.scale(this.body,this._scaleX,h)}},angle:{get:function(){return f(this.body.angle*C.RAD_TO_DEG)},set:function(h){this.rotation=f(h)*C.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(h){this._rotation=g(h),y.setAngle(this.body,this._rotation)}},setPosition:function(h,p){return void 0===h&&(h=0),void 0===p&&(p=h),this._tempVec2.set(h,p),y.setPosition(this.body,this._tempVec2),this},setRotation:function(h){return void 0===h&&(h=0),this._rotation=g(h),y.setAngle(this.body,h),this},setFixedRotation:function(){return y.setInertia(this.body,1/0),this},setAngle:function(h){return void 0===h&&(h=0),this.angle=h,y.setAngle(this.body,this.rotation),this},setScale:function(h,p,u){void 0===h&&(h=1),void 0===p&&(p=h);var m=1/this._scaleX,v=1/this._scaleY;return this._scaleX=h,this._scaleY=p,y.scale(this.body,m,v,u),y.scale(this.body,h,p,u),this}}},42081:(S,P,a)=>{var y=a(22562);S.exports={setVelocityX:function(g){return this._tempVec2.set(g,this.body.velocity.y),y.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(g){return this._tempVec2.set(this.body.velocity.x,g),y.setVelocity(this.body,this._tempVec2),this},setVelocity:function(g,f){return this._tempVec2.set(g,f),y.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return y.getVelocity(this.body)},setAngularVelocity:function(g){return y.setAngularVelocity(this.body,g),this},getAngularVelocity:function(){return y.getAngularVelocity(this.body)},setAngularSpeed:function(g){return y.setAngularSpeed(this.body,g),this},getAngularSpeed:function(){return y.getAngularSpeed(this.body)}}},31884:(S,P,a)=>{S.exports={Bounce:a(70410),Collision:a(66968),Force:a(51607),Friction:a(5436),Gravity:a(39858),Mass:a(37302),Sensor:a(39132),SetBody:a(57772),Sleep:a(38083),Static:a(90556),Transform:a(85436),Velocity:a(42081)}},85608:S=>{S.exports="afteradd"},1213:S=>{S.exports="afterremove"},25968:S=>{S.exports="afterupdate"},67205:S=>{S.exports="beforeadd"},39438:S=>{S.exports="beforeremove"},44823:S=>{S.exports="beforeupdate"},92593:S=>{S.exports="collisionactive"},60128:S=>{S.exports="collisionend"},76861:S=>{S.exports="collisionstart"},92362:S=>{S.exports="dragend"},76408:S=>{S.exports="drag"},93971:S=>{S.exports="dragstart"},5656:S=>{S.exports="pause"},47861:S=>{S.exports="resume"},79099:S=>{S.exports="sleepend"},35906:S=>{S.exports="sleepstart"},1121:(S,P,a)=>{S.exports={AFTER_ADD:a(85608),AFTER_REMOVE:a(1213),AFTER_UPDATE:a(25968),BEFORE_ADD:a(67205),BEFORE_REMOVE:a(39438),BEFORE_UPDATE:a(44823),COLLISION_ACTIVE:a(92593),COLLISION_END:a(60128),COLLISION_START:a(76861),DRAG_END:a(92362),DRAG:a(76408),DRAG_START:a(93971),PAUSE:a(5656),RESUME:a(47861),SLEEP_END:a(79099),SLEEP_START:a(35906)}},3875:(S,P,a)=>{S.exports={BodyBounds:a(68174),Components:a(31884),Events:a(1121),Factory:a(28137),MatterGameObject:a(75803),Image:a(23181),Matter:a(19933),MatterPhysics:a(42045),PolyDecomp:a(55973),Sprite:a(34803),TileBody:a(73834),PhysicsEditorParser:a(19496),PhysicsJSONParser:a(85791),PointerConstraint:a(98713),World:a(68243)}},22562:(S,P,a)=>{var y={};S.exports=y;var C=a(41598),g=a(31725),f=a(53614),d=a(53402),c=a(15647),h=a(66615);!function(){y._timeCorrection=!0,y._inertiaScale=4,y._nextCollidingGroupId=1,y._nextNonCollidingGroupId=-1,y._nextCategory=1,y._baseDelta=16.666666666666668,y.create=function(u){var m={id:d.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:u.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!u.hasOwnProperty("position")&&u.hasOwnProperty("vertices")?u.position=C.centre(u.vertices):u.hasOwnProperty("vertices")||(m.vertices=C.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var v=d.extend(m,u);return p(v,u),v.setOnCollideWith=function(x,b){return b?this.onCollideWith[x.id]=b:delete this.onCollideWith[x.id],this},v},y.nextGroup=function(u){return u?y._nextNonCollidingGroupId--:y._nextCollidingGroupId++},y.nextCategory=function(){return y._nextCategory=y._nextCategory<<1,y._nextCategory};var p=function(u,m){if(m=m||{},y.set(u,{bounds:u.bounds||c.create(u.vertices),positionPrev:u.positionPrev||g.clone(u.position),anglePrev:u.anglePrev||u.angle,vertices:u.vertices,parts:u.parts||[u],isStatic:u.isStatic,isSleeping:u.isSleeping,parent:u.parent||u}),C.rotate(u.vertices,u.angle,u.position),h.rotate(u.axes,u.angle),c.update(u.bounds,u.vertices,u.velocity),y.set(u,{axes:m.axes||u.axes,area:m.area||u.area,mass:m.mass||u.mass,inertia:m.inertia||u.inertia}),1===u.parts.length){var v=u.bounds,x=u.centerOfMass,b=u.centerOffset,T=v.max.x-v.min.x,_=v.max.y-v.min.y;x.x=-(v.min.x-u.position.x)/T,x.y=-(v.min.y-u.position.y)/_,b.x=T*x.x,b.y=_*x.y}};y.set=function(u,m,v){var x;for(x in"string"==typeof m&&(x=m,(m={})[x]=v),m)if(Object.prototype.hasOwnProperty.call(m,x))switch(v=m[x],x){case"isStatic":y.setStatic(u,v);break;case"isSleeping":f.set(u,v);break;case"mass":y.setMass(u,v);break;case"density":y.setDensity(u,v);break;case"inertia":y.setInertia(u,v);break;case"vertices":y.setVertices(u,v);break;case"position":y.setPosition(u,v);break;case"angle":y.setAngle(u,v);break;case"velocity":y.setVelocity(u,v);break;case"angularVelocity":y.setAngularVelocity(u,v);break;case"speed":y.setSpeed(u,v);break;case"angularSpeed":y.setAngularSpeed(u,v);break;case"parts":y.setParts(u,v);break;case"centre":y.setCentre(u,v);break;default:u[x]=v}},y.setStatic=function(u,m){for(var v=0;v<u.parts.length;v++){var x=u.parts[v];m?(x.isStatic||(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia}),x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null),x.isStatic=m}},y.setMass=function(u,m){u.inertia=u.inertia/(u.mass/6)*(m/6),u.inverseInertia=1/u.inertia,u.mass=m,u.inverseMass=1/u.mass,u.density=u.mass/u.area},y.setDensity=function(u,m){y.setMass(u,m*u.area),u.density=m},y.setInertia=function(u,m){u.inertia=m,u.inverseInertia=1/u.inertia},y.setVertices=function(u,m){u.vertices=m[0].body===u?m:C.create(m,u),u.axes=h.fromVertices(u.vertices),u.area=C.area(u.vertices),y.setMass(u,u.density*u.area);var v=C.centre(u.vertices);C.translate(u.vertices,v,-1),y.setInertia(u,y._inertiaScale*C.inertia(u.vertices,u.mass)),C.translate(u.vertices,u.position),c.update(u.bounds,u.vertices,u.velocity)},y.setParts=function(u,m,v){var x;for(m=m.slice(0),u.parts.length=0,u.parts.push(u),u.parent=u,x=0;x<m.length;x++){var b=m[x];b!==u&&(b.parent=u,u.parts.push(b))}if(1!==u.parts.length){if(v=!(typeof v<"u")||v){var T=[];for(x=0;x<m.length;x++)T=T.concat(m[x].vertices);C.clockwiseSort(T);var _=C.hull(T),A=C.centre(_);y.setVertices(u,_),C.translate(u.vertices,A)}var M=y._totalProperties(u),I=M.centre.x,R=M.centre.y,F=u.bounds,N=u.centerOfMass,V=u.centerOffset;c.update(F,u.vertices,u.velocity),N.x=-(F.min.x-I)/(F.max.x-F.min.x),N.y=-(F.min.y-R)/(F.max.y-F.min.y),V.x=I,V.y=R,u.area=M.area,u.parent=u,u.position.x=I,u.position.y=R,u.positionPrev.x=I,u.positionPrev.y=R,y.setMass(u,M.mass),y.setInertia(u,M.inertia),y.setPosition(u,M.centre)}},y.setCentre=function(u,m,v){v?(u.positionPrev.x+=m.x,u.positionPrev.y+=m.y,u.position.x+=m.x,u.position.y+=m.y):(u.positionPrev.x=m.x-(u.position.x-u.positionPrev.x),u.positionPrev.y=m.y-(u.position.y-u.positionPrev.y),u.position.x=m.x,u.position.y=m.y)},y.setPosition=function(u,m,v){var x=g.sub(m,u.position);v?(u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.velocity.x=x.x,u.velocity.y=x.y,u.speed=g.magnitude(x)):(u.positionPrev.x+=x.x,u.positionPrev.y+=x.y);for(var b=0;b<u.parts.length;b++){var T=u.parts[b];T.position.x+=x.x,T.position.y+=x.y,C.translate(T.vertices,x),c.update(T.bounds,T.vertices,u.velocity)}},y.setAngle=function(u,m,v){var x=m-u.angle;v?(u.anglePrev=u.angle,u.angularVelocity=x,u.angularSpeed=Math.abs(x)):u.anglePrev+=x;for(var b=0;b<u.parts.length;b++){var T=u.parts[b];T.angle+=x,C.rotate(T.vertices,x,u.position),h.rotate(T.axes,x),c.update(T.bounds,T.vertices,u.velocity),b>0&&g.rotateAbout(T.position,x,u.position,T.position)}},y.setVelocity=function(u,m){var v=u.deltaTime/y._baseDelta;u.positionPrev.x=u.position.x-m.x*v,u.positionPrev.y=u.position.y-m.y*v,u.velocity.x=(u.position.x-u.positionPrev.x)/v,u.velocity.y=(u.position.y-u.positionPrev.y)/v,u.speed=g.magnitude(u.velocity)},y.getVelocity=function(u){var m=y._baseDelta/u.deltaTime;return{x:(u.position.x-u.positionPrev.x)*m,y:(u.position.y-u.positionPrev.y)*m}},y.getSpeed=function(u){return g.magnitude(y.getVelocity(u))},y.setSpeed=function(u,m){y.setVelocity(u,g.mult(g.normalise(y.getVelocity(u)),m))},y.setAngularVelocity=function(u,m){var v=u.deltaTime/y._baseDelta;u.anglePrev=u.angle-m*v,u.angularVelocity=(u.angle-u.anglePrev)/v,u.angularSpeed=Math.abs(u.angularVelocity)},y.getAngularVelocity=function(u){return(u.angle-u.anglePrev)*y._baseDelta/u.deltaTime},y.getAngularSpeed=function(u){return Math.abs(y.getAngularVelocity(u))},y.setAngularSpeed=function(u,m){y.setAngularVelocity(u,d.sign(y.getAngularVelocity(u))*m)},y.translate=function(u,m,v){y.setPosition(u,g.add(u.position,m),v)},y.rotate=function(u,m,v,x){if(v){var b=Math.cos(m),T=Math.sin(m),_=u.position.x-v.x,A=u.position.y-v.y;y.setPosition(u,{x:v.x+(_*b-A*T),y:v.y+(_*T+A*b)},x),y.setAngle(u,u.angle+m,x)}else y.setAngle(u,u.angle+m,x)},y.scale=function(u,m,v,x){var b=0,T=0;x=x||u.position;for(var _=u.inertia===1/0,A=0;A<u.parts.length;A++){var M=u.parts[A];M.scale.x=m,M.scale.y=v,C.scale(M.vertices,m,v,x),M.axes=h.fromVertices(M.vertices),M.area=C.area(M.vertices),y.setMass(M,u.density*M.area),C.translate(M.vertices,{x:-M.position.x,y:-M.position.y}),y.setInertia(M,y._inertiaScale*C.inertia(M.vertices,M.mass)),C.translate(M.vertices,{x:M.position.x,y:M.position.y}),A>0&&(b+=M.area,T+=M.inertia),M.position.x=x.x+(M.position.x-x.x)*m,M.position.y=x.y+(M.position.y-x.y)*v,c.update(M.bounds,M.vertices,u.velocity)}u.parts.length>1&&(u.area=b,u.isStatic||(y.setMass(u,u.density*b),y.setInertia(u,T))),u.circleRadius&&(m===v?u.circleRadius*=m:u.circleRadius=null),_&&y.setInertia(u,1/0)},y.update=function(u,m){var v=(m=(typeof m<"u"?m:16.666666666666668)*u.timeScale)*m,x=y._timeCorrection?m/(u.deltaTime||m):1,b=1-u.frictionAir*(m/d._baseDelta),_=(u.position.y-u.positionPrev.y)*x;u.velocity.x=(u.position.x-u.positionPrev.x)*x*b+u.force.x/u.mass*v,u.velocity.y=_*b+u.force.y/u.mass*v,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.position.x+=u.velocity.x,u.position.y+=u.velocity.y,u.deltaTime=m,u.angularVelocity=(u.angle-u.anglePrev)*b*x+u.torque/u.inertia*v,u.anglePrev=u.angle,u.angle+=u.angularVelocity,u.speed=g.magnitude(u.velocity),u.angularSpeed=Math.abs(u.angularVelocity);for(var A=0;A<u.parts.length;A++){var M=u.parts[A];C.translate(M.vertices,u.velocity),A>0&&(M.position.x+=u.velocity.x,M.position.y+=u.velocity.y),0!==u.angularVelocity&&(C.rotate(M.vertices,u.angularVelocity,u.position),h.rotate(M.axes,u.angularVelocity),A>0&&g.rotateAbout(M.position,u.angularVelocity,u.position,M.position)),c.update(M.bounds,M.vertices,u.velocity)}},y.updateVelocities=function(u){var m=y._baseDelta/u.deltaTime,v=u.velocity;v.x=(u.position.x-u.positionPrev.x)*m,v.y=(u.position.y-u.positionPrev.y)*m,u.speed=Math.sqrt(v.x*v.x+v.y*v.y),u.angularVelocity=(u.angle-u.anglePrev)*m,u.angularSpeed=Math.abs(u.angularVelocity)},y.applyForce=function(u,m,v){var x_x=m.x-u.position.x,x_y=m.y-u.position.y;u.force.x+=v.x,u.force.y+=v.y,u.torque+=x_x*v.y-x_y*v.x},y._totalProperties=function(u){for(var m={mass:0,area:0,inertia:0,centre:{x:0,y:0}},v=1===u.parts.length?0:1;v<u.parts.length;v++){var x=u.parts[v],b=x.mass!==1/0?x.mass:1;m.mass+=b,m.area+=x.area,m.inertia+=x.inertia,m.centre=g.add(m.centre,g.mult(x.position,b))}return m.centre=g.div(m.centre,m.mass),m},y.wrap=function(u,m){var v=c.wrap(u.bounds,m);return v&&y.translate(u,v),v}}()},69351:(S,P,a)=>{var y={};S.exports=y;var C=a(35810),g=a(53402),f=a(15647),d=a(22562);y.create=function(c){return g.extend({id:g.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},c)},y.setModified=function(c,h,p,u){if(C.trigger(c,"compositeModified",c),c.isModified=h,h&&c.cache&&(c.cache.allBodies=null,c.cache.allConstraints=null,c.cache.allComposites=null),p&&c.parent&&y.setModified(c.parent,h,p,u),u)for(var m=0;m<c.composites.length;m++)y.setModified(c.composites[m],h,p,u)},y.add=function(c,h){var p=[].concat(h);C.trigger(c,"beforeAdd",{object:h});for(var u=0;u<p.length;u++){var m=p[u];switch(m.type){case"body":if(m.parent!==m){g.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}y.addBody(c,m);break;case"constraint":y.addConstraint(c,m);break;case"composite":y.addComposite(c,m);break;case"mouseConstraint":y.addConstraint(c,m.constraint)}}return C.trigger(c,"afterAdd",{object:h}),c},y.remove=function(c,h,p){var u=[].concat(h);C.trigger(c,"beforeRemove",{object:h});for(var m=0;m<u.length;m++){var v=u[m];switch(v.type){case"body":y.removeBody(c,v,p);break;case"constraint":y.removeConstraint(c,v,p);break;case"composite":y.removeComposite(c,v,p);break;case"mouseConstraint":y.removeConstraint(c,v.constraint)}}return C.trigger(c,"afterRemove",{object:h}),c},y.addComposite=function(c,h){return c.composites.push(h),h.parent=c,y.setModified(c,!0,!0,!1),c},y.removeComposite=function(c,h,p){var u=g.indexOf(c.composites,h);if(-1!==u){var m=y.allBodies(h);y.removeCompositeAt(c,u);for(var v=0;v<m.length;v++)m[v].sleepCounter=0}if(p)for(v=0;v<c.composites.length;v++)y.removeComposite(c.composites[v],h,!0);return c},y.removeCompositeAt=function(c,h){return c.composites.splice(h,1),y.setModified(c,!0,!0,!1),c},y.addBody=function(c,h){return c.bodies.push(h),y.setModified(c,!0,!0,!1),c},y.removeBody=function(c,h,p){var u=g.indexOf(c.bodies,h);if(-1!==u&&(y.removeBodyAt(c,u),h.sleepCounter=0),p)for(var m=0;m<c.composites.length;m++)y.removeBody(c.composites[m],h,!0);return c},y.removeBodyAt=function(c,h){return c.bodies.splice(h,1),y.setModified(c,!0,!0,!1),c},y.addConstraint=function(c,h){return c.constraints.push(h),y.setModified(c,!0,!0,!1),c},y.removeConstraint=function(c,h,p){var u=g.indexOf(c.constraints,h);if(-1!==u&&y.removeConstraintAt(c,u),p)for(var m=0;m<c.composites.length;m++)y.removeConstraint(c.composites[m],h,!0);return c},y.removeConstraintAt=function(c,h){return c.constraints.splice(h,1),y.setModified(c,!0,!0,!1),c},y.clear=function(c,h,p){if(p)for(var u=0;u<c.composites.length;u++)y.clear(c.composites[u],h,!0);return h?c.bodies=c.bodies.filter(function(m){return m.isStatic}):c.bodies.length=0,c.constraints.length=0,c.composites.length=0,y.setModified(c,!0,!0,!1),c},y.allBodies=function(c){if(c.cache&&c.cache.allBodies)return c.cache.allBodies;for(var h=[].concat(c.bodies),p=0;p<c.composites.length;p++)h=h.concat(y.allBodies(c.composites[p]));return c.cache&&(c.cache.allBodies=h),h},y.allConstraints=function(c){if(c.cache&&c.cache.allConstraints)return c.cache.allConstraints;for(var h=[].concat(c.constraints),p=0;p<c.composites.length;p++)h=h.concat(y.allConstraints(c.composites[p]));return c.cache&&(c.cache.allConstraints=h),h},y.allComposites=function(c){if(c.cache&&c.cache.allComposites)return c.cache.allComposites;for(var h=[].concat(c.composites),p=0;p<c.composites.length;p++)h=h.concat(y.allComposites(c.composites[p]));return c.cache&&(c.cache.allComposites=h),h},y.get=function(c,h,p){var u,m;switch(p){case"body":u=y.allBodies(c);break;case"constraint":u=y.allConstraints(c);break;case"composite":u=y.allComposites(c).concat(c)}return u?0===(m=u.filter(function(v){return v.id.toString()===h.toString()})).length?null:m[0]:null},y.move=function(c,h,p){return y.remove(c,h),y.add(p,h),c},y.rebase=function(c){for(var h=y.allBodies(c).concat(y.allConstraints(c)).concat(y.allComposites(c)),p=0;p<h.length;p++)h[p].id=g.nextId();return c},y.translate=function(c,h,p){for(var u=p?y.allBodies(c):c.bodies,m=0;m<u.length;m++)d.translate(u[m],h);return c},y.rotate=function(c,h,p,u){for(var m=Math.cos(h),v=Math.sin(h),x=u?y.allBodies(c):c.bodies,b=0;b<x.length;b++){var T=x[b],_=T.position.x-p.x,A=T.position.y-p.y;d.setPosition(T,{x:p.x+(_*m-A*v),y:p.y+(_*v+A*m)}),d.rotate(T,h)}return c},y.scale=function(c,h,p,u,m){for(var v=m?y.allBodies(c):c.bodies,x=0;x<v.length;x++){var b=v[x];d.setPosition(b,{x:u.x+(b.position.x-u.x)*h,y:u.y+(b.position.y-u.y)*p}),d.scale(b,h,p)}return c},y.bounds=function(c){for(var h=y.allBodies(c),p=[],u=0;u<h.length;u+=1){var m=h[u];p.push(m.bounds.min,m.bounds.max)}return f.create(p)},y.wrap=function(c,h){var p=f.wrap(y.bounds(c),h);return p&&y.translate(c,p),p}},4372:(S,P,a)=>{var y={};S.exports=y;var C=a(69351);y.create=C.create,y.add=C.add,y.remove=C.remove,y.clear=C.clear,y.addComposite=C.addComposite,y.addBody=C.addBody,y.addConstraint=C.addConstraint},52284:(S,P,a)=>{var y={};S.exports=y;var f,d,c,C=a(41598),g=a(4506);f=[],d={overlap:0,axis:null},c={overlap:0,axis:null},y.create=function(h,p){return{pair:null,collided:!1,bodyA:h,bodyB:p,parentA:h.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},y.collides=function(h,p,u){if(y._overlapAxes(d,h.vertices,p.vertices,h.axes),d.overlap<=0||(y._overlapAxes(c,p.vertices,h.vertices,p.axes),c.overlap<=0))return null;var v,x,m=u&&u.table[g.id(h,p)];m?v=m.collision:((v=y.create(h,p)).collided=!0,v.bodyA=h.id<p.id?h:p,v.bodyB=h.id<p.id?p:h,v.parentA=v.bodyA.parent,v.parentB=v.bodyB.parent);var b=v.normal,T=v.tangent,_=v.penetration,A=v.supports,M=(x=d.overlap<c.overlap?d:c).overlap,I=x.axis,R=I.x,F=I.y;R*((p=v.bodyB).position.x-(h=v.bodyA).position.x)+F*(p.position.y-h.position.y)>=0&&(R=-R,F=-F),b.x=R,b.y=F,T.x=-F,T.y=R,_.x=R*M,_.y=F*M,v.depth=M;var B=y._findSupports(h,p,b,1),G=0;if(C.contains(h.vertices,B[0])&&(A[G++]=B[0]),C.contains(h.vertices,B[1])&&(A[G++]=B[1]),G<2){var Q=y._findSupports(p,h,b,-1);C.contains(p.vertices,Q[0])&&(A[G++]=Q[0]),G<2&&C.contains(p.vertices,Q[1])&&(A[G++]=Q[1])}return 0===G&&(A[G++]=B[0]),v.supportCount=G,v},y._overlapAxes=function(h,p,u,m){var F,N,V,B,G,Q,v=p.length,x=u.length,b=p[0].x,T=p[0].y,_=u[0].x,A=u[0].y,M=m.length,I=Number.MAX_VALUE,R=0;for(G=0;G<M;G++){var H=m[G],K=H.x,tt=H.y,at=b*K+T*tt,lt=_*K+A*tt,q=at,it=lt;for(Q=1;Q<v;Q+=1)(B=p[Q].x*K+p[Q].y*tt)>q?q=B:B<at&&(at=B);for(Q=1;Q<x;Q+=1)(B=u[Q].x*K+u[Q].y*tt)>it?it=B:B<lt&&(lt=B);if((F=(N=q-lt)<(V=it-at)?N:V)<I&&(I=F,R=G,F<=0))break}h.axis=m[R],h.overlap=I},y._findSupports=function(h,p,u,m){var F,N,V,v=p.vertices,x=v.length,b=h.position.x,T=h.position.y,_=u.x*m,A=u.y*m,M=v[0],I=M,R=_*(b-I.x)+A*(T-I.y);for(V=1;V<x;V+=1)(N=_*(b-(I=v[V]).x)+A*(T-I.y))<R&&(R=N,M=I);return _*(b-(I=v[(M.index+1)%x]).x)+A*(T-I.y)<(R=_*(b-(F=v[(x+M.index-1)%x]).x)+A*(T-F.y))?(f[0]=M,f[1]=I,f):(f[0]=M,f[1]=F,f)}},43424:S=>{var P={};S.exports=P,P.create=function(a){return{vertex:a,normalImpulse:0,tangentImpulse:0}}},81388:(S,P,a)=>{var y={};S.exports=y;var C=a(53402),g=a(52284);y.create=function(f){return C.extend({bodies:[],collisions:[],pairs:null},f)},y.setBodies=function(f,d){f.bodies=d.slice(0)},y.clear=function(f){f.bodies=[],f.collisions=[]},y.collisions=function(f){var x,b,d=f.pairs,c=f.bodies,h=c.length,p=y.canCollide,u=g.collides,m=f.collisions,v=0;for(c.sort(y._compareBoundsX),x=0;x<h;x++){var T=c[x],_=T.bounds,A=T.bounds.max.x,M=T.bounds.max.y,I=T.bounds.min.y,R=T.isStatic||T.isSleeping,F=T.parts.length,N=1===F;for(b=x+1;b<h;b++){var V=c[b];if((B=V.bounds).min.x>A)break;if(!(M<B.min.y||I>B.max.y)&&(!R||!V.isStatic&&!V.isSleeping)&&p(T.collisionFilter,V.collisionFilter)){var G=V.parts.length;if(N&&1===G)(Q=u(T,V,d))&&(m[v++]=Q);else for(var K=G>1?1:0,tt=F>1?1:0;tt<F;tt++)for(var at=T.parts[tt],lt=(_=at.bounds,K);lt<G;lt++){var B,Q,q=V.parts[lt];_.min.x>(B=q.bounds).max.x||_.max.x<B.min.x||_.max.y<B.min.y||_.min.y>B.max.y||(Q=u(at,q,d))&&(m[v++]=Q)}}}}return m.length!==v&&(m.length=v),m},y.canCollide=function(f,d){return f.group===d.group&&0!==f.group?f.group>0:!!(f.mask&d.category)&&!!(d.mask&f.category)},y._compareBoundsX=function(f,d){return f.bounds.min.x-d.bounds.min.x}},4506:(S,P,a)=>{var y={};S.exports=y;var C=a(43424);y.create=function(g,f){var d=g.bodyA,c=g.bodyB,h={id:y.id(d,c),bodyA:d,bodyB:c,collision:g,contacts:[C.create(),C.create()],contactCount:0,separation:0,isActive:!0,isSensor:d.isSensor||c.isSensor,timeCreated:f,timeUpdated:f,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return y.update(h,g,f),h},y.update=function(g,f,d){var c=f.supports,h=f.supportCount,p=g.contacts,u=f.parentA,m=f.parentB;g.isActive=!0,g.timeUpdated=d,g.collision=f,g.separation=f.depth,g.inverseMass=u.inverseMass+m.inverseMass,g.friction=u.friction<m.friction?u.friction:m.friction,g.frictionStatic=u.frictionStatic>m.frictionStatic?u.frictionStatic:m.frictionStatic,g.restitution=u.restitution>m.restitution?u.restitution:m.restitution,g.slop=u.slop>m.slop?u.slop:m.slop,g.contactCount=h,f.pair=g;var v=c[0],x=p[0],b=c[1],T=p[1];(T.vertex===v||x.vertex===b)&&(p[1]=x,p[0]=x=T,T=p[1]),x.vertex=v,T.vertex=b},y.setActive=function(g,f,d){f?(g.isActive=!0,g.timeUpdated=d):(g.isActive=!1,g.contactCount=0)},y.id=function(g,f){return g.id<f.id?g.id.toString(36)+":"+f.id.toString(36):f.id.toString(36)+":"+g.id.toString(36)}},99561:(S,P,a)=>{var y={};S.exports=y;var C=a(4506),g=a(53402);y.create=function(f){return g.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},f)},y.update=function(f,d,c){var N,V,B,h=C.update,p=C.create,u=C.setActive,m=f.table,v=f.list,x=v.length,b=x,T=f.collisionStart,_=f.collisionEnd,A=f.collisionActive,M=d.length,I=0,R=0,F=0;for(B=0;B<M;B++)(V=(N=d[B]).pair)?(V.isActive&&(A[F++]=V),h(V,N,c)):(m[(V=p(N,c)).id]=V,T[I++]=V,v[b++]=V);for(b=0,x=v.length,B=0;B<x;B++)(V=v[B]).timeUpdated>=c?v[b++]=V:(u(V,!1,c),V.collision.bodyA.sleepCounter>0&&V.collision.bodyB.sleepCounter>0?v[b++]=V:(_[R++]=V,delete m[V.id]));v.length!==b&&(v.length=b),T.length!==I&&(T.length=I),_.length!==R&&(_.length=R),A.length!==F&&(A.length=F)},y.clear=function(f){return f.table={},f.list.length=0,f.collisionStart.length=0,f.collisionActive.length=0,f.collisionEnd.length=0,f}},73296:(S,P,a)=>{var y={};S.exports=y;var C=a(31725),g=a(52284),f=a(15647),d=a(66280),c=a(41598);y.collides=function(h,p){for(var u=[],m=p.length,v=h.bounds,x=g.collides,b=f.overlaps,T=0;T<m;T++){var _=p[T],A=_.parts.length,M=1===A?0:1;if(h!==_&&b(_.bounds,v))for(var I=M;I<A;I++){var R=_.parts[I];if(b(R.bounds,v)){var F=x(R,h);if(F){u.push(F);break}}}}return u},y.ray=function(h,p,u,m){m=m||1e-100;for(var v=C.angle(p,u),x=C.magnitude(C.sub(p,u)),_=d.rectangle(.5*(u.x+p.x),.5*(u.y+p.y),x,m,{angle:v}),A=y.collides(_,h),M=0;M<A.length;M+=1){var I=A[M];I.body=I.bodyB=I.bodyA}return A},y.region=function(h,p,u){for(var m=[],v=0;v<h.length;v++){var x=h[v],b=f.overlaps(x.bounds,p);(b&&!u||!b&&u)&&m.push(x)}return m},y.point=function(h,p){for(var u=[],m=0;m<h.length;m++){var v=h[m];if(f.contains(v.bounds,p))for(var x=1===v.parts.length?0:1;x<v.parts.length;x++){var b=v.parts[x];if(f.contains(b.bounds,p)&&c.contains(b.vertices,p)){u.push(v);break}}}return u}},66272:(S,P,a)=>{var y={};S.exports=y;var C=a(41598),g=a(53402),f=a(15647);y._restingThresh=2,y._restingThreshTangent=Math.sqrt(6),y._positionDampen=.9,y._positionWarming=.8,y._frictionNormalMultiplier=5,y._frictionMaxStatic=Number.MAX_VALUE,y.preSolvePosition=function(d){var c,h,p,u=d.length;for(c=0;c<u;c++)(h=d[c]).isActive&&(h.collision.parentA.totalContacts+=p=h.contactCount,h.collision.parentB.totalContacts+=p)},y.solvePosition=function(d,c,h){var p,u,m,v,x,b,T,_,A=y._positionDampen*(h||1),M=g.clamp(c/g._baseDelta,0,1),I=d.length;for(p=0;p<I;p++)(u=d[p]).isActive&&!u.isSensor&&(u.separation=(m=u.collision).depth+(b=m.normal).x*((x=m.parentB).positionImpulse.x-(v=m.parentA).positionImpulse.x)+b.y*(x.positionImpulse.y-v.positionImpulse.y));for(p=0;p<I;p++)(u=d[p]).isActive&&!u.isSensor&&(x=(m=u.collision).parentB,b=m.normal,_=u.separation-u.slop*M,((v=m.parentA).isStatic||x.isStatic)&&(_*=2),v.isStatic||v.isSleeping||(v.positionImpulse.x+=b.x*_*(T=A/v.totalContacts),v.positionImpulse.y+=b.y*_*T),x.isStatic||x.isSleeping||(x.positionImpulse.x-=b.x*_*(T=A/x.totalContacts),x.positionImpulse.y-=b.y*_*T))},y.postSolvePosition=function(d){for(var c=y._positionWarming,h=d.length,p=C.translate,u=f.update,m=0;m<h;m++){var v=d[m],x=v.positionImpulse,b=x.x,T=x.y,_=v.velocity;if(v.totalContacts=0,0!==b||0!==T){for(var A=0;A<v.parts.length;A++){var M=v.parts[A];p(M.vertices,x),u(M.bounds,M.vertices,_),M.position.x+=b,M.position.y+=T}v.positionPrev.x+=b,v.positionPrev.y+=T,b*_.x+T*_.y<0?(x.x=0,x.y=0):(x.x*=c,x.y*=c)}}},y.preSolveVelocity=function(d){var h,p,c=d.length;for(h=0;h<c;h++){var u=d[h];if(u.isActive&&!u.isSensor){var m=u.contacts,v=u.contactCount,x=u.collision,b=x.parentA,T=x.parentB,_=x.normal,A=x.tangent;for(p=0;p<v;p++){var M=m[p],I=M.vertex,R=M.normalImpulse,F=M.tangentImpulse;if(0!==R||0!==F){var N=_.x*R+A.x*F,V=_.y*R+A.y*F;b.isStatic||b.isSleeping||(b.positionPrev.x+=N*b.inverseMass,b.positionPrev.y+=V*b.inverseMass,b.anglePrev+=b.inverseInertia*((I.x-b.position.x)*V-(I.y-b.position.y)*N)),T.isStatic||T.isSleeping||(T.positionPrev.x-=N*T.inverseMass,T.positionPrev.y-=V*T.inverseMass,T.anglePrev-=T.inverseInertia*((I.x-T.position.x)*V-(I.y-T.position.y)*N))}}}}},y.solveVelocity=function(d,c){var _,A,M,I,h=c/g._baseDelta,u=h*h*h,m=-y._restingThresh*h,v=y._restingThreshTangent,x=y._frictionNormalMultiplier*h,b=y._frictionMaxStatic,T=d.length;for(M=0;M<T;M++){var R=d[M];if(R.isActive&&!R.isSensor){var F=R.collision,N=F.parentA,V=F.parentB,B=F.normal.x,G=F.normal.y,Q=F.tangent.x,H=F.tangent.y,K=R.inverseMass,tt=R.friction*R.frictionStatic*x,at=R.contacts,lt=R.contactCount,q=1/lt,it=N.position.x-N.positionPrev.x,Y=N.position.y-N.positionPrev.y,X=N.angle-N.anglePrev,nt=V.position.x-V.positionPrev.x,dt=V.position.y-V.positionPrev.y,gt=V.angle-V.anglePrev;for(I=0;I<lt;I++){var bt=at[I],Et=bt.vertex,Bt=Et.x-N.position.x,Kt=Et.y-N.position.y,Zt=Et.x-V.position.x,ne=Et.y-V.position.y,Pe=it-Kt*X-(nt-ne*gt),Qe=Y+Bt*X-(dt+Zt*gt),Se=B*Pe+G*Qe,ei=Q*Pe+H*Qe,ri=R.separation+Se,Bi=Math.min(ri,1),tn=(Bi=ri<0?0:Bi)*tt;ei<-tn||ei>tn?(_=R.friction*(ei>0?1:-1)*u)<-(A=ei>0?ei:-ei)?_=-A:_>A&&(_=A):(_=ei,A=b);var on=Bt*G-Kt*B,ln=Zt*G-ne*B,hn=q/(K+N.inverseInertia*on*on+V.inverseInertia*ln*ln),Mr=(1+R.restitution)*Se*hn;if(_*=hn,Se<m)bt.normalImpulse=0;else{var Ur=bt.normalImpulse;bt.normalImpulse+=Mr,bt.normalImpulse>0&&(bt.normalImpulse=0),Mr=bt.normalImpulse-Ur}if(ei<-v||ei>v)bt.tangentImpulse=0;else{var dn=bt.tangentImpulse;bt.tangentImpulse+=_,bt.tangentImpulse<-A&&(bt.tangentImpulse=-A),bt.tangentImpulse>A&&(bt.tangentImpulse=A),_=bt.tangentImpulse-dn}var or=B*Mr+Q*_,Fr=G*Mr+H*_;N.isStatic||N.isSleeping||(N.positionPrev.x+=or*N.inverseMass,N.positionPrev.y+=Fr*N.inverseMass,N.anglePrev+=(Bt*Fr-Kt*or)*N.inverseInertia),V.isStatic||V.isSleeping||(V.positionPrev.x-=or*V.inverseMass,V.positionPrev.y-=Fr*V.inverseMass,V.anglePrev-=(Zt*Fr-ne*or)*V.inverseInertia)}}}}},48140:(S,P,a)=>{var y={};S.exports=y;var C=a(41598),g=a(31725),f=a(53614),d=a(15647),c=a(66615),h=a(53402);y._warming=.4,y._torqueDampen=1,y._minLength=1e-6,y.create=function(p){var u=p;u.bodyA&&!u.pointA&&(u.pointA={x:0,y:0}),u.bodyB&&!u.pointB&&(u.pointB={x:0,y:0});var m=u.bodyA?g.add(u.bodyA.position,u.pointA):u.pointA,v=u.bodyB?g.add(u.bodyB.position,u.pointB):u.pointB,x=g.magnitude(g.sub(m,v));u.length=typeof u.length<"u"?u.length:x,u.id=u.id||h.nextId(),u.label=u.label||"Constraint",u.type="constraint",u.stiffness=u.stiffness||(u.length>0?1:.7),u.damping=u.damping||0,u.angularStiffness=u.angularStiffness||0,u.angleA=u.bodyA?u.bodyA.angle:u.angleA,u.angleB=u.bodyB?u.bodyB.angle:u.angleB,u.plugin={};var b={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===u.length&&u.stiffness>.1?(b.type="pin",b.anchors=!1):u.stiffness<.9&&(b.type="spring"),u.render=h.extend(b,u.render),u},y.preSolveAll=function(p){for(var u=0;u<p.length;u+=1){var m=p[u],v=m.constraintImpulse;m.isStatic||0===v.x&&0===v.y&&0===v.angle||(m.position.x+=v.x,m.position.y+=v.y,m.angle+=v.angle)}},y.solveAll=function(p,u){for(var m=h.clamp(u/h._baseDelta,0,1),v=0;v<p.length;v+=1){var x=p[v],b=!x.bodyA||x.bodyA&&x.bodyA.isStatic,T=!x.bodyB||x.bodyB&&x.bodyB.isStatic;(b||T)&&y.solve(p[v],m)}for(v=0;v<p.length;v+=1)T=!(x=p[v]).bodyB||x.bodyB&&x.bodyB.isStatic,!(b=!x.bodyA||x.bodyA&&x.bodyA.isStatic)&&!T&&y.solve(p[v],m)},y.solve=function(p,u){var m=p.bodyA,v=p.bodyB,x=p.pointA,b=p.pointB;if(m||v){m&&!m.isStatic&&(g.rotate(x,m.angle-p.angleA,x),p.angleA=m.angle),v&&!v.isStatic&&(g.rotate(b,v.angle-p.angleB,b),p.angleB=v.angle);var T=x,_=b;if(m&&(T=g.add(m.position,x)),v&&(_=g.add(v.position,b)),T&&_){var A=g.sub(T,_),M=g.magnitude(A);M<y._minLength&&(M=y._minLength);var H,K,tt,at,lt,N=p.damping*u,V=g.mult(A,(M-p.length)/M*(p.stiffness>=1||0===p.length?p.stiffness*u:p.stiffness*u*u)),B=(m?m.inverseMass:0)+(v?v.inverseMass:0),Q=B+((m?m.inverseInertia:0)+(v?v.inverseInertia:0));if(N>0){var q=g.create();tt=g.div(A,M),lt=g.sub(v&&g.sub(v.position,v.positionPrev)||q,m&&g.sub(m.position,m.positionPrev)||q),at=g.dot(tt,lt)}m&&!m.isStatic&&(m.constraintImpulse.x-=V.x*(K=m.inverseMass/B),m.constraintImpulse.y-=V.y*K,m.position.x-=V.x*K,m.position.y-=V.y*K,N>0&&(m.positionPrev.x-=N*tt.x*at*K,m.positionPrev.y-=N*tt.y*at*K),H=g.cross(x,V)/Q*y._torqueDampen*m.inverseInertia*(1-p.angularStiffness),m.constraintImpulse.angle-=H,m.angle-=H),v&&!v.isStatic&&(v.constraintImpulse.x+=V.x*(K=v.inverseMass/B),v.constraintImpulse.y+=V.y*K,v.position.x+=V.x*K,v.position.y+=V.y*K,N>0&&(v.positionPrev.x+=N*tt.x*at*K,v.positionPrev.y+=N*tt.y*at*K),H=g.cross(b,V)/Q*y._torqueDampen*v.inverseInertia*(1-p.angularStiffness),v.constraintImpulse.angle+=H,v.angle+=H)}}},y.postSolveAll=function(p){for(var u=0;u<p.length;u++){var m=p[u],v=m.constraintImpulse;if(!(m.isStatic||0===v.x&&0===v.y&&0===v.angle)){f.set(m,!1);for(var x=0;x<m.parts.length;x++){var b=m.parts[x];C.translate(b.vertices,v),x>0&&(b.position.x+=v.x,b.position.y+=v.y),0!==v.angle&&(C.rotate(b.vertices,v.angle,m.position),c.rotate(b.axes,v.angle),x>0&&g.rotateAbout(b.position,v.angle,m.position,b.position)),d.update(b.bounds,b.vertices,m.velocity)}v.angle*=y._warming,v.x*=y._warming,v.y*=y._warming}}},y.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},y.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}},y.currentLength=function(p){var b=(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0)-((p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0)),T=(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)-((p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0));return Math.sqrt(b*b+T*T)}},53402:(S,P,a)=>{var y={};S.exports=y,function(){y._baseDelta=16.666666666666668,y._nextId=0,y._seed=0,y._nowStartTime=+new Date,y._warnedOnce={},y._decomp=null,y.extend=function(g,f){var d,h;"boolean"==typeof f?(d=2,h=f):(d=1,h=!0);for(var p=d;p<arguments.length;p++){var u=arguments[p];if(u)for(var m in u)!h||!u[m]||u[m].constructor!==Object||g[m]&&g[m].constructor!==Object?g[m]=u[m]:(g[m]=g[m]||{},y.extend(g[m],h,u[m]))}return g},y.clone=function(g,f){return y.extend({},f,g)},y.keys=function(g){if(Object.keys)return Object.keys(g);var f=[];for(var d in g)f.push(d);return f},y.values=function(g){var f=[];if(Object.keys){for(var d=Object.keys(g),c=0;c<d.length;c++)f.push(g[d[c]]);return f}for(var h in g)f.push(g[h]);return f},y.get=function(g,f,d,c){f=f.split(".").slice(d,c);for(var h=0;h<f.length;h+=1)g=g[f[h]];return g},y.set=function(g,f,d,c,h){var p=f.split(".").slice(c,h);return y.get(g,f,0,-1)[p[p.length-1]]=d,d},y.shuffle=function(g){for(var f=g.length-1;f>0;f--){var d=Math.floor(y.random()*(f+1)),c=g[f];g[f]=g[d],g[d]=c}return g},y.choose=function(g){return g[Math.floor(y.random()*g.length)]},y.isElement=function(g){return typeof HTMLElement<"u"?g instanceof HTMLElement:!!(g&&g.nodeType&&g.nodeName)},y.isArray=function(g){return"[object Array]"===Object.prototype.toString.call(g)},y.isFunction=function(g){return"function"==typeof g},y.isPlainObject=function(g){return"object"==typeof g&&g.constructor===Object},y.isString=function(g){return"[object String]"===toString.call(g)},y.clamp=function(g,f,d){return g<f?f:g>d?d:g},y.sign=function(g){return g<0?-1:1},y.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-y._nowStartTime},y.random=function(g,f){return f=typeof f<"u"?f:1,(g=typeof g<"u"?g:0)+C()*(f-g)};var C=function(){return y._seed=(9301*y._seed+49297)%233280,y._seed/233280};y.colorToNumber=function(g){return 3==(g=g.replace("#","")).length&&(g=g.charAt(0)+g.charAt(0)+g.charAt(1)+g.charAt(1)+g.charAt(2)+g.charAt(2)),parseInt(g,16)},y.logLevel=1,y.log=function(){console&&y.logLevel>0&&y.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},y.info=function(){console&&y.logLevel>0&&y.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},y.warn=function(){console&&y.logLevel>0&&y.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},y.warnOnce=function(){var g=Array.prototype.slice.call(arguments).join(" ");y._warnedOnce[g]||(y.warn(g),y._warnedOnce[g]=!0)},y.deprecated=function(g,f,d){g[f]=y.chain(function(){y.warnOnce("\u{1f505} deprecated \u{1f505}",d)},g[f])},y.nextId=function(){return y._nextId++},y.indexOf=function(g,f){if(g.indexOf)return g.indexOf(f);for(var d=0;d<g.length;d++)if(g[d]===f)return d;return-1},y.map=function(g,f){if(g.map)return g.map(f);for(var d=[],c=0;c<g.length;c+=1)d.push(f(g[c]));return d},y.topologicalSort=function(g){var f=[],d=[],c=[];for(var h in g)!d[h]&&!c[h]&&y._topologicalSort(h,d,c,g,f);return f},y._topologicalSort=function(g,f,d,c,h){var p=c[g]||[];d[g]=!0;for(var u=0;u<p.length;u+=1){var m=p[u];d[m]||f[m]||y._topologicalSort(m,f,d,c,h)}d[g]=!1,f[g]=!0,h.push(g)},y.chain=function(){for(var g=[],f=0;f<arguments.length;f+=1){var d=arguments[f];d._chained?g.push.apply(g,d._chained):g.push(d)}var c=function(){for(var h,p=new Array(arguments.length),u=0,m=arguments.length;u<m;u++)p[u]=arguments[u];for(u=0;u<g.length;u+=1){var v=g[u].apply(h,p);typeof v<"u"&&(h=v)}return h};return c._chained=g,c},y.chainPathBefore=function(g,f,d){return y.set(g,f,y.chain(d,y.get(g,f)))},y.chainPathAfter=function(g,f,d){return y.set(g,f,y.chain(y.get(g,f),d))},y.setDecomp=function(g){y._decomp=g},y.getDecomp=function(){var g=y._decomp;try{!g&&typeof window<"u"&&(g=window.decomp),!g&&typeof a.g<"u"&&(g=a.g.decomp)}catch{g=null}return g}}()},48413:(S,P,a)=>{var y={};S.exports=y;var C=a(53614),g=a(66272),f=a(81388),d=a(99561),c=a(35810),h=a(69351),p=a(48140),u=a(53402),m=a(22562);y._deltaMax=16.666666666666668,y.create=function(v){var b=u.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=v||{});return b.world=v.world||h.create({label:"World"}),b.pairs=v.pairs||d.create(),b.detector=v.detector||f.create(),b.detector.pairs=b.pairs,b.grid={buckets:[]},b.world.gravity=b.gravity,b.broadphase=b.grid,b.metrics={},b},y.update=function(v,x){var R,b=u.now(),T=v.world,_=v.detector,A=v.pairs,M=v.timing,I=M.timestamp;x>y._deltaMax&&u.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",y._deltaMax.toFixed(3),"ms."),x=typeof x<"u"?x:u._baseDelta,M.timestamp+=x*=M.timeScale,M.lastDelta=x;var F={timestamp:M.timestamp,delta:x};c.trigger(v,"beforeUpdate",F);var N=h.allBodies(T),V=h.allConstraints(T),B=h.allComposites(T);for(T.isModified&&(f.setBodies(_,N),h.setModified(T,!1,!1,!0)),v.enableSleeping&&C.update(N,x),y._bodiesApplyGravity(N,v.gravity),y.wrap(N,B),y.attractors(N),x>0&&y._bodiesUpdate(N,x),c.trigger(v,"beforeSolve",F),p.preSolveAll(N),R=0;R<v.constraintIterations;R++)p.solveAll(V,x);p.postSolveAll(N);var G=f.collisions(_);d.update(A,G,I),v.enableSleeping&&C.afterCollisions(A.list),A.collisionStart.length>0&&c.trigger(v,"collisionStart",{pairs:A.collisionStart,timestamp:M.timestamp,delta:x});var Q=u.clamp(20/v.positionIterations,0,1);for(g.preSolvePosition(A.list),R=0;R<v.positionIterations;R++)g.solvePosition(A.list,x,Q);for(g.postSolvePosition(N),p.preSolveAll(N),R=0;R<v.constraintIterations;R++)p.solveAll(V,x);for(p.postSolveAll(N),g.preSolveVelocity(A.list),R=0;R<v.velocityIterations;R++)g.solveVelocity(A.list,x);return y._bodiesUpdateVelocities(N),A.collisionActive.length>0&&c.trigger(v,"collisionActive",{pairs:A.collisionActive,timestamp:M.timestamp,delta:x}),A.collisionEnd.length>0&&c.trigger(v,"collisionEnd",{pairs:A.collisionEnd,timestamp:M.timestamp,delta:x}),y._bodiesClearForces(N),c.trigger(v,"afterUpdate",F),v.timing.lastElapsed=u.now()-b,v},y.merge=function(v,x){if(u.extend(v,x),x.world){v.world=x.world,y.clear(v);for(var b=h.allBodies(v.world),T=0;T<b.length;T++){var _=b[T];C.set(_,!1),_.id=u.nextId()}}},y.clear=function(v){d.clear(v.pairs),f.clear(v.detector)},y._bodiesClearForces=function(v){for(var x=v.length,b=0;b<x;b++){var T=v[b];T.force.x=0,T.force.y=0,T.torque=0}},y._bodiesApplyGravity=function(v,x){var b=typeof x.scale<"u"?x.scale:.001,T=v.length;if((0!==x.x||0!==x.y)&&0!==b)for(var _=0;_<T;_++){var A=v[_];A.ignoreGravity||A.isStatic||A.isSleeping||(A.force.y+=A.mass*x.y*b,A.force.x+=A.mass*x.x*b)}},y._bodiesUpdate=function(v,x){for(var b=v.length,T=0;T<b;T++){var _=v[T];_.isStatic||_.isSleeping||m.update(_,x)}},y._bodiesUpdateVelocities=function(v){for(var x=v.length,b=0;b<x;b++)m.updateVelocities(v[b])},y.wrap=function(v,x){for(var b=0;b<v.length;b+=1){var T=v[b];null!==T.wrapBounds&&m.wrap(T,T.wrapBounds)}for(b=0;b<x.length;b+=1){var _=x[b];null!==_.wrapBounds&&h.wrap(_,_.wrapBounds)}},y.attractors=function(v){for(var x=0;x<v.length;x++){var b=v[x],T=b.attractors;if(T&&T.length>0)for(var _=0;_<v.length;_++){var A=v[_];if(x!==_)for(var M=0;M<T.length;M++){var I=T[M],R=I;u.isFunction(I)&&(R=I(b,A)),R&&m.applyForce(A,A.position,R)}}}}},35810:(S,P,a)=>{var y={};S.exports=y;var C=a(53402);y.on=function(g,f,d){for(var h,c=f.split(" "),p=0;p<c.length;p++)h=c[p],g.events=g.events||{},g.events[h]=g.events[h]||[],g.events[h].push(d);return d},y.off=function(g,f,d){if(f){"function"==typeof f&&(d=f,f=C.keys(g.events).join(" "));for(var c=f.split(" "),h=0;h<c.length;h++){var p=g.events[c[h]],u=[];if(d&&p)for(var m=0;m<p.length;m++)p[m]!==d&&u.push(p[m]);g.events[c[h]]=u}}else g.events={}},y.trigger=function(g,f,d){var c,h,p,u,m=g.events;if(m&&C.keys(m).length>0){d||(d={}),c=f.split(" ");for(var v=0;v<c.length;v++)if(p=m[h=c[v]]){(u=C.clone(d,!1)).name=h,u.source=g;for(var x=0;x<p.length;x++)p[x].apply(g,[u])}}}},6790:(S,P,a)=>{var y={};S.exports=y;var C=a(73832),g=a(53402);y.name="matter-js",y.version="0.20.0",y.uses=[],y.used=[],y.use=function(){C.use(y,Array.prototype.slice.call(arguments))},y.before=function(f,d){return f=f.replace(/^Matter./,""),g.chainPathBefore(y,f,d)},y.after=function(f,d){return f=f.replace(/^Matter./,""),g.chainPathAfter(y,f,d)}},73832:(S,P,a)=>{var y={};S.exports=y;var C=a(53402);y._registry={},y.register=function(g){if(y.isPlugin(g)||C.warn("Plugin.register:",y.toString(g),"does not implement all required fields."),g.name in y._registry){var f=y._registry[g.name],d=y.versionParse(g.version).number,c=y.versionParse(f.version).number;d>c?(C.warn("Plugin.register:",y.toString(f),"was upgraded to",y.toString(g)),y._registry[g.name]=g):d<c?C.warn("Plugin.register:",y.toString(f),"can not be downgraded to",y.toString(g)):g!==f&&C.warn("Plugin.register:",y.toString(g),"is already registered to different plugin object")}else y._registry[g.name]=g;return g},y.resolve=function(g){return y._registry[y.dependencyParse(g).name]},y.toString=function(g){return"string"==typeof g?g:(g.name||"anonymous")+"@"+(g.version||g.range||"0.0.0")},y.isPlugin=function(g){return g&&g.name&&g.version&&g.install},y.isUsed=function(g,f){return g.used.indexOf(f)>-1},y.isFor=function(g,f){var d=g.for&&y.dependencyParse(g.for);return!g.for||f.name===d.name&&y.versionSatisfies(f.version,d.range)},y.use=function(g,f){if(g.uses=(g.uses||[]).concat(f||[]),0!==g.uses.length){for(var d=y.dependencies(g),c=C.topologicalSort(d),h=[],p=0;p<c.length;p+=1)if(c[p]!==g.name){var u=y.resolve(c[p]);if(!u){h.push("\u274c "+c[p]);continue}y.isUsed(g,u.name)||(y.isFor(u,g)||(C.warn("Plugin.use:",y.toString(u),"is for",u.for,"but installed on",y.toString(g)+"."),u._warned=!0),u.install?u.install(g):(C.warn("Plugin.use:",y.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(h.push("\u{1f536} "+y.toString(u)),delete u._warned):h.push("\u2705 "+y.toString(u)),g.used.push(u.name))}h.length>0&&!u.silent&&C.info(h.join("  "))}else C.warn("Plugin.use:",y.toString(g),"does not specify any dependencies to install.")},y.dependencies=function(g,f){var d=y.dependencyParse(g),c=d.name;if(!(c in(f=f||{}))){g=y.resolve(g)||g,f[c]=C.map(g.uses||[],function(p){y.isPlugin(p)&&y.register(p);var u=y.dependencyParse(p),m=y.resolve(p);return m&&!y.versionSatisfies(m.version,u.range)?(C.warn("Plugin.dependencies:",y.toString(m),"does not satisfy",y.toString(u),"used by",y.toString(d)+"."),m._warned=!0,g._warned=!0):m||(C.warn("Plugin.dependencies:",y.toString(p),"used by",y.toString(d),"could not be resolved."),g._warned=!0),u.name});for(var h=0;h<f[c].length;h+=1)y.dependencies(f[c][h],f);return f}},y.dependencyParse=function(g){return C.isString(g)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(g)||C.warn("Plugin.dependencyParse:",g,"is not a valid dependency string."),{name:g.split("@")[0],range:g.split("@")[1]||"*"}):{name:g.name,range:g.range||g.version}},y.versionParse=function(g){var f=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;f.test(g)||C.warn("Plugin.versionParse:",g,"is not a valid version or range.");var d=f.exec(g),c=Number(d[4]),h=Number(d[5]),p=Number(d[6]);return{isRange:!(!d[1]&&!d[2]),version:d[3],range:g,operator:d[1]||d[2]||"",major:c,minor:h,patch:p,parts:[c,h,p],prerelease:d[7],number:1e8*c+1e4*h+p}},y.versionSatisfies=function(g,f){var d=y.versionParse(f=f||"*"),c=y.versionParse(g);if(d.isRange){if("*"===d.operator||"*"===g)return!0;if(">"===d.operator)return c.number>d.number;if(">="===d.operator)return c.number>=d.number;if("~"===d.operator)return c.major===d.major&&c.minor===d.minor&&c.patch>=d.patch;if("^"===d.operator)return d.major>0?c.major===d.major&&c.number>=d.number:d.minor>0?c.minor===d.minor&&c.patch>=d.patch:c.patch===d.patch}return g===f||"*"===g}},13037:(S,P,a)=>{var y={};S.exports=y;var C=a(35810),g=a(48413),f=a(53402);!function(){y._maxFrameDelta=66.66666666666667,y._frameDeltaFallback=16.666666666666668,y._timeBufferMargin=1.5,y._elapsedNextEstimate=1,y._smoothingLowerBound=.1,y._smoothingUpperBound=.9,y.create=function(c){var p=f.extend({delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c);return p.fps=0,p},y.run=function(c,h){return c.timeBuffer=y._frameDeltaFallback,function p(u){c.frameRequestId=y._onNextFrame(c,p),u&&c.enabled&&y.tick(c,h,u)}(),c},y.tick=function(c,h,p){var u=f.now(),m=c.delta,v=0,x=p-c.timeLastTick;if((!x||!c.timeLastTick||x>Math.max(y._maxFrameDelta,c.maxFrameTime))&&(x=c.frameDelta||y._frameDeltaFallback),c.frameDeltaSmoothing){c.frameDeltaHistory.push(x),c.frameDeltaHistory=c.frameDeltaHistory.slice(-c.frameDeltaHistorySize);var b=c.frameDeltaHistory.slice(0).sort(),T=c.frameDeltaHistory.slice(b.length*y._smoothingLowerBound,b.length*y._smoothingUpperBound);x=d(T)||x}c.frameDeltaSnapping&&(x=1e3/Math.round(1e3/x)),c.frameDelta=x,c.timeLastTick=p,c.timeBuffer+=c.frameDelta,c.timeBuffer=f.clamp(c.timeBuffer,0,c.frameDelta+m*y._timeBufferMargin),c.lastUpdatesDeferred=0;var A=c.maxUpdates||Math.ceil(c.maxFrameTime/m),M={timestamp:h.timing.timestamp};C.trigger(c,"beforeTick",M),C.trigger(c,"tick",M);for(var I=f.now();m>0&&c.timeBuffer>=m*y._timeBufferMargin;){C.trigger(c,"beforeUpdate",M),g.update(h,m),C.trigger(c,"afterUpdate",M),c.timeBuffer-=m,v+=1;var R=f.now()-u,F=f.now()-I;if(v>=A||R+y._elapsedNextEstimate*F/v>c.maxFrameTime){c.lastUpdatesDeferred=Math.round(Math.max(0,c.timeBuffer/m-y._timeBufferMargin));break}}h.timing.lastUpdatesPerFrame=v,C.trigger(c,"afterTick",M),c.frameDeltaHistory.length>=100&&(c.lastUpdatesDeferred&&Math.round(c.frameDelta/m)>A?f.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):c.lastUpdatesDeferred&&f.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof c.isFixed<"u"&&f.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(c.deltaMin||c.deltaMax)&&f.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==c.fps&&f.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},y.stop=function(c){y._cancelNextFrame(c)},y._onNextFrame=function(c,h){if(!(typeof window<"u"&&window.requestAnimationFrame))throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return c.frameRequestId=window.requestAnimationFrame(h),c.frameRequestId},y._cancelNextFrame=function(c){if(!(typeof window<"u"&&window.cancelAnimationFrame))throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(c.frameRequestId)};var d=function(c){for(var h=0,p=c.length,u=0;u<p;u+=1)h+=c[u];return h/p||0}}()},53614:(S,P,a)=>{var y={};S.exports=y;var C=a(22562),g=a(35810),f=a(53402);y._motionWakeThreshold=.18,y._motionSleepThreshold=.08,y._minBias=.9,y.update=function(d,c){for(var h=c/f._baseDelta,p=y._motionSleepThreshold,u=0;u<d.length;u++){var m=d[u],v=C.getSpeed(m),x=C.getAngularSpeed(m),b=v*v+x*x;if(0===m.force.x&&0===m.force.y){var T=Math.min(m.motion,b),_=Math.max(m.motion,b);m.motion=y._minBias*T+(1-y._minBias)*_,m.sleepThreshold>0&&m.motion<p?(m.sleepCounter+=1,m.sleepCounter>=m.sleepThreshold/h&&y.set(m,!0)):m.sleepCounter>0&&(m.sleepCounter-=1)}else y.set(m,!1)}},y.afterCollisions=function(d){for(var c=y._motionSleepThreshold,h=0;h<d.length;h++){var p=d[h];if(p.isActive){var u=p.collision,m=u.bodyA.parent,v=u.bodyB.parent;if(!(m.isSleeping&&v.isSleeping||m.isStatic||v.isStatic)&&(m.isSleeping||v.isSleeping)){var x=m.isSleeping&&!m.isStatic?m:v;!x.isStatic&&(x===m?v:m).motion>c&&y.set(x,!1)}}}},y.set=function(d,c){var h=d.isSleeping;c?(d.isSleeping=!0,d.sleepCounter=d.sleepThreshold,d.positionImpulse.x=0,d.positionImpulse.y=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.speed=0,d.angularSpeed=0,d.motion=0,h||g.trigger(d,"sleepStart")):(d.isSleeping=!1,d.sleepCounter=0,h&&g.trigger(d,"sleepEnd"))}},66280:(S,P,a)=>{var y={};S.exports=y;var C=a(41598),g=a(53402),f=a(22562),d=a(15647),c=a(31725);y.rectangle=function(h,p,u,m,v){v=v||{};var x={label:"Rectangle Body",position:{x:h,y:p},vertices:C.fromPath("L 0 0 L "+u+" 0 L "+u+" "+m+" L 0 "+m)};if(v.chamfer){var b=v.chamfer;x.vertices=C.chamfer(x.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete v.chamfer}return f.create(g.extend({},x,v))},y.trapezoid=function(h,p,u,m,v,x){x=x||{},v>=1&&g.warn("Bodies.trapezoid: slope parameter must be < 1.");var T=u*(v*=.5),_=T+(1-2*v)*u,A=_+T,I={label:"Trapezoid Body",position:{x:h,y:p},vertices:C.fromPath(v<.5?"L 0 0 L "+T+" "+-m+" L "+_+" "+-m+" L "+A+" 0":"L 0 0 L "+_+" "+-m+" L "+A+" 0")};if(x.chamfer){var R=x.chamfer;I.vertices=C.chamfer(I.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete x.chamfer}return f.create(g.extend({},I,x))},y.circle=function(h,p,u,m,v){m=m||{};var x={label:"Circle Body",circleRadius:u};v=v||25;var b=Math.ceil(Math.max(10,Math.min(v,u)));return b%2==1&&(b+=1),y.polygon(h,p,b,u,g.extend({},x,m))},y.polygon=function(h,p,u,m,v){if(v=v||{},u<3)return y.circle(h,p,m,v);for(var x=2*Math.PI/u,b="",T=.5*x,_=0;_<u;_+=1){var A=T+_*x,M=Math.cos(A)*m,I=Math.sin(A)*m;b+="L "+M.toFixed(3)+" "+I.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:h,y:p},vertices:C.fromPath(b)};if(v.chamfer){var F=v.chamfer;R.vertices=C.chamfer(R.vertices,F.radius,F.quality,F.qualityMin,F.qualityMax),delete v.chamfer}return f.create(g.extend({},R,v))},y.fromVertices=function(h,p,u,m,v,x,b,T){var A,M,I,R,N,V,B,G,Q,H,_=g.getDecomp();for(A=!(!_||!_.quickDecomp),m=m||{},I=[],v=typeof v<"u"&&v,x=typeof x<"u"?x:.01,b=typeof b<"u"?b:10,T=typeof T<"u"?T:.01,g.isArray(u[0])||(u=[u]),Q=0;Q<u.length;Q+=1)if(!(R=C.isConvex(N=u[Q]))&&!A&&g.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!A)N=R?C.clockwiseSort(N):C.hull(N),I.push({position:{x:h,y:p},vertices:N});else{var K=N.map(function(bt){return[bt.x,bt.y]});_.makeCCW(K),!1!==x&&_.removeCollinearPoints(K,x),!1!==T&&_.removeDuplicatePoints&&_.removeDuplicatePoints(K,T);var tt=_.quickDecomp(K);for(V=0;V<tt.length;V++){var lt=tt[V].map(function(bt){return{x:bt[0],y:bt[1]}});b>0&&C.area(lt)<b||I.push({position:C.centre(lt),vertices:lt})}}for(V=0;V<I.length;V++)I[V]=f.create(g.extend(I[V],m));if(v)for(V=0;V<I.length;V++){var it=I[V];for(B=V+1;B<I.length;B++){var Y=I[B];if(d.overlaps(it.bounds,Y.bounds)){var X=it.vertices,nt=Y.vertices;for(G=0;G<it.vertices.length;G++)for(H=0;H<Y.vertices.length;H++){var dt=c.magnitudeSquared(c.sub(X[(G+1)%X.length],nt[H])),gt=c.magnitudeSquared(c.sub(X[G],nt[(H+1)%nt.length]));dt<5&&gt<5&&(X[G].isInternal=!0,nt[H].isInternal=!0)}}}}return I.length>1?(M=f.create(g.extend({parts:I.slice(0)},m)),f.setPosition(M,{x:h,y:p}),M):I[0]},y.flagCoincidentParts=function(h,p){void 0===p&&(p=5);for(var u=0;u<h.length;u++)for(var m=h[u],v=u+1;v<h.length;v++){var x=h[v];if(d.overlaps(m.bounds,x.bounds))for(var b=m.vertices,T=x.vertices,_=0;_<m.vertices.length;_++)for(var A=0;A<x.vertices.length;A++){var M=c.magnitudeSquared(c.sub(b[(_+1)%b.length],T[A])),I=c.magnitudeSquared(c.sub(b[_],T[(A+1)%T.length]));M<p&&I<p&&(b[_].isInternal=!0,T[A].isInternal=!0)}}return h}},74116:(S,P,a)=>{var y={};S.exports=y;var C=a(69351),g=a(48140),f=a(53402),d=a(22562),c=a(66280);y.stack=function(h,p,u,m,v,x,b){for(var M,T=C.create({label:"Stack"}),_=h,A=p,I=0,R=0;R<m;R++){for(var F=0,N=0;N<u;N++){var V=b(_,A,N,R,M,I);if(V){var B=V.bounds.max.y-V.bounds.min.y;B>F&&(F=B),d.translate(V,{x:.5*(V.bounds.max.x-V.bounds.min.x),y:.5*B}),_=V.bounds.max.x+v,C.addBody(T,V),M=V,I+=1}else _+=v}A+=F+x,_=h}return T},y.chain=function(h,p,u,m,v,x){for(var b=h.bodies,T=1;T<b.length;T++){var _=b[T-1],A=b[T],V=f.extend({bodyA:_,pointA:{x:(_.bounds.max.x-_.bounds.min.x)*p,y:(_.bounds.max.y-_.bounds.min.y)*u},bodyB:A,pointB:{x:(A.bounds.max.x-A.bounds.min.x)*m,y:(A.bounds.max.y-A.bounds.min.y)*v}},x);C.addConstraint(h,g.create(V))}return h.label+=" Chain",h},y.mesh=function(h,p,u,m,v){var b,T,A,x=h.bodies;for(b=0;b<u;b++){for(T=1;T<p;T++)C.addConstraint(h,g.create(f.extend({bodyA:x[T-1+b*p],bodyB:A=x[T+b*p]},v)));if(b>0)for(T=0;T<p;T++)C.addConstraint(h,g.create(f.extend({bodyA:x[T+(b-1)*p],bodyB:A=x[T+b*p]},v))),m&&T>0&&C.addConstraint(h,g.create(f.extend({bodyA:x[T-1+(b-1)*p],bodyB:A},v))),m&&T<p-1&&C.addConstraint(h,g.create(f.extend({bodyA:x[T+1+(b-1)*p],bodyB:A},v)))}return h.label+=" Mesh",h},y.pyramid=function(h,p,u,m,v,x,b){return y.stack(h,p,u,m,v,x,function(T,_,A,M,I,R){var F=Math.min(m,Math.ceil(u/2)),N=I?I.bounds.max.x-I.bounds.min.x:0;if(!(M>F||A<(M=F-M)||A>u-1-M))return 1===R&&d.translate(I,{x:(A+(u%2==1?1:-1))*N,y:0}),b(h+(I?A*N:0)+A*v,_,A,M,I,R)})},y.newtonsCradle=function(h,p,u,m,v){for(var x=C.create({label:"Newtons Cradle"}),b=0;b<u;b++){var _=c.circle(h+b*(1.9*m),p+v,m,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),A=g.create({pointA:{x:h+b*(1.9*m),y:p},bodyB:_});C.addBody(x,_),C.addConstraint(x,A)}return x},y.car=function(h,p,u,m,v){var x=d.nextGroup(!0),T=.5*-u+20,_=.5*u-20,M=C.create({label:"Car"}),I=c.rectangle(h,p,u,m,{collisionFilter:{group:x},chamfer:{radius:.5*m},density:2e-4}),R=c.circle(h+T,p+0,v,{collisionFilter:{group:x},friction:.8}),F=c.circle(h+_,p+0,v,{collisionFilter:{group:x},friction:.8}),N=g.create({bodyB:I,pointB:{x:T,y:0},bodyA:R,stiffness:1,length:0}),V=g.create({bodyB:I,pointB:{x:_,y:0},bodyA:F,stiffness:1,length:0});return C.addBody(M,I),C.addBody(M,R),C.addBody(M,F),C.addConstraint(M,N),C.addConstraint(M,V),M},y.softBody=function(h,p,u,m,v,x,b,T,_,A){_=f.extend({inertia:1/0},_),A=f.extend({stiffness:.2,render:{type:"line",anchors:!1}},A);var M=y.stack(h,p,u,m,v,x,function(I,R){return c.circle(I,R,T,_)});return y.mesh(M,u,m,b,A),M.label="Soft Body",M}},66615:(S,P,a)=>{var y={};S.exports=y;var C=a(31725),g=a(53402);y.fromVertices=function(f){for(var d={},c=0;c<f.length;c++){var h=(c+1)%f.length,p=C.normalise({x:f[h].y-f[c].y,y:f[c].x-f[h].x}),u=0===p.y?1/0:p.x/p.y;d[u=u.toFixed(3).toString()]=p}return g.values(d)},y.rotate=function(f,d){if(0!==d)for(var c=Math.cos(d),h=Math.sin(d),p=0;p<f.length;p++){var m,u=f[p];m=u.x*c-u.y*h,u.y=u.x*h+u.y*c,u.x=m}}},15647:S=>{var P={};S.exports=P,P.create=function(a){var y={min:{x:0,y:0},max:{x:0,y:0}};return a&&P.update(y,a),y},P.update=function(a,y,C){a.min.x=1/0,a.max.x=-1/0,a.min.y=1/0,a.max.y=-1/0;for(var g=0;g<y.length;g++){var f=y[g];f.x>a.max.x&&(a.max.x=f.x),f.x<a.min.x&&(a.min.x=f.x),f.y>a.max.y&&(a.max.y=f.y),f.y<a.min.y&&(a.min.y=f.y)}C&&(C.x>0?a.max.x+=C.x:a.min.x+=C.x,C.y>0?a.max.y+=C.y:a.min.y+=C.y)},P.contains=function(a,y){return y.x>=a.min.x&&y.x<=a.max.x&&y.y>=a.min.y&&y.y<=a.max.y},P.overlaps=function(a,y){return a.min.x<=y.max.x&&a.max.x>=y.min.x&&a.max.y>=y.min.y&&a.min.y<=y.max.y},P.translate=function(a,y){a.min.x+=y.x,a.max.x+=y.x,a.min.y+=y.y,a.max.y+=y.y},P.shift=function(a,y){var C=a.max.x-a.min.x,g=a.max.y-a.min.y;a.min.x=y.x,a.max.x=y.x+C,a.min.y=y.y,a.max.y=y.y+g},P.wrap=function(a,y,C){var g=null,f=null;if(typeof y.min.x<"u"&&typeof y.max.x<"u"&&(a.min.x>y.max.x?g=y.min.x-a.max.x:a.max.x<y.min.x&&(g=y.max.x-a.min.x)),typeof y.min.y<"u"&&typeof y.max.y<"u"&&(a.min.y>y.max.y?f=y.min.y-a.max.y:a.max.y<y.min.y&&(f=y.max.y-a.min.y)),null!==g||null!==f)return{x:g||0,y:f||0}}},74058:(S,P,a)=>{var y={};S.exports=y,a(15647);var g=a(53402);y.pathToVertices=function(f,d){typeof window<"u"&&!("SVGPathSeg"in window)&&g.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var c,h,p,u,m,v,x,b,T,M,I,A=[],R=0,F=0,N=0;d=d||15;var V=function(G,Q,H){var K=H%2==1&&H>1;if(!T||G!=T.x||Q!=T.y){T&&K?(M=T.x,I=T.y):(M=0,I=0);var tt={x:M+G,y:I+Q};(K||!T)&&(T=tt),A.push(tt),F=M+G,N=I+Q}},B=function(G){var Q=G.pathSegTypeAsLetter.toUpperCase();if("Z"!==Q){switch(Q){case"M":case"L":case"T":case"C":case"S":case"Q":F=G.x,N=G.y;break;case"H":F=G.x;break;case"V":N=G.y}V(F,N,G.pathSegType)}};for(y._svgPathToAbsolute(f),p=f.getTotalLength(),v=[],c=0;c<f.pathSegList.numberOfItems;c+=1)v.push(f.pathSegList.getItem(c));for(x=v.concat();R<p;){if((m=v[f.getPathSegAtLength(R)])!=b){for(;x.length&&x[0]!=m;)B(x.shift());b=m}switch(m.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":u=f.getPointAtLength(R),V(u.x,u.y,0)}R+=d}for(c=0,h=x.length;c<h;++c)B(x[c]);return A},y._svgPathToAbsolute=function(f){for(var d,c,h,p,u,m,v=f.pathSegList,x=0,b=0,T=v.numberOfItems,_=0;_<T;++_){var A=v.getItem(_),M=A.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(M))"x"in A&&(x=A.x),"y"in A&&(b=A.y);else switch("x1"in A&&(h=x+A.x1),"x2"in A&&(u=x+A.x2),"y1"in A&&(p=b+A.y1),"y2"in A&&(m=b+A.y2),"x"in A&&(x+=A.x),"y"in A&&(b+=A.y),M){case"m":v.replaceItem(f.createSVGPathSegMovetoAbs(x,b),_);break;case"l":v.replaceItem(f.createSVGPathSegLinetoAbs(x,b),_);break;case"h":v.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(x),_);break;case"v":v.replaceItem(f.createSVGPathSegLinetoVerticalAbs(b),_);break;case"c":v.replaceItem(f.createSVGPathSegCurvetoCubicAbs(x,b,h,p,u,m),_);break;case"s":v.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(x,b,u,m),_);break;case"q":v.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(x,b,h,p),_);break;case"t":v.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(x,b),_);break;case"a":v.replaceItem(f.createSVGPathSegArcAbs(x,b,A.r1,A.r2,A.angle,A.largeArcFlag,A.sweepFlag),_);break;case"z":case"Z":x=d,b=c}("M"==M||"m"==M)&&(d=x,c=b)}}},31725:S=>{var P={};S.exports=P,P.create=function(a,y){return{x:a||0,y:y||0}},P.clone=function(a){return{x:a.x,y:a.y}},P.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},P.magnitudeSquared=function(a){return a.x*a.x+a.y*a.y},P.rotate=function(a,y,C){var g=Math.cos(y),f=Math.sin(y);C||(C={});var d=a.x*g-a.y*f;return C.y=a.x*f+a.y*g,C.x=d,C},P.rotateAbout=function(a,y,C,g){var f=Math.cos(y),d=Math.sin(y);g||(g={});var c=C.x+((a.x-C.x)*f-(a.y-C.y)*d);return g.y=C.y+((a.x-C.x)*d+(a.y-C.y)*f),g.x=c,g},P.normalise=function(a){var y=P.magnitude(a);return 0===y?{x:0,y:0}:{x:a.x/y,y:a.y/y}},P.dot=function(a,y){return a.x*y.x+a.y*y.y},P.cross=function(a,y){return a.x*y.y-a.y*y.x},P.cross3=function(a,y,C){return(y.x-a.x)*(C.y-a.y)-(y.y-a.y)*(C.x-a.x)},P.add=function(a,y,C){return C||(C={}),C.x=a.x+y.x,C.y=a.y+y.y,C},P.sub=function(a,y,C){return C||(C={}),C.x=a.x-y.x,C.y=a.y-y.y,C},P.mult=function(a,y){return{x:a.x*y,y:a.y*y}},P.div=function(a,y){return{x:a.x/y,y:a.y/y}},P.perp=function(a,y){return{x:(y=!0===y?-1:1)*-a.y,y:y*a.x}},P.neg=function(a){return{x:-a.x,y:-a.y}},P.angle=function(a,y){return Math.atan2(y.y-a.y,y.x-a.x)},P._temp=[P.create(),P.create(),P.create(),P.create(),P.create(),P.create()]},41598:(S,P,a)=>{var y={};S.exports=y;var C=a(31725),g=a(53402);y.create=function(f,d){for(var c=[],h=0;h<f.length;h++){var p=f[h];c.push({x:p.x,y:p.y,index:h,body:d,isInternal:!1})}return c},y.fromPath=function(f,d){var h=[];return f.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(p,u,m){h.push({x:parseFloat(u),y:parseFloat(m)})}),y.create(h,d)},y.centre=function(f){for(var h,p,u,d=y.area(f,!0),c={x:0,y:0},m=0;m<f.length;m++)h=C.cross(f[m],f[u=(m+1)%f.length]),p=C.mult(C.add(f[m],f[u]),h),c=C.add(c,p);return C.div(c,6*d)},y.mean=function(f){for(var d={x:0,y:0},c=0;c<f.length;c++)d.x+=f[c].x,d.y+=f[c].y;return C.div(d,f.length)},y.area=function(f,d){for(var c=0,h=f.length-1,p=0;p<f.length;p++)c+=(f[h].x-f[p].x)*(f[h].y+f[p].y),h=p;return d?c/2:Math.abs(c)/2},y.inertia=function(f,d){for(var u,m,c=0,h=0,p=f,v=0;v<p.length;v++)m=(v+1)%p.length,c+=(u=Math.abs(C.cross(p[m],p[v])))*(C.dot(p[m],p[m])+C.dot(p[m],p[v])+C.dot(p[v],p[v])),h+=u;return d/6*(c/h)},y.translate=function(f,d,c){var m,h=f.length,p=d.x*(c=typeof c<"u"?c:1),u=d.y*c;for(m=0;m<h;m++)f[m].x+=p,f[m].y+=u;return f},y.rotate=function(f,d,c){if(0!==d){var x,b,T,_,h=Math.cos(d),p=Math.sin(d),u=c.x,m=c.y,v=f.length;for(_=0;_<v;_++)(x=f[_]).x=u+((b=x.x-u)*h-(T=x.y-m)*p),x.y=m+(b*p+T*h);return f}},y.contains=function(f,d){for(var m,c=d.x,h=d.y,p=f.length,u=f[p-1],v=0;v<p;v++){if((c-u.x)*((m=f[v]).y-u.y)+(h-u.y)*(u.x-m.x)>0)return!1;u=m}return!0},y.scale=function(f,d,c,h){if(1===d&&1===c)return f;h=h||y.centre(f);for(var u,m=0;m<f.length;m++)u=C.sub(f[m],h),f[m].x=h.x+u.x*d,f[m].y=h.y+u.y*c;return f},y.chamfer=function(f,d,c,h,p){d="number"==typeof d?[d]:d||[8],c=typeof c<"u"?c:-1,h=h||2,p=p||14;for(var u=[],m=0;m<f.length;m++){var v=f[m-1>=0?m-1:f.length-1],x=f[m],b=f[(m+1)%f.length],T=d[m<d.length?m:d.length-1];if(0!==T){var _=C.normalise({x:x.y-v.y,y:v.x-x.x}),A=C.normalise({x:b.y-x.y,y:x.x-b.x}),M=Math.sqrt(2*Math.pow(T,2)),I=C.mult(g.clone(_),T),R=C.normalise(C.mult(C.add(_,A),.5)),F=C.sub(x,C.mult(R,M)),N=c;-1===c&&(N=1.75*Math.pow(T,.32)),(N=g.clamp(N,h,p))%2==1&&(N+=1);for(var B=Math.acos(C.dot(_,A))/N,G=0;G<N;G++)u.push(C.add(C.rotate(I,B*G),F))}else u.push(x)}return u},y.clockwiseSort=function(f){var d=y.mean(f);return f.sort(function(c,h){return C.angle(d,c)-C.angle(d,h)}),f},y.isConvex=function(f){var h,p,u,m,d=0,c=f.length;if(c<3)return null;for(h=0;h<c;h++)if(m=(f[p=(h+1)%c].x-f[h].x)*(f[u=(h+2)%c].y-f[p].y),(m-=(f[p].y-f[h].y)*(f[u].x-f[p].x))<0?d|=1:m>0&&(d|=2),3===d)return!1;return 0!==d||null},y.hull=function(f){var h,p,d=[],c=[];for((f=f.slice(0)).sort(function(u,m){var v=u.x-m.x;return 0!==v?v:u.y-m.y}),p=0;p<f.length;p+=1){for(h=f[p];c.length>=2&&C.cross3(c[c.length-2],c[c.length-1],h)<=0;)c.pop();c.push(h)}for(p=f.length-1;p>=0;p-=1){for(h=f[p];d.length>=2&&C.cross3(d[d.length-2],d[d.length-1],h)<=0;)d.pop();d.push(h)}return d.pop(),c.pop(),d.concat(c)}},55973:S=>{function P(q,it,Y){var nt,dt,gt,bt,Et,Bt,Kt,X=[0,0];return gt=(nt=q[1][1]-q[0][1])*q[0][0]+(dt=q[0][0]-q[1][0])*q[0][1],Bt=(bt=it[1][1]-it[0][1])*it[0][0]+(Et=it[0][0]-it[1][0])*it[0][1],at(Kt=nt*Et-bt*dt,0,Y=Y||0)||(X[0]=(Et*gt-dt*Bt)/Kt,X[1]=(nt*Bt-bt*gt)/Kt),X}function a(q,it,Y,X){var nt=it[0]-q[0],dt=it[1]-q[1],gt=X[0]-Y[0],bt=X[1]-Y[1];if(gt*dt-bt*nt==0)return!1;var Et=(nt*(Y[1]-q[1])+dt*(q[0]-Y[0]))/(gt*dt-bt*nt),Bt=(gt*(q[1]-Y[1])+bt*(Y[0]-q[0]))/(bt*nt-gt*dt);return Et>=0&&Et<=1&&Bt>=0&&Bt<=1}function y(q,it,Y){return(it[0]-q[0])*(Y[1]-q[1])-(Y[0]-q[0])*(it[1]-q[1])}function C(q,it,Y){return y(q,it,Y)>0}function g(q,it,Y){return y(q,it,Y)>=0}function f(q,it,Y){return y(q,it,Y)<0}function d(q,it,Y){return y(q,it,Y)<=0}S.exports={decomp:function V(q){var it=N(q);return it.length>0?B(q,it):[q]},quickDecomp:function H(q,it,Y,X,nt,dt,gt){gt=gt||0,nt=nt||25,it=typeof it<"u"?it:[],Y=Y||[],X=X||[];var bt=[0,0],Et=[0,0],Bt=[0,0],Kt=0,Zt=0,ne=0,ae=0,fe=0,ke=0,Ye=0,Pe=[],Qe=[],Se=q,ei=q;if(ei.length<3)return it;if(++gt>(dt=dt||100))return console.warn("quickDecomp: max level ("+dt+") reached."),it;for(var ri=0;ri<q.length;++ri)if(_(Se,ri)){Y.push(Se[ri]),Kt=Zt=Number.MAX_VALUE;for(var Bi=0;Bi<q.length;++Bi)C(m(Se,ri-1),m(Se,ri),m(Se,Bi))&&d(m(Se,ri-1),m(Se,ri),m(Se,Bi-1))&&(Bt=Q(m(Se,ri-1),m(Se,ri),m(Se,Bi),m(Se,Bi-1)),f(m(Se,ri+1),m(Se,ri),Bt)&&(ne=u(Se[ri],Bt))<Zt&&(Zt=ne,Et=Bt,ke=Bi)),C(m(Se,ri+1),m(Se,ri),m(Se,Bi+1))&&d(m(Se,ri+1),m(Se,ri),m(Se,Bi))&&(Bt=Q(m(Se,ri+1),m(Se,ri),m(Se,Bi),m(Se,Bi+1)),C(m(Se,ri-1),m(Se,ri),Bt)&&(ne=u(Se[ri],Bt))<Kt&&(Kt=ne,bt=Bt,fe=Bi));if(ke===(fe+1)%q.length)Bt[0]=(Et[0]+bt[0])/2,Bt[1]=(Et[1]+bt[1])/2,X.push(Bt),ri<fe?(x(Pe,Se,ri,fe+1),Pe.push(Bt),Qe.push(Bt),0!==ke&&x(Qe,Se,ke,Se.length),x(Qe,Se,0,ri+1)):(0!==ri&&x(Pe,Se,ri,Se.length),x(Pe,Se,0,fe+1),Pe.push(Bt),Qe.push(Bt),x(Qe,Se,ke,ri+1));else{if(ke>fe&&(fe+=q.length),ae=Number.MAX_VALUE,fe<ke)return it;for(Bi=ke;Bi<=fe;++Bi)g(m(Se,ri-1),m(Se,ri),m(Se,Bi))&&d(m(Se,ri+1),m(Se,ri),m(Se,Bi))&&(ne=u(m(Se,ri),m(Se,Bi)))<ae&&R(Se,ri,Bi)&&(ae=ne,Ye=Bi%q.length);ri<Ye?(x(Pe,Se,ri,Ye+1),0!==Ye&&x(Qe,Se,Ye,ei.length),x(Qe,Se,0,ri+1)):(0!==ri&&x(Pe,Se,ri,ei.length),x(Pe,Se,0,Ye+1),x(Qe,Se,Ye,ri+1))}return Pe.length<Qe.length?(H(Pe,it,Y,X,nt,dt,gt),H(Qe,it,Y,X,nt,dt,gt)):(H(Qe,it,Y,X,nt,dt,gt),H(Pe,it,Y,X,nt,dt,gt)),it}return it.push(q),it},isSimple:function G(q){var Y,it=q;for(Y=0;Y<it.length-1;Y++)for(var X=0;X<Y-1;X++)if(a(it[Y],it[Y+1],it[X],it[X+1]))return!1;for(Y=1;Y<it.length-2;Y++)if(a(it[0],it[it.length-1],it[Y],it[Y+1]))return!1;return!0},removeCollinearPoints:function K(q,it){for(var Y=0,X=q.length-1;q.length>3&&X>=0;--X)p(m(q,X-1),m(q,X),m(q,X+1),it)&&(q.splice(X%q.length,1),Y++);return Y},removeDuplicatePoints:function tt(q,it){for(var Y=q.length-1;Y>=1;--Y)for(var X=q[Y],nt=Y-1;nt>=0;--nt)if(lt(X,q[nt],it)){q.splice(Y,1);continue}},makeCCW:function b(q){for(var it=0,Y=q,X=1;X<q.length;++X)(Y[X][1]<Y[it][1]||Y[X][1]===Y[it][1]&&Y[X][0]>Y[it][0])&&(it=X);return!C(m(q,it-1),m(q,it),m(q,it+1))&&(function T(q){for(var it=[],Y=q.length,X=0;X!==Y;X++)it.push(q.pop());for(X=0;X!==Y;X++)q[X]=it[X]}(q),!0)}};var c=[],h=[];function p(q,it,Y,X){if(X){var nt=c,dt=h;nt[0]=it[0]-q[0],nt[1]=it[1]-q[1],dt[0]=Y[0]-it[0],dt[1]=Y[1]-it[1];var gt=nt[0]*dt[0]+nt[1]*dt[1],bt=Math.sqrt(nt[0]*nt[0]+nt[1]*nt[1]),Et=Math.sqrt(dt[0]*dt[0]+dt[1]*dt[1]);return Math.acos(gt/(bt*Et))<X}return 0===y(q,it,Y)}function u(q,it){var Y=it[0]-q[0],X=it[1]-q[1];return Y*Y+X*X}function m(q,it){var Y=q.length;return q[it<0?it%Y+Y:it%Y]}function x(q,it,Y,X){for(var nt=Y;nt<X;nt++)q.push(it[nt])}function _(q,it){return f(m(q,it-1),m(q,it),m(q,it+1))}var A=[],M=[];function I(q,it,Y){var X,nt,dt=A,gt=M;if(g(m(q,it+1),m(q,it),m(q,Y))&&d(m(q,it-1),m(q,it),m(q,Y)))return!1;nt=u(m(q,it),m(q,Y));for(var bt=0;bt!==q.length;++bt)if((bt+1)%q.length!==it&&bt!==it&&g(m(q,it),m(q,Y),m(q,bt+1))&&d(m(q,it),m(q,Y),m(q,bt))&&(dt[0]=m(q,it),dt[1]=m(q,Y),gt[0]=m(q,bt),gt[1]=m(q,bt+1),X=P(dt,gt),u(m(q,it),X)<nt))return!1;return!0}function R(q,it,Y){for(var X=0;X!==q.length;++X)if(X!==it&&X!==Y&&(X+1)%q.length!==it&&(X+1)%q.length!==Y&&a(m(q,it),m(q,Y),m(q,X),m(q,X+1)))return!1;return!0}function F(q,it,Y,X){var nt=X||[];if(function v(q){q.length=0}(nt),it<Y)for(var dt=it;dt<=Y;dt++)nt.push(q[dt]);else{for(dt=0;dt<=Y;dt++)nt.push(q[dt]);for(dt=it;dt<q.length;dt++)nt.push(q[dt])}return nt}function N(q){for(var it=[],Y=[],X=[],nt=[],dt=Number.MAX_VALUE,gt=0;gt<q.length;++gt)if(_(q,gt))for(var bt=0;bt<q.length;++bt)if(I(q,gt,bt)){Y=N(F(q,gt,bt,nt)),X=N(F(q,bt,gt,nt));for(var Et=0;Et<X.length;Et++)Y.push(X[Et]);Y.length<dt&&(dt=Y.length,(it=Y).push([m(q,gt),m(q,bt)]))}return it}function B(q,it){if(0===it.length)return[q];if(it instanceof Array&&it.length&&it[0]instanceof Array&&2===it[0].length&&it[0][0]instanceof Array){for(var Y=[q],X=0;X<it.length;X++)for(var nt=it[X],dt=0;dt<Y.length;dt++){var bt=B(Y[dt],nt);if(bt){Y.splice(dt,1),Y.push(bt[0],bt[1]);break}}return Y}return X=q.indexOf((nt=it)[0]),dt=q.indexOf(nt[1]),-1!==X&&-1!==dt&&[F(q,X,dt),F(q,dt,X)]}function Q(q,it,Y,X,nt){var dt=it[1]-q[1],gt=q[0]-it[0],bt=dt*q[0]+gt*q[1],Et=X[1]-Y[1],Bt=Y[0]-X[0],Kt=Et*Y[0]+Bt*Y[1],Zt=dt*Bt-Et*gt;return at(Zt,0,nt=nt||0)?[0,0]:[(Bt*bt-gt*Kt)/Zt,(dt*Kt-Et*bt)/Zt]}function at(q,it,Y){return Y=Y||0,Math.abs(q-it)<=Y}function lt(q,it,Y){return at(q[0],it[0],Y)&&at(q[1],it[1],Y)}},52018:(S,P,a)=>{var C=new(a(83419))({initialize:function(f){this.pluginManager=f,this.game=f.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});S.exports=C},42363:S=>{S.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},37277:S=>{var P={},a={};S.exports={register:function(C,g,f,d){void 0===d&&(d=!1),P[C]={plugin:g,mapping:f,custom:d}},registerCustom:function(C,g,f,d){a[C]={plugin:g,mapping:f,data:d}},hasCore:function(C){return P.hasOwnProperty(C)},hasCustom:function(C){return a.hasOwnProperty(C)},getCore:function(C){return P[C]},getCustom:function(C){return a[C]},getCustomClass:function(C){return a.hasOwnProperty(C)?a[C].plugin:null},remove:function(C){P.hasOwnProperty(C)&&delete P[C]},removeCustom:function(C){a.hasOwnProperty(C)&&delete a[C]},destroyCorePlugins:function(){for(var C in P)P.hasOwnProperty(C)&&delete P[C]},destroyCustomPlugins:function(){for(var C in a)a.hasOwnProperty(C)&&delete a[C]}}},77332:(S,P,a)=>{var y=a(83419),C=a(8443),g=a(50792),f=a(74099),d=a(44603),c=a(39429),h=a(95540),p=a(37277),u=a(72905),m=new y({Extends:g,initialize:function(x){g.call(this),this.game=x,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],x.isBooted?this.boot():x.events.once(C.BOOT,this.boot,this)},boot:function(){var v,x,b,T,_,A,M,I=this.game.config,R=I.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),v=0;v<R.length;v++)b=h(x=R[v],"key",null),T=h(x,"plugin",null),_=h(x,"start",!1),A=h(x,"mapping",null),M=h(x,"data",null),b&&(T?this.install(b,T,_,A,M):console.warn("Missing `plugin` for key: "+b));for(R=(R=I.installScenePlugins).concat(this._pendingScene),v=0;v<R.length;v++)b=h(x=R[v],"key",null),T=h(x,"plugin",null),A=h(x,"mapping",null),b&&(T?this.installScenePlugin(b,T,A):console.warn("Missing `plugin` for key: "+b));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(C.DESTROY,this.destroy,this)},addToScene:function(v,x,b){var T,_,A,M=this.game,I=v.scene,R=v.settings.map,F=v.settings.isBooted;for(T=0;T<x.length;T++)M[_=x[T]]?(v[_]=M[_],R.hasOwnProperty(_)&&(I[R[_]]=v[_])):"game"===_&&R.hasOwnProperty(_)&&(I[R[_]]=M);for(var N=0;N<b.length;N++)for(A=b[N],T=0;T<A.length;T++)if(p.hasCore(_=A[T])){var V=p.getCore(_),B=V.mapping,G=new V.plugin(I,this,B);v[B]=G,V.custom?I[B]=G:R.hasOwnProperty(B)&&(I[R[B]]=G),F&&G.boot()}for(A=this.plugins,T=0;T<A.length;T++){var Q=A[T];Q.mapping&&(I[Q.mapping]=Q.plugin)}},getDefaultScenePlugins:function(){var v=this.game.config.defaultPlugins;return v.concat(this.scenePlugins)},installScenePlugin:function(v,x,b,T,_){if(void 0===_&&(_=!1),"function"==typeof x){if(p.hasCore(v)||p.register(v,x,b,!0),-1===this.scenePlugins.indexOf(v))this.scenePlugins.push(v);else if(!_&&p.hasCore(v))return void console.warn("Scene Plugin key in use: "+v);if(T){var A=new x(T,this,v);T.sys[v]=A,b&&""!==b&&(T[b]=A),A.boot()}}else console.warn("Invalid Scene Plugin: "+v)},install:function(v,x,b,T,_){if(void 0===b&&(b=!1),void 0===T&&(T=null),void 0===_&&(_=null),"function"!=typeof x)return console.warn("Invalid Plugin: "+v),null;if(p.hasCustom(v))return console.warn("Plugin key in use: "+v),null;if(null!==T&&(b=!0),this.game.isBooted){if(p.registerCustom(v,x,T,_),b)return this.start(v)}else this._pendingGlobal.push({key:v,plugin:x,start:b,mapping:T,data:_});return null},getIndex:function(v){for(var x=this.plugins,b=0;b<x.length;b++)if(x[b].key===v)return b;return-1},getEntry:function(v){var x=this.getIndex(v);if(-1!==x)return this.plugins[x]},isActive:function(v){var x=this.getEntry(v);return x&&x.active},start:function(v,x){void 0===x&&(x=v);var b=this.getEntry(x);return b&&!b.active?(b.active=!0,b.plugin.start()):b||(b=this.createEntry(v,x)),b?b.plugin:null},createEntry:function(v,x){var b=p.getCustom(v);if(b){var T=new b.plugin(this);this.plugins.push(b={key:x,plugin:T,active:!0,mapping:b.mapping,data:b.data}),T.init(b.data),T.start()}return b},stop:function(v){var x=this.getEntry(v);return x&&x.active&&(x.active=!1,x.plugin.stop()),this},get:function(v,x){void 0===x&&(x=!0);var b=this.getEntry(v);if(b)return b.plugin;var T=this.getClass(v);return T&&x?(b=this.createEntry(v,v))?b.plugin:null:T||null},getClass:function(v){return p.getCustomClass(v)},removeGlobalPlugin:function(v){var x=this.getEntry(v);x&&u(this.plugins,x),p.removeCustom(v)},removeScenePlugin:function(v){u(this.scenePlugins,v),p.remove(v)},registerGameObject:function(v,x,b){return x&&c.register(v,x),b&&d.register(v,b),this},removeGameObject:function(v,x,b){return void 0===x&&(x=!0),void 0===b&&(b=!0),x&&c.remove(v),b&&d.remove(v),this},registerFileType:function(v,x,b){f.register(v,x),b&&b.sys.load&&(b.sys.load[v]=x)},destroy:function(){for(var v=0;v<this.plugins.length;v++)this.plugins[v].plugin.destroy();p.destroyCustomPlugins(),this.game.noReturn&&p.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});S.exports=m},45145:(S,P,a)=>{var y=a(52018),C=a(83419),g=a(44594),f=new C({Extends:y,initialize:function(c,h,p){y.call(this,h),this.scene=c,this.systems=c.sys,this.pluginKey=p,c.sys.events.once(g.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});S.exports=f},18922:(S,P,a)=>{S.exports={BasePlugin:a(52018),DefaultPlugins:a(42363),PluginCache:a(37277),PluginManager:a(77332),ScenePlugin:a(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(S){const P=performance.now(),a=this.getVideoPlaybackQuality(),y=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames,C=(g,f)=>{const d=this.getVideoPlaybackQuality(),c=this.mozPresentedFrames||this.mozPaintedFrames||d.totalVideoFrames-d.droppedVideoFrames;if(c>y){const h=this.mozFrameDelay||d.totalFrameDelay-a.totalFrameDelay||0,p=f-g;S(f,{presentationTime:f+1e3*h,expectedDisplayTime:f+p,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+p/1e3,presentedFrames:c,processingDuration:h}),delete this._rvfcpolyfillmap[P]}else this._rvfcpolyfillmap[P]=requestAnimationFrame(h=>C(f,h))};return this._rvfcpolyfillmap[P]=requestAnimationFrame(g=>C(P,g)),P},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(S){cancelAnimationFrame(this._rvfcpolyfillmap[S]),delete this._rvfcpolyfillmap[S]})},10312:S=>{S.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:S=>{S.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},68627:(S,P,a)=>{var y=a(19715),C=a(32880),g=a(83419),f=a(8054),d=a(50792),c=a(92503),h=a(56373),p=a(97480),u=a(69442),m=a(61340),v=new g({Extends:d,initialize:function(b){d.call(this);var T=b.config;this.config={clearBeforeRender:T.clearBeforeRender,backgroundColor:T.backgroundColor,antialias:T.antialias,roundPixels:T.roundPixels},this.game=b,this.type=f.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=b.canvas,this.gameContext=T.context?T.context:this.gameCanvas.getContext("2d",{alpha:b.config.transparent,desynchronized:b.config.desynchronized,willReadFrequently:!1}),this.currentContext=this.gameContext,this.antialias=b.config.antialias,this.blendModes=h(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new m,this._tempMatrix2=new m,this._tempMatrix3=new m,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(u.READY,this.boot,this)},boot:function(){var x=this.game,b=x.scale.baseSize;this.width=b.width,this.height=b.height,this.isBooted=!0,x.scale.on(p.RESIZE,this.onResize,this),this.resize(b.width,b.height)},onResize:function(x,b){(b.width!==this.width||b.height!==this.height)&&this.resize(b.width,b.height)},resize:function(x,b){this.width=x,this.height=b,this.emit(c.RESIZE,x,b)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(x){return this.currentContext.globalCompositeOperation=x,this},setContext:function(x){return this.currentContext=x||this.gameContext,this},setAlpha:function(x){return this.currentContext.globalAlpha=x,this},preRender:function(){var x=this.gameContext,b=this.config,T=this.width,_=this.height;x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),this.emit(c.PRE_RENDER_CLEAR),b.clearBeforeRender&&(x.clearRect(0,0,T,_),b.transparent||(x.fillStyle=b.backgroundColor.rgba,x.fillRect(0,0,T,_))),x.save(),this.drawCount=0,this.emit(c.PRE_RENDER)},render:function(x,b,T){var _=b.length;this.emit(c.RENDER,x,T);var A=T.x,M=T.y,I=T.width,R=T.height,F=T.renderToTexture?T.context:x.sys.context;F.save(),this.game.scene.customViewports&&(F.beginPath(),F.rect(A,M,I,R),F.clip()),T.emit(y.PRE_RENDER,T),this.currentContext=F;var N=T.mask;N&&N.preRenderCanvas(this,null,T._maskCamera),T.transparent||(F.fillStyle=T.backgroundColor.rgba,F.fillRect(A,M,I,R)),F.globalAlpha=T.alpha,F.globalCompositeOperation="source-over",this.drawCount+=_,T.renderToTexture&&T.emit(y.PRE_RENDER,T),T.matrix.copyToContext(F);for(var V=0;V<_;V++){var B=b[V];B.mask&&B.mask.preRenderCanvas(this,B,T),B.renderCanvas(this,B,T),B.mask&&B.mask.postRenderCanvas(this,B,T)}F.setTransform(1,0,0,1,0,0),F.globalCompositeOperation="source-over",F.globalAlpha=1,T.flashEffect.postRenderCanvas(F),T.fadeEffect.postRenderCanvas(F),T.dirty=!1,N&&N.postRenderCanvas(this),F.restore(),T.renderToTexture&&(T.emit(y.POST_RENDER,T),T.renderToGame&&x.sys.context.drawImage(T.canvas,A,M)),T.emit(y.POST_RENDER,T)},postRender:function(){this.gameContext.restore(),this.emit(c.POST_RENDER);var b=this.snapshotState;b.callback&&(C(this.gameCanvas,b),b.callback=null)},snapshotCanvas:function(x,b,T,_,A,M,I,R,F){void 0===T&&(T=!1),this.snapshotArea(_,A,M,I,b,R,F);var N=this.snapshotState;return N.getPixel=T,C(x,N),N.callback=null,this},snapshot:function(x,b,T){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,x,b,T)},snapshotArea:function(x,b,T,_,A,M,I){var R=this.snapshotState;return R.callback=A,R.type=M,R.encoder=I,R.getPixel=!1,R.x=x,R.y=b,R.width=Math.min(T,this.gameCanvas.width),R.height=Math.min(_,this.gameCanvas.height),this},snapshotPixel:function(x,b,T){return this.snapshotArea(x,b,1,1,T),this.snapshotState.getPixel=!0,this},batchSprite:function(x,b,T,_){var A=T.alpha*x.alpha;if(0!==A){var M=this.currentContext,I=this._tempMatrix1,R=this._tempMatrix2,F=b.canvasData,N=F.x,V=F.y,B=b.cutWidth,G=b.cutHeight,Q=b.customPivot,H=b.source.resolution,K=x.displayOriginX,tt=x.displayOriginY,at=-K+b.x,lt=-tt+b.y;if(x.isCropped){var q=x._crop;(q.flipX!==x.flipX||q.flipY!==x.flipY)&&b.updateCropUVs(q,x.flipX,x.flipY),B=q.cw,G=q.ch,N=q.cx,V=q.cy,at=-K+q.x,lt=-tt+q.y,x.flipX&&(at>=0?at=-(at+B):at<0&&(at=Math.abs(at)-B)),x.flipY&&(lt>=0?lt=-(lt+G):lt<0&&(lt=Math.abs(lt)-G))}var it=1,Y=1;x.flipX&&(Q||(at+=2*K-b.realWidth),it=-1),x.flipY&&(Q||(lt+=2*tt-b.realHeight),Y=-1);var X=x.x,nt=x.y;if(T.roundPixels&&(X=Math.floor(X),nt=Math.floor(nt)),R.applyITRS(X,nt,x.rotation,x.scaleX*it,x.scaleY*Y),I.copyFrom(T.matrix),_?(I.multiplyWithOffset(_,-T.scrollX*x.scrollFactorX,-T.scrollY*x.scrollFactorY),R.e=X,R.f=nt):(R.e-=T.scrollX*x.scrollFactorX,R.f-=T.scrollY*x.scrollFactorY),I.multiply(R),T.renderRoundPixels&&(I.e=Math.floor(I.e+.5),I.f=Math.floor(I.f+.5)),M.save(),I.setToContext(M),M.globalCompositeOperation=this.blendModes[x.blendMode],M.globalAlpha=A,M.imageSmoothingEnabled=!b.source.scaleMode,x.mask&&x.mask.preRenderCanvas(this,x,T),B>0&&G>0){var dt=B/H,gt=G/H;T.roundPixels&&(at=Math.floor(at+.5),lt=Math.floor(lt+.5),dt+=.5,gt+=.5),M.drawImage(b.source.image,N,V,B,G,at,lt,dt,gt)}x.mask&&x.mask.postRenderCanvas(this,x,T),M.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});S.exports=v},55830:(S,P,a)=>{S.exports={CanvasRenderer:a(68627),GetBlendModes:a(56373),SetTransform:a(20926)}},56373:(S,P,a)=>{var y=a(10312),C=a(89289);S.exports=function(){var f=[],d=C.supportNewBlendModes,c="source-over";return f[y.NORMAL]=c,f[y.ADD]="lighter",f[y.MULTIPLY]=d?"multiply":c,f[y.SCREEN]=d?"screen":c,f[y.OVERLAY]=d?"overlay":c,f[y.DARKEN]=d?"darken":c,f[y.LIGHTEN]=d?"lighten":c,f[y.COLOR_DODGE]=d?"color-dodge":c,f[y.COLOR_BURN]=d?"color-burn":c,f[y.HARD_LIGHT]=d?"hard-light":c,f[y.SOFT_LIGHT]=d?"soft-light":c,f[y.DIFFERENCE]=d?"difference":c,f[y.EXCLUSION]=d?"exclusion":c,f[y.HUE]=d?"hue":c,f[y.SATURATION]=d?"saturation":c,f[y.COLOR]=d?"color":c,f[y.LUMINOSITY]=d?"luminosity":c,f[y.ERASE]="destination-out",f[y.SOURCE_IN]="source-in",f[y.SOURCE_OUT]="source-out",f[y.SOURCE_ATOP]="source-atop",f[y.DESTINATION_OVER]="destination-over",f[y.DESTINATION_IN]="destination-in",f[y.DESTINATION_OUT]="destination-out",f[y.DESTINATION_ATOP]="destination-atop",f[y.LIGHTER]="lighter",f[y.COPY]="copy",f[y.XOR]="xor",f}},20926:(S,P,a)=>{var y=a(91296);S.exports=function(g,f,d,c,h){var p=c.alpha*d.alpha;if(p<=0)return!1;var u=y(d,c,h).calc;return f.globalCompositeOperation=g.blendModes[d.blendMode],f.globalAlpha=p,f.save(),u.setToContext(f),f.imageSmoothingEnabled=d.frame?!d.frame.source.scaleMode:g.antialias,!0}},63899:S=>{S.exports="losewebgl"},6119:S=>{S.exports="postrender"},48070:S=>{S.exports="prerender"},15640:S=>{S.exports="render"},8912:S=>{S.exports="resize"},87124:S=>{S.exports="restorewebgl"},92503:(S,P,a)=>{S.exports={LOSE_WEBGL:a(63899),POST_RENDER:a(6119),PRE_RENDER:a(48070),RENDER:a(15640),RESIZE:a(8912),RESTORE_WEBGL:a(87124)}},36909:(S,P,a)=>{S.exports={Events:a(92503),Snapshot:a(89966)},S.exports.Canvas=a(55830),S.exports.WebGL=a(4159)},32880:(S,P,a)=>{var y=a(27919),C=a(40987),g=a(95540);S.exports=function(d,c){var h=g(c,"callback"),p=g(c,"type","image/png"),u=g(c,"encoder",.92),m=Math.abs(Math.round(g(c,"x",0))),v=Math.abs(Math.round(g(c,"y",0))),x=Math.floor(g(c,"width",d.width)),b=Math.floor(g(c,"height",d.height));if(g(c,"getPixel",!1)){var M=d.getContext("2d",{willReadFrequently:!1}).getImageData(m,v,1,1).data;h.call(null,new C(M[0],M[1],M[2],M[3]))}else if(0!==m||0!==v||x!==d.width||b!==d.height){var I=y.createWebGL(this,x,b),R=I.getContext("2d",{willReadFrequently:!0});x>0&&b>0&&R.drawImage(d,m,v,x,b,0,0,x,b);var F=new Image;F.onerror=function(){h.call(null),y.remove(I)},F.onload=function(){h.call(null,F),y.remove(I)},F.src=I.toDataURL(p,u)}else{var N=new Image;N.onerror=function(){h.call(null)},N.onload=function(){h.call(null,N)},N.src=d.toDataURL(p,u)}}},88815:(S,P,a)=>{var y=a(27919),C=a(40987),g=a(95540);S.exports=function(d,c){var h=d,p=g(c,"callback"),u=g(c,"type","image/png"),m=g(c,"encoder",.92),v=Math.abs(Math.round(g(c,"x",0))),x=Math.abs(Math.round(g(c,"y",0))),b=g(c,"getPixel",!1),T=g(c,"isFramebuffer",!1),_=T?g(c,"bufferWidth",1):h.drawingBufferWidth,A=T?g(c,"bufferHeight",1):h.drawingBufferHeight;if(b){var M=new Uint8Array(4);h.readPixels(v,T?x:A-x,1,1,h.RGBA,h.UNSIGNED_BYTE,M),p.call(null,new C(M[0],M[1],M[2],M[3]))}else{var R=Math.floor(g(c,"width",_)),F=Math.floor(g(c,"height",A)),N=R*F*4,V=new Uint8Array(N);h.readPixels(v,A-x-F,R,F,h.RGBA,h.UNSIGNED_BYTE,V);for(var B=y.createWebGL(this,R,F),G=B.getContext("2d",{willReadFrequently:!0}),Q=G.getImageData(0,0,R,F),H=Q.data,K=0;K<F;K++)for(var tt=0;tt<R;tt++){var at=4*((F-K-1)*R+tt),lt=T?N-4*(K*R+(R-tt)):4*(K*R+tt);H[lt+0]=V[at+0],H[lt+1]=V[at+1],H[lt+2]=V[at+2],H[lt+3]=V[at+3]}G.putImageData(Q,0,0);var q=new Image;q.onerror=function(){p.call(null),y.remove(B)},q.onload=function(){p.call(null,q),y.remove(B)},q.src=B.toDataURL(u,m)}}},89966:(S,P,a)=>{S.exports={Canvas:a(32880),WebGL:a(88815)}},7530:(S,P,a)=>{var y=a(83419),C=a(36060),g=a(90330),f=a(82264),d=a(95540),c=a(32302),h=a(63448),p=a(31302),u=a(58918),m=a(14811),v=a(92651),x=a(96569),b=a(56527),T=a(57516),_=a(43439),A=a(81041),M=a(12385),I=a(7589),R=a(95428),F=a(72905),N=new y({initialize:function(B){this.game=B.game,this.renderer=B,this.classes=new g([[C.UTILITY_PIPELINE,I],[C.MULTI_PIPELINE,T],[C.BITMAPMASK_PIPELINE,p],[C.SINGLE_PIPELINE,M],[C.ROPE_PIPELINE,A],[C.LIGHT_PIPELINE,x],[C.POINTLIGHT_PIPELINE,_],[C.MOBILE_PIPELINE,b]]),this.postPipelineClasses=new g,this.pipelines=new g,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(V,B,G){var Q=this.renderer,H=this.renderTargets;this.frameInc=Math.floor(d(V,"frameInc",32));var K=Q.width,tt=Q.height,at=this.game.config.disablePreFX;if(this.game.config.disablePostFX||this.postPipelineClasses.setAll([[String(m.BARREL),u.Barrel],[String(m.BLOOM),u.Bloom],[String(m.BLUR),u.Blur],[String(m.BOKEH),u.Bokeh],[String(m.CIRCLE),u.Circle],[String(m.COLOR_MATRIX),u.ColorMatrix],[String(m.DISPLACEMENT),u.Displacement],[String(m.GLOW),u.Glow],[String(m.GRADIENT),u.Gradient],[String(m.PIXELATE),u.Pixelate],[String(m.SHADOW),u.Shadow],[String(m.SHINE),u.Shine],[String(m.VIGNETTE),u.Vignette],[String(m.WIPE),u.Wipe]]),!at){this.classes.set(C.FX_PIPELINE,v);for(var q=Math.min(K,tt),it=Math.ceil(q/this.frameInc),Y=1;Y<it;Y++){var X=Y*this.frameInc;H.push(new c(Q,X,X)),H.push(new c(Q,X,X)),H.push(new c(Q,X,X)),this.maxDimension=X}H.push(new c(Q,K,tt,1,0,!0,!0)),H.push(new c(Q,K,tt,1,0,!0,!0)),H.push(new c(Q,K,tt,1,0,!0,!0))}var nt,dt,gt=this,bt=this.game;if(this.classes.each(function(Bt,Kt){nt=gt.add(Bt,new Kt({game:bt})),Bt===C.UTILITY_PIPELINE&&(gt.UTILITY_PIPELINE=nt,gt.fullFrame1=nt.fullFrame1,gt.fullFrame2=nt.fullFrame2,gt.halfFrame1=nt.halfFrame1,gt.halfFrame2=nt.halfFrame2)}),this.MULTI_PIPELINE=this.get(C.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(C.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(C.MOBILE_PIPELINE),at||(this.FX_PIPELINE=this.get(C.FX_PIPELINE)),V)for(dt in V){var Et=V[dt];(nt=new Et(bt)).name=dt,nt.isPostFX?this.postPipelineClasses.set(dt,Et):this.has(dt)||(this.classes.set(dt,Et),this.add(dt,nt))}this.default=this.get(B),G&&!f.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(V){var B=this.get(V);return B&&(this.default=B),B},add:function(V,B){if(!B.isPostFX){var G=this.pipelines,Q=this.renderer;return G.has(V)?console.warn("Pipeline exists: "+V):(B.name=V,B.manager=this,G.set(V,B)),B.hasBooted||B.boot(),0!==Q.width&&0!==Q.height&&!B.isPreFX&&B.resize(Q.width,Q.height),B}console.warn(V+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(V,B){this.postPipelineClasses.has(V)||this.postPipelineClasses.set(V,B)},flush:function(){this.current&&this.current.flush()},has:function(V){var B=this.pipelines;return"string"==typeof V?B.has(V):!!B.contains(V)},get:function(V){var B=this.pipelines;return"string"==typeof V?B.get(V):B.contains(V)?V:void 0},getPostPipeline:function(V,B,G){var H,Q=this.postPipelineClasses,K="",tt=typeof V;if("string"===tt||"number"===tt?(H=Q.get(V),K=V):"function"===tt?(Q.contains(V)&&(H=V),K=V.name):"object"===tt&&(H=Q.get(V.name),K=V.name),H){var at=new H(this.game,G);return at.name=K,B&&(at.gameObject=B),this.postPipelineInstances.push(at),at}},removePostPipeline:function(V){F(this.postPipelineInstances,V)},remove:function(V,B,G){void 0===B&&(B=!0),void 0===G&&(G=!0),this.pipelines.delete(V),B&&this.classes.delete(V),G&&this.postPipelineClasses.delete(V)},set:function(V,B,G){if(!V.isPostFX)return this.isCurrent(V,G)||(this.flush(),this.current&&this.current.unbind(),this.current=V,V.bind(G)),V.updateProjectionMatrix(),V.onBind(B),V},preBatch:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,G=B.length-1;G>=0;G--){var Q=B[G];Q.active&&Q.preBatch(V)}}},postBatch:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,G=0;G<B.length;G++){var Q=B[G];Q.active&&Q.postBatch(V)}}},preBatchCamera:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,G=B.length-1;G>=0;G--){var Q=B[G];Q.active&&Q.preBatch(V)}}},postBatchCamera:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,G=0;G<B.length;G++){var Q=B[G];Q.active&&Q.postBatch(V)}}},isCurrent:function(V,B){var Q=this.current;return Q&&!B&&(B=Q.currentShader),!(Q!==V||B.program!==this.renderer.currentProgram)},copyFrame:function(V,B,G,Q,H){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(V,B,G,Q,H),this},copyToGame:function(V){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(V),this},drawFrame:function(V,B,G,Q){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(V,B,G,Q),this},blendFrames:function(V,B,G,Q,H){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(V,B,G,Q,H),this},blendFramesAdditive:function(V,B,G,Q,H){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(V,B,G,Q,H),this},clearFrame:function(V,B){return this.UTILITY_PIPELINE.clearFrame(V,B),this},blitFrame:function(V,B,G,Q,H,K){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(V,B,G,Q,H,K),this},copyFrameRect:function(V,B,G,Q,H,K,tt,at){return this.UTILITY_PIPELINE.copyFrameRect(V,B,G,Q,H,K,tt,at),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(V){return this.UTILITY_PIPELINE.bind(V)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(V,B){B.restoreContext()}),R(this.postPipelineInstances,function(V){V.restoreContext()})},rebind:function(V){void 0===V&&this.previous&&(V=this.previous);var B=this.renderer,G=B.gl;G.disable(G.DEPTH_TEST),G.disable(G.CULL_FACE),B.hasActiveStencilMask()?G.clear(G.DEPTH_BUFFER_BIT):(G.disable(G.STENCIL_TEST),G.clear(G.DEPTH_BUFFER_BIT|G.STENCIL_BUFFER_BIT)),G.viewport(0,0,B.width,B.height),B.currentProgram=null,B.setBlendMode(0,!0);var Q=B.vaoExtension;Q&&Q.bindVertexArrayOES(null);var H=this.pipelines.entries;for(var K in H)H[K].glReset=!0;V&&(this.current=V,V.rebind())},clear:function(){var V=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,V.currentProgram=null,V.setBlendMode(0,!0);var B=V.vaoExtension;B&&B.bindVertexArrayOES(null)},getRenderTarget:function(V){var B=this.renderTargets;if(V>this.maxDimension)return this.targetIndex=B.length-3,B[this.targetIndex];var Q=3*(h(V,this.frameInc,0,!0)-1);return this.targetIndex=Q,B[Q]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});S.exports=N},32302:(S,P,a)=>{var y=a(83419),C=a(92503),g=new y({initialize:function(d,c,h,p,u,m,v,x,b){void 0===p&&(p=1),void 0===u&&(u=0),void 0===m&&(m=!0),void 0===v&&(v=!1),void 0===x&&(x=!0),void 0===b&&(b=!0),this.renderer=d,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=p,this.minFilter=u,this.autoClear=m,this.autoResize=!0,this.hasDepthBuffer=x,this.forceClamp=b,this.init(c,h),v?this.renderer.on(C.RESIZE,this.resize,this):this.autoResize=!1},init:function(f,d){var c=this.renderer;this.texture=c.createTextureFromSource(null,f,d,this.minFilter,this.forceClamp),this.framebuffer=c.createFramebuffer(f,d,this.texture,this.hasDepthBuffer),this.width=f,this.height=d},setAutoResize:function(f){return f&&!this.autoResize?(this.renderer.on(C.RESIZE,this.resize,this),this.autoResize=!0):!f&&this.autoResize&&(this.renderer.off(C.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(f,d){if(this.autoResize&&this.willResize(f,d)){var c=this.renderer;c.deleteFramebuffer(this.framebuffer),c.deleteTexture(this.texture),this.texture=c.createTextureFromSource(null,f,d,this.minFilter,this.forceClamp),this.framebuffer=c.createFramebuffer(f,d,this.texture,this.hasDepthBuffer),this.width=f,this.height=d}return this},willResize:function(f,d){return"number"==typeof f&&"number"==typeof d&&(f=Math.round(f*this.scale),d=Math.round(d*this.scale),f=Math.max(f,1),d=Math.max(d,1),f!==this.width||d!==this.height)},bind:function(f,d,c){void 0===f&&(f=!1);var h=this.renderer;if(f&&h.flush(),d&&c&&this.resize(d,c),h.pushFramebuffer(this.framebuffer,!1,!1),f&&this.adjustViewport(),this.autoClear){var p=this.renderer.gl;p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT)}h.clearStencilMask()},adjustViewport:function(){var f=this.renderer.gl;f.viewport(0,0,this.width,this.height),f.disable(f.SCISSOR_TEST)},clear:function(f,d,c,h){var p=this.renderer,u=p.gl;p.pushFramebuffer(this.framebuffer),void 0!==f&&void 0!==d&&void 0!==c&&void 0!==h?(u.enable(u.SCISSOR_TEST),u.scissor(f,d,c,h)):u.disable(u.SCISSOR_TEST),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),p.popFramebuffer(),p.resetScissor()},unbind:function(f){void 0===f&&(f=!1);var d=this.renderer;return f&&d.flush(),d.popFramebuffer()},destroy:function(){var f=this.renderer;f.off(C.RESIZE,this.resize,this),f.deleteFramebuffer(this.framebuffer),f.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});S.exports=g},70554:S=>{S.exports={getTintFromFloats:function(P,a,y,C){return((255*C&255)<<24|(255*P&255)<<16|(255*a&255)<<8|255*y&255)>>>0},getTintAppendFloatAlpha:function(P,a){return((255*a&255)<<24|P)>>>0},getTintAppendFloatAlphaAndSwap:function(P,a){return((255*a&255)<<24|(255&P)<<16|(P>>8&255)<<8|P>>16&255)>>>0},getFloatsFromUintRGB:function(P){return[(P>>16&255)/255,(P>>8&255)/255,(255&P)/255]},checkShaderMax:function(P,a){var y=Math.min(16,P.getParameter(P.MAX_TEXTURE_IMAGE_UNITS));return a&&-1!==a?Math.min(y,a):y},parseFragmentShaderMaxTextures:function(P,a){if(!P)return"";for(var y="",C=0;C<a;C++)C>0&&(y+="\n\telse "),C<a-1&&(y+="if (outTexId < "+C+".5)"),y+="\n\t{",y+="\n\t\ttexture = texture2D(uMainSampler["+C+"], outTexCoord);",y+="\n\t}";return(P=P.replace(/%count%/gi,a.toString())).replace(/%forloop%/gi,y)},setGlowQuality:function(P,a,y,C){return void 0===y&&(y=a.config.glowFXQuality),void 0===C&&(C=a.config.glowFXDistance),(P=P.replace(/__SIZE__/gi,(1/y/C).toFixed(7))).replace(/__DIST__/gi,C.toFixed(0)+".0")}}},29100:(S,P,a)=>{var y=a(83419),C=a(62644),g=a(50792),f=a(77085),d=a(95540),c=a(37867),h=a(92503),p=a(32302),u=a(70554),m=a(38683),v=new y({Extends:g,initialize:function(b){g.call(this);var T=b.game,_=T.renderer,A=_.gl;this.name=d(b,"name","WebGLPipeline"),this.game=T,this.renderer=_,this.gl=A,this.view=T.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.topology=d(b,"topology",A.TRIANGLES),this.active=!0,this.forceZero=d(b,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.shaders=[],this.projectionWidth=0,this.projectionHeight=0,this.config=b,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=d(b,"resizeUniform","")},boot:function(){var x,b=this.gl,T=this.config,_=this.renderer;this.isPostFX||(this.projectionMatrix=(new c).identity());var A=this.renderTargets,M=d(T,"renderTarget",!1);"boolean"==typeof M&&M&&(M=1);var I=_.width,R=_.height;if("number"==typeof M)for(x=0;x<M;x++)A.push(new p(_,I,R,1,0,!0));else if(Array.isArray(M))for(x=0;x<M.length;x++){var F=d(M[x],"scale",1),N=d(M[x],"minFilter",0),V=d(M[x],"autoClear",1),B=d(M[x],"autoResize",!1),G=d(M[x],"width",null),Q=d(M[x],"height",G);A.push(G?new p(_,G,Q,1,N,V,B):new p(_,I,R,F,N,V,B))}A.length&&(this.currentRenderTarget=A[0]),this.setShadersFromConfig(T);var H=this.shaders,K=0;for(x=0;x<H.length;x++)H[x].vertexSize>K&&(K=H[x].vertexSize);var tt=d(T,"batchSize",_.config.batchSize);this.vertexCapacity=6*tt;var at=new ArrayBuffer(this.vertexCapacity*K);this.vertexData=at,this.bytes=new Uint8Array(at),this.vertexViewF32=new Float32Array(at),this.vertexViewU32=new Uint32Array(at);var lt=d(T,"vertices",null);for(lt?(this.vertexViewF32.set(lt),this.vertexBuffer=_.createVertexBuffer(at,b.STATIC_DRAW)):this.vertexBuffer=_.createVertexBuffer(at.byteLength,b.DYNAMIC_DRAW),this.setVertexBuffer(),x=H.length-1;x>=0;x--)H[x].rebind();this.hasBooted=!0,_.on(h.RESIZE,this.resize,this),_.on(h.PRE_RENDER,this.onPreRender,this),_.on(h.RENDER,this.onRender,this),_.on(h.POST_RENDER,this.onPostRender,this),this.emit(f.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(x,b,T){return x===this.currentShader&&this.renderer.currentProgram===this.currentShader.program||(this.flush(),this.setVertexBuffer(T)&&!b&&(b=!0),x.bind(b,!1),this.currentShader=x),this},getShaderByName:function(x){for(var b=this.shaders,T=0;T<b.length;T++)if(b[T].name===x)return b[T]},setShadersFromConfig:function(x){var b,T=this.shaders,_=this.renderer;for(b=0;b<T.length;b++)T[b].destroy();var A="vertShader",M="fragShader",I="attributes",R=d(x,A,null),F=u.parseFragmentShaderMaxTextures(d(x,M,null),_.maxTextures),N=d(x,I,null),V=d(x,"shaders",[]),B=V.length;if(0===B)R&&F&&(this.shaders=[new m(this,"default",R,F,C(N))]);else{var G=[];for(b=0;b<B;b++){var H,K,tt,at,Q=V[b];if("string"==typeof Q?(H="default",K=R,tt=u.parseFragmentShaderMaxTextures(Q,_.maxTextures),at=N):(H=d(Q,"name","default"),K=d(Q,A,R),tt=u.parseFragmentShaderMaxTextures(d(Q,M,F),_.maxTextures),at=d(Q,I,N)),"default"===H){var q=tt.split("\n")[0].trim();q.indexOf("#define SHADER_NAME")>-1&&(H=q.substring(20))}K&&tt&&G.push(new m(this,H,K,tt,C(at)))}this.shaders=G}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(x){return this.currentBatch={start:this.vertexCount,count:0,texture:[x],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=x,this.batch.push(this.currentBatch),0},addTextureToBatch:function(x){var b=this.currentBatch;b&&(b.texture.push(x),b.unit++,b.maxUnit++)},pushBatch:function(x){if(!this.currentBatch||this.forceZero&&x!==this.currentTexture)return this.createBatch(x);if(x===this.currentTexture)return this.currentUnit;var b=this.currentBatch,T=b.texture.indexOf(x);return-1===T?b.texture.length===this.renderer.maxTextures?this.createBatch(x):(b.unit++,b.maxUnit++,b.texture.push(x),this.currentUnit=b.unit,this.currentTexture=x,b.unit):(this.currentUnit=T,this.currentTexture=x,T)},setGameObject:function(x,b){return void 0===b&&(b=x.frame),this.pushBatch(b.source.glTexture)},shouldFlush:function(x){return void 0===x&&(x=0),this.vertexCount+x>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(x,b){(x!==this.width||b!==this.height)&&this.flush(),this.width=x,this.height=b;for(var T=this.renderTargets,_=0;_<T.length;_++)T[_].resize(x,b);return this.setProjectionMatrix(x,b),this.resizeUniform&&this.set2f(this.resizeUniform,x,b),this.emit(f.RESIZE,x,b,this),this.onResize(x,b),this},setProjectionMatrix:function(x,b){var T=this.projectionMatrix;if(!T)return this;this.projectionWidth=x,this.projectionHeight=b,T.ortho(0,x,b,0,-1e3,1e3);for(var _=this.shaders,A="uProjectionMatrix",M=0;M<_.length;M++){var I=_[M];I.hasUniform(A)&&(I.resetUniform(A),I.setMatrix4fv(A,!1,T.val,I))}return this},flipProjectionMatrix:function(x){void 0===x&&(x=!0);var b=this.projectionMatrix;if(!b)return this;var T=this.projectionWidth,_=this.projectionHeight;x?b.ortho(0,T,0,_,-1e3,1e3):b.ortho(0,T,_,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,b.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var x=this.renderer.projectionWidth,b=this.renderer.projectionHeight;(this.projectionWidth!==x||this.projectionHeight!==b)&&this.setProjectionMatrix(x,b)}},bind:function(x){if(void 0===x&&(x=this.currentShader),this.glReset)return this.rebind(x);var b=!1,T=this.gl;return T.getParameter(T.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(T.bindBuffer(T.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,b=!0),x.bind(b),this.currentShader=x,this.activeTextures.length=0,this.emit(f.BIND,this,x),this.onActive(x),this},rebind:function(x){this.activeBuffer=null,this.setVertexBuffer();for(var b=this.shaders,T=b.length-1;T>=0;T--){var _=b[T].rebind();(!x||_===x)&&(this.currentShader=_)}return this.activeTextures.length=0,this.emit(f.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var x=this.shaders,b=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,b&&this.setVertexBuffer();for(var T=0;T<x.length;T++){var _=x[T];_.syncUniforms(),b&&_.rebind()}},setVertexBuffer:function(x){return void 0===x&&(x=this.vertexBuffer),x!==this.activeBuffer&&(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,x.webGLBuffer),this.activeBuffer=x,!0)},preBatch:function(x){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(x),this},postBatch:function(x){return this.onDraw(this.currentRenderTarget),this.onPostBatch(x),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(x){if(void 0===x&&(x=!1),this.vertexCount>0){this.emit(f.BEFORE_FLUSH,this,x),this.onBeforeFlush(x);var b=this.gl,T=this.vertexCount,_=this.currentShader.vertexSize,A=this.topology;if(this.active){this.setVertexBuffer(),T===this.vertexCapacity?b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.DYNAMIC_DRAW):b.bufferSubData(b.ARRAY_BUFFER,0,this.bytes.subarray(0,T*_));var M,I,R,F=this.batch,N=this.activeTextures;if(this.forceZero)for(N[0]||b.activeTexture(b.TEXTURE0),M=0;M<F.length;M++)N[0]!==(R=(I=F[M]).texture[0])&&(b.bindTexture(b.TEXTURE_2D,R.webGLTexture),N[0]=R),b.drawArrays(A,I.start,I.count);else for(M=0;M<F.length;M++){I=F[M];for(var V=0;V<=I.maxUnit;V++)N[V]!==(R=I.texture[V])&&(b.activeTexture(b.TEXTURE0+V),b.bindTexture(b.TEXTURE_2D,R.webGLTexture),N[V]=R);b.drawArrays(A,I.start,I.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(f.AFTER_FLUSH,this,x),this.onAfterFlush(x)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,b,T,_,A,M,I){var R=this.vertexViewF32,F=this.vertexViewU32,N=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++N]=x,R[++N]=b,R[++N]=T,R[++N]=_,R[++N]=A,R[++N]=M,F[++N]=I,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(x,b,T,_,A,M,I,R,F,N,V,B,G,Q,H,K,tt,at,lt,q){void 0===q&&(q=this.currentUnit);var it=!1;this.shouldFlush(6)&&(this.flush(),it=!0),this.currentBatch||(q=this.setTexture2D(lt));var Y=this.vertexViewF32,X=this.vertexViewU32,nt=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++nt]=b,Y[++nt]=T,Y[++nt]=N,Y[++nt]=V,Y[++nt]=q,Y[++nt]=at,X[++nt]=Q,Y[++nt]=_,Y[++nt]=A,Y[++nt]=N,Y[++nt]=G,Y[++nt]=q,Y[++nt]=at,X[++nt]=K,Y[++nt]=M,Y[++nt]=I,Y[++nt]=B,Y[++nt]=G,Y[++nt]=q,Y[++nt]=at,X[++nt]=tt,Y[++nt]=b,Y[++nt]=T,Y[++nt]=N,Y[++nt]=V,Y[++nt]=q,Y[++nt]=at,X[++nt]=Q,Y[++nt]=M,Y[++nt]=I,Y[++nt]=B,Y[++nt]=G,Y[++nt]=q,Y[++nt]=at,X[++nt]=tt,Y[++nt]=R,Y[++nt]=F,Y[++nt]=B,Y[++nt]=V,Y[++nt]=q,Y[++nt]=at,X[++nt]=H,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),it},batchTri:function(x,b,T,_,A,M,I,R,F,N,V,B,G,Q,H,K,tt){void 0===tt&&(tt=this.currentUnit);var at=!1;this.shouldFlush(3)&&(this.flush(),at=!0),this.currentBatch||(tt=this.setTexture2D(K));var lt=this.vertexViewF32,q=this.vertexViewU32,it=this.vertexCount*this.currentShader.vertexComponentCount-1;return lt[++it]=b,lt[++it]=T,lt[++it]=R,lt[++it]=F,lt[++it]=tt,lt[++it]=H,q[++it]=B,lt[++it]=_,lt[++it]=A,lt[++it]=R,lt[++it]=V,lt[++it]=tt,lt[++it]=H,q[++it]=G,lt[++it]=M,lt[++it]=I,lt[++it]=N,lt[++it]=V,lt[++it]=tt,lt[++it]=H,q[++it]=Q,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),at},drawFillRect:function(x,b,T,_,A,M,I,R){void 0===I&&(I=this.renderer.whiteTexture),void 0===R&&(R=!0),x=Math.floor(x),b=Math.floor(b);var F=Math.floor(x+T),N=Math.floor(b+_),V=this.setTexture2D(I),B=u.getTintAppendFloatAlphaAndSwap(A,M),Q=0,K=1;R&&(Q=1,K=0),this.batchQuad(null,x,b,x,N,F,N,F,b,0,Q,1,K,B,B,B,B,0,I,V)},setTexture2D:function(x){return void 0===x&&(x=this.renderer.whiteTexture),this.pushBatch(x)},bindTexture:function(x,b){void 0===b&&(b=0);var T=this.gl;return T.activeTexture(T.TEXTURE0+b),T.bindTexture(T.TEXTURE_2D,x.webGLTexture),this},bindRenderTarget:function(x,b){return this.bindTexture(x.texture,b)},setTime:function(x,b){return this.set1f(x,this.game.loop.getDuration(),b),this},setBoolean:function(x,b,T){return void 0===T&&(T=this.currentShader),T.setBoolean(x,b),this},set1f:function(x,b,T){return void 0===T&&(T=this.currentShader),T.set1f(x,b),this},set2f:function(x,b,T,_){return void 0===_&&(_=this.currentShader),_.set2f(x,b,T),this},set3f:function(x,b,T,_,A){return void 0===A&&(A=this.currentShader),A.set3f(x,b,T,_),this},set4f:function(x,b,T,_,A,M){return void 0===M&&(M=this.currentShader),M.set4f(x,b,T,_,A),this},set1fv:function(x,b,T){return void 0===T&&(T=this.currentShader),T.set1fv(x,b),this},set2fv:function(x,b,T){return void 0===T&&(T=this.currentShader),T.set2fv(x,b),this},set3fv:function(x,b,T){return void 0===T&&(T=this.currentShader),T.set3fv(x,b),this},set4fv:function(x,b,T){return void 0===T&&(T=this.currentShader),T.set4fv(x,b),this},set1iv:function(x,b,T){return void 0===T&&(T=this.currentShader),T.set1iv(x,b),this},set2iv:function(x,b,T){return void 0===T&&(T=this.currentShader),T.set2iv(x,b),this},set3iv:function(x,b,T){return void 0===T&&(T=this.currentShader),T.set3iv(x,b),this},set4iv:function(x,b,T){return void 0===T&&(T=this.currentShader),T.set4iv(x,b),this},set1i:function(x,b,T){return void 0===T&&(T=this.currentShader),T.set1i(x,b),this},set2i:function(x,b,T,_){return void 0===_&&(_=this.currentShader),_.set2i(x,b,T),this},set3i:function(x,b,T,_,A){return void 0===A&&(A=this.currentShader),A.set3i(x,b,T,_),this},set4i:function(x,b,T,_,A,M){return void 0===M&&(M=this.currentShader),M.set4i(x,b,T,_,A),this},setMatrix2fv:function(x,b,T,_){return void 0===_&&(_=this.currentShader),_.setMatrix2fv(x,b,T),this},setMatrix3fv:function(x,b,T,_){return void 0===_&&(_=this.currentShader),_.setMatrix3fv(x,b,T),this},setMatrix4fv:function(x,b,T,_){return void 0===_&&(_=this.currentShader),_.setMatrix4fv(x,b,T),this},destroy:function(){this.emit(f.DESTROY,this);var x,b=this.shaders;for(x=0;x<b.length;x++)b[x].destroy();var T=this.renderTargets;for(x=0;x<T.length;x++)T[x].destroy();var _=this.renderer;return _.deleteBuffer(this.vertexBuffer),_.off(h.RESIZE,this.resize,this),_.off(h.PRE_RENDER,this.onPreRender,this),_.off(h.RENDER,this.onRender,this),_.off(h.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});S.exports=v},74797:(S,P,a)=>{var y=a(95428),C=a(72905),g=a(19715),f=a(83419),d=a(8054),c=a(50792),h=a(92503),p=a(50030),u=a(37867),m=a(29747),v=a(7530),x=a(32302),b=a(97480),T=a(69442),_=a(70554),A=a(88815),M=a(26128),I=a(1482),R=a(82751),F=a(84387),N=a(93567),V=a(57183),Q=new f({Extends:c,initialize:function(K){c.call(this);var tt=K.config;this.config={clearBeforeRender:tt.clearBeforeRender,antialias:tt.antialias,backgroundColor:tt.backgroundColor,contextCreation:{alpha:tt.transparent,desynchronized:tt.desynchronized,depth:!0,antialias:tt.antialiasGL,premultipliedAlpha:tt.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:tt.failIfMajorPerformanceCaveat,powerPreference:tt.powerPreference,preserveDrawingBuffer:tt.preserveDrawingBuffer,willReadFrequently:!1},roundPixels:tt.roundPixels,maxTextures:tt.maxTextures,maxTextureSize:tt.maxTextureSize,batchSize:tt.batchSize,maxLights:tt.maxLights,mipmapFilter:tt.mipmapFilter},this.game=K,this.type=d.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=K.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=m,this.contextRestoredHandler=m,this.previousContextLostHandler=m,this.previousContextRestoredHandler=m,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(H){var K,tt=this.game,at=this.canvas,lt=H.backgroundColor;if(!(K=tt.config.context?tt.config.context:at.getContext("webgl",H.contextCreation)||at.getContext("experimental-webgl",H.contextCreation))||K.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=K,this.setExtensions(),this.setContextHandlers(),tt.context=K;for(var q=0;q<=27;q++)this.blendModes.push({func:[K.ONE,K.ONE_MINUS_SRC_ALPHA],equation:K.FUNC_ADD});return this.blendModes[1].func=[K.ONE,K.DST_ALPHA],this.blendModes[2].func=[K.DST_COLOR,K.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[K.ONE,K.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[K.ZERO,K.ONE_MINUS_SRC_ALPHA],equation:K.FUNC_REVERSE_SUBTRACT},this.glFormats=[K.BYTE,K.SHORT,K.UNSIGNED_BYTE,K.UNSIGNED_SHORT,K.FLOAT],this.glFuncMap={mat2:{func:K.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:K.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:K.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:K.uniform1f,length:1},"1fv":{func:K.uniform1fv,length:1},"1i":{func:K.uniform1i,length:1},"1iv":{func:K.uniform1iv,length:1},"2f":{func:K.uniform2f,length:2},"2fv":{func:K.uniform2fv,length:1},"2i":{func:K.uniform2i,length:2},"2iv":{func:K.uniform2iv,length:1},"3f":{func:K.uniform3f,length:3},"3fv":{func:K.uniform3fv,length:1},"3i":{func:K.uniform3i,length:3},"3iv":{func:K.uniform3iv,length:1},"4f":{func:K.uniform4f,length:4},"4fv":{func:K.uniform4fv,length:1},"4i":{func:K.uniform4i,length:4},"4iv":{func:K.uniform4iv,length:1}},(!H.maxTextures||-1===H.maxTextures)&&(H.maxTextures=K.getParameter(K.MAX_TEXTURE_IMAGE_UNITS)),H.maxTextureSize||(H.maxTextureSize=K.getParameter(K.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),K.disable(K.DEPTH_TEST),K.disable(K.CULL_FACE),K.enable(K.BLEND),K.clearColor(lt.redGL,lt.greenGL,lt.blueGL,lt.alphaGL),-1!==["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"].indexOf(H.mipmapFilter)&&(this.mipmapFilter=K[H.mipmapFilter]),this.maxTextures=_.checkShaderMax(K,H.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new v(this),this.setBlendMode(d.BlendModes.NORMAL),this.projectionMatrix=(new u).identity(),tt.textures.once(T.READY,this.boot,this),this},boot:function(){var H=this.game,K=this.pipelines,tt=H.scale.baseSize,at=tt.width,lt=tt.height;this.width=at,this.height=lt,this.isBooted=!0,this.renderTarget=new x(this,at,lt,1,0,!0,!0),this.maskTarget=new x(this,at,lt,1,0,!0,!0),this.maskSource=new x(this,at,lt,1,0,!0,!0);var q=H.config;K.boot(q.pipeline,q.defaultPipeline,q.autoMobilePipeline),this.blankTexture=H.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=H.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=H.textures.getFrame("__WHITE").glTexture;var it=this.gl;it.bindFramebuffer(it.FRAMEBUFFER,null),it.enable(it.SCISSOR_TEST),H.scale.on(b.RESIZE,this.onResize,this),this.resize(at,lt)},setExtensions:function(){var H=this.gl,K=H.getSupportedExtensions();this.supportedExtensions=K;var tt="ANGLE_instanced_arrays";this.instancedArraysExtension=K.indexOf(tt)>-1?H.getExtension(tt):null;var at="OES_vertex_array_object";this.vaoExtension=K.indexOf(at)>-1?H.getExtension(at):null},setContextHandlers:function(H,K){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),this.contextLostHandler="function"==typeof H?H.bind(this):this.dispatchContextLost.bind(this),this.contextRestoredHandler="function"==typeof K?K.bind(this):this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(H){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(h.LOSE_WEBGL,this),H.preventDefault()},dispatchContextRestored:function(H){var K=this.gl;if(K.isContextLost())console&&console.log("WebGL Context restored, but context is still lost");else{this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(d.BlendModes.NORMAL),K.disable(K.BLEND),K.disable(K.DEPTH_TEST),K.enable(K.CULL_FACE),this.compression=this.getCompressedTextures();var tt=function(at){at.createResource()};y(this.glTextureWrappers,tt),y(this.glBufferWrappers,tt),y(this.glFramebufferWrappers,tt),y(this.glProgramWrappers,tt),y(this.glAttribLocationWrappers,tt),y(this.glUniformLocationWrappers,tt),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(h.RESTORE_WEBGL,this),H.preventDefault()}},createTemporaryTextures:function(){for(var H=this.gl,K=0;K<this.maxTextures;K++){var tt=H.createTexture();H.activeTexture(H.TEXTURE0+K),H.bindTexture(H.TEXTURE_2D,tt),H.texImage2D(H.TEXTURE_2D,0,H.RGBA,1,1,0,H.RGBA,H.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(K)}},captureFrame:function(H,K){void 0===H&&(H=!1),void 0===K&&(K=!1)},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(H,K,tt){void 0===H&&(H=0),void 0===K&&(K=!1),void 0===tt&&(tt=!1)},stopCapture:function(){},onCapture:function(H){},onResize:function(H,K){(K.width!==this.width||K.height!==this.height)&&this.resize(K.width,K.height)},beginCapture:function(H,K){void 0===H&&(H=this.width),void 0===K&&(K=this.height),this.renderTarget.bind(!0,H,K),this.setProjectionMatrix(H,K)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(H,K){var tt=this.gl;return this.width=H,this.height=K,this.setProjectionMatrix(H,K),tt.viewport(0,0,H,K),this.drawingBufferHeight=tt.drawingBufferHeight,tt.scissor(0,tt.drawingBufferHeight-K,H,K),this.defaultScissor[2]=H,this.defaultScissor[3]=K,this.emit(h.RESIZE,H,K),this},getCompressedTextures:function(){var H="WEBGL_compressed_texture_",K="WEBKIT_"+H,at=function(q,it){var Y=q.getExtension(H+it)||q.getExtension(K+it)||q.getExtension("EXT_texture_compression_"+it);if(Y){var X={};for(var nt in Y)X[Y[nt]]=nt;return X}},lt=this.gl;return{ETC:at(lt,"etc"),ETC1:at(lt,"etc1"),ATC:at(lt,"atc"),ASTC:at(lt,"astc"),BPTC:at(lt,"bptc"),RGTC:at(lt,"rgtc"),PVRTC:at(lt,"pvrtc"),S3TC:at(lt,"s3tc"),S3TCSRGB:at(lt,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(H,K){var tt=this.compression[H.toUpperCase()];if(K in tt)return tt[K]},supportsCompressedTexture:function(H,K){var tt=this.compression[H.toUpperCase()];return!!tt&&(!K||K in tt)},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(H,K){return(H!==this.projectionWidth||K!==this.projectionHeight)&&(this.projectionWidth=H,this.projectionHeight=K,this.projectionMatrix.ortho(0,H,K,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(H){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(H)},getExtension:function(H){return this.hasExtension(H)?(H in this.extensions||(this.extensions[H]=this.gl.getExtension(H)),this.extensions[H]):null},flush:function(){this.pipelines.flush()},pushScissor:function(H,K,tt,at,lt){void 0===lt&&(lt=this.drawingBufferHeight);var it=[H,K,tt,at];return this.scissorStack.push(it),this.setScissor(H,K,tt,at,lt),this.currentScissor=it,it},setScissor:function(H,K,tt,at,lt){void 0===lt&&(lt=this.drawingBufferHeight);var q=this.gl,it=this.currentScissor,Y=tt>0&&at>0;it&&Y&&(Y=it[0]!==H||it[1]!==K||it[2]!==tt||it[3]!==at),Y&&(this.flush(),q.scissor(H,lt-K-at,tt,at))},resetScissor:function(){var H=this.gl;H.enable(H.SCISSOR_TEST);var K=this.currentScissor;if(K){var lt=K[2],q=K[3];lt>0&&q>0&&H.scissor(K[0],this.drawingBufferHeight-K[1]-q,lt,q)}},popScissor:function(){var H=this.scissorStack;H.pop();var K=H[H.length-1];K&&this.setScissor(K[0],K[1],K[2],K[3]),this.currentScissor=K},hasActiveStencilMask:function(){var H=this.currentMask.mask,K=this.currentCameraMask.mask;return H&&H.isStencil||K&&K.isStencil},resetViewport:function(){var H=this.gl;H.viewport(0,0,this.width,this.height),this.drawingBufferHeight=H.drawingBufferHeight},setBlendMode:function(H,K){void 0===K&&(K=!1);var tt=this.gl,at=this.blendModes[H];return!!(K||H!==d.BlendModes.SKIP_CHECK&&this.currentBlendMode!==H)&&(this.flush(),tt.enable(tt.BLEND),tt.blendEquation(at.equation),at.func.length>2?tt.blendFuncSeparate(at.func[0],at.func[1],at.func[2],at.func[3]):tt.blendFunc(at.func[0],at.func[1]),this.currentBlendMode=H,!0)},addBlendMode:function(H,K){return this.blendModes.push({func:H,equation:K})-1},updateBlendMode:function(H,K,tt){return this.blendModes[H]&&(this.blendModes[H].func=K,tt&&(this.blendModes[H].equation=tt)),this},removeBlendMode:function(H){return H>17&&this.blendModes[H]&&this.blendModes.splice(H,1),this},pushFramebuffer:function(H,K,tt,at,lt){return H===this.currentFramebuffer?this:(this.fboStack.push(H),this.setFramebuffer(H,K,tt,at,lt))},setFramebuffer:function(H,K,tt,at,lt){if(void 0===K&&(K=!1),void 0===tt&&(tt=!0),void 0===at&&(at=null),void 0===lt&&(lt=!1),H===this.currentFramebuffer)return this;var q=this.gl,it=this.width,Y=this.height;return H&&H.renderTexture&&tt?(it=H.renderTexture.width,Y=H.renderTexture.height):this.flush(),q.bindFramebuffer(q.FRAMEBUFFER,H?H.webGLFramebuffer:null),tt&&q.viewport(0,0,it,Y),at&&q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,at.webGLTexture,0),lt&&(q.clearColor(0,0,0,0),q.clear(q.COLOR_BUFFER_BIT)),K&&(H?(this.drawingBufferHeight=Y,this.pushScissor(0,0,it,Y)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=H,this},popFramebuffer:function(H,K){void 0===H&&(H=!1),void 0===K&&(K=!0);var tt=this.fboStack;tt.pop();var at=tt[tt.length-1];return at||(at=null),this.setFramebuffer(at,H,K),at},restoreFramebuffer:function(H,K){void 0===H&&(H=!1),void 0===K&&(K=!0);var tt=this.fboStack,at=tt[tt.length-1];at||(at=null),this.currentFramebuffer=null,this.setFramebuffer(at,H,K)},setProgram:function(H){return H!==this.currentProgram&&(this.flush(),this.gl.useProgram(H.webGLProgram),this.currentProgram=H,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(H,K,tt,at,lt){void 0===lt&&(lt=!1);var q=this.gl,it=q.NEAREST,Y=q.NEAREST,X=q.CLAMP_TO_EDGE,dt=p(K=H?H.width:K,tt=H?H.height:tt);if(dt&&!lt&&(X=q.REPEAT),at===d.ScaleModes.LINEAR&&this.config.antialias){var gt=H&&H.compressed;it=this.mipmapFilter&&(!gt&&dt||gt&&H.mipmaps.length>1)?this.mipmapFilter:q.LINEAR,Y=q.LINEAR}return H||"number"!=typeof K||"number"!=typeof tt?this.createTexture2D(0,it,Y,X,X,q.RGBA,H):this.createTexture2D(0,it,Y,X,X,q.RGBA,null,K,tt)},createTexture2D:function(H,K,tt,at,lt,q,it,Y,X,nt,dt,gt){"number"!=typeof Y&&(Y=it?it.width:1),"number"!=typeof X&&(X=it?it.height:1);var bt=new R(this.gl,H,K,tt,at,lt,q,it,Y,X,nt,dt,gt);return this.glTextureWrappers.push(bt),bt},createFramebuffer:function(H,K,tt,at){this.currentFramebuffer=null;var lt=new F(this.gl,H,K,tt,at);return this.glFramebufferWrappers.push(lt),lt},beginBitmapMask:function(H,K){this.gl&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==H&&(this.currentMask.mask=H,this.currentMask.camera=K))},drawBitmapMask:function(H,K,tt){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),H.renderWebGL(this,H,K),this.maskSource.unbind(!0),this.maskTarget.unbind();var at=this.gl,lt=this.getCurrentStencilMask();lt?(at.enable(at.STENCIL_TEST),lt.mask.applyStencil(this,lt.camera,!0)):this.currentMask.mask=null,this.pipelines.set(tt),at.activeTexture(at.TEXTURE0),at.bindTexture(at.TEXTURE_2D,this.maskTarget.texture.webGLTexture),at.activeTexture(at.TEXTURE1),at.bindTexture(at.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(H,K){var tt=new I(this.gl,H,K);return this.glProgramWrappers.push(tt),tt},createVertexBuffer:function(H,K){var tt=this.gl,at=new M(tt,H,tt.ARRAY_BUFFER,K);return this.glBufferWrappers.push(at),at},createAttribLocation:function(H,K){var tt=new N(this.gl,H,K);return this.glAttribLocationWrappers.push(tt),tt},createUniformLocation:function(H,K){var tt=new V(this.gl,H,K);return this.glUniformLocationWrappers.push(tt),tt},createIndexBuffer:function(H,K){var tt=this.gl,at=new M(tt,H,tt.ELEMENT_ARRAY_BUFFER,K);return this.glBufferWrappers.push(at),at},deleteTexture:function(H){if(H)return C(this.glTextureWrappers,H),H.destroy(),this},deleteFramebuffer:function(H){return H?(C(this.fboStack,H),C(this.glFramebufferWrappers,H),H.destroy(),this):this},deleteProgram:function(H){return H&&(C(this.glProgramWrappers,H),H.destroy()),this},deleteAttribLocation:function(H){return H&&(C(this.glAttribLocationWrappers,H),H.destroy()),this},deleteUniformLocation:function(H){return H&&(C(this.glUniformLocationWrappers,H),H.destroy()),this},deleteBuffer:function(H){return H?(C(this.glBufferWrappers,H),H.destroy(),this):this},preRenderCamera:function(H){var K=H.x,tt=H.y,at=H.width,lt=H.height,q=H.backgroundColor;H.emit(g.PRE_RENDER,H),this.pipelines.preBatchCamera(H),this.pushScissor(K,tt,at,lt),H.mask&&(this.currentCameraMask.mask=H.mask,this.currentCameraMask.camera=H._maskCamera,H.mask.preRenderWebGL(this,H,H._maskCamera)),q.alphaGL>0&&this.pipelines.setMulti().drawFillRect(K,tt,at,lt,_.getTintFromFloats(q.blueGL,q.greenGL,q.redGL,1),q.alphaGL)},getCurrentStencilMask:function(){var H=null,K=this.maskStack,tt=this.currentCameraMask;return K.length>0?H=K[K.length-1]:tt.mask&&tt.mask.isStencil&&(H=tt),H},postRenderCamera:function(H){var K=H.flashEffect,tt=H.fadeEffect;if(K.isRunning||tt.isRunning||tt.isComplete){var at=this.pipelines.setMulti();K.postRenderWebGL(at,_.getTintFromFloats),tt.postRenderWebGL(at,_.getTintFromFloats)}H.dirty=!1,this.popScissor(),H.mask&&(this.currentCameraMask.mask=null,H.mask.postRenderWebGL(this,H._maskCamera)),this.pipelines.postBatchCamera(H),H.emit(g.POST_RENDER,H)},preRender:function(){if(!this.contextLost){var H=this.gl;if(H.bindFramebuffer(H.FRAMEBUFFER,null),this.emit(h.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var K=this.config.backgroundColor;H.clearColor(K.redGL,K.greenGL,K.blueGL,K.alphaGL),H.clear(H.COLOR_BUFFER_BIT|H.DEPTH_BUFFER_BIT|H.STENCIL_BUFFER_BIT)}H.enable(H.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&H.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(h.PRE_RENDER)}},render:function(H,K,tt){if(!this.contextLost){var at=K.length;if(this.emit(h.RENDER,H,tt),this.preRenderCamera(tt),0===at)return this.setBlendMode(d.BlendModes.NORMAL),void this.postRenderCamera(tt);this.currentType="";for(var lt=this.currentMask,q=0;q<at;q++){this.finalType=q===at-1;var it=K[q],Y=it.mask;(lt=this.currentMask).mask&&lt.mask!==Y&&lt.mask.postRenderWebGL(this,lt.camera),Y&&lt.mask!==Y&&Y.preRenderWebGL(this,it,tt),it.blendMode!==this.currentBlendMode&&this.setBlendMode(it.blendMode);var X=it.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.nextTypeMatch=!this.finalType&&K[q+1].type===this.currentType,it.renderWebGL(this,it,tt),this.newType=!1}(lt=this.currentMask).mask&&lt.mask.postRenderWebGL(this,lt.camera),this.setBlendMode(d.BlendModes.NORMAL),this.postRenderCamera(tt)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(h.POST_RENDER);var H=this.snapshotState;H.callback&&(A(this.gl,H),H.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var H=this.gl,K=this.getCurrentStencilMask();if(K){var tt=K.mask;H.enable(H.STENCIL_TEST),H.stencilFunc(tt.invertAlpha?H.NOTEQUAL:H.EQUAL,tt.level,255)}},snapshot:function(H,K,tt){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,H,K,tt)},snapshotArea:function(H,K,tt,at,lt,q,it){var Y=this.snapshotState;return Y.callback=lt,Y.type=q,Y.encoder=it,Y.getPixel=!1,Y.x=H,Y.y=K,Y.width=tt,Y.height=at,this},snapshotPixel:function(H,K,tt){return this.snapshotArea(H,K,1,1,tt),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(H,K,tt,at,lt,q,it,Y,X,nt,dt){void 0===lt&&(lt=!1),void 0===q&&(q=0),void 0===it&&(it=0),void 0===Y&&(Y=K),void 0===X&&(X=tt),"pixel"===nt&&(lt=!0,nt="image/png");var gt=this.currentFramebuffer;this.snapshotArea(q,it,Y,X,at,nt,dt);var bt=this.snapshotState;return bt.getPixel=lt,bt.isFramebuffer=!0,bt.bufferWidth=K,bt.bufferHeight=tt,bt.width=Math.min(bt.width,K),bt.height=Math.min(bt.height,tt),this.setFramebuffer(H),A(this.gl,bt),this.setFramebuffer(gt),bt.callback=null,bt.isFramebuffer=!1,this},canvasToTexture:function(H,K,tt,at){void 0===tt&&(tt=!1),void 0===at&&(at=!1);var lt=this.gl,q=lt.NEAREST,it=lt.NEAREST,Y=H.width,X=H.height,nt=lt.CLAMP_TO_EDGE,dt=p(Y,X);return!tt&&dt&&(nt=lt.REPEAT),this.config.antialias&&(q=dt&&this.mipmapFilter?this.mipmapFilter:lt.LINEAR,it=lt.LINEAR),K?(K.update(H,Y,X,at,nt,nt,q,it,K.format),K):this.createTexture2D(0,q,it,nt,nt,lt.RGBA,H,Y,X,!0,!1,at)},createCanvasTexture:function(H,K,tt){return void 0===K&&(K=!1),void 0===tt&&(tt=!1),this.canvasToTexture(H,null,K,tt)},updateCanvasTexture:function(H,K,tt,at){return void 0===tt&&(tt=!1),void 0===at&&(at=!1),this.canvasToTexture(H,K,at,tt)},videoToTexture:function(H,K,tt,at){void 0===tt&&(tt=!1),void 0===at&&(at=!1);var lt=this.gl,q=lt.NEAREST,it=lt.NEAREST,Y=H.videoWidth,X=H.videoHeight,nt=lt.CLAMP_TO_EDGE,dt=p(Y,X);return!tt&&dt&&(nt=lt.REPEAT),this.config.antialias&&(q=dt&&this.mipmapFilter?this.mipmapFilter:lt.LINEAR,it=lt.LINEAR),K?(K.update(H,Y,X,at,nt,nt,q,it,K.format),K):this.createTexture2D(0,q,it,nt,nt,lt.RGBA,H,Y,X,!0,!0,at)},createVideoTexture:function(H,K,tt){return void 0===K&&(K=!1),void 0===tt&&(tt=!1),this.videoToTexture(H,null,K,tt)},updateVideoTexture:function(H,K,tt,at){return void 0===tt&&(tt=!1),void 0===at&&(at=!1),this.videoToTexture(H,K,at,tt)},createUint8ArrayTexture:function(H,K,tt){var at=this.gl,lt=at.NEAREST,q=at.NEAREST,it=at.CLAMP_TO_EDGE;return p(K,tt)&&(it=at.REPEAT),this.createTexture2D(0,lt,q,it,it,at.RGBA,H,K,tt)},setTextureFilter:function(H,K){var tt=this.gl,at=0===K?tt.LINEAR:tt.NEAREST;tt.activeTexture(tt.TEXTURE0);var lt=tt.getParameter(tt.TEXTURE_BINDING_2D);return tt.bindTexture(tt.TEXTURE_2D,H.webGLTexture),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,at),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,at),H.minFilter=at,H.magFilter=at,lt&&tt.bindTexture(tt.TEXTURE_2D,lt),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var H=function(K){K.destroy()};y(this.glAttribLocationWrappers,H),y(this.glBufferWrappers,H),y(this.glFramebufferWrappers,H),y(this.glProgramWrappers,H),y(this.glTextureWrappers,H),y(this.glUniformLocationWrappers,H),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});S.exports=Q},38683:(S,P,a)=>{var y=a(83419),C=a(95428),g=a(95540),f=a(14500),d=new y({initialize:function(h,p,u,m,v){this.pipeline=h,this.name=p,this.renderer=h.renderer,this.gl=this.renderer.gl,this.fragSrc=m,this.vertSrc=u,this.program=this.renderer.createProgram(u,m),this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(v),this.createUniforms()},createAttributes:function(c){var h=0,p=0,u=[];this.vertexComponentCount=0;for(var m=0;m<c.length;m++){var v=c[m],x=v.name,b=g(v,"size",1),T=g(v,"type",f.FLOAT),A=T.size;u.push({name:x,size:b,type:T.enum,normalized:!!v.normalized,offset:p,enabled:!1,location:-1}),4===A?h+=b:h++,p+=b*A}this.vertexSize=p,this.vertexComponentCount=h,this.attributes=u},bind:function(c,h){return void 0===c&&(c=!1),void 0===h&&(h=!1),h&&this.pipeline.flush(),this.renderer.setProgram(this.program),c&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(c){void 0===c&&(c=!1);for(var h=this.gl,p=this.renderer,u=this.vertexSize,m=this.attributes,v=this.program,x=0;x<m.length;x++){var b=m[x],T=b.size,_=b.type,A=b.offset,M=b.enabled,I=b.location,R=!!b.normalized;if(c){-1!==I&&p.deleteAttribLocation(I);var F=this.renderer.createAttribLocation(v,b.name);F.webGLAttribLocation>=0?(h.enableVertexAttribArray(F.webGLAttribLocation),h.vertexAttribPointer(F.webGLAttribLocation,T,_,R,u,A),b.enabled=!0,b.location=F):-1!==F.webGLAttribLocation&&h.disableVertexAttribArray(F.webGLAttribLocation)}else M?h.vertexAttribPointer(I.webGLAttribLocation,T,_,R,u,A):!M&&-1!==I&&I.webGLAttribLocation>-1&&(h.disableVertexAttribArray(I.webGLAttribLocation),b.location=-1)}return this},createUniforms:function(){var u,m,v,c=this.gl,h=this.program,p=this.uniforms,x=c.getProgramParameter(h.webGLProgram,c.ACTIVE_UNIFORMS);for(u=0;u<x;u++){var b=c.getActiveUniform(h.webGLProgram,u);if(b){null!==(v=this.renderer.createUniformLocation(h,m=b.name))&&(p[m]={name:m,location:v,setter:null,value1:null,value2:null,value3:null,value4:null});var T=m.indexOf("[");T>0&&(m=m.substr(0,T),p.hasOwnProperty(m)||null!==(v=this.renderer.createUniformLocation(h,m))&&(p[m]={name:m,location:v,setter:null,value1:null,value2:null,value3:null,value4:null}))}}return this},syncUniforms:function(){var c=this.gl;for(var h in this.renderer.setProgram(this.program),this.uniforms){var p=this.uniforms[h];p.setter&&p.setter.call(c,p.location.webGLUniformLocation,p.value1,p.value2,p.value3,p.value4)}},hasUniform:function(c){return this.uniforms.hasOwnProperty(c)},resetUniform:function(c){var h=this.uniforms[c];return h&&(h.value1=null,h.value2=null,h.value3=null,h.value4=null),this},setUniform1:function(c,h,p,u){var m=this.uniforms[h];return m?((u||m.value1!==p)&&(m.setter||(m.setter=c),m.value1=p,this.renderer.setProgram(this.program),c.call(this.gl,m.location.webGLUniformLocation,p),this.pipeline.currentShader=this),this):this},setUniform2:function(c,h,p,u,m){var v=this.uniforms[h];return v?((m||v.value1!==p||v.value2!==u)&&(v.setter||(v.setter=c),v.value1=p,v.value2=u,this.renderer.setProgram(this.program),c.call(this.gl,v.location.webGLUniformLocation,p,u),this.pipeline.currentShader=this),this):this},setUniform3:function(c,h,p,u,m,v){var x=this.uniforms[h];return x?((v||x.value1!==p||x.value2!==u||x.value3!==m)&&(x.setter||(x.setter=c),x.value1=p,x.value2=u,x.value3=m,this.renderer.setProgram(this.program),c.call(this.gl,x.location.webGLUniformLocation,p,u,m),this.pipeline.currentShader=this),this):this},setUniform4:function(c,h,p,u,m,v,x){var b=this.uniforms[h];return b?((x||b.value1!==p||b.value2!==u||b.value3!==m||b.value4!==v)&&(b.setter||(b.setter=c),b.value1=p,b.value2=u,b.value3=m,b.value4=v,this.renderer.setProgram(this.program),c.call(this.gl,b.location.webGLUniformLocation,p,u,m,v),this.pipeline.currentShader=this),this):this},setBoolean:function(c,h){return this.setUniform1(this.gl.uniform1i,c,Number(h))},set1f:function(c,h){return this.setUniform1(this.gl.uniform1f,c,h)},set2f:function(c,h,p){return this.setUniform2(this.gl.uniform2f,c,h,p)},set3f:function(c,h,p,u){return this.setUniform3(this.gl.uniform3f,c,h,p,u)},set4f:function(c,h,p,u,m){return this.setUniform4(this.gl.uniform4f,c,h,p,u,m)},set1fv:function(c,h){return this.setUniform1(this.gl.uniform1fv,c,h,!0)},set2fv:function(c,h){return this.setUniform1(this.gl.uniform2fv,c,h,!0)},set3fv:function(c,h){return this.setUniform1(this.gl.uniform3fv,c,h,!0)},set4fv:function(c,h){return this.setUniform1(this.gl.uniform4fv,c,h,!0)},set1iv:function(c,h){return this.setUniform1(this.gl.uniform1iv,c,h,!0)},set2iv:function(c,h){return this.setUniform1(this.gl.uniform2iv,c,h,!0)},set3iv:function(c,h){return this.setUniform1(this.gl.uniform3iv,c,h,!0)},set4iv:function(c,h){return this.setUniform1(this.gl.uniform4iv,c,h,!0)},set1i:function(c,h){return this.setUniform1(this.gl.uniform1i,c,h)},set2i:function(c,h,p){return this.setUniform2(this.gl.uniform2i,c,h,p)},set3i:function(c,h,p,u){return this.setUniform3(this.gl.uniform3i,c,h,p,u)},set4i:function(c,h,p,u,m){return this.setUniform4(this.gl.uniform4i,c,h,p,u,m)},setMatrix2fv:function(c,h,p){return this.setUniform2(this.gl.uniformMatrix2fv,c,h,p,!0)},setMatrix3fv:function(c,h,p){return this.setUniform2(this.gl.uniformMatrix3fv,c,h,p,!0)},setMatrix4fv:function(c,h,p){return this.setUniform2(this.gl.uniformMatrix4fv,c,h,p,!0)},createProgram:function(c,h){return void 0===c&&(c=this.vertSrc),void 0===h&&(h=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=c,this.fragSrc=h,this.program=this.renderer.createProgram(c,h),this.createUniforms(),this.rebind()},destroy:function(){var c=this.renderer;C(this.uniforms,function(h){c.deleteUniformLocation(h.location)}),this.uniforms=null,C(this.attributes,function(h){c.deleteAttribLocation(h.location)}),this.attributes=null,c.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});S.exports=d},14500:S=>{S.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},4159:(S,P,a)=>{var y=a(14500),C=a(79291),g={PipelineManager:a(7530),Pipelines:a(96615),RenderTarget:a(32302),Utils:a(70554),WebGLPipeline:a(29100),WebGLRenderer:a(74797),WebGLShader:a(38683),Wrappers:a(9503)};g=C(!1,g,y),S.exports=g},31302:(S,P,a)=>{var y=a(83419),C=a(95540),g=a(78908),f=a(85191),d=a(14500),c=a(29100),h=new y({Extends:c,initialize:function(u){u.fragShader=C(u,"fragShader",g),u.vertShader=C(u,"vertShader",f),u.batchSize=C(u,"batchSize",1),u.vertices=C(u,"vertices",[-1,1,-1,-7,7,1]),u.attributes=C(u,"attributes",[{name:"inPosition",size:2,type:d.FLOAT}]),c.call(this,u)},boot:function(){c.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(p,u){c.prototype.resize.call(this,p,u),this.set2f("uResolution",p,u)},beginMask:function(p,u,m){this.renderer.beginBitmapMask(p,m)},endMask:function(p,u,m){var v=this.gl,b=p.bitmapMask;b&&v&&(this.renderer.drawBitmapMask(b,u,this),m&&this.set2f("uResolution",m.width,m.height),this.set1i("uInvertMaskAlpha",p.invertAlpha),v.drawArrays(this.topology,0,3),m&&this.set2f("uResolution",this.width,this.height),v.bindTexture(v.TEXTURE_2D,null))}});S.exports=h},92651:(S,P,a)=>{var y=a(83419),C=a(58918),g=a(14811),f=a(95540),d=a(43558),c=a(89350),h=a(70554),p=new y({Extends:d,initialize:function(m){m.shaders=[h.setGlowQuality(c.FXGlowFrag,m.game),c.FXShadowFrag,c.FXPixelateFrag,c.FXVignetteFrag,c.FXShineFrag,c.FXBlurLowFrag,c.FXBlurMedFrag,c.FXBlurHighFrag,c.FXGradientFrag,c.FXBloomFrag,c.ColorMatrixFrag,c.FXCircleFrag,c.FXBarrelFrag,c.FXDisplacementFrag,c.FXWipeFrag,c.FXBokehFrag],d.call(this,m);var v=this.game;this.glow=new C.Glow(v),this.shadow=new C.Shadow(v),this.pixelate=new C.Pixelate(v),this.vignette=new C.Vignette(v),this.shine=new C.Shine(v),this.gradient=new C.Gradient(v),this.circle=new C.Circle(v),this.barrel=new C.Barrel(v),this.wipe=new C.Wipe(v),this.bokeh=new C.Bokeh(v);var x=[];x[g.GLOW]=this.onGlow,x[g.SHADOW]=this.onShadow,x[g.PIXELATE]=this.onPixelate,x[g.VIGNETTE]=this.onVignette,x[g.SHINE]=this.onShine,x[g.BLUR]=this.onBlur,x[g.GRADIENT]=this.onGradient,x[g.BLOOM]=this.onBloom,x[g.COLOR_MATRIX]=this.onColorMatrix,x[g.CIRCLE]=this.onCircle,x[g.BARREL]=this.onBarrel,x[g.DISPLACEMENT]=this.onDisplacement,x[g.WIPE]=this.onWipe,x[g.BOKEH]=this.onBokeh,this.fxHandlers=x},onDraw:function(u,m,v){this.source=u,this.target=m,this.swap=v;var x=u.width,b=u.height,T=this.tempSprite,_=this.fxHandlers;if(T&&T.preFX)for(var A=T.preFX.list,M=0;M<A.length;M++){var I=A[M];I.active&&_[I.type].call(this,I,x,b)}this.drawToGame(this.source)},runDraw:function(){var u=this.source,m=this.target;this.copy(u,m),this.source=m,this.target=u},onGlow:function(u,m,v){var x=this.shaders[g.GLOW];this.setShader(x),this.glow.onPreRender(u,x,m,v),this.runDraw()},onShadow:function(u){var m=this.shaders[g.SHADOW];this.setShader(m),this.shadow.onPreRender(u,m),this.runDraw()},onPixelate:function(u,m,v){var x=this.shaders[g.PIXELATE];this.setShader(x),this.pixelate.onPreRender(u,x,m,v),this.runDraw()},onVignette:function(u){var m=this.shaders[g.VIGNETTE];this.setShader(m),this.vignette.onPreRender(u,m),this.runDraw()},onShine:function(u,m,v){var x=this.shaders[g.SHINE];this.setShader(x),this.shine.onPreRender(u,x,m,v),this.runDraw()},onBlur:function(u,m,v){var x=f(u,"quality");this.setShader(this.shaders[g.BLUR+x]),this.set1i("uMainSampler",0),this.set2f("resolution",m,v),this.set1f("strength",f(u,"strength")),this.set3fv("color",f(u,"glcolor"));for(var T=f(u,"x"),_=f(u,"y"),A=f(u,"steps"),M=0;M<A;M++)this.set2f("offset",T,0),this.runDraw(),this.set2f("offset",0,_),this.runDraw()},onGradient:function(u){var m=this.shaders[g.GRADIENT];this.setShader(m),this.gradient.onPreRender(u,m),this.runDraw()},onBloom:function(u,m,v){var x=this.shaders[g.BLOOM];this.copySprite(this.source,this.swap),this.setShader(x),this.set1i("uMainSampler",0),this.set1f("strength",f(u,"blurStrength")),this.set3fv("color",f(u,"glcolor"));for(var b=2/m*f(u,"offsetX"),T=2/v*f(u,"offsetY"),_=f(u,"steps"),A=0;A<_;A++)this.set2f("offset",b,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw();this.blendFrames(this.swap,this.source,this.target,f(u,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(u){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",u.getData()),this.set1f("uAlpha",u.alpha),this.runDraw()},onCircle:function(u,m,v){var x=this.shaders[g.CIRCLE];this.setShader(x),this.circle.onPreRender(u,x,m,v),this.runDraw()},onBarrel:function(u){var m=this.shaders[g.BARREL];this.setShader(m),this.barrel.onPreRender(u,m),this.runDraw()},onDisplacement:function(u){this.setShader(this.shaders[g.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",u.x,u.y),this.bindTexture(u.glTexture,1),this.runDraw()},onWipe:function(u){var m=this.shaders[g.WIPE];this.setShader(m),this.wipe.onPreRender(u,m),this.runDraw()},onBokeh:function(u,m,v){var x=this.shaders[g.BOKEH];this.setShader(x),this.bokeh.onPreRender(u,x,m,v),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,d.prototype.destroy.call(this),this}});S.exports=p},96569:(S,P,a)=>{var y=a(83419),C=a(95540),g=a(31063),f=a(57516),d=a(61340),c=a(26099),h=a(29100),p=new y({Extends:f,initialize:function(m){var v=C(m,"fragShader",g);m.fragShader=v.replace("%LIGHT_COUNT%",m.game.renderer.config.maxLights),f.call(this,m),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.lightsActive=!0,this.tempVec2=new c,this._tempMatrix=new d,this._tempMatrix2=new d},boot:function(){h.prototype.boot.call(this)},onRender:function(u,m){var v=u.sys.lights;if(this.lightsActive=!1,v&&v.active){var x=v.getLights(m),b=x.length;this.lightsActive=!0;var T,A=this.renderer.height,M=m.matrix,I=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",m.x,m.y,m.rotation,m.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),this.set1i("uLightCount",b),T=0;T<b;T++){var R=x[T].light,F=R.color,N="uLights["+T+"].";M.transformPoint(R.x,R.y,I),this.set2f(N+"position",I.x-m.scrollX*R.scrollFactorX*m.zoom,A-(I.y-m.scrollY*R.scrollFactorY*m.zoom)),this.set3f(N+"color",F.r,F.g,F.b),this.set1f(N+"intensity",R.intensity),this.set1f(N+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(u){if(u!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var m=this.inverseRotationMatrix;if(u){var v=-u,x=Math.cos(v),b=Math.sin(v);m[1]=b,m[3]=-b,m[0]=m[4]=x}else m[0]=m[4]=1,m[1]=m[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,m),this.currentNormalMapRotation=u}},setTexture2D:function(u,m){void 0===u&&(u=this.renderer.whiteTexture);var x=this.getNormalMap(m);this.isNewNormalMap(u,x)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(x),this.currentNormalMap=x);var b=0;return m&&m.parentContainer?b=m.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2).rotationNormalized:m&&(b=m.rotation),null===this.currentBatch&&(this.createBatch(u),this.addTextureToBatch(x)),this.setNormalMapRotation(b),0},setGameObject:function(u,m){void 0===m&&(m=u.frame);var v=m.glTexture,x=this.getNormalMap(u);if(this.isNewNormalMap(v,x)&&(this.flush(),this.createBatch(v),this.addTextureToBatch(x),this.currentNormalMap=x),u.parentContainer){var b=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(b.rotationNormalized)}else this.setNormalMapRotation(u.rotation);return null===this.currentBatch&&(this.createBatch(v),this.addTextureToBatch(x)),0},isNewNormalMap:function(u,m){return this.currentTexture!==u||this.currentNormalMap!==m},getNormalMap:function(u){var m;return u?(u.displayTexture?m=u.displayTexture.dataSource[u.displayFrame.sourceIndex]:u.texture?m=u.texture.dataSource[u.frame.sourceIndex]:u.tileset&&(m=Array.isArray(u.tileset)?u.tileset[0].image.dataSource[0]:u.tileset.image.dataSource[0]),m?m.glTexture:this.renderer.normalTexture):this.renderer.normalTexture},batchSprite:function(u,m,v){this.lightsActive&&f.prototype.batchSprite.call(this,u,m,v)},batchTexture:function(u,m,v,x,b,T,_,A,M,I,R,F,N,V,B,G,Q,H,K,tt,at,lt,q,it,Y,X,nt,dt,gt,bt,Et,Bt){this.lightsActive&&f.prototype.batchTexture.call(this,u,m,v,x,b,T,_,A,M,I,R,F,N,V,B,G,Q,H,K,tt,at,lt,q,it,Y,X,nt,dt,gt,bt,Et,Bt)},batchTextureFrame:function(u,m,v,x,b,T,_){this.lightsActive&&f.prototype.batchTextureFrame.call(this,u,m,v,x,b,T,_)}});S.exports=p},56527:(S,P,a)=>{var y=a(83419),C=a(95540),g=a(57516),f=a(45561),d=a(60722),c=a(14500),h=a(29100),p=new y({Extends:g,initialize:function(m){m.fragShader=C(m,"fragShader",f),m.vertShader=C(m,"vertShader",d),m.attributes=C(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),m.forceZero=!0,m.resizeUniform="uResolution",g.call(this,m)},boot:function(){h.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height)}});S.exports=p},57516:(S,P,a)=>{var y=a(83419),C=a(94811),g=a(95540),f=a(98840),d=a(44667),c=a(61340),h=a(70554),p=a(14500),u=a(29100),m=new y({Extends:u,initialize:function(x){var b=x.game.renderer,T=g(x,"fragShader",f);x.fragShader=h.parseFragmentShaderMaxTextures(T,b.maxTextures),x.vertShader=g(x,"vertShader",d),x.attributes=g(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:p.UNSIGNED_BYTE,normalized:!0}]),x.resizeUniform="uResolution",u.call(this,x),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.calcMatrix=new c,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){u.prototype.boot.call(this);var v=this.renderer;this.set1iv("uMainSampler",v.textureIndexes),this.set2f("uResolution",v.width,v.height)},batchSprite:function(v,x,b){this.manager.set(this,v);var T=this._tempMatrix1,_=this._tempMatrix2,A=this._tempMatrix3,M=v.frame,I=M.glTexture,R=M.u0,F=M.v0,N=M.u1,V=M.v1,B=M.x,G=M.y,Q=M.cutWidth,H=M.cutHeight,K=M.customPivot,tt=v.displayOriginX,at=v.displayOriginY,lt=-tt+B,q=-at+G;if(v.isCropped){var it=v._crop;(it.flipX!==v.flipX||it.flipY!==v.flipY)&&M.updateCropUVs(it,v.flipX,v.flipY),R=it.u0,F=it.v0,N=it.u1,V=it.v1,Q=it.width,H=it.height,lt=-tt+(B=it.x),q=-at+(G=it.y)}var Y=1,X=1;v.flipX&&(K||(lt+=2*tt-M.realWidth),Y=-1),v.flipY&&(K||(q+=2*at-M.realHeight),X=-1);var nt=v.x,dt=v.y;x.roundPixels&&(nt=Math.floor(nt),dt=Math.floor(dt)),_.applyITRS(nt,dt,v.rotation,v.scaleX*Y,v.scaleY*X),T.copyFrom(x.matrix),b?(T.multiplyWithOffset(b,-x.scrollX*v.scrollFactorX,-x.scrollY*v.scrollFactorY),_.e=nt,_.f=dt):(_.e-=x.scrollX*v.scrollFactorX,_.f-=x.scrollY*v.scrollFactorY),T.multiply(_,A);var gt=A.setQuad(lt,q,lt+Q,q+H,x.renderRoundPixels),bt=h.getTintAppendFloatAlpha,Et=x.alpha,Bt=bt(v.tintTopLeft,Et*v._alphaTL),Kt=bt(v.tintTopRight,Et*v._alphaTR),Zt=bt(v.tintBottomLeft,Et*v._alphaBL),ne=bt(v.tintBottomRight,Et*v._alphaBR);this.shouldFlush(6)&&this.flush();var ae=this.setGameObject(v,M);this.manager.preBatch(v),this.batchQuad(v,gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],R,F,N,V,Bt,Kt,Zt,ne,v.tintFill,I,ae),this.manager.postBatch(v)},batchTexture:function(v,x,b,T,_,A,M,I,R,F,N,V,B,G,Q,H,K,tt,at,lt,q,it,Y,X,nt,dt,gt,bt,Et,Bt,Kt,Zt,ne){void 0===ne&&(ne=!1),this.manager.set(this,v);var ae=this._tempMatrix1,fe=this._tempMatrix2,ke=this._tempMatrix3,Ye=tt/b+gt,Pe=at/T+bt,Qe=(tt+lt)/b+gt,Se=(at+q)/T+bt,ei=M,ri=I,Bi=-H,tn=-K;if(v.isCropped){var on=v._crop,ln=on.width,hn=on.height;ei=ln,ri=hn,M=ln,I=hn;var Mr=tt=on.x,Ur=at=on.y;V&&(Mr=lt-on.x-ln),B&&(Ur=q-on.y-hn),Ye=Mr/b+gt,Pe=Ur/T+bt,Qe=(Mr+ln)/b+gt,Se=(Ur+hn)/T+bt,Bi=-H+tt,tn=-K+at}V&&(ei*=-1,Bi+=M),(B^=!Kt&&x.isRenderTexture?1:0)&&(ri*=-1,tn+=I),Et.roundPixels&&(_=Math.floor(_),A=Math.floor(A)),fe.applyITRS(_,A,N,R,F),ae.copyFrom(Et.matrix),Bt?(ae.multiplyWithOffset(Bt,-Et.scrollX*G,-Et.scrollY*Q),fe.e=_,fe.f=A):(fe.e-=Et.scrollX*G,fe.f-=Et.scrollY*Q),ae.multiply(fe,ke);var dn=ke.setQuad(Bi,tn,Bi+ei,tn+ri,Et.renderRoundPixels);null==Zt&&(Zt=this.setTexture2D(x)),v&&!ne&&this.manager.preBatch(v),this.batchQuad(v,dn[0],dn[1],dn[2],dn[3],dn[4],dn[5],dn[6],dn[7],Ye,Pe,Qe,Se,it,Y,X,nt,dt,x,Zt),v&&!ne&&this.manager.postBatch(v)},batchTextureFrame:function(v,x,b,T,_,A,M){this.manager.set(this);var I=this._tempMatrix1.copyFrom(A),R=this._tempMatrix2;M?I.multiply(M,R):R=I;var F=R.setQuad(x,b,x+v.width,b+v.height),N=this.setTexture2D(v.source.glTexture);T=h.getTintAppendFloatAlpha(T,_),this.batchQuad(null,F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],v.u0,v.v0,v.u1,v.v1,T,T,T,T,0,v.glTexture,N)},batchFillRect:function(v,x,b,T,_,A){this.renderer.pipelines.set(this);var M=this.calcMatrix;A&&A.multiply(_,M);var I=M.setQuad(v,x,v+b,x+T),R=this.fillTint;this.batchQuad(null,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(v,x,b,T,_,A,M,I){this.renderer.pipelines.set(this);var R=this.calcMatrix;I&&I.multiply(M,R);var F=R.getX(v,x),N=R.getY(v,x),V=R.getX(b,T),B=R.getY(b,T),G=R.getX(_,A),Q=R.getY(_,A),H=this.fillTint;this.batchTri(null,F,N,V,B,G,Q,0,0,1,1,H.TL,H.TR,H.BL,2)},batchStrokeTriangle:function(v,x,b,T,_,A,M,I,R){var F=this.tempTriangle;F[0].x=v,F[0].y=x,F[0].width=M,F[1].x=b,F[1].y=T,F[1].width=M,F[2].x=_,F[2].y=A,F[2].width=M,F[3].x=v,F[3].y=x,F[3].width=M,this.batchStrokePath(F,M,!1,I,R)},batchFillPath:function(v,x,b){this.renderer.pipelines.set(this);var T=this.calcMatrix;b&&b.multiply(x,T);for(var M,I,_=v.length,A=this.polygonCache,R=this.fillTint.TL,F=this.fillTint.TR,N=this.fillTint.BL,V=0;V<_;++V)A.push((I=v[V]).x,I.y);_=(M=C(A)).length;for(var B=0;B<_;B+=3){var G=2*M[B+0],Q=2*M[B+1],H=2*M[B+2],K=A[G+0],tt=A[G+1],at=A[Q+0],lt=A[Q+1],q=A[H+0],it=A[H+1],Y=T.getX(K,tt),X=T.getY(K,tt),nt=T.getX(at,lt),dt=T.getY(at,lt),gt=T.getX(q,it),bt=T.getY(q,it);this.batchTri(null,Y,X,nt,dt,gt,bt,0,0,1,1,R,F,N,2)}A.length=0},batchStrokePath:function(v,x,b,T,_){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var A=v.length-1,M=0;M<A;M++){var I=v[M],R=v[M+1];this.batchLine(I.x,I.y,R.x,R.y,I.width/2,R.width/2,x,M,!b&&M===A-1,T,_)}},batchLine:function(v,x,b,T,_,A,M,I,R,F,N){this.renderer.pipelines.set(this);var V=this.calcMatrix;N&&N.multiply(F,V);var B=b-v,G=T-x,Q=Math.sqrt(B*B+G*G);if(0!==Q){var H=_*(T-x)/Q,K=_*(v-b)/Q,tt=A*(T-x)/Q,at=A*(v-b)/Q,lt=b-tt,q=T-at,it=v-H,Y=x-K,X=b+tt,nt=T+at,dt=v+H,gt=x+K,bt=V.getX(lt,q),Et=V.getY(lt,q),Bt=V.getX(it,Y),Kt=V.getY(it,Y),Zt=V.getX(X,nt),ne=V.getY(X,nt),ae=V.getX(dt,gt),fe=V.getY(dt,gt),ke=this.strokeTint,Ye=ke.TL,Pe=ke.TR,Qe=ke.BL,Se=ke.BR;if(this.batchQuad(null,ae,fe,Bt,Kt,bt,Et,Zt,ne,0,0,1,1,Ye,Pe,Qe,Se,2),!(M<=2)){var ei=this.prevQuad,ri=this.firstQuad;I>0&&ei[4]?this.batchQuad(null,ae,fe,Bt,Kt,ei[0],ei[1],ei[2],ei[3],0,0,1,1,Ye,Pe,Qe,Se,2):(ri[0]=ae,ri[1]=fe,ri[2]=Bt,ri[3]=Kt,ri[4]=1),R&&ri[4]?this.batchQuad(null,bt,Et,Zt,ne,ri[0],ri[1],ri[2],ri[3],0,0,1,1,Ye,Pe,Qe,Se,2):(ei[0]=bt,ei[1]=Et,ei[2]=Zt,ei[3]=ne,ei[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,u.prototype.destroy.call(this),this}});S.exports=m},43439:(S,P,a)=>{var y=a(83419),C=a(95540),g=a(4127),f=a(89924),d=a(29100),c=new y({Extends:d,initialize:function(p){p.vertShader=C(p,"vertShader",f),p.fragShader=C(p,"fragShader",g),p.attributes=C(p,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),d.call(this,p)},onRender:function(h,p){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",p.zoom)},batchPointLight:function(h,p,u,m,v,x,b,T,_,A,M,I){var R=h.color,F=h.intensity,N=h.radius,V=h.attenuation,B=R.r*F,G=R.g*F,Q=R.b*F,H=p.alpha*h.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(u,m,M,I,N,V,B,G,Q,H),this.batchLightVert(v,x,M,I,N,V,B,G,Q,H),this.batchLightVert(b,T,M,I,N,V,B,G,Q,H),this.batchLightVert(u,m,M,I,N,V,B,G,Q,H),this.batchLightVert(b,T,M,I,N,V,B,G,Q,H),this.batchLightVert(_,A,M,I,N,V,B,G,Q,H),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(h,p,u,m,v,x,b,T,_,A){var M=this.vertexViewF32,I=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++I]=h,M[++I]=p,M[++I]=u,M[++I]=m,M[++I]=v,M[++I]=x,M[++I]=b,M[++I]=T,M[++I]=_,M[++I]=A,this.vertexCount++}});S.exports=c},84057:(S,P,a)=>{var y=a(83419),C=a(89422),g=a(95540),f=a(27681),d=a(49627),c=a(29100),h=new y({Extends:c,initialize:function(u){u.renderTarget=g(u,"renderTarget",1),u.fragShader=g(u,"fragShader",f),u.vertShader=g(u,"vertShader",d),u.attributes=g(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),u.batchSize=1,u.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],c.call(this,u),this.isPostFX=!0,this.colorMatrix=new C,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){c.prototype.boot.call(this);var p=this.manager.UTILITY_PIPELINE;this.fullFrame1=p.fullFrame1,this.fullFrame2=p.fullFrame2,this.halfFrame1=p.halfFrame1,this.halfFrame2=p.halfFrame2;var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height);for(var m=this.renderTargets,v=0;v<m.length;v++)m[v].autoResize=!0},postBatch:function(p){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(p),this},onDraw:function(p){this.bindAndDraw(p)},getController:function(p){return void 0!==p?p:this.controller?this.controller:this},copySprite:function(p,u,m){void 0===m&&(m=!1);var v=this.gl;v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,p.texture.webGLTexture);var x=v.getParameter(v.FRAMEBUFFER_BINDING);v.bindFramebuffer(v.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,u.texture.webGLTexture,0),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),m&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,x))},copyFrame:function(p,u,m,v,x){this.manager.copyFrame(p,u,m,v,x)},copyToGame:function(p){this.manager.copyToGame(p)},drawFrame:function(p,u,m){this.manager.drawFrame(p,u,m,this.colorMatrix)},blendFrames:function(p,u,m,v,x){this.manager.blendFrames(p,u,m,v,x)},blendFramesAdditive:function(p,u,m,v,x){this.manager.blendFramesAdditive(p,u,m,v,x)},clearFrame:function(p,u){this.manager.clearFrame(p,u)},blitFrame:function(p,u,m,v,x,b){this.manager.blitFrame(p,u,m,v,x,b)},copyFrameRect:function(p,u,m,v,x,b,T,_){this.manager.copyFrameRect(p,u,m,v,x,b,T,_)},bindAndDraw:function(p,u,m,v,x){void 0===m&&(m=!0),void 0===v&&(v=!0);var b=this.gl,T=this.renderer;this.bind(x),this.set1i("uMainSampler",0),u?(b.viewport(0,0,u.width,u.height),b.bindFramebuffer(b.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,u.texture.webGLTexture,0),m&&(b.clearColor(0,0,0,v?0:1),b.clear(b.COLOR_BUFFER_BIT))):(T.popFramebuffer(!1,!1),T.currentFramebuffer||b.viewport(0,0,T.width,T.height)),T.restoreStencilMask(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,p.texture.webGLTexture),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),u&&(b.bindTexture(b.TEXTURE_2D,null),b.bindFramebuffer(b.FRAMEBUFFER,T.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),c.prototype.destroy.call(this),this}});S.exports=h},43558:(S,P,a)=>{var y=a(10312),C=a(67502),g=a(83419),f=a(96293),d=a(95540),c=a(57516),h=a(27681),p=a(87841),u=a(32302),m=a(45561),v=a(60722),x=a(29100),b=new g({Extends:c,initialize:function(_){var A=d(_,"fragShader",h),M=d(_,"vertShader",v),I=d(_,"drawShader",h),R=[{name:"DrawSprite",fragShader:m,vertShader:v},{name:"CopySprite",fragShader:A,vertShader:M},{name:"DrawGame",fragShader:I,vertShader:v},{name:"ColorMatrix",fragShader:f}],F=d(_,"shaders",[]);_.shaders=R.concat(F),_.vertShader||(_.vertShader=M),_.batchSize=1,c.call(this,_),this.isPreFX=!0,this.customMainSampler=null,this.spriteBounds=new p,this.targetBounds=new p,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){x.prototype.boot.call(this);var T=this.shaders,_=this.renderer;this.drawSpriteShader=T[0],this.copyShader=T[1],this.gameShader=T[2],this.colorMatrixShader=T[3],this.fsTarget=new u(_,_.width,_.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var A=new ArrayBuffer(168);this.quadVertexData=A,this.quadVertexViewF32=new Float32Array(A),this.quadVertexBuffer=_.createVertexBuffer(A,this.gl.STATIC_DRAW),this.onResize(_.width,_.height),this.currentShader=this.copyShader,this.set2f("uResolution",_.width,_.height)},onResize:function(T,_){var A=this.quadVertexViewF32;A[1]=_,A[22]=_,A[14]=T,A[28]=T,A[35]=T,A[36]=_},batchQuad:function(T,_,A,M,I,R,F,N,V,B,G,Q,H,K,tt,at,lt,q,it){var Y=Math.min(_,M,R,N),X=Math.min(A,I,F,V),gt=Math.max(_,M,R,N)-Y,bt=Math.max(A,I,F,V)-X,Et=this.spriteBounds.setTo(Y,X,gt,bt),Bt=T?T.preFX.padding:0,ne=Math.abs(Math.max(gt+2*Bt,bt+2*Bt)),ae=this.manager.getRenderTarget(ne),fe=this.targetBounds.setTo(0,0,ae.width,ae.height);C(fe,Math.round(Et.centerX),Math.round(Et.centerY)),this.tempSprite=T;var ke=this.gl,Ye=this.renderer;Ye.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Ye.width,Ye.height),this.flipProjectionMatrix(!0),T&&(this.onDrawSprite(T,ae),T.preFX.onFX(this));var Pe=this.fsTarget;return this.flush(),ke.viewport(0,0,Ye.width,Ye.height),ke.bindFramebuffer(ke.FRAMEBUFFER,Pe.framebuffer.webGLFramebuffer),ke.framebufferTexture2D(ke.FRAMEBUFFER,ke.COLOR_ATTACHMENT0,ke.TEXTURE_2D,Pe.texture.webGLTexture,0),ke.clearColor(0,0,0,0),ke.clear(ke.COLOR_BUFFER_BIT),this.setTexture2D(it),this.batchVert(_,A,B,G,0,q,K),this.batchVert(M,I,B,H,0,q,at),this.batchVert(R,F,Q,H,0,q,lt),this.batchVert(_,A,B,G,0,q,K),this.batchVert(R,F,Q,H,0,q,lt),this.batchVert(N,V,Q,G,0,q,tt),this.flush(),this.flipProjectionMatrix(!1),ke.activeTexture(ke.TEXTURE0),ke.bindTexture(ke.TEXTURE_2D,ae.texture.webGLTexture),ke.copyTexSubImage2D(ke.TEXTURE_2D,0,0,0,fe.x,fe.y,fe.width,fe.height),ke.bindFramebuffer(ke.FRAMEBUFFER,null),ke.bindTexture(ke.TEXTURE_2D,null),this.onBatch(T),this.currentShader=this.copyShader,this.onDraw(ae,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(T,_,A,M,I,R,F){void 0===A&&(A=!0),void 0===M&&(M=!0),void 0===I&&(I=!1),void 0===F&&(F=this.copyShader);var N=this.gl,V=this.tempSprite;R&&(F=this.colorMatrixShader),this.currentShader=F;var B=this.setVertexBuffer(this.quadVertexBuffer);F.bind(B,!1);var G=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",G.width,G.height),V.preFX.onFXCopy(this),this.onCopySprite(T,_,V),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),N.activeTexture(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,T.texture.webGLTexture),T.height>_.height?(N.viewport(0,0,T.width,T.height),this.setTargetUVs(T,_)):(N.viewport(0,_.height-T.height,T.width,T.height),this.resetUVs()),N.bindFramebuffer(N.FRAMEBUFFER,_.framebuffer.webGLFramebuffer),N.framebufferTexture2D(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_2D,_.texture.webGLTexture,0),A&&(N.clearColor(0,0,0,+!M),N.clear(N.COLOR_BUFFER_BIT)),I){var H=this.renderer.currentBlendMode;this.renderer.setBlendMode(y.ERASE)}N.bufferData(N.ARRAY_BUFFER,this.quadVertexData,N.STATIC_DRAW),N.drawArrays(N.TRIANGLES,0,6),I&&this.renderer.setBlendMode(H),N.bindFramebuffer(N.FRAMEBUFFER,null)},copy:function(T,_){var A=this.gl;this.set1i("uMainSampler",0),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,T.texture.webGLTexture),A.viewport(0,0,T.width,T.height),this.setUVs(0,0,0,1,1,1,1,0),A.bindFramebuffer(A.FRAMEBUFFER,_.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,_.texture.webGLTexture,0),A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null)},blendFrames:function(T,_,A,M,I){this.manager.blendFrames(T,_,A,M,I)},blendFramesAdditive:function(T,_,A,M,I){this.manager.blendFramesAdditive(T,_,A,M,I)},drawToGame:function(T){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(T)},copyToGame:function(T){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(T)},bindAndDraw:function(T){var _=this.gl,A=this.renderer;this.set1i("uMainSampler",0),this.setTexture2D(this.customMainSampler?this.customMainSampler:T.texture);var M=this._tempMatrix1.loadIdentity(),I=this.targetBounds.x,R=this.targetBounds.y,F=I+T.width,N=R+T.height,V=M.getX(I,R),B=M.getX(I,N),G=M.getX(F,N),Q=M.getX(F,R),H=M.getY(I,R),K=M.getY(I,N),tt=M.getY(F,N),at=M.getY(F,R),lt=16777215;this.batchVert(V,H,0,0,0,0,lt),this.batchVert(B,K,0,1,0,0,lt),this.batchVert(G,tt,1,1,0,0,lt),this.batchVert(V,H,0,0,0,0,lt),this.batchVert(G,tt,1,1,0,0,lt),this.batchVert(Q,at,1,0,0,0,lt),A.restoreFramebuffer(!1,!0),A.currentFramebuffer||_.viewport(0,0,A.width,A.height),A.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(T){this.drawToGame(T)},setUVs:function(T,_,A,M,I,R,F,N){var V=this.quadVertexViewF32;V[2]=T,V[3]=_,V[9]=A,V[10]=M,V[16]=I,V[17]=R,V[23]=T,V[24]=_,V[30]=I,V[31]=R,V[37]=F,V[38]=N},setTargetUVs:function(T,_){var A=_.height/T.height;this.setUVs(0,A=A>.5?.5-(A-.5):.5-A+.5,0,1+A,1,1+A,1,A)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,c.prototype.destroy.call(this),this}});S.exports=b},81041:(S,P,a)=>{var y=a(83419),C=a(95540),g=a(57516),f=new y({Extends:g,initialize:function(c){c.topology=5,c.batchSize=C(c,"batchSize",256),g.call(this,c)}});S.exports=f},12385:(S,P,a)=>{var y=a(83419),C=a(95540),g=a(57516),f=a(45561),d=a(60722),c=a(29100),h=new y({Extends:g,initialize:function(u){u.fragShader=C(u,"fragShader",f),u.vertShader=C(u,"vertShader",d),u.forceZero=!0,g.call(this,u)},boot:function(){c.prototype.boot.call(this);var p=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",p.width,p.height)}});S.exports=h},7589:(S,P,a)=>{var y=a(35407),C=a(10312),g=a(83419),f=a(89422),d=a(96293),c=a(36682),h=a(95540),p=a(48247),u=a(49627),m=a(29100),v=new g({Extends:m,initialize:function(b){b.renderTarget=h(b,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),b.vertShader=h(b,"vertShader",u),b.shaders=h(b,"shaders",[{name:"Copy",fragShader:c},{name:"AddBlend",fragShader:y},{name:"LinearBlend",fragShader:p},{name:"ColorMatrix",fragShader:d}]),b.attributes=h(b,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),b.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],b.batchSize=1,m.call(this,b),this.colorMatrix=new f},boot:function(){m.prototype.boot.call(this);var x=this.shaders,b=this.renderTargets;this.copyShader=x[0],this.addShader=x[1],this.linearShader=x[2],this.colorMatrixShader=x[3],this.fullFrame1=b[0],this.fullFrame2=b[1],this.halfFrame1=b[2],this.halfFrame2=b[3]},copyFrame:function(x,b,T,_,A){void 0===T&&(T=1),void 0===_&&(_=!0),void 0===A&&(A=!0);var M=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,x.texture.webGLTexture),b?(M.viewport(0,0,b.width,b.height),M.bindFramebuffer(M.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,b.texture.webGLTexture,0)):M.viewport(0,0,x.width,x.height),_&&(M.clearColor(0,0,0,A?0:1),M.clear(M.COLOR_BUFFER_BIT)),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blitFrame:function(x,b,T,_,A,M,I){void 0===T&&(T=1),void 0===_&&(_=!0),void 0===A&&(A=!0),void 0===M&&(M=!1),void 0===I&&(I=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,x.texture.webGLTexture),x.height>b.height?(R.viewport(0,0,x.width,x.height),this.setTargetUVs(x,b)):R.viewport(0,b.height-x.height,x.width,x.height),R.bindFramebuffer(R.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,b.texture.webGLTexture,0),_&&(R.clearColor(0,0,0,A?0:1),R.clear(R.COLOR_BUFFER_BIT)),M){var N=this.renderer.currentBlendMode;this.renderer.setBlendMode(C.ERASE)}I&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),M&&this.renderer.setBlendMode(N),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(x,b,T,_,A,M,I,R){void 0===I&&(I=!0),void 0===R&&(R=!0);var F=this.gl;F.bindFramebuffer(F.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,x.texture.webGLTexture,0),I&&(F.clearColor(0,0,0,R?0:1),F.clear(F.COLOR_BUFFER_BIT)),F.activeTexture(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,b.texture.webGLTexture),F.copyTexSubImage2D(F.TEXTURE_2D,0,0,0,T,_,A,M),F.bindFramebuffer(F.FRAMEBUFFER,null),F.bindTexture(F.TEXTURE_2D,null)},copyToGame:function(x){var b=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,x.texture.webGLTexture),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6)},drawFrame:function(x,b,T,_){void 0===T&&(T=!0),void 0===_&&(_=this.colorMatrix);var A=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",_.getData()),this.set1f("uAlpha",_.alpha),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,x.texture.webGLTexture),b?(A.viewport(0,0,b.width,b.height),A.bindFramebuffer(A.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,b.texture.webGLTexture,0)):A.viewport(0,0,x.width,x.height),A.clearColor(0,0,0,T?0:1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFrames:function(x,b,T,_,A,M){void 0===_&&(_=1),void 0===A&&(A=!0),void 0===M&&(M=this.linearShader);var I=this.gl;this.setShader(M),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",_),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,x.texture.webGLTexture),I.activeTexture(I.TEXTURE1),I.bindTexture(I.TEXTURE_2D,b.texture.webGLTexture),T?(I.bindFramebuffer(I.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,T.texture.webGLTexture,0),I.viewport(0,0,T.width,T.height)):I.viewport(0,0,x.width,x.height),I.clearColor(0,0,0,A?0:1),I.clear(I.COLOR_BUFFER_BIT),I.bufferData(I.ARRAY_BUFFER,this.vertexData,I.STATIC_DRAW),I.drawArrays(I.TRIANGLES,0,6),I.bindFramebuffer(I.FRAMEBUFFER,null),I.bindTexture(I.TEXTURE_2D,null)},blendFramesAdditive:function(x,b,T,_,A){this.blendFrames(x,b,T,_,A,this.addShader)},clearFrame:function(x,b){void 0===b&&(b=!0);var T=this.gl;T.viewport(0,0,x.width,x.height),T.bindFramebuffer(T.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),T.clearColor(0,0,0,b?0:1),T.clear(T.COLOR_BUFFER_BIT),T.bindFramebuffer(T.FRAMEBUFFER,this.renderer.currentFramebuffer.webGLFramebuffer)},setUVs:function(x,b,T,_,A,M,I,R){var F=this.vertexViewF32;F[2]=x,F[3]=b,F[6]=T,F[7]=_,F[10]=A,F[11]=M,F[14]=x,F[15]=b,F[18]=A,F[19]=M,F[22]=I,F[23]=R},setTargetUVs:function(x,b){var T=b.height/x.height;this.setUVs(0,T=T>.5?.5-(T-.5):.5-T+.5,0,1+T,1,1+T,1,T)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});S.exports=v},36060:S=>{S.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"}},84817:S=>{S.exports="pipelineafterflush"},36712:S=>{S.exports="pipelinebeforeflush"},40285:S=>{S.exports="pipelinebind"},65918:S=>{S.exports="pipelineboot"},92852:S=>{S.exports="pipelinedestroy"},56072:S=>{S.exports="pipelinerebind"},57566:S=>{S.exports="pipelineresize"},77085:(S,P,a)=>{S.exports={AFTER_FLUSH:a(84817),BEFORE_FLUSH:a(36712),BIND:a(40285),BOOT:a(65918),DESTROY:a(92852),REBIND:a(56072),RESIZE:a(57566)}},54812:(S,P,a)=>{var y=a(83419),C=a(99155),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.amount=1},onPreRender:function(d,c){d=this.getController(d),this.set1f("amount",d.amount,c)}});S.exports=f},67329:(S,P,a)=>{var y=a(83419),C=a(24400),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(d){d=this.getController(d),this.set1f("strength",d.blurStrength),this.set3fv("color",d.glcolor)},onDraw:function(d){var c=this.getController(),h=this.fullFrame1,p=this.fullFrame2;this.copyFrame(d,p);for(var u=2/d.width*c.offsetX,m=2/d.height*c.offsetY,v=0;v<c.steps;v++)this.set2f("offset",u,0),this.copySprite(d,h),this.set2f("offset",0,m),this.copySprite(h,d);this.blendFrames(p,d,h,c.strength),this.copyToGame(h)}});S.exports=f},8861:(S,P,a)=>{var y=a(83419),C=a(41514),g=a(51078),f=a(94328),d=a(84057),c=new y({Extends:d,initialize:function(p){d.call(this,{game:p,shaders:[{name:"Gaussian5",fragShader:C},{name:"Gaussian9",fragShader:g},{name:"Gaussian13",fragShader:f}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(h){var p=this.getController(),u=this.gl,m=this.fullFrame1,v=u.getParameter(u.FRAMEBUFFER_BINDING);this.bind(this.shaders[p.quality]),u.activeTexture(u.TEXTURE0),u.viewport(0,0,h.width,h.height),this.set1i("uMainSampler",0),this.set2f("resolution",h.width,h.height),this.set1f("strength",p.strength),this.set3fv("color",p.glcolor);for(var x=0;x<p.steps;x++)this.set2f("offset",p.x,0),this.copySprite(h,m),this.set2f("offset",0,p.y),this.copySprite(m,h);u.bindFramebuffer(u.FRAMEBUFFER,v),u.bindTexture(u.TEXTURE_2D,null),this.copyToGame(h)}});S.exports=c},51051:(S,P,a)=>{var y=a(83419),C=a(90610),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(d,c,h,p){d=this.getController(d),this.set1f("radius",d.radius,c),this.set1f("amount",d.amount,c),this.set1f("contrast",d.contrast,c),this.set1f("strength",d.strength,c),this.set2f("blur",d.blurX,d.blurY,c),this.setBoolean("isTiltShift",d.isTiltShift,c),h&&p&&this.set2f("resolution",h,p,c)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});S.exports=f},89428:(S,P,a)=>{var y=a(83419),C=a(91899),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(d,c,h,p){d=this.getController(d),this.set1f("scale",d.scale,c),this.set1f("feather",d.feather,c),this.set1f("thickness",d.thickness,c),this.set3fv("color",d.glcolor,c),this.set4fv("backgroundColor",d.glcolor2,c),h&&p&&this.set2f("resolution",h,p,c)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});S.exports=f},88904:(S,P,a)=>{var y=a(83419),C=a(84057),g=new y({Extends:C,initialize:function(d){C.call(this,{game:d})},onDraw:function(f){var d=this.fullFrame1;this.controller?this.manager.drawFrame(f,d,!0,this.controller):this.drawFrame(f,d),this.copyToGame(d)}});S.exports=g},63563:(S,P,a)=>{var y=a(83419),C=a(47838),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.x=.005,this.y=.005},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(d){var c=this.game.textures.getFrame(d);c&&(this.glTexture=c.glTexture)},onDraw:function(d){var c=this.getController(),h=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",c.x,c.y),this.bindTexture(c.glTexture,1),this.copySprite(d,h),this.copyToGame(h)}});S.exports=f},94045:(S,P,a)=>{var y=a(83419),C=a(95540),g=a(98656),f=a(84057),d=a(70554),c=new y({Extends:f,initialize:function(p,u){var m=C(u,"quality",.1),v=C(u,"distance",10);f.call(this,{game:p,fragShader:d.setGlowQuality(g,p,m,v)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(h,p,u,m){h=this.getController(h),this.set1f("outerStrength",h.outerStrength,p),this.set1f("innerStrength",h.innerStrength,p),this.set4fv("glowColor",h.glcolor,p),this.setBoolean("knockout",h.knockout,p),u&&m&&this.set2f("resolution",u,m,p)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});S.exports=c},74088:(S,P,a)=>{var y=a(83419),C=a(70463),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(d,c){d=this.getController(d),this.set1f("alpha",d.alpha,c),this.set1i("size",d.size,c),this.set3fv("color1",d.glcolor1,c),this.set3fv("color2",d.glcolor2,c),this.set2f("positionFrom",d.fromX,d.fromY,c),this.set2f("positionTo",d.toX,d.toY,c)}});S.exports=f},99636:(S,P,a)=>{var y=a(83419),C=a(50831),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.amount=1},onPreRender:function(d,c,h,p){d=this.getController(d),this.set1f("amount",d.amount,c),h&&p&&this.set2f("resolution",h,p,c)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});S.exports=f},34700:(S,P,a)=>{var y=a(83419),C=a(92595),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(d,c){var h=(d=this.getController(d)).samples;this.set1i("samples",h,c),this.set1f("intensity",d.intensity,c),this.set1f("decay",d.decay,c),this.set1f("power",d.power/h,c),this.set2f("lightPosition",d.x,d.y,c),this.set4fv("color",d.glcolor,c)}});S.exports=f},91157:(S,P,a)=>{var y=a(83419),C=a(72464),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(d,c,h,p){d=this.getController(d),this.setTime("time",c),this.set1f("speed",d.speed,c),this.set1f("lineWidth",d.lineWidth,c),this.set1f("gradient",d.gradient,c),this.setBoolean("reveal",d.reveal,c),h&&p&&this.set2f("resolution",h,p,c)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});S.exports=f},27797:(S,P,a)=>{var y=a(83419),C=a(39249),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(d,c){d=this.getController(d),this.set1f("radius",d.radius,c),this.set1f("strength",d.strength,c),this.set2f("position",d.x,d.y,c)}});S.exports=f},67603:(S,P,a)=>{var y=a(83419),C=a(2878),g=a(84057),f=new y({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:C}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(d,c){d=this.getController(d),this.set4f("config",d.progress,d.wipeWidth,d.direction,d.axis,c),this.setBoolean("reveal",d.reveal,c)}});S.exports=f},58918:(S,P,a)=>{var y={Barrel:a(54812),Bloom:a(67329),Blur:a(8861),Bokeh:a(51051),Circle:a(89428),ColorMatrix:a(88904),Displacement:a(63563),Glow:a(94045),Gradient:a(74088),Pixelate:a(99636),Shadow:a(34700),Shine:a(91157),Vignette:a(27797),Wipe:a(67603)};S.exports=y},96615:(S,P,a)=>{var y=a(36060),C=a(79291),g={FX:a(58918),BitmapMaskPipeline:a(31302),Events:a(77085),FXPipeline:a(92651),LightPipeline:a(96569),MobilePipeline:a(56527),MultiPipeline:a(57516),PointLightPipeline:a(43439),PostFXPipeline:a(84057),PreFXPipeline:a(43558),RopePipeline:a(81041),SinglePipeline:a(12385),UtilityPipeline:a(7589)};g=C(!1,g,y),S.exports=g},35407:S=>{S.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join("\n")},78908:S=>{S.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join("\n")},85191:S=>{S.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join("\n")},96293:S=>{S.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join("\n")},36682:S=>{S.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join("\n")},99155:S=>{S.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join("\n")},24400:S=>{S.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join("\n")},94328:S=>{S.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},41514:S=>{S.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},51078:S=>{S.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},90610:S=>{S.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join("\n")},91899:S=>{S.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join("\n")},47838:S=>{S.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join("\n")},98656:S=>{S.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join("\n")},70463:S=>{S.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join("\n")},50831:S=>{S.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join("\n")},92595:S=>{S.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join("\n")},72464:S=>{S.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","\tvec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join("\n")},39249:S=>{S.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    \tcol = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join("\n")},2878:S=>{S.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join("\n")},31063:S=>{S.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join("\n")},48247:S=>{S.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join("\n")},41214:S=>{S.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join("\n")},39653:S=>{S.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join("\n")},62143:S=>{S.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},47940:S=>{S.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},98840:S=>{S.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},44667:S=>{S.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},4127:S=>{S.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join("\n")},89924:S=>{S.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join("\n")},27681:S=>{S.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join("\n")},49627:S=>{S.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join("\n")},45561:S=>{S.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},60722:S=>{S.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},89350:(S,P,a)=>{S.exports={AddBlendFrag:a(35407),BitmapMaskFrag:a(78908),BitmapMaskVert:a(85191),ColorMatrixFrag:a(96293),CopyFrag:a(36682),FXBarrelFrag:a(99155),FXBloomFrag:a(24400),FXBlurHighFrag:a(94328),FXBlurLowFrag:a(41514),FXBlurMedFrag:a(51078),FXBokehFrag:a(90610),FXCircleFrag:a(91899),FXDisplacementFrag:a(47838),FXGlowFrag:a(98656),FXGradientFrag:a(70463),FXPixelateFrag:a(50831),FXShadowFrag:a(92595),FXShineFrag:a(72464),FXVignetteFrag:a(39249),FXWipeFrag:a(2878),LightFrag:a(31063),LinearBlendFrag:a(48247),MeshFrag:a(41214),MeshVert:a(39653),MobileFrag:a(62143),MobileVert:a(47940),MultiFrag:a(98840),MultiVert:a(44667),PointLightFrag:a(4127),PointLightVert:a(89924),PostFXFrag:a(27681),QuadVert:a(49627),SingleFrag:a(45561),SingleVert:a(60722)}},93567:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c){this.webGLAttribLocation=-1,this.gl=f,this.program=d,this.name=c,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var g=this.gl;g.isContextLost()||(this.webGLAttribLocation=g.getAttribLocation(this.program.webGLProgram,this.name))}else this.webGLAttribLocation=-1},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});S.exports=C},26128:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c,h){this.webGLBuffer=null,this.gl=f,this.initialDataOrSize=d,this.bufferType=c,this.bufferUsage=h,this.createResource()},createResource:function(){if(null!==this.initialDataOrSize){var g=this.gl;if(!g.isContextLost()){var f=this.bufferType,d=g.createBuffer();this.webGLBuffer=d,g.bindBuffer(f,this.webGLBuffer),g.bufferData(f,this.initialDataOrSize,this.bufferUsage),g.bindBuffer(f,null)}}},destroy:function(){var g=this.gl;g.isContextLost()||g.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});S.exports=C},84387:(S,P,a)=>{var y=a(83419),C={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},g=new y({initialize:function(d,c,h,p,u){this.webGLFramebuffer=null,this.gl=d,this.width=c,this.height=h,this.renderTexture=p,this.addDepthStencilBuffer=!!u,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var c,d=this.renderTexture,h=f.createFramebuffer();if(this.webGLFramebuffer=h,f.bindFramebuffer(f.FRAMEBUFFER,h),d.isRenderTexture=!0,d.isAlphaPremultiplied=!1,f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,d.webGLTexture,0),(c=f.checkFramebufferStatus(f.FRAMEBUFFER))!==f.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(C[c]||c));if(this.addDepthStencilBuffer){var p=f.createRenderbuffer();f.bindRenderbuffer(f.RENDERBUFFER,p),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,this.width,this.height),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,p)}f.bindFramebuffer(f.FRAMEBUFFER,null)}},destroy:function(){if(null!==this.webGLFramebuffer){var f=this.gl;if(!f.isContextLost()){f.bindFramebuffer(f.FRAMEBUFFER,this.webGLFramebuffer);var d=f.getFramebufferAttachmentParameter(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==d&&(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),f.deleteTexture(d));var c=f.getFramebufferAttachmentParameter(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==c&&f.deleteRenderbuffer(c),f.bindFramebuffer(f.FRAMEBUFFER,null),f.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});S.exports=g},1482:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c){this.webGLProgram=null,this.gl=f,this.vertexSource=d,this.fragmentSource=c,this.createResource()},createResource:function(){var g=this.gl;if(!g.isContextLost()){var f=g.createProgram(),d=g.createShader(g.VERTEX_SHADER),c=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(d,this.vertexSource),g.shaderSource(c,this.fragmentSource),g.compileShader(d),g.compileShader(c);var h="Shader failed:\n";if(!g.getShaderParameter(d,g.COMPILE_STATUS))throw new Error("Vertex "+h+g.getShaderInfoLog(d));if(!g.getShaderParameter(c,g.COMPILE_STATUS))throw new Error("Fragment "+h+g.getShaderInfoLog(c));if(g.attachShader(f,d),g.attachShader(f,c),g.linkProgram(f),!g.getProgramParameter(f,g.LINK_STATUS))throw new Error("Link "+h+g.getProgramInfoLog(f));g.useProgram(f),this.webGLProgram=f}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});S.exports=C},82751:(S,P,a)=>{var y=a(83419),C=a(50030),g=new y({initialize:function(d,c,h,p,u,m,v,x,b,T,_,A,M){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=d,this.mipLevel=c,this.minFilter=h,this.magFilter=p,this.wrapT=u,this.wrapS=m,this.format=v,this.pixels=x,this.width=b,this.height=T,this.pma=_??!0,this.forceSize=!!A,this.flipY=!!M,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){if(this.pixels instanceof g)return void(this.webGLTexture=this.pixels.webGLTexture);var d=f.createTexture();d.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=d,this._processTexture()}},update:function(f,d,c,h,p,u,m,v,x){0!==d&&0!==c&&(this.pixels=f,this.width=d,this.height=c,this.flipY=h,this.wrapS=p,this.wrapT=u,this.minFilter=m,this.magFilter=v,this.format=x,this.gl.isContextLost()||this._processTexture())},_processTexture:function(){var f=this.gl;f.activeTexture(f.TEXTURE0);var d=f.getParameter(f.TEXTURE_BINDING_2D);f.bindTexture(f.TEXTURE_2D,this.webGLTexture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,this.minFilter),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,this.magFilter),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,this.wrapS),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,this.wrapT),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,this.flipY);var c=this.pixels,h=this.mipLevel,p=this.width,u=this.height,m=this.format,v=!1;if(null==c)f.texImage2D(f.TEXTURE_2D,h,m,p,u,0,m,f.UNSIGNED_BYTE,null),v=C(p,u);else if(c.compressed){p=c.width,u=c.height,v=c.generateMipmap;for(var x=0;x<c.mipmaps.length;x++)f.compressedTexImage2D(f.TEXTURE_2D,x,c.internalFormat,c.mipmaps[x].width,c.mipmaps[x].height,0,c.mipmaps[x].data)}else c instanceof Uint8Array?(f.texImage2D(f.TEXTURE_2D,h,m,p,u,0,m,f.UNSIGNED_BYTE,c),v=C(p,u)):(this.forceSize||(p=c.width,u=c.height),f.texImage2D(f.TEXTURE_2D,h,m,m,f.UNSIGNED_BYTE,c),v=C(p,u));v&&f.generateMipmap(f.TEXTURE_2D),f.bindTexture(f.TEXTURE_2D,d||null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(f){this.__SPECTOR_Metadata=f,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=f)}},destroy:function(){null!==this.webGLTexture&&(this.gl.isContextLost()||this.pixels instanceof g||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});S.exports=g},57183:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c){this.webGLUniformLocation=null,this.gl=f,this.program=d,this.name=c,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var g=this.gl;g.isContextLost()||(this.webGLUniformLocation=g.getUniformLocation(this.program.webGLProgram,this.name))}else this.webGLUniformLocation=null},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});S.exports=C},9503:(S,P,a)=>{var y={WebGLAttribLocationWrapper:a(93567),WebGLBufferWrapper:a(26128),WebGLProgramWrapper:a(1482),WebGLTextureWrapper:a(82751),WebGLFramebufferWrapper:a(84387),WebGLUniformLocationWrapper:a(57183)};S.exports=y},76531:(S,P,a)=>{var y=a(13560),C=a(83419),g=a(50792),f=a(97480),d=a(8443),c=a(57811),h=a(74403),p=a(45818),u=a(29747),m=a(87841),v=a(86555),x=a(56583),b=a(26099),T=a(38058),_=new C({Extends:g,initialize:function(M){g.call(this),this.game=M,this.canvasBounds=new m,this.parent=null,this.parentIsWindow=!1,this.parentSize=new v,this.gameSize=new v,this.baseSize=new v,this.displaySize=new v,this.scaleMode=y.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new b(1,1),this.autoRound=!1,this.autoCenter=y.CENTER.NO_CENTER,this.orientation=y.ORIENTATION.LANDSCAPE,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(d.BOOT,this.boot,this)},boot:function(){var A=this.game;this.canvas=A.canvas,this.fullscreen=A.device.fullscreen;var M=this.scaleMode;M!==y.SCALE_MODE.RESIZE&&M!==y.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(M),M===y.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),A.events.on(d.PRE_STEP,this.step,this),A.events.once(d.READY,this.refresh,this),A.events.once(d.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(A){this.getParent(A),this.getParentBounds();var M=A.width,I=A.height,R=A.scaleMode,F=A.zoom,N=A.autoRound;if("string"==typeof M)if("%"!==M.substr(-1))M=parseInt(M,10);else{var V=this.parentSize.width;0===V&&(V=window.innerWidth);var B=parseInt(M,10)/100;M=Math.floor(V*B)}if("string"==typeof I)if("%"!==I.substr(-1))I=parseInt(I,10);else{var G=this.parentSize.height;0===G&&(G=window.innerHeight);var Q=parseInt(I,10)/100;I=Math.floor(G*Q)}this.scaleMode=R,this.autoRound=N,this.autoCenter=A.autoCenter,this.resizeInterval=A.resizeInterval,N&&(M=Math.floor(M),I=Math.floor(I)),this.gameSize.setSize(M,I),F===y.ZOOM.MAX_ZOOM&&(F=this.getMaxZoom()),this.zoom=F,1!==F&&(this._resetZoom=!0),this.baseSize.setSize(M,I),N&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),A.minWidth>0&&this.displaySize.setMin(A.minWidth*F,A.minHeight*F),A.maxWidth>0&&this.displaySize.setMax(A.maxWidth*F,A.maxHeight*F),this.displaySize.setSize(M,I),(A.snapWidth>0||A.snapHeight>0)&&this.displaySize.setSnap(A.snapWidth,A.snapHeight),this.orientation=p(M,I)},getParent:function(A){var M=A.parent;if(null!==M){if(this.parent=h(M),this.parentIsWindow=this.parent===document.body,A.expandParent&&A.scaleMode!==y.SCALE_MODE.NONE){var I=this.parent.getBoundingClientRect();(this.parentIsWindow||0===I.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",I=this.parent.getBoundingClientRect(),!this.parentIsWindow&&0===I.height&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}A.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=h(A.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var A=this.parentSize,M=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(M.height=c(!0));var I=M.width,R=M.height;if(A.width!==I||A.height!==R)return A.setSize(I,R),!0;if(this.canvas){var F=this.canvasBounds,N=this.canvas.getBoundingClientRect();if(N.x!==F.x||N.y!==F.y)return!0}return!1},lockOrientation:function(A){var M=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!M&&M.call(screen,A)},setParentSize:function(A,M){return this.parentSize.setSize(A,M),this.refresh()},setGameSize:function(A,M){var I=this.autoRound;I&&(A=Math.floor(A),M=Math.floor(M));var R=this.width,F=this.height;return this.gameSize.resize(A,M),this.baseSize.resize(A,M),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(A/M),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,F)},resize:function(A,M){var I=this.zoom,R=this.autoRound;R&&(A=Math.floor(A),M=Math.floor(M));var F=this.width,N=this.height;this.gameSize.resize(A,M),this.baseSize.resize(A,M),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(A*I,M*I),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var V=this.canvas.style,B=A*I,G=M*I;return R&&(B=Math.floor(B),G=Math.floor(G)),(B!==A||G!==M)&&(V.width=B+"px",V.height=G+"px"),this.refresh(F,N)},setZoom:function(A){return this.zoom=A,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(A,M){return void 0===A&&(A=0),void 0===M&&(M=A),this.displaySize.setSnap(A,M),this.refresh()},refresh:function(A,M){void 0===A&&(A=this.width),void 0===M&&(M=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var I=this.game.domContainer;if(I){this.baseSize.setCSS(I);var R=this.canvas.style,F=I.style;F.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",F.marginLeft=R.marginLeft,F.marginTop=R.marginTop}return this.emit(f.RESIZE,this.gameSize,this.baseSize,this.displaySize,A,M),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var A=p(this.width,this.height);A!==this.orientation&&(this.orientation=A,this.emit(f.ORIENTATION_CHANGE,A))}},updateScale:function(){var R,F,A=this.canvas.style,N=this.zoom,V=this.autoRound;if(this.scaleMode===y.SCALE_MODE.NONE)this.displaySize.setSize(this.gameSize.width*N,this.gameSize.height*N),R=this.displaySize.width,F=this.displaySize.height,V&&(R=Math.floor(R),F=Math.floor(F)),this._resetZoom&&(A.width=R+"px",A.height=F+"px",this._resetZoom=!1);else if(this.scaleMode===y.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,F=this.displaySize.height,V&&(R=Math.floor(R),F=Math.floor(F)),this.canvas.width=R,this.canvas.height=F;else if(this.scaleMode===y.SCALE_MODE.EXPAND){var B=this.game.config.width,G=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,F=this.displaySize.height,V&&(R=Math.floor(R),F=Math.floor(F)),A.width=R+"px",A.height=F+"px";var Q=this.parentSize.width/B,H=this.parentSize.height/G;Q<H&&0!==Q?this.baseSize.setSize(B,this.parentSize.height/Q):0!==H&&this.baseSize.setSize(this.displaySize.width/H,G),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),R=this.baseSize.width,F=this.baseSize.height,V&&(R=Math.floor(R),F=Math.floor(F)),this.canvas.width=R,this.canvas.height=F}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,F=this.displaySize.height,V&&(R=Math.floor(R),F=Math.floor(F)),A.width=R+"px",A.height=F+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var A=x(this.parentSize.width,this.gameSize.width,0,!0),M=x(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(A,M),1)},updateCenter:function(){var A=this.autoCenter;if(A!==y.CENTER.NO_CENTER){var M=this.canvas,I=M.style,R=M.getBoundingClientRect(),N=R.height,V=Math.floor((this.parentSize.width-R.width)/2),B=Math.floor((this.parentSize.height-N)/2);A===y.CENTER.CENTER_HORIZONTALLY?B=0:A===y.CENTER.CENTER_VERTICALLY&&(V=0),I.marginLeft=V+"px",I.marginTop=B+"px"}},updateBounds:function(){var A=this.canvasBounds,M=this.canvas.getBoundingClientRect();A.x=M.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),A.y=M.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),A.width=M.width,A.height=M.height},transformX:function(A){return(A-this.canvasBounds.left)*this.displayScale.x},transformY:function(A){return(A-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(A){void 0===A&&(A={navigationUI:"hide"});var M=this.fullscreen;if(M.available){if(!M.active){this.getFullscreenTarget()[M.request](M.keyboard?Element.ALLOW_KEYBOARD_INPUT:A)}}else this.emit(f.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(f.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(A){this.removeFullscreenTarget(),this.emit(f.FULLSCREEN_FAILED,A)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var A=document.createElement("div");A.style.margin="0",A.style.padding="0",A.style.width="100%",A.style.height="100%",this.fullscreenTarget=A,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var A=this.fullscreenTarget;if(A&&A.parentNode){var M=A.parentNode;M.insertBefore(this.canvas,A),M.removeChild(A)}}},stopFullscreen:function(){var A=this.fullscreen;if(!A.available)return this.emit(f.FULLSCREEN_UNSUPPORTED),!1;A.active&&document[A.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(f.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(A){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(A)},startListeners:function(){var A=this,M=this.domlisteners;M.orientationChange=function(){A.updateBounds(),A._checkOrientation=!0,A.dirty=!0,A.refresh()},M.windowResize=function(){A.updateBounds(),A.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",M.orientationChange,!1):window.addEventListener("orientationchange",M.orientationChange,!1),window.addEventListener("resize",M.windowResize,!1),this.fullscreen.available&&(M.fullScreenChange=function(R){return A.onFullScreenChange(R)},M.fullScreenError=function(R){return A.onFullScreenError(R)},["webkit","moz",""].forEach(function(R){document.addEventListener(R+"fullscreenchange",M.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",M.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",M.fullScreenChange,!1),document.addEventListener("MSFullscreenError",M.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(A,M){A instanceof T||(M=A,A=void 0),void 0===M&&(M=new m);var I=this.baseSize,R=this.parentSize,F=this.canvasBounds,N=this.displayScale;return M.setTo(F.x>=0?0:-F.x*N.x,F.y>=0?0:-F.y*N.y,R.width>=F.width?I.width:I.width-(F.width-R.width)*N.x,R.height>=F.height?I.height:I.height-(F.height-R.height)*N.y),A&&(M.width/=A.zoomX,M.height/=A.zoomY,M.centerX=A.centerX+A.scrollX,M.centerY=A.centerY+A.scrollY),M},step:function(A,M){this.parent&&(this._lastCheck+=M,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var A=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",A.orientationChange,!1):window.removeEventListener("orientationchange",A.orientationChange,!1),window.removeEventListener("resize",A.windowResize,!1),["webkit","moz",""].forEach(function(I){document.removeEventListener(I+"fullscreenchange",A.fullScreenChange,!1),document.removeEventListener(I+"fullscreenerror",A.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",A.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",A.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===y.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===y.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});S.exports=_},64743:S=>{S.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:S=>{S.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:S=>{S.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:S=>{S.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(S,P,a)=>{var y={CENTER:a(64743),ORIENTATION:a(39218),SCALE_MODE:a(81050),ZOOM:a(80805)};S.exports=y},56139:S=>{S.exports="enterfullscreen"},2336:S=>{S.exports="fullscreenfailed"},47412:S=>{S.exports="fullscreenunsupported"},51452:S=>{S.exports="leavefullscreen"},20666:S=>{S.exports="orientationchange"},47945:S=>{S.exports="resize"},97480:(S,P,a)=>{S.exports={ENTER_FULLSCREEN:a(56139),FULLSCREEN_FAILED:a(2336),FULLSCREEN_UNSUPPORTED:a(47412),LEAVE_FULLSCREEN:a(51452),ORIENTATION_CHANGE:a(20666),RESIZE:a(47945)}},93364:(S,P,a)=>{var y=a(79291),C=a(13560),g={Center:a(64743),Events:a(97480),Orientation:a(39218),ScaleManager:a(76531),ScaleModes:a(81050),Zoom:a(80805)};g=y(!1,g,C.CENTER),g=y(!1,g,C.ORIENTATION),g=y(!1,g,C.SCALE_MODE),g=y(!1,g,C.ZOOM),S.exports=g},27397:(S,P,a)=>{var y=a(95540),C=a(35355);S.exports=function(f){var d=f.game.config.defaultPhysicsSystem,c=y(f.settings,"physics",!1);if(d||c){var h=[];if(d&&h.push(C(d+"Physics")),c)for(var p in c)p=C(p.concat("Physics")),-1===h.indexOf(p)&&h.push(p);return h}}},52106:(S,P,a)=>{var y=a(95540);S.exports=function(g){var f=g.plugins.getDefaultScenePlugins(),d=y(g.settings,"plugins",!1);return Array.isArray(d)?d:f||[]}},87033:S=>{S.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},97482:(S,P,a)=>{var y=a(83419),C=a(2368),g=new y({initialize:function(d){this.sys=new C(this,d)},update:function(){}});S.exports=g},60903:(S,P,a)=>{var y=a(83419),C=a(89993),g=a(44594),f=a(8443),d=a(35154),c=a(54899),h=a(29747),p=a(97482),u=a(2368),m=new y({initialize:function(x,b){if(this.game=x,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,b){Array.isArray(b)||(b=[b]);for(var T=0;T<b.length;T++)this._pending.push({key:"default",scene:b[T],autoStart:0===T,data:{}})}x.events.once(f.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var v,x,b,T;for(this.systemScene=this.createSceneFromInstance("__SYSTEM",new p),this.game.events.emit(f.SYSTEM_READY,this.systemScene,this),v=0;v<this._pending.length;v++){var _;b=(x=this._pending[v]).key,(T=x.scene)instanceof p?_=this.createSceneFromInstance(b,T):"object"==typeof T?_=this.createSceneFromObject(b,T):"function"==typeof T&&(_=this.createSceneFromFunction(b,T)),this.keys[b=_.sys.settings.key]=_,this.scenes.push(_),this._data[b]&&(_.sys.settings.data=this._data[b].data,this._data[b].autoStart&&(x.autoStart=!0)),(x.autoStart||_.sys.settings.active)&&this._start.push(b)}for(this._pending.length=0,this._data={},this.isBooted=!0,v=0;v<this._start.length;v++)this.start(x=this._start[v]);this._start.length=0}},processQueue:function(){var v=this._pending.length;if(0!==v||0!==this._queue.length){var b,T;if(v){for(b=0;b<v;b++)this.add((T=this._pending[b]).key,T.scene,T.autoStart,T.data);for(b=0;b<this._start.length;b++)this.start(T=this._start[b]);this._start.length=0,this._pending.length=0}for(b=0;b<this._queue.length;b++)this[(T=this._queue[b]).op](T.keyA,T.keyB,T.data);this._queue.length=0}},add:function(v,x,b,T){return void 0===b&&(b=!1),void 0===T&&(T={}),this.isProcessing||!this.isBooted?(this._pending.push({key:v,scene:x,autoStart:b,data:T}),this.isBooted||(this._data[v]={data:T}),null):(v=this.getKey(v,x),x instanceof p?_=this.createSceneFromInstance(v,x):"object"==typeof x?(x.key=v,_=this.createSceneFromObject(v,x)):"function"==typeof x&&(_=this.createSceneFromFunction(v,x)),_.sys.settings.data=T,this.keys[v=_.sys.settings.key]=_,this.scenes.push(_),(b||_.sys.settings.active)&&(this._pending.length?this._start.push(v):this.start(v)),_);var _},remove:function(v){if(this.isProcessing)return this.queueOp("remove",v);var x=this.getScene(v);if(!x||x.sys.isTransitioning())return this;var b=this.scenes.indexOf(x),T=x.sys.settings.key;return b>-1&&(delete this.keys[T],this.scenes.splice(b,1),this._start.indexOf(T)>-1&&(b=this._start.indexOf(T),this._start.splice(b,1)),x.sys.destroy()),this},bootScene:function(v){var T,x=v.sys,b=x.settings;x.sceneUpdate=h,v.init&&(v.init.call(v,b.data),b.status=C.INIT,b.isTransition&&x.events.emit(g.TRANSITION_INIT,b.transitionFrom,b.transitionDuration)),x.load&&(T=x.load).reset(),T&&v.preload?(v.preload.call(v),b.status=C.LOADING,T.once(c.COMPLETE,this.loadComplete,this),T.start()):this.create(v)},loadComplete:function(v){this.create(v.scene)},payloadComplete:function(v){this.bootScene(v.scene)},update:function(v,x){this.processQueue(),this.isProcessing=!0;for(var b=this.scenes.length-1;b>=0;b--){var T=this.scenes[b].sys;T.settings.status>C.START&&T.settings.status<=C.RUNNING&&T.step(v,x),T.scenePlugin&&T.scenePlugin._target&&T.scenePlugin.step(v,x)}},render:function(v){for(var x=0;x<this.scenes.length;x++){var b=this.scenes[x].sys;b.settings.visible&&b.settings.status>=C.LOADING&&b.settings.status<C.SLEEPING&&b.render(v)}this.isProcessing=!1},create:function(v){var x=v.sys,b=x.settings;v.create&&(b.status=C.CREATING,v.create.call(v,b.data),b.status===C.DESTROYED)||(b.isTransition&&x.events.emit(g.TRANSITION_START,b.transitionFrom,b.transitionDuration),v.update&&(x.sceneUpdate=v.update),b.status=C.RUNNING,x.events.emit(g.CREATE,v))},createSceneFromFunction:function(v,x){var b=new x;if(b instanceof p){var T=b.sys.settings.key;if(""!==T&&(v=T),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return this.createSceneFromInstance(v,b)}return b.sys=new u(b),b.sys.settings.key=v,b.sys.init(this.game),b},createSceneFromInstance:function(v,x){return""===x.sys.settings.key&&(x.sys.settings.key=v),x.sys.init(this.game),x},createSceneFromObject:function(v,x){var b=new p(x),T=b.sys.settings.key;""!==T?v=T:b.sys.settings.key=v,b.sys.init(this.game);for(var _=["init","preload","create","update","render"],A=0;A<_.length;A++){var M=d(x,_[A],null);M&&(b[_[A]]=M)}if(x.hasOwnProperty("extend"))for(var I in x.extend)if(x.extend.hasOwnProperty(I)){var R=x.extend[I];"data"===I&&b.hasOwnProperty("data")&&"object"==typeof R?b.data.merge(R):"sys"!==I&&(b[I]=R)}return b},getKey:function(v,x){if(v||(v="default"),"function"==typeof x)return v;if(x instanceof p?v=x.sys.settings.key:"object"==typeof x&&x.hasOwnProperty("key")&&(v=x.key),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return v},getScenes:function(v,x){void 0===v&&(v=!0),void 0===x&&(x=!1);for(var b=[],T=this.scenes,_=0;_<T.length;_++){var A=T[_];A&&(!v||v&&A.sys.isActive())&&b.push(A)}return x?b.reverse():b},getScene:function(v){if("string"==typeof v){if(this.keys[v])return this.keys[v]}else for(var x=0;x<this.scenes.length;x++)if(v===this.scenes[x])return v;return null},isActive:function(v){var x=this.getScene(v);return x?x.sys.isActive():null},isPaused:function(v){var x=this.getScene(v);return x?x.sys.isPaused():null},isVisible:function(v){var x=this.getScene(v);return x?x.sys.isVisible():null},isSleeping:function(v){var x=this.getScene(v);return x?x.sys.isSleeping():null},pause:function(v,x){var b=this.getScene(v);return b&&b.sys.pause(x),this},resume:function(v,x){var b=this.getScene(v);return b&&b.sys.resume(x),this},sleep:function(v,x){var b=this.getScene(v);return b&&!b.sys.isTransitioning()&&b.sys.sleep(x),this},wake:function(v,x){var b=this.getScene(v);return b&&b.sys.wake(x),this},run:function(v,x){var b=this.getScene(v);if(!b){for(var T=0;T<this._pending.length;T++)if(this._pending[T].key===v){this.queueOp("start",v,x);break}return this}b.sys.isSleeping()?b.sys.wake(x):b.sys.isPaused()?b.sys.resume(x):this.start(v,x)},start:function(v,x){if(!this.isBooted)return this._data[v]={autoStart:!0,data:x},this;var b=this.getScene(v);if(!b)return console.warn("Scene key not found: "+v),this;var A,T=b.sys,_=T.settings.status;if(_>=C.START&&_<=C.CREATING)return this;if(_>=C.RUNNING&&_<=C.SLEEPING)T.shutdown(),T.sceneUpdate=h,T.start(x);else if(T.sceneUpdate=h,T.start(x),T.load&&(A=T.load),A&&T.settings.hasOwnProperty("pack")&&(A.reset(),A.addPack({payload:T.settings.pack})))return T.settings.status=C.LOADING,A.once(c.COMPLETE,this.payloadComplete,this),A.start(),this;return this.bootScene(b),this},stop:function(v,x){var b=this.getScene(v);if(b&&!b.sys.isTransitioning()&&b.sys.settings.status!==C.SHUTDOWN){var T=b.sys.load;T&&(T.off(c.COMPLETE,this.loadComplete,this),T.off(c.COMPLETE,this.payloadComplete,this)),b.sys.shutdown(x)}return this},switch:function(v,x,b){var T=this.getScene(v),_=this.getScene(x);return T&&_&&T!==_&&(this.sleep(v),this.isSleeping(x)?this.wake(x,b):this.start(x,b)),this},getAt:function(v){return this.scenes[v]},getIndex:function(v){var x=this.getScene(v);return this.scenes.indexOf(x)},bringToTop:function(v){if(this.isProcessing)return this.queueOp("bringToTop",v);var x=this.getIndex(v),b=this.scenes;if(-1!==x&&x<b.length){var T=this.getScene(v);b.splice(x,1),b.push(T)}return this},sendToBack:function(v){if(this.isProcessing)return this.queueOp("sendToBack",v);var x=this.getIndex(v);if(-1!==x&&x>0){var b=this.getScene(v);this.scenes.splice(x,1),this.scenes.unshift(b)}return this},moveDown:function(v){if(this.isProcessing)return this.queueOp("moveDown",v);var x=this.getIndex(v);if(x>0){var b=x-1,T=this.getScene(v),_=this.getAt(b);this.scenes[x]=_,this.scenes[b]=T}return this},moveUp:function(v){if(this.isProcessing)return this.queueOp("moveUp",v);var x=this.getIndex(v);if(x<this.scenes.length-1){var b=x+1,T=this.getScene(v),_=this.getAt(b);this.scenes[x]=_,this.scenes[b]=T}return this},moveAbove:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("moveAbove",v,x);var b=this.getIndex(v),T=this.getIndex(x);if(-1!==b&&-1!==T&&T<b){var _=this.getAt(T);this.scenes.splice(T,1),this.scenes.splice(b+(T>b),0,_)}return this},moveBelow:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("moveBelow",v,x);var b=this.getIndex(v),T=this.getIndex(x);if(-1!==b&&-1!==T&&T>b){var _=this.getAt(T);this.scenes.splice(T,1),0===b?this.scenes.unshift(_):this.scenes.splice(b-(T<b),0,_)}return this},queueOp:function(v,x,b,T){return this._queue.push({op:v,keyA:x,keyB:b,data:T}),this},swapPosition:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("swapPosition",v,x);var b=this.getIndex(v),T=this.getIndex(x);if(b!==T&&-1!==b&&-1!==T){var _=this.getAt(b);this.scenes[b]=this.scenes[T],this.scenes[T]=_}return this},dump:function(){for(var v=[],x=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],b=0;b<this.scenes.length;b++){var T=this.scenes[b].sys,_=!T.settings.visible||T.settings.status!==C.RUNNING&&T.settings.status!==C.PAUSED?"[-] ":"[*] ";v.push(_+=T.settings.key+" ("+x[T.settings.status]+")")}console.log(v.join("\n"))},destroy:function(){for(var v=0;v<this.scenes.length;v++)this.scenes[v].sys.destroy();this.systemScene.sys.destroy(),this.update=h,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});S.exports=m},52209:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(44594),f=a(95540),d=a(37277),c=new C({initialize:function(p){this.scene=p,this.systems=p.sys,this.settings=p.sys.settings,this.key=p.sys.settings.key,this.manager=p.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._willSleep=!1,this._willRemove=!1,p.sys.events.once(g.BOOT,this.boot,this),p.sys.events.on(g.START,this.pluginStart,this)},boot:function(){this.systems.events.once(g.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(g.SHUTDOWN,this.shutdown,this)},start:function(h,p){return void 0===h&&(h=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",h,p),this},restart:function(h){var p=this.key;return this.manager.queueOp("stop",p),this.manager.queueOp("start",p,h),this},transition:function(h){void 0===h&&(h={});var p=f(h,"target",!1),u=this.manager.getScene(p);if(!p||!this.checkValidTransition(u))return!1;var m=f(h,"duration",1e3);this._elapsed=0,this._target=u,this._duration=m,this._willSleep=f(h,"sleep",!1),this._willRemove=f(h,"remove",!1);var v=f(h,"onUpdate",null);v&&(this._onUpdate=v,this._onUpdateScope=f(h,"onUpdateScope",this.scene));var x=f(h,"allowInput",!1);this.settings.transitionAllowInput=x;var b=u.sys.settings;b.isTransition=!0,b.transitionFrom=this.scene,b.transitionDuration=m,b.transitionAllowInput=x,f(h,"moveAbove",!1)?this.manager.moveAbove(this.key,p):f(h,"moveBelow",!1)&&this.manager.moveBelow(this.key,p),u.sys.isSleeping()?u.sys.wake(f(h,"data")):this.manager.start(p,f(h,"data"));var T=f(h,"onStart",null),_=f(h,"onStartScope",this.scene);return T&&T.call(_,this.scene,u,m),this.systems.events.emit(g.TRANSITION_OUT,u,m),!0},checkValidTransition:function(h){return!(!h||h.sys.isActive()||h.sys.isTransitioning()||h===this.scene||this.systems.isTransitioning())},step:function(h,p){this._elapsed+=p,this.transitionProgress=y(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var p=this._target.sys.settings;this._target.sys.events.emit(g.TRANSITION_COMPLETE,this.scene),p.isTransition=!1,p.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(h,p,u,m){return this.manager.add(h,p,u,m)},launch:function(h,p){return h&&h!==this.key&&this.manager.queueOp("start",h,p),this},run:function(h,p){return h&&h!==this.key&&this.manager.queueOp("run",h,p),this},pause:function(h,p){return void 0===h&&(h=this.key),this.manager.queueOp("pause",h,p),this},resume:function(h,p){return void 0===h&&(h=this.key),this.manager.queueOp("resume",h,p),this},sleep:function(h,p){return void 0===h&&(h=this.key),this.manager.queueOp("sleep",h,p),this},wake:function(h,p){return void 0===h&&(h=this.key),this.manager.queueOp("wake",h,p),this},switch:function(h,p){return h!==this.key&&this.manager.queueOp("switch",this.key,h,p),this},stop:function(h,p){return void 0===h&&(h=this.key),this.manager.queueOp("stop",h,p),this},setActive:function(h,p,u){void 0===p&&(p=this.key);var m=this.manager.getScene(p);return m&&m.sys.setActive(h,u),this},setVisible:function(h,p){void 0===p&&(p=this.key);var u=this.manager.getScene(p);return u&&u.sys.setVisible(h),this},isSleeping:function(h){return void 0===h&&(h=this.key),this.manager.isSleeping(h)},isActive:function(h){return void 0===h&&(h=this.key),this.manager.isActive(h)},isPaused:function(h){return void 0===h&&(h=this.key),this.manager.isPaused(h)},isVisible:function(h){return void 0===h&&(h=this.key),this.manager.isVisible(h)},swapPosition:function(h,p){return void 0===p&&(p=this.key),h!==p&&this.manager.swapPosition(h,p),this},moveAbove:function(h,p){return void 0===p&&(p=this.key),h!==p&&this.manager.moveAbove(h,p),this},moveBelow:function(h,p){return void 0===p&&(p=this.key),h!==p&&this.manager.moveBelow(h,p),this},remove:function(h){return void 0===h&&(h=this.key),this.manager.remove(h),this},moveUp:function(h){return void 0===h&&(h=this.key),this.manager.moveUp(h),this},moveDown:function(h){return void 0===h&&(h=this.key),this.manager.moveDown(h),this},bringToTop:function(h){return void 0===h&&(h=this.key),this.manager.bringToTop(h),this},sendToBack:function(h){return void 0===h&&(h=this.key),this.manager.sendToBack(h),this},get:function(h){return this.manager.getScene(h)},getStatus:function(h){var p=this.manager.getScene(h);if(p)return p.sys.getStatus()},getIndex:function(h){return void 0===h&&(h=this.key),this.manager.getIndex(h)},shutdown:function(){var h=this.systems.events;h.off(g.SHUTDOWN,this.shutdown,this),h.off(g.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});d.register("ScenePlugin",c,"scenePlugin"),S.exports=c},55681:(S,P,a)=>{var y=a(89993),C=a(35154),g=a(46975),f=a(87033);S.exports={create:function(c){return"string"==typeof c?c={key:c}:void 0===c&&(c={}),{status:y.PENDING,key:C(c,"key",""),active:C(c,"active",!1),visible:C(c,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:C(c,"pack",!1),cameras:C(c,"cameras",null),map:C(c,"map",g(f,C(c,"mapAdd",{}))),physics:C(c,"physics",{}),loader:C(c,"loader",{}),plugins:C(c,"plugins",!1),input:C(c,"input",{})}}}},2368:(S,P,a)=>{var y=a(83419),C=a(89993),g=a(42363),f=a(44594),d=a(27397),c=a(52106),h=a(29747),p=a(55681),u=new y({initialize:function(v,x){this.scene=v,this.config=x,this.settings=p.create(x),this.sceneUpdate=h},init:function(m){this.settings.status=C.INIT,this.sceneUpdate=h,this.game=m,this.renderer=m.renderer,this.canvas=m.canvas,this.context=m.context;var v=m.plugins;this.plugins=v,v.addToScene(this,g.Global,[g.CoreScene,c(this),d(this)]),this.events.emit(f.BOOT,this),this.settings.isBooted=!0},step:function(m,v){var x=this.events;x.emit(f.PRE_UPDATE,m,v),x.emit(f.UPDATE,m,v),this.sceneUpdate.call(this.scene,m,v),x.emit(f.POST_UPDATE,m,v)},render:function(m){var v=this.displayList;v.depthSort(),this.events.emit(f.PRE_RENDER,m),this.cameras.render(m,v),this.events.emit(f.RENDER,m)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(m){var v=this.settings,x=this.getStatus();return x!==C.CREATING&&x!==C.RUNNING?console.warn("Cannot pause non-running Scene",v.key):this.settings.active&&(v.status=C.PAUSED,v.active=!1,this.events.emit(f.PAUSE,this,m)),this},resume:function(m){var v=this.events,x=this.settings;return this.settings.active||(x.status=C.RUNNING,x.active=!0,v.emit(f.RESUME,this,m)),this},sleep:function(m){var v=this.settings,x=this.getStatus();return x!==C.CREATING&&x!==C.RUNNING?console.warn("Cannot sleep non-running Scene",v.key):(v.status=C.SLEEPING,v.active=!1,v.visible=!1,this.events.emit(f.SLEEP,this,m)),this},wake:function(m){var v=this.events,x=this.settings;return x.status=C.RUNNING,x.active=!0,x.visible=!0,v.emit(f.WAKE,this,m),x.isTransition&&v.emit(f.TRANSITION_WAKE,x.transitionFrom,x.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var m=this.settings.status;return m>C.PENDING&&m<=C.RUNNING},isSleeping:function(){return this.settings.status===C.SLEEPING},isActive:function(){return this.settings.status===C.RUNNING},isPaused:function(){return this.settings.status===C.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(m){return this.settings.visible=m,this},setActive:function(m,v){return m?this.resume(v):this.pause(v)},start:function(m){var v=this.events,x=this.settings;m&&(x.data=m),x.status=C.START,x.active=!0,x.visible=!0,v.emit(f.START,this),v.emit(f.READY,this,m)},shutdown:function(m){var v=this.events,x=this.settings;v.off(f.TRANSITION_INIT),v.off(f.TRANSITION_START),v.off(f.TRANSITION_COMPLETE),v.off(f.TRANSITION_OUT),x.status=C.SHUTDOWN,x.active=!1,x.visible=!1,v.emit(f.SHUTDOWN,this,m)},destroy:function(){var m=this.events,v=this.settings;v.status=C.DESTROYED,v.active=!1,v.visible=!1,m.emit(f.DESTROY,this),m.removeAllListeners();for(var x=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],b=0;b<x.length;b++)this[x[b]]=null}});S.exports=u},89993:S=>{S.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},69830:S=>{S.exports="addedtoscene"},7919:S=>{S.exports="boot"},46763:S=>{S.exports="create"},11763:S=>{S.exports="destroy"},71555:S=>{S.exports="pause"},36735:S=>{S.exports="postupdate"},3809:S=>{S.exports="prerender"},90716:S=>{S.exports="preupdate"},58262:S=>{S.exports="ready"},91633:S=>{S.exports="removedfromscene"},10319:S=>{S.exports="render"},87132:S=>{S.exports="resume"},81961:S=>{S.exports="shutdown"},90194:S=>{S.exports="sleep"},6265:S=>{S.exports="start"},33178:S=>{S.exports="transitioncomplete"},43063:S=>{S.exports="transitioninit"},11259:S=>{S.exports="transitionout"},61611:S=>{S.exports="transitionstart"},45209:S=>{S.exports="transitionwake"},22966:S=>{S.exports="update"},21747:S=>{S.exports="wake"},44594:(S,P,a)=>{S.exports={ADDED_TO_SCENE:a(69830),BOOT:a(7919),CREATE:a(46763),DESTROY:a(11763),PAUSE:a(71555),POST_UPDATE:a(36735),PRE_RENDER:a(3809),PRE_UPDATE:a(90716),READY:a(58262),REMOVED_FROM_SCENE:a(91633),RENDER:a(10319),RESUME:a(87132),SHUTDOWN:a(81961),SLEEP:a(90194),START:a(6265),TRANSITION_COMPLETE:a(33178),TRANSITION_INIT:a(43063),TRANSITION_OUT:a(11259),TRANSITION_START:a(61611),TRANSITION_WAKE:a(45209),UPDATE:a(22966),WAKE:a(21747)}},62194:(S,P,a)=>{var y=a(89993),C=a(79291),g={Events:a(44594),GetPhysicsPlugins:a(27397),GetScenePlugins:a(52106),SceneManager:a(60903),ScenePlugin:a(52209),Settings:a(55681),Systems:a(2368)};g=C(!1,g,y),S.exports=g},30341:(S,P,a)=>{var y=a(83419),C=a(50792),g=a(14463),f=a(79291),d=a(29747),c=new y({Extends:C,initialize:function(p,u,m){C.call(this),this.manager=p,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=f(this.config,m),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(h){return!(!h||!h.name||"string"!=typeof h.name||(this.markers[h.name]?(console.error("addMarker "+h.name+" already exists in Sound"),1):(h=f(!0,{name:"",start:0,duration:this.totalDuration-(h.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},h),this.markers[h.name]=h,0)))},updateMarker:function(h){return!(!h||!h.name||"string"!=typeof h.name||(this.markers[h.name]?(this.markers[h.name]=f(!0,this.markers[h.name],h),0):(console.warn("Audio Marker: "+h.name+" missing in Sound: "+this.key),1)))},removeMarker:function(h){var p=this.markers[h];return p?(this.markers[h]=null,p):null},play:function(h,p){if(void 0===h&&(h=""),"object"==typeof h&&(p=h,h=""),"string"!=typeof h)return!1;if(h){if(!this.markers[h])return console.warn("Marker: "+h+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[h],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=f(this.currentConfig,p),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying||(this.isPlaying=!1,this.isPaused=!0,0))},resume:function(){return!(!this.isPaused||this.isPlaying||(this.isPlaying=!0,this.isPaused=!1,0))},stop:function(){return!(!this.isPaused&&!this.isPlaying||(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),0))},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:d,calculateRate:function(){var u=Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune);this.totalRate=this.currentConfig.rate*this.manager.rate*u},destroy:function(){this.pendingRemove||(this.stop(),this.emit(g.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});S.exports=c},85034:(S,P,a)=>{var y=a(83419),C=a(41786),g=a(50792),f=a(14463),d=a(8443),c=a(46710),h=a(58731),p=a(29747),u=a(26099),m=new y({Extends:g,initialize:function(x){g.call(this),this.game=x,this.jsonCache=x.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new u,x.events.on(d.BLUR,this.onGameBlur,this),x.events.on(d.FOCUS,this.onGameFocus,this),x.events.on(d.PRE_STEP,this.update,this),x.events.once(d.DESTROY,this.destroy,this)},add:p,addAudioSprite:function(v,x){void 0===x&&(x={});var b=this.add(v,x);for(var T in b.spritemap=this.jsonCache.get(v).spritemap,b.spritemap)if(b.spritemap.hasOwnProperty(T)){var _=C(x),A=b.spritemap[T];_.loop=!!A.hasOwnProperty("loop")&&A.loop,b.addMarker({name:T,start:A.start,duration:A.end-A.start,config:_})}return b},get:function(v){return h(this.sounds,"key",v)},getAll:function(v){return v?c(this.sounds,"key",v):c(this.sounds)},getAllPlaying:function(){return c(this.sounds,"isPlaying",!0)},play:function(v,x){var b=this.add(v);return b.once(f.COMPLETE,b.destroy,b),x?x.name?(b.addMarker(x),b.play(x.name)):b.play(x):b.play()},playAudioSprite:function(v,x,b){var T=this.addAudioSprite(v);return T.once(f.COMPLETE,T.destroy,T),T.play(x,b)},remove:function(v){var x=this.sounds.indexOf(v);return-1!==x&&(v.destroy(),this.sounds.splice(x,1),!0)},removeAll:function(){this.sounds.forEach(function(v){v.destroy()}),this.sounds.length=0},removeByKey:function(v){for(var x=0,b=this.sounds.length-1;b>=0;b--){var T=this.sounds[b];T.key===v&&(T.destroy(),this.sounds.splice(b,1),x++)}return x},pauseAll:function(){this.forEachActiveSound(function(v){v.pause()}),this.emit(f.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(v){v.resume()}),this.emit(f.RESUME_ALL,this)},setListenerPosition:p,stopAll:function(){this.forEachActiveSound(function(v){v.stop()}),this.emit(f.STOP_ALL,this)},stopByKey:function(v){var x=0;return this.getAll(v).forEach(function(b){b.stop()&&x++}),x},isPlaying:function(v){var T,b=this.sounds.length-1;if(void 0===v){for(;b>=0;b--)if((T=this.sounds[b]).isPlaying)return!0}else for(;b>=0;b--)if((T=this.sounds[b]).key===v&&T.isPlaying)return!0;return!1},unlock:p,onBlur:p,onFocus:p,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(v,x){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(f.UNLOCKED,this));for(var b=this.sounds.length-1;b>=0;b--)this.sounds[b].pendingRemove&&this.sounds.splice(b,1);this.sounds.forEach(function(T){T.update(v,x)})},destroy:function(){this.game.events.off(d.BLUR,this.onGameBlur,this),this.game.events.off(d.FOCUS,this.onGameFocus,this),this.game.events.off(d.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(v,x){var b=this;this.sounds.forEach(function(T,_){T&&!T.pendingRemove&&v.call(x||b,T,_,b.sounds)})},setRate:function(v){return this.rate=v,this},rate:{get:function(){return this._rate},set:function(v){this._rate=v,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(f.GLOBAL_RATE,this,v)}},setDetune:function(v){return this.detune=v,this},detune:{get:function(){return this._detune},set:function(v){this._detune=v,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(f.GLOBAL_DETUNE,this,v)}}});S.exports=m},14747:(S,P,a)=>{var y=a(33684),C=a(25960),g=a(57490);S.exports={create:function(d){var c=d.config.audio,h=d.device.audio;return c.noAudio||!h.webAudio&&!h.audioData?new C(d):h.webAudio&&!c.disableWebAudio?new g(d):new y(d)}}},19723:S=>{S.exports="complete"},98882:S=>{S.exports="decodedall"},57506:S=>{S.exports="decoded"},73146:S=>{S.exports="destroy"},11305:S=>{S.exports="detune"},40577:S=>{S.exports="detune"},30333:S=>{S.exports="mute"},20394:S=>{S.exports="rate"},21802:S=>{S.exports="volume"},1299:S=>{S.exports="looped"},99190:S=>{S.exports="loop"},97125:S=>{S.exports="mute"},89259:S=>{S.exports="pan"},79986:S=>{S.exports="pauseall"},17586:S=>{S.exports="pause"},19618:S=>{S.exports="play"},42306:S=>{S.exports="rate"},10387:S=>{S.exports="resumeall"},48959:S=>{S.exports="resume"},9960:S=>{S.exports="seek"},19180:S=>{S.exports="stopall"},98328:S=>{S.exports="stop"},50401:S=>{S.exports="unlocked"},52498:S=>{S.exports="volume"},14463:(S,P,a)=>{S.exports={COMPLETE:a(19723),DECODED:a(57506),DECODED_ALL:a(98882),DESTROY:a(73146),DETUNE:a(11305),GLOBAL_DETUNE:a(40577),GLOBAL_MUTE:a(30333),GLOBAL_RATE:a(20394),GLOBAL_VOLUME:a(21802),LOOP:a(99190),LOOPED:a(1299),MUTE:a(97125),PAN:a(89259),PAUSE_ALL:a(79986),PAUSE:a(17586),PLAY:a(19618),RATE:a(42306),RESUME_ALL:a(10387),RESUME:a(48959),SEEK:a(9960),STOP_ALL:a(19180),STOP:a(98328),UNLOCKED:a(50401),VOLUME:a(52498)}},64895:(S,P,a)=>{var y=a(30341),C=a(83419),g=a(14463),f=a(45319),d=new C({Extends:y,initialize:function(h,p,u){if(void 0===u&&(u={}),this.tags=h.game.cache.audio.get(p),!this.tags)throw new Error('No cached audio asset with key "'+p);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,y.call(this,h,p,u)},play:function(c,h){return!(this.manager.isLocked(this,"play",[c,h])||!y.prototype.play.call(this,c,h)||!this.pickAndPlayAudioTag()||(this.emit(g.PLAY,this),0))},pause:function(){return!(this.manager.isLocked(this,"pause")||this.startTime>0||!y.prototype.pause.call(this)||(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(g.PAUSE,this),0))},resume:function(){return!(this.manager.isLocked(this,"resume")||this.startTime>0||!y.prototype.resume.call(this)||!this.pickAndPlayAudioTag()||(this.emit(g.RESUME,this),0))},stop:function(){return!(this.manager.isLocked(this,"stop")||!y.prototype.stop.call(this)||(this.stopAndReleaseAudioTag(),this.emit(g.STOP,this),0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var h=this.currentConfig.delay,p=(this.currentMarker?this.currentMarker.start:0)+this.currentConfig.seek;return this.previousTime=p,this.audio.currentTime=p,this.applyConfig(),0===h?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*h,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var c=0;c<this.tags.length;c++){var h=this.tags[c];if("false"===h.dataset.used)return h.dataset.used="true",this.audio=h,!0}if(!this.manager.override)return!1;var p=[];this.manager.forEachActiveSound(function(m){m.key===this.key&&m.audio&&p.push(m)},this),p.sort(function(m,v){return m.loop===v.loop?v.seek/v.duration-m.seek/m.duration:m.loop?1:-1});var u=p[0];return this.audio=u.audio,u.reset(),u.audio=null,u.startTime=0,u.previousTime=0,!0},playCatchPromise:function(){var c=this.audio.play();c&&c.catch(function(h){console.warn(h)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){y.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(c){if(this.isPlaying){if(this.startTime>0)return void(this.startTime<c-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,c-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise()));var h=this.currentMarker?this.currentMarker.start:0,p=h+this.duration,u=this.audio.currentTime;if(this.currentConfig.loop)u>=p-this.manager.loopEndOffset?(this.audio.currentTime=h+Math.max(0,u-p),u=this.audio.currentTime):u<h&&(this.audio.currentTime+=h,u=this.audio.currentTime),u<this.previousTime&&this.emit(g.LOOPED,this);else if(u>=p)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(g.COMPLETE,this);this.previousTime=u}},destroy:function(){y.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=f(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){y.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(c){this.currentConfig.mute=c,!this.manager.isLocked(this,"mute",c)&&(this.updateMute(),this.emit(g.MUTE,this,c))}},setMute:function(c){return this.mute=c,this},volume:{get:function(){return this.currentConfig.volume},set:function(c){this.currentConfig.volume=c,!this.manager.isLocked(this,"volume",c)&&(this.updateVolume(),this.emit(g.VOLUME,this,c))}},setVolume:function(c){return this.volume=c,this},rate:{get:function(){return this.currentConfig.rate},set:function(c){this.currentConfig.rate=c,!this.manager.isLocked(this,g.RATE,c)&&(this.calculateRate(),this.emit(g.RATE,this,c))}},setRate:function(c){return this.rate=c,this},detune:{get:function(){return this.currentConfig.detune},set:function(c){this.currentConfig.detune=c,!this.manager.isLocked(this,g.DETUNE,c)&&(this.calculateRate(),this.emit(g.DETUNE,this,c))}},setDetune:function(c){return this.detune=c,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(c){this.manager.isLocked(this,"seek",c)||this.startTime>0||(this.isPlaying||this.isPaused)&&(c=Math.min(Math.max(0,c),this.duration),this.isPlaying?(this.previousTime=c,this.audio.currentTime=c):this.isPaused&&(this.currentConfig.seek=c),this.emit(g.SEEK,this,c))}},setSeek:function(c){return this.seek=c,this},loop:{get:function(){return this.currentConfig.loop},set:function(c){this.currentConfig.loop=c,!this.manager.isLocked(this,"loop",c)&&(this.audio&&(this.audio.loop=c),this.emit(g.LOOP,this,c))}},setLoop:function(c){return this.loop=c,this},pan:{get:function(){return this.currentConfig.pan},set:function(c){this.currentConfig.pan=c,this.emit(g.PAN,this,c)}},setPan:function(c){return this.pan=c,this}});S.exports=d},33684:(S,P,a)=>{var y=a(85034),C=a(83419),g=a(14463),f=a(64895),d=new C({Extends:y,initialize:function(h){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,y.call(this,h)},add:function(c,h){var p=new f(this,c,h);return this.sounds.push(p),p},unlock:function(){this.locked=!1;var c=this;if(this.game.cache.audio.entries.each(function(m,v){for(var x=0;x<v.length;x++)if("true"===v[x].dataset.locked)return c.locked=!0,!1;return!0}),this.locked){var h=!1,p=function(){h=!0},u=function(){if(h)h=!1;else{document.body.removeEventListener("touchmove",p),document.body.removeEventListener("touchend",u);var m=[];if(c.game.cache.audio.entries.each(function(x,b){for(var T=0;T<b.length;T++){var _=b[T];"true"===_.dataset.locked&&m.push(_)}return!0}),0!==m.length){var v=m[m.length-1];v.oncanplaythrough=function(){v.oncanplaythrough=null,m.forEach(function(x){x.dataset.locked="false"}),c.unlocked=!0},m.forEach(function(x){x.load()})}}};this.once(g.UNLOCKED,function(){for(this.forEachActiveSound(function(v){null===v.currentMarker&&0===v.duration&&(v.duration=v.tags[0].duration),v.totalDuration=v.tags[0].duration});this.lockedActionsQueue.length;){var m=this.lockedActionsQueue.shift();m.sound[m.prop].apply?m.sound[m.prop].apply(m.sound,m.value||[]):m.sound[m.prop]=m.value}},this),document.body.addEventListener("touchmove",p,!1),document.body.addEventListener("touchend",u,!1)}},onBlur:function(){this.forEachActiveSound(function(c){c.isPlaying&&(this.onBlurPausedSounds.push(c),c.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(c){c.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){y.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(c,h,p){return"true"===c.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:c,prop:h,value:p}),!0)},setMute:function(c){return this.mute=c,this},mute:{get:function(){return this._mute},set:function(c){this._mute=c,this.forEachActiveSound(function(h){h.updateMute()}),this.emit(g.GLOBAL_MUTE,this,c)}},setVolume:function(c){return this.volume=c,this},volume:{get:function(){return this._volume},set:function(c){this._volume=c,this.forEachActiveSound(function(h){h.updateVolume()}),this.emit(g.GLOBAL_VOLUME,this,c)}}});S.exports=d},23717:(S,P,a)=>{S.exports={SoundManagerCreator:a(14747),Events:a(14463),BaseSound:a(30341),BaseSoundManager:a(85034),WebAudioSound:a(71741),WebAudioSoundManager:a(57490),HTML5AudioSound:a(64895),HTML5AudioSoundManager:a(33684),NoAudioSound:a(4603),NoAudioSoundManager:a(25960)}},4603:(S,P,a)=>{var y=a(30341),C=a(83419),g=a(50792),f=a(79291),d=a(29747),c=function(){return!1},h=function(){return null},p=function(){return this},u=new C({Extends:g,initialize:function(v,x,b){void 0===b&&(b={}),g.call(this),this.manager=v,this.key=x,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=f({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},b),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:c,updateMarker:c,removeMarker:h,play:c,pause:c,resume:c,stop:c,setMute:p,setVolume:p,setRate:p,setDetune:p,setSeek:p,setLoop:p,setPan:p,applyConfig:h,resetConfig:h,update:d,calculateRate:h,destroy:function(){y.prototype.destroy.call(this)}});S.exports=u},25960:(S,P,a)=>{var y=a(85034),C=a(83419),g=a(50792),f=a(4603),d=a(29747),c=new C({Extends:g,initialize:function(p){g.call(this),this.game=p,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(h,p){var u=new f(this,h,p);return this.sounds.push(u),u},addAudioSprite:function(h,p){var u=this.add(h,p);return u.spritemap={},u},get:function(h){return y.prototype.get.call(this,h)},getAll:function(h){return y.prototype.getAll.call(this,h)},play:function(h,p){return!1},playAudioSprite:function(h,p,u){return!1},remove:function(h){return y.prototype.remove.call(this,h)},removeAll:function(){return y.prototype.removeAll.call(this)},removeByKey:function(h){return y.prototype.removeByKey.call(this,h)},stopByKey:function(h){return y.prototype.stopByKey.call(this,h)},onBlur:d,onFocus:d,onGameBlur:d,onGameFocus:d,pauseAll:d,resumeAll:d,stopAll:d,update:d,setRate:d,setDetune:d,setMute:d,setVolume:d,unlock:d,forEachActiveSound:function(h,p){y.prototype.forEachActiveSound.call(this,h,p)},destroy:function(){y.prototype.destroy.call(this)}});S.exports=c},71741:(S,P,a)=>{var y=a(30341),C=a(83419),g=a(14463),f=a(95540),d=new C({Extends:y,initialize:function(h,p,u){if(void 0===u&&(u={}),this.audioBuffer=h.game.cache.audio.get(p),!this.audioBuffer)throw new Error('Audio key "'+p+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=h.context.createGain(),this.volumeNode=h.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),h.context.createPanner&&(this.spatialNode=h.context.createPanner(),this.volumeNode.connect(this.spatialNode)),h.context.createStereoPanner?(this.pannerNode=h.context.createStereoPanner(),h.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(h.destination)):h.context.createPanner?this.spatialNode.connect(h.destination):this.volumeNode.connect(h.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,y.call(this,h,p,u)},play:function(c,h){return!!y.prototype.play.call(this,c,h)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(g.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime||!y.prototype.pause.call(this)||(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(g.PAUSE,this),0))},resume:function(){return!(this.manager.context.currentTime<this.startTime||!y.prototype.resume.call(this)||(this.createAndStartBufferSource(),this.emit(g.RESUME,this),0))},stop:function(){return!!y.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(g.STOP,this),!0)},createAndStartBufferSource:function(){var c=this.currentConfig.seek,p=this.manager.context.currentTime+this.currentConfig.delay,u=(this.currentMarker?this.currentMarker.start:0)+c,m=this.duration-c;this.playTime=p-c,this.startTime=p,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,p),Math.max(0,u),Math.max(0,m)),this.resetConfig()},createAndStartLoopBufferSource:function(){var c=this.getLoopTime(),h=this.currentMarker?this.currentMarker.start:0,p=this.duration;this.loopTime=c,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,c),Math.max(0,h),Math.max(0,p))},createBufferSource:function(){var c=this,h=this.manager.context.createBufferSource();return h.buffer=this.audioBuffer,h.connect(this.muteNode),h.onended=function(p){var u=p.target;(u===c.source||u===c.loopSource)&&(c.currentConfig.loop?c.hasLooped=!0:c.hasEnded=!0)},h},stopAndRemoveBufferSource:function(){if(this.source){var c=this.source;this.source=null,c.stop(),c.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var c=this.currentConfig.source;if(c&&this.manager.context.createPanner){var h=this.spatialNode;h.panningModel=f(c,"panningModel","equalpower"),h.distanceModel=f(c,"distanceModel","inverse"),h.orientationX.value=f(c,"orientationX",0),h.orientationY.value=f(c,"orientationY",0),h.orientationZ.value=f(c,"orientationZ",-1),h.refDistance=f(c,"refDistance",1),h.maxDistance=f(c,"maxDistance",1e4),h.rolloffFactor=f(c,"rolloffFactor",1),h.coneInnerAngle=f(c,"coneInnerAngle",360),h.coneOuterAngle=f(c,"coneOuterAngle",0),h.coneOuterGain=f(c,"coneOuterGain",0),this.spatialSource=f(c,"follow",null),this.spatialSource||(h.positionX.value=f(c,"x",0),h.positionY.value=f(c,"y",0),h.positionZ.value=f(c,"z",0))}y.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(c){this.spatialNode&&(this.spatialNode.positionX.value=c)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(c){this.spatialNode&&(this.spatialNode.positionY.value=c)}},update:function(){if(this.isPlaying&&this.spatialSource){var c=f(this.spatialSource,"x",null),h=f(this.spatialSource,"y",null);c&&c!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=c),h&&h!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=h)}this.hasEnded?(y.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(g.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(g.LOOPED,this))},destroy:function(){this.pendingRemove||(y.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){y.prototype.calculateRate.call(this);var c=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,c),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,c)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var c=0,h=0;h<this.rateUpdates.length;h++)c+=((h<this.rateUpdates.length-1?this.rateUpdates[h+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[h].time)*this.rateUpdates[h].rate;return c},getLoopTime:function(){for(var c=0,h=0;h<this.rateUpdates.length-1;h++)c+=(this.rateUpdates[h+1].time-this.rateUpdates[h].time)*this.rateUpdates[h].rate;var p=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+p.time+(this.duration-c)/p.rate},rate:{get:function(){return this.currentConfig.rate},set:function(c){this.currentConfig.rate=c,this.calculateRate(),this.emit(g.RATE,this,c)}},setRate:function(c){return this.rate=c,this},detune:{get:function(){return this.currentConfig.detune},set:function(c){this.currentConfig.detune=c,this.calculateRate(),this.emit(g.DETUNE,this,c)}},setDetune:function(c){return this.detune=c,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(c){this.currentConfig.mute=c,this.muteNode.gain.setValueAtTime(c?0:1,0),this.emit(g.MUTE,this,c)}},setMute:function(c){return this.mute=c,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(c){this.currentConfig.volume=c,this.volumeNode.gain.setValueAtTime(c,0),this.emit(g.VOLUME,this,c)}},setVolume:function(c){return this.volume=c,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(c){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(c=Math.min(Math.max(0,c),this.duration),this.currentConfig.seek=c,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(g.SEEK,this,c))}},setSeek:function(c){return this.seek=c,this},loop:{get:function(){return this.currentConfig.loop},set:function(c){this.currentConfig.loop=c,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),c&&this.createAndStartLoopBufferSource()),this.emit(g.LOOP,this,c)}},setLoop:function(c){return this.loop=c,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(c){this.currentConfig.pan=c,this.pannerNode&&this.pannerNode.pan.setValueAtTime(c,this.manager.context.currentTime),this.emit(g.PAN,this,c)}},setPan:function(c){return this.pan=c,this}});S.exports=d},57490:(S,P,a)=>{var y=a(53134),C=a(85034),g=a(83419),f=a(14463),d=a(8443),c=a(71741),h=a(95540),p=new g({Extends:C,initialize:function(m){this.context=this.createAudioContext(m),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),C.call(this,m),this.locked&&m.isBooted?this.unlock():m.events.once(d.BOOT,this.unlock,this)},createAudioContext:function(u){var m=u.config.audio;return m.context?(m.context.resume(),m.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(u){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=u,this.masterMuteNode=u.createGain(),this.masterVolumeNode=u.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(u.destination),this.destination=this.masterMuteNode,this},add:function(u,m){var v=new c(this,u,m);return this.sounds.push(v),v},decodeAudio:function(u,m){var v;v=Array.isArray(u)?u:[{key:u,data:m}];for(var x=this.game.cache.audio,b=v.length,T=0;T<v.length;T++){var _=v[T],A=_.key,M=_.data;"string"==typeof M&&(M=y(M));var I=function(F,N){x.add(F,N),this.emit(f.DECODED,F),0==--b&&this.emit(f.DECODED_ALL)}.bind(this,A),R=function(F,N){console.error("Error decoding audio: "+F+" - ",N?N.message:""),0==--b&&this.emit(f.DECODED_ALL)}.bind(this,A);this.context.decodeAudioData(M,I,R)}},setListenerPosition:function(u,m){return void 0===u&&(u=this.game.scale.width/2),void 0===m&&(m=this.game.scale.height/2),this.listenerPosition.set(u,m),this},unlock:function(){var u=this,m=document.body,v=function x(){if(u.context&&m){var b=m.removeEventListener.bind(m);u.context.resume().then(function(){b("touchstart",x),b("touchend",x),b("click",x),b("keydown",x),u.unlocked=!0},function(){b("touchstart",x),b("touchend",x),b("click",x),b("keydown",x)})}};m&&(m.addEventListener("touchstart",v,!1),m.addEventListener("touchend",v,!1),m.addEventListener("click",v,!1),m.addEventListener("keydown",v,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var u=this.context;u&&!this.locked&&("suspended"===u.state||"interrupted"===u.state)&&u.resume()},update:function(u,m){var v=this.context.listener;if(v&&void 0!==v.positionX){var x=h(this.listenerPosition,"x",null),b=h(this.listenerPosition,"y",null);x&&x!==this._spatialx&&(this._spatialx=v.positionX.value=x),b&&b!==this._spatialy&&(this._spatialy=v.positionY.value=b)}C.prototype.update.call(this,u,m),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var u=this;this.context.close().then(function(){u.context=null})}C.prototype.destroy.call(this)},setMute:function(u){return this.mute=u,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(u){this.masterMuteNode.gain.setValueAtTime(u?0:1,0),this.emit(f.GLOBAL_MUTE,this,u)}},setVolume:function(u){return this.volume=u,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(u){this.masterVolumeNode.gain.setValueAtTime(u,0),this.emit(f.GLOBAL_VOLUME,this,u)}}});S.exports=p},73162:(S,P,a)=>{var y=a(37105),C=a(83419),g=a(29747),f=a(19186),d=new C({initialize:function(h){this.parent=h,this.list=[],this.position=0,this.addCallback=g,this.removeCallback=g,this._sortKey=""},add:function(c,h){return h?y.Add(this.list,c):y.Add(this.list,c,0,this.addCallback,this)},addAt:function(c,h,p){return p?y.AddAt(this.list,c,h):y.AddAt(this.list,c,h,0,this.addCallback,this)},getAt:function(c){return this.list[c]},getIndex:function(c){return this.list.indexOf(c)},sort:function(c,h){return c?(void 0===h&&(h=function(p,u){return p[c]-u[c]}),f(this.list,h),this):this},getByName:function(c){return y.GetFirst(this.list,"name",c)},getRandom:function(c,h){return y.GetRandom(this.list,c,h)},getFirst:function(c,h,p,u){return y.GetFirst(this.list,c,h,p,u)},getAll:function(c,h,p,u){return y.GetAll(this.list,c,h,p,u)},count:function(c,h){return y.CountAllMatching(this.list,c,h)},swap:function(c,h){y.Swap(this.list,c,h)},moveTo:function(c,h){return y.MoveTo(this.list,c,h)},moveAbove:function(c,h){return y.MoveAbove(this.list,c,h)},moveBelow:function(c,h){return y.MoveBelow(this.list,c,h)},remove:function(c,h){return h?y.Remove(this.list,c):y.Remove(this.list,c,this.removeCallback,this)},removeAt:function(c,h){return h?y.RemoveAt(this.list,c):y.RemoveAt(this.list,c,this.removeCallback,this)},removeBetween:function(c,h,p){return p?y.RemoveBetween(this.list,c,h):y.RemoveBetween(this.list,c,h,this.removeCallback,this)},removeAll:function(c){for(var h=this.list.length;h--;)this.remove(this.list[h],c);return this},bringToTop:function(c){return y.BringToTop(this.list,c)},sendToBack:function(c){return y.SendToBack(this.list,c)},moveUp:function(c){return y.MoveUp(this.list,c),c},moveDown:function(c){return y.MoveDown(this.list,c),c},reverse:function(){return this.list.reverse(),this},shuffle:function(){return y.Shuffle(this.list),this},replace:function(c,h){return y.Replace(this.list,c,h)},exists:function(c){return this.list.indexOf(c)>-1},setAll:function(c,h,p,u){return y.SetAll(this.list,c,h,p,u),this},each:function(c,h){for(var p=[null],u=2;u<arguments.length;u++)p.push(arguments[u]);for(u=0;u<this.list.length;u++)p[0]=this.list[u],c.apply(h,p)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});S.exports=d},90330:(S,P,a)=>{var C=new(a(83419))({initialize:function(f){this.entries={},this.size=0,this.setAll(f)},setAll:function(g){if(Array.isArray(g))for(var f=0;f<g.length;f++)this.set(g[f][0],g[f][1]);return this},set:function(g,f){return this.has(g)||this.size++,this.entries[g]=f,this},get:function(g){if(this.has(g))return this.entries[g]},getArray:function(){var g=[],f=this.entries;for(var d in f)g.push(f[d]);return g},has:function(g){return this.entries.hasOwnProperty(g)},delete:function(g){return this.has(g)&&(delete this.entries[g],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(g){delete this.entries[g]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var g=[],f=this.entries;for(var d in f)g.push(f[d]);return g},dump:function(){var g=this.entries;for(var f in console.group("Map"),g)console.log(f,g[f]);console.groupEnd()},each:function(g){var f=this.entries;for(var d in f)if(!1===g(d,f[d]))break;return this},contains:function(g){var f=this.entries;for(var d in f)if(f[d]===g)return!0;return!1},merge:function(g,f){void 0===f&&(f=!1);var d=this.entries,c=g.entries;for(var h in c)d.hasOwnProperty(h)&&f?d[h]=c[h]:this.set(h,c[h]);return this}});S.exports=C},25774:(S,P,a)=>{var y=a(83419),C=a(50792),g=a(82348),f=new y({Extends:C,initialize:function(){C.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(d){return this._active.indexOf(d)>-1},isPending:function(d){return this._toProcess>0&&this._pending.indexOf(d)>-1},isDestroying:function(d){return this._destroy.indexOf(d)>-1},add:function(d){return this.checkQueue&&this.isActive(d)&&!this.isDestroying(d)||this.isPending(d)||(this._pending.push(d),this._toProcess++),d},remove:function(d){if(this.isPending(d)){var c=this._pending,h=c.indexOf(d);-1!==h&&c.splice(h,1)}else this.isActive(d)&&(this._destroy.push(d),this._toProcess++);return d},removeAll:function(){for(var d=this._active,c=this._destroy,h=d.length;h--;)c.push(d[h]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var h,p,d=this._destroy,c=this._active;for(h=0;h<d.length;h++){var u=c.indexOf(p=d[h]);-1!==u&&(c.splice(u,1),this.emit(g.PROCESS_QUEUE_REMOVE,p))}for(d.length=0,d=this._pending,h=0;h<d.length;h++)p=d[h],(!this.checkQueue||this.checkQueue&&-1===c.indexOf(p))&&(c.push(p),this.emit(g.PROCESS_QUEUE_ADD,p));return d.length=0,this._toProcess=0,c},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});S.exports=f},59542:(S,P,a)=>{var y=a(43886);function C(M){if(!(this instanceof C))return new C(M,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,M||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function g(M,I,R){if(!R)return I.indexOf(M);for(var F=0;F<I.length;F++)if(R(M,I[F]))return F;return-1}function f(M,I){d(M,0,M.children.length,I,M)}function d(M,I,R,F,N){N||(N=_(null)),N.minX=1/0,N.minY=1/0,N.maxX=-1/0,N.maxY=-1/0;for(var B,V=I;V<R;V++)B=M.children[V],c(N,M.leaf?F(B):B);return N}function c(M,I){return M.minX=Math.min(M.minX,I.minX),M.minY=Math.min(M.minY,I.minY),M.maxX=Math.max(M.maxX,I.maxX),M.maxY=Math.max(M.maxY,I.maxY),M}function h(M,I){return M.minX-I.minX}function p(M,I){return M.minY-I.minY}function u(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function m(M){return M.maxX-M.minX+(M.maxY-M.minY)}function v(M,I){return(Math.max(I.maxX,M.maxX)-Math.min(I.minX,M.minX))*(Math.max(I.maxY,M.maxY)-Math.min(I.minY,M.minY))}function x(M,I){var R=Math.max(M.minX,I.minX),F=Math.max(M.minY,I.minY),N=Math.min(M.maxX,I.maxX),V=Math.min(M.maxY,I.maxY);return Math.max(0,N-R)*Math.max(0,V-F)}function b(M,I){return M.minX<=I.minX&&M.minY<=I.minY&&I.maxX<=M.maxX&&I.maxY<=M.maxY}function T(M,I){return I.minX<=M.maxX&&I.minY<=M.maxY&&I.maxX>=M.minX&&I.maxY>=M.minY}function _(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function A(M,I,R,F,N){for(var B,V=[I,R];V.length;)!((R=V.pop())-(I=V.pop())<=F)&&(B=I+Math.ceil((R-I)/F/2)*F,y(M,B,I,R,N),V.push(I,B,B,R))}C.prototype={all:function(){return this._all(this.data,[])},search:function(M){var I=this.data,R=[],F=this.toBBox;if(!T(M,I))return R;for(var V,B,G,Q,N=[];I;){for(V=0,B=I.children.length;V<B;V++)G=I.children[V],T(M,Q=I.leaf?F(G):G)&&(I.leaf?R.push(G):b(M,Q)?this._all(G,R):N.push(G));I=N.pop()}return R},collides:function(M){var I=this.data,R=this.toBBox;if(!T(M,I))return!1;for(var N,V,B,G,F=[];I;){for(N=0,V=I.children.length;N<V;N++)if(B=I.children[N],T(M,G=I.leaf?R(B):B)){if(I.leaf||b(M,G))return!0;F.push(B)}I=F.pop()}return!1},load:function(M){if(!M||!M.length)return this;if(M.length<this._minEntries){for(var I=0,R=M.length;I<R;I++)this.insert(M[I]);return this}var F=this._build(M.slice(),0,M.length-1,0);if(this.data.children.length)if(this.data.height===F.height)this._splitRoot(this.data,F);else{if(this.data.height<F.height){var N=this.data;this.data=F,F=N}this._insert(F,this.data.height-F.height-1,!0)}else this.data=F;return this},insert:function(M){return M&&this._insert(M,this.data.height-1),this},clear:function(){return this.data=_([]),this},remove:function(M,I){if(!M)return this;for(var B,G,Q,H,R=this.data,F=this.toBBox(M),N=[],V=[];R||N.length;){if(R||(R=N.pop(),G=N[N.length-1],B=V.pop(),H=!0),R.leaf&&-1!==(Q=g(M,R.children,I)))return R.children.splice(Q,1),N.push(R),this._condense(N),this;H||R.leaf||!b(R,F)?G?(B++,R=G.children[B],H=!1):R=null:(N.push(R),V.push(B),B=0,G=R,R=R.children[0])}return this},toBBox:function(M){return M},compareMinX:h,compareMinY:p,toJSON:function(){return this.data},fromJSON:function(M){return this.data=M,this},_all:function(M,I){for(var R=[];M;)M.leaf?I.push.apply(I,M.children):R.push.apply(R,M.children),M=R.pop();return I},_build:function(M,I,R,F){var B,N=R-I+1,V=this._maxEntries;if(N<=V)return f(B=_(M.slice(I,R+1)),this.toBBox),B;F||(F=Math.ceil(Math.log(N)/Math.log(V)),V=Math.ceil(N/Math.pow(V,F-1))),(B=_([])).leaf=!1,B.height=F;var H,K,tt,at,G=Math.ceil(N/V),Q=G*Math.ceil(Math.sqrt(V));for(A(M,I,R,Q,this.compareMinX),H=I;H<=R;H+=Q)for(A(M,H,tt=Math.min(H+Q-1,R),G,this.compareMinY),K=H;K<=tt;K+=G)at=Math.min(K+G-1,tt),B.children.push(this._build(M,K,at,F-1));return f(B,this.toBBox),B},_chooseSubtree:function(M,I,R,F){for(var N,V,B,G,Q,H,K,tt;F.push(I),!I.leaf&&F.length-1!==R;){for(K=tt=1/0,N=0,V=I.children.length;N<V;N++)Q=u(B=I.children[N]),(H=v(M,B)-Q)<tt?(tt=H,K=Q<K?Q:K,G=B):H===tt&&Q<K&&(K=Q,G=B);I=G||I.children[0]}return I},_insert:function(M,I,R){var N=R?M:(0,this.toBBox)(M),V=[],B=this._chooseSubtree(N,this.data,I,V);for(B.children.push(M),c(B,N);I>=0&&V[I].children.length>this._maxEntries;)this._split(V,I),I--;this._adjustParentBBoxes(N,V,I)},_split:function(M,I){var R=M[I],F=R.children.length,N=this._minEntries;this._chooseSplitAxis(R,N,F);var V=this._chooseSplitIndex(R,N,F),B=_(R.children.splice(V,R.children.length-V));B.height=R.height,B.leaf=R.leaf,f(R,this.toBBox),f(B,this.toBBox),I?M[I-1].children.push(B):this._splitRoot(R,B)},_splitRoot:function(M,I){this.data=_([M,I]),this.data.height=M.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},_chooseSplitIndex:function(M,I,R){var F,N,V,B,G,Q,H,K;for(Q=H=1/0,F=I;F<=R-I;F++)B=x(N=d(M,0,F,this.toBBox),V=d(M,F,R,this.toBBox)),G=u(N)+u(V),B<Q?(Q=B,K=F,H=G<H?G:H):B===Q&&G<H&&(H=G,K=F);return K},_chooseSplitAxis:function(M,I,R){var F=M.leaf?this.compareMinX:h,N=M.leaf?this.compareMinY:p;this._allDistMargin(M,I,R,F)<this._allDistMargin(M,I,R,N)&&M.children.sort(F)},_allDistMargin:function(M,I,R,F){M.children.sort(F);var Q,H,N=this.toBBox,V=d(M,0,I,N),B=d(M,R-I,R,N),G=m(V)+m(B);for(Q=I;Q<R-I;Q++)H=M.children[Q],c(V,M.leaf?N(H):H),G+=m(V);for(Q=R-I-1;Q>=I;Q--)H=M.children[Q],c(B,M.leaf?N(H):H),G+=m(B);return G},_adjustParentBBoxes:function(M,I,R){for(var F=R;F>=0;F--)c(I[F],M)},_condense:function(M){for(var R,I=M.length-1;I>=0;I--)0===M[I].children.length?I>0?(R=M[I-1].children).splice(R.indexOf(M[I]),1):this.clear():f(M[I],this.toBBox)},compareMinX:function(M,I){return M.left-I.left},compareMinY:function(M,I){return M.top-I.top},toBBox:function(M){return{minX:M.left,minY:M.top,maxX:M.right,maxY:M.bottom}}},S.exports=C},35072:(S,P,a)=>{var C=new(a(83419))({initialize:function(f){if(this.entries=[],Array.isArray(f))for(var d=0;d<f.length;d++)this.set(f[d])},set:function(g){return-1===this.entries.indexOf(g)&&this.entries.push(g),this},get:function(g,f){for(var d=0;d<this.entries.length;d++){var c=this.entries[d];if(c[g]===f)return c}},getArray:function(){return this.entries.slice(0)},delete:function(g){var f=this.entries.indexOf(g);return f>-1&&this.entries.splice(f,1),this},dump:function(){console.group("Set");for(var g=0;g<this.entries.length;g++)console.log(this.entries[g]);console.groupEnd()},each:function(g,f){var d,c=this.entries.slice(),h=c.length;if(f)for(d=0;d<h&&!1!==g.call(f,c[d],d);d++);else for(d=0;d<h&&!1!==g(c[d],d);d++);return this},iterate:function(g,f){var d,c=this.entries.length;if(f)for(d=0;d<c&&!1!==g.call(f,this.entries[d],d);d++);else for(d=0;d<c&&!1!==g(this.entries[d],d);d++);return this},iterateLocal:function(g){var f,d=[];for(f=1;f<arguments.length;f++)d.push(arguments[f]);var c=this.entries.length;for(f=0;f<c;f++){var h=this.entries[f];h[g].apply(h,d)}return this},clear:function(){return this.entries.length=0,this},contains:function(g){return this.entries.indexOf(g)>-1},union:function(g){var f=new C;return g.entries.forEach(function(d){f.set(d)}),this.entries.forEach(function(d){f.set(d)}),f},intersect:function(g){var f=new C;return this.entries.forEach(function(d){g.contains(d)&&f.set(d)}),f},difference:function(g){var f=new C;return this.entries.forEach(function(d){g.contains(d)||f.set(d)}),f},size:{get:function(){return this.entries.length},set:function(g){return g<this.entries.length?this.entries.length=g:this.entries.length}}});S.exports=C},86555:(S,P,a)=>{var y=a(45319),C=a(83419),g=a(56583),f=a(26099),d=new C({initialize:function(h,p,u,m){void 0===h&&(h=0),void 0===p&&(p=h),void 0===u&&(u=0),void 0===m&&(m=null),this._width=h,this._height=p,this._parent=m,this.aspectMode=u,this.aspectRatio=0===p?1:h/p,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new f},setAspectMode:function(c){return void 0===c&&(c=0),this.aspectMode=c,this.setSize(this._width,this._height)},setSnap:function(c,h){return void 0===c&&(c=0),void 0===h&&(h=c),this.snapTo.set(c,h),this.setSize(this._width,this._height)},setParent:function(c){return this._parent=c,this.setSize(this._width,this._height)},setMin:function(c,h){return void 0===c&&(c=0),void 0===h&&(h=c),this.minWidth=y(c,0,this.maxWidth),this.minHeight=y(h,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(c,h){return void 0===c&&(c=Number.MAX_VALUE),void 0===h&&(h=c),this.maxWidth=y(c,this.minWidth,Number.MAX_VALUE),this.maxHeight=y(h,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(c,h){switch(void 0===c&&(c=0),void 0===h&&(h=c),this.aspectMode){case d.NONE:this._width=this.getNewWidth(g(c,this.snapTo.x)),this._height=this.getNewHeight(g(h,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case d.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(g(c,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case d.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(g(h,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case d.FIT:this.constrain(c,h,!0);break;case d.ENVELOP:this.constrain(c,h,!1)}return this},setAspectRatio:function(c){return this.aspectRatio=c,this.setSize(this._width,this._height)},resize:function(c,h){return this._width=this.getNewWidth(g(c,this.snapTo.x)),this._height=this.getNewHeight(g(h,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(c,h){return void 0===h&&(h=!0),c=y(c,this.minWidth,this.maxWidth),h&&this._parent&&c>this._parent.width&&(c=Math.max(this.minWidth,this._parent.width)),c},getNewHeight:function(c,h){return void 0===h&&(h=!0),c=y(c,this.minHeight,this.maxHeight),h&&this._parent&&c>this._parent.height&&(c=Math.max(this.minHeight,this._parent.height)),c},constrain:function(c,h,p){void 0===c&&(c=0),void 0===h&&(h=c),void 0===p&&(p=!0),c=this.getNewWidth(c),h=this.getNewHeight(h);var u=this.snapTo,m=0===h?1:c/h;return p&&this.aspectRatio>m||!p&&this.aspectRatio<m?(h=(c=g(c,u.x))/this.aspectRatio,u.y>0&&(c=(h=g(h,u.y))*this.aspectRatio)):(p&&this.aspectRatio<m||!p&&this.aspectRatio>m)&&(c=(h=g(h,u.y))*this.aspectRatio,u.x>0&&(h=(c=g(c,u.x))*(1/this.aspectRatio))),this._width=c,this._height=h,this},fitTo:function(c,h){return this.constrain(c,h,!0)},envelop:function(c,h){return this.constrain(c,h,!1)},setWidth:function(c){return this.setSize(c,this._height)},setHeight:function(c){return this.setSize(this._width,c)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(c){c&&c.style&&(c.style.width=this._width+"px",c.style.height=this._height+"px")},copy:function(c){return c.setAspectMode(this.aspectMode),c.aspectRatio=this.aspectRatio,c.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(c){this.setSize(c,this._height)}},height:{get:function(){return this._height},set:function(c){this.setSize(this._width,c)}}});d.NONE=0,d.WIDTH_CONTROLS_HEIGHT=1,d.HEIGHT_CONTROLS_WIDTH=2,d.FIT=3,d.ENVELOP=4,S.exports=d},15238:S=>{S.exports="add"},56187:S=>{S.exports="remove"},82348:(S,P,a)=>{S.exports={PROCESS_QUEUE_ADD:a(15238),PROCESS_QUEUE_REMOVE:a(56187)}},41392:(S,P,a)=>{S.exports={Events:a(82348),List:a(73162),Map:a(90330),ProcessQueue:a(25774),RTree:a(59542),Set:a(35072),Size:a(86555)}},57382:(S,P,a)=>{var y=a(83419),C=a(45319),g=a(40987),f=a(8054),d=a(50030),c=a(79237),h=new y({Extends:c,initialize:function(u,m,v,x,b){c.call(this,u,m,v,x,b),this.add("__BASE",0,0,0,x,b),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=x,this.height=b,this.imageData=this.context.getImageData(0,0,x,b),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===f.WEBGL&&this.refresh(),this},draw:function(p,u,m,v){return void 0===v&&(v=!0),this.context.drawImage(m,p,u),v&&this.update(),this},drawFrame:function(p,u,m,v,x){void 0===m&&(m=0),void 0===v&&(v=0),void 0===x&&(x=!0);var b=this.manager.getFrame(p,u);if(b){var T=b.canvasData,_=b.cutWidth,A=b.cutHeight,M=b.source.resolution;this.context.drawImage(b.source.image,T.x,T.y,_,A,m,v,_/M,A/M),x&&this.update()}return this},setPixel:function(p,u,m,v,x,b){if(void 0===b&&(b=255),p=Math.abs(Math.floor(p)),u=Math.abs(Math.floor(u)),this.getIndex(p,u)>-1){var _=this.context.getImageData(p,u,1,1);_.data[0]=m,_.data[1]=v,_.data[2]=x,_.data[3]=b,this.context.putImageData(_,p,u)}return this},putData:function(p,u,m,v,x,b,T){return void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=p.width),void 0===T&&(T=p.height),this.context.putImageData(p,u,m,v,x,b,T),this},getData:function(p,u,m,v){return p=C(Math.floor(p),0,this.width-1),u=C(Math.floor(u),0,this.height-1),m=C(m,1,this.width-p),v=C(v,1,this.height-u),this.context.getImageData(p,u,m,v)},getPixel:function(p,u,m){m||(m=new g);var v=this.getIndex(p,u);if(v>-1){var x=this.data;m.setTo(x[v+0],x[v+1],x[v+2],x[v+3])}return m},getPixels:function(p,u,m,v){void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=this.width),void 0===v&&(v=m),p=Math.abs(Math.round(p)),u=Math.abs(Math.round(u));for(var x=C(p,0,this.width),b=C(p+m,0,this.width),T=C(u,0,this.height),_=C(u+v,0,this.height),A=new g,M=[],I=T;I<_;I++){for(var R=[],F=x;F<b;F++)A=this.getPixel(F,I,A),R.push({x:F,y:I,color:A.color,alpha:A.alphaGL});M.push(R)}return M},getIndex:function(p,u){return p=Math.abs(Math.round(p)),u=Math.abs(Math.round(u)),p<this.width&&u<this.height?4*(p+u*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(p,u,m,v,x){return void 0===p&&(p=0),void 0===u&&(u=0),void 0===m&&(m=this.width),void 0===v&&(v=this.height),void 0===x&&(x=!0),this.context.clearRect(p,u,m,v),x&&this.update(),this},setSize:function(p,u){return void 0===u&&(u=p),(p!==this.width||u!==this.height)&&(this.canvas.width=p,this.canvas.height=u,this._source.width=p,this._source.height=u,this._source.isPowerOf2=d(p,u),this.frames.__BASE.setSize(p,u,0,0),this.width=p,this.height=u,this.refresh()),this},destroy:function(){c.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});S.exports=h},81320:(S,P,a)=>{var y=a(10312),C=a(38058),g=a(27919),f=a(83419),d=a(8054),c=a(4327),h=a(95540),p=a(36060),u=a(32302),m=a(79237),v=a(70554),x=new f({Extends:m,initialize:function(T,_,A,M){void 0===A&&(A=256),void 0===M&&(M=256),this.type="DynamicTexture";var I=T.game.renderer,R=I&&I.type===d.CANVAS,F=R?g.create2D(this,A,M):[this];m.call(this,T,_,F,A,M),this.add("__BASE",0,0,0,A,M),this.renderer=I,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=R?F:null,this.context=R?F.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new C(0,0,A,M).setScene(T.game.scene.systemScene,!1),this.renderTarget=R?null:new u(I,A,M,1,0,!1,!1,!0,!1),this.pipeline=R?null:I.pipelines.get(p.SINGLE_PIPELINE),this.setSize(A,M)},setSize:function(b,T){void 0===T&&(T=b);var _=this.get(),A=_.source;if(b!==this.width||T!==this.height){this.canvas&&(this.canvas.width=b,this.canvas.height=T);var M=this.renderTarget;M&&(M.willResize(b,T)&&M.resize(b,T),M.texture!==A.glTexture&&this.renderer.deleteTexture(A.glTexture),this.setFromRenderTarget()),this.camera.setSize(b,T),A.width=b,A.height=T,_.setSize(b,T),this.width=b,this.height=T}else{var I=this.getSourceImage();_.cutX+b>I.width&&(b=I.width-_.cutX),_.cutY+T>I.height&&(T=I.height-_.cutY),_.setSize(b,T,_.cutX,_.cutY)}return this},setFromRenderTarget:function(){var T=this.get().source,_=this.renderTarget;return T.isRenderTexture=!0,T.isGLTexture=!0,T.glTexture=_.texture,this},setIsSpriteTexture:function(b){return this.isSpriteTexture=b,this},fill:function(b,T,_,A,M,I){var F=this.renderer;void 0===T&&(T=1),void 0===_&&(_=0),void 0===A&&(A=0),void 0===M&&(M=this.width),void 0===I&&(I=this.height);var N=b>>16&255,V=b>>8&255,B=255&b,G=this.renderTarget;if(this.camera.preRender(),G){G.bind(!0);var Q=this.pipeline.manager.set(this.pipeline),H=F.width/G.width,K=F.height/G.height;Q.drawFillRect(_*H,(G.height-(A+I))*K,M*H,I*K,v.getTintFromFloats(B/255,V/255,N/255,1),T),G.unbind(!0)}else{var at=this.context;F.setContext(at),at.globalCompositeOperation="source-over",at.fillStyle="rgba("+N+","+V+","+B+","+T+")",at.fillRect(_,A,M,I),F.setContext()}return this.dirty=!0,this},clear:function(b,T,_,A){if(this.dirty){var M=this.context,I=this.renderTarget;I?I.clear(b,T,_,A):M&&(void 0!==b&&void 0!==T&&void 0!==_&&void 0!==A?M.clearRect(b,T,_,A):(M.save(),M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,this.width,this.height),M.restore())),this.dirty=!1}return this},stamp:function(b,T,_,A,M){void 0===_&&(_=0),void 0===A&&(A=0);var I=h(M,"alpha",1),R=h(M,"tint",16777215),F=h(M,"angle",0),N=h(M,"rotation",0),V=h(M,"scale",1),B=h(M,"scaleX",V),G=h(M,"scaleY",V),Q=h(M,"originX",.5),H=h(M,"originY",.5),K=h(M,"blendMode",0),tt=h(M,"erase",!1),at=h(M,"skipBatch",!1),lt=this.manager.resetStamp(I,R);return lt.setAngle(0),0!==F?lt.setAngle(F):0!==N&&lt.setRotation(N),lt.setScale(B,G),lt.setTexture(b,T),lt.setOrigin(Q,H),lt.setBlendMode(K),tt&&(this._eraseMode=!0),at?this.batchGameObject(lt,_,A):this.draw(lt,_,A),tt&&(this._eraseMode=!1),this},erase:function(b,T,_){return this._eraseMode=!0,this.draw(b,T,_),this._eraseMode=!1,this},draw:function(b,T,_,A,M){return this.beginDraw(),this.batchDraw(b,T,_,A,M),this.endDraw(),this},drawFrame:function(b,T,_,A,M,I){return this.beginDraw(),this.batchDrawFrame(b,T,_,A,M,I),this.endDraw(),this},repeat:function(b,T,_,A,M,I,R,F,N){if(void 0===_&&(_=0),void 0===A&&(A=0),void 0===M&&(M=this.width),void 0===I&&(I=this.height),void 0===R&&(R=1),void 0===F&&(F=16777215),void 0===N&&(N=!1),!(T=b instanceof c?b:this.manager.getFrame(b,T)))return this;var V=this.manager.resetStamp(R,F);V.setFrame(T),V.setOrigin(0);var B=T.width,G=T.height;M=Math.floor(M),I=Math.floor(I);var Q=Math.ceil(M/B),H=Math.ceil(I/G),K=Q*B-M,tt=H*G-I;K>0&&(K=B-K),tt>0&&(tt=G-tt),_<0&&(Q+=Math.ceil(Math.abs(_)/B)),A<0&&(H+=Math.ceil(Math.abs(A)/G));var at=_,lt=A,q=!1,it=this.manager.stampCrop.setTo(0,0,B,G);N||this.beginDraw();for(var Y=0;Y<H;Y++)if(lt+G<0)lt+=G;else{for(var X=0;X<Q;X++)q=!1,at+B<0||(at<0&&(q=!0,it.width=B+at,it.x=B-it.width),lt<0&&(q=!0,it.height=G+lt,it.y=G-it.height),K>0&&X===Q-1&&(q=!0,it.width=K),tt>0&&Y===H-1&&(q=!0,it.height=tt),q&&V.setCrop(it),this.batchGameObject(V,at,lt),V.isCropped=!1,it.setTo(0,0,B,G)),at+=B;at=_,lt+=G}return N||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var T=this.renderer,_=this.renderTarget;this.camera.preRender(),_?T.beginCapture(_.width,_.height):T.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(b,T,_,A,M){return Array.isArray(b)||(b=[b]),this.batchList(b,T,_,A,M),this},batchDrawFrame:function(b,T,_,A,M,I){void 0===_&&(_=0),void 0===A&&(A=0),void 0===M&&(M=1),void 0===I&&(I=16777215);var R=this.manager.getFrame(b,T);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,_,A,I,M,this.camera.matrix,null):this.batchTextureFrame(R,_,A,M,I)),this},endDraw:function(b){if(void 0===b&&(b=this._eraseMode),this.isDrawing){var T=this.renderer,_=this.renderTarget;if(_){var A=T.endCapture();T.pipelines.setUtility().blitFrame(A,_,1,!1,!1,b,this.isSpriteTexture),T.resetScissor(),T.resetViewport()}else T.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(b,T,_,A,M){var I=b.length;if(0!==I)for(var R=0;R<I;R++){var F=b[R];!F||F===this||(F.renderWebGL||F.renderCanvas?this.batchGameObject(F,T,_):F.isParent||F.list?this.batchGroup(F.getChildren(),T,_):"string"==typeof F?this.batchTextureFrameKey(F,null,T,_,A,M):F instanceof c?this.batchTextureFrame(F,T,_,A,M):Array.isArray(F)&&this.batchList(F,T,_,A,M))}},batchGroup:function(b,T,_){void 0===T&&(T=0),void 0===_&&(_=0);for(var A=0;A<b.length;A++){var M=b[A];M.willRender(this.camera)&&this.batchGameObject(M,M.x+T,M.y+_)}},batchGameObject:function(b,T,_){void 0===T&&(T=b.x),void 0===_&&(_=b.y);var A=b.x,M=b.y,I=this.camera,R=this.renderer,F=this._eraseMode,N=b.mask;if(b.setPosition(T,_),this.canvas){if(F){var V=b.blendMode;b.blendMode=y.ERASE}N&&N.preRenderCanvas(R,b,I),b.renderCanvas(R,b,I,null),N&&N.postRenderCanvas(R,b,I),F&&(b.blendMode=V)}else R&&(N&&N.preRenderWebGL(R,b,I),F||R.setBlendMode(b.blendMode),b.renderWebGL(R,b,I),N&&N.postRenderWebGL(R,I,this.renderTarget));b.setPosition(A,M)},batchTextureFrameKey:function(b,T,_,A,M,I){var R=this.manager.getFrame(b,T);R&&this.batchTextureFrame(R,_,A,M,I)},batchTextureFrame:function(b,T,_,A,M){void 0===T&&(T=0),void 0===_&&(_=0),void 0===A&&(A=1),void 0===M&&(M=16777215);var I=this.camera.matrix;if(this.renderTarget)this.pipeline.batchTextureFrame(b,T,_,M,A,I,null);else{var F=this.context,N=b.canvasData,V=b.source.image;F.save(),F.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",F.globalAlpha=A,I.setToContext(F),N.width>0&&N.height>0&&F.drawImage(V,N.x,N.y,N.width,N.height,T,_,N.width,N.height),F.restore()}},snapshotArea:function(b,T,_,A,M,I,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,M,!1,b,T,_,A,I,R):this.renderer.snapshotCanvas(this.canvas,M,!1,b,T,_,A,I,R),this},snapshot:function(b,T,_){return this.snapshotArea(0,0,this.width,this.height,b,T,_)},snapshotPixel:function(b,T,_){return this.snapshotArea(b,T,1,1,_,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(b,T,_,A){var M=this.manager.resetStamp();M.setTexture(this),M.setOrigin(0),M.renderWebGL(b,M,_,A)},renderCanvas:function(){},destroy:function(){var b=this.manager.stamp;b&&b.texture===this&&this.manager.resetStamp(),m.prototype.destroy.call(this),g.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});S.exports=x},4327:(S,P,a)=>{var y=a(83419),C=a(45319),g=a(79291),f=new y({initialize:function(c,h,p,u,m,v,x){this.texture=c,this.name=h,this.source=c.source[p],this.sourceIndex=p,this.x=0,this.y=0,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(v,x,u,m)},setCutPosition:function(d,c){return void 0===d&&(d=0),void 0===c&&(c=0),this.cutX=d,this.cutY=c,this.updateUVs()},setCutSize:function(d,c){return this.cutWidth=d,this.cutHeight=c,this.updateUVs()},setSize:function(d,c,h,p){void 0===h&&(h=0),void 0===p&&(p=0),this.setCutPosition(h,p),this.setCutSize(d,c),this.width=d,this.height=c,this.halfWidth=Math.floor(.5*d),this.halfHeight=Math.floor(.5*c),this.centerX=Math.floor(d/2),this.centerY=Math.floor(c/2);var u=this.data,m=u.cut;m.x=h,m.y=p,m.w=d,m.h=c,m.r=h+d,m.b=p+c,u.sourceSize.w=d,u.sourceSize.h=c,u.spriteSourceSize.w=d,u.spriteSourceSize.h=c,u.radius=.5*Math.sqrt(d*d+c*c);var v=u.drawImage;return v.x=h,v.y=p,v.width=d,v.height=c,this.updateUVs()},setTrim:function(d,c,h,p,u,m){var v=this.data,x=v.spriteSourceSize;return v.trim=!0,v.sourceSize.w=d,v.sourceSize.h=c,x.x=h,x.y=p,x.w=u,x.h=m,x.r=h+u,x.b=p+m,this.x=h,this.y=p,this.width=u,this.height=m,this.halfWidth=.5*u,this.halfHeight=.5*m,this.centerX=Math.floor(u/2),this.centerY=Math.floor(m/2),this.updateUVs()},setScale9:function(d,c,h,p){var u=this.data;return u.scale9=!0,u.is3Slice=0===c&&p===this.height,u.scale9Borders.x=d,u.scale9Borders.y=c,u.scale9Borders.w=h,u.scale9Borders.h=p,this},setCropUVs:function(d,c,h,p,u,m,v){var x=this.cutX,b=this.cutY,T=this.cutWidth,_=this.cutHeight,A=this.realWidth,M=this.realHeight,I=x+(c=C(c,0,A)),R=b+(h=C(h,0,M)),F=p=C(p,0,A-c),N=u=C(u,0,M-h),V=this.data;if(V.trim){var B=V.spriteSourceSize,G=c+(p=C(p,0,T-c)),Q=h+(u=C(u,0,_-h));if(B.r<c||B.b<h||B.x>G||B.y>Q)I=0,R=0,F=0,N=0;else{var K=Math.max(B.x,c),tt=Math.max(B.y,h),at=Math.min(B.r,G)-K,lt=Math.min(B.b,Q)-tt;F=at,N=lt,I=m?x+(T-(K-B.x)-at):x+(K-B.x),R=v?b+(_-(tt-B.y)-lt):b+(tt-B.y),c=K,h=tt,p=at,u=lt}}else m&&(I=x+(T-c-p)),v&&(R=b+(_-h-u));var q=this.source.width,it=this.source.height;return d.u0=Math.max(0,I/q),d.v0=Math.max(0,R/it),d.u1=Math.min(1,(I+F)/q),d.v1=Math.min(1,(R+N)/it),d.x=c,d.y=h,d.cx=I,d.cy=R,d.cw=F,d.ch=N,d.width=p,d.height=u,d.flipX=m,d.flipY=v,d},updateCropUVs:function(d,c,h){return this.setCropUVs(d,d.x,d.y,d.width,d.height,c,h)},setUVs:function(d,c,h,p,u,m){var v=this.data.drawImage;return v.width=d,v.height=c,this.u0=h,this.v0=p,this.u1=u,this.v1=m,this},updateUVs:function(){var d=this.cutX,c=this.cutY,h=this.cutWidth,p=this.cutHeight,u=this.data.drawImage;u.width=h,u.height=p;var m=this.source.width,v=this.source.height;return this.u0=d/m,this.v0=c/v,this.u1=(d+h)/m,this.v1=(c+p)/v,this},updateUVsInverted:function(){var d=this.source.width,c=this.source.height;return this.u0=(this.cutX+this.cutHeight)/d,this.v0=this.cutY/c,this.u1=this.cutX/d,this.v1=(this.cutY+this.cutWidth)/c,this},clone:function(){var d=new f(this.texture,this.name,this.sourceIndex);return d.cutX=this.cutX,d.cutY=this.cutY,d.cutWidth=this.cutWidth,d.cutHeight=this.cutHeight,d.x=this.x,d.y=this.y,d.width=this.width,d.height=this.height,d.halfWidth=this.halfWidth,d.halfHeight=this.halfHeight,d.centerX=this.centerX,d.centerY=this.centerY,d.rotated=this.rotated,d.data=g(!0,d.data,this.data),d.updateUVs(),d},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});S.exports=f},79237:(S,P,a)=>{var y=a(83419),C=a(4327),g=a(11876),f='Texture "%s" has no frame "%s"',d=new y({initialize:function(h,p,u,m,v){Array.isArray(u)||(u=[u]),this.manager=h,this.key=p,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var x=0;x<u.length;x++)this.source.push(new g(this,u[x],m,v))},add:function(c,h,p,u,m,v){if(this.has(c))return null;var x=new C(this,c,h,p,u,m,v);return this.frames[c]=x,"__BASE"===this.firstFrame&&(this.firstFrame=c),this.frameTotal++,x},remove:function(c){return!!this.has(c)&&(this.get(c).destroy(),delete this.frames[c],!0)},has:function(c){return this.frames.hasOwnProperty(c)},get:function(c){c||(c=this.firstFrame);var h=this.frames[c];return h||(console.warn(f,this.key,c),h=this.frames[this.firstFrame]),h},getTextureSourceIndex:function(c){for(var h=0;h<this.source.length;h++)if(this.source[h]===c)return h;return-1},getFramesFromTextureSource:function(c,h){void 0===h&&(h=!1);var p=[];for(var u in this.frames)if("__BASE"!==u||h){var m=this.frames[u];m.sourceIndex===c&&p.push(m)}return p},getFrameBounds:function(c){void 0===c&&(c=0);for(var h=this.getFramesFromTextureSource(c,!0),p=h[0],u=p.cutX,m=p.cutY,v=p.cutX+p.cutWidth,x=p.cutY+p.cutHeight,b=1;b<h.length;b++){var T=h[b];T.cutX<u&&(u=T.cutX),T.cutY<m&&(m=T.cutY),T.cutX+T.cutWidth>v&&(v=T.cutX+T.cutWidth),T.cutY+T.cutHeight>x&&(x=T.cutY+T.cutHeight)}return{x:u,y:m,width:v-u,height:x-m}},getFrameNames:function(c){void 0===c&&(c=!1);var h=Object.keys(this.frames);if(!c){var p=h.indexOf("__BASE");-1!==p&&h.splice(p,1)}return h},getSourceImage:function(c){(null==c||1===this.frameTotal)&&(c="__BASE");var h=this.frames[c];return h?h.source.image:(console.warn(f,this.key,c),this.frames.__BASE.source.image)},getDataSourceImage:function(c){(null==c||1===this.frameTotal)&&(c="__BASE");var p,h=this.frames[c];return h?p=h.sourceIndex:(console.warn(f,this.key,c),p=this.frames.__BASE.sourceIndex),this.dataSource[p].image},setDataSource:function(c){Array.isArray(c)||(c=[c]);for(var h=0;h<c.length;h++){var p=this.source[h];this.dataSource.push(new g(this,c[h],p.width,p.height))}},setFilter:function(c){var h;for(h=0;h<this.source.length;h++)this.source[h].setFilter(c);for(h=0;h<this.dataSource.length;h++)this.dataSource[h].setFilter(c)},destroy:function(){var c,h=this.source,p=this.dataSource;for(c=0;c<h.length;c++)h[c]&&h[c].destroy();for(c=0;c<p.length;c++)p[c]&&p[c].destroy();for(var u in this.frames){var m=this.frames[u];m&&m.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});S.exports=d},17130:(S,P,a)=>{var y=a(27919),C=a(57382),g=a(83419),f=a(40987),d=a(8054),c=a(81320),h=a(50792),p=a(69442),u=a(4327),m=a(8443),v=a(99584),x=a(35154),b=a(88571),T=a(41212),_=a(61309),A=a(87841),M=a(79237),I=new g({Extends:h,initialize:function(F){h.call(this),this.game=F,this.name="TextureManager",this.list={},this._tempCanvas=y.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stampCrop=new A,this.silentWarnings=!1,F.events.once(m.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(p.LOAD,this.updatePending,this),this.on(p.ERROR,this.updatePending,this);var R=this.game.config;null!==R.defaultImage&&this.addBase64("__DEFAULT",R.defaultImage),null!==R.missingImage&&this.addBase64("__MISSING",R.missingImage),null!==R.whiteImage&&this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(m.DESTROY,this.destroy,this),this.game.events.once(m.SYSTEM_READY,function(F){this.stamp=new b(F).setOrigin(0)},this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(p.LOAD),this.off(p.ERROR),this.emit(p.READY))},checkKey:function(R){return!(!R||"string"!=typeof R||this.exists(R))||(this.silentWarnings||console.error("Texture key already in use: "+R),!1)},remove:function(R){if("string"==typeof R){if(!this.exists(R))return this.silentWarnings||console.warn("No texture found matching key: "+R),this;R=this.get(R)}var F=R.key;return this.list.hasOwnProperty(F)&&(R.destroy(),this.emit(p.REMOVE,F),this.emit(p.REMOVE_KEY+F)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,F){if(this.checkKey(R)){var N=this,V=new Image;V.onerror=function(){N.emit(p.ERROR,R)},V.onload=function(){var B=N.create(R,V);_.Image(B,0),N.emit(p.ADD,R,B),N.emit(p.ADD_KEY+R,B),N.emit(p.LOAD,R,B)},V.src=F}return this},getBase64:function(R,F,N,V){void 0===N&&(N="image/png"),void 0===V&&(V=.92);var B="",G=this.getFrame(R,F);if(G&&(G.source.isRenderTexture||G.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(G){var Q=G.canvasData,H=y.create2D(this,Q.width,Q.height),K=H.getContext("2d",{willReadFrequently:!0});Q.width>0&&Q.height>0&&K.drawImage(G.source.image,Q.x,Q.y,Q.width,Q.height,0,0,Q.width,Q.height),B=H.toDataURL(N,V),y.remove(H)}return B},addImage:function(R,F,N){var V=null;return this.checkKey(R)&&(V=this.create(R,F),_.Image(V,0),N&&V.setDataSource(N),this.emit(p.ADD,R,V),this.emit(p.ADD_KEY+R,V)),V},addGLTexture:function(R,F){var N=null;if(this.checkKey(R)){var V=F.width,B=F.height;(N=this.create(R,F,V,B)).add("__BASE",0,0,0,V,B),this.emit(p.ADD,R,N),this.emit(p.ADD_KEY+R,N)}return N},addCompressedTexture:function(R,F,N){var V=null;if(this.checkKey(R)){if((V=this.create(R,F)).add("__BASE",0,0,0,F.width,F.height),N){var B=function(Q,H,K){Array.isArray(K.textures)||Array.isArray(K.frames)?_.JSONArray(Q,H,K):_.JSONHash(Q,H,K)};if(Array.isArray(N))for(var G=0;G<N.length;G++)B(V,G,N[G]);else B(V,0,N)}this.emit(p.ADD,R,V),this.emit(p.ADD_KEY+R,V)}return V},addRenderTexture:function(R,F){var N=null;return this.checkKey(R)&&((N=this.create(R,F)).add("__BASE",0,0,0,F.width,F.height),this.emit(p.ADD,R,N),this.emit(p.ADD_KEY+R,N)),N},generate:function(R,F){if(this.checkKey(R)){var N=y.create(this,1,1);return F.canvas=N,v(F),this.addCanvas(R,N)}return null},createCanvas:function(R,F,N){if(void 0===F&&(F=256),void 0===N&&(N=256),this.checkKey(R)){var V=y.create(this,F,N,d.CANVAS,!0);return this.addCanvas(R,V)}return null},addCanvas:function(R,F,N){void 0===N&&(N=!1);var V=null;return N?V=new C(this,R,F,F.width,F.height):this.checkKey(R)&&(V=new C(this,R,F,F.width,F.height),this.list[R]=V,this.emit(p.ADD,R,V),this.emit(p.ADD_KEY+R,V)),V},addDynamicTexture:function(R,F,N){var V=null;return"string"!=typeof R||this.exists(R)?R=(V=R).key:V=new c(this,R,F,N),this.checkKey(R)?(this.list[R]=V,this.emit(p.ADD,R,V),this.emit(p.ADD_KEY+R,V)):V=null,V},addAtlas:function(R,F,N,V){return Array.isArray(N.textures)||Array.isArray(N.frames)?this.addAtlasJSONArray(R,F,N,V):this.addAtlasJSONHash(R,F,N,V)},addAtlasJSONArray:function(R,F,N,V){var B=null;if(F instanceof M?(R=F.key,B=F):this.checkKey(R)&&(B=this.create(R,F)),B){if(Array.isArray(N))for(var G=1===N.length,Q=0;Q<B.source.length;Q++)_.JSONArray(B,Q,G?N[0]:N[Q]);else _.JSONArray(B,0,N);V&&B.setDataSource(V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B)}return B},addAtlasJSONHash:function(R,F,N,V){var B=null;if(F instanceof M?(R=F.key,B=F):this.checkKey(R)&&(B=this.create(R,F)),B){if(Array.isArray(N))for(var G=0;G<N.length;G++)_.JSONHash(B,G,N[G]);else _.JSONHash(B,0,N);V&&B.setDataSource(V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B)}return B},addAtlasXML:function(R,F,N,V){var B=null;return F instanceof M?(R=F.key,B=F):this.checkKey(R)&&(B=this.create(R,F)),B&&(_.AtlasXML(B,0,N),V&&B.setDataSource(V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B)),B},addUnityAtlas:function(R,F,N,V){var B=null;return F instanceof M?(R=F.key,B=F):this.checkKey(R)&&(B=this.create(R,F)),B&&(_.UnityYAML(B,0,N),V&&B.setDataSource(V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B)),B},addSpriteSheet:function(R,F,N,V){var B=null;return F instanceof M?(R=F.key,B=F):this.checkKey(R)&&(B=this.create(R,F)),B&&(_.SpriteSheet(B,0,0,0,B.source[0].width,B.source[0].height,N),V&&B.setDataSource(V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B)),B},addSpriteSheetFromAtlas:function(R,F){if(!this.checkKey(R))return null;var N=x(F,"atlas",null),V=x(F,"frame",null);if(N&&V){var G=this.get(N).get(V);if(G){var Q=G.source.image;Q||(Q=G.source.glTexture);var H=this.create(R,Q);return G.trimmed?_.SpriteSheetFromAtlas(H,G,F):_.SpriteSheet(H,0,G.cutX,G.cutY,G.cutWidth,G.cutHeight,F),this.emit(p.ADD,R,H),this.emit(p.ADD_KEY+R,H),H}}},addUint8Array:function(R,F,N,V){if(!this.checkKey(R)||F.length/4!=N*V)return null;var B=this.create(R,F,N,V);return B.add("__BASE",0,0,0,N,V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B),B},create:function(R,F,N,V){var B=null;return this.checkKey(R)&&(B=new M(this,R,F,N,V),this.list[R]=B),B},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return void 0===R&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof M?R:R instanceof u?R.texture:this.list.__MISSING},cloneFrame:function(R,F){if(this.list[R])return this.list[R].get(F).clone()},getFrame:function(R,F){if(this.list[R])return this.list[R].get(F)},parseFrame:function(R){if(R)return"string"==typeof R?this.getFrame(R):Array.isArray(R)&&2===R.length?this.getFrame(R[0],R[1]):T(R)?this.getFrame(R.key,R.frame):R instanceof M?R.get():R instanceof u?R:void 0},getTextureKeys:function(){var R=[];for(var F in this.list)"__DEFAULT"!==F&&"__MISSING"!==F&&"__WHITE"!==F&&"__NORMAL"!==F&&R.push(F);return R},getPixel:function(R,F,N,V){var B=this.getFrame(N,V);if(B){R-=B.x,F-=B.y;var G=B.data.cut;if(F+=G.y,(R+=G.x)>=G.x&&R<G.r&&F>=G.y&&F<G.b){var Q=this._tempContext;Q.clearRect(0,0,1,1),Q.drawImage(B.source.image,R,F,1,1,0,0,1,1);var H=Q.getImageData(0,0,1,1);return new f(H.data[0],H.data[1],H.data[2],H.data[3])}}return null},getPixelAlpha:function(R,F,N,V){var B=this.getFrame(N,V);if(B){R-=B.x,F-=B.y;var G=B.data.cut;if(F+=G.y,(R+=G.x)>=G.x&&R<G.r&&F>=G.y&&F<G.b){var Q=this._tempContext;return Q.clearRect(0,0,1,1),Q.drawImage(B.source.image,R,F,1,1,0,0,1,1),Q.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(R,F,N){return this.list[F]&&(R.texture=this.list[F],R.frame=R.texture.get(N)),R},renameTexture:function(R,F){var N=this.get(R);return!(!N||R===F||(N.key=F,this.list[F]=N,delete this.list[R],0))},each:function(R,F){for(var N=[null],V=1;V<arguments.length;V++)N.push(arguments[V]);for(var B in this.list)N[0]=this.list[B],R.apply(F,N)},resetStamp:function(R,F){void 0===R&&(R=1),void 0===F&&(F=16777215);var N=this.stamp;return N.setCrop(),N.setPosition(0),N.setAngle(0),N.setScale(1),N.setAlpha(R),N.setTint(F),N.setTexture("__WHITE"),N},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,y.remove(this._tempCanvas)}});S.exports=I},11876:(S,P,a)=>{var y=a(27919),C=a(83419),g=a(50030),f=a(29795),d=a(82751),c=new C({initialize:function(p,u,m,v,x){void 0===x&&(x=!1);var b=p.manager.game;this.renderer=b.renderer,this.texture=p,this.source=u,this.image=u.compressed?null:u,this.compressionAlgorithm=u.compressed?u.format:null,this.resolution=1,this.width=m||u.naturalWidth||u.videoWidth||u.width||0,this.height=v||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=f.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===u.type||"DynamicTexture"===u.type,this.isGLTexture=u instanceof d,this.isPowerOf2=g(this.width,this.height),this.glTexture=null,this.flipY=x,this.init(b)},init:function(h){var p=this.renderer;if(p){var u=this.source;if(p.gl){var m=this.image,v=this.flipY,x=this.width,b=this.height,T=this.scaleMode;this.glTexture=this.isCanvas?p.createCanvasTexture(m,!1,v):this.isVideo?p.createVideoTexture(m,!1,v):this.isRenderTexture?p.createTextureFromSource(null,x,b,T):this.isGLTexture?u:this.compressionAlgorithm?p.createTextureFromSource(u,void 0,void 0,T):u instanceof Uint8Array?p.createUint8ArrayTexture(u,x,b,T):p.createTextureFromSource(m,x,b,T)}else this.isRenderTexture&&(this.image=u.canvas)}h.config.antialias||this.setFilter(1)},setFilter:function(h){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,h),this.scaleMode=h},setFlipY:function(h){return void 0===h&&(h=!0),h===this.flipY||(this.flipY=h,this.update()),this},update:function(){var h=this.renderer,p=this.image,u=this.flipY,m=h.gl;m&&this.isCanvas?h.updateCanvasTexture(p,this.glTexture,u):m&&this.isVideo&&h.updateVideoTexture(p,this.glTexture,u)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&y.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});S.exports=c},19673:S=>{S.exports={LINEAR:0,NEAREST:1}},44538:S=>{S.exports="addtexture"},63486:S=>{S.exports="addtexture-"},94851:S=>{S.exports="onerror"},29099:S=>{S.exports="onload"},8678:S=>{S.exports="ready"},86415:S=>{S.exports="removetexture"},30879:S=>{S.exports="removetexture-"},69442:(S,P,a)=>{S.exports={ADD:a(44538),ADD_KEY:a(63486),ERROR:a(94851),LOAD:a(29099),READY:a(8678),REMOVE:a(86415),REMOVE_KEY:a(30879)}},27458:(S,P,a)=>{var y=a(79291),C=a(19673),g={CanvasTexture:a(57382),DynamicTexture:a(81320),Events:a(69442),FilterMode:C,Frame:a(4327),Parsers:a(61309),Texture:a(79237),TextureManager:a(17130),TextureSource:a(11876)};g=y(!1,g,C),S.exports=g},89905:S=>{S.exports=function(a,y,C){if(C.getElementsByTagName("TextureAtlas")){var g=a.source[y];a.add("__BASE",y,0,0,g.width,g.height);for(var d,f=C.getElementsByTagName("SubTexture"),c=0;c<f.length;c++){var h=f[c].attributes,p=h.name.value,u=parseInt(h.x.value,10),m=parseInt(h.y.value,10),v=parseInt(h.width.value,10),x=parseInt(h.height.value,10);if(d=a.add(p,y,u,m,v,x),h.frameX){var b=Math.abs(parseInt(h.frameX.value,10)),T=Math.abs(parseInt(h.frameY.value,10)),_=parseInt(h.frameWidth.value,10),A=parseInt(h.frameHeight.value,10);d.setTrim(v,x,b,T,_,A)}}return a}console.warn("Invalid Texture Atlas XML given")}},72893:S=>{S.exports=function(a,y){var C=a.source[y];return a.add("__BASE",y,0,0,C.width,C.height),a}},4832:S=>{S.exports=function(a,y){var C=a.source[y];return a.add("__BASE",y,0,0,C.width,C.height),a}},78566:(S,P,a)=>{var y=a(41786);S.exports=function(g,f,d){if(d.frames||d.textures){var c=g.source[f];g.add("__BASE",f,0,0,c.width,c.height);for(var p,h=Array.isArray(d.textures)?d.textures[f].frames:d.frames,u=0;u<h.length;u++){var m=h[u];if(p=g.add(m.filename,f,m.frame.x,m.frame.y,m.frame.w,m.frame.h)){m.trimmed&&p.setTrim(m.sourceSize.w,m.sourceSize.h,m.spriteSourceSize.x,m.spriteSourceSize.y,m.spriteSourceSize.w,m.spriteSourceSize.h),m.rotated&&(p.rotated=!0,p.updateUVsInverted());var v=m.anchor||m.pivot;v&&(p.customPivot=!0,p.pivotX=v.x,p.pivotY=v.y),m.scale9Borders&&p.setScale9(m.scale9Borders.x,m.scale9Borders.y,m.scale9Borders.w,m.scale9Borders.h),p.customData=y(m)}else console.warn("Invalid atlas json, frame already exists: "+m.filename)}for(var x in d)"frames"!==x&&(g.customData[x]=Array.isArray(d[x])?d[x].slice(0):d[x]);return g}console.warn("Invalid Texture Atlas JSON Array")}},39711:(S,P,a)=>{var y=a(41786);S.exports=function(g,f,d){if(d.frames){var c=g.source[f];g.add("__BASE",f,0,0,c.width,c.height);var p,h=d.frames;for(var u in h)if(h.hasOwnProperty(u)){var m=h[u];if(!(p=g.add(u,f,m.frame.x,m.frame.y,m.frame.w,m.frame.h))){console.warn("Invalid atlas json, frame already exists: "+u);continue}m.trimmed&&p.setTrim(m.sourceSize.w,m.sourceSize.h,m.spriteSourceSize.x,m.spriteSourceSize.y,m.spriteSourceSize.w,m.spriteSourceSize.h),m.rotated&&(p.rotated=!0,p.updateUVsInverted());var v=m.anchor||m.pivot;v&&(p.customPivot=!0,p.pivotX=v.x,p.pivotY=v.y),m.scale9Borders&&p.setScale9(m.scale9Borders.x,m.scale9Borders.y,m.scale9Borders.w,m.scale9Borders.h),p.customData=y(m)}for(var x in d)"frames"!==x&&(g.customData[x]=Array.isArray(d[x])?d[x].slice(0):d[x]);return g}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},31403:S=>{S.exports=function(a){var C,y=[171,75,84,88,32,49,49,187,13,10,26,10],g=new Uint8Array(a,0,12);for(C=0;C<g.length;C++)if(g[C]!==y[C])return void console.warn("KTXParser - Invalid file format");var f=Uint32Array.BYTES_PER_ELEMENT,d=new DataView(a,12,13*f),c=67305985===d.getUint32(0,!0);if(0===d.getUint32(1*f,c)){var p=d.getUint32(4*f,c),u=d.getUint32(6*f,c),m=d.getUint32(7*f,c),v=Math.max(1,d.getUint32(11*f,c)),x=d.getUint32(12*f,c),b=new Array(v),T=64+x,_=u,A=m;for(C=0;C<v;C++){var M=new Int32Array(a,T,1)[0];T+=4,b[C]={data:new Uint8Array(a,T,M),width:_,height:A},_=Math.max(1,_>>1),A=Math.max(1,A>>1),T+=M}return{mipmaps:b,width:u,height:m,internalFormat:p,compressed:!0,generateMipmap:!1}}console.warn("KTXParser - Only compressed formats supported")}},82038:S=>{function P(F,N,V,B,G,Q,H){return void 0===H&&(H=16),Math.floor((F+V)/G)*Math.floor((N+B)/Q)*H}function a(F,N){return(F=Math.max(F,16))*(N=Math.max(N,8))/4}function y(F,N){return(F=Math.max(F,8))*(N=Math.max(N,8))/2}function C(F,N){return Math.ceil(F/4)*Math.ceil(N/4)*16}function g(F,N){return P(F,N,3,3,4,4,8)}function f(F,N){return P(F,N,3,3,4,4)}var I={0:{sizeFunc:a,glFormat:[35841]},1:{sizeFunc:a,glFormat:[35843]},2:{sizeFunc:y,glFormat:[35840]},3:{sizeFunc:y,glFormat:[35842]},6:{sizeFunc:g,glFormat:[36196]},7:{sizeFunc:g,glFormat:[33776,35916]},8:{sizeFunc:f,glFormat:[33777,35917]},9:{sizeFunc:f,glFormat:[33778,35918]},11:{sizeFunc:f,glFormat:[33779,35919]},14:{sizeFunc:C,glFormat:[36494,36495]},15:{sizeFunc:C,glFormat:[36492,36493]},22:{sizeFunc:g,glFormat:[37492,37493]},23:{sizeFunc:f,glFormat:[37496,37497]},24:{sizeFunc:g,glFormat:[37494,37495]},25:{sizeFunc:g,glFormat:[37488]},26:{sizeFunc:f,glFormat:[37490]},27:{sizeFunc:f,glFormat:[37808,37840]},28:{sizeFunc:function d(F,N){return P(F,N,4,3,5,4)},glFormat:[37809,37841]},29:{sizeFunc:function c(F,N){return P(F,N,4,4,5,5)},glFormat:[37810,37842]},30:{sizeFunc:function h(F,N){return P(F,N,5,4,6,5)},glFormat:[37811,37843]},31:{sizeFunc:function p(F,N){return P(F,N,5,5,6,6)},glFormat:[37812,37844]},32:{sizeFunc:function u(F,N){return P(F,N,7,4,8,5)},glFormat:[37813,37845]},33:{sizeFunc:function m(F,N){return P(F,N,7,5,8,6)},glFormat:[37814,37846]},34:{sizeFunc:function v(F,N){return P(F,N,7,7,8,8)},glFormat:[37815,37847]},35:{sizeFunc:function x(F,N){return P(F,N,9,4,10,5)},glFormat:[37816,37848]},36:{sizeFunc:function b(F,N){return P(F,N,9,5,10,6)},glFormat:[37817,37849]},37:{sizeFunc:function T(F,N){return P(F,N,9,7,10,8)},glFormat:[37818,37850]},38:{sizeFunc:function _(F,N){return P(F,N,9,9,10,10)},glFormat:[37819,37851]},39:{sizeFunc:function A(F,N){return P(F,N,11,9,12,10)},glFormat:[37820,37852]},40:{sizeFunc:function M(F,N){return P(F,N,11,11,12,12)},glFormat:[37821,37853]}};S.exports=function(F){for(var N=new Uint32Array(F,0,13),G=55727696===N[0]?N[2]:N[3],H=I[G].glFormat[N[4]],K=I[G].sizeFunc,tt=N[11],at=N[7],lt=N[6],it=new Uint8Array(F,52+N[12]),Y=new Array(tt),X=0,nt=at,dt=lt,gt=0;gt<tt;gt++){var bt=K(nt,dt);Y[gt]={data:new Uint8Array(it.buffer,it.byteOffset+X,bt),width:nt,height:dt},nt=Math.max(1,nt>>1),dt=Math.max(1,dt>>1),X+=bt}return{mipmaps:Y,width:at,height:lt,internalFormat:H,compressed:!0,generateMipmap:!1}}},75549:(S,P,a)=>{var y=a(95540);S.exports=function(g,f,d,c,h,p,u){var m=y(u,"frameWidth",null),v=y(u,"frameHeight",m);if(null===m)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var x=g.source[f];g.add("__BASE",f,0,0,x.width,x.height);var b=y(u,"startFrame",0),T=y(u,"endFrame",-1),_=y(u,"margin",0),A=y(u,"spacing",0),R=Math.floor((h-_+A)/(m+A))*Math.floor((p-_+A)/(v+A));0===R&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",g.key),(b>R||b<-R)&&(b=0),b<0&&(b=R+b),(-1===T||T>R||T<b)&&(T=R);for(var F=_,N=_,V=0,B=0,G=0,Q=0;Q<R;Q++){V=0,B=0;var H=F+m,K=N+v;H>h&&(V=H-h),K>p&&(B=K-p),Q>=b&&Q<=T&&(g.add(G,f,d+F,c+N,m-V,v-B),G++),(F+=m+A)+m>h&&(F=_,N+=v+A)}return g}},47534:(S,P,a)=>{var y=a(95540);S.exports=function(g,f,d){var c=y(d,"frameWidth",null),h=y(d,"frameHeight",c);if(!c)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var p=g.source[0];g.add("__BASE",0,0,0,p.width,p.height);var u=y(d,"startFrame",0),m=y(d,"endFrame",-1),v=y(d,"margin",0),x=y(d,"spacing",0),b=f.cutX,T=f.cutY,_=f.cutWidth,A=f.cutHeight,M=f.realWidth,I=f.realHeight,R=Math.floor((M-v+x)/(c+x)),F=Math.floor((I-v+x)/(h+x)),N=R*F,V=f.x,B=c-V,G=c-(M-_-V),Q=f.y,H=h-Q,K=h-(I-A-Q);(u>N||u<-N)&&(u=0),u<0&&(u=N+u),-1!==m&&(N=u+(m+1));for(var tt,at=v,lt=v,q=0,Y=0;Y<F;Y++){for(var X=0===Y,nt=Y===F-1,dt=0;dt<R;dt++){var gt=0===dt,bt=dt===R-1;if(tt=g.add(q,0,b+at,T+lt,c,h),gt||X||bt||nt){var Et=gt?V:0,Bt=X?Q:0,Kt=0,Zt=0;gt&&(Kt+=c-B),bt&&(Kt+=c-G),X&&(Zt+=h-H),nt&&(Zt+=h-K);var ne=c-Kt,ae=h-Zt;tt.cutWidth=ne,tt.cutHeight=ae,tt.setTrim(c,h,Et,Bt,ne,ae)}at+=x,at+=gt?B:bt?G:c,q++}at=v,lt+=x,lt+=X?H:nt?K:h}return g}},86147:S=>{var P=0,a=function(C,g,f,d){C.add(f,g,d.x,P-d.y-d.height,d.width,d.height)};S.exports=function(C,g,f){var d=C.source[g];C.add("__BASE",g,0,0,d.width,d.height),P=d.height;for(var c=f.split("\n"),h=/^[ ]*(- )*(\w+)+[: ]+(.*)/,p="",u="",m={x:0,y:0,width:0,height:0},v=0;v<c.length;v++){var x=c[v].match(h);if(x){var T=x[2],_=x[3];if("- "===x[1]&&(u!==p&&(a(C,g,u,m),p=u),m={x:0,y:0,width:0,height:0}),"name"===T){u=_;continue}switch(T){case"x":case"y":case"width":case"height":m[T]=parseInt(_,10)}}}return u!==p&&a(C,g,u,m),C}},55222:(S,P,a)=>{var y=a(50030);function g(p){for(var u=p.mipmaps,m=0;m<u.length;m++){var v=u[m].width,x=u[m].height;if((v<<m)%4!=0||(x<<m)%4!=0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+m+" is "+v+"x"+x),!1}return!0}function f(){return!0}function d(p){var m=p.mipmaps[0];return!!y(m.width,m.height)||(console.warn("PVRTC base dimensions must be power of two. Base level is "+m.width+"x"+m.height),!1)}function c(p){var m=p.mipmaps[0];return m.width%4==0&&m.height%4==0||(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+m.width+"x"+m.height+" pixels"),!1)}var h={37488:f,37489:f,37490:f,37491:f,37492:f,37493:f,37494:f,37495:f,37496:f,37497:f,36196:f,37808:f,37809:f,37810:f,37811:f,37812:f,37813:f,37814:f,37815:f,37816:f,37817:f,37818:f,37819:f,37820:f,37821:f,37840:f,37841:f,37842:f,37843:f,37844:f,37845:f,37846:f,37847:f,37848:f,37849:f,37850:f,37851:f,37852:f,37853:f,36492:g,36493:g,36494:g,36495:g,36283:g,36284:g,36285:g,36286:g,35840:d,35841:d,35842:d,35843:d,33776:g,33777:g,33778:g,33779:g,35916:c,35917:c,35918:c,35919:c};S.exports=function(p){for(var u=p.mipmaps,m=1;m<u.length;m++){var v=u[m].width,x=u[m].height;if(!y(v,x))return console.warn("Mip level "+m+" is not a power-of-two size: "+v+"x"+x),!1}var b=h[p.internalFormat];return b?b(p):(console.warn("No format checker found for internal format "+p.internalFormat+". Assuming valid."),!0)}},61309:(S,P,a)=>{S.exports={AtlasXML:a(89905),Canvas:a(72893),Image:a(4832),JSONArray:a(78566),JSONHash:a(39711),KTXParser:a(31403),PVRParser:a(82038),SpriteSheet:a(75549),SpriteSheetFromAtlas:a(47534),UnityYAML:a(86147)}},80341:S=>{S.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(S,P,a)=>{var C=new(a(83419))({initialize:function(f,d,c,h,p,u,m){(void 0===c||c<=0)&&(c=32),(void 0===h||h<=0)&&(h=32),void 0===p&&(p=0),void 0===u&&(u=0),this.name=f,this.firstgid=0|d,this.imageWidth=0|c,this.imageHeight=0|h,this.imageMargin=0|p,this.imageSpacing=0|u,this.properties=m||{},this.images=[],this.total=0},containsImageIndex:function(g){return g>=this.firstgid&&g<this.firstgid+this.total},addImage:function(g,f){return this.images.push({gid:g,image:f}),this.total++,this}});S.exports=C},27462:(S,P,a)=>{var C=new(a(83419))({initialize:function(f){if(this.gids=[],void 0!==f)for(var d=0;d<f.length;++d)for(var c=f[d],h=0;h<c.total;++h)this.gids[c.firstgid+h]=c;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(g){this.gids=g?this._gids:void 0}},getTypeIncludingTile:function(g){if(void 0!==g.type&&""!==g.type)return g.type;if(this.gids&&void 0!==g.gid){var f=this.gids[g.gid];if(f){var d=f.getTileData(g.gid);if(d)return d.type}}},setTextureAndFrame:function(g,f,d,c){if(null===f&&this.gids&&void 0!==c.gid){var h=this.gids[c.gid];h&&(null===f&&void 0!==h.image&&(f=h.image.key),null===d&&(d=c.gid-h.firstgid),g.scene.textures.getFrame(f,d)||(f=null,d=null))}g.setTexture(f,d)},setPropertiesFromTiledObject:function(g,f){if(void 0!==this.gids&&void 0!==f.gid){var d=this.gids[f.gid];void 0!==d&&this.setFromJSON(g,d.getTileProperties(f.gid))}this.setFromJSON(g,f.properties)},setFromJSON:function(g,f){if(f){if(Array.isArray(f)){for(var d=0;d<f.length;d++){var c=f[d];void 0!==g[c.name]?g[c.name]=c.value:g.setData(c.name,c.value)}return}for(var h in f)void 0!==g[h]?g[h]=f[h]:g.setData(h,f[h])}}});S.exports=C},31989:(S,P,a)=>{var y=a(80341),C=a(87010),g=a(46177),f=a(49075);S.exports=function(c,h,p,u,m,v,x,b){void 0===p&&(p=32),void 0===u&&(u=32),void 0===m&&(m=10),void 0===v&&(v=10),void 0===b&&(b=!1);var T=null;if(Array.isArray(x))T=g(void 0!==h?h:"map",y.ARRAY_2D,x,p,u,b);else if(void 0!==h){var A=c.cache.tilemap.get(h);A?T=g(h,A.format,A.data,p,u,b):console.warn("No map data found for key "+h)}return null===T&&(T=new C({tileWidth:p,tileHeight:u,width:m,height:v})),new f(c,T)}},23029:(S,P,a)=>{var y=a(83419),C=a(31401),g=a(91907),f=a(62644),d=a(93232),c=new y({Mixins:[C.AlphaSingle,C.Flip,C.Visible],initialize:function(p,u,m,v,x,b,T,_){this.layer=p,this.index=u,this.x=m,this.y=v,this.width=x,this.height=b,this.baseWidth=void 0!==T?T:x,this.baseHeight=void 0!==_?_:b,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(h,p){return!(h<this.pixelX||p<this.pixelY||h>this.right||p>this.bottom)},copy:function(h){return this.index=h.index,this.alpha=h.alpha,this.properties=f(h.properties),this.visible=h.visible,this.setFlip(h.flipX,h.flipY),this.tint=h.tint,this.rotation=h.rotation,this.collideUp=h.collideUp,this.collideDown=h.collideDown,this.collideLeft=h.collideLeft,this.collideRight=h.collideRight,this.collisionCallback=h.collisionCallback,this.collisionCallbackContext=h.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(h){var p=this.tilemapLayer;return p?p.tileToWorldXY(this.x,this.y,void 0,h).x:this.x*this.baseWidth},getRight:function(h){var p=this.tilemapLayer;return p?this.getLeft(h)+this.width*p.scaleX:this.getLeft(h)+this.width},getTop:function(h){var p=this.tilemapLayer;return p?p.tileToWorldXY(this.x,this.y,void 0,h).y:this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(h){var p=this.tilemapLayer;return p?this.getTop(h)+this.height*p.scaleY:this.getTop(h)+this.height},getBounds:function(h,p){return void 0===p&&(p=new d),p.x=this.getLeft(h),p.y=this.getTop(h),p.width=this.getRight(h)-p.x,p.height=this.getBottom(h)-p.y,p},getCenterX:function(h){return(this.getLeft(h)+this.getRight(h))/2},getCenterY:function(h){return(this.getTop(h)+this.getBottom(h))/2},intersects:function(h,p,u,m){return!(u<=this.pixelX||m<=this.pixelY||h>=this.right||p>=this.bottom)},isInteresting:function(h,p){return h&&p?this.canCollide||this.hasInterestingFace:h?this.collides:!!p&&this.hasInterestingFace},resetCollision:function(h){return void 0===h&&(h=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,h&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(h,p,u,m,v){return void 0===p&&(p=h),void 0===u&&(u=h),void 0===m&&(m=h),void 0===v&&(v=!0),this.collideLeft=h,this.collideRight=p,this.collideUp=u,this.collideDown=m,this.faceLeft=h,this.faceRight=p,this.faceTop=u,this.faceBottom=m,v&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(h,p){return null===h?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=h,this.collisionCallbackContext=p),this},setSize:function(h,p,u,m){return void 0!==h&&(this.width=h),void 0!==p&&(this.height=p),void 0!==u&&(this.baseWidth=u),void 0!==m&&(this.baseHeight=m),this.updatePixelXY(),this},updatePixelXY:function(){var h=this.layer.orientation;if(h===g.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(h===g.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(h===g.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(h===g.HEXAGONAL){var x,p=this.layer.staggerAxis,u=this.layer.staggerIndex,m=this.layer.hexSideLength;"y"===p?(x=(this.baseHeight-m)/2+m,this.pixelX="odd"===u?this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*x):"x"===p&&(this.pixelX=this.x*((this.baseWidth-m)/2+m),this.pixelY="odd"===u?this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var h=this.layer.tilemapLayer;if(h){var p=h.gidMap[this.index];if(p)return p}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var h=this.tilemapLayer;return h?h.tilemap:null}}});S.exports=c},49075:(S,P,a)=>{var y=a(84101),C=a(83419),g=a(39506),f=a(80341),d=a(95540),c=a(14977),h=a(27462),p=a(91907),u=a(36305),m=a(19133),v=a(68287),x=a(23029),b=a(81086),T=a(20442),_=a(33629),A=new C({initialize:function(I,R){this.scene=I,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var F=this.orientation;this._convert={WorldToTileXY:b.GetWorldToTileXYFunction(F),WorldToTileX:b.GetWorldToTileXFunction(F),WorldToTileY:b.GetWorldToTileYFunction(F),TileToWorldXY:b.GetTileToWorldXYFunction(F),TileToWorldX:b.GetTileToWorldXFunction(F),TileToWorldY:b.GetTileToWorldYFunction(F),GetTileCorners:b.GetTileCornersFunction(F)}},setRenderOrder:function(M){var I=["right-down","left-down","right-up","left-up"];return"number"==typeof M&&(M=I[M]),I.indexOf(M)>-1&&(this.renderOrder=M),this},addTilesetImage:function(M,I,R,F,N,V,B,G){if(void 0===M)return null;null==I&&(I=M);var Q=this.scene.sys.textures;if(!Q.exists(I))return console.warn('Texture key "%s" not found',I),null;var H=Q.get(I),K=this.getTilesetIndex(M);if(null===K&&this.format===f.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',M,this.tilesets),null;var tt=this.tilesets[K];return tt?((R||F)&&tt.setTileSize(R,F),(N||V)&&tt.setSpacing(N,V),tt.setImage(H),tt):(void 0===R&&(R=this.tileWidth),void 0===F&&(F=this.tileHeight),void 0===N&&(N=0),void 0===V&&(V=0),void 0===B&&(B=0),void 0===G&&(G={x:0,y:0}),(tt=new _(M,B,R,F,N,V,void 0,void 0,G)).setImage(H),this.tilesets.push(tt),this.tiles=y(this),tt)},copy:function(M,I,R,F,N,V,B,G){return null!==(G=this.getLayer(G))?(b.Copy(M,I,R,F,N,V,B,G),this):null},createBlankLayer:function(M,I,R,F,N,V,B,G){if(void 0===R&&(R=0),void 0===F&&(F=0),void 0===N&&(N=this.width),void 0===V&&(V=this.height),void 0===B&&(B=this.tileWidth),void 0===G&&(G=this.tileHeight),null!==this.getLayerIndex(M))return console.warn("Invalid Tilemap Layer ID: "+M),null;for(var K,H=new c({name:M,tileWidth:B,tileHeight:G,width:N,height:V,orientation:this.orientation}),tt=0;tt<V;tt++){K=[];for(var at=0;at<N;at++)K.push(new x(H,-1,at,tt,B,G,this.tileWidth,this.tileHeight));H.data.push(K)}this.layers.push(H),this.currentLayerIndex=this.layers.length-1;var lt=new T(this.scene,this,this.currentLayerIndex,I,R,F);return lt.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(lt),lt},createLayer:function(M,I,R,F){var N=this.getLayerIndex(M);if(null===N)return console.warn("Invalid Tilemap Layer ID: "+M),"string"==typeof M&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var V=this.layers[N];if(V.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+M),null;this.currentLayerIndex=N,void 0===R&&(R=V.x),void 0===F&&(F=V.y);var B=new T(this.scene,this,N,I,R,F);return B.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(B),B},createFromObjects:function(M,I,R){void 0===R&&(R=!0);var F=[],N=this.getObjectLayer(M);if(!N)return console.warn("createFromObjects: Invalid objectLayerName given: "+M),F;var V=new h(R?this.tilesets:void 0);Array.isArray(I)||(I=[I]);for(var B=N.objects,G=0;G<I.length;G++){var Q=I[G],H=d(Q,"id",null),K=d(Q,"gid",null),tt=d(Q,"name",null),at=d(Q,"type",null);V.enabled=!d(Q,"ignoreTileset",null);for(var lt,q=[],it=0;it<B.length;it++)lt=B[it],(null===H&&null===K&&null===tt&&null===at||null!==H&&lt.id===H||null!==K&&lt.gid===K||null!==tt&&lt.name===tt||null!==at&&V.getTypeIncludingTile(lt)===at)&&q.push(lt);for(var Y=d(Q,"classType",v),X=d(Q,"scene",this.scene),nt=d(Q,"container",null),dt=d(Q,"key",null),gt=d(Q,"frame",null),bt=0;bt<q.length;bt++){lt=q[bt];var Et=new Y(X);if(Et.setName(lt.name),Et.setPosition(lt.x,lt.y),V.setTextureAndFrame(Et,dt,gt,lt),lt.width&&(Et.displayWidth=lt.width),lt.height&&(Et.displayHeight=lt.height),this.orientation===p.ISOMETRIC){var Kt={x:Et.x-Et.y,y:(Et.x+Et.y)/(this.tileWidth/this.tileHeight)};Et.x=Kt.x,Et.y=Kt.y}var Zt={x:Et.originX*lt.width,y:(Et.originY-(lt.gid?1:0))*lt.height};if(lt.rotation){var ne=g(lt.rotation);u(Zt,ne),Et.rotation=ne}Et.x+=Zt.x,Et.y+=Zt.y,(void 0!==lt.flippedHorizontal||void 0!==lt.flippedVertical)&&Et.setFlip(lt.flippedHorizontal,lt.flippedVertical),lt.visible||(Et.visible=!1),V.setPropertiesFromTiledObject(Et,lt),nt?nt.add(Et):X.add.existing(Et),F.push(Et)}}return F},createFromTiles:function(M,I,R,F,N,V){return null===(V=this.getLayer(V))?null:b.CreateFromTiles(M,I,R,F,N,V)},fill:function(M,I,R,F,N,V,B){return void 0===V&&(V=!0),null===(B=this.getLayer(B))?null:(b.Fill(M,I,R,F,N,V,B),this)},filterObjects:function(M,I,R){if("string"==typeof M){var F=M;if(!(M=this.getObjectLayer(M)))return console.warn("No object layer found with the name: "+F),null}return M.objects.filter(I,R)},filterTiles:function(M,I,R,F,N,V,B,G){return null===(G=this.getLayer(G))?null:b.FilterTiles(M,I,R,F,N,V,B,G)},findByIndex:function(M,I,R,F){return null===(F=this.getLayer(F))?null:b.FindByIndex(M,I,R,F)},findObject:function(M,I,R){if("string"==typeof M){var F=M;if(!(M=this.getObjectLayer(M)))return console.warn("No object layer found with the name: "+F),null}return M.objects.find(I,R)||null},findTile:function(M,I,R,F,N,V,B,G){return null===(G=this.getLayer(G))?null:b.FindTile(M,I,R,F,N,V,B,G)},forEachTile:function(M,I,R,F,N,V,B,G){return null===(G=this.getLayer(G))?null:(b.ForEachTile(M,I,R,F,N,V,B,G),this)},getImageIndex:function(M){return this.getIndex(this.images,M)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(M){return M.name}):[]},getIndex:function(M,I){for(var R=0;R<M.length;R++)if(M[R].name===I)return R;return null},getLayer:function(M){var I=this.getLayerIndex(M);return null!==I?this.layers[I]:null},getObjectLayer:function(M){var I=this.getIndex(this.objects,M);return null!==I?this.objects[I]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(M){return M.name}):[]},getLayerIndex:function(M){return void 0===M?this.currentLayerIndex:"string"==typeof M?this.getLayerIndexByName(M):"number"==typeof M&&M<this.layers.length?M:M instanceof T&&M.tilemap===this?M.layerIndex:null},getLayerIndexByName:function(M){return this.getIndex(this.layers,M)},getTileAt:function(M,I,R,F){return null===(F=this.getLayer(F))?null:b.GetTileAt(M,I,R,F)},getTileAtWorldXY:function(M,I,R,F,N){return null===(N=this.getLayer(N))?null:b.GetTileAtWorldXY(M,I,R,F,N)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(M){return M.name}):[]},getTilesWithin:function(M,I,R,F,N,V){return null===(V=this.getLayer(V))?null:b.GetTilesWithin(M,I,R,F,N,V)},getTilesWithinShape:function(M,I,R,F){return null===(F=this.getLayer(F))?null:b.GetTilesWithinShape(M,I,R,F)},getTilesWithinWorldXY:function(M,I,R,F,N,V,B){return null===(B=this.getLayer(B))?null:b.GetTilesWithinWorldXY(M,I,R,F,N,V,B)},getTileset:function(M){var I=this.getIndex(this.tilesets,M);return null!==I?this.tilesets[I]:null},getTilesetIndex:function(M){return this.getIndex(this.tilesets,M)},hasTileAt:function(M,I,R){return null===(R=this.getLayer(R))?null:b.HasTileAt(M,I,R)},hasTileAtWorldXY:function(M,I,R,F){return null===(F=this.getLayer(F))?null:b.HasTileAtWorldXY(M,I,R,F)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(M){this.setLayer(M)}},putTileAt:function(M,I,R,F,N){return void 0===F&&(F=!0),null===(N=this.getLayer(N))?null:b.PutTileAt(M,I,R,F,N)},putTileAtWorldXY:function(M,I,R,F,N,V){return void 0===F&&(F=!0),null===(V=this.getLayer(V))?null:b.PutTileAtWorldXY(M,I,R,F,N,V)},putTilesAt:function(M,I,R,F,N){return void 0===F&&(F=!0),null===(N=this.getLayer(N))?null:(b.PutTilesAt(M,I,R,F,N),this)},randomize:function(M,I,R,F,N,V){return null===(V=this.getLayer(V))?null:(b.Randomize(M,I,R,F,N,V),this)},calculateFacesAt:function(M,I,R){return null===(R=this.getLayer(R))?null:(b.CalculateFacesAt(M,I,R),this)},calculateFacesWithin:function(M,I,R,F,N){return null===(N=this.getLayer(N))?null:(b.CalculateFacesWithin(M,I,R,F,N),this)},removeLayer:function(M){var I=this.getLayerIndex(M);if(null!==I){m(this.layers,I);for(var R=I;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===I&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(M){var I=this.getLayerIndex(M);return null!==I?((M=this.layers[I]).tilemapLayer.destroy(),m(this.layers,I),this.currentLayerIndex===I&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var M=this.layers,I=0;I<M.length;I++)M[I].tilemapLayer&&M[I].tilemapLayer.destroy(!1);return M.length=0,this.currentLayerIndex=0,this},removeTile:function(M,I,R){void 0===I&&(I=-1),void 0===R&&(R=!0);var F=[];Array.isArray(M)||(M=[M]);for(var N=0;N<M.length;N++){var V=M[N];F.push(this.removeTileAt(V.x,V.y,!0,R,V.tilemapLayer)),I>-1&&this.putTileAt(I,V.x,V.y,R,V.tilemapLayer)}return F},removeTileAt:function(M,I,R,F,N){return void 0===R&&(R=!0),void 0===F&&(F=!0),null===(N=this.getLayer(N))?null:b.RemoveTileAt(M,I,R,F,N)},removeTileAtWorldXY:function(M,I,R,F,N,V){return void 0===R&&(R=!0),void 0===F&&(F=!0),null===(V=this.getLayer(V))?null:b.RemoveTileAtWorldXY(M,I,R,F,N,V)},renderDebug:function(M,I,R){return null===(R=this.getLayer(R))?null:(this.orientation===p.ORTHOGONAL&&b.RenderDebug(M,I,R),this)},renderDebugFull:function(M,I){for(var R=this.layers,F=0;F<R.length;F++)b.RenderDebug(M,I,R[F]);return this},replaceByIndex:function(M,I,R,F,N,V,B){return null===(B=this.getLayer(B))?null:(b.ReplaceByIndex(M,I,R,F,N,V,B),this)},setCollision:function(M,I,R,F,N){return void 0===I&&(I=!0),void 0===R&&(R=!0),void 0===N&&(N=!0),null===(F=this.getLayer(F))?null:(b.SetCollision(M,I,R,F,N),this)},setCollisionBetween:function(M,I,R,F,N){return void 0===R&&(R=!0),void 0===F&&(F=!0),null===(N=this.getLayer(N))?null:(b.SetCollisionBetween(M,I,R,F,N),this)},setCollisionByProperty:function(M,I,R,F){return void 0===I&&(I=!0),void 0===R&&(R=!0),null===(F=this.getLayer(F))?null:(b.SetCollisionByProperty(M,I,R,F),this)},setCollisionByExclusion:function(M,I,R,F){return void 0===I&&(I=!0),void 0===R&&(R=!0),null===(F=this.getLayer(F))?null:(b.SetCollisionByExclusion(M,I,R,F),this)},setCollisionFromCollisionGroup:function(M,I,R){return void 0===M&&(M=!0),void 0===I&&(I=!0),null===(R=this.getLayer(R))?null:(b.SetCollisionFromCollisionGroup(M,I,R),this)},setTileIndexCallback:function(M,I,R,F){return null===(F=this.getLayer(F))?null:(b.SetTileIndexCallback(M,I,R,F),this)},setTileLocationCallback:function(M,I,R,F,N,V,B){return null===(B=this.getLayer(B))?null:(b.SetTileLocationCallback(M,I,R,F,N,V,B),this)},setLayer:function(M){var I=this.getLayerIndex(M);return null!==I&&(this.currentLayerIndex=I),this},setBaseTileSize:function(M,I){this.tileWidth=M,this.tileHeight=I,this.widthInPixels=this.width*M,this.heightInPixels=this.height*I;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=M,this.layers[R].baseTileHeight=I;for(var F=this.layers[R].data,N=this.layers[R].width,V=this.layers[R].height,B=0;B<V;B++)for(var G=0;G<N;G++){var Q=F[B][G];null!==Q&&Q.setSize(void 0,void 0,M,I)}}return this},setLayerTileSize:function(M,I,R){if(null===(R=this.getLayer(R)))return this;R.tileWidth=M,R.tileHeight=I;for(var F=R.data,N=R.width,V=R.height,B=0;B<V;B++)for(var G=0;G<N;G++){var Q=F[B][G];null!==Q&&Q.setSize(M,I)}return this},shuffle:function(M,I,R,F,N){return null===(N=this.getLayer(N))?null:(b.Shuffle(M,I,R,F,N),this)},swapByIndex:function(M,I,R,F,N,V,B){return null===(B=this.getLayer(B))?null:(b.SwapByIndex(M,I,R,F,N,V,B),this)},tileToWorldX:function(M,I,R){return null===(R=this.getLayer(R))?null:this._convert.TileToWorldX(M,I,R)},tileToWorldY:function(M,I,R){return null===(R=this.getLayer(R))?null:this._convert.TileToWorldY(M,I,R)},tileToWorldXY:function(M,I,R,F,N){return null===(N=this.getLayer(N))?null:this._convert.TileToWorldXY(M,I,R,F,N)},getTileCorners:function(M,I,R,F){return null===(F=this.getLayer(F))?null:this._convert.GetTileCorners(M,I,R,F)},weightedRandomize:function(M,I,R,F,N,V){return null===(V=this.getLayer(V))?null:(b.WeightedRandomize(I,R,F,N,M,V),this)},worldToTileX:function(M,I,R,F){return null===(F=this.getLayer(F))?null:this._convert.WorldToTileX(M,I,R,F)},worldToTileY:function(M,I,R,F){return null===(F=this.getLayer(F))?null:this._convert.WorldToTileY(M,I,R,F)},worldToTileXY:function(M,I,R,F,N,V){return null===(V=this.getLayer(V))?null:this._convert.WorldToTileXY(M,I,R,F,N,V)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});S.exports=A},45939:(S,P,a)=>{var y=a(44603),C=a(31989);y.register("tilemap",function(g){var f=void 0!==g?g:{};return C(this.scene,f.key,f.tileWidth,f.tileHeight,f.width,f.height,f.data,f.insertNull)})},46029:(S,P,a)=>{var y=a(39429),C=a(31989);y.register("tilemap",function(g,f,d,c,h,p,u){return null===g&&(g=void 0),null===f&&(f=void 0),null===d&&(d=void 0),null===c&&(c=void 0),null===h&&(h=void 0),C(this.scene,g,f,d,c,h,p,u)})},20442:(S,P,a)=>{var y=a(83419),C=a(78389),g=a(31401),f=a(95643),d=a(81086),c=a(19218),h=a(26099),p=new y({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.Transform,g.Visible,g.ScrollFactor,C,c],initialize:function(m,v,x,b,T,_){f.call(this,m,"TilemapLayer"),this.isTilemap=!0,this.tilemap=v,this.layerIndex=x,this.layer=v.layers[x],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=d.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new h,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(b),this.setAlpha(this.layer.alpha),this.setPosition(T,_),this.setOrigin(0,0),this.setSize(v.tileWidth*this.layer.width,v.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(u){var m=[],v=[],x=this.tilemap;Array.isArray(u)||(u=[u]);for(var b=0;b<u.length;b++){var T=u[b];if("string"==typeof T&&(T=x.getTileset(T)),T){v.push(T);for(var _=T.firstgid,A=0;A<T.total;A++)m[_+A]=T}}this.gidMap=m,this.tileset=v},setRenderOrder:function(u){return"string"==typeof u&&(u=["right-down","left-down","right-up","left-up"].indexOf(u)),u>=0&&u<4&&(this._renderOrder=u),this},calculateFacesAt:function(u,m){return d.CalculateFacesAt(u,m,this.layer),this},calculateFacesWithin:function(u,m,v,x){return d.CalculateFacesWithin(u,m,v,x,this.layer),this},createFromTiles:function(u,m,v,x,b){return d.CreateFromTiles(u,m,v,x,b,this.layer)},cull:function(u){return this.cullCallback(this.layer,u,this.culledTiles,this._renderOrder)},copy:function(u,m,v,x,b,T,_){return d.Copy(u,m,v,x,b,T,_,this.layer),this},fill:function(u,m,v,x,b,T){return d.Fill(u,m,v,x,b,T,this.layer),this},filterTiles:function(u,m,v,x,b,T,_){return d.FilterTiles(u,m,v,x,b,T,_,this.layer)},findByIndex:function(u,m,v){return d.FindByIndex(u,m,v,this.layer)},findTile:function(u,m,v,x,b,T,_){return d.FindTile(u,m,v,x,b,T,_,this.layer)},forEachTile:function(u,m,v,x,b,T,_){return d.ForEachTile(u,m,v,x,b,T,_,this.layer),this},setTint:function(u,m,v,x,b,T){return void 0===u&&(u=16777215),this.forEachTile(function(A){A.tint=u,A.tintFill=!1},this,m,v,x,b,T)},setTintFill:function(u,m,v,x,b,T){return void 0===u&&(u=16777215),this.forEachTile(function(A){A.tint=u,A.tintFill=!0},this,m,v,x,b,T)},getTileAt:function(u,m,v){return d.GetTileAt(u,m,v,this.layer)},getTileAtWorldXY:function(u,m,v,x){return d.GetTileAtWorldXY(u,m,v,x,this.layer)},getIsoTileAtWorldXY:function(u,m,v,x,b){void 0===v&&(v=!0);var T=this.tempVec;return d.IsometricWorldToTileXY(u,m,!0,T,b,this.layer,v),this.getTileAt(T.x,T.y,x)},getTilesWithin:function(u,m,v,x,b){return d.GetTilesWithin(u,m,v,x,b,this.layer)},getTilesWithinShape:function(u,m,v){return d.GetTilesWithinShape(u,m,v,this.layer)},getTilesWithinWorldXY:function(u,m,v,x,b,T){return d.GetTilesWithinWorldXY(u,m,v,x,b,T,this.layer)},hasTileAt:function(u,m){return d.HasTileAt(u,m,this.layer)},hasTileAtWorldXY:function(u,m,v){return d.HasTileAtWorldXY(u,m,v,this.layer)},putTileAt:function(u,m,v,x){return d.PutTileAt(u,m,v,x,this.layer)},putTileAtWorldXY:function(u,m,v,x,b){return d.PutTileAtWorldXY(u,m,v,x,b,this.layer)},putTilesAt:function(u,m,v,x){return d.PutTilesAt(u,m,v,x,this.layer),this},randomize:function(u,m,v,x,b){return d.Randomize(u,m,v,x,b,this.layer),this},removeTileAt:function(u,m,v,x){return d.RemoveTileAt(u,m,v,x,this.layer)},removeTileAtWorldXY:function(u,m,v,x,b){return d.RemoveTileAtWorldXY(u,m,v,x,b,this.layer)},renderDebug:function(u,m){return d.RenderDebug(u,m,this.layer),this},replaceByIndex:function(u,m,v,x,b,T){return d.ReplaceByIndex(u,m,v,x,b,T,this.layer),this},setSkipCull:function(u){return void 0===u&&(u=!0),this.skipCull=u,this},setCullPadding:function(u,m){return void 0===u&&(u=1),void 0===m&&(m=1),this.cullPaddingX=u,this.cullPaddingY=m,this},setCollision:function(u,m,v,x){return d.SetCollision(u,m,v,this.layer,x),this},setCollisionBetween:function(u,m,v,x){return d.SetCollisionBetween(u,m,v,x,this.layer),this},setCollisionByProperty:function(u,m,v){return d.SetCollisionByProperty(u,m,v,this.layer),this},setCollisionByExclusion:function(u,m,v){return d.SetCollisionByExclusion(u,m,v,this.layer),this},setCollisionFromCollisionGroup:function(u,m){return d.SetCollisionFromCollisionGroup(u,m,this.layer),this},setTileIndexCallback:function(u,m,v){return d.SetTileIndexCallback(u,m,v,this.layer),this},setTileLocationCallback:function(u,m,v,x,b,T){return d.SetTileLocationCallback(u,m,v,x,b,T,this.layer),this},shuffle:function(u,m,v,x){return d.Shuffle(u,m,v,x,this.layer),this},swapByIndex:function(u,m,v,x,b,T){return d.SwapByIndex(u,m,v,x,b,T,this.layer),this},tileToWorldX:function(u,m){return this.tilemap.tileToWorldX(u,m,this)},tileToWorldY:function(u,m){return this.tilemap.tileToWorldY(u,m,this)},tileToWorldXY:function(u,m,v,x){return this.tilemap.tileToWorldXY(u,m,v,x,this)},getTileCorners:function(u,m,v){return this.tilemap.getTileCorners(u,m,v,this)},weightedRandomize:function(u,m,v,x,b){return d.WeightedRandomize(m,v,x,b,u,this.layer),this},worldToTileX:function(u,m,v){return this.tilemap.worldToTileX(u,m,v,this)},worldToTileY:function(u,m,v){return this.tilemap.worldToTileY(u,m,v,this)},worldToTileXY:function(u,m,v,x,b){return this.tilemap.worldToTileXY(u,m,v,x,b,this)},destroy:function(u){void 0===u&&(u=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),u&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],f.prototype.destroy.call(this))}});S.exports=p},16153:(S,P,a)=>{var y=a(61340),C=new y,g=new y,f=new y;S.exports=function(c,h,p,u){var m=h.cull(p),v=m.length,x=p.alpha*h.alpha;if(!(0===v||x<=0)){var b=C,T=g,_=f;T.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),b.copyFrom(p.matrix);var A=c.currentContext,M=h.gidMap;A.save(),u?(b.multiplyWithOffset(u,-p.scrollX*h.scrollFactorX,-p.scrollY*h.scrollFactorY),T.e=h.x,T.f=h.y,b.multiply(T,_),_.copyToContext(A)):(T.e-=p.scrollX*h.scrollFactorX,T.f-=p.scrollY*h.scrollFactorY,T.copyToContext(A)),(!c.antialias||h.scaleX>1||h.scaleY>1)&&(A.imageSmoothingEnabled=!1);for(var I=0;I<v;I++){var R=m[I],F=M[R.index];if(F){var N=F.image.getSourceImage(),V=F.getTileTextureCoordinates(R.index),B=F.tileWidth,G=F.tileHeight;if(null!==V&&0!==B&&0!==G){var Q=.5*B,H=.5*G;V.x+=F.tileOffset.x,V.y+=F.tileOffset.y,A.save(),A.translate(R.pixelX+Q,R.pixelY+H),0!==R.rotation&&A.rotate(R.rotation),(R.flipX||R.flipY)&&A.scale(R.flipX?-1:1,R.flipY?-1:1),A.globalAlpha=x*R.alpha,A.drawImage(N,V.x,V.y,B,G,-Q,-H,B,G),A.restore()}}}A.restore()}}},19218:(S,P,a)=>{var C,g;a(29747),C=a(99558),g=a(16153),S.exports={renderWebGL:C,renderCanvas:g}},99558:(S,P,a)=>{var y=a(70554);S.exports=function(g,f,d){var c=f.cull(d),h=c.length,p=d.alpha*f.alpha;if(!(0===h||p<=0)){var u=f.gidMap,m=g.pipelines.set(f.pipeline,f),v=y.getTintAppendFloatAlpha,x=f.scrollFactorX,b=f.scrollFactorY,T=f.x,_=f.y,A=f.scaleX,M=f.scaleY;g.pipelines.preBatch(f);for(var I=0;I<h;I++){var R=c[I],F=u[R.index];if(F){var N=F.getTileTextureCoordinates(R.index),V=F.tileWidth,B=F.tileHeight;if(N&&0!==V&&0!==B){var G=.5*V,Q=.5*B,H=F.glTexture,K=m.setTexture2D(H,f),tt=V,at=B,lt=N.x,q=N.y,it=F.tileOffset.x,Y=F.tileOffset.y,X=v(R.tint,p*R.alpha);m.batchTexture(f,H,H.width,H.height,T+R.pixelX*A+(G*A-it),_+R.pixelY*M+(Q*M-Y),V,B,A,M,R.rotation,R.flipX,R.flipY,x,b,G,Q,lt,q,tt,at,X,X,X,X,R.tintFill,0,0,d,null,!0,K,!0)}}}g.pipelines.postBatch(f)}}},33629:(S,P,a)=>{var y=a(83419),C=a(26099),g=new y({initialize:function(d,c,h,p,u,m,v,x,b){(void 0===h||h<=0)&&(h=32),(void 0===p||p<=0)&&(p=32),void 0===u&&(u=0),void 0===m&&(m=0),void 0===v&&(v={}),void 0===x&&(x={}),this.name=d,this.firstgid=c,this.tileWidth=h,this.tileHeight=p,this.tileMargin=u,this.tileSpacing=m,this.tileProperties=v,this.tileData=x,this.tileOffset=new C,void 0!==b&&this.tileOffset.set(b.x,b.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(f){return this.containsTileIndex(f)?this.tileProperties[f-this.firstgid]:null},getTileData:function(f){return this.containsTileIndex(f)?this.tileData[f-this.firstgid]:null},getTileCollisionGroup:function(f){var d=this.getTileData(f);return d&&d.objectgroup?d.objectgroup:null},containsTileIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},getTileTextureCoordinates:function(f){return this.containsTileIndex(f)?this.texCoordinates[f-this.firstgid]:null},setImage:function(f){this.image=f;var d=f.get(),c=f.getFrameBounds();return this.glTexture=d.source.glTexture,d.width>c.width||d.height>c.height?this.updateTileData(d.width,d.height):this.updateTileData(c.width,c.height,c.x,c.y),this},setTileSize:function(f,d){return void 0!==f&&(this.tileWidth=f),void 0!==d&&(this.tileHeight=d),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(f,d){return void 0!==f&&(this.tileMargin=f),void 0!==d&&(this.tileSpacing=d),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(f,d,c,h){void 0===c&&(c=0),void 0===h&&(h=0);var p=(d-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),u=(f-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(p%1!=0||u%1!=0)&&console.warn("Image tile area not tile size multiple in: "+this.name),p=Math.floor(p),u=Math.floor(u),this.rows=p,this.columns=u,this.total=p*u,this.texCoordinates.length=0;for(var m=this.tileMargin+c,v=this.tileMargin+h,x=0;x<this.rows;x++){for(var b=0;b<this.columns;b++)this.texCoordinates.push({x:m,y:v}),m+=this.tileWidth+this.tileSpacing;m=this.tileMargin+c,v+=this.tileHeight+this.tileSpacing}return this}});S.exports=g},72023:(S,P,a)=>{var y=a(7423);S.exports=function(g,f,d){var c=y(g,f,!0,d),h=y(g,f-1,!0,d),p=y(g,f+1,!0,d),u=y(g-1,f,!0,d),m=y(g+1,f,!0,d),v=c&&c.collides;return v&&(c.faceTop=!0,c.faceBottom=!0,c.faceLeft=!0,c.faceRight=!0),h&&h.collides&&(v&&(c.faceTop=!1),h.faceBottom=!v),p&&p.collides&&(v&&(c.faceBottom=!1),p.faceTop=!v),u&&u.collides&&(v&&(c.faceLeft=!1),u.faceRight=!v),m&&m.collides&&(v&&(c.faceRight=!1),m.faceLeft=!v),c&&!c.collides&&c.resetFaces(),c}},42573:(S,P,a)=>{var y=a(7423),C=a(7386);S.exports=function(f,d,c,h,p){for(var u=null,m=null,v=null,x=null,b=C(f,d,c,h,null,p),T=0;T<b.length;T++){var _=b[T];_&&(_.collides?(u=y(_.x,_.y-1,!0,p),m=y(_.x,_.y+1,!0,p),v=y(_.x-1,_.y,!0,p),x=y(_.x+1,_.y,!0,p),_.faceTop=!(u&&u.collides),_.faceBottom=!(m&&m.collides),_.faceLeft=!(v&&v.collides),_.faceRight=!(x&&x.collides)):_.resetFaces())}}},33528:(S,P,a)=>{var C=new(a(26099));S.exports=function(f,d,c,h){var p=c.tilemapLayer,u=p.cullPaddingX,m=p.cullPaddingY,v=p.tilemap.tileToWorldXY(f,d,C,h,p);return v.x>h.worldView.x+p.scaleX*c.tileWidth*(-u-.5)&&v.x<h.worldView.right+p.scaleX*c.tileWidth*(u-.5)&&v.y>h.worldView.y+p.scaleY*c.tileHeight*(-m-1)&&v.y<h.worldView.bottom+p.scaleY*c.tileHeight*(m-.5)}},1785:(S,P,a)=>{var y=a(42573),C=a(7386),g=a(62991),f=a(23029);S.exports=function(c,h,p,u,m,v,x,b){void 0===x&&(x=!0);var T=C(c,h,p,u,null,b),_=[];T.forEach(function(V){var B=new f(V.layer,V.index,V.x,V.y,V.width,V.height,V.baseWidth,V.baseHeight);B.copy(V),_.push(B)});for(var A=m-c,M=v-h,I=0;I<_.length;I++){var R=_[I],F=R.x+A,N=R.y+M;g(F,N,b)&&b.data[N][F]&&(R.x=F,R.y=N,R.updatePixelXY(),b.data[N][F]=R)}x&&y(m-1,v-1,p+2,u+2,b),T.length=0,_.length=0}},78419:(S,P,a)=>{var y=a(62644),C=a(7386),g=a(27987);S.exports=function(d,c,h,p,u,m){h||(h={}),Array.isArray(d)||(d=[d]);var v=m.tilemapLayer;p||(p=v.scene),u||(u=p.cameras.main);var A,x=m.width,b=m.height,T=C(0,0,x,b,null,m),_=[],M=function(N,V,B){for(var G=0;G<B.length;G++){var Q=B[G];N.hasOwnProperty(Q)||(N[Q]=V[Q])}};for(A=0;A<T.length;A++){var I=T[A],R=y(h);if(-1!==d.indexOf(I.index)){var F=v.tileToWorldXY(I.x,I.y,void 0,u,m);R.x=F.x,R.y=F.y,M(R,I,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=.5*I.width,R.y+=.5*I.height),R.hasOwnProperty("useSpriteSheet")&&(R.key=I.tileset.image,R.frame=I.index-1),_.push(p.make.sprite(R))}}if(Array.isArray(c))for(A=0;A<d.length;A++)g(d[A],c[A],0,0,x,b,m);else if(null!==c)for(A=0;A<d.length;A++)g(d[A],c,0,0,x,b,m);return _}},19545:(S,P,a)=>{var y=a(87841),C=a(63448),g=a(56583),f=new y;S.exports=function(c,h){var p=c.tilemapLayer.tilemap,u=c.tilemapLayer,m=Math.floor(p.tileWidth*u.scaleX),v=Math.floor(p.tileHeight*u.scaleY),x=g(h.worldView.x-u.x,m,0,!0)-u.cullPaddingX,b=C(h.worldView.right-u.x,m,0,!0)+u.cullPaddingX,T=g(h.worldView.y-u.y,v,0,!0)-u.cullPaddingY,_=C(h.worldView.bottom-u.y,v,0,!0)+u.cullPaddingY;return f.setTo(x,T,b-x,_-T)}},30003:(S,P,a)=>{var y=a(19545),C=a(32483);S.exports=function(f,d,c,h){void 0===c&&(c=[]),void 0===h&&(h=0),c.length=0;var p=f.tilemapLayer,u=y(f,d);return(p.skipCull||1!==p.scrollFactorX||1!==p.scrollFactorY)&&(u.left=0,u.right=f.width,u.top=0,u.bottom=f.height),C(f,u,h,c),c}},35137:(S,P,a)=>{var y=a(7386),C=a(42573),g=a(20576);S.exports=function(d,c,h,p,u,m,v){for(var x=-1!==v.collideIndexes.indexOf(d),b=y(c,h,p,u,null,v),T=0;T<b.length;T++)b[T].index=d,g(b[T],x);m&&C(c-1,h-1,p+2,u+2,v)}},40253:(S,P,a)=>{var y=a(7386);S.exports=function(g,f,d,c,h,p,u,m){return y(d,c,h,p,u,m).filter(g,f)}},52692:S=>{S.exports=function(a,y,C,g){void 0===y&&(y=0),void 0===C&&(C=!1);var d,c,h,f=0;if(C){for(c=g.height-1;c>=0;c--)for(d=g.width-1;d>=0;d--)if((h=g.data[c][d])&&h.index===a){if(f===y)return h;f+=1}}else for(c=0;c<g.height;c++)for(d=0;d<g.width;d++)if((h=g.data[c][d])&&h.index===a){if(f===y)return h;f+=1}return null}},66151:(S,P,a)=>{var y=a(7386);S.exports=function(g,f,d,c,h,p,u,m){return y(d,c,h,p,u,m).find(g,f)||null}},97560:(S,P,a)=>{var y=a(7386);S.exports=function(g,f,d,c,h,p,u,m){y(d,c,h,p,u,m).forEach(g,f)}},43305:(S,P,a)=>{var y=a(91907),C=a(30003),g=a(9474),f=a(14018),d=a(29747),c=a(54503);S.exports=function(p){return p===y.ORTHOGONAL?C:p===y.HEXAGONAL?g:p===y.STAGGERED?c:p===y.ISOMETRIC?f:d}},7423:(S,P,a)=>{var y=a(62991);S.exports=function(g,f,d,c){if(y(g,f,c)){var h=c.data[f][g]||null;return h?-1===h.index?d?h:null:h:null}return null}},60540:(S,P,a)=>{var y=a(7423),g=new(a(26099));S.exports=function(d,c,h,p,u){return u.tilemapLayer.worldToTileXY(d,c,!0,g,p),y(g.x,g.y,h,u)}},55826:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c){var h=c.baseTileWidth,p=c.baseTileHeight,u=c.tilemapLayer,m=0,v=0;u&&(d||(d=u.scene.cameras.main),m=u.x+d.scrollX*(1-u.scrollFactorX),v=u.y+d.scrollY*(1-u.scrollFactorY),h*=u.scaleX,p*=u.scaleY);var x=m+g*h,b=v+f*p;return[new y(x,b),new y(x+h,b),new y(x+h,b+p),new y(x,b+p)]}},11758:(S,P,a)=>{var y=a(91907),C=a(27229),g=a(29747),f=a(55826);S.exports=function(c){return c===y.ORTHOGONAL?f:c===y.ISOMETRIC?g:c===y.HEXAGONAL?C:g}},39167:(S,P,a)=>{var y=a(91907),C=a(29747),g=a(97281);S.exports=function(d){return d===y.ORTHOGONAL?g:C}},62e3:(S,P,a)=>{var y=a(91907),C=a(19951),g=a(14127),f=a(29747),d=a(97202),c=a(70326);S.exports=function(p){return p===y.ORTHOGONAL?c:p===y.ISOMETRIC?g:p===y.HEXAGONAL?C:p===y.STAGGERED?d:f}},5984:(S,P,a)=>{var y=a(91907),C=a(29747),g=a(28054),f=a(29650);S.exports=function(c){return c===y.ORTHOGONAL?f:c===y.STAGGERED?g:C}},7386:(S,P,a)=>{var y=a(95540);S.exports=function(g,f,d,c,h,p){void 0===g&&(g=0),void 0===f&&(f=0),void 0===d&&(d=p.width),void 0===c&&(c=p.height),h||(h={});var u=y(h,"isNotEmpty",!1),m=y(h,"isColliding",!1),v=y(h,"hasInterestingFace",!1);g<0&&(d+=g,g=0),f<0&&(c+=f,f=0),g+d>p.width&&(d=Math.max(p.width-g,0)),f+c>p.height&&(c=Math.max(p.height-f,0));for(var x=[],b=f;b<f+c;b++)for(var T=g;T<g+d;T++){var _=p.data[b][T];if(null!==_){if(u&&-1===_.index||m&&!_.collides||v&&!_.hasInterestingFace)continue;x.push(_)}}return x}},91141:(S,P,a)=>{var y=a(55738),C=a(7386),g=a(91865),f=a(29747),d=a(26099),c=function(v,x){return g.RectangleToTriangle(x,v)},h=new d,p=new d,u=new d;S.exports=function(v,x,b,T){if(void 0===v)return[];var _=f;v instanceof y.Circle?_=g.CircleToRectangle:v instanceof y.Rectangle?_=g.RectangleToRectangle:v instanceof y.Triangle?_=c:v instanceof y.Line&&(_=g.LineToRectangle),T.tilemapLayer.worldToTileXY(v.left,v.top,!0,p,b);var A=p.x,M=p.y;T.tilemapLayer.worldToTileXY(v.right,v.bottom,!1,u,b);var I=Math.ceil(u.x),R=Math.ceil(u.y),F=Math.max(I-A,1),N=Math.max(R-M,1),V=C(A,M,F,N,x,T),B=T.tileWidth,G=T.tileHeight;T.tilemapLayer&&(B*=T.tilemapLayer.scaleX,G*=T.tilemapLayer.scaleY);for(var Q=[],H=new y.Rectangle(0,0,B,G),K=0;K<V.length;K++){var tt=V[K];T.tilemapLayer.tileToWorldXY(tt.x,tt.y,h,b),H.x=h.x,H.y=h.y,_(v,H)&&Q.push(tt)}return Q}},96523:(S,P,a)=>{var y=a(7386),C=a(26099),g=new C,f=new C;S.exports=function(c,h,p,u,m,v,x){var b=x.tilemapLayer.tilemap._convert.WorldToTileXY;b(c,h,!0,g,v,x);var T=g.x,_=g.y;b(c+p,h+u,!1,f,v,x);var A=Math.ceil(f.x),M=Math.ceil(f.y);return y(T,_,A-T,M-_,m,x)}},96113:(S,P,a)=>{var y=a(91907),C=a(20242),g=a(10095);S.exports=function(d){return d===y.ORTHOGONAL?g:C}},16926:(S,P,a)=>{var y=a(91907),C=a(86625),g=a(96897),f=a(29747),d=a(15108),c=a(85896);S.exports=function(p){return p===y.ORTHOGONAL?c:p===y.ISOMETRIC?g:p===y.HEXAGONAL?C:p===y.STAGGERED?d:f}},55762:(S,P,a)=>{var y=a(91907),C=a(20242),g=a(51900),f=a(63288);S.exports=function(c){return c===y.ORTHOGONAL?f:c===y.STAGGERED?g:C}},45091:(S,P,a)=>{var y=a(62991);S.exports=function(g,f,d){if(y(g,f,d)){var c=d.data[f][g];return null!==c&&c.index>-1}return!1}},24152:(S,P,a)=>{var y=a(45091),g=new(a(26099));S.exports=function(d,c,h,p){return p.tilemapLayer.worldToTileXY(d,c,!0,g,h),y(g.x,g.y,p)}},90454:(S,P,a)=>{var y=a(63448),C=a(56583);S.exports=function(f,d){var v,x,b,T,c=f.tilemapLayer.tilemap,h=f.tilemapLayer,p=Math.floor(c.tileWidth*h.scaleX),u=Math.floor(c.tileHeight*h.scaleY),m=f.hexSideLength;if("y"===f.staggerAxis){var _=(u-m)/2+m;v=C(d.worldView.x-h.x,p,0,!0)-h.cullPaddingX,x=y(d.worldView.right-h.x,p,0,!0)+h.cullPaddingX,b=C(d.worldView.y-h.y,_,0,!0)-h.cullPaddingY,T=y(d.worldView.bottom-h.y,_,0,!0)+h.cullPaddingY}else{var A=(p-m)/2+m;v=C(d.worldView.x-h.x,A,0,!0)-h.cullPaddingX,x=y(d.worldView.right-h.x,A,0,!0)+h.cullPaddingX,b=C(d.worldView.y-h.y,u,0,!0)-h.cullPaddingY,T=y(d.worldView.bottom-h.y,u,0,!0)+h.cullPaddingY}return{left:v,right:x,top:b,bottom:T}}},9474:(S,P,a)=>{var y=a(90454),C=a(32483);S.exports=function(f,d,c,h){void 0===c&&(c=[]),void 0===h&&(h=0),c.length=0;var p=f.tilemapLayer,u=y(f,d);return p.skipCull&&1===p.scrollFactorX&&1===p.scrollFactorY&&(u.left=0,u.right=f.width,u.top=0,u.bottom=f.height),C(f,u,h,c),c}},27229:(S,P,a)=>{var y=a(19951),C=a(26099),g=new C;S.exports=function(d,c,h,p){var u=p.baseTileWidth,m=p.baseTileHeight,v=p.tilemapLayer;v&&(u*=v.scaleX,m*=v.scaleY);var _,A,x=y(d,c,g,h,p),b=[],T=.5773502691896257;"y"===p.staggerAxis?(_=T*u,A=m/2):(_=u/2,A=T*m);for(var M=0;M<6;M++){var I=2*Math.PI*(.5-M)/6;b.push(new C(x.x+_*Math.cos(I),x.y+A*Math.sin(I)))}return b}},19951:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c,h){d||(d=new y);var p=h.baseTileWidth,u=h.baseTileHeight,m=h.tilemapLayer,v=0,x=0;m&&(c||(c=m.scene.cameras.main),v=m.x+c.scrollX*(1-m.scrollFactorX),x=m.y+c.scrollY*(1-m.scrollFactorY),p*=m.scaleX,u*=m.scaleY);var _,A,b=p/2,T=u/2,M=h.staggerAxis,I=h.staggerIndex;return"y"===M?(_=v+p*g+p,A=x+1.5*f*T+T,f%2==0&&("odd"===I?_-=b:_+=b)):"x"===M&&"odd"===I&&(_=v+1.5*g*b+b,A=x+u*g+u,g%2==0&&("odd"===I?A-=T:A+=T)),d.set(_,A)}},86625:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c,h,p){c||(c=new y);var u=p.baseTileWidth,m=p.baseTileHeight,v=p.tilemapLayer;v&&(h||(h=v.scene.cameras.main),g-=v.x+h.scrollX*(1-v.scrollFactorX),f-=v.y+h.scrollY*(1-v.scrollFactorY),u*=v.scaleX,m*=v.scaleY);var I,R,F,N,V,x=.5773502691896257,b=-.3333333333333333,_=.6666666666666666,A=u/2,M=m/2;"y"===p.staggerAxis?(F=x*(I=(g-A)/(x*u))+b*(R=(f-M)/M),N=0*I+_*R):(F=b*(I=(g-A)/A)+x*(R=(f-M)/(x*m)),N=_*I+0*R),V=-F-N;var B=Math.round(F),G=Math.round(N),Q=Math.round(V),H=Math.abs(B-F),K=Math.abs(G-N),tt=Math.abs(Q-V);return H>K&&H>tt?B=-G-Q:K>tt&&(G=-B-Q),c.set("odd"===p.staggerIndex?G%2==0?G/2+B:G/2+B-.5:G%2==0?G/2+B:G/2+B+.5,G)}},62991:S=>{S.exports=function(a,y,C){return a>=0&&a<C.width&&y>=0&&y<C.height}},14018:(S,P,a)=>{var y=a(33528);S.exports=function(g,f,d,c){void 0===d&&(d=[]),void 0===c&&(c=0),d.length=0;var A,M,I,h=g.tilemapLayer,p=g.data,u=g.width,m=g.height,v=h.skipCull,b=u,_=m;if(0===c)for(M=0;M<_;M++)for(A=0;A<b;A++)(I=p[M][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!y(A,M,g,f)||d.push(I));else if(1===c)for(M=0;M<_;M++)for(A=b;A>=0;A--)(I=p[M][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!y(A,M,g,f)||d.push(I));else if(2===c)for(M=_;M>=0;M--)for(A=0;A<b;A++)(I=p[M][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!y(A,M,g,f)||d.push(I));else if(3===c)for(M=_;M>=0;M--)for(A=b;A>=0;A--)(I=p[M][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!y(A,M,g,f)||d.push(I));return h.tilesDrawn=d.length,h.tilesTotal=u*m,d}},14127:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c,h){d||(d=new y);var p=h.baseTileWidth,u=h.baseTileHeight,m=h.tilemapLayer,v=0,x=0;return m&&(c||(c=m.scene.cameras.main),v=m.x+c.scrollX*(1-m.scrollFactorX),p*=m.scaleX,x=m.y+c.scrollY*(1-m.scrollFactorY),u*=m.scaleY),d.set(v+p/2*(g-f),x+(g+f)*(u/2))}},96897:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c,h,p,u){c||(c=new y);var m=p.baseTileWidth,v=p.baseTileHeight,x=p.tilemapLayer;x&&(h||(h=x.scene.cameras.main),f-=x.y+h.scrollY*(1-x.scrollFactorY),v*=x.scaleY,g-=x.x+h.scrollX*(1-x.scrollFactorX),m*=x.scaleX);var b=m/2,T=v/2;u||(f-=v);var _=.5*((g-=b)/b+f/T),A=.5*(-g/b+f/T);return d&&(_=Math.floor(_),A=Math.floor(A)),c.set(_,A)}},71558:(S,P,a)=>{var y=a(23029),C=a(62991),g=a(72023),f=a(20576);S.exports=function(c,h,p,u,m){if(void 0===u&&(u=!0),!C(h,p,m))return null;var v,x=m.data[p][h],b=x&&x.collides;c instanceof y?(null===m.data[p][h]&&(m.data[p][h]=new y(m,c.index,h,p,m.tileWidth,m.tileHeight)),m.data[p][h].copy(c)):(v=c,null===m.data[p][h]?m.data[p][h]=new y(m,v,h,p,m.tileWidth,m.tileHeight):m.data[p][h].index=v);var T=m.data[p][h],_=-1!==m.collideIndexes.indexOf(T.index);if(-1===(v=c instanceof y?c.index:c))T.width=m.tileWidth,T.height=m.tileHeight;else{var A=m.tilemapLayer.tilemap,R=A.tilesets[A.tiles[v][2]];T.width=R.tileWidth,T.height=R.tileHeight}return f(T,_),u&&b!==T.collides&&g(h,p,m),T}},26303:(S,P,a)=>{var y=a(71558),g=new(a(26099));S.exports=function(d,c,h,p,u,m){return m.tilemapLayer.worldToTileXY(c,h,!0,g,u,m),y(d,g.x,g.y,p,m)}},14051:(S,P,a)=>{var y=a(42573),C=a(71558);S.exports=function(f,d,c,h,p){if(void 0===h&&(h=!0),!Array.isArray(f))return null;Array.isArray(f[0])||(f=[f]);for(var u=f.length,m=f[0].length,v=0;v<u;v++)for(var x=0;x<m;x++)C(f[v][x],d+x,c+v,!1,p);h&&y(d-1,c-1,m+2,u+2,p)}},77389:(S,P,a)=>{var y=a(7386),C=a(26546);S.exports=function(f,d,c,h,p,u){var m,v=y(f,d,c,h,{},u);if(!p)for(p=[],m=0;m<v.length;m++)-1===p.indexOf(v[m].index)&&p.push(v[m].index);for(m=0;m<v.length;m++)v[m].index=C(p)}},63557:(S,P,a)=>{var y=a(23029),C=a(62991),g=a(72023);S.exports=function(d,c,h,p,u){if(void 0===h&&(h=!0),void 0===p&&(p=!0),!C(d,c,u))return null;var m=u.data[c][d];return m?(u.data[c][d]=h?null:new y(u,-1,d,c,u.tileWidth,u.tileHeight),p&&m&&m.collides&&g(d,c,u),m):null}},94178:(S,P,a)=>{var y=a(63557),g=new(a(26099));S.exports=function(d,c,h,p,u,m){return m.tilemapLayer.worldToTileXY(d,c,!0,g,u,m),y(g.x,g.y,h,p,m)}},15533:(S,P,a)=>{var y=a(7386),C=a(3956),g=new C(105,210,231,150),f=new C(243,134,48,200),d=new C(40,39,37,150);S.exports=function(h,p,u){void 0===p&&(p={});var m=void 0!==p.tileColor?p.tileColor:g,v=void 0!==p.collidingTileColor?p.collidingTileColor:f,x=void 0!==p.faceColor?p.faceColor:d,b=y(0,0,u.width,u.height,null,u);h.translateCanvas(u.tilemapLayer.x,u.tilemapLayer.y),h.scaleCanvas(u.tilemapLayer.scaleX,u.tilemapLayer.scaleY);for(var T=0;T<b.length;T++){var _=b[T],A=_.width,M=_.height,I=_.pixelX,R=_.pixelY,F=_.collides?v:m;null!==F&&(h.fillStyle(F.color,F.alpha/255),h.fillRect(I,R,A,M)),I+=1,R+=1,A-=2,M-=2,null!==x&&(h.lineStyle(1,x.color,x.alpha/255),_.faceTop&&h.lineBetween(I,R,I+A,R),_.faceRight&&h.lineBetween(I+A,R,I+A,R+M),_.faceBottom&&h.lineBetween(I,R+M,I+A,R+M),_.faceLeft&&h.lineBetween(I,R,I,R+M))}}},27987:(S,P,a)=>{var y=a(7386);S.exports=function(g,f,d,c,h,p,u){for(var m=y(d,c,h,p,null,u),v=0;v<m.length;v++)m[v]&&m[v].index===g&&(m[v].index=f)}},32483:S=>{S.exports=function(a,y,C,g){var x,b,T,f=a.data,d=a.width,c=a.height,h=a.tilemapLayer,p=Math.max(0,y.left),u=Math.min(d,y.right),m=Math.max(0,y.top),v=Math.min(c,y.bottom);if(0===C)for(b=m;b<v;b++)for(x=p;f[b]&&x<u;x++)(T=f[b][x])&&-1!==T.index&&T.visible&&0!==T.alpha&&g.push(T);else if(1===C)for(b=m;b<v;b++)for(x=u;f[b]&&x>=p;x--)(T=f[b][x])&&-1!==T.index&&T.visible&&0!==T.alpha&&g.push(T);else if(2===C)for(b=v;b>=m;b--)for(x=p;f[b]&&x<u;x++)(T=f[b][x])&&-1!==T.index&&T.visible&&0!==T.alpha&&g.push(T);else if(3===C)for(b=v;b>=m;b--)for(x=u;f[b]&&x>=p;x--)(T=f[b][x])&&-1!==T.index&&T.visible&&0!==T.alpha&&g.push(T);return h.tilesDrawn=g.length,h.tilesTotal=d*c,g}},57068:(S,P,a)=>{var y=a(20576),C=a(42573),g=a(9589);S.exports=function(d,c,h,p,u){void 0===c&&(c=!0),void 0===h&&(h=!0),void 0===u&&(u=!0),Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++)g(d[m],c,p);if(u)for(var v=0;v<p.height;v++)for(var x=0;x<p.width;x++){var b=p.data[v][x];b&&-1!==d.indexOf(b.index)&&y(b,c)}h&&C(0,0,p.width,p.height,p)}},37266:(S,P,a)=>{var y=a(20576),C=a(42573),g=a(9589);S.exports=function(d,c,h,p,u,m){if(void 0===h&&(h=!0),void 0===p&&(p=!0),void 0===m&&(m=!0),!(d>c)){for(var v=d;v<=c;v++)g(v,h,u);if(m)for(var x=0;x<u.height;x++)for(var b=0;b<u.width;b++){var T=u.data[x][b];T&&T.index>=d&&T.index<=c&&y(T,h)}p&&C(0,0,u.width,u.height,u)}}},75661:(S,P,a)=>{var y=a(20576),C=a(42573),g=a(9589);S.exports=function(d,c,h,p){void 0===c&&(c=!0),void 0===h&&(h=!0),Array.isArray(d)||(d=[d]);for(var u=0;u<p.height;u++)for(var m=0;m<p.width;m++){var v=p.data[u][m];v&&-1===d.indexOf(v.index)&&(y(v,c),g(v.index,c,p))}h&&C(0,0,p.width,p.height,p)}},64740:(S,P,a)=>{var y=a(20576),C=a(42573),g=a(97022);S.exports=function(d,c,h,p){void 0===c&&(c=!0),void 0===h&&(h=!0);for(var u=0;u<p.height;u++)for(var m=0;m<p.width;m++){var v=p.data[u][m];if(v)for(var x in d)if(g(v.properties,x)){var b=d[x];Array.isArray(b)||(b=[b]);for(var T=0;T<b.length;T++)v.properties[x]===b[T]&&y(v,c)}}h&&C(0,0,p.width,p.height,p)}},63307:(S,P,a)=>{var y=a(20576),C=a(42573);S.exports=function(f,d,c){void 0===f&&(f=!0),void 0===d&&(d=!0);for(var h=0;h<c.height;h++)for(var p=0;p<c.width;p++){var u=c.data[h][p];if(u){var m=u.getCollisionGroup();m&&m.objects&&m.objects.length>0&&y(u,f)}}d&&C(0,0,c.width,c.height,c)}},9589:S=>{S.exports=function(a,y,C){var g=C.collideIndexes.indexOf(a);y&&-1===g?C.collideIndexes.push(a):!y&&-1!==g&&C.collideIndexes.splice(g,1)}},20576:S=>{S.exports=function(a,y){y?a.setCollision(!0,!0,!0,!0,!1):a.resetCollision(!1)}},79583:S=>{S.exports=function(a,y,C,g){if("number"==typeof a)g.callbacks[a]=null!==y?{callback:y,callbackContext:C}:void 0;else for(var f=0,d=a.length;f<d;f++)g.callbacks[a[f]]=null!==y?{callback:y,callbackContext:C}:void 0}},93254:(S,P,a)=>{var y=a(7386);S.exports=function(g,f,d,c,h,p,u){for(var m=y(g,f,d,c,null,u),v=0;v<m.length;v++)m[v].setCollisionCallback(h,p)}},32903:(S,P,a)=>{var y=a(7386),C=a(33680);S.exports=function(f,d,c,h,p){var u=y(f,d,c,h,null,p),m=u.map(function(x){return x.index});C(m);for(var v=0;v<u.length;v++)u[v].index=m[v]}},61325:(S,P,a)=>{var y=a(63448),C=a(56583);S.exports=function(f,d){var c=f.tilemapLayer.tilemap,h=f.tilemapLayer,p=Math.floor(c.tileWidth*h.scaleX),u=Math.floor(c.tileHeight*h.scaleY);return{left:C(d.worldView.x-h.x,p,0,!0)-h.cullPaddingX,right:y(d.worldView.right-h.x,p,0,!0)+h.cullPaddingX,top:C(d.worldView.y-h.y,u/2,0,!0)-h.cullPaddingY,bottom:y(d.worldView.bottom-h.y,u/2,0,!0)+h.cullPaddingY}}},54503:(S,P,a)=>{var y=a(61325),C=a(32483);S.exports=function(f,d,c,h){void 0===c&&(c=[]),void 0===h&&(h=0),c.length=0;var p=f.tilemapLayer,u=y(f,d);return p.skipCull&&1===p.scrollFactorX&&1===p.scrollFactorY&&(u.left=0,u.right=f.width,u.top=0,u.bottom=f.height),C(f,u,h,c),c}},97202:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c,h){d||(d=new y);var p=h.baseTileWidth,u=h.baseTileHeight,m=h.tilemapLayer,v=0,x=0;return m&&(c||(c=m.scene.cameras.main),v=m.x+c.scrollX*(1-m.scrollFactorX),p*=m.scaleX,x=m.y+c.scrollY*(1-m.scrollFactorY),u*=m.scaleY),d.set(v+g*p+f%2*(p/2),x+f*(u/2))}},28054:S=>{S.exports=function(a,y,C){var g=C.baseTileHeight,f=C.tilemapLayer,d=0;return f&&(void 0===y&&(y=f.scene.cameras.main),d=f.y+y.scrollY*(1-f.scrollFactorY),g*=f.scaleY),d+a*(g/2)+g}},15108:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c,h,p){c||(c=new y);var u=p.baseTileWidth,m=p.baseTileHeight,v=p.tilemapLayer;v&&(h||(h=v.scene.cameras.main),f-=v.y+h.scrollY*(1-v.scrollFactorY),m*=v.scaleY,g-=v.x+h.scrollX*(1-v.scrollFactorX),u*=v.scaleX);var x=d?Math.floor(f/(m/2)):f/(m/2),b=d?Math.floor((g+x%2*.5*u)/u):(g+x%2*.5*u)/u;return c.set(b,x)}},51900:S=>{S.exports=function(a,y,C,g){var f=g.baseTileHeight,d=g.tilemapLayer;return d&&(C||(C=d.scene.cameras.main),a-=d.y+C.scrollY*(1-d.scrollFactorY),f*=d.scaleY),y?Math.floor(a/(f/2)):a/(f/2)}},86560:(S,P,a)=>{var y=a(7386);S.exports=function(g,f,d,c,h,p,u){for(var m=y(d,c,h,p,null,u),v=0;v<m.length;v++)m[v]&&(m[v].index===g?m[v].index=f:m[v].index===f&&(m[v].index=g))}},97281:S=>{S.exports=function(a,y,C){var g=C.baseTileWidth,f=C.tilemapLayer,d=0;return f&&(y||(y=f.scene.cameras.main),d=f.x+y.scrollX*(1-f.scrollFactorX),g*=f.scaleX),d+a*g}},70326:(S,P,a)=>{var y=a(97281),C=a(29650),g=a(26099);S.exports=function(d,c,h,p,u){return h||(h=new g(0,0)),h.x=y(d,p,u),h.y=C(c,p,u),h}},29650:S=>{S.exports=function(a,y,C){var g=C.baseTileHeight,f=C.tilemapLayer,d=0;return f&&(y||(y=f.scene.cameras.main),d=f.y+y.scrollY*(1-f.scrollFactorY),g*=f.scaleY),d+a*g}},77366:(S,P,a)=>{var y=a(7386),C=a(75508);S.exports=function(f,d,c,h,p,u){if(p){var m,v=y(f,d,c,h,null,u),x=0;for(m=0;m<p.length;m++)x+=p[m].weight;if(!(x<=0))for(m=0;m<v.length;m++){for(var b=C.RND.frac()*x,T=0,_=-1,A=0;A<p.length;A++)if(b<=(T+=p[A].weight)){var M=p[A].index;_=Array.isArray(M)?M[Math.floor(C.RND.frac()*M.length)]:M;break}v[m].index=_}}}},10095:(S,P,a)=>{var y=a(85896),g=new(a(26099));S.exports=function(d,c,h,p){return y(d,0,c,g,h,p),g.x}},85896:(S,P,a)=>{var y=a(26099);S.exports=function(g,f,d,c,h,p){void 0===d&&(d=!0),c||(c=new y);var u=p.baseTileWidth,m=p.baseTileHeight,v=p.tilemapLayer;v&&(h||(h=v.scene.cameras.main),g-=v.x+h.scrollX*(1-v.scrollFactorX),f-=v.y+h.scrollY*(1-v.scrollFactorY),u*=v.scaleX,m*=v.scaleY);var x=g/u,b=f/m;return d&&(x=Math.floor(x),b=Math.floor(b)),c.set(x,b)}},63288:(S,P,a)=>{var y=a(85896),g=new(a(26099));S.exports=function(d,c,h,p){return y(0,d,c,g,h,p),g.y}},81086:(S,P,a)=>{S.exports={CalculateFacesAt:a(72023),CalculateFacesWithin:a(42573),CheckIsoBounds:a(33528),Copy:a(1785),CreateFromTiles:a(78419),CullBounds:a(19545),CullTiles:a(30003),Fill:a(35137),FilterTiles:a(40253),FindByIndex:a(52692),FindTile:a(66151),ForEachTile:a(97560),GetCullTilesFunction:a(43305),GetTileAt:a(7423),GetTileAtWorldXY:a(60540),GetTileCorners:a(55826),GetTileCornersFunction:a(11758),GetTilesWithin:a(7386),GetTilesWithinShape:a(91141),GetTilesWithinWorldXY:a(96523),GetTileToWorldXFunction:a(39167),GetTileToWorldXYFunction:a(62e3),GetTileToWorldYFunction:a(5984),GetWorldToTileXFunction:a(96113),GetWorldToTileXYFunction:a(16926),GetWorldToTileYFunction:a(55762),HasTileAt:a(45091),HasTileAtWorldXY:a(24152),HexagonalCullBounds:a(90454),HexagonalCullTiles:a(9474),HexagonalGetTileCorners:a(27229),HexagonalTileToWorldXY:a(19951),HexagonalWorldToTileXY:a(86625),IsInLayerBounds:a(62991),IsometricCullTiles:a(14018),IsometricTileToWorldXY:a(14127),IsometricWorldToTileXY:a(96897),PutTileAt:a(71558),PutTileAtWorldXY:a(26303),PutTilesAt:a(14051),Randomize:a(77389),RemoveTileAt:a(63557),RemoveTileAtWorldXY:a(94178),RenderDebug:a(15533),ReplaceByIndex:a(27987),RunCull:a(32483),SetCollision:a(57068),SetCollisionBetween:a(37266),SetCollisionByExclusion:a(75661),SetCollisionByProperty:a(64740),SetCollisionFromCollisionGroup:a(63307),SetLayerCollisionIndex:a(9589),SetTileCollision:a(20576),SetTileIndexCallback:a(79583),SetTileLocationCallback:a(93254),Shuffle:a(32903),StaggeredCullBounds:a(61325),StaggeredCullTiles:a(54503),StaggeredTileToWorldXY:a(97202),StaggeredTileToWorldY:a(28054),StaggeredWorldToTileXY:a(15108),StaggeredWorldToTileY:a(51900),SwapByIndex:a(86560),TileToWorldX:a(97281),TileToWorldXY:a(70326),TileToWorldY:a(29650),WeightedRandomize:a(77366),WorldToTileX:a(10095),WorldToTileXY:a(85896),WorldToTileY:a(63288)}},91907:S=>{S.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(S,P,a)=>{var y={ORIENTATION:a(91907)};S.exports=y},62501:(S,P,a)=>{var y=a(79291),C=a(21829),g={Components:a(81086),Parsers:a(57442),Formats:a(80341),ImageCollection:a(16536),ParseToTilemap:a(31989),Tile:a(23029),Tilemap:a(49075),TilemapCreator:a(45939),TilemapFactory:a(46029),Tileset:a(33629),TilemapLayer:a(20442),Orientation:a(91907),LayerData:a(14977),MapData:a(87010),ObjectLayer:a(48700)};g=y(!1,g,C.ORIENTATION),S.exports=g},14977:(S,P,a)=>{var y=a(83419),C=a(91907),g=a(95540),f=new y({initialize:function(c){void 0===c&&(c={}),this.name=g(c,"name","layer"),this.id=g(c,"id",0),this.x=g(c,"x",0),this.y=g(c,"y",0),this.width=g(c,"width",0),this.height=g(c,"height",0),this.tileWidth=g(c,"tileWidth",0),this.tileHeight=g(c,"tileHeight",0),this.baseTileWidth=g(c,"baseTileWidth",this.tileWidth),this.baseTileHeight=g(c,"baseTileHeight",this.tileHeight),this.orientation=g(c,"orientation",C.ORTHOGONAL),this.widthInPixels=g(c,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=g(c,"heightInPixels",this.height*this.baseTileHeight),this.alpha=g(c,"alpha",1),this.visible=g(c,"visible",!0),this.properties=g(c,"properties",[]),this.indexes=g(c,"indexes",[]),this.collideIndexes=g(c,"collideIndexes",[]),this.callbacks=g(c,"callbacks",[]),this.bodies=g(c,"bodies",[]),this.data=g(c,"data",[]),this.tilemapLayer=g(c,"tilemapLayer",null),this.hexSideLength=g(c,"hexSideLength",0),this.staggerAxis=g(c,"staggerAxis","y"),this.staggerIndex=g(c,"staggerIndex","odd")}});S.exports=f},87010:(S,P,a)=>{var y=a(83419),C=a(91907),g=a(95540),f=new y({initialize:function(c){void 0===c&&(c={}),this.name=g(c,"name","map"),this.width=g(c,"width",0),this.height=g(c,"height",0),this.infinite=g(c,"infinite",!1),this.tileWidth=g(c,"tileWidth",0),this.tileHeight=g(c,"tileHeight",0),this.widthInPixels=g(c,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=g(c,"heightInPixels",this.height*this.tileHeight),this.format=g(c,"format",null),this.orientation=g(c,"orientation",C.ORTHOGONAL),this.renderOrder=g(c,"renderOrder","right-down"),this.version=g(c,"version","1"),this.properties=g(c,"properties",{}),this.layers=g(c,"layers",[]),this.images=g(c,"images",[]),this.objects=g(c,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=g(c,"collision",{}),this.tilesets=g(c,"tilesets",[]),this.imageCollections=g(c,"imageCollections",[]),this.tiles=g(c,"tiles",[]),this.hexSideLength=g(c,"hexSideLength",0),this.staggerAxis=g(c,"staggerAxis","y"),this.staggerIndex=g(c,"staggerIndex","odd")}});S.exports=f},48700:(S,P,a)=>{var y=a(83419),C=a(95540),g=new y({initialize:function(d){void 0===d&&(d={}),this.name=C(d,"name","object layer"),this.id=C(d,"id",0),this.opacity=C(d,"opacity",1),this.properties=C(d,"properties",{}),this.propertyTypes=C(d,"propertytypes",{}),this.type=C(d,"type","objectgroup"),this.visible=C(d,"visible",!0),this.objects=C(d,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});S.exports=g},6641:(S,P,a)=>{var y=a(91907);S.exports=function(g){return"isometric"===(g=g.toLowerCase())?y.ISOMETRIC:"staggered"===g?y.STAGGERED:"hexagonal"===g?y.HEXAGONAL:y.ORTHOGONAL}},46177:(S,P,a)=>{var y=a(80341),C=a(2342),g=a(82593),f=a(46594),d=a(87021);S.exports=function(h,p,u,m,v,x){var b;switch(p){case y.ARRAY_2D:b=C(h,u,m,v,x);break;case y.CSV:b=g(h,u,m,v,x);break;case y.TILED_JSON:b=f(h,u,x);break;case y.WELTMEISTER:b=d(h,u,x);break;default:console.warn("Unrecognized tilemap data format: "+p),b=null}return b}},2342:(S,P,a)=>{var y=a(80341),C=a(14977),g=a(87010),f=a(23029);S.exports=function(c,h,p,u,m){for(var v=new C({tileWidth:p,tileHeight:u}),x=new g({name:c,tileWidth:p,tileHeight:u,format:y.ARRAY_2D,layers:[v]}),b=[],T=h.length,_=0,A=0;A<h.length;A++){b[A]=[];for(var M=h[A],I=0;I<M.length;I++){var R=parseInt(M[I],10);b[A][I]=isNaN(R)||-1===R?m?null:new f(v,-1,I,A,p,u):new f(v,R,I,A,p,u)}0===_&&(_=M.length)}return x.width=v.width=_,x.height=v.height=T,x.widthInPixels=v.widthInPixels=_*p,x.heightInPixels=v.heightInPixels=T*u,v.data=b,x}},82593:(S,P,a)=>{var y=a(80341),C=a(2342);S.exports=function(f,d,c,h,p){var u=d.trim().split("\n").map(function(v){return v.split(",")}),m=C(f,u,c,h,p);return m.format=y.CSV,m}},6656:(S,P,a)=>{var y=a(14977),C=a(23029);S.exports=function(f,d){for(var c=[],h=0;h<f.layer.length;h++){for(var p=f.layer[h],u=new y({name:p.name,width:p.width,height:p.height,tileWidth:p.tilesize,tileHeight:p.tilesize,visible:1===p.visible}),m=[],v=[],x=0;x<p.data.length;x++){for(var b=0;b<p.data[x].length;b++){var _,T=p.data[x][b]-1;_=T>-1?new C(u,T,b,x,p.tilesize,p.tilesize):d?null:new C(u,-1,b,x,p.tilesize,p.tilesize),m.push(_)}v.push(m),m=[]}u.data=v,c.push(u)}return c}},96483:(S,P,a)=>{var y=a(33629);S.exports=function(g){for(var f=[],d=[],c=0;c<g.layer.length;c++){var h=g.layer[c],p=h.tilesetName;""!==p&&-1===d.indexOf(p)&&(d.push(p),f.push(new y(p,0,h.tilesize,h.tilesize,0,0)))}return f}},87021:(S,P,a)=>{var y=a(80341),C=a(87010),g=a(6656),f=a(96483);S.exports=function(c,h,p){if(0===h.layer.length)return console.warn("No layers found in the Weltmeister map: "+c),null;for(var u=0,m=0,v=0;v<h.layer.length;v++)h.layer[v].width>u&&(u=h.layer[v].width),h.layer[v].height>m&&(m=h.layer[v].height);var x=new C({width:u,height:m,name:c,tileWidth:h.layer[0].tilesize,tileHeight:h.layer[0].tilesize,format:y.WELTMEISTER});return x.layers=g(h,p),x.tilesets=f(h),x}},52833:(S,P,a)=>{S.exports={ParseTileLayers:a(6656),ParseTilesets:a(96483),ParseWeltmeister:a(87021)}},57442:(S,P,a)=>{S.exports={FromOrientationString:a(6641),Parse:a(46177),Parse2DArray:a(2342),ParseCSV:a(82593),Impact:a(52833),Tiled:a(96761)}},51233:(S,P,a)=>{var y=a(79291);S.exports=function(g){for(var f,d,h,p,u=0;u<g.layers.length;u++){f=g.layers[u],h=null;for(var m=0;m<f.data.length;m++){p=f.data[m];for(var v=0;v<p.length;v++)!(null===(d=p[v])||d.index<0)&&(d.width=(h=g.tilesets[g.tiles[d.index][2]]).tileWidth,d.height=h.tileHeight,h.tileProperties&&h.tileProperties[d.index-h.firstgid]&&(d.properties=y(d.properties,h.tileProperties[d.index-h.firstgid])))}}}},41868:S=>{S.exports=function(a){for(var y=window.atob(a),C=y.length,g=new Array(C/4),f=0;f<C;f+=4)g[f/4]=(y.charCodeAt(f)|y.charCodeAt(f+1)<<8|y.charCodeAt(f+2)<<16|y.charCodeAt(f+3)<<24)>>>0;return g}},84101:(S,P,a)=>{var y=a(33629);S.exports=function(g){var f,d,c=[];for(f=0;f<g.imageCollections.length;f++)for(var h=g.imageCollections[f],p=h.images,u=0;u<p.length;u++){var m=p[u];(d=new y(m.image,m.gid,h.imageWidth,h.imageHeight,0,0)).updateTileData(h.imageWidth,h.imageHeight),g.tilesets.push(d)}for(f=0;f<g.tilesets.length;f++)for(var v=(d=g.tilesets[f]).tileMargin,x=d.tileMargin,b=0,T=0,_=0,A=d.firstgid;A<d.firstgid+d.total&&(c[A]=[v,x,f],v+=d.tileWidth+d.tileSpacing,++b!==d.total&&(++T!==d.columns||(v=d.tileMargin,x+=d.tileHeight+d.tileSpacing,T=0,++_!==d.rows)));A++);return c}},79677:(S,P,a)=>{var y=a(95540);S.exports=function(g,f,d){if(!f)return{i:0,layers:g.layers,name:"",opacity:1,visible:!0,x:0,y:0};var c=f.x+y(f,"startx",0)*g.tilewidth+y(f,"offsetx",0),h=f.y+y(f,"starty",0)*g.tileheight+y(f,"offsety",0);return{i:0,layers:f.layers,name:d.name+f.name+"/",opacity:d.opacity*f.opacity,visible:d.visible&&f.visible,x:d.x+c,y:d.y+h}}},29920:S=>{var P=2147483648,a=1073741824,y=536870912;S.exports=function(g){var f=!!(g&P),d=!!(g&a),c=!!(g&y);g&=~(P|a|y);var h=0,p=!1;return f&&d&&c?(h=Math.PI/2,p=!0):f&&d&&!c?(h=Math.PI,p=!1):f&&!d&&c?(h=Math.PI/2,p=!1):!f||d||c?!f&&d&&c?(h=3*Math.PI/2,p=!1):f||!d||c?f||d||!c?!f&&!d&&!c&&(h=0,p=!1):(h=3*Math.PI/2,p=!0):(h=Math.PI,p=!0):(h=0,p=!0),{gid:g,flippedHorizontal:f,flippedVertical:d,flippedAntiDiagonal:c,rotation:h,flipped:p}}},12635:(S,P,a)=>{var y=a(95540),C=a(79677);S.exports=function(f){for(var d=[],c=[],h=C(f);h.i<h.layers.length||c.length>0;)if(h.i>=h.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}h=c.pop()}else{var p=h.layers[h.i];if(h.i++,"imagelayer"===p.type){var m=y(p,"offsetx",0)+y(p,"startx",0),v=y(p,"offsety",0)+y(p,"starty",0);d.push({name:h.name+p.name,image:p.image,x:h.x+m+p.x,y:h.y+v+p.y,alpha:h.opacity*p.opacity,visible:h.visible&&p.visible,properties:y(p,"properties",{})})}else if("group"===p.type){var u=C(f,p,h);c.push(h),h=u}}return d}},46594:(S,P,a)=>{var y=a(51233),C=a(84101),g=a(91907),f=a(62644),d=a(80341),c=a(6641),h=a(87010),p=a(12635),u=a(22611),m=a(28200),v=a(24619);S.exports=function(b,T,_){var A=f(T),M=new h({width:A.width,height:A.height,name:b,tileWidth:A.tilewidth,tileHeight:A.tileheight,orientation:c(A.orientation),format:d.TILED_JSON,version:A.version,properties:A.properties,renderOrder:A.renderorder,infinite:A.infinite});M.orientation===g.HEXAGONAL&&(M.hexSideLength=A.hexsidelength,M.staggerAxis=A.staggeraxis,M.staggerIndex=A.staggerindex),M.layers=m(A,_),M.images=p(A);var I=v(A);return M.tilesets=I.tilesets,M.imageCollections=I.imageCollections,M.objects=u(A),M.tiles=C(M),y(M),M}},52205:(S,P,a)=>{var y=a(18254),C=a(29920),g=function(c){return{x:c.x,y:c.y}},f=["id","name","type","rotation","properties","visible","x","y","width","height"];S.exports=function(c,h,p){void 0===h&&(h=0),void 0===p&&(p=0);var u=y(c,f);if(u.x+=h,u.y+=p,c.gid){var m=C(c.gid);u.gid=m.gid,u.flippedHorizontal=m.flippedHorizontal,u.flippedVertical=m.flippedVertical,u.flippedAntiDiagonal=m.flippedAntiDiagonal}else c.polyline?u.polyline=c.polyline.map(g):c.polygon?u.polygon=c.polygon.map(g):c.ellipse?u.ellipse=c.ellipse:c.text?u.text=c.text:c.point?u.point=!0:u.rectangle=!0;return u}},22611:(S,P,a)=>{var y=a(95540),C=a(52205),g=a(48700),f=a(79677);S.exports=function(c){for(var h=[],p=[],u=f(c);u.i<u.layers.length||p.length>0;)if(u.i>=u.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=p.pop()}else{var m=u.layers[u.i];if(u.i++,m.opacity*=u.opacity,m.visible=u.visible&&m.visible,"objectgroup"===m.type){m.name=u.name+m.name;for(var x=u.x+y(m,"startx",0)+y(m,"offsetx",0),b=u.y+y(m,"starty",0)+y(m,"offsety",0),T=[],_=0;_<m.objects.length;_++){var A=C(m.objects[_],x,b);T.push(A)}var M=new g(m);M.objects=T,h.push(M)}else if("group"===m.type){var v=f(c,m,u);p.push(u),u=v}}return h}},28200:(S,P,a)=>{var y=a(41868),C=a(91907),g=a(79677),f=a(6641),d=a(95540),c=a(14977),h=a(29920),p=a(23029);S.exports=function(m,v){for(var x=d(m,"infinite",!1),b=[],T=[],_=g(m);_.i<_.layers.length||T.length>0;)if(_.i>=_.layers.length){if(T.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}_=T.pop()}else{var A=_.layers[_.i];if(_.i++,"tilelayer"===A.type)if(A.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+A.name+"'");else{if(A.encoding&&"base64"===A.encoding){if(A.chunks)for(var I=0;I<A.chunks.length;I++)A.chunks[I].data=y(A.chunks[I].data);A.data&&(A.data=y(A.data)),delete A.encoding}var R,F,N,V,B=[],G=0;if(x){var Q=d(A,"startx",0)+A.x,H=d(A,"starty",0)+A.y;(R=new c({name:_.name+A.name,id:A.id,x:_.x+d(A,"offsetx",0)+Q*m.tilewidth,y:_.y+d(A,"offsety",0)+H*m.tileheight,width:A.width,height:A.height,tileWidth:m.tilewidth,tileHeight:m.tileheight,alpha:_.opacity*A.opacity,visible:_.visible&&A.visible,properties:d(A,"properties",[]),orientation:f(m.orientation)})).orientation===C.HEXAGONAL&&(R.hexSideLength=m.hexsidelength,R.staggerAxis=m.staggeraxis,R.staggerIndex=m.staggerindex);for(var K=0;K<A.height;K++){B[K]=[null];for(var tt=0;tt<A.width;tt++)B[K][tt]=null}for(K=0,Et=A.chunks.length;K<Et;K++)for(var at=A.chunks[K],lt=at.x-Q,q=at.y-H,it=0,Y=0,X=at.data.length;Y<X;Y++){var nt=G+lt,dt=it+q;(F=h(at.data[Y])).gid>0?((N=new p(R,F.gid,nt,dt,m.tilewidth,m.tileheight)).rotation=F.rotation,N.flipX=F.flipped,B[dt][nt]=N):(V=v?null:new p(R,-1,nt,dt,m.tilewidth,m.tileheight),B[dt][nt]=V),++G===at.width&&(it++,G=0)}}else{(R=new c({name:_.name+A.name,id:A.id,x:_.x+d(A,"offsetx",0)+A.x,y:_.y+d(A,"offsety",0)+A.y,width:A.width,height:A.height,tileWidth:m.tilewidth,tileHeight:m.tileheight,alpha:_.opacity*A.opacity,visible:_.visible&&A.visible,properties:d(A,"properties",[]),orientation:f(m.orientation)})).orientation===C.HEXAGONAL&&(R.hexSideLength=m.hexsidelength,R.staggerAxis=m.staggeraxis,R.staggerIndex=m.staggerindex);for(var gt=[],bt=0,Et=A.data.length;bt<Et;bt++)(F=h(A.data[bt])).gid>0?((N=new p(R,F.gid,G,B.length,m.tilewidth,m.tileheight)).rotation=F.rotation,N.flipX=F.flipped,gt.push(N)):(V=v?null:new p(R,-1,G,B.length,m.tilewidth,m.tileheight),gt.push(V)),++G===A.width&&(B.push(gt),G=0,gt=[])}R.data=B,b.push(R)}else if("group"===A.type){var M=g(m,A,_);T.push(_),_=M}}return b}},24619:(S,P,a)=>{var y=a(33629),C=a(16536),g=a(52205),f=a(57880);S.exports=function(c){for(var m,h=[],p=[],u=null,v=0;v<c.tilesets.length;v++){var x=c.tilesets[v];if(x.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(x.image){var b=new y(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,void 0,void 0,x.tileoffset);if(c.version>1){var T=void 0,_=void 0;if(Array.isArray(x.tiles)){T=T||{},_=_||{};for(var A=0;A<x.tiles.length;A++){var M=x.tiles[A];if(M.properties){var I={};M.properties.forEach(function(K){I[K.name]=K.value}),_[M.id]=I}if(M.objectgroup&&((T[M.id]||(T[M.id]={})).objectgroup=M.objectgroup,M.objectgroup.objects)){var R=M.objectgroup.objects.map(function(K){return g(K)});T[M.id].objectgroup.objects=R}M.animation&&((T[M.id]||(T[M.id]={})).animation=M.animation),M.type&&((T[M.id]||(T[M.id]={})).type=M.type)}}Array.isArray(x.wangsets)&&(_=_||{},f(x.wangsets,T=T||{})),T&&(b.tileData=T,b.tileProperties=_)}else if(x.tileproperties&&(b.tileProperties=x.tileproperties),x.tiles)for(m in b.tileData=x.tiles,b.tileData){var F=b.tileData[m].objectgroup;if(F&&F.objects){var N=F.objects.map(function(K){return g(K)});b.tileData[m].objectgroup.objects=N}}b.updateTileData(x.imagewidth,x.imageheight),h.push(b)}else{var V=new C(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,x.properties),B=0;for(A=0;A<x.tiles.length;A++){var G=(M=x.tiles[A]).image,Q=parseInt(M.id,10);V.addImage(x.firstgid+Q,G),B=Math.max(Q,B)}V.maxId=B,p.push(V)}u&&(u.lastgid=x.firstgid-1),u=x}return{tilesets:h,imageCollections:p}}},57880:S=>{S.exports=function(a,y){for(var C=0;C<a.length;C++){var g=a[C],f=C;if(g.name&&""!==g.name&&(f=g.name),Array.isArray(g.wangtiles)&&g.wangtiles.length>0){var h,p,u,d={},c={};if(Array.isArray(g.edgecolors))for(h=0;h<g.edgecolors.length;h++)u=1+h,""!==(p=g.edgecolors[h]).name&&(d[u]=p.name);if(Array.isArray(g.cornercolors))for(h=0;h<g.cornercolors.length;h++)u=1+h,""!==(p=g.cornercolors[h]).name&&(c[u]=p.name);if(Array.isArray(g.colors))for(h=0;h<g.colors.length;h++)u=1+h,""!==(p=g.colors[h]).name&&(d[u]=c[u]=p.name);for(var m=[d,c,d,c,d,c,d,c],v=0;v<g.wangtiles.length;v++){var x=g.wangtiles[v],b=y[x.tileid]||(y[x.tileid]={});b=b.wangid||(b.wangid={});for(var T=[],_=0;_<Math.min(m.length,x.wangid.length);_++)if(0!==(p=x.wangid[_])){var A=m[_][p];T.push(void 0===A?p:A)}else T.push(void 0);b[f]=T}}}}},96761:(S,P,a)=>{S.exports={AssignTileProperties:a(51233),Base64Decode:a(41868),BuildTilesetIndex:a(84101),CreateGroupLayer:a(79677),ParseGID:a(29920),ParseImageLayers:a(12635),ParseJSONTiled:a(46594),ParseObject:a(52205),ParseObjectLayers:a(22611),ParseTileLayers:a(28200),ParseTilesets:a(24619)}},33385:(S,P,a)=>{var y=a(83419),C=a(37277),g=a(44594),f=a(94880),d=a(72905),c=new y({initialize:function(p){this.scene=p,this.systems=p.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],p.sys.events.once(g.BOOT,this.boot,this),p.sys.events.on(g.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(g.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var h=this.systems.events;h.on(g.PRE_UPDATE,this.preUpdate,this),h.on(g.UPDATE,this.update,this),h.once(g.SHUTDOWN,this.shutdown,this)},addEvent:function(h){var p;return h instanceof f?(this.removeEvent(p=h),p.elapsed=p.startAt,p.hasDispatched=!1,p.repeatCount=-1===p.repeat||p.loop?999999999999:p.repeat):p=new f(h),this._pendingInsertion.push(p),p},delayedCall:function(h,p,u,m){return this.addEvent({delay:h,callback:p,args:u,callbackScope:m})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(h){Array.isArray(h)||(h=[h]);for(var p=0;p<h.length;p++){var u=h[p];d(this._pendingRemoval,u),d(this._pendingInsertion,u),d(this._active,u)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var h=this._pendingRemoval.length,p=this._pendingInsertion.length;if(0!==h||0!==p){var u,m;for(u=0;u<h;u++){var v=this._active.indexOf(m=this._pendingRemoval[u]);v>-1&&this._active.splice(v,1),m.destroy()}for(u=0;u<p;u++)this._active.push(m=this._pendingInsertion[u]);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(h,p){if(this.now=h,!this.paused){p*=this.timeScale;for(var u=0;u<this._active.length;u++){var m=this._active[u];if(!m.paused&&(m.elapsed+=p*m.timeScale,m.elapsed>=m.delay)){var v=m.elapsed-m.delay;if(m.elapsed=m.delay,!m.hasDispatched&&m.callback&&(m.hasDispatched=!0,m.callback.apply(m.callbackScope,m.args)),m.repeatCount>0){if(m.repeatCount--,v>=m.delay)for(;v>=m.delay&&m.repeatCount>0;)m.callback&&m.callback.apply(m.callbackScope,m.args),v-=m.delay,m.repeatCount--;m.elapsed=v,m.hasDispatched=!1}else m.hasDispatched&&this._pendingRemoval.push(m)}}}},shutdown:function(){var h;for(h=0;h<this._pendingInsertion.length;h++)this._pendingInsertion[h].destroy();for(h=0;h<this._active.length;h++)this._active[h].destroy();for(h=0;h<this._pendingRemoval.length;h++)this._pendingRemoval[h].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var p=this.systems.events;p.off(g.PRE_UPDATE,this.preUpdate,this),p.off(g.UPDATE,this.update,this),p.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null}});C.register("Clock",c,"time"),S.exports=c},96120:(S,P,a)=>{var y=a(83419),C=a(50792),g=a(39429),f=a(95540),d=a(44594),c=a(89809),h=new y({Extends:C,initialize:function(u,m){C.call(this),this.scene=u,this.systems=u.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var v=this.systems.events;v.on(d.PRE_UPDATE,this.preUpdate,this),v.on(d.UPDATE,this.update,this),v.once(d.SHUTDOWN,this.destroy,this),m&&this.add(m)},preUpdate:function(p,u){this.paused||(this.elapsed+=u*this.timeScale)},update:function(){if(!this.paused&&!this.complete){var p,x,u=this.events,m=!1,v=this.systems;for(p=0;p<u.length;p++){var b=u[p];if(!b.complete&&b.time<=this.elapsed){if(b.complete=!0,this.totalComplete++,x=b.target?b.target:this,b.if&&!b.if.call(x,b))continue;if(b.once&&(m=!0),b.set&&b.target)for(var T in b.set)b.target[T]=b.set[T];this.iteration&&b.repeat++,b.loop&&b.repeat&&b.loop.call(x),b.tween&&(b.tweenInstance=v.tweens.add(b.tween)),b.sound&&("string"==typeof b.sound?v.sound.play(b.sound):v.sound.play(b.sound.key,b.sound.config)),b.event&&this.emit(b.event,x),b.run&&b.run.call(x),b.stop&&this.stop()}}if(m)for(p=0;p<u.length;p++)u[p].complete&&u[p].once&&(u.splice(p,1),p--);this.totalComplete>=u.length&&(0!==this.loop&&(-1===this.loop||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(c.COMPLETE,this)}},play:function(p){return void 0===p&&(p=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,p&&this.reset(),this},pause:function(){this.paused=!0;for(var p=this.events,u=0;u<p.length;u++){var m=p[u];m.tweenInstance&&(m.tweenInstance.paused=!0)}return this},repeat:function(p){return(void 0===p||!0===p)&&(p=-1),!1===p&&(p=0),this.loop=p,this},resume:function(){this.paused=!1;for(var p=this.events,u=0;u<p.length;u++){var m=p[u];m.tweenInstance&&(m.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(p){void 0===p&&(p=!1),this.elapsed=0,p||(this.iteration=0);for(var u=this.events,m=0;m<u.length;m++){var v=u[m];v.complete=!1,p||(v.repeat=0),v.tweenInstance&&v.tweenInstance.stop()}return this.play(!1)},add:function(p){Array.isArray(p)||(p=[p]);var u=this.events,m=0;u.length>0&&(m=u[u.length-1].time);for(var v=0;v<p.length;v++){var x=p[v],b=f(x,"at",0),T=f(x,"in",null);null!==T&&(b=this.elapsed+T);var _=f(x,"from",null);null!==_&&(b=m+_),u.push({complete:!1,time:b,repeat:0,if:f(x,"if",null),run:f(x,"run",null),loop:f(x,"loop",null),event:f(x,"event",null),target:f(x,"target",null),set:f(x,"set",null),tween:f(x,"tween",null),sound:f(x,"sound",null),once:f(x,"once",!1),stop:f(x,"stop",!1)}),m=b}return this.complete=!1,this},clear:function(){for(var p=this.events,u=0;u<p.length;u++){var m=p[u];m.tweenInstance&&m.tweenInstance.stop()}return p=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){return Math.min(this.totalComplete,this.events.length)/this.events.length},destroy:function(){var p=this.systems.events;p.off(d.PRE_UPDATE,this.preUpdate,this),p.off(d.UPDATE,this.update,this),p.off(d.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});g.register("timeline",function(p){return new h(this.scene,p)}),S.exports=h},94880:(S,P,a)=>{var y=a(83419),C=a(95540),g=new y({initialize:function(d){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(d)},reset:function(f){if(this.delay=C(f,"delay",0),this.repeat=C(f,"repeat",0),this.loop=C(f,"loop",!1),this.callback=C(f,"callback",void 0),this.callbackScope=C(f,"callbackScope",this),this.args=C(f,"args",[]),this.timeScale=C(f,"timeScale",1),this.startAt=C(f,"startAt",0),this.paused=C(f,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,0===this.delay&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){return this.repeat>0?(this.elapsed+this.delay*(this.repeat-this.repeatCount))/(this.delay+this.delay*this.repeat):this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(f){void 0===f&&(f=!1),this.elapsed=this.delay,this.hasDispatched=!f,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});S.exports=g},35945:S=>{S.exports="complete"},89809:(S,P,a)=>{S.exports={COMPLETE:a(35945)}},90291:(S,P,a)=>{S.exports={Clock:a(33385),Events:a(89809),Timeline:a(96120),TimerEvent:a(94880)}},40382:(S,P,a)=>{var y=a(72905),C=a(83419),g=a(43491),f=a(88032),d=a(37277),c=a(44594),h=a(93109),p=a(86081),u=a(8357),m=a(43960),v=a(26012),x=new C({initialize:function(T){this.scene=T,this.events=T.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(c.UPDATE,this.update,this),this.events.once(c.SHUTDOWN,this.shutdown,this)},create:function(b){Array.isArray(b)||(b=[b]);for(var T=[],_=0;_<b.length;_++){var A=b[_];A instanceof p||A instanceof m?T.push(A):Array.isArray(A.tweens)?T.push(v(this,A)):T.push(u(this,A))}return 1===T.length?T[0]:T},add:function(b){var T=b,_=this.tweens;return T instanceof p||T instanceof m||(T=Array.isArray(T.tweens)?v(this,T):u(this,T)),_.push(T.reset()),T},addMultiple:function(b){for(var T,_=[],A=this.tweens,M=0;M<b.length;M++)(T=b[M])instanceof p||T instanceof m||(T=Array.isArray(T.tweens)?v(this,T):u(this,T)),A.push(T.reset()),_.push(T);return _},chain:function(b){var T=v(this,b);return this.tweens.push(T.init()),T},getChainedTweens:function(b){return b.getChainedTweens()},has:function(b){return this.tweens.indexOf(b)>-1},existing:function(b){return this.has(b)||this.tweens.push(b.reset()),this},addCounter:function(b){var T=f(this,b);return this.tweens.push(T.reset()),T},stagger:function(b,T){return h(b,T)},setLagSmooth:function(b,T){return void 0===b&&(b=1/1e-8),void 0===T&&(T=0),this.maxLag=b,this.lagSkip=Math.min(T,this.maxLag),this},setFps:function(b){return void 0===b&&(b=240),this.gap=1e3/b,this.nextTime=1e3*this.time+this.gap,this},getDelta:function(b){var T=Date.now()-this.prevTime;T>this.maxLag&&(this.startTime+=T-this.lagSkip),this.prevTime+=T;var _=this.prevTime-this.startTime,A=_-this.nextTime,M=_-1e3*this.time;return A>0||b?(this.time=_/=1e3,this.nextTime+=A+(A>=this.gap?4:this.gap-A)):M=0,M},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(b){void 0===b&&(b=!1);var T=this.getDelta(b);if(!(T<=0)){this.processing=!0;var _,A,M=[],I=this.tweens;for(_=0;_<I.length;_++)(A=I[_]).update(T)&&M.push(A);var R=M.length;if(R&&I.length>0){for(_=0;_<R;_++){var F=I.indexOf(A=M[_]);F>-1&&(A.isPendingRemove()||A.isDestroyed())&&(I.splice(F,1),A.destroy())}M.length=0}this.processing=!1}},remove:function(b){return this.processing?b.setPendingRemoveState():(y(this.tweens,b),b.setRemovedState()),this},reset:function(b){return this.existing(b),b.seek(),b.setActiveState(),this},makeActive:function(b){return this.existing(b),b.setActiveState(),this},each:function(b,T){var _,A=[null];for(_=1;_<arguments.length;_++)A.push(arguments[_]);return this.tweens.forEach(function(M){A[0]=M,b.apply(T,A)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(b){for(var T=[],_=this.tweens,A=(b=Array.isArray(b)?g(b):[b]).length,M=0;M<_.length;M++)for(var I=_[M],R=0;R<A;R++)!I.isDestroyed()&&I.hasTarget(b[R])&&T.push(I);return T},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(b){return this.timeScale=b,this},isTweening:function(b){for(var _,T=this.tweens,A=0;A<T.length;A++)if((_=T[A]).isPlaying()&&_.hasTarget(b))return!0;return!1},killAll:function(){for(var b=this.processing?this.getTweens():this.tweens,T=0;T<b.length;T++)b[T].destroy();return this.processing||(b.length=0),this},killTweensOf:function(b){for(var T=this.getTweensOf(b),_=0;_<T.length;_++)T[_].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(c.UPDATE,this.update,this),this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.events=null}});d.register("TweenManager",x,"tweens"),S.exports=x},57355:S=>{S.exports=function(a,y,C){return a&&a.hasOwnProperty(y)?a[y]:C}},6113:(S,P,a)=>{var y=a(62640),C=a(35355);S.exports=function(f,d){var c=y.Power0;if("string"==typeof f)if(y.hasOwnProperty(f))c=y[f];else{var h="";if(f.indexOf(".")){var p=(h=f.substring(f.indexOf(".")+1)).toLowerCase();"in"===p?h="easeIn":"out"===p?h="easeOut":"inout"===p&&(h="easeInOut")}f=C(f.substring(0,f.indexOf(".")+1)+h),y.hasOwnProperty(f)&&(c=y[f])}else"function"==typeof f&&(c=f);if(!d)return c;var u=d.slice(0);return u.unshift(0),function(m){return u[0]=m,c.apply(this,u)}}},91389:(S,P,a)=>{var y=a(89318),C=a(77259),f={bezier:y,catmull:C,catmullrom:C,linear:a(28392)};S.exports=function(c){if(null===c)return null;var h=f.linear;return"string"==typeof c?f.hasOwnProperty(c)&&(h=f[c]):"function"==typeof c&&(h=c),h}},55292:S=>{S.exports=function(a,y,C){return a.hasOwnProperty(y)?"function"==typeof a[y]?function(d,c,h,p,u,m){return a[y](d,c,h,p,u,m)}:function(){return a[y]}:"function"==typeof C?C:function(){return C}}},82985:(S,P,a)=>{var y=a(81076);S.exports=function(g){var f,d=[];if(g.hasOwnProperty("props"))for(f in g.props)"_"!==f.substring(0,1)&&d.push({key:f,value:g.props[f]});else for(f in g)-1===y.indexOf(f)&&"_"!==f.substring(0,1)&&d.push({key:f,value:g[f]});return d}},62329:(S,P,a)=>{var y=a(35154);S.exports=function(g){var f=y(g,"targets",null);return null===f||("function"==typeof f&&(f=f.call()),Array.isArray(f)||(f=[f])),f}},17777:(S,P,a)=>{var y=a(30976),C=a(99472);function g(p){return!!p.getActive&&"function"==typeof p.getActive}function f(p){return!!p.getStart&&"function"==typeof p.getStart}function d(p){return!!p.getEnd&&"function"==typeof p.getEnd}var h=function(p,u){var m,v=function(at,lt,q){return q},x=function(at,lt,q){return q},b=null,T=typeof u;if("number"===T)v=function(){return u};else if(Array.isArray(u))x=function(){return u[0]},v=function(){return u[u.length-1]};else if("string"===T){var _=u.toLowerCase(),A="random"===_.substring(0,6),M="int"===_.substring(0,3);if(A||M){var I=_.indexOf("("),R=_.indexOf(")"),F=_.indexOf(",");if(!(I&&R&&F))throw new Error("invalid random() format");var N=parseFloat(_.substring(I+1,F)),V=parseFloat(_.substring(F+1,R));v=A?function(){return C(N,V)}:function(){return y(N,V)}}else{_=_[0];var B=parseFloat(u.substr(2));switch(_){case"+":v=function(at,lt,q){return q+B};break;case"-":v=function(at,lt,q){return q-B};break;case"*":v=function(at,lt,q){return q*B};break;case"/":v=function(at,lt,q){return q/B};break;default:v=function(){return parseFloat(u)}}}}else if("function"===T)v=u;else if("object"===T)if(function c(p){return f(p)||d(p)||g(p)}(u))g(u)&&(b=u.getActive),d(u)&&(v=u.getEnd),f(u)&&(x=u.getStart);else if(u.hasOwnProperty("value"))m=h(p,u.value);else{var G=u.hasOwnProperty("to"),Q=u.hasOwnProperty("from"),H=u.hasOwnProperty("start");if(G&&(Q||H)){if(m=h(p,u.to),H){var K=h(p,u.start);m.getActive=K.getEnd}if(Q){var tt=h(p,u.from);m.getStart=tt.getEnd}}}return m||(m={getActive:b,getEnd:v,getStart:x}),m};S.exports=h},88032:(S,P,a)=>{var y=a(70402),C=a(69902),g=a(23568),f=a(57355),d=a(6113),c=a(55292),h=a(35154),p=a(17777),u=a(269),m=a(86081);S.exports=function(x,b,T){if(b instanceof m)return b.parent=x,b;T=void 0===T?C:u(C,T);var _=h(b,"from",0),A=h(b,"to",1),M=[{value:_}],I=h(b,"delay",T.delay),R=h(b,"easeParams",T.easeParams),F=h(b,"ease",T.ease),N=p("value",A),V=new m(x,M),B=V.add(0,"value",N.getEnd,N.getStart,N.getActive,d(h(b,"ease",F),h(b,"easeParams",R)),c(b,"delay",I),h(b,"duration",T.duration),f(b,"yoyo",T.yoyo),h(b,"hold",T.hold),h(b,"repeat",T.repeat),h(b,"repeatDelay",T.repeatDelay),!1,!1);B.start=_,B.current=_,V.completeDelay=g(b,"completeDelay",0),V.loop=Math.round(g(b,"loop",0)),V.loopDelay=Math.round(g(b,"loopDelay",0)),V.paused=f(b,"paused",!1),V.persist=f(b,"persist",!1),V.callbackScope=h(b,"callbackScope",V);for(var G=y.TYPES,Q=0;Q<G.length;Q++){var H=G[Q],K=h(b,H,!1);if(K){var tt=h(b,H+"Params",[]);V.setCallback(H,K,tt)}}return V}},93109:(S,P,a)=>{var y=a(6113),C=a(35154),g=a(36383);S.exports=function(d,c){void 0===c&&(c={});var p=C(c,"start",0),u=C(c,"ease",null),m=C(c,"grid",null),v=C(c,"from",0),x="first"===v,b="center"===v,T="last"===v,_="number"==typeof v,A=Array.isArray(d),M=parseFloat(A?d[0]:d),I=A?parseFloat(d[1]):0,R=Math.max(M,I);if(A&&(p+=M),m){var F=m[0],N=m[1],V=0,B=0,G=0,Q=0,H=[];T?(V=F-1,B=N-1):_?(V=v%F,B=Math.floor(v/F)):b&&(V=(F-1)/2,B=(N-1)/2);for(var K=g.MIN_SAFE_INTEGER,tt=0;tt<N;tt++){H[tt]=[];for(var at=0;at<F;at++){G=V-at,Q=B-tt;var lt=Math.sqrt(G*G+Q*Q);lt>K&&(K=lt),H[tt][at]=lt}}}var q=u?y(u):null;return m?function(it,Y,X,nt){var Et,dt=0,gt=nt%F,bt=Math.floor(nt/F);if(gt>=0&&gt<F&&bt>=0&&bt<N&&(dt=H[bt][gt]),A){var Bt=I-M;Et=q?dt/K*Bt*q(dt/K):dt/K*Bt}else Et=q?dt*M*q(dt/K):dt*M;return Et+p}:function(it,Y,X,nt,dt){var gt,bt,Et;return dt--,x?gt=nt:b?gt=Math.abs(dt/2-nt):T?gt=dt-nt:_&&(gt=Math.abs(v-nt)),A?(Et=b?(I-M)/dt*(2*gt):(I-M)/dt*gt,bt=q?Et*q(gt/dt):Et):bt=q?dt*R*q(gt/dt):gt*M,bt+p}}},8357:(S,P,a)=>{var y=a(70402),C=a(69902),g=a(23568),f=a(57355),d=a(6113),c=a(91389),h=a(55292),p=a(82985),u=a(62329),m=a(35154),v=a(17777),x=a(269),b=a(86081);S.exports=function(_,A,M){if(A instanceof b)return A.parent=_,A;M=void 0===M?C:x(C,M);var I=u(A);!I&&M.targets&&(I=M.targets);for(var R=p(A),F=m(A,"delay",M.delay),N=m(A,"duration",M.duration),V=m(A,"easeParams",M.easeParams),B=m(A,"ease",M.ease),G=m(A,"hold",M.hold),Q=m(A,"repeat",M.repeat),H=m(A,"repeatDelay",M.repeatDelay),K=f(A,"yoyo",M.yoyo),tt=f(A,"flipX",M.flipX),at=f(A,"flipY",M.flipY),lt=m(A,"interpolation",M.interpolation),q=function(Zt,ne,ae,fe){if("texture"===ae){var ke=fe,Ye=void 0;Array.isArray(fe)?(ke=fe[0],Ye=fe[1]):fe.hasOwnProperty("value")?(ke=fe.value,Array.isArray(fe.value)?(ke=fe.value[0],Ye=fe.value[1]):"string"==typeof fe.value&&(ke=fe.value)):"string"==typeof fe&&(ke=fe),Zt.addFrame(ne,ke,Ye,h(fe,"delay",F),m(fe,"duration",N),m(fe,"hold",G),m(fe,"repeat",Q),m(fe,"repeatDelay",H),f(fe,"flipX",tt),f(fe,"flipY",at))}else{var Pe=v(ae,fe),Qe=c(m(fe,"interpolation",lt));Zt.add(ne,ae,Pe.getEnd,Pe.getStart,Pe.getActive,d(m(fe,"ease",B),m(fe,"easeParams",V)),h(fe,"delay",F),m(fe,"duration",N),f(fe,"yoyo",K),m(fe,"hold",G),m(fe,"repeat",Q),m(fe,"repeatDelay",H),f(fe,"flipX",tt),f(fe,"flipY",at),Qe,Qe?fe:null)}},it=new b(_,I),Y=0;Y<R.length;Y++)for(var X=R[Y].key,nt=R[Y].value,dt=0;dt<I.length;dt++)"scale"!==X||I[dt].hasOwnProperty("scale")?q(it,dt,X,nt):(q(it,dt,"scaleX",nt),q(it,dt,"scaleY",nt));it.completeDelay=g(A,"completeDelay",0),it.loop=Math.round(g(A,"loop",0)),it.loopDelay=Math.round(g(A,"loopDelay",0)),it.paused=f(A,"paused",!1),it.persist=f(A,"persist",!1),it.callbackScope=m(A,"callbackScope",it);for(var gt=y.TYPES,bt=0;bt<gt.length;bt++){var Et=gt[bt],Bt=m(A,Et,!1);if(Bt){var Kt=m(A,Et+"Params",[]);it.setCallback(Et,Bt,Kt)}}return it}},26012:(S,P,a)=>{var y=a(70402),C=a(23568),g=a(57355),f=a(62329),d=a(35154),c=a(8357),h=a(43960);S.exports=function(u,m){if(m instanceof h)return m.parent=u,m;var v=new h(u);v.startDelay=d(m,"delay",0),v.completeDelay=C(m,"completeDelay",0),v.loop=Math.round(C(m,"loop",d(m,"repeat",0))),v.loopDelay=Math.round(C(m,"loopDelay",d(m,"repeatDelay",0))),v.paused=g(m,"paused",!1),v.persist=g(m,"persist",!1),v.callbackScope=d(m,"callbackScope",v);var x,b=y.TYPES;for(x=0;x<b.length;x++){var T=b[x],_=d(m,T,!1);if(_){var A=d(m,T+"Params",[]);v.setCallback(T,_,A)}}var M=d(m,"tweens",null);if(Array.isArray(M)){var I=[],R=f(m),F=void 0;for(R&&(F={targets:R}),x=0;x<M.length;x++)I.push(c(v,M[x],F));v.add(I)}return v}},30231:(S,P,a)=>{S.exports={GetBoolean:a(57355),GetEaseFunction:a(6113),GetInterpolationFunction:a(91389),GetNewValue:a(55292),GetProps:a(82985),GetTargets:a(62329),GetValueOp:a(17777),NumberTweenBuilder:a(88032),StaggerBuilder:a(93109),TweenBuilder:a(8357)}},73685:S=>{S.exports="active"},98540:S=>{S.exports="complete"},67233:S=>{S.exports="loop"},2859:S=>{S.exports="pause"},98336:S=>{S.exports="repeat"},25764:S=>{S.exports="resume"},32193:S=>{S.exports="start"},84371:S=>{S.exports="stop"},70766:S=>{S.exports="update"},55659:S=>{S.exports="yoyo"},842:(S,P,a)=>{S.exports={TWEEN_ACTIVE:a(73685),TWEEN_COMPLETE:a(98540),TWEEN_LOOP:a(67233),TWEEN_PAUSE:a(2859),TWEEN_RESUME:a(25764),TWEEN_REPEAT:a(98336),TWEEN_START:a(32193),TWEEN_STOP:a(84371),TWEEN_UPDATE:a(70766),TWEEN_YOYO:a(55659)}},43066:(S,P,a)=>{var y={States:a(86353),Builders:a(30231),Events:a(842),TweenManager:a(40382),Tween:a(86081),TweenData:a(48177),TweenFrameData:a(42220),BaseTween:a(70402),TweenChain:a(43960)};S.exports=y},70402:(S,P,a)=>{var y=a(83419),C=a(50792),g=a(842),f=a(86353),d=new y({Extends:C,initialize:function(h){C.call(this),this.parent=h,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=f.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.persist=!1},setTimeScale:function(c){return this.timeScale=c,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(g.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(g.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(g.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(g.TWEEN_COMPLETE,"onComplete")},complete:function(c){return void 0===c&&(c=0),c?(this.setCompleteDelayState(),this.countdown=c):this.onCompleteHandler(),this},completeAfterLoop:function(c){return void 0===c&&(c=0),this.loopCounter>c&&(this.loopCounter=c),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(g.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(c){this.countdown-=c,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(g.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(c){return this.countdown-=c,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(g.TWEEN_START,"onStart"),c=0),c},updateCompleteDelay:function(c){this.countdown-=c,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(c,h,p){return void 0===p&&(p=[]),this.callbacks.hasOwnProperty(c)&&(this.callbacks[c]={func:h,params:p}),this},setPendingState:function(){this.state=f.PENDING},setActiveState:function(){this.state=f.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=f.LOOP_DELAY},setCompleteDelayState:function(){this.state=f.COMPLETE_DELAY},setStartDelayState:function(){this.state=f.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=f.PENDING_REMOVE},setRemovedState:function(){this.state=f.REMOVED},setFinishedState:function(){this.state=f.FINISHED},setDestroyedState:function(){this.state=f.DESTROYED},isPending:function(){return this.state===f.PENDING},isActive:function(){return this.state===f.ACTIVE},isLoopDelayed:function(){return this.state===f.LOOP_DELAY},isCompleteDelayed:function(){return this.state===f.COMPLETE_DELAY},isStartDelayed:function(){return this.state===f.START_DELAY},isPendingRemove:function(){return this.state===f.PENDING_REMOVE},isRemoved:function(){return this.state===f.REMOVED},isFinished:function(){return this.state===f.FINISHED},isDestroyed:function(){return this.state===f.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(c){c.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});d.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],S.exports=d},95042:(S,P,a)=>{var y=a(83419),C=a(842),g=a(86353),f=new y({initialize:function(c,h,p,u,m,v,x,b,T,_){this.tween=c,this.targetIndex=h,this.duration=u,this.totalDuration=0,this.delay=0,this.getDelay=p,this.yoyo=m,this.hold=v,this.repeat=x,this.repeatDelay=b,this.repeatCounter=0,this.flipX=T,this.flipY=_,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(d){void 0===d&&(d=this.current),this.tween.targets[this.targetIndex][this.key]=d},setCreatedState:function(){this.state=g.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=g.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=g.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=g.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=g.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=g.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=g.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=g.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===g.CREATED},isDelayed:function(){return this.state===g.DELAY},isPendingRender:function(){return this.state===g.PENDING_RENDER},isPlayingForward:function(){return this.state===g.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===g.PLAYING_BACKWARD},isHolding:function(){return this.state===g.HOLD_DELAY},isRepeating:function(){return this.state===g.REPEAT_DELAY},isComplete:function(){return this.state===g.COMPLETE},setStateFromEnd:function(d){this.yoyo?this.onRepeat(d,!0,!0):this.repeatCounter>0?this.onRepeat(d,!0,!1):this.setCompleteState()},setStateFromStart:function(d){this.repeatCounter>0?this.onRepeat(d,!1):this.setCompleteState()},reset:function(){var d=this.tween,c=d.totalTargets,h=this.targetIndex,p=d.targets[h],u=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(p,u,0,h,c,d),this.repeatCounter=-1===this.repeat?g.MAX:this.repeat,this.setPendingRenderState();var m=this.duration+this.hold;this.yoyo&&(m+=this.duration);var v=m+this.repeatDelay;this.totalDuration=this.delay+m,-1===this.repeat?(this.totalDuration+=v*g.MAX,d.isInfinite=!0):this.repeat>0&&(this.totalDuration+=v*this.repeat),this.totalDuration>d.duration&&(d.duration=this.totalDuration),this.delay<d.startDelay&&(d.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(d,c,h){var p=this.tween,u=p.totalTargets,m=this.targetIndex,v=p.targets[m],x=this.key,b="texture"!==x;if(this.elapsed=d,this.progress=d/this.duration,this.flipX&&v.toggleFlipX(),this.flipY&&v.toggleFlipY(),b&&(c||h)&&(this.start=this.getStartValue(v,x,this.start,m,u,p)),h)return this.setPlayingBackwardState(),void this.dispatchEvent(C.TWEEN_YOYO,"onYoyo");this.repeatCounter--,b&&(this.end=this.getEndValue(v,x,this.start,m,u,p)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-d,b&&(this.current=this.start,v[x]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(C.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});S.exports=f},69902:S=>{S.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null}},81076:S=>{S.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(S,P,a)=>{var y=a(70402),C=a(83419),g=a(842),f=a(44603),d=a(39429),c=a(36383),h=a(86353),p=a(48177),u=a(42220),m=new C({Extends:y,initialize:function(x,b){y.call(this,x),this.targets=b,this.totalTargets=b.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(v,x,b,T,_,A,M,I,R,F,N,V,B,G,Q,H){var K=new p(this,v,x,b,T,_,A,M,I,R,F,N,V,B,G,Q,H);return this.totalData=this.data.push(K),K},addFrame:function(v,x,b,T,_,A,M,I,R,F){var N=new u(this,v,x,b,T,_,A,M,I,R,F);return this.totalData=this.data.push(N),N},getValue:function(v){void 0===v&&(v=0);var x=null;return this.data&&(x=this.data[v].current),x},hasTarget:function(v){return this.targets&&-1!==this.targets.indexOf(v)},updateTo:function(v,x,b){if(void 0===b&&(b=!1),"texture"!==v)for(var T=0;T<this.totalData;T++){var _=this.data[T];_.key===v&&(_.isPlayingForward()||_.isPlayingBackward())&&(_.end=x,b&&(_.start=_.current))}return this},restart:function(){switch(this.state){case h.REMOVED:case h.FINISHED:this.seek(),this.parent.makeActive(this);break;case h.PENDING:case h.PENDING_REMOVE:this.parent.reset(this);break;case h.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek()}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(g.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,y.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(v,x,b){if(void 0===v&&(v=0),void 0===x&&(x=16.6),void 0===b&&(b=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;b||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(g.TWEEN_ACTIVE,"onActive");var T=this.paused;if(this.paused=!1,v>0){for(var _=Math.floor(v/x),A=v-_*x,M=0;M<_;M++)this.update(x);A>0&&this.update(A)}return this.paused=T,this.isSeeking=!1,this},initTweenData:function(v){void 0===v&&(v=!1),this.duration=0,this.startDelay=c.MAX_SAFE_INTEGER;for(var x=this.data,b=0;b<this.totalData;b++)x[b].reset(v);this.duration=Math.max(this.duration,.01);var T=this.duration,_=this.completeDelay,A=this.loopCounter;this.totalDuration=A>0?T+_+(T+this.loopDelay)*A:T+_},reset:function(v){return void 0===v&&(v=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,-1===this.loop&&(this.isInfinite=!0,this.loopCounter=h.MAX),v||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(g.TWEEN_ACTIVE,"onActive")),this},update:function(v){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(v*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(v),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(v),!1;this.hasStarted||(this.startDelay-=v,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(g.TWEEN_START,"onStart"),v=0));var x=!1;if(this.isActive())for(var b=this.data,T=0;T<this.totalData;T++)b[T].update(v)&&(x=!0);this.elapsed+=v,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=v,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),x||this.nextState();var _=this.isPendingRemove();return _&&this.persist&&(this.setFinishedState(),_=!1),_},forward:function(v){return this.update(v),this},rewind:function(v){return this.update(-v),this},dispatchEvent:function(v,x){if(!this.isSeeking){this.emit(v,this,this.targets);var b=this.callbacks[x];b&&b.func.apply(this.callbackScope,[this,this.targets].concat(b.params))}},destroy:function(){y.prototype.destroy.call(this),this.targets=null}});d.register("tween",function(v){return this.scene.sys.tweens.add(v)}),f.register("tween",function(v){return this.scene.sys.tweens.create(v)}),S.exports=m},43960:(S,P,a)=>{var y=a(72905),C=a(70402),g=a(83419),f=a(842),d=a(44603),c=a(39429),h=a(86353),p=new g({Extends:C,initialize:function(m){C.call(this,m),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=-1===this.loop?h.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(u){var m=this.parent.create(u);Array.isArray(m)||(m=[m]);for(var v=this.data,x=0;x<m.length;x++){var b=m[x];b.parent=this,v.push(b.reset())}return this.totalData=v.length,this},remove:function(u){return y(this.data,u),u.setRemovedState(),u===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(u){for(var m=this.data,v=0;v<this.totalData;v++)if(m[v].hasTarget(u))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(u){return u.seek(),u.setActiveState(),this},makeActive:function(u){return u.reset(),u.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var u=this.data,m=this.totalData,v=0;v<m;v++)u[v].reset(!1);this.setCurrentTween(0)},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;u*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(u):this.isCompleteDelayed()?this.updateCompleteDelay(u):this.isStartDelayed()&&(u=this.updateStartCountdown(u));var m=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(u)&&this.nextTween()&&this.nextState(),(m=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),m=!1)),m},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData||(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(u){this.currentIndex=u,this.currentTween=this.data[u],this.currentTween.setActiveState()},dispatchEvent:function(u,m){this.emit(u,this);var v=this.callbacks[m];v&&v.func.apply(this.callbackScope,[this].concat(v.params))},destroy:function(){C.prototype.destroy.call(this),this.currentTween=null}});c.register("tweenchain",function(u){return this.scene.sys.tweens.chain(u)}),d.register("tweenchain",function(u){return this.scene.sys.tweens.create(u)}),S.exports=p},48177:(S,P,a)=>{var y=a(95042),C=a(45319),g=a(83419),f=a(842),d=new g({Extends:y,initialize:function(h,p,u,m,v,x,b,T,_,A,M,I,R,F,N,V,B){y.call(this,h,p,T,_,A,M,I,R,F,N),this.key=u,this.getActiveValue=x,this.getEndValue=m,this.getStartValue=v,this.ease=b,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=V,this.interpolationData=B},reset:function(c){y.prototype.reset.call(this);var h=this.tween.targets[this.targetIndex],p=this.key;c&&(h[p]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(h[p]=this.getActiveValue(h,p,0))},update:function(c){var h=this.tween,p=h.totalTargets,u=this.targetIndex,m=h.targets[u],v=this.key;if(!m)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=c,this.elapsed<=0&&(this.elapsed=0,c=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(f.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(m,v,m[v],u,p,h),this.end=this.getEndValue(m,v,this.start,u,p,h),this.current=this.start,m[v]=this.start,this.setPlayingForwardState(),!0;var x=this.isPlayingForward(),b=this.isPlayingBackward();if(x||b){var T=this.elapsed,_=this.duration,A=0,M=!1;(T+=c)>=_?(A=T-_,T=_,M=!0):T<0&&(T=0);var I=C(T/_,0,1);this.elapsed=T,this.progress=I,this.previous=this.current,x||(I=1-I);var R=this.ease(I);this.current=this.interpolation?this.interpolation(this.interpolationData,R):this.start+(this.end-this.start)*R,m[v]=this.current,M&&(x?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(A):this.setStateFromStart(A)),this.dispatchEvent(f.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(c,h){var p=this.tween;if(!p.isSeeking){var u=p.targets[this.targetIndex],m=this.key,v=this.current,x=this.previous;p.emit(c,p,m,u,v,x);var b=p.callbacks[h];b&&b.func.apply(p.callbackScope,[p,u,m,v,x].concat(b.params))}},destroy:function(){y.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});S.exports=d},42220:(S,P,a)=>{var y=a(95042),C=a(45319),g=a(83419),f=a(842),d=new g({Extends:y,initialize:function(h,p,u,m,v,x,b,T,_,A,M){y.call(this,h,p,v,x,!1,b,T,_,A,M),this.key="texture",this.startTexture=null,this.endTexture=u,this.startFrame=null,this.endFrame=m,this.yoyo=0!==T},reset:function(c){y.prototype.reset.call(this);var h=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=h.texture.key,this.startFrame=h.frame.name),c&&h.setTexture(this.startTexture,this.startFrame)},update:function(c){var u=this.tween.targets[this.targetIndex];if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=c,this.elapsed<=0&&(this.elapsed=0,c=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(f.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&u.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),v=this.isPlayingBackward();if(m||v){var x=this.elapsed,b=this.duration,T=0,_=!1;(x+=c)>=b?(T=x-b,x=b,_=!0):x<0&&(x=0);var A=C(x/b,0,1);this.elapsed=x,this.progress=A,_&&(m?(u.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(u.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(T))),this.dispatchEvent(f.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(c,h){var p=this.tween;if(!p.isSeeking){var u=p.targets[this.targetIndex],m=this.key;p.emit(c,p,m,u);var v=p.callbacks[h];v&&v.func.apply(p.callbackScope,[p,u,m].concat(v.params))}},destroy:function(){y.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});S.exports=d},86353:S=>{S.exports={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999}},83419:S=>{function a(d,c,h){var p=h?d[c]:Object.getOwnPropertyDescriptor(d,c);return!h&&p.value&&"object"==typeof p.value&&(p=p.value),!(!p||!function P(d){return!!d.get&&"function"==typeof d.get||!!d.set&&"function"==typeof d.set}(p))&&(typeof p.enumerable>"u"&&(p.enumerable=!0),typeof p.configurable>"u"&&(p.configurable=!0),p)}function y(d,c){var h=Object.getOwnPropertyDescriptor(d,c);return!!h&&(h.value&&"object"==typeof h.value&&(h=h.value),!1===h.configurable)}function C(d,c,h,p){for(var u in c)if(c.hasOwnProperty(u)){var m=a(c,u,h);if(!1!==m){if(y((p||d).prototype,u)){if(f.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(d.prototype,u,m)}else d.prototype[u]=c[u]}}function g(d,c){if(c){Array.isArray(c)||(c=[c]);for(var h=0;h<c.length;h++)C(d,c[h].prototype||c[h])}}function f(d){var c,h;if(d||(d={}),d.initialize){if("function"!=typeof d.initialize)throw new Error("initialize must be a function");c=d.initialize,delete d.initialize}else if(d.Extends){var p=d.Extends;c=function(){p.apply(this,arguments)}}else c=function(){};d.Extends?(c.prototype=Object.create(d.Extends.prototype),c.prototype.constructor=c,h=d.Extends,delete d.Extends):c.prototype.constructor=c;var u=null;return d.Mixins&&(u=d.Mixins,delete d.Mixins),g(c,u),C(c,d,!0,h),c}f.extend=C,f.mixin=g,f.ignoreFinals=!1,S.exports=f},29747:S=>{S.exports=function(){}},20242:S=>{S.exports=function(){return null}},71146:S=>{S.exports=function(a,y,C,g,f){if(void 0===f&&(f=a),C>0){var d=C-a.length;if(d<=0)return null}if(!Array.isArray(y))return-1===a.indexOf(y)?(a.push(y),g&&g.call(f,y),y):null;for(var c=y.length-1;c>=0;)-1!==a.indexOf(y[c])&&y.splice(c,1),c--;if(0===(c=y.length))return null;C>0&&c>d&&(y.splice(d),c=d);for(var h=0;h<c;h++){var p=y[h];a.push(p),g&&g.call(f,p)}return y}},51067:S=>{S.exports=function(a,y,C,g,f,d){if(void 0===C&&(C=0),void 0===d&&(d=a),g>0){var c=g-a.length;if(c<=0)return null}if(!Array.isArray(y))return-1===a.indexOf(y)?(a.splice(C,0,y),f&&f.call(d,y),y):null;for(var h=y.length-1;h>=0;)-1!==a.indexOf(y[h])&&y.pop(),h--;if(0===(h=y.length))return null;g>0&&h>c&&(y.splice(c),h=c);for(var p=h-1;p>=0;p--){var u=y[p];a.splice(C,0,u),f&&f.call(d,u)}return y}},66905:S=>{S.exports=function(a,y){var C=a.indexOf(y);return-1!==C&&C<a.length&&(a.splice(C,1),a.push(y)),y}},21612:(S,P,a)=>{var y=a(82011);S.exports=function(g,f,d,c,h){void 0===c&&(c=0),void 0===h&&(h=g.length);var p=0;if(y(g,c,h))for(var u=c;u<h;u++)g[u][f]===d&&p++;return p}},95428:S=>{S.exports=function(a,y,C){var g,f=[null];for(g=3;g<arguments.length;g++)f.push(arguments[g]);for(g=0;g<a.length;g++)f[0]=a[g],y.apply(C,f);return a}},36914:(S,P,a)=>{var y=a(82011);S.exports=function(g,f,d,c,h){if(void 0===c&&(c=0),void 0===h&&(h=g.length),y(g,c,h)){var p,u=[null];for(p=5;p<arguments.length;p++)u.push(arguments[p]);for(p=c;p<h;p++)u[0]=g[p],f.apply(d,u)}return g}},81957:S=>{S.exports=function(a,y,C){if(!y.length)return NaN;if(1===y.length)return y[0];var f,d,g=1;if(C){if(a<y[0][C])return y[0];for(;y[g][C]<a;)g++}else for(;y[g]<a;)g++;return g>y.length&&(g=y.length),C?(d=y[g][C])-a<=a-(f=y[g-1][C])?y[g]:y[g-1]:(d=y[g])-a<=a-(f=y[g-1])?d:f}},43491:S=>{var P=function(a,y){void 0===y&&(y=[]);for(var C=0;C<a.length;C++)Array.isArray(a[C])?P(a[C],y):y.push(a[C]);return y};S.exports=P},46710:(S,P,a)=>{var y=a(82011);S.exports=function(g,f,d,c,h){void 0===c&&(c=0),void 0===h&&(h=g.length);var p=[];if(y(g,c,h))for(var u=c;u<h;u++){var m=g[u];(!f||f&&void 0===d&&m.hasOwnProperty(f)||f&&void 0!==d&&m[f]===d)&&p.push(m)}return p}},58731:(S,P,a)=>{var y=a(82011);S.exports=function(g,f,d,c,h){if(void 0===c&&(c=0),void 0===h&&(h=g.length),y(g,c,h))for(var p=c;p<h;p++){var u=g[p];if(!f||f&&void 0===d&&u.hasOwnProperty(f)||f&&void 0!==d&&u[f]===d)return u}return null}},26546:S=>{S.exports=function(a,y,C){void 0===y&&(y=0),void 0===C&&(C=a.length);var g=y+Math.floor(Math.random()*C);return void 0===a[g]?null:a[g]}},85835:S=>{S.exports=function(a,y,C){if(y===C)return a;var g=a.indexOf(y),f=a.indexOf(C);if(g<0||f<0)throw new Error("Supplied items must be elements of the same array");return g>f||(a.splice(g,1),f=a.indexOf(C),a.splice(f+1,0,y)),a}},83371:S=>{S.exports=function(a,y,C){if(y===C)return a;var g=a.indexOf(y),f=a.indexOf(C);if(g<0||f<0)throw new Error("Supplied items must be elements of the same array");return g<f||(a.splice(g,1),0===f?a.unshift(y):a.splice(f,0,y)),a}},70864:S=>{S.exports=function(a,y){var C=a.indexOf(y);if(C>0){var g=a[C-1],f=a.indexOf(g);a[C]=g,a[f]=y}return a}},69693:S=>{S.exports=function(a,y,C){var g=a.indexOf(y);if(-1===g||C<0||C>=a.length)throw new Error("Supplied index out of bounds");return g!==C&&(a.splice(g,1),a.splice(C,0,y)),y}},40853:S=>{S.exports=function(a,y){var C=a.indexOf(y);if(-1!==C&&C<a.length-1){var g=a[C+1],f=a.indexOf(g);a[C]=g,a[f]=y}return a}},20283:S=>{S.exports=function(a,y,C,g){var d,f=[],c=!1;if((C||g)&&(c=!0,C||(C=""),g||(g="")),y<a)for(d=a;d>=y;d--)f.push(c?C+d.toString()+g:d);else for(d=a;d<=y;d++)f.push(c?C+d.toString()+g:d);return f}},593:(S,P,a)=>{var y=a(2284);S.exports=function(g,f,d){void 0===g&&(g=0),void 0===f&&(f=null),void 0===d&&(d=1),null===f&&(f=g,g=0);for(var c=[],h=Math.max(y((f-g)/(d||1)),0),p=0;p<h;p++)c.push(g),g+=d;return c}},43886:S=>{function P(C,g,f){var d=C[g];C[g]=C[f],C[f]=d}function a(C,g){return C<g?-1:C>g?1:0}var y=function(C,g,f,d,c){for(void 0===f&&(f=0),void 0===d&&(d=C.length-1),void 0===c&&(c=a);d>f;){if(d-f>600){var h=d-f+1,p=g-f+1,u=Math.log(h),m=.5*Math.exp(2*u/3),v=.5*Math.sqrt(u*m*(h-m)/h)*(p-h/2<0?-1:1),x=Math.max(f,Math.floor(g-p*m/h+v)),b=Math.min(d,Math.floor(g+(h-p)*m/h+v));y(C,g,x,b,c)}var T=C[g],_=f,A=d;for(P(C,f,g),c(C[d],T)>0&&P(C,f,d);_<A;){for(P(C,_,A),_++,A--;c(C[_],T)<0;)_++;for(;c(C[A],T)>0;)A--}0===c(C[f],T)?P(C,f,A):P(C,++A,d),A<=g&&(f=A+1),g<=A&&(d=A-1)}};S.exports=y},88492:(S,P,a)=>{var y=a(35154),C=a(33680),g=function(d,c,h){for(var p=[],u=0;u<d.length;u++)for(var m=0;m<c.length;m++)for(var v=0;v<h;v++)p.push({a:d[u],b:c[m]});return p};S.exports=function(d,c,h){var p=y(h,"max",0),u=y(h,"qty",1),m=y(h,"random",!1),v=y(h,"randomB",!1),x=y(h,"repeat",0),b=y(h,"yoyo",!1),T=[];if(v&&C(c),-1===x)if(0===p)x=0;else{var _=d.length*c.length*u;b&&(_*=2),x=Math.ceil(p/_)}for(var A=0;A<=x;A++){var M=g(d,c,u);m&&C(M),T=T.concat(M),b&&(M.reverse(),T=T.concat(M))}return p&&T.splice(p),T}},72905:(S,P,a)=>{var y=a(19133);S.exports=function(g,f,d,c){var h;if(void 0===c&&(c=g),!Array.isArray(f))return-1!==(h=g.indexOf(f))?(y(g,h),d&&d.call(c,f),f):null;for(var p=f.length-1,u=[];p>=0;){var m=f[p];-1!==(h=g.indexOf(m))&&(y(g,h),u.push(m),d&&d.call(c,m)),p--}return u}},60248:(S,P,a)=>{var y=a(19133);S.exports=function(g,f,d,c){if(void 0===c&&(c=g),f<0||f>g.length-1)throw new Error("Index out of bounds");var h=y(g,f);return d&&d.call(c,h),h}},81409:(S,P,a)=>{var y=a(82011);S.exports=function(g,f,d,c,h){if(void 0===f&&(f=0),void 0===d&&(d=g.length),void 0===h&&(h=g),y(g,f,d)){var u=g.splice(f,d-f);if(c)for(var m=0;m<u.length;m++)c.call(h,u[m]);return u}return[]}},31856:(S,P,a)=>{var y=a(19133);S.exports=function(g,f,d){void 0===f&&(f=0),void 0===d&&(d=g.length);var c=f+Math.floor(Math.random()*d);return y(g,c)}},42169:S=>{S.exports=function(a,y,C){var g=a.indexOf(y),f=a.indexOf(C);return-1!==g&&-1===f&&(a[g]=C,!0)}},86003:S=>{S.exports=function(a,y){void 0===y&&(y=1);for(var C=null,g=0;g<y;g++)C=a.shift(),a.push(C);return C}},49498:S=>{S.exports=function(a,y){void 0===y&&(y=1);for(var C=null,g=0;g<y;g++)C=a.pop(),a.unshift(C);return C}},82011:S=>{S.exports=function(a,y,C,g){var f=a.length;if(y<0||y>f||y>=C||C>f){if(g)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},89545:S=>{S.exports=function(a,y){var C=a.indexOf(y);return-1!==C&&C>0&&(a.splice(C,1),a.unshift(y)),y}},17810:(S,P,a)=>{var y=a(82011);S.exports=function(g,f,d,c,h){if(void 0===c&&(c=0),void 0===h&&(h=g.length),y(g,c,h))for(var p=c;p<h;p++){var u=g[p];u.hasOwnProperty(f)&&(u[f]=d)}return g}},33680:S=>{S.exports=function(a){for(var y=a.length-1;y>0;y--){var C=Math.floor(Math.random()*(y+1)),g=a[y];a[y]=a[C],a[C]=g}return a}},90126:S=>{S.exports=function(a){var y=/\D/g;return a.sort(function(C,g){return parseInt(C.replace(y,""),10)-parseInt(g.replace(y,""),10)}),a}},19133:S=>{S.exports=function(a,y){if(!(y>=a.length)){for(var C=a.length-1,g=a[y],f=y;f<C;f++)a[f]=a[f+1];return a.length=C,g}}},19186:(S,P,a)=>{var y=a(82264);function C(c,h){return String(c).localeCompare(h)}function f(c,h,p,u){var b,T,_,A,M,m=c.length,v=0,x=2*p;for(b=0;b<m;b+=x)for(_=(T=b+p)+p,T>m&&(T=m),_>m&&(_=m),A=b,M=T;;)if(A<T&&M<_)h(c[A],c[M])<=0?u[v++]=c[A++]:u[v++]=c[M++];else if(A<T)u[v++]=c[A++];else{if(!(M<_))break;u[v++]=c[M++]}}S.exports=function(c,h){if(void 0===h&&(h=C),!c||c.length<2)return c;if(y.features.stableSort)return c.sort(h);var p=function g(c,h){var p=c.length;if(p<=1)return c;for(var u=new Array(p),m=1;m<p;m*=2){f(c,h,m,u);var v=c;c=u,u=v}return c}(c,h);return p!==c&&f(p,null,c.length,c),c}},25630:S=>{S.exports=function(a,y,C){if(y===C)return a;var g=a.indexOf(y),f=a.indexOf(C);if(g<0||f<0)throw new Error("Supplied items must be elements of the same array");return a[g]=C,a[f]=y,a}},37105:(S,P,a)=>{S.exports={Matrix:a(54915),Add:a(71146),AddAt:a(51067),BringToTop:a(66905),CountAllMatching:a(21612),Each:a(95428),EachInRange:a(36914),FindClosestInSorted:a(81957),Flatten:a(43491),GetAll:a(46710),GetFirst:a(58731),GetRandom:a(26546),MoveDown:a(70864),MoveTo:a(69693),MoveUp:a(40853),MoveAbove:a(85835),MoveBelow:a(83371),NumberArray:a(20283),NumberArrayStep:a(593),QuickSelect:a(43886),Range:a(88492),Remove:a(72905),RemoveAt:a(60248),RemoveBetween:a(81409),RemoveRandomElement:a(31856),Replace:a(42169),RotateLeft:a(86003),RotateRight:a(49498),SafeRange:a(82011),SendToBack:a(89545),SetAll:a(17810),Shuffle:a(33680),SortByDigits:a(90126),SpliceOne:a(19133),StableSort:a(19186),Swap:a(25630)}},86922:S=>{S.exports=function(a){if(!Array.isArray(a)||!Array.isArray(a[0]))return!1;for(var y=a[0].length,C=1;C<a.length;C++)if(a[C].length!==y)return!1;return!0}},63362:(S,P,a)=>{var y=a(41836),C=a(86922);S.exports=function(f){var d="";if(!C(f))return d;for(var c=0;c<f.length;c++){for(var h=0;h<f[c].length;h++){var p=f[c][h].toString();d+="undefined"!==p?y(p,2):"?",h<f[c].length-1&&(d+=" |")}if(c<f.length-1){d+="\n";for(var u=0;u<f[c].length;u++)d+="---",u<f[c].length-1&&(d+="+");d+="\n"}}return d}},92598:S=>{S.exports=function(a){return a.reverse()}},21224:S=>{S.exports=function(a){for(var y=0;y<a.length;y++)a[y].reverse();return a}},98717:(S,P,a)=>{var y=a(37829);S.exports=function(g){return y(g,180)}},44657:(S,P,a)=>{var y=a(37829);S.exports=function(g,f){void 0===f&&(f=1);for(var d=0;d<f;d++)g=y(g,90);return g}},37829:(S,P,a)=>{var y=a(86922),C=a(2429);S.exports=function(f,d){if(void 0===d&&(d=90),!y(f))return null;if("string"!=typeof d&&(d=(d%360+360)%360),90===d||-270===d||"rotateLeft"===d)(f=C(f)).reverse();else if(-90===d||270===d||"rotateRight"===d)f.reverse(),f=C(f);else if(180===Math.abs(d)||"rotate180"===d){for(var c=0;c<f.length;c++)f[c].reverse();f.reverse()}return f}},92632:(S,P,a)=>{var y=a(37829);S.exports=function(g,f){void 0===f&&(f=1);for(var d=0;d<f;d++)g=y(g,-90);return g}},69512:(S,P,a)=>{var y=a(86003),C=a(49498);S.exports=function(f,d,c){if(void 0===d&&(d=0),void 0===c&&(c=0),0!==c&&(c<0?y(f,Math.abs(c)):C(f,c)),0!==d)for(var h=0;h<f.length;h++){var p=f[h];d<0?y(p,Math.abs(d)):C(p,d)}return f}},2429:S=>{S.exports=function(a){for(var y=a.length,C=a[0].length,g=new Array(C),f=0;f<C;f++){g[f]=new Array(y);for(var d=y-1;d>-1;d--)g[f][d]=a[d][f]}return g}},54915:(S,P,a)=>{S.exports={CheckMatrix:a(86922),MatrixToString:a(63362),ReverseColumns:a(92598),ReverseRows:a(21224),Rotate180:a(98717),RotateLeft:a(44657),RotateMatrix:a(37829),RotateRight:a(92632),Translate:a(69512),TransposeMatrix:a(2429)}},71334:S=>{var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";S.exports=function(y,C){for(var g=new Uint8Array(y),f=g.length,d=C?"data:"+C+";base64,":"",c=0;c<f;c+=3)d+=P[g[c]>>2],d+=P[(3&g[c])<<4|g[c+1]>>4],d+=P[(15&g[c+1])<<2|g[c+2]>>6],d+=P[63&g[c+2]];return f%3==2?d=d.substring(0,d.length-1)+"=":f%3==1&&(d=d.substring(0,d.length-2)+"=="),d}},53134:S=>{for(var a=new Uint8Array(256),y=0;y<64;y++)a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(y)]=y;S.exports=function(g){var h,p,u,m,f=(g=g.substr(g.indexOf(",")+1)).length,d=.75*f,c=0;"="===g[f-1]&&(d--,"="===g[f-2]&&d--);for(var v=new ArrayBuffer(d),x=new Uint8Array(v),b=0;b<f;b+=4)h=a[g.charCodeAt(b)],p=a[g.charCodeAt(b+1)],u=a[g.charCodeAt(b+2)],m=a[g.charCodeAt(b+3)],x[c++]=h<<2|p>>4,x[c++]=(15&p)<<4|u>>2,x[c++]=(3&u)<<6|63&m;return v}},65839:(S,P,a)=>{S.exports={ArrayBufferToBase64:a(71334),Base64ToArrayBuffer:a(53134)}},91799:(S,P,a)=>{S.exports={Array:a(37105),Base64:a(65839),Objects:a(1183),String:a(31749),NOOP:a(29747),NULL:a(20242)}},41786:S=>{S.exports=function(a){var y={};for(var C in a)y[C]=Array.isArray(a[C])?a[C].slice(0):a[C];return y}},62644:S=>{var P=function(a){var y,g;if("object"!=typeof a||null===a)return a;for(g in y=Array.isArray(a)?[]:{},a)y[g]=P(a[g]);return y};S.exports=P},79291:(S,P,a)=>{var y=a(41212),C=function(){var g,f,d,c,h,p,u=arguments[0]||{},m=1,v=arguments.length,x=!1;for("boolean"==typeof u&&(x=u,u=arguments[1]||{},m=2),v===m&&(u=this,--m);m<v;m++)if(null!=(g=arguments[m]))for(f in g)d=u[f],u!==(c=g[f])&&(x&&c&&(y(c)||(h=Array.isArray(c)))?(h?(h=!1,p=d&&Array.isArray(d)?d:[]):p=d&&y(d)?d:{},u[f]=C(x,p,c)):void 0!==c&&(u[f]=c));return u};S.exports=C},23568:(S,P,a)=>{var y=a(75508),C=a(35154);S.exports=function(f,d,c){var h=C(f,d,null);if(null===h)return c;if(Array.isArray(h))return y.RND.pick(h);if("object"==typeof h){if(h.hasOwnProperty("randInt"))return y.RND.integerInRange(h.randInt[0],h.randInt[1]);if(h.hasOwnProperty("randFloat"))return y.RND.realInRange(h.randFloat[0],h.randFloat[1])}else if("function"==typeof h)return h(d);return h}},95540:S=>{S.exports=function(a,y,C){var g=typeof a;return a&&"number"!==g&&"string"!==g&&a.hasOwnProperty(y)&&void 0!==a[y]?a[y]:C}},82840:(S,P,a)=>{var y=a(35154),C=a(45319);S.exports=function(f,d,c,h,p){void 0===p&&(p=c);var u=y(f,d,p);return C(u,c,h)}},35154:S=>{S.exports=function(a,y,C,g){if(!a&&!g||"number"==typeof a)return C;if(a&&a.hasOwnProperty(y))return a[y];if(g&&g.hasOwnProperty(y))return g[y];if(-1!==y.indexOf(".")){for(var f=y.split("."),d=a,c=g,h=C,p=C,u=!0,m=!0,v=0;v<f.length;v++)d&&d.hasOwnProperty(f[v])?(h=d[f[v]],d=d[f[v]]):u=!1,c&&c.hasOwnProperty(f[v])?(p=c[f[v]],c=c[f[v]]):m=!1;return u?h:m?p:C}return C}},69036:S=>{S.exports=function(a,y){for(var C=0;C<y.length;C++)if(!a.hasOwnProperty(y[C]))return!1;return!0}},1985:S=>{S.exports=function(a,y){for(var C=0;C<y.length;C++)if(a.hasOwnProperty(y[C]))return!0;return!1}},97022:S=>{S.exports=function(a,y){return a.hasOwnProperty(y)}},41212:S=>{S.exports=function(a){if(!a||"object"!=typeof a||a.nodeType||a===a.window)return!1;try{if(a.constructor&&!{}.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0}},46975:(S,P,a)=>{var y=a(41786);S.exports=function(g,f){var d=y(g);for(var c in f)d.hasOwnProperty(c)||(d[c]=f[c]);return d}},269:(S,P,a)=>{var y=a(41786);S.exports=function(g,f){var d=y(g);for(var c in f)d.hasOwnProperty(c)&&(d[c]=f[c]);return d}},18254:(S,P,a)=>{var y=a(97022);S.exports=function(g,f){for(var d={},c=0;c<f.length;c++){var h=f[c];y(g,h)&&(d[h]=g[h])}return d}},61622:S=>{S.exports=function(a,y,C){if(!a||"number"==typeof a)return!1;if(a.hasOwnProperty(y))return a[y]=C,!0;if(-1!==y.indexOf(".")){for(var g=y.split("."),f=a,d=a,c=0;c<g.length;c++){if(!f.hasOwnProperty(g[c]))return!1;d=f,f=f[g[c]]}return d[g[g.length-1]]=C,!0}return!1}},1183:(S,P,a)=>{S.exports={Clone:a(41786),DeepCopy:a(62644),Extend:a(79291),GetAdvancedValue:a(23568),GetFastValue:a(95540),GetMinMaxValue:a(82840),GetValue:a(35154),HasAll:a(69036),HasAny:a(1985),HasValue:a(97022),IsPlainObject:a(41212),Merge:a(46975),MergeRight:a(269),Pick:a(18254),SetValue:a(61622)}},27902:S=>{S.exports=function(a,y){return a.replace(/%([0-9]+)/g,function(C,g){return y[Number(g)-1]})}},41836:S=>{S.exports=function(a,y,C,g){void 0===y&&(y=0),void 0===C&&(C=" "),void 0===g&&(g=3);var f=0;if(y+1>=(a=a.toString()).length)switch(g){case 1:a=new Array(y+1-a.length).join(C)+a;break;case 3:var d=Math.ceil((f=y-a.length)/2);a=new Array(f-d+1).join(C)+a+new Array(d+1).join(C);break;default:a+=new Array(y+1-a.length).join(C)}return a}},33628:S=>{S.exports=function(a,y){return 0===y?a.slice(1):a.slice(0,y)+a.slice(y+1)}},27671:S=>{S.exports=function(a){return a.split("").reverse().join("")}},45650:S=>{S.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var y=16*Math.random()|0;return("x"===a?y:3&y|8).toString(16)})}},35355:S=>{S.exports=function(a){return a&&a[0].toUpperCase()+a.slice(1)}},31749:(S,P,a)=>{S.exports={Format:a(27902),Pad:a(41836),RemoveAt:a(33628),Reverse:a(27671),UppercaseFirst:a(35355),UUID:a(45650)}}},Mt={};function jt(S){var P=Mt[S];if(void 0!==P)return P.exports;var a=Mt[S]={exports:{}};return de[S](a,a.exports,jt),a.exports}return jt.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),jt(85454)})(),Wt.exports=jt()},6293:Wt=>{"use strict";Wt.exports=JSON.parse('{"a":["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"]}')}},Wt=>{Wt(Wt.s=7652)}]);